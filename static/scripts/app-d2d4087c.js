(function(){"use strict";var e;e=angular.module("skykitProvisioning",["ngAnimate","ngCookies","ngSanitize","restangular","ui.router","hSweetAlert","ui.bootstrap","ncy-angular-breadcrumb","directive.g+signin","ngProgress","datetimepicker","ngMaterial","ngclipboard"])}).call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("AppController",["$mdSidenav","$state","$cookies",function(e,t,n){var i;return i=this,i.identity={},i.initialize=function(){return i.identity={key:n.get("userKey"),email:n.get("userEmail"),distributorKey:n.get("currentDistributorKey"),distributorName:n.get("currentDistributorName")}},i.toggleSidenav=function(){return e("left").toggle()},i.goTo=function(n,i){return t.go(n,{id:i}),e("left").isOpen()?e("left").close():void 0},i}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("WelcomeCtrl",["VersionsService",function(e){var t;return t=this,t.version_data=[],t.initialize=function(){var n;return n=e.getVersions(),n.then(function(e){return t.version_data=e})},t}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("TenantDetailsCtrl",["$log","$stateParams","TenantsService","DomainsService","DevicesService","DistributorsService","$state","sweet","ProgressBarService","$cookies","$mdDialog",function(e,t,n,i,a,r,o,s,l,d,c){var m,u,v;return this.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},this.selectedDomain=void 0,this.currentTenantDisplays=[],this.currentTenantUnmanagedDisplays=[],this.distributorDomains=[],this.editMode=!!t.tenantKey,this.editMode&&(u=n.getTenantByKey(t.tenantKey),u.then(function(e){return function(t){return e.currentTenant=t,e.onSuccessResolvingTenant(t)}}(this)),m=a.getDevicesByTenant(t.tenantKey),m.then(function(e){return function(t){return e.currentTenantDisplays=t.objects}}(this)),v=a.getUnmanagedDevicesByTenant(t.tenantKey),v.then(function(e){return function(t){return e.currentTenantUnmanagedDisplays=t.objects}}(this))),this.initialize=function(){var e;return this.currentDistributorKey=d.get("currentDistributorKey"),e=r.getDomainsByKey(this.currentDistributorKey),e.then(function(e){return function(t){return e.distributorDomains=t}}(this))},this.onSuccessResolvingTenant=function(e){return function(t){var n;return n=i.getDomainByKey(t.domain_key),n.then(function(t){return e.selectedDomain=t})}}(this),this.onClickSaveButton=function(){var e;return l.start(),this.currentTenant.domain_key=this.selectedDomain.key,e=n.save(this.currentTenant),e.then(this.onSuccessTenantSave,this.onFailureTenantSave)},this.onSuccessTenantSave=function(){return l.complete(),o.go("tenants")},this.onFailureTenantSave=function(t){return l.complete(),409===t.status?s.show("Oops...","Tenant code unavailable. Please modify tenant name to generate a unique tenant code.","error"):(e.error(t),s.show("Oops...","Unable to save the tenant.","error"))},this.editItem=function(e){return o.go("editDevice",{deviceKey:e.key,tenantKey:t.tenantKey})},this.autoGenerateTenantCode=function(){var e;return this.currentTenant.key?void 0:(e="",this.currentTenant.name&&(e=this.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),this.currentTenant.tenant_code=e)},this.showDeviceDetails=function(e,t){var n;return n=e.apiKey,c.show(c.alert().title("Device Details").textContent("API key: "+n).ariaLabel("Device details").ok("Close").targetEvent(t))},this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("TenantsCtrl",["$state","$log","TenantsService","ProgressBarService","sweet",function(e,t,n,i,a){return this.tenants=[],this.initialize=function(){var e;return i.start(),e=n.fetchAllTenants(),e.then(function(e){return function(t){e.getFetchSuccess(t)}}(this),function(e){return function(t){e.getFetchFailure(t)}}(this))},this.getFetchSuccess=function(e){return this.tenants=e,i.complete()},this.getFetchFailure=function(e){var t;return i.complete(),t="Unable to fetch tenants. Error: "+e.status+" "+e.statusText+".",a.show("Oops...",t,"error")},this.editItem=function(t){return e.go("tenantDetails",{tenantKey:t.key})},this.deleteItem=function(e){return function(t){var i;return i=function(){var i;return i=n["delete"](t),i.then(function(){return e.initialize()})},a.show({title:"Are you sure?",text:"This will permanently remove the tenant from the system.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the tenant!",closeOnConfirm:!0},i)}}(this),this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("TenantUnmanagedDevicesCtrl",["$scope","$stateParams","TenantsService","DevicesService","$state",function(e,t,n,i,a){var r,o;return this.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},this.tenantDevices=[],this.editMode=!!t.tenantKey,this.editMode&&(o=n.getTenantByKey(t.tenantKey),o.then(function(e){return function(t){return e.currentTenant=t}}(this)),r=i.getUnmanagedDevicesByTenant(t.tenantKey),r.then(function(e){return function(t){return e.tenantDevices=t}}(this))),e.tabIndex=2,e.$watch("tabIndex",function(e){if(void 0!==e)switch(e){case 0:return a.go("tenantDetails",{tenantKey:t.tenantKey});case 1:return a.go("tenantManagedDevices",{tenantKey:t.tenantKey});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:t.tenantKey});case 3:return a.go("tenantLocations",{tenantKey:t.tenantKey})}}),this.editItem=function(e){return a.go("editDevice",{deviceKey:e.key,tenantKey:t.tenantKey,fromDevices:!1})},this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("TenantManagedDevicesCtrl",["$scope","$stateParams","TenantsService","DevicesService","$state",function(e,t,n,i,a){var r,o;return this.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},this.tenantDevices=[],this.editMode=!!t.tenantKey,this.editMode&&(o=n.getTenantByKey(t.tenantKey),o.then(function(e){return function(t){return e.currentTenant=t}}(this)),r=i.getDevicesByTenant(t.tenantKey),r.then(function(e){return function(t){return e.tenantDevices=t}}(this))),e.tabIndex=1,e.$watch("tabIndex",function(e){if(void 0!==e)switch(e){case 0:return a.go("tenantDetails",{tenantKey:t.tenantKey});case 1:return a.go("tenantManagedDevices",{tenantKey:t.tenantKey});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:t.tenantKey});case 3:return a.go("tenantLocations",{tenantKey:t.tenantKey})}}),this.editItem=function(e){return a.go("editDevice",{deviceKey:e.key,tenantKey:t.tenantKey,fromDevices:!1})},this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("TenantLocationsCtrl",["$scope","$stateParams","TenantsService","LocationsService","$state",function(e,t,n,i,a){var r;return r=t.tenantKey,this.locations=[],this.currentTenant=void 0,e.tabIndex=3,e.$watch("tabIndex",function(e){if(void 0!==e)switch(e){case 0:return a.go("tenantDetails",{tenantKey:r});case 1:return a.go("tenantManagedDevices",{tenantKey:r});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:r});case 3:return a.go("tenantLocations",{tenantKey:r})}}),this.initialize=function(){var e,t;return t=n.getTenantByKey(r),t.then(function(e){return function(t){return e.currentTenant=t}}(this)),e=i.getLocationsByTenantKey(r),e.then(function(e){return function(t){return e.locations=t}}(this))},this.editItem=function(e){return a.go("editLocation",{locationKey:e.key})},this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("TenantLocationCtrl",["$stateParams","TenantsService","LocationsService","$state","sweet","ProgressBarService",function(e,t,n,i,a,r){var o;return this.location={key:void 0},this.tenantKey=e.tenantKey,this.selectedTimezone="America/Chicago",this.editMode=!!e.locationKey,this.editMode&&(o=n.getLocationByKey(e.locationKey),o.then(function(e){return function(t){return e.location=t,e.selectedTimezone=t.timezone,e.tenantKey=t.tenantKey,e.locationName=t.customerLocationName,e.fetchTenantName(e.tenantKey)}}(this))),this.timezones=[],this.initialize=function(){var e;return e=n.getTimezones(),e.then(function(e){return function(t){return e.timezones=t}}(this)),this.editMode?void 0:(this.fetchTenantName(this.tenantKey),this.location={tenantKey:this.tenantKey,active:!0})},this.onClickSaveButton=function(){var e;return r.start(),this.location.timezone=this.selectedTimezone,e=n.save(this.location),e.then(this.onSuccessSavingLocation(this.tenantKey),this.onFailureSavingLocation)},this.onSuccessSavingLocation=function(e){return r.complete(),setTimeout(function(){i.go("tenantLocations",{tenantKey:e})},1e3)},this.onFailureSavingLocation=function(e){return r.complete(),409===e.status?a.show("Oops...","Location code unavailable. Please modify customer location name to generate a unique location code.","error"):a.show("Oops...","Unable to save the location.","error")},this.fetchTenantName=function(e){return function(n){var i;return i=t.getTenantByKey(n),i.then(function(t){return e.tenantName=t.name})}}(this),this.autoGenerateCustomerLocationCode=function(){var e;return this.location.key?void 0:(e="",this.location.customerLocationName&&(e=this.location.customerLocationName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),this.location.customerLocationCode=e)},this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("TenantDetailsCtrl",["$stateParams","TenantsService","DomainsService","DistributorsService","$state","sweet","ProgressBarService","$cookies","$scope",function(e,t,n,i,a,r,o,s,l){var d;return this.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},this.selectedDomain=void 0,this.distributorDomains=[],this.editMode=!!e.tenantKey,this.editMode&&(d=t.getTenantByKey(e.tenantKey),d.then(function(e){return function(t){return e.currentTenant=t,e.onSuccessResolvingTenant(t)}}(this))),this.initialize=function(){var e;return this.currentDistributorKey=s.get("currentDistributorKey"),e=i.getDomainsByKey(this.currentDistributorKey),e.then(function(e){return function(t){return e.distributorDomains=t}}(this))},this.onSuccessResolvingTenant=function(e){return function(t){var i;return i=n.getDomainByKey(t.domain_key),i.then(function(t){return e.selectedDomain=t})}}(this),this.onClickSaveButton=function(){var e;return o.start(),this.currentTenant.domain_key=this.selectedDomain.key,e=t.save(this.currentTenant),e.then(this.onSuccessTenantSave,this.onFailureTenantSave)},this.onSuccessTenantSave=function(){return o.complete(),a.go("tenants")},this.onFailureTenantSave=function(e){return o.complete(),409===e.status?r.show("Oops...","Tenant code unavailable. Please modify tenant name to generate a unique tenant code.","error"):r.show("Oops...","Unable to save the tenant.","error")},this.editItem=function(t){return a.go("editDevice",{deviceKey:t.key,tenantKey:e.tenantKey})},this.autoGenerateTenantCode=function(){var e;return this.currentTenant.key?void 0:(e="",this.currentTenant.name&&(e=this.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),this.currentTenant.tenant_code=e)},l.tabIndex=0,l.$watch("tabIndex",function(t){if(void 0!==t)switch(t){case 0:return a.go("tenantDetails",{tenantKey:e.tenantKey});case 1:return a.go("tenantManagedDevices",{tenantKey:e.tenantKey});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:e.tenantKey});case 3:return a.go("tenantLocations",{tenantKey:e.tenantKey})}}),this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("TenantAddCtrl",["$log","$stateParams","TenantsService","DomainsService","DevicesService","DistributorsService","$state","sweet","ProgressBarService","$cookies","$mdDialog","$scope",function(e,t,n,i,a,r,o,s,l,d){return this.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},this.selectedDomain=void 0,this.distributorDomains=[],this.initialize=function(){var e;return this.currentDistributorKey=d.get("currentDistributorKey"),e=r.getDomainsByKey(this.currentDistributorKey),e.then(function(e){return function(t){return e.distributorDomains=t}}(this))},this.onClickSaveButton=function(){var e;return l.start(),this.currentTenant.domain_key=this.selectedDomain.key,e=n.save(this.currentTenant),e.then(this.onSuccessTenantSave,this.onFailureTenantSave)},this.onSuccessTenantSave=function(){return l.complete(),o.go("tenants")},this.onFailureTenantSave=function(t){return l.complete(),409===t.status?s.show("Oops...","Tenant code unavailable. Please modify tenant name to generate a unique tenant code.","error"):(e.error(t),s.show("Oops...","Unable to save the tenant.","error"))},this.autoGenerateTenantCode=function(){var e;return this.currentTenant.key?void 0:(e="",this.currentTenant.name&&(e=this.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),this.currentTenant.tenant_code=e)},this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.factory("VersionsService",["Restangular",function(e){var t;return new(t=function(){function t(){}return t.prototype.getVersions=function(){var t;return t=e.oneUrl("versions").get()},t}())}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.factory("TenantsService",["Restangular",function(e){var t;return new(t=function(){function t(){}return t.prototype.save=function(t){var n;return n=void 0!==t.key?t.put():e.service("tenants").post(t)},t.prototype.fetchAllTenants=function(){var t;return t=e.all("tenants").getList()},t.prototype.getTenantByKey=function(t){var n;return n=e.oneUrl("tenants","api/v1/tenants/"+t).get()},t.prototype["delete"]=function(t){var n;return void 0!==t.key?n=e.one("tenants",t.key).remove():void 0},t}())}])}.call(this),function(){"use strict";angular.module("skykitProvisioning").factory("SessionsService",["$http","$log","$cookies","IdentityService","Restangular",function(e,t,n,i){var a;return new(a=function(){function t(){this.uriBase="v1/sessions",this.currentUserKey=void 0}return t.prototype.login=function(t){var n,i;return n={access_token:_.clone(t.access_token),authuser:_.clone(t.authuser),client_id:_.clone(t.client_id),code:_.clone(t.code),id_token:_.clone(t.id_token),scope:_.clone(t.scope),session_state:_.clone(t.session_state),state:_.clone(t.state),status:_.clone(t.status)},t.email&&t.password&&(n=t),i=e.post("/login",n),i.success(function(e){return function(t){return e.currentUserKey=t.user.key}}(this)),i},t.prototype.setIdentity=function(e){var t;return n.put("userKey",e.data.user.key),t=i.getIdentity(),t.then(function(e){return n.put("userEmail",e.email)})},t.prototype.removeUserInfo=function(){return n.remove("userKey"),n.remove("userEmail"),n.remove("currentDistributorKey"),n.remove("currentDistributorName")},t}())}])}.call(this),function(){"use strict";angular.module("skykitProvisioning").factory("ProofPlayService",["$http","$q","$window","$cookies",function(e,t,n,i){var a;return new(a=function(){function a(){this.uriBase="proofplay/api/v1",this.cachedResources=null,this.chosenTenant=null}return a.prototype.setTenant=function(e){return this.chosenTenant=e},a.prototype.createFilterFor=function(e){return e=angular.lowercase(e),function(t){return t=angular.lowercase(t),0===t.indexOf(e)}},a.prototype.getAllResources=function(){var n,a;return n=t.defer(),this.cachedResources?n.resolve(this.cachedResources):(a=i.get("currentDistributorKey"),e.get(this.uriBase+"/retrieve_all_resources/"+this.chosenTenant,{headers:{"X-Provisioning-Distributor":a}}).then(function(e){return function(t){return e.cachedResource=t,n.resolve(t)}}(this))),n.promise},a.prototype.getAllDisplays=function(){var t;return t=i.get("currentDistributorKey"),e.get(this.uriBase+"/retrieve_all_displays/"+this.chosenTenant,{headers:{"X-Provisioning-Distributor":t}})},a.prototype.getAllLocations=function(){var t;return t=i.get("currentDistributorKey"),e.get(this.uriBase+"/retrieve_all_locations/"+this.chosenTenant,{headers:{"X-Provisioning-Distributor":t}})},a.prototype.getAllTenants=function(){var t;return t=i.get("currentDistributorKey"),e.get(this.uriBase+"/retrieve_my_tenants",{headers:{"X-Provisioning-Distributor":t}})},a.prototype.downloadCSVForMultipleResourcesByDate=function(e,t,a){var r,o,s,l;for(r="",s=0,l=a.length;l>s;s++)o=a[s],r=r+"|"+o;return n.open(this.uriBase+"/multi_resource_by_date/"+e+"/"+t+"/"+r+"/"+this.chosenTenant+"/"+i.get("currentDistributorKey"),"_blank"),!0},a.prototype.downloadCSVForMultipleResourcesByDevice=function(e,t,a){var r,o,s,l;for(r="",s=0,l=a.length;l>s;s++)o=a[s],r=r+"|"+o;return n.open(this.uriBase+"/multi_resource_by_device/"+e+"/"+t+"/"+r+"/"+this.chosenTenant+"/"+i.get("currentDistributorKey"),"_blank"),!0},a.prototype.downloadCSVForMultipleDevicesSummarized=function(e,t,a){var r,o,s,l;for(r="",s=0,l=a.length;l>s;s++)o=a[s],r=r+"|"+o;return n.open(this.uriBase+"/multi_device_summarized/"+e+"/"+t+"/"+r+"/"+this.chosenTenant+"/"+i.get("currentDistributorKey"),"_blank"),!0},a.prototype.downloadCSVForMultipleDevicesByDate=function(e,t,a){var r,o,s,l;for(r="",s=0,l=a.length;l>s;s++)o=a[s],r=r+"|"+o;return n.open(this.uriBase+"/multi_device_by_date/"+e+"/"+t+"/"+r+"/"+this.chosenTenant+"/"+i.get("currentDistributorKey"),"_blank"),!0},a.prototype.downloadCSVForMultipleLocationsByDevice=function(e,t,a){var r,o,s,l;for(r="",s=0,l=a.length;l>s;s++)o=a[s],r=r+"|"+o;return n.open(this.uriBase+"/multi_location_by_device/"+e+"/"+t+"/"+r+"/"+this.chosenTenant+"/"+i.get("currentDistributorKey"),"_blank"),!0},a.prototype.downloadCSVForMultipleLocationsSummarized=function(e,t,a){var r,o,s,l;for(r="",s=0,l=a.length;l>s;s++)o=a[s],r=r+"|"+o;return n.open(this.uriBase+"/multi_location_summarized/"+e+"/"+t+"/"+r+"/"+this.chosenTenant+"/"+i.get("currentDistributorKey"),"_blank"),!0},a.prototype.querySearch=function(e,t){return t?e.filter(this.createFilterFor(t)):e},a}())}])}.call(this),function(){"use strict";angular.module("skykitProvisioning").factory("ProgressBarService",["ngProgressFactory",function(e){var t;return new(t=function(){function t(){this.progressBar=e.createInstance()}return t.prototype.start=function(){return this.progressBar.setColor("#00FCFF"),this.progressBar.setHeight("4px"),this.progressBar.start()},t.prototype.complete=function(){return this.progressBar.complete()},t}())}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.factory("LocationsService",["Restangular",function(e){var t;return new(t=function(){function t(){}return t.prototype.save=function(t){var n;return n=void 0!==t.key?t.put():e.service("locations").post(t)},t.prototype.getLocationsByTenantKey=function(t){var n;return n=e.oneUrl("tenants","api/v1/tenants/"+t+"/locations").get()},t.prototype.getLocationByKey=function(t){var n;return n=e.oneUrl("locations","api/v1/locations/"+t).get()},t.prototype.getTimezones=function(){var t;return t=e.oneUrl("timezones","api/v1/timezones").get()},t}())}])}.call(this),function(){"use strict";angular.module("skykitProvisioning").factory("IdentityService",["$log","Restangular",function(e,t){var n;return new(n=function(){function e(){}return e.prototype.getIdentity=function(){return t.oneUrl("identity").get()},e}())}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.factory("DomainsService",["Restangular",function(e){var t;return new(t=function(){function t(){}return t.prototype.save=function(t){var n;return n=void 0!==t.key?t.put():e.service("domains").post(t)},t.prototype.fetchAllDomains=function(){var t;return t=e.all("domains").getList()},t.prototype.getDomainByKey=function(t){var n;return n=e.oneUrl("domains","api/v1/domains/"+t).get()},t.prototype["delete"]=function(t){var n;return void 0!==t.key?n=e.one("domains",t.key).remove():void 0},t}())}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.factory("DistributorsService",["Restangular",function(e){var t;return new(t=function(){function t(){}var n;return n="distributors",t.currentDistributor=void 0,t.prototype.save=function(t){var i;return i=void 0!==t.key?t.put():e.service(n).post(t)},t.prototype.fetchAll=function(){var t;return t=e.all(n).getList()},t.prototype.fetchAllByUser=function(t){var i;return t?i=e.one("users",t).doGET(n):void 0},t.prototype.getByKey=function(t){var i;return i=e.oneUrl(n,"api/v1/distributors/"+t).get()},t.prototype["delete"]=function(t){var i;return t.key?i=e.one(n,t.key).remove():void 0},t.prototype.getByName=function(t){var i;return i=e.all(n).getList({distributorName:t})},t.prototype.getDomainsByKey=function(t){var i;return i=e.oneUrl(n,"api/v1/distributors/"+t+"/domains").get()},t}())}])}.call(this),function(){"use strict";angular.module("skykitProvisioning").factory("DevicesService",["$http","$log","Restangular",function(e,t,n){var i;return new(i=function(){function e(){}var t;return t="devices",e.uriBase="v1/devices",e.prototype.getDeviceByMacAddress=function(e){return n.oneUrl("api/v1/devices","api/v1/devices?mac_address="+e).get()},e.prototype.getDeviceByKey=function(e){var i;return i=n.oneUrl(t,"api/v1/devices/"+e).get()},e.prototype.getIssuesByKey=function(e,i,a){var r;return r=n.oneUrl(t,"api/v1/devices/"+e+"/issues?start="+i+"&end="+a).get()},e.prototype.getCommandEventsByKey=function(e){var i;return i=n.oneUrl(t,"/api/v1/player-command-events/"+e).get()},e.prototype.getDevicesByTenant=function(e){var i,a;return void 0!==e?(a="api/v1/tenants/"+e+"/devices?unmanaged=false",i=n.oneUrl(t,a).get()):void 0},e.prototype.getUnmanagedDevicesByTenant=function(e){var i,a;return void 0!==e?(a="api/v1/tenants/"+e+"/devices?unmanaged=true",i=n.oneUrl(t,a).get()):void 0},e.prototype.getDevicesByDistributor=function(e){var i,a;return void 0!==e?(a="api/v1/distributors/"+e+"/devices?unmanaged=false",i=n.oneUrl(t,a).get()):void 0},e.prototype.getUnmanagedDevicesByDistributor=function(e){var i,a;return void 0!==e?(a="api/v1/distributors/"+e+"/devices?unmanaged=true",i=n.oneUrl(t,a).get()):void 0},e.prototype.getDevices=function(){var e;return e=n.all(t).getList()},e.prototype.save=function(e){var t;return t=void 0!==e.key?e.put():n.service("devices").post(e)},e.prototype.getPanelModels=function(){return[{id:"None",displayName:"None"},{id:"Sony-FXD40LX2F",displayName:"Sony FXD40LX2F"},{id:"NEC-LCD4215",displayName:"NEC LCD4215"},{id:"Phillips-BDL5560EL",displayName:"Phillips BDL5560EL"},{id:"Panasonic-TH55LF6U",displayName:"Panasonic TH55LF6U"},{id:"Sharp-PNE521",displayName:"Sharp PNE521"}]},e.prototype.getPanelInputs=function(){return[{id:"None",parentId:"None"},{id:"HDMI1",parentId:"Sony-FXD40LX2F"},{id:"HDMI2",parentId:"Sony-FXD40LX2F"},{id:"HDMI1",parentId:"Phillips-BDL5560EL"},{id:"HDMI2",parentId:"Phillips-BDL5560EL"},{id:"DVI",parentId:"Phillips-BDL5560EL"},{id:"HDMI1",parentId:"Panasonic-TH55LF6U"},{id:"HDMI2",parentId:"Panasonic-TH55LF6U"},{id:"DVI",parentId:"Panasonic-TH55LF6U"},{id:"HDMI1",parentId:"Sharp-PNE521"},{id:"HDMI2",parentId:"Sharp-PNE521"},{id:"DVI",parentId:"Sharp-PNE521"},{id:"VGA",parentId:"NEC-LCD4215"},{id:"DVI1",parentId:"NEC-LCD4215"}]},e}())}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.factory("CommandsService",["Restangular",function(e){var t;return new(t=function(){function t(){}var n;return n="devices",t.prototype.reset=function(t){var i;return i=e.oneUrl(n,"api/v1/devices/"+t+"/commands/reset").post()},t.prototype.contentDelete=function(t){var i;return i=e.oneUrl(n,"api/v1/devices/"+t+"/commands/content-delete").post()},t.prototype.volume=function(t,i){var a,r;return r={volume:i},a=e.oneUrl(n,"api/v1/devices/"+t).customPOST(r,"commands/volume")},t.prototype.custom=function(t,i){var a,r;return a={command:i},r=e.oneUrl(n,"api/v1/devices/"+t).customPOST(a,"commands/custom")},t.prototype.powerOn=function(t){var i;return i=e.oneUrl(n,"api/v1/devices/"+t+"/commands/power-on").post()},t.prototype.powerOff=function(t){var i;return i=e.oneUrl(n,"api/v1/devices/"+t+"/commands/power-off").post()},t}())}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("ProofOfPlayCtrl",["ProofPlayService",function(e){return this.resource={title:"Resource Report"},this.location={title:"Location Report"},this.display={title:"Display Report"},this.chosen_tenant=null,this.tenants=null,this.initialize=function(){return e.getAllTenants().then(function(e){return function(t){return e.tenants=t.data.tenants}}(this))},this.submitTenant=function(t){return function(n){return e.setTenant(n),t.chosen_tenant=n}}(this),this}])}.call(this),function(){"use strict";var e,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=angular.module("skykitProvisioning"),e.controller("ProofOfPlayMultiResourceCtrl",["ProofPlayService",function(e){return this.radioButtonChoices={group1:"By Device",group2:"By Date",selection:null},this.dateTimeSelection={start:null,end:null},this.formValidity={start_date:!1,end_date:!1,resources:!1},this.no_cache=!0,this.loading=!0,this.disabled=!0,this.selected_resources=[],this.initialize=function(t){return function(){return e.getAllResources().then(function(e){var n;return t.loading=!1,t.full_resource_map=e.data.resources,t.resources=function(){var t,i,a,r;for(a=e.data.resources,r=[],t=0,i=a.length;i>t;t++)n=a[t],r.push(n.resource_name);return r}()})}}(this),this.addToSelectedResources=function(e){return function(t){var n;return e.isResourceValid(t)&&(e.selected_resources.push(t),n=e.resources.indexOf(t),e.resources.splice(n,1),e.searchText=""),e.areResourcesValid(),e.isDisabled()}}(this),this.querySearch=function(t,n){return e.querySearch(t,n)},this.isRadioValid=function(e){return function(t){return e.formValidity.type=t,e.isDisabled()}}(this),this.isResourceValid=function(e){return function(n){return t.call(e.resources,n)>=0&&t.call(e.selected_resources,n)<0?!0:!1}}(this),this.areResourcesValid=function(e){return function(){return e.formValidity.resources=e.selected_resources.length>0,e.isDisabled()}}(this),this.isStartDateValid=function(e){return function(t){return e.formValidity.start_date=t instanceof Date,e.isDisabled()}}(this),this.isEndDateValid=function(e){return function(t){return e.formValidity.end_date=t instanceof Date,e.isDisabled()}}(this),this.removeFromSelectedResource=function(e){return function(t){var n;return n=e.selected_resources.indexOf(t),e.selected_resources.splice(n,1),e.resources.push(t),e.areResourcesValid(),e.isDisabled()}}(this),this.isDisabled=function(e){return function(){return e.formValidity.start_date&&e.formValidity.end_date&&e.formValidity.resources&&e.formValidity.type?(e.disabled=!1,e["final"]={start_date_unix:moment(e.dateTimeSelection.start).unix(),end_date_unix:moment(e.dateTimeSelection.end).unix(),resources:e.selected_resources,type:e.radioButtonChoices.selection}):e.disabled=!0}}(this),this.submit=function(t){return function(){var n,i,a,r,o,s,l,d,c;for(c=[],l=t["final"].resources,i=0,o=l.length;o>i;i++)for(a=l[i],d=t.full_resource_map,r=0,s=d.length;s>r;r++)n=d[r],n.resource_name===a&&c.push(n.resource_identifier);return"1"===t["final"].type?e.downloadCSVForMultipleResourcesByDevice(t["final"].start_date_unix,t["final"].end_date_unix,c):e.downloadCSVForMultipleResourcesByDate(t["final"].start_date_unix,t["final"].end_date_unix,c)}}(this),this}])}.call(this),function(){"use strict";var e,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=angular.module("skykitProvisioning"),e.controller("ProofOfPlayMultiLocationCtrl",["ProofPlayService",function(e){return this.radioButtonChoices={group1:"By Device",group2:"Summarized",selection:null},this.dateTimeSelection={start:null,end:null},this.formValidity={start_date:!1,end_date:!1,locations:!1},this.no_cache=!0,this.loading=!0,this.disabled=!0,this.selected_locations=[],this.initialize=function(t){return function(){return e.getAllLocations().then(function(e){return t.loading=!1,t.locations=e.data.locations})}}(this),this.addToSelectedLocations=function(e){return function(t){var n;return e.isLocationValid(t)&&(e.selected_locations.push(t),n=e.locations.indexOf(t),e.locations.splice(n,1),e.searchText=""),e.areLocationsValid(),e.isDisabled()}}(this),this.querySearch=function(t,n){return e.querySearch(t,n)},this.isRadioValid=function(e){return function(t){return e.formValidity.type=t,e.isDisabled()}}(this),this.isLocationValid=function(e){return function(n){return t.call(e.locations,n)>=0&&t.call(e.selected_locations,n)<0?!0:!1}}(this),this.areLocationsValid=function(e){return function(){return e.formValidity.locations=e.selected_locations.length>0,e.isDisabled()}}(this),this.isStartDateValid=function(e){return function(t){return e.formValidity.start_date=t instanceof Date,e.isDisabled()}}(this),this.isEndDateValid=function(e){return function(t){return e.formValidity.end_date=t instanceof Date,e.isDisabled()}}(this),this.removeFromSelectedLocation=function(e){return function(t){var n;return n=e.selected_locations.indexOf(t),e.selected_locations.splice(n,1),e.locations.push(t),e.areLocationsValid(),e.isDisabled()}}(this),this.isDisabled=function(e){return function(){return e.formValidity.start_date&&e.formValidity.end_date&&e.formValidity.locations&&e.formValidity.type?(e.disabled=!1,e["final"]={start_date_unix:moment(e.dateTimeSelection.start).unix(),end_date_unix:moment(e.dateTimeSelection.end).unix(),locations:e.selected_locations,type:e.radioButtonChoices.selection}):e.disabled=!0}}(this),this.submit=function(t){return function(){return"1"===t["final"].type?e.downloadCSVForMultipleLocationsByDevice(t["final"].start_date_unix,t["final"].end_date_unix,t["final"].locations):e.downloadCSVForMultipleLocationsSummarized(t["final"].start_date_unix,t["final"].end_date_unix,t["final"].locations)}}(this),this}])}.call(this),function(){"use strict";var e,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=angular.module("skykitProvisioning"),e.controller("ProofOfPlayMultiDisplayCtrl",["ProofPlayService",function(e){return this.radioButtonChoices={group1:"By Date",group2:"Summarized",selection:null},this.dateTimeSelection={start:null,end:null},this.formValidity={start_date:!1,end_date:!1,displays:!1},this.no_cache=!0,this.loading=!0,this.disabled=!0,this.selected_displays=[],this.initialize=function(t){return function(){return e.getAllDisplays().then(function(e){return t.loading=!1,t.displays=e.data.devices})}}(this),this.addToSelectedDisplays=function(e){return function(t){var n;return e.isDisplayValid(t)&&(e.selected_displays.push(t),n=e.displays.indexOf(t),e.displays.splice(n,1),e.searchText=""),e.areDisplaysValid(),e.isDisabled()}}(this),this.querySearch=function(t,n){return e.querySearch(t,n)},this.isRadioValid=function(e){return function(t){return e.formValidity.type=t,e.isDisabled()}}(this),this.isDisplayValid=function(e){return function(n){return t.call(e.displays,n)>=0&&t.call(e.selected_displays,n)<0?!0:!1}}(this),this.areDisplaysValid=function(e){return function(){return e.formValidity.displays=e.selected_displays.length>0,e.isDisabled()}}(this),this.isStartDateValid=function(e){return function(t){return e.formValidity.start_date=t instanceof Date,e.isDisabled()
}}(this),this.isEndDateValid=function(e){return function(t){return e.formValidity.end_date=t instanceof Date,e.isDisabled()}}(this),this.removeFromSelectedDisplay=function(e){return function(t){var n;return n=e.selected_displays.indexOf(t),e.selected_displays.splice(n,1),e.displays.push(t),e.areDisplaysValid(),e.isDisabled()}}(this),this.isDisabled=function(e){return function(){return e.formValidity.start_date&&e.formValidity.end_date&&e.formValidity.displays&&e.formValidity.type?(e.disabled=!1,e["final"]={start_date_unix:moment(e.dateTimeSelection.start).unix(),end_date_unix:moment(e.dateTimeSelection.end).unix(),displays:e.selected_displays,type:e.radioButtonChoices.selection}):e.disabled=!0}}(this),this.submit=function(t){return function(){return"1"===t["final"].type?e.downloadCSVForMultipleDevicesByDate(t["final"].start_date_unix,t["final"].end_date_unix,t["final"].displays):e.downloadCSVForMultipleDevicesSummarized(t["final"].start_date_unix,t["final"].end_date_unix,t["final"].displays)}}(this),this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("DomainsCtrl",["$state","$log","DomainsService","sweet",function(e,t,n,i){return this.domains=[],this.initialize=function(){var e;return e=n.fetchAllDomains(),e.then(function(e){return function(t){return e.domains=t}}(this))},this.editItem=function(t){return e.go("editDomain",{domainKey:t.key})},this.deleteItem=function(e){return function(t){var a;return a=function(){var i;return i=n["delete"](t),i.then(function(){return e.initialize()})},i.show({title:"Are you sure?",text:"This will permanently remove the domain from the distributor and disconnect from tenants.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the domain!",closeOnConfirm:!0},a)}}(this),this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("DomainDetailsCtrl",["$log","$stateParams","DistributorsService","DomainsService","$state","sweet","ProgressBarService","$cookies",function(e,t,n,i,a,r,o,s){var l;return this.currentDomain={key:void 0,name:void 0,impersonation_admin_email_address:void 0,distributor_key:void 0,active:!0},this.currentDomains=[],this.editMode=!!t.domainKey,this.editMode?(l=i.getDomainByKey(t.domainKey),l.then(function(e){return function(t){return e.currentDomain=t}}(this))):this.currentDomain.distributor_key=s.get("currentDistributorKey"),this.onClickSaveButton=function(){var e;return o.start(),e=i.save(this.currentDomain),e.then(this.onSuccessDomainSave,this.onFailureDomainSave)},this.onSuccessDomainSave=function(){return o.complete(),a.go("domains")},this.onFailureDomainSave=function(t){return o.complete(),e.error(t),r.show("Oops...","Unable to save the domain.","error")},this.editItem=function(e){return a.go("editDomain",{domainKey:e.key})},this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("DistributorsCtrl",["$state",function(){return this.distributors=[],this.initialize=function(){},this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("DistributorSelectorCtrl",["$scope","$log","$state","$cookies","DistributorsService","SessionsService",function(e,t,n,i,a,r){return this.distributors=[],this.currentDistributor=void 0,this.initialize=function(){var e;return e=a.fetchAllByUser(r.currentUserKey),e?e.then(function(e){return function(t){return e.distributors=t,1===e.distributors.length?e.selectDistributor(e.distributors[0]):void 0}}(this)):void 0},this.selectDistributor=function(e){return function(t){return e.currentDistributor=t,a.currentDistributor=e.currentDistributor,i.put("currentDistributorName",e.currentDistributor.name),i.put("currentDistributorKey",e.currentDistributor.key),n.go("welcome")}}(this),this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("DevicesListingCtrl",["$stateParams","$log","DevicesService","$state","$cookies","ProgressBarService","sweet",function(e,t,n,i,a,r,o){return this.devices=[],this.unmanagedDevices=[],this.distributorKey=void 0,this.initialize=function(){var e,t;return this.distributorKey=a.get("currentDistributorKey"),t=n.getUnmanagedDevicesByDistributor(this.distributorKey),t.then(function(e){return function(t){return e.unmanagedDevices=t}}(this)),r.start(),e=n.getDevicesByDistributor(this.distributorKey),e.then(function(e){return function(t){e.getFetchSuccess(t)}}(this),function(e){return function(t){e.getFetchFailure(t)}}(this))},this.getFetchSuccess=function(e){return this.devices=e,r.complete()},this.getFetchFailure=function(e){var t;return r.complete(),t="Unable to fetch devices. Error: "+e.status+" "+e.statusText+".",o.show("Oops...",t,"error")},this.editItem=function(e){return i.go("editDevice",{deviceKey:e.key,tenantKey:e.tenantKey,fromDevices:!0})},this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("DeviceDetailsCtrl",["$log","$stateParams","$state","DevicesService","LocationsService","CommandsService","sweet","ProgressBarService",function(e,t,n,i,a,r,o,s){return this.tenantKey=t.tenantKey,this.deviceKey=t.deviceKey,this.fromDevices="true"===t.fromDevices,this.currentDevice={key:void 0,gcmRegistrationId:void 0,annotatedLocation:void 0,annotatedUser:void 0,apiKey:void 0,deviceId:void 0,bootMode:void 0,chromeDeviceDomain:void 0,contentServerUrl:void 0,etag:void 0,ethernetMacAddress:void 0,macAddress:void 0,firmwareVersion:void 0,kind:void 0,lastEnrollmentTime:void 0,lastSync:void 0,model:void 0,orgUnitPath:void 0,osVersion:void 0,platformVersion:void 0,serialNumber:void 0,panelModel:void 0,panelInput:void 0,status:void 0,tenantKey:void 0,created:void 0,updated:void 0,volume:void 0,custom:void 0,proofOfPlayLogging:!1,location:void 0},this.commandEvents=[],this.dayRange=30,this.editMode=!!t.deviceKey,this.issues=[],this.pickerOptions="{widgetPositioning: {vertical:'bottom'}, showTodayButton: true, sideBySide: true, icons:{ next:'glyphicon glyphicon-arrow-right', previous:'glyphicon glyphicon-arrow-left', up:'glyphicon glyphicon-arrow-up', down:'glyphicon glyphicon-arrow-down'}}",this.initialize=function(){var e,t,n,a,r;return this.panelModels=i.getPanelModels(),this.panelInputs=i.getPanelInputs(),this.editMode?(t=i.getDeviceByKey(this.deviceKey),t.then(function(e){return function(t){e.onGetDeviceSuccess(t)}}(this),function(e){return function(t){e.onGetDeviceFailure(t)}}(this)),e=i.getCommandEventsByKey(this.deviceKey),e.then(function(e){return function(t){return e.commandEvents=t}}(this)),a=new Date,r=new Date(a.getFullYear(),a.getMonth(),a.getDate()),this.endTime=a.toLocaleString().replace(/,/g,""),r.setDate(a.getDate()-this.dayRange),this.startTime=r.toLocaleString().replace(/,/g,""),this.epochStart=moment(new Date(this.startTime)).unix(),this.epochEnd=moment(new Date(this.endTime)).unix(),n=i.getIssuesByKey(this.deviceKey,this.epochStart,this.epochEnd),n.then(function(e){return function(t){return e.issues=t}}(this))):void 0},this.onGetDeviceSuccess=function(e){var n;return this.currentDevice=e,void 0===this.tenantKey&&(this.tenantKey=this.currentDevice.tenantKey),"true"===t.fromDevices?(this.backUrl="/#/devices",this.backUrlText="Back to devices"):this.currentDevice.isUnmanagedDevice===!0?(this.backUrl="/#/tenants/"+this.tenantKey+"/unmanaged",this.backUrlText="Back to tenant unmanaged devices"):(this.backUrl="/#/tenants/"+this.tenantKey+"/managed",this.backUrlText="Back to tenant managed devices"),n=a.getLocationsByTenantKey(this.tenantKey),n.then(function(e){return function(t){return e.locations=t,e.setSelectedOptions()}}(this))},this.onGetDeviceFailure=function(e){var t;return t="No detail for key #"+this.deviceKey+".\nError: "+e.status+" "+e.statusText,o.show("Oops...",t,"error")},this.setSelectedOptions=function(){var e,t,n,i,a,r,o,s,l,d,c,m,u,v;if(null===this.currentDevice.panelModel)this.currentDevice.panelModel=this.panelModels[0],this.currentDevice.panelInput=this.panelInputs[0];else{for(c=this.panelModels,e=0,a=c.length;a>e;e++)d=c[e],d.id===this.currentDevice.panelModel&&(this.currentDevice.panelModel=d);for(m=this.panelInputs,n=0,r=m.length;r>n;n++)l=m[n],t=l.parentId===this.currentDevice.panelModel.id,t&&l.id.toLowerCase()===this.currentDevice.panelInput&&(this.currentDevice.panelInput=l)}if(null!==this.currentDevice.locationKey){for(u=this.locations,v=[],i=0,o=u.length;o>i;i++)s=u[i],v.push(s.key===this.currentDevice.locationKey?this.currentDevice.location=s:void 0);return v}},this.onClickSavePanels=function(){var e;return s.start(),e=i.save(this.currentDevice),e.then(this.onSuccessDeviceSave,this.onFailureDeviceSavePanels)},this.onClickSaveLocation=function(){var e;return s.start(),this.currentDevice.locationKey=this.currentDevice.location.key,this.setPanelInfo(),e=i.save(this.currentDevice),e.then(this.onSuccessDeviceSave,this.onFailureDeviceSaveLocation)},this.onSuccessDeviceSave=function(){return s.complete(),n.go("devices")},this.onFailureDeviceSavePanels=function(t){return s.complete(),e.error(t),o.show("Oops...","Unable to save the serial control information.","error")},this.onFailureDeviceSaveLocation=function(t){return s.complete(),e.error(t),o.show("Oops...","Unable to save the location information.","error")},this.onClickSaveDevice=function(){var e;return s.start(),this.setPanelInfo(),e=i.save(this.currentDevice),e.then(this.onSuccessDeviceSave,this.onFailureDeviceSaveNotes)},this.onFailureDeviceSaveNotes=function(t){return s.complete(),e.error(t),o.show("Oops...","Unable to save the device notes.","error")},this.onClickResetSendButton=function(){var e;return this.editMode?(s.start(),e=r.reset(this.deviceKey),e.then(this.onResetSuccess,this.onResetFailure)):void 0},this.onResetSuccess=function(){return s.complete(),o.show("Success!","Sent a reset command to Google Cloud Messaging.","success")},this.onResetFailure=function(e){return s.complete(),o.show("Oops...","Reset error: "+e.data,"error")},this.onClickContentDeleteSendButton=function(){var e;return this.editMode?(s.start(),e=r.contentDelete(this.deviceKey),e.then(this.onContentDeleteSuccess,this.onContentDeleteFailure)):void 0},this.onContentDeleteSuccess=function(){return s.complete(),o.show("Success!","Sent a content delete command to Google Cloud Messaging.","success")},this.onContentDeleteFailure=function(e){return s.complete(),o.show("Oops...","Content delete error: "+e.data,"error")},this.onClickVolumeSendButton=function(){var e;return this.editMode?(s.start(),e=r.volume(this.deviceKey,this.currentDevice.volume),e.then(this.onVolumeSuccess(this.currentDevice.volume),this.onVolumeFailure)):void 0},this.onVolumeSuccess=function(e){return s.complete(),o.show("Success!","Sent a volume level of "+e+" to Google Cloud Messaging.","success")},this.onVolumeFailure=function(e){return s.complete(),o.show("Oops...","Volume error: "+e.data,"error")},this.onClickCommandSendButton=function(){var e;return this.editMode?(s.start(),e=r.custom(this.deviceKey,this.currentDevice.custom),e.then(this.onCommandSuccess(this.currentDevice.custom),this.onCommandFailure)):void 0},this.onCommandSuccess=function(e){return s.complete(),o.show("Success!","Sent '"+e+"' to Google Cloud Messaging.","success")},this.onCommandFailure=function(e){return s.complete(),o.show("Oops...","Command error: "+e.data,"error")},this.onClickRefreshButton=function(){var e;return s.start(),this.epochStart=moment(new Date(this.startTime)).unix(),this.epochEnd=moment(new Date(this.endTime)).unix(),e=i.getIssuesByKey(this.deviceKey,this.epochStart,this.epochEnd),e.then(function(e){return function(t){return e.onRefreshIssuesSuccess(t)}}(this),function(e){return function(t){return e.onRefreshIssuesFailure(t)}}(this))},this.onRefreshIssuesSuccess=function(e){return s.complete(),this.issues=e},this.onRefreshIssuesFailure=function(e){return s.complete(),o.show("Oops...","Refresh error: "+e.data,"error")},this.onClickPowerOnSendButton=function(){var e;return this.editMode?(s.start(),e=r.powerOn(this.deviceKey),e.then(this.onPowerOnSuccess,this.onPowerOnFailure)):void 0},this.onPowerOnSuccess=function(){return s.complete(),o.show("Success!","Sent a power on command to Google Cloud Messaging.","success")},this.onPowerOnFailure=function(e){return s.complete(),o.show("Oops...","Power on error: "+e.data,"error")},this.onClickPowerOffSendButton=function(){var e;return this.editMode?(s.start(),e=r.powerOff(this.deviceKey),e.then(this.onPowerOffSuccess,this.onPowerOffFailure)):void 0},this.onPowerOffSuccess=function(){return s.complete(),o.show("Success!","Sent a power off command to Google Cloud Messaging.","success")},this.onPowerOffFailure=function(e){return s.complete(),o.show("Oops...","Power off error: "+e.data,"error")},this.setPanelInfo=function(){return null!==this.currentDevice.panelModel&&(this.currentDevice.panelModel="None"===this.currentDevice.panelModel.id?null:this.currentDevice.panelModel.id),null!==this.currentDevice.panelInput?this.currentDevice.panelInput="None"===this.currentDevice.panelInput.id?null:this.currentDevice.panelInput.id.toLowerCase():void 0},this.autoGenerateCustomerDisplayCode=function(){var e;return e="",this.currentDevice.customerDisplayName&&(e=this.currentDevice.customerDisplayName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),this.currentDevice.customerDisplayCode=e},this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.controller("AuthenticationCtrl",["$scope","$log","$state","$timeout","identity","sweet","SessionsService","ProgressBarService",function(e,t,n,i,a,r,o,s){return this.onGooglePlusSignInSuccess=function(e){return function(t,n){var i;return e.googlePlusSignInButtonClicked||s.start(),i=o.login(n),i.then(e.loginSuccess,e.loginFailure)}}(this),this.onGooglePlusSignInFailure=function(e){return function(){return e.googlePlusSignInButtonClicked?(s.complete(),r.show("Oops...","Unable to authenticate to Google+.","error")):void 0}}(this),e.$on("event:google-plus-signin-success",this.onGooglePlusSignInSuccess),e.$on("event:google-plus-signin-failure",this.onGooglePlusSignInFailure),this.initializeSignIn=function(){return this.clientId=a.OAUTH_CLIENT_ID,this.state=a.STATE,this.googlePlusSignInButtonClicked=!1},this.initializeSignOut=function(){return o.removeUserInfo(),i(this.proceedToSignIn,1500)},this.loginSuccess=function(e){return o.setIdentity(e),s.complete(),n.go("distributor_selection")},this.loginFailure=function(){return s.complete(),r.show("Oops...","Unable to authenticate to Stormpath.","error")},this.proceedToSignIn=function(){return n.go("sign_in")},this.onClickGooglePlusSignIn=function(e){return function(){return e.googlePlusSignInButtonClicked=!0,s.start()}}(this),this}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.run(["$cookies","Restangular",function(e,t){return t.addRequestInterceptor(function(n,i){return t.setDefaultHeaders({"Content-Type":"application/json",Accept:"application/json",Authorization:"6C346588BD4C6D722A1165B43C51C","X-Provisioning-User":e.get("userKey"),"X-Provisioning-Distributor":e.get("currentDistributorKey")}),"remove"===i?void 0:n})}])}.call(this),function(){"use strict";var e;e=angular.module("skykitProvisioning"),e.config(["$stateProvider","$urlRouterProvider","RestangularProvider",function(e,t,n){return e.state("sign_in",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}]},url:"/sign_in",templateUrl:"app/authentication/sign_in.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("sign_out",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}]},url:"/sign_out",templateUrl:"app/authentication/sign_out.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("distributor_selection",{url:"/distributor_selection",templateUrl:"app/distributor/distributor_selector.html",controller:"DistributorSelectorCtrl",controllerAs:"distributorSelectorCtrl"}),e.state("home",{url:"/",templateUrl:"app/welcome/welcome.html",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}]},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("welcome",{url:"/welcome",templateUrl:"app/welcome/welcome.html",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}]},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("domains",{url:"/domains",templateUrl:"app/domain/domains-listing.html",controller:"DomainsCtrl",controllerAs:"domainsCtrl",ncyBreadcrumb:{label:"Domains"}}),e.state("addDomain",{url:"/domains/add",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"Add domain",parent:"domains"}}),e.state("editDomain",{url:"/domains/:domainKey",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"{{ domainDetailsCtrl.currentDomain.name }}",parent:"domains"}}),e.state("tenants",{url:"/tenants",templateUrl:"app/tenant/tenants-listing.html",controller:"TenantsCtrl",controllerAs:"tenantsCtrl",ncyBreadcrumb:{label:"Tenants"}}),e.state("addTenant",{url:"/tenants/add",templateUrl:"app/tenant/tenant-add.html",controller:"TenantAddCtrl",controllerAs:"tenantAddCtrl",ncyBreadcrumb:{label:"Add tenant",parent:"tenants"}}),e.state("tenantDetails",{url:"/tenants/:tenantKey/details",templateUrl:"app/tenant/tenant-details.html",controller:"TenantDetailsCtrl",controllerAs:"tenantDetailsCtrl",ncyBreadcrumb:{label:"{{ tenantDetailsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantManagedDevices",{url:"/tenants/:tenantKey/managed",templateUrl:"app/tenant/tenant-managed-devices.html",controller:"TenantManagedDevicesCtrl",controllerAs:"tenantManagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantManagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantUnmanagedDevices",{url:"/tenants/:tenantKey/unmanaged",templateUrl:"app/tenant/tenant-unmanaged-devices.html",controller:"TenantUnmanagedDevicesCtrl",controllerAs:"tenantUnmanagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantUnmanagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantLocations",{url:"/tenants/:tenantKey/locations",templateUrl:"app/tenant/tenant-locations.html",controller:"TenantLocationsCtrl",controllerAs:"tenantLocationsCtrl",ncyBreadcrumb:{label:"{{ tenantLocationsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("editLocation",{url:"/locations/:locationKey",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / {{ tenantLocationCtrl.locationName }}",parent:"tenants"}}),e.state("addLocation",{url:"/tenants/:tenantKey/location",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / Location",parent:"tenants"}}),e.state("devices",{url:"/devices",templateUrl:"app/device/devices-listing.html",controller:"DevicesListingCtrl",controllerAs:"devicesListingCtrl",ncyBreadcrumb:{label:"Devices"}}),e.state("editDevice",{url:"/devices/:deviceKey?tenantKey?fromDevices",templateUrl:"app/device/device-detail.html",ncyBreadcrumb:{label:"{{ deviceDetailsCtrl.currentDevice.key }}",parent:"devices"},controller:"DeviceDetailsCtrl","function":function(e,t){e.tenantKey=t.tenantKey},controllerAs:"deviceDetailsCtrl"}),e.state("deviceReset",{url:"/devices/:deviceKey/commands/reset",templateUrl:"app/device/device-detail.html",ncyBreadcrumb:{label:"{{ deviceDetailsCtrl.currentDevice.key }}",parent:"devices"},controller:"DeviceDetailsCtrl",controllerAs:"deviceDetailsCtrl"}),e.state("deviceVolume",{url:"/devices/:deviceKey/commands/volume",templateUrl:"app/device/device-detail.html",ncyBreadcrumb:{label:"{{ deviceDetailsCtrl.currentDevice.key }}",parent:"devices"},controller:"DeviceDetailsCtrl",controllerAs:"deviceDetailsCtrl"}),e.state("deviceCustom",{url:"/devices/:deviceKey/commands/custom",templateUrl:"app/device/device-detail.html",ncyBreadcrumb:{label:"{{ deviceDetailsCtrl.currentDevice.key }}",parent:"devices"},controller:"DeviceDetailsCtrl",controllerAs:"deviceDetailsCtrl"}),e.state("proof",{url:"/proof",templateUrl:"app/proof/index.html",controller:"ProofOfPlayCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Proof of Play"}}),t.otherwise("/sign_in"),n.setBaseUrl("/api/v1"),n.addResponseInterceptor(function(e){var t;return t=e}),n.setRestangularFields({id:"key"})}])}.call(this),angular.module("skykitProvisioning").run(["$templateCache",function(e){e.put("app/authentication/sign_in.html",'<div id="page-wrapper" ng-init="authenticationCtrl.initializeSignIn()"><div class="container-fluid"><div class="row"><div class="col-lg-12"><h1 class="page-header">Sign into Skykit Provisioning</h1></div></div><div class="row"><div class="col-lg-12"><google-plus-signin ng-click="authenticationCtrl.onClickGooglePlusSignIn()" clientid="{{ authenticationCtrl.clientId }}" state="{{ authenticationCtrl.state }}" language="en"></google-plus-signin></div></div></div></div>'),e.put("app/authentication/sign_out.html",'<div id="page-wrapper" ng-init="authenticationCtrl.initializeSignOut()"><div class="container-fluid"><div class="row"><div class="col-lg-12"><h1 class="page-header">Signing out of Skykit Provisioning</h1></div></div><div class="row"><div class="col-lg-12"></div></div></div></div>'),e.put("app/device/device-detail.html",'<div ng-controller="DeviceDetailsCtrl" ng-init="deviceDetailsCtrl.initialize()" layout="column" ng-cloak=""><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h2 class="md-flex"><i class="fa fa-fw fa-desktop ng-scope"></i> Devices</h2></div></md-toolbar><md-content flex="" layout-padding=""><div flex="100" flex-xs="100" layout="column"><div ncy-breadcrumb=""></div><div class="row margin-top-05"><div class="col-sm-6"><table class="table table-responsive table-striped"><thead><tr><th><i class="fa fa-fw fa-wifi"></i> MAC</th><th><i class="fa fa-fw fa-plug"></i> MAC</th><th>Serial number</th></tr></thead><tbody><tr><td class="reset-device-mac-address">{{ deviceDetailsCtrl.currentDevice.macAddress }}</td><td class="reset-device-ethernet-mac-address">{{ deviceDetailsCtrl.currentDevice.ethernetMacAddress }}</td><td class="reset-device-serial-number">{{deviceDetailsCtrl.currentDevice.serialNumber}}</td></tr></tbody></table></div><div class="col-sm-2 margin-top-20"><md-button ngclipboard="" data-clipboard-target="#hidden-device-key"><i class="fa fa-fw fa-clipboard"></i> Copy device key</md-button></div><div class="col-sm-2 margin-top-20"><md-button><a href="{{deviceDetailsCtrl.backUrl}}"><i class="fa fa-fw fa-backward"></i> {{deviceDetailsCtrl.backUrlText}}</a></md-button></div></div><md-tabs md-dynamic-height="" md-border-bottom=""><md-tab label="Properties"><md-content class="md-padding" layout="row" layout-wrap="" layout-align="left start" layout-xs="column"><div flex="35" flex-sm="35" flex-xs="35" layout="column"><md-card><md-card-content><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.serialNumber == None || deviceDetailsCtrl.currentDevice.serialNumber == \'\'"><label>Serial number</label><div>{{deviceDetailsCtrl.currentDevice.serialNumber}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.annotatedLocation == None || deviceDetailsCtrl.currentDevice.annotatedLocation == \'\'"><label>Annotated location</label><div>{{deviceDetailsCtrl.currentDevice.annotatedLocation}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.annotatedUser == None || deviceDetailsCtrl.currentDevice.annotatedUser == \'\'"><label>Annotated user</label><div>{{deviceDetailsCtrl.currentDevice.annotatedUser}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.apiKey == None || deviceDetailsCtrl.currentDevice.apiKey == \'\'"><label>API key</label><div>{{deviceDetailsCtrl.currentDevice.apiKey}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.bootMode == None || deviceDetailsCtrl.currentDevice.bootMode == \'\'"><label>Boot mode</label><div>{{deviceDetailsCtrl.currentDevice.bootMode}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.chromeDeviceDomain == None || deviceDetailsCtrl.currentDevice.chromeDeviceDomain == \'\'"><label>Chrome device domain</label><div>{{deviceDetailsCtrl.currentDevice.chromeDeviceDomain}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.contentServerUrl == None || deviceDetailsCtrl.currentDevice.contentServerUrl == \'\'"><label>Content server URL</label><div>{{deviceDetailsCtrl.currentDevice.contentServerUrl}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.created == None || deviceDetailsCtrl.currentDevice.created == \'\'"><label>Created timestamp</label><div>{{deviceDetailsCtrl.currentDevice.created}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.deviceId == None || deviceDetailsCtrl.currentDevice.deviceId == \'\'"><label>Device ID</label><div>{{deviceDetailsCtrl.currentDevice.deviceId}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.etag == None || deviceDetailsCtrl.currentDevice.etag == \'\'"><label>ETag</label><div>{{deviceDetailsCtrl.currentDevice.etag}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.firmwareVersion == None || deviceDetailsCtrl.currentDevice.firmwareVersion == \'\'"><label>Firmware version</label><div>{{deviceDetailsCtrl.currentDevice.firmwareVersion}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.gcmRegistrationId == None || deviceDetailsCtrl.currentDevice.gcmRegistrationId == \'\'"><label>GCM registration ID</label><div class="gcm-registration-id-word-break">{{deviceDetailsCtrl.currentDevice.gcmRegistrationId}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.kind == None || deviceDetailsCtrl.currentDevice.kind == \'\'"><label>Kind</label><div>{{deviceDetailsCtrl.currentDevice.kind}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.lastEnrollmentTime == None || deviceDetailsCtrl.currentDevice.lastEnrollmentTime == \'\'"><label>Last enrollment</label><div>{{deviceDetailsCtrl.currentDevice.lastEnrollmentTime}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.lastSync == None || deviceDetailsCtrl.currentDevice.lastSync == \'\'"><label>Last sync</label><div>{{deviceDetailsCtrl.currentDevice.lastSync}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.logglyLink == None || deviceDetailsCtrl.currentDevice.logglyLink == \'\'"><label>Loggly</label><div><a ng-href="{{deviceDetailsCtrl.currentDevice.logglyLink}}">{{deviceDetailsCtrl.currentDevice.logglyLink}}</a></div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.macAddress == None || deviceDetailsCtrl.currentDevice.macAddress == \'\'"><label>MAC WiFi</label><div>{{deviceDetailsCtrl.currentDevice.macAddress}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.ethernetMacAddress == None || deviceDetailsCtrl.currentDevice.ethernetMacAddress == \'\'"><label>Ethernet MAC</label><div>{{deviceDetailsCtrl.currentDevice.ethernetMacAddress}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.model == None || deviceDetailsCtrl.currentDevice.model == \'\'"><label>Model</label><div>{{deviceDetailsCtrl.currentDevice.model}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.osVersion == None || deviceDetailsCtrl.currentDevice.osVersion == \'\'"><label>OS version</label><div>{{deviceDetailsCtrl.currentDevice.osVersion}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.orgUnitPath == None || deviceDetailsCtrl.currentDevice.orgUnitPath == \'\'"><label>OU path</label><div>{{deviceDetailsCtrl.currentDevice.orgUnitPath}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.platformVersion == None || deviceDetailsCtrl.currentDevice.platformVersion == \'\'"><label>Platform version</label><div>{{deviceDetailsCtrl.currentDevice.platformVersion}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.status == None || deviceDetailsCtrl.currentDevice.status == \'\'"><label>Status</label><div>{{deviceDetailsCtrl.currentDevice.status}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.tenantCode == None || deviceDetailsCtrl.currentDevice.tenantCode == \'\'"><label>Tenant code</label><div>{{deviceDetailsCtrl.currentDevice.tenantCode}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.timezone == None || deviceDetailsCtrl.currentDevice.timezone == \'\'"><label>Timezone</label><div>{{deviceDetailsCtrl.currentDevice.timezone}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.isUnmanagedDevice == None || deviceDetailsCtrl.currentDevice.isUnmanagedDevice == \'\'"><label>Unmanaged</label><div>{{deviceDetailsCtrl.currentDevice.isUnmanagedDevice}}</div></div><div class="form-group" ng-hide="deviceDetailsCtrl.currentDevice.updated == None || deviceDetailsCtrl.currentDevice.updated == \'\'"><label>Updated timestamp</label><div>{{deviceDetailsCtrl.currentDevice.updated}}</div></div><form name="deviceUpdateForm" class="form-horizontal" ng-submit="deviceDetailsCtrl.onClickSaveDevice()" novalidate=""><div class="form-group" ng-hide="!deviceDetailsCtrl.currentDevice.proofOfPlayEditable"><div class="col-sm-12"><label>Proof of play logging</label><div><input type="checkbox" ng-model="deviceDetailsCtrl.currentDevice.proofOfPlayLogging"> <span>Enable</span></div></div></div><div class="form-group"><div class="col-sm-12"><label>Notes</label><div><input type="text" class="form-control" name="notes" ng-model="deviceDetailsCtrl.currentDevice.notes"></div></div></div><div class="form-group"><div class="col-sm-6"><label>Customer display name</label><div><input type="text" class="form-control" autofocus="" name="customerDisplayName" placeholder="e.g., Panel in Front Reception" ng-change="deviceDetailsCtrl.autoGenerateCustomerDisplayCode()" ng-model="deviceDetailsCtrl.currentDevice.customerDisplayName"></div></div><div class="col-sm-6" ng-class="{ \'has-error\' : deviceUpdateForm.customerDisplayCode.$invalid && !deviceUpdateForm.customerDisplayCode.$pristine }"><label>Customer display code</label><div><input type="text" class="form-control" name="customerDisplayCode" placeholder="auto-generated" ng-model="deviceDetailsCtrl.currentDevice.customerDisplayCode" ng-pattern="/^[a-z0-9_]*$/"><p ng-show="deviceUpdateForm.customerDisplayCode.$invalid && !deviceUpdateForm.customerDisplayCode.$invalid.$pristine" class="help-block">Alphanumeric and underscore allowed.</p></div></div></div><md-card-actions layout="row" layout-align="end center"><md-button type="submit" ng-disabled="!deviceUpdateForm.$dirty || deviceUpdateForm.$invalid"><i class="fa fa-fw fa-save"></i> Save</md-button></md-card-actions></form></md-card-content></md-card></div><div flex="35" flex-sm="35" flex-xs="35" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">Location</span></md-card-title-text></md-card-title><md-card-content><form name="locationForm" class="form-horizontal" ng-submit="deviceDetailsCtrl.onClickSaveLocation()" novalidate=""><div class="form-group"><div class="col-sm-5"><label>Panel location</label><select id="customerLocationName" class="form-control" ng-model="deviceDetailsCtrl.currentDevice.location" ng-options="i.customerLocationName for i in deviceDetailsCtrl.locations track by i.key"></select></div></div><md-card-actions layout="row" layout-align="end center"><md-button type="submit" ng-disabled="!locationForm.$dirty || locationForm.$invalid"><i class="fa fa-fw fa-save"></i> Save</md-button></md-card-actions></form></md-card-content></md-card><md-card><md-card-title><md-card-title-text><span class="md-headline">Serial control</span></md-card-title-text></md-card-title><md-card-content><form name="serialControlForm" class="form-horizontal" ng-submit="deviceDetailsCtrl.onClickSavePanels()" novalidate=""><div class="form-group"><div class="col-sm-5"><label>Panel model</label><select id="panelModel" class="form-control" ng-model="deviceDetailsCtrl.currentDevice.panelModel" ng-options="p.displayName for p in deviceDetailsCtrl.panelModels track by p.id"></select></div><div class="col-sm-5"><label>Panel input</label><select id="panelInput" class="form-control" ng-required="deviceDetailsCtrl.currentDevice.panelModel !== None" ng-model="deviceDetailsCtrl.currentDevice.panelInput" ng-options="c.id for c in deviceDetailsCtrl.panelInputs | filter:{parentId: deviceDetailsCtrl.currentDevice.panelModel.id}"></select></div></div><md-card-actions layout="row" layout-align="end center"><md-button type="submit" ng-disabled="!serialControlForm.$dirty || serialControlForm.$invalid"><i class="fa fa-fw fa-save"></i> Save</md-button></md-card-actions></form></md-card-content></md-card></div></md-content></md-tab><md-tab label="Events"><md-content class="md-padding"><div flex="100" flex-sm="100" flex-xs="100" layout="column"><md-card><md-card-content><form name="tenantForm" class="form-horizontal" ng-submit="deviceDetailsCtrl.onClickRefreshButton()" novalidate=""><div class="row"><div class="col-sm-offset-6 col-sm-2"><label for="startTime" class="control-label">From</label> <input type="text" class="form-control input-sm" datetimepicker="" datetimepicker-options="{{deviceDetailsCtrl.pickerOptions}}" placeholder="{{deviceDetailsCtrl.startTime}}" name="startTime" id="startTime" ng-model="deviceDetailsCtrl.startTime"></div><div class="col-sm-2"><label for="endTime" class="control-label">To</label> <input type="text" class="form-control input-sm" datetimepicker="" datetimepicker-options="{{deviceDetailsCtrl.pickerOptions}}" placeholder="{{deviceDetailsCtrl.endTime}}" name="endTime" id="endTime" ng-model="deviceDetailsCtrl.endTime"></div><div class="col-sm-2 margin-top-15"><md-button type="submit"><i class="fa fa-fw fa-filter"></i> Filter</md-button></div></div></form><div class="row margin-top-15"><div class="col-lg-12"><table class="table table-responsive table-striped"><thead><tr><th width="3px"></th><th>Category</th><th>Memory</th><th>Storage</th><th>Program</th><th>Event created</th><th>Last updated</th><th></th></tr></thead><tbody><tr ng-hide="deviceDetailsCtrl.issues.length"><td class="text-center text-warning" colspan="8">No events logged in the past {{deviceDetailsCtrl.dayRange}} days.<br>Please try an earlier \'From date\' above.</td></tr><tr ng-repeat="item in deviceDetailsCtrl.issues | orderBy:[\'-updated\']"><td class="issue-{{ item.level_descriptor}}-background"></td><td>{{ item.category }}</td><td>{{ item.memory_utilization }}%</td><td>{{ item.storage_utilization }}%</td><td>{{ item.program }}</td><td>{{ item.created }}</td><td>{{ item.updated }}</td><td class="issue-{{ item.level_descriptor}}-text"><i ng-class="item.level==1? \'fa fa-fw fa-warning\' : item.level==0? \'fa fa-fw fa-check-circle\': \'fa fa-fw fa-ambulance\'"></i> {{ item.elapsed_time }}</td></tr></tbody></table></div></div><div class="row margin-top-50"></div></md-card-content></md-card></div></md-content></md-tab><md-tab label="Commands"><md-content class="md-padding" layout="row" layout-wrap="" layout-align="center start" layout-xs="column"><div flex="100" flex-sm="100" flex-xs="100" layout="column"><md-card><md-card-content><md-content class="md-padding" layout="row" layout-wrap="" layout-xs="column"><div flex="25" flex-sm="25" flex-xs="25" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">Reset content</span></md-card-title-text></md-card-title><md-card-content><form name="resetForm" class="form-horizontal" ng-submit="deviceDetailsCtrl.onClickContentDeleteSendButton()" novalidate=""><md-card-actions layout="row" layout-align="end center"><md-button type="submit"><i class="fa fa-fw fa-building"></i> Send</md-button></md-card-actions></form></md-card-content></md-card></div><div flex="25" flex-sm="25" flex-xs="25" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">Reset player</span></md-card-title-text></md-card-title><md-card-content><form name="resetForm" class="form-horizontal" ng-submit="deviceDetailsCtrl.onClickResetSendButton()" novalidate=""><md-card-actions layout="row" layout-align="end center"><md-button type="submit"><i class="fa fa-fw fa-building"></i> Send</md-button></md-card-actions></form></md-card-content></md-card></div><div flex="25" flex-sm="25" flex-xs="25" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">Panel on</span></md-card-title-text></md-card-title><md-card-content><form name="powerOnForm" class="form-horizontal" ng-submit="deviceDetailsCtrl.onClickPowerOnSendButton()" novalidate=""><md-card-actions layout="row" layout-align="end center"><md-button type="submit"><i class="fa fa-fw fa-building"></i> Send</md-button></md-card-actions></form></md-card-content></md-card></div><div flex="25" flex-sm="25" flex-xs="25" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">Panel off</span></md-card-title-text></md-card-title><md-card-content><form name="powerOffForm" class="form-horizontal" ng-submit="deviceDetailsCtrl.onClickPowerOffSendButton()" novalidate=""><md-card-actions layout="row" layout-align="end center"><md-button type="submit"><i class="fa fa-fw fa-building"></i> Send</md-button></md-card-actions></form></md-card-content></md-card></div></md-content><md-content class="md-padding" layout="row" layout-wrap="" layout-xs="column"><div flex="25" flex-sm="25" flex-xs="25" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">Volume</span></md-card-title-text></md-card-title><md-card-content><form name="volumeForm" class="form-horizontal" ng-submit="deviceDetailsCtrl.onClickVolumeSendButton()" novalidate=""><div class="row"><div class="col-sm-12"><div class="row"><div class="col-sm-5 pull-right"><input type="number" class="form-control" name="volume" id="volume" ng-model="deviceDetailsCtrl.currentDevice.volume" min="1" max="100" ngminlength="1" ngmaxlength="3" ng-required="true"></div></div></div></div><md-card-actions layout="row" layout-align="end center"><md-button type="submit" ng-disabled="!volumeForm.$dirty || volumeForm.$invalid"><i class="fa fa-fw fa-building"></i> Send</md-button></md-card-actions></form></md-card-content></md-card></div><div flex="33" flex-sm="33" flex-xs="33" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">Custom</span></md-card-title-text></md-card-title><md-card-content><form name="customForm" class="form-horizontal" ng-submit="deviceDetailsCtrl.onClickCommandSendButton()" novalidate=""><div class="row"><div class="col-sm-12"><div class="row"><div class="col-sm-9 pull-right"><input type="text" class="form-control" name="custom" id="custom" ng-model="deviceDetailsCtrl.currentDevice.custom" ng-required="true"></div></div></div></div><md-card-actions layout="row" layout-align="end center"><md-button type="submit" ng-disabled="!customForm.$dirty || customForm.$invalid"><i class="fa fa-fw fa-building"></i> Send</md-button></md-card-actions></form></md-card-content></md-card></div></md-content></md-card-content></md-card></div></md-content><md-content class="md-padding" layout="row" layout-wrap="" layout-xs="column"><div flex="66" flex-sm="66" flex-xs="66" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">Command history</span></md-card-title-text></md-card-title><md-card-content><div class="row margin-top-15"><div class="col-lg-12"><table class="table table-responsive table-striped"><thead><tr><th>Command</th><th>Posted (US/Central)</th><th>Confirmed (US/Central)</th><th style="width:1px"></th></tr></thead><tbody><tr ng-hide="deviceDetailsCtrl.commandEvents.length"><td class="text-center text-warning" colspan="4">No commands posted to this player</td></tr><tr ng-repeat="item in deviceDetailsCtrl.commandEvents | orderBy:[\'-postedTime\']"><td>{{ item.payload }}</td><td>{{ item.postedTime }}</td><td>{{ item.confirmedTime }}</td><td class="up-{{ item.confirmed}}-background"></td></tr></tbody></table></div></div></md-card-content></md-card></div></md-content></md-tab></md-tabs></div></md-content><div id="hidden-device-key" class="copy-ready-device-key">{{deviceDetailsCtrl.currentDevice.key}}</div></div>'),e.put("app/device/devices-listing.html",'<div ng-controller="DevicesListingCtrl" ng-init="devicesListingCtrl.initialize()" layout="column" ng-cloak=""><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h2 class="md-flex"><i class="fa fa-fw fa-desktop ng-scope"></i> Devices</h2></div></md-toolbar><md-content><div flex="100" flex-sm="100" flex-xs="100" layout="column"><md-tabs md-dynamic-height="" md-border-bottom=""><md-tab label="Managed"><md-content class="md-padding"><div flex="100" flex-sm="100" flex-xs="100" layout="column"><md-card><md-card-content><md-data-table-container layout="column"><table class="table table-responsive table-striped"><thead><tr><th></th><th>Tenant code</th><th><i class="fa fa-fw fa-wifi"></i> MAC</th><th><i class="fa fa-fw fa-plug"></i> MAC</th><th>Serial number</th><th>Provisioned</th><th></th></tr></thead><tbody><tr ng-hide="devicesListingCtrl.devices.length"><td class="no-devices text-center text-danger" colspan="7">No managed devices retrieved</td></tr><tr ng-repeat="item in devicesListingCtrl.devices | orderBy:\'-created\'"><td><a ng-click="devicesListingCtrl.editItem(item)" title="Device detail"><ng-md-icon icon="mode_edit" size="48"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"></path><path d="M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg></ng-md-icon></a></td><td>{{ item.tenantCode }}</td><td>{{ item.macAddress }}</td><td>{{ item.ethernetMacAddress }}</td><td><a name="edit-device" class="btn" ng-click="devicesListingCtrl.editItem(item)" title="Device detail">{{item.serialNumber}}</a></td><td>{{ item.created }}</td><td class="up-{{ item.up}}-background"></td></tr></tbody></table></md-data-table-container></md-card-content></md-card></div></md-content></md-tab><md-tab label="Unmanaged"><md-content class="md-padding"><div flex="100" flex-sm="100" flex-xs="100" layout="column"><md-card><md-card-content><md-data-table-container layout="column"><table class="table table-responsive table-striped"><thead><tr><th></th><th>Tenant code</th><th><i class="fa fa-fw fa-wifi"></i> MAC</th><th><i class="fa fa-fw fa-plug"></i> MAC</th><th>Provisioned</th><th></th></tr></thead><tbody><tr ng-hide="devicesListingCtrl.unmanagedDevices.length"><td class="no-devices text-center text-danger" colspan="6">No unmanaged devices retrieved</td></tr><tr ng-repeat="item in devicesListingCtrl.unmanagedDevices | orderBy:\'-created\'"><td><a ng-click="devicesListingCtrl.editItem(item)" title="Device detail"><ng-md-icon icon="mode_edit" size="48"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"></path><path d="M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg></ng-md-icon></a></td><td>{{ item.tenantCode }}</td><td>{{ item.macAddress }}</td><td>{{ item.ethernetMacAddress }}</td><td>{{ item.created }}</td><td class="up-{{ item.up}}-background"></td></tr></tbody></table></md-data-table-container></md-card-content></md-card></div></md-content></md-tab></md-tabs></div></md-content></div>'),e.put("app/distributor/distributor_selector.html",'<div id="wrapper" ng-init="distributorSelectorCtrl.initialize()"><div id="page-wrapper"><div class="container-fluid"><div class="row"><div class="col-lg-12"><h1 class="page-header">Select your distributor</h1></div></div><div class="row"><div class="col-lg-12"><div ng-hide="distributorSelectorCtrl.distributors.length"><div class="alert alert-warning" role="alert"><strong>Warning!</strong> &nbsp;&nbsp; Your account is not associated with any distributors. Please contact support (XXX) to rectify this situation.</div></div><div class="distributor-selection" ng-repeat="distributor in distributorSelectorCtrl.distributors" ng-click="distributorSelectorCtrl.selectDistributor(distributor);">{{ distributor.name }}</div></div></div></div></div></div>'),e.put("app/distributor/distributors.html",'<div id="wrapper" ng-init="tenantsCtrl.initialize()"><div id="page-wrapper"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div ncy-breadcrumb=""></div><h1 class="page-header">Distributors</h1></div></div><div class="row"><div class="col-lg-12"></div></div></div></div></div>'),e.put("app/domain/domain-detail.html",'<div ng-controller="DomainsCtrl" layout="column" ng-cloak=""><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h2 class="md-flex"><i class="fa fa-fw fa-cube ng-scope"></i> Domain</h2></div></md-toolbar><md-content flex="" layout-padding=""><div flex="80" flex-xs="100" layout="column"><div ncy-breadcrumb=""></div></div><div flex="80" flex-xs="100" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">Properties</span></md-card-title-text></md-card-title><form name="domainForm" class="form-horizontal" ng-submit="domainDetailsCtrl.onClickSaveButton()" novalidate=""><md-card-content><div class="form-group" ng-class="{ \'has-error\' : domainForm.name.$invalid && !domainForm.name.$pristine }"><label for="domainName" class="col-sm-2 control-label">Name</label><div class="col-sm-4"><input type="text" class="form-control" name="domainName" id="domainName" ng-model="domainDetailsCtrl.currentDomain.name" required=""></div><div class="col-sm-5"><p ng-show="domainForm.name.$invalid && !domainForm.name.$pristine" class="help-block">The name is required.</p></div></div><div class="form-group" ng-class="{ \'has-error\' : domainForm.impersonation_admin_email_address.$invalid && !domainForm.impersonation_admin_email_address.$pristine }"><label for="impersonationAdminEmailAddress" class="col-sm-2 control-label">Impersonation email</label><div class="col-sm-4"><input type="text" class="form-control" name="impersonationAdminEmailAddress" id="impersonationAdminEmailAddress" ng-model="domainDetailsCtrl.currentDomain.impersonation_admin_email_address" required=""></div><div class="col-sm-5"><p ng-show="domainForm.impersonationAdminEmailAddress.$invalid && !domainForm.impersonationAdminEmailAddress.$pristine" class="help-block">The impersonation email is required.</p></div></div><div class="form-group"><label for="distributorKey" class="col-sm-2 control-label">Distributor key</label><div class="col-sm-10"><input type="text" class="form-control" name="distributorKey" id="distributorKey" readonly="" ng-model="domainDetailsCtrl.currentDomain.distributor_key" required=""></div><div class="col-sm-5"><p ng-show="domainForm.distributorKey.$invalid && !domainForm.distributorKey.$pristine" class="help-block">A distributor key is required.</p></div></div><div class="form-group"><label for="entityKey" class="col-sm-2 control-label">Entity key</label><div class="col-sm-10"><input type="text" class="form-control" name="entityKey" id="entityKey" readonly="" ng-model="domainDetailsCtrl.currentDomain.key"></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-9"><input type="checkbox" id="active" ng-model="domainDetailsCtrl.currentDomain.active"> <label for="active">Active</label></div></div></md-card-content><md-card-actions layout="row" layout-align="end center"><md-button type="submit" ng-disabled="!domainForm.$dirty || domainForm.$invalid"><i class="fa fa-fw fa-save"></i> Save</md-button></md-card-actions></form></md-card></div></md-content></div>'),e.put("app/domain/domains-listing.html",'<div ng-controller="DomainsCtrl" ng-init="domainsCtrl.initialize()" layout="column" ng-cloak=""><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h2 class="md-flex"><i class="fa fa-fw fa-cube ng-scope"></i> Domains</h2></div></md-toolbar><md-content><div flex="100" flex-sm="100" flex-xs="100" layout="column"><md-card><md-card-content><div class="row"><div class="col-lg-12"><md-card-actions layout="row" layout-align="end center"><md-button href="#/domains/add"><i class="fa fa-fw fa-plus"></i> Add</md-button></md-card-actions><table class="table table-responsive table-striped"><thead><tr><th></th><th>Name</th><th>Impersonation Admin Email</th><th>Created</th></tr></thead><tbody><tr ng-hide="domainsCtrl.domains.length"><td class="no-devices text-center text-danger" colspan="4">No domains</td></tr><tr ng-repeat="item in domainsCtrl.domains | orderBy:\'-created\'"><td><a ng-click="domainsCtrl.editItem(item)" title="Domain detail"><ng-md-icon icon="mode_edit" size="48"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"></path><path d="M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg></ng-md-icon></a></td><td class="domain-key"><a name="edit-domain" class="btn" ng-click="domainsCtrl.editItem(item)" title="Edit domain">{{item.name}}</a></td><td class="domain-impersonation-admin-email-address">{{item.impersonation_admin_email_address}}</td><td class="domain-created">{{item.created}}</td></tr></tbody></table></div></div></md-card-content></md-card></div></md-content></div>'),e.put("app/proof/index.html",'<div ng-controller="ProofOfPlayCtrl as vm" layout="column" ng-cloak=""><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h2 class="md-flex"><i class="fa fa-fw fa-film ng-scope"></i>Proof of Play</h2></div></md-toolbar><md-content><div class="container"><div ng-if="!vm.chosen_tenant" ng-init="vm.initialize()"><div ng-hide="vm.tenants"><h3>Loading tenants...</h3></div><div ng-show="vm.tenants"><h3>Please choose a tenant</h3><md-input-container><label>Tenant</label><md-select ng-model="vm.which_tenant"><md-option ng-repeat="tenant in vm.tenants" value="{{tenant}}">{{tenant}}</md-option></md-select></md-input-container><md-button md-no-ink="" class="md-primary" ng-click="vm.submitTenant(vm.which_tenant)">Submit</md-button></div></div></div><md-tabs md-dynamic-height=""><div ng-if="vm.chosen_tenant"><md-tab label="{{vm.resource.title}}" layout-align="center center"><div ng-controller="ProofOfPlayMultiResourceCtrl as vm" layout="column" ng-cloak=""><div class="row" ng-init="vm.initialize()"><div style="padding-top: 25px; padding-left: 50px; text-align: left" class="col-md-7"><md-card><md-card-content><md-content class="md-padding"><div ng-hide="vm.loading"><h4 class="proof-of-play-label">Resource Selection</h4><form ng-submit="$event.preventDefault()"><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in vm.querySearch(vm.resources, vm.searchText)" md-item-text="item" md-min-length="0" md-search-text-change="vm.isResourceValid(vm.searchText)" md-selected-item-change="vm.isResourceValid(vm.searchText)" placeholder="Select a resource"><md-item-template><span md-highlight-text="vm.searchText" md-highlight-flags="^i">{{item}}</span></md-item-template><md-not-found>No matching item for search "{{vm.searchText}}" was found.</md-not-found></md-autocomplete><br><md-button class="md-raised" ng-click="vm.addToSelectedResources(vm.searchText)" style="float: right">Add</md-button><br><br><br><hr></form></div><div ng-show="vm.loading"><md-content class="md-padding"><h3>Loading resources...</h3></md-content><hr></div><div class="row"><div class="col-sm-3"><h4 class="proof-of-play-label">Start Date</h4><md-datepicker ng-model="vm.dateTimeSelection.start" ng-change="vm.isStartDateValid(vm.dateTimeSelection.start)" required="" md-placeholder="Enter date"></md-datepicker></div><div class="col-sm-3 col-sm-offset-4"><h4 class="proof-of-play-label">End Date</h4><md-datepicker ng-model="vm.dateTimeSelection.end" ng-change="vm.isEndDateValid(vm.dateTimeSelection.end)" required="" md-placeholder="Enter date"></md-datepicker></div></div><hr><md-input-container class="md-block"><h4 class="proof-of-play-label">Report Type</h4><md-radio-group ng-model="vm.radioButtonChoices.selection" ng-change="vm.isRadioValid(vm.radioButtonChoices.selection)"><md-radio-button style="margin-left: 20px" value="1">{{vm.radioButtonChoices.group1}}</md-radio-button><md-radio-button style="margin-left: 20px" value="2">{{vm.radioButtonChoices.group2}}</md-radio-button></md-radio-group></md-input-container><hr><md-button class="md-raised" ng-click="vm.submit()" ng-disabled="vm.disabled" style="margin-top: 25px; float: right; margin-bottom: 50px">Submit</md-button></md-content></md-card-content></md-card></div><div style="padding-top: 25px; padding-left: 75px; text-align: left" class="col-md-4 col-sm-8"><md-card><md-card-content><md-content class="md-padding"><h3>Selected Resources</h3><hr><div ng-show="vm.selected_resources.length > 0"><md-list><ol><li ng-repeat="item in vm.selected_resources">{{ item }}<md-button md-no-ink="" class="md-primary" ng-click="vm.removeFromSelectedResource(item)">X</md-button></li></ol></md-list></div><div ng-hide="vm.selected_resources.length > 0"><h5>You have no selected resources</h5></div></md-content></md-card-content></md-card></div></div></div></md-tab><md-tab label="{{vm.location.title}}" layout-align="center center"><div ng-controller="ProofOfPlayMultiLocationCtrl as vm" layout="column" ng-cloak=""><div class="row" ng-init="vm.initialize()"><div style="padding-top: 25px; padding-left: 50px; text-align: left" class="col-md-7"><md-card><md-card-content><md-content class="md-padding"><div ng-hide="vm.loading"><h4 class="proof-of-play-label">Location Selection</h4><form ng-submit="$event.preventDefault()"><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in vm.querySearch(vm.locations, vm.searchText)" md-item-text="item" md-min-length="0" md-search-text-change="vm.isLocationValid(vm.searchText)" md-selected-item-change="vm.isLocationValid(vm.searchText)" placeholder="Select a resource"><md-item-template><span md-highlight-text="vm.searchText" md-highlight-flags="^i">{{item}}</span></md-item-template><md-not-found>No matching item for search "{{vm.searchText}}" was found.</md-not-found></md-autocomplete><br><md-button class="md-raised" ng-click="vm.addToSelectedLocations(vm.searchText)" style="float: right">Add</md-button><br><br><br><hr></form></div><div ng-show="vm.loading"><md-content class="md-padding"><h3>Loading Locations...</h3></md-content><hr></div><div class="row"><div class="col-sm-3"><h4 class="proof-of-play-label">Start Date</h4><md-datepicker ng-model="vm.dateTimeSelection.start" ng-change="vm.isStartDateValid(vm.dateTimeSelection.start)" required="" md-placeholder="Enter date"></md-datepicker></div><div class="col-sm-3 col-sm-offset-4"><h4 class="proof-of-play-label">End Date</h4><md-datepicker ng-model="vm.dateTimeSelection.end" ng-change="vm.isEndDateValid(vm.dateTimeSelection.end)" required="" md-placeholder="Enter date"></md-datepicker></div></div><hr><md-input-container class="md-block"><h4 class="proof-of-play-label">Report Type</h4><md-radio-group ng-model="vm.radioButtonChoices.selection" ng-change="vm.isRadioValid(vm.radioButtonChoices.selection)"><md-radio-button style="margin-left: 20px" value="1">{{vm.radioButtonChoices.group1}}</md-radio-button><md-radio-button style="margin-left: 20px" value="2">{{vm.radioButtonChoices.group2}}</md-radio-button></md-radio-group></md-input-container><hr><md-button class="md-raised" ng-click="vm.submit()" ng-disabled="vm.disabled" style="margin-top: 25px; float: right; margin-bottom: 50px">Submit</md-button></md-content></md-card-content></md-card></div><div style="padding-top: 25px; padding-left: 75px; text-align: left" class="col-md-4"><md-card><md-card-content><md-content class="md-padding"><h3>Selected Locations</h3><hr><div ng-show="vm.selected_locations.length > 0"><md-list><ol><li ng-repeat="item in vm.selected_locations">{{ item }}<md-button md-no-ink="" class="md-primary" ng-click="vm.removeFromSelectedLocation(item)">X</md-button></li></ol></md-list></div><div ng-hide="vm.selected_locations.length > 0"><h5>You have no selected locations</h5></div></md-content></md-card-content></md-card></div></div></div></md-tab><md-tab label="{{vm.display.title}}" layout-align="center center"><div ng-controller="ProofOfPlayMultiDisplayCtrl as vm" layout="column" ng-cloak=""><div class="row" ng-init="vm.initialize()"><div style="padding-top: 25px; padding-left: 50px; text-align: left" class="col-md-7"><md-card><md-card-content><md-content class="md-padding"><div ng-hide="vm.loading"><h4 class="proof-of-play-label">Display Selection</h4><form ng-submit="$event.preventDefault()"><md-autocomplete md-selected-item="vm.selectedItem" md-search-text="vm.searchText" md-items="item in vm.querySearch(vm.displays, vm.searchText)" md-item-text="item" md-min-length="0" md-search-text-change="vm.isDisplayValid(vm.searchText)" md-selected-item-change="vm.isDisplayValid(vm.searchText)" placeholder="Select a display"><md-item-template><span md-highlight-text="vm.searchText" md-highlight-flags="^i">{{item}}</span></md-item-template><md-not-found>No matching item for search "{{vm.searchText}}" was found.</md-not-found></md-autocomplete><br><md-button class="md-raised" ng-click="vm.addToSelectedDisplays(vm.searchText)" style="float: right">Add</md-button><br><br><br><hr></form></div><div ng-show="vm.loading"><md-content class="md-padding"><h3>Loading displays...</h3></md-content><hr></div><div class="row"><div class="col-sm-3"><h4 class="proof-of-play-label">Start Date</h4><md-datepicker ng-model="vm.dateTimeSelection.start" ng-change="vm.isStartDateValid(vm.dateTimeSelection.start)" required="" md-placeholder="Enter date"></md-datepicker></div><div class="col-sm-3 col-sm-offset-4"><h4 class="proof-of-play-label">End Date</h4><md-datepicker ng-model="vm.dateTimeSelection.end" ng-change="vm.isEndDateValid(vm.dateTimeSelection.end)" required="" md-placeholder="Enter date"></md-datepicker></div></div><hr><md-input-container class="md-block"><h4 class="proof-of-play-label">Report Type</h4><md-radio-group ng-model="vm.radioButtonChoices.selection" ng-change="vm.isRadioValid(vm.radioButtonChoices.selection)"><md-radio-button style="margin-left: 20px" value="1">{{vm.radioButtonChoices.group1}}</md-radio-button><md-radio-button style="margin-left: 20px" value="2">{{vm.radioButtonChoices.group2}}</md-radio-button></md-radio-group></md-input-container><hr><md-button class="md-raised" ng-click="vm.submit()" ng-disabled="vm.disabled" style="margin-top: 25px; float: right; margin-bottom: 50px">Submit</md-button></md-content></md-card-content></md-card></div><div style="padding-top: 25px; padding-left: 75px; text-align: left" class="col-md-4"><md-card><md-card-content><md-content class="md-padding"><h3>Selected Displays</h3><hr><div ng-show="vm.selected_displays.length > 0"><md-list><ol><li ng-repeat="item in vm.selected_displays">{{ item }}<md-button md-no-ink="" class="md-primary" ng-click="vm.removeFromSelectedDisplay(item)">X</md-button></li></ol></md-list></div><div ng-hide="vm.selected_displays.length > 0"><h5>You have no selected displays</h5></div></md-content></md-card-content></md-card></div></div></div></md-tab></div></md-tabs></md-content></div>'),e.put("app/tenant/tenant-add.html",'<div ng-controller="TenantAddCtrl" ng-init="tenantAddCtrl.initialize()" layout="column" ng-cloak=""><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h2 class="md-flex"><i class="fa fa-fw fa-group ng-scope"></i> Tenant</h2></div></md-toolbar><md-content class="md-padding"><div flex="80" flex-xs="100" layout="column"><div ncy-breadcrumb=""></div></div><div flex="75" flex-sm="50" flex-xs="30" layout="column"><md-card><md-card-content><form name="tenantForm" class="form-horizontal" ng-submit="tenantAddCtrl.onClickSaveButton()" novalidate=""><div class="form-group" ng-class="{ \'has-error\' : tenantForm.name.$invalid && !tenantForm.name.$pristine }"><div class="col-sm-4"><label>Name</label> <input type="text" class="form-control" autofocus="" name="name" placeholder="Enter a name" ng-change="tenantAddCtrl.autoGenerateTenantCode()" ng-model="tenantAddCtrl.currentTenant.name" required=""></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.tenantCode.$invalid && !tenantForm.tenantCode.$pristine }"><div class="col-sm-4"><label>Code</label> <input type="text" class="form-control" name="tenantCode" placeholder="Code matching Google Device Management" ng-model="tenantAddCtrl.currentTenant.tenant_code" required="" ng-pattern="/^[a-z0-9_]*$/"></div><div class="col-sm-5 margin-top-15"><p ng-show="tenantForm.tenantCode.$invalid && !tenantForm.tenantCode.$pristine" class="help-block">Alphanumeric and underscore are allowed.</p></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.chromeDeviceDomain.$invalid && !tenantForm.chromeDeviceDomain.$pristine }"><div class="col-sm-4"><label>Domain</label><select id="chromeDeviceDomain" ng-model="tenantAddCtrl.selectedDomain" class="form-control" ng-options="i.name for i in tenantAddCtrl.distributorDomains track by i.key"><option value="">Select domain</option></select></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.adminEmail.$invalid && !tenantForm.adminEmail.$pristine }"><div class="col-sm-4"><label>Admin email</label> <input type="email" required="" class="form-control" name="adminEmail" id="adminEmail" placeholder="Enter a valid admin email" ng-model="tenantAddCtrl.currentTenant.admin_email"></div><div class="col-sm-5 margin-top-15"><p ng-show="tenantForm.adminEmail.$invalid && !tenantForm.adminEmail.$pristine" class="help-block">A valid admin email is required.</p></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.contentManagerBaseUrl.$invalid && !tenantForm.contentManagerBaseUrl.$pristine }"><div class="col-sm-5"><label>Content manager URL</label> <input type="url" required="" class="form-control" name="contentManagerBaseUrl" id="contentManagerBaseUrl" placeholder="Enter content manager base URL" ng-model="tenantAddCtrl.currentTenant.content_manager_base_url" ng-pattern="/^https:\\/\\/\\S+$/"></div><div class="col-sm-5 margin-top-15"><p ng-show="tenantForm.contentManagerBaseUrl.$invalid && !tenantForm.contentManagerBaseUrl.$pristine" class="help-block">Content manager URL must be a secure URL.</p></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.contentServerUrl.$invalid && !tenantForm.contentServerUrl.$pristine }"><div class="col-sm-5"><label>Player content URL</label> <input type="url" required="" class="form-control" name="contentServerUrl" id="contentServerUrl" placeholder="Enter content server URL" ng-model="tenantAddCtrl.currentTenant.content_server_url" ng-pattern="/^https:\\/\\/\\S+$/"></div><div class="col-sm-5 margin-top-15"><p ng-show="tenantForm.contentServerUrl.$invalid && !tenantForm.contentServerUrl.$pristine" class="help-block">Player content URL must be a secure URL.</p></div></div><div class="form-group"><div class="col-sm-5"><label>Notification emails</label> <input type="text" class="form-control" name="notificationEmails" id="notificationEmails" placeholder="Enter comma-delimited emails" ng-model="tenantAddCtrl.currentTenant.notification_emails"></div></div><div class="form-group"><div class="col-sm-9"><input type="checkbox" ng-model="tenantAddCtrl.currentTenant.proof_of_play_logging"> <label>Proof of play logging</label></div></div><div class="form-group"><div class="col-sm-9"><input type="checkbox" id="active" ng-model="tenantAddCtrl.currentTenant.active"> <label for="active">Active</label></div></div><md-card-actions layout="row" layout-align="center"><md-button type="submit" ng-disabled="tenantForm.$invalid"><i class="fa fa-fw fa-save"></i> Save</md-button></md-card-actions></form></md-card-content></md-card></div></md-content></div>'),e.put("app/tenant/tenant-details.html",'<div ng-controller="TenantDetailsCtrl" ng-init="tenantDetailsCtrl.initialize()" layout="column" ng-cloak=""><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h2 class="md-flex"><i class="fa fa-fw fa-group ng-scope"></i> Tenants</h2></div></md-toolbar><md-content class="md-padding"><div flex="80" flex-xs="100" layout="column"><div ncy-breadcrumb=""></div></div><md-tabs md-stretch-tabs="" md-selected="tabIndex"><md-tab label="General"></md-tab><md-tab label="Managed Devices"></md-tab><md-tab label="Unmanaged Devices"></md-tab><md-tab label="Locations"></md-tab></md-tabs><div flex="75" flex-sm="50" flex-xs="30" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">{{ tenantDetailsCtrl.currentTenant.name }}</span></md-card-title-text></md-card-title><md-card-content><form name="tenantForm" class="form-horizontal" ng-submit="tenantDetailsCtrl.onClickSaveButton()" novalidate=""><div class="form-group" ng-class="{ \'has-error\' : tenantForm.name.$invalid && !tenantForm.name.$pristine }"><div class="col-sm-4"><label>Name</label> <input type="text" class="form-control" autofocus="" name="name" placeholder="Enter a name" ng-change="!tenantDetailsCtrl.editMode && tenantDetailsCtrl.autoGenerateTenantCode()" ng-model="tenantDetailsCtrl.currentTenant.name" required=""></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.tenantCode.$invalid && !tenantForm.tenantCode.$pristine }"><div class="col-sm-4"><label>Code</label> <input type="text" ng-readonly="tenantDetailsCtrl.editMode == true" class="form-control" name="tenantCode" placeholder="Code matching Google Device Management" ng-model="tenantDetailsCtrl.currentTenant.tenant_code" required="" ng-pattern="/^[a-z0-9_]*$/"></div><div class="col-sm-5 margin-top-15"><p ng-show="tenantForm.tenantCode.$invalid && !tenantForm.tenantCode.$pristine" class="help-block">Alphanumeric and underscore are allowed.</p></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.chromeDeviceDomain.$invalid && !tenantForm.chromeDeviceDomain.$pristine }"><div class="col-sm-4"><label>Domain</label><select id="chromeDeviceDomain" ng-model="tenantDetailsCtrl.selectedDomain" class="form-control" ng-options="i.name for i in tenantDetailsCtrl.distributorDomains track by i.key"><option value="">Select domain</option></select></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.adminEmail.$invalid && !tenantForm.adminEmail.$pristine }"><div class="col-sm-4"><label>Admin email</label> <input type="email" required="" ng-readonly="tenantDetailsCtrl.editMode == true" class="form-control" name="adminEmail" id="adminEmail" placeholder="Enter a valid admin email" ng-model="tenantDetailsCtrl.currentTenant.admin_email"></div><div class="col-sm-5 margin-top-15"><p ng-show="tenantForm.adminEmail.$invalid && !tenantForm.adminEmail.$pristine" class="help-block">A valid admin email is required.</p></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.contentManagerBaseUrl.$invalid && !tenantForm.contentManagerBaseUrl.$pristine }"><div class="col-sm-5"><label>Content manager URL</label> <input type="url" required="" class="form-control" name="contentManagerBaseUrl" id="contentManagerBaseUrl" placeholder="Enter content manager base URL" ng-model="tenantDetailsCtrl.currentTenant.content_manager_base_url" ng-pattern="/^https:\\/\\/\\S+$/"></div><div class="col-sm-5 margin-top-15"><p ng-show="tenantForm.contentManagerBaseUrl.$invalid && !tenantForm.contentManagerBaseUrl.$pristine" class="help-block">Content manager URL must be a secure URL.</p></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.contentServerUrl.$invalid && !tenantForm.contentServerUrl.$pristine }"><div class="col-sm-5"><label>Player content URL</label> <input type="url" required="" class="form-control" name="contentServerUrl" id="contentServerUrl" placeholder="Enter content server URL" ng-model="tenantDetailsCtrl.currentTenant.content_server_url" ng-pattern="/^https:\\/\\/\\S+$/"></div><div class="col-sm-5 margin-top-15"><p ng-show="tenantForm.contentServerUrl.$invalid && !tenantForm.contentServerUrl.$pristine" class="help-block">Player content URL must be a secure URL.</p></div></div><div class="form-group"><div class="col-sm-5"><label>Notification emails</label> <input type="text" class="form-control" name="notificationEmails" id="notificationEmails" placeholder="Enter comma-delimited emails" ng-model="tenantDetailsCtrl.currentTenant.notification_emails"></div></div><div class="form-group"><div class="col-sm-9"><input type="checkbox" ng-model="tenantDetailsCtrl.currentTenant.proof_of_play_logging"> <label>Proof of play logging</label></div></div><div class="form-group"><div class="col-sm-9"><input type="checkbox" id="active" ng-model="tenantDetailsCtrl.currentTenant.active"> <label for="active">Active</label></div></div><md-card-actions layout="row" layout-align="center"><md-button type="submit" ng-disabled="tenantForm.$invalid"><i class="fa fa-fw fa-save"></i> Save</md-button></md-card-actions></form></md-card-content></md-card></div></md-content></div>'),e.put("app/tenant/tenant-location.html",'<div ng-controller="TenantLocationCtrl" ng-init="tenantLocationCtrl.initialize()" layout="column" ng-cloak=""><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h2 class="md-flex"><i class="fa fa-fw fa-location-arrow ng-scope"></i> Location</h2></div></md-toolbar><md-content class="md-padding"><div flex="80" flex-xs="100" layout="column"><div ncy-breadcrumb=""></div></div><div flex="75" flex-sm="50" flex-xs="30" layout="column"><md-card><md-card-content><form name="locationForm" class="form-horizontal" ng-submit="tenantLocationCtrl.onClickSaveButton()" novalidate=""><div class="form-group" ng-class="{ \'has-error\' : locationForm.customerLocationName.$invalid && !locationForm.customerLocationName.$pristine }"><div class="col-sm-4"><label>Customer Location Name</label> <input type="text" class="form-control" autofocus="" name="customerLocationName" placeholder="Enter a customer location name" ng-change="tenantLocationCtrl.autoGenerateCustomerLocationCode()" ng-model="tenantLocationCtrl.location.customerLocationName" required=""></div></div><div class="form-group" ng-class="{ \'has-error\' : locationForm.customerLocationCode.$invalid && !locationForm.customerLocationCode.$pristine }"><div class="col-sm-4"><label>Customer Location Code</label> <input type="text" ng-readonly="tenantLocationCtrl.editMode == true" class="form-control" name="customerLocationCode" placeholder="Auto-generated" ng-model="tenantLocationCtrl.location.customerLocationCode" required="" ng-pattern="/^[a-z0-9_]*$/"></div><div class="col-sm-5 margin-top-15"><p ng-show="locationForm.tenantCode.$invalid && !locationForm.tenantCode.$pristine" class="help-block">Alphanumeric and underscore are allowed.</p></div></div><div class="form-group" ng-class="{ \'has-error\' : locationForm.timezone.$invalid && !locationForm.timezone.$pristine }"><div class="col-sm-4"><label>Timezone</label><br><select id="timezone" ng-model="tenantLocationCtrl.selectedTimezone" class="form-control" ng-options="item for item in tenantLocationCtrl.timezones track by item"><option value="">Select timezone</option></select></div><div class="col-sm-5 margin-top-15"><p ng-show="locationForm.tenantCode.$invalid && !locationForm.tenantCode.$pristine" class="help-block">Alphanumeric and underscore are allowed.</p></div></div><div class="form-group" ng-class="{ \'has-error\' : locationForm.address.$invalid && !locationForm.address.$pristine }"><div class="col-sm-4"><label>Address</label> <input type="text" class="form-control" name="address" placeholder="Enter a street address" ng-model="tenantLocationCtrl.location.address"></div></div><div class="form-group" ng-class="{ \'has-error\' : locationForm.city.$invalid && !locationForm.city.$pristine }"><div class="col-sm-4"><label>City</label> <input type="text" class="form-control" name="city" placeholder="Enter a city" ng-model="tenantLocationCtrl.location.city"></div></div><div class="form-group" ng-class="{ \'has-error\' : locationForm.state.$invalid && !locationForm.state.$pristine }"><div class="col-sm-4"><label>State</label> <input type="text" class="form-control" name="state" placeholder="Enter a state" ng-model="tenantLocationCtrl.location.state"></div></div><div class="form-group" ng-class="{ \'has-error\' : locationForm.postalCode.$invalid && !locationForm.postalCode.$pristine }"><div class="col-sm-4"><label>Postal code</label> <input type="text" class="form-control" name="postalCode" placeholder="Enter a postal code" ng-model="tenantLocationCtrl.location.postalCode"></div></div><div class="form-group" ng-class="{ \'has-error\' : locationForm.latitude.$invalid && !locationForm.latitude.$pristine }"><div class="col-sm-4"><label>Latitude</label> <input type="text" class="form-control" name="latitude" placeholder="Enter a latitude" ng-model="tenantLocationCtrl.location.latitude"></div></div><div class="form-group" ng-class="{ \'has-error\' : locationForm.longitude.$invalid && !locationForm.longitude.$pristine }"><div class="col-sm-4"><label>Longitude</label> <input type="text" class="form-control" name="longitude" placeholder="Enter a longitude" ng-model="tenantLocationCtrl.location.longitude"></div></div><div class="form-group" ng-class="{ \'has-error\' : locationForm.dma.$invalid && !locationForm.dma.$pristine }"><div class="col-sm-4"><label>DMA</label> <input type="text" class="form-control" name="dma" placeholder="Enter a dma" ng-model="tenantLocationCtrl.location.dma"></div></div><div class="form-group"><div class="col-sm-9"><input type="checkbox" id="active" ng-model="tenantLocationCtrl.location.active"> <label for="active">Active</label></div></div><md-card-actions layout="row" layout-align="center"><md-button type="submit" ng-disabled="locationForm.$invalid"><i class="fa fa-fw fa-save"></i> Save</md-button></md-card-actions></form></md-card-content></md-card></div></md-content></div>'),e.put("app/tenant/tenant-locations.html",'<div ng-controller="TenantLocationsCtrl" ng-init="tenantLocationsCtrl.initialize()" layout="column" ng-cloak=""><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h2 class="md-flex"><i class="fa fa-fw fa-group ng-scope"></i> Tenants</h2></div></md-toolbar><md-content class="md-padding"><div flex="80" flex-xs="100" layout="column"><div ncy-breadcrumb=""></div></div><md-tabs md-stretch-tabs="" md-selected="tabIndex"><md-tab label="General"></md-tab><md-tab label="Managed Devices"></md-tab><md-tab label="Unmanaged Devices"></md-tab><md-tab label="Locations"></md-tab></md-tabs><div flex="90" flex-sm="90" flex-xs="90" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">{{ tenantLocationsCtrl.currentTenant.name }}</span></md-card-title-text><md-button href="#/tenants/{{ tenantLocationsCtrl.currentTenant.key }}/location"><i class="fa fa-fw fa-plus"></i> Add</md-button></md-card-title><md-card-content><div class="row"><div class="col-lg-12"><table name="tenant-locations-table" class="table table-responsive table-striped"><thead><tr><th></th><th>Customer Location Name</th><th>Customer Location Code</th><th><i class="fa fa-fw fa-clock-o"></i> Timezone</th></tr></thead><tbody><tr ng-hide="tenantLocationsCtrl.locations.length"><td class="text-center text-danger" colspan="4">{{ tenantLocationsCtrl.currentTenant.name }} has no locations.</td></tr><tr ng-repeat="item in tenantLocationsCtrl.locations | orderBy:\'customerLocationName\'"><td><a ng-click="tenantLocationsCtrl.editItem(item)" title="Location detail"><ng-md-icon icon="mode_edit" size="48"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"></path><path d="M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg></ng-md-icon></a></td><td>{{item.customerLocationName}}</td><td>{{item.customerLocationCode}}</td><td>{{item.timezone}}</td></tr></tbody></table></div></div></md-card-content></md-card></div></md-content></div>'),e.put("app/tenant/tenant-managed-devices.html",'<div ng-controller="TenantManagedDevicesCtrl" layout="column" ng-cloak=""><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h2 class="md-flex"><i class="fa fa-fw fa-group ng-scope"></i> Tenants</h2></div></md-toolbar><md-content class="md-padding"><div flex="80" flex-xs="100" layout="column"><div ncy-breadcrumb=""></div></div><md-tabs md-stretch-tabs="" md-selected="tabIndex"><md-tab label="General"></md-tab><md-tab label="Managed Devices"></md-tab><md-tab label="Unmanaged Devices"></md-tab><md-tab label="Locations"></md-tab></md-tabs><div flex="100" flex-sm="100" flex-xs="100" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">{{ tenantManagedDevicesCtrl.currentTenant.name }}</span></md-card-title-text></md-card-title><md-card-content><table class="table table-responsive table-striped"><thead><tr><th></th><th><i class="fa fa-fw fa-wifi"></i> MAC</th><th><i class="fa fa-fw fa-plug"></i> MAC</th><th>Serial number</th><th>Provisioned</th><th></th></tr></thead><tbody><tr ng-hide="tenantManagedDevicesCtrl.tenantDevices.length"><td colspan="6" class="text-center text-danger">{{ tenantManagedDevicesCtrl.currentTenant.name }} has no managed devices.</td></tr><tr ng-repeat="item in tenantManagedDevicesCtrl.tenantDevices | orderBy:\'-created\'"><td><a ng-click="tenantManagedDevicesCtrl.editItem(item)" title="Device detail"><ng-md-icon icon="mode_edit" size="48"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"></path><path d="M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg></ng-md-icon></a></td><td>{{ item.macAddress }}</td><td>{{ item.ethernetMacAddress }}</td><td><a name="edit-device" class="btn" ng-click="tenantManagedDevicesCtrl.editItem(item)" title="Device detail">{{item.serialNumber}}</a></td><td>{{ item.created }}</td><td class="up-{{ item.up}}-background"></td></tr></tbody></table></md-card-content></md-card></div></md-content></div>'),e.put("app/tenant/tenant-unmanaged-devices.html",'<div ng-controller="TenantUnmanagedDevicesCtrl" layout="column" ng-cloak=""><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h2 class="md-flex"><i class="fa fa-fw fa-group ng-scope"></i> Tenants</h2></div></md-toolbar><md-content class="md-padding"><div flex="80" flex-xs="100" layout="column"><div ncy-breadcrumb=""></div></div><md-tabs md-stretch-tabs="" md-selected="tabIndex"><md-tab label="General"></md-tab><md-tab label="Managed Devices"></md-tab><md-tab label="Unmanaged Devices"></md-tab><md-tab label="Locations"></md-tab></md-tabs><div flex="100" flex-sm="100" flex-xs="100" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">{{ tenantUnmanagedDevicesCtrl.currentTenant.name }}</span></md-card-title-text></md-card-title><md-card-content><table class="table table-responsive table-striped"><thead><tr><th></th><th><i class="fa fa-fw fa-wifi"></i> MAC</th><th><i class="fa fa-fw fa-plug"></i> MAC</th><th>Provisioned</th></tr></thead><tbody><tr ng-hide="tenantUnmanagedDevicesCtrl.tenantDevices.length"><td colspan="4" class="text-center text-danger">{{ tenantUnmanagedDevicesCtrl.currentTenant.name }} has no unmanaged devices.</td></tr><tr ng-repeat="item in tenantUnmanagedDevicesCtrl.tenantDevices | orderBy:\'-created\'"><td><a ng-click="tenantUnmanagedDevicesCtrl.editItem(item)" title="Device detail"><ng-md-icon icon="mode_edit" size="48"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"></path><path d="M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg></ng-md-icon></a></td><td>{{ item.macAddress }}</td><td>{{ item.ethernetMacAddress }}</td><td>{{ item.created }}</td><td class="up-{{ item.up}}-background"></td></tr></tbody></table></md-card-content></md-card></div></md-content></div>'),e.put("app/tenant/tenants-listing.html",'<div ng-controller="TenantsCtrl" ng-init="tenantsCtrl.initialize()" layout="column" ng-cloak=""><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h2 class="md-flex"><i class="fa fa-fw fa-group ng-scope"></i> Tenants</h2></div></md-toolbar><md-content><div flex="90" flex-sm="90" flex-xs="90" layout="column"><md-card><md-card-content><div class="row"><div class="col-lg-12"><md-card-actions layout="row" layout-align="end center"><md-button href="#/tenants/add"><i class="fa fa-fw fa-plus"></i> Add</md-button></md-card-actions><table name="tenant-table" class="table table-responsive table-striped"><thead><tr><th></th><th>Name</th><th>Code</th><th>Content Server URL</th><th>Admin email</th></tr></thead><tbody><tr ng-hide="tenantsCtrl.tenants.length"><td class="no-devices text-center text-danger" colspan="5">No tenants</td></tr><tr ng-repeat="item in tenantsCtrl.tenants | orderBy:\'name\'"><td><a ng-click="tenantsCtrl.editItem(item)" title="Tenant detail"><ng-md-icon icon="mode_edit" size="48"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"></path><path d="M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg></ng-md-icon></a></td><td>{{item.name}}</td><td>{{item.tenant_code}}</td><td>{{item.content_server_url}}</td><td>{{item.admin_email}}</td></tr></tbody></table></div></div></md-card-content></md-card></div></md-content></div>'),e.put("app/tenant/ztenant-detail.html",'<div ng-controller="TenantDetailsCtrl" ng-init="tenantDetailsCtrl.initialize()" layout="column" ng-cloak=""><md-toolbar class="md-hue-2"><div class="md-toolbar-tools"><h2 class="md-flex"><i class="fa fa-fw fa-group ng-scope"></i> Tenants</h2></div></md-toolbar><md-content><div flex="80" flex-xs="100" layout="column"><div ncy-breadcrumb=""></div></div><md-tabs md-dynamic-height="" md-border-bottom=""><md-tab label="General"><md-content class="md-padding"><div flex="75" flex-sm="50" flex-xs="30" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">{{ tenantDetailsCtrl.currentTenant.name }}</span></md-card-title-text></md-card-title><md-card-content><form name="tenantForm" class="form-horizontal" ng-submit="tenantDetailsCtrl.onClickSaveButton()" novalidate=""><div class="form-group" ng-hide="!tenantDetailsCtrl.editMode"><div class="col-sm-12"><label>Key</label><div>{{tenantDetailsCtrl.currentTenant.key}}</div></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.name.$invalid && !tenantForm.name.$pristine }"><div class="col-sm-4"><label>Name</label> <input type="text" class="form-control" autofocus="" name="name" placeholder="Enter a name" ng-change="!tenantDetailsCtrl.editMode && tenantDetailsCtrl.autoGenerateTenantCode()" ng-model="tenantDetailsCtrl.currentTenant.name" required=""></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.tenantCode.$invalid && !tenantForm.tenantCode.$pristine }"><div class="col-sm-4"><label>Code</label> <input type="text" ng-readonly="tenantDetailsCtrl.editMode == true" class="form-control" name="tenantCode" placeholder="Code matching Google Device Management" ng-model="tenantDetailsCtrl.currentTenant.tenant_code" required="" ng-pattern="/^[a-z0-9_]*$/"></div><div class="col-sm-5 margin-top-15"><p ng-show="tenantForm.tenantCode.$invalid && !tenantForm.tenantCode.$pristine" class="help-block">Alphanumeric and underscore are allowed.</p></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.chromeDeviceDomain.$invalid && !tenantForm.chromeDeviceDomain.$pristine }"><div class="col-sm-4"><label>Domain</label><select id="chromeDeviceDomain" ng-model="tenantDetailsCtrl.selectedDomain" class="form-control" ng-options="i.name for i in tenantDetailsCtrl.distributorDomains track by i.key"><option value="">Select domain</option></select></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.adminEmail.$invalid && !tenantForm.adminEmail.$pristine }"><div class="col-sm-4"><label>Admin email</label> <input type="email" required="" ng-readonly="tenantDetailsCtrl.editMode == true" class="form-control" name="adminEmail" id="adminEmail" placeholder="Enter a valid admin email" ng-model="tenantDetailsCtrl.currentTenant.admin_email"></div><div class="col-sm-5 margin-top-15"><p ng-show="tenantForm.adminEmail.$invalid && !tenantForm.adminEmail.$pristine" class="help-block">A valid admin email is required.</p></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.contentManagerBaseUrl.$invalid && !tenantForm.contentManagerBaseUrl.$pristine }"><div class="col-sm-5"><label>Content manager URL</label> <input type="url" required="" class="form-control" name="contentManagerBaseUrl" id="contentManagerBaseUrl" placeholder="Enter content manager base URL" ng-model="tenantDetailsCtrl.currentTenant.content_manager_base_url" ng-pattern="/^https:\\/\\/\\S+$/"></div><div class="col-sm-5 margin-top-15"><p ng-show="tenantForm.contentManagerBaseUrl.$invalid && !tenantForm.contentManagerBaseUrl.$pristine" class="help-block">Content manager URL must be a secure URL.</p></div></div><div class="form-group" ng-class="{ \'has-error\' : tenantForm.contentServerUrl.$invalid && !tenantForm.contentServerUrl.$pristine }"><div class="col-sm-5"><label>Player content URL</label> <input type="url" required="" class="form-control" name="contentServerUrl" id="contentServerUrl" placeholder="Enter content server URL" ng-model="tenantDetailsCtrl.currentTenant.content_server_url" ng-pattern="/^https:\\/\\/\\S+$/"></div><div class="col-sm-5 margin-top-15"><p ng-show="tenantForm.contentServerUrl.$invalid && !tenantForm.contentServerUrl.$pristine" class="help-block">Player content URL must be a secure URL.</p></div></div><div class="form-group"><div class="col-sm-5"><label>Notification emails</label> <input type="text" class="form-control" name="notificationEmails" id="notificationEmails" placeholder="Enter comma-delimited emails" ng-model="tenantDetailsCtrl.currentTenant.notification_emails"></div></div><div class="form-group"><div class="col-sm-9"><input type="checkbox" ng-model="tenantDetailsCtrl.currentTenant.proof_of_play_logging"> <label>Proof of play logging</label></div></div><div class="form-group"><div class="col-sm-9"><input type="checkbox" id="active" ng-model="tenantDetailsCtrl.currentTenant.active"> <label for="active">Active</label></div></div><md-card-actions layout="row" layout-align="center"><md-button type="submit" ng-disabled="tenantForm.$invalid"><i class="fa fa-fw fa-save"></i> Save</md-button></md-card-actions></form></md-card-content></md-card></div></md-content></md-tab><md-tab label="Managed devices"><md-content class="md-padding"><div flex="100" flex-sm="100" flex-xs="100" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">{{ tenantDetailsCtrl.currentTenant.name }}</span></md-card-title-text></md-card-title><md-card-content><table class="table table-responsive table-striped"><thead><tr><th></th><th><i class="fa fa-fw fa-wifi"></i> MAC</th><th><i class="fa fa-fw fa-plug"></i> MAC</th><th>Serial number</th><th>Provisioned</th><th></th><th></th></tr></thead><tbody><tr ng-hide="tenantDetailsCtrl.currentTenantDisplays.length"><td colspan="7" class="text-center text-danger">No displays</td></tr><tr ng-repeat="item in tenantDetailsCtrl.currentTenantDisplays | orderBy:\'-created\'"><td><a ng-click="tenantDetailsCtrl.editItem(item)" title="Device detail"><ng-md-icon icon="mode_edit" size="48"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"></path><path d="M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg></ng-md-icon></a></td><td>{{ item.macAddress }}</td><td>{{ item.ethernetMacAddress }}</td><td><a name="edit-device" class="btn" ng-click="tenantDetailsCtrl.editItem(item)" title="Device detail">{{item.serialNumber}}</a></td><td>{{ item.created }}</td><td><md-button class="md-secondary" ng-click="tenantDetailsCtrl.showDeviceDetails(item, $event)">More Info</md-button></td><td class="up-{{ item.up}}-background"></td></tr></tbody></table></md-card-content></md-card></div></md-content></md-tab><md-tab label="Unmanaged devices"><md-content class="md-padding"><div flex="100" flex-sm="100" flex-xs="100" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">{{ tenantDetailsCtrl.currentTenant.name }}</span></md-card-title-text></md-card-title><md-card-content><table class="table table-responsive table-striped"><thead><tr><th></th><th><i class="fa fa-fw fa-wifi"></i> MAC</th><th><i class="fa fa-fw fa-plug"></i> MAC</th><th>Provisioned</th><th></th><th></th></tr></thead><tbody><tr ng-hide="tenantDetailsCtrl.currentTenantUnmanagedDisplays.length"><td colspan="6" class="text-center text-danger">No displays</td></tr><tr ng-repeat="item in tenantDetailsCtrl.currentTenantUnmanagedDisplays | orderBy:\'-created\'"><td><a ng-click="tenantDetailsCtrl.editItem(item)" title="Device detail"><ng-md-icon icon="mode_edit" size="48"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"></path><path d="M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg></ng-md-icon></a></td><td>{{ item.macAddress }}</td><td>{{ item.ethernetMacAddress }}</td><td>{{ item.created }}</td><td><md-button class="md-secondary" ng-click="tenantDetailsCtrl.showDeviceDetails(item, $event)">More Info</md-button></td><td class="up-{{ item.up}}-background"></td></tr></tbody></table></md-card-content></md-card></div></md-content></md-tab><md-tab label="Locations"><md-content class="md-padding"><div flex="100" flex-sm="100" flex-xs="100" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline">{{ tenantDetailsCtrl.currentTenant.name }}</span></md-card-title-text></md-card-title><md-card-content><table class="table table-responsive table-striped"><thead><tr><th></th><th>Location Name</th><th>Location Code</th><th><i class="fa fa-fw fa-clock-o"></i> Timezone</th></tr></thead><tbody></tbody></table></md-card-content></md-card></div></md-content></md-tab></md-tabs></md-content></div>'),e.put("app/welcome/welcome.html",'<div ng-controller="WelcomeCtrl as welcomeCtrl" ng-init="welcomeCtrl.initialize()" layout="column" ng-cloak=""><md-content flex="" layout-padding=""><div flex="35" flex-sm="35" flex-xs="35" layout="column"><md-card><md-card-title><md-card-title-text><span class="md-headline"><i class="fa fa-fw fa-tag ng-scope"></i> Version</span></md-card-title-text></md-card-title><md-card-content><table class="table"><tbody><tr><td class="text-right col-md-3">Hostname:</td><td class="col-md-3">{{welcomeCtrl.version_data.hostname}}</td></tr><tr><td class="text-right col-md-3">Web module:</td><td class="col-md-3">{{welcomeCtrl.version_data.web_module_name}}</td></tr><tr><td class="text-right col-md-3">Web version:</td><td class="col-md-3">{{welcomeCtrl.version_data.web_version_name}}</td></tr><tr><td class="text-right col-md-3">Instance id:</td><td class="col-md-3">{{welcomeCtrl.version_data.current_instance_id}}</td></tr></tbody></table></md-card-content></md-card></div></md-content></div>')
}]);