webpackJsonp([0],{0:function(e,exports,t){t(70),e.exports=t(367)},367:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(368),i=t(644),a=t(645),o=t(657),s=t(658),c=t(659),u=t(660),l=t(693),d=t(694),v=t(695),p=t(696),f=t(697),m=t(698),h=t(699),g=t(700),y=t(701),b=n(y),D=t(707),S=n(D),_=t(708),T=n(_),k=t(709),x=n(k),C=t(710),w=n(C),M=t(711),I=n(M),P=t(712),E=n(P),A=t(713),B=n(A),j=t(714),R=n(j),O=t(715),U=n(O),K=t(716),L=n(K),V=t(717),N=n(V),F=t(718),z=n(F),Y=t(719),q=n(Y),H=t(721),W=n(H),G=t(722),X=n(G),J=t(723),Z=n(J),Q=t(724),ee=n(Q),te=t(725),ne=t(726),re=t(727),ie=t(728),ae=t(730),oe=t(731),se=t(732),ce=t(733),ue=t(734),le=t(735),de=t(736);r.app.service("StorageService",q["default"]).service("AdminService",b["default"]).service("AuthorizationService",S["default"]).service("CommandsService",T["default"]).service("DateManipulationService",x["default"]).service("DevicesService",w["default"]).service("DistributorsService",I["default"]).service("DomainsService",E["default"]).service("IdentityService",B["default"]).service("IntegrationEvents",R["default"]).service("LocationsService",U["default"]).service("ProgressBarService",L["default"]).service("ProofPlayService",N["default"]).service("SessionsService",z["default"]).service("TenantsService",W["default"]).service("TimezonesService",X["default"]).service("ToastsService",Z["default"]).service("VersionsService",ee["default"]).controller("DeviceDetailsCommandsCtrl",i.DeviceDetailsCommandsCtrl).controller("DeviceDetailsCtrl",a.DeviceDetailsCtrl).controller("DevicesListingCtrl",o.DevicesListingCtrl).controller("AdminCtrl",s.AdminCtrl).controller("AuthenticationCtrl",c.AuthenticationCtrl).controller("AppController",u.AppController).controller("DistributorSelectorCtrl",l.DistributorSelectorCtrl).controller("DistributorsCtrl",d.DistributorsCtrl).controller("DomainsCtrl",v.DomainsCtrl).controller("DomainDetailsCtrl",p.DomainDetailsCtrl).controller("ProofOfPlayMultiLocationCtrl",f.ProofOfPlayMultiLocationCtrl).controller("ProofOfPlayMultiDisplayCtrl",m.ProofOfPlayMultiDisplayCtrl).controller("ProofOfPlayMultiResourceCtrl",h.ProofOfPlayMultiResourceCtrl).controller("ProofOfPlayCtrl",g.ProofOfPlayCtrl).controller("TenantAddCtrl",te.TenantAddCtrl).controller("TenantDetailsCtrl",ne.TenantDetailsCtrl).controller("TenantLocationCtrl",re.TenantLocationCtrl).controller("TenantLocationsCtrl",ie.TenantLocationsCtrl).controller("TenantManagedDevicesCtrl",ae.TenantManagedDevicesCtrl).controller("TenantUnmanagedDevicesCtrl",oe.TenantUnmanagedDevicesCtrl).controller("TenantsCtrl",se.TenantsCtrl).controller("WelcomeCtrl",ce.WelcomeCtrl).run(le.appRun).config(ue.routes).config(de.toastrConfig).config(de.breadcrumbProvider),r.app.service("RequestInterceptor",["StorageService","$location",function(e,t){"ngInject";var n={request:function(n){var r="5XZHBF3mOwqJlYAlG1NeeWX0Cb72g",i="6C346588BD4C6D722A1165B43C51C";return n.headers={"Content-Type":"application/json",Accept:"application/json",Authorization:t.host().indexOf("provisioning-gamestop")>-1?r:i,"X-Provisioning-User":e.get("userKey"),"X-Provisioning-User-Identifier":e.get("userEmail"),"X-Provisioning-Distributor":e.get("currentDistributorKey")},n}};return n}]),r.app.config(["$httpProvider",function(e){return e.interceptors.push("RequestInterceptor")}])},368:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.app=void 0;var r=t(369),i=n(r),a=t(371),o=n(a),s=t(372);n(s);t(476),t(478),t(479),t(483),t(485),t(487),t(489),t(497),t(499),t(521),t(522),t(524),t(593),t(594),t(596),t(601),t(602),t(608),t(617),t(618),t(620),t(622),t(624),t(626),t(509),t(636),t(370),t(637),t(639),t(641);var c=t(643),u=n(c);window._=u["default"],window.angular=i["default"];exports.app=i["default"].module("skykitProvisioning",[o["default"],"ngAnimate","720kb.tooltips","ngCookies","ngSanitize","restangular","ui.bootstrap","ngMaterialDatePicker","hSweetAlert","ncy-angular-breadcrumb","directive.g+signin","ngProgress","ngMaterial","ngclipboard","toastr","lfNgMdFileInput"])},374:function(e,exports,t){function n(e){return t(r(e))}function r(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./af":375,"./af.js":375,"./ar":376,"./ar-ma":377,"./ar-ma.js":377,"./ar-sa":378,"./ar-sa.js":378,"./ar-tn":379,"./ar-tn.js":379,"./ar.js":376,"./az":380,"./az.js":380,"./be":381,"./be.js":381,"./bg":382,"./bg.js":382,"./bn":383,"./bn.js":383,"./bo":384,"./bo.js":384,"./br":385,"./br.js":385,"./bs":386,"./bs.js":386,"./ca":387,"./ca.js":387,"./cs":388,"./cs.js":388,"./cv":389,"./cv.js":389,"./cy":390,"./cy.js":390,"./da":391,"./da.js":391,"./de":392,"./de-at":393,"./de-at.js":393,"./de.js":392,"./dv":394,"./dv.js":394,"./el":395,"./el.js":395,"./en-au":396,"./en-au.js":396,"./en-ca":397,"./en-ca.js":397,"./en-gb":398,"./en-gb.js":398,"./en-ie":399,"./en-ie.js":399,"./en-nz":400,"./en-nz.js":400,"./eo":401,"./eo.js":401,"./es":402,"./es-do":403,"./es-do.js":403,"./es.js":402,"./et":404,"./et.js":404,"./eu":405,"./eu.js":405,"./fa":406,"./fa.js":406,"./fi":407,"./fi.js":407,"./fo":408,"./fo.js":408,"./fr":409,"./fr-ca":410,"./fr-ca.js":410,"./fr-ch":411,"./fr-ch.js":411,"./fr.js":409,"./fy":412,"./fy.js":412,"./gd":413,"./gd.js":413,"./gl":414,"./gl.js":414,"./he":415,"./he.js":415,"./hi":416,"./hi.js":416,"./hr":417,"./hr.js":417,"./hu":418,"./hu.js":418,"./hy-am":419,"./hy-am.js":419,"./id":420,"./id.js":420,"./is":421,"./is.js":421,"./it":422,"./it.js":422,"./ja":423,"./ja.js":423,"./jv":424,"./jv.js":424,"./ka":425,"./ka.js":425,"./kk":426,"./kk.js":426,"./km":427,"./km.js":427,"./ko":428,"./ko.js":428,"./ky":429,"./ky.js":429,"./lb":430,"./lb.js":430,"./lo":431,"./lo.js":431,"./lt":432,"./lt.js":432,"./lv":433,"./lv.js":433,"./me":434,"./me.js":434,"./mk":435,"./mk.js":435,"./ml":436,"./ml.js":436,"./mr":437,"./mr.js":437,"./ms":438,"./ms-my":439,"./ms-my.js":439,"./ms.js":438,"./my":440,"./my.js":440,"./nb":441,"./nb.js":441,"./ne":442,"./ne.js":442,"./nl":443,"./nl.js":443,"./nn":444,"./nn.js":444,"./pa-in":445,"./pa-in.js":445,"./pl":446,"./pl.js":446,"./pt":447,"./pt-br":448,"./pt-br.js":448,"./pt.js":447,"./ro":449,"./ro.js":449,"./ru":450,"./ru.js":450,"./se":451,"./se.js":451,"./si":452,"./si.js":452,"./sk":453,"./sk.js":453,"./sl":454,"./sl.js":454,"./sq":455,"./sq.js":455,"./sr":456,"./sr-cyrl":457,"./sr-cyrl.js":457,"./sr.js":456,"./ss":458,"./ss.js":458,"./sv":459,"./sv.js":459,"./sw":460,"./sw.js":460,"./ta":461,"./ta.js":461,"./te":462,"./te.js":462,"./th":463,"./th.js":463,"./tl-ph":464,"./tl-ph.js":464,"./tlh":465,"./tlh.js":465,"./tr":466,"./tr.js":466,"./tzl":467,"./tzl.js":467,"./tzm":468,"./tzm-latn":469,"./tzm-latn.js":469,"./tzm.js":468,"./uk":470,"./uk.js":470,"./uz":471,"./uz.js":471,"./vi":472,"./vi.js":472,"./x-pseudo":473,"./x-pseudo.js":473,"./zh-cn":474,"./zh-cn.js":474,"./zh-tw":475,"./zh-tw.js":475};n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id=374},521:function(e,exports){"use strict";angular.module("ngProgress.provider",["ngProgress.directive"]).service("ngProgress",function(){return["$document","$window","$compile","$rootScope","$timeout",function(e,t,n,r,i){this.autoStyle=!0,this.count=0,this.height="2px",this.$scope=r.$new(),this.color="firebrick",this.parent=e.find("body")[0],this.count=0,this.progressbarEl=n("<ng-progress></ng-progress>")(this.$scope),this.parent.appendChild(this.progressbarEl[0]),this.$scope.count=this.count,void 0!==this.height&&this.progressbarEl.eq(0).children().css("height",this.height),void 0!==this.color&&(this.progressbarEl.eq(0).children().css("background-color",this.color),this.progressbarEl.eq(0).children().css("color",this.color)),this.intervalCounterId=0,this.start=function(){this.show();var e=this;clearInterval(this.intervalCounterId),this.intervalCounterId=setInterval(function(){isNaN(e.count)?(clearInterval(e.intervalCounterId),e.count=0,e.hide()):(e.remaining=100-e.count,e.count=e.count+.15*Math.pow(1-Math.sqrt(e.remaining),2),e.updateCount(e.count))},200)},this.updateCount=function(e){this.$scope.count=e,this.$scope.$$phase||this.$scope.$apply()},this.setHeight=function(e){return void 0!==e&&(this.height=e,this.$scope.height=this.height,this.$scope.$$phase||this.$scope.$apply()),this.height},this.setColor=function(e){return void 0!==e&&(this.color=e,this.$scope.color=this.color,this.$scope.$$phase||this.$scope.$apply()),this.color},this.hide=function(){this.progressbarEl.children().css("opacity","0");var e=this;e.animate(function(){e.progressbarEl.children().css("width","0%"),e.animate(function(){e.show()},500)},500)},this.show=function(){var e=this;e.animate(function(){e.progressbarEl.children().css("opacity","1")},100)},this.animate=function(e,t){void 0!==this.animation&&i.cancel(this.animation),this.animation=i(e,t)},this.status=function(){return this.count},this.stop=function(){clearInterval(this.intervalCounterId)},this.set=function(e){return this.show(),this.updateCount(e),this.count=e,clearInterval(this.intervalCounterId),this.count},this.css=function(e){return this.progressbarEl.children().css(e)},this.reset=function(){return clearInterval(this.intervalCounterId),this.count=0,this.updateCount(this.count),0},this.complete=function(){this.count=100,this.updateCount(this.count);var e=this;return clearInterval(this.intervalCounterId),i(function(){e.hide(),i(function(){e.count=0,e.updateCount(e.count)},500)},1e3),this.count},this.setParent=function(e){if(null===e||void 0===e)throw new Error("Provide a valid parent of type HTMLElement");null!==this.parent&&void 0!==this.parent&&this.parent.removeChild(this.progressbarEl[0]),this.parent=e,this.parent.appendChild(this.progressbarEl[0])},this.getDomElement=function(){return this.progressbarEl},this.setAbsolute=function(){this.progressbarEl.css("position","absolute")}}]}).factory("ngProgressFactory",["$injector","ngProgress",function(e,t){var n={createInstance:function(){return e.instantiate(t)}};return n}]),angular.module("ngProgress.directive",[]).directive("ngProgress",["$window","$rootScope",function(e,t){var n={replace:!0,restrict:"E",link:function(e,t,n,r){e.$watch("count",function(n){(void 0!==n||null!==n)&&(e.counter=n,t.eq(0).children().css("width",n+"%"))}),e.$watch("color",function(n){(void 0!==n||null!==n)&&(e.color=n,t.eq(0).children().css("background-color",n),t.eq(0).children().css("color",n))}),e.$watch("height",function(n){(void 0!==n||null!==n)&&(e.height=n,t.eq(0).children().css("height",n))})},template:'<div id="ngProgress-container"><div id="ngProgress"></div></div>'};return n}]),angular.module("ngProgress",["ngProgress.directive","ngProgress.provider"])},522:function(e,exports,t){var n=t(523);"string"==typeof n&&(n=[[e.id,n,""]]);t(482)(n,{});n.locals&&(e.exports=n.locals)},523:function(e,exports,t){exports=e.exports=t(481)(),exports.push([e.id,"#ngProgress{margin:0;padding:0;z-index:99998;background-color:green;color:green;box-shadow:0 0 10px 0;height:2px;opacity:0;-webkit-transition:all .5s ease-in-out;transition:all .5s ease-in-out}#ngProgress-container{position:fixed;margin:0;padding:0;top:0;left:0;right:0;z-index:99999}",""])},524:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(525),i=n(r);/*! angular-breadcrumb - v0.4.0-dev-2015-08-07
	* http://ncuillery.github.io/angular-breadcrumb
	* Copyright (c) 2015 Nicolas Cuillery; Licensed MIT */
!function(e,t,n){function r(e,n){return t.equals(e.length,n.length)?e>n:e.length>n.length}function a(e){var t=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}function o(){var e={prefixStateName:null,template:"bootstrap3",templateUrl:null,includeAbstract:!1};this.setOptions=function(n){t.extend(e,n)},this.$get=["$state","$stateParams","$rootScope",function(t,o,s){var c=s;s.$on("$viewContentLoaded",function(e){!e.targetScope.ncyBreadcrumbIgnore&&r(e.targetScope.$id,c.$id)&&(c=e.targetScope)});var u=function(e){var t=e.parent||(/^(.+)\.[^.]+$/.exec(e.name)||[])[1],n="object"==("undefined"==typeof t?"undefined":(0,i["default"])(t));return n?t.name:t},l=function v(n,r){for(var i,s,v=a(r),u=!1,l=!1,d=0,p=n.length;p>d;d+=1)if(n[d].name===v.state)return;i=t.get(v.state),i.ncyBreadcrumb&&(i.ncyBreadcrumb.force&&(u=!0),i.ncyBreadcrumb.skip&&(l=!0)),i["abstract"]&&!e.includeAbstract&&!u||l||(v.paramExpr&&(s=c.$eval(v.paramExpr)),i.ncyBreadcrumbLink=t.href(v.state,s||o||{}),n.unshift(i))},d=function(e){var n=a(e),r=t.get(n.state);if(r.ncyBreadcrumb&&r.ncyBreadcrumb.parent){var i="function"==typeof r.ncyBreadcrumb.parent,o=i?r.ncyBreadcrumb.parent(c):r.ncyBreadcrumb.parent;if(o)return o}return u(r)};return{getTemplate:function(t){return e.templateUrl?null:t[e.template]?t[e.template]:e.template},getTemplateUrl:function(){return e.templateUrl},getStatesChain:function(n){for(var r=[],i=t.$current.self.name;i;i=d(i))if(l(r,i),n&&r.length)return r;return e.prefixStateName&&l(r,e.prefixStateName),r},getLastStep:function(){var e=this.getStatesChain(!0);return e.length?e[0]:n},$getLastViewScope:function(){return c}}}]}function s(e,n,r){var i={bootstrap2:'<ul class="breadcrumb"><li ng-repeat="step in steps" ng-switch="$last || !!step.abstract" ng-class="{active: $last}"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span><span class="divider" ng-hide="$last">/</span></li></ul>',bootstrap3:'<ol class="breadcrumb"><li ng-repeat="step in steps" ng-class="{active: $last}" ng-switch="$last || !!step.abstract"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span></li></ol>'};return{restrict:"AE",replace:!0,scope:{},template:n.getTemplate(i),templateUrl:n.getTemplateUrl(),link:{post:function(i){var a=[],o=function(){v(a),a=[];var r=n.$getLastViewScope();i.steps=n.getStatesChain(),t.forEach(i.steps,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);t.ncyBreadcrumbLabel=n(r),d(a,n,r,t)}else t.ncyBreadcrumbLabel=t.name})};r.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||o()}),o()}}}}function c(e,t,n){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbLabel}}",compile:function(r,i){var a=r.attr(i.$attr.ncyBreadcrumbLast);return a&&r.html(a),{post:function(r){var i=[],a=function o(){v(i),i=[];var n=t.$getLastViewScope(),o=t.getLastStep();if(o)if(r.ncyBreadcrumbLink=o.ncyBreadcrumbLink,o.ncyBreadcrumb&&o.ncyBreadcrumb.label){var a=e(o.ncyBreadcrumb.label);r.ncyBreadcrumbLabel=a(n),d(i,a,n,r)}else r.ncyBreadcrumbLabel=o.name};n.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||a()}),a()}}}}}function u(e,n,r){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbChain}}",compile:function(i,a){var o=i.attr(a.$attr.ncyBreadcrumbText);o&&i.html(o);var s=i.attr(a.$attr.ncyBreadcrumbTextSeparator)||" / ";return{post:function(i){var a=[],o=function(e,n,r){t.forEach(l(n),function(t){var n=r.$watch(t,function(e,t){e!==t&&c()});e.push(n)})},c=function u(){v(a),a=[];var r=n.$getLastViewScope(),u=n.getStatesChain(),c=[];t.forEach(u,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);c.push(n(r)),o(a,n,r)}else c.push(t.name)}),i.ncyBreadcrumbChain=c.join(s)};r.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||c()}),c()}}}}}var l=function(e){if(e.expressions)return e.expressions;var n=[];return t.forEach(e.parts,function(e){t.isFunction(e)&&n.push(e.exp)}),n},d=function(e,n,r,i){t.forEach(l(n),function(t){var a=r.$watch(t,function(){i.ncyBreadcrumbLabel=n(r)});e.push(a)})},v=function(e){t.forEach(e,function(e){e()})};s.$inject=["$interpolate","$breadcrumb","$rootScope"],c.$inject=["$interpolate","$breadcrumb","$rootScope"],u.$inject=["$interpolate","$breadcrumb","$rootScope"],t.module("ncy-angular-breadcrumb",["ui.router.state"]).provider("$breadcrumb",o).directive("ncyBreadcrumb",s).directive("ncyBreadcrumbLast",c).directive("ncyBreadcrumbText",u)}(window,window.angular)},593:function(e,exports,t){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(372),i=n(r);!function(t){var n="ngMaterialDatePicker",r={DATE:0,HOUR:1,MINUTE:2},i=function(t,n){return"jQuery"in window?e(t).css(n):(t=angular.element(t),"getComputedStyle"in window?window.getComputedStyle(t[0])[n]:t.css(n))},a='<md-dialog class="dtp" layout="column" style="width: 300px;">    <md-dialog-content class="dtp-content">        <div class="dtp-date-view">            <header class="dtp-header">                <div class="dtp-actual-day" ng-show="picker.dateMode">{{picker.currentDate.format("dddd")}}</div>                <div class="dtp-actual-day" ng-show="picker.timeMode">{{picker.params.shortTime ? picker.currentDate.format("A") : " "}}</div>                <div class="dtp-close text-right">                    <a href="#" mdc-dtp-noclick ng-click="picker.hide()">&times;</a>                </div>            </header>            <div class="dtp-date" ng-show="picker.params.date">                <div layout="column">                    <div class="dtp-actual-month">{{picker.currentDate.format("MMM") | uppercase}}</div>                </div>                <div class="dtp-actual-num">{{picker.currentDate.format("DD")}}</div>                <div layout="row"> <div ng-click="picker.incrementYear(-1)" class="dtp-year-btn dtp-year-btn-prev" flex="30"><span ng-if="picker.isPreviousYearVisible()" >&#x25B2;</span></div>                    <div class="dtp-actual-year" flex>{{picker.currentDate.format("YYYY")}}</div> <div ng-click="picker.incrementYear(1)" class="dtp-year-btn dtp-year-btn-next" flex="30"><span ng-if="picker.isNextYearVisible()" >&#x25BC;</span></div>                </div>            </div>            <div class="dtp-time" ng-show="picker.params.time && !picker.params.date">                <div class="dtp-actual-maxtime">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>            </div>            <div class="dtp-picker">                <mdc-datetime-picker-calendar date="picker.currentDate" picker="picker" class="dtp-picker-calendar" ng-show="picker.currentView === picker.VIEWS.DATE"></mdc-datetime-picker-calendar>                <div class="dtp-picker-datetime" ng-show="picker.currentView !== picker.VIEWS.DATE">                    <div class="dtp-actual-meridien">                        <div class="left p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-am" ng-class="{selected: picker.meridien == \'AM\'}" ng-click="picker.selectAM()">{{picker.params.amText}}</a>                        </div>                        <div ng-show="!picker.timeMode" class="dtp-actual-time p60">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>                        <div class="right p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-pm" ng-class="{selected: picker.meridien == \'PM\'}" ng-click="picker.selectPM()">{{picker.params.pmText}}</a>                        </div>                        <div class="clearfix"></div>                    </div>                    <mdc-datetime-picker-clock mode="hours" ng-if="picker.currentView === picker.VIEWS.HOUR"></mdc-datetime-picker-clock>                    <mdc-datetime-picker-clock mode="minutes" ng-if="picker.currentView === picker.VIEWS.MINUTE"></mdc-datetime-picker-clock>                </div>            </div>        </div>    </md-dialog-content>    <md-dialog-actions class="dtp-buttons">            <md-button class="dtp-btn-cancel md-button" ng-click="picker.cancel()"> {{picker.params.cancelText}}</md-button>            <md-button class="dtp-btn-ok md-button" ng-click="picker.ok()"> {{picker.params.okText}}</md-button>      </md-dialog-actions></md-dialog>';angular.module(n,["ngMaterial"]).provider("mdcDatetimePickerDefaultLocale",function(){this.locale="en",this.$get=function(){return this.locale},this.setDefaultLocale=function(e){this.locale=e}}).directive("mdcDatetimePicker",["$mdDialog",function(e){return{restrict:"A",require:"ngModel",scope:{currentDate:"=ngModel",time:"=",date:"=",minDate:"=",maxDate:"=",shortTime:"=",format:"@",cancelText:"@",okText:"@",lang:"@",amText:"@",pmText:"@"},link:function(n,r,i,s){var c=!1;n.format||(n.date&&n.time?n.format="YYYY-MM-DD HH:mm:ss":n.date?n.format="YYYY-MM-DD":n.format="HH:mm"),angular.isString(n.currentDate)&&""!==n.currentDate&&(n.currentDate=t(n.currentDate,n.format)),s&&s.$formatters.push(function(e){if("undefined"!=typeof e){var r=t(e);return r.isValid()?r.format(n.format):""}}),r.attr("readonly",""),r.on("focus",function(t){if(t.preventDefault(),r.blur(),!c){c=!0;var s={};for(var u in i)n.hasOwnProperty(u)&&!angular.isUndefined(n[u])&&(s[u]=n[u]);s.currentDate=n.currentDate;var l={options:s};e.show({template:a,controller:o,controllerAs:"picker",locals:l,openFrom:r,parent:angular.element(document.body),bindToController:!0,disableParentScroll:!1}).then(function(e){n.currentDate=e?e._d:e,c=!1},function(){c=!1})}})}}}]);var o=function(e,t,n){this.currentView=r.DATE,this._dialog=t,this.minDate,this.maxDate,this._attachedEvents=[],this.VIEWS=r,this.params={date:!0,time:!0,format:"YYYY-MM-DD",minDate:null,maxDate:null,currentDate:null,lang:n,weekStart:0,shortTime:!1,cancelText:"Cancel",okText:"OK",amText:"AM",pmText:"PM"},this.meridien="AM",this.params=angular.extend(this.params,this.options),this.init()};o.$inject=["$scope","$mdDialog","mdcDatetimePickerDefaultLocale"],o.prototype={init:function(){this.timeMode=this.params.time&&!this.params.date,this.dateMode=this.params.date,this.initDates(),this.start()},currentNearest5Minute:function(){var e=this.currentDate||t(),n=5*Math.round(e.minute()/5);return n>=60&&(n=55),t(e).minutes(n)},initDates:function(){var e=this,n=function(n,r){var i=null;if(angular.isDefined(n)&&null!==n&&""!==n)if(angular.isString(n))i="undefined"!=typeof e.params.format&&null!==e.params.format?t(n,e.params.format).locale(e.params.lang):t(n).locale(e.params.lang);else if(angular.isDate(n)){var a=n.getTime();i=t(a,"x").locale(e.params.lang)}else n._isAMomentObject&&(i=n);else i=r;return i};this.currentDate=n(this.params.currentDate,t()),this.minDate=n(this.params.minDate),this.maxDate=n(this.params.maxDate),this.selectDate(this.currentDate)},initDate:function(e){this.currentView=r.DATE},initHours:function(){this.currentView=r.HOUR},initMinutes:function(){this.currentView=r.MINUTE},isAfterMinDate:function(e,n,r){var i=!0;if("undefined"!=typeof this.minDate&&null!==this.minDate){var a=t(this.minDate),o=t(e);n||r||(a.hour(0),a.minute(0),o.hour(0),o.minute(0)),a.second(0),o.second(0),a.millisecond(0),o.millisecond(0),r?i=parseInt(o.format("X"))>=parseInt(a.format("X")):(o.minute(0),a.minute(0),i=parseInt(o.format("X"))>=parseInt(a.format("X")))}return i},isBeforeMaxDate:function(e,n,r){var i=!0;if("undefined"!=typeof this.maxDate&&null!==this.maxDate){var a=t(this.maxDate),o=t(e);n||r||(a.hour(0),a.minute(0),o.hour(0),o.minute(0)),a.second(0),o.second(0),a.millisecond(0),o.millisecond(0),r?i=parseInt(o.format("X"))<=parseInt(a.format("X")):(o.minute(0),a.minute(0),i=parseInt(o.format("X"))<=parseInt(a.format("X")))}return i},selectDate:function(e){e&&(this.currentDate=t(e),this.isAfterMinDate(this.currentDate)||(this.currentDate=t(this.minDate)),this.isBeforeMaxDate(this.currentDate)||(this.currentDate=t(this.maxDate)),this.currentDate.locale(this.params.lang),this.calendarStart=t(this.currentDate),this.meridien=this.currentDate.hour()>=12?"PM":"AM")},setName:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},isPM:function(){return"PM"===this.meridien},incrementYear:function(e){1===e&&this.isNextYearVisible()&&this.selectDate(this.currentDate.add("year",e)),e===-1&&this.isPreviousYearVisible()&&this.selectDate(this.currentDate.add("year",e))},isPreviousMonthVisible:function(){return this.calendarStart&&this.isAfterMinDate(t(this.calendarStart).startOf("month"),!1,!1)},isNextMonthVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(t(this.calendarStart).endOf("month"),!1,!1)},isPreviousYearVisible:function(){return this.calendarStart&&this.isAfterMinDate(t(this.calendarStart).startOf("year"),!1,!1)},isNextYearVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(t(this.calendarStart).endOf("year"),!1,!1)},isHourAvailable:function(e){var n=t(this.currentDate);return n.hour(this.convertHours(e)).minute(0).second(0),this.isAfterMinDate(n,!0,!1)&&this.isBeforeMaxDate(n,!0,!1)},isMinuteAvailable:function(e){var n=t(this.currentDate);return n.minute(e).second(0),this.isAfterMinDate(n,!0,!0)&&this.isBeforeMaxDate(n,!0,!0)},start:function(){this.currentView=r.DATE,this.params.date?this.initDate():this.params.time&&this.initHours()},ok:function(){switch(this.currentView){case r.DATE:this.params.time===!0?this.initHours():this.hide(!0);break;case r.HOUR:this.initMinutes();break;case r.MINUTE:this.hide(!0)}},cancel:function(){if(this.params.time)switch(this.currentView){case r.DATE:this.hide();break;case r.HOUR:this.params.date?this.initDate():this.hide();break;case r.MINUTE:this.initHours()}else this.hide()},selectMonthBefore:function(){this.calendarStart.subtract(1,"months")},selectMonthAfter:function(){this.calendarStart.add(1,"months")},selectYearBefore:function(){this.calendarStart.subtract(1,"years")},selectYearAfter:function(){this.calendarStart.add(1,"years")},selectAM:function(){(this.isHourAvailable(0)||this.isHourAvailable(12))&&(this.currentDate.hour()>=12&&this.selectDate(this.currentDate.subtract(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.minDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.minDate.minute())))},selectPM:function(){(this.isHourAvailable(13)||this.isHourAvailable(24))&&(this.currentDate.hour()<12&&this.selectDate(this.currentDate.add(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.maxDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.maxDate.minute())))},convertHours:function(e){var t=e;return e<12&&this.isPM()&&(t+=12),t},hide:function(e){e?this._dialog.hide(this.currentDate):this._dialog.cancel()}},angular.module(n).directive("mdcDatetimePickerCalendar",[function(){for(var e=(t(),1900),n=2100,r=12*(n-e+1),i=240,a=[],o=0;o<r;o++)a.push(o);var s=function(t){var n=t.year(),r=t.month();return 12*(n-e)+r-1};return{restrict:"E",scope:{picker:"=",date:"="},bindToController:!0,controllerAs:"cal",controller:["$scope",function(n){for(var i=this,o=this.picker,c=[],u=o.params.weekStart;c.length<7;u++)u>6&&(u=0),c.push(u.toString());if(i.week=c,o.maxDate||o.minDate){var l=o.minDate?s(o.minDate):0,d=o.maxDate?s(o.maxDate)+1:r;i.months=a.slice(l,d)}else i.months=a;i.getItemAtIndex=function(n){var r=(n+1)%12||12,i=e+Math.floor(n/12),a=t(o.currentDate).year(i).month(r);return v(a)},i.topIndex=s(o.currentDate)-i.months[0],n.$watch(function(){return o.currentDate?o.currentDate.format("YYYY-MM"):""},function(e,n){if(e!=n){var r=t(e,"YYYY-MM"),a=s(r);i.topIndex!=a&&(i.topIndex=a-i.months[0])}});var v=function(e){var n={};if(null!==e){n.name=e.format("MMMM YYYY");var r=t(e).locale(o.params.lang).startOf("month").hour(e.hour()).minute(e.minute()),a=r.format("d");n.days=[];for(var s=r.date();s<=r.daysInMonth();s++){if(s===r.date()){var c=i.week.indexOf(a.toString());if(c>0)for(var u=0;u<c;u++)n.days.push(0)}n.days.push(t(r).locale(o.params.lang).date(s))}for(var l=7,d=[],v=Math.ceil(n.days.length/l),p=0;p<v;p++)d.push(n.days.slice(p*l,(p+1)*l));return n.days=d,n}};i.toDay=function(e){return t(parseInt(e),"d").locale(o.params.lang).format("dd").substring(0,1)},i.isInRange=function(e){return o.isAfterMinDate(t(e),!1,!1)&&o.isBeforeMaxDate(t(e),!1,!1)},i.selectDate=function(e){if(e){if(i.isSelectedDay(e))return o.ok();o.selectDate(t(e).hour(i.date.hour()).minute(i.date.minute()))}},i.isSelectedDay=function(e){return e&&i.date.date()===e.date()&&i.date.month()===e.month()&&i.date.year()===e.year()}}],template:'<md-virtual-repeat-container md-top-index="cal.topIndex" class="months"><div md-virtual-repeat="idx in cal.months" md-start-index="cal.topIndex" md-item-size="'+i+'">     <div mdc-datetime-picker-calendar-month idx="idx"></div></div></md-virtual-repeat-container>'}}]).directive("mdcDatetimePickerCalendarMonth",["$compile",function(e){var t=function(t,n){var r=angular.element(t[0].querySelector("tbody")),i=n.cal,a=n.month;r.html(""),a.days.forEach(function(e,t){var n=angular.element("<tr></tr>");e.forEach(function(e,r){var a=angular.element("<td> </td>");if(e){var o;if(i.isInRange(e)){var s='month["days"]['+t+"]["+r+"]";o=angular.element("<a href='#' mdc-dtp-noclick></a>").attr("ng-class","{selected: cal.isSelectedDay("+s+")}").attr("ng-click","cal.selectDate("+s+")")}else o=angular.element("<span></span>");o.addClass("dtp-select-day").html(e.format("D")),a.append(o)}n.append(a)}),r.append(n)}),e(r)(n)};return{scope:{idx:"="},require:"^mdcDatetimePickerCalendar",restrict:"AE",template:'<div class="dtp-picker-month">{{month.name}}</div><table class="table dtp-picker-days">    <thead>    <tr>        <th ng-repeat="day in cal.week">{{cal.toDay(day)}}</th>    </tr>    </thead>    <tbody>    </tbody></table>',link:function(e,n,r,i){e.cal=i,e.month=i.getItemAtIndex(parseInt(e.idx)),t(n,e),e.$watch(function(){return e.idx},function(r,a){r!=a&&(e.month=i.getItemAtIndex(parseInt(e.idx)),t(n,e))})}}}]),angular.module(n).directive("mdcDtpNoclick",function(){return{link:function(e,t){t.on("click",function(e){e.preventDefault()})}}}),angular.module(n).directive("mdcDatetimePickerClock",[function(){var e='<div class="dtp-picker-clock"><span ng-if="!points || points.length < 1">&nbsp;</span><div ng-repeat="point in points" class="dtp-picker-time" style="margin-left: {{point.left}}px; margin-top: {{point.top}}px;">   <a href="#" mdc-dtp-noclick ng-class="{selected: point.value===currentValue}" class="dtp-select-hour" ng-click="setTime(point.value)" ng-if="pointAvailable(point)">{{point.display}}</a>   <a href="#" mdc-dtp-noclick class="disabled dtp-select-hour" ng-if="!pointAvailable(point)">{{point.display}}</a></div><div class="dtp-hand dtp-hour-hand"></div><div class="dtp-hand dtp-minute-hand"></div><div class="dtp-clock-center"></div></div>';return{restrict:"E",template:e,link:function(e,t,n){var r="minutes"===n.mode,a=e.picker,o=document.querySelector("md-dialog.dtp"),s=function(){var n=angular.element(t[0].querySelector(".dtp-picker-clock")),s=angular.element(o.querySelector(".dtp-picker")),u=o.querySelector(".dtp-content").offsetWidth,d=parseInt(i(s,"paddingLeft").replace("px",""))||0,v=parseInt(i(s,"paddingRight").replace("px",""))||0,p=parseInt(i(n,"marginLeft").replace("px",""))||0,f=parseInt(i(n,"marginRight").replace("px",""))||0,m=u-(p+f+d+v);n.css("width",m+"px");for(var h=parseInt(i(s,"paddingLeft").replace("px",""))||0,g=parseInt(i(s,"paddingTop").replace("px",""))||0,y=parseInt(i(n,"marginLeft").replace("px",""))||0,b=parseInt(i(n,"marginTop").replace("px",""))||0,D=m/2,S=D/1.2,_=[],T=0;T<12;++T){var k=S*Math.sin(2*Math.PI*(T/12)),x=S*Math.cos(2*Math.PI*(T/12)),C={left:D+k+h/2-(h+y),top:D-x-b/2-(g+b),value:r?5*T:T};r?C.display=C.value<10?"0"+C.value:C.value:a.params.shortTime?C.display=0===T?12:T:C.display=a.isPM()?T+12:T,_.push(C)}e.points=_,l(),n.css("height",m+"px");var w=t[0].querySelector(".dtp-clock-center"),M=w.offsetWidth/2||7.5,I=w.offsetHeight/2||7.5,P=D/1.8,E=D/1.5;angular.element(t[0].querySelector(".dtp-hour-hand")).css({left:D+1.5*y+"px",height:P+"px",marginTop:D-P-h+"px"}).addClass(r?"":"on"),angular.element(t[0].querySelector(".dtp-minute-hand")).css({left:D+1.5*y+"px",height:E+"px",marginTop:D-E-h+"px"}).addClass(r?"on":""),angular.element(w).css({left:D+h+y-M+"px",marginTop:D-y/2-I+"px"}),c()},c=function(){var e=a.currentNearest5Minute(),n=e.hour(),r=e.minute();u(angular.element(t[0].querySelector(".dtp-hour-hand")),30*n);var i=6*(5*Math.round(r/5));u(angular.element(t[0].querySelector(".dtp-minute-hand")),i)},u=function(e,t){angular.element(e).css({WebkitTransform:"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)"})},l=function(){var t=a.currentNearest5Minute();e.currentValue=r?t.minute():t.hour()%12};e.$watch(function(){var e=a.currentNearest5Minute();return e?e.format("HH:mm"):""},function(e){l(),c()});var d=function(e,t){for(var n=0;n<t.length;n++)t[n].display=n,e&&(t[n].display+=12);return t};a.params.shortTime||e.$watch("picker.meridien",function(){if(!r&&e.points){var t=d(a.isPM(),angular.copy(e.points));e.points=t}}),e.setTime=function(t){t===e.currentValue&&a.ok(),r?a.currentDate.minute(t):a.currentDate.hour(a.isPM()?t+12:t),a.currentDate.second(0)},e.pointAvailable=function(e){return r?a.isMinuteAvailable(e.value):a.isHourAvailable(e.value)};var v=e.$watch(function(){return t[0].querySelectorAll("div").length},function(){s(),v()})}}}])}(i["default"])}).call(exports,t(509))},594:function(e,exports,t){var n=t(595);"string"==typeof n&&(n=[[e.id,n,""]]);t(482)(n,{});n.locals&&(e.exports=n.locals)},595:function(e,exports,t){exports=e.exports=t(481)(),exports.push([e.id,"md-dialog.dtp{font-size:14px;line-height:1.42857143;color:#333;background-color:#fff;max-height:none}.dtp :focus{outline:none!important}.dtp table{border-spacing:0;border-collapse:collapse;width:100%}.dtp .table>tbody>tr>td,.dtp .table>tbody>tr>th,.dtp .table>tfoot>tr>td,.dtp .table>tfoot>tr>th,.dtp .table>thead>tr>td,.dtp .table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}.dtp,.dtp *{box-sizing:border-box!important}.dtp>.dtp-content{max-width:300px;max-height:500px}.dtp>.dtp-content>.dtp-date-view>header.dtp-header{background:#689f38;color:#fff;text-align:center;padding:3px}.dtp div.dtp-date,.dtp div.dtp-time{background:#8bc34a;text-align:center;color:#fff;padding:10px}.dtp div.dtp-date>div{padding:0;margin:0}.dtp div.dtp-actual-month{font-size:1.5em}.dtp div.dtp-actual-maxtime,.dtp div.dtp-actual-num{font-size:3em;line-height:.9}.dtp div.dtp-actual-year{font-size:1.6em;color:#dcedc8}.dtp div.dtp-year-btn{font-size:1.4em;line-height:30px;cursor:pointer;color:#dcedc8}.dtp div.dtp-year-btn-prev{text-align:right}.dtp div.dtp-year-btn-next{text-align:left}.dtp div.dtp-picker{padding:10px;text-align:center}.dtp div.dtp-actual-time,.dtp div.dtp-picker-month{font-weight:500;text-align:center}.dtp .dtp-close{position:absolute;top:.25em;right:5px;font-size:16px}.dtp .dtp-close>a{color:#fff;text-decoration:none}.dtp .dtp-close>a>i{font-size:1em}.dtp table.dtp-picker-days{margin:0;min-height:220px}.dtp md-virtual-repeat-container.months{height:260px}.dtp table.dtp-picker-days,.dtp table.dtp-picker-days tr,.dtp table.dtp-picker-days tr>td{border:none}.dtp table.dtp-picker-days tr>td{font-size:11px;text-align:center;padding:0}.dtp table.dtp-picker-days tr>td>span.dtp-select-day{color:#bdbdbd!important}.dtp table.dtp-picker-days tr>td>.dtp-select-day{width:36px;height:36px;display:inline-block}.dtp .dtp-picker-time>a,.dtp table.dtp-picker-days tr>td>.dtp-select-day{color:#212121;text-decoration:none;padding:10px;border-radius:50%!important}.dtp table.dtp-picker-days tr>td>a.selected{background:#8bc34a;color:#fff}.dtp table.dtp-picker-days tr>td>a:hover:not(.selected){background:#ddd}.dtp table.dtp-picker-days tr>th{color:#757575;text-align:center;font-weight:700;padding:4px 3px}.dtp .p10>a{color:#689f38;text-decoration:none}.dtp .p10{width:10%}.dtp .p10,.dtp .p20{display:inline-block}.dtp .p20{width:20%}.dtp .p60{width:60%}.dtp .p60,.dtp .p80{display:inline-block}.dtp .p80{width:80%}.dtp a.dtp-meridien-am,.dtp a.dtp-meridien-pm{position:relative;top:10px;color:#212121;font-weight:500;padding:7px 5px;border-radius:50%!important;text-decoration:none;background:#eee;font-size:10px}.dtp .dtp-actual-meridien a.selected{background:#689f38;color:#fff}.dtp .dtp-picker-time>a{display:block;line-height:23px;padding:3px}.dtp .dtp-picker-time{position:absolute;width:30px;height:30px;font-size:1.1em;border-radius:50%;cursor:pointer;text-align:center!important}.dtp .dtp-picker-time>a.dtp-select-hour.selected{background:#689f38;color:#fff}.dtp .dtp-picker-time>a.dtp-select-hour.disabled,.dtp .dtp-picker-time>a.dtp-select-minute.disabled{color:#757575}.dtp .dtp-picker-time>a.dtp-select-minute.selected{background:#8bc34a;color:#fff}.dtp div.dtp-picker-clock{margin:10px 20px 0;padding:10px;border-radius:50%!important;background:#eee}.dtp-clock-center{width:15px;height:15px;background:#757575;border-radius:50%;position:absolute;z-index:50}.dtp .dtp-hand,.dtp .dtp-hour-hand{position:absolute;width:4px;margin-left:-2px;background:#bdbdbd;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:bottom;transform-origin:bottom;z-index:1}.dtp .dtp-minute-hand{width:2px;margin-left:-1px}.dtp .dtp-hand.on{background:#8bc34a}.dtp .dtp-buttons{padding:0 10px 10px;text-align:right}.dtp.hidden,.dtp .hidden{display:none}.dtp .invisible{visibility:hidden}.dtp .left{float:left}.dtp .right{float:right}.dtp .clearfix{clear:both}.dtp .center{text-align:center}",""])},596:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(597),i=n(r);angular.module("directive.g+signin",[]).directive("googlePlusSignin",["$window",function(e){var t=/\.apps\.googleusercontent\.com$/;return{restrict:"E",transclude:!0,template:"<span></span>",replace:!0,link:function(n,r,a,o,s){a.clientid+=t.test(a.clientid)?"":".apps.googleusercontent.com",a.$set("data-clientid",a.clientid),a.$set("theme",a.theme);var c={callback:"signinCallback",cookiepolicy:"single_host_origin",requestvisibleactions:"http://schemas.google.com/AddActivity",scope:"https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/userinfo.email",height:"standard",width:"wide",state:""};c.clientid=a.clientid,c.theme=a.theme,angular.forEach((0,i["default"])(c),function(e){a.hasOwnProperty(e)&&(c[e]=a[e])}),a.$observe("language",function(t){e.___gcfg={lang:t?t:"en"}});var u=document.createElement("script");u.type="text/javascript",u.async=!0,u.src="https://apis.google.com/js/client:plusone.js";var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(u,l),s(function(e,t){u.onload=function(){e.length&&r.append(e),gapi.signin.render(r[0],c)}})}}}]).run(["$window","$rootScope",function(e,t){e.signinCallback=function(e){e&&e.access_token?t.$broadcast("event:google-plus-signin-success",e):t.$broadcast("event:google-plus-signin-failure",e)}}])},639:function(e,exports,t){var n=t(640);"string"==typeof n&&(n=[[e.id,n,""]]);t(482)(n,{});n.locals&&(e.exports=n.locals)},640:function(e,exports,t){exports=e.exports=t(481)(),exports.push([e.id,"",""])},641:function(e,exports,t){var n=t(642);"string"==typeof n&&(n=[[e.id,n,""]]);t(482)(n,{});n.locals&&(e.exports=n.locals)},642:function(e,exports,t){exports=e.exports=t(481)(),exports.push([e.id,".distributor-selection{font-size:16pt;padding:3px;margin:3px}body{margin-top:100px;background-color:transparent}@media (min-width:768px){body{margin-top:50px}}#wrapper{padding-left:0}#page-wrapper{width:100%;padding:0;background-color:#fff}.huge{font-size:50px;line-height:normal}@media (min-width:768px){#wrapper{padding-left:225px}#page-wrapper{padding:10px}}.margin-top-05{margin-top:.5em}.margin-top-15{margin-top:1.5em}.margin-top-20{margin-top:2em}.margin-top-25{margin-top:2.5em}.margin-top-50{margin-top:5em}.issue-warning-background{background-color:orange}.issue-warning-text{color:orange}.issue-danger-background{background-color:red}.issue-danger-text{color:red}.issue-normal-background{background-color:green}.issue-normal-text{color:green}.up-true-background{background-color:green}.up-false-background{background-color:red}.navbar-default{background-color:#1b75bb;border-color:#15598e}.navbar-default .navbar-brand{color:#fff}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#55a7e7}.navbar-default .navbar-nav>li>a,.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#fff}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#fff;background-color:#afd5f3}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{color:#555;background-color:#d5d5d5}.navbar-default .navbar-nav>.dropdown>a .caret{border-top-color:#777;border-bottom-color:#777}.navbar-default .navbar-nav>.dropdown>a:focus .caret,.navbar-default .navbar-nav>.dropdown>a:hover .caret{border-top-color:#333;border-bottom-color:#333}.navbar-default .navbar-nav>.open>a .caret,.navbar-default .navbar-nav>.open>a:focus .caret,.navbar-default .navbar-nav>.open>a:hover .caret{border-top-color:#555;border-bottom-color:#555}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#ccc}@media (max-width:767px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333}}.top-nav{padding:0 15px}.top-nav>li{display:inline-block;float:left}.top-nav>li>a{padding-top:15px;padding-bottom:15px;line-height:20px;color:#efefef}.top-nav>.open>a,.top-nav>.open>a:focus,.top-nav>.open>a:hover,.top-nav>li>a:focus,.top-nav>li>a:hover{color:#fff;background-color:#1b75bb}.top-nav>.open>.dropdown-menu{float:left;position:absolute;margin-top:0;border:1px solid rgba(0,0,0,.15);border-top-left-radius:0;border-top-right-radius:0;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.top-nav>.open>.dropdown-menu>li>a{white-space:normal}ul.message-dropdown{padding:0;max-height:250px;overflow-x:hidden;overflow-y:auto}li.message-preview{width:275px;border-bottom:1px solid rgba(0,0,0,.15)}li.message-preview>a{padding-top:15px;padding-bottom:15px}li.message-footer{margin:5px 0}ul.alert-dropdown{width:200px}@media (min-width:768px){.side-nav{position:fixed;top:51px;left:225px;margin-left:-225px;border:none;border-radius:0;overflow-y:auto;background-color:#1b75bb;bottom:0;overflow-x:hidden;padding-bottom:40px}.side-nav,.side-nav>li>a{width:225px}.side-nav li a:focus,.side-nav li a:hover{outline:none;background-color:#3f9ce3!important}}.side-nav>li>ul{padding:0}.side-nav>li>ul>li>a{display:block;padding:10px 15px 10px 38px;text-decoration:none;color:#d4d4d4}.side-nav>li>ul>li>a:hover{color:#fff}.flot-chart{display:block;height:400px}.flot-chart-content{width:100%;height:100%}.huge{font-size:40px}.panel-green{border-color:#5cb85c}.panel-green>.panel-heading{border-color:#5cb85c;color:#fff;background-color:#5cb85c}.panel-green>a{color:#5cb85c}.panel-green>a:hover{color:#3d8b3d}.panel-red{border-color:#d9534f}.panel-red>.panel-heading{border-color:#d9534f;color:#fff;background-color:#d9534f}.panel-red>a{color:#d9534f}.panel-red>a:hover{color:#b52b27}.panel-yellow{border-color:#f0ad4e}.panel-yellow>.panel-heading{border-color:#f0ad4e;color:#fff;background-color:#f0ad4e}.panel-yellow>a{color:#f0ad4e}.panel-yellow>a:hover{color:#df8a13}.toolbar{margin-bottom:10px}.entity-key{font-family:Monaco,Consolas,Lucida Console,dejavu sans mono,monospace;font-size:11px}.proof-of-play-label{padding-bottom:10px;padding-top:10px}.copy-ready-transparent{color:transparent}.no-devices{text-align:center}.properties-word-break{width:390px;word-wrap:break-word;display:block}.command-history-command{width:375px;word-wrap:break-word;display:block}.hostname-word-break{width:200px;word-wrap:break-word;display:inline-block}[data-ng-click],[ng-click],[x-ng-click]{cursor:pointer}#proofplay-selected-items{min-width:0!important;margin:0 auto;padding:0 auto}.radio-button{padding:3px}.horizontal-submit{margin:.5em}.horizontal-submit,.radio-horizontal{display:flex;align-self:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center}md-toolbar.md-default-theme:not(.md-menu-toolbar),md-toolbar:not(.md-menu-toolbar){background-color:#1b75bb!important;max-height:64px;min-height:64px}.md-toolbar-tools{background-color:#000!important;max-height:64px;min-height:64px}.skykit-image{max-width:100%;height:33px}@media (max-width:767px){md-toolbar.md-default-theme:not(.md-menu-toolbar),md-toolbar:not(.md-menu-toolbar){margin-top:-50px;margin-bottom:50px}}.center-block{text-align:center}.ellipsis-overflow,.proof-of-play-selected-item{width:100%;white-space:nowrap;overflow:hidden;text-align:left;text-overflow:ellipsis}.proof-of-play-tenant-name-option{width:7em;white-space:nowrap;overflow:hidden;text-align:center;positition:absolute;text-overflow:ellipsis}.proof-of-play-horizontal-top-bar{align-self:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;margin-top:.5em;margin-bottom:.5em;align-items:center}.my-flex,.proof-of-play-horizontal-top-bar{display:flex;justify-content:center}.bigger-buttons{padding:.4em;min-width:88px;border-radius:5px;font-size:16px;text-align:center;text-decoration:none;border:none;outline:none}.admin-container{display:flex;align-content:flex-start}.registration-event-column{height:110px;display:inline-block;vertical-align:top;overflow:scroll}.pull-command-send-button-up{margin-top:-2px}header.dtp-header{background:#1b75bb!important}.dtp div.dtp-date,.dtp div.dtp-time{background:#000}.dtp .dtp-actual-meridien a.selected,.dtp .dtp-picker-time>a.dtp-select-hour.selected,.dtp table.dtp-picker-days tr>td>a.selected{background:#1b75bb!important}.dtp .dtp-hand.on{background:#000}.device-properties-switch{margin-top:-1px}.md-content-command-override md-content{overflow:unset}.pull-tooltip-left{margin-left:-55px}.command-button-right{float:right;flex-direction:row-reverse}md-select{display:block;margin:10px 0 8px;padding-bottom:2px;position:relative;min-width:180px;max-width:180px}",""]);
},644:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,i,o,s,c,u,l,d,v,p){"ngInject";var f=this;return f.tenantKey=t.tenantKey,f.deviceKey=t.deviceKey,f.fromDevices="true"===t.fromDevices,f.currentDevice={},f.commandEvents=[],f.generateLocalFromUTC=function(e){var t=a["default"].utc(e).toDate();return t=(0,a["default"])(t).format("YYYY-MM-DD hh:mm:ss A")},f.replaceCommandTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.postedTime&&(n.postedTime=f.generateLocalFromUTC(n.postedTime)),n.confirmedTime&&(n.confirmedTime=f.generateLocalFromUTC(n.confirmedTime))}},f.getEvents=function(e,t,n){l.start();var r=i.getCommandEventsByKey(e,t,n);return r.then(function(e){return f.replaceCommandTime(e.events),f.event_next_cursor=e.next_cursor,f.event_prev_cursor=e.prev_cursor,f.commandEvents=e.events,l.complete()})},f.getEventsTimeOut=function(e,t,n){return p(function(){return f.getEvents(e,t,n)},1e3)},f.commandHistorySelected=function(){return f.getEvents(f.deviceKey)},f.paginateEventCall=function(e){return e?f.getEvents(f.deviceKey,null,f.event_next_cursor):f.getEvents(f.deviceKey,f.event_prev_cursor,null)},f.initialize=function(){var e=i.getDeviceByKey(f.deviceKey);return e.then(function(e){return f.onGetDeviceSuccess(e)},function(e){return f.onGetDeviceFailure(e)}),f.getEvents(f.deviceKey)},f.onGetDeviceSuccess=function(e){return f.currentDevice=e,e.timezone!==f.selectedTimezone&&(f.selectedTimezone=e.timezone),void 0===f.tenantKey&&(f.tenantKey=f.currentDevice.tenantKey),"true"===t.fromDevices?(f.backUrl="/#/devices",f.backUrlText="Back to devices"):f.currentDevice.isUnmanagedDevice===!0?(f.backUrl="/#/tenants/"+f.tenantKey+"/unmanaged",f.backUrlText="Back to tenant unmanaged devices"):(f.backUrl="/#/tenants/"+f.tenantKey+"/managed",f.backUrlText="Back to tenant managed devices")},f.onGetDeviceFailure=function(t){v.showErrorToast("Oops. We were unable to fetch the details for this device at this time.");var r="No detail for device_key #"+f.deviceKey+". Error: "+t.status+" "+t.statusText;return e.error(r),n.go("devices")},f.onResetContent=function(){l.start();var e=s.contentDelete(f.deviceKey);return e.then(f.onResetContentSuccess,f.onResetContentFailure)},f.onResetContentSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your reset content command into the player's queue.")},f.onResetContentFailure=function(t){return l.complete(),e.error("Reset content command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your reset content command into the player's queue.","error")},f.onUpdateContent=function(){l.start();var e=s.contentUpdate(f.deviceKey);return e.then(f.onUpdateContentSuccess,f.onUpdateContentFailure)},f.onUpdateContentSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your update content command into the player's queue.")},f.onUpdateContentFailure=function(t){return l.complete(),e.error("Content update command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your update content command into the player's queue.","error")},f.onResetPlayer=function(){l.start();var e=s.reset(f.deviceKey);return e.then(f.onResetPlayerSuccess,f.onResetPlayerFailure)},f.onResetPlayerSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your reset player command into the player's queue.")},f.onResetPlayerFailure=function(t){return l.complete(),e.error("Reset player command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your reset player command into the player's queue.","error")},f.onPanelOn=function(){l.start();var e=s.powerOn(f.deviceKey);return e.then(f.onPanelOnSuccess,f.onPanelOnFailure)},f.onPanelOnSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your panel on command into the player's queue.")},f.onPanelOnFailure=function(t){return l.complete(),e.error("Panel on command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your panel on command into the player's queue.","error")},f.onPanelOff=function(){l.start();var e=s.powerOff(f.deviceKey);return e.then(f.onPanelOffSuccess,f.onPanelOffFailure)},f.onPanelOffSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your panel off command into the player's queue.")},f.onPanelOffFailure=function(t){return l.complete(),e.error("Panel off command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your panel off command into the player's queue.","error")},f.onUpdateDevice=function(){l.start();var e=s.updateDevice(f.deviceKey);return e.then(f.onUpdateDeviceSuccess,f.onUpdateDeviceFailure)},f.onUpdateDeviceSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your update device command into the player's queue.")},f.onUpdateDeviceFailure=function(t){return l.complete(),e.error("Update device command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your update device command into the player's queue.","error")},f.onVolumeChange=function(){l.start();var e=s.volume(f.deviceKey,f.currentDevice.volume);return e.then(f.onVolumeChangeSuccess(f.currentDevice.volume),f.onVolumeChangeFailure)},f.onVolumeChangeSuccess=function(e){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your volume change command of "+e+" into the player's queue.")},f.onVolumeChangeFailure=function(t){return l.complete(),e.error("Volume change command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your volume change command into the player's queue.","error")},f.onCustomCommand=function(){l.start();var e=s.custom(f.deviceKey,f.currentDevice.custom);return e.then(f.onCustomCommandSuccess(f.currentDevice.custom),f.onCustomCommandFailure)},f.onCustomCommandSuccess=function(e){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your custom command '"+e+"' into the player's queue.")},f.onCustomCommandFailure=function(t){return l.complete(),e.error("Custom command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your custom command into the player's queue.","error")},f.onDiagnosticsToggle=function(){l.start();var e=s.toggleDiagnostics(f.deviceKey);return e.then(f.onToggleDiagnosticsSuccess,f.onToggleDiagnosticsFailure)},f.onToggleDiagnosticsSuccess=function(){return l.complete(),v.showSuccessToast("We posted your diagnostics command into the player's queue.")},f.onToggleDiagnosticsFailure=function(t){return l.complete(),e.error("Diagnostics command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your diagnostics command into the player's queue.","error")},f.onRestart=function(){l.start();var e=s.restart(f.deviceKey);return e.then(f.onRestartSuccess,f.onRestartFailure)},f.onRestartSuccess=function(){return l.complete(),v.showSuccessToast("We posted your restart command into the player's queue.")},f.onRestartFailure=function(t){return l.complete(),e.error("Restart command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your restart command into the player's queue.","error")},f.onPostLog=function(){l.start();var e=s.postLog(f.deviceKey);return e.then(f.onPostLogSuccess,f.onPostLogFailure)},f.onPostLogSuccess=function(){return l.complete(),v.showSuccessToast("We posted your post log command into the player's queue.")},f.onPostLogFailure=function(t){return l.complete(),e.error("Post log command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your post log command into the player's queue.","error")},f}r.$inject=["$log","$stateParams","$state","SessionsService","DevicesService","LocationsService","CommandsService","TimezonesService","sweet","ProgressBarService","$mdDialog","ToastsService","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceDetailsCommandsCtrl=void 0;var i=t(372),a=n(i);exports.DeviceDetailsCommandsCtrl=r},645:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,i,o,c,l,v,p,f,m,h,g,y,b){"ngInject";var D=this;D.tenantKey=t.tenantKey,D.deviceKey=t.deviceKey,D.fromDevices="true"===t.fromDevices,D.currentDevice={},D.locations=[],D.commandEvents=[],D.dayRange=30,D.issues=[],D.timezones=[],D.selectedTimezone=void 0;var S=y.createFormattedStartAndEndDateFromToday(30),_=(0,u["default"])(S,2);D.startTime=_[0],D.endTime=_[1],D.enrollmentEvents=[],D.logoChange=!1;var T=function(e){var t=angular.copy(e);if(t){delete t.key;for(var n in t)t[n].image_key?t[n].name=t[n].image_key.name:t[n].name=t[n].type}return t};return D.adjustOverlayStatus=function(e){D.currentDevice.overlay_status=e,m.start();var t=i.save(D.currentDevice);return t.then(function(){var e=i.getDeviceByKey(D.deviceKey);e.then(function(e){D.onGetDeviceSuccess(e),m.complete()},function(e){return D.onGetDeviceFailure(e)})})},D.submitOverlaySettings=function(){var e=D.currentDevice.overlay;delete e.key,delete e.device_key;var t={};for(var n in e)t[n]=JSON.parse(e[n]);m.start();var r=i.saveOverlaySettings(D.deviceKey,t.bottom_left,t.bottom_right,t.top_right,t.top_left);r.then(function(e){m.complete(),g.showSuccessToast("We saved your update.")}),r["catch"](function(e){m.complete(),g.showErrorToast("Something went wrong")})},D.submitImage=function(){D.selectedLogo&&D.selectedLogo[0]&&!function(){m.start();var e=new FileReader;e.onload=function(){D.selectedLogoFinal={},D.selectedLogoFinal.asString=(0,s["default"])(e.result),D.selectedLogoFinal.name=D.selectedLogo[0].lfFileName,D.selectedLogoChange=!0;var t=o.saveImage(D.tenantKey,D.selectedLogoFinal.asString,D.selectedLogoFinal.name);t.then(function(e){m.complete(),b(D.getTenantImages(),2e3),D.fileApi.removeAll(),g.showSuccessToast("We uploaded your image.")}),t["catch"](function(e){m.complete(),g.showErrorToast("Something went wrong. You may have already uploaded this image.")})},e.readAsText(D.selectedLogo[0].lfFile)}()},D.getTenantImages=function(){D.OVERLAY_TYPES=[{type:"TIME",name:"TIME",realName:"TIME","new":!0,image_key:null},{type:"DATE",name:"DATE","new":!0,realName:"DATE",image_key:null},{type:"DATETIME",name:"DATETIME",realName:"DATETIME","new":!0,image_key:null}],m.start();var e=o.getImages(D.tenantKey);e.then(function(e){m.complete();var t=!0,n=!1,r=void 0;try{for(var i,o=(0,a["default"])(e);!(t=(i=o.next()).done);t=!0){var s=i.value,c={realName:angular.copy(s.name),name:"LOGO: "+s.name,type:"LOGO",image_key:s.key};D.OVERLAY_TYPES.push(c)}}catch(u){n=!0,r=u}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}}),e["catch"](function(){m.complete(),g.showErrorStatus("SOMETHING WENT WRONG RETRIEVING YOUR IMAGES")})},D.replaceIssueTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.created&&(n.created=y.generateLocalFromUTC(n.created)),n.updated&&(n.updated=y.generateLocalFromUTC(n.updated))}},D.replaceCommandTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.postedTime&&(n.postedTime=y.generateLocalFromUTC(n.postedTime)),n.confirmedTime&&(n.confirmedTime=y.generateLocalFromUTC(n.confirmedTime))}},D.localFromUtc=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.utcTimestamp&&(n.utcTimestamp=y.generateLocalFromUTC(n.utcTimestamp))}},D.copyDeviceKey=function(){return g.showSuccessToast("Device key copied to your clipboard")},D.copyCorrelationIdentifier=function(){return g.showSuccessToast("Correlation ID copied to your clipboard")},D.getIssues=function(e,t,n,r,a){m.start();var o=i.getIssuesByKey(e,t,n,r,a);return o.then(function(e){return D.replaceIssueTime(e.issues),D.issues=e.issues,D.prev_cursor=e.prev,D.next_cursor=e.next,m.complete()})},D.getEvents=function(e,t,n){m.start();var r=i.getCommandEventsByKey(e,t,n);return r.then(function(e){return D.replaceCommandTime(e.events),D.event_next_cursor=e.next_cursor,D.event_prev_cursor=e.prev_cursor,D.commandEvents=e.events,m.complete()})},D.getEnrollmentEvents=function(e){m.start();var t=p.getEnrollmentEvents(e);return t.then(function(e){return D.enrollmentEvents=e,D.localFromUtc(e),m.complete()})},D.paginateCall=function(e){return e?D.getIssues(D.deviceKey,D.epochStart,D.epochEnd,null,D.next_cursor):D.getIssues(D.deviceKey,D.epochStart,D.epochEnd,D.prev_cursor,null)},D.paginateEventCall=function(e){return e?D.getEvents(D.deviceKey,null,D.event_next_cursor):D.getEvents(D.deviceKey,D.event_prev_cursor,null)},D.initialize=function(){D.epochStart=(0,d["default"])(D.startTime,"YYYY-MM-DD hh:mm A").unix(),D.epochEnd=(0,d["default"])(D.endTime,"YYYY-MM-DD hh:mm A").unix();var e=v.getCustomTimezones();e.then(function(e){return D.timezones=e}),D.panelModels=i.getPanelModels(),D.panelInputs=i.getPanelInputs();var t=i.getDeviceByKey(D.deviceKey);return t.then(function(e){return D.onGetDeviceSuccess(e)},function(e){return D.onGetDeviceFailure(e)}),D.getTenantImages(),D.getEvents(D.deviceKey),D.getIssues(D.deviceKey,D.epochStart,D.epochEnd),D.getEnrollmentEvents(D.deviceKey)},D.onGetDeviceSuccess=function(e){D.currentDevice=e,D.currentDevice.overlay=T(D.currentDevice.overlay),e.timezone!==D.selectedTimezone&&(D.selectedTimezone=e.timezone),void 0===D.tenantKey&&(D.tenantKey=D.currentDevice.tenantKey),"true"===t.fromDevices?(D.backUrl="/#/devices",D.backUrlText="Back to devices"):D.currentDevice.isUnmanagedDevice===!0?(D.backUrl="/#/tenants/"+D.tenantKey+"/unmanaged",D.backUrlText="Back to tenant unmanaged devices"):(D.backUrl="/#/tenants/"+D.tenantKey+"/managed",D.backUrlText="Back to tenant managed devices");var n=c.getLocationsByTenantKey(D.tenantKey);return n.then(function(e){return D.locations=e,D.setSelectedOptions()})},D.onGetDeviceFailure=function(t){g.showErrorToast("Oops. We were unable to fetch the details for this device at this time.");var r="No detail for device_key "+D.deviceKey+". Error: "+t.status+" "+t.statusText;return e.error(r),n.go("devices")},D.setSelectedOptions=function(){if(null===D.currentDevice.panelModel)D.currentDevice.panelModel=D.panelModels[0],D.currentDevice.panelInput=D.panelInputs[0];else{for(var e=0;e<D.panelModels.length;e++){var t=D.panelModels[e];t.id===D.currentDevice.panelModel&&(D.currentDevice.panelModel=t)}for(var n=0;n<D.panelInputs.length;n++){var r=D.panelInputs[n],i=r.parentId===D.currentDevice.panelModel.id;i&&r.id.toLowerCase()===D.currentDevice.panelInput&&(D.currentDevice.panelInput=r)}}if(null===D.currentDevice.locationKey);else for(var a=0;a<D.locations.length;a++){var o=D.locations[a];o.key===D.currentDevice.locationKey&&(D.currentDevice.location=o)}},D.onSaveDevice=function(){m.start(),void 0!==D.currentDevice.location&&void 0!==D.currentDevice.location.key&&(D.currentDevice.locationKey=D.currentDevice.location.key),void 0!==D.currentDevice.panelModel.id&&"None"!==D.currentDevice.panelModel.id&&(D.currentDevice.panelModelNumber=D.currentDevice.panelModel.id),void 0!==D.currentDevice.panelInput.id&&"None"!==D.currentDevice.panelInput.id&&(D.currentDevice.panelSerialInput=D.currentDevice.panelInput.id.toLowerCase()),D.currentDevice.timezone=D.selectedTimezone;var e=i.save(D.currentDevice);return e.then(D.onSuccessDeviceSave,D.onFailureDeviceSave)},D.onSuccessDeviceSave=function(){return m.complete(),g.showSuccessToast("We saved your update.")},D.onFailureDeviceSave=function(t){return m.complete(),409===t.status?(e.info("Failure saving device. Customer display code already exists for tenant: "+t.status+" "+t.statusText),f.show("Oops...","This customer display code already exists for this tenant. Please choose another.","error")):(e.error("Failure saving device: "+t.status+" "+t.statusText),g.showErrorToast("Oops. We were unable to save your updates to this device at this time."))},D.onPanelSleep=function(e){m.start();var t=l.panelSleep(D.deviceKey,e);return t.then(D.onPanelSleepSuccess,D.onPanelSleepFailure)},D.onPanelSleepSuccess=function(){return m.complete(),g.showSuccessToast("We toggled the panel sleep attribute. The player should adjust to these changes within 15 minutes.")},D.onPanelSleepFailure=function(e){return m.complete(),f.show("Oops...","We were unable to toggle the panel sleep attribute.","error")},D.confirmDeviceDelete=function(e,t){var n=h.confirm({title:"Are you sure to delete this device?",textContent:"Please remember, you MUST remove this device from Content Manager before deleting it from Provisioning.",targetEvent:e,ok:"Delete",cancel:"Cancel"}),r=h.show(n),i=function(){return D.onConfirmDelete(t)},a=function(){return D.onConfirmCancel()};return r.then(i,a)},D.onConfirmDelete=function(t){var r=function(){return g.showSuccessToast("We processed your delete request."),n.go("devices")},a=function(n){var r="We were unable to complete your delete request at this time.";return g.showErrorToast(r),e.error("Delete device failure for device_key "+t+": "+n.status+" "+n.statusText)},o=i["delete"](t);return o.then(r,a)},D.onConfirmCancel=function(){return g.showInfoToast("We canceled your delete request.")},D.onProofOfPlayLoggingCheck=function(){if(D.currentDevice.proofOfPlayLogging){var e=null===D.currentDevice.locationKey,t=null===D.currentDevice.customerDisplayCode;return e?(f.show("Oops...","You must have a Location to enable Proof of play.","error"),D.currentDevice.proofOfPlayLogging=!1):t?(f.show("Oops...","You must have a Display code to enable Proof of play.","error"),D.currentDevice.proofOfPlayLogging=!1):D.onSaveDevice()}return D.onSaveDevice()},D.onUpdateLocation=function(){return D.onSaveDevice()},D.autoGenerateCustomerDisplayCode=function(){var e="";return D.currentDevice.customerDisplayName&&(e=D.currentDevice.customerDisplayName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),D.currentDevice.customerDisplayCode=e},D.logglyForUser=function(){var e=r.getUserEmail().split("@")[1];return"demo.agosto.com"===e||"agosto.com"===e},D.onClickRefreshButton=function(){m.start(),D.startTime=y.convertToMomentIfNotAlready(D.startTime),D.endTime=y.convertToMomentIfNotAlready(D.endTime),D.epochStart=(0,d["default"])(D.startTime,"YYYY-MM-DD hh:mm A").unix(),D.epochEnd=(0,d["default"])(D.endTime,"YYYY-MM-DD hh:mm A").unix(),D.prev_cursor=null,D.next_cursor=null;var e=i.getIssuesByKey(D.deviceKey,D.epochStart,D.epochEnd,D.prev_cursor,D.next_cursor);return e.then(function(e){return D.onRefreshIssuesSuccess(e)},function(e){return D.onRefreshIssuesFailure(e)})},D.onRefreshIssuesSuccess=function(e){return D.replaceIssueTime(e.issues),D.issues=e.issues,D.prev_cursor=e.prev,D.next_cursor=e.next,m.complete()},D.onRefreshIssuesFailure=function(t){return m.complete(),g.showInfoToast("We were unable to refresh the device issues list at this time."),e.error("Failure to refresh device issues: "+t.status+" "+t.statusText)},D}r.$inject=["$log","$stateParams","$state","SessionsService","DevicesService","TenantsService","LocationsService","CommandsService","TimezonesService","IntegrationEvents","sweet","ProgressBarService","$mdDialog","ToastsService","DateManipulationService","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceDetailsCtrl=void 0;var i=t(646),a=n(i),o=t(651),s=n(o),c=t(653),u=n(c),l=t(372),d=n(l);exports.DeviceDetailsCtrl=r},657:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,i,o,s){"ngInject";var c=this;return c.distributorKey=void 0,c.devices=[],c.devicesPrev=null,c.devicesNext=null,c.selectedButton="Serial Number",c.serialDevices={},c.disabled=!0,c.macDevices={},c.gcmidDevices={},c.unmanagedSelectedButton="MAC",c.unmanagedSerialDevices={},c.unmanagedDisabled=!0,c.unmanagedDevicesPrev=null,c.unmanagedDevicesNext=null,c.unmanagedDevices=[],c.unmanagedMacDevices={},c.unmanagedGCMidDevices={},c.devicesToMatchOnUnmanaged=[],c.devicesToMatchOnManaged=[],c.refreshManagedDevices=function(){return c.devicesPrev=null,c.devicesNext=null,c.getManagedDevices(c.distributorKey,c.devicesPrev,c.devicesNext)},c.refreshUnmanagedDevices=function(){return c.unmanagedDevicesPrev=null,c.unmanagedDevicesNext=null,c.getUnmanagedDevices(c.distributorKey,c.unmanagedDevicesPrev,c.unmanagedDevicesNext)},c.changeRadio=function(e){e?(c.unmanagedSearchText="",c.unmanagedDisabled=!0,c.unmanagedSerialDevices={},c.unmanagedMacDevices={},c.devicesToMatchOnUnmanaged=[]):(c.searchText="",c.disabled=!0,c.serialDevices={},c.macDevices={},c.devicesToMatchOnManaged=[])},c.editItem=function(e){return n.editItem(e,!0)},c.prepareForEditView=function(e,t){var n=void 0,r=void 0,i=void 0;return e?(n="MAC"===c.unmanagedSelectedButton,r="Serial Number"===c.unmanagedSelectedButton,i="GCM ID"===c.unmanagedSelectedButton,n?c.editItem(c.unmanagedMacDevices[t]):r?c.editItem(c.unmanagedSerialDevices[t]):c.editItem(c.unmanagedGCMidDevices[t])):(n="MAC"===c.selectedButton,r="Serial Number"===c.selectedButton,i="GCM ID"===c.selectedButton,n?c.editItem(c.macDevices[t]):r?c.editItem(c.serialDevices[t]):c.editItem(c.gcmidDevices[t]))},c.controlOpenButton=function(e,t){e?(c.unmanagedDisabled=!t,c.unmanagedDisabledButtonLoading=!1):(c.disabled=!t,c.disabledButtonLoading=!1)},c.isResourceValid=function(e,t){var n=e?c.devicesToMatchOnUnmanaged:c.devicesToMatchOnManaged,r=!1,i=!0,o=!1,s=void 0;try{for(var u,l=(0,a["default"])(n);!(i=(u=l.next()).done);i=!0){var d=u.value;t===d&&(r=!0)}}catch(v){o=!0,s=v}finally{try{!i&&l["return"]&&l["return"]()}finally{if(o)throw s}}return c.controlOpenButton(e,r),r},c.searchDevices=function(e,t){var r=void 0;r=e?c.unmanagedSelectedButton:c.selectedButton;var i=!1,a=null;return n.searchDevices(t,r,i,a,c.distributorKey,e).then(function(t){var n=void 0;if(t.success){var i=t.devices;return"Serial Number"===r?(e?c.unmanagedSerialDevices=i[1]:c.serialDevices=i[1],n=i[0]):"MAC"===r?(e?c.unmanagedMacDevices=i[1]:c.macDevices=i[1],n=i[0]):(e?c.unmanagedGCMidDevices=i[1]:c.gcmidDevices=i[1],n=i[0]),e?c.devicesToMatchOnUnmanaged=n:c.devicesToMatchOnManaged=n,n}return[]})},c.getManagedDevices=function(e,t,r){o.start();var i=n.getDevicesByDistributor(e,t,r);return i.then(function(e){return c.devices=e.devices,c.devicesNext=e.next_cursor,c.devicesPrev=e.prev_cursor,c.getFetchSuccess()},function(e){return c.getFetchFailure(e)})},c.getUnmanagedDevices=function(e,t,r){o.start();var i=n.getUnmanagedDevicesByDistributor(e,t,r);return i.then(function(e){return c.unmanagedDevices=e.devices,c.unmanagedDevicesPrev=e.prev_cursor,c.unmanagedDevicesNext=e.next_cursor,c.getFetchSuccess()},function(e){return c.getFetchFailure(e)})},c.initialize=function(){return c.distributorKey=i.getCurrentDistributorKey(),c.getManagedDevices(c.distributorKey,c.devicesPrev,c.devicesNext),c.getUnmanagedDevices(c.distributorKey,c.unmanagedDevicesPrev,c.unmanagedDevicesNext)},c.getFetchSuccess=function(){return o.complete()},c.getFetchFailure=function(e){o.complete();var t="Unable to fetch devices. Error: "+e.status+" "+e.statusText+".";return s.show("Oops...",t,"error")},c.paginateCall=function(e,t){if(e)t&&c.getManagedDevices(c.distributorKey,null,c.devicesNext),t||c.getUnmanagedDevices(c.distributorKey,null,c.unmanagedDevicesNext);else if(t&&c.getManagedDevices(c.distributorKey,c.devicesPrev,null),!t)return c.getUnmanagedDevices(c.distributorKey,c.unmanagedDevicesPrev,null)},c}r.$inject=["$stateParams","$log","DevicesService","$state","SessionsService","ProgressBarService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DevicesListingCtrl=void 0;var i=t(646),a=n(i);exports.DevicesListingCtrl=r},658:function(e,exports){"use strict";function t(e,t,n,r,i){"ngInject";var a=this;return a.getAllDistributors=function(){a.loadingAllDistributors=!0;var t=e.getAllDistributors();return t.then(function(e){return a.loadingAllDistributors=!1,a.allDistributors=e})},a.addUserToDistributor=function(t,i,o,s,c){o||(o=!1);var u=o?"with":"without";s||(s=a.distributorsAsAdmin[0]);var l=r.confirm({title:"Are you sure?",textContent:i+" will be added to "+s+"\n        "+u+" administrator privileges",targetEvent:t,ok:"Of course!",cancel:"Oops, nevermind."});return r.show(l).then(function(){var t=e.addUserToDistributor(i,s,o);return t.then(function(e){return n.showSuccessToast(e.message),a.user={},c.$setPristine(),c.$setUntouched(),setTimeout(function(){return a.getUsersOfDistributor()},2e3)}),t["catch"](function(e){return n.showErrorToast(e.data.message)})})},a.makeDistributor=function(t,i,o,s){var c=r.confirm({title:"Are you sure?",textContent:"If you proceed, "+i+" will be created.",targetEvent:t,ariaLabel:"Lucky day",ok:"Yeah!",cancel:"Forget it."});return r.show(c).then(function(){var t=e.makeDistributor(i,o);return t.then(function(e){return a.distributor={},s.$setPristine(),s.$setUntouched(),n.showSuccessToast(e.message),setTimeout(function(){return a.allDistributors=a.getAllDistributors()},2e3)}),t["catch"](function(e){return n.showErrorToast(e.data.message)})})},a.getUsersOfDistributor=function(){a.loadingUsersOfDistributor=!0;var n=t.getCurrentDistributorKey(),r=e.getUsersOfDistributor(n);return r.then(function(e){return a.loadingUsersOfDistributor=!1,a.usersOfDistributor=e})},a.switchDistributor=function(e){return i.switchDistributor(e),n.showSuccessToast("Distributor "+e.name+" selected!")},a.initialize=function(){if(a.getUsersOfDistributor(),a.getAllDistributors(),a.isAdmin=t.getIsAdmin(),a.distributorsAsAdmin=t.getDistributorsAsAdmin(),a.currentDistributorName=t.getCurrentDistributorName(),a.isAdmin)return a.getAllDistributors()},a}t.$inject=["AdminService","SessionsService","ToastsService","$mdDialog","DistributorsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdminCtrl=t},659:function(e,exports){"use strict";function t(e,t,n,r,i,a,o,s,c,u,l){"ngInject";var d=this;return d.onGooglePlusSignInSuccess=function(e,t){d.googlePlusSignInButtonClicked||s.start(),o.removeUserInfo();var n=o.login(t);return n.then(d.loginSuccess,d.loginFailure)},d.onGooglePlusSignInFailure=function(e,t){if(d.googlePlusSignInButtonClicked)return s.complete(),a.show("Oops...","Unable to authenticate to Google+.","error")},e.$on("event:google-plus-signin-success",d.onGooglePlusSignInSuccess),e.$on("event:google-plus-signin-failure",d.onGooglePlusSignInFailure),d.initializeSignIn=function(){return d.clientId=i.OAUTH_CLIENT_ID,d.state=i.STATE,d.googlePlusSignInButtonClicked=!1},d.initializeSignOut=function(){return o.removeUserInfo(),r(d.proceedToSignedOut,50)},d.loginSuccess=function(e){return s.complete(),n.go("distributor_selection")},d.loginFailure=function(){return s.complete(),a.show("Oops...","Unable to authenticate to Stormpath.","error")},d.proceedToSignedOut=function(){return n.go("signed_out")},d.proceedToSignIn=function(){return n.go("sign_in")},d.onClickGooglePlusSignIn=function(){return d.googlePlusSignInButtonClicked=!0,s.start()},d}t.$inject=["$scope","$log","$state","$timeout","identity","sweet","SessionsService","ProgressBarService","ProofPlayService","DevicesService","TenantsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthenticationCtrl=t},660:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var i=this;return i.currentDistributerInDistributerAdminList=function(){var e=r.getCurrentDistributorName(),t=r.getDistributorsAsAdmin();return(0,a["default"])(t,e)},i.getIdentity=function(){return{key:r.getUserKey(),email:r.getUserEmail(),admin:r.getIsAdmin(),distributor_admin:r.getDistributorsAsAdmin(),admin_of_current_distributor:i.currentDistributerInDistributerAdminList(),distributorKey:r.getCurrentDistributorKey(),distributorName:r.getCurrentDistributorName()}},i.isCurrentURLDistributorSelector=function(){var e=n.location.href.search(/distributor_selection/),t=e>=0;return t},i.initialize=function(){return i.getIdentity()},i.toggleSidenav=function(){return e("left").toggle()},i.goTo=function(n,r){if(t.go(n,{id:r}),e("left").isOpen())return e("left").close()},i.initialize(),i}r.$inject=["$mdSidenav","$state","$window","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppController=void 0;var i=t(661),a=n(i);exports.AppController=r},693:function(e,exports){"use strict";function t(e,t,n){"ngInject";var r=this;return r.distributors=[],r.currentDistributor=void 0,r.loading=!0,r.initialize=function(){r.loeading=!0;var e=t.fetchAllByUser(n.getUserKey());return e.then(function(e){return r.distributors=e,1===r.distributors.length?r.selectDistributor(r.distributors[0]):r.loading=!1})},r.selectDistributor=function(e){return t.switchDistributor(e)},r}t.$inject=["$state","DistributorsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DistributorSelectorCtrl=t},694:function(e,exports){"use strict";function t(e){"ngInject";var t=this;return t.distributors=[],t}t.$inject=["$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DistributorsCtrl=t},695:function(e,exports){"use strict";function t(e,t,n){"ngInject";var r=this;return r.domains=[],r.initialize=function(){var e=t.fetchAllDomains();return e.then(function(e){return r.domains=e})},r.editItem=function(t){return e.go("editDomain",{domainKey:t.key})},r.deleteItem=function(e){var i=function(){var n=t["delete"](e);return n.then(function(){return r.initialize()})};return n.show({title:"Are you sure?",text:"This will permanently remove the domain from the distributor and disconnect from tenants.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the domain!",closeOnConfirm:!0},i)},r}t.$inject=["$state","DomainsService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomainsCtrl=t},696:function(e,exports){"use strict";function t(e,t,n,r,i,a,o,s){"ngInject";var c=this;if(c.currentDomain={key:void 0,name:void 0,impersonation_admin_email_address:void 0,distributor_key:void 0,active:!0},c.devicesAccess=!1,c.orgUnitsAccess=!1,c.currentDomains=[],c.editMode=!!t.domainKey,c.editMode){var u=n.getDomainByKey(t.domainKey);u.then(function(e){return c.currentDomain=e})}else c.currentDomain.distributor_key=s.getCurrentDistributorKey();return c.initialize=function(){if(c.editMode){a.start();var e=n.getDirectoryApiConnectivityInformation(t.domainKey);return e.then(c.onSuccessDeterminingConnectivity,c.onFailureDeterminingConnectivity)}},c.onSuccessDeterminingConnectivity=function(e){c.devicesAccess=e.devicesAccess,c.orgUnitsAccess=e.orgUnitsAccess,c.devicesAccessException=e.devicesAccessException,c.orgUnitsAccessException=e.orgUnitsAccessException,a.complete()},c.onFailureDeterminingConnectivity=function(t){return a.complete(),e.error("Failure determining directory API connectivity: "+t.status+" "+t.statusText),o.showErrorToast("Oops. We were unable determine your device connectivity at this time.")},c.onSaveDomain=function(){a.start();var e=n.save(c.currentDomain);return e.then(c.onSuccessSaveDomain,c.onFailureSaveDomain)},c.onSuccessSaveDomain=function(){return a.complete(),o.showSuccessToast("We saved your update.")},c.onFailureSaveDomain=function(t){return a.complete(),409===t.status?(e.info("Failure saving domain. Domain already exists: "+t.status+" "+t.statusText),i.show("Oops...","This domain name already exist. Please enter a unique domain name.","error")):(e.error("Failure saving domain: "+t.status+" "+t.statusText),o.showErrorToast("Oops. We were unable to save your updates at this time."))},c.editItem=function(e){return r.go("editDomain",{domainKey:e.key})},c}t.$inject=["$log","$stateParams","DomainsService","$state","sweet","ProgressBarService","ToastsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomainDetailsCtrl=t},697:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var a=this;return a.radioButtonChoices={group1:"By Device",group2:"Summarized",
selection:null},a.dateTimeSelection={start:null,end:null},a.formValidity={start_date:!1,end_date:!1,locations:!1},a.tenant=t.tenant,a.no_cache=!0,a.loading=!0,a.disabled=!0,a.disabledTenant=!0,a.selected_locations=[],a.initialize=function(){return e.getAllLocations(a.tenant).then(function(e){return a.loading=!1,a.locations=e.data.locations,a.locations.length>0?a.had_some_items=!0:a.had_some_items=!1})},a.refreshLocations=function(){a.searchText="",a.selectedItem="",a.loading=!0,a.disabled=!0,a.selected_locations=[],a.initialize()},a.addToSelectedLocations=function(e){if(a.isLocationValid(e)){a.selected_locations.push(e);var t=a.locations.indexOf(e);a.locations.splice(t,1),a.searchText=""}return a.areLocationsValid(),a.isDisabled()},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isRadioValid=function(e){return a.formValidity.type=e,a.isDisabled()},a.isLocationValid=function(e){return!!i(e,a.locations)&&!i(e,a.selected_locations)},a.areLocationsValid=function(){return a.formValidity.locations=a.selected_locations.length>0,a.isDisabled()},a.isStartDateValid=function(e){return a.formValidity.start_date=e instanceof Date,a.isDisabled()},a.isEndDateValid=function(e){return a.formValidity.end_date=e instanceof Date,a.isDisabled()},a.removeFromSelectedLocation=function(e){var t=a.selected_locations.indexOf(e);return a.selected_locations.splice(t,1),a.locations.push(e),a.areLocationsValid(),a.isDisabled()},a.isDisabled=function(){return a.formValidity.start_date&&a.formValidity.end_date&&a.formValidity.locations&&a.formValidity.type?(a.disabled=!1,a["final"]={start_date_unix:(0,o["default"])(a.dateTimeSelection.start).unix(),end_date_unix:(0,o["default"])(a.dateTimeSelection.end).unix(),locations:a.selected_locations,type:a.radioButtonChoices.selection}):a.disabled=!0},a.submit=function(){return"1"===a["final"].type?e.downloadCSVForMultipleLocationsByDevice(a["final"].start_date_unix,a["final"].end_date_unix,a["final"].locations,a.tenant):e.downloadCSVForMultipleLocationsSummarized(a["final"].start_date_unix,a["final"].end_date_unix,a["final"].locations,a.tenant)},a.tenants=null,a.currentTenant=a.tenant,a.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return a.tenants=e.data.tenants})},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isSelectionValid=function(e){return i(e,a.tenants)?a.disabledTenant=!1:a.disabledTenant=!0},a.submitTenant=function(e){return e!==a.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},a}function i(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiLocationCtrl=void 0;var a=t(372),o=n(a);exports.ProofOfPlayMultiLocationCtrl=r},698:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var a=this;return a.radioButtonChoices={group1:"By Date",group2:"Summarized",selection:null},a.dateTimeSelection={start:null,end:null},a.formValidity={start_date:!1,end_date:!1,displays:!1},a.tenant=t.tenant,a.no_cache=!0,a.loading=!0,a.disabled=!0,a.disabledTenant=!0,a.selected_displays=[],a.initialize=function(){return e.getAllDisplays(a.tenant).then(function(e){return a.loading=!1,a.displays=e.data.devices,a.displays.length>0?a.had_some_items=!0:a.had_some_items=!1})},a.refreshDisplays=function(){a.searchText="",a.selectedItem="",a.loading=!0,a.disabled=!0,a.selected_displays=[],a.initialize()},a.addToSelectedDisplays=function(e){if(a.isDisplayValid(e)){a.selected_displays.push(e);var t=a.displays.indexOf(e);a.displays.splice(t,1),a.searchText=""}return a.areDisplaysValid(),a.isDisabled()},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isRadioValid=function(e){return a.formValidity.type=e,a.isDisabled()},a.isDisplayValid=function(e){return!!i(e,a.displays)&&!i(e,a.selected_displays)},a.areDisplaysValid=function(){return a.formValidity.displays=a.selected_displays.length>0,a.isDisabled()},a.isStartDateValid=function(e){return a.formValidity.start_date=e instanceof Date,a.isDisabled()},a.isEndDateValid=function(e){return a.formValidity.end_date=e instanceof Date,a.isDisabled()},a.removeFromSelectedDisplay=function(e){var t=a.selected_displays.indexOf(e);return a.selected_displays.splice(t,1),a.displays.push(e),a.areDisplaysValid(),a.isDisabled()},a.isDisabled=function(){return a.formValidity.start_date&&a.formValidity.end_date&&a.formValidity.displays&&a.formValidity.type?(a.disabled=!1,a["final"]={start_date_unix:(0,o["default"])(a.dateTimeSelection.start).unix(),end_date_unix:(0,o["default"])(a.dateTimeSelection.end).unix(),displays:a.selected_displays,type:a.radioButtonChoices.selection}):a.disabled=!0},a.submit=function(){return"1"===a["final"].type?e.downloadCSVForMultipleDevicesByDate(a["final"].start_date_unix,a["final"].end_date_unix,a["final"].displays,a.tenant):e.downloadCSVForMultipleDevicesSummarized(a["final"].start_date_unix,a["final"].end_date_unix,a["final"].displays,a.tenant)},a.tenants=null,a.currentTenant=a.tenant,a.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return a.tenants=e.data.tenants})},a.submitTenant=function(e){return e!==a.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isSelectionValid=function(e){return i(e,a.tenants)?a.disabledTenant=!1:a.disabledTenant=!0},a}function i(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiDisplayCtrl=void 0;var a=t(372),o=n(a);exports.ProofOfPlayMultiDisplayCtrl=r},699:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var a=this;return a.radioButtonChoices={group1:"By Device",group2:"By Date",selection:null},a.dateTimeSelection={start:null,end:null},a.formValidity={start_date:!1,end_date:!1,resources:!1},a.tenant=t.tenant,a.no_cache=!0,a.loading=!0,a.disabled=!0,a.disabledTenant=!0,a.selected_resources=[],a.initialize=function(){return e.getAllResources(a.tenant).then(function(e){a.loading=!1,a.full_resource_map=e.data.resources,a.resources=[];for(var t=0;t<e.data.resources.length;t++){var n=e.data.resources[t];a.resources.push(n.resource_name)}return a.resources.length>0?a.had_some_items=!0:a.had_some_items=!1})},a.refreshResources=function(){a.searchText="",a.selectedItem="",a.loading=!0,a.disabled=!0,a.selected_resources=[],a.initialize()},a.addToSelectedResources=function(e){if(a.isResourceValid(e)){a.selected_resources.push(e);var t=a.resources.indexOf(e);a.resources.splice(t,1),a.searchText=""}return a.areResourcesValid(),a.isDisabled()},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isRadioValid=function(e){return a.formValidity.type=e,a.isDisabled()},a.isResourceValid=function(e){return!!i(e,a.resources)&&!i(e,a.selected_resources)},a.areResourcesValid=function(){return a.formValidity.resources=a.selected_resources.length>0,a.isDisabled()},a.isStartDateValid=function(e){return a.formValidity.start_date=e instanceof Date,a.isDisabled()},a.isEndDateValid=function(e){return a.formValidity.end_date=e instanceof Date,a.isDisabled()},a.removeFromSelectedResource=function(e){var t=a.selected_resources.indexOf(e);return a.selected_resources.splice(t,1),a.resources.push(e),a.areResourcesValid(),a.isDisabled()},a.isDisabled=function(){return a.formValidity.start_date&&a.formValidity.end_date&&a.formValidity.resources&&a.formValidity.type?(a.disabled=!1,a["final"]={start_date_unix:(0,o["default"])(a.dateTimeSelection.start).unix(),end_date_unix:(0,o["default"])(a.dateTimeSelection.end).unix(),resources:a.selected_resources,type:a.radioButtonChoices.selection}):a.disabled=!0},a.submit=function(){for(var t=[],n=0;n<a["final"].resources.length;n++)for(var r=a["final"].resources[n],i=0;i<a.full_resource_map.length;i++){var o=a.full_resource_map[i];o.resource_name===r&&t.push(o.resource_identifier)}return"1"===a["final"].type?e.downloadCSVForMultipleResourcesByDevice(a["final"].start_date_unix,a["final"].end_date_unix,t,a.tenant):e.downloadCSVForMultipleResourcesByDate(a["final"].start_date_unix,a["final"].end_date_unix,t,a.tenant)},a.tenants=null,a.currentTenant=a.tenant,a.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return a.tenants=e.data.tenants})},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isSelectionValid=function(e){return i(e,a.tenants)?a.disabledTenant=!1:a.disabledTenant=!0},a.submitTenant=function(e){return e!==a.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},a}function i(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiResourceCtrl=void 0;var a=t(372),o=n(a);exports.ProofOfPlayMultiResourceCtrl=r},700:function(e,exports){"use strict";function t(e,t,r,i){"ngInject";var a=this;return a.resource={title:"Resource Report"},a.location={title:"Location Report"},a.display={title:"Display Report"},a.chosen_tenant=null,a.tenants=null,a.disabled=!0,a.initialize=function(){return e.getAllTenants().then(function(e){return a.tenants=e.data.tenants})},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isSelectionValid=function(e){return n(e,a.tenants)?a.disabled=!1:a.disabled=!0},a.submitTenant=function(e){if(e)return a.chosen_tenant=e,r.go("proofDetail",{tenant:a.chosen_tenant})},a.refreshTenants=function(){a.tenants=null;e.makeHTTPURL("/retrieve_my_tenants","");a.initialize()},a}function n(e,t){return t.indexOf(e)>=0}t.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayCtrl=t},701:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t,this.USER_SERVICE="users",this.DISTRIBUTOR_SERVICE="distributors"}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"makeDistributor",value:function(e,t){var n={distributor:e,admin_email:t},r=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/distributors").customPOST(n);return r}},{key:"addUserToDistributor",value:function(e,t,n){var r={user_email:e,distributor:t,distributor_admin:n},i=this.Restangular.oneUrl(this.USER_SERVICE,"/api/v1/users").customPOST(r);return i}},{key:"getUsersOfDistributor",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/analytics/distributors/"+e+"/users").get();return t}},{key:"getAllDistributors",value:function(){var e=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/distributors").get();return e}}]),e}();exports["default"]=s},707:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t,n){"ngInject";(0,i["default"])(this,e),this.$q=n,this.SessionsService=t}return e.$inject=["SessionsService","$q"],(0,o["default"])(e,[{key:"authenticated",value:function(){var e=this.$q.defer(),t=this.SessionsService.getUserKey();return t?e.resolve(!0):e.reject(["authError","sign_in"]),e.promise}},{key:"notAuthenticated",value:function(){var e=this.$q.defer(),t=this.SessionsService.getUserKey();return t?e.reject(["authError","home"]):e.resolve(!0),e.promise}},{key:"isAdminOrDistributorAdmin",value:function(){var e=this.$q.defer(),t=this.SessionsService.getIsAdmin(),n=this.SessionsService.getDistributorsAsAdmin(),r=!1;n&&n.length>0&&(r=!0);var i=this.SessionsService.getUserKey();return i?t||r?e.resolve(!0):e.reject(["authError","home"]):e.reject("sign_in"),e.promise}}]),e}();exports["default"]=s},708:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t,this.SERVICE_NAME="devices"}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"panelSleep",value:function(e,t){var n={panelSleep:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/panel-sleep").customPUT(n);return r}},{key:"reset",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/reset").post();return t}},{key:"contentDelete",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/content-delete").post();return t}},{key:"contentUpdate",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/content-update").post();return t}},{key:"updateDevice",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/refresh-device-representation").post();return t}},{key:"toggleDiagnostics",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/diagnostics").post();return t}},{key:"restart",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/restart").post();return t}},{key:"postLog",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/post-log").post();return t}},{key:"powerOn",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/power-on").post();return t}},{key:"powerOff",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/power-off").post();return t}},{key:"volume",value:function(e,t){var n={volume:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e).customPOST(n,"commands/volume");return r}},{key:"custom",value:function(e,t){var n={command:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e).customPOST(n,"commands/custom");return r}}]),e}();exports["default"]=s},709:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=t(372),c=n(s),u=function(){function e(){(0,i["default"])(this,e)}return(0,o["default"])(e,[{key:"convertToMomentIfNotAlready",value:function(e){return c["default"].isMoment(e)?e:(0,c["default"])(new Date(e))}},{key:"createFormattedStartAndEndDateFromToday",value:function(e){var t=(0,c["default"])().format("YYYY-MM-DD"),n=(0,c["default"])(t,"YYYY-MM-DD").format("YYYY-MM-DD hh:mm A"),r=(0,c["default"])(n,"YYYY-MM-DD hh:mm A").add(1,"day").subtract(60,"seconds").format("YYYY-MM-DD hh:mm A"),i=(0,c["default"])().subtract(30,"days").format("YYYY-MM-DD"),a=(0,c["default"])(i,"YYYY-MM-DD").format("YYYY-MM-DD hh:mm A");return[a,r]}},{key:"generateLocalFromUTC",value:function(e){var t=c["default"].utc(e).toDate();return(0,c["default"])(t).format("YYYY-MM-DD hh:mm:ss A")}}]),e}();exports["default"]=u},710:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a);t(601);var s=function(){function e(t,n,r,a,o){"ngInject";(0,i["default"])(this,e),this.$log=t,this.Restangular=n,this.$q=r,this.$http=a,this.$state=o,this.SERVICE_NAME="devices",this.uriBase="v1/devices"}return e.$inject=["$log","Restangular","$q","$http","$state"],(0,o["default"])(e,[{key:"getDeviceByMacAddress",value:function(e){var t="api/v1/devices?mac_address="+e;return this.Restangular.oneUrl("api/v1/devices",t).get()}},{key:"getDeviceByKey",value:function(e){var t="api/v1/devices/"+e,n=this.Restangular.oneUrl(this.SERVICE_NAME,t).get();return n}},{key:"retriveFilteredDictionaryValue",value:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];n.push(i[t])}return n}},{key:"executeSearchingPartialSerialByTenant",value:function(e,t,n){var r=this;return this.searchDevicesByPartialSerialByTenant(e,t,n).then(function(e){var t=e.matches,n=!1,i=!1,a=r.convertDevicesArrayToDictionaryObj(t,n,i),o=r.retriveFilteredDictionaryValue(t,"serial");return[o,a]})}},{key:"executeSearchingPartialSerialByDistributor",value:function(e,t,n){var r=this;return this.searchDevicesByPartialSerial(e,t,n).then(function(e){var t=e.matches,i=void 0,a=!1,o=!1;i=n?r.convertDevicesArrayToDictionaryObj(t,a,o):r.convertDevicesArrayToDictionaryObj(t,a,o);var s=r.retriveFilteredDictionaryValue(t,"serial");return[s,i]})}},{key:"executeSearchingPartialMacByTenant",value:function(e,t,n){var r=this;return this.searchDevicesByPartialMacByTenant(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!0),i=r.retriveFilteredDictionaryValue(t,"mac");return[i,n]})}},{key:"executeSearchingPartialMacByDistributor",value:function(e,t,n){var r=this;return this.searchDevicesByPartialMac(e,t,n).then(function(e){var t=e.matches,i=void 0,a=!0,o=!1;i=n?r.convertDevicesArrayToDictionaryObj(t,a,o):r.convertDevicesArrayToDictionaryObj(t,a,o);var s=r.retriveFilteredDictionaryValue(t,"mac");return[s,i]})}},{key:"executeSearchingPartialGCMidByTenant",value:function(e,t,n){var r=this;return this.searchDistributorDevicesByPartialGCMidByTenant(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!1,!0),i=r.retriveFilteredDictionaryValue(t,"gcmid");return[i,n]})}},{key:"executeSearchingPartialGCMidByDistributor",value:function(e,t,n){var r=this;return this.searchDistributorDevicesByPartialGCMid(e,t,n).then(function(e){var t=e.matches,i=void 0;i=n?r.convertDevicesArrayToDictionaryObj(t,!1,!0):r.convertDevicesArrayToDictionaryObj(t,!1,!0);var a=r.retriveFilteredDictionaryValue(t,"gcmid");return[a,i]})}},{key:"rejectedPromise",value:function(){var e=this.$q.defer();return e.reject(),e.promise}},{key:"searchDevices",value:function(e,t,n,r,i,a){var o=this.$q.defer(),s=void 0;return s=e&&e.length>2?"Serial Number"===t?n?this.executeSearchingPartialSerialByTenant(r,e,a):this.executeSearchingPartialSerialByDistributor(i,e,a):"MAC"===t?n?this.executeSearchingPartialMacByTenant(r,e,a):this.executeSearchingPartialMacByDistributor(i,e,a):n?this.executeSearchingPartialGCMidByTenant(r,e,a):this.executeSearchingPartialGCMidByDistributor(i,e,a):this.rejectedPromise(),s.then(function(e){o.resolve({success:!0,devices:e})}),s["catch"](function(e){o.resolve({success:!1,devices:[]})}),o.promise}},{key:"convertDevicesArrayToDictionaryObj",value:function(e,t,n){for(var r={},i=0;i<e.length;i++){var a=e[i];t?r[a.mac]=a:n?r[a.gcmid]=a:r[a.serial]=a}return r}},{key:"editItem",value:function(e,t){t||(t=!1),this.$state.go("editDevice",{deviceKey:e.key,tenantKey:e.tenantKey,fromDevices:t})}},{key:"preprateForEditView",value:function(e,t,n,r,i,a){var o=void 0,s=void 0,c=void 0;return o="MAC"===e,s="Serial Number"===e,c="GCM ID"===e,o?this.editItem(r[n]):s?this.editItem(i[n]):this.editItem(a[n])}},{key:"getIssuesByKey",value:function(e,t,n,r,i){r=void 0===r?null:r,i=void 0===i?null:i;var a="/api/v1/devices/"+r+"/"+i+"/"+e+"/issues?start="+t+"&end="+n,o=this.Restangular.oneUrl(this.SERVICE_NAME,a).get();return o}},{key:"getCommandEventsByKey",value:function(e,t,n){t=void 0===t?null:t,n=void 0===n?null:n;var r="/api/v1/player-command-events/"+t+"/"+n+"/"+e,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}},{key:"getDevicesByTenant",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByTenantURL(e,t,n,!1);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getUnmanagedDevicesByTenant",value:function(e,t,n){if(void 0!==e){var r=(this.$q.defer(),this.makeDevicesByTenantURL(e,t,n,!0));return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"searchDevicesByPartialSerialByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_serial="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDevicesByPartialMacByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_mac="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDistributorDevicesByPartialGCMidByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_gcmid="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDevicesByPartialSerial",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_serial="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDevicesByPartialMac",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_mac="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDistributorDevicesByPartialGCMid",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_gcmid="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"getDevicesByDistributor",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByDistributorURL(e,t,n,!1);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getUnmanagedDevicesByDistributor",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByDistributorURL(e,t,n,!0);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getDevices",value:function(){var e=this.Restangular.all(this.SERVICE_NAME).getList();return e}},{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("devices").post(e);return t}},{key:"saveOverlaySettings",value:function(e,t,n,r,i){var a={bottom_left:t,bottom_right:n,top_right:r,top_left:i};return this.Restangular.oneUrl("overlay","/api/v1/overlay/device/"+e).customPOST(a)}},{key:"delete",value:function(e){var t=this.Restangular.one(this.SERVICE_NAME,e).remove();return t}},{key:"getPanelModels",value:function(){return[{id:"None",displayName:"None"},{id:"Sony-FXD40LX2F",displayName:"Sony FXD40LX2F"},{id:"NEC-LCD4215",displayName:"NEC LCD4215"},{id:"Phillips-BDL5560EL",displayName:"Phillips BDL5560EL"},{id:"Panasonic-TH55LF6U",displayName:"Panasonic TH55LF6U"},{id:"Sharp-PNE521",displayName:"Sharp PNE521"}]}},{key:"getPanelInputs",value:function(){return[{id:"None",parentId:"None"},{id:"HDMI1",parentId:"Sony-FXD40LX2F"},{id:"HDMI2",parentId:"Sony-FXD40LX2F"},{id:"HDMI1",parentId:"Phillips-BDL5560EL"},{id:"HDMI2",parentId:"Phillips-BDL5560EL"},{id:"DVI",parentId:"Phillips-BDL5560EL"},{id:"HDMI1",parentId:"Panasonic-TH55LF6U"},{id:"HDMI2",parentId:"Panasonic-TH55LF6U"},{id:"DVI",parentId:"Panasonic-TH55LF6U"},{id:"HDMI1",parentId:"Sharp-PNE521"},{id:"HDMI2",parentId:"Sharp-PNE521"},{id:"DVI",parentId:"Sharp-PNE521"},{id:"VGA",parentId:"NEC-LCD4215"},{id:"DVI1",parentId:"NEC-LCD4215"}]}},{key:"makeDevicesByDistributorURL",value:function(e,t,n,r){var i="/api/v1/distributors/"+e+"/devices?unmanaged="+r+"&next_cursor="+n+"&prev_cursor="+t;return i}},{key:"makeDevicesByTenantURL",value:function(e,t,n,r){var i="/api/v1/tenants/"+e+"/devices?unmanaged="+r+"&next_cursor="+n+"&prev_cursor="+t;return i}}]),e}();exports["default"]=s},711:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t,n,r){"ngInject";(0,i["default"])(this,e),this.Restangular=t,this.$state=n,this.SessionsService=r,this.DISTRIBUTOR_SERVICE="distributors"}return e.$inject=["Restangular","$state","SessionsService"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service(this.DISTRIBUTOR_SERVICE).post(e);return t}},{key:"fetchAll",value:function(){var e=this.Restangular.all(this.DISTRIBUTOR_SERVICE).getList();return e}},{key:"fetchAllByUser",value:function(e){if(e){var t=this.Restangular.one("users",e).doGET(this.DISTRIBUTOR_SERVICE);return t}}},{key:"getByKey",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"api/v1/distributors/"+e).get();return t}},{key:"delete",value:function(e){if(e.key){var t=this.Restangular.one(this.DISTRIBUTOR_SERVICE,e.key).remove();return t}}},{key:"getByName",value:function(e){var t=this.Restangular.all(this.DISTRIBUTOR_SERVICE).getList({distributorName:e});return t}},{key:"getDomainsByKey",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"api/v1/distributors/"+e+"/domains").get();return t}},{key:"switchDistributor",value:function(e){return this.SessionsService.setCurrentDistributorName(e.name),this.SessionsService.setCurrentDistributorKey(e.key),this.$state.go("welcome")}}]),e}();exports["default"]=s},712:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("domains").post(e);return t}},{key:"fetchAllDomains",value:function(){var e=this.Restangular.all("domains").getList();return e}},{key:"getDomainByKey",value:function(e){var t=this.Restangular.oneUrl("domains","api/v1/domains/"+e).get();return t}},{key:"getDirectoryApiConnectivityInformation",value:function(e){var t=this.Restangular.oneUrl("domains","api/v1/domains/"+e+"/directory_api").get();return t}},{key:"delete",value:function(e){if(void 0!==e.key){var t=this.Restangular.one("domains",e.key).remove();return t}}}]),e}();exports["default"]=s},713:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getIdentity",value:function(){return this.Restangular.oneUrl("identity").get()}}]),e}();exports["default"]=s},714:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t,this.ENROLLMENT_EVENTS="integration_events/enrollment"}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getEnrollmentEvents",value:function(e){var t={deviceKey:e};return this.Restangular.all(this.ENROLLMENT_EVENTS).customGET("",t)}}]),e}();exports["default"]=s},715:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("locations").post(e);return t}},{key:"searchAllTenantLocationsByName",value:function(e,t){var n=this.Restangular.all("tenants").customGETLIST(e+"/locations",{customer_location_name:t});return n}},{key:"getLocationsByTenantKey",value:function(e){var t=this.Restangular.oneUrl("tenants","api/v1/tenants/"+e+"/locations").get();return t}},{key:"getLocationsByTenantKeyPaginated",value:function(e,t,n){t=void 0===t?null:t,n=void 0===n?null:n;var r=this.Restangular.oneUrl("tenants","api/v1/tenants/"+e+"/"+t+"/"+n+"/locations").get();return r}},{key:"getLocationByKey",value:function(e){var t=this.Restangular.oneUrl("locations","api/v1/locations/"+e).get();return t}}]),e}();exports["default"]=s},716:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.ngProgressFactory=t,this.progressBar=this.ngProgressFactory.createInstance()}return e.$inject=["ngProgressFactory"],(0,o["default"])(e,[{key:"start",value:function(){return this.progressBar.setColor("#00FCFF"),this.progressBar.setHeight("4px"),this.progressBar.start()}},{key:"complete",value:function(){return this.progressBar.complete()}}]),e}();exports["default"]=s},717:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t,n,r,a,o,s,c){"ngInject";(0,i["default"])(this,e),this.$http=t,this.$q=n,this.$window=r,this.SessionsService=a,this.$stateParams=o,this.$state=s,this.ToastsService=c,this.makeHTTPRequest=this.makeHTTPRequest.bind(this),this.uriBase="proofplay/api/v1"}return e.$inject=["$http","$q","$window","SessionsService","$stateParams","$state","ToastsService"],(0,o["default"])(e,[{key:"makeHTTPURL",value:function(e,t){return this.uriBase+e+t}},{key:"makeHTTPRequest",value:function(e,t){var n=(this.$q.defer(),this.makeHTTPURL(e,t));return this.$http.get(n)}},{key:"getAllResources",value:function(e){var t=this.makeHTTPRequest("/retrieve_all_resources/",e);return t["catch"](function(e,t){var n=e.status;if(403===n&&(this.ToastsService.showErrorToast("You are not allowed to view this tenant!"),this.$state.go("proof",{})),404===n)return this.ToastsService.showErrorToast("You must select a tenant first!"),this.$state.go("proof",{})}),t.then(function(e){return e})}},{key:"getAllDisplays",value:function(e){return this.makeHTTPRequest("/retrieve_all_displays/",e)}},{key:"getAllLocations",value:function(e){return this.makeHTTPRequest("/retrieve_all_locations/",e)}},{key:"getAllTenants",value:function(){return this.makeHTTPRequest("/retrieve_my_tenants","")}},{key:"downloadCSVForMultipleResourcesByDate",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_resource_by_date/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleResourcesByDevice",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_resource_by_device/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleDevicesSummarized",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_device_summarized/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleDevicesByDate",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_device_by_date/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleLocationsByDevice",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_location_by_device/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleLocationsSummarized",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_location_summarized/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),
!0}},{key:"createFilterFor",value:function(e){return e=angular.lowercase(e),function(t){return t=angular.lowercase(t),0===t.indexOf(e)}}},{key:"querySearch",value:function(e,t){return t?e.filter(this.createFilterFor(t)):e}}]),e}();exports["default"]=s},718:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t,n,r,a,o,s){"ngInject";(0,i["default"])(this,e),this.$http=t,this.$log=n,this.StorageService=r,this.IdentityService=a,this.Restangular=o,this.$q=s,this.setIdentity=this.setIdentity.bind(this),this.uriBase="v1/sessions"}return e.$inject=["$http","$log","StorageService","IdentityService","Restangular","$q"],(0,o["default"])(e,[{key:"setDistributors",value:function(e){return this.StorageService.set("distributors",e)}},{key:"setDistributorsAsAdmin",value:function(e){return this.StorageService.set("distributorsAsAdmin",e)}},{key:"setIsAdmin",value:function(e){return this.StorageService.set("isAdmin",e)}},{key:"setUserKey",value:function(e){return this.StorageService.set("userKey",e)}},{key:"setUserEmail",value:function(e){return this.StorageService.set("userEmail",e)}},{key:"setCurrentDistributorKey",value:function(e){return this.StorageService.set("currentDistributorKey",e)}},{key:"setCurrentDistributorName",value:function(e){return this.StorageService.set("currentDistributorName",e)}},{key:"getUserKey",value:function(){return this.StorageService.get("userKey")}},{key:"getUserEmail",value:function(){return this.StorageService.get("userEmail")}},{key:"getDistributors",value:function(){return this.StorageService.get("distributors")}},{key:"getCurrentDistributorName",value:function(){return this.StorageService.get("currentDistributorName")}},{key:"getCurrentDistributorKey",value:function(){return this.StorageService.get("currentDistributorKey")}},{key:"getDistributorsAsAdmin",value:function(){return this.StorageService.get("distributorsAsAdmin")}},{key:"getIsAdmin",value:function(){return this.StorageService.get("isAdmin")}},{key:"login",value:function(e){var t=this,n={access_token:_.clone(e.access_token),authuser:_.clone(e.authuser),client_id:_.clone(e.client_id),code:_.clone(e.code),id_token:_.clone(e.id_token),scope:_.clone(e.scope),session_state:_.clone(e.session_state),state:_.clone(e.state),status:_.clone(e.status)};e.email&&e.password&&(n=e);var r=this.$http.post("/login",n);return r.success(function(e){return t.setUserKey(e.user.key),t.setIdentity().then(function(){return e})})}},{key:"setIdentity",value:function(){var e=this,t=this.$q.defer(),n=this.IdentityService.getIdentity();return n.then(function(n){return e.setDistributors(n.distributors),e.setDistributorsAsAdmin(n.distributors_as_admin),e.setIsAdmin(n.is_admin),e.setUserEmail(n.email),e.setIsAdmin(n.is_admin),t.resolve()}),t.promise}},{key:"removeUserInfo",value:function(){this.StorageService.removeAll()}}]),e}();exports["default"]=s},719:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=t(720),c=n(s),u=function(){function e(){(0,i["default"])(this,e)}return(0,o["default"])(e,[{key:"set",value:function(e,t){return c["default"].set(e,t)}},{key:"get",value:function(e){return c["default"].get(e)}},{key:"rm",value:function(e){return c["default"].rm(e)}},{key:"removeAll",value:function(){c["default"].flush()}}]),e}();exports["default"]=u},721:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t,n){"ngInject";(0,i["default"])(this,e),this.Restangular=t,this.SessionsService=n}return e.$inject=["Restangular","SessionsService"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("tenants").post(e);return t}},{key:"getImages",value:function(e){return this.Restangular.oneUrl("image","/api/v1/image/tenant/"+e).getList()}},{key:"saveImage",value:function(e,t,n){var r={svg_rep:t,name:n};return this.Restangular.oneUrl("image","/api/v1/image/tenant/"+e).customPOST(r)}},{key:"searchAllTenantsByName",value:function(e){var t=this.Restangular.all("tenants").customGETLIST("",{tenant_name:e});return t}},{key:"fetchAllTenants",value:function(){var e=this.Restangular.all("tenants").getList();return e}},{key:"fetchAllTenantsPaginated",value:function(e,t){var n="api/v1/tenants/paginated/"+e+"/"+t,r=this.Restangular.oneUrl("tenants",n).get();return r}},{key:"getTenantByKey",value:function(e){var t="api/v1/tenants/"+e,n=this.Restangular.oneUrl("tenants",t).get();return n}},{key:"delete",value:function(e){if(void 0!==e.key){var t=this.Restangular.one("tenants",e.key).remove();return t}}}]),e}();exports["default"]=s},722:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getUsTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/us").get();return e}},{key:"getAllTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/all").get();return e}},{key:"getCustomTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/custom").get();return e}}]),e}();exports["default"]=s},723:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.toastr=t}return e.$inject=["toastr"],(0,o["default"])(e,[{key:"showSuccessToast",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"Success!":arguments[1];return this.toastr.success(e,t)}},{key:"showErrorToast",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"Error!":arguments[1];return this.toastr.error(e,t)}},{key:"showInfoToast",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"Information":arguments[1];return this.toastr.info(e,t)}}]),e}();exports["default"]=s},724:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(702),i=n(r),a=t(703),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getVersions",value:function(){var e=this.Restangular.oneUrl("versions").get();return e}}]),e}();exports["default"]=s},725:function(e,exports){"use strict";function t(e,t,n,r,i,a,o,s,c){"ngInject";var u=this;return u.gameStopServer=t.host().indexOf("provisioning-gamestop")>-1,u.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,proof_of_play_url:void 0,active:!0},u.selectedDomain=void 0,u.distributorDomains=[],u.timezones=[],u.selectedTimezone="America/Chicago",u.initialize=function(){var e=i.getCustomTimezones();e.then(function(e){return u.timezones=e}),u.currentDistributorKey=c.getCurrentDistributorKey();var t=r.getByKey(u.currentDistributorKey);t.then(function(e){return u.currentTenant.content_manager_base_url=e.content_manager_url,u.currentTenant.content_server_url=e.player_content_url});var n=r.getDomainsByKey(u.currentDistributorKey);return n.then(function(e){return u.distributorDomains=e})},u.onClickSaveButton=function(){s.start(),u.currentTenant.default_timezone=u.selectedTimezone,u.currentTenant.domain_key=u.selectedDomain.key;var e=n.save(u.currentTenant);return e.then(u.onSuccessTenantSave,u.onFailureTenantSave)},u.onSuccessTenantSave=function(){return s.complete(),a.go("tenants")},u.onFailureTenantSave=function(t){return s.complete(),409===t.status?o.show("Oops...","Tenant code unavailable in Provisioning. Please modify tenant name to generate a unique tenant code.","error"):412===t.status?o.show("Oops...","Tenant code unavailable in Chrome Device Management. Modify tenant name to generate a unique tenant code.","error"):(e.error(t),o.show("Oops...","Unable to save the tenant.","error"))},u.autoGenerateTenantCode=function(){if(!u.currentTenant.key){var e="";return u.currentTenant.name&&(e=u.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),u.currentTenant.tenant_code=e}},u}t.$inject=["$log","$location","TenantsService","DistributorsService","TimezonesService","$state","sweet","ProgressBarService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantAddCtrl=t},726:function(e,exports){"use strict";function t(e,t,n,r,i,a,o,s,c,u,l,d){"ngInject";var v=this;if(v.gameStopServer=d.host().indexOf("provisioning-gamestop")>-1,v.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,proof_of_play_url:void 0,active:!0},v.selectedDomain=void 0,v.distributorDomains=[],v.timezones=[],v.selectedTimezone="America/Chicago",v.editMode=!!e.tenantKey,v.editMode){var p=t.getTenantByKey(e.tenantKey);p.then(function(e){return v.currentTenant=e,v.onSuccessResolvingTenant(e)})}return v.initialize=function(){var e=r.getCustomTimezones();e.then(function(e){return v.timezones=e}),v.currentDistributorKey=u.getCurrentDistributorKey();var t=i.getDomainsByKey(v.currentDistributorKey);return t.then(function(e){return v.distributorDomains=e})},v.onSuccessResolvingTenant=function(e){v.selectedTimezone=e.default_timezone;var t=n.getDomainByKey(e.domain_key);return t.then(function(e){return v.selectedDomain=e})},v.onClickSaveButton=function(){s.start(),v.currentTenant.default_timezone=v.selectedTimezone,v.currentTenant.domain_key=v.selectedDomain.key;var e=t.save(v.currentTenant);return e.then(v.onSuccessTenantSave,v.onFailureTenantSave)},v.onSuccessTenantSave=function(){return s.complete(),c.showSuccessToast("We saved your tenant information.")},v.onFailureTenantSave=function(e){return s.complete(),409===e.status?o.show("Oops...","Tenant code unavailable. Please modify tenant name to generate a unique tenant code.","error"):o.show("Oops...","Unable to save the tenant.","error")},v.editItem=function(t){return a.go("editDevice",{deviceKey:t.key,tenantKey:e.tenantKey})},v.autoGenerateTenantCode=function(){if(!v.currentTenant.key){var e="";return v.currentTenant.name&&(e=v.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),v.currentTenant.tenant_code=e}},l.tabIndex=0,l.$watch("tabIndex",function(t,n){if(void 0!==t)switch(t){case 0:return a.go("tenantDetails",{tenantKey:e.tenantKey});case 1:return a.go("tenantManagedDevices",{tenantKey:e.tenantKey});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:e.tenantKey});case 3:return a.go("tenantLocations",{tenantKey:e.tenantKey})}}),v}t.$inject=["$stateParams","TenantsService","DomainsService","TimezonesService","DistributorsService","$state","sweet","ProgressBarService","ToastsService","SessionsService","$scope","$location"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantDetailsCtrl=t},727:function(e,exports){"use strict";function t(e,t,n,r,i,a,o){"ngInject";var s=this;if(s.location={key:void 0},s.tenantKey=e.tenantKey,s.editMode=!!e.locationKey,s.editMode){var c=n.getLocationByKey(e.locationKey);c.then(function(e){return s.location=e,s.tenantKey=e.tenantKey,s.locationName=e.customerLocationName,s.fetchTenantName(s.tenantKey)})}return s.initialize=function(){if(!s.editMode)return s.fetchTenantName(s.tenantKey),s.location={tenantKey:s.tenantKey,active:!0}},s.onClickSaveButton=function(){a.start();var e=n.save(s.location);return s.editMode?e.then(s.onSuccessUpdatingLocation(s.tenantKey),s.onFailureSavingLocation):e.then(s.onSuccessSavingLocation,s.onFailureSavingLocation)},s.onSuccessSavingLocation=function(){return a.complete(),o.showSuccessToast("We saved your location."),setTimeout(function(){r.go("tenantLocations",{tenantKey:e.tenantKey})},1e3)},s.onSuccessUpdatingLocation=function(e){return a.complete(),o.showSuccessToast("We updated your location."),setTimeout(function(){r.go("tenantLocations",{tenantKey:e})},1e3)},s.onFailureSavingLocation=function(e){return a.complete(),409===e.status?(o.showErrorToast("Location code conflict. Unable to save your location."),i.show("Oops...","Please change your customer location name. Location name must generate a unique location code.","error")):o.showErrorToast("Unable to save your location.")},s.fetchTenantName=function(e){var n=t.getTenantByKey(e);return n.then(function(e){return s.tenantName=e.name})},s.autoGenerateCustomerLocationCode=function(){if(!s.location.key){var e="";return s.location.customerLocationName&&(e=s.location.customerLocationName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),s.location.customerLocationCode=e}},s}t.$inject=["$stateParams","TenantsService","LocationsService","$state","sweet","ProgressBarService","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantLocationCtrl=t},728:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,i,o){"ngInject";var c=this,u=t.tenantKey;e.tabIndex=3,c.locations=[],c.searchDisabled=!0,c.tenantKey=t.tenantKey;var l=n.getTenantByKey(u);return l.then(function(e){c.currentTenant=e}),e.$watch("tabIndex",function(e){if(void 0!==e)switch(e){case 0:return i.go("tenantDetails",{tenantKey:u});case 1:return i.go("tenantManagedDevices",{tenantKey:u});case 2:return i.go("tenantUnmanagedDevices",{tenantKey:u});case 3:return i.go("tenantLocations",{tenantKey:u})}}),c.getLocations=function(e,t,n){o.start();var i=r.getLocationsByTenantKeyPaginated(e,t,n);return i.then(function(e){return c.locations=e.locations,c.next_cursor=e.next_cursor,c.prev_cursor=e.prev_cursor,o.complete()})},c.searchAllTenantLocationsByName=function(e){if(!e||e.length<3)return[];var t=r.searchAllTenantLocationsByName(c.tenantKey,e);return t.then(function(e){return c.searchedTenantLocations=e,c.searchedTenantLocations?c.searchedTenantLocations.map(function(e){return e.customerLocationName}).sort(s["default"]):[]})},c.isTenantLocationValid=function(e){if(!e||e.length<3)return[];r.searchAllTenantLocationsByName(c.tenantKey,e).then(function(t){var n=t;if(n){var r=!0,i=!1,o=void 0;try{for(var s,u=(0,a["default"])(n);!(r=(s=u.next()).done);r=!0){var l=s.value;if(e===l.customerLocationName)return c.searchDisabled=!1,void(c.searchMatch=l);c.searchDisabled=!0}}catch(d){i=!0,o=d}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}}else c.searchDisabled=!0})},c.paginateCall=function(e){return e?c.getLocations(u,null,c.next_cursor):c.getLocations(u,c.prev_cursor,null)},c.initialize=function(){return c.getLocations(u)},c.editItem=function(e){return i.go("editLocation",{locationKey:e.key})},c}r.$inject=["$scope","$stateParams","TenantsService","LocationsService","$state","ProgressBarService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantLocationsCtrl=void 0;var i=t(646),a=n(i),o=t(729),s=n(o);exports.TenantLocationsCtrl=r},730:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,i,o){"ngInject";var s=this;if(s.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},s.tenantDevices=[],s.devicesPrev=null,s.devicesNext=null,s.selectedButton="Serial Number",s.serialDevices={},s.disabled=!0,s.devicesToMatchOn=[],s.macDevices={},s.editMode=!!t.tenantKey,s.tenantKey=t.tenantKey,s.getManagedDevices=function(e,t,n){i.start();var a=r.getDevicesByTenant(e,t,n);return a.then(function(e){return s.devicesPrev=e.prev_cursor,s.devicesNext=e.next_cursor,s.tenantDevices=e.devices,i.complete()})},s.editItem=function(e){return r.editItem(e)},s.refreshDevices=function(){return s.devicesPrev=null,s.devicesNext=null,s.tenantDevices=null,s.getManagedDevices(s.tenantKey,s.devicesPrev,s.devicesNext)},s.editMode){var c=n.getTenantByKey(s.tenantKey);c.then(function(e){return s.currentTenant=e}),s.getManagedDevices(s.tenantKey,null,null)}return e.tabIndex=1,e.$watch("tabIndex",function(e,t){if(void 0!==e)switch(e){case 0:return o.go("tenantDetails",{tenantKey:s.tenantKey});case 1:return o.go("tenantManagedDevices",{tenantKey:s.tenantKey});case 2:return o.go("tenantUnmanagedDevices",{tenantKey:s.tenantKey});case 3:return o.go("tenantLocations",{tenantKey:s.tenantKey})}}),s.changeRadio=function(){s.searchText="",s.disabled=!0,s.serialDevices={},s.macDevices={},s.devicesToMatchOn=[]},s.searchDevices=function(e){var t=!1,n=s.selectedButton,i=!0,a=s.tenantKey;return r.searchDevices(e,n,i,a,s.distributorKey,t).then(function(e){var t=void 0;if(e.success){var r=e.devices;return"Serial Number"===n?(s.serialDevices=r[1],t=r[0]):"MAC"===n?(s.macDevices=r[1],t=r[0]):(s.gcmidDevices=r[1],t=r[0]),s.devicesToMatchOn=t,t}return[]})},s.paginateCall=function(e){return e?s.getManagedDevices(s.tenantKey,null,s.devicesNext):s.getManagedDevices(s.tenantKey,s.devicesPrev,null)},s.prepareForEditView=function(e){return r.preprateForEditView(s.selectedButton,s.tenantKey,e,s.macDevices,s.serialDevices,s.gcmidDevices)},s.controlOpenButton=function(e){return s.disabled=!e,s.loadingDisabled=!1},s.isResourceValid=function(e){var t=!1,n=!0,r=!1,i=void 0;try{for(var o,c=(0,a["default"])(s.devicesToMatchOn);!(n=(o=c.next()).done);n=!0){var u=o.value;e===u&&(t=!0)}}catch(l){r=!0,i=l}finally{try{!n&&c["return"]&&c["return"]()}finally{if(r)throw i}}return s.controlOpenButton(t),t},s}r.$inject=["$scope","$stateParams","TenantsService","DevicesService","ProgressBarService","$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantManagedDevicesCtrl=void 0;var i=t(646),a=n(i);exports.TenantManagedDevicesCtrl=r},731:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,i,o){"ngInject";var s=this;if(s.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},s.gcmidDevices=[],s.tenantDevices=[],s.devicesPrev=null,s.devicesNext=null,s.selectedButton="MAC",s.serialDevices={},s.disabled=!0,s.macDevices={},s.devicesToMatchOn=[],s.editMode=!!t.tenantKey,s.tenantKey=t.tenantKey,e.tabIndex=2,e.$watch("tabIndex",function(e,t){if(void 0!==e)switch(e){case 0:return o.go("tenantDetails",{tenantKey:s.tenantKey});case 1:return o.go("tenantManagedDevices",{tenantKey:s.tenantKey});case 2:return o.go("tenantUnmanagedDevices",{tenantKey:s.tenantKey});case 3:return o.go("tenantLocations",{tenantKey:s.tenantKey})}}),s.editItem=function(e){return r.editItem(e)},s.getUnmanagedDevices=function(e,t,n){i.start();var a=r.getUnmanagedDevicesByTenant(e,t,n);return a.then(function(e){return s.devicesPrev=e.prev_cursor,s.devicesNext=e.next_cursor,s.tenantDevices=e.devices,i.complete()})},s.editMode){var c=n.getTenantByKey(s.tenantKey);c.then(function(e){return s.currentTenant=e}),s.getUnmanagedDevices(s.tenantKey,null,null)}return s.refreshDevices=function(){return s.devicesPrev=null,s.devicesNext=null,s.tenantDevices=null,s.getUnmanagedDevices(s.tenantKey,s.devicesPrev,s.devicesNext)},s.changeRadio=function(){s.searchText="",s.disabled=!0,s.serialDevices={},s.macDevices={},s.devicesToMatchOn=[]},s.searchDevices=function(e){var t=!0,n=!0;return r.searchDevices(e,s.selectedButton,n,s.tenantKey,s.distributorKey,t).then(function(e){var t=void 0;if(e.success){var n=e.devices;return"Serial Number"===s.selectedButton?(s.serialDevices=n[1],t=n[0]):"MAC"===s.selectedButton?(s.macDevices=n[1],t=n[0]):(s.gcmidDevices=n[1],t=n[0]),s.devicesToMatchOn=t,t}return[]})},s.paginateCall=function(e){return e?s.getUnmanagedDevices(s.tenantKey,null,s.devicesNext):s.getUnmanagedDevices(s.tenantKey,s.devicesPrev,null)},s.prepareForEditView=function(e){return r.preprateForEditView(s.selectedButton,s.tenantKey,e,s.macDevices,s.serialDevices,s.gcmidDevices)},s.controlOpenButton=function(e){s.disabled=!e,s.loadingDisabled=!1},s.isResourceValid=function(e){var t=!1,n=!0,r=!1,i=void 0;try{for(var o,c=(0,a["default"])(s.devicesToMatchOn);!(n=(o=c.next()).done);n=!0){var u=o.value;e===u&&(t=!0)}}catch(l){r=!0,i=l}finally{try{!n&&c["return"]&&c["return"]()}finally{if(r)throw i}}return s.controlOpenButton(t),t},s}r.$inject=["$scope","$stateParams","TenantsService","DevicesService","ProgressBarService","$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantUnmanagedDevicesCtrl=void 0;var i=t(646),a=n(i);exports.TenantUnmanagedDevicesCtrl=r},732:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,i){"ngInject";var o=this;return o.tenants=[],o.searchedTenants=[],o.searchMatch=null,o.searchDisabled=!0,o.getTenantsPaginated=function(e,t){o.offset=t,o.loading=!0,r.start();var i=n.fetchAllTenantsPaginated(e,t);return i.then(function(e){return o.getFetchSuccess(e)},function(e){return o.getFetchFailure(e)})},o.getFetchSuccess=function(e){return o.tenants=e.tenants,o.total=e.total,o.is_first_page=e.is_first_page,o.is_last_page=e.is_last_page,r.complete(),o.loading=!1},o.getFetchFailure=function(e){r.complete();var t="Unable to fetch tenants. Error: "+e.status+" "+e.statusText+".";return i.show("Oops...",t,"error")},o.initialize=function(){return o.offset=0,o.searchAllTenantsByName("my"),o.getTenantsPaginated(100,o.offset)},o.searchAllTenantsByName=function(e){if(!e||e.length<3)return[];var t=n.searchAllTenantsByName(e);return t.then(function(e){return o.searchedTenants=e,o.searchedTenants?o.searchedTenants.map(function(e){return e.name}).sort(s["default"]):[]})},o.isTenantValid=function(e){if(!e||e.length<3)return[];n.searchAllTenantsByName(e).then(function(t){var n=t;if(n){var r=!0,i=!1,s=void 0;try{for(var c,u=(0,a["default"])(n);!(r=(c=u.next()).done);r=!0){var l=c.value;if(e===l.name)return o.searchDisabled=!1,void(o.searchMatch=l);o.searchDisabled=!0}}catch(d){i=!0,s=d}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw s}}}else o.searchDisabled=!0})},o.editItem=function(t){return e.go("tenantDetails",{tenantKey:t.key})},o.deleteItem=function(e){var t=function(){var t=n["delete"](e);return t.then(function(){return o.initialize()})};return i.show({title:"Are you sure?",text:"This will permanently remove the tenant from the system.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the tenant!",closeOnConfirm:!0},t)},o}r.$inject=["$state","$log","TenantsService","ProgressBarService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantsCtrl=void 0;var i=t(646),a=n(i),o=t(729),s=n(o);exports.TenantsCtrl=r},733:function(e,exports){"use strict";function t(e,t,n,r){"ngInject";var i=this;return i.version_data=[],i.loading=!0,i.proceedToSignIn=function(){return t.go("sign_in")},i.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},i.giveOptionToChangeDistributor=function(){var e=n.fetchAllByUser(r.getUserKey());return e.then(function(e){return i.has_multiple_distributors=e.length>1,i.loading=!1})},i.changeDistributor=function(){return t.go("distributor_selection")},i.getVersion=function(){var t=e.getVersions();return t.then(function(e){return i.version_data=e})},i.initialize=function(){return i.identity={key:r.getUserKey(),email:r.getUserEmail(),distributorKey:r.getCurrentDistributorKey(),distributorName:r.getCurrentDistributorName()},i.giveOptionToChangeDistributor(),i.identity.email?i.getVersion():t.go("sign_in")},i}t.$inject=["VersionsService","$state","DistributorsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.WelcomeCtrl=t},734:function(e,exports){"use strict";function t(e,t,n){"ngInject";return e.state("sign_in",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],notAuthenticated:["AuthorizationService",function(e){return e.notAuthenticated()}]},url:"/sign_in",templateUrl:"app/authentication/sign_in.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("signed_out",{url:"/signed_out",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],notAuthenticated:["AuthorizationService",function(e){return e.notAuthenticated()}]},templateUrl:"app/authentication/signed_out.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("sign_out",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/sign_out",templateUrl:"app/authentication/sign_out.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("distributor_selection",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/distributor_selection",templateUrl:"app/distributor/distributor_selector.html",controller:"DistributorSelectorCtrl",controllerAs:"vm"}),e.state("home",{url:"/",templateUrl:"app/welcome/welcome.html",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("welcome",{url:"/welcome",templateUrl:"app/welcome/welcome.html",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("domains",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains",templateUrl:"app/domain/domains-listing.html",controller:"DomainsCtrl",controllerAs:"domainsCtrl",ncyBreadcrumb:{label:"Domains"}}),e.state("addDomain",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains/add",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"Add domain",parent:"domains"}}),e.state("editDomain",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains/:domainKey",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"{{ domainDetailsCtrl.currentDomain.name }}",parent:"domains"}}),e.state("tenants",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants",templateUrl:"app/tenant/tenants-listing.html",controller:"TenantsCtrl",controllerAs:"tenantsCtrl",ncyBreadcrumb:{label:"Tenants"}}),e.state("addTenant",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/add",templateUrl:"app/tenant/tenant-add.html",controller:"TenantAddCtrl",controllerAs:"tenantAddCtrl",ncyBreadcrumb:{label:"Add tenant",parent:"tenants"}}),e.state("tenantDetails",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/details",templateUrl:"app/tenant/tenant-details.html",controller:"TenantDetailsCtrl",controllerAs:"tenantDetailsCtrl",ncyBreadcrumb:{label:"{{ tenantDetailsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantManagedDevices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/managed",templateUrl:"app/tenant/tenant-managed-devices.html",controller:"TenantManagedDevicesCtrl",controllerAs:"tenantManagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantManagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantUnmanagedDevices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/unmanaged",templateUrl:"app/tenant/tenant-unmanaged-devices.html",controller:"TenantUnmanagedDevicesCtrl",controllerAs:"tenantUnmanagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantUnmanagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantLocations",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/locations",templateUrl:"app/tenant/tenant-locations.html",controller:"TenantLocationsCtrl",controllerAs:"tenantLocationsCtrl",ncyBreadcrumb:{label:"{{ tenantLocationsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("editLocation",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/locations/:locationKey",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / {{ tenantLocationCtrl.locationName }}",parent:"tenants"}}),e.state("addLocation",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/location",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / Location",parent:"tenants"}}),e.state("devices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/devices",templateUrl:"app/device/devices-listing.html",controller:"DevicesListingCtrl",controllerAs:"devicesListingCtrl",ncyBreadcrumb:{label:"Devices"}}),e.state("editDevice",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/devices/:deviceKey?tenantKey?fromDevices",templateUrl:"app/device/device-detail.html",ncyBreadcrumb:{label:"{{ deviceDetailsCtrl.currentDevice.key }}",parent:"devices"},controller:"DeviceDetailsCtrl","function":function(e,t){e.tenantKey=t.tenantKey},controllerAs:"deviceDetailsCtrl"}),e.state("proof",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/proof",templateUrl:"app/proof/main.html",controller:"ProofOfPlayCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Proof of Play"}}),e.state("proofDetail",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/proof/:tenant",templateUrl:"app/proof/detail.html",controller:"ProofOfPlayCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Proof of Play"}}),e.state("admin",{resolve:{isAdmin:["AuthorizationService",function(e){return e.isAdminOrDistributorAdmin()}]},url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Admin"}}),t.otherwise("/sign_in"),n.setBaseUrl("/api/v1"),n.addResponseInterceptor(function(e,t,n,r,i,a){var o=e;return o}),n.setRestangularFields({id:"key"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.routes=t,t.$inject=["$stateProvider","$urlRouterProvider","RestangularProvider"]},735:function(e,exports){"use strict";function t(e,t,n,r,i){"ngInject";var a=function(){var e=n.get("$state");return r.$on("$stateChangeError",function(t,n,r,i,a,o){if("authError"===o[0])return e.go(o[1])})};i(a,500);var o=function(){e.addRequestInterceptor(function(r,i,a,o){var s=n.get("StorageService"),c="6C346588BD4C6D722A1165B43C51C";if(t.host().indexOf("provisioning-gamestop")>-1&&(c="5XZHBF3mOwqJlYAlG1NeeWX0Cb72g"),e.setDefaultHeaders({
"Content-Type":"application/json",Accept:"application/json",Authorization:c,"X-Provisioning-User":s.get("userKey"),"X-Provisioning-Distributor":s.get("currentDistributorKey")}),"remove"!==i)return r})};i(o,500)}t.$inject=["Restangular","$location","$injector","$rootScope","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.appRun=t},736:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){o["default"].extend(e,{progressBar:!0,closeButton:!0,tapToDismiss:!0,newestOnTop:!0,positionClass:"toast-bottom-left",timeOut:5e3})}function i(e){e.setOptions({prefixStateName:"home",template:"bootstrap3"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toastrConfig=r,exports.breadcrumbProvider=i;var a=t(369),o=n(a);r.$inject=["toastrConfig"],i.$inject=["$breadcrumbProvider"]}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXBwLmJ1bmRsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYXBwLmpzIiwid2VicGFjazovLy8uL34vbW9tZW50L2xvY2FsZSBeXFwuXFwvLiokIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5jc3M/ZDE1NiIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhckJyZWFkY3J1bWIvYW5ndWxhckJyZWFkY3J1bWIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvanMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci9jc3MvbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzP2M0MTMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvY3NzL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1kaXJlY3RpdmUuZy1zaWduaW4vZ29vZ2xlLXBsdXMtc2lnbmluLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy92ZW5kb3Iuc2Nzcz8yNmEwIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy92ZW5kb3Iuc2NzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3Njc3MvaW5kZXguc2Nzcz83Njk3Iiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy9pbmRleC5zY3NzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGV2aWNlL2RldmljZS1kZXRhaWwtY29tbWFuZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2RldmljZS9kZXZpY2UtZGV0YWlscy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGV2aWNlL2RldmljZXMtbGlzdGluZy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYWRtaW4vYWRtaW4tY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2F1dGhlbnRpY2F0aW9uL2F1dGhlbnRpY2F0aW9uLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hcHAvYXBwLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9kaXN0cmlidXRvci9kaXN0cmlidXRvci1zZWxlY3Rvci1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3JzLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9kb21haW4vZG9tYWlucy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZG9tYWluL2RvbWFpbi1kZXRhaWxzLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wcm9vZi9tdWx0aS1sb2NhdGlvbi5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvcHJvb2YvbXVsdGktZGlzcGxheS5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvcHJvb2YvbXVsdGktcmVzb3VyY2UuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3Byb29mL3Byb29mLW9mLXBsYXkuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2FkbWluLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9hdXRob3JpemF0aW9uLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9jb21tYW5kcy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvZGF0ZW1hbmlwdWxhdGlvbi5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvZGV2aWNlcy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvZGlzdHJpYnV0b3JzLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9kb21haW5zLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9pZGVudGl0eS5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvaW50ZWdyYXRpb24tZXZlbnRzLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9sb2NhdGlvbnMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL3Byb2dyZXNzYmFyLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9wcm9vZnBsYXkuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL3Nlc3Npb25zLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9zdG9yYWdlLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy90ZW5hbnRzLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy90aW1lem9uZXMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL3RvYXN0cy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvdmVyc2lvbnMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtYWRkLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LWRldGFpbHMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb25zLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LW1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvdGVuYW50L3RlbmFudC11bm1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvdGVuYW50L3RlbmFudHMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3dlbGNvbWUvd2VsY29tZS1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYXBwLXJvdXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2FwcC1ydW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hcHAtY29uZmlnLmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsIjAiLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIjM2NyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9hcHAiLCJfZGV2aWNlRGV0YWlsQ29tbWFuZCIsIl9kZXZpY2VEZXRhaWxzIiwiX2RldmljZXNMaXN0aW5nIiwiX2FkbWluQ29udHJvbGxlciIsIl9hdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIiLCJfYXBwQ29udHJvbGxlciIsIl9kaXN0cmlidXRvclNlbGVjdG9yQ29udHJvbGxlciIsIl9kaXN0cmlidXRvcnNDb250cm9sbGVyIiwiX2RvbWFpbnMiLCJfZG9tYWluRGV0YWlscyIsIl9tdWx0aUxvY2F0aW9uIiwiX211bHRpRGlzcGxheSIsIl9tdWx0aVJlc291cmNlIiwiX3Byb29mT2ZQbGF5IiwiX2FkbWluIiwiX2FkbWluMiIsIl9hdXRob3JpemF0aW9uIiwiX2F1dGhvcml6YXRpb24yIiwiX2NvbW1hbmRzIiwiX2NvbW1hbmRzMiIsIl9kYXRlbWFuaXB1bGF0aW9uIiwiX2RhdGVtYW5pcHVsYXRpb24yIiwiX2RldmljZXMiLCJfZGV2aWNlczIiLCJfZGlzdHJpYnV0b3JzIiwiX2Rpc3RyaWJ1dG9yczIiLCJfZG9tYWluczIiLCJfZG9tYWluczMiLCJfaWRlbnRpdHkiLCJfaWRlbnRpdHkyIiwiX2ludGVncmF0aW9uRXZlbnRzIiwiX2ludGVncmF0aW9uRXZlbnRzMiIsIl9sb2NhdGlvbnMiLCJfbG9jYXRpb25zMiIsIl9wcm9ncmVzc2JhciIsIl9wcm9ncmVzc2JhcjIiLCJfcHJvb2ZwbGF5IiwiX3Byb29mcGxheTIiLCJfc2Vzc2lvbnMiLCJfc2Vzc2lvbnMyIiwiX3N0b3JhZ2UiLCJfc3RvcmFnZTIiLCJfdGVuYW50cyIsIl90ZW5hbnRzMiIsIl90aW1lem9uZXMiLCJfdGltZXpvbmVzMiIsIl90b2FzdHMiLCJfdG9hc3RzMiIsIl92ZXJzaW9ucyIsIl92ZXJzaW9uczIiLCJfdGVuYW50QWRkIiwiX3RlbmFudERldGFpbHMiLCJfdGVuYW50TG9jYXRpb24iLCJfdGVuYW50TG9jYXRpb25zIiwiX3RlbmFudE1hbmFnZWREZXZpY2VzIiwiX3RlbmFudFVubWFuYWdlZERldmljZXMiLCJfdGVuYW50czMiLCJfd2VsY29tZUNvbnRyb2xsZXIiLCJfYXBwUm91dGVzIiwiX2FwcFJ1biIsIl9hcHBDb25maWciLCJhcHAiLCJzZXJ2aWNlIiwiY29udHJvbGxlciIsIkRldmljZURldGFpbHNDb21tYW5kc0N0cmwiLCJEZXZpY2VEZXRhaWxzQ3RybCIsIkRldmljZXNMaXN0aW5nQ3RybCIsIkFkbWluQ3RybCIsIkF1dGhlbnRpY2F0aW9uQ3RybCIsIkFwcENvbnRyb2xsZXIiLCJEaXN0cmlidXRvclNlbGVjdG9yQ3RybCIsIkRpc3RyaWJ1dG9yc0N0cmwiLCJEb21haW5zQ3RybCIsIkRvbWFpbkRldGFpbHNDdHJsIiwiUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybCIsIlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybCIsIlByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwiLCJQcm9vZk9mUGxheUN0cmwiLCJUZW5hbnRBZGRDdHJsIiwiVGVuYW50RGV0YWlsc0N0cmwiLCJUZW5hbnRMb2NhdGlvbkN0cmwiLCJUZW5hbnRMb2NhdGlvbnNDdHJsIiwiVGVuYW50TWFuYWdlZERldmljZXNDdHJsIiwiVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwiLCJUZW5hbnRzQ3RybCIsIldlbGNvbWVDdHJsIiwicnVuIiwiYXBwUnVuIiwiY29uZmlnIiwicm91dGVzIiwidG9hc3RyQ29uZmlnIiwiYnJlYWRjcnVtYlByb3ZpZGVyIiwiU3RvcmFnZVNlcnZpY2UiLCIkbG9jYXRpb24iLCJpbnRlcmNlcHRvciIsInJlcXVlc3QiLCJncyIsInByb2QiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwiQWNjZXB0IiwiQXV0aG9yaXphdGlvbiIsImhvc3QiLCJpbmRleE9mIiwiWC1Qcm92aXNpb25pbmctVXNlciIsImdldCIsIlgtUHJvdmlzaW9uaW5nLVVzZXItSWRlbnRpZmllciIsIlgtUHJvdmlzaW9uaW5nLURpc3RyaWJ1dG9yIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giLCIzNjgiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwidW5kZWZpbmVkIiwiX2FuZ3VsYXIiLCJfYW5ndWxhcjIiLCJfYW5ndWxhclVpUm91dGVyIiwiX2FuZ3VsYXJVaVJvdXRlcjIiLCJfbW9tZW50IiwiX2xvZGFzaCIsIl9sb2Rhc2gyIiwid2luZG93IiwiXyIsImFuZ3VsYXIiLCIzNzQiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsIndlYnBhY2tDb250ZXh0UmVzb2x2ZSIsIm1hcCIsIkVycm9yIiwiLi9hZiIsIi4vYWYuanMiLCIuL2FyIiwiLi9hci1tYSIsIi4vYXItbWEuanMiLCIuL2FyLXNhIiwiLi9hci1zYS5qcyIsIi4vYXItdG4iLCIuL2FyLXRuLmpzIiwiLi9hci5qcyIsIi4vYXoiLCIuL2F6LmpzIiwiLi9iZSIsIi4vYmUuanMiLCIuL2JnIiwiLi9iZy5qcyIsIi4vYm4iLCIuL2JuLmpzIiwiLi9ibyIsIi4vYm8uanMiLCIuL2JyIiwiLi9ici5qcyIsIi4vYnMiLCIuL2JzLmpzIiwiLi9jYSIsIi4vY2EuanMiLCIuL2NzIiwiLi9jcy5qcyIsIi4vY3YiLCIuL2N2LmpzIiwiLi9jeSIsIi4vY3kuanMiLCIuL2RhIiwiLi9kYS5qcyIsIi4vZGUiLCIuL2RlLWF0IiwiLi9kZS1hdC5qcyIsIi4vZGUuanMiLCIuL2R2IiwiLi9kdi5qcyIsIi4vZWwiLCIuL2VsLmpzIiwiLi9lbi1hdSIsIi4vZW4tYXUuanMiLCIuL2VuLWNhIiwiLi9lbi1jYS5qcyIsIi4vZW4tZ2IiLCIuL2VuLWdiLmpzIiwiLi9lbi1pZSIsIi4vZW4taWUuanMiLCIuL2VuLW56IiwiLi9lbi1uei5qcyIsIi4vZW8iLCIuL2VvLmpzIiwiLi9lcyIsIi4vZXMtZG8iLCIuL2VzLWRvLmpzIiwiLi9lcy5qcyIsIi4vZXQiLCIuL2V0LmpzIiwiLi9ldSIsIi4vZXUuanMiLCIuL2ZhIiwiLi9mYS5qcyIsIi4vZmkiLCIuL2ZpLmpzIiwiLi9mbyIsIi4vZm8uanMiLCIuL2ZyIiwiLi9mci1jYSIsIi4vZnItY2EuanMiLCIuL2ZyLWNoIiwiLi9mci1jaC5qcyIsIi4vZnIuanMiLCIuL2Z5IiwiLi9meS5qcyIsIi4vZ2QiLCIuL2dkLmpzIiwiLi9nbCIsIi4vZ2wuanMiLCIuL2hlIiwiLi9oZS5qcyIsIi4vaGkiLCIuL2hpLmpzIiwiLi9ociIsIi4vaHIuanMiLCIuL2h1IiwiLi9odS5qcyIsIi4vaHktYW0iLCIuL2h5LWFtLmpzIiwiLi9pZCIsIi4vaWQuanMiLCIuL2lzIiwiLi9pcy5qcyIsIi4vaXQiLCIuL2l0LmpzIiwiLi9qYSIsIi4vamEuanMiLCIuL2p2IiwiLi9qdi5qcyIsIi4va2EiLCIuL2thLmpzIiwiLi9rayIsIi4va2suanMiLCIuL2ttIiwiLi9rbS5qcyIsIi4va28iLCIuL2tvLmpzIiwiLi9reSIsIi4va3kuanMiLCIuL2xiIiwiLi9sYi5qcyIsIi4vbG8iLCIuL2xvLmpzIiwiLi9sdCIsIi4vbHQuanMiLCIuL2x2IiwiLi9sdi5qcyIsIi4vbWUiLCIuL21lLmpzIiwiLi9tayIsIi4vbWsuanMiLCIuL21sIiwiLi9tbC5qcyIsIi4vbXIiLCIuL21yLmpzIiwiLi9tcyIsIi4vbXMtbXkiLCIuL21zLW15LmpzIiwiLi9tcy5qcyIsIi4vbXkiLCIuL215LmpzIiwiLi9uYiIsIi4vbmIuanMiLCIuL25lIiwiLi9uZS5qcyIsIi4vbmwiLCIuL25sLmpzIiwiLi9ubiIsIi4vbm4uanMiLCIuL3BhLWluIiwiLi9wYS1pbi5qcyIsIi4vcGwiLCIuL3BsLmpzIiwiLi9wdCIsIi4vcHQtYnIiLCIuL3B0LWJyLmpzIiwiLi9wdC5qcyIsIi4vcm8iLCIuL3JvLmpzIiwiLi9ydSIsIi4vcnUuanMiLCIuL3NlIiwiLi9zZS5qcyIsIi4vc2kiLCIuL3NpLmpzIiwiLi9zayIsIi4vc2suanMiLCIuL3NsIiwiLi9zbC5qcyIsIi4vc3EiLCIuL3NxLmpzIiwiLi9zciIsIi4vc3ItY3lybCIsIi4vc3ItY3lybC5qcyIsIi4vc3IuanMiLCIuL3NzIiwiLi9zcy5qcyIsIi4vc3YiLCIuL3N2LmpzIiwiLi9zdyIsIi4vc3cuanMiLCIuL3RhIiwiLi90YS5qcyIsIi4vdGUiLCIuL3RlLmpzIiwiLi90aCIsIi4vdGguanMiLCIuL3RsLXBoIiwiLi90bC1waC5qcyIsIi4vdGxoIiwiLi90bGguanMiLCIuL3RyIiwiLi90ci5qcyIsIi4vdHpsIiwiLi90emwuanMiLCIuL3R6bSIsIi4vdHptLWxhdG4iLCIuL3R6bS1sYXRuLmpzIiwiLi90em0uanMiLCIuL3VrIiwiLi91ay5qcyIsIi4vdXoiLCIuL3V6LmpzIiwiLi92aSIsIi4vdmkuanMiLCIuL3gtcHNldWRvIiwiLi94LXBzZXVkby5qcyIsIi4vemgtY24iLCIuL3poLWNuLmpzIiwiLi96aC10dyIsIi4vemgtdHcuanMiLCJrZXlzIiwicmVzb2x2ZSIsImlkIiwiNTIxIiwiYSIsImIiLCJjIiwiZCIsImUiLCJ0aGlzIiwiYXV0b1N0eWxlIiwiY291bnQiLCJoZWlnaHQiLCIkc2NvcGUiLCIkbmV3IiwiY29sb3IiLCJwYXJlbnQiLCJmaW5kIiwicHJvZ3Jlc3NiYXJFbCIsImFwcGVuZENoaWxkIiwiZXEiLCJjaGlsZHJlbiIsImNzcyIsImludGVydmFsQ291bnRlcklkIiwic3RhcnQiLCJzaG93IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiaXNOYU4iLCJoaWRlIiwicmVtYWluaW5nIiwiTWF0aCIsInBvdyIsInNxcnQiLCJ1cGRhdGVDb3VudCIsIiQkcGhhc2UiLCIkYXBwbHkiLCJzZXRIZWlnaHQiLCJzZXRDb2xvciIsImFuaW1hdGUiLCJhbmltYXRpb24iLCJjYW5jZWwiLCJzdGF0dXMiLCJzdG9wIiwic2V0IiwicmVzZXQiLCJjb21wbGV0ZSIsInNldFBhcmVudCIsInJlbW92ZUNoaWxkIiwiZ2V0RG9tRWxlbWVudCIsInNldEFic29sdXRlIiwiZmFjdG9yeSIsImNyZWF0ZUluc3RhbmNlIiwiaW5zdGFudGlhdGUiLCJkaXJlY3RpdmUiLCJyZXBsYWNlIiwicmVzdHJpY3QiLCJsaW5rIiwiJHdhdGNoIiwiY291bnRlciIsInRlbXBsYXRlIiwiNTIyIiwiY29udGVudCIsImxvY2FscyIsIjUyMyIsIjUyNCIsIl90eXBlb2YyIiwiX3R5cGVvZjMiLCJlcXVhbHMiLCJsZW5ndGgiLCJtYXRjaCIsInN0YXRlIiwicGFyYW1FeHByIiwiZiIsInByZWZpeFN0YXRlTmFtZSIsInRlbXBsYXRlVXJsIiwiaW5jbHVkZUFic3RyYWN0Iiwic2V0T3B0aW9ucyIsImV4dGVuZCIsIiRnZXQiLCJnIiwiaCIsIiRvbiIsInRhcmdldFNjb3BlIiwibmN5QnJlYWRjcnVtYklnbm9yZSIsIiRpZCIsImkiLCJleGVjIiwibmFtZSIsImoiLCJrIiwibCIsIm0iLCJuIiwibmN5QnJlYWRjcnVtYiIsImZvcmNlIiwic2tpcCIsIiRldmFsIiwibmN5QnJlYWRjcnVtYkxpbmsiLCJocmVmIiwidW5zaGlmdCIsImdldFRlbXBsYXRlIiwiZ2V0VGVtcGxhdGVVcmwiLCJnZXRTdGF0ZXNDaGFpbiIsIiRjdXJyZW50Iiwic2VsZiIsImdldExhc3RTdGVwIiwiJGdldExhc3RWaWV3U2NvcGUiLCJib290c3RyYXAyIiwiYm9vdHN0cmFwMyIsInNjb3BlIiwicG9zdCIsInN0ZXBzIiwiZm9yRWFjaCIsImxhYmVsIiwibmN5QnJlYWRjcnVtYkxhYmVsIiwiY29tcGlsZSIsImF0dHIiLCIkYXR0ciIsIm5jeUJyZWFkY3J1bWJMYXN0IiwiaHRtbCIsIm5jeUJyZWFkY3J1bWJUZXh0IiwibmN5QnJlYWRjcnVtYlRleHRTZXBhcmF0b3IiLCJuY3lCcmVhZGNydW1iQ2hhaW4iLCJqb2luIiwiZXhwcmVzc2lvbnMiLCJwYXJ0cyIsImlzRnVuY3Rpb24iLCJleHAiLCIkaW5qZWN0IiwicHJvdmlkZXIiLCI1OTMiLCJqUXVlcnkiLCJfbW9tZW50MiIsIm1vbWVudCIsIm1vZHVsZU5hbWUiLCJWSUVXX1NUQVRFUyIsIkRBVEUiLCJIT1VSIiwiTUlOVVRFIiwiZWwiLCJlbGVtZW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImxvY2FsZSIsInNldERlZmF1bHRMb2NhbGUiLCJsb2NhbGVTdHJpbmciLCIkbWREaWFsb2ciLCJyZXF1aXJlIiwiY3VycmVudERhdGUiLCJ0aW1lIiwiZGF0ZSIsIm1pbkRhdGUiLCJtYXhEYXRlIiwic2hvcnRUaW1lIiwiZm9ybWF0IiwiY2FuY2VsVGV4dCIsIm9rVGV4dCIsImxhbmciLCJhbVRleHQiLCJwbVRleHQiLCJhdHRycyIsIm5nTW9kZWwiLCJpc09uIiwiaXNTdHJpbmciLCIkZm9ybWF0dGVycyIsImlzVmFsaWQiLCJvbiIsInByZXZlbnREZWZhdWx0IiwiYmx1ciIsIm9wdGlvbnMiLCJoYXNPd25Qcm9wZXJ0eSIsImlzVW5kZWZpbmVkIiwiUGx1Z2luQ29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsIm9wZW5Gcm9tIiwiZG9jdW1lbnQiLCJib2R5IiwiYmluZFRvQ29udHJvbGxlciIsImRpc2FibGVQYXJlbnRTY3JvbGwiLCJ0aGVuIiwidiIsIl9kIiwibWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlIiwiY3VycmVudFZpZXciLCJfZGlhbG9nIiwiX2F0dGFjaGVkRXZlbnRzIiwiVklFV1MiLCJwYXJhbXMiLCJ3ZWVrU3RhcnQiLCJtZXJpZGllbiIsImluaXQiLCJwcm90b3R5cGUiLCJ0aW1lTW9kZSIsImRhdGVNb2RlIiwiaW5pdERhdGVzIiwiY3VycmVudE5lYXJlc3Q1TWludXRlIiwibWludXRlcyIsInJvdW5kIiwibWludXRlIiwidGhhdCIsIl9kYXRlUGFyYW0iLCJpbnB1dCIsImZhbGxiYWNrIiwicmV0IiwiaXNEZWZpbmVkIiwiaXNEYXRlIiwieCIsImdldFRpbWUiLCJfaXNBTW9tZW50T2JqZWN0Iiwic2VsZWN0RGF0ZSIsImluaXREYXRlIiwiaW5pdEhvdXJzIiwiaW5pdE1pbnV0ZXMiLCJpc0FmdGVyTWluRGF0ZSIsImNoZWNrSG91ciIsImNoZWNrTWludXRlIiwiX3JldHVybiIsIl9taW5EYXRlIiwiX2RhdGUiLCJob3VyIiwic2Vjb25kIiwibWlsbGlzZWNvbmQiLCJwYXJzZUludCIsImlzQmVmb3JlTWF4RGF0ZSIsImNoZWNrVGltZSIsIl9tYXhEYXRlIiwiY2FsZW5kYXJTdGFydCIsInNldE5hbWUiLCJ0ZXh0IiwicG9zc2libGUiLCJjaGFyQXQiLCJmbG9vciIsInJhbmRvbSIsImlzUE0iLCJpbmNyZW1lbnRZZWFyIiwiYW1vdW50IiwiaXNOZXh0WWVhclZpc2libGUiLCJhZGQiLCJpc1ByZXZpb3VzWWVhclZpc2libGUiLCJpc1ByZXZpb3VzTW9udGhWaXNpYmxlIiwic3RhcnRPZiIsImlzTmV4dE1vbnRoVmlzaWJsZSIsImVuZE9mIiwiaXNIb3VyQXZhaWxhYmxlIiwiY29udmVydEhvdXJzIiwiaXNNaW51dGVBdmFpbGFibGUiLCJvayIsInNlbGVjdE1vbnRoQmVmb3JlIiwic3VidHJhY3QiLCJzZWxlY3RNb250aEFmdGVyIiwic2VsZWN0WWVhckJlZm9yZSIsInNlbGVjdFllYXJBZnRlciIsInNlbGVjdEFNIiwic2VsZWN0UE0iLCJva0J0biIsIllFQVJfTUlOIiwiWUVBUl9NQVgiLCJNT05USFNfSU5fQUxMIiwiSVRFTV9IRUlHSFQiLCJNT05USFMiLCJjdXJyZW50TW9udGhJbmRleCIsInllYXIiLCJtb250aCIsInBpY2tlciIsImNhbGVuZGFyIiwiZGF5cyIsInRvU3RyaW5nIiwid2VlayIsImxvdyIsImhpZ2giLCJtb250aHMiLCJzbGljZSIsImdldEl0ZW1BdEluZGV4IiwiaW5kZXgiLCJtb250aE9iaiIsImdlbmVyYXRlTW9udGhDYWxlbmRhciIsInRvcEluZGV4IiwidmFsMiIsInZhbDEiLCJuRGF0ZSIsInN0YXJ0T2ZNb250aCIsImlOdW1EYXkiLCJkYXlzSW5Nb250aCIsImlXZWVrIiwiZGF5c0luQVdlZWsiLCJkYXlzVG1wIiwic2xpY2VzIiwiY2VpbCIsInRvRGF5Iiwic3Vic3RyaW5nIiwiaXNJblJhbmdlIiwiaXNTZWxlY3RlZERheSIsIiRjb21waWxlIiwiYnVpbGRDYWxlbmRhckNvbnRlbnQiLCJ0Ym9keSIsInF1ZXJ5U2VsZWN0b3IiLCJjYWwiLCJ3ZWVrRGF5cyIsInRyIiwid2Vla0RheSIsInRkIiwiYU9yU3BhbiIsInNjb3BlUmVmIiwiYWRkQ2xhc3MiLCJhcHBlbmQiLCJpZHgiLCJvbGRJZHgiLCJtaW51dGVNb2RlIiwibW9kZSIsImNvbXBvbmVudFJvb3QiLCJjbG9jayIsInBpY2tlckVsIiwidyIsIm9mZnNldFdpZHRoIiwicGwiLCJwciIsIm1sIiwibXIiLCJjbG9ja1dpZHRoIiwicEwiLCJwVCIsIm1MIiwibVQiLCJyIiwicG9pbnRzIiwic2luIiwiUEkiLCJ5IiwiY29zIiwibGVmdCIsInRvcCIsImRpc3BsYXkiLCJzZXRDdXJyZW50VmFsdWUiLCJjbG9ja0NlbnRlciIsImNlbnRlcldpZHRoIiwiY2VudGVySGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiX2hMIiwiX21MIiwibWFyZ2luVG9wIiwiYW5pbWF0ZUhhbmRzIiwicm90YXRlRWxlbWVudCIsIm1kZyIsImRlZyIsIldlYmtpdFRyYW5zZm9ybSIsIi1tb3otdHJhbnNmb3JtIiwiY3VycmVudFZhbHVlIiwidG1wIiwibmV3VmFsIiwic2V0RGlzcGxheVBvaW50cyIsImNvcHkiLCJzZXRUaW1lIiwidmFsIiwicG9pbnRBdmFpbGFibGUiLCJwb2ludCIsInVud2F0Y2hlciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjYWxsIiwiNTk0IiwiNTk1IiwiNTk2IiwiX2dldE93blByb3BlcnR5TmFtZXMiLCJfZ2V0T3duUHJvcGVydHlOYW1lczIiLCIkd2luZG93IiwiZW5kaW5nIiwidHJhbnNjbHVkZSIsImN0cmwiLCJsaW5rZXIiLCJjbGllbnRpZCIsInRlc3QiLCIkc2V0IiwidGhlbWUiLCJkZWZhdWx0cyIsImNhbGxiYWNrIiwiY29va2llcG9saWN5IiwicmVxdWVzdHZpc2libGVhY3Rpb25zIiwid2lkdGgiLCJwcm9wTmFtZSIsIiRvYnNlcnZlIiwiX19fZ2NmZyIsInBvIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJhc3luYyIsInNyYyIsInMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJ0U2NvcGUiLCJvbmxvYWQiLCJnYXBpIiwic2lnbmluIiwicmVuZGVyIiwiJHJvb3RTY29wZSIsInNpZ25pbkNhbGxiYWNrIiwiYXV0aFJlc3VsdCIsImFjY2Vzc190b2tlbiIsIiRicm9hZGNhc3QiLCI2MzkiLCI2NDAiLCI2NDEiLCI2NDIiLCI2NDQiLCIkbG9nIiwiJHN0YXRlUGFyYW1zIiwiJHN0YXRlIiwiU2Vzc2lvbnNTZXJ2aWNlIiwiRGV2aWNlc1NlcnZpY2UiLCJMb2NhdGlvbnNTZXJ2aWNlIiwiQ29tbWFuZHNTZXJ2aWNlIiwiVGltZXpvbmVzU2VydmljZSIsInN3ZWV0IiwiUHJvZ3Jlc3NCYXJTZXJ2aWNlIiwiVG9hc3RzU2VydmljZSIsIiR0aW1lb3V0Iiwidm0iLCJ0ZW5hbnRLZXkiLCJkZXZpY2VLZXkiLCJmcm9tRGV2aWNlcyIsImN1cnJlbnREZXZpY2UiLCJjb21tYW5kRXZlbnRzIiwiZ2VuZXJhdGVMb2NhbEZyb21VVEMiLCJVVENUaW1lIiwibG9jYWxUaW1lIiwidXRjIiwidG9EYXRlIiwicmVwbGFjZUNvbW1hbmRUaW1lIiwiaXNzdWVzIiwiZWFjaCIsInBvc3RlZFRpbWUiLCJjb25maXJtZWRUaW1lIiwiZ2V0RXZlbnRzIiwicHJldiIsIm5leHQiLCJjb21tYW5kRXZlbnRzUHJvbWlzZSIsImdldENvbW1hbmRFdmVudHNCeUtleSIsImRhdGEiLCJldmVudHMiLCJldmVudF9uZXh0X2N1cnNvciIsIm5leHRfY3Vyc29yIiwiZXZlbnRfcHJldl9jdXJzb3IiLCJwcmV2X2N1cnNvciIsImdldEV2ZW50c1RpbWVPdXQiLCJjb21tYW5kSGlzdG9yeVNlbGVjdGVkIiwicGFnaW5hdGVFdmVudENhbGwiLCJmb3J3YXJkIiwiaW5pdGlhbGl6ZSIsImRldmljZVByb21pc2UiLCJnZXREZXZpY2VCeUtleSIsInJlc3BvbnNlIiwib25HZXREZXZpY2VTdWNjZXNzIiwib25HZXREZXZpY2VGYWlsdXJlIiwidGltZXpvbmUiLCJzZWxlY3RlZFRpbWV6b25lIiwiYmFja1VybCIsImJhY2tVcmxUZXh0IiwiaXNVbm1hbmFnZWREZXZpY2UiLCJzaG93RXJyb3JUb2FzdCIsImVycm9yTWVzc2FnZSIsInN0YXR1c1RleHQiLCJlcnJvciIsImdvIiwib25SZXNldENvbnRlbnQiLCJwcm9taXNlIiwiY29udGVudERlbGV0ZSIsIm9uUmVzZXRDb250ZW50U3VjY2VzcyIsIm9uUmVzZXRDb250ZW50RmFpbHVyZSIsInNob3dTdWNjZXNzVG9hc3QiLCJvblVwZGF0ZUNvbnRlbnQiLCJjb250ZW50VXBkYXRlIiwib25VcGRhdGVDb250ZW50U3VjY2VzcyIsIm9uVXBkYXRlQ29udGVudEZhaWx1cmUiLCJvblJlc2V0UGxheWVyIiwib25SZXNldFBsYXllclN1Y2Nlc3MiLCJvblJlc2V0UGxheWVyRmFpbHVyZSIsIm9uUGFuZWxPbiIsInBvd2VyT24iLCJvblBhbmVsT25TdWNjZXNzIiwib25QYW5lbE9uRmFpbHVyZSIsIm9uUGFuZWxPZmYiLCJwb3dlck9mZiIsIm9uUGFuZWxPZmZTdWNjZXNzIiwib25QYW5lbE9mZkZhaWx1cmUiLCJvblVwZGF0ZURldmljZSIsInVwZGF0ZURldmljZSIsIm9uVXBkYXRlRGV2aWNlU3VjY2VzcyIsIm9uVXBkYXRlRGV2aWNlRmFpbHVyZSIsIm9uVm9sdW1lQ2hhbmdlIiwidm9sdW1lIiwib25Wb2x1bWVDaGFuZ2VTdWNjZXNzIiwib25Wb2x1bWVDaGFuZ2VGYWlsdXJlIiwibGV2ZWwiLCJvbkN1c3RvbUNvbW1hbmQiLCJjdXN0b20iLCJvbkN1c3RvbUNvbW1hbmRTdWNjZXNzIiwib25DdXN0b21Db21tYW5kRmFpbHVyZSIsImNvbW1hbmQiLCJvbkRpYWdub3N0aWNzVG9nZ2xlIiwidG9nZ2xlRGlhZ25vc3RpY3MiLCJvblRvZ2dsZURpYWdub3N0aWNzU3VjY2VzcyIsIm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlIiwib25SZXN0YXJ0IiwicmVzdGFydCIsIm9uUmVzdGFydFN1Y2Nlc3MiLCJvblJlc3RhcnRGYWlsdXJlIiwib25Qb3N0TG9nIiwicG9zdExvZyIsIm9uUG9zdExvZ1N1Y2Nlc3MiLCJvblBvc3RMb2dGYWlsdXJlIiwiNjQ1IiwiVGVuYW50c1NlcnZpY2UiLCJJbnRlZ3JhdGlvbkV2ZW50cyIsIkRhdGVNYW5pcHVsYXRpb25TZXJ2aWNlIiwibG9jYXRpb25zIiwiZGF5UmFuZ2UiLCJ0aW1lem9uZXMiLCJfRGF0ZU1hbmlwdWxhdGlvblNlcnYiLCJjcmVhdGVGb3JtYXR0ZWRTdGFydEFuZEVuZERhdGVGcm9tVG9kYXkiLCJfRGF0ZU1hbmlwdWxhdGlvblNlcnYyIiwiX3NsaWNlZFRvQXJyYXkzIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImVucm9sbG1lbnRFdmVudHMiLCJsb2dvQ2hhbmdlIiwiYXR0YWNoSW1hZ2VOYW1lVG9PdmVybGF5Iiwib3ZlcmxheXMiLCJtb2RpZmllZE92ZXJsYXlzIiwiYWRqdXN0T3ZlcmxheVN0YXR1cyIsIm92ZXJsYXlfc3RhdHVzIiwic2F2ZSIsInN1Ym1pdE92ZXJsYXlTZXR0aW5ncyIsIm92ZXJsYXlTZXR0aW5ncyIsIm92ZXJsYXkiLCJrZXkiLCJkZXZpY2Vfa2V5Iiwib3ZlcmxheVNldHRpbmdzQ29weSIsIkpTT04iLCJwYXJzZSIsInNhdmVPdmVybGF5U2V0dGluZ3MiLCJib3R0b21fbGVmdCIsImJvdHRvbV9yaWdodCIsInRvcF9yaWdodCIsInRvcF9sZWZ0IiwicmVzIiwic3VibWl0SW1hZ2UiLCJzZWxlY3RlZExvZ28iLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwic2VsZWN0ZWRMb2dvRmluYWwiLCJhc1N0cmluZyIsIl9zdHJpbmdpZnkyIiwicmVzdWx0IiwibGZGaWxlTmFtZSIsInNlbGVjdGVkTG9nb0NoYW5nZSIsInNhdmVJbWFnZSIsImdldFRlbmFudEltYWdlcyIsImZpbGVBcGkiLCJyZW1vdmVBbGwiLCJyZWFkQXNUZXh0IiwibGZGaWxlIiwiT1ZFUkxBWV9UWVBFUyIsInJlYWxOYW1lIiwibmV3IiwiaW1hZ2Vfa2V5IiwiZ2V0SW1hZ2VzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9nZXRJdGVyYXRvcjMiLCJkb25lIiwibmV3VmFsdWUiLCJlcnIiLCJzaG93RXJyb3JTdGF0dXMiLCJyZXBsYWNlSXNzdWVUaW1lIiwiY3JlYXRlZCIsInVwZGF0ZWQiLCJsb2NhbEZyb21VdGMiLCJ1dGNUaW1lc3RhbXAiLCJjb3B5RGV2aWNlS2V5IiwiY29weUNvcnJlbGF0aW9uSWRlbnRpZmllciIsImdldElzc3VlcyIsImRldmljZSIsImVwb2NoU3RhcnQiLCJlcG9jaEVuZCIsImlzc3Vlc1Byb21pc2UiLCJnZXRJc3N1ZXNCeUtleSIsImdldEVucm9sbG1lbnRFdmVudHMiLCJlbnJvbGxtZW50RXZlbnRzUHJvbWlzZSIsInBhZ2luYXRlQ2FsbCIsInVuaXgiLCJ0aW1lem9uZVByb21pc2UiLCJnZXRDdXN0b21UaW1lem9uZXMiLCJwYW5lbE1vZGVscyIsImdldFBhbmVsTW9kZWxzIiwicGFuZWxJbnB1dHMiLCJnZXRQYW5lbElucHV0cyIsImxvY2F0aW9uc1Byb21pc2UiLCJnZXRMb2NhdGlvbnNCeVRlbmFudEtleSIsInNldFNlbGVjdGVkT3B0aW9ucyIsInBhbmVsTW9kZWwiLCJwYW5lbElucHV0IiwiaXNQYXJlbnQiLCJwYXJlbnRJZCIsInRvTG93ZXJDYXNlIiwibG9jYXRpb25LZXkiLCJsb2NhdGlvbiIsIm9uU2F2ZURldmljZSIsInBhbmVsTW9kZWxOdW1iZXIiLCJwYW5lbFNlcmlhbElucHV0Iiwib25TdWNjZXNzRGV2aWNlU2F2ZSIsIm9uRmFpbHVyZURldmljZVNhdmUiLCJpbmZvIiwib25QYW5lbFNsZWVwIiwicGFuZWxTbGVlcCIsIm9uUGFuZWxTbGVlcFN1Y2Nlc3MiLCJvblBhbmVsU2xlZXBGYWlsdXJlIiwiY29uZmlybURldmljZURlbGV0ZSIsImV2ZW50IiwiY29uZmlybSIsInRpdGxlIiwidGV4dENvbnRlbnQiLCJ0YXJnZXRFdmVudCIsInNob3dQcm9taXNlIiwic3VjY2VzcyIsIm9uQ29uZmlybURlbGV0ZSIsImZhaWx1cmUiLCJvbkNvbmZpcm1DYW5jZWwiLCJmcmllbmRseU1lc3NhZ2UiLCJkZWxldGVQcm9taXNlIiwic2hvd0luZm9Ub2FzdCIsIm9uUHJvb2ZPZlBsYXlMb2dnaW5nQ2hlY2siLCJwcm9vZk9mUGxheUxvZ2dpbmciLCJub0xvY2F0aW9uIiwibm9EaXNwbGF5Q29kZSIsImN1c3RvbWVyRGlzcGxheUNvZGUiLCJvblVwZGF0ZUxvY2F0aW9uIiwiYXV0b0dlbmVyYXRlQ3VzdG9tZXJEaXNwbGF5Q29kZSIsIm5ld0Rpc3BsYXlDb2RlIiwiY3VzdG9tZXJEaXNwbGF5TmFtZSIsImxvZ2dseUZvclVzZXIiLCJ1c2VyRG9tYWluIiwiZ2V0VXNlckVtYWlsIiwic3BsaXQiLCJvbkNsaWNrUmVmcmVzaEJ1dHRvbiIsImNvbnZlcnRUb01vbWVudElmTm90QWxyZWFkeSIsIm9uUmVmcmVzaElzc3Vlc1N1Y2Nlc3MiLCJvblJlZnJlc2hJc3N1ZXNGYWlsdXJlIiwiX2dldEl0ZXJhdG9yMiIsIl9zdHJpbmdpZnkiLCJfc2xpY2VkVG9BcnJheTIiLCI2NTciLCJkaXN0cmlidXRvcktleSIsImRldmljZXMiLCJkZXZpY2VzUHJldiIsImRldmljZXNOZXh0Iiwic2VsZWN0ZWRCdXR0b24iLCJzZXJpYWxEZXZpY2VzIiwiZGlzYWJsZWQiLCJtYWNEZXZpY2VzIiwiZ2NtaWREZXZpY2VzIiwidW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24iLCJ1bm1hbmFnZWRTZXJpYWxEZXZpY2VzIiwidW5tYW5hZ2VkRGlzYWJsZWQiLCJ1bm1hbmFnZWREZXZpY2VzUHJldiIsInVubWFuYWdlZERldmljZXNOZXh0IiwidW5tYW5hZ2VkRGV2aWNlcyIsInVubWFuYWdlZE1hY0RldmljZXMiLCJ1bm1hbmFnZWRHQ01pZERldmljZXMiLCJkZXZpY2VzVG9NYXRjaE9uVW5tYW5hZ2VkIiwiZGV2aWNlc1RvTWF0Y2hPbk1hbmFnZWQiLCJyZWZyZXNoTWFuYWdlZERldmljZXMiLCJnZXRNYW5hZ2VkRGV2aWNlcyIsInJlZnJlc2hVbm1hbmFnZWREZXZpY2VzIiwiZ2V0VW5tYW5hZ2VkRGV2aWNlcyIsImNoYW5nZVJhZGlvIiwidW5tYW5hZ2VkIiwidW5tYW5hZ2VkU2VhcmNoVGV4dCIsInNlYXJjaFRleHQiLCJlZGl0SXRlbSIsIml0ZW0iLCJwcmVwYXJlRm9yRWRpdFZpZXciLCJtYWMiLCJzZXJpYWwiLCJnY21pZCIsImNvbnRyb2xPcGVuQnV0dG9uIiwiaXNNYXRjaCIsInVubWFuYWdlZERpc2FibGVkQnV0dG9uTG9hZGluZyIsImRpc2FibGVkQnV0dG9uTG9hZGluZyIsImlzUmVzb3VyY2VWYWxpZCIsInJlc291cmNlIiwiZGV2aWNlc1RvTWF0Y2hPbiIsImZvdW5kTWF0Y2giLCJzZWFyY2hEZXZpY2VzIiwicGFydGlhbCIsImJ1dHRvbiIsImJ5VGVuYW50IiwiZGV2aWNlc1RvUmV0dXJuIiwiZGV2aWNlc1Byb21pc2UiLCJnZXREZXZpY2VzQnlEaXN0cmlidXRvciIsImdldEZldGNoU3VjY2VzcyIsImdldEZldGNoRmFpbHVyZSIsInVubWFuYWdlZERldmljZXNQcm9taXNlIiwiZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5RGlzdHJpYnV0b3IiLCJnZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkiLCJtYW5hZ2VkIiwiNjU4IiwiQWRtaW5TZXJ2aWNlIiwiRGlzdHJpYnV0b3JzU2VydmljZSIsImdldEFsbERpc3RyaWJ1dG9ycyIsImxvYWRpbmdBbGxEaXN0cmlidXRvcnMiLCJnZXRBbGxEaXN0cmlidXRvcnNQcm9taXNlIiwiYWxsRGlzdHJpYnV0b3JzIiwiYWRkVXNlclRvRGlzdHJpYnV0b3IiLCJldiIsInVzZXJFbWFpbCIsImRpc3RyaWJ1dG9yQWRtaW4iLCJ3aGljaERpc3RyaWJ1dG9yIiwiZm9ybSIsIndpdGhPcldpdGhvdXQiLCJkaXN0cmlidXRvcnNBc0FkbWluIiwiYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlIiwibWVzc2FnZSIsInVzZXIiLCIkc2V0UHJpc3RpbmUiLCIkc2V0VW50b3VjaGVkIiwic2V0VGltZW91dCIsImdldFVzZXJzT2ZEaXN0cmlidXRvciIsIm1ha2VEaXN0cmlidXRvciIsImRpc3RyaWJ1dG9yTmFtZSIsImFkbWluRW1haWwiLCJhcmlhTGFiZWwiLCJtYWtlRGlzdHJpYnV0b3JQcm9taXNlIiwiZGlzdHJpYnV0b3IiLCJsb2FkaW5nVXNlcnNPZkRpc3RyaWJ1dG9yIiwiY3VycmVudERpc3RyaWJ1dG9yS2V5IiwidXNlcnNvZkRpc3RyaWJ1dG9yUHJvbWlzZSIsInVzZXJzT2ZEaXN0cmlidXRvciIsInN3aXRjaERpc3RyaWJ1dG9yIiwiaXNBZG1pbiIsImdldElzQWRtaW4iLCJnZXREaXN0cmlidXRvcnNBc0FkbWluIiwiY3VycmVudERpc3RyaWJ1dG9yTmFtZSIsImdldEN1cnJlbnREaXN0cmlidXRvck5hbWUiLCI2NTkiLCJpZGVudGl0eSIsIlByb29mUGxheVNlcnZpY2UiLCJvbkdvb2dsZVBsdXNTaWduSW5TdWNjZXNzIiwiZ29vZ2xlUGx1c1NpZ25JbkJ1dHRvbkNsaWNrZWQiLCJyZW1vdmVVc2VySW5mbyIsImxvZ2luIiwibG9naW5TdWNjZXNzIiwibG9naW5GYWlsdXJlIiwib25Hb29nbGVQbHVzU2lnbkluRmFpbHVyZSIsImluaXRpYWxpemVTaWduSW4iLCJjbGllbnRJZCIsIk9BVVRIX0NMSUVOVF9JRCIsIlNUQVRFIiwiaW5pdGlhbGl6ZVNpZ25PdXQiLCJwcm9jZWVkVG9TaWduZWRPdXQiLCJwcm9jZWVkVG9TaWduSW4iLCJvbkNsaWNrR29vZ2xlUGx1c1NpZ25JbiIsIjY2MCIsIiRtZFNpZGVuYXYiLCJjdXJyZW50RGlzdHJpYnV0ZXJJbkRpc3RyaWJ1dGVyQWRtaW5MaXN0IiwiZ2V0SWRlbnRpdHkiLCJnZXRVc2VyS2V5IiwiZW1haWwiLCJhZG1pbiIsImRpc3RyaWJ1dG9yX2FkbWluIiwiYWRtaW5fb2ZfY3VycmVudF9kaXN0cmlidXRvciIsImlzQ3VycmVudFVSTERpc3RyaWJ1dG9yU2VsZWN0b3IiLCJzZWFyY2giLCJ0b2dnbGVTaWRlbmF2IiwidG9nZ2xlIiwiZ29UbyIsInN0YXRlTmFtZSIsImlzT3BlbiIsImNsb3NlIiwiNjkzIiwiZGlzdHJpYnV0b3JzIiwiY3VycmVudERpc3RyaWJ1dG9yIiwibG9hZGluZyIsImxvZWFkaW5nIiwiZGlzdHJpYnV0b3JzUHJvbWlzZSIsImZldGNoQWxsQnlVc2VyIiwic2VsZWN0RGlzdHJpYnV0b3IiLCI2OTQiLCI2OTUiLCJEb21haW5zU2VydmljZSIsImRvbWFpbnMiLCJmZXRjaEFsbERvbWFpbnMiLCJkb21haW5LZXkiLCJkZWxldGVJdGVtIiwic2hvd0NhbmNlbEJ1dHRvbiIsImNvbmZpcm1CdXR0b25Db2xvciIsImNvbmZpcm1CdXR0b25UZXh0IiwiY2xvc2VPbkNvbmZpcm0iLCI2OTYiLCJjdXJyZW50RG9tYWluIiwiaW1wZXJzb25hdGlvbl9hZG1pbl9lbWFpbF9hZGRyZXNzIiwiZGlzdHJpYnV0b3Jfa2V5IiwiYWN0aXZlIiwiZGV2aWNlc0FjY2VzcyIsIm9yZ1VuaXRzQWNjZXNzIiwiY3VycmVudERvbWFpbnMiLCJlZGl0TW9kZSIsImRvbWFpblByb21pc2UiLCJnZXREb21haW5CeUtleSIsImNvbm5lY3Rpdml0eVByb21pc2UiLCJnZXREaXJlY3RvcnlBcGlDb25uZWN0aXZpdHlJbmZvcm1hdGlvbiIsIm9uU3VjY2Vzc0RldGVybWluaW5nQ29ubmVjdGl2aXR5Iiwib25GYWlsdXJlRGV0ZXJtaW5pbmdDb25uZWN0aXZpdHkiLCJkZXZpY2VzQWNjZXNzRXhjZXB0aW9uIiwib3JnVW5pdHNBY2Nlc3NFeGNlcHRpb24iLCJvblNhdmVEb21haW4iLCJvblN1Y2Nlc3NTYXZlRG9tYWluIiwib25GYWlsdXJlU2F2ZURvbWFpbiIsIjY5NyIsInJhZGlvQnV0dG9uQ2hvaWNlcyIsImdyb3VwMSIsImdyb3VwMiIsInNlbGVjdGlvbiIsImRhdGVUaW1lU2VsZWN0aW9uIiwiZW5kIiwiZm9ybVZhbGlkaXR5Iiwic3RhcnRfZGF0ZSIsImVuZF9kYXRlIiwidGVuYW50Iiwibm9fY2FjaGUiLCJkaXNhYmxlZFRlbmFudCIsInNlbGVjdGVkX2xvY2F0aW9ucyIsImdldEFsbExvY2F0aW9ucyIsImhhZF9zb21lX2l0ZW1zIiwicmVmcmVzaExvY2F0aW9ucyIsInNlbGVjdGVkSXRlbSIsImFkZFRvU2VsZWN0ZWRMb2NhdGlvbnMiLCJpc0xvY2F0aW9uVmFsaWQiLCJzcGxpY2UiLCJhcmVMb2NhdGlvbnNWYWxpZCIsImlzRGlzYWJsZWQiLCJxdWVyeVNlYXJjaCIsImlzUmFkaW9WYWxpZCIsIl9faW5fXyIsImlzU3RhcnREYXRlVmFsaWQiLCJEYXRlIiwiaXNFbmREYXRlVmFsaWQiLCJyZW1vdmVGcm9tU2VsZWN0ZWRMb2NhdGlvbiIsInN0YXJ0X2RhdGVfdW5peCIsImVuZF9kYXRlX3VuaXgiLCJzdWJtaXQiLCJkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2UiLCJkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zU3VtbWFyaXplZCIsInRlbmFudHMiLCJjdXJyZW50VGVuYW50IiwiaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0IiwiZ2V0QWxsVGVuYW50cyIsInJlc291cmNlcyIsImlzU2VsZWN0aW9uVmFsaWQiLCJzdWJtaXRUZW5hbnQiLCJuZWVkbGUiLCJoYXlzdGFjayIsIjY5OCIsImRpc3BsYXlzIiwic2VsZWN0ZWRfZGlzcGxheXMiLCJnZXRBbGxEaXNwbGF5cyIsInJlZnJlc2hEaXNwbGF5cyIsImFkZFRvU2VsZWN0ZWREaXNwbGF5cyIsImlzRGlzcGxheVZhbGlkIiwiYXJlRGlzcGxheXNWYWxpZCIsInJlbW92ZUZyb21TZWxlY3RlZERpc3BsYXkiLCJkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZSIsImRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzU3VtbWFyaXplZCIsIjY5OSIsInNlbGVjdGVkX3Jlc291cmNlcyIsImdldEFsbFJlc291cmNlcyIsImZ1bGxfcmVzb3VyY2VfbWFwIiwicmVzb3VyY2VfbmFtZSIsInJlZnJlc2hSZXNvdXJjZXMiLCJhZGRUb1NlbGVjdGVkUmVzb3VyY2VzIiwiYXJlUmVzb3VyY2VzVmFsaWQiLCJyZW1vdmVGcm9tU2VsZWN0ZWRSZXNvdXJjZSIsInJlc291cmNlc19hc19pZHMiLCJkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEZXZpY2UiLCJkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlIiwiNzAwIiwiY2hvc2VuX3RlbmFudCIsInJlZnJlc2hUZW5hbnRzIiwibWFrZUhUVFBVUkwiLCI3MDEiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NsYXNzQ2FsbENoZWNrMyIsIl9jcmVhdGVDbGFzczIiLCJfY3JlYXRlQ2xhc3MzIiwiUmVzdGFuZ3VsYXIiLCJVU0VSX1NFUlZJQ0UiLCJESVNUUklCVVRPUl9TRVJWSUNFIiwiYWRtaW5fZW1haWwiLCJwYXlsb2FkIiwib25lVXJsIiwiY3VzdG9tUE9TVCIsInVzZXJfZW1haWwiLCI3MDciLCJBdXRob3JpemF0aW9uU2VydmljZSIsIiRxIiwiZGVmZXJyZWQiLCJkZWZlciIsInVzZXJLZXkiLCJyZWplY3QiLCJoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbiIsIjcwOCIsIlNFUlZJQ0VfTkFNRSIsIl9wYW5lbFNsZWVwIiwiY3VzdG9tUFVUIiwiX3ZvbHVtZSIsIjcwOSIsImlzTW9tZW50IiwiZGF5c0JhY2siLCJzdGFydFRpbWVNaWROaWdodCIsInN0YXJ0VGltZUVuZE9mRGF5IiwiZW5kVGltZU1pZE5pZ2h0IiwiNzEwIiwiJGh0dHAiLCJ1cmlCYXNlIiwibWFjQWRkcmVzcyIsInVybCIsImRpY3Rpb25hcnkiLCJyZXN1bHRzIiwicGFydGlhbFNlYXJjaCIsIl90aGlzIiwic2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEJ5VGVuYW50IiwiaXNNYWMiLCJpc0dDTWlkIiwic2VyaWFsRGV2aWNlc0RpY3QiLCJjb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqIiwiZGV2aWNlU2VyaWFsc09ubHkiLCJyZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUiLCJfdGhpczIiLCJzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsIiwic2VyaWFsRGV2aWNlc09ubHkiLCJfdGhpczMiLCJzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjQnlUZW5hbnQiLCJtYWNEZXZpY2VzRGljdCIsImRldmljZU1hY3NPbmx5IiwiX3RoaXM0Iiwic2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hYyIsIl90aGlzNSIsInNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkQnlUZW5hbnQiLCJnY21pZERldmljZXNEaWN0IiwiZ2NtaWREZXZpY2VzT25seSIsIl90aGlzNiIsInNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkIiwiR0NNaWREZXZpY2VzRGljdCIsImRldmljZURlZmVycmVkIiwiZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvciIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlUZW5hbnQiLCJleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5RGlzdHJpYnV0b3IiLCJleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlUZW5hbnQiLCJleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlEaXN0cmlidXRvciIsInJlamVjdGVkUHJvbWlzZSIsImRldmljZXNSZXN1bHQiLCJ0aGVBcnJheSIsImdjbSIsInN0YXJ0RXBvY2giLCJlbmRFcG9jaCIsIm1ha2VEZXZpY2VzQnlUZW5hbnRVUkwiLCJwYXJ0aWFsX3NlcmlhbCIsInBhcnRpYWxfbWFjIiwicGFydGlhbF9nY21pZCIsIm1ha2VEZXZpY2VzQnlEaXN0cmlidXRvclVSTCIsImFsbCIsImdldExpc3QiLCJwdXQiLCJkZXZpY2VfdXJsc2FmZV9rZXkiLCJvbmUiLCJyZW1vdmUiLCJkaXNwbGF5TmFtZSIsIjcxMSIsImRvR0VUIiwiZW50aXR5Iiwic2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSIsInNldEN1cnJlbnREaXN0cmlidXRvcktleSIsIjcxMiIsImRvbWFpbiIsIjcxMyIsIklkZW50aXR5U2VydmljZSIsIjcxNCIsIkVOUk9MTE1FTlRfRVZFTlRTIiwicXVlcnkiLCJjdXN0b21HRVQiLCI3MTUiLCJjdXN0b21lcl9sb2NhdGlvbl9uYW1lIiwiY3VzdG9tR0VUTElTVCIsIjcxNiIsIm5nUHJvZ3Jlc3NGYWN0b3J5IiwicHJvZ3Jlc3NCYXIiLCI3MTciLCJtYWtlSFRUUFJlcXVlc3QiLCJiaW5kIiwid2hlcmVfdG9fZ28iLCJhbGxSZXNvdXJjZXMiLCJvcGVuIiwiYWxsRGV2aWNlcyIsImFsbExvY2F0aW9ucyIsImxvd2VyY2FzZSIsImZpbHRlciIsImNyZWF0ZUZpbHRlckZvciIsIjcxOCIsInNldElkZW50aXR5IiwiY3JlZGVudGlhbHMiLCJhdXRoZW50aWNhdGlvblBheWxvYWQiLCJjbG9uZSIsImF1dGh1c2VyIiwiY2xpZW50X2lkIiwiY29kZSIsImlkX3Rva2VuIiwic2Vzc2lvbl9zdGF0ZSIsInBhc3N3b3JkIiwic2V0VXNlcktleSIsImlkZW50aXR5UHJvbWlzZSIsInNldERpc3RyaWJ1dG9ycyIsInNldERpc3RyaWJ1dG9yc0FzQWRtaW4iLCJzZXRJc0FkbWluIiwic2V0VXNlckVtYWlsIiwiNzE5IiwiX2xvY2tyIiwiX2xvY2tyMiIsInJtIiwiZmx1c2giLCI3MjEiLCJ0ZW5hbnRfdXJsc2FmZV9rZXkiLCJzdmdfcmVwIiwidGVuYW50X25hbWUiLCJwYWdlX3NpemUiLCJvZmZzZXQiLCI3MjIiLCI3MjMiLCJ0b2FzdHIiLCJhcmd1bWVudHMiLCI3MjQiLCJWZXJzaW9uc1NlcnZpY2UiLCI3MjUiLCJnYW1lU3RvcFNlcnZlciIsInRlbmFudF9jb2RlIiwiY29udGVudF9zZXJ2ZXJfdXJsIiwiY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsIiwiZG9tYWluX2tleSIsIm5vdGlmaWNhdGlvbl9lbWFpbHMiLCJwcm9vZl9vZl9wbGF5X2xvZ2dpbmciLCJwcm9vZl9vZl9wbGF5X3VybCIsInNlbGVjdGVkRG9tYWluIiwiZGlzdHJpYnV0b3JEb21haW5zIiwiZGlzdHJpYnV0b3JQcm9taXNlIiwiZ2V0QnlLZXkiLCJjb250ZW50X21hbmFnZXJfdXJsIiwicGxheWVyX2NvbnRlbnRfdXJsIiwiZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlIiwiZ2V0RG9tYWluc0J5S2V5Iiwib25DbGlja1NhdmVCdXR0b24iLCJkZWZhdWx0X3RpbWV6b25lIiwib25TdWNjZXNzVGVuYW50U2F2ZSIsIm9uRmFpbHVyZVRlbmFudFNhdmUiLCJlcnJvck9iamVjdCIsImF1dG9HZW5lcmF0ZVRlbmFudENvZGUiLCJuZXdUZW5hbnRDb2RlIiwiNzI2IiwidGVuYW50UHJvbWlzZSIsImdldFRlbmFudEJ5S2V5Iiwib25TdWNjZXNzUmVzb2x2aW5nVGVuYW50IiwidGFiSW5kZXgiLCJ0b1RhYiIsImZyb21UYWIiLCI3MjciLCJsb2NhdGlvblByb21pc2UiLCJnZXRMb2NhdGlvbkJ5S2V5IiwibG9jYXRpb25OYW1lIiwiY3VzdG9tZXJMb2NhdGlvbk5hbWUiLCJmZXRjaFRlbmFudE5hbWUiLCJvblN1Y2Nlc3NVcGRhdGluZ0xvY2F0aW9uIiwib25GYWlsdXJlU2F2aW5nTG9jYXRpb24iLCJvblN1Y2Nlc3NTYXZpbmdMb2NhdGlvbiIsInRlbmFudF9rZXkiLCJ0ZW5hbnROYW1lIiwiYXV0b0dlbmVyYXRlQ3VzdG9tZXJMb2NhdGlvbkNvZGUiLCJuZXdDdXN0b21lckxvY2F0aW9uQ29kZSIsImN1c3RvbWVyTG9jYXRpb25Db2RlIiwiNzI4Iiwic2VhcmNoRGlzYWJsZWQiLCJzZWxlY3RlZEluZGV4IiwiZ2V0TG9jYXRpb25zIiwiZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXlQYWdpbmF0ZWQiLCJzZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUiLCJzZWFyY2hlZFRlbmFudExvY2F0aW9ucyIsInNvcnQiLCJfamF2YXNjcmlwdE5hdHVyYWxTb3J0MiIsImlzVGVuYW50TG9jYXRpb25WYWxpZCIsImVhY2hMb2NhdGlvbk5hbWUiLCJzZWFyY2hNYXRjaCIsIl9qYXZhc2NyaXB0TmF0dXJhbFNvcnQiLCI3MzAiLCJ0ZW5hbnREZXZpY2VzIiwiZ2V0RGV2aWNlc0J5VGVuYW50IiwicmVmcmVzaERldmljZXMiLCJwcmVwcmF0ZUZvckVkaXRWaWV3IiwibG9hZGluZ0Rpc2FibGVkIiwiNzMxIiwiZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5VGVuYW50IiwiNzMyIiwic2VhcmNoZWRUZW5hbnRzIiwiZ2V0VGVuYW50c1BhZ2luYXRlZCIsImZldGNoQWxsVGVuYW50c1BhZ2luYXRlZCIsInRvdGFsIiwiaXNfZmlyc3RfcGFnZSIsImlzX2xhc3RfcGFnZSIsInNlYXJjaEFsbFRlbmFudHNCeU5hbWUiLCJpc1RlbmFudFZhbGlkIiwiZWFjaE5hbWUiLCI3MzMiLCJ2ZXJzaW9uX2RhdGEiLCJjYXBpdGFsaXplRmlyc3RMZXR0ZXIiLCJzdHJpbmciLCJ0b1VwcGVyQ2FzZSIsImdpdmVPcHRpb25Ub0NoYW5nZURpc3RyaWJ1dG9yIiwiaGFzX211bHRpcGxlX2Rpc3RyaWJ1dG9ycyIsImNoYW5nZURpc3RyaWJ1dG9yIiwiZ2V0VmVyc2lvbiIsImdldFZlcnNpb25zIiwiNzM0IiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJSZXN0YW5ndWxhclByb3ZpZGVyIiwibm90QXV0aGVudGljYXRlZCIsImF1dGhlbnRpY2F0ZWQiLCJmdW5jdGlvbiIsImlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4iLCJvdGhlcndpc2UiLCJzZXRCYXNlVXJsIiwiYWRkUmVzcG9uc2VJbnRlcmNlcHRvciIsIm9wZXJhdGlvbiIsInJlc291cmNlVHlwZSIsInNldFJlc3Rhbmd1bGFyRmllbGRzIiwiNzM1IiwiJGluamVjdG9yIiwic3RhdGVDaGFuZ2VXYXRjaCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJyZXF1ZXN0SW50ZXJjZXB0b3IiLCJhZGRSZXF1ZXN0SW50ZXJjZXB0b3IiLCJlbGVtIiwid2hhdCIsImF1dGhUb2tlbiIsInNldERlZmF1bHRIZWFkZXJzIiwiNzM2IiwiY2xvc2VCdXR0b24iLCJ0YXBUb0Rpc21pc3MiLCJuZXdlc3RPblRvcCIsInBvc2l0aW9uQ2xhc3MiLCJ0aW1lT3V0IiwiJGJyZWFkY3J1bWJQcm92aWRlciJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsSUFFUkMsRUFDQSxTQUFTQyxF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T0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxZQUFBLElBQ0FDLGVBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsUUFBQSxJQUNBQyxXQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxRQUFBLElBQ0FDLFdBQUEsSUFDQUMsUUFBQSxJQUNBQyxhQUFBLElBQ0FDLGdCQUFBLElBQ0FDLFdBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxnQkFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBUUE5TSxHQUFBK00sS0FBQSxXQUNBLE1BQUE5TixRQUFBOE4sS0FBQTVNLElBRUFILEVBQUFnTixRQUFBOU0sRUFDQTFJLEVBQUFDLFFBQUF1SSxFQUNBQSxFQUFBaU4sR0FBQSxLSG1VTUMsSUFDQSxTQUFTMVYsRUFBUUMsU0kzaEJ2QixZQU9BcUksU0FBUXRJLE9BQU8sdUJBQXdCLHlCQUF5QnVFLFFBQVEsYUFBYyxXQUVwRixPQUFRLFlBQWEsVUFBVyxXQUFZLGFBQWMsV0FBWSxTQUFVb1IsRUFBR0MsRUFBR0MsRUFBR0MsRUFBR0MsR0FDMUZDLEtBQUtDLFdBQVksRUFBSUQsS0FBS0UsTUFBUSxFQUFHRixLQUFLRyxPQUFTLE1BQU9ILEtBQUtJLE9BQVNOLEVBQUVPLE9BQVFMLEtBQUtNLE1BQVEsWUFBYU4sS0FBS08sT0FBU1osRUFBRWEsS0FBSyxRQUFRLEdBQUlSLEtBQUtFLE1BQVEsRUFBR0YsS0FBS1MsY0FBZ0JaLEVBQUUsK0JBQStCRyxLQUFLSSxRQUFTSixLQUFLTyxPQUFPRyxZQUFZVixLQUFLUyxjQUFjLElBQUtULEtBQUtJLE9BQU9GLE1BQVFGLEtBQUtFLE1BQU8sU0FBV0YsS0FBS0csUUFBVUgsS0FBS1MsY0FBY0UsR0FBRyxHQUFHQyxXQUFXQyxJQUFJLFNBQVViLEtBQUtHLFFBQVMsU0FBV0gsS0FBS00sUUFBVU4sS0FBS1MsY0FBY0UsR0FBRyxHQUFHQyxXQUFXQyxJQUFJLG1CQUFvQmIsS0FBS00sT0FBUU4sS0FBS1MsY0FBY0UsR0FBRyxHQUFHQyxXQUFXQyxJQUFJLFFBQVNiLEtBQUtNLFFBQVNOLEtBQUtjLGtCQUFvQixFQUFHZCxLQUFLZSxNQUFRLFdBQ3BsQmYsS0FBS2dCLE1BQ0wsSUFBSXJCLEdBQUlLLElBQ1JpQixlQUFjakIsS0FBS2MsbUJBQW9CZCxLQUFLYyxrQkFBb0JJLFlBQVksV0FDMUVDLE1BQU14QixFQUFFTyxRQUFVZSxjQUFjdEIsRUFBRW1CLG1CQUFvQm5CLEVBQUVPLE1BQVEsRUFBR1AsRUFBRXlCLFNBQVd6QixFQUFFMEIsVUFBWSxJQUFNMUIsRUFBRU8sTUFBT1AsRUFBRU8sTUFBUVAsRUFBRU8sTUFBUSxJQUFNb0IsS0FBS0MsSUFBSSxFQUFJRCxLQUFLRSxLQUFLN0IsRUFBRTBCLFdBQVksR0FBSTFCLEVBQUU4QixZQUFZOUIsRUFBRU8sU0FDL0wsTUFDRkYsS0FBS3lCLFlBQWMsU0FBVTlCLEdBQzlCSyxLQUFLSSxPQUFPRixNQUFRUCxFQUFHSyxLQUFLSSxPQUFPc0IsU0FBVzFCLEtBQUtJLE9BQU91QixVQUN6RDNCLEtBQUs0QixVQUFZLFNBQVVqQyxHQUM1QixNQUFPLFVBQVdBLElBQU1LLEtBQUtHLE9BQVNSLEVBQUdLLEtBQUtJLE9BQU9ELE9BQVNILEtBQUtHLE9BQVFILEtBQUtJLE9BQU9zQixTQUFXMUIsS0FBS0ksT0FBT3VCLFVBQVczQixLQUFLRyxRQUM3SEgsS0FBSzZCLFNBQVcsU0FBVWxDLEdBQzNCLE1BQU8sVUFBV0EsSUFBTUssS0FBS00sTUFBUVgsRUFBR0ssS0FBS0ksT0FBT0UsTUFBUU4sS0FBS00sTUFBT04sS0FBS0ksT0FBT3NCLFNBQVcxQixLQUFLSSxPQUFPdUIsVUFBVzNCLEtBQUtNLE9BQzFITixLQUFLb0IsS0FBTyxXQUNicEIsS0FBS1MsY0FBY0csV0FBV0MsSUFBSSxVQUFXLElBQzdDLElBQUlsQixHQUFJSyxJQUNSTCxHQUFFbUMsUUFBUSxXQUNSbkMsRUFBRWMsY0FBY0csV0FBV0MsSUFBSSxRQUFTLE1BQU9sQixFQUFFbUMsUUFBUSxXQUN2RG5DLEVBQUVxQixRQUNELE1BQ0YsTUFDRmhCLEtBQUtnQixLQUFPLFdBQ2IsR0FBSXJCLEdBQUlLLElBQ1JMLEdBQUVtQyxRQUFRLFdBQ1JuQyxFQUFFYyxjQUFjRyxXQUFXQyxJQUFJLFVBQVcsTUFDekMsTUFDRmIsS0FBSzhCLFFBQVUsU0FBVW5DLEVBQUdDLEdBQzdCLFNBQVdJLEtBQUsrQixXQUFhaEMsRUFBRWlDLE9BQU9oQyxLQUFLK0IsV0FBWS9CLEtBQUsrQixVQUFZaEMsRUFBRUosRUFBR0MsSUFDNUVJLEtBQUtpQyxPQUFTLFdBQ2YsTUFBT2pDLE1BQUtFLE9BQ1hGLEtBQUtrQyxLQUFPLFdBQ2JqQixjQUFjakIsS0FBS2Msb0JBQ2xCZCxLQUFLbUMsSUFBTSxTQUFVeEMsR0FDdEIsTUFBT0ssTUFBS2dCLE9BQVFoQixLQUFLeUIsWUFBWTlCLEdBQUlLLEtBQUtFLE1BQVFQLEVBQUdzQixjQUFjakIsS0FBS2MsbUJBQW9CZCxLQUFLRSxPQUNwR0YsS0FBS2EsSUFBTSxTQUFVbEIsR0FDdEIsTUFBT0ssTUFBS1MsY0FBY0csV0FBV0MsSUFBSWxCLElBQ3hDSyxLQUFLb0MsTUFBUSxXQUNkLE1BQU9uQixlQUFjakIsS0FBS2MsbUJBQW9CZCxLQUFLRSxNQUFRLEVBQUdGLEtBQUt5QixZQUFZekIsS0FBS0UsT0FBUSxHQUMzRkYsS0FBS3FDLFNBQVcsV0FDakJyQyxLQUFLRSxNQUFRLElBQUtGLEtBQUt5QixZQUFZekIsS0FBS0UsTUFDeEMsSUFBSVAsR0FBSUssSUFDUixPQUFPaUIsZUFBY2pCLEtBQUtjLG1CQUFvQmYsRUFBRSxXQUM5Q0osRUFBRXlCLE9BQVFyQixFQUFFLFdBQ1ZKLEVBQUVPLE1BQVEsRUFBR1AsRUFBRThCLFlBQVk5QixFQUFFTyxRQUM1QixNQUNGLEtBQU1GLEtBQUtFLE9BQ2JGLEtBQUtzQyxVQUFZLFNBQVUzQyxHQUM1QixHQUFJLE9BQVNBLEdBQUssU0FBV0EsRUFBRSxLQUFNLElBQUkvTSxPQUFNLDZDQUMvQyxRQUFTb04sS0FBS08sUUFBVSxTQUFXUCxLQUFLTyxRQUFVUCxLQUFLTyxPQUFPZ0MsWUFBWXZDLEtBQUtTLGNBQWMsSUFBS1QsS0FBS08sT0FBU1osRUFBR0ssS0FBS08sT0FBT0csWUFBWVYsS0FBS1MsY0FBYyxLQUM3SlQsS0FBS3dDLGNBQWdCLFdBQ3RCLE1BQU94QyxNQUFLUyxlQUNYVCxLQUFLeUMsWUFBYyxXQUNwQnpDLEtBQUtTLGNBQWNJLElBQUksV0FBWSxpQkFHdEM2QixRQUFRLHFCQUFzQixZQUFhLGFBQWMsU0FBVS9DLEVBQUdDLEdBQ3ZFLEdBQUlDLElBQ0Y4QyxlQUFnQixXQUNkLE1BQU9oRCxHQUFFaUQsWUFBWWhELElBR3pCLE9BQU9DLE1BQ0p2TixRQUFRdEksT0FBTywyQkFBNEI2WSxVQUFVLGNBQWUsVUFBVyxhQUFjLFNBQVVsRCxFQUFHQyxHQUM3RyxHQUFJQyxJQUNGaUQsU0FBUyxFQUFJQyxTQUFVLElBQUtDLEtBQU0sU0FBVXJELEVBQUdDLEVBQUdDLEVBQUdDLEdBQ25ESCxFQUFFc0QsT0FBTyxRQUFTLFNBQVVwRCxJQUN6QixTQUFXQSxHQUFLLE9BQVNBLEtBQU9GLEVBQUV1RCxRQUFVckQsRUFBR0QsRUFBRWUsR0FBRyxHQUFHQyxXQUFXQyxJQUFJLFFBQVNoQixFQUFJLFFBQ2xGRixFQUFFc0QsT0FBTyxRQUFTLFNBQVVwRCxJQUM3QixTQUFXQSxHQUFLLE9BQVNBLEtBQU9GLEVBQUVXLE1BQVFULEVBQUdELEVBQUVlLEdBQUcsR0FBR0MsV0FBV0MsSUFBSSxtQkFBb0JoQixHQUFJRCxFQUFFZSxHQUFHLEdBQUdDLFdBQVdDLElBQUksUUFBU2hCLE1BQzNIRixFQUFFc0QsT0FBTyxTQUFVLFNBQVVwRCxJQUM5QixTQUFXQSxHQUFLLE9BQVNBLEtBQU9GLEVBQUVRLE9BQVNOLEVBQUdELEVBQUVlLEdBQUcsR0FBR0MsV0FBV0MsSUFBSSxTQUFVaEIsT0FFakZzRCxTQUFVLG1FQUVmLE9BQU90RCxNQUNKdk4sUUFBUXRJLE9BQU8sY0FBZSx1QkFBd0IseUJKb2lCckRvWixJQUNBLFNBQVNwWixFQUFRQyxRQUFTQyxHS3RuQmhDLEdBQUFtWixHQUFBblosRUFBQSxJQUNBLGlCQUFBbVosU0FBQXJaLEVBQUF5VixHQUFBNEQsRUFBQSxLQUVBblosR0FBQSxLQUFBbVosS0FDQUEsR0FBQUMsU0FBQXRaLEVBQUFDLFFBQUFvWixFQUFBQyxTTDRvQk1DLElBQ0EsU0FBU3ZaLEVBQVFDLFFBQVNDLEdNcHBCaENELFFBQUFELEVBQUFDLFFBQUFDLEVBQUEsT0FLQUQsUUFBQXNILE1BQUF2SCxFQUFBeVYsR0FBQSwrUkFBc1QsTU42cEJoVCtELElBQ0EsU0FBU3haLEVBQVFDLFFBQVNDLEdPbnFCaEMsWUFNQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQUp2RixHQUFJb1osR0FBV3ZaLEVBQVEsS0FFbkJ3WixFQUFXdFosRUFBdUJxWjs7O0NBRHJDLFNBQVM5RCxFQUFFQyxFQUFFQyxHQUFnQixRQUFTQyxHQUFFSCxFQUFFRSxHQUFHLE1BQU9ELEdBQUUrRCxPQUFPaEUsRUFBRWlFLE9BQU8vRCxFQUFFK0QsUUFBUWpFLEVBQUVFLEVBQUVGLEVBQUVpRSxPQUFPL0QsRUFBRStELE9BQU8sUUFBUzdELEdBQUVKLEdBQUcsR0FBSUMsR0FBRUQsRUFBRW1ELFFBQVEsTUFBTSxLQUFLZSxNQUFNLDJCQUE0QixLQUFJakUsR0FBRyxJQUFJQSxFQUFFZ0UsT0FBTyxLQUFNLElBQUloUixPQUFNLHNCQUFzQitNLEVBQUUsSUFBSyxRQUFPbUUsTUFBTWxFLEVBQUUsR0FBR21FLFVBQVVuRSxFQUFFLElBQUksTUFBTSxRQUFTb0UsS0FBSSxHQUFJckUsSUFBR3NFLGdCQUFnQixLQUFLZCxTQUFTLGFBQWFlLFlBQVksS0FBS0MsaUJBQWdCLEVBQUluRSxNQUFLb0UsV0FBVyxTQUFTdkUsR0FBR0QsRUFBRXlFLE9BQU8xRSxFQUFFRSxJQUFJRyxLQUFLc0UsTUFBTSxTQUFTLGVBQWUsYUFBYSxTQUFTMUUsRUFBRW9FLEVBQUVPLEdBQUcsR0FBSUMsR0FBRUQsQ0FBRUEsR0FBRUUsSUFBSSxxQkFBcUIsU0FBUzlFLElBQUlBLEVBQUUrRSxZQUFZQyxxQkFBcUI3RSxFQUFFSCxFQUFFK0UsWUFBWUUsSUFBSUosRUFBRUksT0FBT0osRUFBRTdFLEVBQUUrRSxjQUFlLElBQUlHLEdBQUUsU0FBU2xGLEdBQUcsR0FBSUMsR0FBRUQsRUFBRVksU0FBUyxnQkFBZ0J1RSxLQUFLbkYsRUFBRW9GLFdBQVcsR0FBR2xGLEVBQUUsOEJBQWlCRCxHQUFqQixlQUFBOEQsY0FBaUI5RCxHQUFFLE9BQU9DLEdBQUVELEVBQUVtRixLQUFLbkYsR0FBR29GLEVBQUUsUUFBQUEsR0FBU25GLEVBQUVDLEdBQUcsSUFBSSxHQUFJeUUsR0FBRU0sRUFBRUcsRUFBRWpGLEVBQUVELEdBQUdtRixHQUFFLEVBQUdDLEdBQUUsRUFBR0MsRUFBRSxFQUFFQyxFQUFFdkYsRUFBRStELE9BQU93QixFQUFFRCxFQUFFQSxHQUFHLEVBQUUsR0FBR3RGLEVBQUVzRixHQUFHSixPQUFPQyxFQUFFbEIsTUFBTSxNQUFPUyxHQUFFM0UsRUFBRTFPLElBQUk4VCxFQUFFbEIsT0FBT1MsRUFBRWMsZ0JBQWdCZCxFQUFFYyxjQUFjQyxRQUFRTCxHQUFFLEdBQUlWLEVBQUVjLGNBQWNFLE9BQU9MLEdBQUUsSUFBS1gsRUFBRSxjQUFjNUUsRUFBRXdFLGtCQUFrQmMsR0FBR0MsSUFBSUYsRUFBRWpCLFlBQVljLEVBQUVMLEVBQUVnQixNQUFNUixFQUFFakIsWUFBWVEsRUFBRWtCLGtCQUFrQjdGLEVBQUU4RixLQUFLVixFQUFFbEIsTUFBTWUsR0FBR2IsT0FBT25FLEVBQUU4RixRQUFRcEIsS0FBS1UsRUFBRSxTQUFTdEYsR0FBRyxHQUFJRSxHQUFFRSxFQUFFSixHQUFHRyxFQUFFRixFQUFFMU8sSUFBSTJPLEVBQUVpRSxNQUFPLElBQUdoRSxFQUFFdUYsZUFBZXZGLEVBQUV1RixjQUFjOUUsT0FBTyxDQUFDLEdBQUl5RCxHQUFFLGtCQUFtQmxFLEdBQUV1RixjQUFjOUUsT0FBT2dFLEVBQUVQLEVBQUVsRSxFQUFFdUYsY0FBYzlFLE9BQU9pRSxHQUFHMUUsRUFBRXVGLGNBQWM5RSxNQUFPLElBQUdnRSxFQUFFLE1BQU9BLEdBQUUsTUFBT00sR0FBRS9FLEdBQUksUUFBTzhGLFlBQVksU0FBU2hHLEdBQUcsTUFBT0QsR0FBRXVFLFlBQVksS0FBS3RFLEVBQUVELEVBQUV3RCxVQUFVdkQsRUFBRUQsRUFBRXdELFVBQVV4RCxFQUFFd0QsVUFBVTBDLGVBQWUsV0FBVyxNQUFPbEcsR0FBRXVFLGFBQWE0QixlQUFlLFNBQVNqRyxHQUFHLElBQUksR0FBSUMsTUFBS0MsRUFBRUgsRUFBRW1HLFNBQVNDLEtBQUtqQixLQUFLaEYsRUFBRUEsRUFBRWtGLEVBQUVsRixHQUFHLEdBQUdpRixFQUFFbEYsRUFBRUMsR0FBR0YsR0FBR0MsRUFBRThELE9BQU8sTUFBTzlELEVBQUUsT0FBT0gsR0FBRXNFLGlCQUFpQmUsRUFBRWxGLEVBQUVILEVBQUVzRSxpQkFBaUJuRSxHQUFHbUcsWUFBWSxXQUFXLEdBQUl0RyxHQUFFSyxLQUFLOEYsZ0JBQWUsRUFBSSxPQUFPbkcsR0FBRWlFLE9BQU9qRSxFQUFFLEdBQUdFLEdBQUdxRyxrQkFBa0IsV0FBVyxNQUFPMUIsT0FBTSxRQUFTRCxHQUFFNUUsRUFBRUUsRUFBRUMsR0FBRyxHQUFJQyxJQUFHb0csV0FBVyx5VUFBeVVDLFdBQVcsMlJBQTRSLFFBQU9yRCxTQUFTLEtBQUtELFNBQVEsRUFBR3VELFNBQVNsRCxTQUFTdEQsRUFBRStGLFlBQVk3RixHQUFHbUUsWUFBWXJFLEVBQUVnRyxpQkFBaUI3QyxNQUFNc0QsS0FBSyxTQUFTdkcsR0FBRyxHQUFJaUUsTUFBS08sRUFBRSxXQUFXVyxFQUFFbEIsR0FBR0EsSUFBSyxJQUFJbEUsR0FBRUQsRUFBRXFHLG1CQUFvQm5HLEdBQUV3RyxNQUFNMUcsRUFBRWlHLGlCQUFpQmxHLEVBQUU0RyxRQUFRekcsRUFBRXdHLE1BQU0sU0FBUzNHLEdBQUcsR0FBR0EsRUFBRXlGLGVBQWV6RixFQUFFeUYsY0FBY29CLE1BQU0sQ0FBQyxHQUFJNUcsR0FBRUYsRUFBRUMsRUFBRXlGLGNBQWNvQixNQUFPN0csR0FBRThHLG1CQUFtQjdHLEVBQUVDLEdBQUdtRixFQUFFakIsRUFBRW5FLEVBQUVDLEVBQUVGLE9BQVFBLEdBQUU4RyxtQkFBbUI5RyxFQUFFbUYsT0FBUWpGLEdBQUUyRSxJQUFJLHFCQUFxQixTQUFTOUUsR0FBR0EsRUFBRStFLFlBQVlDLHFCQUFxQkosTUFBTUEsT0FBTyxRQUFTQyxHQUFFN0UsRUFBRUMsRUFBRUMsR0FBRyxPQUFPa0QsU0FBUyxJQUFJc0QsU0FBU2xELFNBQVMseUJBQXlCd0QsUUFBUSxTQUFTN0csRUFBRUMsR0FBRyxHQUFJaUUsR0FBRWxFLEVBQUU4RyxLQUFLN0csRUFBRThHLE1BQU1DLGtCQUFtQixPQUFPOUMsSUFBR2xFLEVBQUVpSCxLQUFLL0MsSUFBSXNDLEtBQUssU0FBU3hHLEdBQUcsR0FBSUMsTUFBS2lFLEVBQUUsUUFBQUEsS0FBV2tCLEVBQUVuRixHQUFHQSxJQUFLLElBQUlGLEdBQUVELEVBQUVzRyxvQkFBb0JsQyxFQUFFcEUsRUFBRXFHLGFBQWMsSUFBR2pDLEVBQUUsR0FBR2xFLEVBQUUyRixrQkFBa0J6QixFQUFFeUIsa0JBQWtCekIsRUFBRXFCLGVBQWVyQixFQUFFcUIsY0FBY29CLE1BQU0sQ0FBQyxHQUFJbEMsR0FBRTVFLEVBQUVxRSxFQUFFcUIsY0FBY29CLE1BQU8zRyxHQUFFNEcsbUJBQW1CbkMsRUFBRTFFLEdBQUdvRixFQUFFbEYsRUFBRXdFLEVBQUUxRSxFQUFFQyxPQUFRQSxHQUFFNEcsbUJBQW1CMUMsRUFBRWUsS0FBTWxGLEdBQUU0RSxJQUFJLHFCQUFxQixTQUFTOUUsR0FBR0EsRUFBRStFLFlBQVlDLHFCQUFxQlgsTUFBTUEsUUFBUSxRQUFTYSxHQUFFbEYsRUFBRUUsRUFBRUMsR0FBRyxPQUFPaUQsU0FBUyxJQUFJc0QsU0FBU2xELFNBQVMseUJBQXlCd0QsUUFBUSxTQUFTNUcsRUFBRWlFLEdBQUcsR0FBSU8sR0FBRXhFLEVBQUU2RyxLQUFLNUMsRUFBRTZDLE1BQU1HLGtCQUFtQnpDLElBQUd4RSxFQUFFZ0gsS0FBS3hDLEVBQUcsSUFBSUMsR0FBRXpFLEVBQUU2RyxLQUFLNUMsRUFBRTZDLE1BQU1JLDZCQUE2QixLQUFNLFFBQU9YLEtBQUssU0FBU3ZHLEdBQUcsR0FBSWlFLE1BQUtPLEVBQUUsU0FBUzVFLEVBQUVFLEVBQUVDLEdBQUdGLEVBQUU0RyxRQUFReEIsRUFBRW5GLEdBQUcsU0FBU0QsR0FBRyxHQUFJQyxHQUFFQyxFQUFFbUQsT0FBT3JELEVBQUUsU0FBU0QsRUFBRUMsR0FBR0QsSUFBSUMsR0FBR2lGLEtBQU1sRixHQUFFcE8sS0FBS3NPLE1BQU1nRixFQUFFLFFBQUFBLEtBQVdLLEVBQUVsQixHQUFHQSxJQUFLLElBQUlsRSxHQUFFRCxFQUFFcUcsb0JBQW9CckIsRUFBRWhGLEVBQUVpRyxpQkFBaUJkLElBQUtwRixHQUFFNEcsUUFBUTNCLEVBQUUsU0FBU2pGLEdBQUcsR0FBR0EsRUFBRXlGLGVBQWV6RixFQUFFeUYsY0FBY29CLE1BQU0sQ0FBQyxHQUFJNUcsR0FBRUYsRUFBRUMsRUFBRXlGLGNBQWNvQixNQUFPekIsR0FBRXpULEtBQUtzTyxFQUFFQyxJQUFJeUUsRUFBRVAsRUFBRW5FLEVBQUVDLE9BQVFrRixHQUFFelQsS0FBS3FPLEVBQUVtRixRQUFRaEYsRUFBRW1ILG1CQUFtQmxDLEVBQUVtQyxLQUFLM0MsR0FBSTFFLEdBQUUyRSxJQUFJLHFCQUFxQixTQUFTOUUsR0FBR0EsRUFBRStFLFlBQVlDLHFCQUFxQkUsTUFBTUEsUUFBUSxHQUFJRyxHQUFFLFNBQVNyRixHQUFHLEdBQUdBLEVBQUV5SCxZQUFZLE1BQU96SCxHQUFFeUgsV0FBWSxJQUFJdkgsS0FBSyxPQUFPRCxHQUFFNEcsUUFBUTdHLEVBQUUwSCxNQUFNLFNBQVMxSCxHQUFHQyxFQUFFMEgsV0FBVzNILElBQUlFLEVBQUV0TyxLQUFLb08sRUFBRTRILE9BQU8xSCxHQUFHb0YsRUFBRSxTQUFTdEYsRUFBRUUsRUFBRUMsRUFBRUMsR0FBR0gsRUFBRTRHLFFBQVF4QixFQUFFbkYsR0FBRyxTQUFTRCxHQUFHLEdBQUlvRSxHQUFFbEUsRUFBRW1ELE9BQU9yRCxFQUFFLFdBQVdHLEVBQUUyRyxtQkFBbUI3RyxFQUFFQyxJQUFLSCxHQUFFcE8sS0FBS3lTLE1BQU1rQixFQUFFLFNBQVN2RixHQUFHQyxFQUFFNEcsUUFBUTdHLEVBQUUsU0FBU0EsR0FBR0EsTUFBTzRFLEdBQUVpRCxTQUFTLGVBQWUsY0FBYyxjQUFjaEQsRUFBRWdELFNBQVMsZUFBZSxjQUFjLGNBQWMzQyxFQUFFMkMsU0FBUyxlQUFlLGNBQWMsY0FBYzVILEVBQUU1VixPQUFPLDBCQUEwQixvQkFBb0J5ZCxTQUFTLGNBQWN6RCxHQUFHbkIsVUFBVSxnQkFBZ0IwQixHQUFHMUIsVUFBVSxvQkFBb0IyQixHQUFHM0IsVUFBVSxvQkFBb0JnQyxJQUFJelMsT0FBT0EsT0FBT0UsVVA4eEI5bEpvVixJQUNBLFNBQVMxZCxFQUFRQyxRQUFTQyxJUWx5QmhDLFNBQUF5ZCxHQUFBLFlBTUEsU0FBU3ZkLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBTnZGLEdBQUE0SCxHQUFBL0gsRUFBQSxLQUlJMGQsRUFBV3hkLEVBQXVCNkgsSUFGdEMsU0FBVzRWLEdBR1QsR0FBSUMsR0FBYSx1QkFFYkMsR0FDRkMsS0FBTSxFQUNOQyxLQUFNLEVBQ05DLE9BQVEsR0FHTnJILEVBQU0sU0FBVXNILEVBQUlwRCxHQUN0QixNQUFJLFVBQVkzUyxRQUNQdVYsRUFBT1EsR0FBSXRILElBQUlrRSxJQUV0Qm9ELEVBQUs3VixRQUFROFYsUUFBUUQsR0FDYixvQkFBc0IvVixRQUFVQSxPQUFPaVcsaUJBQWlCRixFQUFHLElBQUlwRCxHQUFRb0QsRUFBR3RILElBQUlrRSxLQUl0RjVCLEVBQVcsZzZHQWtEZjdRLFNBQVF0SSxPQUFPOGQsR0FBYSxlQUN6QkwsU0FBUyxpQ0FBa0MsV0FDMUN6SCxLQUFLc0ksT0FBUyxLQUVkdEksS0FBS3NFLEtBQU8sV0FDVixNQUFPdEUsTUFBS3NJLFFBR2R0SSxLQUFLdUksaUJBQW1CLFNBQVVDLEdBQ2hDeEksS0FBS3NJLE9BQVNFLEtBR2pCM0YsVUFBVSxxQkFBc0IsWUFDL0IsU0FBVTRGLEdBRVIsT0FDRTFGLFNBQVUsSUFDVjJGLFFBQVMsVUFDVHJDLE9BQ0VzQyxZQUFhLFdBQ2JDLEtBQU0sSUFDTkMsS0FBTSxJQUNOQyxRQUFTLElBQ1RDLFFBQVMsSUFDVEMsVUFBVyxJQUNYQyxPQUFRLElBQ1JDLFdBQVksSUFDWkMsT0FBUSxJQUNSQyxLQUFNLElBQ05DLE9BQVEsSUFDUkMsT0FBUSxLQUVWdEcsS0FBTSxTQUFVcUQsRUFBTytCLEVBQVNtQixFQUFPQyxHQUNyQyxHQUFJQyxJQUFPLENBQ05wRCxHQUFNNEMsU0FDTDVDLEVBQU13QyxNQUFReEMsRUFBTXVDLEtBQ3RCdkMsRUFBTTRDLE9BQVMsc0JBQ041QyxFQUFNd0MsS0FDZnhDLEVBQU00QyxPQUFTLGFBRWY1QyxFQUFNNEMsT0FBUyxTQUlmM1csUUFBUW9YLFNBQVNyRCxFQUFNc0MsY0FBc0MsS0FBdEJ0QyxFQUFNc0MsY0FDL0N0QyxFQUFNc0MsWUFBY2QsRUFBT3hCLEVBQU1zQyxZQUFhdEMsRUFBTTRDLFNBR2xETyxHQUNGQSxFQUFRRyxZQUFZcFksS0FBSyxTQUFVSSxHQUNqQyxHQUFxQixtQkFBVkEsR0FBWCxDQUdBLEdBQUl3VCxHQUFJMEMsRUFBT2xXLEVBQ2YsT0FBT3dULEdBQUV5RSxVQUFZekUsRUFBRThELE9BQU81QyxFQUFNNEMsUUFBVSxNQUlsRGIsRUFBUXhCLEtBQUssV0FBWSxJQUV6QndCLEVBQVF5QixHQUFHLFFBQVMsU0FBVTlKLEdBRzVCLEdBRkFBLEVBQUUrSixpQkFDRjFCLEVBQVEyQixRQUNKTixFQUFKLENBR0FBLEdBQU8sQ0FDUCxJQUFJTyxLQUNKLEtBQUssR0FBSW5GLEtBQUswRSxHQUNSbEQsRUFBTTRELGVBQWVwRixLQUFPdlMsUUFBUTRYLFlBQVk3RCxFQUFNeEIsTUFDeERtRixFQUFRbkYsR0FBS3dCLEVBQU14QixHQUd2Qm1GLEdBQVFyQixZQUFjdEMsRUFBTXNDLFdBQzVCLElBQUlyRixJQUFVMEcsUUFBU0EsRUFDdkJ2QixHQUFVekgsTUFDUm1DLFNBQVVBLEVBQ1YzVSxXQUFZMmIsRUFDWkMsYUFBYyxTQUNkOUcsT0FBUUEsRUFDUitHLFNBQVVqQyxFQUNWN0gsT0FBUWpPLFFBQVE4VixRQUFRa0MsU0FBU0MsTUFDakNDLGtCQUFrQixFQUNsQkMscUJBQXFCLElBRXBCQyxLQUFLLFNBQVVDLEdBQ2R0RSxFQUFNc0MsWUFBY2dDLEVBQUlBLEVBQUVDLEdBQUtELEVBQy9CbEIsR0FBTyxHQUNOLFdBQ0RBLEdBQU8sV0FTdkIsSUFBSVUsR0FBbUIsU0FBVS9KLEVBQVFxSSxFQUFXb0MsR0FDbEQ3SyxLQUFLOEssWUFBYy9DLEVBQVlDLEtBQy9CaEksS0FBSytLLFFBQVV0QyxFQUVmekksS0FBSzhJLFFBQ0w5SSxLQUFLK0ksUUFFTC9JLEtBQUtnTCxtQkFDTGhMLEtBQUtpTCxNQUFRbEQsRUFFYi9ILEtBQUtrTCxRQUNIckMsTUFBTSxFQUNORCxNQUFNLEVBQ05LLE9BQVEsYUFDUkgsUUFBUyxLQUNUQyxRQUFTLEtBQ1RKLFlBQWEsS0FDYlMsS0FBTXlCLEVBQ05NLFVBQVcsRUFDWG5DLFdBQVcsRUFDWEUsV0FBWSxTQUNaQyxPQUFRLEtBQ1JFLE9BQVEsS0FDUkMsT0FBUSxNQUdWdEosS0FBS29MLFNBQVcsS0FDaEJwTCxLQUFLa0wsT0FBUzVZLFFBQVErUixPQUFPckUsS0FBS2tMLE9BQVFsTCxLQUFLZ0ssU0FDL0NoSyxLQUFLcUwsT0FFUGxCLEdBQWlCM0MsU0FBVyxTQUFVLFlBQWEsa0NBQ25EMkMsRUFBaUJtQixXQUNmRCxLQUFNLFdBQ0pyTCxLQUFLdUwsU0FBV3ZMLEtBQUtrTCxPQUFPdEMsT0FBUzVJLEtBQUtrTCxPQUFPckMsS0FDakQ3SSxLQUFLd0wsU0FBV3hMLEtBQUtrTCxPQUFPckMsS0FDNUI3SSxLQUFLeUwsWUFDTHpMLEtBQUtlLFNBRVAySyxzQkFBdUIsV0FDckIsR0FBSTdDLEdBQU83SSxLQUFLMkksYUFBZWQsSUFDM0I4RCxFQUFXLEVBQUlySyxLQUFLc0ssTUFBTS9DLEVBQUtnRCxTQUFXLEVBSTlDLE9BSElGLElBQVcsS0FDYkEsRUFBVSxJQUVMOUQsRUFBT2dCLEdBQU04QyxRQUFRQSxJQUU5QkYsVUFBVyxXQUNULEdBQUlLLEdBQU85TCxLQUNQK0wsRUFBYSxTQUFVQyxFQUFPQyxHQUNoQyxHQUFJQyxHQUFNLElBQ1YsSUFBSTVaLFFBQVE2WixVQUFVSCxJQUFvQixPQUFWQSxHQUE0QixLQUFWQSxFQUNoRCxHQUFJMVosUUFBUW9YLFNBQVNzQyxHQUVqQkUsRUFEaUMsbUJBQXhCSixHQUFLWixPQUFPakMsUUFBa0QsT0FBdkI2QyxFQUFLWixPQUFPakMsT0FDdERwQixFQUFPbUUsRUFBT0YsRUFBS1osT0FBT2pDLFFBQVFYLE9BQU93RCxFQUFLWixPQUFPOUIsTUFHckR2QixFQUFPbUUsR0FBTzFELE9BQU93RCxFQUFLWixPQUFPOUIsVUFJekMsSUFBSTlXLFFBQVE4WixPQUFPSixHQUFRLENBQ3pCLEdBQUlLLEdBQUlMLEVBQU1NLFNBQ2RKLEdBQU1yRSxFQUFPd0UsRUFBRyxLQUFLL0QsT0FBT3dELEVBQUtaLE9BQU85QixVQUMvQjRDLEdBQU1PLG1CQUNmTCxFQUFNRixPQUtWRSxHQUFNRCxDQUVSLE9BQU9DLEdBR1RsTSxNQUFLMkksWUFBY29ELEVBQVcvTCxLQUFLa0wsT0FBT3ZDLFlBQWFkLEtBQ3ZEN0gsS0FBSzhJLFFBQVVpRCxFQUFXL0wsS0FBS2tMLE9BQU9wQyxTQUN0QzlJLEtBQUsrSSxRQUFVZ0QsRUFBVy9MLEtBQUtrTCxPQUFPbkMsU0FDdEMvSSxLQUFLd00sV0FBV3hNLEtBQUsySSxjQUV2QjhELFNBQVUsU0FBVTNNLEdBQ2xCRSxLQUFLOEssWUFBYy9DLEVBQVlDLE1BRWpDMEUsVUFBVyxXQUNUMU0sS0FBSzhLLFlBQWMvQyxFQUFZRSxNQUVqQzBFLFlBQWEsV0FDWDNNLEtBQUs4SyxZQUFjL0MsRUFBWUcsUUFFakMwRSxlQUFnQixTQUFVL0QsRUFBTWdFLEVBQVdDLEdBQ3pDLEdBQUlDLElBQVUsQ0FFZCxJQUE2QixtQkFBbEIvTSxNQUFLOEksU0FBNkMsT0FBakI5SSxLQUFLOEksUUFBa0IsQ0FDakUsR0FBSWtFLEdBQVduRixFQUFPN0gsS0FBSzhJLFNBQ3ZCbUUsRUFBUXBGLEVBQU9nQixFQUVkZ0UsSUFBY0MsSUFDakJFLEVBQVNFLEtBQUssR0FDZEYsRUFBU25CLE9BQU8sR0FFaEJvQixFQUFNQyxLQUFLLEdBQ1hELEVBQU1wQixPQUFPLElBR2ZtQixFQUFTRyxPQUFPLEdBQ2hCRixFQUFNRSxPQUFPLEdBQ2JILEVBQVNJLFlBQVksR0FDckJILEVBQU1HLFlBQVksR0FFYk4sRUFPSEMsRUFBV00sU0FBU0osRUFBTWhFLE9BQU8sT0FBU29FLFNBQVNMLEVBQVMvRCxPQUFPLE9BTm5FZ0UsRUFBTXBCLE9BQU8sR0FDYm1CLEVBQVNuQixPQUFPLEdBRWhCa0IsRUFBV00sU0FBU0osRUFBTWhFLE9BQU8sT0FBU29FLFNBQVNMLEVBQVMvRCxPQUFPLE9BT3ZFLE1BQU84RCxJQUVUTyxnQkFBaUIsU0FBVXpFLEVBQU0wRSxFQUFXVCxHQUMxQyxHQUFJQyxJQUFVLENBRWQsSUFBNkIsbUJBQWxCL00sTUFBSytJLFNBQTZDLE9BQWpCL0ksS0FBSytJLFFBQWtCLENBQ2pFLEdBQUl5RSxHQUFXM0YsRUFBTzdILEtBQUsrSSxTQUN2QmtFLEVBQVFwRixFQUFPZ0IsRUFFZDBFLElBQWNULElBQ2pCVSxFQUFTTixLQUFLLEdBQ2RNLEVBQVMzQixPQUFPLEdBRWhCb0IsRUFBTUMsS0FBSyxHQUNYRCxFQUFNcEIsT0FBTyxJQUdmMkIsRUFBU0wsT0FBTyxHQUNoQkYsRUFBTUUsT0FBTyxHQUNiSyxFQUFTSixZQUFZLEdBQ3JCSCxFQUFNRyxZQUFZLEdBRWJOLEVBT0hDLEVBQVdNLFNBQVNKLEVBQU1oRSxPQUFPLE9BQVNvRSxTQUFTRyxFQUFTdkUsT0FBTyxPQU5uRWdFLEVBQU1wQixPQUFPLEdBQ2IyQixFQUFTM0IsT0FBTyxHQUVoQmtCLEVBQVdNLFNBQVNKLEVBQU1oRSxPQUFPLE9BQVNvRSxTQUFTRyxFQUFTdkUsT0FBTyxPQU92RSxNQUFPOEQsSUFFVFAsV0FBWSxTQUFVM0QsR0FDaEJBLElBQ0Y3SSxLQUFLMkksWUFBY2QsRUFBT2dCLEdBQ3JCN0ksS0FBSzRNLGVBQWU1TSxLQUFLMkksZUFDNUIzSSxLQUFLMkksWUFBY2QsRUFBTzdILEtBQUs4SSxVQUc1QjlJLEtBQUtzTixnQkFBZ0J0TixLQUFLMkksZUFDN0IzSSxLQUFLMkksWUFBY2QsRUFBTzdILEtBQUsrSSxVQUVqQy9JLEtBQUsySSxZQUFZTCxPQUFPdEksS0FBS2tMLE9BQU85QixNQUNwQ3BKLEtBQUt5TixjQUFnQjVGLEVBQU83SCxLQUFLMkksYUFDakMzSSxLQUFLb0wsU0FBV3BMLEtBQUsySSxZQUFZdUUsUUFBVSxHQUFLLEtBQU8sT0FHM0RRLFFBQVMsV0FJUCxJQUFLLEdBSERDLEdBQU8sR0FDUEMsRUFBVyxpRUFFTi9JLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUNyQjhJLEdBQVFDLEVBQVNDLE9BQU92TSxLQUFLd00sTUFBTXhNLEtBQUt5TSxTQUFXSCxFQUFTaEssUUFHOUQsT0FBTytKLElBRVRLLEtBQU0sV0FDSixNQUF5QixPQUFsQmhPLEtBQUtvTCxVQUVkNkMsY0FBZSxTQUFVQyxHQUNSLElBQVhBLEdBQWdCbE8sS0FBS21PLHFCQUN2Qm5PLEtBQUt3TSxXQUFXeE0sS0FBSzJJLFlBQVl5RixJQUFJLE9BQVFGLElBRzNDQSxRQUFpQmxPLEtBQUtxTyx5QkFDeEJyTyxLQUFLd00sV0FBV3hNLEtBQUsySSxZQUFZeUYsSUFBSSxPQUFRRixLQUdqREksdUJBQXdCLFdBQ3RCLE1BQU90TyxNQUFLeU4sZUFBaUJ6TixLQUFLNE0sZUFBZS9FLEVBQU83SCxLQUFLeU4sZUFBZWMsUUFBUSxVQUFVLEdBQU8sSUFFdkdDLG1CQUFvQixXQUNsQixNQUFPeE8sTUFBS3lOLGVBQWlCek4sS0FBS3NOLGdCQUFnQnpGLEVBQU83SCxLQUFLeU4sZUFBZWdCLE1BQU0sVUFBVSxHQUFPLElBRXRHSixzQkFBdUIsV0FDckIsTUFBT3JPLE1BQUt5TixlQUFpQnpOLEtBQUs0TSxlQUFlL0UsRUFBTzdILEtBQUt5TixlQUFlYyxRQUFRLFNBQVMsR0FBTyxJQUV0R0osa0JBQW1CLFdBQ2pCLE1BQU9uTyxNQUFLeU4sZUFBaUJ6TixLQUFLc04sZ0JBQWdCekYsRUFBTzdILEtBQUt5TixlQUFlZ0IsTUFBTSxTQUFTLEdBQU8sSUFFckdDLGdCQUFpQixTQUFVeEIsR0FDekIsR0FBSUQsR0FBUXBGLEVBQU83SCxLQUFLMkksWUFFeEIsT0FEQXNFLEdBQU1DLEtBQUtsTixLQUFLMk8sYUFBYXpCLElBQU9yQixPQUFPLEdBQUdzQixPQUFPLEdBQzlDbk4sS0FBSzRNLGVBQWVLLEdBQU8sR0FBTSxJQUFVak4sS0FBS3NOLGdCQUFnQkwsR0FBTyxHQUFNLElBRXRGMkIsa0JBQW1CLFNBQVUvQyxHQUMzQixHQUFJb0IsR0FBUXBGLEVBQU83SCxLQUFLMkksWUFFeEIsT0FEQXNFLEdBQU1wQixPQUFPQSxHQUFRc0IsT0FBTyxHQUNyQm5OLEtBQUs0TSxlQUFlSyxHQUFPLEdBQU0sSUFBU2pOLEtBQUtzTixnQkFBZ0JMLEdBQU8sR0FBTSxJQUVyRmxNLE1BQU8sV0FDTGYsS0FBSzhLLFlBQWMvQyxFQUFZQyxLQUUzQmhJLEtBQUtrTCxPQUFPckMsS0FDZDdJLEtBQUt5TSxXQUVEek0sS0FBS2tMLE9BQU90QyxNQUNkNUksS0FBSzBNLGFBSVhtQyxHQUFJLFdBQ0YsT0FBUTdPLEtBQUs4SyxhQUNYLElBQUsvQyxHQUFZQyxLQUNYaEksS0FBS2tMLE9BQU90QyxRQUFTLEVBQ3ZCNUksS0FBSzBNLFlBR0wxTSxLQUFLb0IsTUFBSyxFQUVaLE1BQ0YsS0FBSzJHLEdBQVlFLEtBQ2ZqSSxLQUFLMk0sYUFDTCxNQUNGLEtBQUs1RSxHQUFZRyxPQUNmbEksS0FBS29CLE1BQUssS0FJaEJZLE9BQVEsV0FDTixHQUFJaEMsS0FBS2tMLE9BQU90QyxLQUNkLE9BQVE1SSxLQUFLOEssYUFDWCxJQUFLL0MsR0FBWUMsS0FDZmhJLEtBQUtvQixNQUNMLE1BQ0YsS0FBSzJHLEdBQVlFLEtBQ1hqSSxLQUFLa0wsT0FBT3JDLEtBQ2Q3SSxLQUFLeU0sV0FHTHpNLEtBQUtvQixNQUVQLE1BQ0YsS0FBSzJHLEdBQVlHLE9BQ2ZsSSxLQUFLME0sZ0JBS1QxTSxNQUFLb0IsUUFHVDBOLGtCQUFtQixXQUNqQjlPLEtBQUt5TixjQUFjc0IsU0FBUyxFQUFHLFdBRWpDQyxpQkFBa0IsV0FDaEJoUCxLQUFLeU4sY0FBY1csSUFBSSxFQUFHLFdBRTVCYSxpQkFBa0IsV0FDaEJqUCxLQUFLeU4sY0FBY3NCLFNBQVMsRUFBRyxVQUVqQ0csZ0JBQWlCLFdBQ2ZsUCxLQUFLeU4sY0FBY1csSUFBSSxFQUFHLFVBRTVCZSxTQUFVLFlBQ0puUCxLQUFLME8sZ0JBQWdCLElBQU0xTyxLQUFLME8sZ0JBQWdCLE9BQzlDMU8sS0FBSzJJLFlBQVl1RSxRQUFVLElBQzdCbE4sS0FBS3dNLFdBQVd4TSxLQUFLMkksWUFBWW9HLFNBQVMsR0FBSSxVQUUzQy9PLEtBQUswTyxnQkFBZ0IxTyxLQUFLMkksWUFBWXVFLFNBQ3pDbE4sS0FBS3dNLFdBQVd4TSxLQUFLMkksWUFBWXVFLEtBQUtsTixLQUFLOEksUUFBUW9FLFNBRWhEbE4sS0FBSzRPLGtCQUFrQjVPLEtBQUsySSxZQUFZa0QsV0FDM0M3TCxLQUFLd00sV0FBV3hNLEtBQUsySSxZQUFZa0QsT0FBTzdMLEtBQUs4SSxRQUFRK0MsYUFJM0R1RCxTQUFVLFlBQ0pwUCxLQUFLME8sZ0JBQWdCLEtBQU8xTyxLQUFLME8sZ0JBQWdCLE9BQy9DMU8sS0FBSzJJLFlBQVl1RSxPQUFTLElBQzVCbE4sS0FBS3dNLFdBQVd4TSxLQUFLMkksWUFBWXlGLElBQUksR0FBSSxVQUV0Q3BPLEtBQUswTyxnQkFBZ0IxTyxLQUFLMkksWUFBWXVFLFNBQ3pDbE4sS0FBS3dNLFdBQVd4TSxLQUFLMkksWUFBWXVFLEtBQUtsTixLQUFLK0ksUUFBUW1FLFNBRWhEbE4sS0FBSzRPLGtCQUFrQjVPLEtBQUsySSxZQUFZa0QsV0FDM0M3TCxLQUFLd00sV0FBV3hNLEtBQUsySSxZQUFZa0QsT0FBTzdMLEtBQUsrSSxRQUFROEMsYUFJM0Q4QyxhQUFjLFNBQVVuSyxHQUN0QixHQUFJdUksR0FBVXZJLENBSWQsT0FIS0EsR0FBSSxJQUFPeEUsS0FBS2dPLFNBQ25CakIsR0FBVyxJQUVOQSxHQUVUM0wsS0FBTSxTQUFVaU8sR0FDVkEsRUFDRnJQLEtBQUsrSyxRQUFRM0osS0FBS3BCLEtBQUsySSxhQUV2QjNJLEtBQUsrSyxRQUFRL0ksV0FNbkIxUCxRQUFRdEksT0FBTzhkLEdBQ1pqRixVQUFVLDZCQUNULFdBUUUsSUFBSyxHQUxIeU0sSUFEY3pILElBQ0gsTUFDWDBILEVBQVcsS0FDWEMsRUFBNEMsSUFBM0JELEVBQVdELEVBQVcsR0FDdkNHLEVBQWMsSUFDZEMsS0FDTzdLLEVBQUksRUFBR0EsRUFBSTJLLEVBQWUzSyxJQUNqQzZLLEVBQU9uZSxLQUFLc1QsRUFHZCxJQUFJOEssR0FBb0IsU0FBVTlHLEdBQ2hDLEdBQUkrRyxHQUFPL0csRUFBSytHLE9BQ1pDLEVBQVFoSCxFQUFLZ0gsT0FDakIsT0FBNEIsS0FBbkJELEVBQU9OLEdBQWtCTyxFQUFRLEVBRzVDLFFBQ0U5TSxTQUFVLElBQ1ZzRCxPQUNFeUosT0FBUSxJQUNSakgsS0FBTSxLQUVSMkIsa0JBQWtCLEVBQ2xCSixhQUFjLE1BQ2Q1YixZQUFhLFNBQ1gsU0FBVTRSLEdBS1IsSUFBSyxHQUpEMlAsR0FBVy9QLEtBQ2I4UCxFQUFTOVAsS0FBSzhQLE9BQ2RFLEtBRU9uTCxFQUFJaUwsRUFBTzVFLE9BQU9DLFVBQVc2RSxFQUFLcE0sT0FBUyxFQUFHaUIsSUFDakRBLEVBQUksSUFDTkEsRUFBSSxHQUVObUwsRUFBS3plLEtBQUtzVCxFQUFFb0wsV0FJZCxJQURBRixFQUFTRyxLQUFPRixFQUNYRixFQUFPL0csU0FBWStHLEVBQU9oSCxRQUV4QixDQUNMLEdBQUlxSCxHQUFNTCxFQUFPaEgsUUFBVTZHLEVBQWtCRyxFQUFPaEgsU0FBVyxFQUMzRHNILEVBQU9OLEVBQU8vRyxRQUFXNEcsRUFBa0JHLEVBQU8vRyxTQUFXLEVBQUt5RyxDQUN0RU8sR0FBU00sT0FBU1gsRUFBT1ksTUFBTUgsRUFBS0MsT0FKcENMLEdBQVNNLE9BQVNYLENBUXBCSyxHQUFTUSxlQUFpQixTQUFVQyxHQUNsQyxHQUFJWCxJQUFVVyxFQUFRLEdBQUssSUFBTyxHQUM5QlosRUFBT04sRUFBV2hPLEtBQUt3TSxNQUFNMEMsRUFBUSxJQUNyQ0MsRUFBVzVJLEVBQU9pSSxFQUFPbkgsYUFDMUJpSCxLQUFLQSxHQUNMQyxNQUFNQSxFQUNULE9BQU9hLEdBQXNCRCxJQUcvQlYsRUFBU1ksU0FBV2hCLEVBQWtCRyxFQUFPbkgsYUFBZW9ILEVBQVNNLE9BQU8sR0FFNUVqUSxFQUFPNkMsT0FBTyxXQUNaLE1BQU82TSxHQUFPbkgsWUFBY21ILEVBQU9uSCxZQUFZTSxPQUFPLFdBQWEsSUFDbEUsU0FBVTJILEVBQU1DLEdBQ2pCLEdBQUlELEdBQVFDLEVBQU0sQ0FDaEIsR0FBSUMsR0FBUWpKLEVBQU8rSSxFQUFNLFdBQ3JCSixFQUFRYixFQUFrQm1CLEVBQzFCZixHQUFTWSxVQUFZSCxJQUN2QlQsRUFBU1ksU0FBV0gsRUFBUVQsRUFBU00sT0FBTyxNQUtsRCxJQUFJSyxHQUF3QixTQUFVN0gsR0FDcEMsR0FBSWdILEtBQ0osSUFBYSxPQUFUaEgsRUFBZSxDQUNqQmdILEVBQU05SyxLQUFPOEQsRUFBS0ksT0FBTyxZQUN6QixJQUFJOEgsR0FBZWxKLEVBQU9nQixHQUFNUCxPQUFPd0gsRUFBTzVFLE9BQU85QixNQUFNbUYsUUFBUSxTQUM5RHJCLEtBQUtyRSxFQUFLcUUsUUFDVnJCLE9BQU9oRCxFQUFLZ0QsVUFFYm1GLEVBQVVELEVBQWE5SCxPQUFPLElBQ2xDNEcsR0FBTUcsT0FDTixLQUFLLEdBQUluTCxHQUFJa00sRUFBYWxJLE9BQVFoRSxHQUFLa00sRUFBYUUsY0FBZXBNLElBQUssQ0FDdEUsR0FBSUEsSUFBTWtNLEVBQWFsSSxPQUFRLENBQzdCLEdBQUlxSSxHQUFRbkIsRUFBU0csS0FBS2xmLFFBQVFnZ0IsRUFBUWYsV0FDMUMsSUFBSWlCLEVBQVEsRUFDVixJQUFLLEdBQUk3RSxHQUFJLEVBQUdBLEVBQUk2RSxFQUFPN0UsSUFDekJ3RCxFQUFNRyxLQUFLemUsS0FBSyxHQUl0QnNlLEVBQU1HLEtBQUt6ZSxLQUFLc1csRUFBT2tKLEdBQWN6SSxPQUFPd0gsRUFBTzVFLE9BQU85QixNQUFNUCxLQUFLaEUsSUFJdkUsSUFBSyxHQUREc00sR0FBYyxFQUFHQyxLQUFjQyxFQUFTL1AsS0FBS2dRLEtBQUt6QixFQUFNRyxLQUFLcE0sT0FBU3VOLEdBQ2pFbk0sRUFBSSxFQUFHQSxFQUFJcU0sRUFBUXJNLElBQzFCb00sRUFBUTdmLEtBQUtzZSxFQUFNRyxLQUFLTSxNQUFNdEwsRUFBSW1NLEdBQWNuTSxFQUFJLEdBQUttTSxHQUczRCxPQURBdEIsR0FBTUcsS0FBT29CLEVBQ052QixHQUtYRSxHQUFTd0IsTUFBUSxTQUFVMU0sR0FDekIsTUFBT2dELEdBQU93RixTQUFTeEksR0FBSSxLQUN4QnlELE9BQU93SCxFQUFPNUUsT0FBTzlCLE1BQ3JCSCxPQUFPLE1BQ1B1SSxVQUFVLEVBQUcsSUFHbEJ6QixFQUFTMEIsVUFBWSxTQUFVNUksR0FDN0IsTUFBT2lILEdBQU9sRCxlQUFlL0UsRUFBT2dCLElBQU8sR0FBTyxJQUM3Q2lILEVBQU94QyxnQkFBZ0J6RixFQUFPZ0IsSUFBTyxHQUFPLElBR25Ea0gsRUFBU3ZELFdBQWEsU0FBVTNELEdBQzlCLEdBQUlBLEVBQU0sQ0FDUixHQUFJa0gsRUFBUzJCLGNBQWM3SSxHQUN6QixNQUFPaUgsR0FBT2pCLElBRWhCaUIsR0FBT3RELFdBQVczRSxFQUFPZ0IsR0FBTXFFLEtBQUs2QyxFQUFTbEgsS0FBS3FFLFFBQVFyQixPQUFPa0UsRUFBU2xILEtBQUtnRCxhQUluRmtFLEVBQVMyQixjQUFnQixTQUFVdk0sR0FDakMsTUFBT0EsSUFBSzRLLEVBQVNsSCxLQUFLQSxTQUFXMUQsRUFBRTBELFFBQVVrSCxFQUFTbEgsS0FBS2dILFVBQVkxSyxFQUFFMEssU0FBV0UsRUFBU2xILEtBQUsrRyxTQUFXekssRUFBRXlLLFVBS3pIek0sU0FBVSxrS0FDa0ZzTSxFQUFjLDBHQU0vRzVNLFVBQVUsa0NBQW1DLFdBQzVDLFNBQVU4TyxHQUNSLEdBQUlDLEdBQXVCLFNBQVV4SixFQUFTL0IsR0FDNUMsR0FBSXdMLEdBQVF2ZixRQUFROFYsUUFBUUEsRUFBUSxHQUFHMEosY0FBYyxVQUNqRC9CLEVBQVcxSixFQUFNMEwsSUFBS2xDLEVBQVF4SixFQUFNd0osS0FDeENnQyxHQUFNOUssS0FBSyxJQUNYOEksRUFBTUcsS0FBS3hKLFFBQVEsU0FBVXdMLEVBQVVuTixHQUNyQyxHQUFJb04sR0FBSzNmLFFBQVE4VixRQUFRLFlBQ3pCNEosR0FBU3hMLFFBQVEsU0FBVTBMLEVBQVNsTixHQUNsQyxHQUFJbU4sR0FBSzdmLFFBQVE4VixRQUFRLGFBQ3pCLElBQUk4SixFQUFTLENBQ1gsR0FBSUUsRUFDSixJQUFJckMsRUFBUzBCLFVBQVVTLEdBQVUsQ0FFL0IsR0FBSUcsR0FBVyxpQkFBbUJ4TixFQUFJLEtBQU9HLEVBQUksR0FDakRvTixHQUFVOWYsUUFBUThWLFFBQVEsb0NBQ3ZCeEIsS0FBSyxXQUFZLGdDQUFrQ3lMLEVBQVcsTUFDOUR6TCxLQUFLLFdBQVksa0JBQW9CeUwsRUFBVyxTQUduREQsR0FBVTlmLFFBQVE4VixRQUFRLGdCQUU1QmdLLEdBQ0dFLFNBQVMsa0JBQ1R2TCxLQUFLbUwsRUFBUWpKLE9BQU8sTUFDdkJrSixFQUFHSSxPQUFPSCxHQUVaSCxFQUFHTSxPQUFPSixLQUVaTixFQUFNVSxPQUFPTixLQUVmTixFQUFTRSxHQUFPeEwsR0FHbEIsUUFDRUEsT0FDRW1NLElBQUssS0FFUDlKLFFBQVMsNkJBQ1QzRixTQUFVLEtBQ1ZJLFNBQVUsZ09BVVZILEtBQU0sU0FBVXFELEVBQU8rQixFQUFTbUIsRUFBT3dHLEdBQ3JDMUosRUFBTTBMLElBQU1oQyxFQUNaMUosRUFBTXdKLE1BQVFFLEVBQVNRLGVBQWVsRCxTQUFTaEgsRUFBTW1NLE1BQ3JEWixFQUFxQnhKLEVBQVMvQixHQUM5QkEsRUFBTXBELE9BQU8sV0FDWCxNQUFPb0QsR0FBTW1NLEtBQ1osU0FBVUEsRUFBS0MsR0FDWkQsR0FBT0MsSUFDVHBNLEVBQU13SixNQUFRRSxFQUFTUSxlQUFlbEQsU0FBU2hILEVBQU1tTSxNQUNyRFosRUFBcUJ4SixFQUFTL0IsV0FTNUMvVCxRQUFRdEksT0FBTzhkLEdBQ1pqRixVQUFVLGdCQUFpQixXQUMxQixPQUNFRyxLQUFNLFNBQVVxRCxFQUFPOEIsR0FDckJBLEVBQUcwQixHQUFHLFFBQVMsU0FBVTlKLEdBQ3ZCQSxFQUFFK0osdUJBS1p4WCxRQUFRdEksT0FBTzhkLEdBQ1pqRixVQUFVLDBCQUNULFdBRUUsR0FBSU0sR0FBVywyb0JBVWYsUUFDRUosU0FBVSxJQUNWSSxTQUFVQSxFQUNWSCxLQUFNLFNBQVVxRCxFQUFPK0IsRUFBU21CLEdBQzlCLEdBQUltSixHQUE0QixZQUFmbkosRUFBTW9KLEtBQ25CN0MsRUFBU3pKLEVBQU15SixPQUVmOEMsRUFBZ0J0SSxTQUFTd0gsY0FBYyxpQkFDdkNoTixFQUFPLFdBQ1QsR0FBSStOLEdBQVF2Z0IsUUFBUThWLFFBQVFBLEVBQVEsR0FBRzBKLGNBQWMsc0JBQ25EZ0IsRUFBV3hnQixRQUFROFYsUUFBUXdLLEVBQWNkLGNBQWMsZ0JBRXJEaUIsRUFBSUgsRUFBY2QsY0FBYyxnQkFBZ0JrQixZQUNoREMsRUFBSzVGLFNBQVN4TSxFQUFJaVMsRUFBVSxlQUFlaFEsUUFBUSxLQUFNLE1BQVEsRUFDakVvUSxFQUFLN0YsU0FBU3hNLEVBQUlpUyxFQUFVLGdCQUFnQmhRLFFBQVEsS0FBTSxNQUFRLEVBQ2xFcVEsRUFBSzlGLFNBQVN4TSxFQUFJZ1MsRUFBTyxjQUFjL1AsUUFBUSxLQUFNLE1BQVEsRUFDN0RzUSxFQUFLL0YsU0FBU3hNLEVBQUlnUyxFQUFPLGVBQWUvUCxRQUFRLEtBQU0sTUFBUSxFQUU5RHVRLEVBQWNOLEdBQUtJLEVBQUtDLEVBQUtILEVBQUtDLEVBQ3RDTCxHQUFNaFMsSUFBSSxRQUFVd1MsRUFBYyxLQVlsQyxLQUFLLEdBVkRDLEdBQUtqRyxTQUFTeE0sRUFBSWlTLEVBQVUsZUFBZWhRLFFBQVEsS0FBTSxNQUFRLEVBQ2pFeVEsRUFBS2xHLFNBQVN4TSxFQUFJaVMsRUFBVSxjQUFjaFEsUUFBUSxLQUFNLE1BQVEsRUFDaEUwUSxFQUFLbkcsU0FBU3hNLEVBQUlnUyxFQUFPLGNBQWMvUCxRQUFRLEtBQU0sTUFBUSxFQUM3RDJRLEVBQUtwRyxTQUFTeE0sRUFBSWdTLEVBQU8sYUFBYS9QLFFBQVEsS0FBTSxNQUFRLEVBRTVENFEsRUFBS0wsRUFBYSxFQUNsQnJPLEVBQUkwTyxFQUFJLElBRVJDLEtBRUtuUCxFQUFJLEVBQUdBLEVBQUksS0FBTUEsRUFBRyxDQUMzQixHQUFJNkgsR0FBSXJILEVBQUkxRCxLQUFLc1MsSUFBYyxFQUFWdFMsS0FBS3VTLElBQVVyUCxFQUFJLEtBQ3BDc1AsRUFBSTlPLEVBQUkxRCxLQUFLeVMsSUFBYyxFQUFWelMsS0FBS3VTLElBQVVyUCxFQUFJLEtBRXBDMEksR0FDRjhHLEtBQU9OLEVBQUlySCxFQUFJaUgsRUFBSyxHQUFNQSxFQUFLRSxHQUMvQlMsSUFBTVAsRUFBSUksRUFBSUwsRUFBSyxHQUFNRixFQUFLRSxHQUM5QjloQixNQUFRK2dCLEVBQWtCLEVBQUpsTyxFQUFTQSxFQUc3QmtPLEdBQ0Z4RixFQUFLZ0gsUUFBVWhILEVBQUt2YixNQUFRLEdBQU0sSUFBTXViLEVBQUt2YixNQUFTdWIsRUFBS3ZiLE1BR3ZEbWUsRUFBTzVFLE9BQU9sQyxVQUNoQmtFLEVBQUtnSCxRQUFpQixJQUFOMVAsRUFBVyxHQUFLQSxFQUVoQzBJLEVBQUtnSCxRQUFVcEUsRUFBTzlCLE9BQVN4SixFQUFJLEdBQUtBLEVBSzVDbVAsRUFBT3BpQixLQUFLMmIsR0FHZDdHLEVBQU1zTixPQUFTQSxFQUNmUSxJQUNBdEIsRUFBTWhTLElBQUksU0FBVXdTLEVBQWEsS0FHakMsSUFBSWUsR0FBY2hNLEVBQVEsR0FBRzBKLGNBQWMscUJBQ3ZDdUMsRUFBZUQsRUFBWXBCLFlBQWMsR0FBTSxJQUNqRHNCLEVBQWdCRixFQUFZRyxhQUFlLEdBQU0sSUFDL0NDLEVBQU1kLEVBQUksSUFDVmUsRUFBTWYsRUFBSSxHQUVkcGhCLFNBQVE4VixRQUFRQSxFQUFRLEdBQUcwSixjQUFjLG1CQUFtQmpSLEtBQzFEbVQsS0FBTU4sRUFBVSxJQUFMRixFQUFZLEtBQ3ZCclQsT0FBUXFVLEVBQU0sS0FDZEUsVUFBWWhCLEVBQUljLEVBQU1sQixFQUFNLE9BQzNCaEIsU0FBVUksRUFBb0IsR0FBUCxNQUUxQnBnQixRQUFROFYsUUFBUUEsRUFBUSxHQUFHMEosY0FBYyxxQkFBcUJqUixLQUU1RG1ULEtBQU1OLEVBQVUsSUFBTEYsRUFBWSxLQUN2QnJULE9BQVFzVSxFQUFNLEtBQ2RDLFVBQVloQixFQUFJZSxFQUFNbkIsRUFBTSxPQUMzQmhCLFNBQVNJLEVBQWEsS0FBTyxJQUVoQ3BnQixRQUFROFYsUUFBUWdNLEdBQWF2VCxLQUMzQm1ULEtBQU9OLEVBQUlKLEVBQUtFLEVBQUthLEVBQWUsS0FDcENLLFVBQVloQixFQUFLRixFQUFLLEVBQU1jLEVBQWUsT0FFN0NLLEtBR0VBLEVBQWUsV0FDakIsR0FBSTFILEdBQVE2QyxFQUFPcEUsd0JBQ2ZsSCxFQUFJeUksRUFBTUMsT0FDVi9ILEVBQUk4SCxFQUFNcEIsUUFFZCtJLEdBQWN0aUIsUUFBUThWLFFBQVFBLEVBQVEsR0FBRzBKLGNBQWMsbUJBQXFCLEdBQVl0TixFQUN4RixJQUFJcVEsR0FBUSxHQUFhLEVBQUl2VCxLQUFLc0ssTUFBTXpHLEVBQUksR0FDNUN5UCxHQUFjdGlCLFFBQVE4VixRQUFRQSxFQUFRLEdBQUcwSixjQUFjLHFCQUFzQitDLElBRzNFRCxFQUFnQixTQUFVek0sRUFBSTJNLEdBQ2hDeGlCLFFBQVE4VixRQUFRRCxHQUFJdEgsS0FDbEJrVSxnQkFBaUIsVUFBWUQsRUFBTSxPQUNuQ0UsaUJBQWtCLFVBQVlGLEVBQU0sVUFLcENYLEVBQWtCLFdBQ3BCLEdBQUl0TCxHQUFPaUgsRUFBT3BFLHVCQUNsQnJGLEdBQU00TyxhQUFldkMsRUFBYTdKLEVBQUtnRCxTQUFZaEQsRUFBS3FFLE9BQVMsR0FHbkU3RyxHQUFNcEQsT0FBTyxXQUNYLEdBQUlpUyxHQUFNcEYsRUFBT3BFLHVCQUNqQixPQUFPd0osR0FBTUEsRUFBSWpNLE9BQU8sU0FBVyxJQUNsQyxTQUFVa00sR0FDWGhCLElBQ0FRLEtBSUYsSUFBSVMsR0FBbUIsU0FBVXBILEVBQU0yRixHQUNyQyxJQUFLLEdBQUk5TyxHQUFJLEVBQUdBLEVBQUk4TyxFQUFPL1AsT0FBUWlCLElBQ2pDOE8sRUFBTzlPLEdBQUdxUCxRQUFVclAsRUFDaEJtSixJQUNGMkYsRUFBTzlPLEdBQUdxUCxTQUFXLEdBR3pCLE9BQU9QLEdBR0o3RCxHQUFPNUUsT0FBT2xDLFdBQ2pCM0MsRUFBTXBELE9BQU8sa0JBQW1CLFdBQzlCLElBQUt5UCxHQUNDck0sRUFBTXNOLE9BQVEsQ0FDaEIsR0FBSUEsR0FBU3lCLEVBQWlCdEYsRUFBTzlCLE9BQVExYixRQUFRK2lCLEtBQUtoUCxFQUFNc04sUUFDaEV0TixHQUFNc04sT0FBU0EsS0FPdkJ0TixFQUFNaVAsUUFBVSxTQUFVQyxHQUNwQkEsSUFBUWxQLEVBQU00TyxjQUNoQm5GLEVBQU9qQixLQUdKNkQsRUFHSDVDLEVBQU9uSCxZQUFZa0QsT0FBTzBKLEdBRjFCekYsRUFBT25ILFlBQVl1RSxLQUFLNEMsRUFBTzlCLE9BQVV1SCxFQUFNLEdBQU1BLEdBSXZEekYsRUFBT25ILFlBQVl3RSxPQUFPLElBRzVCOUcsRUFBTW1QLGVBQWlCLFNBQVVDLEdBQy9CLE1BQU8vQyxHQUFhNUMsRUFBT2xCLGtCQUFrQjZHLEVBQU05akIsT0FBU21lLEVBQU9wQixnQkFBZ0IrRyxFQUFNOWpCLE9BRzNGLElBQUkrakIsR0FBWXJQLEVBQU1wRCxPQUFPLFdBQzNCLE1BQU9tRixHQUFRLEdBQUd1TixpQkFBaUIsT0FBTy9SLFFBQ3pDLFdBQ0RrQixJQUNBNFEsWUFsM0JkOU4sZ0JSaWpEOEJnTyxLQUFLM3JCLFFBQVNDLEVBQW9CLE9BSTFEMnJCLElBQ0EsU0FBUzdyQixFQUFRQyxRQUFTQyxHU3JqRGhDLEdBQUFtWixHQUFBblosRUFBQSxJQUNBLGlCQUFBbVosU0FBQXJaLEVBQUF5VixHQUFBNEQsRUFBQSxLQUVBblosR0FBQSxLQUFBbVosS0FDQUEsR0FBQUMsU0FBQXRaLEVBQUFDLFFBQUFvWixFQUFBQyxTVDJrRE13UyxJQUNBLFNBQVM5ckIsRUFBUUMsUUFBU0MsR1VubERoQ0QsUUFBQUQsRUFBQUMsUUFBQUMsRUFBQSxPQUtBRCxRQUFBc0gsTUFBQXZILEVBQUF5VixHQUFBLG0zSEFBMDRILE1WNGxEcDRIc1csSUFDQSxTQUFTL3JCLEVBQVFDLFFBQVNDLEdXbG1EaEMsWUFZQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQUp2RixHQUFJMnJCLEdBQXVCOXJCLEVBQVEsS0FFL0IrckIsRUFBd0I3ckIsRUFBdUI0ckIsRUFGbkQxakIsU0FBUXRJLE9BQU8seUJBQ2I2WSxVQUFVLG9CQUFxQixVQUFXLFNBQVVxVCxHQUNsRCxHQUFJQyxHQUFTLGlDQUViLFFBQ0VwVCxTQUFVLElBQ1ZxVCxZQUFZLEVBQ1pqVCxTQUFVLGdCQUNWTCxTQUFTLEVBQ1RFLEtBQU0sU0FBVXFELEVBQU8rQixFQUFTbUIsRUFBTzhNLEVBQU1DLEdBQzNDL00sRUFBTWdOLFVBQWFKLEVBQU9LLEtBQUtqTixFQUFNZ04sVUFBWSxHQUFLLDhCQUV0RGhOLEVBQU1rTixLQUFLLGdCQUFpQmxOLEVBQU1nTixVQUNsQ2hOLEVBQU1rTixLQUFLLFFBQVNsTixFQUFNbU4sTUFHMUIsSUFBSUMsSUFDRkMsU0FBVSxpQkFDVkMsYUFBYyxxQkFDZEMsc0JBQXVCLHdDQUN2QnpRLE1BQU8sNEZBQ1BsRyxPQUFRLFdBQ1I0VyxNQUFPLE9BQ1BqVCxNQUFPLEdBR1Q2UyxHQUFTSixTQUFXaE4sRUFBTWdOLFNBQzFCSSxFQUFTRCxNQUFRbk4sRUFBTW1OLE1BR3ZCcGtCLFFBQVFrVSxTQUFRLEVBQUF5UCxjQUEyQlUsR0FBVyxTQUFTSyxHQUN6RHpOLEVBQU1VLGVBQWUrTSxLQUN2QkwsRUFBU0ssR0FBWXpOLEVBQU15TixNQU0vQnpOLEVBQU0wTixTQUFTLFdBQVksU0FBU3RsQixHQUNsQ3VrQixFQUFRZ0IsU0FDTjlOLEtBQU16WCxFQUFRQSxFQUFRLE9BSzFCLElBQUl3bEIsR0FBSzdNLFNBQVM4TSxjQUFjLFNBQVdELEdBQUdFLEtBQU8sa0JBQW1CRixFQUFHRyxPQUFRLEVBQ25GSCxFQUFHSSxJQUFNLDhDQUNULElBQUlDLEdBQUlsTixTQUFTbU4scUJBQXFCLFVBQVUsRUFBSUQsR0FBRUUsV0FBV0MsYUFBYVIsRUFBSUssR0FFbEZsQixFQUFPLFNBQVNuTyxFQUFJeVAsR0FDbEJULEVBQUdVLE9BQVMsV0FDTjFQLEVBQUd2RSxRQUNMd0UsRUFBUW1LLE9BQU9wSyxHQUVqQjJQLEtBQUtDLE9BQU9DLE9BQU81UCxFQUFRLEdBQUl1TyxXQU16QzVtQixLQUFLLFVBQVUsYUFBYSxTQUFTbW1CLEVBQVMrQixHQUM1Qy9CLEVBQVFnQyxlQUFpQixTQUFVQyxHQUM3QkEsR0FBY0EsRUFBV0MsYUFDM0JILEVBQVdJLFdBQVcsbUNBQW9DRixHQUUxREYsRUFBV0ksV0FBVyxtQ0FBb0NGLFFYK21ENURHLElBQ0EsU0FBU3R1QixFQUFRQyxRQUFTQyxHWXRyRGhDLEdBQUFtWixHQUFBblosRUFBQSxJQUNBLGlCQUFBbVosU0FBQXJaLEVBQUF5VixHQUFBNEQsRUFBQSxLQUVBblosR0FBQSxLQUFBbVosS0FDQUEsR0FBQUMsU0FBQXRaLEVBQUFDLFFBQUFvWixFQUFBQyxTWjRzRE1pVixJQUNBLFNBQVN2dUIsRUFBUUMsUUFBU0MsR2FwdERoQ0QsUUFBQUQsRUFBQUMsUUFBQUMsRUFBQSxPQUtBRCxRQUFBc0gsTUFBQXZILEVBQUF5VixHQUFBLFNiNnRETStZLElBQ0EsU0FBU3h1QixFQUFRQyxRQUFTQyxHY2h1RGhDLEdBQUFtWixHQUFBblosRUFBQSxJQUNBLGlCQUFBbVosU0FBQXJaLEVBQUF5VixHQUFBNEQsRUFBQSxLQUVBblosR0FBQSxLQUFBbVosS0FDQUEsR0FBQUMsU0FBQXRaLEVBQUFDLFFBQUFvWixFQUFBQyxTZHN2RE1tVixJQUNBLFNBQVN6dUIsRUFBUUMsUUFBU0MsR2U5dkRoQ0QsUUFBQUQsRUFBQUMsUUFBQUMsRUFBQSxPQUtBRCxRQUFBc0gsTUFBQXZILEVBQUF5VixHQUFBLHEzTkFBNDROO0VmdXdEdDROaVosSUFDQSxTQUFTMXVCLEVBQVFDLFFBQVNDLEdnQjd3RGhDLFlBV0EsU0FBU0UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FUdkYsUUFBU29FLEdBQTBCa3FCLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0EzUSxFQUNBNFEsRUFDQUMsR0FDakMsVUFFQSxJQUFJQyxHQUFLdlosSUE4UlQsT0E3UkF1WixHQUFHQyxVQUFZWixFQUFhWSxVQUM1QkQsRUFBR0UsVUFBWWIsRUFBYWEsVUFDNUJGLEVBQUdHLFlBQTJDLFNBQTdCZCxFQUFhYyxZQUM5QkgsRUFBR0ksaUJBQ0hKLEVBQUdLLGlCQUVITCxFQUFHTSxxQkFBdUIsU0FBVUMsR0FDbEMsR0FBSUMsR0FBWW5TLGFBQU9vUyxJQUFJRixHQUFTRyxRQUNwQyxPQUFPRixJQUFZLEVBQUFuUyxjQUFPbVMsR0FBVzlRLE9BQU8sMEJBRzlDc1EsRUFBR1csbUJBQXFCLFNBQVVDLEdBQ2hDLElBQUssR0FBSXRWLEdBQUksRUFBR0EsRUFBSXNWLEVBQU92VyxPQUFRaUIsSUFBSyxDQUN0QyxHQUFJdVYsR0FBT0QsRUFBT3RWLEVBQ2R1VixHQUFLQyxhQUNQRCxFQUFLQyxXQUFhZCxFQUFHTSxxQkFBcUJPLEVBQUtDLGFBRTdDRCxFQUFLRSxnQkFDUEYsRUFBS0UsY0FBZ0JmLEVBQUdNLHFCQUFxQk8sRUFBS0Usa0JBTXhEZixFQUFHZ0IsVUFBWSxTQUFVZCxFQUFXZSxFQUFNQyxHQUN4Q3JCLEVBQW1CclksT0FDbkIsSUFBSTJaLEdBQXVCM0IsRUFBZTRCLHNCQUFzQmxCLEVBQVdlLEVBQU1DLEVBQ2pGLE9BQU9DLEdBQXFCaFEsS0FBSyxTQUFVa1EsR0FLekMsTUFKQXJCLEdBQUdXLG1CQUFtQlUsRUFBS0MsUUFDM0J0QixFQUFHdUIsa0JBQW9CRixFQUFLRyxZQUM1QnhCLEVBQUd5QixrQkFBb0JKLEVBQUtLLFlBQzVCMUIsRUFBR0ssY0FBZ0JnQixFQUFLQyxPQUNqQnpCLEVBQW1CL1csY0FJOUJrWCxFQUFHMkIsaUJBQW1CLFNBQUN6QixFQUFXZSxFQUFNQyxHQUFsQixNQUNwQm5CLEdBQVcsaUJBQU1DLEdBQUdnQixVQUFVZCxFQUFXZSxFQUFNQyxJQUFRLE1BR3pEbEIsRUFBRzRCLHVCQUF5QixpQkFBTTVCLEdBQUdnQixVQUFVaEIsRUFBR0UsWUFFbERGLEVBQUc2QixrQkFBb0IsU0FBVUMsR0FDL0IsTUFBSUEsR0FDSzlCLEVBQUdnQixVQUFVaEIsRUFBR0UsVUFBVyxLQUFNRixFQUFHdUIsbUJBR3BDdkIsRUFBR2dCLFVBQVVoQixFQUFHRSxVQUFXRixFQUFHeUIsa0JBQW1CLE9BSTVEekIsRUFBRytCLFdBQWEsV0FDZCxHQUFJQyxHQUFnQnhDLEVBQWV5QyxlQUFlakMsRUFBR0UsVUFHckQsT0FGQThCLEdBQWM3USxLQUFNLFNBQUErUSxHQUFBLE1BQVlsQyxHQUFHbUMsbUJBQW1CRCxJQUFZLFNBQUFBLEdBQUEsTUFBWWxDLEdBQUdvQyxtQkFBbUJGLEtBRTdGbEMsRUFBR2dCLFVBQVVoQixFQUFHRSxZQUd6QkYsRUFBR21DLG1CQUFxQixTQUFVRCxHQVFoQyxNQVBBbEMsR0FBR0ksY0FBZ0I4QixFQUNmQSxFQUFTRyxXQUFhckMsRUFBR3NDLG1CQUMzQnRDLEVBQUdzQyxpQkFBbUJKLEVBQVNHLFVBRVpocUIsU0FBakIybkIsRUFBR0MsWUFDTEQsRUFBR0MsVUFBWUQsRUFBR0ksY0FBY0gsV0FFRCxTQUE3QlosRUFBYWMsYUFDZkgsRUFBR3VDLFFBQVUsYUFDTnZDLEVBQUd3QyxZQUFjLG1CQUVwQnhDLEVBQUdJLGNBQWNxQyxxQkFBc0IsR0FDekN6QyxFQUFHdUMsUUFBSCxjQUEyQnZDLEVBQUdDLFVBQTlCLGFBQ09ELEVBQUd3QyxZQUFjLHFDQUV4QnhDLEVBQUd1QyxRQUFILGNBQTJCdkMsRUFBR0MsVUFBOUIsV0FDT0QsRUFBR3dDLFlBQWMsbUNBSzlCeEMsRUFBR29DLG1CQUFxQixTQUFVRixHQUNoQ3BDLEVBQWM0QyxlQUFlLDBFQUM3QixJQUFJQyxHQUFBLDZCQUE0QzNDLEVBQUdFLFVBQS9DLFlBQW9FZ0MsRUFBU3haLE9BQTdFLElBQXVGd1osRUFBU1UsVUFFcEcsT0FEQXhELEdBQUt5RCxNQUFNRixHQUNKckQsRUFBT3dELEdBQUcsWUFHbkI5QyxFQUFHK0MsZUFBaUIsV0FDbEJsRCxFQUFtQnJZLE9BQ25CLElBQUl3YixHQUFVdEQsRUFBZ0J1RCxjQUFjakQsRUFBR0UsVUFDL0MsT0FBTzhDLEdBQVE3UixLQUFLNk8sRUFBR2tELHNCQUF1QmxELEVBQUdtRCx3QkFHbkRuRCxFQUFHa0Qsc0JBQXdCLFdBR3pCLE1BRkFyRCxHQUFtQi9XLFdBQ25Ca1gsRUFBRzJCLGlCQUFpQjNCLEVBQUdFLFdBQ2hCSixFQUFjc0QsaUJBQWlCLGtFQUd4Q3BELEVBQUdtRCxzQkFBd0IsU0FBVU4sR0FHbkMsTUFGQWhELEdBQW1CL1csV0FDbkJzVyxFQUFLeUQsTUFBTCxnQ0FBMkNBLEVBQU1uYSxPQUFqRCxJQUE0RG1hLEVBQU1ELFlBQzNEaEQsRUFBTW5ZLEtBQUssVUFBVyw2RUFBOEUsVUFHN0d1WSxFQUFHcUQsZ0JBQWtCLFdBQ25CeEQsRUFBbUJyWSxPQUNuQixJQUFJd2IsR0FBVXRELEVBQWdCNEQsY0FBY3RELEVBQUdFLFVBQy9DLE9BQU84QyxHQUFRN1IsS0FBSzZPLEVBQUd1RCx1QkFBd0J2RCxFQUFHd0QseUJBR3BEeEQsRUFBR3VELHVCQUF5QixXQUcxQixNQUZBMUQsR0FBbUIvVyxXQUNuQmtYLEVBQUcyQixpQkFBaUIzQixFQUFHRSxXQUNoQkosRUFBY3NELGlCQUFpQixtRUFHeENwRCxFQUFHd0QsdUJBQXlCLFNBQVVYLEdBR3BDLE1BRkFoRCxHQUFtQi9XLFdBQ25Cc1csRUFBS3lELE1BQUwsaUNBQTRDQSxFQUFNbmEsT0FBbEQsSUFBNkRtYSxFQUFNRCxZQUM1RGhELEVBQU1uWSxLQUFLLFVBQVcsOEVBQStFLFVBRzlHdVksRUFBR3lELGNBQWdCLFdBQ2pCNUQsRUFBbUJyWSxPQUNuQixJQUFJd2IsR0FBVXRELEVBQWdCN1csTUFBTW1YLEVBQUdFLFVBQ3ZDLE9BQU84QyxHQUFRN1IsS0FBSzZPLEVBQUcwRCxxQkFBc0IxRCxFQUFHMkQsdUJBR2xEM0QsRUFBRzBELHFCQUF1QixXQUd4QixNQUZBN0QsR0FBbUIvVyxXQUNuQmtYLEVBQUcyQixpQkFBaUIzQixFQUFHRSxXQUNoQkosRUFBY3NELGlCQUFpQixpRUFHeENwRCxFQUFHMkQscUJBQXVCLFNBQVVkLEdBR2xDLE1BRkFoRCxHQUFtQi9XLFdBQ25Cc1csRUFBS3lELE1BQUwsK0JBQTBDQSxFQUFNbmEsT0FBaEQsSUFBMkRtYSxFQUFNRCxZQUMxRGhELEVBQU1uWSxLQUFLLFVBQVcsNEVBQTZFLFVBRzVHdVksRUFBRzRELFVBQVksV0FDYi9ELEVBQW1CclksT0FDbkIsSUFBSXdiLEdBQVV0RCxFQUFnQm1FLFFBQVE3RCxFQUFHRSxVQUN6QyxPQUFPOEMsR0FBUTdSLEtBQUs2TyxFQUFHOEQsaUJBQWtCOUQsRUFBRytELG1CQUc5Qy9ELEVBQUc4RCxpQkFBbUIsV0FHcEIsTUFGQWpFLEdBQW1CL1csV0FDbkJrWCxFQUFHMkIsaUJBQWlCM0IsRUFBR0UsV0FDaEJKLEVBQWNzRCxpQkFBaUIsNkRBR3hDcEQsRUFBRytELGlCQUFtQixTQUFVbEIsR0FHOUIsTUFGQWhELEdBQW1CL1csV0FDbkJzVyxFQUFLeUQsTUFBTCwyQkFBc0NBLEVBQU1uYSxPQUE1QyxJQUF1RG1hLEVBQU1ELFlBQ3REaEQsRUFBTW5ZLEtBQUssVUFBVyx3RUFBeUUsVUFHeEd1WSxFQUFHZ0UsV0FBYSxXQUNkbkUsRUFBbUJyWSxPQUNuQixJQUFJd2IsR0FBVXRELEVBQWdCdUUsU0FBU2pFLEVBQUdFLFVBQzFDLE9BQU84QyxHQUFRN1IsS0FBSzZPLEVBQUdrRSxrQkFBbUJsRSxFQUFHbUUsb0JBRy9DbkUsRUFBR2tFLGtCQUFvQixXQUdyQixNQUZBckUsR0FBbUIvVyxXQUNuQmtYLEVBQUcyQixpQkFBaUIzQixFQUFHRSxXQUNoQkosRUFBY3NELGlCQUFpQiw4REFHeENwRCxFQUFHbUUsa0JBQW9CLFNBQVV0QixHQUcvQixNQUZBaEQsR0FBbUIvVyxXQUNuQnNXLEVBQUt5RCxNQUFMLDRCQUF1Q0EsRUFBTW5hLE9BQTdDLElBQXdEbWEsRUFBTUQsWUFDdkRoRCxFQUFNblksS0FBSyxVQUFXLHlFQUEwRSxVQUd6R3VZLEVBQUdvRSxlQUFpQixXQUNsQnZFLEVBQW1CclksT0FDbkIsSUFBSXdiLEdBQVV0RCxFQUFnQjJFLGFBQWFyRSxFQUFHRSxVQUM5QyxPQUFPOEMsR0FBUTdSLEtBQUs2TyxFQUFHc0Usc0JBQXVCdEUsRUFBR3VFLHdCQUduRHZFLEVBQUdzRSxzQkFBd0IsV0FHekIsTUFGQXpFLEdBQW1CL1csV0FDbkJrWCxFQUFHMkIsaUJBQWlCM0IsRUFBR0UsV0FDaEJKLEVBQWNzRCxpQkFBaUIsa0VBR3hDcEQsRUFBR3VFLHNCQUF3QixTQUFVMUIsR0FHbkMsTUFGQWhELEdBQW1CL1csV0FDbkJzVyxFQUFLeUQsTUFBTCxnQ0FBMkNBLEVBQU1uYSxPQUFqRCxJQUE0RG1hLEVBQU1ELFlBQzNEaEQsRUFBTW5ZLEtBQUssVUFBVyw2RUFBOEUsVUFHN0d1WSxFQUFHd0UsZUFBaUIsV0FDbEIzRSxFQUFtQnJZLE9BQ25CLElBQUl3YixHQUFVdEQsRUFBZ0IrRSxPQUFPekUsRUFBR0UsVUFBV0YsRUFBR0ksY0FBY3FFLE9BQ3BFLE9BQU96QixHQUFRN1IsS0FBSzZPLEVBQUcwRSxzQkFBc0IxRSxFQUFHSSxjQUFjcUUsUUFBU3pFLEVBQUcyRSx3QkFHNUUzRSxFQUFHMEUsc0JBQXdCLFNBQVVFLEdBR25DLE1BRkEvRSxHQUFtQi9XLFdBQ25Ca1gsRUFBRzJCLGlCQUFpQjNCLEVBQUdFLFdBQ2hCSixFQUFjc0QsaUJBQWQsMkNBQTBFd0IsRUFBMUUsOEJBR1Q1RSxFQUFHMkUsc0JBQXdCLFNBQVU5QixHQUduQyxNQUZBaEQsR0FBbUIvVyxXQUNuQnNXLEVBQUt5RCxNQUFMLGdDQUEyQ0EsRUFBTW5hLE9BQWpELElBQTREbWEsRUFBTUQsWUFDM0RoRCxFQUFNblksS0FBSyxVQUFXLDZFQUE4RSxVQUc3R3VZLEVBQUc2RSxnQkFBa0IsV0FDbkJoRixFQUFtQnJZLE9BQ25CLElBQUl3YixHQUFVdEQsRUFBZ0JvRixPQUFPOUUsRUFBR0UsVUFBV0YsRUFBR0ksY0FBYzBFLE9BQ3BFLE9BQU85QixHQUFRN1IsS0FBSzZPLEVBQUcrRSx1QkFBdUIvRSxFQUFHSSxjQUFjMEUsUUFBUzlFLEVBQUdnRix5QkFHN0VoRixFQUFHK0UsdUJBQXlCLFNBQVVFLEdBR3BDLE1BRkFwRixHQUFtQi9XLFdBQ25Ca1gsRUFBRzJCLGlCQUFpQjNCLEVBQUdFLFdBQ2hCSixFQUFjc0QsaUJBQWQsa0NBQWlFNkIsRUFBakUsK0JBR1RqRixFQUFHZ0YsdUJBQXlCLFNBQVVuQyxHQUdwQyxNQUZBaEQsR0FBbUIvVyxXQUNuQnNXLEVBQUt5RCxNQUFMLHlCQUFvQ0EsRUFBTW5hLE9BQTFDLElBQXFEbWEsRUFBTUQsWUFDcERoRCxFQUFNblksS0FBSyxVQUFXLHNFQUF1RSxVQUd0R3VZLEVBQUdrRixvQkFBc0IsV0FDdkJyRixFQUFtQnJZLE9BQ25CLElBQUl3YixHQUFVdEQsRUFBZ0J5RixrQkFBa0JuRixFQUFHRSxVQUNuRCxPQUFPOEMsR0FBUTdSLEtBQUs2TyxFQUFHb0YsMkJBQTRCcEYsRUFBR3FGLDZCQUd4RHJGLEVBQUdvRiwyQkFBNkIsV0FFOUIsTUFEQXZGLEdBQW1CL1csV0FDWmdYLEVBQWNzRCxpQkFBaUIsZ0VBR3hDcEQsRUFBR3FGLDJCQUE2QixTQUFVeEMsR0FHeEMsTUFGQWhELEdBQW1CL1csV0FDbkJzVyxFQUFLeUQsTUFBTCw4QkFBeUNBLEVBQU1uYSxPQUEvQyxJQUEwRG1hLEVBQU1ELFlBQ3pEaEQsRUFBTW5ZLEtBQUssVUFBVywyRUFDM0IsVUFHSnVZLEVBQUdzRixVQUFZLFdBQ2J6RixFQUFtQnJZLE9BQ25CLElBQUl3YixHQUFVdEQsRUFBZ0I2RixRQUFRdkYsRUFBR0UsVUFDekMsT0FBTzhDLEdBQVE3UixLQUFLNk8sRUFBR3dGLGlCQUFrQnhGLEVBQUd5RixtQkFHOUN6RixFQUFHd0YsaUJBQW1CLFdBRXBCLE1BREEzRixHQUFtQi9XLFdBQ1pnWCxFQUFjc0QsaUJBQWlCLDREQUd4Q3BELEVBQUd5RixpQkFBbUIsU0FBVTVDLEdBRzlCLE1BRkFoRCxHQUFtQi9XLFdBQ25Cc1csRUFBS3lELE1BQUwsMEJBQXFDQSxFQUFNbmEsT0FBM0MsSUFBc0RtYSxFQUFNRCxZQUNyRGhELEVBQU1uWSxLQUFLLFVBQVcsdUVBQzNCLFVBR0p1WSxFQUFHMEYsVUFBWSxXQUNiN0YsRUFBbUJyWSxPQUNuQixJQUFJd2IsR0FBVXRELEVBQWdCaUcsUUFBUTNGLEVBQUdFLFVBQ3pDLE9BQU84QyxHQUFRN1IsS0FBSzZPLEVBQUc0RixpQkFBa0I1RixFQUFHNkYsbUJBRzlDN0YsRUFBRzRGLGlCQUFtQixXQUVwQixNQURBL0YsR0FBbUIvVyxXQUNaZ1gsRUFBY3NELGlCQUFpQiw2REFHeENwRCxFQUFHNkYsaUJBQW1CLFNBQVVoRCxHQUc5QixNQUZBaEQsR0FBbUIvVyxXQUNuQnNXLEVBQUt5RCxNQUFMLDJCQUFzQ0EsRUFBTW5hLE9BQTVDLElBQXVEbWEsRUFBTUQsWUFDdERoRCxFQUFNblksS0FBSyxVQUFXLHdFQUMzQixVQUdHdVksRWhCaytDUjlxQixFQUEwQitZLFNBQVcsT0FBUSxlQUFnQixTQUFVLGtCQUFtQixpQkFBa0IsbUJBQW9CLGtCQUFtQixtQkFBb0IsUUFBUyxxQkFBc0IsWUFBYSxnQkFBaUIsWWdCL3dEck8vVixPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sSUFFVDFILFFBQVF3RSwwQkFBNEJtRCxNQUxwQyxJQUFBSyxHQUFBL0gsRUFBQSxLQVNJMGQsRUFBV3hkLEVBQXVCNkgsRUE0U3RDaEksU0FIUXdFLDZCaEJ1eERGNHdCLElBQ0EsU0FBU3IxQixFQUFRQyxRQUFTQyxHaUIxa0VoQyxZQXVCQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQXJCdkYsUUFBU3FFLEdBQWtCaXFCLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0F1RyxFQUNBdEcsRUFDQUMsRUFDQUMsRUFDQXFHLEVBQ0FwRyxFQUNBQyxFQUNBM1EsRUFDQTRRLEVBQ0FtRyxFQUNBbEcsR0FDekIsVUFFQSxJQUFNQyxHQUFLdlosSUFDWHVaLEdBQUdDLFVBQVlaLEVBQWFZLFVBQzVCRCxFQUFHRSxVQUFZYixFQUFhYSxVQUM1QkYsRUFBR0csWUFBMkMsU0FBN0JkLEVBQWFjLFlBQzlCSCxFQUFHSSxpQkFDSEosRUFBR2tHLGFBQ0hsRyxFQUFHSyxpQkFDSEwsRUFBR21HLFNBQVcsR0FDZG5HLEVBQUdZLFVBQ0haLEVBQUdvRyxhQUNIcEcsRUFBR3NDLGlCQUFtQmpxQixNQWJhLElBQUFndUIsR0FjTkosRUFBd0JLLHdDQUF3QyxJQWQxREMsR0FBQSxFQUFBQyxjQUFBSCxFQUFBLEVBY2xDckcsR0FBR3lHLFVBZCtCRixFQUFBLEdBY3BCdkcsRUFBRzBHLFFBZGlCSCxFQUFBLEdBZW5DdkcsRUFBRzJHLG9CQUNIM0csRUFBRzRHLFlBQWEsQ0FLaEIsSUFBSUMsR0FBMkIsU0FBQ0MsR0FDOUIsR0FBSUMsR0FBbUJodUIsUUFBUStpQixLQUFLZ0wsRUFDcEMsSUFBSUMsRUFBa0IsT0FDYkEsR0FBaUIsR0FFeEIsS0FBSyxHQUFJcmIsS0FBS3FiLEdBQ1JBLEVBQWlCcmIsR0FBRyxVQUN0QnFiLEVBQWlCcmIsR0FBR0YsS0FBT3ViLEVBQWlCcmIsR0FBRyxVQUFhLEtBRTVEcWIsRUFBaUJyYixHQUFHRixLQUFPdWIsRUFBaUJyYixHQUFHb1MsS0FJckQsTUFBT2lKLEdBNmFULE9BMWFBL0csR0FBR2dILG9CQUFzQixTQUFDdGUsR0FDeEJzWCxFQUFHSSxjQUFjNkcsZUFBaUJ2ZSxFQUNsQ21YLEVBQW1CclksT0FDbkIsSUFBSXdiLEdBQVV4RCxFQUFlMEgsS0FBS2xILEVBQUdJLGNBQ3JDLE9BQU80QyxHQUFRN1IsS0FBSyxXQUNsQixHQUFJNlEsR0FBZ0J4QyxFQUFleUMsZUFBZWpDLEVBQUdFLFVBQ3JEOEIsR0FBYzdRLEtBQU0sU0FBQStRLEdBQ2xCbEMsRUFBR21DLG1CQUFtQkQsR0FDdEJyQyxFQUFtQi9XLFlBQ2pCLFNBQUFvWixHQUFBLE1BQVlsQyxHQUFHb0MsbUJBQW1CRixRQUkxQ2xDLEVBQUdtSCxzQkFBd0IsV0FDekIsR0FBSUMsR0FBa0JwSCxFQUFHSSxjQUFjaUgsY0FDaENELEdBQWdCRSxVQUNoQkYsR0FBZ0JHLFVBRXZCLElBQUlDLEtBQ0osS0FBSyxHQUFJOWIsS0FBSzBiLEdBQ1pJLEVBQW9COWIsR0FBSytiLEtBQUtDLE1BQU1OLEVBQWdCMWIsR0FHdERtVSxHQUFtQnJZLE9BQ25CLElBQUl3YixHQUFVeEQsRUFBZW1JLG9CQUMzQjNILEVBQUdFLFVBQ0hzSCxFQUFvQkksWUFDcEJKLEVBQW9CSyxhQUNwQkwsRUFBb0JNLFVBQ3BCTixFQUFvQk8sU0FFdEIvRSxHQUFRN1IsS0FBSyxTQUFDNlcsR0FDWm5JLEVBQW1CL1csV0FDbkJnWCxFQUFjc0QsaUJBQWlCLDJCQUdqQ0osV0FBYyxTQUFDZ0YsR0FDYm5JLEVBQW1CL1csV0FDbkJnWCxFQUFjNEMsZUFBZSwyQkFLakMxQyxFQUFHaUksWUFBYyxXQUNYakksRUFBR2tJLGNBQWdCbEksRUFBR2tJLGFBQWEsS0FBSSxXQUN6Q3JJLEVBQW1CclksT0FDbkIsSUFBSTJnQixHQUFTLEdBQUlDLFdBQ2pCRCxHQUFPN0osT0FBUyxXQUNkMEIsRUFBR3FJLHFCQUNIckksRUFBR3FJLGtCQUFrQkMsVUFBVyxFQUFBQyxjQUFlSixFQUFPSyxRQUN0RHhJLEVBQUdxSSxrQkFBa0I3YyxLQUFPd1UsRUFBR2tJLGFBQWEsR0FBR08sV0FDL0N6SSxFQUFHMEksb0JBQXFCLENBRXhCLElBQUkxRixHQUFVK0MsRUFBZTRDLFVBQVUzSSxFQUFHQyxVQUFXRCxFQUFHcUksa0JBQWtCQyxTQUFVdEksRUFBR3FJLGtCQUFrQjdjLEtBQ3pHd1gsR0FBUTdSLEtBQUssU0FBQzZXLEdBQ1puSSxFQUFtQi9XLFdBQ25CaVgsRUFBU0MsRUFBRzRJLGtCQUFtQixLQUMvQjVJLEVBQUc2SSxRQUFRQyxZQUNYaEosRUFBY3NELGlCQUFpQiw2QkFFakNKLFdBQWMsU0FBQ2dGLEdBQ2JuSSxFQUFtQi9XLFdBQ25CZ1gsRUFBYzRDLGVBQWUsc0VBR2pDeUYsRUFBT1ksV0FBVy9JLEVBQUdrSSxhQUFhLEdBQUdjLFlBSXpDaEosRUFBRzRJLGdCQUFrQixXQUNuQjVJLEVBQUdpSixnQkFDQW5MLEtBQU0sT0FBUXRTLEtBQU0sT0FBUTBkLFNBQVUsT0FBUUMsT0FBSyxFQUFNQyxVQUFXLE9BQ3BFdEwsS0FBTSxPQUFRdFMsS0FBTSxPQUFRMmQsT0FBSyxFQUFNRCxTQUFVLE9BQVFFLFVBQVcsT0FDcEV0TCxLQUFNLFdBQVl0UyxLQUFNLFdBQVkwZCxTQUFVLFdBQVlDLE9BQUssRUFBTUMsVUFBVyxPQUduRnZKLEVBQW1CclksT0FDbkIsSUFBSXdiLEdBQVUrQyxFQUFlc0QsVUFBVXJKLEVBQUdDLFVBQzFDK0MsR0FBUTdSLEtBQUssU0FBQzZXLEdBQ1puSSxFQUFtQi9XLFVBREMsSUFBQXdnQixJQUFBLEVBQUFDLEdBQUEsRUFBQUMsRUFBQW54QixNQUFBLEtBRXBCLE9BQUFveEIsR0FBQUMsR0FBQSxFQUFBQyxjQUFrQjNCLEtBQWxCc0IsR0FBQUcsRUFBQUMsRUFBQXhJLFFBQUEwSSxNQUFBTixHQUFBLEVBQXVCLElBQWRseEIsR0FBY3F4QixFQUFBcnhCLE1BQ2pCeXhCLEdBQ0ZYLFNBQVVud0IsUUFBUStpQixLQUFLMWpCLEVBQU1vVCxNQUM3QkEsS0FBTSxTQUFXcFQsRUFBTW9ULEtBQ3ZCc1MsS0FBTSxPQUNOc0wsVUFBV2h4QixFQUFNa3ZCLElBRW5CdEgsR0FBR2lKLGNBQWNqeEIsS0FBSzZ4QixJQVRKLE1BQUFDLEdBQUFQLEdBQUEsRUFBQUMsRUFBQU0sRWpCMG1FakIsUWlCMW1FaUIsS0FBQVIsR0FBQUksMkJqQittRWYsUWlCL21FZSxHQUFBSCxFQUFBLEtBQUFDLE9BYXRCeEcsV0FBYyxXQUNabkQsRUFBbUIvVyxXQUNuQmdYLEVBQWNpSyxnQkFBZ0Isa0RBU2xDL0osRUFBR2dLLGlCQUFtQixTQUFVcEosR0FDOUIsSUFBSyxHQUFJdFYsR0FBSSxFQUFHQSxFQUFJc1YsRUFBT3ZXLE9BQVFpQixJQUFLLENBQ3RDLEdBQUl1VixHQUFPRCxFQUFPdFYsRUFDZHVWLEdBQUtvSixVQUNQcEosRUFBS29KLFFBQVVoRSxFQUF3QjNGLHFCQUFxQk8sRUFBS29KLFVBRS9EcEosRUFBS3FKLFVBQ1BySixFQUFLcUosUUFBVWpFLEVBQXdCM0YscUJBQXFCTyxFQUFLcUosWUFLdkVsSyxFQUFHVyxtQkFBcUIsU0FBVUMsR0FDaEMsSUFBSyxHQUFJdFYsR0FBSSxFQUFHQSxFQUFJc1YsRUFBT3ZXLE9BQVFpQixJQUFLLENBQ3RDLEdBQUl1VixHQUFPRCxFQUFPdFYsRUFDZHVWLEdBQUtDLGFBQ1BELEVBQUtDLFdBQWFtRixFQUF3QjNGLHFCQUFxQk8sRUFBS0MsYUFFbEVELEVBQUtFLGdCQUNQRixFQUFLRSxjQUFnQmtGLEVBQXdCM0YscUJBQXFCTyxFQUFLRSxrQkFLN0VmLEVBQUdtSyxhQUFlLFNBQVU3SSxHQUMxQixJQUFLLEdBQUloVyxHQUFJLEVBQUdBLEVBQUlnVyxFQUFPalgsT0FBUWlCLElBQUssQ0FDdEMsR0FBSXVWLEdBQU9TLEVBQU9oVyxFQUNkdVYsR0FBS3VKLGVBQ1B2SixFQUFLdUosYUFBZW5FLEVBQXdCM0YscUJBQXFCTyxFQUFLdUosaUJBTTVFcEssRUFBR3FLLGNBQWdCLGlCQUFNdkssR0FBY3NELGlCQUFpQix3Q0FFeERwRCxFQUFHc0ssMEJBQTRCLGlCQUFNeEssR0FBY3NELGlCQUFpQiw0Q0FHcEVwRCxFQUFHdUssVUFBWSxTQUFVQyxFQUFRQyxFQUFZQyxFQUFVekosRUFBTUMsR0FDM0RyQixFQUFtQnJZLE9BQ25CLElBQUltakIsR0FBZ0JuTCxFQUFlb0wsZUFBZUosRUFBUUMsRUFBWUMsRUFBVXpKLEVBQU1DLEVBQ3RGLE9BQU95SixHQUFjeFosS0FBSyxTQUFVa1EsR0FLbEMsTUFKQXJCLEdBQUdnSyxpQkFBaUIzSSxFQUFLVCxRQUN6QlosRUFBR1ksT0FBU1MsRUFBS1QsT0FDakJaLEVBQUcwQixZQUFjTCxFQUFLSixLQUN0QmpCLEVBQUd3QixZQUFjSCxFQUFLSCxLQUNmckIsRUFBbUIvVyxjQUs5QmtYLEVBQUdnQixVQUFZLFNBQVVkLEVBQVdlLEVBQU1DLEdBQ3hDckIsRUFBbUJyWSxPQUNuQixJQUFJMlosR0FBdUIzQixFQUFlNEIsc0JBQXNCbEIsRUFBV2UsRUFBTUMsRUFDakYsT0FBT0MsR0FBcUJoUSxLQUFLLFNBQVVrUSxHQUt6QyxNQUpBckIsR0FBR1csbUJBQW1CVSxFQUFLQyxRQUMzQnRCLEVBQUd1QixrQkFBb0JGLEVBQUtHLFlBQzVCeEIsRUFBR3lCLGtCQUFvQkosRUFBS0ssWUFDNUIxQixFQUFHSyxjQUFnQmdCLEVBQUtDLE9BQ2pCekIsRUFBbUIvVyxjQUs5QmtYLEVBQUc2SyxvQkFBc0IsU0FBVTNLLEdBQ2pDTCxFQUFtQnJZLE9BQ25CLElBQUlzakIsR0FBMEI5RSxFQUFrQjZFLG9CQUFvQjNLLEVBQ3BFLE9BQU80SyxHQUF3QjNaLEtBQUssU0FBVWtRLEdBRzVDLE1BRkFyQixHQUFHMkcsaUJBQW1CdEYsRUFDdEJyQixFQUFHbUssYUFBYTlJLEdBQ1R4QixFQUFtQi9XLGNBSTlCa1gsRUFBRytLLGFBQWUsU0FBVWpKLEdBQzFCLE1BQUlBLEdBQ0s5QixFQUFHdUssVUFBVXZLLEVBQUdFLFVBQVdGLEVBQUd5SyxXQUFZekssRUFBRzBLLFNBQVUsS0FBTTFLLEVBQUd3QixhQUdoRXhCLEVBQUd1SyxVQUFVdkssRUFBR0UsVUFBV0YsRUFBR3lLLFdBQVl6SyxFQUFHMEssU0FBVTFLLEVBQUcwQixZQUFhLE9BSWxGMUIsRUFBRzZCLGtCQUFvQixTQUFVQyxHQUMvQixNQUFJQSxHQUNLOUIsRUFBR2dCLFVBQVVoQixFQUFHRSxVQUFXLEtBQU1GLEVBQUd1QixtQkFHcEN2QixFQUFHZ0IsVUFBVWhCLEVBQUdFLFVBQVdGLEVBQUd5QixrQkFBbUIsT0FJNUR6QixFQUFHK0IsV0FBYSxXQUNkL0IsRUFBR3lLLFlBQWEsRUFBQXBjLGNBQU8yUixFQUFHeUcsVUFBVyxzQkFBc0J1RSxPQUMzRGhMLEVBQUcwSyxVQUFXLEVBQUFyYyxjQUFPMlIsRUFBRzBHLFFBQVMsc0JBQXNCc0UsTUFFdkQsSUFBSUMsR0FBa0J0TCxFQUFpQnVMLG9CQUN2Q0QsR0FBZ0I5WixLQUFLLFNBQUFrUSxHQUFBLE1BQVFyQixHQUFHb0csVUFBWS9FLElBRTVDckIsRUFBR21MLFlBQWMzTCxFQUFlNEwsaUJBQ2hDcEwsRUFBR3FMLFlBQWM3TCxFQUFlOEwsZ0JBRWhDLElBQUl0SixHQUFnQnhDLEVBQWV5QyxlQUFlakMsRUFBR0UsVUFNckQsT0FMQThCLEdBQWM3USxLQUFNLFNBQUErUSxHQUFBLE1BQVlsQyxHQUFHbUMsbUJBQW1CRCxJQUFZLFNBQUFBLEdBQUEsTUFBWWxDLEdBQUdvQyxtQkFBbUJGLEtBRXBHbEMsRUFBRzRJLGtCQUNINUksRUFBR2dCLFVBQVVoQixFQUFHRSxXQUNoQkYsRUFBR3VLLFVBQVV2SyxFQUFHRSxVQUFXRixFQUFHeUssV0FBWXpLLEVBQUcwSyxVQUN0QzFLLEVBQUc2SyxvQkFBb0I3SyxFQUFHRSxZQUduQ0YsRUFBR21DLG1CQUFxQixTQUFVRCxHQUNoQ2xDLEVBQUdJLGNBQWdCOEIsRUFDbkJsQyxFQUFHSSxjQUFjaUgsUUFBVVIsRUFBeUI3RyxFQUFHSSxjQUFjaUgsU0FFakVuRixFQUFTRyxXQUFhckMsRUFBR3NDLG1CQUMzQnRDLEVBQUdzQyxpQkFBbUJKLEVBQVNHLFVBRVpocUIsU0FBakIybkIsRUFBR0MsWUFDTEQsRUFBR0MsVUFBWUQsRUFBR0ksY0FBY0gsV0FFRCxTQUE3QlosRUFBYWMsYUFDZkgsRUFBR3VDLFFBQVUsYUFDYnZDLEVBQUd3QyxZQUFjLG1CQUVieEMsRUFBR0ksY0FBY3FDLHFCQUFzQixHQUN6Q3pDLEVBQUd1QyxRQUFILGNBQTJCdkMsRUFBR0MsVUFBOUIsYUFDQUQsRUFBR3dDLFlBQWMscUNBRWpCeEMsRUFBR3VDLFFBQUgsY0FBMkJ2QyxFQUFHQyxVQUE5QixXQUNBRCxFQUFHd0MsWUFBYyxpQ0FJckIsSUFBSStJLEdBQW1COUwsRUFBaUIrTCx3QkFBd0J4TCxFQUFHQyxVQUNuRSxPQUFPc0wsR0FBaUJwYSxLQUFLLFNBQVVrUSxHQUVyQyxNQURBckIsR0FBR2tHLFVBQVk3RSxFQUNSckIsRUFBR3lMLHdCQUlkekwsRUFBR29DLG1CQUFxQixTQUFVRixHQUNoQ3BDLEVBQWM0QyxlQUFlLDBFQUM3QixJQUFJQyxHQUFBLDRCQUEyQzNDLEVBQUdFLFVBQTlDLFlBQW1FZ0MsRUFBU3haLE9BQTVFLElBQXNGd1osRUFBU1UsVUFFbkcsT0FEQXhELEdBQUt5RCxNQUFNRixHQUNKckQsRUFBT3dELEdBQUcsWUFHbkI5QyxFQUFHeUwsbUJBQXFCLFdBQ3RCLEdBQW9DLE9BQWhDekwsRUFBR0ksY0FBY3NMLFdBQ25CMUwsRUFBR0ksY0FBY3NMLFdBQWExTCxFQUFHbUwsWUFBWSxHQUM3Q25MLEVBQUdJLGNBQWN1TCxXQUFhM0wsRUFBR3FMLFlBQVksT0FDeEMsQ0FDTCxJQUFLLEdBQUkvZixHQUFJLEVBQUdBLEVBQUkwVSxFQUFHbUwsWUFBWTlnQixPQUFRaUIsSUFBSyxDQUM5QyxHQUFJb2dCLEdBQWExTCxFQUFHbUwsWUFBWTdmLEVBQzVCb2dCLEdBQVd4bEIsS0FBTzhaLEVBQUdJLGNBQWNzTCxhQUNyQzFMLEVBQUdJLGNBQWNzTCxXQUFhQSxHQUdsQyxJQUFLLEdBQUlqZ0IsR0FBSSxFQUFHQSxFQUFJdVUsRUFBR3FMLFlBQVloaEIsT0FBUW9CLElBQUssQ0FDOUMsR0FBSWtnQixHQUFhM0wsRUFBR3FMLFlBQVk1ZixHQUM1Qm1nQixFQUFXRCxFQUFXRSxXQUFhN0wsRUFBR0ksY0FBY3NMLFdBQVd4bEIsRUFDL0QwbEIsSUFBWUQsRUFBV3psQixHQUFHNGxCLGdCQUFrQjlMLEVBQUdJLGNBQWN1TCxhQUMvRDNMLEVBQUdJLGNBQWN1TCxXQUFhQSxJQUlwQyxHQUFxQyxPQUFqQzNMLEVBQUdJLGNBQWMyTCxpQkFDbkIsS0FBSyxHQUFJcmdCLEdBQUksRUFBR0EsRUFBSXNVLEVBQUdrRyxVQUFVN2IsT0FBUXFCLElBQUssQ0FDNUMsR0FBSXNnQixHQUFXaE0sRUFBR2tHLFVBQVV4YSxFQUN4QnNnQixHQUFTMUUsTUFBUXRILEVBQUdJLGNBQWMyTCxjQUNwQy9MLEVBQUdJLGNBQWM0TCxTQUFXQSxLQVVwQ2hNLEVBQUdpTSxhQUFlLFdBQ2hCcE0sRUFBbUJyWSxRQUNlblAsU0FBOUIybkIsRUFBR0ksY0FBYzRMLFVBQTREM3pCLFNBQWxDMm5CLEVBQUdJLGNBQWM0TCxTQUFTMUUsTUFDdkV0SCxFQUFHSSxjQUFjMkwsWUFBYy9MLEVBQUdJLGNBQWM0TCxTQUFTMUUsS0FFcEJqdkIsU0FBbkMybkIsRUFBR0ksY0FBY3NMLFdBQVd4bEIsSUFBdUQsU0FBbkM4WixFQUFHSSxjQUFjc0wsV0FBV3hsQixLQUM5RThaLEVBQUdJLGNBQWM4TCxpQkFBbUJsTSxFQUFHSSxjQUFjc0wsV0FBV3hsQixJQUUzQjdOLFNBQW5DMm5CLEVBQUdJLGNBQWN1TCxXQUFXemxCLElBQXVELFNBQW5DOFosRUFBR0ksY0FBY3VMLFdBQVd6bEIsS0FDOUU4WixFQUFHSSxjQUFjK0wsaUJBQW1Cbk0sRUFBR0ksY0FBY3VMLFdBQVd6bEIsR0FBRzRsQixlQUVyRTlMLEVBQUdJLGNBQWNpQyxTQUFXckMsRUFBR3NDLGdCQUMvQixJQUFJVSxHQUFVeEQsRUFBZTBILEtBQUtsSCxFQUFHSSxjQUNyQyxPQUFPNEMsR0FBUTdSLEtBQUs2TyxFQUFHb00sb0JBQXFCcE0sRUFBR3FNLHNCQUdqRHJNLEVBQUdvTSxvQkFBc0IsV0FFdkIsTUFEQXZNLEdBQW1CL1csV0FDWmdYLEVBQWNzRCxpQkFBaUIsMEJBR3hDcEQsRUFBR3FNLG9CQUFzQixTQUFVeEosR0FFakMsTUFEQWhELEdBQW1CL1csV0FDRSxNQUFqQitaLEVBQU1uYSxRQUNSMFcsRUFBS2tOLEtBQUwsMkVBQzZFekosRUFBTW5hLE9BRG5GLElBQzhGbWEsRUFBTUQsWUFDN0ZoRCxFQUFNblksS0FBSyxVQUFXLG9GQUFxRixXQUVsSDJYLEVBQUt5RCxNQUFMLDBCQUFxQ0EsRUFBTW5hLE9BQTNDLElBQXNEbWEsRUFBTUQsWUFDckQ5QyxFQUFjNEMsZUFBZSw0RUFJeEMxQyxFQUFHdU0sYUFBZSxTQUFVdEgsR0FDMUJwRixFQUFtQnJZLE9BQ25CLElBQUl3YixHQUFVdEQsRUFBZ0I4TSxXQUFXeE0sRUFBR0UsVUFBVytFLEVBQ3ZELE9BQU9qQyxHQUFRN1IsS0FBSzZPLEVBQUd5TSxvQkFBcUJ6TSxFQUFHME0sc0JBR2pEMU0sRUFBR3lNLG9CQUFzQixXQUV2QixNQURBNU0sR0FBbUIvVyxXQUNaZ1gsRUFBY3NELGlCQUFpQix1R0FHeENwRCxFQUFHME0sb0JBQXNCLFNBQVU3SixHQUVqQyxNQURBaEQsR0FBbUIvVyxXQUNaOFcsRUFBTW5ZLEtBQUssVUFBVyxzREFBdUQsVUFHdEZ1WSxFQUFHMk0sb0JBQXNCLFNBQVVDLEVBQU90RixHQUN4QyxHQUFJdUYsR0FBVTNkLEVBQVUyZCxTQUVwQkMsTUFBTyxzQ0FDUEMsWUFBYSwwR0FDYkMsWUFBYUosRUFDYnRYLEdBQUksU0FDSjdNLE9BQVEsV0FHUndrQixFQUFjL2QsRUFBVXpILEtBQUtvbEIsR0FDN0JLLEVBQVUsaUJBQU1sTixHQUFHbU4sZ0JBQWdCN0YsSUFDbkM4RixFQUFVLGlCQUFNcE4sR0FBR3FOLGtCQUN2QixPQUFPSixHQUFZOWIsS0FBSytiLEVBQVNFLElBR25DcE4sRUFBR21OLGdCQUFrQixTQUFVN0YsR0FDN0IsR0FBSTRGLEdBQVUsV0FFWixNQURBcE4sR0FBY3NELGlCQUFpQixxQ0FDeEI5RCxFQUFPd0QsR0FBRyxZQUVmc0ssRUFBVSxTQUFVdkssR0FDdEIsR0FBSXlLLEdBQWtCLDhEQUV0QixPQURBeE4sR0FBYzRDLGVBQWU0SyxHQUN0QmxPLEVBQUt5RCxNQUFMLHdDQUFtRHlFLEVBQW5ELEtBQTJEekUsRUFBTW5hLE9BQWpFLElBQTRFbWEsRUFBTUQsYUFFdkYySyxFQUFnQi9OLFlBQXNCOEgsRUFDMUMsT0FBT2lHLEdBQWNwYyxLQUFLK2IsRUFBU0UsSUFHckNwTixFQUFHcU4sZ0JBQWtCLGlCQUFNdk4sR0FBYzBOLGNBQWMscUNBRXZEeE4sRUFBR3lOLDBCQUE0QixXQUM3QixHQUFJek4sRUFBR0ksY0FBY3NOLG1CQUFvQixDQUN2QyxHQUFJQyxHQUE4QyxPQUFqQzNOLEVBQUdJLGNBQWMyTCxZQUM5QjZCLEVBQXlELE9BQXpDNU4sRUFBR0ksY0FBY3lOLG1CQUNyQyxPQUFJRixJQUNGL04sRUFBTW5ZLEtBQUssVUFBVyxvREFBcUQsU0FDcEV1WSxFQUFHSSxjQUFjc04sb0JBQXFCLEdBQ3BDRSxHQUNUaE8sRUFBTW5ZLEtBQUssVUFBVyx3REFBeUQsU0FDeEV1WSxFQUFHSSxjQUFjc04sb0JBQXFCLEdBRXRDMU4sRUFBR2lNLGVBR1osTUFBT2pNLEdBQUdpTSxnQkFJZGpNLEVBQUc4TixpQkFBbUIsaUJBQU05TixHQUFHaU0sZ0JBRS9Cak0sRUFBRytOLGdDQUFrQyxXQUNuQyxHQUFJQyxHQUFpQixFQU1yQixPQUxJaE8sR0FBR0ksY0FBYzZOLHNCQUNuQkQsRUFBaUJoTyxFQUFHSSxjQUFjNk4sb0JBQW9CbkMsY0FDdERrQyxFQUFpQkEsRUFBZXprQixRQUFRLE9BQVEsS0FDaER5a0IsRUFBaUJBLEVBQWV6a0IsUUFBUSxPQUFRLEtBRTNDeVcsRUFBR0ksY0FBY3lOLG9CQUFzQkcsR0FHaERoTyxFQUFHa08sY0FBZ0IsV0FDakIsR0FBSUMsR0FBYTVPLEVBQWdCNk8sZUFBZUMsTUFBTSxLQUFLLEVBQzNELE9BQXNCLG9CQUFmRixHQUFtRCxlQUFmQSxHQUc3Q25PLEVBQUdzTyxxQkFBdUIsV0FDeEJ6TyxFQUFtQnJZLFFBQ25Cd1ksRUFBR3lHLFVBQVlSLEVBQXdCc0ksNEJBQTRCdk8sRUFBR3lHLFdBQ3RFekcsRUFBRzBHLFFBQVVULEVBQXdCc0ksNEJBQTRCdk8sRUFBRzBHLFNBQ3BFMUcsRUFBR3lLLFlBQWEsRUFBQXBjLGNBQU8yUixFQUFHeUcsVUFBVyxzQkFBc0J1RSxPQUMzRGhMLEVBQUcwSyxVQUFXLEVBQUFyYyxjQUFPMlIsRUFBRzBHLFFBQVMsc0JBQXNCc0UsT0FDdkRoTCxFQUFHMEIsWUFBYyxLQUNqQjFCLEVBQUd3QixZQUFjLElBQ2pCLElBQUltSixHQUFnQm5MLEVBQWVvTCxlQUFlNUssRUFBR0UsVUFBV0YsRUFBR3lLLFdBQVl6SyxFQUFHMEssU0FBVTFLLEVBQUcwQixZQUFhMUIsRUFBR3dCLFlBQy9HLE9BQU9tSixHQUFjeFosS0FBTSxTQUFBa1EsR0FBQSxNQUFRckIsR0FBR3dPLHVCQUF1Qm5OLElBQVEsU0FBQXdCLEdBQUEsTUFBUzdDLEdBQUd5Tyx1QkFBdUI1TCxNQUcxRzdDLEVBQUd3Tyx1QkFBeUIsU0FBVW5OLEdBS3BDLE1BSkFyQixHQUFHZ0ssaUJBQWlCM0ksRUFBS1QsUUFDekJaLEVBQUdZLE9BQVNTLEVBQUtULE9BQ2pCWixFQUFHMEIsWUFBY0wsRUFBS0osS0FDdEJqQixFQUFHd0IsWUFBY0gsRUFBS0gsS0FDZnJCLEVBQW1CL1csWUFHNUJrWCxFQUFHeU8sdUJBQXlCLFNBQVU1TCxHQUdwQyxNQUZBaEQsR0FBbUIvVyxXQUNuQmdYLEVBQWMwTixjQUFjLGtFQUNyQnBPLEVBQUt5RCxNQUFMLHFDQUFnREEsRUFBTW5hLE9BQXRELElBQWlFbWEsRUFBTUQsYUFHekU1QyxFakI4bURSN3FCLEVBQWtCOFksU0FBVyxPQUFRLGVBQWdCLFNBQVUsa0JBQW1CLGlCQUFrQixpQkFBa0IsbUJBQW9CLGtCQUFtQixtQkFBb0Isb0JBQXFCLFFBQVMscUJBQXNCLFlBQWEsZ0JBQWlCLDBCQUEyQixZaUI1a0UvUi9WLE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxJQUVUMUgsUUFBUXlFLGtCQUFvQmtELE1BRTVCLElBQUlxMkIsR0FBZ0IvOUIsRUFBUSxLQUV4Qmc1QixFQUFnQjk0QixFQUF1QjY5QixHQUV2Q0MsRUFBYWgrQixFQUFRLEtBRXJCNDNCLEVBQWMxM0IsRUFBdUI4OUIsR0FFckNDLEVBQWtCaitCLEVBQVEsS0FFMUI2MUIsRUFBa0IzMUIsRUFBdUIrOUIsR0FqQjdDbDJCLEVBQUEvSCxFQUFBLEtBcUJJMGQsRUFBV3hkLEVBQXVCNkgsRUE2ZnRDaEksU0EvQ1F5RSxxQmpCZ29FRjA1QixJQUNBLFNBQVNwK0IsRUFBUUMsUUFBU0MsR2tCcG1GaEMsWUFXQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQVh2RixRQUFTc0UsR0FBbUJpcUIsRUFBY0QsRUFBTUksRUFBZ0JGLEVBQVFDLEVBQWlCTSxFQUFvQkQsR0FDM0csVUFDQSxJQUFJSSxHQUFLdlosSUEwTlQsT0F6TkF1WixHQUFHOE8sZUFBaUJ6MkIsT0FJcEIybkIsRUFBRytPLFdBQ0gvTyxFQUFHZ1AsWUFBYyxLQUNqQmhQLEVBQUdpUCxZQUFjLEtBQ2pCalAsRUFBR2tQLGVBQWlCLGdCQUNwQmxQLEVBQUdtUCxpQkFDSG5QLEVBQUdvUCxVQUFXLEVBQ2RwUCxFQUFHcVAsY0FDSHJQLEVBQUdzUCxnQkFLSHRQLEVBQUd1UCx3QkFBMEIsTUFDN0J2UCxFQUFHd1AsMEJBQ0h4UCxFQUFHeVAsbUJBQW9CLEVBQ3ZCelAsRUFBRzBQLHFCQUF1QixLQUMxQjFQLEVBQUcyUCxxQkFBdUIsS0FDMUIzUCxFQUFHNFAsb0JBQ0g1UCxFQUFHNlAsdUJBQ0g3UCxFQUFHOFAseUJBQ0g5UCxFQUFHK1AsNkJBQ0gvUCxFQUFHZ1EsMkJBSUhoUSxFQUFHaVEsc0JBQXdCLFdBR3pCLE1BRkFqUSxHQUFHZ1AsWUFBYyxLQUNqQmhQLEVBQUdpUCxZQUFjLEtBQ1ZqUCxFQUFHa1Esa0JBQWtCbFEsRUFBRzhPLGVBQWdCOU8sRUFBR2dQLFlBQWFoUCxFQUFHaVAsY0FHcEVqUCxFQUFHbVEsd0JBQTBCLFdBRzNCLE1BRkFuUSxHQUFHMFAscUJBQXVCLEtBQzFCMVAsRUFBRzJQLHFCQUF1QixLQUNuQjNQLEVBQUdvUSxvQkFBb0JwUSxFQUFHOE8sZUFBZ0I5TyxFQUFHMFAscUJBQXNCMVAsRUFBRzJQLHVCQUcvRTNQLEVBQUdxUSxZQUFjLFNBQVVDLEdBQ3JCQSxHQUNGdFEsRUFBR3VRLG9CQUFzQixHQUN6QnZRLEVBQUd5UCxtQkFBb0IsRUFDdkJ6UCxFQUFHd1AsMEJBQ0h4UCxFQUFHNlAsdUJBQ0g3UCxFQUFHK1AsK0JBRUgvUCxFQUFHd1EsV0FBYSxHQUNoQnhRLEVBQUdvUCxVQUFXLEVBQ2RwUCxFQUFHbVAsaUJBQ0huUCxFQUFHcVAsY0FDSHJQLEVBQUdnUSw2QkFJUGhRLEVBQUd5USxTQUFXLFNBQUNDLEdBQUQsTUFBVWxSLEdBQWVpUixTQUFTQyxHQUFNLElBRXREMVEsRUFBRzJRLG1CQUFxQixTQUFVTCxFQUFXRSxHQUMzQyxHQUFJSSxHQUFBLE9BQUtDLEVBQUEsT0FBUUMsRUFBQSxNQUNqQixPQUFJUixJQUNGTSxFQUFxQyxRQUEvQjVRLEVBQUd1UCx3QkFDVHNCLEVBQXdDLGtCQUEvQjdRLEVBQUd1UCx3QkFDWnVCLEVBQXVDLFdBQS9COVEsRUFBR3VQLHdCQUNQcUIsRUFDSzVRLEVBQUd5USxTQUFTelEsRUFBRzZQLG9CQUFvQlcsSUFDakNLLEVBQ0Y3USxFQUFHeVEsU0FBU3pRLEVBQUd3UCx1QkFBdUJnQixJQUV0Q3hRLEVBQUd5USxTQUFTelEsRUFBRzhQLHNCQUFzQlUsTUFJOUNJLEVBQTRCLFFBQXRCNVEsRUFBR2tQLGVBQ1QyQixFQUErQixrQkFBdEI3USxFQUFHa1AsZUFDWjRCLEVBQThCLFdBQXRCOVEsRUFBR2tQLGVBQ1AwQixFQUNLNVEsRUFBR3lRLFNBQVN6USxFQUFHcVAsV0FBV21CLElBQ3hCSyxFQUNGN1EsRUFBR3lRLFNBQVN6USxFQUFHbVAsY0FBY3FCLElBRTdCeFEsRUFBR3lRLFNBQVN6USxFQUFHc1AsYUFBYWtCLE1BTXpDeFEsRUFBRytRLGtCQUFvQixTQUFVVCxFQUFXVSxHQUNyQ1YsR0FJSHRRLEVBQUd5UCxtQkFBcUJ1QixFQUN4QmhSLEVBQUdpUixnQ0FBaUMsSUFKcENqUixFQUFHb1AsVUFBWTRCLEVBQ2ZoUixFQUFHa1IsdUJBQXdCLElBUS9CbFIsRUFBR21SLGdCQUFrQixTQUFVYixFQUFXYyxHQUN4QyxHQUFJQyxHQUFtQmYsRUFBWXRRLEVBQUcrUCwwQkFBNEIvUCxFQUFHZ1Esd0JBQ2pFc0IsR0FBYSxFQUZpQ2hJLEdBQUEsRUFBQUMsR0FBQSxFQUFBQyxFQUFBbnhCLE1BQUEsS0FHbEQsT0FBQW94QixHQUFBQyxHQUFBLEVBQUFDLGNBQWlCMEgsS0FBakIvSCxHQUFBRyxFQUFBQyxFQUFBeEksUUFBQTBJLE1BQUFOLEdBQUEsRUFBbUMsSUFBMUJvSCxHQUEwQmpILEVBQUFyeEIsS0FDN0JnNUIsS0FBYVYsSUFDZlksR0FBYSxJQUxpQyxNQUFBeEgsR0FBQVAsR0FBQSxFQUFBQyxFQUFBTSxFbEJ3b0YvQyxRa0J4b0YrQyxLQUFBUixHQUFBSSwyQmxCNm9GN0MsUWtCN29GNkMsR0FBQUgsRUFBQSxLQUFBQyxJQVNsRCxNQURBeEosR0FBRytRLGtCQUFrQlQsRUFBV2dCLEdBQ3pCQSxHQUlUdFIsRUFBR3VSLGNBQWdCLFNBQVVqQixFQUFXa0IsR0FDdEMsR0FBSUMsR0FBQSxNQUVGQSxHQURFbkIsRUFDT3RRLEVBQUd1UCx3QkFFSHZQLEVBQUdrUCxjQUdkLElBQUl3QyxJQUFXLEVBQ1h6UixFQUFZLElBRWhCLE9BQU9ULEdBQWUrUixjQUFjQyxFQUFTQyxFQUFRQyxFQUFVelIsRUFBV0QsRUFBRzhPLGVBQWdCd0IsR0FDMUZuZixLQUFLLFNBQVUrUSxHQUNkLEdBQUl5UCxHQUFBLE1BQ0osSUFBSXpQLEVBQVNnTCxRQUFTLENBQ3BCLEdBQUk2QixHQUFVN00sRUFBUzZNLE9BNEJ2QixPQTNCZSxrQkFBWDBDLEdBQ0VuQixFQUNGdFEsRUFBR3dQLHVCQUF5QlQsRUFBUSxHQUVwQy9PLEVBQUdtUCxjQUFnQkosRUFBUSxHQUU3QjRDLEVBQWtCNUMsRUFBUSxJQUNOLFFBQVgwQyxHQUNMbkIsRUFDRnRRLEVBQUc2UCxvQkFBc0JkLEVBQVEsR0FFakMvTyxFQUFHcVAsV0FBYU4sRUFBUSxHQUUxQjRDLEVBQWtCNUMsRUFBUSxLQUV0QnVCLEVBQ0Z0USxFQUFHOFAsc0JBQXdCZixFQUFRLEdBRW5DL08sRUFBR3NQLGFBQWVQLEVBQVEsR0FFNUI0QyxFQUFrQjVDLEVBQVEsSUFFeEJ1QixFQUNGdFEsRUFBRytQLDBCQUE0QjRCLEVBRS9CM1IsRUFBR2dRLHdCQUEwQjJCLEVBRXhCQSxFQUVQLFlBS1IzUixFQUFHa1Esa0JBQW9CLFNBQVU1SSxFQUFLckcsRUFBTUMsR0FDMUNyQixFQUFtQnJZLE9BQ25CLElBQUlvcUIsR0FBaUJwUyxFQUFlcVMsd0JBQXdCdkssRUFBS3JHLEVBQU1DLEVBQ3ZFLE9BQU8wUSxHQUFlemdCLEtBQU0sU0FBVStRLEdBSXBDLE1BSEFsQyxHQUFHK08sUUFBVTdNLEVBQVM2TSxRQUN0Qi9PLEVBQUdpUCxZQUFjL00sRUFBU1YsWUFDMUJ4QixFQUFHZ1AsWUFBYzlNLEVBQVNSLFlBQ25CMUIsRUFBRzhSLG1CQUNSLFNBQUE1UCxHQUFBLE1BQVlsQyxHQUFHK1IsZ0JBQWdCN1AsTUFHckNsQyxFQUFHb1Esb0JBQXNCLFNBQVU5SSxFQUFLckcsRUFBTUMsR0FDNUNyQixFQUFtQnJZLE9BQ25CLElBQUl3cUIsR0FBMEJ4UyxFQUFleVMsaUNBQWlDM0ssRUFBS3JHLEVBQU1DLEVBQ3pGLE9BQU84USxHQUF3QjdnQixLQUFNLFNBQVUrUSxHQUk3QyxNQUhBbEMsR0FBRzRQLGlCQUFtQjFOLEVBQVM2TSxRQUMvQi9PLEVBQUcwUCxxQkFBdUJ4TixFQUFTUixZQUNuQzFCLEVBQUcyUCxxQkFBdUJ6TixFQUFTVixZQUM1QnhCLEVBQUc4UixtQkFDUixTQUFBNVAsR0FBQSxNQUFZbEMsR0FBRytSLGdCQUFnQjdQLE1BR3JDbEMsRUFBRytCLFdBQWEsV0FHZCxNQUZBL0IsR0FBRzhPLGVBQWlCdlAsRUFBZ0IyUywyQkFDcENsUyxFQUFHa1Esa0JBQWtCbFEsRUFBRzhPLGVBQWdCOU8sRUFBR2dQLFlBQWFoUCxFQUFHaVAsYUFDcERqUCxFQUFHb1Esb0JBQW9CcFEsRUFBRzhPLGVBQWdCOU8sRUFBRzBQLHFCQUFzQjFQLEVBQUcyUCx1QkFHL0UzUCxFQUFHOFIsZ0JBQWtCLGlCQUFNalMsR0FBbUIvVyxZQUU5Q2tYLEVBQUcrUixnQkFBa0IsU0FBVTdQLEdBQzdCckMsRUFBbUIvVyxVQUNuQixJQUFJNlosR0FBQSxtQ0FBa0RULEVBQVN4WixPQUEzRCxJQUFxRXdaLEVBQVNVLFdBQTlFLEdBQ0osT0FBT2hELEdBQU1uWSxLQUFLLFVBQVdrYixFQUFjLFVBSTdDM0MsRUFBRytLLGFBQWUsU0FBVWpKLEVBQVNxUSxHQUNuQyxHQUFJclEsRUFDRXFRLEdBQ0ZuUyxFQUFHa1Esa0JBQWtCbFEsRUFBRzhPLGVBQWdCLEtBQU05TyxFQUFHaVAsYUFFOUNrRCxHQUNIblMsRUFBR29RLG9CQUFvQnBRLEVBQUc4TyxlQUFnQixLQUFNOU8sRUFBRzJQLDBCQU1yRCxJQUhJd0MsR0FDRm5TLEVBQUdrUSxrQkFBa0JsUSxFQUFHOE8sZUFBZ0I5TyxFQUFHZ1AsWUFBYSxPQUVyRG1ELEVBQ0gsTUFBT25TLEdBQUdvUSxvQkFBb0JwUSxFQUFHOE8sZUFBZ0I5TyxFQUFHMFAscUJBQXNCLE9BS3pFMVAsRWxCNDRFUjVxQixFQUFtQjZZLFNBQVcsZUFBZ0IsT0FBUSxpQkFBa0IsU0FBVSxrQkFBbUIscUJBQXNCLFNrQnRtRjVIL1YsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLElBRVQxSCxRQUFRMEUsbUJBQXFCaUQsTUFFN0IsSUFBSXEyQixHQUFnQi85QixFQUFRLEtBRXhCZzVCLEVBQWdCOTRCLEVBQXVCNjlCLEVBNlAzQ2grQixTQXhDUTBFLHNCbEJtcEZGZzlCLElBQ0EsU0FBUzNoQyxFQUFRQyxTbUJsM0Z2QixxQkFBUzJFLEdBQVVnOUIsRUFDQTlTLEVBQ0FPLEVBQ0E1USxFQUNBb2pCLEdBQ2pCLFVBRUEsSUFBSXRTLEdBQUt2WixJQW1HVCxPQWpHQXVaLEdBQUd1UyxtQkFBcUIsV0FDdEJ2UyxFQUFHd1Msd0JBQXlCLENBQzVCLElBQUlDLEdBQTRCSixFQUFhRSxvQkFDN0MsT0FBT0UsR0FBMEJ0aEIsS0FBSyxTQUFVa1EsR0FFOUMsTUFEQXJCLEdBQUd3Uyx3QkFBeUIsRUFDckJ4UyxFQUFHMFMsZ0JBQWtCclIsS0FJaENyQixFQUFHMlMscUJBQXVCLFNBQVVDLEVBQUlDLEVBQVdDLEVBQWtCQyxFQUFrQkMsR0FDaEZGLElBQ0hBLEdBQW1CLEVBRXJCLElBQUlHLEdBQWdCSCxFQUFtQixPQUFTLFNBRzNDQyxLQUNIQSxFQUFtQi9TLEVBQUdrVCxvQkFBb0IsR0FHNUMsSUFBSXJHLEdBQVUzZCxFQUFVMmQsU0FFcEJDLE1BQU8sZ0JBQ1BDLFlBQWdCOEYsRUFBaEIscUJBQThDRSxFQUE5QyxhQUNFRSxFQURGLDRCQUVBakcsWUFBYTRGLEVBQ2J0ZCxHQUFJLGFBQ0o3TSxPQUFRLG9CQUlaLE9BQU95RyxHQUFVekgsS0FBS29sQixHQUFTMWIsS0FBSyxXQUNsQyxHQUFJZ2lCLEdBQThCZCxFQUFhTSxxQkFBcUJFLEVBQVdFLEVBQWtCRCxFQVNqRyxPQVJBSyxHQUE0QmhpQixLQUFLLFNBQVVrUSxHQUt6QyxNQUpBdkIsR0FBY3NELGlCQUFpQi9CLEVBQUsrUixTQUNwQ3BULEVBQUdxVCxRQUNITCxFQUFLTSxlQUNMTixFQUFLTyxnQkFDRUMsV0FBWSxpQkFBTXhULEdBQUd5VCx5QkFBMEIsT0FHakROLFdBQWtDLFNBQUE5UixHQUFBLE1BQVF2QixHQUFjNEMsZUFBZXJCLEVBQUtBLEtBQUsrUixjQUk1RnBULEVBQUcwVCxnQkFBa0IsU0FBVWQsRUFBSWUsRUFBaUJDLEVBQVlaLEdBQzlELEdBQUluRyxHQUFVM2QsRUFBVTJkLFNBRXBCQyxNQUFPLGdCQUNQQyxZQUFBLG1CQUFnQzRHLEVBQWhDLG9CQUNBM0csWUFBYTRGLEVBQ2JpQixVQUFXLFlBQ1h2ZSxHQUFJLFFBQ0o3TSxPQUFRLGNBR1osT0FBT3lHLEdBQVV6SCxLQUFLb2xCLEdBQVMxYixLQUFNLFdBQ25DLEdBQUkyaUIsR0FBeUJ6QixFQUFhcUIsZ0JBQWdCQyxFQUFpQkMsRUFTM0UsT0FSQUUsR0FBdUIzaUIsS0FBSyxTQUFVa1EsR0FLcEMsTUFKQXJCLEdBQUcrVCxlQUNIZixFQUFLTSxlQUNMTixFQUFLTyxnQkFDTHpULEVBQWNzRCxpQkFBaUIvQixFQUFLK1IsU0FDN0JJLFdBQVksaUJBQU14VCxHQUFHMFMsZ0JBQWtCMVMsRUFBR3VTLHNCQUF1QixPQUduRXVCLFdBQTZCLFNBQUF6UyxHQUFBLE1BQVF2QixHQUFjNEMsZUFBZXJCLEVBQUtBLEtBQUsrUixjQUl2RnBULEVBQUd5VCxzQkFBd0IsV0FDekJ6VCxFQUFHZ1UsMkJBQTRCLENBQy9CLElBQUlDLEdBQXdCMVUsRUFBZ0IyUywyQkFDeENnQyxFQUE0QjdCLEVBQWFvQixzQkFBc0JRLEVBQ25FLE9BQU9DLEdBQTBCL2lCLEtBQUssU0FBVWtRLEdBRTlDLE1BREFyQixHQUFHZ1UsMkJBQTRCLEVBQ3hCaFUsRUFBR21VLG1CQUFxQjlTLEtBSW5DckIsRUFBR29VLGtCQUFvQixTQUFVTCxHQUUvQixNQURBekIsR0FBb0I4QixrQkFBa0JMLEdBQy9CalUsRUFBY3NELGlCQUFkLGVBQThDMlEsRUFBWXZvQixLQUExRCxlQUdUd1UsRUFBRytCLFdBQWEsV0FPZCxHQU5BL0IsRUFBR3lULHdCQUNIelQsRUFBR3VTLHFCQUNIdlMsRUFBR3FVLFFBQVU5VSxFQUFnQitVLGFBQzdCdFUsRUFBR2tULG9CQUFzQjNULEVBQWdCZ1YseUJBQ3pDdlUsRUFBR3dVLHVCQUF5QmpWLEVBQWdCa1YsNEJBRXhDelUsRUFBR3FVLFFBQ0wsTUFBT3JVLEdBQUd1UyxzQkFJUHZTLEVuQjR3RlIzcUIsRUFBVTRZLFNBQVcsZUFBZ0Isa0JBQW1CLGdCQUFpQixZQUFhLHVCbUJwM0Z2Ri9WLE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxJQThHVDFILFFBSlEyRSxhbkI2M0ZGcS9CLElBQ0EsU0FBU2prQyxFQUFRQyxTb0IzK0Z2QixxQkFBUzRFLEdBQW1CdVIsRUFBUXVZLEVBQU1FLEVBQVFTLEVBQ3RCNFUsRUFDQS9VLEVBQ0FMLEVBQ0FNLEVBQ0ErVSxFQUNBcFYsRUFDQXVHLEdBQzFCLFVBRUEsSUFBSS9GLEdBQUt2WixJQXFEVCxPQW5EQXVaLEdBQUc2VSwwQkFBNEIsU0FBVWpJLEVBQU9oTyxHQUN6Q29CLEVBQUc4VSwrQkFDTmpWLEVBQW1CclksUUFFckIrWCxFQUFnQndWLGdCQUNoQixJQUFJL1IsR0FBVXpELEVBQWdCeVYsTUFBTXBXLEVBQ3BDLE9BQU9vRSxHQUFRN1IsS0FBSzZPLEVBQUdpVixhQUFjalYsRUFBR2tWLGVBSTFDbFYsRUFBR21WLDBCQUE0QixTQUFVdkksRUFBT2hPLEdBQzlDLEdBQUlvQixFQUFHOFUsOEJBRUwsTUFEQWpWLEdBQW1CL1csV0FDWjhXLEVBQU1uWSxLQUFLLFVBQVcscUNBQXNDLFVBSXZFWixFQUFPcUUsSUFBSSxtQ0FBb0M4VSxFQUFHNlUsMkJBQ2xEaHVCLEVBQU9xRSxJQUFJLG1DQUFvQzhVLEVBQUdtViwyQkFFbERuVixFQUFHb1YsaUJBQW1CLFdBR3BCLE1BRkFwVixHQUFHcVYsU0FBV1YsRUFBU1csZ0JBQ3ZCdFYsRUFBR3pWLE1BQVFvcUIsRUFBU1ksTUFDYnZWLEVBQUc4VSwrQkFBZ0MsR0FHNUM5VSxFQUFHd1Ysa0JBQW9CLFdBRXJCLE1BREFqVyxHQUFnQndWLGlCQUNUaFYsRUFBU0MsRUFBR3lWLG1CQUFvQixLQUd6Q3pWLEVBQUdpVixhQUFlLFNBQVUvUyxHQUUxQixNQURBckMsR0FBbUIvVyxXQUNad1csRUFBT3dELEdBQUcsMEJBR25COUMsRUFBR2tWLGFBQWUsV0FFaEIsTUFEQXJWLEdBQW1CL1csV0FDWjhXLEVBQU1uWSxLQUFLLFVBQVcsdUNBQXdDLFVBSXZFdVksRUFBR3lWLG1CQUFxQixpQkFBTW5XLEdBQU93RCxHQUFHLGVBRXhDOUMsRUFBRzBWLGdCQUFrQixpQkFBTXBXLEdBQU93RCxHQUFHLFlBRXJDOUMsRUFBRzJWLHdCQUEwQixXQUUzQixNQURBM1YsR0FBRzhVLCtCQUFnQyxFQUM1QmpWLEVBQW1CclksU0FHckJ3WSxFcEJnN0ZSMXFCLEVBQW1CMlksU0FBVyxTQUFVLE9BQVEsU0FBVSxXQUFZLFdBQVksUUFBUyxrQkFBbUIscUJBQXNCLG1CQUFvQixpQkFBa0Isa0JvQjcrRjNLL1YsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLElBK0RUMUgsUUFBUTRFLHNCcEJrL0ZGc2dDLElBQ0EsU0FBU25sQyxFQUFRQyxRQUFTQyxHcUJyakdoQyxZQVdBLFNBQVNFLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBVHZGLFFBQVN5RSxHQUFjc2dDLEVBQVl2VyxFQUFRM0MsRUFBUzRDLEdBQ2xELFVBRUEsSUFBSVMsR0FBS3ZaLElBdUNULE9BckNBdVosR0FBRzhWLHlDQUEyQyxXQUM1QyxHQUFJdEIsR0FBeUJqVixFQUFnQmtWLDRCQUN6Q3ZCLEVBQXNCM1QsRUFBZ0JnVix3QkFDMUMsUUFBTyxFQUFBMzdCLGNBQVNzNkIsRUFBcUJzQixJQUd2Q3hVLEVBQUcrVixZQUFjLFdBQ2YsT0FDRXpPLElBQUsvSCxFQUFnQnlXLGFBQ3JCQyxNQUFPMVcsRUFBZ0I2TyxlQUN2QjhILE1BQU8zVyxFQUFnQitVLGFBQ3ZCNkIsa0JBQW1CNVcsRUFBZ0JnVix5QkFDbkM2Qiw2QkFBOEJwVyxFQUFHOFYsMkNBQ2pDaEgsZUFBZ0J2UCxFQUFnQjJTLDJCQUNoQ3lCLGdCQUFpQnBVLEVBQWdCa1YsOEJBSXJDelUsRUFBR3FXLGdDQUFrQyxXQUNuQyxHQUFJcFosR0FBT04sRUFBUXFQLFNBQVM3ZixLQUFLbXFCLE9BQU8seUJBQ3BDOU4sRUFBU3ZMLEdBQVEsQ0FDckIsT0FBT3VMLElBR1R4SSxFQUFHK0IsV0FBYSxpQkFBTS9CLEdBQUcrVixlQUV6Qi9WLEVBQUd1VyxjQUFnQixpQkFBTVYsR0FBVyxRQUFRVyxVQUU1Q3hXLEVBQUd5VyxLQUFPLFNBQVVDLEVBQVd4d0IsR0FFN0IsR0FEQW9aLEVBQU93RCxHQUFHNFQsR0FBWXh3QixPQUNsQjJ2QixFQUFXLFFBQVFjLFNBQ3JCLE1BQU9kLEdBQVcsUUFBUWUsU0FJOUI1VyxFQUFHK0IsYUFFSS9CLEVyQjZnR1J6cUIsRUFBYzBZLFNBQVcsYUFBYyxTQUFVLFVBQVcsbUJxQnZqRzdEL1YsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLElBRVQxSCxRQUFRNkUsY0FBZ0I4QyxNQUx4QixJQUFBTSxHQUFBaEksRUFBQSxLQVNJaUksRUFBVy9ILEVBQXVCOEgsRUFxRHRDakksU0FmUTZFLGlCckIya0dGc2hDLElBQ0EsU0FBU3BtQyxFQUFRQyxTc0Izbkd2QixxQkFBUzhFLEdBQXdCOHBCLEVBQ0FnVCxFQUNBL1MsR0FDL0IsVUFDQSxJQUFJUyxHQUFLdlosSUFvQlQsT0FuQkF1WixHQUFHOFcsZ0JBQ0g5VyxFQUFHK1csbUJBQXFCMStCLE9BQ3hCMm5CLEVBQUdnWCxTQUFVLEVBRWJoWCxFQUFHK0IsV0FBYSxXQUNkL0IsRUFBR2lYLFVBQVcsQ0FDZCxJQUFJQyxHQUFzQjVFLEVBQW9CNkUsZUFBZTVYLEVBQWdCeVcsYUFDN0UsT0FBT2tCLEdBQW9CL2xCLEtBQUssU0FBVWtRLEdBRXhDLE1BREFyQixHQUFHOFcsYUFBZXpWLEVBQ2EsSUFBM0JyQixFQUFHOFcsYUFBYXpzQixPQUNYMlYsRUFBR29YLGtCQUFrQnBYLEVBQUc4VyxhQUFhLElBRXJDOVcsRUFBR2dYLFNBQVUsS0FLMUJoWCxFQUFHb1gsa0JBQW9CLFNBQUNyRCxHQUFELE1BQWlCekIsR0FBb0I4QixrQkFBa0JMLElBRXZFL1QsRXRCdW1HUnhxQixFQUF3QnlZLFNBQVcsU0FBVSxzQkFBdUIsbUJzQjduR3JFL1YsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLElBOEJUMUgsUUFOUThFLDJCdEJ3b0dGNmhDLElBQ0EsU0FBUzVtQyxFQUFRQyxTdUJwcUd2QixxQkFBUytFLEdBQWlCNnBCLEdBQ3hCLFVBRUEsSUFBSVUsR0FBS3ZaLElBR1QsT0FGQXVaLEdBQUc4VyxnQkFFSTlXLEV2QmtxR1J2cUIsRUFBaUJ3WSxTQUFXLFV1QnRxRzdCL1YsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLElBV1QxSCxRQUxRK0Usb0J2QmdyR0Y2aEMsSUFDQSxTQUFTN21DLEVBQVFDLFN3QjFyR3ZCLHFCQUFTZ0YsR0FBWTRwQixFQUNBaVksRUFDQTNYLEdBQ25CLFVBRUEsSUFBSUksR0FBS3ZaLElBMEJULE9BekJBdVosR0FBR3dYLFdBRUh4WCxFQUFHK0IsV0FBYSxXQUNkLEdBQUlpQixHQUFVdVUsRUFBZUUsaUJBQzdCLE9BQU96VSxHQUFRN1IsS0FBSyxTQUFBa1EsR0FBQSxNQUFRckIsR0FBR3dYLFFBQVVuVyxLQUczQ3JCLEVBQUd5USxTQUFXLFNBQUFDLEdBQUEsTUFBUXBSLEdBQU93RCxHQUFHLGNBQWU0VSxVQUFXaEgsRUFBS3BKLE9BRS9EdEgsRUFBRzJYLFdBQWEsU0FBVWpILEdBQ3hCLEdBQUlyVCxHQUFXLFdBQ2IsR0FBSTJGLEdBQVV1VSxZQUFzQjdHLEVBQ3BDLE9BQU8xTixHQUFRN1IsS0FBSyxpQkFBTTZPLEdBQUcrQixlQUUvQixPQUFPbkMsR0FBTW5ZLE1BQ1hxbEIsTUFBTyxnQkFDUDFZLEtBQU0sNEZBQ04wSixLQUFNLFVBQ044WixrQkFBa0IsRUFDbEJDLG1CQUFvQixVQUNwQkMsa0JBQW1CLDBCQUNuQkMsZ0JBQWdCLEdBQ2YxYSxJQUdFMkMsRXhCK3BHUnRxQixFQUFZdVksU0FBVyxTQUFVLGlCQUFrQixTd0I1ckdwRC9WLE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxJQXdDVDFILFFBVFFnRixleEIwc0dGc2lDLElBQ0EsU0FBU3ZuQyxFQUFRQyxTeUI3dUd2QixxQkFBU2lGLEdBQWtCeXBCLEVBQ0FDLEVBQ0FrWSxFQUNBalksRUFDQU0sRUFDQUMsRUFDQUMsRUFDQVAsR0FDekIsVUFFQSxJQUFJUyxHQUFLdlosSUFhVCxJQVpBdVosRUFBR2lZLGVBQ0QzUSxJQUFLanZCLE9BQ0xtVCxLQUFNblQsT0FDTjYvQixrQ0FBbUM3L0IsT0FDbkM4L0IsZ0JBQWlCOS9CLE9BQ2pCKy9CLFFBQVEsR0FFVnBZLEVBQUdxWSxlQUFnQixFQUNuQnJZLEVBQUdzWSxnQkFBaUIsRUFDcEJ0WSxFQUFHdVksa0JBQ0h2WSxFQUFHd1ksV0FBYW5aLEVBQWFxWSxVQUV6QjFYLEVBQUd3WSxTQUFVLENBQ2YsR0FBSUMsR0FBZ0JsQixFQUFlbUIsZUFBZXJaLEVBQWFxWSxVQUMvRGUsR0FBY3RuQixLQUFLLFNBQUFrUSxHQUFBLE1BQVFyQixHQUFHaVksY0FBZ0I1VyxRQUU5Q3JCLEdBQUdpWSxjQUFjRSxnQkFBa0I1WSxFQUFnQjJTLDBCQWlEckQsT0E5Q0FsUyxHQUFHK0IsV0FBYSxXQUNkLEdBQUkvQixFQUFHd1ksU0FBVSxDQUNmM1ksRUFBbUJyWSxPQUNuQixJQUFJbXhCLEdBQXNCcEIsRUFBZXFCLHVDQUF1Q3ZaLEVBQWFxWSxVQUM3RixPQUFPaUIsR0FBb0J4bkIsS0FBSzZPLEVBQUc2WSxpQ0FBa0M3WSxFQUFHOFksb0NBSTVFOVksRUFBRzZZLGlDQUFtQyxTQUFVeFgsR0FDOUNyQixFQUFHcVksY0FBZ0JoWCxFQUFLZ1gsY0FDeEJyWSxFQUFHc1ksZUFBaUJqWCxFQUFLaVgsZUFDekJ0WSxFQUFHK1ksdUJBQXlCMVgsRUFBSzBYLHVCQUNqQy9ZLEVBQUdnWix3QkFBMEIzWCxFQUFLMlgsd0JBQ2xDblosRUFBbUIvVyxZQUdyQmtYLEVBQUc4WSxpQ0FBbUMsU0FBVWpXLEdBRzlDLE1BRkFoRCxHQUFtQi9XLFdBQ25Cc1csRUFBS3lELE1BQUwsbURBQThEQSxFQUFNbmEsT0FBcEUsSUFBK0VtYSxFQUFNRCxZQUM5RTlDLEVBQWM0QyxlQUFlLDBFQUd0QzFDLEVBQUdpWixhQUFlLFdBQ2hCcFosRUFBbUJyWSxPQUNuQixJQUFJd2IsR0FBVXVVLEVBQWVyUSxLQUFLbEgsRUFBR2lZLGNBQ3JDLE9BQU9qVixHQUFRN1IsS0FBSzZPLEVBQUdrWixvQkFBcUJsWixFQUFHbVosc0JBR2pEblosRUFBR2taLG9CQUFzQixXQUV2QixNQURBclosR0FBbUIvVyxXQUNaZ1gsRUFBY3NELGlCQUFpQiwwQkFHeENwRCxFQUFHbVosb0JBQXNCLFNBQVV0VyxHQUVqQyxNQURBaEQsR0FBbUIvVyxXQUNFLE1BQWpCK1osRUFBTW5hLFFBQ1IwVyxFQUFLa04sS0FBTCxpREFBMkR6SixFQUFNbmEsT0FBakUsSUFBMkVtYSxFQUFNRCxZQUMxRWhELEVBQU1uWSxLQUFLLFVBQVcscUVBQXNFLFdBRW5HMlgsRUFBS3lELE1BQUwsMEJBQXFDQSxFQUFNbmEsT0FBM0MsSUFBc0RtYSxFQUFNRCxZQUNyRDlDLEVBQWM0QyxlQUFlLDZEQUl4QzFDLEVBQUd5USxTQUFXLFNBQUFDLEdBQUEsTUFBUXBSLEdBQU93RCxHQUFHLGNBQWU0VSxVQUFXaEgsRUFBS3BKLE9BRXhEdEgsRXpCcXFHUnJxQixFQUFrQnNZLFNBQVcsT0FBUSxlQUFnQixpQkFBa0IsU0FBVSxRQUFTLHFCQUFzQixnQkFBaUIsbUJ5Qi91R2xJL1YsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLElBOEVUMUgsUUFGUWlGLHFCekJzdkdGeWpDLElBQ0EsU0FBUzNvQyxFQUFRQyxRQUFTQyxHMEJ0MEdoQyxZQVdBLFNBQVNFLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBVHZGLFFBQVM4RSxHQUE2QmcvQixFQUFrQnZWLEVBQWNDLEVBQVFRLEdBQzVFLFVBRUEsSUFBSUUsR0FBS3ZaLElBbUtULE9BbEtBdVosR0FBR3FaLG9CQUNEQyxPQUFRLFlBQ1JDLE9BQVE7QUFDUkMsVUFBVyxNQUlieFosRUFBR3laLG1CQUNEanlCLE1BQU8sS0FDUGt5QixJQUFLLE1BR1AxWixFQUFHMlosY0FDREMsWUFBWSxFQUNaQyxVQUFVLEVBQ1YzVCxXQUFXLEdBR2JsRyxFQUFHOFosT0FBU3phLEVBQWF5YSxPQUN6QjlaLEVBQUcrWixVQUFXLEVBQ2QvWixFQUFHZ1gsU0FBVSxFQUNiaFgsRUFBR29QLFVBQVcsRUFDZHBQLEVBQUdnYSxnQkFBaUIsRUFDcEJoYSxFQUFHaWEsc0JBRUhqYSxFQUFHK0IsV0FBYSxpQkFDZDZTLEdBQWlCc0YsZ0JBQWdCbGEsRUFBRzhaLFFBQ2pDM29CLEtBQUssU0FBVWtRLEdBR2QsTUFGQXJCLEdBQUdnWCxTQUFVLEVBQ2JoWCxFQUFHa0csVUFBWTdFLEVBQUtBLEtBQUs2RSxVQUNyQmxHLEVBQUdrRyxVQUFVN2IsT0FBUyxFQUNqQjJWLEVBQUdtYSxnQkFBaUIsRUFFcEJuYSxFQUFHbWEsZ0JBQWlCLEtBS25DbmEsRUFBR29hLGlCQUFtQixXQUNwQnBhLEVBQUd3USxXQUFhLEdBQ2hCeFEsRUFBR3FhLGFBQWUsR0FDbEJyYSxFQUFHZ1gsU0FBVSxFQUNiaFgsRUFBR29QLFVBQVcsRUFDZHBQLEVBQUdpYSxzQkFDSGphLEVBQUcrQixjQUdML0IsRUFBR3NhLHVCQUF5QixTQUFVOUosR0FDcEMsR0FBSXhRLEVBQUd1YSxnQkFBZ0IvSixHQUFhLENBQ2xDeFEsRUFBR2lhLG1CQUFtQmppQyxLQUFLdzRCLEVBQzNCLElBQUl2WixHQUFRK0ksRUFBR2tHLFVBQVV6dUIsUUFBUSs0QixFQUNqQ3hRLEdBQUdrRyxVQUFVc1UsT0FBT3ZqQixFQUFPLEdBQzNCK0ksRUFBR3dRLFdBQWEsR0FHbEIsTUFEQXhRLEdBQUd5YSxvQkFDSXphLEVBQUcwYSxjQUdaMWEsRUFBRzJhLFlBQWMsU0FBQ3pVLEVBQVdzSyxHQUFaLE1BQTJCb0UsR0FBaUIrRixZQUFZelUsRUFBV3NLLElBR3BGeFEsRUFBRzRhLGFBQWUsU0FBVXBCLEdBRTFCLE1BREF4WixHQUFHMlosYUFBYTdiLEtBQU8wYixFQUNoQnhaLEVBQUcwYSxjQUlaMWEsRUFBR3VhLGdCQUFrQixTQUFVL0osR0FDN0IsUUFBSXFLLEVBQU9ySyxFQUFZeFEsRUFBR2tHLGFBQ25CMlUsRUFBT3JLLEVBQVl4USxFQUFHaWEscUJBVy9CamEsRUFBR3lhLGtCQUFvQixXQUVyQixNQURBemEsR0FBRzJaLGFBQWF6VCxVQUFhbEcsRUFBR2lhLG1CQUFtQjV2QixPQUFTLEVBQ3JEMlYsRUFBRzBhLGNBR1oxYSxFQUFHOGEsaUJBQW1CLFNBQVVsQixHQUU5QixNQURBNVosR0FBRzJaLGFBQWFDLFdBQWNBLFlBQXNCbUIsTUFDN0MvYSxFQUFHMGEsY0FJWjFhLEVBQUdnYixlQUFpQixTQUFVbkIsR0FFNUIsTUFEQTdaLEdBQUcyWixhQUFhRSxTQUFZQSxZQUFvQmtCLE1BQ3pDL2EsRUFBRzBhLGNBR1oxYSxFQUFHaWIsMkJBQTZCLFNBQVV2SyxHQUN4QyxHQUFJelosR0FBUStJLEVBQUdpYSxtQkFBbUJ4aUMsUUFBUWk1QixFQUkxQyxPQUhBMVEsR0FBR2lhLG1CQUFtQk8sT0FBT3ZqQixFQUFPLEdBQ3BDK0ksRUFBR2tHLFVBQVVsdUIsS0FBSzA0QixHQUNsQjFRLEVBQUd5YSxvQkFDSXphLEVBQUcwYSxjQUlaMWEsRUFBRzBhLFdBQWEsV0FDZCxNQUFJMWEsR0FBRzJaLGFBQWFDLFlBQWM1WixFQUFHMlosYUFBYUUsVUFBWTdaLEVBQUcyWixhQUFhelQsV0FBYWxHLEVBQUcyWixhQUFhN2IsTUFDekdrQyxFQUFHb1AsVUFBVyxFQUNQcFAsWUFDTGtiLGlCQUFpQixFQUFBN3NCLGNBQU8yUixFQUFHeVosa0JBQWtCanlCLE9BQU93akIsT0FDcERtUSxlQUFlLEVBQUE5c0IsY0FBTzJSLEVBQUd5WixrQkFBa0JDLEtBQUsxTyxPQUNoRDlFLFVBQVdsRyxFQUFHaWEsbUJBQ2RuYyxLQUFNa0MsRUFBR3FaLG1CQUFtQkcsWUFLdkJ4WixFQUFHb1AsVUFBVyxHQUl6QnBQLEVBQUdvYixPQUFTLFdBQ1YsTUFBc0IsTUFBbEJwYixXQUFTbEMsS0FDSjhXLEVBQWlCeUcsd0NBQXdDcmIsV0FBU2tiLGdCQUFpQmxiLFdBQVNtYixjQUFlbmIsV0FBU2tHLFVBQVdsRyxFQUFHOFosUUFHbElsRixFQUFpQjBHLDBDQUEwQ3RiLFdBQVNrYixnQkFBaUJsYixXQUFTbWIsY0FBZW5iLFdBQVNrRyxVQUFXbEcsRUFBRzhaLFNBSS9JOVosRUFBR3ViLFFBQVUsS0FDYnZiLEVBQUd3YixjQUFnQnhiLEVBQUc4WixPQUV0QjlaLEVBQUd5Yix5QkFBMkIsaUJBQzVCN0csR0FBaUI4RyxnQkFDZHZxQixLQUFLLFNBQUFrUSxHQUFBLE1BQVFyQixHQUFHdWIsUUFBVWxhLEVBQUtBLEtBQUtrYSxXQUd6Q3ZiLEVBQUcyYSxZQUFjLFNBQUNnQixFQUFXbkwsR0FBWixNQUEyQm9FLEdBQWlCK0YsWUFBWWdCLEVBQVduTCxJQUVwRnhRLEVBQUc0YixpQkFBbUIsU0FBVXRGLEdBQzlCLE1BQUl1RSxHQUFPdkUsRUFBUXRXLEVBQUd1YixTQUNidmIsRUFBR2dhLGdCQUFpQixFQUVwQmhhLEVBQUdnYSxnQkFBaUIsR0FLL0JoYSxFQUFHNmIsYUFBZSxTQUFVL0IsR0FDMUIsTUFBSUEsS0FBVzlaLEVBQUd3YixlQUNoQmxjLEVBQU93RCxHQUFHLGVBQ1JnWCxXQUdLaGEsRUFBY3NELGlCQUFkLGtDQUFpRTBXLElBR2pFaGEsRUFBYzRDLGVBQWQsNkNBQTBFb1gsSUFJOUU5WixFQUdULFFBQVM2YSxHQUFPaUIsRUFBUUMsR0FDdEIsTUFBT0EsR0FBU3RrQyxRQUFRcWtDLElBQVcsRTFCOHBHcENsbUMsRUFBNkJxWSxTQUFXLG1CQUFvQixlQUFnQixTQUFVLGlCMEJ4MEd2Ri9WLE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxJQUVUMUgsUUFBUWtGLDZCQUErQnlDLE1BTHZDLElBQUFLLEdBQUEvSCxFQUFBLEtBU0kwZCxFQUFXeGQsRUFBdUI2SCxFQTJLdENoSSxTQUxRa0YsZ0MxQmsxR0ZvbUMsSUFDQSxTQUFTdnJDLEVBQVFDLFFBQVNDLEcyQmxnSGhDLFlBV0EsU0FBU0UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FUdkYsUUFBUytFLEdBQTRCKytCLEVBQWtCdlYsRUFBY0MsRUFBUVEsR0FDM0UsVUFFQSxJQUFJRSxHQUFLdlosSUFxS1QsT0FuS0F1WixHQUFHcVosb0JBQ0RDLE9BQVEsVUFDUkMsT0FBUSxhQUNSQyxVQUFXLE1BSWJ4WixFQUFHeVosbUJBQ0RqeUIsTUFBTyxLQUNQa3lCLElBQUssTUFHUDFaLEVBQUcyWixjQUNEQyxZQUFZLEVBQ1pDLFVBQVUsRUFDVm9DLFVBQVUsR0FHWmpjLEVBQUc4WixPQUFTemEsRUFBYXlhLE9BQ3pCOVosRUFBRytaLFVBQVcsRUFDZC9aLEVBQUdnWCxTQUFVLEVBQ2JoWCxFQUFHb1AsVUFBVyxFQUNkcFAsRUFBR2dhLGdCQUFpQixFQUNwQmhhLEVBQUdrYyxxQkFHSGxjLEVBQUcrQixXQUFhLGlCQUNkNlMsR0FBaUJ1SCxlQUFlbmMsRUFBRzhaLFFBQ2hDM29CLEtBQUssU0FBVWtRLEdBR2QsTUFGQXJCLEdBQUdnWCxTQUFVLEVBQ2JoWCxFQUFHaWMsU0FBVzVhLEVBQUtBLEtBQUswTixRQUNwQi9PLEVBQUdpYyxTQUFTNXhCLE9BQVMsRUFDaEIyVixFQUFHbWEsZ0JBQWlCLEVBRXBCbmEsRUFBR21hLGdCQUFpQixLQUtuQ25hLEVBQUdvYyxnQkFBa0IsV0FDbkJwYyxFQUFHd1EsV0FBYSxHQUNoQnhRLEVBQUdxYSxhQUFlLEdBQ2xCcmEsRUFBR2dYLFNBQVUsRUFDYmhYLEVBQUdvUCxVQUFXLEVBQ2RwUCxFQUFHa2MscUJBQ0hsYyxFQUFHK0IsY0FHTC9CLEVBQUdxYyxzQkFBd0IsU0FBVTdMLEdBQ25DLEdBQUl4USxFQUFHc2MsZUFBZTlMLEdBQWEsQ0FDakN4USxFQUFHa2Msa0JBQWtCbGtDLEtBQUt3NEIsRUFDMUIsSUFBSXZaLEdBQVErSSxFQUFHaWMsU0FBU3hrQyxRQUFRKzRCLEVBQ2hDeFEsR0FBR2ljLFNBQVN6QixPQUFPdmpCLEVBQU8sR0FDMUIrSSxFQUFHd1EsV0FBYSxHQUdsQixNQURBeFEsR0FBR3VjLG1CQUNJdmMsRUFBRzBhLGNBR1oxYSxFQUFHMmEsWUFBYyxTQUFDc0IsRUFBVXpMLEdBQVgsTUFBMEJvRSxHQUFpQitGLFlBQVlzQixFQUFVekwsSUFHbEZ4USxFQUFHNGEsYUFBZSxTQUFVcEIsR0FFMUIsTUFEQXhaLEdBQUcyWixhQUFhN2IsS0FBTzBiLEVBQ2hCeFosRUFBRzBhLGNBSVoxYSxFQUFHc2MsZUFBaUIsU0FBVTlMLEdBQzVCLFFBQUlxSyxFQUFPckssRUFBWXhRLEVBQUdpYyxZQUNuQnBCLEVBQU9ySyxFQUFZeFEsRUFBR2tjLG9CQVUvQmxjLEVBQUd1YyxpQkFBbUIsV0FFcEIsTUFEQXZjLEdBQUcyWixhQUFhc0MsU0FBWWpjLEVBQUdrYyxrQkFBa0I3eEIsT0FBUyxFQUNuRDJWLEVBQUcwYSxjQUdaMWEsRUFBRzhhLGlCQUFtQixTQUFVbEIsR0FFOUIsTUFEQTVaLEdBQUcyWixhQUFhQyxXQUFjQSxZQUFzQm1CLE1BQzdDL2EsRUFBRzBhLGNBSVoxYSxFQUFHZ2IsZUFBaUIsU0FBVW5CLEdBRTVCLE1BREE3WixHQUFHMlosYUFBYUUsU0FBWUEsWUFBb0JrQixNQUN6Qy9hLEVBQUcwYSxjQUdaMWEsRUFBR3djLDBCQUE0QixTQUFVOUwsR0FDdkMsR0FBSXpaLEdBQVErSSxFQUFHa2Msa0JBQWtCemtDLFFBQVFpNUIsRUFJekMsT0FIQTFRLEdBQUdrYyxrQkFBa0IxQixPQUFPdmpCLEVBQU8sR0FDbkMrSSxFQUFHaWMsU0FBU2prQyxLQUFLMDRCLEdBQ2pCMVEsRUFBR3VjLG1CQUNJdmMsRUFBRzBhLGNBSVoxYSxFQUFHMGEsV0FBYSxXQUNkLE1BQUkxYSxHQUFHMlosYUFBYUMsWUFBYzVaLEVBQUcyWixhQUFhRSxVQUFZN1osRUFBRzJaLGFBQWFzQyxVQUFZamMsRUFBRzJaLGFBQWE3YixNQUN4R2tDLEVBQUdvUCxVQUFXLEVBQ1BwUCxZQUNMa2IsaUJBQWlCLEVBQUE3c0IsY0FBTzJSLEVBQUd5WixrQkFBa0JqeUIsT0FBT3dqQixPQUNwRG1RLGVBQWUsRUFBQTlzQixjQUFPMlIsRUFBR3laLGtCQUFrQkMsS0FBSzFPLE9BQ2hEaVIsU0FBVWpjLEVBQUdrYyxrQkFDYnBlLEtBQU1rQyxFQUFHcVosbUJBQW1CRyxZQUt2QnhaLEVBQUdvUCxVQUFXLEdBSXpCcFAsRUFBR29iLE9BQVMsV0FDVixNQUFzQixNQUFsQnBiLFdBQVNsQyxLQUNKOFcsRUFBaUI2SCxvQ0FBb0N6YyxXQUFTa2IsZ0JBQWlCbGIsV0FBU21iLGNBQWVuYixXQUFTaWMsU0FBVWpjLEVBQUc4WixRQUc3SGxGLEVBQWlCOEgsd0NBQXdDMWMsV0FBU2tiLGdCQUFpQmxiLFdBQVNtYixjQUFlbmIsV0FBU2ljLFNBQVVqYyxFQUFHOFosU0FLNUk5WixFQUFHdWIsUUFBVSxLQUNidmIsRUFBR3diLGNBQWdCeGIsRUFBRzhaLE9BRXRCOVosRUFBR3liLHlCQUEyQixpQkFDNUI3RyxHQUFpQjhHLGdCQUNkdnFCLEtBQUssU0FBQWtRLEdBQUEsTUFBUXJCLEdBQUd1YixRQUFVbGEsRUFBS0EsS0FBS2thLFdBR3pDdmIsRUFBRzZiLGFBQWUsU0FBVS9CLEdBQzFCLE1BQUlBLEtBQVc5WixFQUFHd2IsZUFDaEJsYyxFQUFPd0QsR0FBRyxlQUNSZ1gsV0FHS2hhLEVBQWNzRCxpQkFBZCxrQ0FBaUUwVyxJQUdqRWhhLEVBQWM0QyxlQUFkLDZDQUEwRW9YLElBSXJGOVosRUFBRzJhLFlBQWMsU0FBQ2dCLEVBQVduTCxHQUFaLE1BQTJCb0UsR0FBaUIrRixZQUFZZ0IsRUFBV25MLElBRXBGeFEsRUFBRzRiLGlCQUFtQixTQUFVdEYsR0FDOUIsTUFBSXVFLEdBQU92RSxFQUFRdFcsRUFBR3ViLFNBQ2J2YixFQUFHZ2EsZ0JBQWlCLEVBRXBCaGEsRUFBR2dhLGdCQUFpQixHQUt4QmhhLEVBR1QsUUFBUzZhLEdBQU9pQixFQUFRQyxHQUN0QixNQUFPQSxHQUFTdGtDLFFBQVFxa0MsSUFBVyxFM0J3MUdwQ2ptQyxFQUE0Qm9ZLFNBQVcsbUJBQW9CLGVBQWdCLFNBQVUsaUIyQnBnSHRGL1YsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLElBRVQxSCxRQUFRbUYsNEJBQThCd0MsTUFMdEMsSUFBQUssR0FBQS9ILEVBQUEsS0FTSTBkLEVBQVd4ZCxFQUF1QjZILEVBNEt0Q2hJLFNBSlFtRiwrQjNCNmdIRjhtQyxJQUNBLFNBQVNsc0MsRUFBUUMsUUFBU0MsRzRCL3JIaEMsWUFXQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQVJ2RixRQUFTZ0YsR0FBNkI4K0IsRUFBa0J2VixFQUFjQyxFQUFRUSxHQUM1RSxVQUVBLElBQUlFLEdBQUt2WixJQWtMVCxPQWpMQXVaLEdBQUdxWixvQkFDREMsT0FBUSxZQUNSQyxPQUFRLFVBQ1JDLFVBQVcsTUFJYnhaLEVBQUd5WixtQkFDRGp5QixNQUFPLEtBQ1BreUIsSUFBSyxNQUdQMVosRUFBRzJaLGNBQ0RDLFlBQVksRUFDWkMsVUFBVSxFQUNWOEIsV0FBVyxHQUdiM2IsRUFBRzhaLE9BQVN6YSxFQUFheWEsT0FDekI5WixFQUFHK1osVUFBVyxFQUNkL1osRUFBR2dYLFNBQVUsRUFDYmhYLEVBQUdvUCxVQUFXLEVBQ2RwUCxFQUFHZ2EsZ0JBQWlCLEVBQ3BCaGEsRUFBRzRjLHNCQUVINWMsRUFBRytCLFdBQWEsaUJBQ2Q2UyxHQUFpQmlJLGdCQUFnQjdjLEVBQUc4WixRQUNqQzNvQixLQUFLLFNBQVVrUSxHQUNkckIsRUFBR2dYLFNBQVUsRUFDYmhYLEVBQUc4YyxrQkFBb0J6YixFQUFLQSxLQUFLc2EsVUFDakMzYixFQUFHMmIsWUFDSCxLQUFLLEdBQUlyd0IsR0FBSSxFQUFHQSxFQUFJK1YsRUFBS0EsS0FBS3NhLFVBQVV0eEIsT0FBUWlCLElBQUssQ0FDbkQsR0FBSThsQixHQUFXL1AsRUFBS0EsS0FBS3NhLFVBQVVyd0IsRUFDbkMwVSxHQUFHMmIsVUFBVTNqQyxLQUFLbzVCLEVBQVMyTCxlQUc3QixNQUFJL2MsR0FBRzJiLFVBQVV0eEIsT0FBUyxFQUNqQjJWLEVBQUdtYSxnQkFBaUIsRUFFcEJuYSxFQUFHbWEsZ0JBQWlCLEtBS25DbmEsRUFBR2dkLGlCQUFtQixXQUNwQmhkLEVBQUd3USxXQUFhLEdBQ2hCeFEsRUFBR3FhLGFBQWUsR0FDbEJyYSxFQUFHZ1gsU0FBVSxFQUNiaFgsRUFBR29QLFVBQVcsRUFDZHBQLEVBQUc0YyxzQkFDSDVjLEVBQUcrQixjQUdML0IsRUFBR2lkLHVCQUF5QixTQUFVek0sR0FDcEMsR0FBSXhRLEVBQUdtUixnQkFBZ0JYLEdBQWEsQ0FDbEN4USxFQUFHNGMsbUJBQW1CNWtDLEtBQUt3NEIsRUFDM0IsSUFBSXZaLEdBQVErSSxFQUFHMmIsVUFBVWxrQyxRQUFRKzRCLEVBQ2pDeFEsR0FBRzJiLFVBQVVuQixPQUFPdmpCLEVBQU8sR0FDM0IrSSxFQUFHd1EsV0FBYSxHQUdsQixNQURBeFEsR0FBR2tkLG9CQUNJbGQsRUFBRzBhLGNBR1oxYSxFQUFHMmEsWUFBYyxTQUFDZ0IsRUFBV25MLEdBQVosTUFBMkJvRSxHQUFpQitGLFlBQVlnQixFQUFXbkwsSUFHcEZ4USxFQUFHNGEsYUFBZSxTQUFVcEIsR0FFMUIsTUFEQXhaLEdBQUcyWixhQUFhN2IsS0FBTzBiLEVBQ2hCeFosRUFBRzBhLGNBSVoxYSxFQUFHbVIsZ0JBQWtCLFNBQVVYLEdBQzdCLFFBQUlxSyxFQUFPckssRUFBWXhRLEVBQUcyYixhQUNuQmQsRUFBT3JLLEVBQVl4USxFQUFHNGMscUJBVy9CNWMsRUFBR2tkLGtCQUFvQixXQUVyQixNQURBbGQsR0FBRzJaLGFBQWFnQyxVQUFhM2IsRUFBRzRjLG1CQUFtQnZ5QixPQUFTLEVBQ3JEMlYsRUFBRzBhLGNBR1oxYSxFQUFHOGEsaUJBQW1CLFNBQVVsQixHQUU5QixNQURBNVosR0FBRzJaLGFBQWFDLFdBQWNBLFlBQXNCbUIsTUFDN0MvYSxFQUFHMGEsY0FJWjFhLEVBQUdnYixlQUFpQixTQUFVbkIsR0FFNUIsTUFEQTdaLEdBQUcyWixhQUFhRSxTQUFZQSxZQUFvQmtCLE1BQ3pDL2EsRUFBRzBhLGNBR1oxYSxFQUFHbWQsMkJBQTZCLFNBQVV6TSxHQUN4QyxHQUFJelosR0FBUStJLEVBQUc0YyxtQkFBbUJubEMsUUFBUWk1QixFQUkxQyxPQUhBMVEsR0FBRzRjLG1CQUFtQnBDLE9BQU92akIsRUFBTyxHQUNwQytJLEVBQUcyYixVQUFVM2pDLEtBQUswNEIsR0FDbEIxUSxFQUFHa2Qsb0JBQ0lsZCxFQUFHMGEsY0FJWjFhLEVBQUcwYSxXQUFhLFdBQ2QsTUFBSTFhLEdBQUcyWixhQUFhQyxZQUFjNVosRUFBRzJaLGFBQWFFLFVBQVk3WixFQUFHMlosYUFBYWdDLFdBQWEzYixFQUFHMlosYUFBYTdiLE1BQ3pHa0MsRUFBR29QLFVBQVcsRUFDUHBQLFlBQ0xrYixpQkFBaUIsRUFBQTdzQixjQUFPMlIsRUFBR3laLGtCQUFrQmp5QixPQUFPd2pCLE9BQ3BEbVEsZUFBZSxFQUFBOXNCLGNBQU8yUixFQUFHeVosa0JBQWtCQyxLQUFLMU8sT0FDaEQyUSxVQUFXM2IsRUFBRzRjLG1CQUNkOWUsS0FBTWtDLEVBQUdxWixtQkFBbUJHLFlBSXZCeFosRUFBR29QLFVBQVcsR0FJekJwUCxFQUFHb2IsT0FBUyxXQUVWLElBQUssR0FERGdDLE1BQ0s5eEIsRUFBSSxFQUFHQSxFQUFJMFUsV0FBUzJiLFVBQVV0eEIsT0FBUWlCLElBRTdDLElBQUssR0FERG9sQixHQUFPMVEsV0FBUzJiLFVBQVVyd0IsR0FDckJHLEVBQUksRUFBR0EsRUFBSXVVLEVBQUc4YyxrQkFBa0J6eUIsT0FBUW9CLElBQUssQ0FDcEQsR0FBSW9WLEdBQU9iLEVBQUc4YyxrQkFBa0JyeEIsRUFDNUJvVixHQUFLLGdCQUFxQjZQLEdBQzVCME0sRUFBaUJwbEMsS0FBSzZvQixFQUFLLHFCQUtqQyxNQUFzQixNQUFsQmIsV0FBU2xDLEtBQ0o4VyxFQUFpQnlJLHdDQUF3Q3JkLFdBQVNrYixnQkFBaUJsYixXQUFTbWIsY0FBZWlDLEVBQWtCcGQsRUFBRzhaLFFBR2hJbEYsRUFBaUIwSSxzQ0FBc0N0ZCxXQUFTa2IsZ0JBQWlCbGIsV0FBU21iLGNBQWVpQyxFQUFrQnBkLEVBQUc4WixTQUl6STlaLEVBQUd1YixRQUFVLEtBQ2J2YixFQUFHd2IsY0FBZ0J4YixFQUFHOFosT0FFdEI5WixFQUFHeWIseUJBQTJCLGlCQUM1QjdHLEdBQWlCOEcsZ0JBQ2R2cUIsS0FBSyxTQUFBa1EsR0FBQSxNQUFRckIsR0FBR3ViLFFBQVVsYSxFQUFLQSxLQUFLa2EsV0FHekN2YixFQUFHMmEsWUFBYyxTQUFDZ0IsRUFBV25MLEdBQVosTUFBMkJvRSxHQUFpQitGLFlBQVlnQixFQUFXbkwsSUFFcEZ4USxFQUFHNGIsaUJBQW1CLFNBQVV0RixHQUM5QixNQUFJdUUsR0FBT3ZFLEVBQVF0VyxFQUFHdWIsU0FDYnZiLEVBQUdnYSxnQkFBaUIsRUFFcEJoYSxFQUFHZ2EsZ0JBQWlCLEdBSy9CaGEsRUFBRzZiLGFBQWUsU0FBVS9CLEdBQzFCLE1BQUlBLEtBQVc5WixFQUFHd2IsZUFDaEJsYyxFQUFPd0QsR0FBRyxlQUNSZ1gsV0FFS2hhLEVBQWNzRCxpQkFBZCxrQ0FBaUUwVyxJQUVqRWhhLEVBQWM0QyxlQUFkLDZDQUEwRW9YLElBSzlFOVosRUFHVCxRQUFTNmEsR0FBT2lCLEVBQVFDLEdBQ3RCLE1BQU9BLEdBQVN0a0MsUUFBUXFrQyxJQUFXLEU1QnVnSHBDaG1DLEVBQTZCbVksU0FBVyxtQkFBb0IsZUFBZ0IsU0FBVSxpQjRCanNIdkYvVixPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sSUFFVDFILFFBQVFvRiw2QkFBK0J1QyxNQUx2QyxJQUFBSyxHQUFBL0gsRUFBQSxLQVNJMGQsRUFBV3hkLEVBQXVCNkgsRUEwTHRDaEksU0FKUW9GLGdDNUIwc0hGeW5DLElBQ0EsU0FBUzlzQyxFQUFRQyxTNkIxNEh2QixxQkFBU3FGLEdBQWdCNitCLEVBQWtCdlYsRUFBY0MsRUFBUVEsR0FDL0QsVUFFQSxJQUFJRSxHQUFLdlosSUEyQ1QsT0ExQ0F1WixHQUFHb1IsVUFBWXRFLE1BQU8sbUJBQ3RCOU0sRUFBR2dNLFVBQVljLE1BQU8sbUJBQ3RCOU0sRUFBR3JGLFNBQVdtUyxNQUFPLGtCQUVyQjlNLEVBQUd3ZCxjQUFnQixLQUNuQnhkLEVBQUd1YixRQUFVLEtBQ2J2YixFQUFHb1AsVUFBVyxFQUdkcFAsRUFBRytCLFdBQWEsaUJBQ2Q2UyxHQUFpQjhHLGdCQUNkdnFCLEtBQUssU0FBQWtRLEdBQUEsTUFBUXJCLEdBQUd1YixRQUFVbGEsRUFBS0EsS0FBS2thLFdBR3pDdmIsRUFBRzJhLFlBQWMsU0FBQ2dCLEVBQVduTCxHQUFaLE1BQTJCb0UsR0FBaUIrRixZQUFZZ0IsRUFBV25MLElBR3BGeFEsRUFBRzRiLGlCQUFtQixTQUFVdEYsR0FDOUIsTUFBSXVFLEdBQU92RSxFQUFRdFcsRUFBR3ViLFNBQ2J2YixFQUFHb1AsVUFBVyxFQUVkcFAsRUFBR29QLFVBQVcsR0FLekJwUCxFQUFHNmIsYUFBZSxTQUFVL0IsR0FDMUIsR0FBSUEsRUFFRixNQURBOVosR0FBR3dkLGNBQWlCMUQsRUFDYnhhLEVBQU93RCxHQUFHLGVBQ2ZnWCxPQUFROVosRUFBR3dkLGlCQUtqQnhkLEVBQUd5ZCxlQUFpQixXQUNsQnpkLEVBQUd1YixRQUFVLElBQ0gzRyxHQUFpQjhJLFlBQVksdUJBQXdCLEdBQy9EMWQsR0FBRytCLGNBSUUvQixFQUdULFFBQVM2YSxHQUFPaUIsRUFBUUMsR0FDdEIsTUFBT0EsR0FBU3RrQyxRQUFRcWtDLElBQVcsRTdCNDFIcEMvbEMsRUFBZ0JrWSxTQUFXLG1CQUFvQixlQUFnQixTQUFVLGlCNkI1NEgxRS9WLE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxJQXNEVDFILFFBSlFxRixtQjdCcTVIRjRuQyxJQUNBLFNBQVNsdEMsRUFBUUMsUUFBU0MsRzhCMzhIaEMsWUFjQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQVp2Rm9ILE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxHQUdULElBQUl3bEMsR0FBbUJqdEMsRUFBUSxLQUUzQmt0QyxFQUFtQmh0QyxFQUF1QitzQyxHQUUxQ0UsRUFBZ0JudEMsRUFBUSxLQUV4Qm90QyxFQUFnQmx0QyxFQUF1Qml0QyxHOUJpOUh0Q3pMLEVBQWUsVzhCNTlIbEIsUUFBQUEsR0FBWTJMLEdBQ1YsWUFEdUIsRUFBQUgsY0FBQXAzQixLQUFBNHJCLEdBRXZCNXJCLEtBQUt1M0IsWUFBY0EsRUFDbkJ2M0IsS0FBS3czQixhQUFlLFFBQ3BCeDNCLEtBQUt5M0Isb0JBQXNCLGVBeUQ3QixNOUJnNkhDN0wsR0FBYXBrQixTQUFXLGdCOEJwOEh6QixFQUFJOHZCLGNBQXVCMUwsSUFDekIvSyxJQUFLLGtCQUNMbHZCLE1BQU8sU0FwQk8yN0IsRUFBYW9LLEdBQzNCLEdBQUlDLElBQ0ZySyxjQUNBb0ssZUFHRW5iLEVBQVV2YyxLQUFLdTNCLFlBQVlLLE9BQU81M0IsS0FBS3kzQixvQkFBcUIsd0JBQXdCSSxXQUFXRixFQUNuRyxPQUFPcGIsTUF1QlBzRSxJQUFLLHVCQUNMbHZCLE1BQU8sU0FyQll5NkIsRUFBV2tCLEVBQWFqQixHQUMzQyxHQUFJc0wsSUFDRkcsV0FBWTFMLEVBQ1prQixjQUNBb0Msa0JBQW1CckQsR0FHakI5UCxFQUFVdmMsS0FBS3UzQixZQUFZSyxPQUFPNTNCLEtBQUt3M0IsYUFBYyxpQkFBaUJLLFdBQVdGLEVBQ3JGLE9BQU9wYixNQXdCUHNFLElBQUssd0JBQ0xsdkIsTUFBTyxTQXRCYTAyQixHQUNwQixHQUFJOUwsR0FBVXZjLEtBQUt1M0IsWUFBWUssT0FBTzUzQixLQUFLeTNCLG9CQUE3QixrQ0FBb0ZwUCxFQUFwRixVQUE0R24zQixLQUMxSCxPQUFPcXJCLE1BeUJQc0UsSUFBSyxxQkFDTGx2QixNQUFPLFdBdEJQLEdBQUk0cUIsR0FBVXZjLEtBQUt1M0IsWUFBWUssT0FBTzUzQixLQUFLeTNCLG9CQUFxQix3QkFBd0J2bUMsS0FDeEYsT0FBT3FyQixPQTBCRnFQLElBR1QzaEMsb0JBakVxQjJoQyxHOUJtaElmbU0sSUFDQSxTQUFTL3RDLEVBQVFDLFFBQVNDLEcrQnBoSWhDLFlBY0EsU0FBU0UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FadkZvSCxPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sR0FHVCxJQUFJd2xDLEdBQW1CanRDLEVBQVEsS0FFM0JrdEMsRUFBbUJodEMsRUFBdUIrc0MsR0FFMUNFLEVBQWdCbnRDLEVBQVEsS0FFeEJvdEMsRUFBZ0JsdEMsRUFBdUJpdEMsRy9CMGhJdENXLEVBQXVCLFcrQnBpSTFCLFFBQUFBLEdBQVlsZixFQUFpQm1mLEdBQzNCLFlBRCtCLEVBQUFiLGNBQUFwM0IsS0FBQWc0QixHQUUvQmg0QixLQUFLaTRCLEdBQUtBLEVBQ1ZqNEIsS0FBSzhZLGdCQUFrQkEsRUFpRXpCLE0vQmkrSENrZixHQUFxQnh3QixTQUFXLGtCQUFtQixPK0I5Z0lwRCxFQUFJOHZCLGNBQXVCVSxJQUN6Qm5YLElBQUssZ0JBQ0xsdkIsTUFBTyxXQWxCUCxHQUFJdW1DLEdBQVdsNEIsS0FBS2k0QixHQUFHRSxRQUNuQkMsRUFBVXA0QixLQUFLOFksZ0JBQWdCeVcsWUFNbkMsT0FMSTZJLEdBQ0ZGLEVBQVMxNEIsU0FBUSxHQUVqQjA0QixFQUFTRyxRQUFRLFlBQWEsWUFFekJILEVBQVMzYixXQXNCaEJzRSxJQUFLLG1CQUNMbHZCLE1BQU8sV0FuQlAsR0FBSXVtQyxHQUFXbDRCLEtBQUtpNEIsR0FBR0UsUUFDbkJDLEVBQVVwNEIsS0FBSzhZLGdCQUFnQnlXLFlBTW5DLE9BTEs2SSxHQUdIRixFQUFTRyxRQUFRLFlBQWEsU0FGOUJILEVBQVMxNEIsU0FBUSxHQUlaMDRCLEVBQVMzYixXQXVCaEJzRSxJQUFLLDRCQUNMbHZCLE1BQU8sV0FwQlAsR0FBSXVtQyxHQUFXbDRCLEtBQUtpNEIsR0FBR0UsUUFDbkIxSSxFQUFRenZCLEtBQUs4WSxnQkFBZ0IrVSxhQUM3QnhCLEVBQW1CcnNCLEtBQUs4WSxnQkFBZ0JnVix5QkFDeEN3SyxHQUFnQyxDQUNoQ2pNLElBQW9CQSxFQUFpQnpvQixPQUFTLElBQ2hEMDBCLEdBQWdDLEVBRWxDLElBQUlGLEdBQVVwNEIsS0FBSzhZLGdCQUFnQnlXLFlBUW5DLE9BUEs2SSxHQUVPM0ksR0FBVTZJLEVBR3BCSixFQUFTMTRCLFNBQVEsR0FGakIwNEIsRUFBU0csUUFBUSxZQUFhLFNBRjlCSCxFQUFTRyxPQUFPLFdBTVhILEVBQVMzYixZQXdCWHliLElBR1QvdEMsb0JBekVxQit0QyxHL0JvbUlmTyxJQUNBLFNBQVN2dUMsRUFBUUMsUUFBU0MsR2dDcm1JaEMsWUFjQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQVp2Rm9ILE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxHQUdULElBQUl3bEMsR0FBbUJqdEMsRUFBUSxLQUUzQmt0QyxFQUFtQmh0QyxFQUF1QitzQyxHQUUxQ0UsRUFBZ0JudEMsRUFBUSxLQUV4Qm90QyxFQUFnQmx0QyxFQUF1Qml0QyxHaEMybUl0Q3BlLEVBQWtCLFdnQ3JuSXJCLFFBQUFBLEdBQVlzZSxHQUNWLFlBRHVCLEVBQUFILGNBQUFwM0IsS0FBQWlaLEdBRXZCalosS0FBS3UzQixZQUFjQSxFQUNuQnYzQixLQUFLdzRCLGFBQWUsVUF3R3RCLE1oQzJnSUN2ZixHQUFnQnpSLFNBQVcsZ0JnQy9sSTVCLEVBQUk4dkIsY0FBdUJyZSxJQUN6QjRILElBQUssYUFDTGx2QixNQUFPLFNBbkJFa3ZCLEVBQUs0WCxHQUVkLEdBQUlkLElBQ0Y1UixXQUFBMFMsR0FHRWxjLEVBQVV2YyxLQUFLdTNCLFlBQVlLLE9BQU81M0IsS0FBS3c0QixhQUE3QixrQkFBNkQzWCxFQUE3RCxnQkFBZ0Y2WCxVQUFVZixFQUN4RyxPQUFPcGIsTUFzQlBzRSxJQUFLLFFBQ0xsdkIsTUFBTyxTQXBCSGt2QixHQUNKLEdBQUl0RSxHQUFVdmMsS0FBS3UzQixZQUFZSyxPQUFPNTNCLEtBQUt3NEIsYUFBN0Isa0JBQTZEM1gsRUFBN0QsbUJBQW1GdmEsTUFDakcsT0FBT2lXLE1BdUJQc0UsSUFBSyxnQkFDTGx2QixNQUFPLFNBckJLa3ZCLEdBQ1osR0FBSXRFLEdBQVV2YyxLQUFLdTNCLFlBQVlLLE9BQU81M0IsS0FBS3c0QixhQUE3QixrQkFBNkQzWCxFQUE3RCw0QkFBNEZ2YSxNQUMxRyxPQUFPaVcsTUF3QlBzRSxJQUFLLGdCQUNMbHZCLE1BQU8sU0F0QktrdkIsR0FDWixHQUFJdEUsR0FBVXZjLEtBQUt1M0IsWUFBWUssT0FBTzUzQixLQUFLdzRCLGFBQTdCLGtCQUE2RDNYLEVBQTdELDRCQUE0RnZhLE1BQzFHLE9BQU9pVyxNQXlCUHNFLElBQUssZUFDTGx2QixNQUFPLFNBdkJJa3ZCLEdBQ1gsR0FBSXRFLEdBQVV2YyxLQUFLdTNCLFlBQVlLLE9BQU81M0IsS0FBS3c0QixhQUE3QixrQkFBNkQzWCxFQUE3RCwyQ0FBMkd2YSxNQUN6SCxPQUFPaVcsTUEwQlBzRSxJQUFLLG9CQUNMbHZCLE1BQU8sU0F4QlNrdkIsR0FDaEIsR0FBSXRFLEdBQVV2YyxLQUFLdTNCLFlBQVlLLE9BQU81M0IsS0FBS3c0QixhQUE3QixrQkFBNkQzWCxFQUE3RCx5QkFBeUZ2YSxNQUN2RyxPQUFPaVcsTUEyQlBzRSxJQUFLLFVBQ0xsdkIsTUFBTyxTQXpCRGt2QixHQUNOLEdBQUl0RSxHQUFVdmMsS0FBS3UzQixZQUFZSyxPQUFPNTNCLEtBQUt3NEIsYUFBN0Isa0JBQTZEM1gsRUFBN0QscUJBQXFGdmEsTUFDbkcsT0FBT2lXLE1BNEJQc0UsSUFBSyxVQUNMbHZCLE1BQU8sU0ExQkRrdkIsR0FDTixHQUFJdEUsR0FBVXZjLEtBQUt1M0IsWUFBWUssT0FBTzUzQixLQUFLdzRCLGFBQTdCLGtCQUE2RDNYLEVBQTdELHNCQUFzRnZhLE1BQ3BHLE9BQU9pVyxNQTZCUHNFLElBQUssVUFDTGx2QixNQUFPLFNBM0JEa3ZCLEdBQ04sR0FBSXRFLEdBQVV2YyxLQUFLdTNCLFlBQVlLLE9BQU81M0IsS0FBS3c0QixhQUE3QixrQkFBNkQzWCxFQUE3RCxzQkFBc0Z2YSxNQUNwRyxPQUFPaVcsTUE4QlBzRSxJQUFLLFdBQ0xsdkIsTUFBTyxTQTVCQWt2QixHQUNQLEdBQUl0RSxHQUFVdmMsS0FBS3UzQixZQUFZSyxPQUFPNTNCLEtBQUt3NEIsYUFBN0Isa0JBQTZEM1gsRUFBN0QsdUJBQXVGdmEsTUFDckcsT0FBT2lXLE1BK0JQc0UsSUFBSyxTQUNMbHZCLE1BQU8sU0E3QkZrdkIsRUFBSzhYLEdBQ1YsR0FBSWhCLElBQ0YzWixPQUFBMmEsR0FFRXBjLEVBQVV2YyxLQUFLdTNCLFlBQVlLLE9BQU81M0IsS0FBS3c0QixhQUE3QixrQkFBNkQzWCxHQUFPZ1gsV0FBV0YsRUFBUyxrQkFDdEcsT0FBT3BiLE1BZ0NQc0UsSUFBSyxTQUNMbHZCLE1BQU8sU0E5QkZrdkIsRUFBS3JDLEdBQ1YsR0FBSW1aLElBQ0ZuWixXQUVFakMsRUFBVXZjLEtBQUt1M0IsWUFBWUssT0FBTzUzQixLQUFLdzRCLGFBQTdCLGtCQUE2RDNYLEdBQU9nWCxXQUFXRixFQUFTLGtCQUN0RyxPQUFPcGIsT0FpQ0Z0RCxJQUdUaHZCLG9CQWhIcUJndkIsR2hDNHRJZjJmLElBQ0EsU0FBUzV1QyxFQUFRQyxRQUFTQyxHaUM3dEloQyxZQWtCQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQWhCdkZvSCxPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sR0FHVCxJQUFJd2xDLEdBQW1CanRDLEVBQVEsS0FFM0JrdEMsRUFBbUJodEMsRUFBdUIrc0MsR0FFMUNFLEVBQWdCbnRDLEVBQVEsS0FFeEJvdEMsRUFBZ0JsdEMsRUFBdUJpdEMsR0FaM0NwbEMsRUFBQS9ILEVBQUEsS0FnQkkwZCxFQUFXeGQsRUFBdUI2SCxHQWZqQnV0QixFQW1CUyxXQWpCNUIsUUFBQUEsTUFBYyxFQUFBNFgsY0FBQXAzQixLQUFBd2YsR0FrRGQsT0E1QkEsRUFBSThYLGNBQXVCOVgsSUFDekJxQixJQUFLLDhCQUNMbHZCLE1BQU8sU0FyQm1Ca1gsR0FDMUIsTUFBS2pCLGNBQU9peEIsU0FBU2h3QixHQUdaQSxHQUZBLEVBQUFqQixjQUFPLEdBQUkwc0IsTUFBS3pyQixPQTJCekJnWSxJQUFLLDBDQUNMbHZCLE1BQU8sU0F0QitCbW5DLEdBQ3RDLEdBQUk5WSxJQUFZLEVBQUFwWSxnQkFBU3FCLE9BQU8sY0FDNUI4dkIsR0FBb0IsRUFBQW54QixjQUFPb1ksRUFBVyxjQUFjL1csT0FBTyxzQkFDM0QrdkIsR0FBb0IsRUFBQXB4QixjQUFPbXhCLEVBQW1CLHNCQUFzQjNxQixJQUFJLEVBQUcsT0FBT1csU0FBUyxHQUFJLFdBQVc5RixPQUFPLHNCQUVqSGdYLEdBQVUsRUFBQXJZLGdCQUFTbUgsU0FBUyxHQUFJLFFBQVE5RixPQUFPLGNBQy9DZ3dCLEdBQWtCLEVBQUFyeEIsY0FBT3FZLEVBQVMsY0FBY2hYLE9BQU8scUJBRTNELFFBQVFnd0IsRUFBaUJELE1BeUJ6Qm5ZLElBQUssdUJBQ0xsdkIsTUFBTyxTQXZCWW1vQixHQUNuQixHQUFJQyxHQUFZblMsYUFBT29TLElBQUlGLEdBQVNHLFFBQ3BDLFFBQU8sRUFBQXJTLGNBQU9tUyxHQUFXOVEsT0FBTyw2QkEwQjNCdVcsSUFHVHYxQixvQkF2RHFCdTFCLEdqQzB4SWYwWixJQUNBLFNBQVNsdkMsRUFBUUMsUUFBU0MsR2tDNXhJaEMsWUFnQkEsU0FBU0UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FkdkZvSCxPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sR0FHVCxJQUFJd2xDLEdBQW1CanRDLEVBQVEsS0FFM0JrdEMsRUFBbUJodEMsRUFBdUIrc0MsR0FFMUNFLEVBQWdCbnRDLEVBQVEsS0FFeEJvdEMsRUFBZ0JsdEMsRUFBdUJpdEMsRUFaM0NudEMsR0FBQSxJbENneklDLElBQUk2dUIsR0FBaUIsV2tDN3lJcEIsUUFBQUEsR0FBWUosRUFBTTRlLEVBQWFVLEVBQUlrQixFQUFPdGdCLEdBQ3hDLFlBRGdELEVBQUF1ZSxjQUFBcDNCLEtBQUErWSxHQUVoRC9ZLEtBQUsyWSxLQUFPQSxFQUNaM1ksS0FBS3UzQixZQUFjQSxFQUNuQnYzQixLQUFLaTRCLEdBQUtBLEVBQ1ZqNEIsS0FBS201QixNQUFRQSxFQUNibjVCLEtBQUs2WSxPQUFTQSxFQUNkN1ksS0FBS3c0QixhQUFlLFVBQ3BCeDRCLEtBQUtvNUIsUUFBVSxhQXlkakIsTWxDNjBIQ3JnQixHQUFldlIsU0FBVyxPQUFRLGNBQWUsS0FBTSxRQUFTLFdrQ2p4SWpFLEVBQUk4dkIsY0FBdUJ2ZSxJQUN6QjhILElBQUssd0JBQ0xsdkIsTUFBTyxTQXBCYTBuQyxHQUNwQixHQUFJQyxHQUFBLDhCQUFvQ0QsQ0FDeEMsT0FBT3I1QixNQUFLdTNCLFlBQVlLLE9BQU8saUJBQWtCMEIsR0FBS3BvQyxTQXVCdEQydkIsSUFBSyxpQkFDTGx2QixNQUFPLFNBckJNOG5CLEdBQ2IsR0FBSTZmLEdBQUEsa0JBQXdCN2YsRUFDeEI4QyxFQUFVdmMsS0FBS3UzQixZQUFZSyxPQUFPNTNCLEtBQUt3NEIsYUFBY2MsR0FBS3BvQyxLQUM5RCxPQUFPcXJCLE1Bd0JQc0UsSUFBSyxpQ0FDTGx2QixNQUFPLFNBdEJzQjRuQyxFQUFZNW5DLEdBRXpDLElBQUssR0FERDZuQyxNQUNLMzBCLEVBQUksRUFBR0EsRUFBSTAwQixFQUFXMzFCLE9BQVFpQixJQUFLLENBQzFDLEdBQUl1VixHQUFPbWYsRUFBVzEwQixFQUN0QjIwQixHQUFRam9DLEtBQUs2b0IsRUFBS3pvQixJQUVwQixNQUFPNm5DLE1BeUJQM1ksSUFBSyx3Q0FDTGx2QixNQUFPLFNBdkI2QjZuQixFQUFXaWdCLEVBQWU1UCxHQUFXLEdBQUE2UCxHQUFBMTVCLElBQ3pFLE9BQU9BLE1BQUsyNUIscUNBQXFDbmdCLEVBQVdpZ0IsRUFBZTVQLEdBQ3hFbmYsS0FBSyxTQUFDNlcsR0FDTCxHQUFJUSxHQUFTUixFQUFJLFFBQ2JxWSxHQUFRLEVBQ1JDLEdBQVUsRUFDVkMsRUFBb0JKLEVBQUtLLG1DQUFtQ2hZLEVBQVE2WCxFQUFPQyxHQUMzRUcsRUFBb0JOLEVBQUtPLCtCQUErQmxZLEVBQVEsU0FDcEUsUUFBUWlZLEVBQW1CRixRQTRCL0JqWixJQUFLLDZDQUNMbHZCLE1BQU8sU0F6QmtDMDJCLEVBQWdCb1IsRUFBZTVQLEdBQVcsR0FBQXFRLEdBQUFsNkIsSUFDbkYsT0FBT0EsTUFBS202Qiw2QkFBNkI5UixFQUFnQm9SLEVBQWU1UCxHQUNyRW5mLEtBQUssU0FBQzZXLEdBQ0wsR0FBSVEsR0FBU1IsRUFBSSxRQUNidVksRUFBQSxPQUNBRixHQUFRLEVBQ1JDLEdBQVUsQ0FFWkMsR0FERWpRLEVBQ2tCcVEsRUFBS0gsbUNBQW1DaFksRUFBUTZYLEVBQU9DLEdBRXZESyxFQUFLSCxtQ0FBbUNoWSxFQUFRNlgsRUFBT0MsRUFFN0UsSUFBSU8sR0FBb0JGLEVBQUtELCtCQUErQmxZLEVBQVEsU0FDcEUsUUFBUXFZLEVBQW1CTixRQThCL0JqWixJQUFLLHFDQUNMbHZCLE1BQU8sU0EzQjBCNm5CLEVBQVdpZ0IsRUFBZTVQLEdBQVcsR0FBQXdRLEdBQUFyNkIsSUFDdEUsT0FBT0EsTUFBS3M2QixrQ0FBa0M5Z0IsRUFBV2lnQixFQUFlNVAsR0FDckVuZixLQUFLLFNBQUM2VyxHQUNMLEdBQUlRLEdBQVNSLEVBQUksUUFDYmdaLEVBQWlCRixFQUFLTixtQ0FBbUNoWSxHQUFRLEdBQ2pFeVksRUFBaUJILEVBQUtKLCtCQUErQmxZLEVBQVEsTUFDakUsUUFBUXlZLEVBQWdCRCxRQWdDNUIxWixJQUFLLDBDQUNMbHZCLE1BQU8sU0E3QitCMDJCLEVBQWdCb1IsRUFBZTVQLEdBQVcsR0FBQTRRLEdBQUF6NkIsSUFDaEYsT0FBT0EsTUFBSzA2QiwwQkFBMEJyUyxFQUFnQm9SLEVBQWU1UCxHQUNsRW5mLEtBQUssU0FBQzZXLEdBQ0wsR0FBSVEsR0FBU1IsRUFBSSxRQUNiZ1osRUFBQSxPQUNBWCxHQUFRLEVBQ1JDLEdBQVUsQ0FFWlUsR0FERTFRLEVBQ2U0USxFQUFLVixtQ0FBbUNoWSxFQUFRNlgsRUFBT0MsR0FFdkRZLEVBQUtWLG1DQUFtQ2hZLEVBQVE2WCxFQUFPQyxFQUUxRSxJQUFJalIsR0FBYTZSLEVBQUtSLCtCQUErQmxZLEVBQVEsTUFDN0QsUUFBUTZHLEVBQVkyUixRQWtDeEIxWixJQUFLLHVDQUNMbHZCLE1BQU8sU0E5QjRCNm5CLEVBQVdpZ0IsRUFBZTVQLEdBQVcsR0FBQThRLEdBQUEzNkIsSUFDeEUsT0FBT0EsTUFBSzQ2QiwrQ0FBK0NwaEIsRUFBV2lnQixFQUFlNVAsR0FDbEZuZixLQUFLLFNBQUM2VyxHQUNMLEdBQUlRLEdBQVNSLEVBQUksUUFDYnNaLEVBQW1CRixFQUFLWixtQ0FBbUNoWSxHQUFRLEdBQU8sR0FDMUUrWSxFQUFtQkgsRUFBS1YsK0JBQStCbFksRUFBUSxRQUNuRSxRQUFRK1ksRUFBa0JELFFBbUM5QmhhLElBQUssNENBQ0xsdkIsTUFBTyxTQWhDaUMwMkIsRUFBZ0JvUixFQUFlNVAsR0FBVyxHQUFBa1IsR0FBQS82QixJQUNsRixPQUFPQSxNQUFLZzdCLHVDQUF1QzNTLEVBQWdCb1IsRUFBZTVQLEdBQy9FbmYsS0FBSyxTQUFDNlcsR0FDTCxHQUFJUSxHQUFTUixFQUFJLFFBQ2IwWixFQUFBLE1BRUZBLEdBREVwUixFQUNpQmtSLEVBQUtoQixtQ0FBbUNoWSxHQUFRLEdBQU8sR0FFdkRnWixFQUFLaEIsbUNBQW1DaFksR0FBUSxHQUFPLEVBRTVFLElBQUkrWSxHQUFtQkMsRUFBS2QsK0JBQStCbFksRUFBUSxRQUNuRSxRQUFRK1ksRUFBa0JHLFFBcUM5QnBhLElBQUssa0JBQ0xsdkIsTUFBTyxXQWpDUCxHQUFJdXBDLEdBQWlCbDdCLEtBQUtpNEIsR0FBR0UsT0FFN0IsT0FEQStDLEdBQWU3QyxTQUNSNkMsRUFBZTNlLFdBcUN0QnNFLElBQUssZ0JBQ0xsdkIsTUFBTyxTQWxDSzhuQyxFQUFlek8sRUFBUUMsRUFBVXpSLEVBQVc2TyxFQUFnQndCLEdBQ3hFLEdBQUlxTyxHQUFXbDRCLEtBQUtpNEIsR0FBR0UsUUFDbkJoTixFQUFBLE1BMkNKLE9BdENRQSxHQUpKc08sR0FDRUEsRUFBYzcxQixPQUFTLEVBQ1Ysa0JBQVhvbkIsRUFDRUMsRUFDZWpyQixLQUFLbTdCLHNDQUFzQzNoQixFQUFXaWdCLEVBQWU1UCxHQUVyRTdwQixLQUFLbzdCLDJDQUEyQy9TLEVBQWdCb1IsRUFBZTVQLEdBRTlFLFFBQVhtQixFQUNMQyxFQUNlanJCLEtBQUtxN0IsbUNBQW1DN2hCLEVBQVdpZ0IsRUFBZTVQLEdBRWxFN3BCLEtBQUtzN0Isd0NBQXdDalQsRUFBZ0JvUixFQUFlNVAsR0FHM0ZvQixFQUNlanJCLEtBQUt1N0IscUNBQXFDL2hCLEVBQVdpZ0IsRUFBZTVQLEdBRXBFN3BCLEtBQUt3N0IsMENBQTBDblQsRUFBZ0JvUixFQUFlNVAsR0FPcEY3cEIsS0FBS3k3QixrQkFHeEJ0USxFQUFlemdCLEtBQUssU0FBVWd4QixHQUM1QnhELEVBQVMxNEIsU0FDUGluQixTQUFXLEVBQ1g2QixRQUFXb1QsTUFJZnZRLFdBQXFCLFNBQVV1USxHQUM3QnhELEVBQVMxNEIsU0FDUGluQixTQUFXLEVBQ1g2QixlQUlHNFAsRUFBUzNiLFdBcUNoQnNFLElBQUsscUNBQ0xsdkIsTUFBTyxTQW5DMEJncUMsRUFBVXhSLEVBQUt5UixHQUdoRCxJQUFLLEdBRER0VCxNQUNLempCLEVBQUksRUFBR0EsRUFBSTgyQixFQUFTLzNCLE9BQVFpQixJQUFLLENBQ3hDLEdBQUlvbEIsR0FBTzBSLEVBQVM5MkIsRUFDaEJzbEIsR0FDRjdCLEVBQVEyQixFQUFLRSxLQUFPRixFQUNYMlIsRUFDVHRULEVBQVEyQixFQUFLSSxPQUFTSixFQUV0QjNCLEVBQVEyQixFQUFLRyxRQUFVSCxFQUczQixNQUFPM0IsTUFzQ1B6SCxJQUFLLFdBQ0xsdkIsTUFBTyxTQXBDQXM0QixFQUFNdlEsR0FDUkEsSUFDSEEsR0FBYyxHQUVoQjFaLEtBQUs2WSxPQUFPd0QsR0FBRyxjQUNiNUMsVUFBV3dRLEVBQUtwSixJQUNoQnJILFVBQVd5USxFQUFLelEsVUFDaEJFLFlBQWFBLE9Bd0NmbUgsSUFBSyxzQkFDTGx2QixNQUFPLFNBckNXcTVCLEVBQVF4UixFQUFXdVEsRUFBWW5CLEVBQVlGLEVBQWVHLEdBQzVFLEdBQUlzQixHQUFBLE9BQUtDLEVBQUEsT0FBUUMsRUFBQSxNQU1qQixPQUpBRixHQUFpQixRQUFYYSxFQUNOWixFQUFvQixrQkFBWFksRUFDVFgsRUFBbUIsV0FBWFcsRUFFSmIsRUFDS25xQixLQUFLZ3FCLFNBQVNwQixFQUFXbUIsSUFDdkJLLEVBQ0ZwcUIsS0FBS2dxQixTQUFTdEIsRUFBY3FCLElBRTVCL3BCLEtBQUtncUIsU0FBU25CLEVBQWFrQixPQTJDcENsSixJQUFLLGlCQUNMbHZCLE1BQU8sU0F2Q004bkIsRUFBV29pQixFQUFZQyxFQUFVdGhCLEVBQU1DLEdBQ3BERCxFQUFnQjVvQixTQUFUNG9CLEVBQTZCLEtBQU9BLEVBQzNDQyxFQUFnQjdvQixTQUFUNm9CLEVBQTZCLEtBQU9BLENBQzNDLElBQUk2ZSxHQUFBLG1CQUF5QjllLEVBQXpCLElBQWlDQyxFQUFqQyxJQUF5Q2hCLEVBQXpDLGlCQUFtRW9pQixFQUFuRSxRQUFxRkMsRUFDckZ2ZixFQUFVdmMsS0FBS3UzQixZQUFZSyxPQUFPNTNCLEtBQUt3NEIsYUFBY2MsR0FBS3BvQyxLQUM5RCxPQUFPcXJCLE1BMENQc0UsSUFBSyx3QkFDTGx2QixNQUFPLFNBeENhOG5CLEVBQVdlLEVBQU1DLEdBQ3JDRCxFQUFnQjVvQixTQUFUNG9CLEVBQTZCLEtBQU9BLEVBQzNDQyxFQUFnQjdvQixTQUFUNm9CLEVBQTZCLEtBQU9BLENBQzNDLElBQUk2ZSxHQUFBLGlDQUF1QzllLEVBQXZDLElBQStDQyxFQUEvQyxJQUF1RGhCLEVBQ3ZEOEMsRUFBVXZjLEtBQUt1M0IsWUFBWUssT0FBTzUzQixLQUFLdzRCLGFBQWNjLEdBQUtwb0MsS0FDOUQsT0FBT3FyQixNQWdEUHNFLElBQUsscUJBQ0xsdkIsTUFBTyxTQTNDVTZuQixFQUFXZ0IsRUFBTUMsR0FDbEMsR0FBa0I3b0IsU0FBZDRuQixFQUF5QixDQUMzQixHQUFJOGYsR0FBTXQ1QixLQUFLKzdCLHVCQUF1QnZpQixFQUFXZ0IsRUFBTUMsR0FBTSxFQUM3RCxPQUFPemEsTUFBS3UzQixZQUFZSyxPQUFPNTNCLEtBQUt3NEIsYUFBY2MsR0FBS3BvQyxVQStDekQydkIsSUFBSyw4QkFDTGx2QixNQUFPLFNBNUNtQjZuQixFQUFXZ0IsRUFBTUMsR0FDM0MsR0FBa0I3b0IsU0FBZDRuQixFQUF5QixDQUMzQixHQUNJOGYsSUFEV3Q1QixLQUFLaTRCLEdBQUdFLFFBQ2JuNEIsS0FBSys3Qix1QkFBdUJ2aUIsRUFBV2dCLEVBQU1DLEdBQU0sR0FDN0QsT0FBT3phLE1BQUt1M0IsWUFBWUssT0FBTzUzQixLQUFLdzRCLGFBQWNjLEdBQUtwb0MsVUFnRHpEMnZCLElBQUssdUNBQ0xsdkIsTUFBTyxTQTdDNEI2bkIsRUFBV3dpQixFQUFnQm5TLEdBQzlELEdBQWtCajRCLFNBQWQ0bkIsRUFBeUIsQ0FDM0IsR0FBSThmLEdBQUEsMEJBQWdDOWYsRUFBaEMsc0JBQStEcVEsRUFBL0QsbUJBQTJGbVMsRUFDM0Z6ZixFQUFVdmMsS0FBS3UzQixZQUFZSyxPQUFPNTNCLEtBQUt3NEIsYUFBY2MsR0FBS3BvQyxLQUM5RCxPQUFPcXJCLE9BaURUc0UsSUFBSyxvQ0FDTGx2QixNQUFPLFNBOUN5QjZuQixFQUFXeWlCLEVBQWFwUyxHQUN4RCxHQUFrQmo0QixTQUFkNG5CLEVBQXlCLENBQzNCLEdBQUk4ZixHQUFBLDBCQUFnQzlmLEVBQWhDLHNCQUErRHFRLEVBQS9ELGdCQUF3Rm9TLEVBQ3hGMWYsRUFBVXZjLEtBQUt1M0IsWUFBWUssT0FBTzUzQixLQUFLdzRCLGFBQWNjLEdBQUtwb0MsS0FDOUQsT0FBT3FyQixPQWtEVHNFLElBQUssaURBQ0xsdkIsTUFBTyxTQS9Dc0M2bkIsRUFBVzBpQixFQUFlclMsR0FDdkUsR0FBa0JqNEIsU0FBZDRuQixFQUF5QixDQUMzQixHQUFJOGYsR0FBQSwwQkFBZ0M5ZixFQUFoQyxzQkFBK0RxUSxFQUEvRCxrQkFBMEZxUyxFQUMxRjNmLEVBQVV2YyxLQUFLdTNCLFlBQVlLLE9BQU81M0IsS0FBS3c0QixhQUFjYyxHQUFLcG9DLEtBQzlELE9BQU9xckIsT0F3RFRzRSxJQUFLLCtCQUNMbHZCLE1BQU8sU0FqRG9CMDJCLEVBQWdCMlQsRUFBZ0JuUyxHQUMzRCxHQUF1Qmo0QixTQUFuQnkyQixFQUE4QixDQUNoQyxHQUFJaVIsR0FBQSwrQkFBcUNqUixFQUFyQyxzQkFBeUV3QixFQUF6RSxtQkFBcUdtUyxFQUNyR3pmLEVBQVV2YyxLQUFLdTNCLFlBQVlLLE9BQU81M0IsS0FBS3c0QixhQUFjYyxHQUFLcG9DLEtBQzlELE9BQU9xckIsT0FxRFRzRSxJQUFLLDRCQUNMbHZCLE1BQU8sU0FsRGlCMDJCLEVBQWdCNFQsRUFBYXBTLEdBQ3JELEdBQXVCajRCLFNBQW5CeTJCLEVBQThCLENBQ2hDLEdBQUlpUixHQUFBLCtCQUFxQ2pSLEVBQXJDLHNCQUF5RXdCLEVBQXpFLGdCQUFrR29TLEVBQ2xHMWYsRUFBVXZjLEtBQUt1M0IsWUFBWUssT0FBTzUzQixLQUFLdzRCLGFBQWNjLEdBQUtwb0MsS0FDOUQsT0FBT3FyQixPQXNEVHNFLElBQUsseUNBQ0xsdkIsTUFBTyxTQW5EOEIwMkIsRUFBZ0I2VCxFQUFlclMsR0FDcEUsR0FBdUJqNEIsU0FBbkJ5MkIsRUFBOEIsQ0FDaEMsR0FBSWlSLEdBQUEsK0JBQXFDalIsRUFBckMsc0JBQXlFd0IsRUFBekUsa0JBQW9HcVMsRUFDcEczZixFQUFVdmMsS0FBS3UzQixZQUFZSyxPQUFPNTNCLEtBQUt3NEIsYUFBY2MsR0FBS3BvQyxLQUM5RCxPQUFPcXJCLE9BdURUc0UsSUFBSywwQkFDTGx2QixNQUFPLFNBcERlMDJCLEVBQWdCN04sRUFBTUMsR0FDNUMsR0FBdUI3b0IsU0FBbkJ5MkIsRUFBOEIsQ0FDaEMsR0FBSWlSLEdBQU10NUIsS0FBS204Qiw0QkFBNEI5VCxFQUFnQjdOLEVBQU1DLEdBQU0sRUFDdkUsT0FBT3phLE1BQUt1M0IsWUFBWUssT0FBTzUzQixLQUFLdzRCLGFBQWNjLEdBQUtwb0MsVUF3RHpEMnZCLElBQUssbUNBQ0xsdkIsTUFBTyxTQXJEd0IwMkIsRUFBZ0I3TixFQUFNQyxHQUNyRCxHQUF1QjdvQixTQUFuQnkyQixFQUE4QixDQUNoQyxHQUFJaVIsR0FBTXQ1QixLQUFLbThCLDRCQUE0QjlULEVBQWdCN04sRUFBTUMsR0FBTSxFQUN2RSxPQUFPemEsTUFBS3UzQixZQUFZSyxPQUFPNTNCLEtBQUt3NEIsYUFBY2MsR0FBS3BvQyxVQXlEekQydkIsSUFBSyxhQUNMbHZCLE1BQU8sV0FyRFAsR0FBSTRxQixHQUFVdmMsS0FBS3UzQixZQUFZNkUsSUFBSXA4QixLQUFLdzRCLGNBQWM2RCxTQUN0RCxPQUFPOWYsTUF5RFBzRSxJQUFLLE9BQ0xsdkIsTUFBTyxTQXZESm95QixHQUNILEdBQW1CbnlCLFNBQWZteUIsRUFBT2xELElBQ1QsR0FBSXRFLEdBQVV3SCxFQUFPdVksVUFFckIsSUFBSS9mLEdBQVV2YyxLQUFLdTNCLFlBQVlocEMsUUFBUSxXQUFXK1gsS0FBS3lkLEVBRXpELE9BQU94SCxNQTBEUHNFLElBQUssc0JBQ0xsdkIsTUFBTyxTQXhEVzRxQyxFQUFvQnBiLEVBQWFDLEVBQWNDLEVBQVdDLEdBQzVFLEdBQUlxVyxJQUNGeFcsY0FDQUMsZUFDQUMsWUFDQUMsV0FHRixPQUFPdGhCLE1BQUt1M0IsWUFBWUssT0FBTyxVQUF4QiwwQkFBNkQyRSxHQUFzQjFFLFdBQVdGLE1BMkRyRzlXLElBQUssU0FDTGx2QixNQUFPLFNBekRGOG5CLEdBQ0wsR0FBSThDLEdBQVV2YyxLQUFLdTNCLFlBQVlpRixJQUFJeDhCLEtBQUt3NEIsYUFBYy9lLEdBQVdnakIsUUFDakUsT0FBT2xnQixNQTREUHNFLElBQUssaUJBQ0xsdkIsTUFBTyxXQXpEUCxRQUVJOE4sR0FBTSxPQUNOaTlCLFlBQWUsU0FHZmo5QixHQUFNLGlCQUNOaTlCLFlBQWUsbUJBR2ZqOUIsR0FBTSxjQUNOaTlCLFlBQWUsZ0JBR2ZqOUIsR0FBTSxxQkFDTmk5QixZQUFlLHVCQUdmajlCLEdBQU0scUJBQ05pOUIsWUFBZSx1QkFHZmo5QixHQUFNLGVBQ05pOUIsWUFBZSxvQkF3RG5CN2IsSUFBSyxpQkFDTGx2QixNQUFPLFdBbkRQLFFBRUk4TixHQUFNLE9BQ04ybEIsU0FBWSxTQUdaM2xCLEdBQU0sUUFDTjJsQixTQUFZLG1CQUdaM2xCLEdBQU0sUUFDTjJsQixTQUFZLG1CQUdaM2xCLEdBQU0sUUFDTjJsQixTQUFZLHVCQUdaM2xCLEdBQU0sUUFDTjJsQixTQUFZLHVCQUdaM2xCLEdBQU0sTUFDTjJsQixTQUFZLHVCQUdaM2xCLEdBQU0sUUFDTjJsQixTQUFZLHVCQUdaM2xCLEdBQU0sUUFDTjJsQixTQUFZLHVCQUdaM2xCLEdBQU0sTUFDTjJsQixTQUFZLHVCQUdaM2xCLEdBQU0sUUFDTjJsQixTQUFZLGlCQUdaM2xCLEdBQU0sUUFDTjJsQixTQUFZLGlCQUdaM2xCLEdBQU0sTUFDTjJsQixTQUFZLGlCQUdaM2xCLEdBQU0sTUFDTjJsQixTQUFZLGdCQUdaM2xCLEdBQU0sT0FDTjJsQixTQUFZLG1CQTBDaEJ2RSxJQUFLLDhCQUNMbHZCLE1BQU8sU0F0Q21CMDJCLEVBQWdCN04sRUFBTUMsRUFBTW9QLEdBQ3RELEdBQUl5UCxHQUFBLHdCQUE4QmpSLEVBQTlCLHNCQUFrRXdCLEVBQWxFLGdCQUEyRnBQLEVBQTNGLGdCQUErR0QsQ0FDbkgsT0FBTzhlLE1BeUNQelksSUFBSyx5QkFDTGx2QixNQUFPLFNBdkNjNm5CLEVBQVdnQixFQUFNQyxFQUFNb1AsR0FDNUMsR0FBSXlQLEdBQUEsbUJBQXlCOWYsRUFBekIsc0JBQXdEcVEsRUFBeEQsZ0JBQWlGcFAsRUFBakYsZ0JBQXFHRCxDQUN6RyxPQUFPOGUsT0EwQ0Z2Z0IsSUFHVDl1QixvQkFyZXFCOHVCLEdsQ3d3SmY0akIsSUFDQSxTQUFTM3lDLEVBQVFDLFFBQVNDLEdtQzN3SmhDLFlBY0EsU0FBU0UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FadkZvSCxPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sR0FHVCxJQUFJd2xDLEdBQW1CanRDLEVBQVEsS0FFM0JrdEMsRUFBbUJodEMsRUFBdUIrc0MsR0FFMUNFLEVBQWdCbnRDLEVBQVEsS0FFeEJvdEMsRUFBZ0JsdEMsRUFBdUJpdEMsR25DaXhKdEN4TCxFQUFzQixXbUMzeEp6QixRQUFBQSxHQUFZMEwsRUFBYTFlLEVBQVFDLEdBQy9CLFlBRGdELEVBQUFzZSxjQUFBcDNCLEtBQUE2ckIsR0FFaEQ3ckIsS0FBS3UzQixZQUFjQSxFQUNuQnYzQixLQUFLNlksT0FBU0EsRUFDZDdZLEtBQUs4WSxnQkFBa0JBLEVBQ3ZCOVksS0FBS3kzQixvQkFBc0IsZUE4RTdCLE1uQ3lzSkM1TCxHQUFvQnJrQixTQUFXLGNBQWUsU0FBVSxvQm1DbndKekQsRUFBSTh2QixjQUF1QnpMLElBQ3pCaEwsSUFBSyxPQUNMbHZCLE1BQU8sU0FuQkowaEMsR0FDSCxHQUFtQnpoQyxTQUFmeWhDLEVBQU94UyxJQUNULEdBQUl0RSxHQUFVOFcsRUFBT2lKLFVBRXJCLElBQUkvZixHQUFVdmMsS0FBS3UzQixZQUFZaHBDLFFBQVF5UixLQUFLeTNCLHFCQUFxQm54QixLQUFLK3NCLEVBRXhFLE9BQU85VyxNQXNCUHNFLElBQUssV0FDTGx2QixNQUFPLFdBbkJQLEdBQUk0cUIsR0FBVXZjLEtBQUt1M0IsWUFBWTZFLElBQUlwOEIsS0FBS3kzQixxQkFBcUI0RSxTQUM3RCxPQUFPOWYsTUF1QlBzRSxJQUFLLGlCQUNMbHZCLE1BQU8sU0FyQk15bUMsR0FDYixHQUFJQSxFQUFTLENBQ1gsR0FBSTdiLEdBQVV2YyxLQUFLdTNCLFlBQVlpRixJQUFJLFFBQVNwRSxHQUFTd0UsTUFBTTU4QixLQUFLeTNCLG9CQUNoRSxPQUFPbGIsT0F5QlRzRSxJQUFLLFdBQ0xsdkIsTUFBTyxTQXRCQWt2QixHQUNQLEdBQUl0RSxHQUFVdmMsS0FBS3UzQixZQUFZSyxPQUFPNTNCLEtBQUt5M0Isb0JBQTdCLHVCQUF5RTVXLEdBQU8zdkIsS0FDOUYsT0FBT3FyQixNQXlCUHNFLElBQUssU0FDTGx2QixNQUFPLFNBdkJGa3JDLEdBQ0wsR0FBSUEsRUFBT2hjLElBQUssQ0FDZCxHQUFJdEUsR0FBVXZjLEtBQUt1M0IsWUFBWWlGLElBQUl4OEIsS0FBS3kzQixvQkFBcUJvRixFQUFPaGMsS0FBSzRiLFFBQ3pFLE9BQU9sZ0IsT0EyQlRzRSxJQUFLLFlBQ0xsdkIsTUFBTyxTQXhCQ29ULEdBQ1IsR0FBSXdYLEdBQVV2YyxLQUFLdTNCLFlBQVk2RSxJQUFJcDhCLEtBQUt5M0IscUJBQXFCNEUsU0FBU25QLGdCQUFpQm5vQixHQUN2RixPQUFPd1gsTUEyQlBzRSxJQUFLLGtCQUNMbHZCLE1BQU8sU0F6Qk9rdkIsR0FDZCxHQUFJdEUsR0FBVXZjLEtBQUt1M0IsWUFBWUssT0FBTzUzQixLQUFLeTNCLG9CQUE3Qix1QkFBeUU1VyxFQUF6RSxZQUF3RjN2QixLQUN0RyxPQUFPcXJCLE1BNEJQc0UsSUFBSyxvQkFDTGx2QixNQUFPLFNBMUJTMjdCLEdBR2hCLE1BRkF0dEIsTUFBSzhZLGdCQUFnQmdrQiwwQkFBMEJ4UCxFQUFZdm9CLE1BQzNEL0UsS0FBSzhZLGdCQUFnQmlrQix5QkFBeUJ6UCxFQUFZek0sS0FDbkQ3Z0IsS0FBSzZZLE9BQU93RCxHQUFHLGVBNkJqQndQLElBR1Q1aEMsb0JBeEZxQjRoQyxHbkMwMkpmbVIsSUFDQSxTQUFTaHpDLEVBQVFDLFFBQVNDLEdvQzMySmhDLFlBY0EsU0FBU0UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FadkZvSCxPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sR0FHVCxJQUFJd2xDLEdBQW1CanRDLEVBQVEsS0FFM0JrdEMsRUFBbUJodEMsRUFBdUIrc0MsR0FFMUNFLEVBQWdCbnRDLEVBQVEsS0FFeEJvdEMsRUFBZ0JsdEMsRUFBdUJpdEMsR3BDaTNKdEN2RyxFQUFpQixXb0MzM0pwQixRQUFBQSxHQUFZeUcsR0FDVixZQUR1QixFQUFBSCxjQUFBcDNCLEtBQUE4d0IsR0FFdkI5d0IsS0FBS3UzQixZQUFjQSxFQXlEckIsTXBDaTBKQ3pHLEdBQWV0cEIsU0FBVyxnQm9DdDJKM0IsRUFBSTh2QixjQUF1QnhHLElBQ3pCalEsSUFBSyxPQUNMbHZCLE1BQU8sU0FuQkpzckMsR0FDSCxHQUFtQnJyQyxTQUFmcXJDLEVBQU9wYyxJQUNULEdBQUl0RSxHQUFVMGdCLEVBQU9YLFVBRXJCLElBQUkvZixHQUFVdmMsS0FBS3UzQixZQUFZaHBDLFFBQVEsV0FBVytYLEtBQUsyMkIsRUFFekQsT0FBTzFnQixNQXNCUHNFLElBQUssa0JBQ0xsdkIsTUFBTyxXQW5CUCxHQUFJNHFCLEdBQVV2YyxLQUFLdTNCLFlBQVk2RSxJQUFJLFdBQVdDLFNBQzlDLE9BQU85ZixNQXVCUHNFLElBQUssaUJBQ0xsdkIsTUFBTyxTQXJCTXMvQixHQUNiLEdBQUkxVSxHQUFVdmMsS0FBS3UzQixZQUFZSyxPQUFPLFVBQXhCLGtCQUFxRDNHLEdBQWEvL0IsS0FDaEYsT0FBT3FyQixNQXdCUHNFLElBQUsseUNBQ0xsdkIsTUFBTyxTQXRCOEJzL0IsR0FDckMsR0FBSTFVLEdBQVV2YyxLQUFLdTNCLFlBQVlLLE9BQU8sVUFBeEIsa0JBQXFEM0csRUFBckQsa0JBQWdGLy9CLEtBQzlGLE9BQU9xckIsTUF5QlBzRSxJQUFLLFNBQ0xsdkIsTUFBTyxTQXZCRnNyQyxHQUNMLEdBQW1CcnJDLFNBQWZxckMsRUFBT3BjLElBQW1CLENBQzVCLEdBQUl0RSxHQUFVdmMsS0FBS3UzQixZQUFZaUYsSUFBSSxVQUFXUyxFQUFPcGMsS0FBSzRiLFFBQzFELE9BQU9sZ0IsUUEyQkp1VSxJQUdUN21DLG9CQWhFc0I2bUMsR3BDazdKaEJvTSxJQUNBLFNBQVNsekMsRUFBUUMsUUFBU0MsR3FDbjdKaEMsWUFjQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQVp2Rm9ILE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxHQUdULElBQUl3bEMsR0FBbUJqdEMsRUFBUSxLQUUzQmt0QyxFQUFtQmh0QyxFQUF1QitzQyxHQUUxQ0UsRUFBZ0JudEMsRUFBUSxLQUV4Qm90QyxFQUFnQmx0QyxFQUF1Qml0QyxHckN5N0p0QzhGLEVBQWtCLFdxQ244SnJCLFFBQUFBLEdBQVk1RixHQUNWLFlBRHVCLEVBQUFILGNBQUFwM0IsS0FBQW05QixHQUV2Qm45QixLQUFLdTNCLFlBQWNBLEVBMEJyQixNckN3NkpDNEYsR0FBZ0IzMUIsU0FBVyxnQnFDOTZKNUIsRUFBSTh2QixjQUF1QjZGLElBQ3pCdGMsSUFBSyxjQUNMbHZCLE1BQU8sV0FsQlAsTUFBT3FPLE1BQUt1M0IsWUFBWUssT0FBTyxZQUFZMW1DLFVBc0J0Q2lzQyxJQUdUbHpDLG9CQWpDcUJrekMsR3JDMjlKZkMsSUFDQSxTQUFTcHpDLEVBQVFDLFFBQVNDLEdzQzU5SmhDLFlBY0EsU0FBU0UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FadkZvSCxPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sR0FHVCxJQUFJd2xDLEdBQW1CanRDLEVBQVEsS0FFM0JrdEMsRUFBbUJodEMsRUFBdUIrc0MsR0FFMUNFLEVBQWdCbnRDLEVBQVEsS0FFeEJvdEMsRUFBZ0JsdEMsRUFBdUJpdEMsR3RDaytKdEM5WCxFQUFvQixXc0M1K0p2QixRQUFBQSxHQUFZZ1ksR0FDVixZQUR1QixFQUFBSCxjQUFBcDNCLEtBQUF1ZixHQUV2QnZmLEtBQUt1M0IsWUFBY0EsRUFDbkJ2M0IsS0FBS3E5QixrQkFBb0IsZ0NBNkIzQixNdEM2OEpDOWQsR0FBa0IvWCxTQUFXLGdCc0N0OUo5QixFQUFJOHZCLGNBQXVCL1gsSUFDekJzQixJQUFLLHNCQUNMbHZCLE1BQU8sU0FuQlc4bkIsR0FDbEIsR0FBSTZqQixJQUNGN2pCLFlBRUYsT0FBT3paLE1BQUt1M0IsWUFBWTZFLElBQUlwOEIsS0FBS3E5QixtQkFBbUJFLFVBQVUsR0FBSUQsT0FzQjdEL2QsSUFHVHQxQixvQkFyQ3FCczFCLEd0Q3dnS2ZpZSxJQUNBLFNBQVN4ekMsRUFBUUMsUUFBU0MsR3VDemdLaEMsWUFjQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQVp2Rm9ILE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxHQUdULElBQUl3bEMsR0FBbUJqdEMsRUFBUSxLQUUzQmt0QyxFQUFtQmh0QyxFQUF1QitzQyxHQUUxQ0UsRUFBZ0JudEMsRUFBUSxLQUV4Qm90QyxFQUFnQmx0QyxFQUF1Qml0QyxHdkMrZ0t0Q3JlLEVBQW1CLFd1Q3poS3RCLFFBQUFBLEdBQVl1ZSxHQUNWLFlBRHVCLEVBQUFILGNBQUFwM0IsS0FBQWdaLEdBRXZCaFosS0FBS3UzQixZQUFjQSxFQXlEckIsTXZDKzlKQ3ZlLEdBQWlCeFIsU0FBVyxnQnVDcGdLN0IsRUFBSTh2QixjQUF1QnRlLElBQ3pCNkgsSUFBSyxPQUNMbHZCLE1BQU8sU0FuQko0ekIsR0FDSCxHQUFxQjN6QixTQUFqQjJ6QixFQUFTMUUsSUFDWCxHQUFJdEUsR0FBVWdKLEVBQVMrVyxVQUV2QixJQUFJL2YsR0FBVXZjLEtBQUt1M0IsWUFBWWhwQyxRQUFRLGFBQWErWCxLQUFLaWYsRUFFM0QsT0FBT2hKLE1Bc0JQc0UsSUFBSyxpQ0FDTGx2QixNQUFPLFNBcEJzQjZuQixFQUFXaWtCLEdBQ3hDLEdBQUlsaEIsR0FBVXZjLEtBQUt1M0IsWUFBWTZFLElBQUksV0FBV3NCLGNBQWNsa0IsRUFBWSxjQUFlaWtCLHVCQUF3QkEsR0FDL0csT0FBT2xoQixNQXVCUHNFLElBQUssMEJBQ0xsdkIsTUFBTyxTQXJCZTZuQixHQUN0QixHQUFJK0MsR0FBVXZjLEtBQUt1M0IsWUFBWUssT0FBTyxVQUF4QixrQkFBcURwZSxFQUFyRCxjQUE0RXRvQixLQUMxRixPQUFPcXJCLE1Bd0JQc0UsSUFBSyxtQ0FDTGx2QixNQUFPLFNBdEJ3QjZuQixFQUFXZ0IsRUFBTUMsR0FDaERELEVBQWdCNW9CLFNBQVQ0b0IsRUFBNkIsS0FBT0EsRUFDM0NDLEVBQWdCN29CLFNBQVQ2b0IsRUFBNkIsS0FBT0EsQ0FDM0MsSUFBSThCLEdBQVV2YyxLQUFLdTNCLFlBQVlLLE9BQU8sVUFBeEIsa0JBQXFEcGUsRUFBckQsSUFBa0VnQixFQUFsRSxJQUEwRUMsRUFBMUUsY0FBNEZ2cEIsS0FDMUcsT0FBT3FyQixNQXlCUHNFLElBQUssbUJBQ0xsdkIsTUFBTyxTQXZCUTJ6QixHQUNmLEdBQUkvSSxHQUFVdmMsS0FBS3UzQixZQUFZSyxPQUFPLFlBQXhCLG9CQUF5RHRTLEdBQWVwMEIsS0FDdEYsT0FBT3FyQixPQTBCRnZELElBR1QvdUIsb0JBaEVxQit1QixHdkNnbEtmMmtCLElBQ0EsU0FBUzN6QyxFQUFRQyxRQUFTQyxHd0NqbEtoQyxZQWNBLFNBQVNFLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBWnZGb0gsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLEdBR1QsSUFBSXdsQyxHQUFtQmp0QyxFQUFRLEtBRTNCa3RDLEVBQW1CaHRDLEVBQXVCK3NDLEdBRTFDRSxFQUFnQm50QyxFQUFRLEtBRXhCb3RDLEVBQWdCbHRDLEVBQXVCaXRDLEd4Q3VsS3RDamUsRUFBcUIsV3dDam1LeEIsUUFBQUEsR0FBWXdrQixHQUNWLFlBRDZCLEVBQUF4RyxjQUFBcDNCLEtBQUFvWixHQUU3QnBaLEtBQUs0OUIsa0JBQW9CQSxFQUN6QjU5QixLQUFLNjlCLFlBQWM3OUIsS0FBSzQ5QixrQkFBa0JqN0IsaUJBaUM1QyxNeEM4aktDeVcsR0FBbUI1UixTQUFXLHNCd0Mza0svQixFQUFJOHZCLGNBQXVCbGUsSUFDekJ5SCxJQUFLLFFBQ0xsdkIsTUFBTyxXQWhCUCxNQUZBcU8sTUFBSzY5QixZQUFZaDhCLFNBQVMsV0FDMUI3QixLQUFLNjlCLFlBQVlqOEIsVUFBVSxPQUNwQjVCLEtBQUs2OUIsWUFBWTk4QixXQXNCeEI4ZixJQUFLLFdBQ0xsdkIsTUFBTyxXQW5CUCxNQUFPcU8sTUFBSzY5QixZQUFZeDdCLGVBdUJuQitXLElBR1RudkIsb0JBekNxQm12QixHeENpb0tmMGtCLElBQ0EsU0FBUzl6QyxFQUFRQyxRQUFTQyxHeUNsb0toQyxZQWNBLFNBQVNFLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBWnZGb0gsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLEdBR1QsSUFBSXdsQyxHQUFtQmp0QyxFQUFRLEtBRTNCa3RDLEVBQW1CaHRDLEVBQXVCK3NDLEdBRTFDRSxFQUFnQm50QyxFQUFRLEtBRXhCb3RDLEVBQWdCbHRDLEVBQXVCaXRDLEd6Q3dvS3RDbEosRUFBbUIsV3lDbHBLdEIsUUFBQUEsR0FBWWdMLEVBQ0FsQixFQUNBL2hCLEVBQ0E0QyxFQUNBRixFQUNBQyxFQUNBUSxHQUNWLFlBRHlCLEVBQUErZCxjQUFBcDNCLEtBQUFtdUIsR0FFekJudUIsS0FBS201QixNQUFRQSxFQUNibjVCLEtBQUtpNEIsR0FBS0EsRUFDVmo0QixLQUFLa1csUUFBVUEsRUFDZmxXLEtBQUs4WSxnQkFBa0JBLEVBQ3ZCOVksS0FBSzRZLGFBQWVBLEVBQ3BCNVksS0FBSzZZLE9BQVNBLEVBQ2Q3WSxLQUFLcVosY0FBZ0JBLEVBQ3JCclosS0FBSys5QixnQkFBa0IvOUIsS0FBSys5QixnQkFBZ0JDLEtBQUtoK0IsTUFDakRBLEtBQUtvNUIsUUFBVSxtQkFpS2pCLE16Q2srSkNqTCxHQUFpQjNtQixTQUFXLFFBQVMsS0FBTSxVQUFXLGtCQUFtQixlQUFnQixTQUFVLGtCeUNybktwRyxFQUFJOHZCLGNBQXVCbkosSUFDekJ0TixJQUFLLGNBQ0xsdkIsTUFBTyxTQWJHc3NDLEVBQWE1SyxHQUN2QixNQUFPcnpCLE1BQUtvNUIsUUFBVTZFLEVBQWM1SyxLQWdCcEN4UyxJQUFLLGtCQUNMbHZCLE1BQU8sU0FkT3NzQyxFQUFhNUssR0FDM0IsR0FDSWlHLElBRFd0NUIsS0FBS2k0QixHQUFHRSxRQUNibjRCLEtBQUtpM0IsWUFBWWdILEVBQWE1SyxHQUN4QyxPQUFPcnpCLE1BQUttNUIsTUFBTWpvQyxJQUFJb29DLE1BaUJ0QnpZLElBQUssa0JBQ0xsdkIsTUFBTyxTQWZPMGhDLEdBQ2QsR0FBSTNmLEdBQUkxVCxLQUFLKzlCLGdCQUFnQiwyQkFBNEIxSyxFQWV6RCxPQVpBM2YsWUFBUSxTQUFVMlAsRUFBS3pJLEdBQU0sR0FDdEIzWSxHQUFVb2hCLEVBQVZwaEIsTUFLTCxJQUplLE1BQVhBLElBQ0ZqQyxLQUFLcVosY0FBYzRDLGVBQWUsNENBQ2xDamMsS0FBSzZZLE9BQU93RCxHQUFHLGFBRUYsTUFBWHBhLEVBRUYsTUFEQWpDLE1BQUtxWixjQUFjNEMsZUFBZSxtQ0FDM0JqYyxLQUFLNlksT0FBT3dELEdBQUcsY0FJbkIzSSxFQUFFaEosS0FBSyxTQUFBa1EsR0FBQSxNQUFRQSxRQXFCdEJpRyxJQUFLLGlCQUNMbHZCLE1BQU8sU0FsQk0waEMsR0FDYixNQUFPcnpCLE1BQUsrOUIsZ0JBQWdCLDBCQUEyQjFLLE1BcUJ2RHhTLElBQUssa0JBQ0xsdkIsTUFBTyxTQWxCTzBoQyxHQUNkLE1BQU9yekIsTUFBSys5QixnQkFBZ0IsMkJBQTRCMUssTUFxQnhEeFMsSUFBSyxnQkFDTGx2QixNQUFPLFdBakJQLE1BQU9xTyxNQUFLKzlCLGdCQUFnQix1QkFBd0IsT0FxQnBEbGQsSUFBSyx3Q0FDTGx2QixNQUFPLFNBbEI2QndoQyxFQUFZQyxFQUFVOEIsRUFBVzdCLEdBR3JFLElBQUssR0FGRDZLLEdBQWUsR0FFVnI1QixFQUFJLEVBQUdBLEVBQUlxd0IsRUFBVXR4QixPQUFRaUIsSUFBSyxDQUN6QyxHQUFJdVYsR0FBTzhhLEVBQVVyd0IsRUFDckJxNUIsR0FBZUEsRUFBZSxJQUFNOWpCLEVBT3RDLE1BSkFwYSxNQUFLa1csUUFBUWlvQixLQUFLbitCLEtBQUtvNUIsUUFBVSwyQkFBNkJqRyxFQUFhLElBQU1DLEVBQVcsSUFBTThLLEVBQWUsSUFDL0c3SyxFQUFTLElBQU1yekIsS0FBSzhZLGdCQUFnQjJTLDJCQUVsQyxXQUNHLEtBa0JQNUssSUFBSywwQ0FDTGx2QixNQUFPLFNBZitCd2hDLEVBQVlDLEVBQVU4QixFQUFXN0IsR0FHdkUsSUFBSyxHQUZENkssR0FBZSxHQUVWcjVCLEVBQUksRUFBR0EsRUFBSXF3QixFQUFVdHhCLE9BQVFpQixJQUFLLENBQ3pDLEdBQUl1VixHQUFPOGEsRUFBVXJ3QixFQUNyQnE1QixHQUFlQSxFQUFlLElBQU05akIsRUFNdEMsTUFIQXBhLE1BQUtrVyxRQUFRaW9CLEtBQUtuK0IsS0FBS281QixRQUFVLDZCQUErQmpHLEVBQWEsSUFBTUMsRUFBVyxJQUFNOEssRUFBZSxJQUNqSDdLLEVBQVMsSUFBTXJ6QixLQUFLOFksZ0JBQWdCMlMsMkJBQ2xDLFdBQ0csS0FnQlA1SyxJQUFLLDBDQUNMbHZCLE1BQU8sU0FiK0J3aEMsRUFBWUMsRUFBVTlLLEVBQVMrSyxHQUdyRSxJQUFLLEdBRkQrSyxHQUFhLEdBRVJ2NUIsRUFBSSxFQUFHQSxFQUFJeWpCLEVBQVExa0IsT0FBUWlCLElBQUssQ0FDdkMsR0FBSXVWLEdBQU9rTyxFQUFRempCLEVBQ25CdTVCLEdBQWFBLEVBQWEsSUFBTWhrQixFQU1sQyxNQUhBcGEsTUFBS2tXLFFBQVFpb0IsS0FBS24rQixLQUFLbzVCLFFBQVUsNEJBQThCakcsRUFBYSxJQUFNQyxFQUFXLElBQU1nTCxFQUFhLElBQzlHL0ssRUFBUyxJQUFNcnpCLEtBQUs4WSxnQkFBZ0IyUywyQkFDbEMsV0FDRyxLQWNQNUssSUFBSyxzQ0FDTGx2QixNQUFPLFNBWDJCd2hDLEVBQVlDLEVBQVU5SyxFQUFTK0ssR0FHakUsSUFBSyxHQUZEK0ssR0FBYSxHQUVSdjVCLEVBQUksRUFBR0EsRUFBSXlqQixFQUFRMWtCLE9BQVFpQixJQUFLLENBQ3ZDLEdBQUl1VixHQUFPa08sRUFBUXpqQixFQUNuQnU1QixHQUFhQSxFQUFhLElBQU1oa0IsRUFNbEMsTUFIQXBhLE1BQUtrVyxRQUFRaW9CLEtBQUtuK0IsS0FBS281QixRQUFVLHlCQUEyQmpHLEVBQWEsSUFBTUMsRUFBVyxJQUFNZ0wsRUFBYSxJQUMzRy9LLEVBQVMsSUFBTXJ6QixLQUFLOFksZ0JBQWdCMlMsMkJBQ2xDLFdBQ0csS0FZUDVLLElBQUssMENBQ0xsdkIsTUFBTyxTQVYrQndoQyxFQUFZQyxFQUFVM1QsRUFBVzRULEdBR3ZFLElBQUssR0FGRGdMLEdBQWUsR0FFVng1QixFQUFJLEVBQUdBLEVBQUk0YSxFQUFVN2IsT0FBUWlCLElBQUssQ0FDekMsR0FBSXVWLEdBQU9xRixFQUFVNWEsRUFDckJ3NUIsR0FBZUEsRUFBZSxJQUFNamtCLEVBTXRDLE1BSEFwYSxNQUFLa1csUUFBUWlvQixLQUFLbitCLEtBQUtvNUIsUUFBVSw2QkFBK0JqRyxFQUFhLElBQU1DLEVBQVcsSUFBTWlMLEVBQWUsSUFDakhoTCxFQUFTLElBQU1yekIsS0FBSzhZLGdCQUFnQjJTLDJCQUNsQyxXQUNHLEtBV1A1SyxJQUFLLDRDQUNMbHZCLE1BQU8sU0FUaUN3aEMsRUFBWUMsRUFBVTNULEVBQVc0VCxHQUd6RSxJQUFLLEdBRkRnTCxHQUFlLEdBRVZ4NUIsRUFBSSxFQUFHQSxFQUFJNGEsRUFBVTdiLE9BQVFpQixJQUFLLENBQ3pDLEdBQUl1VixHQUFPcUYsRUFBVTVhLEVBQ3JCdzVCLEdBQWVBLEVBQWUsSUFBTWprQixFQU10QyxNQUhBcGEsTUFBS2tXLFFBQVFpb0IsS0FBS24rQixLQUFLbzVCLFFBQVUsOEJBQWdDakcsRUFBYSxJQUFNQyxFQUFXLElBQU1pTCxFQUFlLElBQ2xIaEwsRUFBUyxJQUFNcnpCLEtBQUs4WSxnQkFBZ0IyUywyQkFDbEM7Q0FDRyxLQVVQNUssSUFBSyxrQkFDTGx2QixNQUFPLFNBUk8yckMsR0FFZCxNQURBQSxHQUFRaHJDLFFBQVFnc0MsVUFBVWhCLEdBQ25CLFNBQVUzUyxHQUVmLE1BREFBLEdBQVdyNEIsUUFBUWdzQyxVQUFVM1QsR0FDTyxJQUE1QkEsRUFBUzM1QixRQUFRc3NDLE9BWTNCemMsSUFBSyxjQUNMbHZCLE1BQU8sU0FUR3VqQyxFQUFXbkwsR0FDckIsTUFBSUEsR0FDS21MLEVBQVVxSixPQUFPditCLEtBQUt3K0IsZ0JBQWdCelUsSUFFdENtTCxNQWFKL0csSUFHVGxrQyxvQkF0THFCa2tDLEd6Qyt6S2ZzUSxJQUNBLFNBQVN6MEMsRUFBUUMsUUFBU0MsRzBDaDBLaEMsWUFjQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQVp2Rm9ILE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxHQUdULElBQUl3bEMsR0FBbUJqdEMsRUFBUSxLQUUzQmt0QyxFQUFtQmh0QyxFQUF1QitzQyxHQUUxQ0UsRUFBZ0JudEMsRUFBUSxLQUV4Qm90QyxFQUFnQmx0QyxFQUF1Qml0QyxHMUNzMEt0Q3ZlLEVBQWtCLFcwQ2gxS3JCLFFBQUFBLEdBQVlxZ0IsRUFBT3hnQixFQUFNdG9CLEVBQWdCOHNDLEVBQWlCNUYsRUFBYVUsR0FDckUsWUFEeUUsRUFBQWIsY0FBQXAzQixLQUFBOFksR0FFekU5WSxLQUFLbTVCLE1BQVFBLEVBQ2JuNUIsS0FBSzJZLEtBQU9BLEVBQ1ozWSxLQUFLM1AsZUFBaUJBLEVBQ3RCMlAsS0FBS205QixnQkFBa0JBLEVBQ3ZCbjlCLEtBQUt1M0IsWUFBY0EsRUFDbkJ2M0IsS0FBS2k0QixHQUFLQSxFQUNWajRCLEtBQUswK0IsWUFBYzErQixLQUFLMCtCLFlBQVlWLEtBQUtoK0IsTUFDekNBLEtBQUtvNUIsUUFBVSxjQStJakIsTTFDeXJLQ3RnQixHQUFnQnRSLFNBQVcsUUFBUyxPQUFRLGlCQUFrQixrQkFBbUIsY0FBZSxPMENwektqRyxFQUFJOHZCLGNBQXVCeGUsSUFDekIrSCxJQUFLLGtCQUNMbHZCLE1BQU8sU0FuQk8wK0IsR0FDZCxNQUFPcndCLE1BQUszUCxlQUFlOFIsSUFBSSxlQUFnQmt1QixNQXNCL0N4UCxJQUFLLHlCQUNMbHZCLE1BQU8sU0FwQmM4NkIsR0FDckIsTUFBT3pzQixNQUFLM1AsZUFBZThSLElBQUksc0JBQXVCc3FCLE1BdUJ0RDVMLElBQUssYUFDTGx2QixNQUFPLFNBckJFaThCLEdBQ1QsTUFBTzV0QixNQUFLM1AsZUFBZThSLElBQUksVUFBV3lyQixNQXdCMUMvTSxJQUFLLGFBQ0xsdkIsTUFBTyxTQXRCRUEsR0FDVCxNQUFPcU8sTUFBSzNQLGVBQWU4UixJQUFJLFVBQVd4USxNQXlCMUNrdkIsSUFBSyxlQUNMbHZCLE1BQU8sU0F2QklBLEdBQ1gsTUFBT3FPLE1BQUszUCxlQUFlOFIsSUFBSSxZQUFheFEsTUEwQjVDa3ZCLElBQUssMkJBQ0xsdkIsTUFBTyxTQXhCZ0JBLEdBQ3ZCLE1BQU9xTyxNQUFLM1AsZUFBZThSLElBQUksd0JBQXlCeFEsTUEyQnhEa3ZCLElBQUssNEJBQ0xsdkIsTUFBTyxTQXpCaUJBLEdBQ3hCLE1BQU9xTyxNQUFLM1AsZUFBZThSLElBQUkseUJBQTBCeFEsTUE0QnpEa3ZCLElBQUssYUFDTGx2QixNQUFPLFdBekJQLE1BQU9xTyxNQUFLM1AsZUFBZWEsSUFBSSxjQTZCL0IydkIsSUFBSyxlQUNMbHZCLE1BQU8sV0ExQlAsTUFBT3FPLE1BQUszUCxlQUFlYSxJQUFJLGdCQThCL0IydkIsSUFBSyxrQkFDTGx2QixNQUFPLFdBM0JQLE1BQU9xTyxNQUFLM1AsZUFBZWEsSUFBSSxtQkErQi9CMnZCLElBQUssNEJBQ0xsdkIsTUFBTyxXQTVCUCxNQUFPcU8sTUFBSzNQLGVBQWVhLElBQUksNkJBZ0MvQjJ2QixJQUFLLDJCQUNMbHZCLE1BQU8sV0E3QlAsTUFBT3FPLE1BQUszUCxlQUFlYSxJQUFJLDRCQWlDL0IydkIsSUFBSyx5QkFDTGx2QixNQUFPLFdBOUJQLE1BQU9xTyxNQUFLM1AsZUFBZWEsSUFBSSwwQkFrQy9CMnZCLElBQUssYUFDTGx2QixNQUFPLFdBL0JQLE1BQU9xTyxNQUFLM1AsZUFBZWEsSUFBSSxjQW1DL0IydkIsSUFBSyxRQUNMbHZCLE1BQU8sU0FqQ0hndEMsR0FBYSxHQUFBakYsR0FBQTE1QixLQUNiNCtCLEdBQ0Z4bUIsYUFBYy9sQixFQUFFd3NDLE1BQU1GLEVBQVl2bUIsY0FDbEMwbUIsU0FBVXpzQyxFQUFFd3NDLE1BQU1GLEVBQVlHLFVBQzlCQyxVQUFXMXNDLEVBQUV3c0MsTUFBTUYsRUFBWUksV0FDL0JDLEtBQU0zc0MsRUFBRXdzQyxNQUFNRixFQUFZSyxNQUMxQkMsU0FBVTVzQyxFQUFFd3NDLE1BQU1GLEVBQVlNLFVBQzlCNTRCLE1BQU9oVSxFQUFFd3NDLE1BQU1GLEVBQVl0NEIsT0FDM0I2NEIsY0FBZTdzQyxFQUFFd3NDLE1BQU1GLEVBQVlPLGVBQ25DcDdCLE1BQU96UixFQUFFd3NDLE1BQU1GLEVBQVk3NkIsT0FDM0I3QixPQUFRNVAsRUFBRXdzQyxNQUFNRixFQUFZMThCLFFBRzFCMDhCLEdBQVluUCxPQUFTbVAsRUFBWVEsV0FDbkNQLEVBQXdCRCxFQUcxQixJQUFJcGlCLEdBQVV2YyxLQUFLbTVCLE1BQU03eUIsS0FBSyxTQUFVczRCLEVBQ3hDLE9BQU9yaUIsR0FBUWtLLFFBQVEsU0FBQTdMLEdBRXJCLE1BREE4ZSxHQUFLMEYsV0FBV3hrQixFQUFLZ1MsS0FBSy9MLEtBQ25CNlksRUFBS2dGLGNBQ1RoMEIsS0FBSyxpQkFBTWtRLFVBd0NoQmlHLElBQUssY0FDTGx2QixNQUFPLFdBckNLLEdBQUF1b0MsR0FBQWw2QixLQUNSazRCLEVBQVdsNEIsS0FBS2k0QixHQUFHRSxRQUNuQmtILEVBQWtCci9CLEtBQUttOUIsZ0JBQWdCN04sYUFVM0MsT0FUQStQLEdBQWdCMzBCLEtBQUssU0FBQWtRLEdBT25CLE1BTkFzZixHQUFLb0YsZ0JBQWdCMWtCLEVBQUssY0FDMUJzZixFQUFLcUYsdUJBQXVCM2tCLEVBQUssdUJBQ2pDc2YsRUFBS3NGLFdBQVc1a0IsRUFBSyxVQUNyQnNmLEVBQUt1RixhQUFhN2tCLEVBQUssT0FDdkJzZixFQUFLc0YsV0FBVzVrQixFQUFLLFVBRWRzZCxFQUFTMTRCLFlBRVgwNEIsRUFBUzNiLFdBMENoQnNFLElBQUssaUJBQ0xsdkIsTUFBTyxXQXZDUHFPLEtBQUszUCxlQUFlZ3lCLGdCQTJDZnZKLElBR1Q3dUIsb0JBN0pxQjZ1QixHMUNvK0tmNG1CLElBQ0EsU0FBUzExQyxFQUFRQyxRQUFTQyxHMkNyK0toQyxZQWtCQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQWhCdkZvSCxPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sR0FHVCxJQUFJd2xDLEdBQW1CanRDLEVBQVEsS0FFM0JrdEMsRUFBbUJodEMsRUFBdUIrc0MsR0FFMUNFLEVBQWdCbnRDLEVBQVEsS0FFeEJvdEMsRUFBZ0JsdEMsRUFBdUJpdEMsR0FaM0NzSSxFQUFBejFDLEVBQUEsS0FnQkkwMUMsRUFBVXgxQyxFQUF1QnUxQyxHQWRoQnR2QyxFQWtCQSxXQWhCbkIsUUFBQUEsTUFBYyxFQUFBK21DLGNBQUFwM0IsS0FBQTNQLEdBMENkLE9BckJBLEVBQUlpbkMsY0FBdUJqbkMsSUFDekJ3d0IsSUFBSyxNQUNMbHZCLE1BQU8sU0FwQkxrdkIsRUFBS2x2QixHQUNQLE1BQU9pdUMsY0FBTXo5QixJQUFJMGUsRUFBS2x2QixNQXVCdEJrdkIsSUFBSyxNQUNMbHZCLE1BQU8sU0FyQkxrdkIsR0FDRixNQUFPK2UsY0FBTTF1QyxJQUFJMnZCLE1Bd0JqQkEsSUFBSyxLQUNMbHZCLE1BQU8sU0F0Qk5rdkIsR0FDRCxNQUFPK2UsY0FBTUMsR0FBR2hmLE1BeUJoQkEsSUFBSyxZQUNMbHZCLE1BQU8sV0F0QlBpdUMsYUFBTUUsWUEwQkR6dkMsSUFHVHBHLG9CQS9DcUJvRyxHM0MwaExmMHZDLElBQ0EsU0FBUy8xQyxFQUFRQyxRQUFTQyxHNEM3aExoQyxZQWNBLFNBQVNFLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBWnZGb0gsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLEdBR1QsSUFBSXdsQyxHQUFtQmp0QyxFQUFRLEtBRTNCa3RDLEVBQW1CaHRDLEVBQXVCK3NDLEdBRTFDRSxFQUFnQm50QyxFQUFRLEtBRXhCb3RDLEVBQWdCbHRDLEVBQXVCaXRDLEc1Q21pTHRDL1gsRUFBaUIsVzRDN2lMcEIsUUFBQUEsR0FBWWlZLEVBQWF6ZSxHQUN2QixZQUR3QyxFQUFBc2UsY0FBQXAzQixLQUFBc2YsR0FFeEN0ZixLQUFLdTNCLFlBQWNBLEVBQ25CdjNCLEtBQUs4WSxnQkFBa0JBLEVBK0V6QixNNUM0OUtDd0csR0FBZTlYLFNBQVcsY0FBZSxvQjRDdmhMMUMsRUFBSTh2QixjQUF1QmhZLElBQ3pCdUIsSUFBSyxPQUNMbHZCLE1BQU8sU0FuQkowaEMsR0FDSCxHQUFtQnpoQyxTQUFmeWhDLEVBQU94UyxJQUNULEdBQUl0RSxHQUFVOFcsRUFBT2lKLFVBRXJCLElBQUkvZixHQUFVdmMsS0FBS3UzQixZQUFZaHBDLFFBQVEsV0FBVytYLEtBQUsrc0IsRUFFekQsT0FBTzlXLE1Bc0JQc0UsSUFBSyxZQUNMbHZCLE1BQU8sU0FwQkNxdUMsR0FDUixNQUFPaGdDLE1BQUt1M0IsWUFBWUssT0FBTyxRQUF4Qix3QkFBeURvSSxHQUFzQjNELGFBdUJ0RnhiLElBQUssWUFDTGx2QixNQUFPLFNBckJDcXVDLEVBQW9CQyxFQUFTbDdCLEdBQ3JDLEdBQUk0eUIsSUFDRnNJLFVBQ0FsN0IsT0FFRixPQUFPL0UsTUFBS3UzQixZQUFZSyxPQUFPLFFBQXhCLHdCQUF5RG9JLEdBQXNCbkksV0FBV0YsTUF3QmpHOVcsSUFBSyx5QkFDTGx2QixNQUFPLFNBdEJjdXVDLEdBQ3JCLEdBQUkzakIsR0FBVXZjLEtBQUt1M0IsWUFBWTZFLElBQUksV0FBV3NCLGNBQWMsSUFBS3dDLFlBQWFBLEdBQzlFLE9BQU8zakIsTUF5QlBzRSxJQUFLLGtCQUNMbHZCLE1BQU8sV0F0QlAsR0FBSTRxQixHQUFVdmMsS0FBS3UzQixZQUFZNkUsSUFBSSxXQUFXQyxTQUM5QyxPQUFPOWYsTUEwQlBzRSxJQUFLLDJCQUNMbHZCLE1BQU8sU0F4QmdCd3VDLEVBQVdDLEdBQ2xDLEdBQUk5RyxHQUFBLDRCQUFrQzZHLEVBQWxDLElBQStDQyxFQUMvQzdqQixFQUFVdmMsS0FBS3UzQixZQUFZSyxPQUFPLFVBQVcwQixHQUFLcG9DLEtBQ3RELE9BQU9xckIsTUEyQlBzRSxJQUFLLGlCQUNMbHZCLE1BQU8sU0F6Qk02bkIsR0FDYixHQUFJOGYsR0FBQSxrQkFBd0I5ZixFQUN4QitDLEVBQVV2YyxLQUFLdTNCLFlBQVlLLE9BQU8sVUFBVzBCLEdBQUtwb0MsS0FDdEQsT0FBT3FyQixNQTRCUHNFLElBQUssU0FDTGx2QixNQUFPLFNBMUJGMGhDLEdBQ0wsR0FBbUJ6aEMsU0FBZnloQyxFQUFPeFMsSUFBbUIsQ0FDNUIsR0FBSXRFLEdBQVV2YyxLQUFLdTNCLFlBQVlpRixJQUFJLFVBQVduSixFQUFPeFMsS0FBSzRiLFFBQzFELE9BQU9sZ0IsUUE4QkorQyxJQUdUcjFCLG9CQXZGcUJxMUIsRzVDMm5MZitnQixJQUNBLFNBQVNyMkMsRUFBUUMsUUFBU0MsRzZDNW5MaEMsWUFjQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQVp2Rm9ILE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxHQUdULElBQUl3bEMsR0FBbUJqdEMsRUFBUSxLQUUzQmt0QyxFQUFtQmh0QyxFQUF1QitzQyxHQUUxQ0UsRUFBZ0JudEMsRUFBUSxLQUV4Qm90QyxFQUFnQmx0QyxFQUF1Qml0QyxHN0Nrb0x0Q25lLEVBQW1CLFc2QzdvTHRCLFFBQUFBLEdBQVlxZSxHQUNWLFlBRHVCLEVBQUFILGNBQUFwM0IsS0FBQWtaLEdBRXZCbFosS0FBS3UzQixZQUFjQSxFQXdDckIsTTdDb21MQ3JlLEdBQWlCMVIsU0FBVyxnQjZDdm5MN0IsRUFBSTh2QixjQUF1QnBlLElBQ3pCMkgsSUFBSyxpQkFDTGx2QixNQUFPLFdBbkJQLEdBQUk0cUIsR0FBVXZjLEtBQUt1M0IsWUFBWUssT0FBTyxZQUFhLHVCQUF1QjFtQyxLQUMxRSxPQUFPcXJCLE1BdUJQc0UsSUFBSyxrQkFDTGx2QixNQUFPLFdBcEJQLEdBQUk0cUIsR0FBVXZjLEtBQUt1M0IsWUFBWUssT0FBTyxZQUFhLHdCQUF3QjFtQyxLQUMzRSxPQUFPcXJCLE1Bd0JQc0UsSUFBSyxxQkFDTGx2QixNQUFPLFdBckJQLEdBQUk0cUIsR0FBVXZjLEtBQUt1M0IsWUFBWUssT0FBTyxZQUFhLDJCQUEyQjFtQyxLQUM5RSxPQUFPcXJCLE9BeUJGckQsSUFHVGp2QixvQkE5Q3FCaXZCLEc3Q2lyTGZvbkIsSUFDQSxTQUFTdDJDLEVBQVFDLFFBQVNDLEc4Q2xyTGhDLFlBY0EsU0FBU0UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FadkZvSCxPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sR0FHVCxJQUFJd2xDLEdBQW1CanRDLEVBQVEsS0FFM0JrdEMsRUFBbUJodEMsRUFBdUIrc0MsR0FFMUNFLEVBQWdCbnRDLEVBQVEsS0FFeEJvdEMsRUFBZ0JsdEMsRUFBdUJpdEMsRzlDd3JMdENoZSxFQUFnQixXOENsc0xuQixRQUFBQSxHQUFZa25CLEdBQ1YsWUFEa0IsRUFBQW5KLGNBQUFwM0IsS0FBQXFaLEdBRWxCclosS0FBS3VnQyxPQUFTQSxFQTBDaEIsTTlDdXBMQ2xuQixHQUFjN1IsU0FBVyxXOEM3cUwxQixFQUFJOHZCLGNBQXVCamUsSUFDekJ3SCxJQUFLLG1CQUNMbHZCLE1BQU8sU0FuQlFnN0IsR0FBNkIsR0FBcEJ0RyxHQUFvQm1hLFVBQUE1OEIsUUFBQSxHQUFBaFMsU0FBQTR1QyxVQUFBLEdBQVosV0FBWUEsVUFBQSxFQUM1QyxPQUFPeGdDLE1BQUt1Z0MsT0FBTzlaLFFBQVFrRyxFQUFTdEcsTUF3QnBDeEYsSUFBSyxpQkFDTGx2QixNQUFPLFNBdEJNZzdCLEdBQTJCLEdBQWxCdEcsR0FBa0JtYSxVQUFBNThCLFFBQUEsR0FBQWhTLFNBQUE0dUMsVUFBQSxHQUFWLFNBQVVBLFVBQUEsRUFDeEMsT0FBT3hnQyxNQUFLdWdDLE9BQU9ua0IsTUFBTXVRLEVBQVN0RyxNQTJCbEN4RixJQUFLLGdCQUNMbHZCLE1BQU8sU0F6QktnN0IsR0FBZ0MsR0FBdkJ0RyxHQUF1Qm1hLFVBQUE1OEIsUUFBQSxHQUFBaFMsU0FBQTR1QyxVQUFBLEdBQWYsY0FBZUEsVUFBQSxFQUM1QyxPQUFPeGdDLE1BQUt1Z0MsT0FBTzFhLEtBQUs4RyxFQUFTdEcsT0E4QjVCaE4sSUFHVHB2QixvQkFqRHFCb3ZCLEc5QzB1TGZvbkIsSUFDQSxTQUFTejJDLEVBQVFDLFFBQVNDLEcrQzN1TGhDLFlBY0EsU0FBU0UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FadkZvSCxPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sR0FHVCxJQUFJd2xDLEdBQW1CanRDLEVBQVEsS0FFM0JrdEMsRUFBbUJodEMsRUFBdUIrc0MsR0FFMUNFLEVBQWdCbnRDLEVBQVEsS0FFeEJvdEMsRUFBZ0JsdEMsRUFBdUJpdEMsRy9DaXZMdENxSixFQUFrQixXK0MzdkxyQixRQUFBQSxHQUFZbkosR0FDVixZQUR1QixFQUFBSCxjQUFBcDNCLEtBQUEwZ0MsR0FFdkIxZ0MsS0FBS3UzQixZQUFjQSxFQTJCckIsTS9DK3RMQ21KLEdBQWdCbDVCLFNBQVcsZ0IrQ3R1TDVCLEVBQUk4dkIsY0FBdUJvSixJQUN6QjdmLElBQUssY0FDTGx2QixNQUFPLFdBbEJQLEdBQUk0cUIsR0FBVXZjLEtBQUt1M0IsWUFBWUssT0FBTyxZQUFZMW1DLEtBQ2xELE9BQU9xckIsT0FzQkZta0IsSUFHVHoyQyxvQkFsQ3FCeTJDLEcvQ294TGZDLElBQ0EsU0FBUzMyQyxFQUFRQyxTZ0RyeEx2QixxQkFBU3NGLEdBQWNvcEIsRUFBTXJvQixFQUFXZ3ZCLEVBQWdCdU0sRUFBcUIzUyxFQUFrQkwsRUFBUU0sRUFBT0MsRUFDdkZOLEdBQ3JCLFVBRUEsSUFBSVMsR0FBS3ZaLElBNEVULE9BM0VBdVosR0FBR3FuQixlQUFpQnR3QyxFQUFVUyxPQUFPQyxRQUFRLDRCQUM3Q3VvQixFQUFHd2IsZUFDRGxVLElBQUtqdkIsT0FDTG1ULEtBQU1uVCxPQUNOaXZDLFlBQWFqdkMsT0FDYjhsQyxZQUFhOWxDLE9BQ2JrdkMsbUJBQW9CbHZDLE9BQ3BCbXZDLHlCQUEwQm52QyxPQUMxQm92QyxXQUFZcHZDLE9BQ1pxdkMsb0JBQXFCcnZDLE9BQ3JCc3ZDLHVCQUF1QixFQUN2QkMsa0JBQW1CdnZDLE9BQ25CKy9CLFFBQVEsR0FFVnBZLEVBQUc2bkIsZUFBaUJ4dkMsT0FDcEIybkIsRUFBRzhuQixzQkFDSDluQixFQUFHb0csYUFDSHBHLEVBQUdzQyxpQkFBbUIsa0JBRXRCdEMsRUFBRytCLFdBQWEsV0FDZCxHQUFJa0osR0FBa0J0TCxFQUFpQnVMLG9CQUN2Q0QsR0FBZ0I5WixLQUFLLFNBQUFrUSxHQUFBLE1BQVFyQixHQUFHb0csVUFBWS9FLElBQzVDckIsRUFBR2lVLHNCQUF3QjFVLEVBQWdCMlMsMEJBQzNDLElBQUk2VixHQUFxQnpWLEVBQW9CMFYsU0FBU2hvQixFQUFHaVUsc0JBQ3pEOFQsR0FBbUI1MkIsS0FBSyxTQUFVa1EsR0FFaEMsTUFEQXJCLEdBQUd3YixjQUFjZ00seUJBQTJCbm1CLEVBQUs0bUIsb0JBQzFDam9CLEVBQUd3YixjQUFjK0wsbUJBQXFCbG1CLEVBQUs2bUIsb0JBRXBELElBQUlDLEdBQTJCN1YsRUFBb0I4VixnQkFBZ0Jwb0IsRUFBR2lVLHNCQUN0RSxPQUFPa1UsR0FBeUJoM0IsS0FBSyxTQUFBcW1CLEdBQUEsTUFBV3hYLEdBQUc4bkIsbUJBQXFCdFEsS0FHMUV4WCxFQUFHcW9CLGtCQUFvQixXQUNyQnhvQixFQUFtQnJZLFFBQ25Cd1ksRUFBR3diLGNBQWM4TSxpQkFBbUJ0b0IsRUFBR3NDLGlCQUN2Q3RDLEVBQUd3YixjQUFjaU0sV0FBYXpuQixFQUFHNm5CLGVBQWV2Z0IsR0FDaEQsSUFBSXRFLEdBQVUrQyxFQUFlbUIsS0FBS2xILEVBQUd3YixjQUNyQyxPQUFPeFksR0FBUTdSLEtBQUs2TyxFQUFHdW9CLG9CQUFxQnZvQixFQUFHd29CLHNCQUdqRHhvQixFQUFHdW9CLG9CQUFzQixXQUV2QixNQURBMW9CLEdBQW1CL1csV0FDWndXLEVBQU93RCxHQUFHLFlBR25COUMsRUFBR3dvQixvQkFBc0IsU0FBVUMsR0FFakMsTUFEQTVvQixHQUFtQi9XLFdBQ08sTUFBdkIyL0IsRUFBWS8vQixPQUNOa1gsRUFBTW5ZLEtBQUssVUFDaEIsdUdBQ0EsU0FFMkIsTUFBdkJnaEMsRUFBWS8vQixPQUNYa1gsRUFBTW5ZLEtBQUssVUFDaEIsNEdBQ0EsVUFHRjJYLEVBQUt5RCxNQUFNNGxCLEdBQ0o3b0IsRUFBTW5ZLEtBQUssVUFBVyw2QkFBOEIsV0FJL0R1WSxFQUFHMG9CLHVCQUF5QixXQUMxQixJQUFLMW9CLEVBQUd3YixjQUFjbFUsSUFBSyxDQUN6QixHQUFJcWhCLEdBQWdCLEVBTXBCLE9BTEkzb0IsR0FBR3diLGNBQWNod0IsT0FDbkJtOUIsRUFBZ0Izb0IsRUFBR3diLGNBQWNod0IsS0FBS3NnQixjQUN0QzZjLEVBQWdCQSxFQUFjcC9CLFFBQVEsT0FBUSxLQUM5Q28vQixFQUFnQkEsRUFBY3AvQixRQUFRLE9BQVEsS0FFekN5VyxFQUFHd2IsY0FBYzhMLFlBQWNxQixJQUluQzNvQixFaER5c0xSaHFCLEVBQWNpWSxTQUFXLE9BQVEsWUFBYSxpQkFBa0Isc0JBQXVCLG1CQUFvQixTQUFVLFFBQVMscUJBQXNCLG1CZ0R2eExySi9WLE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxJQWlGVDFILFFBRlFzRixpQmhEOHhMRjR5QyxJQUNBLFNBQVNuNEMsRUFBUUMsU2lEajNMdkIscUJBQVN1RixHQUFrQm9wQixFQUFjMEcsRUFBZ0J3UixFQUFnQjVYLEVBQWtCMlMsRUFBcUJoVCxFQUFRTSxFQUM3RkMsRUFBb0JDLEVBQWVQLEVBQWlCMVksRUFBUTlQLEdBQ3JGLFVBRUEsSUFBSWlwQixHQUFLdlosSUFxQlQsSUFwQkF1WixFQUFHcW5CLGVBQWlCdHdDLEVBQVVTLE9BQU9DLFFBQVEsNEJBQzdDdW9CLEVBQUd3YixlQUNEbFUsSUFBS2p2QixPQUNMbVQsS0FBTW5ULE9BQ05pdkMsWUFBYWp2QyxPQUNiOGxDLFlBQWE5bEMsT0FDYmt2QyxtQkFBb0JsdkMsT0FDcEJtdkMseUJBQTBCbnZDLE9BQzFCb3ZDLFdBQVlwdkMsT0FDWnF2QyxvQkFBcUJydkMsT0FDckJzdkMsdUJBQXVCLEVBQ3ZCQyxrQkFBbUJ2dkMsT0FDbkIrL0IsUUFBUSxHQUVWcFksRUFBRzZuQixlQUFpQnh2QyxPQUNwQjJuQixFQUFHOG5CLHNCQUNIOW5CLEVBQUdvRyxhQUNIcEcsRUFBR3NDLGlCQUFtQixrQkFDdEJ0QyxFQUFHd1ksV0FBYW5aLEVBQWFZLFVBRXpCRCxFQUFHd1ksU0FBVSxDQUNmLEdBQUlxUSxHQUFnQjlpQixFQUFlK2lCLGVBQWV6cEIsRUFBYVksVUFDL0Q0b0IsR0FBYzEzQixLQUFLLFNBQVUyb0IsR0FFM0IsTUFEQTlaLEdBQUd3YixjQUFnQjFCLEVBQ1o5WixFQUFHK29CLHlCQUF5QmpQLEtBd0V2QyxNQXBFQTlaLEdBQUcrQixXQUFhLFdBQ2QsR0FBSWtKLEdBQWtCdEwsRUFBaUJ1TCxvQkFDdkNELEdBQWdCOVosS0FBSyxTQUFBa1EsR0FBQSxNQUFRckIsR0FBR29HLFVBQVkvRSxJQUM1Q3JCLEVBQUdpVSxzQkFBd0IxVSxFQUFnQjJTLDBCQUMzQyxJQUFJaVcsR0FBMkI3VixFQUFvQjhWLGdCQUFnQnBvQixFQUFHaVUsc0JBQ3RFLE9BQU9rVSxHQUF5QmgzQixLQUFLLFNBQUFxbUIsR0FBQSxNQUFXeFgsR0FBRzhuQixtQkFBcUJ0USxLQUcxRXhYLEVBQUcrb0IseUJBQTJCLFNBQVVqUCxHQUN0QzlaLEVBQUdzQyxpQkFBbUJ3WCxFQUFPd08sZ0JBQzdCLElBQUk3UCxHQUFnQmxCLEVBQWVtQixlQUFlb0IsRUFBTzJOLFdBQ3pELE9BQU9oUCxHQUFjdG5CLEtBQUssU0FBQWtRLEdBQUEsTUFBUXJCLEdBQUc2bkIsZUFBaUJ4bUIsS0FHeERyQixFQUFHcW9CLGtCQUFvQixXQUNyQnhvQixFQUFtQnJZLFFBQ25Cd1ksRUFBR3diLGNBQWM4TSxpQkFBbUJ0b0IsRUFBR3NDLGlCQUN2Q3RDLEVBQUd3YixjQUFjaU0sV0FBYXpuQixFQUFHNm5CLGVBQWV2Z0IsR0FDaEQsSUFBSXRFLEdBQVUrQyxFQUFlbUIsS0FBS2xILEVBQUd3YixjQUNyQyxPQUFPeFksR0FBUTdSLEtBQUs2TyxFQUFHdW9CLG9CQUFxQnZvQixFQUFHd29CLHNCQUdqRHhvQixFQUFHdW9CLG9CQUFzQixXQUV2QixNQURBMW9CLEdBQW1CL1csV0FDWmdYLEVBQWNzRCxpQkFBaUIsc0NBR3hDcEQsRUFBR3dvQixvQkFBc0IsU0FBVUMsR0FFakMsTUFEQTVvQixHQUFtQi9XLFdBQ1EsTUFBdkIyL0IsRUFBWS8vQixPQUNQa1gsRUFBTW5ZLEtBQUssVUFDaEIsdUZBQXdGLFNBRW5GbVksRUFBTW5ZLEtBQUssVUFBVyw2QkFBOEIsVUFJL0R1WSxFQUFHeVEsU0FBVyxTQUFBQyxHQUFBLE1BQVFwUixHQUFPd0QsR0FBRyxjQUFlNUMsVUFBV3dRLEVBQUtwSixJQUFLckgsVUFBV1osRUFBYVksYUFFNUZELEVBQUcwb0IsdUJBQXlCLFdBQzFCLElBQUsxb0IsRUFBR3diLGNBQWNsVSxJQUFLLENBQ3pCLEdBQUlxaEIsR0FBZ0IsRUFNcEIsT0FMSTNvQixHQUFHd2IsY0FBY2h3QixPQUNuQm05QixFQUFnQjNvQixFQUFHd2IsY0FBY2h3QixLQUFLc2dCLGNBQ3RDNmMsRUFBZ0JBLEVBQWNwL0IsUUFBUSxPQUFRLEtBQzlDby9CLEVBQWdCQSxFQUFjcC9CLFFBQVEsT0FBUSxLQUV6Q3lXLEVBQUd3YixjQUFjOEwsWUFBY3FCLElBSTFDOWhDLEVBQU9taUMsU0FBVyxFQUVsQm5pQyxFQUFPNkMsT0FBTyxXQUFZLFNBQVV1L0IsRUFBT0MsR0FDekMsR0FBYzd3QyxTQUFWNHdDLEVBQ0YsT0FBUUEsR0FDTixJQUFLLEdBQ0gsTUFBTzNwQixHQUFPd0QsR0FBRyxpQkFBa0I3QyxVQUFXWixFQUFhWSxXQUM3RCxLQUFLLEdBQ0gsTUFBT1gsR0FBT3dELEdBQUcsd0JBQXlCN0MsVUFBV1osRUFBYVksV0FDcEUsS0FBSyxHQUNILE1BQU9YLEdBQU93RCxHQUFHLDBCQUEyQjdDLFVBQVdaLEVBQWFZLFdBQ3RFLEtBQUssR0FDSCxNQUFPWCxHQUFPd0QsR0FBRyxtQkFBb0I3QyxVQUFXWixFQUFhWSxlQUs5REQsRWpEZ3hMUi9wQixFQUFrQmdZLFNBQVcsZUFBZ0IsaUJBQWtCLGlCQUFrQixtQkFBb0Isc0JBQXVCLFNBQVUsUUFBUyxxQkFBc0IsZ0JBQWlCLGtCQUFtQixTQUFVLGFpRG4zTHBOL1YsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLElBK0dUMUgsUUFYUXVGLHFCakRtNExGa3pDLElBQ0EsU0FBUzE0QyxFQUFRQyxTa0QzK0x2QixxQkFBU3dGLEdBQW1CbXBCLEVBQWMwRyxFQUFnQnRHLEVBQWtCSCxFQUFRTSxFQUFPQyxFQUFvQkMsR0FDN0csVUFFQSxJQUFJRSxHQUFLdlosSUFNVCxJQUxBdVosRUFBR2dNLFVBQ0QxRSxJQUFLanZCLFFBRVAybkIsRUFBR0MsVUFBWVosRUFBYVksVUFDNUJELEVBQUd3WSxXQUFhblosRUFBYTBNLFlBQ3pCL0wsRUFBR3dZLFNBQVUsQ0FDZixHQUFJNFEsR0FBa0IzcEIsRUFBaUI0cEIsaUJBQWlCaHFCLEVBQWEwTSxZQUNyRXFkLEdBQWdCajRCLEtBQUssU0FBVWtRLEdBSTdCLE1BSEFyQixHQUFHZ00sU0FBVzNLLEVBQ2RyQixFQUFHQyxVQUFZb0IsRUFBS3BCLFVBQ3BCRCxFQUFHc3BCLGFBQWVqb0IsRUFBS2tvQixxQkFDaEJ2cEIsRUFBR3dwQixnQkFBZ0J4cEIsRUFBR0MsYUF1RWpDLE1BbkVBRCxHQUFHK0IsV0FBYSxXQUNkLElBQUsvQixFQUFHd1ksU0FFTixNQURBeFksR0FBR3dwQixnQkFBZ0J4cEIsRUFBR0MsV0FDZkQsRUFBR2dNLFVBQ1IvTCxVQUFXRCxFQUFHQyxVQUNkbVksUUFBUSxJQUtkcFksRUFBR3FvQixrQkFBb0IsV0FDckJ4b0IsRUFBbUJyWSxPQUNuQixJQUFJd2IsR0FBVXZELEVBQWlCeUgsS0FBS2xILEVBQUdnTSxTQUN2QyxPQUFJaE0sR0FBR3dZLFNBQ0V4VixFQUFRN1IsS0FBSzZPLEVBQUd5cEIsMEJBQTBCenBCLEVBQUdDLFdBQVlELEVBQUcwcEIseUJBRTVEMW1CLEVBQVE3UixLQUFLNk8sRUFBRzJwQix3QkFBeUIzcEIsRUFBRzBwQiwwQkFJdkQxcEIsRUFBRzJwQix3QkFBMEIsV0FHM0IsTUFGQTlwQixHQUFtQi9XLFdBQ25CZ1gsRUFBY3NELGlCQUFpQiwyQkFDeEJvUSxXQUFZLFdBQ2pCbFUsRUFBT3dELEdBQUcsbUJBQW9CN0MsVUFBV1osRUFBYVksYUFFcEQsTUFHTkQsRUFBR3lwQiwwQkFBNEIsU0FBVUcsR0FHdkMsTUFGQS9wQixHQUFtQi9XLFdBQ25CZ1gsRUFBY3NELGlCQUFpQiw2QkFDeEJvUSxXQUFZLFdBQ2pCbFUsRUFBT3dELEdBQUcsbUJBQW9CN0MsVUFBVzJwQixLQUV2QyxNQUdONXBCLEVBQUcwcEIsd0JBQTBCLFNBQVV4bkIsR0FFckMsTUFEQXJDLEdBQW1CL1csV0FDSyxNQUFwQm9aLEVBQVN4WixRQUNYb1gsRUFBYzRDLGVBQWUseURBQ3RCOUMsRUFBTW5ZLEtBQUssVUFDaEIsaUdBQ0EsVUFFS3FZLEVBQWM0QyxlQUFlLGtDQUl4QzFDLEVBQUd3cEIsZ0JBQWtCLFNBQVV2cEIsR0FDN0IsR0FBSTRvQixHQUFnQjlpQixFQUFlK2lCLGVBQWU3b0IsRUFDbEQsT0FBTzRvQixHQUFjMTNCLEtBQUssU0FBQTJvQixHQUFBLE1BQVU5WixHQUFHNnBCLFdBQWEvUCxFQUFPdHVCLFFBRzdEd1UsRUFBRzhwQixpQ0FBbUMsV0FDcEMsSUFBSzlwQixFQUFHZ00sU0FBUzFFLElBQUssQ0FDcEIsR0FBSXlpQixHQUEwQixFQU05QixPQUxJL3BCLEdBQUdnTSxTQUFTdWQsdUJBQ2RRLEVBQTBCL3BCLEVBQUdnTSxTQUFTdWQscUJBQXFCemQsY0FDM0RpZSxFQUEwQkEsRUFBd0J4Z0MsUUFBUSxPQUFRLEtBQ2xFd2dDLEVBQTBCQSxFQUF3QnhnQyxRQUFRLE9BQVEsS0FFN0R5VyxFQUFHZ00sU0FBU2dlLHFCQUF1QkQsSUFJdkMvcEIsRWxEeTVMUjlwQixFQUFtQitYLFNBQVcsZUFBZ0IsaUJBQWtCLG1CQUFvQixTQUFVLFFBQVMscUJBQXNCLGlCa0Q3K0w5SC9WLE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxJQTBGVDFILFFBTFF3RixzQmxEdS9MRit6QyxJQUNBLFNBQVN4NUMsRUFBUUMsUUFBU0MsR21EaGxNaEMsWUFlQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQVp2RixRQUFTcUYsR0FBb0IwUSxFQUFRd1ksRUFBYzBHLEVBQWdCdEcsRUFBa0JILEVBQVFPLEdBQzNGLFVBRUEsSUFBSUcsR0FBS3ZaLEtBQ0p3WixFQUFhWixFQUFiWSxTQUNMcFosR0FBT21pQyxTQUFXLEVBQ2xCaHBCLEVBQUdrRyxhQUNIbEcsRUFBR2txQixnQkFBaUIsRUFDcEJscUIsRUFBR0MsVUFBWVosRUFBYVksU0FFNUIsSUFBSTRvQixHQUFnQjlpQixFQUFlK2lCLGVBQWU3b0IsRUF3RmxELE9BdkZBNG9CLEdBQWMxM0IsS0FBSyxTQUFBa1EsR0FDakJyQixFQUFHd2IsY0FBZ0JuYSxJQUdyQnhhLEVBQU82QyxPQUFPLFdBQVksU0FBVXlnQyxHQUNsQyxHQUFzQjl4QyxTQUFsQjh4QyxFQUNGLE9BQVFBLEdBQ04sSUFBSyxHQUNILE1BQU83cUIsR0FBT3dELEdBQUcsaUJBQWtCN0MsYUFDckMsS0FBSyxHQUNILE1BQU9YLEdBQU93RCxHQUFHLHdCQUF5QjdDLGFBQzVDLEtBQUssR0FDSCxNQUFPWCxHQUFPd0QsR0FBRywwQkFBMkI3QyxhQUM5QyxLQUFLLEdBQ0gsTUFBT1gsR0FBT3dELEdBQUcsbUJBQW9CN0MsaUJBSzdDRCxFQUFHb3FCLGFBQWUsU0FBVW5xQixFQUFXZ0IsRUFBTUMsR0FDM0NyQixFQUFtQnJZLE9BQ25CLElBQUkrakIsR0FBbUI5TCxFQUFpQjRxQixpQ0FBaUNwcUIsRUFBV2dCLEVBQU1DLEVBQzFGLE9BQU9xSyxHQUFpQnBhLEtBQUssU0FBVWtRLEdBSXJDLE1BSEFyQixHQUFHa0csVUFBWTdFLEVBQUs2RSxVQUNwQmxHLEVBQUd3QixZQUFjSCxFQUFLRyxZQUN0QnhCLEVBQUcwQixZQUFjTCxFQUFLSyxZQUNmN0IsRUFBbUIvVyxjQUk5QmtYLEVBQUdzcUIsK0JBQWlDLFNBQUM5K0IsR0FDbkMsSUFBS0EsR0FBUUEsRUFBS25CLE9BQVMsRUFDekIsUUFFRixJQUFJMlksR0FBVXZELEVBQWlCNnFCLCtCQUErQnRxQixFQUFHQyxVQUFXelUsRUFDNUUsT0FBT3dYLEdBQVE3UixLQUFLLFNBQUMrUSxHQUVuQixNQURBbEMsR0FBR3VxQix3QkFBMEJyb0IsRUFDekJsQyxFQUFHdXFCLHdCQUNFdnFCLEVBQUd1cUIsd0JBQXdCbnhDLElBQUksU0FBQ2tTLEdBQUQsTUFBT0EsR0FBRWkrQix1QkFBc0JpQixLQUE5REMsb0JBV2J6cUIsRUFBRzBxQixzQkFBd0IsU0FBQ2wvQixHQUMxQixJQUFLQSxHQUFRQSxFQUFLbkIsT0FBUyxFQUN6QixRQUVZb1YsR0FBaUI2cUIsK0JBQStCdHFCLEVBQUdDLFVBQVd6VSxHQUN6RTJGLEtBQUssU0FBQytRLEdBQ0wsR0FBSTVYLEdBQVE0WCxDQUNaLElBQUk1WCxFQUFPLElBQUFnZixJQUFBLEVBQUFDLEdBQUEsRUFBQUMsRUFBQW54QixNQUFBLEtBQ1QsT0FBQW94QixHQUFBQyxHQUFBLEVBQUFDLGNBQTZCcmYsS0FBN0JnZixHQUFBRyxFQUFBQyxFQUFBeEksUUFBQTBJLE1BQUFOLEdBQUEsRUFBb0MsSUFBM0JxaEIsR0FBMkJsaEIsRUFBQXJ4QixLQUNsQyxJQUFJb1QsSUFBU20vQixFQUFpQnBCLHFCQUc1QixNQUZBdnBCLEdBQUdrcUIsZ0JBQWlCLE9BQ3BCbHFCLEVBQUc0cUIsWUFBY0QsRUFHakIzcUIsR0FBR2txQixnQkFBaUIsR0FQZixNQUFBcGdCLEdBQUFQLEdBQUEsRUFBQUMsRUFBQU0sRW5EdW5NUixRbUR2bk1RLEtBQUFSLEdBQUFJLDJCbkQ0bk1OLFFtRDVuTU0sR0FBQUgsRUFBQSxLQUFBQyxTQVdUeEosR0FBR2txQixnQkFBaUIsS0FLNUJscUIsRUFBRytLLGFBQWUsU0FBVWpKLEdBQzFCLE1BQUlBLEdBQ0s5QixFQUFHb3FCLGFBQWFucUIsRUFBVyxLQUFNRCxFQUFHd0IsYUFFcEN4QixFQUFHb3FCLGFBQWFucUIsRUFBV0QsRUFBRzBCLFlBQWEsT0FJdEQxQixFQUFHK0IsV0FBYSxXQUNkLE1BQU8vQixHQUFHb3FCLGFBQWFucUIsSUFHekJELEVBQUd5USxTQUFXLFNBQUFDLEdBQUEsTUFBUXBSLEdBQU93RCxHQUFHLGdCQUFpQmlKLFlBQWEyRSxFQUFLcEosT0FHNUR0SCxFbkQrK0xSN3BCLEVBQW9COFgsU0FBVyxTQUFVLGVBQWdCLGlCQUFrQixtQkFBb0IsU0FBVSxzQm1EbGxNMUcvVixPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sSUFFVDFILFFBQVF5RixvQkFBc0JrQyxNQUU5QixJQUFJcTJCLEdBQWdCLzlCLEVBQVEsS0FFeEJnNUIsRUFBZ0I5NEIsRUFBdUI2OUIsR0FUM0NtYyxFQUFBbDZDLEVBQUEsS0FhSTg1QyxFQUEwQjU1QyxFQUF1Qmc2QyxFQWlJckRuNkMsU0F0Q1F5Rix1Qm5ENm5NRjIwQyxJQUNBLFNBQVNyNkMsRUFBUUMsUUFBU0MsR29EdHVNaEMsWUFXQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQVh2RixRQUFTc0YsR0FBeUJ5USxFQUFRd1ksRUFBYzBHLEVBQWdCdkcsRUFBZ0JLLEVBQW9CUCxHQUMxRyxVQUVBLElBQUlVLEdBQUt2WixJQTRDVCxJQTNDQXVaLEVBQUd3YixlQUNEbFUsSUFBS2p2QixPQUNMbVQsS0FBTW5ULE9BQ05pdkMsWUFBYWp2QyxPQUNiOGxDLFlBQWE5bEMsT0FDYmt2QyxtQkFBb0JsdkMsT0FDcEJtdkMseUJBQTBCbnZDLE9BQzFCb3ZDLFdBQVlwdkMsT0FDWnF2QyxvQkFBcUJydkMsT0FDckJzdkMsdUJBQXVCLEVBQ3ZCdlAsUUFBUSxHQUVWcFksRUFBRytxQixpQkFDSC9xQixFQUFHZ1AsWUFBYyxLQUNqQmhQLEVBQUdpUCxZQUFjLEtBQ2pCalAsRUFBR2tQLGVBQWlCLGdCQUNwQmxQLEVBQUdtUCxpQkFDSG5QLEVBQUdvUCxVQUFXLEVBQ2RwUCxFQUFHcVIsb0JBQ0hyUixFQUFHcVAsY0FDSHJQLEVBQUd3WSxXQUFhblosRUFBYVksVUFDN0JELEVBQUdDLFVBQVlaLEVBQWFZLFVBRTVCRCxFQUFHa1Esa0JBQW9CLFNBQVVqUSxFQUFXeUIsRUFBYUYsR0FDdkQzQixFQUFtQnJZLE9BQ25CLElBQUlvcUIsR0FBaUJwUyxFQUFld3JCLG1CQUFtQi9xQixFQUFXeUIsRUFBYUYsRUFDL0UsT0FBT29RLEdBQWV6Z0IsS0FBSyxTQUFVa1EsR0FJbkMsTUFIQXJCLEdBQUdnUCxZQUFjM04sRUFBSyxZQUN0QnJCLEVBQUdpUCxZQUFjNU4sRUFBSyxZQUN0QnJCLEVBQUcrcUIsY0FBZ0IxcEIsRUFBSyxRQUNqQnhCLEVBQW1CL1csY0FJOUJrWCxFQUFHeVEsU0FBVyxTQUFDQyxHQUFELE1BQVVsUixHQUFlaVIsU0FBU0MsSUFFaEQxUSxFQUFHaXJCLGVBQWlCLFdBSWxCLE1BSEFqckIsR0FBR2dQLFlBQWMsS0FDakJoUCxFQUFHaVAsWUFBYyxLQUNqQmpQLEVBQUcrcUIsY0FBZ0IsS0FDWi9xQixFQUFHa1Esa0JBQWtCbFEsRUFBR0MsVUFBV0QsRUFBR2dQLFlBQWFoUCxFQUFHaVAsY0FHM0RqUCxFQUFHd1ksU0FBVSxDQUNmLEdBQUlxUSxHQUFnQjlpQixFQUFlK2lCLGVBQWU5b0IsRUFBR0MsVUFDckQ0b0IsR0FBYzEzQixLQUFLLFNBQUEyb0IsR0FBQSxNQUFVOVosR0FBR3diLGNBQWdCMUIsSUFDaEQ5WixFQUFHa1Esa0JBQWtCbFEsRUFBR0MsVUFBVyxLQUFNLE1BMEYzQyxNQXZGQXBaLEdBQU9taUMsU0FBVyxFQUVsQm5pQyxFQUFPNkMsT0FBTyxXQUFZLFNBQVV1L0IsRUFBT0MsR0FDekMsR0FBYzd3QyxTQUFWNHdDLEVBQ0YsT0FBUUEsR0FDTixJQUFLLEdBQ0gsTUFBTzNwQixHQUFPd0QsR0FBRyxpQkFBa0I3QyxVQUFXRCxFQUFHQyxXQUNuRCxLQUFLLEdBQ0gsTUFBT1gsR0FBT3dELEdBQUcsd0JBQXlCN0MsVUFBV0QsRUFBR0MsV0FDMUQsS0FBSyxHQUNILE1BQU9YLEdBQU93RCxHQUFHLDBCQUEyQjdDLFVBQVdELEVBQUdDLFdBQzVELEtBQUssR0FDSCxNQUFPWCxHQUFPd0QsR0FBRyxtQkFBb0I3QyxVQUFXRCxFQUFHQyxlQUszREQsRUFBR3FRLFlBQWMsV0FDZnJRLEVBQUd3USxXQUFhLEdBQ2hCeFEsRUFBR29QLFVBQVcsRUFDZHBQLEVBQUdtUCxpQkFDSG5QLEVBQUdxUCxjQUNIclAsRUFBR3FSLHFCQUdMclIsRUFBR3VSLGNBQWdCLFNBQVVDLEdBQzNCLEdBQUlsQixJQUFZLEVBQ1ptQixFQUFTelIsRUFBR2tQLGVBQ1p3QyxHQUFXLEVBQ1h6UixFQUFZRCxFQUFHQyxTQUNuQixPQUFPVCxHQUFlK1IsY0FBY0MsRUFBU0MsRUFBUUMsRUFBVXpSLEVBQVdELEVBQUc4TyxlQUFnQndCLEdBQzFGbmYsS0FBSyxTQUFVK1EsR0FDZCxHQUFJeVAsR0FBQSxNQUNKLElBQUl6UCxFQUFTZ0wsUUFBUyxDQUNwQixHQUFJNkIsR0FBVTdNLEVBQVM2TSxPQVl2QixPQVhlLGtCQUFYMEMsR0FDRnpSLEVBQUdtUCxjQUFnQkosRUFBUSxHQUMzQjRDLEVBQWtCNUMsRUFBUSxJQUNOLFFBQVgwQyxHQUNUelIsRUFBR3FQLFdBQWFOLEVBQVEsR0FDeEI0QyxFQUFrQjVDLEVBQVEsS0FFMUIvTyxFQUFHc1AsYUFBZVAsRUFBUSxHQUMxQjRDLEVBQWtCNUMsRUFBUSxJQUU1Qi9PLEVBQUdxUixpQkFBbUJNLEVBQ2ZBLEVBRVAsWUFLUjNSLEVBQUcrSyxhQUFlLFNBQVVqSixHQUMxQixNQUFJQSxHQUNLOUIsRUFBR2tRLGtCQUFrQmxRLEVBQUdDLFVBQVcsS0FBTUQsRUFBR2lQLGFBRzVDalAsRUFBR2tRLGtCQUFrQmxRLEVBQUdDLFVBQVdELEVBQUdnUCxZQUFhLE9BSTlEaFAsRUFBRzJRLG1CQUFxQixTQUFDSCxHQUFELE1BQWdCaFIsR0FBZTByQixvQkFDckRsckIsRUFBR2tQLGVBQ0hsUCxFQUFHQyxVQUNIdVEsRUFDQXhRLEVBQUdxUCxXQUNIclAsRUFBR21QLGNBQ0huUCxFQUFHc1AsZUFHTHRQLEVBQUcrUSxrQkFBb0IsU0FBVUMsR0FFL0IsTUFEQWhSLEdBQUdvUCxVQUFZNEIsRUFDUmhSLEVBQUdtckIsaUJBQWtCLEdBRzlCbnJCLEVBQUdtUixnQkFBa0IsU0FBVUMsR0FDN0IsR0FBSUUsSUFBYSxFQURzQmhJLEdBQUEsRUFBQUMsR0FBQSxFQUFBQyxFQUFBbnhCLE1BQUEsS0FFdkMsT0FBQW94QixHQUFBQyxHQUFBLEVBQUFDLGNBQWlCM0osRUFBR3FSLG9CQUFwQi9ILEdBQUFHLEVBQUFDLEVBQUF4SSxRQUFBMEksTUFBQU4sR0FBQSxFQUFzQyxJQUE3Qm9ILEdBQTZCakgsRUFBQXJ4QixLQUNoQ2c1QixLQUFhVixJQUNmWSxHQUFhLElBSnNCLE1BQUF4SCxHQUFBUCxHQUFBLEVBQUFDLEVBQUFNLEVwRG93TXBDLFFvRHB3TW9DLEtBQUFSLEdBQUFJLDJCcER5d01sQyxRb0R6d01rQyxHQUFBSCxFQUFBLEtBQUFDLElBUXZDLE1BREF4SixHQUFHK1Esa0JBQWtCTyxHQUNkQSxHQUdGdFIsRXBEOGxNUjVwQixFQUF5QjZYLFNBQVcsU0FBVSxlQUFnQixpQkFBa0IsaUJBQWtCLHFCQUFzQixVb0R4dU16SC9WLE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxJQUVUMUgsUUFBUTBGLHlCQUEyQmlDLE1BRW5DLElBQUlxMkIsR0FBZ0IvOUIsRUFBUSxLQUV4Qmc1QixFQUFnQjk0QixFQUF1QjY5QixFQXNLM0NoK0IsU0FoQ1EwRiw0QnBENndNRmcxQyxJQUNBLFNBQVMzNkMsRUFBUUMsUUFBU0MsR3FENzVNaEMsWUFXQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQVh2RixRQUFTdUYsR0FBMkJ3USxFQUFRd1ksRUFBYzBHLEVBQWdCdkcsRUFBZ0JLLEVBQW9CUCxHQUM1RyxVQUVBLElBQUlVLEdBQUt2WixJQXVEVCxJQXREQXVaLEVBQUd3YixlQUNEbFUsSUFBS2p2QixPQUNMbVQsS0FBTW5ULE9BQ05pdkMsWUFBYWp2QyxPQUNiOGxDLFlBQWE5bEMsT0FDYmt2QyxtQkFBb0JsdkMsT0FDcEJtdkMseUJBQTBCbnZDLE9BQzFCb3ZDLFdBQVlwdkMsT0FDWnF2QyxvQkFBcUJydkMsT0FDckJzdkMsdUJBQXVCLEVBQ3ZCdlAsUUFBUSxHQUVWcFksRUFBR3NQLGdCQUNIdFAsRUFBRytxQixpQkFDSC9xQixFQUFHZ1AsWUFBYyxLQUNqQmhQLEVBQUdpUCxZQUFjLEtBQ2pCalAsRUFBR2tQLGVBQWlCLE1BQ3BCbFAsRUFBR21QLGlCQUNIblAsRUFBR29QLFVBQVcsRUFDZHBQLEVBQUdxUCxjQUNIclAsRUFBR3FSLG9CQUNIclIsRUFBR3dZLFdBQWFuWixFQUFhWSxVQUM3QkQsRUFBR0MsVUFBWVosRUFBYVksVUFFNUJwWixFQUFPbWlDLFNBQVcsRUFFbEJuaUMsRUFBTzZDLE9BQU8sV0FBWSxTQUFVdS9CLEVBQU9DLEdBQ3pDLEdBQWM3d0MsU0FBVjR3QyxFQUNGLE9BQVFBLEdBQ04sSUFBSyxHQUNILE1BQU8zcEIsR0FBT3dELEdBQUcsaUJBQWtCN0MsVUFBV0QsRUFBR0MsV0FDbkQsS0FBSyxHQUNILE1BQU9YLEdBQU93RCxHQUFHLHdCQUF5QjdDLFVBQVdELEVBQUdDLFdBQzFELEtBQUssR0FDSCxNQUFPWCxHQUFPd0QsR0FBRywwQkFBMkI3QyxVQUFXRCxFQUFHQyxXQUM1RCxLQUFLLEdBQ0gsTUFBT1gsR0FBT3dELEdBQUcsbUJBQW9CN0MsVUFBV0QsRUFBR0MsZUFLM0RELEVBQUd5USxTQUFXLFNBQUNDLEdBQUQsTUFBVWxSLEdBQWVpUixTQUFTQyxJQUVoRDFRLEVBQUdvUSxvQkFBc0IsU0FBVW5RLEVBQVd5QixFQUFhRixHQUN6RDNCLEVBQW1CclksT0FDbkIsSUFBSW9xQixHQUFpQnBTLEVBQWU2ckIsNEJBQTRCcHJCLEVBQVd5QixFQUFhRixFQUN4RixPQUFPb1EsR0FBZXpnQixLQUFLLFNBQVVrUSxHQUluQyxNQUhBckIsR0FBR2dQLFlBQWMzTixFQUFLLFlBQ3RCckIsRUFBR2lQLFlBQWM1TixFQUFLLFlBQ3RCckIsRUFBRytxQixjQUFnQjFwQixFQUFLLFFBQ2pCeEIsRUFBbUIvVyxjQUkxQmtYLEVBQUd3WSxTQUFVLENBQ2YsR0FBSXFRLEdBQWdCOWlCLEVBQWUraUIsZUFBZTlvQixFQUFHQyxVQUNyRDRvQixHQUFjMTNCLEtBQUssU0FBQTJvQixHQUFBLE1BQVU5WixHQUFHd2IsY0FBZ0IxQixJQUNoRDlaLEVBQUdvUSxvQkFBb0JwUSxFQUFHQyxVQUFXLEtBQU0sTUE4RTdDLE1BM0VBRCxHQUFHaXJCLGVBQWlCLFdBSWxCLE1BSEFqckIsR0FBR2dQLFlBQWMsS0FDakJoUCxFQUFHaVAsWUFBYyxLQUNqQmpQLEVBQUcrcUIsY0FBZ0IsS0FDWi9xQixFQUFHb1Esb0JBQW9CcFEsRUFBR0MsVUFBV0QsRUFBR2dQLFlBQWFoUCxFQUFHaVAsY0FHakVqUCxFQUFHcVEsWUFBYyxXQUNmclEsRUFBR3dRLFdBQWEsR0FDaEJ4USxFQUFHb1AsVUFBVyxFQUNkcFAsRUFBR21QLGlCQUNIblAsRUFBR3FQLGNBQ0hyUCxFQUFHcVIscUJBR0xyUixFQUFHdVIsY0FBZ0IsU0FBVUMsR0FDM0IsR0FBSWxCLElBQVksRUFDWm9CLEdBQVcsQ0FDZixPQUFPbFMsR0FBZStSLGNBQWNDLEVBQVN4UixFQUFHa1AsZUFBZ0J3QyxFQUFVMVIsRUFBR0MsVUFBV0QsRUFBRzhPLGVBQWdCd0IsR0FDeEduZixLQUFLLFNBQVUrUSxHQUNkLEdBQUl5UCxHQUFBLE1BQ0osSUFBSXpQLEVBQVNnTCxRQUFTLENBQ3BCLEdBQUk2QixHQUFVN00sRUFBUzZNLE9BWXZCLE9BWDBCLGtCQUF0Qi9PLEVBQUdrUCxnQkFDTGxQLEVBQUdtUCxjQUFnQkosRUFBUSxHQUMzQjRDLEVBQWtCNUMsRUFBUSxJQUNLLFFBQXRCL08sRUFBR2tQLGdCQUNabFAsRUFBR3FQLFdBQWFOLEVBQVEsR0FDeEI0QyxFQUFrQjVDLEVBQVEsS0FFMUIvTyxFQUFHc1AsYUFBZVAsRUFBUSxHQUMxQjRDLEVBQWtCNUMsRUFBUSxJQUU1Qi9PLEVBQUdxUixpQkFBbUJNLEVBQ2ZBLEVBRVAsWUFNUjNSLEVBQUcrSyxhQUFlLFNBQVVqSixHQUMxQixNQUFJQSxHQUNLOUIsRUFBR29RLG9CQUFvQnBRLEVBQUdDLFVBQVcsS0FBTUQsRUFBR2lQLGFBRTlDalAsRUFBR29RLG9CQUFvQnBRLEVBQUdDLFVBQVdELEVBQUdnUCxZQUFhLE9BSWhFaFAsRUFBRzJRLG1CQUFxQixTQUFDSCxHQUFELE1BQWdCaFIsR0FBZTByQixvQkFDckRsckIsRUFBR2tQLGVBQ0hsUCxFQUFHQyxVQUNIdVEsRUFDQXhRLEVBQUdxUCxXQUNIclAsRUFBR21QLGNBQ0huUCxFQUFHc1AsZUFHTHRQLEVBQUcrUSxrQkFBb0IsU0FBVUMsR0FDL0JoUixFQUFHb1AsVUFBWTRCLEVBQ2ZoUixFQUFHbXJCLGlCQUFrQixHQUd2Qm5yQixFQUFHbVIsZ0JBQWtCLFNBQVVDLEdBQzdCLEdBQUlFLElBQWEsRUFEc0JoSSxHQUFBLEVBQUFDLEdBQUEsRUFBQUMsRUFBQW54QixNQUFBLEtBRXZDLE9BQUFveEIsR0FBQUMsR0FBQSxFQUFBQyxjQUFpQjNKLEVBQUdxUixvQkFBcEIvSCxHQUFBRyxFQUFBQyxFQUFBeEksUUFBQTBJLE1BQUFOLEdBQUEsRUFBc0MsSUFBN0JvSCxHQUE2QmpILEVBQUFyeEIsS0FDaENnNUIsS0FBYVYsSUFDZlksR0FBYSxJQUpzQixNQUFBeEgsR0FBQVAsR0FBQSxFQUFBQyxFQUFBTSxFckQyN01wQyxRcUQzN01vQyxLQUFBUixHQUFBSSwyQnJEZzhNbEMsUXFEaDhNa0MsR0FBQUgsRUFBQSxLQUFBQyxJQVF2QyxNQURBeEosR0FBRytRLGtCQUFrQk8sR0FDZEEsR0FHRnRSLEVyRHN4TVIzcEIsRUFBMkI0WCxTQUFXLFNBQVUsZUFBZ0IsaUJBQWtCLGlCQUFrQixxQkFBc0IsVXFELzVNM0gvVixPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sSUFFVDFILFFBQVEyRiwyQkFBNkJnQyxNQUVyQyxJQUFJcTJCLEdBQWdCLzlCLEVBQVEsS0FFeEJnNUIsRUFBZ0I5NEIsRUFBdUI2OUIsRUFvSzNDaCtCLFNBaENRMkYsOEJyRG84TUZpMUMsSUFDQSxTQUFTNzZDLEVBQVFDLFFBQVNDLEdzRGxsTmhDLFlBZUEsU0FBU0UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FidkYsUUFBU3dGLEdBQVlncEIsRUFBUUYsRUFBTTJHLEVBQWdCbEcsRUFBb0JELEdBQ3JFLFVBRUEsSUFBSUksR0FBS3ZaLElBcUdULE9BbEdBdVosR0FBR3ViLFdBRUh2YixFQUFHdXJCLG1CQUNIdnJCLEVBQUc0cUIsWUFBYyxLQUNqQjVxQixFQUFHa3FCLGdCQUFpQixFQUVwQmxxQixFQUFHd3JCLG9CQUFzQixTQUFVNUUsRUFBV0MsR0FDNUM3bUIsRUFBRzZtQixPQUFTQSxFQUNaN21CLEVBQUdnWCxTQUFVLEVBQ2JuWCxFQUFtQnJZLE9BQ25CLElBQUl3YixHQUFVK0MsRUFBZTBsQix5QkFBeUI3RSxFQUFXQyxFQUNqRSxPQUFPN2pCLEdBQVE3UixLQUFNLFNBQUErUSxHQUFBLE1BQVlsQyxHQUFHOFIsZ0JBQWdCNVAsSUFBWSxTQUFBQSxHQUFBLE1BQVlsQyxHQUFHK1IsZ0JBQWdCN1AsTUFHakdsQyxFQUFHOFIsZ0JBQWtCLFNBQVU1UCxHQU03QixNQUxBbEMsR0FBR3ViLFFBQVVyWixFQUFTcVosUUFDdEJ2YixFQUFHMHJCLE1BQVF4cEIsRUFBU3dwQixNQUNwQjFyQixFQUFHMnJCLGNBQWdCenBCLEVBQVN5cEIsY0FDNUIzckIsRUFBRzRyQixhQUFlMXBCLEVBQVMwcEIsYUFDM0IvckIsRUFBbUIvVyxXQUNaa1gsRUFBR2dYLFNBQVUsR0FHdEJoWCxFQUFHK1IsZ0JBQWtCLFNBQVU3UCxHQUM3QnJDLEVBQW1CL1csVUFDbkIsSUFBSTZaLEdBQUEsbUNBQWtEVCxFQUFTeFosT0FBM0QsSUFBcUV3WixFQUFTVSxXQUE5RSxHQUNKLE9BQU9oRCxHQUFNblksS0FBSyxVQUFXa2IsRUFBYyxVQUk3QzNDLEVBQUcrQixXQUFhLFdBR2QsTUFGQS9CLEdBQUc2bUIsT0FBUyxFQUNaN21CLEVBQUc2ckIsdUJBQXVCLE1BQ25CN3JCLEVBQUd3ckIsb0JBQW9CLElBQUt4ckIsRUFBRzZtQixTQUd4QzdtQixFQUFHNnJCLHVCQUF5QixTQUFVbEYsR0FDcEMsSUFBS0EsR0FBZUEsRUFBWXQ4QixPQUFTLEVBQ3ZDLFFBRUYsSUFBSTJZLEdBQVUrQyxFQUFlOGxCLHVCQUF1QmxGLEVBQ3BELE9BQU8zakIsR0FBUTdSLEtBQUssU0FBQytRLEdBRW5CLE1BREFsQyxHQUFHdXJCLGdCQUFrQnJwQixFQUNqQmxDLEVBQUd1ckIsZ0JBQ0V2ckIsRUFBR3VyQixnQkFBZ0JueUMsSUFBSSxTQUFDa1MsR0FBRCxNQUFPQSxHQUFFRSxPQUFNZy9CLEtBQXRDQyxvQkFZYnpxQixFQUFHOHJCLGNBQWdCLFNBQUNuRixHQUNsQixJQUFLQSxHQUFlQSxFQUFZdDhCLE9BQVMsRUFDdkMsUUFFWTBiLEdBQWU4bEIsdUJBQXVCbEYsR0FDakR4MUIsS0FBSyxTQUFDK1EsR0FDTCxHQUFJNVgsR0FBUTRYLENBQ1osSUFBSTVYLEVBQU8sSUFBQWdmLElBQUEsRUFBQUMsR0FBQSxFQUFBQyxFQUFBbnhCLE1BQUEsS0FDVCxPQUFBb3hCLEdBQUFDLEdBQUEsRUFBQUMsY0FBcUJyZixLQUFyQmdmLEdBQUFHLEVBQUFDLEVBQUF4SSxRQUFBMEksTUFBQU4sR0FBQSxFQUE0QixJQUFuQnlpQixHQUFtQnRpQixFQUFBcnhCLEtBQzFCLElBQUl1dUMsSUFBZ0JvRixFQUFTdmdDLEtBRzNCLE1BRkF3VSxHQUFHa3FCLGdCQUFpQixPQUNwQmxxQixFQUFHNHFCLFlBQWNtQixFQUdqQi9yQixHQUFHa3FCLGdCQUFpQixHQVBmLE1BQUFwZ0IsR0FBQVAsR0FBQSxFQUFBQyxFQUFBTSxFdEQybk5SLFFzRDNuTlEsS0FBQVIsR0FBQUksMkJ0RGdvTk4sUXNEaG9OTSxHQUFBSCxFQUFBLEtBQUFDLFNBV1R4SixHQUFHa3FCLGdCQUFpQixLQUs1QmxxQixFQUFHeVEsU0FBVyxTQUFBQyxHQUFBLE1BQVFwUixHQUFPd0QsR0FBRyxpQkFBa0I3QyxVQUFXeVEsRUFBS3BKLE9BRWxFdEgsRUFBRzJYLFdBQWEsU0FBVWpILEdBQ3hCLEdBQUlyVCxHQUFXLFdBQ2IsR0FBSTJGLEdBQVUrQyxZQUFzQjJLLEVBQ3BDLE9BQU8xTixHQUFRN1IsS0FBSyxpQkFBTTZPLEdBQUcrQixlQUcvQixPQUFPbkMsR0FBTW5ZLE1BQ1hxbEIsTUFBTyxnQkFDUDFZLEtBQU0sMkRBQ04wSixLQUFNLFVBQ044WixrQkFBa0IsRUFDbEJDLG1CQUFvQixVQUNwQkMsa0JBQW1CLDBCQUNuQkMsZ0JBQWdCLEdBQ2YxYSxJQUdFMkMsRXRENCtNUjFwQixFQUFZMlgsU0FBVyxTQUFVLE9BQVEsaUJBQWtCLHFCQUFzQixTc0RwbE5sRi9WLE9BQU9DLGVBQWV6SCxRQUFTLGNBQzdCMEgsT0FBTyxJQUVUMUgsUUFBUTRGLFlBQWMrQixNQUV0QixJQUFJcTJCLEdBQWdCLzlCLEVBQVEsS0FFeEJnNUIsRUFBZ0I5NEIsRUFBdUI2OUIsR0FUM0NtYyxFQUFBbDZDLEVBQUEsS0FhSTg1QyxFQUEwQjU1QyxFQUF1Qmc2QyxFQTBJckRuNkMsU0EzQ1E0RixldERvb05GMDFDLElBQ0EsU0FBU3Y3QyxFQUFRQyxTdURqdk52QixxQkFBUzZGLEdBQVk0d0MsRUFBaUI3bkIsRUFBUWdULEVBQXFCL1MsR0FDakUsVUFFQSxJQUFJUyxHQUFLdlosSUF3Q1QsT0F2Q0F1WixHQUFHaXNCLGdCQUNIanNCLEVBQUdnWCxTQUFVLEVBRWJoWCxFQUFHMFYsZ0JBQWtCLGlCQUFNcFcsR0FBT3dELEdBQUcsWUFFckM5QyxFQUFHa3NCLHNCQUF3QixTQUFBQyxHQUFBLE1BQVVBLEdBQU83M0IsT0FBTyxHQUFHODNCLGNBQWdCRCxFQUFPcDFCLE1BQU0sSUFFbkZpSixFQUFHcXNCLDhCQUFnQyxXQUNqQyxHQUFJblYsR0FBc0I1RSxFQUFvQjZFLGVBQWU1WCxFQUFnQnlXLGFBQzdFLE9BQU9rQixHQUFvQi9sQixLQUFLLFNBQVVrUSxHQUV4QyxNQURBckIsR0FBR3NzQiwwQkFBNEJqckIsRUFBS2hYLE9BQVMsRUFDdEMyVixFQUFHZ1gsU0FBVSxLQUl4QmhYLEVBQUd1c0Isa0JBQW9CLGlCQUFNanRCLEdBQU93RCxHQUFHLDBCQUV2QzlDLEVBQUd3c0IsV0FBYSxXQUNkLEdBQUl4cEIsR0FBVW1rQixFQUFnQnNGLGFBQzlCLE9BQU96cEIsR0FBUTdSLEtBQUssU0FBQWtRLEdBQUEsTUFBUXJCLEdBQUdpc0IsYUFBZTVxQixLQUdoRHJCLEVBQUcrQixXQUFhLFdBVWQsTUFUQS9CLEdBQUcyVSxVQUNEck4sSUFBSy9ILEVBQWdCeVcsYUFDckJDLE1BQU8xVyxFQUFnQjZPLGVBQ3ZCVSxlQUFnQnZQLEVBQWdCMlMsMkJBQ2hDeUIsZ0JBQWlCcFUsRUFBZ0JrViw2QkFHbkN6VSxFQUFHcXNCLGdDQUVFcnNCLEVBQUcyVSxTQUFTc0IsTUFJUmpXLEVBQUd3c0IsYUFISGx0QixFQUFPd0QsR0FBRyxZQU1kOUMsRXZEMHNOUnpwQixFQUFZMFgsU0FBVyxrQkFBbUIsU0FBVSxzQkFBdUIsbUJ1RG52TjVFL1YsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLElBc0RUMUgsUUFaUTZGLGV2RG93TkZtMkMsSUFDQSxTQUFTajhDLEVBQVFDLFN3RGx6TnZCLFlBQU8sU0FBU2lHLEdBQU9nMkMsRUFBZ0JDLEVBQW9CQyxHQUN6RCxVQXVWQSxPQXJWQUYsR0FBZXBpQyxNQUFNLFdBQ25CdEUsU0FDRTB1QixVQUFBLGtCQURPLFNBQ0VpUCxHQUNQLE1BQU9BLEdBQWdCN04sZ0JBRXpCK1csa0JBQUEsdUJBSk8sU0FJVXJPLEdBQ2YsTUFBT0EsR0FBcUJxTyxzQkFHaEMvTSxJQUFLLFdBQ0xwMUIsWUFBYSxrQ0FDYjFWLFdBQVkscUJBQ1o0YixhQUFjLHVCQUVoQjg3QixFQUFlcGlDLE1BQU0sY0FDbkJ3MUIsSUFBSyxjQUNMOTVCLFNBQ0UwdUIsVUFBQSxrQkFETyxTQUNFaVAsR0FDUCxNQUFPQSxHQUFnQjdOLGdCQUV6QitXLGtCQUFBLHVCQUpPLFNBSVVyTyxHQUNmLE1BQU9BLEdBQXFCcU8sc0JBR2hDbmlDLFlBQWEscUNBQ2IxVixXQUFZLHFCQUNaNGIsYUFBYyx1QkFFaEI4N0IsRUFBZXBpQyxNQUFNLFlBQ25CdEUsU0FDRTB1QixVQUFBLGtCQURPLFNBQ0VpUCxHQUNQLE1BQU9BLEdBQWdCN04sZ0JBRXpCZ1gsZUFBQSx1QkFKTyxTQUlPdE8sR0FDWixNQUFPQSxHQUFxQnNPLG1CQUdoQ2hOLElBQUssWUFDTHAxQixZQUFhLG1DQUNiMVYsV0FBWSxxQkFDWjRiLGFBQWMsdUJBRWhCODdCLEVBQWVwaUMsTUFBTSx5QkFDbkJ0RSxTQUNFOG1DLGVBQUEsdUJBRE8sU0FDT3RPLEdBQ1osTUFBT0EsR0FBcUJzTyxtQkFHaENoTixJQUFLLHlCQUNMcDFCLFlBQWEsNENBQ2IxVixXQUFZLDBCQUNaNGIsYUFBYyxPQUVoQjg3QixFQUFlcGlDLE1BQU0sUUFDbkJ3MUIsSUFBSyxJQUNMcDFCLFlBQWEsMkJBQ2IxRSxTQUNFMHVCLFVBQUEsa0JBRE8sU0FDRWlQLEdBQ1AsTUFBT0EsR0FBZ0I3TixnQkFFekJnWCxlQUFBLHVCQUpPLFNBSU90TyxHQUNaLE1BQU9BLEdBQXFCc08sbUJBR2hDOTNDLFdBQVksY0FDWjRiLGFBQWMsY0FDZC9FLGVBQ0VvQixNQUFPLHlCQUdYeS9CLEVBQWVwaUMsTUFBTSxXQUNuQncxQixJQUFLLFdBQ0xwMUIsWUFBYSwyQkFDYjFFLFNBQ0UwdUIsVUFBQSxrQkFETyxTQUNFaVAsR0FDUCxNQUFPQSxHQUFnQjdOLGdCQUV6QmdYLGVBQUEsdUJBSk8sU0FJT3RPLEdBQ1osTUFBT0EsR0FBcUJzTyxtQkFHaEM5M0MsV0FBWSxjQUNaNGIsYUFBYyxjQUNkL0UsZUFDRW9CLE1BQU8seUJBR1h5L0IsRUFBZXBpQyxNQUFNLFdBQ25CdEUsU0FDRThtQyxlQUFBLHVCQURPLFNBQ090TyxHQUNaLE1BQU9BLEdBQXFCc08sbUJBR2hDaE4sSUFBSyxXQUNMcDFCLFlBQWEsa0NBQ2IxVixXQUFZLGNBQ1o0YixhQUFjLGNBQ2QvRSxlQUNFb0IsTUFBTyxhQUdYeS9CLEVBQWVwaUMsTUFBTSxhQUNuQnRFLFNBQ0U4bUMsZUFBQSx1QkFETyxTQUNPdE8sR0FDWixNQUFPQSxHQUFxQnNPLG1CQUdoQ2hOLElBQUssZUFDTHAxQixZQUFhLGdDQUNiMVYsV0FBWSxvQkFDWjRiLGFBQWMsb0JBQ2QvRSxlQUNFb0IsTUFBTyxhQUNQbEcsT0FBUSxhQUdaMmxDLEVBQWVwaUMsTUFBTSxjQUNuQnRFLFNBQ0U4bUMsZUFBQSx1QkFETyxTQUNPdE8sR0FDWixNQUFPQSxHQUFxQnNPLG1CQUdoQ2hOLElBQUssc0JBQ0xwMUIsWUFBYSxnQ0FDYjFWLFdBQVksb0JBQ1o0YixhQUFjLG9CQUNkL0UsZUFDRW9CLE1BQU8sNkNBQ1BsRyxPQUFRLGFBR1oybEMsRUFBZXBpQyxNQUFNLFdBQ25CdEUsU0FDRThtQyxlQUFBLHVCQURPLFNBQ090TyxHQUNaLE1BQU9BLEdBQXFCc08sbUJBR2hDaE4sSUFBSyxXQUNMcDFCLFlBQWEsa0NBQ2IxVixXQUFZLGNBQ1o0YixhQUFjLGNBQ2QvRSxlQUNFb0IsTUFBTyxhQUdYeS9CLEVBQWVwaUMsTUFBTSxhQUNuQnRFLFNBQ0U4bUMsZUFBQSx1QkFETyxTQUNPdE8sR0FDWixNQUFPQSxHQUFxQnNPLG1CQUdoQ2hOLElBQUssZUFDTHAxQixZQUFhLDZCQUNiMVYsV0FBWSxnQkFDWjRiLGFBQWMsZ0JBQ2QvRSxlQUNFb0IsTUFBTyxhQUNQbEcsT0FBUSxhQUdaMmxDLEVBQWVwaUMsTUFBTSxpQkFDbkJ0RSxTQUNFOG1DLGVBQUEsdUJBRE8sU0FDT3RPLEdBQ1osTUFBT0EsR0FBcUJzTyxtQkFHaENoTixJQUFLLDhCQUNMcDFCLFlBQWEsaUNBQ2IxVixXQUFZLG9CQUNaNGIsYUFBYyxvQkFDZC9FLGVBQ0VvQixNQUFPLDZDQUNQbEcsT0FBUSxhQUdaMmxDLEVBQWVwaUMsTUFBTSx3QkFDbkJ0RSxTQUNFOG1DLGVBQUEsdUJBRE8sU0FDT3RPLEdBQ1osTUFBT0EsR0FBcUJzTyxtQkFHaENoTixJQUFLLDhCQUNMcDFCLFlBQWEseUNBQ2IxVixXQUFZLDJCQUNaNGIsYUFBYywyQkFDZC9FLGVBQ0VvQixNQUFPLG9EQUNQbEcsT0FBUSxhQUdaMmxDLEVBQWVwaUMsTUFBTSwwQkFDbkJ0RSxTQUNFOG1DLGVBQUEsdUJBRE8sU0FDT3RPLEdBQ1osTUFBT0EsR0FBcUJzTyxtQkFHaENoTixJQUFLLGdDQUNMcDFCLFlBQWEsMkNBQ2IxVixXQUFZLDZCQUNaNGIsYUFBYyw2QkFDZC9FLGVBQ0VvQixNQUFPLHNEQUNQbEcsT0FBUSxhQUdaMmxDLEVBQWVwaUMsTUFBTSxtQkFDbkJ0RSxTQUNFOG1DLGVBQUEsdUJBRE8sU0FDT3RPLEdBQ1osTUFBT0EsR0FBcUJzTyxtQkFHaENoTixJQUFLLGdDQUNMcDFCLFlBQWEsbUNBQ2IxVixXQUFZLHNCQUNaNGIsYUFBYyxzQkFDZC9FLGVBQ0VvQixNQUFPLCtDQUNQbEcsT0FBUSxhQUdaMmxDLEVBQWVwaUMsTUFBTSxnQkFDbkJ0RSxTQUNFOG1DLGVBQUEsdUJBRE8sU0FDT3RPLEdBQ1osTUFBT0EsR0FBcUJzTyxtQkFHaENoTixJQUFLLDBCQUNMcDFCLFlBQWEsa0NBQ2IxVixXQUFZLHFCQUNaNGIsYUFBYyxxQkFDZC9FLGVBQ0VvQixNQUFPLCtFQUNQbEcsT0FBUSxhQUdaMmxDLEVBQWVwaUMsTUFBTSxlQUNuQnRFLFNBQ0U4bUMsZUFBQSx1QkFETyxTQUNPdE8sR0FDWixNQUFPQSxHQUFxQnNPLG1CQUdoQ2hOLElBQUssK0JBQ0xwMUIsWUFBYSxrQ0FDYjFWLFdBQVkscUJBQ1o0YixhQUFjLHFCQUNkL0UsZUFDRW9CLE1BQU8sa0RBQ1BsRyxPQUFRLGFBR1oybEMsRUFBZXBpQyxNQUFNLFdBQ25CdEUsU0FDRThtQyxlQUFBLHVCQURPLFNBQ090TyxHQUNaLE1BQU9BLEdBQXFCc08sbUJBR2hDaE4sSUFBSyxXQUNMcDFCLFlBQWEsa0NBQ2IxVixXQUFZLHFCQUNaNGIsYUFBYyxxQkFDZC9FLGVBQ0VvQixNQUFPLGFBR1h5L0IsRUFBZXBpQyxNQUFNLGNBQ25CdEUsU0FDRTB1QixVQUFBLGtCQURPLFNBQ0VpUCxHQUNQLE1BQU9BLEdBQWdCN04sZ0JBRXpCZ1gsZUFBQSx1QkFKTyxTQUlPdE8sR0FDWixNQUFPQSxHQUFxQnNPLG1CQUdoQ2hOLElBQUssNENBQ0xwMUIsWUFBYSxnQ0FDYm1CLGVBQ0VvQixNQUFPLDRDQUNQbEcsT0FBUSxXQUVWL1IsV0FBWSxvQkFDWiszQyxXQWhCaUMsU0FnQnhCbm1DLEVBQVF3WSxHQUNmeFksRUFBT29aLFVBQVlaLEVBQWFZLFdBR2xDcFAsYUFBYyxzQkFFaEI4N0IsRUFBZXBpQyxNQUFNLFNBQ25CdEUsU0FDRThtQyxlQUFBLHVCQURPLFNBQ090TyxHQUNaLE1BQU9BLEdBQXFCc08sbUJBR2hDaE4sSUFBSyxTQUNMcDFCLFlBQWEsc0JBQ2IxVixXQUFZLGtCQUNaNGIsYUFBYyxLQUNkL0UsZUFDRW9CLE1BQU8sbUJBR1h5L0IsRUFBZXBpQyxNQUFNLGVBQ25CdEUsU0FDRThtQyxlQUFBLHVCQURPLFNBQ090TyxHQUNaLE1BQU9BLEdBQXFCc08sbUJBR2hDaE4sSUFBSyxpQkFDTHAxQixZQUFhLHdCQUNiMVYsV0FBWSxrQkFDWjRiLGFBQWMsS0FDZC9FLGVBQ0VvQixNQUFPLG1CQUdYeS9CLEVBQWVwaUMsTUFBTSxTQUNuQnRFLFNBQ0VvdUIsU0FBQSx1QkFETyxTQUNDb0ssR0FDTixNQUFPQSxHQUFxQndPLCtCQUdoQ2xOLElBQUssU0FDTHAxQixZQUFhLHVCQUNiMVYsV0FBWSxZQUNaNGIsYUFBYyxLQUNkL0UsZUFDRW9CLE1BQU8sV0FJWDAvQixFQUFtQk0sVUFBVSxZQUU3QkwsRUFBb0JNLFdBQVcsV0FFL0JOLEVBQW9CTyx1QkFBdUIsU0FBVS9yQixFQUFNZ3NCLEVBQVdDLEVBQWN2TixFQUFLN2QsRUFBVXljLEdBQ2pHLEdBQUluVyxHQUFTbkgsQ0FJYixPQUFPbUgsS0FHRnFrQixFQUFvQlUsc0JBQ3pCcm5DLEdBQUksUUF2VlJoTyxPQUFPQyxlQUFlekgsUUFBUyxjQUM3QjBILE9BQU8sSUFFVDFILFFBTGdCaUcsU0E2VmhCQSxFQUFPc1gsU0FBVyxpQkFBa0IscUJBQXNCLHdCeEQrek5wRHUvQixJQUNBLFNBQVMvOEMsRUFBUUMsU3lEN3BPdkIsWUFBTyxTQUFTK0YsR0FBT3VuQyxFQUFham5DLEVBQVcwMkMsRUFBVy91QixFQUFZcUIsR0FDcEUsVUFFQSxJQUFJMnRCLEdBQW1CLFdBQ3JCLEdBQUluakMsR0FBUWtqQyxFQUFVOTFDLElBQUksU0FDMUIsT0FBTyttQixHQUFXeFQsSUFBSSxvQkFBcUIsU0FBVTBoQixFQUFPK2dCLEVBQVNDLEVBQVVDLEVBQVdDLEVBQVlqckIsR0FDcEcsR0FBaUIsY0FBYkEsRUFBTSxHQUNSLE1BQU90WSxHQUFNdVksR0FBR0QsRUFBTSxNQUs1QjlDLEdBQVMydEIsRUFBa0IsSUFFM0IsSUFBSUssR0FBcUIsV0FDdkIvUCxFQUFZZ1Esc0JBQXNCLFNBQVVDLEVBQU1aLEVBQVdhLEVBQU1uTyxHQUNqRSxHQUFJanBDLEdBQWlCMjJDLEVBQVU5MUMsSUFBSSxrQkFFL0J3MkMsRUFBWSwrQkFZaEIsSUFYSXAzQyxFQUFVUyxPQUFPQyxRQUFRLDhCQUMzQjAyQyxFQUFZLGlDQUVkblEsRUFBWW9RO0FBQ1YvMkMsZUFBZ0IsbUJBQ2hCQyxPQUFVLG1CQUNWQyxjQUFpQjQyQyxFQUNqQnoyQyxzQkFBdUJaLEVBQWVhLElBQUksV0FDMUNFLDZCQUE4QmYsRUFBZWEsSUFBSSwyQkFHakMsV0FBZDAxQyxFQUlKLE1BQU9ZLEtBSVhsdUIsR0FBU2d1QixFQUFvQixLekQybk85QnQzQyxFQUFPd1gsU0FBVyxjQUFlLFlBQWEsWUFBYSxhQUFjLFl5RC9wTzFFL1YsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLElBRVQxSCxRQUxnQitGLFV6RGl0T1Y0M0MsSUFDQSxTQUFTNTlDLEVBQVFDLFFBQVNDLEcwRGx0T2hDLFlBWUEsU0FBU0UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FWaEYsUUFBUzhGLEdBQWFBLEdBQzNCMkIsYUFBUXVTLE9BQU9sVSxHQUNiMHRDLGFBQWEsRUFDYmdLLGFBQWEsRUFDYkMsY0FBYyxFQUNkQyxhQUFhLEVBQ2JDLGNBQWUsb0JBQ2ZDLFFBQVMsTUFNTixRQUFTNzNDLEdBQW1CODNDLEdBQ2pDQSxFQUFvQjlqQyxZQUNsQkgsZ0JBQWlCLE9BQ2pCZCxTQUFVLGVBaEJkMVIsT0FBT0MsZUFBZXpILFFBQVMsY0FDN0IwSCxPQUFPLElBRVQxSCxRQUhnQmtHLGVBSWhCbEcsUUFTZ0JtRyxvQkFmaEIsSUFBQXlCLEdBQUEzSCxFQUFBLEtBVUk0SCxFQUFZMUgsRUFBdUJ5SCxFQUV2QzFCLEdBQWFxWCxTQUFXLGdCQVV4QnBYLEVBQW1Cb1gsU0FBVyIsImZpbGUiOiJhcHAuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFswXSx7XG5cbi8qKiovIDA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2Nyk7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMzY3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9hcHAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2OCk7XG5cdFxuXHR2YXIgX2RldmljZURldGFpbENvbW1hbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0NCk7XG5cdFxuXHR2YXIgX2RldmljZURldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0NSk7XG5cdFxuXHR2YXIgX2RldmljZXNMaXN0aW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTcpO1xuXHRcblx0dmFyIF9hZG1pbkNvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1OCk7XG5cdFxuXHR2YXIgX2F1dGhlbnRpY2F0aW9uQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjU5KTtcblx0XG5cdHZhciBfYXBwQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjYwKTtcblx0XG5cdHZhciBfZGlzdHJpYnV0b3JTZWxlY3RvckNvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Myk7XG5cdFxuXHR2YXIgX2Rpc3RyaWJ1dG9yc0NvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5NCk7XG5cdFxuXHR2YXIgX2RvbWFpbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5NSk7XG5cdFxuXHR2YXIgX2RvbWFpbkRldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nik7XG5cdFxuXHR2YXIgX211bHRpTG9jYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nyk7XG5cdFxuXHR2YXIgX211bHRpRGlzcGxheSA9IF9fd2VicGFja19yZXF1aXJlX18oNjk4KTtcblx0XG5cdHZhciBfbXVsdGlSZXNvdXJjZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjk5KTtcblx0XG5cdHZhciBfcHJvb2ZPZlBsYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMCk7XG5cdFxuXHR2YXIgX2FkbWluID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDEpO1xuXHRcblx0dmFyIF9hZG1pbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hZG1pbik7XG5cdFxuXHR2YXIgX2F1dGhvcml6YXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNyk7XG5cdFxuXHR2YXIgX2F1dGhvcml6YXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXV0aG9yaXphdGlvbik7XG5cdFxuXHR2YXIgX2NvbW1hbmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDgpO1xuXHRcblx0dmFyIF9jb21tYW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tYW5kcyk7XG5cdFxuXHR2YXIgX2RhdGVtYW5pcHVsYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwOSk7XG5cdFxuXHR2YXIgX2RhdGVtYW5pcHVsYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGF0ZW1hbmlwdWxhdGlvbik7XG5cdFxuXHR2YXIgX2RldmljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxMCk7XG5cdFxuXHR2YXIgX2RldmljZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGV2aWNlcyk7XG5cdFxuXHR2YXIgX2Rpc3RyaWJ1dG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNzExKTtcblx0XG5cdHZhciBfZGlzdHJpYnV0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Rpc3RyaWJ1dG9ycyk7XG5cdFxuXHR2YXIgX2RvbWFpbnMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTIpO1xuXHRcblx0dmFyIF9kb21haW5zMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvbWFpbnMyKTtcblx0XG5cdHZhciBfaWRlbnRpdHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxMyk7XG5cdFxuXHR2YXIgX2lkZW50aXR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lkZW50aXR5KTtcblx0XG5cdHZhciBfaW50ZWdyYXRpb25FdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNCk7XG5cdFxuXHR2YXIgX2ludGVncmF0aW9uRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludGVncmF0aW9uRXZlbnRzKTtcblx0XG5cdHZhciBfbG9jYXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTUpO1xuXHRcblx0dmFyIF9sb2NhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9jYXRpb25zKTtcblx0XG5cdHZhciBfcHJvZ3Jlc3NiYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNik7XG5cdFxuXHR2YXIgX3Byb2dyZXNzYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb2dyZXNzYmFyKTtcblx0XG5cdHZhciBfcHJvb2ZwbGF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTcpO1xuXHRcblx0dmFyIF9wcm9vZnBsYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvb2ZwbGF5KTtcblx0XG5cdHZhciBfc2Vzc2lvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxOCk7XG5cdFxuXHR2YXIgX3Nlc3Npb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Nlc3Npb25zKTtcblx0XG5cdHZhciBfc3RvcmFnZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzE5KTtcblx0XG5cdHZhciBfc3RvcmFnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdG9yYWdlKTtcblx0XG5cdHZhciBfdGVuYW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzIxKTtcblx0XG5cdHZhciBfdGVuYW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZW5hbnRzKTtcblx0XG5cdHZhciBfdGltZXpvbmVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjIpO1xuXHRcblx0dmFyIF90aW1lem9uZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGltZXpvbmVzKTtcblx0XG5cdHZhciBfdG9hc3RzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjMpO1xuXHRcblx0dmFyIF90b2FzdHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9hc3RzKTtcblx0XG5cdHZhciBfdmVyc2lvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyNCk7XG5cdFxuXHR2YXIgX3ZlcnNpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZlcnNpb25zKTtcblx0XG5cdHZhciBfdGVuYW50QWRkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjUpO1xuXHRcblx0dmFyIF90ZW5hbnREZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjYpO1xuXHRcblx0dmFyIF90ZW5hbnRMb2NhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzI3KTtcblx0XG5cdHZhciBfdGVuYW50TG9jYXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjgpO1xuXHRcblx0dmFyIF90ZW5hbnRNYW5hZ2VkRGV2aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzMwKTtcblx0XG5cdHZhciBfdGVuYW50VW5tYW5hZ2VkRGV2aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzMxKTtcblx0XG5cdHZhciBfdGVuYW50czMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczMik7XG5cdFxuXHR2YXIgX3dlbGNvbWVDb250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzMpO1xuXHRcblx0dmFyIF9hcHBSb3V0ZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczNCk7XG5cdFxuXHR2YXIgX2FwcFJ1biA9IF9fd2VicGFja19yZXF1aXJlX18oNzM1KTtcblx0XG5cdHZhciBfYXBwQ29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzYpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vIFdlbGNvbWVcblx0XG5cdC8vIEFwcFxuXHRcblx0Ly8gQWRtaW5cblx0X2FwcC5hcHBcblx0Ly8gU2VydmljZXNcblx0LnNlcnZpY2UoXCJTdG9yYWdlU2VydmljZVwiLCBfc3RvcmFnZTIuZGVmYXVsdCkuc2VydmljZShcIkFkbWluU2VydmljZVwiLCBfYWRtaW4yLmRlZmF1bHQpLnNlcnZpY2UoXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBfYXV0aG9yaXphdGlvbjIuZGVmYXVsdCkuc2VydmljZShcIkNvbW1hbmRzU2VydmljZVwiLCBfY29tbWFuZHMyLmRlZmF1bHQpLnNlcnZpY2UoXCJEYXRlTWFuaXB1bGF0aW9uU2VydmljZVwiLCBfZGF0ZW1hbmlwdWxhdGlvbjIuZGVmYXVsdCkuc2VydmljZShcIkRldmljZXNTZXJ2aWNlXCIsIF9kZXZpY2VzMi5kZWZhdWx0KS5zZXJ2aWNlKFwiRGlzdHJpYnV0b3JzU2VydmljZVwiLCBfZGlzdHJpYnV0b3JzMi5kZWZhdWx0KS5zZXJ2aWNlKFwiRG9tYWluc1NlcnZpY2VcIiwgX2RvbWFpbnMzLmRlZmF1bHQpLnNlcnZpY2UoXCJJZGVudGl0eVNlcnZpY2VcIiwgX2lkZW50aXR5Mi5kZWZhdWx0KS5zZXJ2aWNlKFwiSW50ZWdyYXRpb25FdmVudHNcIiwgX2ludGVncmF0aW9uRXZlbnRzMi5kZWZhdWx0KS5zZXJ2aWNlKFwiTG9jYXRpb25zU2VydmljZVwiLCBfbG9jYXRpb25zMi5kZWZhdWx0KS5zZXJ2aWNlKFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIF9wcm9ncmVzc2JhcjIuZGVmYXVsdCkuc2VydmljZShcIlByb29mUGxheVNlcnZpY2VcIiwgX3Byb29mcGxheTIuZGVmYXVsdCkuc2VydmljZShcIlNlc3Npb25zU2VydmljZVwiLCBfc2Vzc2lvbnMyLmRlZmF1bHQpLnNlcnZpY2UoXCJUZW5hbnRzU2VydmljZVwiLCBfdGVuYW50czIuZGVmYXVsdCkuc2VydmljZShcIlRpbWV6b25lc1NlcnZpY2VcIiwgX3RpbWV6b25lczIuZGVmYXVsdCkuc2VydmljZShcIlRvYXN0c1NlcnZpY2VcIiwgX3RvYXN0czIuZGVmYXVsdCkuc2VydmljZShcIlZlcnNpb25zU2VydmljZVwiLCBfdmVyc2lvbnMyLmRlZmF1bHQpXG5cdC8vIERldmljZVxuXHQuY29udHJvbGxlcihcIkRldmljZURldGFpbHNDb21tYW5kc0N0cmxcIiwgX2RldmljZURldGFpbENvbW1hbmQuRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybCkuY29udHJvbGxlcihcIkRldmljZURldGFpbHNDdHJsXCIsIF9kZXZpY2VEZXRhaWxzLkRldmljZURldGFpbHNDdHJsKS5jb250cm9sbGVyKFwiRGV2aWNlc0xpc3RpbmdDdHJsXCIsIF9kZXZpY2VzTGlzdGluZy5EZXZpY2VzTGlzdGluZ0N0cmwpXG5cdC8vIEFkbWluXG5cdC5jb250cm9sbGVyKFwiQWRtaW5DdHJsXCIsIF9hZG1pbkNvbnRyb2xsZXIuQWRtaW5DdHJsKVxuXHQvLyBBdXRoZW50aWNhdGlvblxuXHQuY29udHJvbGxlcihcIkF1dGhlbnRpY2F0aW9uQ3RybFwiLCBfYXV0aGVudGljYXRpb25Db250cm9sbGVyLkF1dGhlbnRpY2F0aW9uQ3RybClcblx0Ly8gQXBwXG5cdC5jb250cm9sbGVyKFwiQXBwQ29udHJvbGxlclwiLCBfYXBwQ29udHJvbGxlci5BcHBDb250cm9sbGVyKVxuXHQvLyBEaXN0cmlidXRvcnNcblx0LmNvbnRyb2xsZXIoXCJEaXN0cmlidXRvclNlbGVjdG9yQ3RybFwiLCBfZGlzdHJpYnV0b3JTZWxlY3RvckNvbnRyb2xsZXIuRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwpLmNvbnRyb2xsZXIoXCJEaXN0cmlidXRvcnNDdHJsXCIsIF9kaXN0cmlidXRvcnNDb250cm9sbGVyLkRpc3RyaWJ1dG9yc0N0cmwpXG5cdC8vIERvbWFpbnNcblx0LmNvbnRyb2xsZXIoXCJEb21haW5zQ3RybFwiLCBfZG9tYWlucy5Eb21haW5zQ3RybCkuY29udHJvbGxlcihcIkRvbWFpbkRldGFpbHNDdHJsXCIsIF9kb21haW5EZXRhaWxzLkRvbWFpbkRldGFpbHNDdHJsKVxuXHQvLyBQcm9vZlBsYXlcblx0LmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsXCIsIF9tdWx0aUxvY2F0aW9uLlByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwpLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmxcIiwgX211bHRpRGlzcGxheS5Qcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwpLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsXCIsIF9tdWx0aVJlc291cmNlLlByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwpLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheUN0cmxcIiwgX3Byb29mT2ZQbGF5LlByb29mT2ZQbGF5Q3RybClcblx0Ly8gVGVuYW50c1xuXHQuY29udHJvbGxlcihcIlRlbmFudEFkZEN0cmxcIiwgX3RlbmFudEFkZC5UZW5hbnRBZGRDdHJsKS5jb250cm9sbGVyKFwiVGVuYW50RGV0YWlsc0N0cmxcIiwgX3RlbmFudERldGFpbHMuVGVuYW50RGV0YWlsc0N0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnRMb2NhdGlvbkN0cmxcIiwgX3RlbmFudExvY2F0aW9uLlRlbmFudExvY2F0aW9uQ3RybCkuY29udHJvbGxlcihcIlRlbmFudExvY2F0aW9uc0N0cmxcIiwgX3RlbmFudExvY2F0aW9ucy5UZW5hbnRMb2NhdGlvbnNDdHJsKS5jb250cm9sbGVyKFwiVGVuYW50TWFuYWdlZERldmljZXNDdHJsXCIsIF90ZW5hbnRNYW5hZ2VkRGV2aWNlcy5UZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybFwiLCBfdGVuYW50VW5tYW5hZ2VkRGV2aWNlcy5UZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCkuY29udHJvbGxlcihcIlRlbmFudHNDdHJsXCIsIF90ZW5hbnRzMy5UZW5hbnRzQ3RybClcblx0Ly8gV2VsY29tZVxuXHQuY29udHJvbGxlcihcIldlbGNvbWVDdHJsXCIsIF93ZWxjb21lQ29udHJvbGxlci5XZWxjb21lQ3RybClcblx0Ly8gYXBwUnVuIEJsb2NrXG5cdC5ydW4oX2FwcFJ1bi5hcHBSdW4pXG5cdC8vIENvbmZpZ1xuXHQuY29uZmlnKF9hcHBSb3V0ZXMucm91dGVzKS5jb25maWcoX2FwcENvbmZpZy50b2FzdHJDb25maWcpLmNvbmZpZyhfYXBwQ29uZmlnLmJyZWFkY3J1bWJQcm92aWRlcik7XG5cdFxuXHQvLyBSZXF1ZXN0IEludGVyY2VwdG9yXG5cdFxuXHQvLyBDb25maWdcblx0XG5cdC8vIFRlbmFudFxuXHRcblx0Ly8gU2VydmljZXNcblx0XG5cdC8vIFByb29mUGxheVxuXHRcblx0Ly8gRG9tYWluc1xuXHRcblx0Ly8gRGlzdHJpYnV0b3JzXG5cdFxuXHQvLyBBdXRoZW50aWNhdGlvblxuXHRcblx0Ly8gRGV2aWNlXG5cdF9hcHAuYXBwLnNlcnZpY2UoJ1JlcXVlc3RJbnRlcmNlcHRvcicsIFtcIlN0b3JhZ2VTZXJ2aWNlXCIsIFwiJGxvY2F0aW9uXCIsIGZ1bmN0aW9uIChTdG9yYWdlU2VydmljZSwgJGxvY2F0aW9uKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgaW50ZXJjZXB0b3IgPSB7XG5cdCAgICByZXF1ZXN0OiBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuXHQgICAgICB2YXIgZ3MgPSAnNVhaSEJGM21Pd3FKbFlBbEcxTmVlV1gwQ2I3MmcnO1xuXHQgICAgICB2YXIgcHJvZCA9ICc2QzM0NjU4OEJENEM2RDcyMkExMTY1QjQzQzUxQyc7XG5cdCAgICAgIGNvbmZpZy5oZWFkZXJzID0ge1xuXHQgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdCAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcblx0ICAgICAgICAnQXV0aG9yaXphdGlvbic6ICRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMSA/IGdzIDogcHJvZCxcblx0ICAgICAgICAnWC1Qcm92aXNpb25pbmctVXNlcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlcktleScpLFxuXHQgICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyLUlkZW50aWZpZXInOiBTdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJFbWFpbCcpLFxuXHQgICAgICAgICdYLVByb3Zpc2lvbmluZy1EaXN0cmlidXRvcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5Jylcblx0ICAgICAgfTtcblx0ICAgICAgcmV0dXJuIGNvbmZpZztcblx0ICAgIH1cblx0ICB9O1xuXHQgIHJldHVybiBpbnRlcmNlcHRvcjtcblx0fV0pO1xuXHRcblx0X2FwcC5hcHAuY29uZmlnKFtcIiRodHRwUHJvdmlkZXJcIiwgZnVuY3Rpb24gKCRodHRwUHJvdmlkZXIpIHtcblx0ICByZXR1cm4gJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnUmVxdWVzdEludGVyY2VwdG9yJyk7XG5cdH1dKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzY4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuYXBwID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9hbmd1bGFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjkpO1xuXHRcblx0dmFyIF9hbmd1bGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZ3VsYXIpO1xuXHRcblx0dmFyIF9hbmd1bGFyVWlSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3MSk7XG5cdFxuXHR2YXIgX2FuZ3VsYXJVaVJvdXRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmd1bGFyVWlSb3V0ZXIpO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Mik7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0NzYpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0NzgpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0NzkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0ODMpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0ODUpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0ODcpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0ODkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0OTcpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0OTkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1MjEpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1MjIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1MjQpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1OTMpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1OTQpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1OTYpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MDEpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MDIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MDgpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MTcpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MTgpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MjApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MjIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MjQpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MjYpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1MDkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MzYpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygzNzApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MzcpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MzkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2NDEpO1xuXHRcblx0dmFyIF9sb2Rhc2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0Myk7XG5cdFxuXHR2YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vIE1hdGVyaWFsIGRlc2lnbiBjc3Ncblx0d2luZG93Ll8gPSBfbG9kYXNoMi5kZWZhdWx0O1xuXHQvLyBJbXBvcnQgYW5ndWxhclxuXHRcblx0d2luZG93LmFuZ3VsYXIgPSBfYW5ndWxhcjIuZGVmYXVsdDtcblx0XG5cdHZhciBhcHAgPSBleHBvcnRzLmFwcCA9IF9hbmd1bGFyMi5kZWZhdWx0Lm1vZHVsZSgnc2t5a2l0UHJvdmlzaW9uaW5nJywgW19hbmd1bGFyVWlSb3V0ZXIyLmRlZmF1bHQsICduZ0FuaW1hdGUnLCAnNzIwa2IudG9vbHRpcHMnLCAnbmdDb29raWVzJywgJ25nU2FuaXRpemUnLCAncmVzdGFuZ3VsYXInLCAndWkuYm9vdHN0cmFwJywgJ25nTWF0ZXJpYWxEYXRlUGlja2VyJywgJ2hTd2VldEFsZXJ0JywgJ25jeS1hbmd1bGFyLWJyZWFkY3J1bWInLCAnZGlyZWN0aXZlLmcrc2lnbmluJywgJ25nUHJvZ3Jlc3MnLCAnbmdNYXRlcmlhbCcsICduZ2NsaXBib2FyZCcsICd0b2FzdHInLCAnbGZOZ01kRmlsZUlucHV0J10pO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzNzQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgbWFwID0ge1xuXHRcdFwiLi9hZlwiOiAzNzUsXG5cdFx0XCIuL2FmLmpzXCI6IDM3NSxcblx0XHRcIi4vYXJcIjogMzc2LFxuXHRcdFwiLi9hci1tYVwiOiAzNzcsXG5cdFx0XCIuL2FyLW1hLmpzXCI6IDM3Nyxcblx0XHRcIi4vYXItc2FcIjogMzc4LFxuXHRcdFwiLi9hci1zYS5qc1wiOiAzNzgsXG5cdFx0XCIuL2FyLXRuXCI6IDM3OSxcblx0XHRcIi4vYXItdG4uanNcIjogMzc5LFxuXHRcdFwiLi9hci5qc1wiOiAzNzYsXG5cdFx0XCIuL2F6XCI6IDM4MCxcblx0XHRcIi4vYXouanNcIjogMzgwLFxuXHRcdFwiLi9iZVwiOiAzODEsXG5cdFx0XCIuL2JlLmpzXCI6IDM4MSxcblx0XHRcIi4vYmdcIjogMzgyLFxuXHRcdFwiLi9iZy5qc1wiOiAzODIsXG5cdFx0XCIuL2JuXCI6IDM4Myxcblx0XHRcIi4vYm4uanNcIjogMzgzLFxuXHRcdFwiLi9ib1wiOiAzODQsXG5cdFx0XCIuL2JvLmpzXCI6IDM4NCxcblx0XHRcIi4vYnJcIjogMzg1LFxuXHRcdFwiLi9ici5qc1wiOiAzODUsXG5cdFx0XCIuL2JzXCI6IDM4Nixcblx0XHRcIi4vYnMuanNcIjogMzg2LFxuXHRcdFwiLi9jYVwiOiAzODcsXG5cdFx0XCIuL2NhLmpzXCI6IDM4Nyxcblx0XHRcIi4vY3NcIjogMzg4LFxuXHRcdFwiLi9jcy5qc1wiOiAzODgsXG5cdFx0XCIuL2N2XCI6IDM4OSxcblx0XHRcIi4vY3YuanNcIjogMzg5LFxuXHRcdFwiLi9jeVwiOiAzOTAsXG5cdFx0XCIuL2N5LmpzXCI6IDM5MCxcblx0XHRcIi4vZGFcIjogMzkxLFxuXHRcdFwiLi9kYS5qc1wiOiAzOTEsXG5cdFx0XCIuL2RlXCI6IDM5Mixcblx0XHRcIi4vZGUtYXRcIjogMzkzLFxuXHRcdFwiLi9kZS1hdC5qc1wiOiAzOTMsXG5cdFx0XCIuL2RlLmpzXCI6IDM5Mixcblx0XHRcIi4vZHZcIjogMzk0LFxuXHRcdFwiLi9kdi5qc1wiOiAzOTQsXG5cdFx0XCIuL2VsXCI6IDM5NSxcblx0XHRcIi4vZWwuanNcIjogMzk1LFxuXHRcdFwiLi9lbi1hdVwiOiAzOTYsXG5cdFx0XCIuL2VuLWF1LmpzXCI6IDM5Nixcblx0XHRcIi4vZW4tY2FcIjogMzk3LFxuXHRcdFwiLi9lbi1jYS5qc1wiOiAzOTcsXG5cdFx0XCIuL2VuLWdiXCI6IDM5OCxcblx0XHRcIi4vZW4tZ2IuanNcIjogMzk4LFxuXHRcdFwiLi9lbi1pZVwiOiAzOTksXG5cdFx0XCIuL2VuLWllLmpzXCI6IDM5OSxcblx0XHRcIi4vZW4tbnpcIjogNDAwLFxuXHRcdFwiLi9lbi1uei5qc1wiOiA0MDAsXG5cdFx0XCIuL2VvXCI6IDQwMSxcblx0XHRcIi4vZW8uanNcIjogNDAxLFxuXHRcdFwiLi9lc1wiOiA0MDIsXG5cdFx0XCIuL2VzLWRvXCI6IDQwMyxcblx0XHRcIi4vZXMtZG8uanNcIjogNDAzLFxuXHRcdFwiLi9lcy5qc1wiOiA0MDIsXG5cdFx0XCIuL2V0XCI6IDQwNCxcblx0XHRcIi4vZXQuanNcIjogNDA0LFxuXHRcdFwiLi9ldVwiOiA0MDUsXG5cdFx0XCIuL2V1LmpzXCI6IDQwNSxcblx0XHRcIi4vZmFcIjogNDA2LFxuXHRcdFwiLi9mYS5qc1wiOiA0MDYsXG5cdFx0XCIuL2ZpXCI6IDQwNyxcblx0XHRcIi4vZmkuanNcIjogNDA3LFxuXHRcdFwiLi9mb1wiOiA0MDgsXG5cdFx0XCIuL2ZvLmpzXCI6IDQwOCxcblx0XHRcIi4vZnJcIjogNDA5LFxuXHRcdFwiLi9mci1jYVwiOiA0MTAsXG5cdFx0XCIuL2ZyLWNhLmpzXCI6IDQxMCxcblx0XHRcIi4vZnItY2hcIjogNDExLFxuXHRcdFwiLi9mci1jaC5qc1wiOiA0MTEsXG5cdFx0XCIuL2ZyLmpzXCI6IDQwOSxcblx0XHRcIi4vZnlcIjogNDEyLFxuXHRcdFwiLi9meS5qc1wiOiA0MTIsXG5cdFx0XCIuL2dkXCI6IDQxMyxcblx0XHRcIi4vZ2QuanNcIjogNDEzLFxuXHRcdFwiLi9nbFwiOiA0MTQsXG5cdFx0XCIuL2dsLmpzXCI6IDQxNCxcblx0XHRcIi4vaGVcIjogNDE1LFxuXHRcdFwiLi9oZS5qc1wiOiA0MTUsXG5cdFx0XCIuL2hpXCI6IDQxNixcblx0XHRcIi4vaGkuanNcIjogNDE2LFxuXHRcdFwiLi9oclwiOiA0MTcsXG5cdFx0XCIuL2hyLmpzXCI6IDQxNyxcblx0XHRcIi4vaHVcIjogNDE4LFxuXHRcdFwiLi9odS5qc1wiOiA0MTgsXG5cdFx0XCIuL2h5LWFtXCI6IDQxOSxcblx0XHRcIi4vaHktYW0uanNcIjogNDE5LFxuXHRcdFwiLi9pZFwiOiA0MjAsXG5cdFx0XCIuL2lkLmpzXCI6IDQyMCxcblx0XHRcIi4vaXNcIjogNDIxLFxuXHRcdFwiLi9pcy5qc1wiOiA0MjEsXG5cdFx0XCIuL2l0XCI6IDQyMixcblx0XHRcIi4vaXQuanNcIjogNDIyLFxuXHRcdFwiLi9qYVwiOiA0MjMsXG5cdFx0XCIuL2phLmpzXCI6IDQyMyxcblx0XHRcIi4vanZcIjogNDI0LFxuXHRcdFwiLi9qdi5qc1wiOiA0MjQsXG5cdFx0XCIuL2thXCI6IDQyNSxcblx0XHRcIi4va2EuanNcIjogNDI1LFxuXHRcdFwiLi9ra1wiOiA0MjYsXG5cdFx0XCIuL2trLmpzXCI6IDQyNixcblx0XHRcIi4va21cIjogNDI3LFxuXHRcdFwiLi9rbS5qc1wiOiA0MjcsXG5cdFx0XCIuL2tvXCI6IDQyOCxcblx0XHRcIi4va28uanNcIjogNDI4LFxuXHRcdFwiLi9reVwiOiA0MjksXG5cdFx0XCIuL2t5LmpzXCI6IDQyOSxcblx0XHRcIi4vbGJcIjogNDMwLFxuXHRcdFwiLi9sYi5qc1wiOiA0MzAsXG5cdFx0XCIuL2xvXCI6IDQzMSxcblx0XHRcIi4vbG8uanNcIjogNDMxLFxuXHRcdFwiLi9sdFwiOiA0MzIsXG5cdFx0XCIuL2x0LmpzXCI6IDQzMixcblx0XHRcIi4vbHZcIjogNDMzLFxuXHRcdFwiLi9sdi5qc1wiOiA0MzMsXG5cdFx0XCIuL21lXCI6IDQzNCxcblx0XHRcIi4vbWUuanNcIjogNDM0LFxuXHRcdFwiLi9ta1wiOiA0MzUsXG5cdFx0XCIuL21rLmpzXCI6IDQzNSxcblx0XHRcIi4vbWxcIjogNDM2LFxuXHRcdFwiLi9tbC5qc1wiOiA0MzYsXG5cdFx0XCIuL21yXCI6IDQzNyxcblx0XHRcIi4vbXIuanNcIjogNDM3LFxuXHRcdFwiLi9tc1wiOiA0MzgsXG5cdFx0XCIuL21zLW15XCI6IDQzOSxcblx0XHRcIi4vbXMtbXkuanNcIjogNDM5LFxuXHRcdFwiLi9tcy5qc1wiOiA0MzgsXG5cdFx0XCIuL215XCI6IDQ0MCxcblx0XHRcIi4vbXkuanNcIjogNDQwLFxuXHRcdFwiLi9uYlwiOiA0NDEsXG5cdFx0XCIuL25iLmpzXCI6IDQ0MSxcblx0XHRcIi4vbmVcIjogNDQyLFxuXHRcdFwiLi9uZS5qc1wiOiA0NDIsXG5cdFx0XCIuL25sXCI6IDQ0Myxcblx0XHRcIi4vbmwuanNcIjogNDQzLFxuXHRcdFwiLi9ublwiOiA0NDQsXG5cdFx0XCIuL25uLmpzXCI6IDQ0NCxcblx0XHRcIi4vcGEtaW5cIjogNDQ1LFxuXHRcdFwiLi9wYS1pbi5qc1wiOiA0NDUsXG5cdFx0XCIuL3BsXCI6IDQ0Nixcblx0XHRcIi4vcGwuanNcIjogNDQ2LFxuXHRcdFwiLi9wdFwiOiA0NDcsXG5cdFx0XCIuL3B0LWJyXCI6IDQ0OCxcblx0XHRcIi4vcHQtYnIuanNcIjogNDQ4LFxuXHRcdFwiLi9wdC5qc1wiOiA0NDcsXG5cdFx0XCIuL3JvXCI6IDQ0OSxcblx0XHRcIi4vcm8uanNcIjogNDQ5LFxuXHRcdFwiLi9ydVwiOiA0NTAsXG5cdFx0XCIuL3J1LmpzXCI6IDQ1MCxcblx0XHRcIi4vc2VcIjogNDUxLFxuXHRcdFwiLi9zZS5qc1wiOiA0NTEsXG5cdFx0XCIuL3NpXCI6IDQ1Mixcblx0XHRcIi4vc2kuanNcIjogNDUyLFxuXHRcdFwiLi9za1wiOiA0NTMsXG5cdFx0XCIuL3NrLmpzXCI6IDQ1Myxcblx0XHRcIi4vc2xcIjogNDU0LFxuXHRcdFwiLi9zbC5qc1wiOiA0NTQsXG5cdFx0XCIuL3NxXCI6IDQ1NSxcblx0XHRcIi4vc3EuanNcIjogNDU1LFxuXHRcdFwiLi9zclwiOiA0NTYsXG5cdFx0XCIuL3NyLWN5cmxcIjogNDU3LFxuXHRcdFwiLi9zci1jeXJsLmpzXCI6IDQ1Nyxcblx0XHRcIi4vc3IuanNcIjogNDU2LFxuXHRcdFwiLi9zc1wiOiA0NTgsXG5cdFx0XCIuL3NzLmpzXCI6IDQ1OCxcblx0XHRcIi4vc3ZcIjogNDU5LFxuXHRcdFwiLi9zdi5qc1wiOiA0NTksXG5cdFx0XCIuL3N3XCI6IDQ2MCxcblx0XHRcIi4vc3cuanNcIjogNDYwLFxuXHRcdFwiLi90YVwiOiA0NjEsXG5cdFx0XCIuL3RhLmpzXCI6IDQ2MSxcblx0XHRcIi4vdGVcIjogNDYyLFxuXHRcdFwiLi90ZS5qc1wiOiA0NjIsXG5cdFx0XCIuL3RoXCI6IDQ2Myxcblx0XHRcIi4vdGguanNcIjogNDYzLFxuXHRcdFwiLi90bC1waFwiOiA0NjQsXG5cdFx0XCIuL3RsLXBoLmpzXCI6IDQ2NCxcblx0XHRcIi4vdGxoXCI6IDQ2NSxcblx0XHRcIi4vdGxoLmpzXCI6IDQ2NSxcblx0XHRcIi4vdHJcIjogNDY2LFxuXHRcdFwiLi90ci5qc1wiOiA0NjYsXG5cdFx0XCIuL3R6bFwiOiA0NjcsXG5cdFx0XCIuL3R6bC5qc1wiOiA0NjcsXG5cdFx0XCIuL3R6bVwiOiA0NjgsXG5cdFx0XCIuL3R6bS1sYXRuXCI6IDQ2OSxcblx0XHRcIi4vdHptLWxhdG4uanNcIjogNDY5LFxuXHRcdFwiLi90em0uanNcIjogNDY4LFxuXHRcdFwiLi91a1wiOiA0NzAsXG5cdFx0XCIuL3VrLmpzXCI6IDQ3MCxcblx0XHRcIi4vdXpcIjogNDcxLFxuXHRcdFwiLi91ei5qc1wiOiA0NzEsXG5cdFx0XCIuL3ZpXCI6IDQ3Mixcblx0XHRcIi4vdmkuanNcIjogNDcyLFxuXHRcdFwiLi94LXBzZXVkb1wiOiA0NzMsXG5cdFx0XCIuL3gtcHNldWRvLmpzXCI6IDQ3Myxcblx0XHRcIi4vemgtY25cIjogNDc0LFxuXHRcdFwiLi96aC1jbi5qc1wiOiA0NzQsXG5cdFx0XCIuL3poLXR3XCI6IDQ3NSxcblx0XHRcIi4vemgtdHcuanNcIjogNDc1XG5cdH07XG5cdGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcblx0fTtcblx0ZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRcdHJldHVybiBtYXBbcmVxXSB8fCAoZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpIH0oKSk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5cdG1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG5cdHdlYnBhY2tDb250ZXh0LmlkID0gMzc0O1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDUyMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0Lypcblx0IG5ncHJvZ3Jlc3MgMS4xLjIgLSBzbGltLCBzaXRlLXdpZGUgcHJvZ3Jlc3NiYXIgZm9yIEFuZ3VsYXJKUyBcblx0IChDKSAyMDEzIC0gVmljdG9yIEJqZWxraG9sbSBcblx0IExpY2Vuc2U6IE1JVCBcblx0IFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL1ZpY3RvckJqZWxraG9sbS9uZ1Byb2dyZXNzIFxuXHQgRGF0ZSBDb21waWxlZDogMjAxNS0wNy0yNyBcblx0ICovXG5cdGFuZ3VsYXIubW9kdWxlKFwibmdQcm9ncmVzcy5wcm92aWRlclwiLCBbXCJuZ1Byb2dyZXNzLmRpcmVjdGl2ZVwiXSkuc2VydmljZShcIm5nUHJvZ3Jlc3NcIiwgZnVuY3Rpb24gKCkge1xuXHQgIFwidXNlIHN0cmljdFwiO1xuXHRcblx0ICByZXR1cm4gW1wiJGRvY3VtZW50XCIsIFwiJHdpbmRvd1wiLCBcIiRjb21waWxlXCIsIFwiJHJvb3RTY29wZVwiLCBcIiR0aW1lb3V0XCIsIGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlKSB7XG5cdCAgICB0aGlzLmF1dG9TdHlsZSA9ICEwLCB0aGlzLmNvdW50ID0gMCwgdGhpcy5oZWlnaHQgPSBcIjJweFwiLCB0aGlzLiRzY29wZSA9IGQuJG5ldygpLCB0aGlzLmNvbG9yID0gXCJmaXJlYnJpY2tcIiwgdGhpcy5wYXJlbnQgPSBhLmZpbmQoXCJib2R5XCIpWzBdLCB0aGlzLmNvdW50ID0gMCwgdGhpcy5wcm9ncmVzc2JhckVsID0gYyhcIjxuZy1wcm9ncmVzcz48L25nLXByb2dyZXNzPlwiKSh0aGlzLiRzY29wZSksIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSksIHRoaXMuJHNjb3BlLmNvdW50ID0gdGhpcy5jb3VudCwgdm9pZCAwICE9PSB0aGlzLmhlaWdodCAmJiB0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQpLCB2b2lkIDAgIT09IHRoaXMuY29sb3IgJiYgKHRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgdGhpcy5jb2xvciksIHRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImNvbG9yXCIsIHRoaXMuY29sb3IpKSwgdGhpcy5pbnRlcnZhbENvdW50ZXJJZCA9IDAsIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRoaXMuc2hvdygpO1xuXHQgICAgICB2YXIgYSA9IHRoaXM7XG5cdCAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIHRoaXMuaW50ZXJ2YWxDb3VudGVySWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaXNOYU4oYS5jb3VudCkgPyAoY2xlYXJJbnRlcnZhbChhLmludGVydmFsQ291bnRlcklkKSwgYS5jb3VudCA9IDAsIGEuaGlkZSgpKSA6IChhLnJlbWFpbmluZyA9IDEwMCAtIGEuY291bnQsIGEuY291bnQgPSBhLmNvdW50ICsgLjE1ICogTWF0aC5wb3coMSAtIE1hdGguc3FydChhLnJlbWFpbmluZyksIDIpLCBhLnVwZGF0ZUNvdW50KGEuY291bnQpKTtcblx0ICAgICAgfSwgMjAwKTtcblx0ICAgIH0sIHRoaXMudXBkYXRlQ291bnQgPSBmdW5jdGlvbiAoYSkge1xuXHQgICAgICB0aGlzLiRzY29wZS5jb3VudCA9IGEsIHRoaXMuJHNjb3BlLiQkcGhhc2UgfHwgdGhpcy4kc2NvcGUuJGFwcGx5KCk7XG5cdCAgICB9LCB0aGlzLnNldEhlaWdodCA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIHJldHVybiB2b2lkIDAgIT09IGEgJiYgKHRoaXMuaGVpZ2h0ID0gYSwgdGhpcy4kc2NvcGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQsIHRoaXMuJHNjb3BlLiQkcGhhc2UgfHwgdGhpcy4kc2NvcGUuJGFwcGx5KCkpLCB0aGlzLmhlaWdodDtcblx0ICAgIH0sIHRoaXMuc2V0Q29sb3IgPSBmdW5jdGlvbiAoYSkge1xuXHQgICAgICByZXR1cm4gdm9pZCAwICE9PSBhICYmICh0aGlzLmNvbG9yID0gYSwgdGhpcy4kc2NvcGUuY29sb3IgPSB0aGlzLmNvbG9yLCB0aGlzLiRzY29wZS4kJHBoYXNlIHx8IHRoaXMuJHNjb3BlLiRhcHBseSgpKSwgdGhpcy5jb2xvcjtcblx0ICAgIH0sIHRoaXMuaGlkZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdGhpcy5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKFwib3BhY2l0eVwiLCBcIjBcIik7XG5cdCAgICAgIHZhciBhID0gdGhpcztcblx0ICAgICAgYS5hbmltYXRlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBhLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJ3aWR0aFwiLCBcIjAlXCIpLCBhLmFuaW1hdGUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgYS5zaG93KCk7XG5cdCAgICAgICAgfSwgNTAwKTtcblx0ICAgICAgfSwgNTAwKTtcblx0ICAgIH0sIHRoaXMuc2hvdyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGEgPSB0aGlzO1xuXHQgICAgICBhLmFuaW1hdGUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGEucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIm9wYWNpdHlcIiwgXCIxXCIpO1xuXHQgICAgICB9LCAxMDApO1xuXHQgICAgfSwgdGhpcy5hbmltYXRlID0gZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgdm9pZCAwICE9PSB0aGlzLmFuaW1hdGlvbiAmJiBlLmNhbmNlbCh0aGlzLmFuaW1hdGlvbiksIHRoaXMuYW5pbWF0aW9uID0gZShhLCBiKTtcblx0ICAgIH0sIHRoaXMuc3RhdHVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jb3VudDtcblx0ICAgIH0sIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKTtcblx0ICAgIH0sIHRoaXMuc2V0ID0gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuc2hvdygpLCB0aGlzLnVwZGF0ZUNvdW50KGEpLCB0aGlzLmNvdW50ID0gYSwgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSwgdGhpcy5jb3VudDtcblx0ICAgIH0sIHRoaXMuY3NzID0gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhhKTtcblx0ICAgIH0sIHRoaXMucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCB0aGlzLmNvdW50ID0gMCwgdGhpcy51cGRhdGVDb3VudCh0aGlzLmNvdW50KSwgMDtcblx0ICAgIH0sIHRoaXMuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRoaXMuY291bnQgPSAxMDAsIHRoaXMudXBkYXRlQ291bnQodGhpcy5jb3VudCk7XG5cdCAgICAgIHZhciBhID0gdGhpcztcblx0ICAgICAgcmV0dXJuIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIGUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGEuaGlkZSgpLCBlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIGEuY291bnQgPSAwLCBhLnVwZGF0ZUNvdW50KGEuY291bnQpO1xuXHQgICAgICAgIH0sIDUwMCk7XG5cdCAgICAgIH0sIDFlMyksIHRoaXMuY291bnQ7XG5cdCAgICB9LCB0aGlzLnNldFBhcmVudCA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIGlmIChudWxsID09PSBhIHx8IHZvaWQgMCA9PT0gYSkgdGhyb3cgbmV3IEVycm9yKFwiUHJvdmlkZSBhIHZhbGlkIHBhcmVudCBvZiB0eXBlIEhUTUxFbGVtZW50XCIpO1xuXHQgICAgICBudWxsICE9PSB0aGlzLnBhcmVudCAmJiB2b2lkIDAgIT09IHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSksIHRoaXMucGFyZW50ID0gYSwgdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc2JhckVsWzBdKTtcblx0ICAgIH0sIHRoaXMuZ2V0RG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NiYXJFbDtcblx0ICAgIH0sIHRoaXMuc2V0QWJzb2x1dGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRoaXMucHJvZ3Jlc3NiYXJFbC5jc3MoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpO1xuXHQgICAgfTtcblx0ICB9XTtcblx0fSkuZmFjdG9yeShcIm5nUHJvZ3Jlc3NGYWN0b3J5XCIsIFtcIiRpbmplY3RvclwiLCBcIm5nUHJvZ3Jlc3NcIiwgZnVuY3Rpb24gKGEsIGIpIHtcblx0ICB2YXIgYyA9IHtcblx0ICAgIGNyZWF0ZUluc3RhbmNlOiBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZSgpIHtcblx0ICAgICAgcmV0dXJuIGEuaW5zdGFudGlhdGUoYik7XG5cdCAgICB9XG5cdCAgfTtcblx0ICByZXR1cm4gYztcblx0fV0pLCBhbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3MuZGlyZWN0aXZlXCIsIFtdKS5kaXJlY3RpdmUoXCJuZ1Byb2dyZXNzXCIsIFtcIiR3aW5kb3dcIiwgXCIkcm9vdFNjb3BlXCIsIGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgdmFyIGMgPSB7XG5cdCAgICByZXBsYWNlOiAhMCwgcmVzdHJpY3Q6IFwiRVwiLCBsaW5rOiBmdW5jdGlvbiBsaW5rKGEsIGIsIGMsIGQpIHtcblx0ICAgICAgYS4kd2F0Y2goXCJjb3VudFwiLCBmdW5jdGlvbiAoYykge1xuXHQgICAgICAgICh2b2lkIDAgIT09IGMgfHwgbnVsbCAhPT0gYykgJiYgKGEuY291bnRlciA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJ3aWR0aFwiLCBjICsgXCIlXCIpKTtcblx0ICAgICAgfSksIGEuJHdhdGNoKFwiY29sb3JcIiwgZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmNvbG9yID0gYywgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgYyksIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJjb2xvclwiLCBjKSk7XG5cdCAgICAgIH0pLCBhLiR3YXRjaChcImhlaWdodFwiLCBmdW5jdGlvbiAoYykge1xuXHQgICAgICAgICh2b2lkIDAgIT09IGMgfHwgbnVsbCAhPT0gYykgJiYgKGEuaGVpZ2h0ID0gYywgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImhlaWdodFwiLCBjKSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSwgdGVtcGxhdGU6ICc8ZGl2IGlkPVwibmdQcm9ncmVzcy1jb250YWluZXJcIj48ZGl2IGlkPVwibmdQcm9ncmVzc1wiPjwvZGl2PjwvZGl2Pidcblx0ICB9O1xuXHQgIHJldHVybiBjO1xuXHR9XSksIGFuZ3VsYXIubW9kdWxlKFwibmdQcm9ncmVzc1wiLCBbXCJuZ1Byb2dyZXNzLmRpcmVjdGl2ZVwiLCBcIm5nUHJvZ3Jlc3MucHJvdmlkZXJcIl0pO1xuXG4vKioqLyB9LFxuXG4vKioqLyA1MjI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MjMpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODIpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9uZ1Byb2dyZXNzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmdQcm9ncmVzcy5jc3NcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDUyMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDgxKSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIiNuZ1Byb2dyZXNze21hcmdpbjowO3BhZGRpbmc6MDt6LWluZGV4Ojk5OTk4O2JhY2tncm91bmQtY29sb3I6Z3JlZW47Y29sb3I6Z3JlZW47Ym94LXNoYWRvdzowIDAgMTBweCAwO2hlaWdodDoycHg7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjVzIGVhc2UtaW4tb3V0O3RyYW5zaXRpb246YWxsIC41cyBlYXNlLWluLW91dH0jbmdQcm9ncmVzcy1jb250YWluZXJ7cG9zaXRpb246Zml4ZWQ7bWFyZ2luOjA7cGFkZGluZzowO3RvcDowO2xlZnQ6MDtyaWdodDowO3otaW5kZXg6OTk5OTl9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuXG4vKioqLyA1MjQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfdHlwZW9mMiA9IF9fd2VicGFja19yZXF1aXJlX18oNTI1KTtcblx0XG5cdHZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8qISBhbmd1bGFyLWJyZWFkY3J1bWIgLSB2MC40LjAtZGV2LTIwMTUtMDgtMDdcblx0KiBodHRwOi8vbmN1aWxsZXJ5LmdpdGh1Yi5pby9hbmd1bGFyLWJyZWFkY3J1bWJcblx0KiBDb3B5cmlnaHQgKGMpIDIwMTUgTmljb2xhcyBDdWlsbGVyeTsgTGljZW5zZWQgTUlUICovXG5cdCFmdW5jdGlvbiAoYSwgYiwgYykge1xuXHQgIFwidXNlIHN0cmljdFwiO1xuXHQgIGZ1bmN0aW9uIGQoYSwgYykge1xuXHQgICAgcmV0dXJuIGIuZXF1YWxzKGEubGVuZ3RoLCBjLmxlbmd0aCkgPyBhID4gYyA6IGEubGVuZ3RoID4gYy5sZW5ndGg7XG5cdCAgfWZ1bmN0aW9uIGUoYSkge1xuXHQgICAgdmFyIGIgPSBhLnJlcGxhY2UoL1xcbi9nLCBcIiBcIikubWF0Y2goL14oW14oXSs/KVxccyooXFwoKC4qKVxcKSk/JC8pO2lmICghYiB8fCA0ICE9PSBiLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSByZWYgJ1wiICsgYSArIFwiJ1wiKTtyZXR1cm4geyBzdGF0ZTogYlsxXSwgcGFyYW1FeHByOiBiWzNdIHx8IG51bGwgfTtcblx0ICB9ZnVuY3Rpb24gZigpIHtcblx0ICAgIHZhciBhID0geyBwcmVmaXhTdGF0ZU5hbWU6IG51bGwsIHRlbXBsYXRlOiBcImJvb3RzdHJhcDNcIiwgdGVtcGxhdGVVcmw6IG51bGwsIGluY2x1ZGVBYnN0cmFjdDogITEgfTt0aGlzLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAoYykge1xuXHQgICAgICBiLmV4dGVuZChhLCBjKTtcblx0ICAgIH0sIHRoaXMuJGdldCA9IFtcIiRzdGF0ZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIiRyb290U2NvcGVcIiwgZnVuY3Rpb24gKGIsIGYsIGcpIHtcblx0ICAgICAgdmFyIGggPSBnO2cuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgICAgIWEudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSAmJiBkKGEudGFyZ2V0U2NvcGUuJGlkLCBoLiRpZCkgJiYgKGggPSBhLnRhcmdldFNjb3BlKTtcblx0ICAgICAgfSk7dmFyIGkgPSBmdW5jdGlvbiBpKGEpIHtcblx0ICAgICAgICB2YXIgYiA9IGEucGFyZW50IHx8ICgvXiguKylcXC5bXi5dKyQvLmV4ZWMoYS5uYW1lKSB8fCBbXSlbMV0sXG5cdCAgICAgICAgICAgIGMgPSBcIm9iamVjdFwiID09ICh0eXBlb2YgYiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoYikpO3JldHVybiBjID8gYi5uYW1lIDogYjtcblx0ICAgICAgfSxcblx0ICAgICAgICAgIGogPSBmdW5jdGlvbiBqKGMsIGQpIHtcblx0ICAgICAgICBmb3IgKHZhciBnLCBpLCBqID0gZShkKSwgayA9ICExLCBsID0gITEsIG0gPSAwLCBuID0gYy5sZW5ndGg7IG4gPiBtOyBtICs9IDEpIHtcblx0ICAgICAgICAgIGlmIChjW21dLm5hbWUgPT09IGouc3RhdGUpIHJldHVybjtcblx0ICAgICAgICB9ZyA9IGIuZ2V0KGouc3RhdGUpLCBnLm5jeUJyZWFkY3J1bWIgJiYgKGcubmN5QnJlYWRjcnVtYi5mb3JjZSAmJiAoayA9ICEwKSwgZy5uY3lCcmVhZGNydW1iLnNraXAgJiYgKGwgPSAhMCkpLCBnW1wiYWJzdHJhY3RcIl0gJiYgIWEuaW5jbHVkZUFic3RyYWN0ICYmICFrIHx8IGwgfHwgKGoucGFyYW1FeHByICYmIChpID0gaC4kZXZhbChqLnBhcmFtRXhwcikpLCBnLm5jeUJyZWFkY3J1bWJMaW5rID0gYi5ocmVmKGouc3RhdGUsIGkgfHwgZiB8fCB7fSksIGMudW5zaGlmdChnKSk7XG5cdCAgICAgIH0sXG5cdCAgICAgICAgICBrID0gZnVuY3Rpb24gayhhKSB7XG5cdCAgICAgICAgdmFyIGMgPSBlKGEpLFxuXHQgICAgICAgICAgICBkID0gYi5nZXQoYy5zdGF0ZSk7aWYgKGQubmN5QnJlYWRjcnVtYiAmJiBkLm5jeUJyZWFkY3J1bWIucGFyZW50KSB7XG5cdCAgICAgICAgICB2YXIgZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZC5uY3lCcmVhZGNydW1iLnBhcmVudCxcblx0ICAgICAgICAgICAgICBnID0gZiA/IGQubmN5QnJlYWRjcnVtYi5wYXJlbnQoaCkgOiBkLm5jeUJyZWFkY3J1bWIucGFyZW50O2lmIChnKSByZXR1cm4gZztcblx0ICAgICAgICB9cmV0dXJuIGkoZCk7XG5cdCAgICAgIH07cmV0dXJuIHsgZ2V0VGVtcGxhdGU6IGZ1bmN0aW9uIGdldFRlbXBsYXRlKGIpIHtcblx0ICAgICAgICAgIHJldHVybiBhLnRlbXBsYXRlVXJsID8gbnVsbCA6IGJbYS50ZW1wbGF0ZV0gPyBiW2EudGVtcGxhdGVdIDogYS50ZW1wbGF0ZTtcblx0ICAgICAgICB9LCBnZXRUZW1wbGF0ZVVybDogZnVuY3Rpb24gZ2V0VGVtcGxhdGVVcmwoKSB7XG5cdCAgICAgICAgICByZXR1cm4gYS50ZW1wbGF0ZVVybDtcblx0ICAgICAgICB9LCBnZXRTdGF0ZXNDaGFpbjogZnVuY3Rpb24gZ2V0U3RhdGVzQ2hhaW4oYykge1xuXHQgICAgICAgICAgZm9yICh2YXIgZCA9IFtdLCBlID0gYi4kY3VycmVudC5zZWxmLm5hbWU7IGU7IGUgPSBrKGUpKSB7XG5cdCAgICAgICAgICAgIGlmIChqKGQsIGUpLCBjICYmIGQubGVuZ3RoKSByZXR1cm4gZDtcblx0ICAgICAgICAgIH1yZXR1cm4gYS5wcmVmaXhTdGF0ZU5hbWUgJiYgaihkLCBhLnByZWZpeFN0YXRlTmFtZSksIGQ7XG5cdCAgICAgICAgfSwgZ2V0TGFzdFN0ZXA6IGZ1bmN0aW9uIGdldExhc3RTdGVwKCkge1xuXHQgICAgICAgICAgdmFyIGEgPSB0aGlzLmdldFN0YXRlc0NoYWluKCEwKTtyZXR1cm4gYS5sZW5ndGggPyBhWzBdIDogYztcblx0ICAgICAgICB9LCAkZ2V0TGFzdFZpZXdTY29wZTogZnVuY3Rpb24gJGdldExhc3RWaWV3U2NvcGUoKSB7XG5cdCAgICAgICAgICByZXR1cm4gaDtcblx0ICAgICAgICB9IH07XG5cdCAgICB9XTtcblx0ICB9ZnVuY3Rpb24gZyhhLCBjLCBkKSB7XG5cdCAgICB2YXIgZSA9IHsgYm9vdHN0cmFwMjogJzx1bCBjbGFzcz1cImJyZWFkY3J1bWJcIj48bGkgbmctcmVwZWF0PVwic3RlcCBpbiBzdGVwc1wiIG5nLXN3aXRjaD1cIiRsYXN0IHx8ICEhc3RlcC5hYnN0cmFjdFwiIG5nLWNsYXNzPVwie2FjdGl2ZTogJGxhc3R9XCI+PGEgbmctc3dpdGNoLXdoZW49XCJmYWxzZVwiIGhyZWY9XCJ7e3N0ZXAubmN5QnJlYWRjcnVtYkxpbmt9fVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvYT48c3BhbiBuZy1zd2l0Y2gtd2hlbj1cInRydWVcIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L3NwYW4+PHNwYW4gY2xhc3M9XCJkaXZpZGVyXCIgbmctaGlkZT1cIiRsYXN0XCI+Lzwvc3Bhbj48L2xpPjwvdWw+JywgYm9vdHN0cmFwMzogJzxvbCBjbGFzcz1cImJyZWFkY3J1bWJcIj48bGkgbmctcmVwZWF0PVwic3RlcCBpbiBzdGVwc1wiIG5nLWNsYXNzPVwie2FjdGl2ZTogJGxhc3R9XCIgbmctc3dpdGNoPVwiJGxhc3QgfHwgISFzdGVwLmFic3RyYWN0XCI+PGEgbmctc3dpdGNoLXdoZW49XCJmYWxzZVwiIGhyZWY9XCJ7e3N0ZXAubmN5QnJlYWRjcnVtYkxpbmt9fVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvYT48c3BhbiBuZy1zd2l0Y2gtd2hlbj1cInRydWVcIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L3NwYW4+PC9saT48L29sPicgfTtyZXR1cm4geyByZXN0cmljdDogXCJBRVwiLCByZXBsYWNlOiAhMCwgc2NvcGU6IHt9LCB0ZW1wbGF0ZTogYy5nZXRUZW1wbGF0ZShlKSwgdGVtcGxhdGVVcmw6IGMuZ2V0VGVtcGxhdGVVcmwoKSwgbGluazogeyBwb3N0OiBmdW5jdGlvbiBwb3N0KGUpIHtcblx0ICAgICAgICAgIHZhciBmID0gW10sXG5cdCAgICAgICAgICAgICAgZyA9IGZ1bmN0aW9uIGcoKSB7XG5cdCAgICAgICAgICAgIGwoZiksIGYgPSBbXTt2YXIgZCA9IGMuJGdldExhc3RWaWV3U2NvcGUoKTtlLnN0ZXBzID0gYy5nZXRTdGF0ZXNDaGFpbigpLCBiLmZvckVhY2goZS5zdGVwcywgZnVuY3Rpb24gKGIpIHtcblx0ICAgICAgICAgICAgICBpZiAoYi5uY3lCcmVhZGNydW1iICYmIGIubmN5QnJlYWRjcnVtYi5sYWJlbCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGMgPSBhKGIubmN5QnJlYWRjcnVtYi5sYWJlbCk7Yi5uY3lCcmVhZGNydW1iTGFiZWwgPSBjKGQpLCBrKGYsIGMsIGQsIGIpO1xuXHQgICAgICAgICAgICAgIH0gZWxzZSBiLm5jeUJyZWFkY3J1bWJMYWJlbCA9IGIubmFtZTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB9O2QuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgICAgICAgIGEudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSB8fCBnKCk7XG5cdCAgICAgICAgICB9KSwgZygpO1xuXHQgICAgICAgIH0gfSB9O1xuXHQgIH1mdW5jdGlvbiBoKGEsIGIsIGMpIHtcblx0ICAgIHJldHVybiB7IHJlc3RyaWN0OiBcIkFcIiwgc2NvcGU6IHt9LCB0ZW1wbGF0ZTogXCJ7e25jeUJyZWFkY3J1bWJMYWJlbH19XCIsIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUoZCwgZSkge1xuXHQgICAgICAgIHZhciBmID0gZC5hdHRyKGUuJGF0dHIubmN5QnJlYWRjcnVtYkxhc3QpO3JldHVybiBmICYmIGQuaHRtbChmKSwgeyBwb3N0OiBmdW5jdGlvbiBwb3N0KGQpIHtcblx0ICAgICAgICAgICAgdmFyIGUgPSBbXSxcblx0ICAgICAgICAgICAgICAgIGYgPSBmdW5jdGlvbiBmKCkge1xuXHQgICAgICAgICAgICAgIGwoZSksIGUgPSBbXTt2YXIgYyA9IGIuJGdldExhc3RWaWV3U2NvcGUoKSxcblx0ICAgICAgICAgICAgICAgICAgZiA9IGIuZ2V0TGFzdFN0ZXAoKTtpZiAoZikgaWYgKGQubmN5QnJlYWRjcnVtYkxpbmsgPSBmLm5jeUJyZWFkY3J1bWJMaW5rLCBmLm5jeUJyZWFkY3J1bWIgJiYgZi5uY3lCcmVhZGNydW1iLmxhYmVsKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZyA9IGEoZi5uY3lCcmVhZGNydW1iLmxhYmVsKTtkLm5jeUJyZWFkY3J1bWJMYWJlbCA9IGcoYyksIGsoZSwgZywgYywgZCk7XG5cdCAgICAgICAgICAgICAgfSBlbHNlIGQubmN5QnJlYWRjcnVtYkxhYmVsID0gZi5uYW1lO1xuXHQgICAgICAgICAgICB9O2MuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgICAgICAgICAgYS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlIHx8IGYoKTtcblx0ICAgICAgICAgICAgfSksIGYoKTtcblx0ICAgICAgICAgIH0gfTtcblx0ICAgICAgfSB9O1xuXHQgIH1mdW5jdGlvbiBpKGEsIGMsIGQpIHtcblx0ICAgIHJldHVybiB7IHJlc3RyaWN0OiBcIkFcIiwgc2NvcGU6IHt9LCB0ZW1wbGF0ZTogXCJ7e25jeUJyZWFkY3J1bWJDaGFpbn19XCIsIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUoZSwgZikge1xuXHQgICAgICAgIHZhciBnID0gZS5hdHRyKGYuJGF0dHIubmN5QnJlYWRjcnVtYlRleHQpO2cgJiYgZS5odG1sKGcpO3ZhciBoID0gZS5hdHRyKGYuJGF0dHIubmN5QnJlYWRjcnVtYlRleHRTZXBhcmF0b3IpIHx8IFwiIC8gXCI7cmV0dXJuIHsgcG9zdDogZnVuY3Rpb24gcG9zdChlKSB7XG5cdCAgICAgICAgICAgIHZhciBmID0gW10sXG5cdCAgICAgICAgICAgICAgICBnID0gZnVuY3Rpb24gZyhhLCBjLCBkKSB7XG5cdCAgICAgICAgICAgICAgYi5mb3JFYWNoKGooYyksIGZ1bmN0aW9uIChiKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgYyA9IGQuJHdhdGNoKGIsIGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgICAgICAgICAgICAgIGEgIT09IGIgJiYgaSgpO1xuXHQgICAgICAgICAgICAgICAgfSk7YS5wdXNoKGMpO1xuXHQgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgICAgaSA9IGZ1bmN0aW9uIGkoKSB7XG5cdCAgICAgICAgICAgICAgbChmKSwgZiA9IFtdO3ZhciBkID0gYy4kZ2V0TGFzdFZpZXdTY29wZSgpLFxuXHQgICAgICAgICAgICAgICAgICBpID0gYy5nZXRTdGF0ZXNDaGFpbigpLFxuXHQgICAgICAgICAgICAgICAgICBqID0gW107Yi5mb3JFYWNoKGksIGZ1bmN0aW9uIChiKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoYi5uY3lCcmVhZGNydW1iICYmIGIubmN5QnJlYWRjcnVtYi5sYWJlbCkge1xuXHQgICAgICAgICAgICAgICAgICB2YXIgYyA9IGEoYi5uY3lCcmVhZGNydW1iLmxhYmVsKTtqLnB1c2goYyhkKSksIGcoZiwgYywgZCk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Ugai5wdXNoKGIubmFtZSk7XG5cdCAgICAgICAgICAgICAgfSksIGUubmN5QnJlYWRjcnVtYkNoYWluID0gai5qb2luKGgpO1xuXHQgICAgICAgICAgICB9O2QuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgICAgICAgICAgYS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlIHx8IGkoKTtcblx0ICAgICAgICAgICAgfSksIGkoKTtcblx0ICAgICAgICAgIH0gfTtcblx0ICAgICAgfSB9O1xuXHQgIH12YXIgaiA9IGZ1bmN0aW9uIGooYSkge1xuXHQgICAgaWYgKGEuZXhwcmVzc2lvbnMpIHJldHVybiBhLmV4cHJlc3Npb25zO3ZhciBjID0gW107cmV0dXJuIGIuZm9yRWFjaChhLnBhcnRzLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICBiLmlzRnVuY3Rpb24oYSkgJiYgYy5wdXNoKGEuZXhwKTtcblx0ICAgIH0pLCBjO1xuXHQgIH0sXG5cdCAgICAgIGsgPSBmdW5jdGlvbiBrKGEsIGMsIGQsIGUpIHtcblx0ICAgIGIuZm9yRWFjaChqKGMpLCBmdW5jdGlvbiAoYikge1xuXHQgICAgICB2YXIgZiA9IGQuJHdhdGNoKGIsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBlLm5jeUJyZWFkY3J1bWJMYWJlbCA9IGMoZCk7XG5cdCAgICAgIH0pO2EucHVzaChmKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgICAgIGwgPSBmdW5jdGlvbiBsKGEpIHtcblx0ICAgIGIuZm9yRWFjaChhLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICBhKCk7XG5cdCAgICB9KTtcblx0ICB9O2cuJGluamVjdCA9IFtcIiRpbnRlcnBvbGF0ZVwiLCBcIiRicmVhZGNydW1iXCIsIFwiJHJvb3RTY29wZVwiXSwgaC4kaW5qZWN0ID0gW1wiJGludGVycG9sYXRlXCIsIFwiJGJyZWFkY3J1bWJcIiwgXCIkcm9vdFNjb3BlXCJdLCBpLiRpbmplY3QgPSBbXCIkaW50ZXJwb2xhdGVcIiwgXCIkYnJlYWRjcnVtYlwiLCBcIiRyb290U2NvcGVcIl0sIGIubW9kdWxlKFwibmN5LWFuZ3VsYXItYnJlYWRjcnVtYlwiLCBbXCJ1aS5yb3V0ZXIuc3RhdGVcIl0pLnByb3ZpZGVyKFwiJGJyZWFkY3J1bWJcIiwgZikuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYlwiLCBnKS5kaXJlY3RpdmUoXCJuY3lCcmVhZGNydW1iTGFzdFwiLCBoKS5kaXJlY3RpdmUoXCJuY3lCcmVhZGNydW1iVGV4dFwiLCBpKTtcblx0fSh3aW5kb3csIHdpbmRvdy5hbmd1bGFyKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNTkzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGpRdWVyeSkgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzIpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQoZnVuY3Rpb24gKG1vbWVudCkge1xuXHRcblx0ICAndXNlIHN0cmljdCc7XG5cdFxuXHQgIHZhciBtb2R1bGVOYW1lID0gXCJuZ01hdGVyaWFsRGF0ZVBpY2tlclwiO1xuXHRcblx0ICB2YXIgVklFV19TVEFURVMgPSB7XG5cdCAgICBEQVRFOiAwLFxuXHQgICAgSE9VUjogMSxcblx0ICAgIE1JTlVURTogMlxuXHQgIH07XG5cdFxuXHQgIHZhciBjc3MgPSBmdW5jdGlvbiBjc3MoZWwsIG5hbWUpIHtcblx0ICAgIGlmICgnalF1ZXJ5JyBpbiB3aW5kb3cpIHtcblx0ICAgICAgcmV0dXJuIGpRdWVyeShlbCkuY3NzKG5hbWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZWwgPSBhbmd1bGFyLmVsZW1lbnQoZWwpO1xuXHQgICAgICByZXR1cm4gJ2dldENvbXB1dGVkU3R5bGUnIGluIHdpbmRvdyA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsWzBdKVtuYW1lXSA6IGVsLmNzcyhuYW1lKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2YXIgdGVtcGxhdGUgPSAnPG1kLWRpYWxvZyBjbGFzcz1cImR0cFwiIGxheW91dD1cImNvbHVtblwiIHN0eWxlPVwid2lkdGg6IDMwMHB4O1wiPicgKyAnICAgIDxtZC1kaWFsb2ctY29udGVudCBjbGFzcz1cImR0cC1jb250ZW50XCI+JyArICcgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtZGF0ZS12aWV3XCI+JyArICcgICAgICAgICAgICA8aGVhZGVyIGNsYXNzPVwiZHRwLWhlYWRlclwiPicgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLWRheVwiIG5nLXNob3c9XCJwaWNrZXIuZGF0ZU1vZGVcIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJkZGRkXCIpfX08L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1kYXlcIiBuZy1zaG93PVwicGlja2VyLnRpbWVNb2RlXCI+e3twaWNrZXIucGFyYW1zLnNob3J0VGltZSA/IHBpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJBXCIpIDogXCIgXCJ9fTwvZGl2PicgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtY2xvc2UgdGV4dC1yaWdodFwiPicgKyAnICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBuZy1jbGljaz1cInBpY2tlci5oaWRlKClcIj4mdGltZXM7PC9hPicgKyAnICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgPC9oZWFkZXI+JyArICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWRhdGVcIiBuZy1zaG93PVwicGlja2VyLnBhcmFtcy5kYXRlXCI+JyArICcgICAgICAgICAgICAgICAgPGRpdiBsYXlvdXQ9XCJjb2x1bW5cIj4nICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbW9udGhcIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJNTU1cIikgfCB1cHBlcmNhc2V9fTwvZGl2PicgKyAnICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW51bVwiPnt7cGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcIkREXCIpfX08L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGxheW91dD1cInJvd1wiPicgKyAnIDxkaXYgbmctY2xpY2s9XCJwaWNrZXIuaW5jcmVtZW50WWVhcigtMSlcIiBjbGFzcz1cImR0cC15ZWFyLWJ0biBkdHAteWVhci1idG4tcHJldlwiIGZsZXg9XCIzMFwiPjxzcGFuIG5nLWlmPVwicGlja2VyLmlzUHJldmlvdXNZZWFyVmlzaWJsZSgpXCIgPiYjeDI1QjI7PC9zcGFuPjwvZGl2PicgKyAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC15ZWFyXCIgZmxleD57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJZWVlZXCIpfX08L2Rpdj4nICsgJyA8ZGl2IG5nLWNsaWNrPVwicGlja2VyLmluY3JlbWVudFllYXIoMSlcIiBjbGFzcz1cImR0cC15ZWFyLWJ0biBkdHAteWVhci1idG4tbmV4dFwiIGZsZXg9XCIzMFwiPjxzcGFuIG5nLWlmPVwicGlja2VyLmlzTmV4dFllYXJWaXNpYmxlKClcIiA+JiN4MjVCQzs8L3NwYW4+PC9kaXY+JyArICcgICAgICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgICAgICA8L2Rpdj4nIC8vc3RhcnQgdGltZVxuXHQgICsgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtdGltZVwiIG5nLXNob3c9XCJwaWNrZXIucGFyYW1zLnRpbWUgJiYgIXBpY2tlci5wYXJhbXMuZGF0ZVwiPicgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW1heHRpbWVcIj57e3BpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKS5mb3JtYXQocGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBcImhoOm1tXCIgOiBcIkhIOm1tXCIpfX08L2Rpdj4nICsgJyAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1waWNrZXJcIj4nICsgJyAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhciBkYXRlPVwicGlja2VyLmN1cnJlbnREYXRlXCIgcGlja2VyPVwicGlja2VyXCIgY2xhc3M9XCJkdHAtcGlja2VyLWNhbGVuZGFyXCIgbmctc2hvdz1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLkRBVEVcIj48L21kYy1kYXRldGltZS1waWNrZXItY2FsZW5kYXI+JyArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1waWNrZXItZGF0ZXRpbWVcIiBuZy1zaG93PVwicGlja2VyLmN1cnJlbnRWaWV3ICE9PSBwaWNrZXIuVklFV1MuREFURVwiPicgKyAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1tZXJpZGllblwiPicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZnQgcDIwXCI+JyArICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgY2xhc3M9XCJkdHAtbWVyaWRpZW4tYW1cIiBuZy1jbGFzcz1cIntzZWxlY3RlZDogcGlja2VyLm1lcmlkaWVuID09IFxcJ0FNXFwnfVwiIG5nLWNsaWNrPVwicGlja2VyLnNlbGVjdEFNKClcIj57e3BpY2tlci5wYXJhbXMuYW1UZXh0fX08L2E+JyArICcgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctc2hvdz1cIiFwaWNrZXIudGltZU1vZGVcIiBjbGFzcz1cImR0cC1hY3R1YWwtdGltZSBwNjBcIj57e3BpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKS5mb3JtYXQocGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBcImhoOm1tXCIgOiBcIkhIOm1tXCIpfX08L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodCBwMjBcIj4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImR0cC1tZXJpZGllbi1wbVwiIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwaWNrZXIubWVyaWRpZW4gPT0gXFwnUE1cXCd9XCIgbmctY2xpY2s9XCJwaWNrZXIuc2VsZWN0UE0oKVwiPnt7cGlja2VyLnBhcmFtcy5wbVRleHR9fTwvYT4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+JyArICcgICAgICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jayBtb2RlPVwiaG91cnNcIiBuZy1pZj1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLkhPVVJcIj48L21kYy1kYXRldGltZS1waWNrZXItY2xvY2s+JyArICcgICAgICAgICAgICAgICAgICAgIDxtZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrIG1vZGU9XCJtaW51dGVzXCIgbmctaWY9XCJwaWNrZXIuY3VycmVudFZpZXcgPT09IHBpY2tlci5WSUVXUy5NSU5VVEVcIj48L21kYy1kYXRldGltZS1waWNrZXItY2xvY2s+JyArICcgICAgICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgPC9kaXY+JyArICcgICAgPC9tZC1kaWFsb2ctY29udGVudD4nICsgJyAgICA8bWQtZGlhbG9nLWFjdGlvbnMgY2xhc3M9XCJkdHAtYnV0dG9uc1wiPicgKyAnICAgICAgICAgICAgPG1kLWJ1dHRvbiBjbGFzcz1cImR0cC1idG4tY2FuY2VsIG1kLWJ1dHRvblwiIG5nLWNsaWNrPVwicGlja2VyLmNhbmNlbCgpXCI+IHt7cGlja2VyLnBhcmFtcy5jYW5jZWxUZXh0fX08L21kLWJ1dHRvbj4nICsgJyAgICAgICAgICAgIDxtZC1idXR0b24gY2xhc3M9XCJkdHAtYnRuLW9rIG1kLWJ1dHRvblwiIG5nLWNsaWNrPVwicGlja2VyLm9rKClcIj4ge3twaWNrZXIucGFyYW1zLm9rVGV4dH19PC9tZC1idXR0b24+JyArICcgICAgICA8L21kLWRpYWxvZy1hY3Rpb25zPicgKyAnPC9tZC1kaWFsb2c+Jztcblx0XG5cdCAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSwgWyduZ01hdGVyaWFsJ10pLnByb3ZpZGVyKCdtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLmxvY2FsZSA9ICdlbic7XG5cdFxuXHQgICAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5sb2NhbGU7XG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMuc2V0RGVmYXVsdExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGVTdHJpbmcpIHtcblx0ICAgICAgdGhpcy5sb2NhbGUgPSBsb2NhbGVTdHJpbmc7XG5cdCAgICB9O1xuXHQgIH0pLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXInLCBbJyRtZERpYWxvZycsIGZ1bmN0aW9uICgkbWREaWFsb2cpIHtcblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICByZXN0cmljdDogJ0EnLFxuXHQgICAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG5cdCAgICAgIHNjb3BlOiB7XG5cdCAgICAgICAgY3VycmVudERhdGU6ICc9bmdNb2RlbCcsXG5cdCAgICAgICAgdGltZTogJz0nLFxuXHQgICAgICAgIGRhdGU6ICc9Jyxcblx0ICAgICAgICBtaW5EYXRlOiAnPScsXG5cdCAgICAgICAgbWF4RGF0ZTogJz0nLFxuXHQgICAgICAgIHNob3J0VGltZTogJz0nLFxuXHQgICAgICAgIGZvcm1hdDogJ0AnLFxuXHQgICAgICAgIGNhbmNlbFRleHQ6ICdAJyxcblx0ICAgICAgICBva1RleHQ6ICdAJyxcblx0ICAgICAgICBsYW5nOiAnQCcsXG5cdCAgICAgICAgYW1UZXh0OiAnQCcsXG5cdCAgICAgICAgcG1UZXh0OiAnQCdcblx0ICAgICAgfSxcblx0ICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcblx0ICAgICAgICB2YXIgaXNPbiA9IGZhbHNlO1xuXHQgICAgICAgIGlmICghc2NvcGUuZm9ybWF0KSB7XG5cdCAgICAgICAgICBpZiAoc2NvcGUuZGF0ZSAmJiBzY29wZS50aW1lKSB7XG5cdCAgICAgICAgICAgIHNjb3BlLmZvcm1hdCA9ICdZWVlZLU1NLUREIEhIOm1tOnNzJztcblx0ICAgICAgICAgIH0gZWxzZSBpZiAoc2NvcGUuZGF0ZSkge1xuXHQgICAgICAgICAgICBzY29wZS5mb3JtYXQgPSAnWVlZWS1NTS1ERCc7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBzY29wZS5mb3JtYXQgPSAnSEg6bW0nO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoc2NvcGUuY3VycmVudERhdGUpICYmIHNjb3BlLmN1cnJlbnREYXRlICE9PSAnJykge1xuXHQgICAgICAgICAgc2NvcGUuY3VycmVudERhdGUgPSBtb21lbnQoc2NvcGUuY3VycmVudERhdGUsIHNjb3BlLmZvcm1hdCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAobmdNb2RlbCkge1xuXHQgICAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgbSA9IG1vbWVudCh2YWx1ZSk7XG5cdCAgICAgICAgICAgIHJldHVybiBtLmlzVmFsaWQoKSA/IG0uZm9ybWF0KHNjb3BlLmZvcm1hdCkgOiAnJztcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZWxlbWVudC5hdHRyKCdyZWFkb25seScsICcnKTtcblx0ICAgICAgICAvL0BUT0RPIGN1c3RvbSBldmVudCB0byB0cmlnZ2VyIGlucHV0XG5cdCAgICAgICAgZWxlbWVudC5vbignZm9jdXMnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgZWxlbWVudC5ibHVyKCk7XG5cdCAgICAgICAgICBpZiAoaXNPbikge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpc09uID0gdHJ1ZTtcblx0ICAgICAgICAgIHZhciBvcHRpb25zID0ge307XG5cdCAgICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJzKSB7XG5cdCAgICAgICAgICAgIGlmIChzY29wZS5oYXNPd25Qcm9wZXJ0eShpKSAmJiAhYW5ndWxhci5pc1VuZGVmaW5lZChzY29wZVtpXSkpIHtcblx0ICAgICAgICAgICAgICBvcHRpb25zW2ldID0gc2NvcGVbaV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIG9wdGlvbnMuY3VycmVudERhdGUgPSBzY29wZS5jdXJyZW50RGF0ZTtcblx0ICAgICAgICAgIHZhciBsb2NhbHMgPSB7IG9wdGlvbnM6IG9wdGlvbnMgfTtcblx0ICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcblx0ICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuXHQgICAgICAgICAgICBjb250cm9sbGVyOiBQbHVnaW5Db250cm9sbGVyLFxuXHQgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwaWNrZXInLFxuXHQgICAgICAgICAgICBsb2NhbHM6IGxvY2Fscyxcblx0ICAgICAgICAgICAgb3BlbkZyb206IGVsZW1lbnQsXG5cdCAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxuXHQgICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxuXHQgICAgICAgICAgICBkaXNhYmxlUGFyZW50U2Nyb2xsOiBmYWxzZVxuXHQgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodikge1xuXHQgICAgICAgICAgICBzY29wZS5jdXJyZW50RGF0ZSA9IHYgPyB2Ll9kIDogdjtcblx0ICAgICAgICAgICAgaXNPbiA9IGZhbHNlO1xuXHQgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBpc09uID0gZmFsc2U7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XSk7XG5cdFxuXHQgIHZhciBQbHVnaW5Db250cm9sbGVyID0gZnVuY3Rpb24gUGx1Z2luQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZywgbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlKSB7XG5cdCAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuREFURTtcblx0ICAgIHRoaXMuX2RpYWxvZyA9ICRtZERpYWxvZztcblx0XG5cdCAgICB0aGlzLm1pbkRhdGU7XG5cdCAgICB0aGlzLm1heERhdGU7XG5cdFxuXHQgICAgdGhpcy5fYXR0YWNoZWRFdmVudHMgPSBbXTtcblx0ICAgIHRoaXMuVklFV1MgPSBWSUVXX1NUQVRFUztcblx0XG5cdCAgICB0aGlzLnBhcmFtcyA9IHtcblx0ICAgICAgZGF0ZTogdHJ1ZSxcblx0ICAgICAgdGltZTogdHJ1ZSxcblx0ICAgICAgZm9ybWF0OiAnWVlZWS1NTS1ERCcsXG5cdCAgICAgIG1pbkRhdGU6IG51bGwsXG5cdCAgICAgIG1heERhdGU6IG51bGwsXG5cdCAgICAgIGN1cnJlbnREYXRlOiBudWxsLFxuXHQgICAgICBsYW5nOiBtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUsXG5cdCAgICAgIHdlZWtTdGFydDogMCxcblx0ICAgICAgc2hvcnRUaW1lOiBmYWxzZSxcblx0ICAgICAgY2FuY2VsVGV4dDogJ0NhbmNlbCcsXG5cdCAgICAgIG9rVGV4dDogJ09LJyxcblx0ICAgICAgYW1UZXh0OiAnQU0nLFxuXHQgICAgICBwbVRleHQ6ICdQTSdcblx0ICAgIH07XG5cdFxuXHQgICAgdGhpcy5tZXJpZGllbiA9ICdBTSc7XG5cdCAgICB0aGlzLnBhcmFtcyA9IGFuZ3VsYXIuZXh0ZW5kKHRoaXMucGFyYW1zLCB0aGlzLm9wdGlvbnMpO1xuXHQgICAgdGhpcy5pbml0KCk7XG5cdCAgfTtcblx0ICBQbHVnaW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbWREaWFsb2cnLCAnbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlJ107XG5cdCAgUGx1Z2luQ29udHJvbGxlci5wcm90b3R5cGUgPSB7XG5cdCAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuXHQgICAgICB0aGlzLnRpbWVNb2RlID0gdGhpcy5wYXJhbXMudGltZSAmJiAhdGhpcy5wYXJhbXMuZGF0ZTtcblx0ICAgICAgdGhpcy5kYXRlTW9kZSA9IHRoaXMucGFyYW1zLmRhdGU7XG5cdCAgICAgIHRoaXMuaW5pdERhdGVzKCk7XG5cdCAgICAgIHRoaXMuc3RhcnQoKTtcblx0ICAgIH0sXG5cdCAgICBjdXJyZW50TmVhcmVzdDVNaW51dGU6IGZ1bmN0aW9uIGN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpIHtcblx0ICAgICAgdmFyIGRhdGUgPSB0aGlzLmN1cnJlbnREYXRlIHx8IG1vbWVudCgpO1xuXHQgICAgICB2YXIgbWludXRlcyA9IDUgKiBNYXRoLnJvdW5kKGRhdGUubWludXRlKCkgLyA1KTtcblx0ICAgICAgaWYgKG1pbnV0ZXMgPj0gNjApIHtcblx0ICAgICAgICBtaW51dGVzID0gNTU7IC8vYWx3YXlzIHB1c2ggZG93blxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBtb21lbnQoZGF0ZSkubWludXRlcyhtaW51dGVzKTtcblx0ICAgIH0sXG5cdCAgICBpbml0RGF0ZXM6IGZ1bmN0aW9uIGluaXREYXRlcygpIHtcblx0ICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXHQgICAgICB2YXIgX2RhdGVQYXJhbSA9IGZ1bmN0aW9uIF9kYXRlUGFyYW0oaW5wdXQsIGZhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHJldCA9IG51bGw7XG5cdCAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGlucHV0KSAmJiBpbnB1dCAhPT0gbnVsbCAmJiBpbnB1dCAhPT0gJycpIHtcblx0ICAgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGlucHV0KSkge1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIHRoYXQucGFyYW1zLmZvcm1hdCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhhdC5wYXJhbXMuZm9ybWF0ICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgcmV0ID0gbW9tZW50KGlucHV0LCB0aGF0LnBhcmFtcy5mb3JtYXQpLmxvY2FsZSh0aGF0LnBhcmFtcy5sYW5nKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICByZXQgPSBtb21lbnQoaW5wdXQpLmxvY2FsZSh0aGF0LnBhcmFtcy5sYW5nKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKGlucHV0KSkge1xuXHQgICAgICAgICAgICAgIHZhciB4ID0gaW5wdXQuZ2V0VGltZSgpO1xuXHQgICAgICAgICAgICAgIHJldCA9IG1vbWVudCh4LCBcInhcIikubG9jYWxlKHRoYXQucGFyYW1zLmxhbmcpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0Ll9pc0FNb21lbnRPYmplY3QpIHtcblx0ICAgICAgICAgICAgICByZXQgPSBpbnB1dDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXQgPSBmYWxsYmFjaztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHRoaXMuY3VycmVudERhdGUgPSBfZGF0ZVBhcmFtKHRoaXMucGFyYW1zLmN1cnJlbnREYXRlLCBtb21lbnQoKSk7XG5cdCAgICAgIHRoaXMubWluRGF0ZSA9IF9kYXRlUGFyYW0odGhpcy5wYXJhbXMubWluRGF0ZSk7XG5cdCAgICAgIHRoaXMubWF4RGF0ZSA9IF9kYXRlUGFyYW0odGhpcy5wYXJhbXMubWF4RGF0ZSk7XG5cdCAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlKTtcblx0ICAgIH0sXG5cdCAgICBpbml0RGF0ZTogZnVuY3Rpb24gaW5pdERhdGUoZCkge1xuXHQgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuREFURTtcblx0ICAgIH0sXG5cdCAgICBpbml0SG91cnM6IGZ1bmN0aW9uIGluaXRIb3VycygpIHtcblx0ICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkhPVVI7XG5cdCAgICB9LFxuXHQgICAgaW5pdE1pbnV0ZXM6IGZ1bmN0aW9uIGluaXRNaW51dGVzKCkge1xuXHQgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuTUlOVVRFO1xuXHQgICAgfSxcblx0ICAgIGlzQWZ0ZXJNaW5EYXRlOiBmdW5jdGlvbiBpc0FmdGVyTWluRGF0ZShkYXRlLCBjaGVja0hvdXIsIGNoZWNrTWludXRlKSB7XG5cdCAgICAgIHZhciBfcmV0dXJuID0gdHJ1ZTtcblx0XG5cdCAgICAgIGlmICh0eXBlb2YgdGhpcy5taW5EYXRlICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm1pbkRhdGUgIT09IG51bGwpIHtcblx0ICAgICAgICB2YXIgX21pbkRhdGUgPSBtb21lbnQodGhpcy5taW5EYXRlKTtcblx0ICAgICAgICB2YXIgX2RhdGUgPSBtb21lbnQoZGF0ZSk7XG5cdFxuXHQgICAgICAgIGlmICghY2hlY2tIb3VyICYmICFjaGVja01pbnV0ZSkge1xuXHQgICAgICAgICAgX21pbkRhdGUuaG91cigwKTtcblx0ICAgICAgICAgIF9taW5EYXRlLm1pbnV0ZSgwKTtcblx0XG5cdCAgICAgICAgICBfZGF0ZS5ob3VyKDApO1xuXHQgICAgICAgICAgX2RhdGUubWludXRlKDApO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgX21pbkRhdGUuc2Vjb25kKDApO1xuXHQgICAgICAgIF9kYXRlLnNlY29uZCgwKTtcblx0ICAgICAgICBfbWluRGF0ZS5taWxsaXNlY29uZCgwKTtcblx0ICAgICAgICBfZGF0ZS5taWxsaXNlY29uZCgwKTtcblx0XG5cdCAgICAgICAgaWYgKCFjaGVja01pbnV0ZSkge1xuXHQgICAgICAgICAgX2RhdGUubWludXRlKDApO1xuXHQgICAgICAgICAgX21pbkRhdGUubWludXRlKDApO1xuXHRcblx0ICAgICAgICAgIF9yZXR1cm4gPSBwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA+PSBwYXJzZUludChfbWluRGF0ZS5mb3JtYXQoXCJYXCIpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX3JldHVybiA9IHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpID49IHBhcnNlSW50KF9taW5EYXRlLmZvcm1hdChcIlhcIikpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZXR1cm47XG5cdCAgICB9LFxuXHQgICAgaXNCZWZvcmVNYXhEYXRlOiBmdW5jdGlvbiBpc0JlZm9yZU1heERhdGUoZGF0ZSwgY2hlY2tUaW1lLCBjaGVja01pbnV0ZSkge1xuXHQgICAgICB2YXIgX3JldHVybiA9IHRydWU7XG5cdFxuXHQgICAgICBpZiAodHlwZW9mIHRoaXMubWF4RGF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5tYXhEYXRlICE9PSBudWxsKSB7XG5cdCAgICAgICAgdmFyIF9tYXhEYXRlID0gbW9tZW50KHRoaXMubWF4RGF0ZSk7XG5cdCAgICAgICAgdmFyIF9kYXRlID0gbW9tZW50KGRhdGUpO1xuXHRcblx0ICAgICAgICBpZiAoIWNoZWNrVGltZSAmJiAhY2hlY2tNaW51dGUpIHtcblx0ICAgICAgICAgIF9tYXhEYXRlLmhvdXIoMCk7XG5cdCAgICAgICAgICBfbWF4RGF0ZS5taW51dGUoMCk7XG5cdFxuXHQgICAgICAgICAgX2RhdGUuaG91cigwKTtcblx0ICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIF9tYXhEYXRlLnNlY29uZCgwKTtcblx0ICAgICAgICBfZGF0ZS5zZWNvbmQoMCk7XG5cdCAgICAgICAgX21heERhdGUubWlsbGlzZWNvbmQoMCk7XG5cdCAgICAgICAgX2RhdGUubWlsbGlzZWNvbmQoMCk7XG5cdFxuXHQgICAgICAgIGlmICghY2hlY2tNaW51dGUpIHtcblx0ICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcblx0ICAgICAgICAgIF9tYXhEYXRlLm1pbnV0ZSgwKTtcblx0XG5cdCAgICAgICAgICBfcmV0dXJuID0gcGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPD0gcGFyc2VJbnQoX21heERhdGUuZm9ybWF0KFwiWFwiKSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIF9yZXR1cm4gPSBwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA8PSBwYXJzZUludChfbWF4RGF0ZS5mb3JtYXQoXCJYXCIpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmV0dXJuO1xuXHQgICAgfSxcblx0ICAgIHNlbGVjdERhdGU6IGZ1bmN0aW9uIHNlbGVjdERhdGUoZGF0ZSkge1xuXHQgICAgICBpZiAoZGF0ZSkge1xuXHQgICAgICAgIHRoaXMuY3VycmVudERhdGUgPSBtb21lbnQoZGF0ZSk7XG5cdCAgICAgICAgaWYgKCF0aGlzLmlzQWZ0ZXJNaW5EYXRlKHRoaXMuY3VycmVudERhdGUpKSB7XG5cdCAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KHRoaXMubWluRGF0ZSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoIXRoaXMuaXNCZWZvcmVNYXhEYXRlKHRoaXMuY3VycmVudERhdGUpKSB7XG5cdCAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KHRoaXMubWF4RGF0ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuY3VycmVudERhdGUubG9jYWxlKHRoaXMucGFyYW1zLmxhbmcpO1xuXHQgICAgICAgIHRoaXMuY2FsZW5kYXJTdGFydCA9IG1vbWVudCh0aGlzLmN1cnJlbnREYXRlKTtcblx0ICAgICAgICB0aGlzLm1lcmlkaWVuID0gdGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkgPj0gMTIgPyAnUE0nIDogJ0FNJztcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHNldE5hbWU6IGZ1bmN0aW9uIHNldE5hbWUoKSB7XG5cdCAgICAgIHZhciB0ZXh0ID0gXCJcIjtcblx0ICAgICAgdmFyIHBvc3NpYmxlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcblx0ICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHRleHQ7XG5cdCAgICB9LFxuXHQgICAgaXNQTTogZnVuY3Rpb24gaXNQTSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMubWVyaWRpZW4gPT09ICdQTSc7XG5cdCAgICB9LFxuXHQgICAgaW5jcmVtZW50WWVhcjogZnVuY3Rpb24gaW5jcmVtZW50WWVhcihhbW91bnQpIHtcblx0ICAgICAgaWYgKGFtb3VudCA9PT0gMSAmJiB0aGlzLmlzTmV4dFllYXJWaXNpYmxlKCkpIHtcblx0ICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5hZGQoJ3llYXInLCBhbW91bnQpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKGFtb3VudCA9PT0gLTEgJiYgdGhpcy5pc1ByZXZpb3VzWWVhclZpc2libGUoKSkge1xuXHQgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmFkZCgneWVhcicsIGFtb3VudCkpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgaXNQcmV2aW91c01vbnRoVmlzaWJsZTogZnVuY3Rpb24gaXNQcmV2aW91c01vbnRoVmlzaWJsZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLnN0YXJ0T2YoJ21vbnRoJyksIGZhbHNlLCBmYWxzZSk7XG5cdCAgICB9LFxuXHQgICAgaXNOZXh0TW9udGhWaXNpYmxlOiBmdW5jdGlvbiBpc05leHRNb250aFZpc2libGUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuZW5kT2YoJ21vbnRoJyksIGZhbHNlLCBmYWxzZSk7XG5cdCAgICB9LFxuXHQgICAgaXNQcmV2aW91c1llYXJWaXNpYmxlOiBmdW5jdGlvbiBpc1ByZXZpb3VzWWVhclZpc2libGUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0FmdGVyTWluRGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5zdGFydE9mKCd5ZWFyJyksIGZhbHNlLCBmYWxzZSk7XG5cdCAgICB9LFxuXHQgICAgaXNOZXh0WWVhclZpc2libGU6IGZ1bmN0aW9uIGlzTmV4dFllYXJWaXNpYmxlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLmVuZE9mKCd5ZWFyJyksIGZhbHNlLCBmYWxzZSk7XG5cdCAgICB9LFxuXHQgICAgaXNIb3VyQXZhaWxhYmxlOiBmdW5jdGlvbiBpc0hvdXJBdmFpbGFibGUoaG91cikge1xuXHQgICAgICB2YXIgX2RhdGUgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG5cdCAgICAgIF9kYXRlLmhvdXIodGhpcy5jb252ZXJ0SG91cnMoaG91cikpLm1pbnV0ZSgwKS5zZWNvbmQoMCk7XG5cdCAgICAgIHJldHVybiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKF9kYXRlLCB0cnVlLCBmYWxzZSkgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUoX2RhdGUsIHRydWUsIGZhbHNlKTtcblx0ICAgIH0sXG5cdCAgICBpc01pbnV0ZUF2YWlsYWJsZTogZnVuY3Rpb24gaXNNaW51dGVBdmFpbGFibGUobWludXRlKSB7XG5cdCAgICAgIHZhciBfZGF0ZSA9IG1vbWVudCh0aGlzLmN1cnJlbnREYXRlKTtcblx0ICAgICAgX2RhdGUubWludXRlKG1pbnV0ZSkuc2Vjb25kKDApO1xuXHQgICAgICByZXR1cm4gdGhpcy5pc0FmdGVyTWluRGF0ZShfZGF0ZSwgdHJ1ZSwgdHJ1ZSkgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUoX2RhdGUsIHRydWUsIHRydWUpO1xuXHQgICAgfSxcblx0ICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHtcblx0ICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkRBVEU7XG5cdCAgICAgIC8vdGhpcy5pbml0RGF0ZXMoKTtcblx0ICAgICAgaWYgKHRoaXMucGFyYW1zLmRhdGUpIHtcblx0ICAgICAgICB0aGlzLmluaXREYXRlKCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUpIHtcblx0ICAgICAgICAgIHRoaXMuaW5pdEhvdXJzKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgb2s6IGZ1bmN0aW9uIG9rKCkge1xuXHQgICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFZpZXcpIHtcblx0ICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLkRBVEU6XG5cdCAgICAgICAgICBpZiAodGhpcy5wYXJhbXMudGltZSA9PT0gdHJ1ZSkge1xuXHQgICAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5oaWRlKHRydWUpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5IT1VSOlxuXHQgICAgICAgICAgdGhpcy5pbml0TWludXRlcygpO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5NSU5VVEU6XG5cdCAgICAgICAgICB0aGlzLmhpZGUodHJ1ZSk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkge1xuXHQgICAgICBpZiAodGhpcy5wYXJhbXMudGltZSkge1xuXHQgICAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50Vmlldykge1xuXHQgICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5EQVRFOlxuXHQgICAgICAgICAgICB0aGlzLmhpZGUoKTtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLkhPVVI6XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5kYXRlKSB7XG5cdCAgICAgICAgICAgICAgdGhpcy5pbml0RGF0ZSgpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5NSU5VVEU6XG5cdCAgICAgICAgICAgIHRoaXMuaW5pdEhvdXJzKCk7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLmhpZGUoKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHNlbGVjdE1vbnRoQmVmb3JlOiBmdW5jdGlvbiBzZWxlY3RNb250aEJlZm9yZSgpIHtcblx0ICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LnN1YnRyYWN0KDEsICdtb250aHMnKTtcblx0ICAgIH0sXG5cdCAgICBzZWxlY3RNb250aEFmdGVyOiBmdW5jdGlvbiBzZWxlY3RNb250aEFmdGVyKCkge1xuXHQgICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuYWRkKDEsICdtb250aHMnKTtcblx0ICAgIH0sXG5cdCAgICBzZWxlY3RZZWFyQmVmb3JlOiBmdW5jdGlvbiBzZWxlY3RZZWFyQmVmb3JlKCkge1xuXHQgICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuc3VidHJhY3QoMSwgJ3llYXJzJyk7XG5cdCAgICB9LFxuXHQgICAgc2VsZWN0WWVhckFmdGVyOiBmdW5jdGlvbiBzZWxlY3RZZWFyQWZ0ZXIoKSB7XG5cdCAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5hZGQoMSwgJ3llYXJzJyk7XG5cdCAgICB9LFxuXHQgICAgc2VsZWN0QU06IGZ1bmN0aW9uIHNlbGVjdEFNKCkge1xuXHQgICAgICBpZiAodGhpcy5pc0hvdXJBdmFpbGFibGUoMCkgfHwgdGhpcy5pc0hvdXJBdmFpbGFibGUoMTIpKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuY3VycmVudERhdGUuaG91cigpID49IDEyKSB7XG5cdCAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5zdWJ0cmFjdCgxMiwgJ2hvdXJzJykpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuaXNIb3VyQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUuaG91cigpKSkge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuaG91cih0aGlzLm1pbkRhdGUuaG91cigpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghdGhpcy5pc01pbnV0ZUF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSgpKSkge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUubWludXRlKHRoaXMubWluRGF0ZS5taW51dGUoKSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHNlbGVjdFBNOiBmdW5jdGlvbiBzZWxlY3RQTSgpIHtcblx0ICAgICAgaWYgKHRoaXMuaXNIb3VyQXZhaWxhYmxlKDEzKSB8fCB0aGlzLmlzSG91ckF2YWlsYWJsZSgyNCkpIHtcblx0ICAgICAgICBpZiAodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkgPCAxMikge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuYWRkKDEyLCAnaG91cnMnKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghdGhpcy5pc0hvdXJBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkpKSB7XG5cdCAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKHRoaXMubWF4RGF0ZS5ob3VyKCkpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCF0aGlzLmlzTWludXRlQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUubWludXRlKCkpKSB7XG5cdCAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUodGhpcy5tYXhEYXRlLm1pbnV0ZSgpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgY29udmVydEhvdXJzOiBmdW5jdGlvbiBjb252ZXJ0SG91cnMoaCkge1xuXHQgICAgICB2YXIgX3JldHVybiA9IGg7XG5cdCAgICAgIGlmIChoIDwgMTIgJiYgdGhpcy5pc1BNKCkpIF9yZXR1cm4gKz0gMTI7XG5cdFxuXHQgICAgICByZXR1cm4gX3JldHVybjtcblx0ICAgIH0sXG5cdCAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKG9rQnRuKSB7XG5cdCAgICAgIGlmIChva0J0bikge1xuXHQgICAgICAgIHRoaXMuX2RpYWxvZy5oaWRlKHRoaXMuY3VycmVudERhdGUpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX2RpYWxvZy5jYW5jZWwoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDYWxlbmRhcicsIFtmdW5jdGlvbiAoKSB7XG5cdFxuXHQgICAgdmFyIHN0YXJ0RGF0ZSA9IG1vbWVudCgpLFxuXHQgICAgICAgIFlFQVJfTUlOID0gMTkwMCxcblx0ICAgICAgICBZRUFSX01BWCA9IDIxMDAsXG5cdCAgICAgICAgTU9OVEhTX0lOX0FMTCA9IChZRUFSX01BWCAtIFlFQVJfTUlOICsgMSkgKiAxMixcblx0ICAgICAgICBJVEVNX0hFSUdIVCA9IDI0MCxcblx0ICAgICAgICBNT05USFMgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTU9OVEhTX0lOX0FMTDsgaSsrKSB7XG5cdCAgICAgIE1PTlRIUy5wdXNoKGkpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjdXJyZW50TW9udGhJbmRleCA9IGZ1bmN0aW9uIGN1cnJlbnRNb250aEluZGV4KGRhdGUpIHtcblx0ICAgICAgdmFyIHllYXIgPSBkYXRlLnllYXIoKTtcblx0ICAgICAgdmFyIG1vbnRoID0gZGF0ZS5tb250aCgpO1xuXHQgICAgICByZXR1cm4gKHllYXIgLSBZRUFSX01JTikgKiAxMiArIG1vbnRoIC0gMTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVzdHJpY3Q6ICdFJyxcblx0ICAgICAgc2NvcGU6IHtcblx0ICAgICAgICBwaWNrZXI6ICc9Jyxcblx0ICAgICAgICBkYXRlOiAnPSdcblx0ICAgICAgfSxcblx0ICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcblx0ICAgICAgY29udHJvbGxlckFzOiAnY2FsJyxcblx0ICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG5cdCAgICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcblx0ICAgICAgICAgICAgcGlja2VyID0gdGhpcy5waWNrZXIsXG5cdCAgICAgICAgICAgIGRheXMgPSBbXTtcblx0XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IHBpY2tlci5wYXJhbXMud2Vla1N0YXJ0OyBkYXlzLmxlbmd0aCA8IDc7IGkrKykge1xuXHQgICAgICAgICAgaWYgKGkgPiA2KSB7XG5cdCAgICAgICAgICAgIGkgPSAwO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZGF5cy5wdXNoKGkudG9TdHJpbmcoKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBjYWxlbmRhci53ZWVrID0gZGF5cztcblx0ICAgICAgICBpZiAoIXBpY2tlci5tYXhEYXRlICYmICFwaWNrZXIubWluRGF0ZSkge1xuXHQgICAgICAgICAgY2FsZW5kYXIubW9udGhzID0gTU9OVEhTO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2YXIgbG93ID0gcGlja2VyLm1pbkRhdGUgPyBjdXJyZW50TW9udGhJbmRleChwaWNrZXIubWluRGF0ZSkgOiAwO1xuXHQgICAgICAgICAgdmFyIGhpZ2ggPSBwaWNrZXIubWF4RGF0ZSA/IGN1cnJlbnRNb250aEluZGV4KHBpY2tlci5tYXhEYXRlKSArIDEgOiBNT05USFNfSU5fQUxMO1xuXHQgICAgICAgICAgY2FsZW5kYXIubW9udGhzID0gTU9OVEhTLnNsaWNlKGxvdywgaGlnaCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBjYWxlbmRhci5nZXRJdGVtQXRJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xuXHQgICAgICAgICAgdmFyIG1vbnRoID0gKGluZGV4ICsgMSkgJSAxMiB8fCAxMjtcblx0ICAgICAgICAgIHZhciB5ZWFyID0gWUVBUl9NSU4gKyBNYXRoLmZsb29yKGluZGV4IC8gMTIpO1xuXHQgICAgICAgICAgdmFyIG1vbnRoT2JqID0gbW9tZW50KHBpY2tlci5jdXJyZW50RGF0ZSkueWVhcih5ZWFyKS5tb250aChtb250aCk7XG5cdCAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVNb250aENhbGVuZGFyKG1vbnRoT2JqKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBjYWxlbmRhci50b3BJbmRleCA9IGN1cnJlbnRNb250aEluZGV4KHBpY2tlci5jdXJyZW50RGF0ZSkgLSBjYWxlbmRhci5tb250aHNbMF07XG5cdFxuXHQgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgcmV0dXJuIHBpY2tlci5jdXJyZW50RGF0ZSA/IHBpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoJ1lZWVktTU0nKSA6ICcnO1xuXHQgICAgICAgIH0sIGZ1bmN0aW9uICh2YWwyLCB2YWwxKSB7XG5cdCAgICAgICAgICBpZiAodmFsMiAhPSB2YWwxKSB7XG5cdCAgICAgICAgICAgIHZhciBuRGF0ZSA9IG1vbWVudCh2YWwyLCAnWVlZWS1NTScpO1xuXHQgICAgICAgICAgICB2YXIgaW5kZXggPSBjdXJyZW50TW9udGhJbmRleChuRGF0ZSk7XG5cdCAgICAgICAgICAgIGlmIChjYWxlbmRhci50b3BJbmRleCAhPSBpbmRleCkge1xuXHQgICAgICAgICAgICAgIGNhbGVuZGFyLnRvcEluZGV4ID0gaW5kZXggLSBjYWxlbmRhci5tb250aHNbMF07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgdmFyIGdlbmVyYXRlTW9udGhDYWxlbmRhciA9IGZ1bmN0aW9uIGdlbmVyYXRlTW9udGhDYWxlbmRhcihkYXRlKSB7XG5cdCAgICAgICAgICB2YXIgbW9udGggPSB7fTtcblx0ICAgICAgICAgIGlmIChkYXRlICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgIG1vbnRoLm5hbWUgPSBkYXRlLmZvcm1hdCgnTU1NTSBZWVlZJyk7XG5cdCAgICAgICAgICAgIHZhciBzdGFydE9mTW9udGggPSBtb21lbnQoZGF0ZSkubG9jYWxlKHBpY2tlci5wYXJhbXMubGFuZykuc3RhcnRPZignbW9udGgnKS5ob3VyKGRhdGUuaG91cigpKS5taW51dGUoZGF0ZS5taW51dGUoKSk7XG5cdCAgICAgICAgICAgIHZhciBpTnVtRGF5ID0gc3RhcnRPZk1vbnRoLmZvcm1hdCgnZCcpO1xuXHQgICAgICAgICAgICBtb250aC5kYXlzID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydE9mTW9udGguZGF0ZSgpOyBpIDw9IHN0YXJ0T2ZNb250aC5kYXlzSW5Nb250aCgpOyBpKyspIHtcblx0ICAgICAgICAgICAgICBpZiAoaSA9PT0gc3RhcnRPZk1vbnRoLmRhdGUoKSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGlXZWVrID0gY2FsZW5kYXIud2Vlay5pbmRleE9mKGlOdW1EYXkudG9TdHJpbmcoKSk7XG5cdCAgICAgICAgICAgICAgICBpZiAoaVdlZWsgPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgaVdlZWs7IHgrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIG1vbnRoLmRheXMucHVzaCgwKTtcblx0ICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICBtb250aC5kYXlzLnB1c2gobW9tZW50KHN0YXJ0T2ZNb250aCkubG9jYWxlKHBpY2tlci5wYXJhbXMubGFuZykuZGF0ZShpKSk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhciBkYXlzSW5BV2VlayA9IDcsXG5cdCAgICAgICAgICAgICAgICBkYXlzVG1wID0gW10sXG5cdCAgICAgICAgICAgICAgICBzbGljZXMgPSBNYXRoLmNlaWwobW9udGguZGF5cy5sZW5ndGggLyBkYXlzSW5BV2Vlayk7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2xpY2VzOyBqKyspIHtcblx0ICAgICAgICAgICAgICBkYXlzVG1wLnB1c2gobW9udGguZGF5cy5zbGljZShqICogZGF5c0luQVdlZWssIChqICsgMSkgKiBkYXlzSW5BV2VlaykpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIG1vbnRoLmRheXMgPSBkYXlzVG1wO1xuXHQgICAgICAgICAgICByZXR1cm4gbW9udGg7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY2FsZW5kYXIudG9EYXkgPSBmdW5jdGlvbiAoaSkge1xuXHQgICAgICAgICAgcmV0dXJuIG1vbWVudChwYXJzZUludChpKSwgXCJkXCIpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLmZvcm1hdChcImRkXCIpLnN1YnN0cmluZygwLCAxKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBjYWxlbmRhci5pc0luUmFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuXHQgICAgICAgICAgcmV0dXJuIHBpY2tlci5pc0FmdGVyTWluRGF0ZShtb21lbnQoZGF0ZSksIGZhbHNlLCBmYWxzZSkgJiYgcGlja2VyLmlzQmVmb3JlTWF4RGF0ZShtb21lbnQoZGF0ZSksIGZhbHNlLCBmYWxzZSk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY2FsZW5kYXIuc2VsZWN0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG5cdCAgICAgICAgICBpZiAoZGF0ZSkge1xuXHQgICAgICAgICAgICBpZiAoY2FsZW5kYXIuaXNTZWxlY3RlZERheShkYXRlKSkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBwaWNrZXIub2soKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBwaWNrZXIuc2VsZWN0RGF0ZShtb21lbnQoZGF0ZSkuaG91cihjYWxlbmRhci5kYXRlLmhvdXIoKSkubWludXRlKGNhbGVuZGFyLmRhdGUubWludXRlKCkpKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBjYWxlbmRhci5pc1NlbGVjdGVkRGF5ID0gZnVuY3Rpb24gKG0pIHtcblx0ICAgICAgICAgIHJldHVybiBtICYmIGNhbGVuZGFyLmRhdGUuZGF0ZSgpID09PSBtLmRhdGUoKSAmJiBjYWxlbmRhci5kYXRlLm1vbnRoKCkgPT09IG0ubW9udGgoKSAmJiBjYWxlbmRhci5kYXRlLnllYXIoKSA9PT0gbS55ZWFyKCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfV0sXG5cdCAgICAgIHRlbXBsYXRlOiAnPG1kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lciBtZC10b3AtaW5kZXg9XCJjYWwudG9wSW5kZXhcIiBjbGFzcz1cIm1vbnRoc1wiPicgKyAnPGRpdiBtZC12aXJ0dWFsLXJlcGVhdD1cImlkeCBpbiBjYWwubW9udGhzXCIgbWQtc3RhcnQtaW5kZXg9XCJjYWwudG9wSW5kZXhcIiBtZC1pdGVtLXNpemU9XCInICsgSVRFTV9IRUlHSFQgKyAnXCI+JyArICcgICAgIDxkaXYgbWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhci1tb250aCBpZHg9XCJpZHhcIj48L2Rpdj4nICsgJzwvZGl2PicgKyAnPC9tZC12aXJ0dWFsLXJlcGVhdC1jb250YWluZXI+J1xuXHQgICAgfTtcblx0ICB9XSkuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlckNhbGVuZGFyTW9udGgnLCBbJyRjb21waWxlJywgZnVuY3Rpb24gKCRjb21waWxlKSB7XG5cdCAgICB2YXIgYnVpbGRDYWxlbmRhckNvbnRlbnQgPSBmdW5jdGlvbiBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSkge1xuXHQgICAgICB2YXIgdGJvZHkgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCd0Ym9keScpKTtcblx0ICAgICAgdmFyIGNhbGVuZGFyID0gc2NvcGUuY2FsLFxuXHQgICAgICAgICAgbW9udGggPSBzY29wZS5tb250aDtcblx0ICAgICAgdGJvZHkuaHRtbCgnJyk7XG5cdCAgICAgIG1vbnRoLmRheXMuZm9yRWFjaChmdW5jdGlvbiAod2Vla0RheXMsIGkpIHtcblx0ICAgICAgICB2YXIgdHIgPSBhbmd1bGFyLmVsZW1lbnQoJzx0cj48L3RyPicpO1xuXHQgICAgICAgIHdlZWtEYXlzLmZvckVhY2goZnVuY3Rpb24gKHdlZWtEYXksIGopIHtcblx0ICAgICAgICAgIHZhciB0ZCA9IGFuZ3VsYXIuZWxlbWVudCgnPHRkPiA8L3RkPicpO1xuXHQgICAgICAgICAgaWYgKHdlZWtEYXkpIHtcblx0ICAgICAgICAgICAgdmFyIGFPclNwYW47XG5cdCAgICAgICAgICAgIGlmIChjYWxlbmRhci5pc0luUmFuZ2Uod2Vla0RheSkpIHtcblx0ICAgICAgICAgICAgICAvL2J1aWxkIGFcblx0ICAgICAgICAgICAgICB2YXIgc2NvcGVSZWYgPSAnbW9udGhbXCJkYXlzXCJdWycgKyBpICsgJ11bJyArIGogKyAnXSc7XG5cdCAgICAgICAgICAgICAgYU9yU3BhbiA9IGFuZ3VsYXIuZWxlbWVudChcIjxhIGhyZWY9JyMnIG1kYy1kdHAtbm9jbGljaz48L2E+XCIpLmF0dHIoJ25nLWNsYXNzJywgJ3tzZWxlY3RlZDogY2FsLmlzU2VsZWN0ZWREYXkoJyArIHNjb3BlUmVmICsgJyl9JykuYXR0cignbmctY2xpY2snLCAnY2FsLnNlbGVjdERhdGUoJyArIHNjb3BlUmVmICsgJyknKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBhT3JTcGFuID0gYW5ndWxhci5lbGVtZW50KCc8c3Bhbj48L3NwYW4+Jyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYU9yU3Bhbi5hZGRDbGFzcygnZHRwLXNlbGVjdC1kYXknKS5odG1sKHdlZWtEYXkuZm9ybWF0KCdEJykpO1xuXHQgICAgICAgICAgICB0ZC5hcHBlbmQoYU9yU3Bhbik7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICB0ci5hcHBlbmQodGQpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHRib2R5LmFwcGVuZCh0cik7XG5cdCAgICAgIH0pO1xuXHQgICAgICAkY29tcGlsZSh0Ym9keSkoc2NvcGUpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBzY29wZToge1xuXHQgICAgICAgIGlkeDogJz0nXG5cdCAgICAgIH0sXG5cdCAgICAgIHJlcXVpcmU6ICdebWRjRGF0ZXRpbWVQaWNrZXJDYWxlbmRhcicsXG5cdCAgICAgIHJlc3RyaWN0OiAnQUUnLFxuXHQgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJkdHAtcGlja2VyLW1vbnRoXCI+e3ttb250aC5uYW1lfX08L2Rpdj4nICsgJzx0YWJsZSBjbGFzcz1cInRhYmxlIGR0cC1waWNrZXItZGF5c1wiPicgKyAnICAgIDx0aGVhZD4nICsgJyAgICA8dHI+JyArICcgICAgICAgIDx0aCBuZy1yZXBlYXQ9XCJkYXkgaW4gY2FsLndlZWtcIj57e2NhbC50b0RheShkYXkpfX08L3RoPicgKyAnICAgIDwvdHI+JyArICcgICAgPC90aGVhZD4nICsgJyAgICA8dGJvZHk+JyArICcgICAgPC90Ym9keT4nICsgJzwvdGFibGU+Jyxcblx0ICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNhbGVuZGFyKSB7XG5cdCAgICAgICAgc2NvcGUuY2FsID0gY2FsZW5kYXI7XG5cdCAgICAgICAgc2NvcGUubW9udGggPSBjYWxlbmRhci5nZXRJdGVtQXRJbmRleChwYXJzZUludChzY29wZS5pZHgpKTtcblx0ICAgICAgICBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSk7XG5cdCAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHJldHVybiBzY29wZS5pZHg7XG5cdCAgICAgICAgfSwgZnVuY3Rpb24gKGlkeCwgb2xkSWR4KSB7XG5cdCAgICAgICAgICBpZiAoaWR4ICE9IG9sZElkeCkge1xuXHQgICAgICAgICAgICBzY29wZS5tb250aCA9IGNhbGVuZGFyLmdldEl0ZW1BdEluZGV4KHBhcnNlSW50KHNjb3BlLmlkeCkpO1xuXHQgICAgICAgICAgICBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfV0pO1xuXHRcblx0ICBhbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lKS5kaXJlY3RpdmUoJ21kY0R0cE5vY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbCkge1xuXHQgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfSk7XG5cdCAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSkuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlckNsb2NrJywgW2Z1bmN0aW9uICgpIHtcblx0XG5cdCAgICB2YXIgdGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cImR0cC1waWNrZXItY2xvY2tcIj48c3BhbiBuZy1pZj1cIiFwb2ludHMgfHwgcG9pbnRzLmxlbmd0aCA8IDFcIj4mbmJzcDs8L3NwYW4+JyArICc8ZGl2IG5nLXJlcGVhdD1cInBvaW50IGluIHBvaW50c1wiIGNsYXNzPVwiZHRwLXBpY2tlci10aW1lXCIgc3R5bGU9XCJtYXJnaW4tbGVmdDoge3twb2ludC5sZWZ0fX1weDsgbWFyZ2luLXRvcDoge3twb2ludC50b3B9fXB4O1wiPicgKyAnICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgbmctY2xhc3M9XCJ7c2VsZWN0ZWQ6IHBvaW50LnZhbHVlPT09Y3VycmVudFZhbHVlfVwiIGNsYXNzPVwiZHRwLXNlbGVjdC1ob3VyXCIgbmctY2xpY2s9XCJzZXRUaW1lKHBvaW50LnZhbHVlKVwiIG5nLWlmPVwicG9pbnRBdmFpbGFibGUocG9pbnQpXCI+e3twb2ludC5kaXNwbGF5fX08L2E+JyArICcgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImRpc2FibGVkIGR0cC1zZWxlY3QtaG91clwiIG5nLWlmPVwiIXBvaW50QXZhaWxhYmxlKHBvaW50KVwiPnt7cG9pbnQuZGlzcGxheX19PC9hPicgKyAnPC9kaXY+JyArICc8ZGl2IGNsYXNzPVwiZHRwLWhhbmQgZHRwLWhvdXItaGFuZFwiPjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cImR0cC1oYW5kIGR0cC1taW51dGUtaGFuZFwiPjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cImR0cC1jbG9jay1jZW50ZXJcIj48L2Rpdj4nICsgJzwvZGl2Pic7XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVzdHJpY3Q6ICdFJyxcblx0ICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuXHQgICAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXHQgICAgICAgIHZhciBtaW51dGVNb2RlID0gYXR0cnMubW9kZSA9PT0gJ21pbnV0ZXMnO1xuXHQgICAgICAgIHZhciBwaWNrZXIgPSBzY29wZS5waWNrZXI7XG5cdCAgICAgICAgLy9iYW5raW5nIG9uIHRoZSBmYWN0IHRoYXQgdGhlcmUgd2lsbCBvbmx5IGJlIG9uZSBhdCBhIHRpbWVcblx0ICAgICAgICB2YXIgY29tcG9uZW50Um9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21kLWRpYWxvZy5kdHAnKTtcblx0ICAgICAgICB2YXIgZXhlYyA9IGZ1bmN0aW9uIGV4ZWMoKSB7XG5cdCAgICAgICAgICB2YXIgY2xvY2sgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLXBpY2tlci1jbG9jaycpKSxcblx0ICAgICAgICAgICAgICBwaWNrZXJFbCA9IGFuZ3VsYXIuZWxlbWVudChjb21wb25lbnRSb290LnF1ZXJ5U2VsZWN0b3IoJy5kdHAtcGlja2VyJykpO1xuXHRcblx0ICAgICAgICAgIHZhciB3ID0gY29tcG9uZW50Um9vdC5xdWVyeVNlbGVjdG9yKCcuZHRwLWNvbnRlbnQnKS5vZmZzZXRXaWR0aDtcblx0ICAgICAgICAgIHZhciBwbCA9IHBhcnNlSW50KGNzcyhwaWNrZXJFbCwgJ3BhZGRpbmdMZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgcHIgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nUmlnaHQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0ICAgICAgICAgIHZhciBtbCA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpbkxlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0ICAgICAgICAgIHZhciBtciA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpblJpZ2h0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICAvL3NldCB3aWR0aFxuXHQgICAgICAgICAgdmFyIGNsb2NrV2lkdGggPSB3IC0gKG1sICsgbXIgKyBwbCArIHByKTtcblx0ICAgICAgICAgIGNsb2NrLmNzcygnd2lkdGgnLCBjbG9ja1dpZHRoICsgJ3B4Jyk7XG5cdFxuXHQgICAgICAgICAgdmFyIHBMID0gcGFyc2VJbnQoY3NzKHBpY2tlckVsLCAncGFkZGluZ0xlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0ICAgICAgICAgIHZhciBwVCA9IHBhcnNlSW50KGNzcyhwaWNrZXJFbCwgJ3BhZGRpbmdUb3AnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0ICAgICAgICAgIHZhciBtTCA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpbkxlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0ICAgICAgICAgIHZhciBtVCA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpblRvcCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXHRcblx0ICAgICAgICAgIHZhciByID0gY2xvY2tXaWR0aCAvIDI7XG5cdCAgICAgICAgICB2YXIgaiA9IHIgLyAxLjI7IC8vPz8/XG5cdFxuXHQgICAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuXHRcblx0ICAgICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgMTI7ICsraCkge1xuXHQgICAgICAgICAgICB2YXIgeCA9IGogKiBNYXRoLnNpbihNYXRoLlBJICogMiAqIChoIC8gMTIpKTtcblx0ICAgICAgICAgICAgdmFyIHkgPSBqICogTWF0aC5jb3MoTWF0aC5QSSAqIDIgKiAoaCAvIDEyKSk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgaG91ciA9IHtcblx0ICAgICAgICAgICAgICBsZWZ0OiByICsgeCArIHBMIC8gMiAtIChwTCArIG1MKSxcblx0ICAgICAgICAgICAgICB0b3A6IHIgLSB5IC0gbVQgLyAyIC0gKHBUICsgbVQpLFxuXHQgICAgICAgICAgICAgIHZhbHVlOiBtaW51dGVNb2RlID8gaCAqIDUgOiBoIC8vNSBmb3IgbWludXRlIDYwLzEyXG5cdCAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICBpZiAobWludXRlTW9kZSkge1xuXHQgICAgICAgICAgICAgIGhvdXIuZGlzcGxheSA9IGhvdXIudmFsdWUgPCAxMCA/ICcwJyArIGhvdXIudmFsdWUgOiBob3VyLnZhbHVlO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHRcblx0ICAgICAgICAgICAgICBpZiAocGlja2VyLnBhcmFtcy5zaG9ydFRpbWUpIHtcblx0ICAgICAgICAgICAgICAgIGhvdXIuZGlzcGxheSA9IGggPT09IDAgPyAxMiA6IGg7XG5cdCAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGhvdXIuZGlzcGxheSA9IHBpY2tlci5pc1BNKCkgPyBoICsgMTIgOiBoO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcG9pbnRzLnB1c2goaG91cik7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgc2NvcGUucG9pbnRzID0gcG9pbnRzO1xuXHQgICAgICAgICAgc2V0Q3VycmVudFZhbHVlKCk7XG5cdCAgICAgICAgICBjbG9jay5jc3MoJ2hlaWdodCcsIGNsb2NrV2lkdGggKyAncHgnKTtcblx0ICAgICAgICAgIC8vcGlja2VyLmluaXRIYW5kcyh0cnVlKTtcblx0XG5cdCAgICAgICAgICB2YXIgY2xvY2tDZW50ZXIgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtY2xvY2stY2VudGVyJyk7XG5cdCAgICAgICAgICB2YXIgY2VudGVyV2lkdGggPSBjbG9ja0NlbnRlci5vZmZzZXRXaWR0aCAvIDIgfHwgNy41LFxuXHQgICAgICAgICAgICAgIGNlbnRlckhlaWdodCA9IGNsb2NrQ2VudGVyLm9mZnNldEhlaWdodCAvIDIgfHwgNy41O1xuXHQgICAgICAgICAgdmFyIF9oTCA9IHIgLyAxLjg7XG5cdCAgICAgICAgICB2YXIgX21MID0gciAvIDEuNTtcblx0XG5cdCAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLWhvdXItaGFuZCcpKS5jc3Moe1xuXHQgICAgICAgICAgICBsZWZ0OiByICsgbUwgKiAxLjUgKyAncHgnLFxuXHQgICAgICAgICAgICBoZWlnaHQ6IF9oTCArICdweCcsXG5cdCAgICAgICAgICAgIG1hcmdpblRvcDogciAtIF9oTCAtIHBMICsgJ3B4J1xuXHQgICAgICAgICAgfSkuYWRkQ2xhc3MoIW1pbnV0ZU1vZGUgPyAnb24nIDogJycpO1xuXHRcblx0ICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtbWludXRlLWhhbmQnKSkuY3NzKHtcblx0ICAgICAgICAgICAgbGVmdDogciArIG1MICogMS41ICsgJ3B4Jyxcblx0ICAgICAgICAgICAgaGVpZ2h0OiBfbUwgKyAncHgnLFxuXHQgICAgICAgICAgICBtYXJnaW5Ub3A6IHIgLSBfbUwgLSBwTCArICdweCdcblx0ICAgICAgICAgIH0pLmFkZENsYXNzKG1pbnV0ZU1vZGUgPyAnb24nIDogJycpO1xuXHRcblx0ICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChjbG9ja0NlbnRlcikuY3NzKHtcblx0ICAgICAgICAgICAgbGVmdDogciArIHBMICsgbUwgLSBjZW50ZXJXaWR0aCArICdweCcsXG5cdCAgICAgICAgICAgIG1hcmdpblRvcDogciAtIG1MIC8gMiAtIGNlbnRlckhlaWdodCArICdweCdcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgYW5pbWF0ZUhhbmRzKCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdmFyIGFuaW1hdGVIYW5kcyA9IGZ1bmN0aW9uIGFuaW1hdGVIYW5kcygpIHtcblx0ICAgICAgICAgIHZhciBfZGF0ZSA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcblx0ICAgICAgICAgIHZhciBoID0gX2RhdGUuaG91cigpO1xuXHQgICAgICAgICAgdmFyIG0gPSBfZGF0ZS5taW51dGUoKTtcblx0XG5cdCAgICAgICAgICByb3RhdGVFbGVtZW50KGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtaG91ci1oYW5kJykpLCAzNjAgLyAxMiAqIGgpO1xuXHQgICAgICAgICAgdmFyIG1kZyA9IDM2MCAvIDYwICogKDUgKiBNYXRoLnJvdW5kKG0gLyA1KSk7XG5cdCAgICAgICAgICByb3RhdGVFbGVtZW50KGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtbWludXRlLWhhbmQnKSksIG1kZyk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdmFyIHJvdGF0ZUVsZW1lbnQgPSBmdW5jdGlvbiByb3RhdGVFbGVtZW50KGVsLCBkZWcpIHtcblx0ICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChlbCkuY3NzKHtcblx0ICAgICAgICAgICAgV2Via2l0VHJhbnNmb3JtOiAncm90YXRlKCcgKyBkZWcgKyAnZGVnKScsXG5cdCAgICAgICAgICAgICctbW96LXRyYW5zZm9ybSc6ICdyb3RhdGUoJyArIGRlZyArICdkZWcpJ1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdmFyIHNldEN1cnJlbnRWYWx1ZSA9IGZ1bmN0aW9uIHNldEN1cnJlbnRWYWx1ZSgpIHtcblx0ICAgICAgICAgIHZhciBkYXRlID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuXHQgICAgICAgICAgc2NvcGUuY3VycmVudFZhbHVlID0gbWludXRlTW9kZSA/IGRhdGUubWludXRlKCkgOiBkYXRlLmhvdXIoKSAlIDEyO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICB2YXIgdG1wID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuXHQgICAgICAgICAgcmV0dXJuIHRtcCA/IHRtcC5mb3JtYXQoJ0hIOm1tJykgOiAnJztcblx0ICAgICAgICB9LCBmdW5jdGlvbiAobmV3VmFsKSB7XG5cdCAgICAgICAgICBzZXRDdXJyZW50VmFsdWUoKTtcblx0ICAgICAgICAgIGFuaW1hdGVIYW5kcygpO1xuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICB2YXIgc2V0RGlzcGxheVBvaW50cyA9IGZ1bmN0aW9uIHNldERpc3BsYXlQb2ludHMoaXNQTSwgcG9pbnRzKSB7XG5cdCAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBwb2ludHNbaV0uZGlzcGxheSA9IGk7XG5cdCAgICAgICAgICAgIGlmIChpc1BNKSB7XG5cdCAgICAgICAgICAgICAgcG9pbnRzW2ldLmRpc3BsYXkgKz0gMTI7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiBwb2ludHM7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgaWYgKCFwaWNrZXIucGFyYW1zLnNob3J0VGltZSkge1xuXHQgICAgICAgICAgc2NvcGUuJHdhdGNoKCdwaWNrZXIubWVyaWRpZW4nLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIGlmICghbWludXRlTW9kZSkge1xuXHQgICAgICAgICAgICAgIGlmIChzY29wZS5wb2ludHMpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBzZXREaXNwbGF5UG9pbnRzKHBpY2tlci5pc1BNKCksIGFuZ3VsYXIuY29weShzY29wZS5wb2ludHMpKTtcblx0ICAgICAgICAgICAgICAgIHNjb3BlLnBvaW50cyA9IHBvaW50cztcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgc2NvcGUuc2V0VGltZSA9IGZ1bmN0aW9uICh2YWwpIHtcblx0ICAgICAgICAgIGlmICh2YWwgPT09IHNjb3BlLmN1cnJlbnRWYWx1ZSkge1xuXHQgICAgICAgICAgICBwaWNrZXIub2soKTtcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBpZiAoIW1pbnV0ZU1vZGUpIHtcblx0ICAgICAgICAgICAgcGlja2VyLmN1cnJlbnREYXRlLmhvdXIocGlja2VyLmlzUE0oKSA/IHZhbCArIDEyIDogdmFsKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHBpY2tlci5jdXJyZW50RGF0ZS5taW51dGUodmFsKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHBpY2tlci5jdXJyZW50RGF0ZS5zZWNvbmQoMCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgc2NvcGUucG9pbnRBdmFpbGFibGUgPSBmdW5jdGlvbiAocG9pbnQpIHtcblx0ICAgICAgICAgIHJldHVybiBtaW51dGVNb2RlID8gcGlja2VyLmlzTWludXRlQXZhaWxhYmxlKHBvaW50LnZhbHVlKSA6IHBpY2tlci5pc0hvdXJBdmFpbGFibGUocG9pbnQudmFsdWUpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciB1bndhdGNoZXIgPSBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgcmV0dXJuIGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnZGl2JykubGVuZ3RoO1xuXHQgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIGV4ZWMoKTtcblx0ICAgICAgICAgIHVud2F0Y2hlcigpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1dKTtcblx0fSkoX21vbWVudDIuZGVmYXVsdCk7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwOSkpKVxuXG4vKioqLyB9LFxuXG4vKioqLyA1OTQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OTUpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODIpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzc1wiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNTk1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODEpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwibWQtZGlhbG9nLmR0cHtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoxLjQyODU3MTQzO2NvbG9yOiMzMzM7YmFja2dyb3VuZC1jb2xvcjojZmZmO21heC1oZWlnaHQ6bm9uZX0uZHRwIDpmb2N1c3tvdXRsaW5lOm5vbmUhaW1wb3J0YW50fS5kdHAgdGFibGV7Ym9yZGVyLXNwYWNpbmc6MDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7d2lkdGg6MTAwJX0uZHRwIC50YWJsZT50Ym9keT50cj50ZCwuZHRwIC50YWJsZT50Ym9keT50cj50aCwuZHRwIC50YWJsZT50Zm9vdD50cj50ZCwuZHRwIC50YWJsZT50Zm9vdD50cj50aCwuZHRwIC50YWJsZT50aGVhZD50cj50ZCwuZHRwIC50YWJsZT50aGVhZD50cj50aHtwYWRkaW5nOjhweDtsaW5lLWhlaWdodDoxLjQyODU3MTQzO3ZlcnRpY2FsLWFsaWduOnRvcDtib3JkZXItdG9wOjFweCBzb2xpZCAjZGRkfS5kdHAsLmR0cCAqe2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnR9LmR0cD4uZHRwLWNvbnRlbnR7bWF4LXdpZHRoOjMwMHB4O21heC1oZWlnaHQ6NTAwcHh9LmR0cD4uZHRwLWNvbnRlbnQ+LmR0cC1kYXRlLXZpZXc+aGVhZGVyLmR0cC1oZWFkZXJ7YmFja2dyb3VuZDojNjg5ZjM4O2NvbG9yOiNmZmY7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzozcHh9LmR0cCBkaXYuZHRwLWRhdGUsLmR0cCBkaXYuZHRwLXRpbWV7YmFja2dyb3VuZDojOGJjMzRhO3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOiNmZmY7cGFkZGluZzoxMHB4fS5kdHAgZGl2LmR0cC1kYXRlPmRpdntwYWRkaW5nOjA7bWFyZ2luOjB9LmR0cCBkaXYuZHRwLWFjdHVhbC1tb250aHtmb250LXNpemU6MS41ZW19LmR0cCBkaXYuZHRwLWFjdHVhbC1tYXh0aW1lLC5kdHAgZGl2LmR0cC1hY3R1YWwtbnVte2ZvbnQtc2l6ZTozZW07bGluZS1oZWlnaHQ6Ljl9LmR0cCBkaXYuZHRwLWFjdHVhbC15ZWFye2ZvbnQtc2l6ZToxLjZlbTtjb2xvcjojZGNlZGM4fS5kdHAgZGl2LmR0cC15ZWFyLWJ0bntmb250LXNpemU6MS40ZW07bGluZS1oZWlnaHQ6MzBweDtjdXJzb3I6cG9pbnRlcjtjb2xvcjojZGNlZGM4fS5kdHAgZGl2LmR0cC15ZWFyLWJ0bi1wcmV2e3RleHQtYWxpZ246cmlnaHR9LmR0cCBkaXYuZHRwLXllYXItYnRuLW5leHR7dGV4dC1hbGlnbjpsZWZ0fS5kdHAgZGl2LmR0cC1waWNrZXJ7cGFkZGluZzoxMHB4O3RleHQtYWxpZ246Y2VudGVyfS5kdHAgZGl2LmR0cC1hY3R1YWwtdGltZSwuZHRwIGRpdi5kdHAtcGlja2VyLW1vbnRoe2ZvbnQtd2VpZ2h0OjUwMDt0ZXh0LWFsaWduOmNlbnRlcn0uZHRwIC5kdHAtY2xvc2V7cG9zaXRpb246YWJzb2x1dGU7dG9wOi4yNWVtO3JpZ2h0OjVweDtmb250LXNpemU6MTZweH0uZHRwIC5kdHAtY2xvc2U+YXtjb2xvcjojZmZmO3RleHQtZGVjb3JhdGlvbjpub25lfS5kdHAgLmR0cC1jbG9zZT5hPml7Zm9udC1zaXplOjFlbX0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5c3ttYXJnaW46MDttaW4taGVpZ2h0OjIyMHB4fS5kdHAgbWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyLm1vbnRoc3toZWlnaHQ6MjYwcHh9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMsLmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHIsLmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGR7Ym9yZGVyOm5vbmV9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGR7Zm9udC1zaXplOjExcHg7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzowfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPnNwYW4uZHRwLXNlbGVjdC1kYXl7Y29sb3I6I2JkYmRiZCFpbXBvcnRhbnR9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+LmR0cC1zZWxlY3QtZGF5e3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHg7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAuZHRwLXBpY2tlci10aW1lPmEsLmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+LmR0cC1zZWxlY3QtZGF5e2NvbG9yOiMyMTIxMjE7dGV4dC1kZWNvcmF0aW9uOm5vbmU7cGFkZGluZzoxMHB4O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5hLnNlbGVjdGVke2JhY2tncm91bmQ6IzhiYzM0YTtjb2xvcjojZmZmfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPmE6aG92ZXI6bm90KC5zZWxlY3RlZCl7YmFja2dyb3VuZDojZGRkfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRoe2NvbG9yOiM3NTc1NzU7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC13ZWlnaHQ6NzAwO3BhZGRpbmc6NHB4IDNweH0uZHRwIC5wMTA+YXtjb2xvcjojNjg5ZjM4O3RleHQtZGVjb3JhdGlvbjpub25lfS5kdHAgLnAxMHt3aWR0aDoxMCV9LmR0cCAucDEwLC5kdHAgLnAyMHtkaXNwbGF5OmlubGluZS1ibG9ja30uZHRwIC5wMjB7d2lkdGg6MjAlfS5kdHAgLnA2MHt3aWR0aDo2MCV9LmR0cCAucDYwLC5kdHAgLnA4MHtkaXNwbGF5OmlubGluZS1ibG9ja30uZHRwIC5wODB7d2lkdGg6ODAlfS5kdHAgYS5kdHAtbWVyaWRpZW4tYW0sLmR0cCBhLmR0cC1tZXJpZGllbi1wbXtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6MTBweDtjb2xvcjojMjEyMTIxO2ZvbnQtd2VpZ2h0OjUwMDtwYWRkaW5nOjdweCA1cHg7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O3RleHQtZGVjb3JhdGlvbjpub25lO2JhY2tncm91bmQ6I2VlZTtmb250LXNpemU6MTBweH0uZHRwIC5kdHAtYWN0dWFsLW1lcmlkaWVuIGEuc2VsZWN0ZWR7YmFja2dyb3VuZDojNjg5ZjM4O2NvbG9yOiNmZmZ9LmR0cCAuZHRwLXBpY2tlci10aW1lPmF7ZGlzcGxheTpibG9jaztsaW5lLWhlaWdodDoyM3B4O3BhZGRpbmc6M3B4fS5kdHAgLmR0cC1waWNrZXItdGltZXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDozMHB4O2hlaWdodDozMHB4O2ZvbnQtc2l6ZToxLjFlbTtib3JkZXItcmFkaXVzOjUwJTtjdXJzb3I6cG9pbnRlcjt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnR9LmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1ob3VyLnNlbGVjdGVke2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmfS5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtaG91ci5kaXNhYmxlZCwuZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LW1pbnV0ZS5kaXNhYmxlZHtjb2xvcjojNzU3NTc1fS5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtbWludXRlLnNlbGVjdGVke2JhY2tncm91bmQ6IzhiYzM0YTtjb2xvcjojZmZmfS5kdHAgZGl2LmR0cC1waWNrZXItY2xvY2t7bWFyZ2luOjEwcHggMjBweCAwO3BhZGRpbmc6MTBweDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnQ7YmFja2dyb3VuZDojZWVlfS5kdHAtY2xvY2stY2VudGVye3dpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7YmFja2dyb3VuZDojNzU3NTc1O2JvcmRlci1yYWRpdXM6NTAlO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6NTB9LmR0cCAuZHRwLWhhbmQsLmR0cCAuZHRwLWhvdXItaGFuZHtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo0cHg7bWFyZ2luLWxlZnQ6LTJweDtiYWNrZ3JvdW5kOiNiZGJkYmQ7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMGRlZyk7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmJvdHRvbTt0cmFuc2Zvcm0tb3JpZ2luOmJvdHRvbTt6LWluZGV4OjF9LmR0cCAuZHRwLW1pbnV0ZS1oYW5ke3dpZHRoOjJweDttYXJnaW4tbGVmdDotMXB4fS5kdHAgLmR0cC1oYW5kLm9ue2JhY2tncm91bmQ6IzhiYzM0YX0uZHRwIC5kdHAtYnV0dG9uc3twYWRkaW5nOjAgMTBweCAxMHB4O3RleHQtYWxpZ246cmlnaHR9LmR0cC5oaWRkZW4sLmR0cCAuaGlkZGVue2Rpc3BsYXk6bm9uZX0uZHRwIC5pbnZpc2libGV7dmlzaWJpbGl0eTpoaWRkZW59LmR0cCAubGVmdHtmbG9hdDpsZWZ0fS5kdHAgLnJpZ2h0e2Zsb2F0OnJpZ2h0fS5kdHAgLmNsZWFyZml4e2NsZWFyOmJvdGh9LmR0cCAuY2VudGVye3RleHQtYWxpZ246Y2VudGVyfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTk2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Lypcblx0ICogYW5ndWxhci1nb29nbGUtcGx1cy1kaXJlY3RpdmUgdjAuMC4xXG5cdCAqIOKZoSBDb3B5SGVhcnQgMjAxMyBieSBKZXJhZCBCaXRuZXIgaHR0cDovL2plcmFkYml0bmVyLmNvbVxuXHQgKiBDb3B5aW5nIGlzIGFuIGFjdCBvZiBsb3ZlLiBQbGVhc2UgY29weS5cblx0ICovXG5cdFxuXHR2YXIgX2dldE93blByb3BlcnR5TmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5Nyk7XG5cdFxuXHR2YXIgX2dldE93blByb3BlcnR5TmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0T3duUHJvcGVydHlOYW1lcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0YW5ndWxhci5tb2R1bGUoJ2RpcmVjdGl2ZS5nK3NpZ25pbicsIFtdKS5kaXJlY3RpdmUoJ2dvb2dsZVBsdXNTaWduaW4nLCBbJyR3aW5kb3cnLCBmdW5jdGlvbiAoJHdpbmRvdykge1xuXHQgIHZhciBlbmRpbmcgPSAvXFwuYXBwc1xcLmdvb2dsZXVzZXJjb250ZW50XFwuY29tJC87XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICByZXN0cmljdDogJ0UnLFxuXHQgICAgdHJhbnNjbHVkZTogdHJ1ZSxcblx0ICAgIHRlbXBsYXRlOiAnPHNwYW4+PC9zcGFuPicsXG5cdCAgICByZXBsYWNlOiB0cnVlLFxuXHQgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsIGxpbmtlcikge1xuXHQgICAgICBhdHRycy5jbGllbnRpZCArPSBlbmRpbmcudGVzdChhdHRycy5jbGllbnRpZCkgPyAnJyA6ICcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nO1xuXHRcblx0ICAgICAgYXR0cnMuJHNldCgnZGF0YS1jbGllbnRpZCcsIGF0dHJzLmNsaWVudGlkKTtcblx0ICAgICAgYXR0cnMuJHNldCgndGhlbWUnLCBhdHRycy50aGVtZSk7XG5cdFxuXHQgICAgICAvLyBTb21lIGRlZmF1bHQgdmFsdWVzLCBiYXNlZCBvbiBwcmlvciB2ZXJzaW9ucyBvZiB0aGlzIGRpcmVjdGl2ZVxuXHQgICAgICB2YXIgZGVmYXVsdHMgPSB7XG5cdCAgICAgICAgY2FsbGJhY2s6ICdzaWduaW5DYWxsYmFjaycsXG5cdCAgICAgICAgY29va2llcG9saWN5OiAnc2luZ2xlX2hvc3Rfb3JpZ2luJyxcblx0ICAgICAgICByZXF1ZXN0dmlzaWJsZWFjdGlvbnM6ICdodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL0FkZEFjdGl2aXR5Jyxcblx0ICAgICAgICBzY29wZTogJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvcGx1cy5sb2dpbiBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3VzZXJpbmZvLmVtYWlsJyxcblx0ICAgICAgICBoZWlnaHQ6ICdzdGFuZGFyZCcsXG5cdCAgICAgICAgd2lkdGg6ICd3aWRlJyxcblx0ICAgICAgICBzdGF0ZTogJydcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIGRlZmF1bHRzLmNsaWVudGlkID0gYXR0cnMuY2xpZW50aWQ7XG5cdCAgICAgIGRlZmF1bHRzLnRoZW1lID0gYXR0cnMudGhlbWU7XG5cdFxuXHQgICAgICAvLyBPdmVyd3JpdGUgZGVmYXVsdCB2YWx1ZXMgaWYgZXhwbGljaXRseSBzZXRcblx0ICAgICAgYW5ndWxhci5mb3JFYWNoKCgwLCBfZ2V0T3duUHJvcGVydHlOYW1lczIuZGVmYXVsdCkoZGVmYXVsdHMpLCBmdW5jdGlvbiAocHJvcE5hbWUpIHtcblx0ICAgICAgICBpZiAoYXR0cnMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG5cdCAgICAgICAgICBkZWZhdWx0c1twcm9wTmFtZV0gPSBhdHRyc1twcm9wTmFtZV07XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIC8vIERlZmF1bHQgbGFuZ3VhZ2Vcblx0ICAgICAgLy8gU3VwcG9ydGVkIGxhbmd1YWdlczogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vKy93ZWIvYXBpL3N1cHBvcnRlZC1sYW5ndWFnZXNcblx0ICAgICAgYXR0cnMuJG9ic2VydmUoJ2xhbmd1YWdlJywgZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgJHdpbmRvdy5fX19nY2ZnID0ge1xuXHQgICAgICAgICAgbGFuZzogdmFsdWUgPyB2YWx1ZSA6ICdlbidcblx0ICAgICAgICB9O1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIC8vIEFzeW5jaHJvbm91c2x5IGxvYWQgdGhlIEcrIFNESy5cblx0ICAgICAgdmFyIHBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7cG8udHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO3BvLmFzeW5jID0gdHJ1ZTtcblx0ICAgICAgcG8uc3JjID0gJ2h0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2NsaWVudDpwbHVzb25lLmpzJztcblx0ICAgICAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07cy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwbywgcyk7XG5cdFxuXHQgICAgICBsaW5rZXIoZnVuY3Rpb24gKGVsLCB0U2NvcGUpIHtcblx0ICAgICAgICBwby5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBpZiAoZWwubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKGVsKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGdhcGkuc2lnbmluLnJlbmRlcihlbGVtZW50WzBdLCBkZWZhdWx0cyk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfTtcblx0fV0pLnJ1bihbJyR3aW5kb3cnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkd2luZG93LCAkcm9vdFNjb3BlKSB7XG5cdCAgJHdpbmRvdy5zaWduaW5DYWxsYmFjayA9IGZ1bmN0aW9uIChhdXRoUmVzdWx0KSB7XG5cdCAgICBpZiAoYXV0aFJlc3VsdCAmJiBhdXRoUmVzdWx0LmFjY2Vzc190b2tlbikge1xuXHQgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1zdWNjZXNzJywgYXV0aFJlc3VsdCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1mYWlsdXJlJywgYXV0aFJlc3VsdCk7XG5cdCAgICB9XG5cdCAgfTtcblx0fV0pO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2Mzk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NDApO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODIpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi92ZW5kb3Iuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vdmVuZG9yLnNjc3NcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDY0MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDgxKSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNjQxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNjQyKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDgyKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNjQyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODEpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmRpc3RyaWJ1dG9yLXNlbGVjdGlvbntmb250LXNpemU6MTZwdDtwYWRkaW5nOjNweDttYXJnaW46M3B4fWJvZHl7bWFyZ2luLXRvcDoxMDBweDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXtib2R5e21hcmdpbi10b3A6NTBweH19I3dyYXBwZXJ7cGFkZGluZy1sZWZ0OjB9I3BhZ2Utd3JhcHBlcnt3aWR0aDoxMDAlO3BhZGRpbmc6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9Lmh1Z2V7Zm9udC1zaXplOjUwcHg7bGluZS1oZWlnaHQ6bm9ybWFsfUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsjd3JhcHBlcntwYWRkaW5nLWxlZnQ6MjI1cHh9I3BhZ2Utd3JhcHBlcntwYWRkaW5nOjEwcHh9fS5tYXJnaW4tdG9wLTA1e21hcmdpbi10b3A6LjVlbX0ubWFyZ2luLXRvcC0xNXttYXJnaW4tdG9wOjEuNWVtfS5tYXJnaW4tdG9wLTIwe21hcmdpbi10b3A6MmVtfS5tYXJnaW4tdG9wLTI1e21hcmdpbi10b3A6Mi41ZW19Lm1hcmdpbi10b3AtNTB7bWFyZ2luLXRvcDo1ZW19Lmlzc3VlLXdhcm5pbmctYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOm9yYW5nZX0uaXNzdWUtd2FybmluZy10ZXh0e2NvbG9yOm9yYW5nZX0uaXNzdWUtZGFuZ2VyLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpyZWR9Lmlzc3VlLWRhbmdlci10ZXh0e2NvbG9yOnJlZH0uaXNzdWUtbm9ybWFsLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpncmVlbn0uaXNzdWUtbm9ybWFsLXRleHR7Y29sb3I6Z3JlZW59LnVwLXRydWUtYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVufS51cC1mYWxzZS1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6cmVkfS5uYXZiYXItZGVmYXVsdHtiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmI7Ym9yZGVyLWNvbG9yOiMxNTU5OGV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItYnJhbmR7Y29sb3I6I2ZmZn0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZDpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZDpob3Zlcntjb2xvcjojNTVhN2U3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hOmhvdmVye2NvbG9yOiNmZmZ9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5hY3RpdmU+YSwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmFjdGl2ZT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uYWN0aXZlPmE6aG92ZXJ7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNhZmQ1ZjN9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmEsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6aG92ZXJ7Y29sb3I6IzU1NTtiYWNrZ3JvdW5kLWNvbG9yOiNkNWQ1ZDV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hIC5jYXJldHtib3JkZXItdG9wLWNvbG9yOiM3Nzc7Ym9yZGVyLWJvdHRvbS1jb2xvcjojNzc3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uZHJvcGRvd24+YTpmb2N1cyAuY2FyZXQsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hOmhvdmVyIC5jYXJldHtib3JkZXItdG9wLWNvbG9yOiMzMzM7Ym9yZGVyLWJvdHRvbS1jb2xvcjojMzMzfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hIC5jYXJldCwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpmb2N1cyAuY2FyZXQsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6aG92ZXIgLmNhcmV0e2JvcmRlci10b3AtY29sb3I6IzU1NTtib3JkZXItYm90dG9tLWNvbG9yOiM1NTV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xle2JvcmRlci1jb2xvcjojZGRkfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGU6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZGRkfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZSAuaWNvbi1iYXJ7YmFja2dyb3VuZC1jb2xvcjojY2NjfUBtZWRpYSAobWF4LXdpZHRoOjc2N3B4KXsubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXYgLm9wZW4gLmRyb3Bkb3duLW1lbnU+bGk+YXtjb2xvcjojNzc3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5hOmhvdmVye2NvbG9yOiMzMzN9fS50b3AtbmF2e3BhZGRpbmc6MCAxNXB4fS50b3AtbmF2Pmxpe2Rpc3BsYXk6aW5saW5lLWJsb2NrO2Zsb2F0OmxlZnR9LnRvcC1uYXY+bGk+YXtwYWRkaW5nLXRvcDoxNXB4O3BhZGRpbmctYm90dG9tOjE1cHg7bGluZS1oZWlnaHQ6MjBweDtjb2xvcjojZWZlZmVmfS50b3AtbmF2Pi5vcGVuPmEsLnRvcC1uYXY+Lm9wZW4+YTpmb2N1cywudG9wLW5hdj4ub3Blbj5hOmhvdmVyLC50b3AtbmF2PmxpPmE6Zm9jdXMsLnRvcC1uYXY+bGk+YTpob3Zlcntjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzFiNzViYn0udG9wLW5hdj4ub3Blbj4uZHJvcGRvd24tbWVudXtmbG9hdDpsZWZ0O3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi10b3A6MDtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjE1KTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym94LXNoYWRvdzowIDZweCAxMnB4IHJnYmEoMCwwLDAsLjE3NSl9LnRvcC1uYXY+Lm9wZW4+LmRyb3Bkb3duLW1lbnU+bGk+YXt3aGl0ZS1zcGFjZTpub3JtYWx9dWwubWVzc2FnZS1kcm9wZG93bntwYWRkaW5nOjA7bWF4LWhlaWdodDoyNTBweDtvdmVyZmxvdy14OmhpZGRlbjtvdmVyZmxvdy15OmF1dG99bGkubWVzc2FnZS1wcmV2aWV3e3dpZHRoOjI3NXB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjE1KX1saS5tZXNzYWdlLXByZXZpZXc+YXtwYWRkaW5nLXRvcDoxNXB4O3BhZGRpbmctYm90dG9tOjE1cHh9bGkubWVzc2FnZS1mb290ZXJ7bWFyZ2luOjVweCAwfXVsLmFsZXJ0LWRyb3Bkb3due3dpZHRoOjIwMHB4fUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsuc2lkZS1uYXZ7cG9zaXRpb246Zml4ZWQ7dG9wOjUxcHg7bGVmdDoyMjVweDttYXJnaW4tbGVmdDotMjI1cHg7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czowO292ZXJmbG93LXk6YXV0bztiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmI7Ym90dG9tOjA7b3ZlcmZsb3cteDpoaWRkZW47cGFkZGluZy1ib3R0b206NDBweH0uc2lkZS1uYXYsLnNpZGUtbmF2PmxpPmF7d2lkdGg6MjI1cHh9LnNpZGUtbmF2IGxpIGE6Zm9jdXMsLnNpZGUtbmF2IGxpIGE6aG92ZXJ7b3V0bGluZTpub25lO2JhY2tncm91bmQtY29sb3I6IzNmOWNlMyFpbXBvcnRhbnR9fS5zaWRlLW5hdj5saT51bHtwYWRkaW5nOjB9LnNpZGUtbmF2PmxpPnVsPmxpPmF7ZGlzcGxheTpibG9jaztwYWRkaW5nOjEwcHggMTVweCAxMHB4IDM4cHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y29sb3I6I2Q0ZDRkNH0uc2lkZS1uYXY+bGk+dWw+bGk+YTpob3Zlcntjb2xvcjojZmZmfS5mbG90LWNoYXJ0e2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjQwMHB4fS5mbG90LWNoYXJ0LWNvbnRlbnR7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uaHVnZXtmb250LXNpemU6NDBweH0ucGFuZWwtZ3JlZW57Ym9yZGVyLWNvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPi5wYW5lbC1oZWFkaW5ne2JvcmRlci1jb2xvcjojNWNiODVjO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojNWNiODVjfS5wYW5lbC1ncmVlbj5he2NvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPmE6aG92ZXJ7Y29sb3I6IzNkOGIzZH0ucGFuZWwtcmVke2JvcmRlci1jb2xvcjojZDk1MzRmfS5wYW5lbC1yZWQ+LnBhbmVsLWhlYWRpbmd7Ym9yZGVyLWNvbG9yOiNkOTUzNGY7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD5he2NvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD5hOmhvdmVye2NvbG9yOiNiNTJiMjd9LnBhbmVsLXllbGxvd3tib3JkZXItY29sb3I6I2YwYWQ0ZX0ucGFuZWwteWVsbG93Pi5wYW5lbC1oZWFkaW5ne2JvcmRlci1jb2xvcjojZjBhZDRlO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+YXtjb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+YTpob3Zlcntjb2xvcjojZGY4YTEzfS50b29sYmFye21hcmdpbi1ib3R0b206MTBweH0uZW50aXR5LWtleXtmb250LWZhbWlseTpNb25hY28sQ29uc29sYXMsTHVjaWRhIENvbnNvbGUsZGVqYXZ1IHNhbnMgbW9ubyxtb25vc3BhY2U7Zm9udC1zaXplOjExcHh9LnByb29mLW9mLXBsYXktbGFiZWx7cGFkZGluZy1ib3R0b206MTBweDtwYWRkaW5nLXRvcDoxMHB4fS5jb3B5LXJlYWR5LXRyYW5zcGFyZW50e2NvbG9yOnRyYW5zcGFyZW50fS5uby1kZXZpY2Vze3RleHQtYWxpZ246Y2VudGVyfS5wcm9wZXJ0aWVzLXdvcmQtYnJlYWt7d2lkdGg6MzkwcHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7ZGlzcGxheTpibG9ja30uY29tbWFuZC1oaXN0b3J5LWNvbW1hbmR7d2lkdGg6Mzc1cHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7ZGlzcGxheTpibG9ja30uaG9zdG5hbWUtd29yZC1icmVha3t3aWR0aDoyMDBweDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmlubGluZS1ibG9ja31bZGF0YS1uZy1jbGlja10sW25nLWNsaWNrXSxbeC1uZy1jbGlja117Y3Vyc29yOnBvaW50ZXJ9I3Byb29mcGxheS1zZWxlY3RlZC1pdGVtc3ttaW4td2lkdGg6MCFpbXBvcnRhbnQ7bWFyZ2luOjAgYXV0bztwYWRkaW5nOjAgYXV0b30ucmFkaW8tYnV0dG9ue3BhZGRpbmc6M3B4fS5ob3Jpem9udGFsLXN1Ym1pdHttYXJnaW46LjVlbX0uaG9yaXpvbnRhbC1zdWJtaXQsLnJhZGlvLWhvcml6b250YWx7ZGlzcGxheTpmbGV4O2FsaWduLXNlbGY6Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXJ9bWQtdG9vbGJhci5tZC1kZWZhdWx0LXRoZW1lOm5vdCgubWQtbWVudS10b29sYmFyKSxtZC10b29sYmFyOm5vdCgubWQtbWVudS10b29sYmFyKXtiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmIhaW1wb3J0YW50O21heC1oZWlnaHQ6NjRweDttaW4taGVpZ2h0OjY0cHh9Lm1kLXRvb2xiYXItdG9vbHN7YmFja2dyb3VuZC1jb2xvcjojMDAwIWltcG9ydGFudDttYXgtaGVpZ2h0OjY0cHg7bWluLWhlaWdodDo2NHB4fS5za3lraXQtaW1hZ2V7bWF4LXdpZHRoOjEwMCU7aGVpZ2h0OjMzcHh9QG1lZGlhIChtYXgtd2lkdGg6NzY3cHgpe21kLXRvb2xiYXIubWQtZGVmYXVsdC10aGVtZTpub3QoLm1kLW1lbnUtdG9vbGJhciksbWQtdG9vbGJhcjpub3QoLm1kLW1lbnUtdG9vbGJhcil7bWFyZ2luLXRvcDotNTBweDttYXJnaW4tYm90dG9tOjUwcHh9fS5jZW50ZXItYmxvY2t7dGV4dC1hbGlnbjpjZW50ZXJ9LmVsbGlwc2lzLW92ZXJmbG93LC5wcm9vZi1vZi1wbGF5LXNlbGVjdGVkLWl0ZW17d2lkdGg6MTAwJTt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246bGVmdDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5wcm9vZi1vZi1wbGF5LXRlbmFudC1uYW1lLW9wdGlvbnt3aWR0aDo3ZW07d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmNlbnRlcjtwb3NpdGl0aW9uOmFic29sdXRlO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LnByb29mLW9mLXBsYXktaG9yaXpvbnRhbC10b3AtYmFye2FsaWduLXNlbGY6Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7bWFyZ2luLXRvcDouNWVtO21hcmdpbi1ib3R0b206LjVlbTthbGlnbi1pdGVtczpjZW50ZXJ9Lm15LWZsZXgsLnByb29mLW9mLXBsYXktaG9yaXpvbnRhbC10b3AtYmFye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5iaWdnZXItYnV0dG9uc3twYWRkaW5nOi40ZW07bWluLXdpZHRoOjg4cHg7Ym9yZGVyLXJhZGl1czo1cHg7Zm9udC1zaXplOjE2cHg7dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lfS5hZG1pbi1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2FsaWduLWNvbnRlbnQ6ZmxleC1zdGFydH0ucmVnaXN0cmF0aW9uLWV2ZW50LWNvbHVtbntoZWlnaHQ6MTEwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246dG9wO292ZXJmbG93OnNjcm9sbH0ucHVsbC1jb21tYW5kLXNlbmQtYnV0dG9uLXVwe21hcmdpbi10b3A6LTJweH1oZWFkZXIuZHRwLWhlYWRlcntiYWNrZ3JvdW5kOiMxYjc1YmIhaW1wb3J0YW50fS5kdHAgZGl2LmR0cC1kYXRlLC5kdHAgZGl2LmR0cC10aW1le2JhY2tncm91bmQ6IzAwMH0uZHRwIC5kdHAtYWN0dWFsLW1lcmlkaWVuIGEuc2VsZWN0ZWQsLmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1ob3VyLnNlbGVjdGVkLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPmEuc2VsZWN0ZWR7YmFja2dyb3VuZDojMWI3NWJiIWltcG9ydGFudH0uZHRwIC5kdHAtaGFuZC5vbntiYWNrZ3JvdW5kOiMwMDB9LmRldmljZS1wcm9wZXJ0aWVzLXN3aXRjaHttYXJnaW4tdG9wOi0xcHh9Lm1kLWNvbnRlbnQtY29tbWFuZC1vdmVycmlkZSBtZC1jb250ZW50e292ZXJmbG93OnVuc2V0fS5wdWxsLXRvb2x0aXAtbGVmdHttYXJnaW4tbGVmdDotNTVweH0uY29tbWFuZC1idXR0b24tcmlnaHR7ZmxvYXQ6cmlnaHQ7ZmxleC1kaXJlY3Rpb246cm93LXJldmVyc2V9bWQtc2VsZWN0e2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjEwcHggMCA4cHg7cGFkZGluZy1ib3R0b206MnB4O3Bvc2l0aW9uOnJlbGF0aXZlO21pbi13aWR0aDoxODBweDttYXgtd2lkdGg6MTgwcHh9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuXG4vKioqLyA2NDQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERldmljZURldGFpbHNDb21tYW5kc0N0cmwuJGluamVjdCA9IFtcIiRsb2dcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCJEZXZpY2VzU2VydmljZVwiLCBcIkxvY2F0aW9uc1NlcnZpY2VcIiwgXCJDb21tYW5kc1NlcnZpY2VcIiwgXCJUaW1lem9uZXNTZXJ2aWNlXCIsIFwic3dlZXRcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCIkbWREaWFsb2dcIiwgXCJUb2FzdHNTZXJ2aWNlXCIsIFwiJHRpbWVvdXRcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkRldmljZURldGFpbHNDb21tYW5kc0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybCgkbG9nLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgU2Vzc2lvbnNTZXJ2aWNlLCBEZXZpY2VzU2VydmljZSwgTG9jYXRpb25zU2VydmljZSwgQ29tbWFuZHNTZXJ2aWNlLCBUaW1lem9uZXNTZXJ2aWNlLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCAkbWREaWFsb2csIFRvYXN0c1NlcnZpY2UsICR0aW1lb3V0KSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgdm0uZGV2aWNlS2V5ID0gJHN0YXRlUGFyYW1zLmRldmljZUtleTtcblx0ICB2bS5mcm9tRGV2aWNlcyA9ICRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCI7XG5cdCAgdm0uY3VycmVudERldmljZSA9IHt9O1xuXHQgIHZtLmNvbW1hbmRFdmVudHMgPSBbXTtcblx0XG5cdCAgdm0uZ2VuZXJhdGVMb2NhbEZyb21VVEMgPSBmdW5jdGlvbiAoVVRDVGltZSkge1xuXHQgICAgdmFyIGxvY2FsVGltZSA9IF9tb21lbnQyLmRlZmF1bHQudXRjKFVUQ1RpbWUpLnRvRGF0ZSgpO1xuXHQgICAgcmV0dXJuIGxvY2FsVGltZSA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KShsb2NhbFRpbWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbTpzcyBBJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVwbGFjZUNvbW1hbmRUaW1lID0gZnVuY3Rpb24gKGlzc3Vlcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGVhY2ggPSBpc3N1ZXNbaV07XG5cdCAgICAgIGlmIChlYWNoLnBvc3RlZFRpbWUpIHtcblx0ICAgICAgICBlYWNoLnBvc3RlZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnBvc3RlZFRpbWUpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChlYWNoLmNvbmZpcm1lZFRpbWUpIHtcblx0ICAgICAgICBlYWNoLmNvbmZpcm1lZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNvbmZpcm1lZFRpbWUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm47XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgY29tbWFuZEV2ZW50c1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRDb21tYW5kRXZlbnRzQnlLZXkoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBjb21tYW5kRXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLnJlcGxhY2VDb21tYW5kVGltZShkYXRhLmV2ZW50cyk7XG5cdCAgICAgIHZtLmV2ZW50X25leHRfY3Vyc29yID0gZGF0YS5uZXh0X2N1cnNvcjtcblx0ICAgICAgdm0uZXZlbnRfcHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuXHQgICAgICB2bS5jb21tYW5kRXZlbnRzID0gZGF0YS5ldmVudHM7XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEV2ZW50c1RpbWVPdXQgPSBmdW5jdGlvbiAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICByZXR1cm4gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKGRldmljZUtleSwgcHJldiwgbmV4dCk7XG5cdCAgICB9LCAxMDAwKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb21tYW5kSGlzdG9yeVNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlRXZlbnRDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCBudWxsLCB2bS5ldmVudF9uZXh0X2N1cnNvcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgdm0uZXZlbnRfcHJldl9jdXJzb3IsIG51bGwpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG5cdCAgICBkZXZpY2VQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkdldERldmljZVN1Y2Nlc3MocmVzcG9uc2UpO1xuXHQgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgdm0uY3VycmVudERldmljZSA9IHJlc3BvbnNlO1xuXHQgICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG5cdCAgICAgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSByZXNwb25zZS50aW1lem9uZTtcblx0ICAgIH1cblx0ICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB2bS50ZW5hbnRLZXkgPSB2bS5jdXJyZW50RGV2aWNlLnRlbmFudEtleTtcblx0ICAgIH1cblx0ICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG5cdCAgICAgIHZtLmJhY2tVcmwgPSAnLyMvZGV2aWNlcyc7XG5cdCAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIGRldmljZXMnO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UuaXNVbm1hbmFnZWREZXZpY2UgPT09IHRydWUpIHtcblx0ICAgICAgICB2bS5iYWNrVXJsID0gXCIvIy90ZW5hbnRzL1wiICsgdm0udGVuYW50S2V5ICsgXCIvdW5tYW5hZ2VkXCI7XG5cdCAgICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2bS5iYWNrVXJsID0gXCIvIy90ZW5hbnRzL1wiICsgdm0udGVuYW50S2V5ICsgXCIvbWFuYWdlZFwiO1xuXHQgICAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ub25HZXREZXZpY2VGYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBmZXRjaCB0aGUgZGV0YWlscyBmb3IgdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiTm8gZGV0YWlsIGZvciBkZXZpY2Vfa2V5ICNcIiArIHZtLmRldmljZUtleSArIFwiLiBFcnJvcjogXCIgKyByZXNwb25zZS5zdGF0dXMgKyBcIiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQ7XG5cdCAgICAkbG9nLmVycm9yKGVycm9yTWVzc2FnZSk7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLmNvbnRlbnREZWxldGUodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25SZXNldENvbnRlbnRTdWNjZXNzLCB2bS5vblJlc2V0Q29udGVudEZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzZXRDb250ZW50U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc2V0IGNvbnRlbnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldENvbnRlbnRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJSZXNldCBjb250ZW50IGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLmNvbnRlbnRVcGRhdGUodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVDb250ZW50U3VjY2Vzcywgdm0ub25VcGRhdGVDb250ZW50RmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVDb250ZW50U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVXBkYXRlQ29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIkNvbnRlbnQgdXBkYXRlIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgdXBkYXRlIGNvbnRlbnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldFBsYXllciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzZXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25SZXNldFBsYXllclN1Y2Nlc3MsIHZtLm9uUmVzZXRQbGF5ZXJGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc2V0UGxheWVyU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc2V0IHBsYXllciBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc2V0UGxheWVyRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiUmVzZXQgcGxheWVyIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzZXQgcGxheWVyIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucG93ZXJPbih2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBhbmVsT25TdWNjZXNzLCB2bS5vblBhbmVsT25GYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsT25TdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcGFuZWwgb24gY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25QYW5lbE9uRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiUGFuZWwgb24gY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsT2ZmID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5wb3dlck9mZih2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBhbmVsT2ZmU3VjY2Vzcywgdm0ub25QYW5lbE9mZkZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPZmZTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPZmZGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJQYW5lbCBvZmYgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvZmYgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnVwZGF0ZURldmljZSh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblVwZGF0ZURldmljZVN1Y2Nlc3MsIHZtLm9uVXBkYXRlRGV2aWNlRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVEZXZpY2VTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgdXBkYXRlIGRldmljZSBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZURldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlVwZGF0ZSBkZXZpY2UgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB1cGRhdGUgZGV2aWNlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVm9sdW1lQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS52b2x1bWUodm0uZGV2aWNlS2V5LCB2bS5jdXJyZW50RGV2aWNlLnZvbHVtZSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uVm9sdW1lQ2hhbmdlU3VjY2Vzcyh2bS5jdXJyZW50RGV2aWNlLnZvbHVtZSksIHZtLm9uVm9sdW1lQ2hhbmdlRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Wb2x1bWVDaGFuZ2VTdWNjZXNzID0gZnVuY3Rpb24gKGxldmVsKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgb2YgXCIgKyBsZXZlbCArIFwiIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblZvbHVtZUNoYW5nZUZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlZvbHVtZSBjaGFuZ2UgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ3VzdG9tQ29tbWFuZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UuY3VzdG9tKHZtLmRldmljZUtleSwgdm0uY3VycmVudERldmljZS5jdXN0b20pO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vbkN1c3RvbUNvbW1hbmRTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tKSwgdm0ub25DdXN0b21Db21tYW5kRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25DdXN0b21Db21tYW5kU3VjY2VzcyA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBjdXN0b20gY29tbWFuZCAnXCIgKyBjb21tYW5kICsgXCInIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkN1c3RvbUNvbW1hbmRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJDdXN0b20gY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBjdXN0b20gY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25EaWFnbm9zdGljc1RvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UudG9nZ2xlRGlhZ25vc3RpY3Modm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MsIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblRvZ2dsZURpYWdub3N0aWNzU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJEaWFnbm9zdGljcyBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzdGFydCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzdGFydCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblJlc3RhcnRTdWNjZXNzLCB2bS5vblJlc3RhcnRGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc3RhcnRTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcmVzdGFydCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc3RhcnRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJSZXN0YXJ0IGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzdGFydCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBvc3RMb2cgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvc3RMb2codm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Qb3N0TG9nU3VjY2Vzcywgdm0ub25Qb3N0TG9nRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Qb3N0TG9nU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHBvc3QgbG9nIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUG9zdExvZ0ZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlBvc3QgbG9nIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRldmljZURldGFpbHNDb21tYW5kc0N0cmwgPSBEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NDU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERldmljZURldGFpbHNDdHJsLiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiJHN0YXRlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiRGV2aWNlc1NlcnZpY2VcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkxvY2F0aW9uc1NlcnZpY2VcIiwgXCJDb21tYW5kc1NlcnZpY2VcIiwgXCJUaW1lem9uZXNTZXJ2aWNlXCIsIFwiSW50ZWdyYXRpb25FdmVudHNcIiwgXCJzd2VldFwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIiRtZERpYWxvZ1wiLCBcIlRvYXN0c1NlcnZpY2VcIiwgXCJEYXRlTWFuaXB1bGF0aW9uU2VydmljZVwiLCBcIiR0aW1lb3V0XCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5EZXZpY2VEZXRhaWxzQ3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NDYpO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcjIpO1xuXHRcblx0dmFyIF9zdHJpbmdpZnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1MSk7XG5cdFxuXHR2YXIgX3N0cmluZ2lmeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmdpZnkpO1xuXHRcblx0dmFyIF9zbGljZWRUb0FycmF5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNjUzKTtcblx0XG5cdHZhciBfc2xpY2VkVG9BcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zbGljZWRUb0FycmF5Mik7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gRGV2aWNlRGV0YWlsc0N0cmwoJGxvZywgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIFRlbmFudHNTZXJ2aWNlLCBMb2NhdGlvbnNTZXJ2aWNlLCBDb21tYW5kc1NlcnZpY2UsIFRpbWV6b25lc1NlcnZpY2UsIEludGVncmF0aW9uRXZlbnRzLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCAkbWREaWFsb2csIFRvYXN0c1NlcnZpY2UsIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLCAkdGltZW91dCkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHQgIHZtLmRldmljZUtleSA9ICRzdGF0ZVBhcmFtcy5kZXZpY2VLZXk7XG5cdCAgdm0uZnJvbURldmljZXMgPSAkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiO1xuXHQgIHZtLmN1cnJlbnREZXZpY2UgPSB7fTtcblx0ICB2bS5sb2NhdGlvbnMgPSBbXTtcblx0ICB2bS5jb21tYW5kRXZlbnRzID0gW107XG5cdCAgdm0uZGF5UmFuZ2UgPSAzMDtcblx0ICB2bS5pc3N1ZXMgPSBbXTtcblx0ICB2bS50aW1lem9uZXMgPSBbXTtcblx0ICB2bS5zZWxlY3RlZFRpbWV6b25lID0gdW5kZWZpbmVkO1xuXHRcblx0ICB2YXIgX0RhdGVNYW5pcHVsYXRpb25TZXJ2ID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuY3JlYXRlRm9ybWF0dGVkU3RhcnRBbmRFbmREYXRlRnJvbVRvZGF5KDMwKTtcblx0XG5cdCAgdmFyIF9EYXRlTWFuaXB1bGF0aW9uU2VydjIgPSAoMCwgX3NsaWNlZFRvQXJyYXkzLmRlZmF1bHQpKF9EYXRlTWFuaXB1bGF0aW9uU2VydiwgMik7XG5cdFxuXHQgIHZtLnN0YXJ0VGltZSA9IF9EYXRlTWFuaXB1bGF0aW9uU2VydjJbMF07XG5cdCAgdm0uZW5kVGltZSA9IF9EYXRlTWFuaXB1bGF0aW9uU2VydjJbMV07XG5cdFxuXHQgIHZtLmVucm9sbG1lbnRFdmVudHMgPSBbXTtcblx0ICB2bS5sb2dvQ2hhbmdlID0gZmFsc2U7XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBPdmVybGF5XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZhciBhdHRhY2hJbWFnZU5hbWVUb092ZXJsYXkgPSBmdW5jdGlvbiBhdHRhY2hJbWFnZU5hbWVUb092ZXJsYXkob3ZlcmxheXMpIHtcblx0ICAgIHZhciBtb2RpZmllZE92ZXJsYXlzID0gYW5ndWxhci5jb3B5KG92ZXJsYXlzKTtcblx0ICAgIGlmIChtb2RpZmllZE92ZXJsYXlzKSB7XG5cdCAgICAgIGRlbGV0ZSBtb2RpZmllZE92ZXJsYXlzW1wia2V5XCJdO1xuXHRcblx0ICAgICAgZm9yICh2YXIgayBpbiBtb2RpZmllZE92ZXJsYXlzKSB7XG5cdCAgICAgICAgaWYgKG1vZGlmaWVkT3ZlcmxheXNba11bXCJpbWFnZV9rZXlcIl0pIHtcblx0ICAgICAgICAgIG1vZGlmaWVkT3ZlcmxheXNba10ubmFtZSA9IG1vZGlmaWVkT3ZlcmxheXNba11bXCJpbWFnZV9rZXlcIl1bXCJuYW1lXCJdO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBtb2RpZmllZE92ZXJsYXlzW2tdLm5hbWUgPSBtb2RpZmllZE92ZXJsYXlzW2tdLnR5cGU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbW9kaWZpZWRPdmVybGF5cztcblx0ICB9O1xuXHRcblx0ICB2bS5hZGp1c3RPdmVybGF5U3RhdHVzID0gZnVuY3Rpb24gKHN0YXR1cykge1xuXHQgICAgdm0uY3VycmVudERldmljZS5vdmVybGF5X3N0YXR1cyA9IHN0YXR1cztcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBEZXZpY2VzU2VydmljZS5zYXZlKHZtLmN1cnJlbnREZXZpY2UpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcblx0ICAgICAgZGV2aWNlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICAgIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXNwb25zZSk7XG5cdCAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICAgIHJldHVybiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdE92ZXJsYXlTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBvdmVybGF5U2V0dGluZ3MgPSB2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXk7XG5cdCAgICBkZWxldGUgb3ZlcmxheVNldHRpbmdzLmtleTtcblx0ICAgIGRlbGV0ZSBvdmVybGF5U2V0dGluZ3MuZGV2aWNlX2tleTtcblx0XG5cdCAgICB2YXIgb3ZlcmxheVNldHRpbmdzQ29weSA9IHt9O1xuXHQgICAgZm9yICh2YXIgayBpbiBvdmVybGF5U2V0dGluZ3MpIHtcblx0ICAgICAgb3ZlcmxheVNldHRpbmdzQ29weVtrXSA9IEpTT04ucGFyc2Uob3ZlcmxheVNldHRpbmdzW2tdKTtcblx0ICAgIH1cblx0XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZU92ZXJsYXlTZXR0aW5ncyh2bS5kZXZpY2VLZXksIG92ZXJsYXlTZXR0aW5nc0NvcHkuYm90dG9tX2xlZnQsIG92ZXJsYXlTZXR0aW5nc0NvcHkuYm90dG9tX3JpZ2h0LCBvdmVybGF5U2V0dGluZ3NDb3B5LnRvcF9yaWdodCwgb3ZlcmxheVNldHRpbmdzQ29weS50b3BfbGVmdCk7XG5cdCAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdEltYWdlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLnNlbGVjdGVkTG9nbyAmJiB2bS5zZWxlY3RlZExvZ29bMF0pIHtcblx0ICAgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0ICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgdm0uc2VsZWN0ZWRMb2dvRmluYWwgPSB7fTtcblx0ICAgICAgICAgIHZtLnNlbGVjdGVkTG9nb0ZpbmFsLmFzU3RyaW5nID0gKDAsIF9zdHJpbmdpZnkyLmRlZmF1bHQpKHJlYWRlci5yZXN1bHQpO1xuXHQgICAgICAgICAgdm0uc2VsZWN0ZWRMb2dvRmluYWwubmFtZSA9IHZtLnNlbGVjdGVkTG9nb1swXS5sZkZpbGVOYW1lO1xuXHQgICAgICAgICAgdm0uc2VsZWN0ZWRMb2dvQ2hhbmdlID0gdHJ1ZTtcblx0XG5cdCAgICAgICAgICB2YXIgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNhdmVJbWFnZSh2bS50ZW5hbnRLZXksIHZtLnNlbGVjdGVkTG9nb0ZpbmFsLmFzU3RyaW5nLCB2bS5zZWxlY3RlZExvZ29GaW5hbC5uYW1lKTtcblx0ICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICAgICAgICAkdGltZW91dCh2bS5nZXRUZW5hbnRJbWFnZXMoKSwgMjAwMCk7XG5cdCAgICAgICAgICAgIHZtLmZpbGVBcGkucmVtb3ZlQWxsKCk7XG5cdCAgICAgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgdXBsb2FkZWQgeW91ciBpbWFnZS4nKTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZy4gWW91IG1heSBoYXZlIGFscmVhZHkgdXBsb2FkZWQgdGhpcyBpbWFnZS4nKTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQodm0uc2VsZWN0ZWRMb2dvWzBdLmxmRmlsZSk7XG5cdCAgICAgIH0pKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VGVuYW50SW1hZ2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uT1ZFUkxBWV9UWVBFUyA9IFt7IHR5cGU6IFwiVElNRVwiLCBuYW1lOiBcIlRJTUVcIiwgcmVhbE5hbWU6IFwiVElNRVwiLCBuZXc6IHRydWUsIGltYWdlX2tleTogbnVsbCB9LCB7IHR5cGU6IFwiREFURVwiLCBuYW1lOiBcIkRBVEVcIiwgbmV3OiB0cnVlLCByZWFsTmFtZTogXCJEQVRFXCIsIGltYWdlX2tleTogbnVsbCB9LCB7IHR5cGU6IFwiREFURVRJTUVcIiwgbmFtZTogXCJEQVRFVElNRVwiLCByZWFsTmFtZTogXCJEQVRFVElNRVwiLCBuZXc6IHRydWUsIGltYWdlX2tleTogbnVsbCB9XTtcblx0XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0SW1hZ2VzKHZtLnRlbmFudEtleSk7XG5cdCAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHQgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShyZXMpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgICB2YXIgdmFsdWUgPSBfc3RlcC52YWx1ZTtcblx0XG5cdCAgICAgICAgICB2YXIgbmV3VmFsdWUgPSB7XG5cdCAgICAgICAgICAgIHJlYWxOYW1lOiBhbmd1bGFyLmNvcHkodmFsdWUubmFtZSksXG5cdCAgICAgICAgICAgIG5hbWU6IFwiTE9HTzogXCIgKyB2YWx1ZS5uYW1lLFxuXHQgICAgICAgICAgICB0eXBlOiBcIkxPR09cIixcblx0ICAgICAgICAgICAgaW1hZ2Vfa2V5OiB2YWx1ZS5rZXlcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgICB2bS5PVkVSTEFZX1RZUEVTLnB1c2gobmV3VmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuXHQgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIDtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JTdGF0dXMoXCJTT01FVEhJTkcgV0VOVCBXUk9ORyBSRVRSSUVWSU5HIFlPVVIgSU1BR0VTXCIpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gRXZlbnRzIGFuZCBJc3N1ZXMgVGFiXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdFxuXHQgIHZtLnJlcGxhY2VJc3N1ZVRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZWFjaCA9IGlzc3Vlc1tpXTtcblx0ICAgICAgaWYgKGVhY2guY3JlYXRlZCkge1xuXHQgICAgICAgIGVhY2guY3JlYXRlZCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY3JlYXRlZCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGVhY2gudXBkYXRlZCkge1xuXHQgICAgICAgIGVhY2gudXBkYXRlZCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gudXBkYXRlZCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZWFjaCA9IGlzc3Vlc1tpXTtcblx0ICAgICAgaWYgKGVhY2gucG9zdGVkVGltZSkge1xuXHQgICAgICAgIGVhY2gucG9zdGVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gucG9zdGVkVGltZSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGVhY2guY29uZmlybWVkVGltZSkge1xuXHQgICAgICAgIGVhY2guY29uZmlybWVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY29uZmlybWVkVGltZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5sb2NhbEZyb21VdGMgPSBmdW5jdGlvbiAoZXZlbnRzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZWFjaCA9IGV2ZW50c1tpXTtcblx0ICAgICAgaWYgKGVhY2gudXRjVGltZXN0YW1wKSB7XG5cdCAgICAgICAgZWFjaC51dGNUaW1lc3RhbXAgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnV0Y1RpbWVzdGFtcCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybjtcblx0ICB9O1xuXHRcblx0ICB2bS5jb3B5RGV2aWNlS2V5ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnRGV2aWNlIGtleSBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmQnKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb3B5Q29ycmVsYXRpb25JZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnQ29ycmVsYXRpb24gSUQgY29waWVkIHRvIHlvdXIgY2xpcGJvYXJkJyk7XG5cdCAgfTtcblx0XG5cdCAgLy8gZXZlbnQgdGFiXG5cdCAgdm0uZ2V0SXNzdWVzID0gZnVuY3Rpb24gKGRldmljZSwgZXBvY2hTdGFydCwgZXBvY2hFbmQsIHByZXYsIG5leHQpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGlzc3Vlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRJc3N1ZXNCeUtleShkZXZpY2UsIGVwb2NoU3RhcnQsIGVwb2NoRW5kLCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBpc3N1ZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG5cdCAgICAgIHZtLmlzc3VlcyA9IGRhdGEuaXNzdWVzO1xuXHQgICAgICB2bS5wcmV2X2N1cnNvciA9IGRhdGEucHJldjtcblx0ICAgICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIC8vIGNvbW1hbmQgaGlzdG9yeSB0YWJcblx0ICB2bS5nZXRFdmVudHMgPSBmdW5jdGlvbiAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBjb21tYW5kRXZlbnRzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpO1xuXHQgICAgcmV0dXJuIGNvbW1hbmRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ucmVwbGFjZUNvbW1hbmRUaW1lKGRhdGEuZXZlbnRzKTtcblx0ICAgICAgdm0uZXZlbnRfbmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuXHQgICAgICB2bS5ldmVudF9wcmV2X2N1cnNvciA9IGRhdGEucHJldl9jdXJzb3I7XG5cdCAgICAgIHZtLmNvbW1hbmRFdmVudHMgPSBkYXRhLmV2ZW50cztcblx0ICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgLy8gZW5yb2xsbWVudCB0YWJcblx0ICB2bS5nZXRFbnJvbGxtZW50RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgZW5yb2xsbWVudEV2ZW50c1Byb21pc2UgPSBJbnRlZ3JhdGlvbkV2ZW50cy5nZXRFbnJvbGxtZW50RXZlbnRzKGRldmljZUtleSk7XG5cdCAgICByZXR1cm4gZW5yb2xsbWVudEV2ZW50c1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5lbnJvbGxtZW50RXZlbnRzID0gZGF0YTtcblx0ICAgICAgdm0ubG9jYWxGcm9tVXRjKGRhdGEpO1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuXHQgICAgaWYgKGZvcndhcmQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldElzc3Vlcyh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kLCBudWxsLCB2bS5uZXh0X2N1cnNvcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0SXNzdWVzKHZtLmRldmljZUtleSwgdm0uZXBvY2hTdGFydCwgdm0uZXBvY2hFbmQsIHZtLnByZXZfY3Vyc29yLCBudWxsKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5wYWdpbmF0ZUV2ZW50Q2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG5cdCAgICBpZiAoZm9yd2FyZCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgbnVsbCwgdm0uZXZlbnRfbmV4dF9jdXJzb3IpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIHZtLmV2ZW50X3ByZXZfY3Vyc29yLCBudWxsKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZXBvY2hTdGFydCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5zdGFydFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG5cdCAgICB2bS5lcG9jaEVuZCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5lbmRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuXHRcblx0ICAgIHZhciB0aW1lem9uZVByb21pc2UgPSBUaW1lem9uZXNTZXJ2aWNlLmdldEN1c3RvbVRpbWV6b25lcygpO1xuXHQgICAgdGltZXpvbmVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRpbWV6b25lcyA9IGRhdGE7XG5cdCAgICB9KTtcblx0XG5cdCAgICB2bS5wYW5lbE1vZGVscyA9IERldmljZXNTZXJ2aWNlLmdldFBhbmVsTW9kZWxzKCk7XG5cdCAgICB2bS5wYW5lbElucHV0cyA9IERldmljZXNTZXJ2aWNlLmdldFBhbmVsSW5wdXRzKCk7XG5cdFxuXHQgICAgdmFyIGRldmljZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VCeUtleSh2bS5kZXZpY2VLZXkpO1xuXHQgICAgZGV2aWNlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0ub25HZXREZXZpY2VTdWNjZXNzKHJlc3BvbnNlKTtcblx0ICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0ub25HZXREZXZpY2VGYWlsdXJlKHJlc3BvbnNlKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZtLmdldFRlbmFudEltYWdlcygpO1xuXHQgICAgdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSk7XG5cdCAgICB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCk7XG5cdCAgICByZXR1cm4gdm0uZ2V0RW5yb2xsbWVudEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgdm0uY3VycmVudERldmljZSA9IHJlc3BvbnNlO1xuXHQgICAgdm0uY3VycmVudERldmljZS5vdmVybGF5ID0gYXR0YWNoSW1hZ2VOYW1lVG9PdmVybGF5KHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheSk7XG5cdFxuXHQgICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG5cdCAgICAgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSByZXNwb25zZS50aW1lem9uZTtcblx0ICAgIH1cblx0ICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB2bS50ZW5hbnRLZXkgPSB2bS5jdXJyZW50RGV2aWNlLnRlbmFudEtleTtcblx0ICAgIH1cblx0ICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG5cdCAgICAgIHZtLmJhY2tVcmwgPSAnLyMvZGV2aWNlcyc7XG5cdCAgICAgIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gZGV2aWNlcyc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAodm0uY3VycmVudERldmljZS5pc1VubWFuYWdlZERldmljZSA9PT0gdHJ1ZSkge1xuXHQgICAgICAgIHZtLmJhY2tVcmwgPSBcIi8jL3RlbmFudHMvXCIgKyB2bS50ZW5hbnRLZXkgKyBcIi91bm1hbmFnZWRcIjtcblx0ICAgICAgICB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCB1bm1hbmFnZWQgZGV2aWNlcyc7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdm0uYmFja1VybCA9IFwiLyMvdGVuYW50cy9cIiArIHZtLnRlbmFudEtleSArIFwiL21hbmFnZWRcIjtcblx0ICAgICAgICB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGxvY2F0aW9uc1Byb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLmdldExvY2F0aW9uc0J5VGVuYW50S2V5KHZtLnRlbmFudEtleSk7XG5cdCAgICByZXR1cm4gbG9jYXRpb25zUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvY2F0aW9ucyA9IGRhdGE7XG5cdCAgICAgIHJldHVybiB2bS5zZXRTZWxlY3RlZE9wdGlvbnMoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uR2V0RGV2aWNlRmFpbHVyZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gZmV0Y2ggdGhlIGRldGFpbHMgZm9yIHRoaXMgZGV2aWNlIGF0IHRoaXMgdGltZS4nKTtcblx0ICAgIHZhciBlcnJvck1lc3NhZ2UgPSBcIk5vIGRldGFpbCBmb3IgZGV2aWNlX2tleSBcIiArIHZtLmRldmljZUtleSArIFwiLiBFcnJvcjogXCIgKyByZXNwb25zZS5zdGF0dXMgKyBcIiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQ7XG5cdCAgICAkbG9nLmVycm9yKGVycm9yTWVzc2FnZSk7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uc2V0U2VsZWN0ZWRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCA9PT0gbnVsbCkge1xuXHQgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPSB2bS5wYW5lbE1vZGVsc1swXTtcblx0ICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbElucHV0ID0gdm0ucGFuZWxJbnB1dHNbMF07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLnBhbmVsTW9kZWxzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHBhbmVsTW9kZWwgPSB2bS5wYW5lbE1vZGVsc1tpXTtcblx0ICAgICAgICBpZiAocGFuZWxNb2RlbC5pZCA9PT0gdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsKSB7XG5cdCAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPSBwYW5lbE1vZGVsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZtLnBhbmVsSW5wdXRzLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgdmFyIHBhbmVsSW5wdXQgPSB2bS5wYW5lbElucHV0c1tqXTtcblx0ICAgICAgICB2YXIgaXNQYXJlbnQgPSBwYW5lbElucHV0LnBhcmVudElkID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQ7XG5cdCAgICAgICAgaWYgKGlzUGFyZW50ICYmIHBhbmVsSW5wdXQuaWQudG9Mb3dlckNhc2UoKSA9PT0gdm0uY3VycmVudERldmljZS5wYW5lbElucHV0KSB7XG5cdCAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQgPSBwYW5lbElucHV0O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkgIT09IG51bGwpIHtcblx0ICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB2bS5sb2NhdGlvbnMubGVuZ3RoOyBrKyspIHtcblx0ICAgICAgICB2YXIgbG9jYXRpb24gPSB2bS5sb2NhdGlvbnNba107XG5cdCAgICAgICAgaWYgKGxvY2F0aW9uLmtleSA9PT0gdm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSkge1xuXHQgICAgICAgICAgdm0uY3VycmVudERldmljZS5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIFByb3BlcnRpZXMgVGFiXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZtLm9uU2F2ZURldmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24gIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uLmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkgPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uLmtleTtcblx0ICAgIH1cblx0ICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09ICdOb25lJykge1xuXHQgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWxOdW1iZXIgPSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQ7XG5cdCAgICB9XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkICE9PSB1bmRlZmluZWQgJiYgdm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkICE9PSAnTm9uZScpIHtcblx0ICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbFNlcmlhbElucHV0ID0gdm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkLnRvTG93ZXJDYXNlKCk7XG5cdCAgICB9XG5cdCAgICB2bS5jdXJyZW50RGV2aWNlLnRpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcblx0ICAgIHZhciBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RGV2aWNlKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzRGV2aWNlU2F2ZSwgdm0ub25GYWlsdXJlRGV2aWNlU2F2ZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzRGV2aWNlU2F2ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25GYWlsdXJlRGV2aWNlU2F2ZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDkpIHtcblx0ICAgICAgJGxvZy5pbmZvKFwiRmFpbHVyZSBzYXZpbmcgZGV2aWNlLiBDdXN0b21lciBkaXNwbGF5IGNvZGUgYWxyZWFkeSBleGlzdHMgZm9yIHRlbmFudDogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUaGlzIGN1c3RvbWVyIGRpc3BsYXkgY29kZSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhpcyB0ZW5hbnQuIFBsZWFzZSBjaG9vc2UgYW5vdGhlci4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICRsb2cuZXJyb3IoXCJGYWlsdXJlIHNhdmluZyBkZXZpY2U6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIHNhdmUgeW91ciB1cGRhdGVzIHRvIHRoaXMgZGV2aWNlIGF0IHRoaXMgdGltZS4nKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsU2xlZXAgPSBmdW5jdGlvbiAoY29tbWFuZCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5wYW5lbFNsZWVwKHZtLmRldmljZUtleSwgY29tbWFuZCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxTbGVlcFN1Y2Nlc3MsIHZtLm9uUGFuZWxTbGVlcEZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxTbGVlcFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSB0b2dnbGVkIHRoZSBwYW5lbCBzbGVlcCBhdHRyaWJ1dGUuIFRoZSBwbGF5ZXIgc2hvdWxkIGFkanVzdCB0byB0aGVzZSBjaGFuZ2VzIHdpdGhpbiAxNSBtaW51dGVzLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsU2xlZXBGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byB0b2dnbGUgdGhlIHBhbmVsIHNsZWVwIGF0dHJpYnV0ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY29uZmlybURldmljZURlbGV0ZSA9IGZ1bmN0aW9uIChldmVudCwga2V5KSB7XG5cdCAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKHtcblx0ICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmUgdG8gZGVsZXRlIHRoaXMgZGV2aWNlPycsXG5cdCAgICAgIHRleHRDb250ZW50OiAnUGxlYXNlIHJlbWVtYmVyLCB5b3UgTVVTVCByZW1vdmUgdGhpcyBkZXZpY2UgZnJvbSBDb250ZW50IE1hbmFnZXIgYmVmb3JlIGRlbGV0aW5nIGl0IGZyb20gUHJvdmlzaW9uaW5nLicsXG5cdCAgICAgIHRhcmdldEV2ZW50OiBldmVudCxcblx0ICAgICAgb2s6ICdEZWxldGUnLFxuXHQgICAgICBjYW5jZWw6ICdDYW5jZWwnXG5cdCAgICB9KTtcblx0ICAgIHZhciBzaG93UHJvbWlzZSA9ICRtZERpYWxvZy5zaG93KGNvbmZpcm0pO1xuXHQgICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiBzdWNjZXNzKCkge1xuXHQgICAgICByZXR1cm4gdm0ub25Db25maXJtRGVsZXRlKGtleSk7XG5cdCAgICB9O1xuXHQgICAgdmFyIGZhaWx1cmUgPSBmdW5jdGlvbiBmYWlsdXJlKCkge1xuXHQgICAgICByZXR1cm4gdm0ub25Db25maXJtQ2FuY2VsKCk7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIHNob3dQcm9taXNlLnRoZW4oc3VjY2VzcywgZmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Db25maXJtRGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuXHQgICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiBzdWNjZXNzKCkge1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHByb2Nlc3NlZCB5b3VyIGRlbGV0ZSByZXF1ZXN0LicpO1xuXHQgICAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG5cdCAgICB9O1xuXHQgICAgdmFyIGZhaWx1cmUgPSBmdW5jdGlvbiBmYWlsdXJlKGVycm9yKSB7XG5cdCAgICAgIHZhciBmcmllbmRseU1lc3NhZ2UgPSAnV2Ugd2VyZSB1bmFibGUgdG8gY29tcGxldGUgeW91ciBkZWxldGUgcmVxdWVzdCBhdCB0aGlzIHRpbWUuJztcblx0ICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChmcmllbmRseU1lc3NhZ2UpO1xuXHQgICAgICByZXR1cm4gJGxvZy5lcnJvcihcIkRlbGV0ZSBkZXZpY2UgZmFpbHVyZSBmb3IgZGV2aWNlX2tleSBcIiArIGtleSArIFwiOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICB9O1xuXHQgICAgdmFyIGRlbGV0ZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5kZWxldGUoa2V5KTtcblx0ICAgIHJldHVybiBkZWxldGVQcm9taXNlLnRoZW4oc3VjY2VzcywgZmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Db25maXJtQ2FuY2VsID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0luZm9Ub2FzdCgnV2UgY2FuY2VsZWQgeW91ciBkZWxldGUgcmVxdWVzdC4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblByb29mT2ZQbGF5TG9nZ2luZ0NoZWNrID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UucHJvb2ZPZlBsYXlMb2dnaW5nKSB7XG5cdCAgICAgIHZhciBub0xvY2F0aW9uID0gdm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSA9PT0gbnVsbDtcblx0ICAgICAgdmFyIG5vRGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheUNvZGUgPT09IG51bGw7XG5cdCAgICAgIGlmIChub0xvY2F0aW9uKSB7XG5cdCAgICAgICAgc3dlZXQuc2hvdygnT29wcy4uLicsIFwiWW91IG11c3QgaGF2ZSBhIExvY2F0aW9uIHRvIGVuYWJsZSBQcm9vZiBvZiBwbGF5LlwiLCAnZXJyb3InKTtcblx0ICAgICAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcgPSBmYWxzZTtcblx0ICAgICAgfSBlbHNlIGlmIChub0Rpc3BsYXlDb2RlKSB7XG5cdCAgICAgICAgc3dlZXQuc2hvdygnT29wcy4uLicsIFwiWW91IG11c3QgaGF2ZSBhIERpc3BsYXkgY29kZSB0byBlbmFibGUgUHJvb2Ygb2YgcGxheS5cIiwgJ2Vycm9yJyk7XG5cdCAgICAgICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UucHJvb2ZPZlBsYXlMb2dnaW5nID0gZmFsc2U7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLm9uU2F2ZURldmljZSgpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0ub25TYXZlRGV2aWNlKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVMb2NhdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB2bS5vblNhdmVEZXZpY2UoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5hdXRvR2VuZXJhdGVDdXN0b21lckRpc3BsYXlDb2RlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIG5ld0Rpc3BsYXlDb2RlID0gJyc7XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5jdXN0b21lckRpc3BsYXlOYW1lKSB7XG5cdCAgICAgIG5ld0Rpc3BsYXlDb2RlID0gdm0uY3VycmVudERldmljZS5jdXN0b21lckRpc3BsYXlOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgIG5ld0Rpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuXHQgICAgICBuZXdEaXNwbGF5Q29kZSA9IG5ld0Rpc3BsYXlDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5Q29kZSA9IG5ld0Rpc3BsYXlDb2RlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmxvZ2dseUZvclVzZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgdXNlckRvbWFpbiA9IFNlc3Npb25zU2VydmljZS5nZXRVc2VyRW1haWwoKS5zcGxpdChcIkBcIilbMV07XG5cdCAgICByZXR1cm4gdXNlckRvbWFpbiA9PT0gXCJkZW1vLmFnb3N0by5jb21cIiB8fCB1c2VyRG9tYWluID09PSBcImFnb3N0by5jb21cIjtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNsaWNrUmVmcmVzaEJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdm0uc3RhcnRUaW1lID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KHZtLnN0YXJ0VGltZSk7XG5cdCAgICB2bS5lbmRUaW1lID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KHZtLmVuZFRpbWUpO1xuXHQgICAgdm0uZXBvY2hTdGFydCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5zdGFydFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG5cdCAgICB2bS5lcG9jaEVuZCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5lbmRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuXHQgICAgdm0ucHJldl9jdXJzb3IgPSBudWxsO1xuXHQgICAgdm0ubmV4dF9jdXJzb3IgPSBudWxsO1xuXHQgICAgdmFyIGlzc3Vlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRJc3N1ZXNCeUtleSh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kLCB2bS5wcmV2X2N1cnNvciwgdm0ubmV4dF9jdXJzb3IpO1xuXHQgICAgcmV0dXJuIGlzc3Vlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0ub25SZWZyZXNoSXNzdWVzU3VjY2VzcyhkYXRhKTtcblx0ICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgICByZXR1cm4gdm0ub25SZWZyZXNoSXNzdWVzRmFpbHVyZShlcnJvcik7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlZnJlc2hJc3N1ZXNTdWNjZXNzID0gZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgIHZtLnJlcGxhY2VJc3N1ZVRpbWUoZGF0YS5pc3N1ZXMpO1xuXHQgICAgdm0uaXNzdWVzID0gZGF0YS5pc3N1ZXM7XG5cdCAgICB2bS5wcmV2X2N1cnNvciA9IGRhdGEucHJldjtcblx0ICAgIHZtLm5leHRfY3Vyc29yID0gZGF0YS5uZXh0O1xuXHQgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVmcmVzaElzc3Vlc0ZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgVG9hc3RzU2VydmljZS5zaG93SW5mb1RvYXN0KCdXZSB3ZXJlIHVuYWJsZSB0byByZWZyZXNoIHRoZSBkZXZpY2UgaXNzdWVzIGxpc3QgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgcmV0dXJuICRsb2cuZXJyb3IoXCJGYWlsdXJlIHRvIHJlZnJlc2ggZGV2aWNlIGlzc3VlczogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5EZXZpY2VEZXRhaWxzQ3RybCA9IERldmljZURldGFpbHNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERldmljZXNMaXN0aW5nQ3RybC4kaW5qZWN0ID0gW1wiJHN0YXRlUGFyYW1zXCIsIFwiJGxvZ1wiLCBcIkRldmljZXNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwic3dlZXRcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkRldmljZXNMaXN0aW5nQ3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NDYpO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIERldmljZXNMaXN0aW5nQ3RybCgkc3RhdGVQYXJhbXMsICRsb2csIERldmljZXNTZXJ2aWNlLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBzd2VldCkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5kaXN0cmlidXRvcktleSA9IHVuZGVmaW5lZDtcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gTWFuYWdlZFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS5kZXZpY2VzID0gW107XG5cdCAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcblx0ICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiU2VyaWFsIE51bWJlclwiO1xuXHQgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgIHZtLmdjbWlkRGV2aWNlcyA9IHt9O1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gVW5tYW5hZ2VkXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID0gXCJNQUNcIjtcblx0ICB2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzID0ge307XG5cdCAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gbnVsbDtcblx0ICB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgdm0udW5tYW5hZ2VkRGV2aWNlcyA9IFtdO1xuXHQgIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSB7fTtcblx0ICB2bS51bm1hbmFnZWRHQ01pZERldmljZXMgPSB7fTtcblx0ICB2bS5kZXZpY2VzVG9NYXRjaE9uVW5tYW5hZ2VkID0gW107XG5cdCAgdm0uZGV2aWNlc1RvTWF0Y2hPbk1hbmFnZWQgPSBbXTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHRcblx0ICB2bS5yZWZyZXNoTWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaFVubWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS51bm1hbmFnZWREZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgICB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5jaGFuZ2VSYWRpbyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQpIHtcblx0ICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgdm0udW5tYW5hZ2VkU2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgICB2bS51bm1hbmFnZWREaXNhYmxlZCA9IHRydWU7XG5cdCAgICAgIHZtLnVubWFuYWdlZFNlcmlhbERldmljZXMgPSB7fTtcblx0ICAgICAgdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IHt9O1xuXHQgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uVW5tYW5hZ2VkID0gW107XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgICAgICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgICAgIHZtLmRldmljZXNUb01hdGNoT25NYW5hZ2VkID0gW107XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uZWRpdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKGl0ZW0sIHRydWUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnByZXBhcmVGb3JFZGl0VmlldyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHNlYXJjaFRleHQpIHtcblx0ICAgIHZhciBtYWMgPSB2b2lkIDAsXG5cdCAgICAgICAgc2VyaWFsID0gdm9pZCAwLFxuXHQgICAgICAgIGdjbWlkID0gdm9pZCAwO1xuXHQgICAgaWYgKHVubWFuYWdlZCkge1xuXHQgICAgICBtYWMgPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9PT0gXCJNQUNcIjtcblx0ICAgICAgc2VyaWFsID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuXHQgICAgICBnY21pZCA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID09PSBcIkdDTSBJRFwiO1xuXHQgICAgICBpZiAobWFjKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmVkaXRJdGVtKHZtLnVubWFuYWdlZE1hY0RldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuXHQgICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbWFjID0gdm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiTUFDXCI7XG5cdCAgICAgIHNlcmlhbCA9IHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICAgICAgZ2NtaWQgPSB2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIjtcblx0ICAgICAgaWYgKG1hYykge1xuXHQgICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS5tYWNEZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfSBlbHNlIGlmIChzZXJpYWwpIHtcblx0ICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0uc2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmVkaXRJdGVtKHZtLmdjbWlkRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIGlzTWF0Y2gpIHtcblx0ICAgIGlmICghdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZtLmRpc2FibGVkID0gIWlzTWF0Y2g7XG5cdCAgICAgIHZtLmRpc2FibGVkQnV0dG9uTG9hZGluZyA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSAhaXNNYXRjaDtcblx0ICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWRCdXR0b25Mb2FkaW5nID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNSZXNvdXJjZVZhbGlkID0gZnVuY3Rpb24gKHVubWFuYWdlZCwgcmVzb3VyY2UpIHtcblx0ICAgIHZhciBkZXZpY2VzVG9NYXRjaE9uID0gdW5tYW5hZ2VkID8gdm0uZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCA6IHZtLmRldmljZXNUb01hdGNoT25NYW5hZ2VkO1xuXHQgICAgdmFyIGZvdW5kTWF0Y2ggPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHQgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKGRldmljZXNUb01hdGNoT24pLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTtcblx0XG5cdCAgICAgICAgaWYgKHJlc291cmNlID09PSBpdGVtKSB7XG5cdCAgICAgICAgICBmb3VuZE1hdGNoID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdCAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0ICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZtLmNvbnRyb2xPcGVuQnV0dG9uKHVubWFuYWdlZCwgZm91bmRNYXRjaCk7XG5cdCAgICByZXR1cm4gZm91bmRNYXRjaDtcblx0ICB9O1xuXHRcblx0ICB2bS5zZWFyY2hEZXZpY2VzID0gZnVuY3Rpb24gKHVubWFuYWdlZCwgcGFydGlhbCkge1xuXHQgICAgdmFyIGJ1dHRvbiA9IHZvaWQgMDtcblx0ICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgYnV0dG9uID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b247XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBidXR0b24gPSB2bS5zZWxlY3RlZEJ1dHRvbjtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgYnlUZW5hbnQgPSBmYWxzZTtcblx0ICAgIHZhciB0ZW5hbnRLZXkgPSBudWxsO1xuXHRcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdmFyIGRldmljZXNUb1JldHVybiA9IHZvaWQgMDtcblx0ICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcblx0ICAgICAgICB2YXIgZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG5cdCAgICAgICAgaWYgKGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcblx0ICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgICAgICAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcblx0ICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgICAgICAgdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2bS5tYWNEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgICAgICAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZtLmdjbWlkRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uVW5tYW5hZ2VkID0gZGV2aWNlc1RvUmV0dXJuO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uTWFuYWdlZCA9IGRldmljZXNUb1JldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGRldmljZXNUb1JldHVybjtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKGtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgZGV2aWNlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VzQnlEaXN0cmlidXRvcihrZXksIHByZXYsIG5leHQpO1xuXHQgICAgcmV0dXJuIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZtLmRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuXHQgICAgICB2bS5kZXZpY2VzTmV4dCA9IHJlc3BvbnNlLm5leHRfY3Vyc29yO1xuXHQgICAgICB2bS5kZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hTdWNjZXNzKCk7XG5cdCAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoRmFpbHVyZShyZXNwb25zZSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKGtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgdW5tYW5hZ2VkRGV2aWNlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRVbm1hbmFnZWREZXZpY2VzQnlEaXN0cmlidXRvcihrZXksIHByZXYsIG5leHQpO1xuXHQgICAgcmV0dXJuIHVubWFuYWdlZERldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZtLnVubWFuYWdlZERldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuXHQgICAgICB2bS51bm1hbmFnZWREZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuXHQgICAgICB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCA9IHJlc3BvbnNlLm5leHRfY3Vyc29yO1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hTdWNjZXNzKCk7XG5cdCAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoRmFpbHVyZShyZXNwb25zZSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG5cdCAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcblx0ICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS51bm1hbmFnZWREZXZpY2VzUHJldiwgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEZldGNoU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRGZXRjaEZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiVW5hYmxlIHRvIGZldGNoIGRldmljZXMuIEVycm9yOiBcIiArIHJlc3BvbnNlLnN0YXR1cyArIFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCArIFwiLlwiO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkLCBtYW5hZ2VkKSB7XG5cdCAgICBpZiAoZm9yd2FyZCkge1xuXHQgICAgICBpZiAobWFuYWdlZCkge1xuXHQgICAgICAgIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCFtYW5hZ2VkKSB7XG5cdCAgICAgICAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgbnVsbCwgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAobWFuYWdlZCkge1xuXHQgICAgICAgIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS5kZXZpY2VzUHJldiwgbnVsbCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCFtYW5hZ2VkKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCBudWxsKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLkRldmljZXNMaXN0aW5nQ3RybCA9IERldmljZXNMaXN0aW5nQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjU4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRBZG1pbkN0cmwuJGluamVjdCA9IFtcIkFkbWluU2VydmljZVwiLCBcIlNlc3Npb25zU2VydmljZVwiLCBcIlRvYXN0c1NlcnZpY2VcIiwgXCIkbWREaWFsb2dcIiwgXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gQWRtaW5DdHJsKEFkbWluU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlLCBUb2FzdHNTZXJ2aWNlLCAkbWREaWFsb2csIERpc3RyaWJ1dG9yc1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdFxuXHQgIHZtLmdldEFsbERpc3RyaWJ1dG9ycyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmxvYWRpbmdBbGxEaXN0cmlidXRvcnMgPSB0cnVlO1xuXHQgICAgdmFyIGdldEFsbERpc3RyaWJ1dG9yc1Byb21pc2UgPSBBZG1pblNlcnZpY2UuZ2V0QWxsRGlzdHJpYnV0b3JzKCk7XG5cdCAgICByZXR1cm4gZ2V0QWxsRGlzdHJpYnV0b3JzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmdBbGxEaXN0cmlidXRvcnMgPSBmYWxzZTtcblx0ICAgICAgcmV0dXJuIHZtLmFsbERpc3RyaWJ1dG9ycyA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5hZGRVc2VyVG9EaXN0cmlidXRvciA9IGZ1bmN0aW9uIChldiwgdXNlckVtYWlsLCBkaXN0cmlidXRvckFkbWluLCB3aGljaERpc3RyaWJ1dG9yLCBmb3JtKSB7XG5cdCAgICBpZiAoIWRpc3RyaWJ1dG9yQWRtaW4pIHtcblx0ICAgICAgZGlzdHJpYnV0b3JBZG1pbiA9IGZhbHNlO1xuXHQgICAgfVxuXHQgICAgdmFyIHdpdGhPcldpdGhvdXQgPSBkaXN0cmlidXRvckFkbWluID8gXCJ3aXRoXCIgOiBcIndpdGhvdXRcIjtcblx0XG5cdCAgICAvLyBubyBvcHRpb24gdG8gc2VsZWN0IGRpc3RyaWJ1dG9yIGlzIGdpdmVuIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgb3B0aW9uXG5cdCAgICBpZiAoIXdoaWNoRGlzdHJpYnV0b3IpIHtcblx0ICAgICAgd2hpY2hEaXN0cmlidXRvciA9IHZtLmRpc3RyaWJ1dG9yc0FzQWRtaW5bMF07XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSh7XG5cdCAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlPycsXG5cdCAgICAgIHRleHRDb250ZW50OiB1c2VyRW1haWwgKyBcIiB3aWxsIGJlIGFkZGVkIHRvIFwiICsgd2hpY2hEaXN0cmlidXRvciArIFwiXFxuICAgICAgICBcIiArIHdpdGhPcldpdGhvdXQgKyBcIiBhZG1pbmlzdHJhdG9yIHByaXZpbGVnZXNcIixcblx0ICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuXHQgICAgICBvazogJ09mIGNvdXJzZSEnLFxuXHQgICAgICBjYW5jZWw6ICdPb3BzLCBuZXZlcm1pbmQuJ1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlID0gQWRtaW5TZXJ2aWNlLmFkZFVzZXJUb0Rpc3RyaWJ1dG9yKHVzZXJFbWFpbCwgd2hpY2hEaXN0cmlidXRvciwgZGlzdHJpYnV0b3JBZG1pbik7XG5cdCAgICAgIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGRhdGEubWVzc2FnZSk7XG5cdCAgICAgICAgdm0udXNlciA9IHt9O1xuXHQgICAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XG5cdCAgICAgICAgZm9ybS4kc2V0VW50b3VjaGVkKCk7XG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgcmV0dXJuIHZtLmdldFVzZXJzT2ZEaXN0cmlidXRvcigpO1xuXHQgICAgICAgIH0sIDIwMDApO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBhZGRVc2VyVG9EaXN0cmlidXRvclByb21pc2UuY2F0Y2goZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChkYXRhLmRhdGEubWVzc2FnZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ubWFrZURpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGV2LCBkaXN0cmlidXRvck5hbWUsIGFkbWluRW1haWwsIGZvcm0pIHtcblx0ICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oe1xuXHQgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLFxuXHQgICAgICB0ZXh0Q29udGVudDogXCJJZiB5b3UgcHJvY2VlZCwgXCIgKyBkaXN0cmlidXRvck5hbWUgKyBcIiB3aWxsIGJlIGNyZWF0ZWQuXCIsXG5cdCAgICAgIHRhcmdldEV2ZW50OiBldixcblx0ICAgICAgYXJpYUxhYmVsOiAnTHVja3kgZGF5Jyxcblx0ICAgICAgb2s6ICdZZWFoIScsXG5cdCAgICAgIGNhbmNlbDogJ0ZvcmdldCBpdC4nXG5cdCAgICB9KTtcblx0ICAgIHJldHVybiAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIG1ha2VEaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UubWFrZURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yTmFtZSwgYWRtaW5FbWFpbCk7XG5cdCAgICAgIG1ha2VEaXN0cmlidXRvclByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIHZtLmRpc3RyaWJ1dG9yID0ge307XG5cdCAgICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcblx0ICAgICAgICBmb3JtLiRzZXRVbnRvdWNoZWQoKTtcblx0ICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoZGF0YS5tZXNzYWdlKTtcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gdm0uYWxsRGlzdHJpYnV0b3JzID0gdm0uZ2V0QWxsRGlzdHJpYnV0b3JzKCk7XG5cdCAgICAgICAgfSwgMjAwMCk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIG1ha2VEaXN0cmlidXRvclByb21pc2UuY2F0Y2goZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChkYXRhLmRhdGEubWVzc2FnZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0ubG9hZGluZ1VzZXJzT2ZEaXN0cmlidXRvciA9IHRydWU7XG5cdCAgICB2YXIgY3VycmVudERpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuXHQgICAgdmFyIHVzZXJzb2ZEaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UuZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKGN1cnJlbnREaXN0cmlidXRvcktleSk7XG5cdCAgICByZXR1cm4gdXNlcnNvZkRpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmdVc2Vyc09mRGlzdHJpYnV0b3IgPSBmYWxzZTtcblx0ICAgICAgcmV0dXJuIHZtLnVzZXJzT2ZEaXN0cmlidXRvciA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5zd2l0Y2hEaXN0cmlidXRvciA9IGZ1bmN0aW9uIChkaXN0cmlidXRvcikge1xuXHQgICAgRGlzdHJpYnV0b3JzU2VydmljZS5zd2l0Y2hEaXN0cmlidXRvcihkaXN0cmlidXRvcik7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiRGlzdHJpYnV0b3IgXCIgKyBkaXN0cmlidXRvci5uYW1lICsgXCIgc2VsZWN0ZWQhXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IoKTtcblx0ICAgIHZtLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuXHQgICAgdm0uaXNBZG1pbiA9IFNlc3Npb25zU2VydmljZS5nZXRJc0FkbWluKCk7XG5cdCAgICB2bS5kaXN0cmlidXRvcnNBc0FkbWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKTtcblx0ICAgIHZtLmN1cnJlbnREaXN0cmlidXRvck5hbWUgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpO1xuXHRcblx0ICAgIGlmICh2bS5pc0FkbWluKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuQWRtaW5DdHJsID0gQWRtaW5DdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NTk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRBdXRoZW50aWNhdGlvbkN0cmwuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRsb2dcIiwgXCIkc3RhdGVcIiwgXCIkdGltZW91dFwiLCBcImlkZW50aXR5XCIsIFwic3dlZXRcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJQcm9vZlBsYXlTZXJ2aWNlXCIsIFwiRGV2aWNlc1NlcnZpY2VcIiwgXCJUZW5hbnRzU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIEF1dGhlbnRpY2F0aW9uQ3RybCgkc2NvcGUsICRsb2csICRzdGF0ZSwgJHRpbWVvdXQsIGlkZW50aXR5LCBzd2VldCwgU2Vzc2lvbnNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsIFByb29mUGxheVNlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBUZW5hbnRzU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0XG5cdCAgdm0ub25Hb29nbGVQbHVzU2lnbkluU3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCwgYXV0aFJlc3VsdCkge1xuXHQgICAgaWYgKCF2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCkge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIH1cblx0ICAgIFNlc3Npb25zU2VydmljZS5yZW1vdmVVc2VySW5mbygpO1xuXHQgICAgdmFyIHByb21pc2UgPSBTZXNzaW9uc1NlcnZpY2UubG9naW4oYXV0aFJlc3VsdCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLmxvZ2luU3VjY2Vzcywgdm0ubG9naW5GYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkdvb2dsZVBsdXNTaWduSW5GYWlsdXJlID0gZnVuY3Rpb24gKGV2ZW50LCBhdXRoUmVzdWx0KSB7XG5cdCAgICBpZiAodm0uZ29vZ2xlUGx1c1NpZ25JbkJ1dHRvbkNsaWNrZWQpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBhdXRoZW50aWNhdGUgdG8gR29vZ2xlKy4nLCAnZXJyb3InKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICAkc2NvcGUuJG9uKCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tc3VjY2VzcycsIHZtLm9uR29vZ2xlUGx1c1NpZ25JblN1Y2Nlc3MpO1xuXHQgICRzY29wZS4kb24oJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1mYWlsdXJlJywgdm0ub25Hb29nbGVQbHVzU2lnbkluRmFpbHVyZSk7XG5cdFxuXHQgIHZtLmluaXRpYWxpemVTaWduSW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5jbGllbnRJZCA9IGlkZW50aXR5Lk9BVVRIX0NMSUVOVF9JRDtcblx0ICAgIHZtLnN0YXRlID0gaWRlbnRpdHkuU1RBVEU7XG5cdCAgICByZXR1cm4gdm0uZ29vZ2xlUGx1c1NpZ25JbkJ1dHRvbkNsaWNrZWQgPSBmYWxzZTtcblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplU2lnbk91dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFNlc3Npb25zU2VydmljZS5yZW1vdmVVc2VySW5mbygpO1xuXHQgICAgcmV0dXJuICR0aW1lb3V0KHZtLnByb2NlZWRUb1NpZ25lZE91dCwgNTApO1xuXHQgIH07XG5cdFxuXHQgIHZtLmxvZ2luU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdkaXN0cmlidXRvcl9zZWxlY3Rpb24nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5sb2dpbkZhaWx1cmUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBhdXRoZW50aWNhdGUgdG8gU3Rvcm1wYXRoLicsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnByb2NlZWRUb1NpZ25lZE91dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ3NpZ25lZF9vdXQnKTtcblx0ICB9O1xuXHRcblx0ICB2bS5wcm9jZWVkVG9TaWduSW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdzaWduX2luJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25DbGlja0dvb2dsZVBsdXNTaWduSW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCA9IHRydWU7XG5cdCAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkF1dGhlbnRpY2F0aW9uQ3RybCA9IEF1dGhlbnRpY2F0aW9uQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjYwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0QXBwQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJG1kU2lkZW5hdlwiLCBcIiRzdGF0ZVwiLCBcIiR3aW5kb3dcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkFwcENvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2xvZGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oNjYxKTtcblx0XG5cdHZhciBfbG9kYXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZGFzaCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gQXBwQ29udHJvbGxlcigkbWRTaWRlbmF2LCAkc3RhdGUsICR3aW5kb3csIFNlc3Npb25zU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0XG5cdCAgdm0uY3VycmVudERpc3RyaWJ1dGVySW5EaXN0cmlidXRlckFkbWluTGlzdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBjdXJyZW50RGlzdHJpYnV0b3JOYW1lID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKTtcblx0ICAgIHZhciBkaXN0cmlidXRvcnNBc0FkbWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKTtcblx0ICAgIHJldHVybiAoMCwgX2xvZGFzaDIuZGVmYXVsdCkoZGlzdHJpYnV0b3JzQXNBZG1pbiwgY3VycmVudERpc3RyaWJ1dG9yTmFtZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0SWRlbnRpdHkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBrZXk6IFNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCksXG5cdCAgICAgIGVtYWlsOiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCksXG5cdCAgICAgIGFkbWluOiBTZXNzaW9uc1NlcnZpY2UuZ2V0SXNBZG1pbigpLFxuXHQgICAgICBkaXN0cmlidXRvcl9hZG1pbjogU2Vzc2lvbnNTZXJ2aWNlLmdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKSxcblx0ICAgICAgYWRtaW5fb2ZfY3VycmVudF9kaXN0cmlidXRvcjogdm0uY3VycmVudERpc3RyaWJ1dGVySW5EaXN0cmlidXRlckFkbWluTGlzdCgpLFxuXHQgICAgICBkaXN0cmlidXRvcktleTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLFxuXHQgICAgICBkaXN0cmlidXRvck5hbWU6IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKClcblx0ICAgIH07XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNDdXJyZW50VVJMRGlzdHJpYnV0b3JTZWxlY3RvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB0ZXN0ID0gJHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNlYXJjaCgvZGlzdHJpYnV0b3Jfc2VsZWN0aW9uLyk7XG5cdCAgICB2YXIgcmVzdWx0ID0gdGVzdCA+PSAwO1xuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHZtLmdldElkZW50aXR5KCk7XG5cdCAgfTtcblx0XG5cdCAgdm0udG9nZ2xlU2lkZW5hdiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAkbWRTaWRlbmF2KCdsZWZ0JykudG9nZ2xlKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ29UbyA9IGZ1bmN0aW9uIChzdGF0ZU5hbWUsIGlkKSB7XG5cdCAgICAkc3RhdGUuZ28oc3RhdGVOYW1lLCB7IGlkOiBpZCB9KTtcblx0ICAgIGlmICgkbWRTaWRlbmF2KCdsZWZ0JykuaXNPcGVuKCkpIHtcblx0ICAgICAgcmV0dXJuICRtZFNpZGVuYXYoJ2xlZnQnKS5jbG9zZSgpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUoKTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkFwcENvbnRyb2xsZXIgPSBBcHBDb250cm9sbGVyO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVcIiwgXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwoJHN0YXRlLCBEaXN0cmlidXRvcnNTZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uZGlzdHJpYnV0b3JzID0gW107XG5cdCAgdm0uY3VycmVudERpc3RyaWJ1dG9yID0gdW5kZWZpbmVkO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0ubG9lYWRpbmcgPSB0cnVlO1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yc1Byb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmZldGNoQWxsQnlVc2VyKFNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCkpO1xuXHQgICAgcmV0dXJuIGRpc3RyaWJ1dG9yc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5kaXN0cmlidXRvcnMgPSBkYXRhO1xuXHQgICAgICBpZiAodm0uZGlzdHJpYnV0b3JzLmxlbmd0aCA9PT0gMSkge1xuXHQgICAgICAgIHJldHVybiB2bS5zZWxlY3REaXN0cmlidXRvcih2bS5kaXN0cmlidXRvcnNbMF0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2bS5sb2FkaW5nID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnNlbGVjdERpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGRpc3RyaWJ1dG9yKSB7XG5cdCAgICByZXR1cm4gRGlzdHJpYnV0b3JzU2VydmljZS5zd2l0Y2hEaXN0cmlidXRvcihkaXN0cmlidXRvcik7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsID0gRGlzdHJpYnV0b3JTZWxlY3RvckN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0RGlzdHJpYnV0b3JzQ3RybC4kaW5qZWN0ID0gW1wiJHN0YXRlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gRGlzdHJpYnV0b3JzQ3RybCgkc3RhdGUpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uZGlzdHJpYnV0b3JzID0gW107XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5EaXN0cmlidXRvcnNDdHJsID0gRGlzdHJpYnV0b3JzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjk1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHREb21haW5zQ3RybC4kaW5qZWN0ID0gW1wiJHN0YXRlXCIsIFwiRG9tYWluc1NlcnZpY2VcIiwgXCJzd2VldFwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIERvbWFpbnNDdHJsKCRzdGF0ZSwgRG9tYWluc1NlcnZpY2UsIHN3ZWV0KSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmRvbWFpbnMgPSBbXTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBwcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZmV0Y2hBbGxEb21haW5zKCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS5kb21haW5zID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2VkaXREb21haW4nLCB7IGRvbWFpbktleTogaXRlbS5rZXkgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZGVsZXRlSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjaygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSBEb21haW5zU2VydmljZS5kZWxldGUoaXRlbSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB2bS5pbml0aWFsaXplKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KHtcblx0ICAgICAgdGl0bGU6IFwiQXJlIHlvdSBzdXJlP1wiLFxuXHQgICAgICB0ZXh0OiBcIlRoaXMgd2lsbCBwZXJtYW5lbnRseSByZW1vdmUgdGhlIGRvbWFpbiBmcm9tIHRoZSBkaXN0cmlidXRvciBhbmQgZGlzY29ubmVjdCBmcm9tIHRlbmFudHMuXCIsXG5cdCAgICAgIHR5cGU6IFwid2FybmluZ1wiLFxuXHQgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuXHQgICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiI0RENkI1NVwiLFxuXHQgICAgICBjb25maXJtQnV0dG9uVGV4dDogXCJZZXMsIHJlbW92ZSB0aGUgZG9tYWluIVwiLFxuXHQgICAgICBjbG9zZU9uQ29uZmlybTogdHJ1ZVxuXHQgICAgfSwgY2FsbGJhY2spO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5Eb21haW5zQ3RybCA9IERvbWFpbnNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHREb21haW5EZXRhaWxzQ3RybC4kaW5qZWN0ID0gW1wiJGxvZ1wiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIkRvbWFpbnNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwic3dlZXRcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJUb2FzdHNTZXJ2aWNlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gRG9tYWluRGV0YWlsc0N0cmwoJGxvZywgJHN0YXRlUGFyYW1zLCBEb21haW5zU2VydmljZSwgJHN0YXRlLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBUb2FzdHNTZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uY3VycmVudERvbWFpbiA9IHtcblx0ICAgIGtleTogdW5kZWZpbmVkLFxuXHQgICAgbmFtZTogdW5kZWZpbmVkLFxuXHQgICAgaW1wZXJzb25hdGlvbl9hZG1pbl9lbWFpbF9hZGRyZXNzOiB1bmRlZmluZWQsXG5cdCAgICBkaXN0cmlidXRvcl9rZXk6IHVuZGVmaW5lZCxcblx0ICAgIGFjdGl2ZTogdHJ1ZVxuXHQgIH07XG5cdCAgdm0uZGV2aWNlc0FjY2VzcyA9IGZhbHNlO1xuXHQgIHZtLm9yZ1VuaXRzQWNjZXNzID0gZmFsc2U7XG5cdCAgdm0uY3VycmVudERvbWFpbnMgPSBbXTtcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLmRvbWFpbktleTtcblx0XG5cdCAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICB2YXIgZG9tYWluUHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmdldERvbWFpbkJ5S2V5KCRzdGF0ZVBhcmFtcy5kb21haW5LZXkpO1xuXHQgICAgZG9tYWluUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50RG9tYWluID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICB2bS5jdXJyZW50RG9tYWluLmRpc3RyaWJ1dG9yX2tleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcblx0ICB9XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uZWRpdE1vZGUpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICAgIHZhciBjb25uZWN0aXZpdHlQcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZ2V0RGlyZWN0b3J5QXBpQ29ubmVjdGl2aXR5SW5mb3JtYXRpb24oJHN0YXRlUGFyYW1zLmRvbWFpbktleSk7XG5cdCAgICAgIHJldHVybiBjb25uZWN0aXZpdHlQcm9taXNlLnRoZW4odm0ub25TdWNjZXNzRGV0ZXJtaW5pbmdDb25uZWN0aXZpdHksIHZtLm9uRmFpbHVyZURldGVybWluaW5nQ29ubmVjdGl2aXR5KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NEZXRlcm1pbmluZ0Nvbm5lY3Rpdml0eSA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICB2bS5kZXZpY2VzQWNjZXNzID0gZGF0YS5kZXZpY2VzQWNjZXNzO1xuXHQgICAgdm0ub3JnVW5pdHNBY2Nlc3MgPSBkYXRhLm9yZ1VuaXRzQWNjZXNzO1xuXHQgICAgdm0uZGV2aWNlc0FjY2Vzc0V4Y2VwdGlvbiA9IGRhdGEuZGV2aWNlc0FjY2Vzc0V4Y2VwdGlvbjtcblx0ICAgIHZtLm9yZ1VuaXRzQWNjZXNzRXhjZXB0aW9uID0gZGF0YS5vcmdVbml0c0FjY2Vzc0V4Y2VwdGlvbjtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRmFpbHVyZURldGVybWluaW5nQ29ubmVjdGl2aXR5ID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoJ0ZhaWx1cmUgZGV0ZXJtaW5pbmcgZGlyZWN0b3J5IEFQSSBjb25uZWN0aXZpdHk6ICcgKyBlcnJvci5zdGF0dXMgKyAnICcgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSBkZXRlcm1pbmUgeW91ciBkZXZpY2UgY29ubmVjdGl2aXR5IGF0IHRoaXMgdGltZS4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblNhdmVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gRG9tYWluc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RG9tYWluKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzU2F2ZURvbWFpbiwgdm0ub25GYWlsdXJlU2F2ZURvbWFpbik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzU2F2ZURvbWFpbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25GYWlsdXJlU2F2ZURvbWFpbiA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDkpIHtcblx0ICAgICAgJGxvZy5pbmZvKCdGYWlsdXJlIHNhdmluZyBkb21haW4uIERvbWFpbiBhbHJlYWR5IGV4aXN0czogJyArIGVycm9yLnN0YXR1cyArICcgJyArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUaGlzIGRvbWFpbiBuYW1lIGFscmVhZHkgZXhpc3QuIFBsZWFzZSBlbnRlciBhIHVuaXF1ZSBkb21haW4gbmFtZS4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICRsb2cuZXJyb3IoJ0ZhaWx1cmUgc2F2aW5nIGRvbWFpbjogJyArIGVycm9yLnN0YXR1cyArICcgJyArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gc2F2ZSB5b3VyIHVwZGF0ZXMgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2VkaXREb21haW4nLCB7IGRvbWFpbktleTogaXRlbS5rZXkgfSk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRvbWFpbkRldGFpbHNDdHJsID0gRG9tYWluRGV0YWlsc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwuJGluamVjdCA9IFtcIlByb29mUGxheVNlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Mik7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuXHQgICAgZ3JvdXAxOiAnQnkgRGV2aWNlJyxcblx0ICAgIGdyb3VwMjogJ1N1bW1hcml6ZWQnLFxuXHQgICAgc2VsZWN0aW9uOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG5cdCAgICBzdGFydDogbnVsbCxcblx0ICAgIGVuZDogbnVsbFxuXHQgIH07XG5cdFxuXHQgIHZtLmZvcm1WYWxpZGl0eSA9IHtcblx0ICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuXHQgICAgZW5kX2RhdGU6IGZhbHNlLFxuXHQgICAgbG9jYXRpb25zOiBmYWxzZVxuXHQgIH07XG5cdFxuXHQgIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG5cdCAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zID0gW107XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxMb2NhdGlvbnModm0udGVuYW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgdm0ubG9jYXRpb25zID0gZGF0YS5kYXRhLmxvY2F0aW9ucztcblx0ICAgICAgaWYgKHZtLmxvY2F0aW9ucy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaExvY2F0aW9ucyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuXHQgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMgPSBbXTtcblx0ICAgIHZtLmluaXRpYWxpemUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5hZGRUb1NlbGVjdGVkTG9jYXRpb25zID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIGlmICh2bS5pc0xvY2F0aW9uVmFsaWQoc2VhcmNoVGV4dCkpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zLnB1c2goc2VhcmNoVGV4dCk7XG5cdCAgICAgIHZhciBpbmRleCA9IHZtLmxvY2F0aW9ucy5pbmRleE9mKHNlYXJjaFRleHQpO1xuXHQgICAgICB2bS5sb2NhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgfVxuXHQgICAgdm0uYXJlTG9jYXRpb25zVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucXVlcnlTZWFyY2ggPSBmdW5jdGlvbiAobG9jYXRpb25zLCBzZWFyY2hUZXh0KSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChsb2NhdGlvbnMsIHNlYXJjaFRleHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0xvY2F0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5sb2NhdGlvbnMpKSB7XG5cdCAgICAgIGlmICghX19pbl9fKHNlYXJjaFRleHQsIHZtLnNlbGVjdGVkX2xvY2F0aW9ucykpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5hcmVMb2NhdGlvbnNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5sb2NhdGlvbnMgPSB2bS5zZWxlY3RlZF9sb2NhdGlvbnMubGVuZ3RoID4gMDtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gZW5kX2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWRMb2NhdGlvbiA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICB2YXIgaW5kZXggPSB2bS5zZWxlY3RlZF9sb2NhdGlvbnMuaW5kZXhPZihpdGVtKTtcblx0ICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgdm0ubG9jYXRpb25zLnB1c2goaXRlbSk7XG5cdCAgICB2bS5hcmVMb2NhdGlvbnNWYWxpZCgpO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0Rpc2FibGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkubG9jYXRpb25zICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG5cdCAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgIHJldHVybiB2bS5maW5hbCA9IHtcblx0ICAgICAgICBzdGFydF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuXHQgICAgICAgIGVuZF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcblx0ICAgICAgICBsb2NhdGlvbnM6IHZtLnNlbGVjdGVkX2xvY2F0aW9ucyxcblx0ICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG5cdFxuXHQgICAgICB9O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uZmluYWwudHlwZSA9PT0gXCIxXCIpIHtcblx0ICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwubG9jYXRpb25zLCB2bS50ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5sb2NhdGlvbnMsIHZtLnRlbmFudCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0udGVuYW50cyA9IG51bGw7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG5cdCAgICAgICRzdGF0ZS5nbygncHJvb2ZEZXRhaWwnLCB7XG5cdCAgICAgICAgdGVuYW50OiB0ZW5hbnRcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJyArIHRlbmFudCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgaXMgYWxyZWFkeSBzZXQgdG8gJyArIHRlbmFudCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcblx0ICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG5cdH1cblx0XG5cdGV4cG9ydHMuUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybCA9IFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybC4kaW5qZWN0ID0gW1wiUHJvb2ZQbGF5U2VydmljZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIiRzdGF0ZVwiLCBcIlRvYXN0c1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzIpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdFxuXHQgIHZtLnJhZGlvQnV0dG9uQ2hvaWNlcyA9IHtcblx0ICAgIGdyb3VwMTogJ0J5IERhdGUnLFxuXHQgICAgZ3JvdXAyOiAnU3VtbWFyaXplZCcsXG5cdCAgICBzZWxlY3Rpb246IG51bGxcblx0ICB9O1xuXHRcblx0ICB2bS5kYXRlVGltZVNlbGVjdGlvbiA9IHtcblx0ICAgIHN0YXJ0OiBudWxsLFxuXHQgICAgZW5kOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZm9ybVZhbGlkaXR5ID0ge1xuXHQgICAgc3RhcnRfZGF0ZTogZmFsc2UsXG5cdCAgICBlbmRfZGF0ZTogZmFsc2UsXG5cdCAgICBkaXNwbGF5czogZmFsc2Vcblx0ICB9O1xuXHRcblx0ICB2bS50ZW5hbnQgPSAkc3RhdGVQYXJhbXMudGVuYW50O1xuXHQgIHZtLm5vX2NhY2hlID0gdHJ1ZTtcblx0ICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuXHQgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzID0gW107XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxEaXNwbGF5cyh2bS50ZW5hbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuXHQgICAgICB2bS5kaXNwbGF5cyA9IGRhdGEuZGF0YS5kZXZpY2VzO1xuXHQgICAgICBpZiAodm0uZGlzcGxheXMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJlZnJlc2hEaXNwbGF5cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuXHQgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZWxlY3RlZF9kaXNwbGF5cyA9IFtdO1xuXHQgICAgdm0uaW5pdGlhbGl6ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmFkZFRvU2VsZWN0ZWREaXNwbGF5cyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAodm0uaXNEaXNwbGF5VmFsaWQoc2VhcmNoVGV4dCkpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRfZGlzcGxheXMucHVzaChzZWFyY2hUZXh0KTtcblx0ICAgICAgdmFyIGluZGV4ID0gdm0uZGlzcGxheXMuaW5kZXhPZihzZWFyY2hUZXh0KTtcblx0ICAgICAgdm0uZGlzcGxheXMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgfVxuXHQgICAgdm0uYXJlRGlzcGxheXNWYWxpZCgpO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5xdWVyeVNlYXJjaCA9IGZ1bmN0aW9uIChkaXNwbGF5cywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2goZGlzcGxheXMsIHNlYXJjaFRleHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0Rpc3BsYXlWYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAoX19pbl9fKHNlYXJjaFRleHQsIHZtLmRpc3BsYXlzKSkge1xuXHQgICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9kaXNwbGF5cykpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5hcmVEaXNwbGF5c1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmRpc3BsYXlzID0gdm0uc2VsZWN0ZWRfZGlzcGxheXMubGVuZ3RoID4gMDtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gZW5kX2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWREaXNwbGF5ID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHZhciBpbmRleCA9IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLmluZGV4T2YoaXRlbSk7XG5cdCAgICB2bS5zZWxlY3RlZF9kaXNwbGF5cy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgdm0uZGlzcGxheXMucHVzaChpdGVtKTtcblx0ICAgIHZtLmFyZURpc3BsYXlzVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmRpc3BsYXlzICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG5cdCAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgIHJldHVybiB2bS5maW5hbCA9IHtcblx0ICAgICAgICBzdGFydF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuXHQgICAgICAgIGVuZF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcblx0ICAgICAgICBkaXNwbGF5czogdm0uc2VsZWN0ZWRfZGlzcGxheXMsXG5cdCAgICAgICAgdHlwZTogdm0ucmFkaW9CdXR0b25DaG9pY2VzLnNlbGVjdGlvblxuXHRcblx0ICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG5cdCAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzQnlEYXRlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwuZGlzcGxheXMsIHZtLnRlbmFudCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5kaXNwbGF5cywgdm0udGVuYW50KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS50ZW5hbnRzID0gbnVsbDtcblx0ICB2bS5jdXJyZW50VGVuYW50ID0gdm0udGVuYW50O1xuXHRcblx0ICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgaWYgKHRlbmFudCAhPT0gdm0uY3VycmVudFRlbmFudCkge1xuXHQgICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuXHQgICAgICAgIHRlbmFudDogdGVuYW50XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuXHQgIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSkgPj0gMDtcblx0fVxuXHRcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwgPSBQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwuJGluamVjdCA9IFtcIlByb29mUGxheVNlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Mik7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuXHQgICAgZ3JvdXAxOiAnQnkgRGV2aWNlJyxcblx0ICAgIGdyb3VwMjogJ0J5IERhdGUnLFxuXHQgICAgc2VsZWN0aW9uOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG5cdCAgICBzdGFydDogbnVsbCxcblx0ICAgIGVuZDogbnVsbFxuXHQgIH07XG5cdFxuXHQgIHZtLmZvcm1WYWxpZGl0eSA9IHtcblx0ICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuXHQgICAgZW5kX2RhdGU6IGZhbHNlLFxuXHQgICAgcmVzb3VyY2VzOiBmYWxzZVxuXHQgIH07XG5cdFxuXHQgIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG5cdCAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzID0gW107XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxSZXNvdXJjZXModm0udGVuYW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgdm0uZnVsbF9yZXNvdXJjZV9tYXAgPSBkYXRhLmRhdGEucmVzb3VyY2VzO1xuXHQgICAgICB2bS5yZXNvdXJjZXMgPSBbXTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmRhdGEucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHJlc291cmNlID0gZGF0YS5kYXRhLnJlc291cmNlc1tpXTtcblx0ICAgICAgICB2bS5yZXNvdXJjZXMucHVzaChyZXNvdXJjZS5yZXNvdXJjZV9uYW1lKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHZtLnJlc291cmNlcy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaFJlc291cmNlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuXHQgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZWxlY3RlZF9yZXNvdXJjZXMgPSBbXTtcblx0ICAgIHZtLmluaXRpYWxpemUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5hZGRUb1NlbGVjdGVkUmVzb3VyY2VzID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIGlmICh2bS5pc1Jlc291cmNlVmFsaWQoc2VhcmNoVGV4dCkpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLnB1c2goc2VhcmNoVGV4dCk7XG5cdCAgICAgIHZhciBpbmRleCA9IHZtLnJlc291cmNlcy5pbmRleE9mKHNlYXJjaFRleHQpO1xuXHQgICAgICB2bS5yZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgfVxuXHQgICAgdm0uYXJlUmVzb3VyY2VzVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucXVlcnlTZWFyY2ggPSBmdW5jdGlvbiAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5yZXNvdXJjZXMpKSB7XG5cdCAgICAgIGlmICghX19pbl9fKHNlYXJjaFRleHQsIHZtLnNlbGVjdGVkX3Jlc291cmNlcykpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5hcmVSZXNvdXJjZXNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5yZXNvdXJjZXMgPSB2bS5zZWxlY3RlZF9yZXNvdXJjZXMubGVuZ3RoID4gMDtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gZW5kX2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWRSZXNvdXJjZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICB2YXIgaW5kZXggPSB2bS5zZWxlY3RlZF9yZXNvdXJjZXMuaW5kZXhPZihpdGVtKTtcblx0ICAgIHZtLnNlbGVjdGVkX3Jlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgdm0ucmVzb3VyY2VzLnB1c2goaXRlbSk7XG5cdCAgICB2bS5hcmVSZXNvdXJjZXNWYWxpZCgpO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0Rpc2FibGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkucmVzb3VyY2VzICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG5cdCAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgIHJldHVybiB2bS5maW5hbCA9IHtcblx0ICAgICAgICBzdGFydF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuXHQgICAgICAgIGVuZF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcblx0ICAgICAgICByZXNvdXJjZXM6IHZtLnNlbGVjdGVkX3Jlc291cmNlcyxcblx0ICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG5cdCAgICAgIH07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciByZXNvdXJjZXNfYXNfaWRzID0gW107XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLmZpbmFsLnJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgaXRlbSA9IHZtLmZpbmFsLnJlc291cmNlc1tpXTtcblx0ICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2bS5mdWxsX3Jlc291cmNlX21hcC5sZW5ndGg7IGorKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gdm0uZnVsbF9yZXNvdXJjZV9tYXBbal07XG5cdCAgICAgICAgaWYgKGVhY2hbXCJyZXNvdXJjZV9uYW1lXCJdID09PSBpdGVtKSB7XG5cdCAgICAgICAgICByZXNvdXJjZXNfYXNfaWRzLnB1c2goZWFjaFtcInJlc291cmNlX2lkZW50aWZpZXJcIl0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuXHQgICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEZXZpY2Uodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCByZXNvdXJjZXNfYXNfaWRzLCB2bS50ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHJlc291cmNlc19hc19pZHMsIHZtLnRlbmFudCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0udGVuYW50cyA9IG51bGw7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG5cdCAgICAgICRzdGF0ZS5nbygncHJvb2ZEZXRhaWwnLCB7XG5cdCAgICAgICAgdGVuYW50OiB0ZW5hbnRcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIHNldCB0byAnICsgdGVuYW50KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBpcyBhbHJlYWR5IHNldCB0byAnICsgdGVuYW50KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuXHQgIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSkgPj0gMDtcblx0fVxuXHRcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsID0gUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzAwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRQcm9vZk9mUGxheUN0cmwuJGluamVjdCA9IFtcIlByb29mUGxheVNlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gUHJvb2ZPZlBsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnJlc291cmNlID0geyB0aXRsZTogXCJSZXNvdXJjZSBSZXBvcnRcIiB9O1xuXHQgIHZtLmxvY2F0aW9uID0geyB0aXRsZTogXCJMb2NhdGlvbiBSZXBvcnRcIiB9O1xuXHQgIHZtLmRpc3BsYXkgPSB7IHRpdGxlOiBcIkRpc3BsYXkgUmVwb3J0XCIgfTtcblx0XG5cdCAgdm0uY2hvc2VuX3RlbmFudCA9IG51bGw7XG5cdCAgdm0udGVuYW50cyA9IG51bGw7XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICBpZiAodGVuYW50KSB7XG5cdCAgICAgIHZtLmNob3Nlbl90ZW5hbnQgPSB0ZW5hbnQ7XG5cdCAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuXHQgICAgICAgIHRlbmFudDogdm0uY2hvc2VuX3RlbmFudFxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5yZWZyZXNoVGVuYW50cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnRlbmFudHMgPSBudWxsO1xuXHQgICAgdmFyIHVybCA9IFByb29mUGxheVNlcnZpY2UubWFrZUhUVFBVUkwoXCIvcmV0cmlldmVfbXlfdGVuYW50c1wiLCAnJyk7XG5cdCAgICB2bS5pbml0aWFsaXplKCk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcblx0ICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG5cdH1cblx0XG5cdGV4cG9ydHMuUHJvb2ZPZlBsYXlDdHJsID0gUHJvb2ZPZlBsYXlDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQWRtaW5TZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIEFkbWluU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cdCAgZnVuY3Rpb24gQWRtaW5TZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEFkbWluU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLlVTRVJfU0VSVklDRSA9IFwidXNlcnNcIjtcblx0ICAgIHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSA9IFwiZGlzdHJpYnV0b3JzXCI7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShBZG1pblNlcnZpY2UsIFt7XG5cdCAgICBrZXk6IFwibWFrZURpc3RyaWJ1dG9yXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yLCBhZG1pbl9lbWFpbCkge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICBkaXN0cmlidXRvcjogZGlzdHJpYnV0b3IsXG5cdCAgICAgICAgYWRtaW5fZW1haWw6IGFkbWluX2VtYWlsXG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgJy9hcGkvdjEvZGlzdHJpYnV0b3JzJykuY3VzdG9tUE9TVChwYXlsb2FkKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImFkZFVzZXJUb0Rpc3RyaWJ1dG9yXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWRkVXNlclRvRGlzdHJpYnV0b3IodXNlckVtYWlsLCBkaXN0cmlidXRvciwgZGlzdHJpYnV0b3JBZG1pbikge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICB1c2VyX2VtYWlsOiB1c2VyRW1haWwsXG5cdCAgICAgICAgZGlzdHJpYnV0b3I6IGRpc3RyaWJ1dG9yLFxuXHQgICAgICAgIGRpc3RyaWJ1dG9yX2FkbWluOiBkaXN0cmlidXRvckFkbWluXG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuVVNFUl9TRVJWSUNFLCBcIi9hcGkvdjEvdXNlcnNcIikuY3VzdG9tUE9TVChwYXlsb2FkKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImdldFVzZXJzT2ZEaXN0cmlidXRvclwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVzZXJzT2ZEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgXCIvYXBpL3YxL2FuYWx5dGljcy9kaXN0cmlidXRvcnMvXCIgKyBkaXN0cmlidXRvcktleSArIFwiL3VzZXJzXCIpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZ2V0QWxsRGlzdHJpYnV0b3JzXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsRGlzdHJpYnV0b3JzKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgXCIvYXBpL3YxL2Rpc3RyaWJ1dG9yc1wiKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBBZG1pblNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEFkbWluU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBBdXRob3JpemF0aW9uU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBBdXRob3JpemF0aW9uU2VydmljZS4kaW5qZWN0ID0gW1wiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiJHFcIl07XG5cdCAgZnVuY3Rpb24gQXV0aG9yaXphdGlvblNlcnZpY2UoU2Vzc2lvbnNTZXJ2aWNlLCAkcSkge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBBdXRob3JpemF0aW9uU2VydmljZSk7XG5cdCAgICB0aGlzLiRxID0gJHE7XG5cdCAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEF1dGhvcml6YXRpb25TZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnYXV0aGVudGljYXRlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYXV0aGVudGljYXRlZCgpIHtcblx0ICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICB2YXIgdXNlcktleSA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKTtcblx0ICAgICAgaWYgKHVzZXJLZXkpIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlZmVycmVkLnJlamVjdChbXCJhdXRoRXJyb3JcIiwgJ3NpZ25faW4nXSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnbm90QXV0aGVudGljYXRlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbm90QXV0aGVudGljYXRlZCgpIHtcblx0ICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICB2YXIgdXNlcktleSA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKTtcblx0ICAgICAgaWYgKCF1c2VyS2V5KSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdob21lJ10pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2lzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4oKSB7XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIGFkbWluID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0SXNBZG1pbigpO1xuXHQgICAgICB2YXIgZGlzdHJpYnV0b3JBZG1pbiA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKTtcblx0ICAgICAgdmFyIGhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluID0gZmFsc2U7XG5cdCAgICAgIGlmIChkaXN0cmlidXRvckFkbWluICYmIGRpc3RyaWJ1dG9yQWRtaW4ubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIGhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgdXNlcktleSA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKTtcblx0ICAgICAgaWYgKCF1c2VyS2V5KSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVqZWN0KCdzaWduX2luJyk7XG5cdCAgICAgIH0gZWxzZSBpZiAoIWFkbWluICYmICFoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbikge1xuXHQgICAgICAgIGRlZmVycmVkLnJlamVjdChbXCJhdXRoRXJyb3JcIiwgJ2hvbWUnXSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBBdXRob3JpemF0aW9uU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDb21tYW5kc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgQ29tbWFuZHNTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblx0ICBmdW5jdGlvbiBDb21tYW5kc1NlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ29tbWFuZHNTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuU0VSVklDRV9OQU1FID0gJ2RldmljZXMnO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ29tbWFuZHNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAncGFuZWxTbGVlcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcGFuZWxTbGVlcChrZXksIF9wYW5lbFNsZWVwKSB7XG5cdCAgICAgIC8qKiBwYW5lbFNsZWVwOiBib29sZWFuICoqL1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICBwYW5lbFNsZWVwOiBfcGFuZWxTbGVlcFxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL3BhbmVsLXNsZWVwJykuY3VzdG9tUFVUKHBheWxvYWQpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZXNldCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9yZXNldCcpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29udGVudERlbGV0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29udGVudERlbGV0ZShrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL2NvbnRlbnQtZGVsZXRlJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb250ZW50VXBkYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb250ZW50VXBkYXRlKGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvY29udGVudC11cGRhdGUnKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3VwZGF0ZURldmljZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlRGV2aWNlKGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvcmVmcmVzaC1kZXZpY2UtcmVwcmVzZW50YXRpb24nKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3RvZ2dsZURpYWdub3N0aWNzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVEaWFnbm9zdGljcyhrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL2RpYWdub3N0aWNzJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZXN0YXJ0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZXN0YXJ0KGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvcmVzdGFydCcpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncG9zdExvZycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcG9zdExvZyhrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL3Bvc3QtbG9nJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdwb3dlck9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwb3dlck9uKGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvcG93ZXItb24nKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Bvd2VyT2ZmJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwb3dlck9mZihrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL3Bvd2VyLW9mZicpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAndm9sdW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB2b2x1bWUoa2V5LCBfdm9sdW1lKSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0ge1xuXHQgICAgICAgIHZvbHVtZTogX3ZvbHVtZVxuXHQgICAgICB9O1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSkuY3VzdG9tUE9TVChwYXlsb2FkLCAnY29tbWFuZHMvdm9sdW1lJyk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2N1c3RvbScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY3VzdG9tKGtleSwgY29tbWFuZCkge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICBjb21tYW5kOiBjb21tYW5kXG5cdCAgICAgIH07XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5KS5jdXN0b21QT1NUKHBheWxvYWQsICdjb21tYW5kcy9jdXN0b20nKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBDb21tYW5kc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENvbW1hbmRzU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Mik7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkoZGF0ZSkge1xuXHQgICAgICBpZiAoIV9tb21lbnQyLmRlZmF1bHQuaXNNb21lbnQoZGF0ZSkpIHtcblx0ICAgICAgICByZXR1cm4gKDAsIF9tb21lbnQyLmRlZmF1bHQpKG5ldyBEYXRlKGRhdGUpKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZGF0ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRm9ybWF0dGVkU3RhcnRBbmRFbmREYXRlRnJvbVRvZGF5KGRheXNCYWNrKSB7XG5cdCAgICAgIHZhciBzdGFydFRpbWUgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkoKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcblx0ICAgICAgdmFyIHN0YXJ0VGltZU1pZE5pZ2h0ID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHN0YXJ0VGltZSwgJ1lZWVktTU0tREQnKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW0gQScpO1xuXHQgICAgICB2YXIgc3RhcnRUaW1lRW5kT2ZEYXkgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkoc3RhcnRUaW1lTWlkTmlnaHQsICdZWVlZLU1NLUREIGhoOm1tIEEnKS5hZGQoMSwgJ2RheScpLnN1YnRyYWN0KDYwLCAnc2Vjb25kcycpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJyk7XG5cdFxuXHQgICAgICB2YXIgZW5kVGltZSA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSgpLnN1YnRyYWN0KDMwLCAnZGF5cycpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuXHQgICAgICB2YXIgZW5kVGltZU1pZE5pZ2h0ID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKGVuZFRpbWUsICdZWVlZLU1NLUREJykuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tIEEnKTtcblx0XG5cdCAgICAgIHJldHVybiBbZW5kVGltZU1pZE5pZ2h0LCBzdGFydFRpbWVFbmRPZkRheV07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2VuZXJhdGVMb2NhbEZyb21VVEMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlTG9jYWxGcm9tVVRDKFVUQ1RpbWUpIHtcblx0ICAgICAgdmFyIGxvY2FsVGltZSA9IF9tb21lbnQyLmRlZmF1bHQudXRjKFVUQ1RpbWUpLnRvRGF0ZSgpO1xuXHQgICAgICByZXR1cm4gKDAsIF9tb21lbnQyLmRlZmF1bHQpKGxvY2FsVGltZSkuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tOnNzIEEnKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzEwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MDEpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBEZXZpY2VzU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBEZXZpY2VzU2VydmljZS4kaW5qZWN0ID0gW1wiJGxvZ1wiLCBcIlJlc3Rhbmd1bGFyXCIsIFwiJHFcIiwgXCIkaHR0cFwiLCBcIiRzdGF0ZVwiXTtcblx0ICBmdW5jdGlvbiBEZXZpY2VzU2VydmljZSgkbG9nLCBSZXN0YW5ndWxhciwgJHEsICRodHRwLCAkc3RhdGUpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGV2aWNlc1NlcnZpY2UpO1xuXHQgICAgdGhpcy4kbG9nID0gJGxvZztcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuJHEgPSAkcTtcblx0ICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcblx0ICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlO1xuXHQgICAgdGhpcy5TRVJWSUNFX05BTUUgPSAnZGV2aWNlcyc7XG5cdCAgICB0aGlzLnVyaUJhc2UgPSAndjEvZGV2aWNlcyc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEZXZpY2VzU2VydmljZSwgW3tcblx0ICAgIGtleTogJ2dldERldmljZUJ5TWFjQWRkcmVzcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGV2aWNlQnlNYWNBZGRyZXNzKG1hY0FkZHJlc3MpIHtcblx0ICAgICAgdmFyIHVybCA9ICdhcGkvdjEvZGV2aWNlcz9tYWNfYWRkcmVzcz0nICsgbWFjQWRkcmVzcztcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdhcGkvdjEvZGV2aWNlcycsIHVybCkuZ2V0KCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGV2aWNlQnlLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERldmljZUJ5S2V5KGRldmljZUtleSkge1xuXHQgICAgICB2YXIgdXJsID0gJ2FwaS92MS9kZXZpY2VzLycgKyBkZXZpY2VLZXk7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKGRpY3Rpb25hcnksIHZhbHVlKSB7XG5cdCAgICAgIHZhciByZXN1bHRzID0gW107XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGljdGlvbmFyeS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gZGljdGlvbmFyeVtpXTtcblx0ICAgICAgICByZXN1bHRzLnB1c2goZWFjaFt2YWx1ZV0pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByZXN1bHRzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG5cdCAgICAgICAgdmFyIGlzTWFjID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIGlzR0NNaWQgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgc2VyaWFsRGV2aWNlc0RpY3QgPSBfdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuXHQgICAgICAgIHZhciBkZXZpY2VTZXJpYWxzT25seSA9IF90aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwic2VyaWFsXCIpO1xuXHQgICAgICAgIHJldHVybiBbZGV2aWNlU2VyaWFsc09ubHksIHNlcmlhbERldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeURpc3RyaWJ1dG9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWwoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG5cdCAgICAgICAgdmFyIHNlcmlhbERldmljZXNEaWN0ID0gdm9pZCAwO1xuXHQgICAgICAgIHZhciBpc01hYyA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBpc0dDTWlkID0gZmFsc2U7XG5cdCAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuXHQgICAgICAgICAgc2VyaWFsRGV2aWNlc0RpY3QgPSBfdGhpczIuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgc2VyaWFsRGV2aWNlc0RpY3QgPSBfdGhpczIuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHNlcmlhbERldmljZXNPbmx5ID0gX3RoaXMyLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwic2VyaWFsXCIpO1xuXHQgICAgICAgIHJldHVybiBbc2VyaWFsRGV2aWNlc09ubHksIHNlcmlhbERldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG5cdCAgICAgICAgdmFyIG1hY0RldmljZXNEaWN0ID0gX3RoaXMzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCB0cnVlKTtcblx0ICAgICAgICB2YXIgZGV2aWNlTWFjc09ubHkgPSBfdGhpczMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJtYWNcIik7XG5cdCAgICAgICAgcmV0dXJuIFtkZXZpY2VNYWNzT25seSwgbWFjRGV2aWNlc0RpY3RdO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5RGlzdHJpYnV0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hYyhkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgbWFjRGV2aWNlc0RpY3QgPSB2b2lkIDA7XG5cdCAgICAgICAgdmFyIGlzTWFjID0gdHJ1ZTtcblx0ICAgICAgICB2YXIgaXNHQ01pZCA9IGZhbHNlO1xuXHQgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgICAgIG1hY0RldmljZXNEaWN0ID0gX3RoaXM0LmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIG1hY0RldmljZXNEaWN0ID0gX3RoaXM0LmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBtYWNEZXZpY2VzID0gX3RoaXM0LnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwibWFjXCIpO1xuXHQgICAgICAgIHJldHVybiBbbWFjRGV2aWNlcywgbWFjRGV2aWNlc0RpY3RdO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuXHQgICAgICAgIHZhciBnY21pZERldmljZXNEaWN0ID0gX3RoaXM1LmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBmYWxzZSwgdHJ1ZSk7XG5cdCAgICAgICAgdmFyIGdjbWlkRGV2aWNlc09ubHkgPSBfdGhpczUucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJnY21pZFwiKTtcblx0ICAgICAgICByZXR1cm4gW2djbWlkRGV2aWNlc09ubHksIGdjbWlkRGV2aWNlc0RpY3RdO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlEaXN0cmlidXRvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuXHQgICAgICAgIHZhciBHQ01pZERldmljZXNEaWN0ID0gdm9pZCAwO1xuXHQgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgICAgIEdDTWlkRGV2aWNlc0RpY3QgPSBfdGhpczYuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgR0NNaWREZXZpY2VzRGljdCA9IF90aGlzNi5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZ2NtaWREZXZpY2VzT25seSA9IF90aGlzNi5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcImdjbWlkXCIpO1xuXHQgICAgICAgIHJldHVybiBbZ2NtaWREZXZpY2VzT25seSwgR0NNaWREZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlamVjdGVkUHJvbWlzZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVqZWN0ZWRQcm9taXNlKCkge1xuXHQgICAgICB2YXIgZGV2aWNlRGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cdCAgICAgIGRldmljZURlZmVycmVkLnJlamVjdCgpO1xuXHQgICAgICByZXR1cm4gZGV2aWNlRGVmZXJyZWQucHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEZXZpY2VzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEZXZpY2VzKHBhcnRpYWxTZWFyY2gsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cdCAgICAgIHZhciBkZXZpY2VzUHJvbWlzZSA9IHZvaWQgMDtcblx0ICAgICAgaWYgKHBhcnRpYWxTZWFyY2gpIHtcblx0ICAgICAgICBpZiAocGFydGlhbFNlYXJjaC5sZW5ndGggPiAyKSB7XG5cdCAgICAgICAgICBpZiAoYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuXHQgICAgICAgICAgICBpZiAoYnlUZW5hbnQpIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcblx0ICAgICAgICAgICAgaWYgKGJ5VGVuYW50KSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChieVRlbmFudCkge1xuXHQgICAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMucmVqZWN0ZWRQcm9taXNlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5yZWplY3RlZFByb21pc2UoKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgZGV2aWNlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGV2aWNlc1Jlc3VsdCkge1xuXHQgICAgICAgIGRlZmVycmVkLnJlc29sdmUoe1xuXHQgICAgICAgICAgXCJzdWNjZXNzXCI6IHRydWUsXG5cdCAgICAgICAgICBcImRldmljZXNcIjogZGV2aWNlc1Jlc3VsdFxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIGRldmljZXNQcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChkZXZpY2VzUmVzdWx0KSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG5cdCAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2UsXG5cdCAgICAgICAgICBcImRldmljZXNcIjogW11cblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHRoZUFycmF5LCBtYWMsIGdjbSkge1xuXHQgICAgICAvKiogQ29udmVydHMgYXJyYXkgdG8gZGljdGlvbmFyeSB3aXRoIG1hYywgZ2NtaWQsIG9yIHNlcmlhbCBhcyB0aGUga2V5ICoqL1xuXHQgICAgICB2YXIgZGV2aWNlcyA9IHt9O1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGl0ZW0gPSB0aGVBcnJheVtpXTtcblx0ICAgICAgICBpZiAobWFjKSB7XG5cdCAgICAgICAgICBkZXZpY2VzW2l0ZW0ubWFjXSA9IGl0ZW07XG5cdCAgICAgICAgfSBlbHNlIGlmIChnY20pIHtcblx0ICAgICAgICAgIGRldmljZXNbaXRlbS5nY21pZF0gPSBpdGVtO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBkZXZpY2VzW2l0ZW0uc2VyaWFsXSA9IGl0ZW07XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBkZXZpY2VzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2VkaXRJdGVtJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBlZGl0SXRlbShpdGVtLCBmcm9tRGV2aWNlcykge1xuXHQgICAgICBpZiAoIWZyb21EZXZpY2VzKSB7XG5cdCAgICAgICAgZnJvbURldmljZXMgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLiRzdGF0ZS5nbygnZWRpdERldmljZScsIHtcblx0ICAgICAgICBkZXZpY2VLZXk6IGl0ZW0ua2V5LFxuXHQgICAgICAgIHRlbmFudEtleTogaXRlbS50ZW5hbnRLZXksXG5cdCAgICAgICAgZnJvbURldmljZXM6IGZyb21EZXZpY2VzXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3ByZXByYXRlRm9yRWRpdFZpZXcnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHByZXByYXRlRm9yRWRpdFZpZXcoYnV0dG9uLCB0ZW5hbnRLZXksIHNlYXJjaFRleHQsIG1hY0RldmljZXMsIHNlcmlhbERldmljZXMsIGdjbWlkRGV2aWNlcykge1xuXHQgICAgICB2YXIgbWFjID0gdm9pZCAwLFxuXHQgICAgICAgICAgc2VyaWFsID0gdm9pZCAwLFxuXHQgICAgICAgICAgZ2NtaWQgPSB2b2lkIDA7XG5cdFxuXHQgICAgICBtYWMgPSBidXR0b24gPT09IFwiTUFDXCI7XG5cdCAgICAgIHNlcmlhbCA9IGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG5cdCAgICAgIGdjbWlkID0gYnV0dG9uID09PSBcIkdDTSBJRFwiO1xuXHRcblx0ICAgICAgaWYgKG1hYykge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmVkaXRJdGVtKG1hY0RldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmVkaXRJdGVtKHNlcmlhbERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmVkaXRJdGVtKGdjbWlkRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRJc3N1ZXNCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXNzdWVzQnlLZXkoZGV2aWNlS2V5LCBzdGFydEVwb2NoLCBlbmRFcG9jaCwgcHJldiwgbmV4dCkge1xuXHQgICAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcblx0ICAgICAgbmV4dCA9IG5leHQgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IG5leHQ7XG5cdCAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9kZXZpY2VzLycgKyBwcmV2ICsgJy8nICsgbmV4dCArICcvJyArIGRldmljZUtleSArICcvaXNzdWVzP3N0YXJ0PScgKyBzdGFydEVwb2NoICsgJyZlbmQ9JyArIGVuZEVwb2NoO1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRDb21tYW5kRXZlbnRzQnlLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpIHtcblx0ICAgICAgcHJldiA9IHByZXYgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IHByZXY7XG5cdCAgICAgIG5leHQgPSBuZXh0ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBuZXh0O1xuXHQgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvcGxheWVyLWNvbW1hbmQtZXZlbnRzLycgKyBwcmV2ICsgJy8nICsgbmV4dCArICcvJyArIGRldmljZUtleTtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgICAgLy8gVEVOQU5UIFZJRVdcblx0ICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGV2aWNlc0J5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSB0aGlzLm1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCBmYWxzZSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVbm1hbmFnZWREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgICB2YXIgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5VGVuYW50VVJMKHRlbmFudEtleSwgcHJldiwgbmV4dCwgdHJ1ZSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEJ5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS90ZW5hbnRzL3NlYXJjaC8nICsgdGVuYW50S2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX3NlcmlhbD0nICsgcGFydGlhbF9zZXJpYWw7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERldmljZXNCeVBhcnRpYWxNYWNCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvdGVuYW50cy9zZWFyY2gvJyArIHRlbmFudEtleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9tYWM9JyArIHBhcnRpYWxfbWFjO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZEJ5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS90ZW5hbnRzL3NlYXJjaC8nICsgdGVuYW50S2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX2djbWlkPScgKyBwYXJ0aWFsX2djbWlkO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgICAvLyBERVZJQ0VTIFZJRVdcblx0ICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbChkaXN0cmlidXRvcktleSwgcGFydGlhbF9zZXJpYWwsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9kaXN0cmlidXRvcnMvc2VhcmNoLycgKyBkaXN0cmlidXRvcktleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9zZXJpYWw9JyArIHBhcnRpYWxfc2VyaWFsO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsX21hYywgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJyArIGRpc3RyaWJ1dG9yS2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX21hYz0nICsgcGFydGlhbF9tYWM7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZChkaXN0cmlidXRvcktleSwgcGFydGlhbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJyArIGRpc3RyaWJ1dG9yS2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX2djbWlkPScgKyBwYXJ0aWFsX2djbWlkO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREZXZpY2VzQnlEaXN0cmlidXRvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQpIHtcblx0ICAgICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQsIGZhbHNlKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRVbm1hbmFnZWREZXZpY2VzQnlEaXN0cmlidXRvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQpIHtcblx0ICAgICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQsIHRydWUpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERldmljZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERldmljZXMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5TRVJWSUNFX05BTUUpLmdldExpc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2F2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZShkZXZpY2UpIHtcblx0ICAgICAgaWYgKGRldmljZS5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gZGV2aWNlLnB1dCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdkZXZpY2VzJykucG9zdChkZXZpY2UpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NhdmVPdmVybGF5U2V0dGluZ3MnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVPdmVybGF5U2V0dGluZ3MoZGV2aWNlX3VybHNhZmVfa2V5LCBib3R0b21fbGVmdCwgYm90dG9tX3JpZ2h0LCB0b3BfcmlnaHQsIHRvcF9sZWZ0KSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0ge1xuXHQgICAgICAgIGJvdHRvbV9sZWZ0OiBib3R0b21fbGVmdCxcblx0ICAgICAgICBib3R0b21fcmlnaHQ6IGJvdHRvbV9yaWdodCxcblx0ICAgICAgICB0b3BfcmlnaHQ6IHRvcF9yaWdodCxcblx0ICAgICAgICB0b3BfbGVmdDogdG9wX2xlZnRcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnb3ZlcmxheScsICcvYXBpL3YxL292ZXJsYXkvZGV2aWNlLycgKyBkZXZpY2VfdXJsc2FmZV9rZXkpLmN1c3RvbVBPU1QocGF5bG9hZCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGVsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGRldmljZUtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKHRoaXMuU0VSVklDRV9OQU1FLCBkZXZpY2VLZXkpLnJlbW92ZSgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRQYW5lbE1vZGVscycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGFuZWxNb2RlbHMoKSB7XG5cdCAgICAgIHJldHVybiBbe1xuXHQgICAgICAgICdpZCc6ICdOb25lJyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnTm9uZSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdTb255LUZYRDQwTFgyRicsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1NvbnkgRlhENDBMWDJGJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ05FQy1MQ0Q0MjE1Jyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnTkVDIExDRDQyMTUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnUGhpbGxpcHMgQkRMNTU2MEVMJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ1BhbmFzb25pYy1USDU1TEY2VScsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1BhbmFzb25pYyBUSDU1TEY2VSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdTaGFycC1QTkU1MjEnLFxuXHQgICAgICAgICdkaXNwbGF5TmFtZSc6ICdTaGFycCBQTkU1MjEnXG5cdCAgICAgIH1dO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFBhbmVsSW5wdXRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYW5lbElucHV0cygpIHtcblx0ICAgICAgcmV0dXJuIFt7XG5cdCAgICAgICAgJ2lkJzogJ05vbmUnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdOb25lJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkxJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnU29ueS1GWEQ0MExYMkYnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTInLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdTb255LUZYRDQwTFgyRidcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1BoaWxsaXBzLUJETDU1NjBFTCdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMicsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1BoaWxsaXBzLUJETDU1NjBFTCdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdEVkknLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTEnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdQYW5hc29uaWMtVEg1NUxGNlUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTInLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdQYW5hc29uaWMtVEg1NUxGNlUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnRFZJJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkxJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnU2hhcnAtUE5FNTIxJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkyJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnU2hhcnAtUE5FNTIxJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0RWSScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdWR0EnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdORUMtTENENDIxNSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdEVkkxJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnTkVDLUxDRDQyMTUnXG5cdCAgICAgIH1dO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ21ha2VEZXZpY2VzQnlEaXN0cmlidXRvclVSTCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL2Rpc3RyaWJ1dG9ycy8nICsgZGlzdHJpYnV0b3JLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJm5leHRfY3Vyc29yPScgKyBuZXh0ICsgJyZwcmV2X2N1cnNvcj0nICsgcHJldjtcblx0ICAgICAgcmV0dXJuIHVybDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdtYWtlRGV2aWNlc0J5VGVuYW50VVJMJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlRGV2aWNlc0J5VGVuYW50VVJMKHRlbmFudEtleSwgcHJldiwgbmV4dCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciB1cmwgPSAnL2FwaS92MS90ZW5hbnRzLycgKyB0ZW5hbnRLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJm5leHRfY3Vyc29yPScgKyBuZXh0ICsgJyZwcmV2X2N1cnNvcj0nICsgcHJldjtcblx0ICAgICAgcmV0dXJuIHVybDtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIERldmljZXNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBEZXZpY2VzU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzExOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBEaXN0cmlidXRvcnNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIERpc3RyaWJ1dG9yc1NlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCIsIFwiJHN0YXRlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHQgIGZ1bmN0aW9uIERpc3RyaWJ1dG9yc1NlcnZpY2UoUmVzdGFuZ3VsYXIsICRzdGF0ZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERpc3RyaWJ1dG9yc1NlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG5cdCAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcblx0ICAgIHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSA9ICdkaXN0cmlidXRvcnMnO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGlzdHJpYnV0b3JzU2VydmljZSwgW3tcblx0ICAgIGtleTogJ3NhdmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmUodGVuYW50KSB7XG5cdCAgICAgIGlmICh0ZW5hbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRlbmFudC5wdXQoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLnBvc3QodGVuYW50KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdmZXRjaEFsbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hBbGwoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFKS5nZXRMaXN0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZldGNoQWxsQnlVc2VyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEFsbEJ5VXNlcih1c2VyS2V5KSB7XG5cdCAgICAgIGlmICh1c2VyS2V5KSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZSgndXNlcnMnLCB1c2VyS2V5KS5kb0dFVCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QnlLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJ5S2V5KGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgJ2FwaS92MS9kaXN0cmlidXRvcnMvJyArIGtleSkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2RlbGV0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZShlbnRpdHkpIHtcblx0ICAgICAgaWYgKGVudGl0eS5rZXkpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgZW50aXR5LmtleSkucmVtb3ZlKCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRCeU5hbWUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJ5TmFtZShuYW1lKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFKS5nZXRMaXN0KHsgZGlzdHJpYnV0b3JOYW1lOiBuYW1lIH0pO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREb21haW5zQnlLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERvbWFpbnNCeUtleShrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsICdhcGkvdjEvZGlzdHJpYnV0b3JzLycgKyBrZXkgKyAnL2RvbWFpbnMnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc3dpdGNoRGlzdHJpYnV0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHN3aXRjaERpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yKSB7XG5cdCAgICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLnNldEN1cnJlbnREaXN0cmlidXRvck5hbWUoZGlzdHJpYnV0b3IubmFtZSk7XG5cdCAgICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLnNldEN1cnJlbnREaXN0cmlidXRvcktleShkaXN0cmlidXRvci5rZXkpO1xuXHQgICAgICByZXR1cm4gdGhpcy4kc3RhdGUuZ28oJ3dlbGNvbWUnKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIERpc3RyaWJ1dG9yc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IERpc3RyaWJ1dG9yc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRG9tYWluc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgRG9tYWluc1NlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIERvbWFpbnNTZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERvbWFpbnNTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERvbWFpbnNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2F2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZShkb21haW4pIHtcblx0ICAgICAgaWYgKGRvbWFpbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gZG9tYWluLnB1dCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdkb21haW5zJykucG9zdChkb21haW4pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZldGNoQWxsRG9tYWlucycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hBbGxEb21haW5zKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKCdkb21haW5zJykuZ2V0TGlzdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREb21haW5CeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RG9tYWluQnlLZXkoZG9tYWluS2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2RvbWFpbnMnLCAnYXBpL3YxL2RvbWFpbnMvJyArIGRvbWFpbktleSkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERpcmVjdG9yeUFwaUNvbm5lY3Rpdml0eUluZm9ybWF0aW9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREaXJlY3RvcnlBcGlDb25uZWN0aXZpdHlJbmZvcm1hdGlvbihkb21haW5LZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnZG9tYWlucycsICdhcGkvdjEvZG9tYWlucy8nICsgZG9tYWluS2V5ICsgJy9kaXJlY3RvcnlfYXBpJykuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2RlbGV0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZShkb21haW4pIHtcblx0ICAgICAgaWYgKGRvbWFpbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUoXCJkb21haW5zXCIsIGRvbWFpbi5rZXkpLnJlbW92ZSgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBEb21haW5zU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRG9tYWluc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSWRlbnRpdHlTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIElkZW50aXR5U2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cdCAgZnVuY3Rpb24gSWRlbnRpdHlTZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIElkZW50aXR5U2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShJZGVudGl0eVNlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdnZXRJZGVudGl0eScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SWRlbnRpdHkoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnaWRlbnRpdHknKS5nZXQoKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIElkZW50aXR5U2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSWRlbnRpdHlTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIEludGVncmF0aW9uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXHQgIEludGVncmF0aW9uRXZlbnRzLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblx0ICBmdW5jdGlvbiBJbnRlZ3JhdGlvbkV2ZW50cyhSZXN0YW5ndWxhcikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBJbnRlZ3JhdGlvbkV2ZW50cyk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLkVOUk9MTE1FTlRfRVZFTlRTID0gJ2ludGVncmF0aW9uX2V2ZW50cy9lbnJvbGxtZW50Jztcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEludGVncmF0aW9uRXZlbnRzLCBbe1xuXHQgICAga2V5OiAnZ2V0RW5yb2xsbWVudEV2ZW50cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RW5yb2xsbWVudEV2ZW50cyhkZXZpY2VLZXkpIHtcblx0ICAgICAgdmFyIHF1ZXJ5ID0ge1xuXHQgICAgICAgIGRldmljZUtleTogZGV2aWNlS2V5XG5cdCAgICAgIH07XG5cdCAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLkVOUk9MTE1FTlRfRVZFTlRTKS5jdXN0b21HRVQoJycsIHF1ZXJ5KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEludGVncmF0aW9uRXZlbnRzO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBJbnRlZ3JhdGlvbkV2ZW50cztcblxuLyoqKi8gfSxcblxuLyoqKi8gNzE1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBMb2NhdGlvbnNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIExvY2F0aW9uc1NlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIExvY2F0aW9uc1NlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgTG9jYXRpb25zU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShMb2NhdGlvbnNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2F2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZShsb2NhdGlvbikge1xuXHQgICAgICBpZiAobG9jYXRpb24ua2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IGxvY2F0aW9uLnB1dCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdsb2NhdGlvbnMnKS5wb3N0KGxvY2F0aW9uKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSh0ZW5hbnRLZXksIGN1c3RvbWVyX2xvY2F0aW9uX25hbWUpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgndGVuYW50cycpLmN1c3RvbUdFVExJU1QodGVuYW50S2V5ICsgXCIvbG9jYXRpb25zXCIsIHsgY3VzdG9tZXJfbG9jYXRpb25fbmFtZTogY3VzdG9tZXJfbG9jYXRpb25fbmFtZSB9KTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvY2F0aW9uc0J5VGVuYW50S2V5KHRlbmFudEtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgJ2FwaS92MS90ZW5hbnRzLycgKyB0ZW5hbnRLZXkgKyAnL2xvY2F0aW9ucycpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRMb2NhdGlvbnNCeVRlbmFudEtleVBhZ2luYXRlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXlQYWdpbmF0ZWQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuXHQgICAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsICdhcGkvdjEvdGVuYW50cy8nICsgdGVuYW50S2V5ICsgJy8nICsgcHJldiArICcvJyArIG5leHQgKyAnL2xvY2F0aW9ucycpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRMb2NhdGlvbkJ5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2NhdGlvbkJ5S2V5KGxvY2F0aW9uS2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2xvY2F0aW9ucycsICdhcGkvdjEvbG9jYXRpb25zLycgKyBsb2NhdGlvbktleSkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gTG9jYXRpb25zU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTG9jYXRpb25zU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzE2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDMpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBQcm9ncmVzc0JhclNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLiRpbmplY3QgPSBbXCJuZ1Byb2dyZXNzRmFjdG9yeVwiXTtcblx0ICBmdW5jdGlvbiBQcm9ncmVzc0JhclNlcnZpY2UobmdQcm9ncmVzc0ZhY3RvcnkpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUHJvZ3Jlc3NCYXJTZXJ2aWNlKTtcblx0ICAgIHRoaXMubmdQcm9ncmVzc0ZhY3RvcnkgPSBuZ1Byb2dyZXNzRmFjdG9yeTtcblx0ICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSB0aGlzLm5nUHJvZ3Jlc3NGYWN0b3J5LmNyZWF0ZUluc3RhbmNlKCk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQcm9ncmVzc0JhclNlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzdGFydCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoKSB7XG5cdCAgICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0Q29sb3IoJyMwMEZDRkYnKTtcblx0ICAgICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRIZWlnaHQoJzRweCcpO1xuXHQgICAgICByZXR1cm4gdGhpcy5wcm9ncmVzc0Jhci5zdGFydCgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NCYXIuY29tcGxldGUoKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUHJvZ3Jlc3NCYXJTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFByb29mUGxheVNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgUHJvb2ZQbGF5U2VydmljZS4kaW5qZWN0ID0gW1wiJGh0dHBcIiwgXCIkcVwiLCBcIiR3aW5kb3dcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHQgIGZ1bmN0aW9uIFByb29mUGxheVNlcnZpY2UoJGh0dHAsICRxLCAkd2luZG93LCBTZXNzaW9uc1NlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFByb29mUGxheVNlcnZpY2UpO1xuXHQgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuXHQgICAgdGhpcy4kcSA9ICRxO1xuXHQgICAgdGhpcy4kd2luZG93ID0gJHdpbmRvdztcblx0ICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXHQgICAgdGhpcy4kc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG5cdCAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcblx0ICAgIHRoaXMuVG9hc3RzU2VydmljZSA9IFRvYXN0c1NlcnZpY2U7XG5cdCAgICB0aGlzLm1ha2VIVFRQUmVxdWVzdCA9IHRoaXMubWFrZUhUVFBSZXF1ZXN0LmJpbmQodGhpcyk7XG5cdCAgICB0aGlzLnVyaUJhc2UgPSAncHJvb2ZwbGF5L2FwaS92MSc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQcm9vZlBsYXlTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnbWFrZUhUVFBVUkwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VIVFRQVVJMKHdoZXJlX3RvX2dvLCB0ZW5hbnQpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudXJpQmFzZSArIHdoZXJlX3RvX2dvICsgdGVuYW50O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ21ha2VIVFRQUmVxdWVzdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZUhUVFBSZXF1ZXN0KHdoZXJlX3RvX2dvLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICB2YXIgdXJsID0gdGhpcy5tYWtlSFRUUFVSTCh3aGVyZV90b19nbywgdGVuYW50KTtcblx0ICAgICAgcmV0dXJuIHRoaXMuJGh0dHAuZ2V0KHVybCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QWxsUmVzb3VyY2VzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxSZXNvdXJjZXModGVuYW50KSB7XG5cdCAgICAgIHZhciByID0gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfYWxsX3Jlc291cmNlcy9cIiwgdGVuYW50KTtcblx0ICAgICAgLy8gdGhlIGNhdGNoIGlzIG9ubHkgZG9uZSBoZXJlIGJlY2F1c2UgMyBwcm9vZiBvZiBwbGF5IHZpZXdzIGFyZSBpbml0aWxpemVkIGF0IHRoZSBzYW1lIHRpbWVcblx0ICAgICAgLy8gc28gdGhpcyBjYXRjaCB3aWxsIGJlIGRvbmUgMyB0aW1lcyB3aXRoIDMgZXJyb3IgbWVzc2FnZXMgaWYgd2UgYWRkIGl0IHRvIGdldEFsbERpc3BsYXlzIGFuZCBnZXRBbGxMb2NhdGlvbnNcblx0ICAgICAgci5jYXRjaChmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG5cdCAgICAgICAgdmFyIHN0YXR1cyA9IGVyci5zdGF0dXM7XG5cdFxuXHQgICAgICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xuXHQgICAgICAgICAgdGhpcy5Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91IGFyZSBub3QgYWxsb3dlZCB0byB2aWV3IHRoaXMgdGVuYW50IVwiKTtcblx0ICAgICAgICAgIHRoaXMuJHN0YXRlLmdvKCdwcm9vZicsIHt9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDA0KSB7XG5cdCAgICAgICAgICB0aGlzLlRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoXCJZb3UgbXVzdCBzZWxlY3QgYSB0ZW5hbnQgZmlyc3QhXCIpO1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlLmdvKCdwcm9vZicsIHt9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIHIudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIHJldHVybiBkYXRhO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRBbGxEaXNwbGF5cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsRGlzcGxheXModGVuYW50KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfZGlzcGxheXMvXCIsIHRlbmFudCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QWxsTG9jYXRpb25zJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxMb2NhdGlvbnModGVuYW50KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfbG9jYXRpb25zL1wiLCB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEFsbFRlbmFudHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbFRlbmFudHMoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9teV90ZW5hbnRzXCIsICcnKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCByZXNvdXJjZXMsIHRlbmFudCkge1xuXHQgICAgICB2YXIgYWxsUmVzb3VyY2VzID0gJyc7XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gcmVzb3VyY2VzW2ldO1xuXHQgICAgICAgIGFsbFJlc291cmNlcyA9IGFsbFJlc291cmNlcyArIFwifFwiICsgZWFjaDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9yZXNvdXJjZV9ieV9kYXRlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxSZXNvdXJjZXMgKyAnLycgKyB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLCAnX2JsYW5rJyk7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Rvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURldmljZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGV2aWNlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCByZXNvdXJjZXMsIHRlbmFudCkge1xuXHQgICAgICB2YXIgYWxsUmVzb3VyY2VzID0gJyc7XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gcmVzb3VyY2VzW2ldO1xuXHQgICAgICAgIGFsbFJlc291cmNlcyA9IGFsbFJlc291cmNlcyArIFwifFwiICsgZWFjaDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9yZXNvdXJjZV9ieV9kZXZpY2UvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbFJlc291cmNlcyArICcvJyArIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksICdfYmxhbmsnKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNTdW1tYXJpemVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGRldmljZXMsIHRlbmFudCkge1xuXHQgICAgICB2YXIgYWxsRGV2aWNlcyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXZpY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBkZXZpY2VzW2ldO1xuXHQgICAgICAgIGFsbERldmljZXMgPSBhbGxEZXZpY2VzICsgXCJ8XCIgKyBlYWNoO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2RldmljZV9zdW1tYXJpemVkLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxEZXZpY2VzICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNCeURhdGUoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGRldmljZXMsIHRlbmFudCkge1xuXHQgICAgICB2YXIgYWxsRGV2aWNlcyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXZpY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBkZXZpY2VzW2ldO1xuXHQgICAgICAgIGFsbERldmljZXMgPSBhbGxEZXZpY2VzICsgXCJ8XCIgKyBlYWNoO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2RldmljZV9ieV9kYXRlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxEZXZpY2VzICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNCeURldmljZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgbG9jYXRpb25zLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbExvY2F0aW9ucyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IGxvY2F0aW9uc1tpXTtcblx0ICAgICAgICBhbGxMb2NhdGlvbnMgPSBhbGxMb2NhdGlvbnMgKyBcInxcIiArIGVhY2g7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfbG9jYXRpb25fYnlfZGV2aWNlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxMb2NhdGlvbnMgKyAnLycgKyB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLCAnX2JsYW5rJyk7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Rvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNTdW1tYXJpemVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zU3VtbWFyaXplZChzdGFydF9kYXRlLCBlbmRfZGF0ZSwgbG9jYXRpb25zLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbExvY2F0aW9ucyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IGxvY2F0aW9uc1tpXTtcblx0ICAgICAgICBhbGxMb2NhdGlvbnMgPSBhbGxMb2NhdGlvbnMgKyBcInxcIiArIGVhY2g7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfbG9jYXRpb25fc3VtbWFyaXplZC8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjcmVhdGVGaWx0ZXJGb3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUZpbHRlckZvcihxdWVyeSkge1xuXHQgICAgICBxdWVyeSA9IGFuZ3VsYXIubG93ZXJjYXNlKHF1ZXJ5KTtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuXHQgICAgICAgIHJlc291cmNlID0gYW5ndWxhci5sb3dlcmNhc2UocmVzb3VyY2UpO1xuXHQgICAgICAgIHJldHVybiByZXNvdXJjZS5pbmRleE9mKHF1ZXJ5KSA9PT0gMDtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdxdWVyeVNlYXJjaCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSB7XG5cdCAgICAgIGlmIChzZWFyY2hUZXh0KSB7XG5cdCAgICAgICAgcmV0dXJuIHJlc291cmNlcy5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXJGb3Ioc2VhcmNoVGV4dCkpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiByZXNvdXJjZXM7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFByb29mUGxheVNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFByb29mUGxheVNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgU2Vzc2lvbnNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFNlc3Npb25zU2VydmljZS4kaW5qZWN0ID0gW1wiJGh0dHBcIiwgXCIkbG9nXCIsIFwiU3RvcmFnZVNlcnZpY2VcIiwgXCJJZGVudGl0eVNlcnZpY2VcIiwgXCJSZXN0YW5ndWxhclwiLCBcIiRxXCJdO1xuXHQgIGZ1bmN0aW9uIFNlc3Npb25zU2VydmljZSgkaHR0cCwgJGxvZywgU3RvcmFnZVNlcnZpY2UsIElkZW50aXR5U2VydmljZSwgUmVzdGFuZ3VsYXIsICRxKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFNlc3Npb25zU2VydmljZSk7XG5cdCAgICB0aGlzLiRodHRwID0gJGh0dHA7XG5cdCAgICB0aGlzLiRsb2cgPSAkbG9nO1xuXHQgICAgdGhpcy5TdG9yYWdlU2VydmljZSA9IFN0b3JhZ2VTZXJ2aWNlO1xuXHQgICAgdGhpcy5JZGVudGl0eVNlcnZpY2UgPSBJZGVudGl0eVNlcnZpY2U7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLiRxID0gJHE7XG5cdCAgICB0aGlzLnNldElkZW50aXR5ID0gdGhpcy5zZXRJZGVudGl0eS5iaW5kKHRoaXMpO1xuXHQgICAgdGhpcy51cmlCYXNlID0gJ3YxL3Nlc3Npb25zJztcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFNlc3Npb25zU2VydmljZSwgW3tcblx0ICAgIGtleTogJ3NldERpc3RyaWJ1dG9ycycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGlzdHJpYnV0b3JzKGRpc3RyaWJ1dG9ycykge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2Rpc3RyaWJ1dG9ycycsIGRpc3RyaWJ1dG9ycyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0RGlzdHJpYnV0b3JzQXNBZG1pbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGlzdHJpYnV0b3JzQXNBZG1pbihkaXN0cmlidXRvcnNBc0FkbWluKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnZGlzdHJpYnV0b3JzQXNBZG1pbicsIGRpc3RyaWJ1dG9yc0FzQWRtaW4pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldElzQWRtaW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldElzQWRtaW4oaXNBZG1pbikge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2lzQWRtaW4nLCBpc0FkbWluKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRVc2VyS2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRVc2VyS2V5KHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgndXNlcktleScsIHZhbHVlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRVc2VyRW1haWwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFVzZXJFbWFpbCh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJFbWFpbCcsIHZhbHVlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRDdXJyZW50RGlzdHJpYnV0b3JLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEN1cnJlbnREaXN0cmlidXRvcktleSh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScsIHZhbHVlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnY3VycmVudERpc3RyaWJ1dG9yTmFtZScsIHZhbHVlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRVc2VyS2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVc2VyS2V5KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJLZXknKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRVc2VyRW1haWwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVzZXJFbWFpbCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyRW1haWwnKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREaXN0cmlidXRvcnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERpc3RyaWJ1dG9ycygpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdkaXN0cmlidXRvcnMnKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvck5hbWUnKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRDdXJyZW50RGlzdHJpYnV0b3JLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnREaXN0cmlidXRvcktleSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdjdXJyZW50RGlzdHJpYnV0b3JLZXknKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREaXN0cmlidXRvcnNBc0FkbWluJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREaXN0cmlidXRvcnNBc0FkbWluKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2Rpc3RyaWJ1dG9yc0FzQWRtaW4nKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRJc0FkbWluJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJc0FkbWluKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2lzQWRtaW4nKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdsb2dpbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbG9naW4oY3JlZGVudGlhbHMpIHtcblx0ICAgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBhdXRoZW50aWNhdGlvblBheWxvYWQgPSB7XG5cdCAgICAgICAgYWNjZXNzX3Rva2VuOiBfLmNsb25lKGNyZWRlbnRpYWxzLmFjY2Vzc190b2tlbiksXG5cdCAgICAgICAgYXV0aHVzZXI6IF8uY2xvbmUoY3JlZGVudGlhbHMuYXV0aHVzZXIpLFxuXHQgICAgICAgIGNsaWVudF9pZDogXy5jbG9uZShjcmVkZW50aWFscy5jbGllbnRfaWQpLFxuXHQgICAgICAgIGNvZGU6IF8uY2xvbmUoY3JlZGVudGlhbHMuY29kZSksXG5cdCAgICAgICAgaWRfdG9rZW46IF8uY2xvbmUoY3JlZGVudGlhbHMuaWRfdG9rZW4pLFxuXHQgICAgICAgIHNjb3BlOiBfLmNsb25lKGNyZWRlbnRpYWxzLnNjb3BlKSxcblx0ICAgICAgICBzZXNzaW9uX3N0YXRlOiBfLmNsb25lKGNyZWRlbnRpYWxzLnNlc3Npb25fc3RhdGUpLFxuXHQgICAgICAgIHN0YXRlOiBfLmNsb25lKGNyZWRlbnRpYWxzLnN0YXRlKSxcblx0ICAgICAgICBzdGF0dXM6IF8uY2xvbmUoY3JlZGVudGlhbHMuc3RhdHVzKVxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgaWYgKGNyZWRlbnRpYWxzLmVtYWlsICYmIGNyZWRlbnRpYWxzLnBhc3N3b3JkKSB7XG5cdCAgICAgICAgYXV0aGVudGljYXRpb25QYXlsb2FkID0gY3JlZGVudGlhbHM7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy4kaHR0cC5wb3N0KCcvbG9naW4nLCBhdXRoZW50aWNhdGlvblBheWxvYWQpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgX3RoaXMuc2V0VXNlcktleShkYXRhLnVzZXIua2V5KTtcblx0ICAgICAgICByZXR1cm4gX3RoaXMuc2V0SWRlbnRpdHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHJldHVybiBkYXRhO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRJZGVudGl0eScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SWRlbnRpdHkoKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICB2YXIgaWRlbnRpdHlQcm9taXNlID0gdGhpcy5JZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgaWRlbnRpdHlQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICBfdGhpczIuc2V0RGlzdHJpYnV0b3JzKGRhdGFbJ2Rpc3RyaWJ1dG9ycyddKTtcblx0ICAgICAgICBfdGhpczIuc2V0RGlzdHJpYnV0b3JzQXNBZG1pbihkYXRhWydkaXN0cmlidXRvcnNfYXNfYWRtaW4nXSk7XG5cdCAgICAgICAgX3RoaXMyLnNldElzQWRtaW4oZGF0YVsnaXNfYWRtaW4nXSk7XG5cdCAgICAgICAgX3RoaXMyLnNldFVzZXJFbWFpbChkYXRhWydlbWFpbCddKTtcblx0ICAgICAgICBfdGhpczIuc2V0SXNBZG1pbihkYXRhW1wiaXNfYWRtaW5cIl0pO1xuXHRcblx0ICAgICAgICByZXR1cm4gZGVmZXJyZWQucmVzb2x2ZSgpO1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVtb3ZlVXNlckluZm8nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVVzZXJJbmZvKCkge1xuXHQgICAgICB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnJlbW92ZUFsbCgpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gU2Vzc2lvbnNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBTZXNzaW9uc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfbG9ja3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyMCk7XG5cdFxuXHR2YXIgX2xvY2tyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvY2tyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgU3RvcmFnZVNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gU3RvcmFnZVNlcnZpY2UoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTdG9yYWdlU2VydmljZSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShTdG9yYWdlU2VydmljZSwgW3tcblx0ICAgIGtleTogJ3NldCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIF9sb2NrcjIuZGVmYXVsdC5zZXQoa2V5LCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoa2V5KSB7XG5cdCAgICAgIHJldHVybiBfbG9ja3IyLmRlZmF1bHQuZ2V0KGtleSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncm0nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJtKGtleSkge1xuXHQgICAgICByZXR1cm4gX2xvY2tyMi5kZWZhdWx0LnJtKGtleSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVtb3ZlQWxsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVBbGwoKSB7XG5cdCAgICAgIF9sb2NrcjIuZGVmYXVsdC5mbHVzaCgpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gU3RvcmFnZVNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFN0b3JhZ2VTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MjE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFRlbmFudHNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFRlbmFudHNTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblx0ICBmdW5jdGlvbiBUZW5hbnRzU2VydmljZShSZXN0YW5ndWxhciwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFRlbmFudHNTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVGVuYW50c1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKHRlbmFudCkge1xuXHQgICAgICBpZiAodGVuYW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0ZW5hbnQucHV0KCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ3RlbmFudHMnKS5wb3N0KHRlbmFudCk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0SW1hZ2VzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbWFnZXModGVuYW50X3VybHNhZmVfa2V5KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnaW1hZ2UnLCAnL2FwaS92MS9pbWFnZS90ZW5hbnQvJyArIHRlbmFudF91cmxzYWZlX2tleSkuZ2V0TGlzdCgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NhdmVJbWFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZUltYWdlKHRlbmFudF91cmxzYWZlX2tleSwgc3ZnX3JlcCwgbmFtZSkge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICBzdmdfcmVwOiBzdmdfcmVwLFxuXHQgICAgICAgIG5hbWU6IG5hbWVcblx0ICAgICAgfTtcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdpbWFnZScsICcvYXBpL3YxL2ltYWdlL3RlbmFudC8nICsgdGVuYW50X3VybHNhZmVfa2V5KS5jdXN0b21QT1NUKHBheWxvYWQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaEFsbFRlbmFudHNCeU5hbWUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaEFsbFRlbmFudHNCeU5hbWUodGVuYW50X25hbWUpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgndGVuYW50cycpLmN1c3RvbUdFVExJU1QoXCJcIiwgeyB0ZW5hbnRfbmFtZTogdGVuYW50X25hbWUgfSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZldGNoQWxsVGVuYW50cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hBbGxUZW5hbnRzKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKCd0ZW5hbnRzJykuZ2V0TGlzdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdmZXRjaEFsbFRlbmFudHNQYWdpbmF0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQWxsVGVuYW50c1BhZ2luYXRlZChwYWdlX3NpemUsIG9mZnNldCkge1xuXHQgICAgICB2YXIgdXJsID0gJ2FwaS92MS90ZW5hbnRzL3BhZ2luYXRlZC8nICsgcGFnZV9zaXplICsgJy8nICsgb2Zmc2V0O1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VGVuYW50QnlLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRlbmFudEJ5S2V5KHRlbmFudEtleSkge1xuXHQgICAgICB2YXIgdXJsID0gJ2FwaS92MS90ZW5hbnRzLycgKyB0ZW5hbnRLZXk7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkZWxldGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUodGVuYW50KSB7XG5cdCAgICAgIGlmICh0ZW5hbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKFwidGVuYW50c1wiLCB0ZW5hbnQua2V5KS5yZW1vdmUoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gVGVuYW50c1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRlbmFudHNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MjI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFRpbWV6b25lc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgVGltZXpvbmVzU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cdCAgZnVuY3Rpb24gVGltZXpvbmVzU2VydmljZShSZXN0YW5ndWxhcikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBUaW1lem9uZXNTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRpbWV6b25lc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdnZXRVc1RpbWV6b25lcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNUaW1lem9uZXMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RpbWV6b25lcycsICdhcGkvdjEvdGltZXpvbmVzL3VzJykuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEFsbFRpbWV6b25lcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsVGltZXpvbmVzKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0aW1lem9uZXMnLCAnYXBpL3YxL3RpbWV6b25lcy9hbGwnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VzdG9tVGltZXpvbmVzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXN0b21UaW1lem9uZXMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RpbWV6b25lcycsICdhcGkvdjEvdGltZXpvbmVzL2N1c3RvbScpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFRpbWV6b25lc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRpbWV6b25lc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAzKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgVG9hc3RzU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBUb2FzdHNTZXJ2aWNlLiRpbmplY3QgPSBbXCJ0b2FzdHJcIl07XG5cdCAgZnVuY3Rpb24gVG9hc3RzU2VydmljZSh0b2FzdHIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVG9hc3RzU2VydmljZSk7XG5cdCAgICB0aGlzLnRvYXN0ciA9IHRvYXN0cjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRvYXN0c1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzaG93U3VjY2Vzc1RvYXN0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93U3VjY2Vzc1RvYXN0KG1lc3NhZ2UpIHtcblx0ICAgICAgdmFyIHRpdGxlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gJ1N1Y2Nlc3MhJyA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UsIHRpdGxlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzaG93RXJyb3JUb2FzdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0Vycm9yVG9hc3QobWVzc2FnZSkge1xuXHQgICAgICB2YXIgdGl0bGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAnRXJyb3IhJyA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnRvYXN0ci5lcnJvcihtZXNzYWdlLCB0aXRsZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2hvd0luZm9Ub2FzdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0luZm9Ub2FzdChtZXNzYWdlKSB7XG5cdCAgICAgIHZhciB0aXRsZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/ICdJbmZvcm1hdGlvbicgOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy50b2FzdHIuaW5mbyhtZXNzYWdlLCB0aXRsZSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBUb2FzdHNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBUb2FzdHNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MjQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFZlcnNpb25zU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBWZXJzaW9uc1NlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIFZlcnNpb25zU2VydmljZShSZXN0YW5ndWxhcikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBWZXJzaW9uc1NlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVmVyc2lvbnNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnZ2V0VmVyc2lvbnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZlcnNpb25zKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd2ZXJzaW9ucycpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFZlcnNpb25zU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVmVyc2lvbnNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MjU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRUZW5hbnRBZGRDdHJsLiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiJGxvY2F0aW9uXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCIsIFwiVGltZXpvbmVzU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcInN3ZWV0XCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gVGVuYW50QWRkQ3RybCgkbG9nLCAkbG9jYXRpb24sIFRlbmFudHNTZXJ2aWNlLCBEaXN0cmlidXRvcnNTZXJ2aWNlLCBUaW1lem9uZXNTZXJ2aWNlLCAkc3RhdGUsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsIFNlc3Npb25zU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5nYW1lU3RvcFNlcnZlciA9ICRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMTtcblx0ICB2bS5jdXJyZW50VGVuYW50ID0ge1xuXHQgICAga2V5OiB1bmRlZmluZWQsXG5cdCAgICBuYW1lOiB1bmRlZmluZWQsXG5cdCAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuXHQgICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG5cdCAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG5cdCAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuXHQgICAgcHJvb2Zfb2ZfcGxheV91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGFjdGl2ZTogdHJ1ZVxuXHQgIH07XG5cdCAgdm0uc2VsZWN0ZWREb21haW4gPSB1bmRlZmluZWQ7XG5cdCAgdm0uZGlzdHJpYnV0b3JEb21haW5zID0gW107XG5cdCAgdm0udGltZXpvbmVzID0gW107XG5cdCAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9ICdBbWVyaWNhL0NoaWNhZ28nO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHRpbWV6b25lUHJvbWlzZSA9IFRpbWV6b25lc1NlcnZpY2UuZ2V0Q3VzdG9tVGltZXpvbmVzKCk7XG5cdCAgICB0aW1lem9uZVByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udGltZXpvbmVzID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgICAgdm0uY3VycmVudERpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0QnlLZXkodm0uY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcblx0ICAgIGRpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmN1cnJlbnRUZW5hbnQuY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsID0gZGF0YS5jb250ZW50X21hbmFnZXJfdXJsO1xuXHQgICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudC5jb250ZW50X3NlcnZlcl91cmwgPSBkYXRhLnBsYXllcl9jb250ZW50X3VybDtcblx0ICAgIH0pO1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0RG9tYWluc0J5S2V5KHZtLmN1cnJlbnREaXN0cmlidXRvcktleSk7XG5cdCAgICByZXR1cm4gZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRvbWFpbnMpIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IGRvbWFpbnM7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdm0uY3VycmVudFRlbmFudC5kZWZhdWx0X3RpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcblx0ICAgIHZtLmN1cnJlbnRUZW5hbnQuZG9tYWluX2tleSA9IHZtLnNlbGVjdGVkRG9tYWluLmtleTtcblx0ICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50VGVuYW50KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzVGVuYW50U2F2ZSwgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzVGVuYW50U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50cycpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUgPSBmdW5jdGlvbiAoZXJyb3JPYmplY3QpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgaWYgKGVycm9yT2JqZWN0LnN0YXR1cyA9PT0gNDA5KSB7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1RlbmFudCBjb2RlIHVuYXZhaWxhYmxlIGluIFByb3Zpc2lvbmluZy4gUGxlYXNlIG1vZGlmeSB0ZW5hbnQgbmFtZSB0byBnZW5lcmF0ZSBhIHVuaXF1ZSB0ZW5hbnQgY29kZS4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSBpZiAoZXJyb3JPYmplY3Quc3RhdHVzID09PSA0MTIpIHtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGVuYW50IGNvZGUgdW5hdmFpbGFibGUgaW4gQ2hyb21lIERldmljZSBNYW5hZ2VtZW50LiBNb2RpZnkgdGVuYW50IG5hbWUgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgdGVuYW50IGNvZGUuJywgJ2Vycm9yJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAkbG9nLmVycm9yKGVycm9yT2JqZWN0KTtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIHNhdmUgdGhlIHRlbmFudC4nLCAnZXJyb3InKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5hdXRvR2VuZXJhdGVUZW5hbnRDb2RlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF2bS5jdXJyZW50VGVuYW50LmtleSkge1xuXHQgICAgICB2YXIgbmV3VGVuYW50Q29kZSA9ICcnO1xuXHQgICAgICBpZiAodm0uY3VycmVudFRlbmFudC5uYW1lKSB7XG5cdCAgICAgICAgbmV3VGVuYW50Q29kZSA9IHZtLmN1cnJlbnRUZW5hbnQubmFtZS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xccysvZywgJ18nKTtcblx0ICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudC50ZW5hbnRfY29kZSA9IG5ld1RlbmFudENvZGU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuVGVuYW50QWRkQ3RybCA9IFRlbmFudEFkZEN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFRlbmFudERldGFpbHNDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVQYXJhbXNcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkRvbWFpbnNTZXJ2aWNlXCIsIFwiVGltZXpvbmVzU2VydmljZVwiLCBcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIiwgXCIkc3RhdGVcIiwgXCJzd2VldFwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIlRvYXN0c1NlcnZpY2VcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCIkc2NvcGVcIiwgXCIkbG9jYXRpb25cIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBUZW5hbnREZXRhaWxzQ3RybCgkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBEb21haW5zU2VydmljZSwgVGltZXpvbmVzU2VydmljZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgJHN0YXRlLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBUb2FzdHNTZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UsICRzY29wZSwgJGxvY2F0aW9uKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmdhbWVTdG9wU2VydmVyID0gJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xO1xuXHQgIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG5cdCAgICBrZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5hbWU6IHVuZGVmaW5lZCxcblx0ICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG5cdCAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcblx0ICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG5cdCAgICBwcm9vZl9vZl9wbGF5X3VybDogdW5kZWZpbmVkLFxuXHQgICAgYWN0aXZlOiB0cnVlXG5cdCAgfTtcblx0ICB2bS5zZWxlY3RlZERvbWFpbiA9IHVuZGVmaW5lZDtcblx0ICB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBbXTtcblx0ICB2bS50aW1lem9uZXMgPSBbXTtcblx0ICB2bS5zZWxlY3RlZFRpbWV6b25lID0gJ0FtZXJpY2EvQ2hpY2Fnbyc7XG5cdCAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdFxuXHQgIGlmICh2bS5lZGl0TW9kZSkge1xuXHQgICAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSgkc3RhdGVQYXJhbXMudGVuYW50S2V5KTtcblx0ICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICAgIHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQ7XG5cdCAgICAgIHJldHVybiB2bS5vblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQodGVuYW50KTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB0aW1lem9uZVByb21pc2UgPSBUaW1lem9uZXNTZXJ2aWNlLmdldEN1c3RvbVRpbWV6b25lcygpO1xuXHQgICAgdGltZXpvbmVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRpbWV6b25lcyA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICAgIHZtLmN1cnJlbnREaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcblx0ICAgIHZhciBkaXN0cmlidXRvckRvbWFpblByb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmdldERvbWFpbnNCeUtleSh2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuXHQgICAgcmV0dXJuIGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkb21haW5zKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBkb21haW5zO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzUmVzb2x2aW5nVGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHRlbmFudC5kZWZhdWx0X3RpbWV6b25lO1xuXHQgICAgdmFyIGRvbWFpblByb21pc2UgPSBEb21haW5zU2VydmljZS5nZXREb21haW5CeUtleSh0ZW5hbnQuZG9tYWluX2tleSk7XG5cdCAgICByZXR1cm4gZG9tYWluUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS5zZWxlY3RlZERvbWFpbiA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdm0uY3VycmVudFRlbmFudC5kZWZhdWx0X3RpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcblx0ICAgIHZtLmN1cnJlbnRUZW5hbnQuZG9tYWluX2tleSA9IHZtLnNlbGVjdGVkRG9tYWluLmtleTtcblx0ICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50VGVuYW50KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzVGVuYW50U2F2ZSwgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzVGVuYW50U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB0ZW5hbnQgaW5mb3JtYXRpb24uJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSA9IGZ1bmN0aW9uIChlcnJvck9iamVjdCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBpZiAoZXJyb3JPYmplY3Quc3RhdHVzID09PSA0MDkpIHtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGVuYW50IGNvZGUgdW5hdmFpbGFibGUuIFBsZWFzZSBtb2RpZnkgdGVuYW50IG5hbWUgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgdGVuYW50IGNvZGUuJywgJ2Vycm9yJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gc2F2ZSB0aGUgdGVuYW50LicsICdlcnJvcicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2VkaXREZXZpY2UnLCB7IGRldmljZUtleTogaXRlbS5rZXksIHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5hdXRvR2VuZXJhdGVUZW5hbnRDb2RlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF2bS5jdXJyZW50VGVuYW50LmtleSkge1xuXHQgICAgICB2YXIgbmV3VGVuYW50Q29kZSA9ICcnO1xuXHQgICAgICBpZiAodm0uY3VycmVudFRlbmFudC5uYW1lKSB7XG5cdCAgICAgICAgbmV3VGVuYW50Q29kZSA9IHZtLmN1cnJlbnRUZW5hbnQubmFtZS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xccysvZywgJ18nKTtcblx0ICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudC50ZW5hbnRfY29kZSA9IG5ld1RlbmFudENvZGU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgJHNjb3BlLnRhYkluZGV4ID0gMDtcblx0XG5cdCAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcblx0ICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHN3aXRjaCAodG9UYWIpIHtcblx0ICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAzOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuVGVuYW50RGV0YWlsc0N0cmwgPSBUZW5hbnREZXRhaWxzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzI3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0VGVuYW50TG9jYXRpb25DdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVQYXJhbXNcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkxvY2F0aW9uc1NlcnZpY2VcIiwgXCIkc3RhdGVcIiwgXCJzd2VldFwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIlRvYXN0c1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBUZW5hbnRMb2NhdGlvbkN0cmwoJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgTG9jYXRpb25zU2VydmljZSwgJHN0YXRlLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBUb2FzdHNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmxvY2F0aW9uID0ge1xuXHQgICAga2V5OiB1bmRlZmluZWRcblx0ICB9O1xuXHQgIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy5sb2NhdGlvbktleTtcblx0ICBpZiAodm0uZWRpdE1vZGUpIHtcblx0ICAgIHZhciBsb2NhdGlvblByb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLmdldExvY2F0aW9uQnlLZXkoJHN0YXRlUGFyYW1zLmxvY2F0aW9uS2V5KTtcblx0ICAgIGxvY2F0aW9uUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvY2F0aW9uID0gZGF0YTtcblx0ICAgICAgdm0udGVuYW50S2V5ID0gZGF0YS50ZW5hbnRLZXk7XG5cdCAgICAgIHZtLmxvY2F0aW9uTmFtZSA9IGRhdGEuY3VzdG9tZXJMb2NhdGlvbk5hbWU7XG5cdCAgICAgIHJldHVybiB2bS5mZXRjaFRlbmFudE5hbWUodm0udGVuYW50S2V5KTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghdm0uZWRpdE1vZGUpIHtcblx0ICAgICAgdm0uZmV0Y2hUZW5hbnROYW1lKHZtLnRlbmFudEtleSk7XG5cdCAgICAgIHJldHVybiB2bS5sb2NhdGlvbiA9IHtcblx0ICAgICAgICB0ZW5hbnRLZXk6IHZtLnRlbmFudEtleSxcblx0ICAgICAgICBhY3RpdmU6IHRydWVcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLnNhdmUodm0ubG9jYXRpb24pO1xuXHQgICAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzVXBkYXRpbmdMb2NhdGlvbih2bS50ZW5hbnRLZXkpLCB2bS5vbkZhaWx1cmVTYXZpbmdMb2NhdGlvbik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uLCB2bS5vbkZhaWx1cmVTYXZpbmdMb2NhdGlvbik7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzU2F2aW5nTG9jYXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciBsb2NhdGlvbi4nKTtcblx0ICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfSwgMTAwMCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzVXBkYXRpbmdMb2NhdGlvbiA9IGZ1bmN0aW9uICh0ZW5hbnRfa2V5KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgdXBkYXRlZCB5b3VyIGxvY2F0aW9uLicpO1xuXHQgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiB0ZW5hbnRfa2V5IH0pO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9LCAxMDAwKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkZhaWx1cmVTYXZpbmdMb2NhdGlvbiA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcblx0ICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnTG9jYXRpb24gY29kZSBjb25mbGljdC4gVW5hYmxlIHRvIHNhdmUgeW91ciBsb2NhdGlvbi4nKTtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnUGxlYXNlIGNoYW5nZSB5b3VyIGN1c3RvbWVyIGxvY2F0aW9uIG5hbWUuIExvY2F0aW9uIG5hbWUgbXVzdCBnZW5lcmF0ZSBhIHVuaXF1ZSBsb2NhdGlvbiBjb2RlLicsICdlcnJvcicpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1VuYWJsZSB0byBzYXZlIHlvdXIgbG9jYXRpb24uJyk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uZmV0Y2hUZW5hbnROYW1lID0gZnVuY3Rpb24gKHRlbmFudEtleSkge1xuXHQgICAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh0ZW5hbnRLZXkpO1xuXHQgICAgcmV0dXJuIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICAgIHJldHVybiB2bS50ZW5hbnROYW1lID0gdGVuYW50Lm5hbWU7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5hdXRvR2VuZXJhdGVDdXN0b21lckxvY2F0aW9uQ29kZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghdm0ubG9jYXRpb24ua2V5KSB7XG5cdCAgICAgIHZhciBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9ICcnO1xuXHQgICAgICBpZiAodm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbk5hbWUpIHtcblx0ICAgICAgICBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9IHZtLmxvY2F0aW9uLmN1c3RvbWVyTG9jYXRpb25OYW1lLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG5cdCAgICAgICAgbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5UZW5hbnRMb2NhdGlvbkN0cmwgPSBUZW5hbnRMb2NhdGlvbkN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFRlbmFudExvY2F0aW9uc0N0cmwuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIlRlbmFudHNTZXJ2aWNlXCIsIFwiTG9jYXRpb25zU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVGVuYW50TG9jYXRpb25zQ3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NDYpO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcjIpO1xuXHRcblx0dmFyIF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyOSk7XG5cdFxuXHR2YXIgX2phdmFzY3JpcHROYXR1cmFsU29ydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFRlbmFudExvY2F0aW9uc0N0cmwoJHNjb3BlLCAkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBMb2NhdGlvbnNTZXJ2aWNlLCAkc3RhdGUsIFByb2dyZXNzQmFyU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2YXIgdGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0XG5cdCAgJHNjb3BlLnRhYkluZGV4ID0gMztcblx0ICB2bS5sb2NhdGlvbnMgPSBbXTtcblx0ICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0XG5cdCAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh0ZW5hbnRLZXkpO1xuXHQgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgdm0uY3VycmVudFRlbmFudCA9IGRhdGE7XG5cdCAgfSk7XG5cdFxuXHQgICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHNlbGVjdGVkSW5kZXgpIHtcblx0ICAgIGlmIChzZWxlY3RlZEluZGV4ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgc3dpdGNoIChzZWxlY3RlZEluZGV4KSB7XG5cdCAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHsgdGVuYW50S2V5OiB0ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogdGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogdGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiB0ZW5hbnRLZXkgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgdm0uZ2V0TG9jYXRpb25zID0gZnVuY3Rpb24gKHRlbmFudEtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgbG9jYXRpb25zUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXlQYWdpbmF0ZWQodGVuYW50S2V5LCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBsb2NhdGlvbnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9jYXRpb25zID0gZGF0YS5sb2NhdGlvbnM7XG5cdCAgICAgIHZtLm5leHRfY3Vyc29yID0gZGF0YS5uZXh0X2N1cnNvcjtcblx0ICAgICAgdm0ucHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5zZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgaWYgKCFuYW1lIHx8IG5hbWUubGVuZ3RoIDwgMykge1xuXHQgICAgICByZXR1cm4gW107XG5cdCAgICB9XG5cdCAgICB2YXIgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2VhcmNoQWxsVGVuYW50TG9jYXRpb25zQnlOYW1lKHZtLnRlbmFudEtleSwgbmFtZSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2bS5zZWFyY2hlZFRlbmFudExvY2F0aW9ucyA9IHJlc3BvbnNlO1xuXHQgICAgICBpZiAodm0uc2VhcmNoZWRUZW5hbnRMb2NhdGlvbnMpIHtcblx0ICAgICAgICByZXR1cm4gdm0uc2VhcmNoZWRUZW5hbnRMb2NhdGlvbnMubWFwKGZ1bmN0aW9uIChpKSB7XG5cdCAgICAgICAgICByZXR1cm4gaS5jdXN0b21lckxvY2F0aW9uTmFtZTtcblx0ICAgICAgICB9KS5zb3J0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyLmRlZmF1bHQpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdmFyIGVycm9yTWVzc2FnZSA9ICdVbmFibGUgdG8gZmV0Y2ggbG9jYXRpb25zLiBFcnJvcjogJyArIHJlc3BvbnNlLnN0YXR1cztcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNUZW5hbnRMb2NhdGlvblZhbGlkID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIGlmICghbmFtZSB8fCBuYW1lLmxlbmd0aCA8IDMpIHtcblx0ICAgICAgcmV0dXJuIFtdO1xuXHQgICAgfVxuXHQgICAgdmFyIHByb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLnNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSh2bS50ZW5hbnRLZXksIG5hbWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZhciBtYXRjaCA9IHJlc3BvbnNlO1xuXHQgICAgICBpZiAobWF0Y2gpIHtcblx0ICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkobWF0Y2gpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgICAgIHZhciBlYWNoTG9jYXRpb25OYW1lID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgICAgICBpZiAobmFtZSA9PT0gZWFjaExvY2F0aW9uTmFtZS5jdXN0b21lckxvY2F0aW9uTmFtZSkge1xuXHQgICAgICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgdm0uc2VhcmNoTWF0Y2ggPSBlYWNoTG9jYXRpb25OYW1lO1xuXHQgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0ICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuXHQgICAgaWYgKGZvcndhcmQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldExvY2F0aW9ucyh0ZW5hbnRLZXksIG51bGwsIHZtLm5leHRfY3Vyc29yKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRMb2NhdGlvbnModGVuYW50S2V5LCB2bS5wcmV2X2N1cnNvciwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB2bS5nZXRMb2NhdGlvbnModGVuYW50S2V5KTtcblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdlZGl0TG9jYXRpb24nLCB7IGxvY2F0aW9uS2V5OiBpdGVtLmtleSB9KTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuVGVuYW50TG9jYXRpb25zQ3RybCA9IFRlbmFudExvY2F0aW9uc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDczMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0VGVuYW50TWFuYWdlZERldmljZXNDdHJsLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkRldmljZXNTZXJ2aWNlXCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiJHN0YXRlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5UZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjQ2KTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwoJHNjb3BlLCAkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBEZXZpY2VzU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCAkc3RhdGUpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHtcblx0ICAgIGtleTogdW5kZWZpbmVkLFxuXHQgICAgbmFtZTogdW5kZWZpbmVkLFxuXHQgICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcblx0ICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuXHQgICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuXHQgICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuXHQgICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcblx0ICAgIGFjdGl2ZTogdHJ1ZVxuXHQgIH07XG5cdCAgdm0udGVuYW50RGV2aWNlcyA9IFtdO1xuXHQgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcblx0ICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLmRldmljZXNUb01hdGNoT24gPSBbXTtcblx0ICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0XG5cdCAgdm0uZ2V0TWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKTtcblx0ICAgIHJldHVybiBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmRldmljZXNQcmV2ID0gZGF0YVtcInByZXZfY3Vyc29yXCJdO1xuXHQgICAgICB2bS5kZXZpY2VzTmV4dCA9IGRhdGFbXCJuZXh0X2N1cnNvclwiXTtcblx0ICAgICAgdm0udGVuYW50RGV2aWNlcyA9IGRhdGFbXCJkZXZpY2VzXCJdO1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0oaXRlbSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgICB2bS50ZW5hbnREZXZpY2VzID0gbnVsbDtcblx0ICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgfTtcblx0XG5cdCAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHZtLnRlbmFudEtleSk7XG5cdCAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcblx0ICAgIH0pO1xuXHQgICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCBudWxsKTtcblx0ICB9XG5cdFxuXHQgICRzY29wZS50YWJJbmRleCA9IDE7XG5cdFxuXHQgICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG5cdCAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBzd2l0Y2ggKHRvVGFiKSB7XG5cdCAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHsgdGVuYW50S2V5OiB2bS50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogdm0udGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogdm0udGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiB2bS50ZW5hbnRLZXkgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uIChwYXJ0aWFsKSB7XG5cdCAgICB2YXIgdW5tYW5hZ2VkID0gZmFsc2U7XG5cdCAgICB2YXIgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG5cdCAgICB2YXIgYnlUZW5hbnQgPSB0cnVlO1xuXHQgICAgdmFyIHRlbmFudEtleSA9IHZtLnRlbmFudEtleTtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdmFyIGRldmljZXNUb1JldHVybiA9IHZvaWQgMDtcblx0ICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcblx0ICAgICAgICB2YXIgZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG5cdCAgICAgICAgaWYgKGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcblx0ICAgICAgICAgIHZtLnNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PT0gXCJNQUNcIikge1xuXHQgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IGRldmljZXNUb1JldHVybjtcblx0ICAgICAgICByZXR1cm4gZGV2aWNlc1RvUmV0dXJuO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIHZtLmRldmljZXNOZXh0KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCBudWxsKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnByZXByYXRlRm9yRWRpdFZpZXcodm0uc2VsZWN0ZWRCdXR0b24sIHZtLnRlbmFudEtleSwgc2VhcmNoVGV4dCwgdm0ubWFjRGV2aWNlcywgdm0uc2VyaWFsRGV2aWNlcywgdm0uZ2NtaWREZXZpY2VzKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uIChpc01hdGNoKSB7XG5cdCAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuXHQgICAgcmV0dXJuIHZtLmxvYWRpbmdEaXNhYmxlZCA9IGZhbHNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuXHQgICAgdmFyIGZvdW5kTWF0Y2ggPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHQgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKHZtLmRldmljZXNUb01hdGNoT24pLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTtcblx0XG5cdCAgICAgICAgaWYgKHJlc291cmNlID09PSBpdGVtKSB7XG5cdCAgICAgICAgICBmb3VuZE1hdGNoID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdCAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0ICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZtLmNvbnRyb2xPcGVuQnV0dG9uKGZvdW5kTWF0Y2gpO1xuXHQgICAgcmV0dXJuIGZvdW5kTWF0Y2g7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybCA9IFRlbmFudE1hbmFnZWREZXZpY2VzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzMxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybC4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJEZXZpY2VzU2VydmljZVwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIiRzdGF0ZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjQ2KTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsICRzdGF0ZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5jdXJyZW50VGVuYW50ID0ge1xuXHQgICAga2V5OiB1bmRlZmluZWQsXG5cdCAgICBuYW1lOiB1bmRlZmluZWQsXG5cdCAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuXHQgICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG5cdCAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG5cdCAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuXHQgICAgYWN0aXZlOiB0cnVlXG5cdCAgfTtcblx0ICB2bS5nY21pZERldmljZXMgPSBbXTtcblx0ICB2bS50ZW5hbnREZXZpY2VzID0gW107XG5cdCAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcblx0ICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiTUFDXCI7XG5cdCAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuXHQgIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHQgIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdFxuXHQgICRzY29wZS50YWJJbmRleCA9IDI7XG5cdFxuXHQgICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG5cdCAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBzd2l0Y2ggKHRvVGFiKSB7XG5cdCAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHsgdGVuYW50S2V5OiB2bS50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogdm0udGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogdm0udGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiB2bS50ZW5hbnRLZXkgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgdm0uZWRpdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKGl0ZW0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldFVubWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKTtcblx0ICAgIHJldHVybiBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmRldmljZXNQcmV2ID0gZGF0YVtcInByZXZfY3Vyc29yXCJdO1xuXHQgICAgICB2bS5kZXZpY2VzTmV4dCA9IGRhdGFbXCJuZXh0X2N1cnNvclwiXTtcblx0ICAgICAgdm0udGVuYW50RGV2aWNlcyA9IGRhdGFbXCJkZXZpY2VzXCJdO1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBpZiAodm0uZWRpdE1vZGUpIHtcblx0ICAgIHZhciB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodm0udGVuYW50S2V5KTtcblx0ICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50ID0gdGVuYW50O1xuXHQgICAgfSk7XG5cdCAgICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgbnVsbCwgbnVsbCk7XG5cdCAgfVxuXHRcblx0ICB2bS5yZWZyZXNoRGV2aWNlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcblx0ICAgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcblx0ICAgIHZtLnRlbmFudERldmljZXMgPSBudWxsO1xuXHQgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNoYW5nZVJhZGlvID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgICAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgICAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuXHQgIH07XG5cdFxuXHQgIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAocGFydGlhbCkge1xuXHQgICAgdmFyIHVubWFuYWdlZCA9IHRydWU7XG5cdCAgICB2YXIgYnlUZW5hbnQgPSB0cnVlO1xuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnNlYXJjaERldmljZXMocGFydGlhbCwgdm0uc2VsZWN0ZWRCdXR0b24sIGJ5VGVuYW50LCB2bS50ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZhciBkZXZpY2VzVG9SZXR1cm4gPSB2b2lkIDA7XG5cdCAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG5cdCAgICAgICAgdmFyIGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuXHQgICAgICAgIGlmICh2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcblx0ICAgICAgICAgIHZtLnNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiKSB7XG5cdCAgICAgICAgICB2bS5tYWNEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZtLmdjbWlkRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gZGV2aWNlc1RvUmV0dXJuO1xuXHQgICAgICAgIHJldHVybiBkZXZpY2VzVG9SZXR1cm47XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuXHQgICAgaWYgKGZvcndhcmQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCBudWxsKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnByZXByYXRlRm9yRWRpdFZpZXcodm0uc2VsZWN0ZWRCdXR0b24sIHZtLnRlbmFudEtleSwgc2VhcmNoVGV4dCwgdm0ubWFjRGV2aWNlcywgdm0uc2VyaWFsRGV2aWNlcywgdm0uZ2NtaWREZXZpY2VzKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uIChpc01hdGNoKSB7XG5cdCAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuXHQgICAgdm0ubG9hZGluZ0Rpc2FibGVkID0gZmFsc2U7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNSZXNvdXJjZVZhbGlkID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG5cdCAgICB2YXIgZm91bmRNYXRjaCA9IGZhbHNlO1xuXHQgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHQgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdCAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkodm0uZGV2aWNlc1RvTWF0Y2hPbiksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcblx0ICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlO1xuXHRcblx0ICAgICAgICBpZiAocmVzb3VyY2UgPT09IGl0ZW0pIHtcblx0ICAgICAgICAgIGZvdW5kTWF0Y2ggPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0ICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG5cdCAgICB9IGZpbmFsbHkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG5cdCAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuXHQgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdm0uY29udHJvbE9wZW5CdXR0b24oZm91bmRNYXRjaCk7XG5cdCAgICByZXR1cm4gZm91bmRNYXRjaDtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5UZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCA9IFRlbmFudFVubWFuYWdlZERldmljZXNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MzI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRUZW5hbnRzQ3RybC4kaW5qZWN0ID0gW1wiJHN0YXRlXCIsIFwiJGxvZ1wiLCBcIlRlbmFudHNTZXJ2aWNlXCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwic3dlZXRcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlRlbmFudHNDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0Nik7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEl0ZXJhdG9yMik7XG5cdFxuXHR2YXIgX2phdmFzY3JpcHROYXR1cmFsU29ydCA9IF9fd2VicGFja19yZXF1aXJlX18oNzI5KTtcblx0XG5cdHZhciBfamF2YXNjcmlwdE5hdHVyYWxTb3J0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2phdmFzY3JpcHROYXR1cmFsU29ydCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gVGVuYW50c0N0cmwoJHN0YXRlLCAkbG9nLCBUZW5hbnRzU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBzd2VldCkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0XG5cdCAgLy8gUGFnaW5hdGVkIFRlbmFudHNcblx0ICB2bS50ZW5hbnRzID0gW107XG5cdCAgLy8gQ3VycmVudCBTZWFyY2ggb2YgVGVuYW50cyBSZXN1bHRzXG5cdCAgdm0uc2VhcmNoZWRUZW5hbnRzID0gW107XG5cdCAgdm0uc2VhcmNoTWF0Y2ggPSBudWxsO1xuXHQgIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblx0XG5cdCAgdm0uZ2V0VGVuYW50c1BhZ2luYXRlZCA9IGZ1bmN0aW9uIChwYWdlX3NpemUsIG9mZnNldCkge1xuXHQgICAgdm0ub2Zmc2V0ID0gb2Zmc2V0O1xuXHQgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZmV0Y2hBbGxUZW5hbnRzUGFnaW5hdGVkKHBhZ2Vfc2l6ZSwgb2Zmc2V0KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRGZXRjaFN1Y2Nlc3MocmVzcG9uc2UpO1xuXHQgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRGZXRjaEZhaWx1cmUocmVzcG9uc2UpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0RmV0Y2hTdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICB2bS50ZW5hbnRzID0gcmVzcG9uc2UudGVuYW50cztcblx0ICAgIHZtLnRvdGFsID0gcmVzcG9uc2UudG90YWw7XG5cdCAgICB2bS5pc19maXJzdF9wYWdlID0gcmVzcG9uc2UuaXNfZmlyc3RfcGFnZTtcblx0ICAgIHZtLmlzX2xhc3RfcGFnZSA9IHJlc3BvbnNlLmlzX2xhc3RfcGFnZTtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRGZXRjaEZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdmFyIGVycm9yTWVzc2FnZSA9ICdVbmFibGUgdG8gZmV0Y2ggdGVuYW50cy4gRXJyb3I6ICcgKyByZXNwb25zZS5zdGF0dXMgKyAnICcgKyByZXNwb25zZS5zdGF0dXNUZXh0ICsgJy4nO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5vZmZzZXQgPSAwO1xuXHQgICAgdm0uc2VhcmNoQWxsVGVuYW50c0J5TmFtZSgnbXknKTtcblx0ICAgIHJldHVybiB2bS5nZXRUZW5hbnRzUGFnaW5hdGVkKDEwMCwgdm0ub2Zmc2V0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lID0gZnVuY3Rpb24gKHRlbmFudF9uYW1lKSB7XG5cdCAgICBpZiAoIXRlbmFudF9uYW1lIHx8IHRlbmFudF9uYW1lLmxlbmd0aCA8IDMpIHtcblx0ICAgICAgcmV0dXJuIFtdO1xuXHQgICAgfVxuXHQgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lKHRlbmFudF9uYW1lKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZtLnNlYXJjaGVkVGVuYW50cyA9IHJlc3BvbnNlO1xuXHQgICAgICBpZiAodm0uc2VhcmNoZWRUZW5hbnRzKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLnNlYXJjaGVkVGVuYW50cy5tYXAoZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICAgIHJldHVybiBpLm5hbWU7XG5cdCAgICAgICAgfSkuc29ydChfamF2YXNjcmlwdE5hdHVyYWxTb3J0Mi5kZWZhdWx0KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSAnVW5hYmxlIHRvIGZldGNoIHRlbmFudHMuIEVycm9yOiAnICsgcmVzcG9uc2Uuc3RhdHVzO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1RlbmFudFZhbGlkID0gZnVuY3Rpb24gKHRlbmFudF9uYW1lKSB7XG5cdCAgICBpZiAoIXRlbmFudF9uYW1lIHx8IHRlbmFudF9uYW1lLmxlbmd0aCA8IDMpIHtcblx0ICAgICAgcmV0dXJuIFtdO1xuXHQgICAgfVxuXHQgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lKHRlbmFudF9uYW1lKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2YXIgbWF0Y2ggPSByZXNwb25zZTtcblx0ICAgICAgaWYgKG1hdGNoKSB7XG5cdCAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHQgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKG1hdGNoKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHQgICAgICAgICAgICB2YXIgZWFjaE5hbWUgPSBfc3RlcC52YWx1ZTtcblx0XG5cdCAgICAgICAgICAgIGlmICh0ZW5hbnRfbmFtZSA9PT0gZWFjaE5hbWUubmFtZSkge1xuXHQgICAgICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgdm0uc2VhcmNoTWF0Y2ggPSBlYWNoTmFtZTtcblx0ICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdCAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0ICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcblx0ICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuXHQgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZWRpdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHsgdGVuYW50S2V5OiBpdGVtLmtleSB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5kZWxldGVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmRlbGV0ZShpdGVtKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmluaXRpYWxpemUoKTtcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBzd2VldC5zaG93KHtcblx0ICAgICAgdGl0bGU6IFwiQXJlIHlvdSBzdXJlP1wiLFxuXHQgICAgICB0ZXh0OiBcIlRoaXMgd2lsbCBwZXJtYW5lbnRseSByZW1vdmUgdGhlIHRlbmFudCBmcm9tIHRoZSBzeXN0ZW0uXCIsXG5cdCAgICAgIHR5cGU6IFwid2FybmluZ1wiLFxuXHQgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuXHQgICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiI0RENkI1NVwiLFxuXHQgICAgICBjb25maXJtQnV0dG9uVGV4dDogXCJZZXMsIHJlbW92ZSB0aGUgdGVuYW50IVwiLFxuXHQgICAgICBjbG9zZU9uQ29uZmlybTogdHJ1ZVxuXHQgICAgfSwgY2FsbGJhY2spO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLlRlbmFudHNDdHJsID0gVGVuYW50c0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDczMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFdlbGNvbWVDdHJsLiRpbmplY3QgPSBbXCJWZXJzaW9uc1NlcnZpY2VcIiwgXCIkc3RhdGVcIiwgXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gV2VsY29tZUN0cmwoVmVyc2lvbnNTZXJ2aWNlLCAkc3RhdGUsIERpc3RyaWJ1dG9yc1NlcnZpY2UsIFNlc3Npb25zU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS52ZXJzaW9uX2RhdGEgPSBbXTtcblx0ICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0XG5cdCAgdm0ucHJvY2VlZFRvU2lnbkluID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnc2lnbl9pbicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNhcGl0YWxpemVGaXJzdExldHRlciA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcblx0ICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2l2ZU9wdGlvblRvQ2hhbmdlRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgZGlzdHJpYnV0b3JzUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZmV0Y2hBbGxCeVVzZXIoU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSk7XG5cdCAgICByZXR1cm4gZGlzdHJpYnV0b3JzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmhhc19tdWx0aXBsZV9kaXN0cmlidXRvcnMgPSBkYXRhLmxlbmd0aCA+IDE7XG5cdCAgICAgIHJldHVybiB2bS5sb2FkaW5nID0gZmFsc2U7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5jaGFuZ2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IFZlcnNpb25zU2VydmljZS5nZXRWZXJzaW9ucygpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udmVyc2lvbl9kYXRhID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5pZGVudGl0eSA9IHtcblx0ICAgICAga2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpLFxuXHQgICAgICBlbWFpbDogU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJFbWFpbCgpLFxuXHQgICAgICBkaXN0cmlidXRvcktleTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLFxuXHQgICAgICBkaXN0cmlidXRvck5hbWU6IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKClcblx0ICAgIH07XG5cdFxuXHQgICAgdm0uZ2l2ZU9wdGlvblRvQ2hhbmdlRGlzdHJpYnV0b3IoKTtcblx0XG5cdCAgICBpZiAoIXZtLmlkZW50aXR5LmVtYWlsKSB7XG5cdCAgICAgIHJldHVybiAkc3RhdGUuZ28oXCJzaWduX2luXCIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldFZlcnNpb24oKTtcblx0ICAgIH1cblx0ICB9O1xuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLldlbGNvbWVDdHJsID0gV2VsY29tZUN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDczNDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMucm91dGVzID0gcm91dGVzO1xuXHRmdW5jdGlvbiByb3V0ZXMoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgUmVzdGFuZ3VsYXJQcm92aWRlcikge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduX2luXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaWRlbnRpdHk6IFtcIklkZW50aXR5U2VydmljZVwiLCBmdW5jdGlvbiBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG5cdCAgICAgIH1dLFxuXHQgICAgICBub3RBdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBub3RBdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLm5vdEF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3NpZ25faW5cIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduX2luLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduZWRfb3V0XCIsIHtcblx0ICAgIHVybDogXCIvc2lnbmVkX291dFwiLFxuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpZGVudGl0eTogW1wiSWRlbnRpdHlTZXJ2aWNlXCIsIGZ1bmN0aW9uIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgfV0sXG5cdCAgICAgIG5vdEF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIG5vdEF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2Uubm90QXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduZWRfb3V0Lmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduX291dFwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGlkZW50aXR5OiBbXCJJZGVudGl0eVNlcnZpY2VcIiwgZnVuY3Rpb24gaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuXHQgICAgICB9XSxcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9zaWduX291dFwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2F1dGhlbnRpY2F0aW9uL3NpZ25fb3V0Lmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkaXN0cmlidXRvcl9zZWxlY3Rpb25cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2Rpc3RyaWJ1dG9yX3NlbGVjdGlvblwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9yX3NlbGVjdG9yLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiRGlzdHJpYnV0b3JTZWxlY3RvckN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiaG9tZVwiLCB7XG5cdCAgICB1cmw6IFwiL1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3dlbGNvbWUvd2VsY29tZS5odG1sXCIsXG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGlkZW50aXR5OiBbXCJJZGVudGl0eVNlcnZpY2VcIiwgZnVuY3Rpb24gaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuXHQgICAgICB9XSxcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgY29udHJvbGxlcjogXCJXZWxjb21lQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnd2VsY29tZUN0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ1NreWtpdCBQcm92aXNpb25pbmcnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ3ZWxjb21lXCIsIHtcblx0ICAgIHVybDogXCIvd2VsY29tZVwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3dlbGNvbWUvd2VsY29tZS5odG1sXCIsXG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGlkZW50aXR5OiBbXCJJZGVudGl0eVNlcnZpY2VcIiwgZnVuY3Rpb24gaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuXHQgICAgICB9XSxcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgY29udHJvbGxlcjogXCJXZWxjb21lQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnd2VsY29tZUN0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ1NreWtpdCBQcm92aXNpb25pbmcnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkb21haW5zXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9kb21haW5zXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZG9tYWluL2RvbWFpbnMtbGlzdGluZy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkRvbWFpbnNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdkb21haW5zQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnRG9tYWlucydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkZERvbWFpblwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvZG9tYWlucy9hZGRcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kb21haW4vZG9tYWluLWRldGFpbC5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkRvbWFpbkRldGFpbHNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdkb21haW5EZXRhaWxzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnQWRkIGRvbWFpbicsXG5cdCAgICAgIHBhcmVudDogJ2RvbWFpbnMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlZGl0RG9tYWluXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9kb21haW5zLzpkb21haW5LZXlcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kb21haW4vZG9tYWluLWRldGFpbC5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkRvbWFpbkRldGFpbHNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdkb21haW5EZXRhaWxzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgZG9tYWluRGV0YWlsc0N0cmwuY3VycmVudERvbWFpbi5uYW1lIH19Jyxcblx0ICAgICAgcGFyZW50OiAnZG9tYWlucydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudHNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHNcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50cy1saXN0aW5nLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50c0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudHNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdUZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkVGVuYW50XCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzL2FkZFwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtYWRkLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50QWRkQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50QWRkQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnQWRkIHRlbmFudCcsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnREZXRhaWxzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvZGV0YWlsc1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtZGV0YWlscy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudERldGFpbHNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnREZXRhaWxzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50RGV0YWlsc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19Jyxcblx0ICAgICAgcGFyZW50OiAndGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudE1hbmFnZWREZXZpY2VzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvbWFuYWdlZFwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbWFuYWdlZC1kZXZpY2VzLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TWFuYWdlZERldmljZXNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IHRlbmFudE1hbmFnZWREZXZpY2VzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50VW5tYW5hZ2VkRGV2aWNlc1wiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L3VubWFuYWdlZFwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtdW5tYW5hZ2VkLWRldmljZXMuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IHRlbmFudFVubWFuYWdlZERldmljZXNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRMb2NhdGlvbnNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9sb2NhdGlvbnNcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9ucy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudExvY2F0aW9uc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvY2F0aW9uc0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IHRlbmFudExvY2F0aW9uc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19Jyxcblx0ICAgICAgcGFyZW50OiAndGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXRMb2NhdGlvblwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvbG9jYXRpb25zLzpsb2NhdGlvbktleVwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvY2F0aW9uQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9jYXRpb25DdHJsLnRlbmFudE5hbWUgfX0gIC8ge3sgdGVuYW50TG9jYXRpb25DdHJsLmxvY2F0aW9uTmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJhZGRMb2NhdGlvblwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2xvY2F0aW9uXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbi5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudExvY2F0aW9uQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50TG9jYXRpb25DdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2NhdGlvbkN0cmwudGVuYW50TmFtZSB9fSAgLyBMb2NhdGlvbicsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkZXZpY2VzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9kZXZpY2VzXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGV2aWNlL2RldmljZXMtbGlzdGluZy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkRldmljZXNMaXN0aW5nQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnZGV2aWNlc0xpc3RpbmdDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdEZXZpY2VzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZWRpdERldmljZVwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGlkZW50aXR5OiBbXCJJZGVudGl0eVNlcnZpY2VcIiwgZnVuY3Rpb24gaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuXHQgICAgICB9XSxcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9kZXZpY2VzLzpkZXZpY2VLZXk/dGVuYW50S2V5P2Zyb21EZXZpY2VzXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGV2aWNlL2RldmljZS1kZXRhaWwuaHRtbFwiLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IGRldmljZURldGFpbHNDdHJsLmN1cnJlbnREZXZpY2Uua2V5IH19Jyxcblx0ICAgICAgcGFyZW50OiAnZGV2aWNlcydcblx0ICAgIH0sXG5cdCAgICBjb250cm9sbGVyOiAnRGV2aWNlRGV0YWlsc0N0cmwnLFxuXHQgICAgZnVuY3Rpb246IGZ1bmN0aW9uIF9mdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xuXHQgICAgICAkc2NvcGUudGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfSxcblx0XG5cdCAgICBjb250cm9sbGVyQXM6ICdkZXZpY2VEZXRhaWxzQ3RybCdcblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInByb29mXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9wcm9vZlwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3Byb29mL21haW4uaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJQcm9vZk9mUGxheUN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdQcm9vZiBvZiBQbGF5J1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicHJvb2ZEZXRhaWxcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3Byb29mLzp0ZW5hbnRcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wcm9vZi9kZXRhaWwuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJQcm9vZk9mUGxheUN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdQcm9vZiBvZiBQbGF5J1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRtaW5cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpc0FkbWluOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBpc0FkbWluKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4oKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2FkbWluXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYWRtaW4vYWRtaW4uaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJBZG1pbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdBZG1pbidcblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL3NpZ25faW4nKTtcblx0XG5cdCAgUmVzdGFuZ3VsYXJQcm92aWRlci5zZXRCYXNlVXJsKCcvYXBpL3YxJyk7XG5cdFxuXHQgIFJlc3Rhbmd1bGFyUHJvdmlkZXIuYWRkUmVzcG9uc2VJbnRlcmNlcHRvcihmdW5jdGlvbiAoZGF0YSwgb3BlcmF0aW9uLCByZXNvdXJjZVR5cGUsIHVybCwgcmVzcG9uc2UsIGRlZmVycmVkKSB7XG5cdCAgICB2YXIgcmVzdWx0ID0gZGF0YTtcblx0ICAgIC8vIFVuY29tbWVudCB0aGlzIGZvciBwYWdpbmF0aW9uIHN1cHBvcnQgd2hlbiB1c2luZyBQYWdpbmdMaXN0SGFuZGxlck1peGluIG9uIHRoZSBQeXRob24gc2lkZS5cblx0ICAgIC8vICAgIGlmIHJlc291cmNlVHlwZSA9PSAnZGV2aWNlcycgYW5kIG9wZXJhdGlvbiA9ICdnZXRMaXN0JyBhbmQgdXJsID09ICcvYXBpL3YxL2RldmljZXMnXG5cdCAgICAvLyAgICAgIHJlc3VsdCA9IGRhdGEub2JqZWN0c1xuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0UmVzdGFuZ3VsYXJGaWVsZHMoe1xuXHQgICAgaWQ6ICdrZXknXG5cdCAgfSk7XG5cdH1cblx0XG5cdHJvdXRlcy4kaW5qZWN0ID0gW1wiJHN0YXRlUHJvdmlkZXJcIiwgXCIkdXJsUm91dGVyUHJvdmlkZXJcIiwgXCJSZXN0YW5ndWxhclByb3ZpZGVyXCJdO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MzU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRhcHBSdW4uJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCIsIFwiJGxvY2F0aW9uXCIsIFwiJGluamVjdG9yXCIsIFwiJHJvb3RTY29wZVwiLCBcIiR0aW1lb3V0XCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5hcHBSdW4gPSBhcHBSdW47XG5cdGZ1bmN0aW9uIGFwcFJ1bihSZXN0YW5ndWxhciwgJGxvY2F0aW9uLCAkaW5qZWN0b3IsICRyb290U2NvcGUsICR0aW1lb3V0KSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgc3RhdGVDaGFuZ2VXYXRjaCA9IGZ1bmN0aW9uIHN0YXRlQ2hhbmdlV2F0Y2goKSB7XG5cdCAgICB2YXIgc3RhdGUgPSAkaW5qZWN0b3IuZ2V0KCckc3RhdGUnKTtcblx0ICAgIHJldHVybiAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XG5cdCAgICAgIGlmIChlcnJvclswXSA9PT0gXCJhdXRoRXJyb3JcIikge1xuXHQgICAgICAgIHJldHVybiBzdGF0ZS5nbyhlcnJvclsxXSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgICR0aW1lb3V0KHN0YXRlQ2hhbmdlV2F0Y2gsIDUwMCk7XG5cdFxuXHQgIHZhciByZXF1ZXN0SW50ZXJjZXB0b3IgPSBmdW5jdGlvbiByZXF1ZXN0SW50ZXJjZXB0b3IoKSB7XG5cdCAgICBSZXN0YW5ndWxhci5hZGRSZXF1ZXN0SW50ZXJjZXB0b3IoZnVuY3Rpb24gKGVsZW0sIG9wZXJhdGlvbiwgd2hhdCwgdXJsKSB7XG5cdCAgICAgIHZhciBTdG9yYWdlU2VydmljZSA9ICRpbmplY3Rvci5nZXQoJ1N0b3JhZ2VTZXJ2aWNlJyk7XG5cdFxuXHQgICAgICB2YXIgYXV0aFRva2VuID0gJzZDMzQ2NTg4QkQ0QzZENzIyQTExNjVCNDNDNTFDJztcblx0ICAgICAgaWYgKCRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMSkge1xuXHQgICAgICAgIGF1dGhUb2tlbiA9ICc1WFpIQkYzbU93cUpsWUFsRzFOZWVXWDBDYjcyZyc7XG5cdCAgICAgIH1cblx0ICAgICAgUmVzdGFuZ3VsYXIuc2V0RGVmYXVsdEhlYWRlcnMoe1xuXHQgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdCAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcblx0ICAgICAgICAnQXV0aG9yaXphdGlvbic6IGF1dGhUb2tlbixcblx0ICAgICAgICAnWC1Qcm92aXNpb25pbmctVXNlcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlcktleScpLFxuXHQgICAgICAgICdYLVByb3Zpc2lvbmluZy1EaXN0cmlidXRvcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5Jylcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICBpZiAob3BlcmF0aW9uID09PSAncmVtb3ZlJykge1xuXHQgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBlbGVtO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgJHRpbWVvdXQocmVxdWVzdEludGVyY2VwdG9yLCA1MDApO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDczNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnRvYXN0ckNvbmZpZyA9IHRvYXN0ckNvbmZpZztcblx0ZXhwb3J0cy5icmVhZGNydW1iUHJvdmlkZXIgPSBicmVhZGNydW1iUHJvdmlkZXI7XG5cdFxuXHR2YXIgX2FuZ3VsYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2OSk7XG5cdFxuXHR2YXIgX2FuZ3VsYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5ndWxhcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gdG9hc3RyQ29uZmlnKHRvYXN0ckNvbmZpZykge1xuXHQgIF9hbmd1bGFyMi5kZWZhdWx0LmV4dGVuZCh0b2FzdHJDb25maWcsIHtcblx0ICAgIHByb2dyZXNzQmFyOiB0cnVlLFxuXHQgICAgY2xvc2VCdXR0b246IHRydWUsXG5cdCAgICB0YXBUb0Rpc21pc3M6IHRydWUsXG5cdCAgICBuZXdlc3RPblRvcDogdHJ1ZSxcblx0ICAgIHBvc2l0aW9uQ2xhc3M6ICd0b2FzdC1ib3R0b20tbGVmdCcsXG5cdCAgICB0aW1lT3V0OiA1MDAwXG5cdCAgfSk7XG5cdH1cblx0dG9hc3RyQ29uZmlnLiRpbmplY3QgPSBbJ3RvYXN0ckNvbmZpZyddO1xuXHRcblx0ZnVuY3Rpb24gYnJlYWRjcnVtYlByb3ZpZGVyKCRicmVhZGNydW1iUHJvdmlkZXIpIHtcblx0ICAkYnJlYWRjcnVtYlByb3ZpZGVyLnNldE9wdGlvbnMoe1xuXHQgICAgcHJlZml4U3RhdGVOYW1lOiAnaG9tZScsXG5cdCAgICB0ZW1wbGF0ZTogJ2Jvb3RzdHJhcDMnXG5cdCAgfSk7XG5cdH1cblx0XG5cdGJyZWFkY3J1bWJQcm92aWRlci4kaW5qZWN0ID0gW1wiJGJyZWFkY3J1bWJQcm92aWRlclwiXTtcblxuLyoqKi8gfVxuXG59KTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBhcHAuYnVuZGxlLmpzXG4gKiovIiwiaW1wb3J0IHthcHB9IGZyb20gJy4vYXBwJ1xuLy8gRGV2aWNlXG5pbXBvcnQge0RldmljZURldGFpbHNDb21tYW5kc0N0cmx9IGZyb20gJy4vZGV2aWNlL2RldmljZS1kZXRhaWwtY29tbWFuZCdcbmltcG9ydCB7RGV2aWNlRGV0YWlsc0N0cmx9IGZyb20gJy4vZGV2aWNlL2RldmljZS1kZXRhaWxzLmNvbnRyb2xsZXInXG5pbXBvcnQge0RldmljZXNMaXN0aW5nQ3RybH0gZnJvbSAnLi9kZXZpY2UvZGV2aWNlcy1saXN0aW5nLmNvbnRyb2xsZXInXG4vLyBBZG1pblxuaW1wb3J0IHtBZG1pbkN0cmx9IGZyb20gJy4vYWRtaW4vYWRtaW4tY29udHJvbGxlcidcbi8vIEF1dGhlbnRpY2F0aW9uXG5pbXBvcnQge0F1dGhlbnRpY2F0aW9uQ3RybH0gZnJvbSAnLi9hdXRoZW50aWNhdGlvbi9hdXRoZW50aWNhdGlvbi1jb250cm9sbGVyJ1xuLy8gQXBwXG5pbXBvcnQge0FwcENvbnRyb2xsZXJ9IGZyb20gJy4vYXBwL2FwcC1jb250cm9sbGVyJ1xuLy8gRGlzdHJpYnV0b3JzXG5pbXBvcnQge0Rpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsfSBmcm9tICcuL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9yLXNlbGVjdG9yLWNvbnRyb2xsZXInXG5pbXBvcnQge0Rpc3RyaWJ1dG9yc0N0cmx9IGZyb20gJy4vZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3JzLWNvbnRyb2xsZXInXG4vLyBEb21haW5zXG5pbXBvcnQge0RvbWFpbnNDdHJsfSBmcm9tICcuL2RvbWFpbi9kb21haW5zLmNvbnRyb2xsZXInXG5pbXBvcnQge0RvbWFpbkRldGFpbHNDdHJsfSBmcm9tICcuL2RvbWFpbi9kb21haW4tZGV0YWlscy5jb250cm9sbGVyJ1xuLy8gUHJvb2ZQbGF5XG5pbXBvcnQge1Byb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmx9IGZyb20gJy4vcHJvb2YvbXVsdGktbG9jYXRpb24uY29udHJvbGxlcidcbmltcG9ydCB7UHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsfSBmcm9tICcuL3Byb29mL211bHRpLWRpc3BsYXkuY29udHJvbGxlcidcbmltcG9ydCB7UHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybH0gZnJvbSAnLi9wcm9vZi9tdWx0aS1yZXNvdXJjZS5jb250cm9sbGVyJ1xuaW1wb3J0IHtQcm9vZk9mUGxheUN0cmx9IGZyb20gJy4vcHJvb2YvcHJvb2Ytb2YtcGxheS5jb250cm9sbGVyJ1xuLy8gU2VydmljZXNcbmltcG9ydCBBZG1pblNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9hZG1pbi5zZXJ2aWNlJ1xuaW1wb3J0IEF1dGhvcml6YXRpb25TZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvYXV0aG9yaXphdGlvbi5zZXJ2aWNlJ1xuaW1wb3J0IENvbW1hbmRzU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2NvbW1hbmRzLnNlcnZpY2UnXG5pbXBvcnQgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9kYXRlbWFuaXB1bGF0aW9uLnNlcnZpY2UnXG5pbXBvcnQgRGV2aWNlc1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9kZXZpY2VzLnNlcnZpY2UnXG5pbXBvcnQgRGlzdHJpYnV0b3JzU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2Rpc3RyaWJ1dG9ycy5zZXJ2aWNlJ1xuaW1wb3J0IERvbWFpbnNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvZG9tYWlucy5zZXJ2aWNlJ1xuaW1wb3J0IElkZW50aXR5U2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2lkZW50aXR5LnNlcnZpY2UnXG5pbXBvcnQgSW50ZWdyYXRpb25FdmVudHMgZnJvbSAnLi9zZXJ2aWNlcy9pbnRlZ3JhdGlvbi1ldmVudHMuc2VydmljZSdcbmltcG9ydCBMb2NhdGlvbnNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvbG9jYXRpb25zLnNlcnZpY2UnXG5pbXBvcnQgUHJvZ3Jlc3NCYXJTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvcHJvZ3Jlc3NiYXIuc2VydmljZSdcbmltcG9ydCBQcm9vZlBsYXlTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvcHJvb2ZwbGF5LnNlcnZpY2UnXG5pbXBvcnQgU2Vzc2lvbnNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvc2Vzc2lvbnMuc2VydmljZSdcbmltcG9ydCBTdG9yYWdlU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3N0b3JhZ2Uuc2VydmljZSdcbmltcG9ydCBUZW5hbnRzU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3RlbmFudHMuc2VydmljZSdcbmltcG9ydCBUaW1lem9uZXNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvdGltZXpvbmVzLnNlcnZpY2UnXG5pbXBvcnQgVG9hc3RzU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3RvYXN0cy5zZXJ2aWNlJ1xuaW1wb3J0IFZlcnNpb25zU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3ZlcnNpb25zLnNlcnZpY2UnXG4vLyBUZW5hbnRcbmltcG9ydCB7VGVuYW50QWRkQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LWFkZC5jb250cm9sbGVyJ1xuaW1wb3J0IHtUZW5hbnREZXRhaWxzQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LWRldGFpbHMuY29udHJvbGxlcidcbmltcG9ydCB7VGVuYW50TG9jYXRpb25DdHJsfSBmcm9tICcuL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uY29udHJvbGxlcidcbmltcG9ydCB7VGVuYW50TG9jYXRpb25zQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LWxvY2F0aW9ucy5jb250cm9sbGVyJ1xuaW1wb3J0IHtUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmx9IGZyb20gJy4vdGVuYW50L3RlbmFudC1tYW5hZ2VkLWRldmljZXMuY29udHJvbGxlcidcbmltcG9ydCB7VGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmx9IGZyb20gJy4vdGVuYW50L3RlbmFudC11bm1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyJ1xuaW1wb3J0IHtUZW5hbnRzQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50cy5jb250cm9sbGVyJ1xuLy8gV2VsY29tZVxuaW1wb3J0IHtXZWxjb21lQ3RybH0gZnJvbSAnLi93ZWxjb21lL3dlbGNvbWUtY29udHJvbGxlcidcbi8vIENvbmZpZ1xuaW1wb3J0IHtyb3V0ZXN9IGZyb20gJy4vYXBwLXJvdXRlcydcbmltcG9ydCB7YXBwUnVufSBmcm9tICcuL2FwcC1ydW4nO1xuaW1wb3J0IHt0b2FzdHJDb25maWcsIGJyZWFkY3J1bWJQcm92aWRlcn0gZnJvbSAnLi9hcHAtY29uZmlnJ1xuXG5cbmFwcFxuLy8gU2VydmljZXNcbiAgLnNlcnZpY2UoXCJTdG9yYWdlU2VydmljZVwiLCBTdG9yYWdlU2VydmljZSlcbiAgLnNlcnZpY2UoXCJBZG1pblNlcnZpY2VcIiwgQWRtaW5TZXJ2aWNlKVxuICAuc2VydmljZShcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIEF1dGhvcml6YXRpb25TZXJ2aWNlKVxuICAuc2VydmljZShcIkNvbW1hbmRzU2VydmljZVwiLCBDb21tYW5kc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2VcIiwgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiRGV2aWNlc1NlcnZpY2VcIiwgRGV2aWNlc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiRGlzdHJpYnV0b3JzU2VydmljZVwiLCBEaXN0cmlidXRvcnNTZXJ2aWNlKVxuICAuc2VydmljZShcIkRvbWFpbnNTZXJ2aWNlXCIsIERvbWFpbnNTZXJ2aWNlKVxuICAuc2VydmljZShcIklkZW50aXR5U2VydmljZVwiLCBJZGVudGl0eVNlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiSW50ZWdyYXRpb25FdmVudHNcIiwgSW50ZWdyYXRpb25FdmVudHMpXG4gIC5zZXJ2aWNlKFwiTG9jYXRpb25zU2VydmljZVwiLCBMb2NhdGlvbnNTZXJ2aWNlKVxuICAuc2VydmljZShcIlByb2dyZXNzQmFyU2VydmljZVwiLCBQcm9ncmVzc0JhclNlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiUHJvb2ZQbGF5U2VydmljZVwiLCBQcm9vZlBsYXlTZXJ2aWNlKVxuICAuc2VydmljZShcIlNlc3Npb25zU2VydmljZVwiLCBTZXNzaW9uc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiVGVuYW50c1NlcnZpY2VcIiwgVGVuYW50c1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiVGltZXpvbmVzU2VydmljZVwiLCBUaW1lem9uZXNTZXJ2aWNlKVxuICAuc2VydmljZShcIlRvYXN0c1NlcnZpY2VcIiwgVG9hc3RzU2VydmljZSlcbiAgLnNlcnZpY2UoXCJWZXJzaW9uc1NlcnZpY2VcIiwgVmVyc2lvbnNTZXJ2aWNlKVxuICAvLyBEZXZpY2VcbiAgLmNvbnRyb2xsZXIoXCJEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsXCIsIERldmljZURldGFpbHNDb21tYW5kc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiRGV2aWNlRGV0YWlsc0N0cmxcIiwgRGV2aWNlRGV0YWlsc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiRGV2aWNlc0xpc3RpbmdDdHJsXCIsIERldmljZXNMaXN0aW5nQ3RybClcbiAgLy8gQWRtaW5cbiAgLmNvbnRyb2xsZXIoXCJBZG1pbkN0cmxcIiwgQWRtaW5DdHJsKVxuICAvLyBBdXRoZW50aWNhdGlvblxuICAuY29udHJvbGxlcihcIkF1dGhlbnRpY2F0aW9uQ3RybFwiLCBBdXRoZW50aWNhdGlvbkN0cmwpXG4gIC8vIEFwcFxuICAuY29udHJvbGxlcihcIkFwcENvbnRyb2xsZXJcIiwgQXBwQ29udHJvbGxlcilcbiAgLy8gRGlzdHJpYnV0b3JzXG4gIC5jb250cm9sbGVyKFwiRGlzdHJpYnV0b3JTZWxlY3RvckN0cmxcIiwgRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwpXG4gIC5jb250cm9sbGVyKFwiRGlzdHJpYnV0b3JzQ3RybFwiLCBEaXN0cmlidXRvcnNDdHJsKVxuICAvLyBEb21haW5zXG4gIC5jb250cm9sbGVyKFwiRG9tYWluc0N0cmxcIiwgRG9tYWluc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiRG9tYWluRGV0YWlsc0N0cmxcIiwgRG9tYWluRGV0YWlsc0N0cmwpXG4gIC8vIFByb29mUGxheVxuICAuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmxcIiwgUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmxcIiwgUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsKVxuICAuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmxcIiwgUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheUN0cmxcIiwgUHJvb2ZPZlBsYXlDdHJsKVxuICAvLyBUZW5hbnRzXG4gIC5jb250cm9sbGVyKFwiVGVuYW50QWRkQ3RybFwiLCBUZW5hbnRBZGRDdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudERldGFpbHNDdHJsXCIsIFRlbmFudERldGFpbHNDdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudExvY2F0aW9uQ3RybFwiLCBUZW5hbnRMb2NhdGlvbkN0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50TG9jYXRpb25zQ3RybFwiLCBUZW5hbnRMb2NhdGlvbnNDdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybFwiLCBUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmxcIiwgVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50c0N0cmxcIiwgVGVuYW50c0N0cmwpXG4gIC8vIFdlbGNvbWVcbiAgLmNvbnRyb2xsZXIoXCJXZWxjb21lQ3RybFwiLCBXZWxjb21lQ3RybClcbiAgLy8gYXBwUnVuIEJsb2NrXG4gIC5ydW4oYXBwUnVuKVxuICAvLyBDb25maWdcbiAgLmNvbmZpZyhyb3V0ZXMpXG4gIC5jb25maWcodG9hc3RyQ29uZmlnKVxuICAuY29uZmlnKGJyZWFkY3J1bWJQcm92aWRlcilcblxuLy8gUmVxdWVzdCBJbnRlcmNlcHRvclxuYXBwLnNlcnZpY2UoJ1JlcXVlc3RJbnRlcmNlcHRvcicsIGZ1bmN0aW9uIChTdG9yYWdlU2VydmljZSwgJGxvY2F0aW9uKSB7XG4gIFwibmdJbmplY3RcIjtcbiAgbGV0IGludGVyY2VwdG9yID0ge1xuICAgIHJlcXVlc3QoY29uZmlnKSB7XG4gICAgICBsZXQgZ3MgPSAnNVhaSEJGM21Pd3FKbFlBbEcxTmVlV1gwQ2I3MmcnO1xuICAgICAgbGV0IHByb2QgPSAnNkMzNDY1ODhCRDRDNkQ3MjJBMTE2NUI0M0M1MUMnO1xuICAgICAgY29uZmlnLmhlYWRlcnMgPSB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdBdXRob3JpemF0aW9uJzogJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xID8gZ3MgOiBwcm9kLFxuICAgICAgICAnWC1Qcm92aXNpb25pbmctVXNlcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlcktleScpLFxuICAgICAgICAnWC1Qcm92aXNpb25pbmctVXNlci1JZGVudGlmaWVyJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyRW1haWwnKSxcbiAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLURpc3RyaWJ1dG9yJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCdjdXJyZW50RGlzdHJpYnV0b3JLZXknKVxuICAgICAgfTtcbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxuICB9O1xuICByZXR1cm4gaW50ZXJjZXB0b3I7XG59KTtcblxuXG5hcHAuY29uZmlnKCRodHRwUHJvdmlkZXIgPT4gJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnUmVxdWVzdEludGVyY2VwdG9yJykpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2luZGV4LmpzXG4gKiovIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgdWlSb3V0ZXIgZnJvbSAnYW5ndWxhci11aS1yb3V0ZXInO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0ICdhbmd1bGFyLXRvb2x0aXBzJztcbmltcG9ydCAnbGYtbmctbWQtZmlsZS1pbnB1dCdcbmltcG9ydCAnbGYtbmctbWQtZmlsZS1pbnB1dC9kaXN0L2xmLW5nLW1kLWZpbGUtaW5wdXQuY3NzJ1xuaW1wb3J0ICdhbmd1bGFyLXRvb2x0aXBzL2Rpc3QvYW5ndWxhci10b29sdGlwcy5jc3MnXG5pbXBvcnQgJ2FuZ3VsYXItdG9hc3RyL2Rpc3QvYW5ndWxhci10b2FzdHIuY3NzJ1xuaW1wb3J0ICdhbmd1bGFyLXRvYXN0cic7XG5pbXBvcnQgXCJmb250LWF3ZXNvbWUvY3NzL2ZvbnQtYXdlc29tZS5jc3NcIjtcbmltcG9ydCAnbm9ybWFsaXplLmNzcyc7XG5pbXBvcnQgXCJib290c3RyYXAtd2VicGFja1wiO1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzJztcbmltcG9ydCAnLi9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5jc3MnO1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvYW5ndWxhckJyZWFkY3J1bWIvYW5ndWxhckJyZWFkY3J1bWInO1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci9qcy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyJ1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci9jc3MvbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzJ1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvYW5ndWxhci1kaXJlY3RpdmUuZy1zaWduaW4vZ29vZ2xlLXBsdXMtc2lnbmluJ1xuaW1wb3J0ICdyZXN0YW5ndWxhcic7XG5pbXBvcnQgJ2FuZ3VsYXItbWF0ZXJpYWwnXG5pbXBvcnQgJ3N3ZWV0YWxlcnQnO1xuaW1wb3J0ICdhbmd1bGFyLWgtc3dlZXRhbGVydCc7XG5pbXBvcnQgJ3N3ZWV0YWxlcnQvZGlzdC9zd2VldGFsZXJ0LmNzcyc7XG5pbXBvcnQgJ2FuZ3VsYXItdG9hc3RyJztcbmltcG9ydCAnYW5ndWxhci1jb29raWVzJztcbmltcG9ydCAnYW5ndWxhci1zYW5pdGl6ZSc7XG5pbXBvcnQgJ2FuZ3VsYXItdWktYm9vdHN0cmFwJztcbmltcG9ydCAnbmdjbGlwYm9hcmQnO1xuaW1wb3J0ICdqcXVlcnknO1xuaW1wb3J0ICdhbmd1bGFyLWJyZWFkY3J1bWInXG5pbXBvcnQgJ2FuZ3VsYXItbWF0ZXJpYWwnO1xuLy8gSW1wb3J0IGFuZ3VsYXJcbmltcG9ydCAnYW5ndWxhci9hbmd1bGFyLmpzJztcbi8vIE1hdGVyaWFsIGRlc2lnbiBjc3NcbmltcG9ydCAnYW5ndWxhci1tYXRlcmlhbC9hbmd1bGFyLW1hdGVyaWFsLmNzcyc7XG5pbXBvcnQgJy4vc2Nzcy92ZW5kb3Iuc2NzcydcbmltcG9ydCAnLi9zY3NzL2luZGV4LnNjc3MnXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xud2luZG93Ll8gPSBfO1xud2luZG93LmFuZ3VsYXIgPSBhbmd1bGFyO1xuXG5cbmV4cG9ydCBsZXQgYXBwID0gYW5ndWxhci5tb2R1bGUoJ3NreWtpdFByb3Zpc2lvbmluZycsIFtcbiAgdWlSb3V0ZXIsXG4gICduZ0FuaW1hdGUnLFxuICAnNzIwa2IudG9vbHRpcHMnLFxuICAnbmdDb29raWVzJyxcbiAgJ25nU2FuaXRpemUnLFxuICAncmVzdGFuZ3VsYXInLFxuICAndWkuYm9vdHN0cmFwJyxcbiAgJ25nTWF0ZXJpYWxEYXRlUGlja2VyJyxcbiAgJ2hTd2VldEFsZXJ0JyxcbiAgJ25jeS1hbmd1bGFyLWJyZWFkY3J1bWInLFxuICAnZGlyZWN0aXZlLmcrc2lnbmluJyxcbiAgJ25nUHJvZ3Jlc3MnLFxuICAnbmdNYXRlcmlhbCcsXG4gICduZ2NsaXBib2FyZCcsXG4gICd0b2FzdHInLFxuICAnbGZOZ01kRmlsZUlucHV0J1xuXSlcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9hcHAuanNcbiAqKi8iLCJ2YXIgbWFwID0ge1xuXHRcIi4vYWZcIjogMzc1LFxuXHRcIi4vYWYuanNcIjogMzc1LFxuXHRcIi4vYXJcIjogMzc2LFxuXHRcIi4vYXItbWFcIjogMzc3LFxuXHRcIi4vYXItbWEuanNcIjogMzc3LFxuXHRcIi4vYXItc2FcIjogMzc4LFxuXHRcIi4vYXItc2EuanNcIjogMzc4LFxuXHRcIi4vYXItdG5cIjogMzc5LFxuXHRcIi4vYXItdG4uanNcIjogMzc5LFxuXHRcIi4vYXIuanNcIjogMzc2LFxuXHRcIi4vYXpcIjogMzgwLFxuXHRcIi4vYXouanNcIjogMzgwLFxuXHRcIi4vYmVcIjogMzgxLFxuXHRcIi4vYmUuanNcIjogMzgxLFxuXHRcIi4vYmdcIjogMzgyLFxuXHRcIi4vYmcuanNcIjogMzgyLFxuXHRcIi4vYm5cIjogMzgzLFxuXHRcIi4vYm4uanNcIjogMzgzLFxuXHRcIi4vYm9cIjogMzg0LFxuXHRcIi4vYm8uanNcIjogMzg0LFxuXHRcIi4vYnJcIjogMzg1LFxuXHRcIi4vYnIuanNcIjogMzg1LFxuXHRcIi4vYnNcIjogMzg2LFxuXHRcIi4vYnMuanNcIjogMzg2LFxuXHRcIi4vY2FcIjogMzg3LFxuXHRcIi4vY2EuanNcIjogMzg3LFxuXHRcIi4vY3NcIjogMzg4LFxuXHRcIi4vY3MuanNcIjogMzg4LFxuXHRcIi4vY3ZcIjogMzg5LFxuXHRcIi4vY3YuanNcIjogMzg5LFxuXHRcIi4vY3lcIjogMzkwLFxuXHRcIi4vY3kuanNcIjogMzkwLFxuXHRcIi4vZGFcIjogMzkxLFxuXHRcIi4vZGEuanNcIjogMzkxLFxuXHRcIi4vZGVcIjogMzkyLFxuXHRcIi4vZGUtYXRcIjogMzkzLFxuXHRcIi4vZGUtYXQuanNcIjogMzkzLFxuXHRcIi4vZGUuanNcIjogMzkyLFxuXHRcIi4vZHZcIjogMzk0LFxuXHRcIi4vZHYuanNcIjogMzk0LFxuXHRcIi4vZWxcIjogMzk1LFxuXHRcIi4vZWwuanNcIjogMzk1LFxuXHRcIi4vZW4tYXVcIjogMzk2LFxuXHRcIi4vZW4tYXUuanNcIjogMzk2LFxuXHRcIi4vZW4tY2FcIjogMzk3LFxuXHRcIi4vZW4tY2EuanNcIjogMzk3LFxuXHRcIi4vZW4tZ2JcIjogMzk4LFxuXHRcIi4vZW4tZ2IuanNcIjogMzk4LFxuXHRcIi4vZW4taWVcIjogMzk5LFxuXHRcIi4vZW4taWUuanNcIjogMzk5LFxuXHRcIi4vZW4tbnpcIjogNDAwLFxuXHRcIi4vZW4tbnouanNcIjogNDAwLFxuXHRcIi4vZW9cIjogNDAxLFxuXHRcIi4vZW8uanNcIjogNDAxLFxuXHRcIi4vZXNcIjogNDAyLFxuXHRcIi4vZXMtZG9cIjogNDAzLFxuXHRcIi4vZXMtZG8uanNcIjogNDAzLFxuXHRcIi4vZXMuanNcIjogNDAyLFxuXHRcIi4vZXRcIjogNDA0LFxuXHRcIi4vZXQuanNcIjogNDA0LFxuXHRcIi4vZXVcIjogNDA1LFxuXHRcIi4vZXUuanNcIjogNDA1LFxuXHRcIi4vZmFcIjogNDA2LFxuXHRcIi4vZmEuanNcIjogNDA2LFxuXHRcIi4vZmlcIjogNDA3LFxuXHRcIi4vZmkuanNcIjogNDA3LFxuXHRcIi4vZm9cIjogNDA4LFxuXHRcIi4vZm8uanNcIjogNDA4LFxuXHRcIi4vZnJcIjogNDA5LFxuXHRcIi4vZnItY2FcIjogNDEwLFxuXHRcIi4vZnItY2EuanNcIjogNDEwLFxuXHRcIi4vZnItY2hcIjogNDExLFxuXHRcIi4vZnItY2guanNcIjogNDExLFxuXHRcIi4vZnIuanNcIjogNDA5LFxuXHRcIi4vZnlcIjogNDEyLFxuXHRcIi4vZnkuanNcIjogNDEyLFxuXHRcIi4vZ2RcIjogNDEzLFxuXHRcIi4vZ2QuanNcIjogNDEzLFxuXHRcIi4vZ2xcIjogNDE0LFxuXHRcIi4vZ2wuanNcIjogNDE0LFxuXHRcIi4vaGVcIjogNDE1LFxuXHRcIi4vaGUuanNcIjogNDE1LFxuXHRcIi4vaGlcIjogNDE2LFxuXHRcIi4vaGkuanNcIjogNDE2LFxuXHRcIi4vaHJcIjogNDE3LFxuXHRcIi4vaHIuanNcIjogNDE3LFxuXHRcIi4vaHVcIjogNDE4LFxuXHRcIi4vaHUuanNcIjogNDE4LFxuXHRcIi4vaHktYW1cIjogNDE5LFxuXHRcIi4vaHktYW0uanNcIjogNDE5LFxuXHRcIi4vaWRcIjogNDIwLFxuXHRcIi4vaWQuanNcIjogNDIwLFxuXHRcIi4vaXNcIjogNDIxLFxuXHRcIi4vaXMuanNcIjogNDIxLFxuXHRcIi4vaXRcIjogNDIyLFxuXHRcIi4vaXQuanNcIjogNDIyLFxuXHRcIi4vamFcIjogNDIzLFxuXHRcIi4vamEuanNcIjogNDIzLFxuXHRcIi4vanZcIjogNDI0LFxuXHRcIi4vanYuanNcIjogNDI0LFxuXHRcIi4va2FcIjogNDI1LFxuXHRcIi4va2EuanNcIjogNDI1LFxuXHRcIi4va2tcIjogNDI2LFxuXHRcIi4va2suanNcIjogNDI2LFxuXHRcIi4va21cIjogNDI3LFxuXHRcIi4va20uanNcIjogNDI3LFxuXHRcIi4va29cIjogNDI4LFxuXHRcIi4va28uanNcIjogNDI4LFxuXHRcIi4va3lcIjogNDI5LFxuXHRcIi4va3kuanNcIjogNDI5LFxuXHRcIi4vbGJcIjogNDMwLFxuXHRcIi4vbGIuanNcIjogNDMwLFxuXHRcIi4vbG9cIjogNDMxLFxuXHRcIi4vbG8uanNcIjogNDMxLFxuXHRcIi4vbHRcIjogNDMyLFxuXHRcIi4vbHQuanNcIjogNDMyLFxuXHRcIi4vbHZcIjogNDMzLFxuXHRcIi4vbHYuanNcIjogNDMzLFxuXHRcIi4vbWVcIjogNDM0LFxuXHRcIi4vbWUuanNcIjogNDM0LFxuXHRcIi4vbWtcIjogNDM1LFxuXHRcIi4vbWsuanNcIjogNDM1LFxuXHRcIi4vbWxcIjogNDM2LFxuXHRcIi4vbWwuanNcIjogNDM2LFxuXHRcIi4vbXJcIjogNDM3LFxuXHRcIi4vbXIuanNcIjogNDM3LFxuXHRcIi4vbXNcIjogNDM4LFxuXHRcIi4vbXMtbXlcIjogNDM5LFxuXHRcIi4vbXMtbXkuanNcIjogNDM5LFxuXHRcIi4vbXMuanNcIjogNDM4LFxuXHRcIi4vbXlcIjogNDQwLFxuXHRcIi4vbXkuanNcIjogNDQwLFxuXHRcIi4vbmJcIjogNDQxLFxuXHRcIi4vbmIuanNcIjogNDQxLFxuXHRcIi4vbmVcIjogNDQyLFxuXHRcIi4vbmUuanNcIjogNDQyLFxuXHRcIi4vbmxcIjogNDQzLFxuXHRcIi4vbmwuanNcIjogNDQzLFxuXHRcIi4vbm5cIjogNDQ0LFxuXHRcIi4vbm4uanNcIjogNDQ0LFxuXHRcIi4vcGEtaW5cIjogNDQ1LFxuXHRcIi4vcGEtaW4uanNcIjogNDQ1LFxuXHRcIi4vcGxcIjogNDQ2LFxuXHRcIi4vcGwuanNcIjogNDQ2LFxuXHRcIi4vcHRcIjogNDQ3LFxuXHRcIi4vcHQtYnJcIjogNDQ4LFxuXHRcIi4vcHQtYnIuanNcIjogNDQ4LFxuXHRcIi4vcHQuanNcIjogNDQ3LFxuXHRcIi4vcm9cIjogNDQ5LFxuXHRcIi4vcm8uanNcIjogNDQ5LFxuXHRcIi4vcnVcIjogNDUwLFxuXHRcIi4vcnUuanNcIjogNDUwLFxuXHRcIi4vc2VcIjogNDUxLFxuXHRcIi4vc2UuanNcIjogNDUxLFxuXHRcIi4vc2lcIjogNDUyLFxuXHRcIi4vc2kuanNcIjogNDUyLFxuXHRcIi4vc2tcIjogNDUzLFxuXHRcIi4vc2suanNcIjogNDUzLFxuXHRcIi4vc2xcIjogNDU0LFxuXHRcIi4vc2wuanNcIjogNDU0LFxuXHRcIi4vc3FcIjogNDU1LFxuXHRcIi4vc3EuanNcIjogNDU1LFxuXHRcIi4vc3JcIjogNDU2LFxuXHRcIi4vc3ItY3lybFwiOiA0NTcsXG5cdFwiLi9zci1jeXJsLmpzXCI6IDQ1Nyxcblx0XCIuL3NyLmpzXCI6IDQ1Nixcblx0XCIuL3NzXCI6IDQ1OCxcblx0XCIuL3NzLmpzXCI6IDQ1OCxcblx0XCIuL3N2XCI6IDQ1OSxcblx0XCIuL3N2LmpzXCI6IDQ1OSxcblx0XCIuL3N3XCI6IDQ2MCxcblx0XCIuL3N3LmpzXCI6IDQ2MCxcblx0XCIuL3RhXCI6IDQ2MSxcblx0XCIuL3RhLmpzXCI6IDQ2MSxcblx0XCIuL3RlXCI6IDQ2Mixcblx0XCIuL3RlLmpzXCI6IDQ2Mixcblx0XCIuL3RoXCI6IDQ2Myxcblx0XCIuL3RoLmpzXCI6IDQ2Myxcblx0XCIuL3RsLXBoXCI6IDQ2NCxcblx0XCIuL3RsLXBoLmpzXCI6IDQ2NCxcblx0XCIuL3RsaFwiOiA0NjUsXG5cdFwiLi90bGguanNcIjogNDY1LFxuXHRcIi4vdHJcIjogNDY2LFxuXHRcIi4vdHIuanNcIjogNDY2LFxuXHRcIi4vdHpsXCI6IDQ2Nyxcblx0XCIuL3R6bC5qc1wiOiA0NjcsXG5cdFwiLi90em1cIjogNDY4LFxuXHRcIi4vdHptLWxhdG5cIjogNDY5LFxuXHRcIi4vdHptLWxhdG4uanNcIjogNDY5LFxuXHRcIi4vdHptLmpzXCI6IDQ2OCxcblx0XCIuL3VrXCI6IDQ3MCxcblx0XCIuL3VrLmpzXCI6IDQ3MCxcblx0XCIuL3V6XCI6IDQ3MSxcblx0XCIuL3V6LmpzXCI6IDQ3MSxcblx0XCIuL3ZpXCI6IDQ3Mixcblx0XCIuL3ZpLmpzXCI6IDQ3Mixcblx0XCIuL3gtcHNldWRvXCI6IDQ3Myxcblx0XCIuL3gtcHNldWRvLmpzXCI6IDQ3Myxcblx0XCIuL3poLWNuXCI6IDQ3NCxcblx0XCIuL3poLWNuLmpzXCI6IDQ3NCxcblx0XCIuL3poLXR3XCI6IDQ3NSxcblx0XCIuL3poLXR3LmpzXCI6IDQ3NVxufTtcbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRyZXR1cm4gbWFwW3JlcV0gfHwgKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKSB9KCkpO1xufTtcbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAzNzQ7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9tb21lbnQvbG9jYWxlIF5cXC5cXC8uKiRcbiAqKiBtb2R1bGUgaWQgPSAzNzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qXG4gbmdwcm9ncmVzcyAxLjEuMiAtIHNsaW0sIHNpdGUtd2lkZSBwcm9ncmVzc2JhciBmb3IgQW5ndWxhckpTIFxuIChDKSAyMDEzIC0gVmljdG9yIEJqZWxraG9sbSBcbiBMaWNlbnNlOiBNSVQgXG4gU291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vVmljdG9yQmplbGtob2xtL25nUHJvZ3Jlc3MgXG4gRGF0ZSBDb21waWxlZDogMjAxNS0wNy0yNyBcbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJuZ1Byb2dyZXNzLnByb3ZpZGVyXCIsIFtcIm5nUHJvZ3Jlc3MuZGlyZWN0aXZlXCJdKS5zZXJ2aWNlKFwibmdQcm9ncmVzc1wiLCBmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICByZXR1cm4gW1wiJGRvY3VtZW50XCIsIFwiJHdpbmRvd1wiLCBcIiRjb21waWxlXCIsIFwiJHJvb3RTY29wZVwiLCBcIiR0aW1lb3V0XCIsIGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlKSB7XG4gICAgdGhpcy5hdXRvU3R5bGUgPSAhMCwgdGhpcy5jb3VudCA9IDAsIHRoaXMuaGVpZ2h0ID0gXCIycHhcIiwgdGhpcy4kc2NvcGUgPSBkLiRuZXcoKSwgdGhpcy5jb2xvciA9IFwiZmlyZWJyaWNrXCIsIHRoaXMucGFyZW50ID0gYS5maW5kKFwiYm9keVwiKVswXSwgdGhpcy5jb3VudCA9IDAsIHRoaXMucHJvZ3Jlc3NiYXJFbCA9IGMoXCI8bmctcHJvZ3Jlc3M+PC9uZy1wcm9ncmVzcz5cIikodGhpcy4kc2NvcGUpLCB0aGlzLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pLCB0aGlzLiRzY29wZS5jb3VudCA9IHRoaXMuY291bnQsIHZvaWQgMCAhPT0gdGhpcy5oZWlnaHQgJiYgdGhpcy5wcm9ncmVzc2JhckVsLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiaGVpZ2h0XCIsIHRoaXMuaGVpZ2h0KSwgdm9pZCAwICE9PSB0aGlzLmNvbG9yICYmICh0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIHRoaXMuY29sb3IpLCB0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJjb2xvclwiLCB0aGlzLmNvbG9yKSksIHRoaXMuaW50ZXJ2YWxDb3VudGVySWQgPSAwLCB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgICB2YXIgYSA9IHRoaXM7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCB0aGlzLmludGVydmFsQ291bnRlcklkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBpc05hTihhLmNvdW50KSA/IChjbGVhckludGVydmFsKGEuaW50ZXJ2YWxDb3VudGVySWQpLCBhLmNvdW50ID0gMCwgYS5oaWRlKCkpIDogKGEucmVtYWluaW5nID0gMTAwIC0gYS5jb3VudCwgYS5jb3VudCA9IGEuY291bnQgKyAuMTUgKiBNYXRoLnBvdygxIC0gTWF0aC5zcXJ0KGEucmVtYWluaW5nKSwgMiksIGEudXBkYXRlQ291bnQoYS5jb3VudCkpXG4gICAgICB9LCAyMDApXG4gICAgfSwgdGhpcy51cGRhdGVDb3VudCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICB0aGlzLiRzY29wZS5jb3VudCA9IGEsIHRoaXMuJHNjb3BlLiQkcGhhc2UgfHwgdGhpcy4kc2NvcGUuJGFwcGx5KClcbiAgICB9LCB0aGlzLnNldEhlaWdodCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBhICYmICh0aGlzLmhlaWdodCA9IGEsIHRoaXMuJHNjb3BlLmhlaWdodCA9IHRoaXMuaGVpZ2h0LCB0aGlzLiRzY29wZS4kJHBoYXNlIHx8IHRoaXMuJHNjb3BlLiRhcHBseSgpKSwgdGhpcy5oZWlnaHRcbiAgICB9LCB0aGlzLnNldENvbG9yID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGEgJiYgKHRoaXMuY29sb3IgPSBhLCB0aGlzLiRzY29wZS5jb2xvciA9IHRoaXMuY29sb3IsIHRoaXMuJHNjb3BlLiQkcGhhc2UgfHwgdGhpcy4kc2NvcGUuJGFwcGx5KCkpLCB0aGlzLmNvbG9yXG4gICAgfSwgdGhpcy5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKFwib3BhY2l0eVwiLCBcIjBcIik7XG4gICAgICB2YXIgYSA9IHRoaXM7XG4gICAgICBhLmFuaW1hdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBhLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJ3aWR0aFwiLCBcIjAlXCIpLCBhLmFuaW1hdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGEuc2hvdygpXG4gICAgICAgIH0sIDUwMClcbiAgICAgIH0sIDUwMClcbiAgICB9LCB0aGlzLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYSA9IHRoaXM7XG4gICAgICBhLmFuaW1hdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBhLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJvcGFjaXR5XCIsIFwiMVwiKVxuICAgICAgfSwgMTAwKVxuICAgIH0sIHRoaXMuYW5pbWF0ZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICB2b2lkIDAgIT09IHRoaXMuYW5pbWF0aW9uICYmIGUuY2FuY2VsKHRoaXMuYW5pbWF0aW9uKSwgdGhpcy5hbmltYXRpb24gPSBlKGEsIGIpXG4gICAgfSwgdGhpcy5zdGF0dXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb3VudFxuICAgIH0sIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZClcbiAgICB9LCB0aGlzLnNldCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaG93KCksIHRoaXMudXBkYXRlQ291bnQoYSksIHRoaXMuY291bnQgPSBhLCBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCB0aGlzLmNvdW50XG4gICAgfSwgdGhpcy5jc3MgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhhKVxuICAgIH0sIHRoaXMucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSwgdGhpcy5jb3VudCA9IDAsIHRoaXMudXBkYXRlQ291bnQodGhpcy5jb3VudCksIDBcbiAgICB9LCB0aGlzLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jb3VudCA9IDEwMCwgdGhpcy51cGRhdGVDb3VudCh0aGlzLmNvdW50KTtcbiAgICAgIHZhciBhID0gdGhpcztcbiAgICAgIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCBlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYS5oaWRlKCksIGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGEuY291bnQgPSAwLCBhLnVwZGF0ZUNvdW50KGEuY291bnQpXG4gICAgICAgIH0sIDUwMClcbiAgICAgIH0sIDFlMyksIHRoaXMuY291bnRcbiAgICB9LCB0aGlzLnNldFBhcmVudCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICBpZiAobnVsbCA9PT0gYSB8fCB2b2lkIDAgPT09IGEpdGhyb3cgbmV3IEVycm9yKFwiUHJvdmlkZSBhIHZhbGlkIHBhcmVudCBvZiB0eXBlIEhUTUxFbGVtZW50XCIpO1xuICAgICAgbnVsbCAhPT0gdGhpcy5wYXJlbnQgJiYgdm9pZCAwICE9PSB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pLCB0aGlzLnBhcmVudCA9IGEsIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSlcbiAgICB9LCB0aGlzLmdldERvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9ncmVzc2JhckVsXG4gICAgfSwgdGhpcy5zZXRBYnNvbHV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucHJvZ3Jlc3NiYXJFbC5jc3MoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpXG4gICAgfVxuICB9XVxufSkuZmFjdG9yeShcIm5nUHJvZ3Jlc3NGYWN0b3J5XCIsIFtcIiRpbmplY3RvclwiLCBcIm5nUHJvZ3Jlc3NcIiwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgdmFyIGMgPSB7XG4gICAgY3JlYXRlSW5zdGFuY2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhLmluc3RhbnRpYXRlKGIpXG4gICAgfVxuICB9O1xuICByZXR1cm4gY1xufV0pLCBhbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3MuZGlyZWN0aXZlXCIsIFtdKS5kaXJlY3RpdmUoXCJuZ1Byb2dyZXNzXCIsIFtcIiR3aW5kb3dcIiwgXCIkcm9vdFNjb3BlXCIsIGZ1bmN0aW9uIChhLCBiKSB7XG4gIHZhciBjID0ge1xuICAgIHJlcGxhY2U6ICEwLCByZXN0cmljdDogXCJFXCIsIGxpbms6IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7XG4gICAgICBhLiR3YXRjaChcImNvdW50XCIsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICh2b2lkIDAgIT09IGMgfHwgbnVsbCAhPT0gYykgJiYgKGEuY291bnRlciA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJ3aWR0aFwiLCBjICsgXCIlXCIpKVxuICAgICAgfSksIGEuJHdhdGNoKFwiY29sb3JcIiwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgKHZvaWQgMCAhPT0gYyB8fCBudWxsICE9PSBjKSAmJiAoYS5jb2xvciA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIGMpLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiY29sb3JcIiwgYykpXG4gICAgICB9KSwgYS4kd2F0Y2goXCJoZWlnaHRcIiwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgKHZvaWQgMCAhPT0gYyB8fCBudWxsICE9PSBjKSAmJiAoYS5oZWlnaHQgPSBjLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiaGVpZ2h0XCIsIGMpKVxuICAgICAgfSlcbiAgICB9LCB0ZW1wbGF0ZTogJzxkaXYgaWQ9XCJuZ1Byb2dyZXNzLWNvbnRhaW5lclwiPjxkaXYgaWQ9XCJuZ1Byb2dyZXNzXCI+PC9kaXY+PC9kaXY+J1xuICB9O1xuICByZXR1cm4gY1xufV0pLCBhbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3NcIiwgW1wibmdQcm9ncmVzcy5kaXJlY3RpdmVcIiwgXCJuZ1Byb2dyZXNzLnByb3ZpZGVyXCJdKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmdQcm9ncmVzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmdQcm9ncmVzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9uZ1Byb2dyZXNzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9hcHAvY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gNTIyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIiNuZ1Byb2dyZXNze21hcmdpbjowO3BhZGRpbmc6MDt6LWluZGV4Ojk5OTk4O2JhY2tncm91bmQtY29sb3I6Z3JlZW47Y29sb3I6Z3JlZW47Ym94LXNoYWRvdzowIDAgMTBweCAwO2hlaWdodDoycHg7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjVzIGVhc2UtaW4tb3V0O3RyYW5zaXRpb246YWxsIC41cyBlYXNlLWluLW91dH0jbmdQcm9ncmVzcy1jb250YWluZXJ7cG9zaXRpb246Zml4ZWQ7bWFyZ2luOjA7cGFkZGluZzowO3RvcDowO2xlZnQ6MDtyaWdodDowO3otaW5kZXg6OTk5OTl9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL3NyYy9hcHAvY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gNTIzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKiEgYW5ndWxhci1icmVhZGNydW1iIC0gdjAuNC4wLWRldi0yMDE1LTA4LTA3XG4qIGh0dHA6Ly9uY3VpbGxlcnkuZ2l0aHViLmlvL2FuZ3VsYXItYnJlYWRjcnVtYlxuKiBDb3B5cmlnaHQgKGMpIDIwMTUgTmljb2xhcyBDdWlsbGVyeTsgTGljZW5zZWQgTUlUICovXG4hZnVuY3Rpb24oYSxiLGMpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGQoYSxjKXtyZXR1cm4gYi5lcXVhbHMoYS5sZW5ndGgsYy5sZW5ndGgpP2E+YzphLmxlbmd0aD5jLmxlbmd0aH1mdW5jdGlvbiBlKGEpe3ZhciBiPWEucmVwbGFjZSgvXFxuL2csXCIgXCIpLm1hdGNoKC9eKFteKF0rPylcXHMqKFxcKCguKilcXCkpPyQvKTtpZighYnx8NCE9PWIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgcmVmICdcIithK1wiJ1wiKTtyZXR1cm57c3RhdGU6YlsxXSxwYXJhbUV4cHI6YlszXXx8bnVsbH19ZnVuY3Rpb24gZigpe3ZhciBhPXtwcmVmaXhTdGF0ZU5hbWU6bnVsbCx0ZW1wbGF0ZTpcImJvb3RzdHJhcDNcIix0ZW1wbGF0ZVVybDpudWxsLGluY2x1ZGVBYnN0cmFjdDohMX07dGhpcy5zZXRPcHRpb25zPWZ1bmN0aW9uKGMpe2IuZXh0ZW5kKGEsYyl9LHRoaXMuJGdldD1bXCIkc3RhdGVcIixcIiRzdGF0ZVBhcmFtc1wiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGIsZixnKXt2YXIgaD1nO2cuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsZnVuY3Rpb24oYSl7IWEudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSYmZChhLnRhcmdldFNjb3BlLiRpZCxoLiRpZCkmJihoPWEudGFyZ2V0U2NvcGUpfSk7dmFyIGk9ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnR8fCgvXiguKylcXC5bXi5dKyQvLmV4ZWMoYS5uYW1lKXx8W10pWzFdLGM9XCJvYmplY3RcIj09dHlwZW9mIGI7cmV0dXJuIGM/Yi5uYW1lOmJ9LGo9ZnVuY3Rpb24oYyxkKXtmb3IodmFyIGcsaSxqPWUoZCksaz0hMSxsPSExLG09MCxuPWMubGVuZ3RoO24+bTttKz0xKWlmKGNbbV0ubmFtZT09PWouc3RhdGUpcmV0dXJuO2c9Yi5nZXQoai5zdGF0ZSksZy5uY3lCcmVhZGNydW1iJiYoZy5uY3lCcmVhZGNydW1iLmZvcmNlJiYoaz0hMCksZy5uY3lCcmVhZGNydW1iLnNraXAmJihsPSEwKSksZ1tcImFic3RyYWN0XCJdJiYhYS5pbmNsdWRlQWJzdHJhY3QmJiFrfHxsfHwoai5wYXJhbUV4cHImJihpPWguJGV2YWwoai5wYXJhbUV4cHIpKSxnLm5jeUJyZWFkY3J1bWJMaW5rPWIuaHJlZihqLnN0YXRlLGl8fGZ8fHt9KSxjLnVuc2hpZnQoZykpfSxrPWZ1bmN0aW9uKGEpe3ZhciBjPWUoYSksZD1iLmdldChjLnN0YXRlKTtpZihkLm5jeUJyZWFkY3J1bWImJmQubmN5QnJlYWRjcnVtYi5wYXJlbnQpe3ZhciBmPVwiZnVuY3Rpb25cIj09dHlwZW9mIGQubmN5QnJlYWRjcnVtYi5wYXJlbnQsZz1mP2QubmN5QnJlYWRjcnVtYi5wYXJlbnQoaCk6ZC5uY3lCcmVhZGNydW1iLnBhcmVudDtpZihnKXJldHVybiBnfXJldHVybiBpKGQpfTtyZXR1cm57Z2V0VGVtcGxhdGU6ZnVuY3Rpb24oYil7cmV0dXJuIGEudGVtcGxhdGVVcmw/bnVsbDpiW2EudGVtcGxhdGVdP2JbYS50ZW1wbGF0ZV06YS50ZW1wbGF0ZX0sZ2V0VGVtcGxhdGVVcmw6ZnVuY3Rpb24oKXtyZXR1cm4gYS50ZW1wbGF0ZVVybH0sZ2V0U3RhdGVzQ2hhaW46ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPVtdLGU9Yi4kY3VycmVudC5zZWxmLm5hbWU7ZTtlPWsoZSkpaWYoaihkLGUpLGMmJmQubGVuZ3RoKXJldHVybiBkO3JldHVybiBhLnByZWZpeFN0YXRlTmFtZSYmaihkLGEucHJlZml4U3RhdGVOYW1lKSxkfSxnZXRMYXN0U3RlcDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0U3RhdGVzQ2hhaW4oITApO3JldHVybiBhLmxlbmd0aD9hWzBdOmN9LCRnZXRMYXN0Vmlld1Njb3BlOmZ1bmN0aW9uKCl7cmV0dXJuIGh9fX1dfWZ1bmN0aW9uIGcoYSxjLGQpe3ZhciBlPXtib290c3RyYXAyOic8dWwgY2xhc3M9XCJicmVhZGNydW1iXCI+PGxpIG5nLXJlcGVhdD1cInN0ZXAgaW4gc3RlcHNcIiBuZy1zd2l0Y2g9XCIkbGFzdCB8fCAhIXN0ZXAuYWJzdHJhY3RcIiBuZy1jbGFzcz1cInthY3RpdmU6ICRsYXN0fVwiPjxhIG5nLXN3aXRjaC13aGVuPVwiZmFsc2VcIiBocmVmPVwie3tzdGVwLm5jeUJyZWFkY3J1bWJMaW5rfX1cIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L2E+PHNwYW4gbmctc3dpdGNoLXdoZW49XCJ0cnVlXCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9zcGFuPjxzcGFuIGNsYXNzPVwiZGl2aWRlclwiIG5nLWhpZGU9XCIkbGFzdFwiPi88L3NwYW4+PC9saT48L3VsPicsYm9vdHN0cmFwMzonPG9sIGNsYXNzPVwiYnJlYWRjcnVtYlwiPjxsaSBuZy1yZXBlYXQ9XCJzdGVwIGluIHN0ZXBzXCIgbmctY2xhc3M9XCJ7YWN0aXZlOiAkbGFzdH1cIiBuZy1zd2l0Y2g9XCIkbGFzdCB8fCAhIXN0ZXAuYWJzdHJhY3RcIj48YSBuZy1zd2l0Y2gtd2hlbj1cImZhbHNlXCIgaHJlZj1cInt7c3RlcC5uY3lCcmVhZGNydW1iTGlua319XCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9hPjxzcGFuIG5nLXN3aXRjaC13aGVuPVwidHJ1ZVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvc3Bhbj48L2xpPjwvb2w+J307cmV0dXJue3Jlc3RyaWN0OlwiQUVcIixyZXBsYWNlOiEwLHNjb3BlOnt9LHRlbXBsYXRlOmMuZ2V0VGVtcGxhdGUoZSksdGVtcGxhdGVVcmw6Yy5nZXRUZW1wbGF0ZVVybCgpLGxpbms6e3Bvc3Q6ZnVuY3Rpb24oZSl7dmFyIGY9W10sZz1mdW5jdGlvbigpe2woZiksZj1bXTt2YXIgZD1jLiRnZXRMYXN0Vmlld1Njb3BlKCk7ZS5zdGVwcz1jLmdldFN0YXRlc0NoYWluKCksYi5mb3JFYWNoKGUuc3RlcHMsZnVuY3Rpb24oYil7aWYoYi5uY3lCcmVhZGNydW1iJiZiLm5jeUJyZWFkY3J1bWIubGFiZWwpe3ZhciBjPWEoYi5uY3lCcmVhZGNydW1iLmxhYmVsKTtiLm5jeUJyZWFkY3J1bWJMYWJlbD1jKGQpLGsoZixjLGQsYil9ZWxzZSBiLm5jeUJyZWFkY3J1bWJMYWJlbD1iLm5hbWV9KX07ZC4kb24oXCIkdmlld0NvbnRlbnRMb2FkZWRcIixmdW5jdGlvbihhKXthLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmV8fGcoKX0pLGcoKX19fX1mdW5jdGlvbiBoKGEsYixjKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsc2NvcGU6e30sdGVtcGxhdGU6XCJ7e25jeUJyZWFkY3J1bWJMYWJlbH19XCIsY29tcGlsZTpmdW5jdGlvbihkLGUpe3ZhciBmPWQuYXR0cihlLiRhdHRyLm5jeUJyZWFkY3J1bWJMYXN0KTtyZXR1cm4gZiYmZC5odG1sKGYpLHtwb3N0OmZ1bmN0aW9uKGQpe3ZhciBlPVtdLGY9ZnVuY3Rpb24oKXtsKGUpLGU9W107dmFyIGM9Yi4kZ2V0TGFzdFZpZXdTY29wZSgpLGY9Yi5nZXRMYXN0U3RlcCgpO2lmKGYpaWYoZC5uY3lCcmVhZGNydW1iTGluaz1mLm5jeUJyZWFkY3J1bWJMaW5rLGYubmN5QnJlYWRjcnVtYiYmZi5uY3lCcmVhZGNydW1iLmxhYmVsKXt2YXIgZz1hKGYubmN5QnJlYWRjcnVtYi5sYWJlbCk7ZC5uY3lCcmVhZGNydW1iTGFiZWw9ZyhjKSxrKGUsZyxjLGQpfWVsc2UgZC5uY3lCcmVhZGNydW1iTGFiZWw9Zi5uYW1lfTtjLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLGZ1bmN0aW9uKGEpe2EudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZXx8ZigpfSksZigpfX19fX1mdW5jdGlvbiBpKGEsYyxkKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsc2NvcGU6e30sdGVtcGxhdGU6XCJ7e25jeUJyZWFkY3J1bWJDaGFpbn19XCIsY29tcGlsZTpmdW5jdGlvbihlLGYpe3ZhciBnPWUuYXR0cihmLiRhdHRyLm5jeUJyZWFkY3J1bWJUZXh0KTtnJiZlLmh0bWwoZyk7dmFyIGg9ZS5hdHRyKGYuJGF0dHIubmN5QnJlYWRjcnVtYlRleHRTZXBhcmF0b3IpfHxcIiAvIFwiO3JldHVybntwb3N0OmZ1bmN0aW9uKGUpe3ZhciBmPVtdLGc9ZnVuY3Rpb24oYSxjLGQpe2IuZm9yRWFjaChqKGMpLGZ1bmN0aW9uKGIpe3ZhciBjPWQuJHdhdGNoKGIsZnVuY3Rpb24oYSxiKXthIT09YiYmaSgpfSk7YS5wdXNoKGMpfSl9LGk9ZnVuY3Rpb24oKXtsKGYpLGY9W107dmFyIGQ9Yy4kZ2V0TGFzdFZpZXdTY29wZSgpLGk9Yy5nZXRTdGF0ZXNDaGFpbigpLGo9W107Yi5mb3JFYWNoKGksZnVuY3Rpb24oYil7aWYoYi5uY3lCcmVhZGNydW1iJiZiLm5jeUJyZWFkY3J1bWIubGFiZWwpe3ZhciBjPWEoYi5uY3lCcmVhZGNydW1iLmxhYmVsKTtqLnB1c2goYyhkKSksZyhmLGMsZCl9ZWxzZSBqLnB1c2goYi5uYW1lKX0pLGUubmN5QnJlYWRjcnVtYkNoYWluPWouam9pbihoKX07ZC4kb24oXCIkdmlld0NvbnRlbnRMb2FkZWRcIixmdW5jdGlvbihhKXthLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmV8fGkoKX0pLGkoKX19fX19dmFyIGo9ZnVuY3Rpb24oYSl7aWYoYS5leHByZXNzaW9ucylyZXR1cm4gYS5leHByZXNzaW9uczt2YXIgYz1bXTtyZXR1cm4gYi5mb3JFYWNoKGEucGFydHMsZnVuY3Rpb24oYSl7Yi5pc0Z1bmN0aW9uKGEpJiZjLnB1c2goYS5leHApfSksY30saz1mdW5jdGlvbihhLGMsZCxlKXtiLmZvckVhY2goaihjKSxmdW5jdGlvbihiKXt2YXIgZj1kLiR3YXRjaChiLGZ1bmN0aW9uKCl7ZS5uY3lCcmVhZGNydW1iTGFiZWw9YyhkKX0pO2EucHVzaChmKX0pfSxsPWZ1bmN0aW9uKGEpe2IuZm9yRWFjaChhLGZ1bmN0aW9uKGEpe2EoKX0pfTtnLiRpbmplY3Q9W1wiJGludGVycG9sYXRlXCIsXCIkYnJlYWRjcnVtYlwiLFwiJHJvb3RTY29wZVwiXSxoLiRpbmplY3Q9W1wiJGludGVycG9sYXRlXCIsXCIkYnJlYWRjcnVtYlwiLFwiJHJvb3RTY29wZVwiXSxpLiRpbmplY3Q9W1wiJGludGVycG9sYXRlXCIsXCIkYnJlYWRjcnVtYlwiLFwiJHJvb3RTY29wZVwiXSxiLm1vZHVsZShcIm5jeS1hbmd1bGFyLWJyZWFkY3J1bWJcIixbXCJ1aS5yb3V0ZXIuc3RhdGVcIl0pLnByb3ZpZGVyKFwiJGJyZWFkY3J1bWJcIixmKS5kaXJlY3RpdmUoXCJuY3lCcmVhZGNydW1iXCIsZykuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYkxhc3RcIixoKS5kaXJlY3RpdmUoXCJuY3lCcmVhZGNydW1iVGV4dFwiLGkpfSh3aW5kb3csd2luZG93LmFuZ3VsYXIpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhckJyZWFkY3J1bWIvYW5ndWxhckJyZWFkY3J1bWIuanNcbiAqKi8iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbihmdW5jdGlvbiAobW9tZW50KSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgbW9kdWxlTmFtZSA9IFwibmdNYXRlcmlhbERhdGVQaWNrZXJcIjtcblxuICB2YXIgVklFV19TVEFURVMgPSB7XG4gICAgREFURTogMCxcbiAgICBIT1VSOiAxLFxuICAgIE1JTlVURTogMlxuICB9O1xuXG4gIHZhciBjc3MgPSBmdW5jdGlvbiAoZWwsIG5hbWUpIHtcbiAgICBpZiAoJ2pRdWVyeScgaW4gd2luZG93KSB7XG4gICAgICByZXR1cm4galF1ZXJ5KGVsKS5jc3MobmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsID0gYW5ndWxhci5lbGVtZW50KGVsKTtcbiAgICAgIHJldHVybiAoJ2dldENvbXB1dGVkU3R5bGUnIGluIHdpbmRvdykgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbFswXSlbbmFtZV0gOiBlbC5jc3MobmFtZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciB0ZW1wbGF0ZSA9ICc8bWQtZGlhbG9nIGNsYXNzPVwiZHRwXCIgbGF5b3V0PVwiY29sdW1uXCIgc3R5bGU9XCJ3aWR0aDogMzAwcHg7XCI+J1xuICAgICsgJyAgICA8bWQtZGlhbG9nLWNvbnRlbnQgY2xhc3M9XCJkdHAtY29udGVudFwiPidcbiAgICArICcgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtZGF0ZS12aWV3XCI+J1xuICAgICsgJyAgICAgICAgICAgIDxoZWFkZXIgY2xhc3M9XCJkdHAtaGVhZGVyXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1kYXlcIiBuZy1zaG93PVwicGlja2VyLmRhdGVNb2RlXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiZGRkZFwiKX19PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1kYXlcIiBuZy1zaG93PVwicGlja2VyLnRpbWVNb2RlXCI+e3twaWNrZXIucGFyYW1zLnNob3J0VGltZSA/IHBpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJBXCIpIDogXCIgXCJ9fTwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1jbG9zZSB0ZXh0LXJpZ2h0XCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgbmctY2xpY2s9XCJwaWNrZXIuaGlkZSgpXCI+JnRpbWVzOzwvYT4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICA8L2hlYWRlcj4nXG4gICAgKyAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1kYXRlXCIgbmctc2hvdz1cInBpY2tlci5wYXJhbXMuZGF0ZVwiPidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBsYXlvdXQ9XCJjb2x1bW5cIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1tb250aFwiPnt7cGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcIk1NTVwiKSB8IHVwcGVyY2FzZX19PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW51bVwiPnt7cGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcIkREXCIpfX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgbGF5b3V0PVwicm93XCI+J1xuICAgICsgJyA8ZGl2IG5nLWNsaWNrPVwicGlja2VyLmluY3JlbWVudFllYXIoLTEpXCIgY2xhc3M9XCJkdHAteWVhci1idG4gZHRwLXllYXItYnRuLXByZXZcIiBmbGV4PVwiMzBcIj48c3BhbiBuZy1pZj1cInBpY2tlci5pc1ByZXZpb3VzWWVhclZpc2libGUoKVwiID4mI3gyNUIyOzwvc3Bhbj48L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC15ZWFyXCIgZmxleD57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJZWVlZXCIpfX08L2Rpdj4nXG4gICAgKyAnIDxkaXYgbmctY2xpY2s9XCJwaWNrZXIuaW5jcmVtZW50WWVhcigxKVwiIGNsYXNzPVwiZHRwLXllYXItYnRuIGR0cC15ZWFyLWJ0bi1uZXh0XCIgZmxleD1cIjMwXCI+PHNwYW4gbmctaWY9XCJwaWNrZXIuaXNOZXh0WWVhclZpc2libGUoKVwiID4mI3gyNUJDOzwvc3Bhbj48L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICA8L2Rpdj4nLy9zdGFydCB0aW1lXG4gICAgKyAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC10aW1lXCIgbmctc2hvdz1cInBpY2tlci5wYXJhbXMudGltZSAmJiAhcGlja2VyLnBhcmFtcy5kYXRlXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1tYXh0aW1lXCI+e3twaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCkuZm9ybWF0KHBpY2tlci5wYXJhbXMuc2hvcnRUaW1lID8gXCJoaDptbVwiIDogXCJISDptbVwiKX19PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLXBpY2tlclwiPidcbiAgICArICcgICAgICAgICAgICAgICAgPG1kYy1kYXRldGltZS1waWNrZXItY2FsZW5kYXIgZGF0ZT1cInBpY2tlci5jdXJyZW50RGF0ZVwiIHBpY2tlcj1cInBpY2tlclwiIGNsYXNzPVwiZHRwLXBpY2tlci1jYWxlbmRhclwiIG5nLXNob3c9XCJwaWNrZXIuY3VycmVudFZpZXcgPT09IHBpY2tlci5WSUVXUy5EQVRFXCI+PC9tZGMtZGF0ZXRpbWUtcGlja2VyLWNhbGVuZGFyPidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1waWNrZXItZGF0ZXRpbWVcIiBuZy1zaG93PVwicGlja2VyLmN1cnJlbnRWaWV3ICE9PSBwaWNrZXIuVklFV1MuREFURVwiPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW1lcmlkaWVuXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0IHAyMFwiPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgY2xhc3M9XCJkdHAtbWVyaWRpZW4tYW1cIiBuZy1jbGFzcz1cIntzZWxlY3RlZDogcGlja2VyLm1lcmlkaWVuID09IFxcJ0FNXFwnfVwiIG5nLWNsaWNrPVwicGlja2VyLnNlbGVjdEFNKClcIj57e3BpY2tlci5wYXJhbXMuYW1UZXh0fX08L2E+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLXNob3c9XCIhcGlja2VyLnRpbWVNb2RlXCIgY2xhc3M9XCJkdHAtYWN0dWFsLXRpbWUgcDYwXCI+e3twaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCkuZm9ybWF0KHBpY2tlci5wYXJhbXMuc2hvcnRUaW1lID8gXCJoaDptbVwiIDogXCJISDptbVwiKX19PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodCBwMjBcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIGNsYXNzPVwiZHRwLW1lcmlkaWVuLXBtXCIgbmctY2xhc3M9XCJ7c2VsZWN0ZWQ6IHBpY2tlci5tZXJpZGllbiA9PSBcXCdQTVxcJ31cIiBuZy1jbGljaz1cInBpY2tlci5zZWxlY3RQTSgpXCI+e3twaWNrZXIucGFyYW1zLnBtVGV4dH19PC9hPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgPG1kYy1kYXRldGltZS1waWNrZXItY2xvY2sgbW9kZT1cImhvdXJzXCIgbmctaWY9XCJwaWNrZXIuY3VycmVudFZpZXcgPT09IHBpY2tlci5WSUVXUy5IT1VSXCI+PC9tZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDxtZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrIG1vZGU9XCJtaW51dGVzXCIgbmctaWY9XCJwaWNrZXIuY3VycmVudFZpZXcgPT09IHBpY2tlci5WSUVXUy5NSU5VVEVcIj48L21kYy1kYXRldGltZS1waWNrZXItY2xvY2s+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICA8L21kLWRpYWxvZy1jb250ZW50PidcbiAgICArICcgICAgPG1kLWRpYWxvZy1hY3Rpb25zIGNsYXNzPVwiZHRwLWJ1dHRvbnNcIj4nXG4gICAgKyAnICAgICAgICAgICAgPG1kLWJ1dHRvbiBjbGFzcz1cImR0cC1idG4tY2FuY2VsIG1kLWJ1dHRvblwiIG5nLWNsaWNrPVwicGlja2VyLmNhbmNlbCgpXCI+IHt7cGlja2VyLnBhcmFtcy5jYW5jZWxUZXh0fX08L21kLWJ1dHRvbj4nXG4gICAgKyAnICAgICAgICAgICAgPG1kLWJ1dHRvbiBjbGFzcz1cImR0cC1idG4tb2sgbWQtYnV0dG9uXCIgbmctY2xpY2s9XCJwaWNrZXIub2soKVwiPiB7e3BpY2tlci5wYXJhbXMub2tUZXh0fX08L21kLWJ1dHRvbj4nXG4gICAgKyAnICAgICAgPC9tZC1kaWFsb2ctYWN0aW9ucz4nXG4gICAgKyAnPC9tZC1kaWFsb2c+JztcblxuXG4gIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUsIFsnbmdNYXRlcmlhbCddKVxuICAgIC5wcm92aWRlcignbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5sb2NhbGUgPSAnZW4nO1xuXG4gICAgICB0aGlzLiRnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuc2V0RGVmYXVsdExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGVTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5sb2NhbGUgPSBsb2NhbGVTdHJpbmc7XG4gICAgICB9O1xuICAgIH0pXG4gICAgLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXInLCBbJyRtZERpYWxvZycsXG4gICAgICBmdW5jdGlvbiAoJG1kRGlhbG9nKSB7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgY3VycmVudERhdGU6ICc9bmdNb2RlbCcsXG4gICAgICAgICAgICB0aW1lOiAnPScsXG4gICAgICAgICAgICBkYXRlOiAnPScsXG4gICAgICAgICAgICBtaW5EYXRlOiAnPScsXG4gICAgICAgICAgICBtYXhEYXRlOiAnPScsXG4gICAgICAgICAgICBzaG9ydFRpbWU6ICc9JyxcbiAgICAgICAgICAgIGZvcm1hdDogJ0AnLFxuICAgICAgICAgICAgY2FuY2VsVGV4dDogJ0AnLFxuICAgICAgICAgICAgb2tUZXh0OiAnQCcsXG4gICAgICAgICAgICBsYW5nOiAnQCcsXG4gICAgICAgICAgICBhbVRleHQ6ICdAJyxcbiAgICAgICAgICAgIHBtVGV4dDogJ0AnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG4gICAgICAgICAgICB2YXIgaXNPbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKCFzY29wZS5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgaWYgKHNjb3BlLmRhdGUgJiYgc2NvcGUudGltZSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcm1hdCA9ICdZWVlZLU1NLUREIEhIOm1tOnNzJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzY29wZS5kYXRlKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ1lZWVktTU0tREQnO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcm1hdCA9ICdISDptbSc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoc2NvcGUuY3VycmVudERhdGUpICYmIHNjb3BlLmN1cnJlbnREYXRlICE9PSAnJykge1xuICAgICAgICAgICAgICBzY29wZS5jdXJyZW50RGF0ZSA9IG1vbWVudChzY29wZS5jdXJyZW50RGF0ZSwgc2NvcGUuZm9ybWF0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5nTW9kZWwpIHtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBtID0gbW9tZW50KHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbS5pc1ZhbGlkKCkgPyBtLmZvcm1hdChzY29wZS5mb3JtYXQpIDogJyc7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbGVtZW50LmF0dHIoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgICAgICAgLy9AVE9ETyBjdXN0b20gZXZlbnQgdG8gdHJpZ2dlciBpbnB1dFxuICAgICAgICAgICAgZWxlbWVudC5vbignZm9jdXMnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYmx1cigpO1xuICAgICAgICAgICAgICBpZiAoaXNPbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpc09uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgIGlmIChzY29wZS5oYXNPd25Qcm9wZXJ0eShpKSAmJiAhYW5ndWxhci5pc1VuZGVmaW5lZChzY29wZVtpXSkpIHtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnNbaV0gPSBzY29wZVtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3B0aW9ucy5jdXJyZW50RGF0ZSA9IHNjb3BlLmN1cnJlbnREYXRlO1xuICAgICAgICAgICAgICB2YXIgbG9jYWxzID0ge29wdGlvbnM6IG9wdGlvbnN9O1xuICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFBsdWdpbkNvbnRyb2xsZXIsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncGlja2VyJyxcbiAgICAgICAgICAgICAgICBsb2NhbHM6IGxvY2FscyxcbiAgICAgICAgICAgICAgICBvcGVuRnJvbTogZWxlbWVudCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcbiAgICAgICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRpc2FibGVQYXJlbnRTY3JvbGw6IGZhbHNlXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLmN1cnJlbnREYXRlID0gdiA/IHYuX2QgOiB2O1xuICAgICAgICAgICAgICAgICAgaXNPbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIGlzT24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XSlcbiAgO1xuXG4gIHZhciBQbHVnaW5Db250cm9sbGVyID0gZnVuY3Rpb24gKCRzY29wZSwgJG1kRGlhbG9nLCBtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUpIHtcbiAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuREFURTtcbiAgICB0aGlzLl9kaWFsb2cgPSAkbWREaWFsb2c7XG5cbiAgICB0aGlzLm1pbkRhdGU7XG4gICAgdGhpcy5tYXhEYXRlO1xuXG4gICAgdGhpcy5fYXR0YWNoZWRFdmVudHMgPSBbXTtcbiAgICB0aGlzLlZJRVdTID0gVklFV19TVEFURVM7XG5cbiAgICB0aGlzLnBhcmFtcyA9IHtcbiAgICAgIGRhdGU6IHRydWUsXG4gICAgICB0aW1lOiB0cnVlLFxuICAgICAgZm9ybWF0OiAnWVlZWS1NTS1ERCcsXG4gICAgICBtaW5EYXRlOiBudWxsLFxuICAgICAgbWF4RGF0ZTogbnVsbCxcbiAgICAgIGN1cnJlbnREYXRlOiBudWxsLFxuICAgICAgbGFuZzogbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlLFxuICAgICAgd2Vla1N0YXJ0OiAwLFxuICAgICAgc2hvcnRUaW1lOiBmYWxzZSxcbiAgICAgIGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxuICAgICAgb2tUZXh0OiAnT0snLFxuICAgICAgYW1UZXh0OiAnQU0nLFxuICAgICAgcG1UZXh0OiAnUE0nXG4gICAgfTtcblxuICAgIHRoaXMubWVyaWRpZW4gPSAnQU0nO1xuICAgIHRoaXMucGFyYW1zID0gYW5ndWxhci5leHRlbmQodGhpcy5wYXJhbXMsIHRoaXMub3B0aW9ucyk7XG4gICAgdGhpcy5pbml0KCk7XG4gIH07XG4gIFBsdWdpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRtZERpYWxvZycsICdtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUnXTtcbiAgUGx1Z2luQ29udHJvbGxlci5wcm90b3R5cGUgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50aW1lTW9kZSA9IHRoaXMucGFyYW1zLnRpbWUgJiYgIXRoaXMucGFyYW1zLmRhdGU7XG4gICAgICB0aGlzLmRhdGVNb2RlID0gdGhpcy5wYXJhbXMuZGF0ZTtcbiAgICAgIHRoaXMuaW5pdERhdGVzKCk7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfSxcbiAgICBjdXJyZW50TmVhcmVzdDVNaW51dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkYXRlID0gdGhpcy5jdXJyZW50RGF0ZSB8fCBtb21lbnQoKTtcbiAgICAgIHZhciBtaW51dGVzID0gKDUgKiBNYXRoLnJvdW5kKGRhdGUubWludXRlKCkgLyA1KSk7XG4gICAgICBpZiAobWludXRlcyA+PSA2MCkge1xuICAgICAgICBtaW51dGVzID0gNTU7IC8vYWx3YXlzIHB1c2ggZG93blxuICAgICAgfVxuICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS5taW51dGVzKG1pbnV0ZXMpO1xuICAgIH0sXG4gICAgaW5pdERhdGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICB2YXIgX2RhdGVQYXJhbSA9IGZ1bmN0aW9uIChpbnB1dCwgZmFsbGJhY2spIHtcbiAgICAgICAgdmFyIHJldCA9IG51bGw7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnB1dCkgJiYgaW5wdXQgIT09IG51bGwgJiYgaW5wdXQgIT09ICcnKSB7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoaW5wdXQpKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mKHRoYXQucGFyYW1zLmZvcm1hdCkgIT09ICd1bmRlZmluZWQnICYmIHRoYXQucGFyYW1zLmZvcm1hdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXQgPSBtb21lbnQoaW5wdXQsIHRoYXQucGFyYW1zLmZvcm1hdCkubG9jYWxlKHRoYXQucGFyYW1zLmxhbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHJldCA9IG1vbWVudChpbnB1dCkubG9jYWxlKHRoYXQucGFyYW1zLmxhbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgICAgICAgdmFyIHggPSBpbnB1dC5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgIHJldCA9IG1vbWVudCh4LCBcInhcIikubG9jYWxlKHRoYXQucGFyYW1zLmxhbmcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5faXNBTW9tZW50T2JqZWN0KSB7XG4gICAgICAgICAgICAgIHJldCA9IGlucHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXQgPSBmYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfTtcblxuICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IF9kYXRlUGFyYW0odGhpcy5wYXJhbXMuY3VycmVudERhdGUsIG1vbWVudCgpKTtcbiAgICAgIHRoaXMubWluRGF0ZSA9IF9kYXRlUGFyYW0odGhpcy5wYXJhbXMubWluRGF0ZSk7XG4gICAgICB0aGlzLm1heERhdGUgPSBfZGF0ZVBhcmFtKHRoaXMucGFyYW1zLm1heERhdGUpO1xuICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUpO1xuICAgIH0sXG4gICAgaW5pdERhdGU6IGZ1bmN0aW9uIChkKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuREFURTtcbiAgICB9LFxuICAgIGluaXRIb3VyczogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkhPVVI7XG4gICAgfSxcbiAgICBpbml0TWludXRlczogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLk1JTlVURTtcbiAgICB9LFxuICAgIGlzQWZ0ZXJNaW5EYXRlOiBmdW5jdGlvbiAoZGF0ZSwgY2hlY2tIb3VyLCBjaGVja01pbnV0ZSkge1xuICAgICAgdmFyIF9yZXR1cm4gPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mKHRoaXMubWluRGF0ZSkgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubWluRGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgX21pbkRhdGUgPSBtb21lbnQodGhpcy5taW5EYXRlKTtcbiAgICAgICAgdmFyIF9kYXRlID0gbW9tZW50KGRhdGUpO1xuXG4gICAgICAgIGlmICghY2hlY2tIb3VyICYmICFjaGVja01pbnV0ZSkge1xuICAgICAgICAgIF9taW5EYXRlLmhvdXIoMCk7XG4gICAgICAgICAgX21pbkRhdGUubWludXRlKDApO1xuXG4gICAgICAgICAgX2RhdGUuaG91cigwKTtcbiAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG4gICAgICAgIH1cblxuICAgICAgICBfbWluRGF0ZS5zZWNvbmQoMCk7XG4gICAgICAgIF9kYXRlLnNlY29uZCgwKTtcbiAgICAgICAgX21pbkRhdGUubWlsbGlzZWNvbmQoMCk7XG4gICAgICAgIF9kYXRlLm1pbGxpc2Vjb25kKDApO1xuXG4gICAgICAgIGlmICghY2hlY2tNaW51dGUpIHtcbiAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG4gICAgICAgICAgX21pbkRhdGUubWludXRlKDApO1xuXG4gICAgICAgICAgX3JldHVybiA9IChwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA+PSBwYXJzZUludChfbWluRGF0ZS5mb3JtYXQoXCJYXCIpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgX3JldHVybiA9IChwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA+PSBwYXJzZUludChfbWluRGF0ZS5mb3JtYXQoXCJYXCIpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZXR1cm47XG4gICAgfSxcbiAgICBpc0JlZm9yZU1heERhdGU6IGZ1bmN0aW9uIChkYXRlLCBjaGVja1RpbWUsIGNoZWNrTWludXRlKSB7XG4gICAgICB2YXIgX3JldHVybiA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YodGhpcy5tYXhEYXRlKSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5tYXhEYXRlICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBfbWF4RGF0ZSA9IG1vbWVudCh0aGlzLm1heERhdGUpO1xuICAgICAgICB2YXIgX2RhdGUgPSBtb21lbnQoZGF0ZSk7XG5cbiAgICAgICAgaWYgKCFjaGVja1RpbWUgJiYgIWNoZWNrTWludXRlKSB7XG4gICAgICAgICAgX21heERhdGUuaG91cigwKTtcbiAgICAgICAgICBfbWF4RGF0ZS5taW51dGUoMCk7XG5cbiAgICAgICAgICBfZGF0ZS5ob3VyKDApO1xuICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9tYXhEYXRlLnNlY29uZCgwKTtcbiAgICAgICAgX2RhdGUuc2Vjb25kKDApO1xuICAgICAgICBfbWF4RGF0ZS5taWxsaXNlY29uZCgwKTtcbiAgICAgICAgX2RhdGUubWlsbGlzZWNvbmQoMCk7XG5cbiAgICAgICAgaWYgKCFjaGVja01pbnV0ZSkge1xuICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcbiAgICAgICAgICBfbWF4RGF0ZS5taW51dGUoMCk7XG5cbiAgICAgICAgICBfcmV0dXJuID0gKHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpIDw9IHBhcnNlSW50KF9tYXhEYXRlLmZvcm1hdChcIlhcIikpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBfcmV0dXJuID0gKHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpIDw9IHBhcnNlSW50KF9tYXhEYXRlLmZvcm1hdChcIlhcIikpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JldHVybjtcbiAgICB9LFxuICAgIHNlbGVjdERhdGU6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICBpZiAoZGF0ZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KGRhdGUpO1xuICAgICAgICBpZiAoIXRoaXMuaXNBZnRlck1pbkRhdGUodGhpcy5jdXJyZW50RGF0ZSkpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KHRoaXMubWluRGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuaXNCZWZvcmVNYXhEYXRlKHRoaXMuY3VycmVudERhdGUpKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG1vbWVudCh0aGlzLm1heERhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudERhdGUubG9jYWxlKHRoaXMucGFyYW1zLmxhbmcpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyU3RhcnQgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG4gICAgICAgIHRoaXMubWVyaWRpZW4gPSB0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSA+PSAxMiA/ICdQTScgOiAnQU0nO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0TmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRleHQgPSBcIlwiO1xuICAgICAgdmFyIHBvc3NpYmxlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfSxcbiAgICBpc1BNOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tZXJpZGllbiA9PT0gJ1BNJztcbiAgICB9LFxuICAgIGluY3JlbWVudFllYXI6IGZ1bmN0aW9uIChhbW91bnQpIHtcbiAgICAgIGlmIChhbW91bnQgPT09IDEgJiYgdGhpcy5pc05leHRZZWFyVmlzaWJsZSgpKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmFkZCgneWVhcicsIGFtb3VudCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYW1vdW50ID09PSAtMSAmJiB0aGlzLmlzUHJldmlvdXNZZWFyVmlzaWJsZSgpKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmFkZCgneWVhcicsIGFtb3VudCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXNQcmV2aW91c01vbnRoVmlzaWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLnN0YXJ0T2YoJ21vbnRoJyksIGZhbHNlLCBmYWxzZSk7XG4gICAgfSxcbiAgICBpc05leHRNb250aFZpc2libGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuZW5kT2YoJ21vbnRoJyksIGZhbHNlLCBmYWxzZSk7XG4gICAgfSxcbiAgICBpc1ByZXZpb3VzWWVhclZpc2libGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0FmdGVyTWluRGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5zdGFydE9mKCd5ZWFyJyksIGZhbHNlLCBmYWxzZSk7XG4gICAgfSxcbiAgICBpc05leHRZZWFyVmlzaWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5lbmRPZigneWVhcicpLCBmYWxzZSwgZmFsc2UpO1xuICAgIH0sXG4gICAgaXNIb3VyQXZhaWxhYmxlOiBmdW5jdGlvbiAoaG91cikge1xuICAgICAgdmFyIF9kYXRlID0gbW9tZW50KHRoaXMuY3VycmVudERhdGUpO1xuICAgICAgX2RhdGUuaG91cih0aGlzLmNvbnZlcnRIb3Vycyhob3VyKSkubWludXRlKDApLnNlY29uZCgwKTtcbiAgICAgIHJldHVybiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKF9kYXRlLCB0cnVlLCBmYWxzZSkgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUoX2RhdGUsIHRydWUsIGZhbHNlKTtcbiAgICB9LFxuICAgIGlzTWludXRlQXZhaWxhYmxlOiBmdW5jdGlvbiAobWludXRlKSB7XG4gICAgICB2YXIgX2RhdGUgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG4gICAgICBfZGF0ZS5taW51dGUobWludXRlKS5zZWNvbmQoMCk7XG4gICAgICByZXR1cm4gdGhpcy5pc0FmdGVyTWluRGF0ZShfZGF0ZSwgdHJ1ZSwgdHJ1ZSkgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUoX2RhdGUsIHRydWUsIHRydWUpO1xuICAgIH0sXG4gICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5EQVRFO1xuICAgICAgLy90aGlzLmluaXREYXRlcygpO1xuICAgICAgaWYgKHRoaXMucGFyYW1zLmRhdGUpIHtcbiAgICAgICAgdGhpcy5pbml0RGF0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUpIHtcbiAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBvazogZnVuY3Rpb24gKCkge1xuICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRWaWV3KSB7XG4gICAgICAgIGNhc2UgVklFV19TVEFURVMuREFURTpcbiAgICAgICAgICBpZiAodGhpcy5wYXJhbXMudGltZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5pbml0SG91cnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLkhPVVI6XG4gICAgICAgICAgdGhpcy5pbml0TWludXRlcygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLk1JTlVURTpcbiAgICAgICAgICB0aGlzLmhpZGUodHJ1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnBhcmFtcy50aW1lKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50Vmlldykge1xuICAgICAgICAgIGNhc2UgVklFV19TVEFURVMuREFURTpcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5IT1VSOlxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLmRhdGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5pbml0RGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5NSU5VVEU6XG4gICAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdE1vbnRoQmVmb3JlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuc3VidHJhY3QoMSwgJ21vbnRocycpO1xuICAgIH0sXG4gICAgc2VsZWN0TW9udGhBZnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LmFkZCgxLCAnbW9udGhzJyk7XG4gICAgfSxcbiAgICBzZWxlY3RZZWFyQmVmb3JlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuc3VidHJhY3QoMSwgJ3llYXJzJyk7XG4gICAgfSxcbiAgICBzZWxlY3RZZWFyQWZ0ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5hZGQoMSwgJ3llYXJzJyk7XG4gICAgfSxcbiAgICBzZWxlY3RBTTogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuaXNIb3VyQXZhaWxhYmxlKDApIHx8IHRoaXMuaXNIb3VyQXZhaWxhYmxlKDEyKSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkgPj0gMTIpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5zdWJ0cmFjdCgxMiwgJ2hvdXJzJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0hvdXJBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkpKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuaG91cih0aGlzLm1pbkRhdGUuaG91cigpKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzTWludXRlQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUubWludXRlKCkpKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUubWludXRlKHRoaXMubWluRGF0ZS5taW51dGUoKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBzZWxlY3RQTTogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuaXNIb3VyQXZhaWxhYmxlKDEzKSB8fCB0aGlzLmlzSG91ckF2YWlsYWJsZSgyNCkpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudERhdGUuaG91cigpIDwgMTIpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5hZGQoMTIsICdob3VycycpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNIb3VyQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUuaG91cigpKSkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIodGhpcy5tYXhEYXRlLmhvdXIoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc01pbnV0ZUF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSgpKSkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSh0aGlzLm1heERhdGUubWludXRlKCkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY29udmVydEhvdXJzOiBmdW5jdGlvbiAoaCkge1xuICAgICAgdmFyIF9yZXR1cm4gPSBoO1xuICAgICAgaWYgKChoIDwgMTIpICYmIHRoaXMuaXNQTSgpKVxuICAgICAgICBfcmV0dXJuICs9IDEyO1xuXG4gICAgICByZXR1cm4gX3JldHVybjtcbiAgICB9LFxuICAgIGhpZGU6IGZ1bmN0aW9uIChva0J0bikge1xuICAgICAgaWYgKG9rQnRuKSB7XG4gICAgICAgIHRoaXMuX2RpYWxvZy5oaWRlKHRoaXMuY3VycmVudERhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZGlhbG9nLmNhbmNlbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuXG4gIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpXG4gICAgLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDYWxlbmRhcicsIFtcbiAgICAgIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgc3RhcnREYXRlID0gbW9tZW50KCksXG4gICAgICAgICAgWUVBUl9NSU4gPSAxOTAwLFxuICAgICAgICAgIFlFQVJfTUFYID0gMjEwMCxcbiAgICAgICAgICBNT05USFNfSU5fQUxMID0gKFlFQVJfTUFYIC0gWUVBUl9NSU4gKyAxKSAqIDEyLFxuICAgICAgICAgIElURU1fSEVJR0hUID0gMjQwLFxuICAgICAgICAgIE1PTlRIUyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1PTlRIU19JTl9BTEw7IGkrKykge1xuICAgICAgICAgIE1PTlRIUy5wdXNoKGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRNb250aEluZGV4ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICB2YXIgeWVhciA9IGRhdGUueWVhcigpO1xuICAgICAgICAgIHZhciBtb250aCA9IGRhdGUubW9udGgoKTtcbiAgICAgICAgICByZXR1cm4gKCh5ZWFyIC0gWUVBUl9NSU4pICogMTIpICsgbW9udGggLSAxO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgcGlja2VyOiAnPScsXG4gICAgICAgICAgICBkYXRlOiAnPSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgICAgY29udHJvbGxlckFzOiAnY2FsJyxcbiAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsXG4gICAgICAgICAgICBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICAgICAgICAgICAgIHZhciBjYWxlbmRhciA9IHRoaXMsXG4gICAgICAgICAgICAgICAgcGlja2VyID0gdGhpcy5waWNrZXIsXG4gICAgICAgICAgICAgICAgZGF5cyA9IFtdO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSBwaWNrZXIucGFyYW1zLndlZWtTdGFydDsgZGF5cy5sZW5ndGggPCA3OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDYpIHtcbiAgICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkYXlzLnB1c2goaS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLndlZWsgPSBkYXlzO1xuICAgICAgICAgICAgICBpZiAoIXBpY2tlci5tYXhEYXRlICYmICFwaWNrZXIubWluRGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhbGVuZGFyLm1vbnRocyA9IE1PTlRIUztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbG93ID0gcGlja2VyLm1pbkRhdGUgPyBjdXJyZW50TW9udGhJbmRleChwaWNrZXIubWluRGF0ZSkgOiAwO1xuICAgICAgICAgICAgICAgIHZhciBoaWdoID0gcGlja2VyLm1heERhdGUgPyAoY3VycmVudE1vbnRoSW5kZXgocGlja2VyLm1heERhdGUpICsgMSkgOiBNT05USFNfSU5fQUxMO1xuICAgICAgICAgICAgICAgIGNhbGVuZGFyLm1vbnRocyA9IE1PTlRIUy5zbGljZShsb3csIGhpZ2gpO1xuICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICBjYWxlbmRhci5nZXRJdGVtQXRJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBtb250aCA9ICgoaW5kZXggKyAxKSAlIDEyKSB8fCAxMjtcbiAgICAgICAgICAgICAgICB2YXIgeWVhciA9IFlFQVJfTUlOICsgTWF0aC5mbG9vcihpbmRleCAvIDEyKTtcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhPYmogPSBtb21lbnQocGlja2VyLmN1cnJlbnREYXRlKVxuICAgICAgICAgICAgICAgICAgLnllYXIoeWVhcilcbiAgICAgICAgICAgICAgICAgIC5tb250aChtb250aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlTW9udGhDYWxlbmRhcihtb250aE9iaik7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgY2FsZW5kYXIudG9wSW5kZXggPSBjdXJyZW50TW9udGhJbmRleChwaWNrZXIuY3VycmVudERhdGUpIC0gY2FsZW5kYXIubW9udGhzWzBdO1xuXG4gICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwaWNrZXIuY3VycmVudERhdGUgPyBwaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KCdZWVlZLU1NJykgOiAnJztcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHZhbDIsIHZhbDEpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsMiAhPSB2YWwxKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgbkRhdGUgPSBtb21lbnQodmFsMiwgJ1lZWVktTU0nKTtcbiAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGN1cnJlbnRNb250aEluZGV4KG5EYXRlKTtcbiAgICAgICAgICAgICAgICAgIGlmIChjYWxlbmRhci50b3BJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxlbmRhci50b3BJbmRleCA9IGluZGV4IC0gY2FsZW5kYXIubW9udGhzWzBdO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgdmFyIGdlbmVyYXRlTW9udGhDYWxlbmRhciA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0ge307XG4gICAgICAgICAgICAgICAgaWYgKGRhdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIG1vbnRoLm5hbWUgPSBkYXRlLmZvcm1hdCgnTU1NTSBZWVlZJyk7XG4gICAgICAgICAgICAgICAgICB2YXIgc3RhcnRPZk1vbnRoID0gbW9tZW50KGRhdGUpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLnN0YXJ0T2YoJ21vbnRoJylcbiAgICAgICAgICAgICAgICAgICAgICAuaG91cihkYXRlLmhvdXIoKSlcbiAgICAgICAgICAgICAgICAgICAgICAubWludXRlKGRhdGUubWludXRlKCkpXG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgIHZhciBpTnVtRGF5ID0gc3RhcnRPZk1vbnRoLmZvcm1hdCgnZCcpO1xuICAgICAgICAgICAgICAgICAgbW9udGguZGF5cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0T2ZNb250aC5kYXRlKCk7IGkgPD0gc3RhcnRPZk1vbnRoLmRheXNJbk1vbnRoKCk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gc3RhcnRPZk1vbnRoLmRhdGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBpV2VlayA9IGNhbGVuZGFyLndlZWsuaW5kZXhPZihpTnVtRGF5LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpV2VlayA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgaVdlZWs7IHgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aC5kYXlzLnB1c2goMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1vbnRoLmRheXMucHVzaChtb21lbnQoc3RhcnRPZk1vbnRoKS5sb2NhbGUocGlja2VyLnBhcmFtcy5sYW5nKS5kYXRlKGkpKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgdmFyIGRheXNJbkFXZWVrID0gNywgZGF5c1RtcCA9IFtdLCBzbGljZXMgPSBNYXRoLmNlaWwobW9udGguZGF5cy5sZW5ndGggLyBkYXlzSW5BV2Vlayk7XG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNsaWNlczsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGRheXNUbXAucHVzaChtb250aC5kYXlzLnNsaWNlKGogKiBkYXlzSW5BV2VlaywgKGogKyAxKSAqIGRheXNJbkFXZWVrKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBtb250aC5kYXlzID0gZGF5c1RtcDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBtb250aDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBjYWxlbmRhci50b0RheSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbWVudChwYXJzZUludChpKSwgXCJkXCIpXG4gICAgICAgICAgICAgICAgICAubG9jYWxlKHBpY2tlci5wYXJhbXMubGFuZylcbiAgICAgICAgICAgICAgICAgIC5mb3JtYXQoXCJkZFwiKVxuICAgICAgICAgICAgICAgICAgLnN1YnN0cmluZygwLCAxKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBjYWxlbmRhci5pc0luUmFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwaWNrZXIuaXNBZnRlck1pbkRhdGUobW9tZW50KGRhdGUpLCBmYWxzZSwgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAmJiBwaWNrZXIuaXNCZWZvcmVNYXhEYXRlKG1vbWVudChkYXRlKSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBjYWxlbmRhci5zZWxlY3REYXRlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGNhbGVuZGFyLmlzU2VsZWN0ZWREYXkoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlci5vaygpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcGlja2VyLnNlbGVjdERhdGUobW9tZW50KGRhdGUpLmhvdXIoY2FsZW5kYXIuZGF0ZS5ob3VyKCkpLm1pbnV0ZShjYWxlbmRhci5kYXRlLm1pbnV0ZSgpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLmlzU2VsZWN0ZWREYXkgPSBmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtICYmIGNhbGVuZGFyLmRhdGUuZGF0ZSgpID09PSBtLmRhdGUoKSAmJiBjYWxlbmRhci5kYXRlLm1vbnRoKCkgPT09IG0ubW9udGgoKSAmJiBjYWxlbmRhci5kYXRlLnllYXIoKSA9PT0gbS55ZWFyKCk7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIHRlbXBsYXRlOiAnPG1kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lciBtZC10b3AtaW5kZXg9XCJjYWwudG9wSW5kZXhcIiBjbGFzcz1cIm1vbnRoc1wiPicgK1xuICAgICAgICAgICc8ZGl2IG1kLXZpcnR1YWwtcmVwZWF0PVwiaWR4IGluIGNhbC5tb250aHNcIiBtZC1zdGFydC1pbmRleD1cImNhbC50b3BJbmRleFwiIG1kLWl0ZW0tc2l6ZT1cIicgKyBJVEVNX0hFSUdIVCArICdcIj4nICtcbiAgICAgICAgICAnICAgICA8ZGl2IG1kYy1kYXRldGltZS1waWNrZXItY2FsZW5kYXItbW9udGggaWR4PVwiaWR4XCI+PC9kaXY+JyArXG4gICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICc8L21kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lcj4nXG4gICAgICAgIH07XG4gICAgICB9XSlcbiAgICAuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlckNhbGVuZGFyTW9udGgnLCBbJyRjb21waWxlJyxcbiAgICAgIGZ1bmN0aW9uICgkY29tcGlsZSkge1xuICAgICAgICB2YXIgYnVpbGRDYWxlbmRhckNvbnRlbnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgc2NvcGUpIHtcbiAgICAgICAgICB2YXIgdGJvZHkgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCd0Ym9keScpKTtcbiAgICAgICAgICB2YXIgY2FsZW5kYXIgPSBzY29wZS5jYWwsIG1vbnRoID0gc2NvcGUubW9udGg7XG4gICAgICAgICAgdGJvZHkuaHRtbCgnJyk7XG4gICAgICAgICAgbW9udGguZGF5cy5mb3JFYWNoKGZ1bmN0aW9uICh3ZWVrRGF5cywgaSkge1xuICAgICAgICAgICAgdmFyIHRyID0gYW5ndWxhci5lbGVtZW50KCc8dHI+PC90cj4nKTtcbiAgICAgICAgICAgIHdlZWtEYXlzLmZvckVhY2goZnVuY3Rpb24gKHdlZWtEYXksIGopIHtcbiAgICAgICAgICAgICAgdmFyIHRkID0gYW5ndWxhci5lbGVtZW50KCc8dGQ+IDwvdGQ+Jyk7XG4gICAgICAgICAgICAgIGlmICh3ZWVrRGF5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGFPclNwYW47XG4gICAgICAgICAgICAgICAgaWYgKGNhbGVuZGFyLmlzSW5SYW5nZSh3ZWVrRGF5KSkge1xuICAgICAgICAgICAgICAgICAgLy9idWlsZCBhXG4gICAgICAgICAgICAgICAgICB2YXIgc2NvcGVSZWYgPSAnbW9udGhbXCJkYXlzXCJdWycgKyBpICsgJ11bJyArIGogKyAnXSc7XG4gICAgICAgICAgICAgICAgICBhT3JTcGFuID0gYW5ndWxhci5lbGVtZW50KFwiPGEgaHJlZj0nIycgbWRjLWR0cC1ub2NsaWNrPjwvYT5cIilcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ25nLWNsYXNzJywgJ3tzZWxlY3RlZDogY2FsLmlzU2VsZWN0ZWREYXkoJyArIHNjb3BlUmVmICsgJyl9JylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ25nLWNsaWNrJywgJ2NhbC5zZWxlY3REYXRlKCcgKyBzY29wZVJlZiArICcpJylcbiAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgYU9yU3BhbiA9IGFuZ3VsYXIuZWxlbWVudCgnPHNwYW4+PC9zcGFuPicpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFPclNwYW5cbiAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnZHRwLXNlbGVjdC1kYXknKVxuICAgICAgICAgICAgICAgICAgLmh0bWwod2Vla0RheS5mb3JtYXQoJ0QnKSk7XG4gICAgICAgICAgICAgICAgdGQuYXBwZW5kKGFPclNwYW4pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRyLmFwcGVuZCh0ZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRib2R5LmFwcGVuZCh0cik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJGNvbXBpbGUodGJvZHkpKHNjb3BlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBpZHg6ICc9J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVxdWlyZTogJ15tZGNEYXRldGltZVBpY2tlckNhbGVuZGFyJyxcbiAgICAgICAgICByZXN0cmljdDogJ0FFJyxcbiAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJkdHAtcGlja2VyLW1vbnRoXCI+e3ttb250aC5uYW1lfX08L2Rpdj4nXG4gICAgICAgICAgKyAnPHRhYmxlIGNsYXNzPVwidGFibGUgZHRwLXBpY2tlci1kYXlzXCI+J1xuICAgICAgICAgICsgJyAgICA8dGhlYWQ+J1xuICAgICAgICAgICsgJyAgICA8dHI+J1xuICAgICAgICAgICsgJyAgICAgICAgPHRoIG5nLXJlcGVhdD1cImRheSBpbiBjYWwud2Vla1wiPnt7Y2FsLnRvRGF5KGRheSl9fTwvdGg+J1xuICAgICAgICAgICsgJyAgICA8L3RyPidcbiAgICAgICAgICArICcgICAgPC90aGVhZD4nXG4gICAgICAgICAgKyAnICAgIDx0Ym9keT4nXG4gICAgICAgICAgKyAnICAgIDwvdGJvZHk+J1xuICAgICAgICAgICsgJzwvdGFibGU+JyxcbiAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjYWxlbmRhcikge1xuICAgICAgICAgICAgc2NvcGUuY2FsID0gY2FsZW5kYXI7XG4gICAgICAgICAgICBzY29wZS5tb250aCA9IGNhbGVuZGFyLmdldEl0ZW1BdEluZGV4KHBhcnNlSW50KHNjb3BlLmlkeCkpO1xuICAgICAgICAgICAgYnVpbGRDYWxlbmRhckNvbnRlbnQoZWxlbWVudCwgc2NvcGUpO1xuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLmlkeDtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChpZHgsIG9sZElkeCkge1xuICAgICAgICAgICAgICBpZiAoaWR4ICE9IG9sZElkeCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLm1vbnRoID0gY2FsZW5kYXIuZ2V0SXRlbUF0SW5kZXgocGFyc2VJbnQoc2NvcGUuaWR4KSk7XG4gICAgICAgICAgICAgICAgYnVpbGRDYWxlbmRhckNvbnRlbnQoZWxlbWVudCwgc2NvcGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgXSlcbiAgO1xuXG4gIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpXG4gICAgLmRpcmVjdGl2ZSgnbWRjRHRwTm9jbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWwpIHtcbiAgICAgICAgICBlbC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICBhbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lKVxuICAgIC5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyQ2xvY2snLCBbXG4gICAgICBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIHRlbXBsYXRlID0gJzxkaXYgY2xhc3M9XCJkdHAtcGlja2VyLWNsb2NrXCI+PHNwYW4gbmctaWY9XCIhcG9pbnRzIHx8IHBvaW50cy5sZW5ndGggPCAxXCI+Jm5ic3A7PC9zcGFuPidcbiAgICAgICAgICArICc8ZGl2IG5nLXJlcGVhdD1cInBvaW50IGluIHBvaW50c1wiIGNsYXNzPVwiZHRwLXBpY2tlci10aW1lXCIgc3R5bGU9XCJtYXJnaW4tbGVmdDoge3twb2ludC5sZWZ0fX1weDsgbWFyZ2luLXRvcDoge3twb2ludC50b3B9fXB4O1wiPidcbiAgICAgICAgICArICcgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBuZy1jbGFzcz1cIntzZWxlY3RlZDogcG9pbnQudmFsdWU9PT1jdXJyZW50VmFsdWV9XCIgY2xhc3M9XCJkdHAtc2VsZWN0LWhvdXJcIiBuZy1jbGljaz1cInNldFRpbWUocG9pbnQudmFsdWUpXCIgbmctaWY9XCJwb2ludEF2YWlsYWJsZShwb2ludClcIj57e3BvaW50LmRpc3BsYXl9fTwvYT4nXG4gICAgICAgICAgKyAnICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgY2xhc3M9XCJkaXNhYmxlZCBkdHAtc2VsZWN0LWhvdXJcIiBuZy1pZj1cIiFwb2ludEF2YWlsYWJsZShwb2ludClcIj57e3BvaW50LmRpc3BsYXl9fTwvYT4nXG4gICAgICAgICAgKyAnPC9kaXY+J1xuICAgICAgICAgICsgJzxkaXYgY2xhc3M9XCJkdHAtaGFuZCBkdHAtaG91ci1oYW5kXCI+PC9kaXY+J1xuICAgICAgICAgICsgJzxkaXYgY2xhc3M9XCJkdHAtaGFuZCBkdHAtbWludXRlLWhhbmRcIj48L2Rpdj4nXG4gICAgICAgICAgKyAnPGRpdiBjbGFzcz1cImR0cC1jbG9jay1jZW50ZXJcIj48L2Rpdj4nXG4gICAgICAgICAgKyAnPC9kaXY+JztcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIHZhciBtaW51dGVNb2RlID0gYXR0cnMubW9kZSA9PT0gJ21pbnV0ZXMnO1xuICAgICAgICAgICAgdmFyIHBpY2tlciA9IHNjb3BlLnBpY2tlcjtcbiAgICAgICAgICAgIC8vYmFua2luZyBvbiB0aGUgZmFjdCB0aGF0IHRoZXJlIHdpbGwgb25seSBiZSBvbmUgYXQgYSB0aW1lXG4gICAgICAgICAgICB2YXIgY29tcG9uZW50Um9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21kLWRpYWxvZy5kdHAnKTtcbiAgICAgICAgICAgIHZhciBleGVjID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgY2xvY2sgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLXBpY2tlci1jbG9jaycpKSxcbiAgICAgICAgICAgICAgICBwaWNrZXJFbCA9IGFuZ3VsYXIuZWxlbWVudChjb21wb25lbnRSb290LnF1ZXJ5U2VsZWN0b3IoJy5kdHAtcGlja2VyJykpO1xuXG4gICAgICAgICAgICAgIHZhciB3ID0gY29tcG9uZW50Um9vdC5xdWVyeVNlbGVjdG9yKCcuZHRwLWNvbnRlbnQnKS5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgdmFyIHBsID0gcGFyc2VJbnQoY3NzKHBpY2tlckVsLCAncGFkZGluZ0xlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICAgICAgICAgICAgdmFyIHByID0gcGFyc2VJbnQoY3NzKHBpY2tlckVsLCAncGFkZGluZ1JpZ2h0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG4gICAgICAgICAgICAgIHZhciBtbCA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpbkxlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICAgICAgICAgICAgdmFyIG1yID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luUmlnaHQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICAgICAgICAgICAgLy9zZXQgd2lkdGhcbiAgICAgICAgICAgICAgdmFyIGNsb2NrV2lkdGggPSAodyAtIChtbCArIG1yICsgcGwgKyBwcikpO1xuICAgICAgICAgICAgICBjbG9jay5jc3MoJ3dpZHRoJywgKGNsb2NrV2lkdGgpICsgJ3B4Jyk7XG5cbiAgICAgICAgICAgICAgdmFyIHBMID0gcGFyc2VJbnQoY3NzKHBpY2tlckVsLCAncGFkZGluZ0xlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICAgICAgICAgICAgdmFyIHBUID0gcGFyc2VJbnQoY3NzKHBpY2tlckVsLCAncGFkZGluZ1RvcCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgbUwgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5MZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG4gICAgICAgICAgICAgIHZhciBtVCA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpblRvcCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXG4gICAgICAgICAgICAgIHZhciByID0gKGNsb2NrV2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgdmFyIGogPSByIC8gMS4yOyAvLz8/P1xuXG4gICAgICAgICAgICAgIHZhciBwb2ludHMgPSBbXTtcblxuICAgICAgICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8IDEyOyArK2gpIHtcbiAgICAgICAgICAgICAgICB2YXIgeCA9IGogKiBNYXRoLnNpbihNYXRoLlBJICogMiAqIChoIC8gMTIpKTtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IGogKiBNYXRoLmNvcyhNYXRoLlBJICogMiAqIChoIC8gMTIpKTtcblxuICAgICAgICAgICAgICAgIHZhciBob3VyID0ge1xuICAgICAgICAgICAgICAgICAgbGVmdDogKHIgKyB4ICsgcEwgLyAyKSAtIChwTCArIG1MKSxcbiAgICAgICAgICAgICAgICAgIHRvcDogKHIgLSB5IC0gbVQgLyAyKSAtIChwVCArIG1UKSxcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiAobWludXRlTW9kZSA/IChoICogNSkgOiBoKSAvLzUgZm9yIG1pbnV0ZSA2MC8xMlxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAobWludXRlTW9kZSkge1xuICAgICAgICAgICAgICAgICAgaG91ci5kaXNwbGF5ID0gaG91ci52YWx1ZSA8IDEwID8gKCcwJyArIGhvdXIudmFsdWUpIDogaG91ci52YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICBpZiAocGlja2VyLnBhcmFtcy5zaG9ydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaG91ci5kaXNwbGF5ID0gKGggPT09IDApID8gMTIgOiBoO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaG91ci5kaXNwbGF5ID0gcGlja2VyLmlzUE0oKSA/IGggKyAxMiA6IGg7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChob3VyKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNjb3BlLnBvaW50cyA9IHBvaW50cztcbiAgICAgICAgICAgICAgc2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgIGNsb2NrLmNzcygnaGVpZ2h0JywgY2xvY2tXaWR0aCArICdweCcpO1xuICAgICAgICAgICAgICAvL3BpY2tlci5pbml0SGFuZHModHJ1ZSk7XG5cbiAgICAgICAgICAgICAgdmFyIGNsb2NrQ2VudGVyID0gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLWNsb2NrLWNlbnRlcicpO1xuICAgICAgICAgICAgICB2YXIgY2VudGVyV2lkdGggPSAoY2xvY2tDZW50ZXIub2Zmc2V0V2lkdGggLyAyKSB8fCA3LjUsXG4gICAgICAgICAgICAgICAgY2VudGVySGVpZ2h0ID0gKGNsb2NrQ2VudGVyLm9mZnNldEhlaWdodCAvIDIpIHx8IDcuNTtcbiAgICAgICAgICAgICAgdmFyIF9oTCA9IHIgLyAxLjg7XG4gICAgICAgICAgICAgIHZhciBfbUwgPSByIC8gMS41O1xuXG4gICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtaG91ci1oYW5kJykpLmNzcyh7XG4gICAgICAgICAgICAgICAgbGVmdDogciArIChtTCAqIDEuNSkgKyAncHgnLFxuICAgICAgICAgICAgICAgIGhlaWdodDogX2hMICsgJ3B4JyxcbiAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IChyIC0gX2hMIC0gcEwpICsgJ3B4J1xuICAgICAgICAgICAgICB9KS5hZGRDbGFzcyghbWludXRlTW9kZSA/ICdvbicgOiAnJyk7XG5cbiAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1taW51dGUtaGFuZCcpKS5jc3NcbiAgICAgICAgICAgICAgKHtcbiAgICAgICAgICAgICAgICBsZWZ0OiByICsgKG1MICogMS41KSArICdweCcsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBfbUwgKyAncHgnLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogKHIgLSBfbUwgLSBwTCkgKyAncHgnXG4gICAgICAgICAgICAgIH0pLmFkZENsYXNzKG1pbnV0ZU1vZGUgPyAnb24nIDogJycpO1xuXG4gICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChjbG9ja0NlbnRlcikuY3NzKHtcbiAgICAgICAgICAgICAgICBsZWZ0OiAociArIHBMICsgbUwgLSBjZW50ZXJXaWR0aCkgKyAncHgnLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogKHIgLSAobUwgLyAyKSkgLSBjZW50ZXJIZWlnaHQgKyAncHgnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBhbmltYXRlSGFuZHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBhbmltYXRlSGFuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBfZGF0ZSA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcbiAgICAgICAgICAgICAgdmFyIGggPSBfZGF0ZS5ob3VyKCk7XG4gICAgICAgICAgICAgIHZhciBtID0gX2RhdGUubWludXRlKCk7XG5cbiAgICAgICAgICAgICAgcm90YXRlRWxlbWVudChhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLWhvdXItaGFuZCcpKSwgKDM2MCAvIDEyKSAqIGgpO1xuICAgICAgICAgICAgICB2YXIgbWRnID0gKCgzNjAgLyA2MCkgKiAoNSAqIE1hdGgucm91bmQobSAvIDUpKSk7XG4gICAgICAgICAgICAgIHJvdGF0ZUVsZW1lbnQoYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1taW51dGUtaGFuZCcpKSwgbWRnKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciByb3RhdGVFbGVtZW50ID0gZnVuY3Rpb24gKGVsLCBkZWcpIHtcbiAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsKS5jc3Moe1xuICAgICAgICAgICAgICAgIFdlYmtpdFRyYW5zZm9ybTogJ3JvdGF0ZSgnICsgZGVnICsgJ2RlZyknLFxuICAgICAgICAgICAgICAgICctbW96LXRyYW5zZm9ybSc6ICdyb3RhdGUoJyArIGRlZyArICdkZWcpJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgdmFyIHNldEN1cnJlbnRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIGRhdGUgPSBwaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCk7XG4gICAgICAgICAgICAgIHNjb3BlLmN1cnJlbnRWYWx1ZSA9IG1pbnV0ZU1vZGUgPyBkYXRlLm1pbnV0ZSgpIDogKGRhdGUuaG91cigpICUgMTIpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIHRtcCA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRtcCA/IHRtcC5mb3JtYXQoJ0hIOm1tJykgOiAnJztcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChuZXdWYWwpIHtcbiAgICAgICAgICAgICAgc2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgICAgICAgIGFuaW1hdGVIYW5kcygpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdmFyIHNldERpc3BsYXlQb2ludHMgPSBmdW5jdGlvbiAoaXNQTSwgcG9pbnRzKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzW2ldLmRpc3BsYXkgPSBpO1xuICAgICAgICAgICAgICAgIGlmIChpc1BNKSB7XG4gICAgICAgICAgICAgICAgICBwb2ludHNbaV0uZGlzcGxheSArPSAxMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHBvaW50cztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICghcGlja2VyLnBhcmFtcy5zaG9ydFRpbWUpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKCdwaWNrZXIubWVyaWRpZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtaW51dGVNb2RlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoc2NvcGUucG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBzZXREaXNwbGF5UG9pbnRzKHBpY2tlci5pc1BNKCksIGFuZ3VsYXIuY29weShzY29wZS5wb2ludHMpKTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgc2NvcGUuc2V0VGltZSA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gc2NvcGUuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcGlja2VyLm9rKCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoIW1pbnV0ZU1vZGUpIHtcbiAgICAgICAgICAgICAgICBwaWNrZXIuY3VycmVudERhdGUuaG91cihwaWNrZXIuaXNQTSgpID8gKHZhbCArIDEyKSA6IHZhbCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGlja2VyLmN1cnJlbnREYXRlLm1pbnV0ZSh2YWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBpY2tlci5jdXJyZW50RGF0ZS5zZWNvbmQoMClcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNjb3BlLnBvaW50QXZhaWxhYmxlID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBtaW51dGVNb2RlID8gcGlja2VyLmlzTWludXRlQXZhaWxhYmxlKHBvaW50LnZhbHVlKSA6IHBpY2tlci5pc0hvdXJBdmFpbGFibGUocG9pbnQudmFsdWUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHVud2F0Y2hlciA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpLmxlbmd0aDtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZXhlYygpO1xuICAgICAgICAgICAgICB1bndhdGNoZXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfV0pO1xuXG59KShtb21lbnQpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci9qcy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmpzXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvY3NzL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzc1xuICoqIG1vZHVsZSBpZCA9IDU5NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJtZC1kaWFsb2cuZHRwe2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjEuNDI4NTcxNDM7Y29sb3I6IzMzMztiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7bWF4LWhlaWdodDpub25lfS5kdHAgOmZvY3Vze291dGxpbmU6bm9uZSFpbXBvcnRhbnR9LmR0cCB0YWJsZXtib3JkZXItc3BhY2luZzowO2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTt3aWR0aDoxMDAlfS5kdHAgLnRhYmxlPnRib2R5PnRyPnRkLC5kdHAgLnRhYmxlPnRib2R5PnRyPnRoLC5kdHAgLnRhYmxlPnRmb290PnRyPnRkLC5kdHAgLnRhYmxlPnRmb290PnRyPnRoLC5kdHAgLnRhYmxlPnRoZWFkPnRyPnRkLC5kdHAgLnRhYmxlPnRoZWFkPnRyPnRoe3BhZGRpbmc6OHB4O2xpbmUtaGVpZ2h0OjEuNDI4NTcxNDM7dmVydGljYWwtYWxpZ246dG9wO2JvcmRlci10b3A6MXB4IHNvbGlkICNkZGR9LmR0cCwuZHRwICp7Ym94LXNpemluZzpib3JkZXItYm94IWltcG9ydGFudH0uZHRwPi5kdHAtY29udGVudHttYXgtd2lkdGg6MzAwcHg7bWF4LWhlaWdodDo1MDBweH0uZHRwPi5kdHAtY29udGVudD4uZHRwLWRhdGUtdmlldz5oZWFkZXIuZHRwLWhlYWRlcntiYWNrZ3JvdW5kOiM2ODlmMzg7Y29sb3I6I2ZmZjt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjNweH0uZHRwIGRpdi5kdHAtZGF0ZSwuZHRwIGRpdi5kdHAtdGltZXtiYWNrZ3JvdW5kOiM4YmMzNGE7dGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6I2ZmZjtwYWRkaW5nOjEwcHh9LmR0cCBkaXYuZHRwLWRhdGU+ZGl2e3BhZGRpbmc6MDttYXJnaW46MH0uZHRwIGRpdi5kdHAtYWN0dWFsLW1vbnRoe2ZvbnQtc2l6ZToxLjVlbX0uZHRwIGRpdi5kdHAtYWN0dWFsLW1heHRpbWUsLmR0cCBkaXYuZHRwLWFjdHVhbC1udW17Zm9udC1zaXplOjNlbTtsaW5lLWhlaWdodDouOX0uZHRwIGRpdi5kdHAtYWN0dWFsLXllYXJ7Zm9udC1zaXplOjEuNmVtO2NvbG9yOiNkY2VkYzh9LmR0cCBkaXYuZHRwLXllYXItYnRue2ZvbnQtc2l6ZToxLjRlbTtsaW5lLWhlaWdodDozMHB4O2N1cnNvcjpwb2ludGVyO2NvbG9yOiNkY2VkYzh9LmR0cCBkaXYuZHRwLXllYXItYnRuLXByZXZ7dGV4dC1hbGlnbjpyaWdodH0uZHRwIGRpdi5kdHAteWVhci1idG4tbmV4dHt0ZXh0LWFsaWduOmxlZnR9LmR0cCBkaXYuZHRwLXBpY2tlcntwYWRkaW5nOjEwcHg7dGV4dC1hbGlnbjpjZW50ZXJ9LmR0cCBkaXYuZHRwLWFjdHVhbC10aW1lLC5kdHAgZGl2LmR0cC1waWNrZXItbW9udGh7Zm9udC13ZWlnaHQ6NTAwO3RleHQtYWxpZ246Y2VudGVyfS5kdHAgLmR0cC1jbG9zZXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LjI1ZW07cmlnaHQ6NXB4O2ZvbnQtc2l6ZToxNnB4fS5kdHAgLmR0cC1jbG9zZT5he2NvbG9yOiNmZmY7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LmR0cCAuZHRwLWNsb3NlPmE+aXtmb250LXNpemU6MWVtfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlze21hcmdpbjowO21pbi1oZWlnaHQ6MjIwcHh9LmR0cCBtZC12aXJ0dWFsLXJlcGVhdC1jb250YWluZXIubW9udGhze2hlaWdodDoyNjBweH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cywuZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0ciwuZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZHtib3JkZXI6bm9uZX0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZHtmb250LXNpemU6MTFweDt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjB9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+c3Bhbi5kdHAtc2VsZWN0LWRheXtjb2xvcjojYmRiZGJkIWltcG9ydGFudH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD4uZHRwLXNlbGVjdC1kYXl7d2lkdGg6MzZweDtoZWlnaHQ6MzZweDtkaXNwbGF5OmlubGluZS1ibG9ja30uZHRwIC5kdHAtcGlja2VyLXRpbWU+YSwuZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD4uZHRwLXNlbGVjdC1kYXl7Y29sb3I6IzIxMjEyMTt0ZXh0LWRlY29yYXRpb246bm9uZTtwYWRkaW5nOjEwcHg7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50fS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPmEuc2VsZWN0ZWR7YmFja2dyb3VuZDojOGJjMzRhO2NvbG9yOiNmZmZ9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+YTpob3Zlcjpub3QoLnNlbGVjdGVkKXtiYWNrZ3JvdW5kOiNkZGR9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGh7Y29sb3I6Izc1NzU3NTt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXdlaWdodDo3MDA7cGFkZGluZzo0cHggM3B4fS5kdHAgLnAxMD5he2NvbG9yOiM2ODlmMzg7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LmR0cCAucDEwe3dpZHRoOjEwJX0uZHRwIC5wMTAsLmR0cCAucDIwe2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5kdHAgLnAyMHt3aWR0aDoyMCV9LmR0cCAucDYwe3dpZHRoOjYwJX0uZHRwIC5wNjAsLmR0cCAucDgwe2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5kdHAgLnA4MHt3aWR0aDo4MCV9LmR0cCBhLmR0cC1tZXJpZGllbi1hbSwuZHRwIGEuZHRwLW1lcmlkaWVuLXBte3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDoxMHB4O2NvbG9yOiMyMTIxMjE7Zm9udC13ZWlnaHQ6NTAwO3BhZGRpbmc6N3B4IDVweDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7YmFja2dyb3VuZDojZWVlO2ZvbnQtc2l6ZToxMHB4fS5kdHAgLmR0cC1hY3R1YWwtbWVyaWRpZW4gYS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM2ODlmMzg7Y29sb3I6I2ZmZn0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YXtkaXNwbGF5OmJsb2NrO2xpbmUtaGVpZ2h0OjIzcHg7cGFkZGluZzozcHh9LmR0cCAuZHRwLXBpY2tlci10aW1le3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjMwcHg7aGVpZ2h0OjMwcHg7Zm9udC1zaXplOjEuMWVtO2JvcmRlci1yYWRpdXM6NTAlO2N1cnNvcjpwb2ludGVyO3RleHQtYWxpZ246Y2VudGVyIWltcG9ydGFudH0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LWhvdXIuc2VsZWN0ZWR7YmFja2dyb3VuZDojNjg5ZjM4O2NvbG9yOiNmZmZ9LmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1ob3VyLmRpc2FibGVkLC5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtbWludXRlLmRpc2FibGVke2NvbG9yOiM3NTc1NzV9LmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1taW51dGUuc2VsZWN0ZWR7YmFja2dyb3VuZDojOGJjMzRhO2NvbG9yOiNmZmZ9LmR0cCBkaXYuZHRwLXBpY2tlci1jbG9ja3ttYXJnaW46MTBweCAyMHB4IDA7cGFkZGluZzoxMHB4O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudDtiYWNrZ3JvdW5kOiNlZWV9LmR0cC1jbG9jay1jZW50ZXJ7d2lkdGg6MTVweDtoZWlnaHQ6MTVweDtiYWNrZ3JvdW5kOiM3NTc1NzU7Ym9yZGVyLXJhZGl1czo1MCU7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDo1MH0uZHRwIC5kdHAtaGFuZCwuZHRwIC5kdHAtaG91ci1oYW5ke3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjRweDttYXJnaW4tbGVmdDotMnB4O2JhY2tncm91bmQ6I2JkYmRiZDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46Ym90dG9tO3RyYW5zZm9ybS1vcmlnaW46Ym90dG9tO3otaW5kZXg6MX0uZHRwIC5kdHAtbWludXRlLWhhbmR7d2lkdGg6MnB4O21hcmdpbi1sZWZ0Oi0xcHh9LmR0cCAuZHRwLWhhbmQub257YmFja2dyb3VuZDojOGJjMzRhfS5kdHAgLmR0cC1idXR0b25ze3BhZGRpbmc6MCAxMHB4IDEwcHg7dGV4dC1hbGlnbjpyaWdodH0uZHRwLmhpZGRlbiwuZHRwIC5oaWRkZW57ZGlzcGxheTpub25lfS5kdHAgLmludmlzaWJsZXt2aXNpYmlsaXR5OmhpZGRlbn0uZHRwIC5sZWZ0e2Zsb2F0OmxlZnR9LmR0cCAucmlnaHR7ZmxvYXQ6cmlnaHR9LmR0cCAuY2xlYXJmaXh7Y2xlYXI6Ym90aH0uZHRwIC5jZW50ZXJ7dGV4dC1hbGlnbjpjZW50ZXJ9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL3NyYy9hcHAvY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2Nzcy9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcbiAqKiBtb2R1bGUgaWQgPSA1OTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLypcbiAqIGFuZ3VsYXItZ29vZ2xlLXBsdXMtZGlyZWN0aXZlIHYwLjAuMVxuICog4pmhIENvcHlIZWFydCAyMDEzIGJ5IEplcmFkIEJpdG5lciBodHRwOi8vamVyYWRiaXRuZXIuY29tXG4gKiBDb3B5aW5nIGlzIGFuIGFjdCBvZiBsb3ZlLiBQbGVhc2UgY29weS5cbiAqL1xuXG5hbmd1bGFyLm1vZHVsZSgnZGlyZWN0aXZlLmcrc2lnbmluJywgW10pLlxuICBkaXJlY3RpdmUoJ2dvb2dsZVBsdXNTaWduaW4nLCBbJyR3aW5kb3cnLCBmdW5jdGlvbiAoJHdpbmRvdykge1xuICAgIHZhciBlbmRpbmcgPSAvXFwuYXBwc1xcLmdvb2dsZXVzZXJjb250ZW50XFwuY29tJC87XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICB0ZW1wbGF0ZTogJzxzcGFuPjwvc3Bhbj4nLFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsIGxpbmtlcikge1xuICAgICAgICBhdHRycy5jbGllbnRpZCArPSAoZW5kaW5nLnRlc3QoYXR0cnMuY2xpZW50aWQpID8gJycgOiAnLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJyk7XG5cbiAgICAgICAgYXR0cnMuJHNldCgnZGF0YS1jbGllbnRpZCcsIGF0dHJzLmNsaWVudGlkKTtcbiAgICAgICAgYXR0cnMuJHNldCgndGhlbWUnLCBhdHRycy50aGVtZSk7XG5cbiAgICAgICAgLy8gU29tZSBkZWZhdWx0IHZhbHVlcywgYmFzZWQgb24gcHJpb3IgdmVyc2lvbnMgb2YgdGhpcyBkaXJlY3RpdmVcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgIGNhbGxiYWNrOiAnc2lnbmluQ2FsbGJhY2snLFxuICAgICAgICAgIGNvb2tpZXBvbGljeTogJ3NpbmdsZV9ob3N0X29yaWdpbicsXG4gICAgICAgICAgcmVxdWVzdHZpc2libGVhY3Rpb25zOiAnaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9BZGRBY3Rpdml0eScsXG4gICAgICAgICAgc2NvcGU6ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3BsdXMubG9naW4gaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC91c2VyaW5mby5lbWFpbCcsXG4gICAgICAgICAgaGVpZ2h0OiAnc3RhbmRhcmQnLFxuICAgICAgICAgIHdpZHRoOiAnd2lkZScsXG4gICAgICAgICAgc3RhdGU6ICcnXG4gICAgICAgIH07XG5cbiAgICAgICAgZGVmYXVsdHMuY2xpZW50aWQgPSBhdHRycy5jbGllbnRpZDtcbiAgICAgICAgZGVmYXVsdHMudGhlbWUgPSBhdHRycy50aGVtZTtcblxuICAgICAgICAvLyBPdmVyd3JpdGUgZGVmYXVsdCB2YWx1ZXMgaWYgZXhwbGljaXRseSBzZXRcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKSwgZnVuY3Rpb24ocHJvcE5hbWUpIHtcbiAgICAgICAgICBpZiAoYXR0cnMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICBkZWZhdWx0c1twcm9wTmFtZV0gPSBhdHRyc1twcm9wTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEZWZhdWx0IGxhbmd1YWdlXG4gICAgICAgIC8vIFN1cHBvcnRlZCBsYW5ndWFnZXM6IGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tLysvd2ViL2FwaS9zdXBwb3J0ZWQtbGFuZ3VhZ2VzXG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdsYW5ndWFnZScsIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAkd2luZG93Ll9fX2djZmcgPSB7XG4gICAgICAgICAgICBsYW5nOiB2YWx1ZSA/IHZhbHVlIDogJ2VuJ1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQXN5bmNocm9ub3VzbHkgbG9hZCB0aGUgRysgU0RLLlxuICAgICAgICB2YXIgcG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsgcG8udHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOyBwby5hc3luYyA9IHRydWU7XG4gICAgICAgIHBvLnNyYyA9ICdodHRwczovL2FwaXMuZ29vZ2xlLmNvbS9qcy9jbGllbnQ6cGx1c29uZS5qcyc7XG4gICAgICAgIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdOyBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBvLCBzKTtcblxuICAgICAgICBsaW5rZXIoZnVuY3Rpb24oZWwsIHRTY29wZSl7XG4gICAgICAgICAgcG8ub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoZWwubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdhcGkuc2lnbmluLnJlbmRlcihlbGVtZW50WzBdLCBkZWZhdWx0cyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxufV0pLlxuICBydW4oWyckd2luZG93JywnJHJvb3RTY29wZScsZnVuY3Rpb24oJHdpbmRvdywgJHJvb3RTY29wZSkge1xuICAgICR3aW5kb3cuc2lnbmluQ2FsbGJhY2sgPSBmdW5jdGlvbiAoYXV0aFJlc3VsdCkge1xuICAgICAgaWYgKGF1dGhSZXN1bHQgJiYgYXV0aFJlc3VsdC5hY2Nlc3NfdG9rZW4pe1xuICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1zdWNjZXNzJywgYXV0aFJlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1mYWlsdXJlJywgYXV0aFJlc3VsdCk7XG4gICAgICB9XG4gICAgfTsgXG59XSk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvY29tcG9uZW50cy9hbmd1bGFyLWRpcmVjdGl2ZS5nLXNpZ25pbi9nb29nbGUtcGx1cy1zaWduaW4uanNcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL3ZlbmRvci5zY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL3ZlbmRvci5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vdmVuZG9yLnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvYXBwL3Njc3MvdmVuZG9yLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSA2MzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vc2Fzcy1sb2FkZXIhLi9zcmMvYXBwL3Njc3MvdmVuZG9yLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSA2NDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9hcHAvc2Nzcy9pbmRleC5zY3NzXG4gKiogbW9kdWxlIGlkID0gNjQxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5kaXN0cmlidXRvci1zZWxlY3Rpb257Zm9udC1zaXplOjE2cHQ7cGFkZGluZzozcHg7bWFyZ2luOjNweH1ib2R5e21hcmdpbi10b3A6MTAwcHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH1AbWVkaWEgKG1pbi13aWR0aDo3NjhweCl7Ym9keXttYXJnaW4tdG9wOjUwcHh9fSN3cmFwcGVye3BhZGRpbmctbGVmdDowfSNwYWdlLXdyYXBwZXJ7d2lkdGg6MTAwJTtwYWRkaW5nOjA7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5odWdle2ZvbnQtc2l6ZTo1MHB4O2xpbmUtaGVpZ2h0Om5vcm1hbH1AbWVkaWEgKG1pbi13aWR0aDo3NjhweCl7I3dyYXBwZXJ7cGFkZGluZy1sZWZ0OjIyNXB4fSNwYWdlLXdyYXBwZXJ7cGFkZGluZzoxMHB4fX0ubWFyZ2luLXRvcC0wNXttYXJnaW4tdG9wOi41ZW19Lm1hcmdpbi10b3AtMTV7bWFyZ2luLXRvcDoxLjVlbX0ubWFyZ2luLXRvcC0yMHttYXJnaW4tdG9wOjJlbX0ubWFyZ2luLXRvcC0yNXttYXJnaW4tdG9wOjIuNWVtfS5tYXJnaW4tdG9wLTUwe21hcmdpbi10b3A6NWVtfS5pc3N1ZS13YXJuaW5nLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpvcmFuZ2V9Lmlzc3VlLXdhcm5pbmctdGV4dHtjb2xvcjpvcmFuZ2V9Lmlzc3VlLWRhbmdlci1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6cmVkfS5pc3N1ZS1kYW5nZXItdGV4dHtjb2xvcjpyZWR9Lmlzc3VlLW5vcm1hbC1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6Z3JlZW59Lmlzc3VlLW5vcm1hbC10ZXh0e2NvbG9yOmdyZWVufS51cC10cnVlLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpncmVlbn0udXAtZmFsc2UtYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOnJlZH0ubmF2YmFyLWRlZmF1bHR7YmFja2dyb3VuZC1jb2xvcjojMWI3NWJiO2JvcmRlci1jb2xvcjojMTU1OThlfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLWJyYW5ke2NvbG9yOiNmZmZ9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItYnJhbmQ6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItYnJhbmQ6aG92ZXJ7Y29sb3I6IzU1YTdlN30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+bGk+YSwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+bGk+YTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+bGk+YTpob3Zlcntjb2xvcjojZmZmfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uYWN0aXZlPmEsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5hY3RpdmU+YTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmFjdGl2ZT5hOmhvdmVye2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojYWZkNWYzfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hOmhvdmVye2NvbG9yOiM1NTU7YmFja2dyb3VuZC1jb2xvcjojZDVkNWQ1fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uZHJvcGRvd24+YSAuY2FyZXR7Ym9yZGVyLXRvcC1jb2xvcjojNzc3O2JvcmRlci1ib3R0b20tY29sb3I6Izc3N30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmRyb3Bkb3duPmE6Zm9jdXMgLmNhcmV0LC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uZHJvcGRvd24+YTpob3ZlciAuY2FyZXR7Ym9yZGVyLXRvcC1jb2xvcjojMzMzO2JvcmRlci1ib3R0b20tY29sb3I6IzMzM30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YSAuY2FyZXQsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6Zm9jdXMgLmNhcmV0LC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hOmhvdmVyIC5jYXJldHtib3JkZXItdG9wLWNvbG9yOiM1NTU7Ym9yZGVyLWJvdHRvbS1jb2xvcjojNTU1fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZXtib3JkZXItY29sb3I6I2RkZH0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGU6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xlOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2RkZH0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGUgLmljb24tYmFye2JhY2tncm91bmQtY29sb3I6I2NjY31AbWVkaWEgKG1heC13aWR0aDo3NjdweCl7Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2IC5vcGVuIC5kcm9wZG93bi1tZW51PmxpPmF7Y29sb3I6Izc3N30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXYgLm9wZW4gLmRyb3Bkb3duLW1lbnU+bGk+YTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXYgLm9wZW4gLmRyb3Bkb3duLW1lbnU+bGk+YTpob3Zlcntjb2xvcjojMzMzfX0udG9wLW5hdntwYWRkaW5nOjAgMTVweH0udG9wLW5hdj5saXtkaXNwbGF5OmlubGluZS1ibG9jaztmbG9hdDpsZWZ0fS50b3AtbmF2PmxpPmF7cGFkZGluZy10b3A6MTVweDtwYWRkaW5nLWJvdHRvbToxNXB4O2xpbmUtaGVpZ2h0OjIwcHg7Y29sb3I6I2VmZWZlZn0udG9wLW5hdj4ub3Blbj5hLC50b3AtbmF2Pi5vcGVuPmE6Zm9jdXMsLnRvcC1uYXY+Lm9wZW4+YTpob3ZlciwudG9wLW5hdj5saT5hOmZvY3VzLC50b3AtbmF2PmxpPmE6aG92ZXJ7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmJ9LnRvcC1uYXY+Lm9wZW4+LmRyb3Bkb3duLW1lbnV7ZmxvYXQ6bGVmdDtwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tdG9wOjA7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDAsMCwwLC4xNSk7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjA7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JveC1zaGFkb3c6MCA2cHggMTJweCByZ2JhKDAsMCwwLC4xNzUpfS50b3AtbmF2Pi5vcGVuPi5kcm9wZG93bi1tZW51PmxpPmF7d2hpdGUtc3BhY2U6bm9ybWFsfXVsLm1lc3NhZ2UtZHJvcGRvd257cGFkZGluZzowO21heC1oZWlnaHQ6MjUwcHg7b3ZlcmZsb3cteDpoaWRkZW47b3ZlcmZsb3cteTphdXRvfWxpLm1lc3NhZ2UtcHJldmlld3t3aWR0aDoyNzVweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCByZ2JhKDAsMCwwLC4xNSl9bGkubWVzc2FnZS1wcmV2aWV3PmF7cGFkZGluZy10b3A6MTVweDtwYWRkaW5nLWJvdHRvbToxNXB4fWxpLm1lc3NhZ2UtZm9vdGVye21hcmdpbjo1cHggMH11bC5hbGVydC1kcm9wZG93bnt3aWR0aDoyMDBweH1AbWVkaWEgKG1pbi13aWR0aDo3NjhweCl7LnNpZGUtbmF2e3Bvc2l0aW9uOmZpeGVkO3RvcDo1MXB4O2xlZnQ6MjI1cHg7bWFyZ2luLWxlZnQ6LTIyNXB4O2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6MDtvdmVyZmxvdy15OmF1dG87YmFja2dyb3VuZC1jb2xvcjojMWI3NWJiO2JvdHRvbTowO292ZXJmbG93LXg6aGlkZGVuO3BhZGRpbmctYm90dG9tOjQwcHh9LnNpZGUtbmF2LC5zaWRlLW5hdj5saT5he3dpZHRoOjIyNXB4fS5zaWRlLW5hdiBsaSBhOmZvY3VzLC5zaWRlLW5hdiBsaSBhOmhvdmVye291dGxpbmU6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiMzZjljZTMhaW1wb3J0YW50fX0uc2lkZS1uYXY+bGk+dWx7cGFkZGluZzowfS5zaWRlLW5hdj5saT51bD5saT5he2Rpc3BsYXk6YmxvY2s7cGFkZGluZzoxMHB4IDE1cHggMTBweCAzOHB4O3RleHQtZGVjb3JhdGlvbjpub25lO2NvbG9yOiNkNGQ0ZDR9LnNpZGUtbmF2PmxpPnVsPmxpPmE6aG92ZXJ7Y29sb3I6I2ZmZn0uZmxvdC1jaGFydHtkaXNwbGF5OmJsb2NrO2hlaWdodDo0MDBweH0uZmxvdC1jaGFydC1jb250ZW50e3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9Lmh1Z2V7Zm9udC1zaXplOjQwcHh9LnBhbmVsLWdyZWVue2JvcmRlci1jb2xvcjojNWNiODVjfS5wYW5lbC1ncmVlbj4ucGFuZWwtaGVhZGluZ3tib3JkZXItY29sb3I6IzVjYjg1Yztjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzVjYjg1Y30ucGFuZWwtZ3JlZW4+YXtjb2xvcjojNWNiODVjfS5wYW5lbC1ncmVlbj5hOmhvdmVye2NvbG9yOiMzZDhiM2R9LnBhbmVsLXJlZHtib3JkZXItY29sb3I6I2Q5NTM0Zn0ucGFuZWwtcmVkPi5wYW5lbC1oZWFkaW5ne2JvcmRlci1jb2xvcjojZDk1MzRmO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojZDk1MzRmfS5wYW5lbC1yZWQ+YXtjb2xvcjojZDk1MzRmfS5wYW5lbC1yZWQ+YTpob3Zlcntjb2xvcjojYjUyYjI3fS5wYW5lbC15ZWxsb3d7Ym9yZGVyLWNvbG9yOiNmMGFkNGV9LnBhbmVsLXllbGxvdz4ucGFuZWwtaGVhZGluZ3tib3JkZXItY29sb3I6I2YwYWQ0ZTtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2YwYWQ0ZX0ucGFuZWwteWVsbG93PmF7Y29sb3I6I2YwYWQ0ZX0ucGFuZWwteWVsbG93PmE6aG92ZXJ7Y29sb3I6I2RmOGExM30udG9vbGJhcnttYXJnaW4tYm90dG9tOjEwcHh9LmVudGl0eS1rZXl7Zm9udC1mYW1pbHk6TW9uYWNvLENvbnNvbGFzLEx1Y2lkYSBDb25zb2xlLGRlamF2dSBzYW5zIG1vbm8sbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMXB4fS5wcm9vZi1vZi1wbGF5LWxhYmVse3BhZGRpbmctYm90dG9tOjEwcHg7cGFkZGluZy10b3A6MTBweH0uY29weS1yZWFkeS10cmFuc3BhcmVudHtjb2xvcjp0cmFuc3BhcmVudH0ubm8tZGV2aWNlc3t0ZXh0LWFsaWduOmNlbnRlcn0ucHJvcGVydGllcy13b3JkLWJyZWFre3dpZHRoOjM5MHB4O3dvcmQtd3JhcDpicmVhay13b3JkO2Rpc3BsYXk6YmxvY2t9LmNvbW1hbmQtaGlzdG9yeS1jb21tYW5ke3dpZHRoOjM3NXB4O3dvcmQtd3JhcDpicmVhay13b3JkO2Rpc3BsYXk6YmxvY2t9Lmhvc3RuYW1lLXdvcmQtYnJlYWt7d2lkdGg6MjAwcHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7ZGlzcGxheTppbmxpbmUtYmxvY2t9W2RhdGEtbmctY2xpY2tdLFtuZy1jbGlja10sW3gtbmctY2xpY2tde2N1cnNvcjpwb2ludGVyfSNwcm9vZnBsYXktc2VsZWN0ZWQtaXRlbXN7bWluLXdpZHRoOjAhaW1wb3J0YW50O21hcmdpbjowIGF1dG87cGFkZGluZzowIGF1dG99LnJhZGlvLWJ1dHRvbntwYWRkaW5nOjNweH0uaG9yaXpvbnRhbC1zdWJtaXR7bWFyZ2luOi41ZW19Lmhvcml6b250YWwtc3VibWl0LC5yYWRpby1ob3Jpem9udGFse2Rpc3BsYXk6ZmxleDthbGlnbi1zZWxmOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7LXdlYmtpdC1hbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyfW1kLXRvb2xiYXIubWQtZGVmYXVsdC10aGVtZTpub3QoLm1kLW1lbnUtdG9vbGJhciksbWQtdG9vbGJhcjpub3QoLm1kLW1lbnUtdG9vbGJhcil7YmFja2dyb3VuZC1jb2xvcjojMWI3NWJiIWltcG9ydGFudDttYXgtaGVpZ2h0OjY0cHg7bWluLWhlaWdodDo2NHB4fS5tZC10b29sYmFyLXRvb2xze2JhY2tncm91bmQtY29sb3I6IzAwMCFpbXBvcnRhbnQ7bWF4LWhlaWdodDo2NHB4O21pbi1oZWlnaHQ6NjRweH0uc2t5a2l0LWltYWdle21heC13aWR0aDoxMDAlO2hlaWdodDozM3B4fUBtZWRpYSAobWF4LXdpZHRoOjc2N3B4KXttZC10b29sYmFyLm1kLWRlZmF1bHQtdGhlbWU6bm90KC5tZC1tZW51LXRvb2xiYXIpLG1kLXRvb2xiYXI6bm90KC5tZC1tZW51LXRvb2xiYXIpe21hcmdpbi10b3A6LTUwcHg7bWFyZ2luLWJvdHRvbTo1MHB4fX0uY2VudGVyLWJsb2Nre3RleHQtYWxpZ246Y2VudGVyfS5lbGxpcHNpcy1vdmVyZmxvdywucHJvb2Ytb2YtcGxheS1zZWxlY3RlZC1pdGVte3dpZHRoOjEwMCU7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmxlZnQ7dGV4dC1vdmVyZmxvdzplbGxpcHNpc30ucHJvb2Ytb2YtcGxheS10ZW5hbnQtbmFtZS1vcHRpb257d2lkdGg6N2VtO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1hbGlnbjpjZW50ZXI7cG9zaXRpdGlvbjphYnNvbHV0ZTt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5wcm9vZi1vZi1wbGF5LWhvcml6b250YWwtdG9wLWJhcnthbGlnbi1zZWxmOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7LXdlYmtpdC1hbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyO21hcmdpbi10b3A6LjVlbTttYXJnaW4tYm90dG9tOi41ZW07YWxpZ24taXRlbXM6Y2VudGVyfS5teS1mbGV4LC5wcm9vZi1vZi1wbGF5LWhvcml6b250YWwtdG9wLWJhcntkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uYmlnZ2VyLWJ1dHRvbnN7cGFkZGluZzouNGVtO21pbi13aWR0aDo4OHB4O2JvcmRlci1yYWRpdXM6NXB4O2ZvbnQtc2l6ZToxNnB4O3RleHQtYWxpZ246Y2VudGVyO3RleHQtZGVjb3JhdGlvbjpub25lO2JvcmRlcjpub25lO291dGxpbmU6bm9uZX0uYWRtaW4tY29udGFpbmVye2Rpc3BsYXk6ZmxleDthbGlnbi1jb250ZW50OmZsZXgtc3RhcnR9LnJlZ2lzdHJhdGlvbi1ldmVudC1jb2x1bW57aGVpZ2h0OjExMHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOnRvcDtvdmVyZmxvdzpzY3JvbGx9LnB1bGwtY29tbWFuZC1zZW5kLWJ1dHRvbi11cHttYXJnaW4tdG9wOi0ycHh9aGVhZGVyLmR0cC1oZWFkZXJ7YmFja2dyb3VuZDojMWI3NWJiIWltcG9ydGFudH0uZHRwIGRpdi5kdHAtZGF0ZSwuZHRwIGRpdi5kdHAtdGltZXtiYWNrZ3JvdW5kOiMwMDB9LmR0cCAuZHRwLWFjdHVhbC1tZXJpZGllbiBhLnNlbGVjdGVkLC5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtaG91ci5zZWxlY3RlZCwuZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5hLnNlbGVjdGVke2JhY2tncm91bmQ6IzFiNzViYiFpbXBvcnRhbnR9LmR0cCAuZHRwLWhhbmQub257YmFja2dyb3VuZDojMDAwfS5kZXZpY2UtcHJvcGVydGllcy1zd2l0Y2h7bWFyZ2luLXRvcDotMXB4fS5tZC1jb250ZW50LWNvbW1hbmQtb3ZlcnJpZGUgbWQtY29udGVudHtvdmVyZmxvdzp1bnNldH0ucHVsbC10b29sdGlwLWxlZnR7bWFyZ2luLWxlZnQ6LTU1cHh9LmNvbW1hbmQtYnV0dG9uLXJpZ2h0e2Zsb2F0OnJpZ2h0O2ZsZXgtZGlyZWN0aW9uOnJvdy1yZXZlcnNlfW1kLXNlbGVjdHtkaXNwbGF5OmJsb2NrO21hcmdpbjoxMHB4IDAgOHB4O3BhZGRpbmctYm90dG9tOjJweDtwb3NpdGlvbjpyZWxhdGl2ZTttaW4td2lkdGg6MTgwcHg7bWF4LXdpZHRoOjE4MHB4fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Nhc3MtbG9hZGVyIS4vc3JjL2FwcC9zY3NzL2luZGV4LnNjc3NcbiAqKiBtb2R1bGUgaWQgPSA2NDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZnVuY3Rpb24gRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybCgkbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYXRpb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tbWFuZHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaW1lem9uZXNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0c1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICB2bS5kZXZpY2VLZXkgPSAkc3RhdGVQYXJhbXMuZGV2aWNlS2V5O1xuICB2bS5mcm9tRGV2aWNlcyA9ICRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCI7XG4gIHZtLmN1cnJlbnREZXZpY2UgPSB7fTtcbiAgdm0uY29tbWFuZEV2ZW50cyA9IFtdO1xuXG4gIHZtLmdlbmVyYXRlTG9jYWxGcm9tVVRDID0gZnVuY3Rpb24gKFVUQ1RpbWUpIHtcbiAgICBsZXQgbG9jYWxUaW1lID0gbW9tZW50LnV0YyhVVENUaW1lKS50b0RhdGUoKTtcbiAgICByZXR1cm4gbG9jYWxUaW1lID0gbW9tZW50KGxvY2FsVGltZSkuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tOnNzIEEnKTtcbiAgfTtcblxuICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gaXNzdWVzW2ldO1xuICAgICAgaWYgKGVhY2gucG9zdGVkVGltZSkge1xuICAgICAgICBlYWNoLnBvc3RlZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnBvc3RlZFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKGVhY2guY29uZmlybWVkVGltZSkge1xuICAgICAgICBlYWNoLmNvbmZpcm1lZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNvbmZpcm1lZFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH07XG5cbiAgdm0uZ2V0RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBjb21tYW5kRXZlbnRzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpO1xuICAgIHJldHVybiBjb21tYW5kRXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUoZGF0YS5ldmVudHMpO1xuICAgICAgdm0uZXZlbnRfbmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuICAgICAgdm0uZXZlbnRfcHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuICAgICAgdm0uY29tbWFuZEV2ZW50cyA9IGRhdGEuZXZlbnRzO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLmdldEV2ZW50c1RpbWVPdXQgPSAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSA9PlxuICAgICR0aW1lb3V0KCggKCkgPT4gdm0uZ2V0RXZlbnRzKGRldmljZUtleSwgcHJldiwgbmV4dCkpLCAxMDAwKVxuICA7XG5cbiAgdm0uY29tbWFuZEhpc3RvcnlTZWxlY3RlZCA9ICgpID0+IHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXG4gIHZtLnBhZ2luYXRlRXZlbnRDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIG51bGwsIHZtLmV2ZW50X25leHRfY3Vyc29yKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgdm0uZXZlbnRfcHJldl9jdXJzb3IsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcbiAgICBkZXZpY2VQcm9taXNlLnRoZW4oKHJlc3BvbnNlID0+IHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXNwb25zZSkpLCByZXNwb25zZSA9PiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpKTtcblxuICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5KTtcbiAgfTtcblxuICB2bS5vbkdldERldmljZVN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICB2bS5jdXJyZW50RGV2aWNlID0gcmVzcG9uc2U7XG4gICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG4gICAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gcmVzcG9uc2UudGltZXpvbmU7XG4gICAgfVxuICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdm0udGVuYW50S2V5ID0gdm0uY3VycmVudERldmljZS50ZW5hbnRLZXk7XG4gICAgfVxuICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG4gICAgICB2bS5iYWNrVXJsID0gJy8jL2RldmljZXMnO1xuICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gZGV2aWNlcyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmlzVW5tYW5hZ2VkRGV2aWNlID09PSB0cnVlKSB7XG4gICAgICAgIHZtLmJhY2tVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vdW5tYW5hZ2VkYDtcbiAgICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZtLmJhY2tVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vbWFuYWdlZGA7XG4gICAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2bS5vbkdldERldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBmZXRjaCB0aGUgZGV0YWlscyBmb3IgdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgTm8gZGV0YWlsIGZvciBkZXZpY2Vfa2V5ICMke3ZtLmRldmljZUtleX0uIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWA7XG4gICAgJGxvZy5lcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcbiAgfTtcblxuICB2bS5vblJlc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jb250ZW50RGVsZXRlKHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblJlc2V0Q29udGVudFN1Y2Nlc3MsIHZtLm9uUmVzZXRDb250ZW50RmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25SZXNldENvbnRlbnRTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblJlc2V0Q29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBSZXNldCBjb250ZW50IGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblVwZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UuY29udGVudFVwZGF0ZSh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVDb250ZW50U3VjY2Vzcywgdm0ub25VcGRhdGVDb250ZW50RmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25VcGRhdGVDb250ZW50U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlQ29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBDb250ZW50IHVwZGF0ZSBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uUmVzZXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzZXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzZXRQbGF5ZXJTdWNjZXNzLCB2bS5vblJlc2V0UGxheWVyRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25SZXNldFBsYXllclN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciByZXNldCBwbGF5ZXIgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25SZXNldFBsYXllckZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBSZXNldCBwbGF5ZXIgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXNldCBwbGF5ZXIgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25QYW5lbE9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvd2VyT24odm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxPblN1Y2Nlc3MsIHZtLm9uUGFuZWxPbkZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPblN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblBhbmVsT25GYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgUGFuZWwgb24gY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblBhbmVsT2ZmID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvd2VyT2ZmKHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBhbmVsT2ZmU3VjY2Vzcywgdm0ub25QYW5lbE9mZkZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPZmZTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPZmZGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgUGFuZWwgb2ZmIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnVwZGF0ZURldmljZSh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVEZXZpY2VTdWNjZXNzLCB2bS5vblVwZGF0ZURldmljZUZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlRGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBkZXZpY2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25VcGRhdGVEZXZpY2VGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgVXBkYXRlIGRldmljZSBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHVwZGF0ZSBkZXZpY2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25Wb2x1bWVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2Uudm9sdW1lKHZtLmRldmljZUtleSwgdm0uY3VycmVudERldmljZS52b2x1bWUpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Wb2x1bWVDaGFuZ2VTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2Uudm9sdW1lKSwgdm0ub25Wb2x1bWVDaGFuZ2VGYWlsdXJlKTtcbiAgfTtcblxuICB2bS5vblZvbHVtZUNoYW5nZVN1Y2Nlc3MgPSBmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChgV2UgcG9zdGVkIHlvdXIgdm9sdW1lIGNoYW5nZSBjb21tYW5kIG9mICR7bGV2ZWx9IGludG8gdGhlIHBsYXllcidzIHF1ZXVlLmApO1xuICB9O1xuXG4gIHZtLm9uVm9sdW1lQ2hhbmdlRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFZvbHVtZSBjaGFuZ2UgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uQ3VzdG9tQ29tbWFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jdXN0b20odm0uZGV2aWNlS2V5LCB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vbkN1c3RvbUNvbW1hbmRTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tKSwgdm0ub25DdXN0b21Db21tYW5kRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25DdXN0b21Db21tYW5kU3VjY2VzcyA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoYFdlIHBvc3RlZCB5b3VyIGN1c3RvbSBjb21tYW5kICcke2NvbW1hbmR9JyBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5gKTtcbiAgfTtcblxuICB2bS5vbkN1c3RvbUNvbW1hbmRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgQ3VzdG9tIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgY3VzdG9tIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uRGlhZ25vc3RpY3NUb2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UudG9nZ2xlRGlhZ25vc3RpY3Modm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NTdWNjZXNzLCB2bS5vblRvZ2dsZURpYWdub3N0aWNzRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgRGlhZ25vc3RpY3MgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBkaWFnbm9zdGljcyBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLFxuICAgICAgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25SZXN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnJlc3RhcnQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzdGFydFN1Y2Nlc3MsIHZtLm9uUmVzdGFydEZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUmVzdGFydFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc3RhcnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25SZXN0YXJ0RmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFJlc3RhcnQgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXN0YXJ0IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsXG4gICAgICAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblBvc3RMb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucG9zdExvZyh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Qb3N0TG9nU3VjY2Vzcywgdm0ub25Qb3N0TG9nRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Qb3N0TG9nU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25Qb3N0TG9nRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFBvc3QgbG9nIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIixcbiAgICAgICdlcnJvcicpO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2RldmljZS9kZXZpY2UtZGV0YWlsLWNvbW1hbmQuanNcbiAqKi8iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmZ1bmN0aW9uIERldmljZURldGFpbHNDdHJsKCRsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlbmFudHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYXRpb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbW1hbmRzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpbWV6b25lc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlZ3JhdGlvbkV2ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3ZWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3RzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGNvbnN0IHZtID0gdGhpcztcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0uZGV2aWNlS2V5ID0gJHN0YXRlUGFyYW1zLmRldmljZUtleTtcbiAgdm0uZnJvbURldmljZXMgPSAkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiO1xuICB2bS5jdXJyZW50RGV2aWNlID0ge307XG4gIHZtLmxvY2F0aW9ucyA9IFtdO1xuICB2bS5jb21tYW5kRXZlbnRzID0gW107XG4gIHZtLmRheVJhbmdlID0gMzA7XG4gIHZtLmlzc3VlcyA9IFtdO1xuICB2bS50aW1lem9uZXMgPSBbXTtcbiAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHVuZGVmaW5lZDtcbiAgW3ZtLnN0YXJ0VGltZSwgdm0uZW5kVGltZV0gPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jcmVhdGVGb3JtYXR0ZWRTdGFydEFuZEVuZERhdGVGcm9tVG9kYXkoMzApO1xuICB2bS5lbnJvbGxtZW50RXZlbnRzID0gW107XG4gIHZtLmxvZ29DaGFuZ2UgPSBmYWxzZTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIE92ZXJsYXlcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBsZXQgYXR0YWNoSW1hZ2VOYW1lVG9PdmVybGF5ID0gKG92ZXJsYXlzKSA9PiB7XG4gICAgbGV0IG1vZGlmaWVkT3ZlcmxheXMgPSBhbmd1bGFyLmNvcHkob3ZlcmxheXMpXG4gICAgaWYgKG1vZGlmaWVkT3ZlcmxheXMpIHtcbiAgICAgIGRlbGV0ZSBtb2RpZmllZE92ZXJsYXlzW1wia2V5XCJdXG5cbiAgICAgIGZvciAobGV0IGsgaW4gbW9kaWZpZWRPdmVybGF5cykge1xuICAgICAgICBpZiAobW9kaWZpZWRPdmVybGF5c1trXVtcImltYWdlX2tleVwiXSkge1xuICAgICAgICAgIG1vZGlmaWVkT3ZlcmxheXNba10ubmFtZSA9IG1vZGlmaWVkT3ZlcmxheXNba11bXCJpbWFnZV9rZXlcIl1bXCJuYW1lXCJdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9kaWZpZWRPdmVybGF5c1trXS5uYW1lID0gbW9kaWZpZWRPdmVybGF5c1trXS50eXBlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1vZGlmaWVkT3ZlcmxheXNcbiAgfVxuXG4gIHZtLmFkanVzdE92ZXJsYXlTdGF0dXMgPSAoc3RhdHVzKSA9PiB7XG4gICAgdm0uY3VycmVudERldmljZS5vdmVybGF5X3N0YXR1cyA9IHN0YXR1c1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RGV2aWNlKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIGxldCBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcbiAgICAgIGRldmljZVByb21pc2UudGhlbigocmVzcG9uc2UgPT4ge1xuICAgICAgICB2bS5vbkdldERldmljZVN1Y2Nlc3MocmVzcG9uc2UpXG4gICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgfSksIHJlc3BvbnNlID0+IHZtLm9uR2V0RGV2aWNlRmFpbHVyZShyZXNwb25zZSkpO1xuICAgIH0pXG4gIH1cblxuICB2bS5zdWJtaXRPdmVybGF5U2V0dGluZ3MgPSAoKSA9PiB7XG4gICAgbGV0IG92ZXJsYXlTZXR0aW5ncyA9IHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheTtcbiAgICBkZWxldGUgb3ZlcmxheVNldHRpbmdzLmtleTtcbiAgICBkZWxldGUgb3ZlcmxheVNldHRpbmdzLmRldmljZV9rZXk7XG5cbiAgICBsZXQgb3ZlcmxheVNldHRpbmdzQ29weSA9IHt9XG4gICAgZm9yIChsZXQgayBpbiBvdmVybGF5U2V0dGluZ3MpIHtcbiAgICAgIG92ZXJsYXlTZXR0aW5nc0NvcHlba10gPSBKU09OLnBhcnNlKG92ZXJsYXlTZXR0aW5nc1trXSlcbiAgICB9XG5cbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLnNhdmVPdmVybGF5U2V0dGluZ3MoXG4gICAgICB2bS5kZXZpY2VLZXksXG4gICAgICBvdmVybGF5U2V0dGluZ3NDb3B5LmJvdHRvbV9sZWZ0LFxuICAgICAgb3ZlcmxheVNldHRpbmdzQ29weS5ib3R0b21fcmlnaHQsXG4gICAgICBvdmVybGF5U2V0dGluZ3NDb3B5LnRvcF9yaWdodCxcbiAgICAgIG92ZXJsYXlTZXR0aW5nc0NvcHkudG9wX2xlZnRcbiAgICApXG4gICAgcHJvbWlzZS50aGVuKChyZXMpID0+IHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcbiAgICB9KVxuXG4gICAgcHJvbWlzZS5jYXRjaCgocmVzKSA9PiB7XG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nJyk7XG5cbiAgICB9KVxuICB9O1xuXG4gIHZtLnN1Ym1pdEltYWdlID0gKCkgPT4ge1xuICAgIGlmICh2bS5zZWxlY3RlZExvZ28gJiYgdm0uc2VsZWN0ZWRMb2dvWzBdKSB7XG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdm0uc2VsZWN0ZWRMb2dvRmluYWwgPSB7fVxuICAgICAgICB2bS5zZWxlY3RlZExvZ29GaW5hbC5hc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KHJlYWRlci5yZXN1bHQpXG4gICAgICAgIHZtLnNlbGVjdGVkTG9nb0ZpbmFsLm5hbWUgPSB2bS5zZWxlY3RlZExvZ29bMF0ubGZGaWxlTmFtZVxuICAgICAgICB2bS5zZWxlY3RlZExvZ29DaGFuZ2UgPSB0cnVlO1xuXG4gICAgICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZUltYWdlKHZtLnRlbmFudEtleSwgdm0uc2VsZWN0ZWRMb2dvRmluYWwuYXNTdHJpbmcsIHZtLnNlbGVjdGVkTG9nb0ZpbmFsLm5hbWUpXG4gICAgICAgIHByb21pc2UudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICAgICAgJHRpbWVvdXQodm0uZ2V0VGVuYW50SW1hZ2VzKCksIDIwMDApO1xuICAgICAgICAgIHZtLmZpbGVBcGkucmVtb3ZlQWxsKClcbiAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHVwbG9hZGVkIHlvdXIgaW1hZ2UuJyk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb21pc2UuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBZb3UgbWF5IGhhdmUgYWxyZWFkeSB1cGxvYWRlZCB0aGlzIGltYWdlLicpO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmVhZGVyLnJlYWRBc1RleHQodm0uc2VsZWN0ZWRMb2dvWzBdLmxmRmlsZSk7XG4gICAgfVxuICB9XG5cbiAgdm0uZ2V0VGVuYW50SW1hZ2VzID0gKCkgPT4ge1xuICAgIHZtLk9WRVJMQVlfVFlQRVMgPSBbXG4gICAgICB7dHlwZTogXCJUSU1FXCIsIG5hbWU6IFwiVElNRVwiLCByZWFsTmFtZTogXCJUSU1FXCIsIG5ldzogdHJ1ZSwgaW1hZ2Vfa2V5OiBudWxsfSxcbiAgICAgIHt0eXBlOiBcIkRBVEVcIiwgbmFtZTogXCJEQVRFXCIsIG5ldzogdHJ1ZSwgcmVhbE5hbWU6IFwiREFURVwiLCBpbWFnZV9rZXk6IG51bGx9LFxuICAgICAge3R5cGU6IFwiREFURVRJTUVcIiwgbmFtZTogXCJEQVRFVElNRVwiLCByZWFsTmFtZTogXCJEQVRFVElNRVwiLCBuZXc6IHRydWUsIGltYWdlX2tleTogbnVsbH0sXG4gICAgXVxuXG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRJbWFnZXModm0udGVuYW50S2V5KTtcbiAgICBwcm9taXNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICBmb3IgKGxldCB2YWx1ZSBvZiByZXMpIHtcbiAgICAgICAgbGV0IG5ld1ZhbHVlID0ge1xuICAgICAgICAgIHJlYWxOYW1lOiBhbmd1bGFyLmNvcHkodmFsdWUubmFtZSksXG4gICAgICAgICAgbmFtZTogXCJMT0dPOiBcIiArIHZhbHVlLm5hbWUsXG4gICAgICAgICAgdHlwZTogXCJMT0dPXCIsXG4gICAgICAgICAgaW1hZ2Vfa2V5OiB2YWx1ZS5rZXlcbiAgICAgICAgfVxuICAgICAgICB2bS5PVkVSTEFZX1RZUEVTLnB1c2gobmV3VmFsdWUpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHByb21pc2UuY2F0Y2goKCkgPT4ge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclN0YXR1cyhcIlNPTUVUSElORyBXRU5UIFdST05HIFJFVFJJRVZJTkcgWU9VUiBJTUFHRVNcIilcbiAgICB9KVxuICB9XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gRXZlbnRzIGFuZCBJc3N1ZXMgVGFiXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIHZtLnJlcGxhY2VJc3N1ZVRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gaXNzdWVzW2ldO1xuICAgICAgaWYgKGVhY2guY3JlYXRlZCkge1xuICAgICAgICBlYWNoLmNyZWF0ZWQgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNyZWF0ZWQpO1xuICAgICAgfVxuICAgICAgaWYgKGVhY2gudXBkYXRlZCkge1xuICAgICAgICBlYWNoLnVwZGF0ZWQgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnVwZGF0ZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gaXNzdWVzW2ldO1xuICAgICAgaWYgKGVhY2gucG9zdGVkVGltZSkge1xuICAgICAgICBlYWNoLnBvc3RlZFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnBvc3RlZFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKGVhY2guY29uZmlybWVkVGltZSkge1xuICAgICAgICBlYWNoLmNvbmZpcm1lZFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNvbmZpcm1lZFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2bS5sb2NhbEZyb21VdGMgPSBmdW5jdGlvbiAoZXZlbnRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gZXZlbnRzW2ldO1xuICAgICAgaWYgKGVhY2gudXRjVGltZXN0YW1wKSB7XG4gICAgICAgIGVhY2gudXRjVGltZXN0YW1wID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC51dGNUaW1lc3RhbXApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH07XG5cbiAgdm0uY29weURldmljZUtleSA9ICgpID0+IFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnRGV2aWNlIGtleSBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmQnKTtcblxuICB2bS5jb3B5Q29ycmVsYXRpb25JZGVudGlmaWVyID0gKCkgPT4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdDb3JyZWxhdGlvbiBJRCBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmQnKTtcblxuICAvLyBldmVudCB0YWJcbiAgdm0uZ2V0SXNzdWVzID0gZnVuY3Rpb24gKGRldmljZSwgZXBvY2hTdGFydCwgZXBvY2hFbmQsIHByZXYsIG5leHQpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgaXNzdWVzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldElzc3Vlc0J5S2V5KGRldmljZSwgZXBvY2hTdGFydCwgZXBvY2hFbmQsIHByZXYsIG5leHQpO1xuICAgIHJldHVybiBpc3N1ZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLnJlcGxhY2VJc3N1ZVRpbWUoZGF0YS5pc3N1ZXMpO1xuICAgICAgdm0uaXNzdWVzID0gZGF0YS5pc3N1ZXM7XG4gICAgICB2bS5wcmV2X2N1cnNvciA9IGRhdGEucHJldjtcbiAgICAgIHZtLm5leHRfY3Vyc29yID0gZGF0YS5uZXh0O1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIGNvbW1hbmQgaGlzdG9yeSB0YWJcbiAgdm0uZ2V0RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBjb21tYW5kRXZlbnRzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpO1xuICAgIHJldHVybiBjb21tYW5kRXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUoZGF0YS5ldmVudHMpO1xuICAgICAgdm0uZXZlbnRfbmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuICAgICAgdm0uZXZlbnRfcHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuICAgICAgdm0uY29tbWFuZEV2ZW50cyA9IGRhdGEuZXZlbnRzO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIGVucm9sbG1lbnQgdGFiXG4gIHZtLmdldEVucm9sbG1lbnRFdmVudHMgPSBmdW5jdGlvbiAoZGV2aWNlS2V5KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGVucm9sbG1lbnRFdmVudHNQcm9taXNlID0gSW50ZWdyYXRpb25FdmVudHMuZ2V0RW5yb2xsbWVudEV2ZW50cyhkZXZpY2VLZXkpO1xuICAgIHJldHVybiBlbnJvbGxtZW50RXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5lbnJvbGxtZW50RXZlbnRzID0gZGF0YTtcbiAgICAgIHZtLmxvY2FsRnJvbVV0YyhkYXRhKTtcbiAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0SXNzdWVzKHZtLmRldmljZUtleSwgdm0uZXBvY2hTdGFydCwgdm0uZXBvY2hFbmQsIG51bGwsIHZtLm5leHRfY3Vyc29yKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0SXNzdWVzKHZtLmRldmljZUtleSwgdm0uZXBvY2hTdGFydCwgdm0uZXBvY2hFbmQsIHZtLnByZXZfY3Vyc29yLCBudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgdm0ucGFnaW5hdGVFdmVudENhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgbnVsbCwgdm0uZXZlbnRfbmV4dF9jdXJzb3IpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCB2bS5ldmVudF9wcmV2X2N1cnNvciwgbnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZXBvY2hTdGFydCA9IG1vbWVudCh2bS5zdGFydFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG4gICAgdm0uZXBvY2hFbmQgPSBtb21lbnQodm0uZW5kVGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcblxuICAgIGxldCB0aW1lem9uZVByb21pc2UgPSBUaW1lem9uZXNTZXJ2aWNlLmdldEN1c3RvbVRpbWV6b25lcygpO1xuICAgIHRpbWV6b25lUHJvbWlzZS50aGVuKGRhdGEgPT4gdm0udGltZXpvbmVzID0gZGF0YSk7XG5cbiAgICB2bS5wYW5lbE1vZGVscyA9IERldmljZXNTZXJ2aWNlLmdldFBhbmVsTW9kZWxzKCk7XG4gICAgdm0ucGFuZWxJbnB1dHMgPSBEZXZpY2VzU2VydmljZS5nZXRQYW5lbElucHV0cygpO1xuXG4gICAgbGV0IGRldmljZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VCeUtleSh2bS5kZXZpY2VLZXkpO1xuICAgIGRldmljZVByb21pc2UudGhlbigocmVzcG9uc2UgPT4gdm0ub25HZXREZXZpY2VTdWNjZXNzKHJlc3BvbnNlKSksIHJlc3BvbnNlID0+IHZtLm9uR2V0RGV2aWNlRmFpbHVyZShyZXNwb25zZSkpO1xuXG4gICAgdm0uZ2V0VGVuYW50SW1hZ2VzKCk7XG4gICAgdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSk7XG4gICAgdm0uZ2V0SXNzdWVzKHZtLmRldmljZUtleSwgdm0uZXBvY2hTdGFydCwgdm0uZXBvY2hFbmQpO1xuICAgIHJldHVybiB2bS5nZXRFbnJvbGxtZW50RXZlbnRzKHZtLmRldmljZUtleSk7XG4gIH07XG5cbiAgdm0ub25HZXREZXZpY2VTdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgdm0uY3VycmVudERldmljZSA9IHJlc3BvbnNlO1xuICAgIHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheSA9IGF0dGFjaEltYWdlTmFtZVRvT3ZlcmxheSh2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXkpXG5cbiAgICBpZiAocmVzcG9uc2UudGltZXpvbmUgIT09IHZtLnNlbGVjdGVkVGltZXpvbmUpIHtcbiAgICAgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSByZXNwb25zZS50aW1lem9uZTtcbiAgICB9XG4gICAgaWYgKHZtLnRlbmFudEtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2bS50ZW5hbnRLZXkgPSB2bS5jdXJyZW50RGV2aWNlLnRlbmFudEtleTtcbiAgICB9XG4gICAgaWYgKCRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgIHZtLmJhY2tVcmwgPSAnLyMvZGV2aWNlcyc7XG4gICAgICB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIGRldmljZXMnO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodm0uY3VycmVudERldmljZS5pc1VubWFuYWdlZERldmljZSA9PT0gdHJ1ZSkge1xuICAgICAgICB2bS5iYWNrVXJsID0gYC8jL3RlbmFudHMvJHt2bS50ZW5hbnRLZXl9L3VubWFuYWdlZGA7XG4gICAgICAgIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZtLmJhY2tVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vbWFuYWdlZGA7XG4gICAgICAgIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IG1hbmFnZWQgZGV2aWNlcyc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGxvY2F0aW9uc1Byb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLmdldExvY2F0aW9uc0J5VGVuYW50S2V5KHZtLnRlbmFudEtleSk7XG4gICAgcmV0dXJuIGxvY2F0aW9uc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0ubG9jYXRpb25zID0gZGF0YTtcbiAgICAgIHJldHVybiB2bS5zZXRTZWxlY3RlZE9wdGlvbnMoKTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5vbkdldERldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBmZXRjaCB0aGUgZGV0YWlscyBmb3IgdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgTm8gZGV0YWlsIGZvciBkZXZpY2Vfa2V5ICR7dm0uZGV2aWNlS2V5fS4gRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YDtcbiAgICAkbG9nLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgcmV0dXJuICRzdGF0ZS5nbygnZGV2aWNlcycpO1xuICB9O1xuXG4gIHZtLnNldFNlbGVjdGVkT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsID09PSBudWxsKSB7XG4gICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPSB2bS5wYW5lbE1vZGVsc1swXTtcbiAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dCA9IHZtLnBhbmVsSW5wdXRzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZtLnBhbmVsTW9kZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBwYW5lbE1vZGVsID0gdm0ucGFuZWxNb2RlbHNbaV07XG4gICAgICAgIGlmIChwYW5lbE1vZGVsLmlkID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwpIHtcbiAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPSBwYW5lbE1vZGVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZtLnBhbmVsSW5wdXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBwYW5lbElucHV0ID0gdm0ucGFuZWxJbnB1dHNbal07XG4gICAgICAgIGxldCBpc1BhcmVudCA9IHBhbmVsSW5wdXQucGFyZW50SWQgPT09IHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZDtcbiAgICAgICAgaWYgKGlzUGFyZW50ICYmIHBhbmVsSW5wdXQuaWQudG9Mb3dlckNhc2UoKSA9PT0gdm0uY3VycmVudERldmljZS5wYW5lbElucHV0KSB7XG4gICAgICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbElucHV0ID0gcGFuZWxJbnB1dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSAhPT0gbnVsbCkge1xuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB2bS5sb2NhdGlvbnMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgbGV0IGxvY2F0aW9uID0gdm0ubG9jYXRpb25zW2tdO1xuICAgICAgICBpZiAobG9jYXRpb24ua2V5ID09PSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5KSB7XG4gICAgICAgICAgdm0uY3VycmVudERldmljZS5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gUHJvcGVydGllcyBUYWJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5vblNhdmVEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgaWYgKHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24gIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5ID0gdm0uY3VycmVudERldmljZS5sb2NhdGlvbi5rZXk7XG4gICAgfVxuICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09ICdOb25lJykge1xuICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsTnVtYmVyID0gdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsLmlkO1xuICAgIH1cbiAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkICE9PSB1bmRlZmluZWQgJiYgdm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkICE9PSAnTm9uZScpIHtcbiAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxTZXJpYWxJbnB1dCA9IHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dC5pZC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICB2bS5jdXJyZW50RGV2aWNlLnRpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcbiAgICBsZXQgcHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLnNhdmUodm0uY3VycmVudERldmljZSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NEZXZpY2VTYXZlLCB2bS5vbkZhaWx1cmVEZXZpY2VTYXZlKTtcbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NEZXZpY2VTYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuICB9O1xuXG4gIHZtLm9uRmFpbHVyZURldmljZVNhdmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICRsb2cuaW5mbyhcbiAgICAgICAgYEZhaWx1cmUgc2F2aW5nIGRldmljZS4gQ3VzdG9tZXIgZGlzcGxheSBjb2RlIGFscmVhZHkgZXhpc3RzIGZvciB0ZW5hbnQ6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGhpcyBjdXN0b21lciBkaXNwbGF5IGNvZGUgYWxyZWFkeSBleGlzdHMgZm9yIHRoaXMgdGVuYW50LiBQbGVhc2UgY2hvb3NlIGFub3RoZXIuJywgJ2Vycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRsb2cuZXJyb3IoYEZhaWx1cmUgc2F2aW5nIGRldmljZTogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gc2F2ZSB5b3VyIHVwZGF0ZXMgdG8gdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuICAgIH1cbiAgfTtcblxuICB2bS5vblBhbmVsU2xlZXAgPSBmdW5jdGlvbiAoY29tbWFuZCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBhbmVsU2xlZXAodm0uZGV2aWNlS2V5LCBjb21tYW5kKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxTbGVlcFN1Y2Nlc3MsIHZtLm9uUGFuZWxTbGVlcEZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxTbGVlcFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHRvZ2dsZWQgdGhlIHBhbmVsIHNsZWVwIGF0dHJpYnV0ZS4gVGhlIHBsYXllciBzaG91bGQgYWRqdXN0IHRvIHRoZXNlIGNoYW5nZXMgd2l0aGluIDE1IG1pbnV0ZXMuXCIpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxTbGVlcEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gdG9nZ2xlIHRoZSBwYW5lbCBzbGVlcCBhdHRyaWJ1dGUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLmNvbmZpcm1EZXZpY2VEZWxldGUgPSBmdW5jdGlvbiAoZXZlbnQsIGtleSkge1xuICAgIGxldCBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlIHRvIGRlbGV0ZSB0aGlzIGRldmljZT8nLFxuICAgICAgICB0ZXh0Q29udGVudDogJ1BsZWFzZSByZW1lbWJlciwgeW91IE1VU1QgcmVtb3ZlIHRoaXMgZGV2aWNlIGZyb20gQ29udGVudCBNYW5hZ2VyIGJlZm9yZSBkZWxldGluZyBpdCBmcm9tIFByb3Zpc2lvbmluZy4nLFxuICAgICAgICB0YXJnZXRFdmVudDogZXZlbnQsXG4gICAgICAgIG9rOiAnRGVsZXRlJyxcbiAgICAgICAgY2FuY2VsOiAnQ2FuY2VsJ1xuICAgICAgfVxuICAgICk7XG4gICAgbGV0IHNob3dQcm9taXNlID0gJG1kRGlhbG9nLnNob3coY29uZmlybSk7XG4gICAgbGV0IHN1Y2Nlc3MgPSAoKSA9PiB2bS5vbkNvbmZpcm1EZWxldGUoa2V5KTtcbiAgICBsZXQgZmFpbHVyZSA9ICgpID0+IHZtLm9uQ29uZmlybUNhbmNlbCgpO1xuICAgIHJldHVybiBzaG93UHJvbWlzZS50aGVuKHN1Y2Nlc3MsIGZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uQ29uZmlybURlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBsZXQgc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgcHJvY2Vzc2VkIHlvdXIgZGVsZXRlIHJlcXVlc3QuJyk7XG4gICAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG4gICAgfTtcbiAgICBsZXQgZmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgbGV0IGZyaWVuZGx5TWVzc2FnZSA9ICdXZSB3ZXJlIHVuYWJsZSB0byBjb21wbGV0ZSB5b3VyIGRlbGV0ZSByZXF1ZXN0IGF0IHRoaXMgdGltZS4nO1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChmcmllbmRseU1lc3NhZ2UpO1xuICAgICAgcmV0dXJuICRsb2cuZXJyb3IoYERlbGV0ZSBkZXZpY2UgZmFpbHVyZSBmb3IgZGV2aWNlX2tleSAke2tleX06ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIH07XG4gICAgbGV0IGRlbGV0ZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5kZWxldGUoa2V5KTtcbiAgICByZXR1cm4gZGVsZXRlUHJvbWlzZS50aGVuKHN1Y2Nlc3MsIGZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uQ29uZmlybUNhbmNlbCA9ICgpID0+IFRvYXN0c1NlcnZpY2Uuc2hvd0luZm9Ub2FzdCgnV2UgY2FuY2VsZWQgeW91ciBkZWxldGUgcmVxdWVzdC4nKTtcblxuICB2bS5vblByb29mT2ZQbGF5TG9nZ2luZ0NoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnByb29mT2ZQbGF5TG9nZ2luZykge1xuICAgICAgbGV0IG5vTG9jYXRpb24gPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5ID09PSBudWxsO1xuICAgICAgbGV0IG5vRGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheUNvZGUgPT09IG51bGw7XG4gICAgICBpZiAobm9Mb2NhdGlvbikge1xuICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgTG9jYXRpb24gdG8gZW5hYmxlIFByb29mIG9mIHBsYXkuXCIsICdlcnJvcicpO1xuICAgICAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAobm9EaXNwbGF5Q29kZSkge1xuICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgRGlzcGxheSBjb2RlIHRvIGVuYWJsZSBQcm9vZiBvZiBwbGF5LlwiLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UucHJvb2ZPZlBsYXlMb2dnaW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0ub25TYXZlRGV2aWNlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5vblNhdmVEZXZpY2UoKTtcbiAgICB9XG4gIH07XG5cbiAgdm0ub25VcGRhdGVMb2NhdGlvbiA9ICgpID0+IHZtLm9uU2F2ZURldmljZSgpO1xuXG4gIHZtLmF1dG9HZW5lcmF0ZUN1c3RvbWVyRGlzcGxheUNvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IG5ld0Rpc3BsYXlDb2RlID0gJyc7XG4gICAgaWYgKHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5TmFtZSkge1xuICAgICAgbmV3RGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIG5ld0Rpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuICAgICAgbmV3RGlzcGxheUNvZGUgPSBuZXdEaXNwbGF5Q29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcbiAgICB9XG4gICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5Q29kZSA9IG5ld0Rpc3BsYXlDb2RlO1xuICB9O1xuXG4gIHZtLmxvZ2dseUZvclVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHVzZXJEb21haW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCkuc3BsaXQoXCJAXCIpWzFdO1xuICAgIHJldHVybiB1c2VyRG9tYWluID09PSBcImRlbW8uYWdvc3RvLmNvbVwiIHx8IHVzZXJEb21haW4gPT09IFwiYWdvc3RvLmNvbVwiO1xuICB9O1xuXG4gIHZtLm9uQ2xpY2tSZWZyZXNoQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIHZtLnN0YXJ0VGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmNvbnZlcnRUb01vbWVudElmTm90QWxyZWFkeSh2bS5zdGFydFRpbWUpO1xuICAgIHZtLmVuZFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkodm0uZW5kVGltZSk7XG4gICAgdm0uZXBvY2hTdGFydCA9IG1vbWVudCh2bS5zdGFydFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG4gICAgdm0uZXBvY2hFbmQgPSBtb21lbnQodm0uZW5kVGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcbiAgICB2bS5wcmV2X2N1cnNvciA9IG51bGw7XG4gICAgdm0ubmV4dF9jdXJzb3IgPSBudWxsO1xuICAgIGxldCBpc3N1ZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0SXNzdWVzQnlLZXkodm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgdm0ucHJldl9jdXJzb3IsIHZtLm5leHRfY3Vyc29yKTtcbiAgICByZXR1cm4gaXNzdWVzUHJvbWlzZS50aGVuKChkYXRhID0+IHZtLm9uUmVmcmVzaElzc3Vlc1N1Y2Nlc3MoZGF0YSkpLCBlcnJvciA9PiB2bS5vblJlZnJlc2hJc3N1ZXNGYWlsdXJlKGVycm9yKSk7XG4gIH07XG5cbiAgdm0ub25SZWZyZXNoSXNzdWVzU3VjY2VzcyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG4gICAgdm0uaXNzdWVzID0gZGF0YS5pc3N1ZXM7XG4gICAgdm0ucHJldl9jdXJzb3IgPSBkYXRhLnByZXY7XG4gICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG4gICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICB9O1xuXG4gIHZtLm9uUmVmcmVzaElzc3Vlc0ZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBUb2FzdHNTZXJ2aWNlLnNob3dJbmZvVG9hc3QoJ1dlIHdlcmUgdW5hYmxlIHRvIHJlZnJlc2ggdGhlIGRldmljZSBpc3N1ZXMgbGlzdCBhdCB0aGlzIHRpbWUuJyk7XG4gICAgcmV0dXJuICRsb2cuZXJyb3IoYEZhaWx1cmUgdG8gcmVmcmVzaCBkZXZpY2UgaXNzdWVzOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7RGV2aWNlRGV0YWlsc0N0cmx9XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9kZXZpY2UvZGV2aWNlLWRldGFpbHMuY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIERldmljZXNMaXN0aW5nQ3RybCgkc3RhdGVQYXJhbXMsICRsb2csIERldmljZXNTZXJ2aWNlLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBzd2VldCkge1xuICBcIm5nSW5qZWN0XCI7XG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmRpc3RyaWJ1dG9yS2V5ID0gdW5kZWZpbmVkO1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIE1hbmFnZWRcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5kZXZpY2VzID0gW107XG4gIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiU2VyaWFsIE51bWJlclwiO1xuICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB2bS5nY21pZERldmljZXMgPSB7fTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFVubWFuYWdlZFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID0gXCJNQUNcIjtcbiAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuICB2bS51bm1hbmFnZWREaXNhYmxlZCA9IHRydWU7XG4gIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gbnVsbDtcbiAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSBudWxsO1xuICB2bS51bm1hbmFnZWREZXZpY2VzID0gW107XG4gIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSB7fTtcbiAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0ge307XG4gIHZtLmRldmljZXNUb01hdGNoT25Vbm1hbmFnZWQgPSBbXTtcbiAgdm0uZGV2aWNlc1RvTWF0Y2hPbk1hbmFnZWQgPSBbXTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgdm0ucmVmcmVzaE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuICB9O1xuXG4gIHZtLnJlZnJlc2hVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCk7XG4gIH07XG5cbiAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAodW5tYW5hZ2VkKSB7XG4gICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgdm0udW5tYW5hZ2VkU2VhcmNoVGV4dCA9ICcnO1xuICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuICAgICAgdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IHt9O1xuICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCA9IFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gICAgICB2bS5tYWNEZXZpY2VzID0ge307XG4gICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uTWFuYWdlZCA9IFtdO1xuICAgIH1cbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IChpdGVtKSA9PiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtLCB0cnVlKVxuXG4gIHZtLnByZXBhcmVGb3JFZGl0VmlldyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHNlYXJjaFRleHQpIHtcbiAgICBsZXQgbWFjLCBzZXJpYWwsIGdjbWlkO1xuICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgIG1hYyA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuICAgICAgc2VyaWFsID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuICAgICAgZ2NtaWQgPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIlxuICAgICAgaWYgKG1hYykge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkTWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIG1hYyA9IHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuICAgICAgc2VyaWFsID0gdm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuICAgICAgZ2NtaWQgPSB2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIlxuICAgICAgaWYgKG1hYykge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0ubWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0uc2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0uZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBpc01hdGNoKSB7XG4gICAgaWYgKCF1bm1hbmFnZWQpIHtcbiAgICAgIHZtLmRpc2FibGVkID0gIWlzTWF0Y2g7XG4gICAgICB2bS5kaXNhYmxlZEJ1dHRvbkxvYWRpbmcgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSAhaXNNYXRjaDtcbiAgICAgIHZtLnVubWFuYWdlZERpc2FibGVkQnV0dG9uTG9hZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHJlc291cmNlKSB7XG4gICAgbGV0IGRldmljZXNUb01hdGNoT24gPSB1bm1hbmFnZWQgPyB2bS5kZXZpY2VzVG9NYXRjaE9uVW5tYW5hZ2VkIDogdm0uZGV2aWNlc1RvTWF0Y2hPbk1hbmFnZWRcbiAgICBsZXQgZm91bmRNYXRjaCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGl0ZW0gb2YgZGV2aWNlc1RvTWF0Y2hPbikge1xuICAgICAgaWYgKHJlc291cmNlID09PSBpdGVtKSB7XG4gICAgICAgIGZvdW5kTWF0Y2ggPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICB2bS5jb250cm9sT3BlbkJ1dHRvbih1bm1hbmFnZWQsIGZvdW5kTWF0Y2gpXG4gICAgcmV0dXJuIGZvdW5kTWF0Y2hcbiAgfTtcblxuXG4gIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBwYXJ0aWFsKSB7XG4gICAgbGV0IGJ1dHRvbjtcbiAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICBidXR0b24gPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG4gICAgfVxuXG4gICAgbGV0IGJ5VGVuYW50ID0gZmFsc2U7XG4gICAgbGV0IHRlbmFudEtleSA9IG51bGw7XG5cbiAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgbGV0IGRldmljZXNUb1JldHVybjtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBsZXQgZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG4gICAgICAgICAgaWYgKGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICAgICAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLnNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcbiAgICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICAgICAgdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICAgICAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICAgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uVW5tYW5hZ2VkID0gZGV2aWNlc1RvUmV0dXJuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZtLmRldmljZXNUb01hdGNoT25NYW5hZ2VkID0gZGV2aWNlc1RvUmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBkZXZpY2VzVG9SZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH07XG5cbiAgdm0uZ2V0TWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAoa2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3Ioa2V5LCBwcmV2LCBuZXh0KTtcbiAgICByZXR1cm4gZGV2aWNlc1Byb21pc2UudGhlbigoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICB2bS5kZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcbiAgICAgIHZtLmRldmljZXNOZXh0ID0gcmVzcG9uc2UubmV4dF9jdXJzb3I7XG4gICAgICB2bS5kZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuICAgICAgcmV0dXJuIHZtLmdldEZldGNoU3VjY2VzcygpO1xuICAgIH0pLCByZXNwb25zZSA9PiB2bS5nZXRGZXRjaEZhaWx1cmUocmVzcG9uc2UpKTtcbiAgfTtcblxuICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKGtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCB1bm1hbmFnZWREZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldFVubWFuYWdlZERldmljZXNCeURpc3RyaWJ1dG9yKGtleSwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIHVubWFuYWdlZERldmljZXNQcm9taXNlLnRoZW4oKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG4gICAgICB2bS51bm1hbmFnZWREZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSByZXNwb25zZS5uZXh0X2N1cnNvcjtcbiAgICAgIHJldHVybiB2bS5nZXRGZXRjaFN1Y2Nlc3MoKTtcbiAgICB9KSwgcmVzcG9uc2UgPT4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKSk7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5kaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcbiAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcbiAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcbiAgfTtcblxuICB2bS5nZXRGZXRjaFN1Y2Nlc3MgPSAoKSA9PiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblxuICB2bS5nZXRGZXRjaEZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gYFVuYWJsZSB0byBmZXRjaCBkZXZpY2VzLiBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0uYDtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG4gIH07XG5cblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCwgbWFuYWdlZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICBpZiAobWFuYWdlZCkge1xuICAgICAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgbnVsbCwgdm0uZGV2aWNlc05leHQpO1xuICAgICAgfVxuICAgICAgaWYgKCFtYW5hZ2VkKSB7XG4gICAgICAgIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIG51bGwsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1hbmFnZWQpIHtcbiAgICAgICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLmRldmljZXNQcmV2LCBudWxsKTtcbiAgICAgIH1cbiAgICAgIGlmICghbWFuYWdlZCkge1xuICAgICAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge0RldmljZXNMaXN0aW5nQ3RybH1cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2RldmljZS9kZXZpY2VzLWxpc3RpbmcuY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIEFkbWluQ3RybChBZG1pblNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgIFRvYXN0c1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgIERpc3RyaWJ1dG9yc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG5cbiAgdm0uZ2V0QWxsRGlzdHJpYnV0b3JzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmxvYWRpbmdBbGxEaXN0cmlidXRvcnMgPSB0cnVlO1xuICAgIGxldCBnZXRBbGxEaXN0cmlidXRvcnNQcm9taXNlID0gQWRtaW5TZXJ2aWNlLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuICAgIHJldHVybiBnZXRBbGxEaXN0cmlidXRvcnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmxvYWRpbmdBbGxEaXN0cmlidXRvcnMgPSBmYWxzZTtcbiAgICAgIHJldHVybiB2bS5hbGxEaXN0cmlidXRvcnMgPSBkYXRhO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLmFkZFVzZXJUb0Rpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGV2LCB1c2VyRW1haWwsIGRpc3RyaWJ1dG9yQWRtaW4sIHdoaWNoRGlzdHJpYnV0b3IsIGZvcm0pIHtcbiAgICBpZiAoIWRpc3RyaWJ1dG9yQWRtaW4pIHtcbiAgICAgIGRpc3RyaWJ1dG9yQWRtaW4gPSBmYWxzZTtcbiAgICB9XG4gICAgbGV0IHdpdGhPcldpdGhvdXQgPSBkaXN0cmlidXRvckFkbWluID8gXCJ3aXRoXCIgOiBcIndpdGhvdXRcIjtcblxuICAgIC8vIG5vIG9wdGlvbiB0byBzZWxlY3QgZGlzdHJpYnV0b3IgaXMgZ2l2ZW4gd2hlbiB0aGVyZSBpcyBvbmx5IG9uZSBvcHRpb25cbiAgICBpZiAoIXdoaWNoRGlzdHJpYnV0b3IpIHtcbiAgICAgIHdoaWNoRGlzdHJpYnV0b3IgPSB2bS5kaXN0cmlidXRvcnNBc0FkbWluWzBdO1xuICAgIH1cblxuICAgIGxldCBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlPycsXG4gICAgICAgIHRleHRDb250ZW50OiBgJHt1c2VyRW1haWx9IHdpbGwgYmUgYWRkZWQgdG8gJHt3aGljaERpc3RyaWJ1dG9yfVxuICAgICAgICAke3dpdGhPcldpdGhvdXR9IGFkbWluaXN0cmF0b3IgcHJpdmlsZWdlc2AsXG4gICAgICAgIHRhcmdldEV2ZW50OiBldixcbiAgICAgICAgb2s6ICdPZiBjb3Vyc2UhJyxcbiAgICAgICAgY2FuY2VsOiAnT29wcywgbmV2ZXJtaW5kLidcbiAgICAgIH1cbiAgICApO1xuXG4gICAgcmV0dXJuICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZSA9IEFkbWluU2VydmljZS5hZGRVc2VyVG9EaXN0cmlidXRvcih1c2VyRW1haWwsIHdoaWNoRGlzdHJpYnV0b3IsIGRpc3RyaWJ1dG9yQWRtaW4pO1xuICAgICAgYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGRhdGEubWVzc2FnZSk7XG4gICAgICAgIHZtLnVzZXIgPSB7fTtcbiAgICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgZm9ybS4kc2V0VW50b3VjaGVkKCk7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KCgoKSA9PiB2bS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IoKSksIDIwMDApO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBhZGRVc2VyVG9EaXN0cmlidXRvclByb21pc2UuY2F0Y2goZGF0YSA9PiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGRhdGEuZGF0YS5tZXNzYWdlKSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0ubWFrZURpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGV2LCBkaXN0cmlidXRvck5hbWUsIGFkbWluRW1haWwsIGZvcm0pIHtcbiAgICBsZXQgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKFxuICAgICAge1xuICAgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLFxuICAgICAgICB0ZXh0Q29udGVudDogYElmIHlvdSBwcm9jZWVkLCAke2Rpc3RyaWJ1dG9yTmFtZX0gd2lsbCBiZSBjcmVhdGVkLmAsXG4gICAgICAgIHRhcmdldEV2ZW50OiBldixcbiAgICAgICAgYXJpYUxhYmVsOiAnTHVja3kgZGF5JyxcbiAgICAgICAgb2s6ICdZZWFoIScsXG4gICAgICAgIGNhbmNlbDogJ0ZvcmdldCBpdC4nXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbigoZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IG1ha2VEaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UubWFrZURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yTmFtZSwgYWRtaW5FbWFpbCk7XG4gICAgICBtYWtlRGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdm0uZGlzdHJpYnV0b3IgPSB7fTtcbiAgICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgZm9ybS4kc2V0VW50b3VjaGVkKCk7XG4gICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKCkgPT4gdm0uYWxsRGlzdHJpYnV0b3JzID0gdm0uZ2V0QWxsRGlzdHJpYnV0b3JzKCkpLCAyMDAwKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbWFrZURpc3RyaWJ1dG9yUHJvbWlzZS5jYXRjaChkYXRhID0+IFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoZGF0YS5kYXRhLm1lc3NhZ2UpKTtcbiAgICB9KSk7XG4gIH07XG5cbiAgdm0uZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmxvYWRpbmdVc2Vyc09mRGlzdHJpYnV0b3IgPSB0cnVlO1xuICAgIGxldCBjdXJyZW50RGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG4gICAgbGV0IHVzZXJzb2ZEaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UuZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKGN1cnJlbnREaXN0cmlidXRvcktleSk7XG4gICAgcmV0dXJuIHVzZXJzb2ZEaXN0cmlidXRvclByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0ubG9hZGluZ1VzZXJzT2ZEaXN0cmlidXRvciA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHZtLnVzZXJzT2ZEaXN0cmlidXRvciA9IGRhdGE7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0uc3dpdGNoRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoZGlzdHJpYnV0b3IpIHtcbiAgICBEaXN0cmlidXRvcnNTZXJ2aWNlLnN3aXRjaERpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBEaXN0cmlidXRvciAke2Rpc3RyaWJ1dG9yLm5hbWV9IHNlbGVjdGVkIWApO1xuICB9O1xuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKCk7XG4gICAgdm0uZ2V0QWxsRGlzdHJpYnV0b3JzKCk7XG4gICAgdm0uaXNBZG1pbiA9IFNlc3Npb25zU2VydmljZS5nZXRJc0FkbWluKCk7XG4gICAgdm0uZGlzdHJpYnV0b3JzQXNBZG1pbiA9IFNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCk7XG4gICAgdm0uY3VycmVudERpc3RyaWJ1dG9yTmFtZSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKCk7XG5cbiAgICBpZiAodm0uaXNBZG1pbikge1xuICAgICAgcmV0dXJuIHZtLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7QWRtaW5DdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2FkbWluL2FkbWluLWNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBBdXRoZW50aWNhdGlvbkN0cmwoJHNjb3BlLCAkbG9nLCAkc3RhdGUsICR0aW1lb3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3ZWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlc3Npb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvb2ZQbGF5U2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZW5hbnRzU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcblxuICB2bS5vbkdvb2dsZVBsdXNTaWduSW5TdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50LCBhdXRoUmVzdWx0KSB7XG4gICAgaWYgKCF2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCkge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgfVxuICAgIFNlc3Npb25zU2VydmljZS5yZW1vdmVVc2VySW5mbygpXG4gICAgbGV0IHByb21pc2UgPSBTZXNzaW9uc1NlcnZpY2UubG9naW4oYXV0aFJlc3VsdCk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5sb2dpblN1Y2Nlc3MsIHZtLmxvZ2luRmFpbHVyZSk7XG4gIH07XG5cblxuICB2bS5vbkdvb2dsZVBsdXNTaWduSW5GYWlsdXJlID0gZnVuY3Rpb24gKGV2ZW50LCBhdXRoUmVzdWx0KSB7XG4gICAgaWYgKHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkKSB7XG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBhdXRoZW50aWNhdGUgdG8gR29vZ2xlKy4nLCAnZXJyb3InKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLiRvbignZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLXN1Y2Nlc3MnLCB2bS5vbkdvb2dsZVBsdXNTaWduSW5TdWNjZXNzKTtcbiAgJHNjb3BlLiRvbignZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLWZhaWx1cmUnLCB2bS5vbkdvb2dsZVBsdXNTaWduSW5GYWlsdXJlKTtcblxuICB2bS5pbml0aWFsaXplU2lnbkluID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmNsaWVudElkID0gaWRlbnRpdHkuT0FVVEhfQ0xJRU5UX0lEO1xuICAgIHZtLnN0YXRlID0gaWRlbnRpdHkuU1RBVEU7XG4gICAgcmV0dXJuIHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkID0gZmFsc2U7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZVNpZ25PdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgU2Vzc2lvbnNTZXJ2aWNlLnJlbW92ZVVzZXJJbmZvKCk7XG4gICAgcmV0dXJuICR0aW1lb3V0KHZtLnByb2NlZWRUb1NpZ25lZE91dCwgNTApO1xuICB9O1xuXG4gIHZtLmxvZ2luU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiAkc3RhdGUuZ28oJ2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbicpO1xuICB9O1xuXG4gIHZtLmxvZ2luRmFpbHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gYXV0aGVudGljYXRlIHRvIFN0b3JtcGF0aC4nLCAnZXJyb3InKTtcbiAgfTtcblxuXG4gIHZtLnByb2NlZWRUb1NpZ25lZE91dCA9ICgpID0+ICRzdGF0ZS5nbygnc2lnbmVkX291dCcpO1xuXG4gIHZtLnByb2NlZWRUb1NpZ25JbiA9ICgpID0+ICRzdGF0ZS5nbygnc2lnbl9pbicpO1xuXG4gIHZtLm9uQ2xpY2tHb29nbGVQbHVzU2lnbkluID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkID0gdHJ1ZTtcbiAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0F1dGhlbnRpY2F0aW9uQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9hdXRoZW50aWNhdGlvbi9hdXRoZW50aWNhdGlvbi1jb250cm9sbGVyLmpzXG4gKiovIiwiaW1wb3J0IGNvbnRhaW5zIGZyb20gJ2xvZGFzaC5jb250YWlucyc7XG5cbmZ1bmN0aW9uIEFwcENvbnRyb2xsZXIoJG1kU2lkZW5hdiwgJHN0YXRlLCAkd2luZG93LCBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG5cbiAgdm0uY3VycmVudERpc3RyaWJ1dGVySW5EaXN0cmlidXRlckFkbWluTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgY3VycmVudERpc3RyaWJ1dG9yTmFtZSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKCk7XG4gICAgbGV0IGRpc3RyaWJ1dG9yc0FzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuICAgIHJldHVybiBjb250YWlucyhkaXN0cmlidXRvcnNBc0FkbWluLCBjdXJyZW50RGlzdHJpYnV0b3JOYW1lKTtcbiAgfTtcblxuICB2bS5nZXRJZGVudGl0eSA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAga2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpLFxuICAgICAgZW1haWw6IFNlc3Npb25zU2VydmljZS5nZXRVc2VyRW1haWwoKSxcbiAgICAgIGFkbWluOiBTZXNzaW9uc1NlcnZpY2UuZ2V0SXNBZG1pbigpLFxuICAgICAgZGlzdHJpYnV0b3JfYWRtaW46IFNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCksXG4gICAgICBhZG1pbl9vZl9jdXJyZW50X2Rpc3RyaWJ1dG9yOiB2bS5jdXJyZW50RGlzdHJpYnV0ZXJJbkRpc3RyaWJ1dGVyQWRtaW5MaXN0KCksXG4gICAgICBkaXN0cmlidXRvcktleTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLFxuICAgICAgZGlzdHJpYnV0b3JOYW1lOiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpXG4gICAgfVxuICB9O1xuXG4gIHZtLmlzQ3VycmVudFVSTERpc3RyaWJ1dG9yU2VsZWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHRlc3QgPSAkd2luZG93LmxvY2F0aW9uLmhyZWYuc2VhcmNoKC9kaXN0cmlidXRvcl9zZWxlY3Rpb24vKTtcbiAgICBsZXQgcmVzdWx0ID0gdGVzdCA+PSAwO1xuICAgIHJldHVybiByZXN1bHRcbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gKCkgPT4gdm0uZ2V0SWRlbnRpdHkoKTtcblxuICB2bS50b2dnbGVTaWRlbmF2ID0gKCkgPT4gJG1kU2lkZW5hdignbGVmdCcpLnRvZ2dsZSgpO1xuXG4gIHZtLmdvVG8gPSBmdW5jdGlvbiAoc3RhdGVOYW1lLCBpZCkge1xuICAgICRzdGF0ZS5nbyhzdGF0ZU5hbWUsIHtpZH0pO1xuICAgIGlmICgkbWRTaWRlbmF2KCdsZWZ0JykuaXNPcGVuKCkpIHtcbiAgICAgIHJldHVybiAkbWRTaWRlbmF2KCdsZWZ0JykuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSgpXG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0FwcENvbnRyb2xsZXJ9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvYXBwL2FwcC1jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwoJHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlzdHJpYnV0b3JzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlc3Npb25zU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmRpc3RyaWJ1dG9ycyA9IFtdO1xuICB2bS5jdXJyZW50RGlzdHJpYnV0b3IgPSB1bmRlZmluZWQ7XG4gIHZtLmxvYWRpbmcgPSB0cnVlO1xuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0ubG9lYWRpbmcgPSB0cnVlO1xuICAgIGxldCBkaXN0cmlidXRvcnNQcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5mZXRjaEFsbEJ5VXNlcihTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpKTtcbiAgICByZXR1cm4gZGlzdHJpYnV0b3JzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5kaXN0cmlidXRvcnMgPSBkYXRhO1xuICAgICAgaWYgKHZtLmRpc3RyaWJ1dG9ycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHZtLnNlbGVjdERpc3RyaWJ1dG9yKHZtLmRpc3RyaWJ1dG9yc1swXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0ubG9hZGluZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZtLnNlbGVjdERpc3RyaWJ1dG9yID0gKGRpc3RyaWJ1dG9yKSA9PiBEaXN0cmlidXRvcnNTZXJ2aWNlLnN3aXRjaERpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yKTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7RGlzdHJpYnV0b3JTZWxlY3RvckN0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3Itc2VsZWN0b3ItY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIERpc3RyaWJ1dG9yc0N0cmwoJHN0YXRlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5kaXN0cmlidXRvcnMgPSBbXTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7RGlzdHJpYnV0b3JzQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9kaXN0cmlidXRvci9kaXN0cmlidXRvcnMtY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIERvbWFpbnNDdHJsKCRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgIERvbWFpbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgc3dlZXQpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmRvbWFpbnMgPSBbXTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBwcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZmV0Y2hBbGxEb21haW5zKCk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbihkYXRhID0+IHZtLmRvbWFpbnMgPSBkYXRhKTtcbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IGl0ZW0gPT4gJHN0YXRlLmdvKCdlZGl0RG9tYWluJywge2RvbWFpbktleTogaXRlbS5rZXl9KTtcblxuICB2bS5kZWxldGVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBsZXQgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmRlbGV0ZShpdGVtKTtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oKCkgPT4gdm0uaW5pdGlhbGl6ZSgpKTtcbiAgICB9O1xuICAgIHJldHVybiBzd2VldC5zaG93KHtcbiAgICAgIHRpdGxlOiBcIkFyZSB5b3Ugc3VyZT9cIixcbiAgICAgIHRleHQ6IFwiVGhpcyB3aWxsIHBlcm1hbmVudGx5IHJlbW92ZSB0aGUgZG9tYWluIGZyb20gdGhlIGRpc3RyaWJ1dG9yIGFuZCBkaXNjb25uZWN0IGZyb20gdGVuYW50cy5cIixcbiAgICAgIHR5cGU6IFwid2FybmluZ1wiLFxuICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcbiAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogXCIjREQ2QjU1XCIsXG4gICAgICBjb25maXJtQnV0dG9uVGV4dDogXCJZZXMsIHJlbW92ZSB0aGUgZG9tYWluIVwiLFxuICAgICAgY2xvc2VPbkNvbmZpcm06IHRydWVcbiAgICB9LCBjYWxsYmFjayk7XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0RvbWFpbnNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2RvbWFpbi9kb21haW5zLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBEb21haW5EZXRhaWxzQ3RybCgkbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlUGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgRG9tYWluc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0c1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmN1cnJlbnREb21haW4gPSB7XG4gICAga2V5OiB1bmRlZmluZWQsXG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgIGltcGVyc29uYXRpb25fYWRtaW5fZW1haWxfYWRkcmVzczogdW5kZWZpbmVkLFxuICAgIGRpc3RyaWJ1dG9yX2tleTogdW5kZWZpbmVkLFxuICAgIGFjdGl2ZTogdHJ1ZVxuICB9O1xuICB2bS5kZXZpY2VzQWNjZXNzID0gZmFsc2U7XG4gIHZtLm9yZ1VuaXRzQWNjZXNzID0gZmFsc2U7XG4gIHZtLmN1cnJlbnREb21haW5zID0gW107XG4gIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMuZG9tYWluS2V5O1xuXG4gIGlmICh2bS5lZGl0TW9kZSkge1xuICAgIGxldCBkb21haW5Qcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZ2V0RG9tYWluQnlLZXkoJHN0YXRlUGFyYW1zLmRvbWFpbktleSk7XG4gICAgZG9tYWluUHJvbWlzZS50aGVuKGRhdGEgPT4gdm0uY3VycmVudERvbWFpbiA9IGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHZtLmN1cnJlbnREb21haW4uZGlzdHJpYnV0b3Jfa2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuICB9XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodm0uZWRpdE1vZGUpIHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgICAgbGV0IGNvbm5lY3Rpdml0eVByb21pc2UgPSBEb21haW5zU2VydmljZS5nZXREaXJlY3RvcnlBcGlDb25uZWN0aXZpdHlJbmZvcm1hdGlvbigkc3RhdGVQYXJhbXMuZG9tYWluS2V5KTtcbiAgICAgIHJldHVybiBjb25uZWN0aXZpdHlQcm9taXNlLnRoZW4odm0ub25TdWNjZXNzRGV0ZXJtaW5pbmdDb25uZWN0aXZpdHksIHZtLm9uRmFpbHVyZURldGVybWluaW5nQ29ubmVjdGl2aXR5KTtcbiAgICB9XG4gIH07XG5cbiAgdm0ub25TdWNjZXNzRGV0ZXJtaW5pbmdDb25uZWN0aXZpdHkgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHZtLmRldmljZXNBY2Nlc3MgPSBkYXRhLmRldmljZXNBY2Nlc3M7XG4gICAgdm0ub3JnVW5pdHNBY2Nlc3MgPSBkYXRhLm9yZ1VuaXRzQWNjZXNzO1xuICAgIHZtLmRldmljZXNBY2Nlc3NFeGNlcHRpb24gPSBkYXRhLmRldmljZXNBY2Nlc3NFeGNlcHRpb247XG4gICAgdm0ub3JnVW5pdHNBY2Nlc3NFeGNlcHRpb24gPSBkYXRhLm9yZ1VuaXRzQWNjZXNzRXhjZXB0aW9uO1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICB9O1xuXG4gIHZtLm9uRmFpbHVyZURldGVybWluaW5nQ29ubmVjdGl2aXR5ID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgRmFpbHVyZSBkZXRlcm1pbmluZyBkaXJlY3RvcnkgQVBJIGNvbm5lY3Rpdml0eTogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIGRldGVybWluZSB5b3VyIGRldmljZSBjb25uZWN0aXZpdHkgYXQgdGhpcyB0aW1lLicpO1xuICB9O1xuXG4gIHZtLm9uU2F2ZURvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLnNhdmUodm0uY3VycmVudERvbWFpbik7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NTYXZlRG9tYWluLCB2bS5vbkZhaWx1cmVTYXZlRG9tYWluKTtcbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NTYXZlRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuICB9O1xuXG4gIHZtLm9uRmFpbHVyZVNhdmVEb21haW4gPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICRsb2cuaW5mbyhgRmFpbHVyZSBzYXZpbmcgZG9tYWluLiBEb21haW4gYWxyZWFkeSBleGlzdHM6ICR7ZXJyb3Iuc3RhdHVzfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUaGlzIGRvbWFpbiBuYW1lIGFscmVhZHkgZXhpc3QuIFBsZWFzZSBlbnRlciBhIHVuaXF1ZSBkb21haW4gbmFtZS4nLCAnZXJyb3InKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGxvZy5lcnJvcihgRmFpbHVyZSBzYXZpbmcgZG9tYWluOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBzYXZlIHlvdXIgdXBkYXRlcyBhdCB0aGlzIHRpbWUuJyk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmVkaXRJdGVtID0gaXRlbSA9PiAkc3RhdGUuZ28oJ2VkaXREb21haW4nLCB7ZG9tYWluS2V5OiBpdGVtLmtleX0pO1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEb21haW5EZXRhaWxzQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9kb21haW4vZG9tYWluLWRldGFpbHMuY29udHJvbGxlci5qc1xuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybChQcm9vZlBsYXlTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgVG9hc3RzU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuICAgIGdyb3VwMTogJ0J5IERldmljZScsXG4gICAgZ3JvdXAyOiAnU3VtbWFyaXplZCcsXG4gICAgc2VsZWN0aW9uOiBudWxsXG4gIH07XG5cblxuICB2bS5kYXRlVGltZVNlbGVjdGlvbiA9IHtcbiAgICBzdGFydDogbnVsbCxcbiAgICBlbmQ6IG51bGxcbiAgfTtcblxuICB2bS5mb3JtVmFsaWRpdHkgPSB7XG4gICAgc3RhcnRfZGF0ZTogZmFsc2UsXG4gICAgZW5kX2RhdGU6IGZhbHNlLFxuICAgIGxvY2F0aW9uczogZmFsc2UsXG4gIH07XG5cbiAgdm0udGVuYW50ID0gJHN0YXRlUGFyYW1zLnRlbmFudDtcbiAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gIHZtLnNlbGVjdGVkX2xvY2F0aW9ucyA9IFtdO1xuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsTG9jYXRpb25zKHZtLnRlbmFudClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdm0ubG9jYXRpb25zID0gZGF0YS5kYXRhLmxvY2F0aW9ucztcbiAgICAgICAgaWYgKHZtLmxvY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgO1xuXG4gIHZtLnJlZnJlc2hMb2NhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMgPSBbXTtcbiAgICB2bS5pbml0aWFsaXplKCk7XG4gIH07XG5cbiAgdm0uYWRkVG9TZWxlY3RlZExvY2F0aW9ucyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKHZtLmlzTG9jYXRpb25WYWxpZChzZWFyY2hUZXh0KSkge1xuICAgICAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zLnB1c2goc2VhcmNoVGV4dCk7XG4gICAgICBsZXQgaW5kZXggPSB2bS5sb2NhdGlvbnMuaW5kZXhPZihzZWFyY2hUZXh0KTtcbiAgICAgIHZtLmxvY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuICAgIH1cbiAgICB2bS5hcmVMb2NhdGlvbnNWYWxpZCgpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0ucXVlcnlTZWFyY2ggPSAobG9jYXRpb25zLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKGxvY2F0aW9ucywgc2VhcmNoVGV4dCk7XG5cblxuICB2bS5pc1JhZGlvVmFsaWQgPSBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LnR5cGUgPSBzZWxlY3Rpb247XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzTG9jYXRpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5sb2NhdGlvbnMpKSB7XG4gICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9sb2NhdGlvbnMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG5cbiAgdm0uYXJlTG9jYXRpb25zVmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LmxvY2F0aW9ucyA9ICh2bS5zZWxlY3RlZF9sb2NhdGlvbnMubGVuZ3RoID4gMCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5pc1N0YXJ0RGF0ZVZhbGlkID0gZnVuY3Rpb24gKHN0YXJ0X2RhdGUpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IChzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRW5kRGF0ZVZhbGlkID0gZnVuY3Rpb24gKGVuZF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gKGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWRMb2NhdGlvbiA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgbGV0IGluZGV4ID0gdm0uc2VsZWN0ZWRfbG9jYXRpb25zLmluZGV4T2YoaXRlbSk7XG4gICAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgdm0ubG9jYXRpb25zLnB1c2goaXRlbSk7XG4gICAgdm0uYXJlTG9jYXRpb25zVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5sb2NhdGlvbnMgJiYgdm0uZm9ybVZhbGlkaXR5LnR5cGUpIHtcbiAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG4gICAgICAgIHN0YXJ0X2RhdGVfdW5peDogbW9tZW50KHZtLmRhdGVUaW1lU2VsZWN0aW9uLnN0YXJ0KS51bml4KCksXG4gICAgICAgIGVuZF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcbiAgICAgICAgbG9jYXRpb25zOiB2bS5zZWxlY3RlZF9sb2NhdGlvbnMsXG4gICAgICAgIHR5cGU6IHZtLnJhZGlvQnV0dG9uQ2hvaWNlcy5zZWxlY3Rpb25cblxuICAgICAgfTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICB2bS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2Uodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5sb2NhdGlvbnMsIHZtLnRlbmFudCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5sb2NhdGlvbnMsIHZtLnRlbmFudCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLnRlbmFudHMgPSBudWxsO1xuICB2bS5jdXJyZW50VGVuYW50ID0gdm0udGVuYW50O1xuXG4gIHZtLmluaXRpYWxpemVfdGVuYW50X3NlbGVjdCA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKClcbiAgICAgIC50aGVuKGRhdGEgPT4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzKVxuICA7XG5cbiAgdm0ucXVlcnlTZWFyY2ggPSAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cbiAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcbiAgICBpZiAoX19pbl9fKHNlYXJjaCwgdm0udGVuYW50cykpIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG4gICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuICAgICAgICB0ZW5hbnRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJHt0ZW5hbnR9YCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoYFByb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICR7dGVuYW50fWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdm07XG59O1xuXG5mdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG59XG5cbmV4cG9ydCB7UHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9wcm9vZi9tdWx0aS1sb2NhdGlvbi5jb250cm9sbGVyLmpzXG4gKiovIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5mdW5jdGlvbiBQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG5cbiAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuICAgIGdyb3VwMTogJ0J5IERhdGUnLFxuICAgIGdyb3VwMjogJ1N1bW1hcml6ZWQnLFxuICAgIHNlbGVjdGlvbjogbnVsbFxuICB9O1xuXG5cbiAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG4gICAgc3RhcnQ6IG51bGwsXG4gICAgZW5kOiBudWxsXG4gIH07XG5cbiAgdm0uZm9ybVZhbGlkaXR5ID0ge1xuICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuICAgIGVuZF9kYXRlOiBmYWxzZSxcbiAgICBkaXNwbGF5czogZmFsc2UsXG4gIH07XG5cbiAgdm0udGVuYW50ID0gJHN0YXRlUGFyYW1zLnRlbmFudDtcbiAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gIHZtLnNlbGVjdGVkX2Rpc3BsYXlzID0gW107XG5cblxuICB2bS5pbml0aWFsaXplID0gKCkgPT5cbiAgICBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbERpc3BsYXlzKHZtLnRlbmFudClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdm0uZGlzcGxheXMgPSBkYXRhLmRhdGEuZGV2aWNlcztcbiAgICAgICAgaWYgKHZtLmRpc3BsYXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KVxuICA7XG5cbiAgdm0ucmVmcmVzaERpc3BsYXlzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5zZWxlY3RlZEl0ZW0gPSAnJztcbiAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VsZWN0ZWRfZGlzcGxheXMgPSBbXTtcbiAgICB2bS5pbml0aWFsaXplKCk7XG4gIH07XG5cbiAgdm0uYWRkVG9TZWxlY3RlZERpc3BsYXlzID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcbiAgICBpZiAodm0uaXNEaXNwbGF5VmFsaWQoc2VhcmNoVGV4dCkpIHtcbiAgICAgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzLnB1c2goc2VhcmNoVGV4dCk7XG4gICAgICBsZXQgaW5kZXggPSB2bS5kaXNwbGF5cy5pbmRleE9mKHNlYXJjaFRleHQpO1xuICAgICAgdm0uZGlzcGxheXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB9XG4gICAgdm0uYXJlRGlzcGxheXNWYWxpZCgpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0ucXVlcnlTZWFyY2ggPSAoZGlzcGxheXMsIHNlYXJjaFRleHQpID0+IFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2goZGlzcGxheXMsIHNlYXJjaFRleHQpO1xuXG5cbiAgdm0uaXNSYWRpb1ZhbGlkID0gZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc0Rpc3BsYXlWYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5kaXNwbGF5cykpIHtcbiAgICAgIGlmICghX19pbl9fKHNlYXJjaFRleHQsIHZtLnNlbGVjdGVkX2Rpc3BsYXlzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICB2bS5hcmVEaXNwbGF5c1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5kaXNwbGF5cyA9ICh2bS5zZWxlY3RlZF9kaXNwbGF5cy5sZW5ndGggPiAwKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLmlzU3RhcnREYXRlVmFsaWQgPSBmdW5jdGlvbiAoc3RhcnRfZGF0ZSkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlID0gKHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBEYXRlKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNFbmREYXRlVmFsaWQgPSBmdW5jdGlvbiAoZW5kX2RhdGUpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgPSAoZW5kX2RhdGUgaW5zdGFuY2VvZiBEYXRlKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnJlbW92ZUZyb21TZWxlY3RlZERpc3BsYXkgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGxldCBpbmRleCA9IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLmluZGV4T2YoaXRlbSk7XG4gICAgdm0uc2VsZWN0ZWRfZGlzcGxheXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB2bS5kaXNwbGF5cy5wdXNoKGl0ZW0pO1xuICAgIHZtLmFyZURpc3BsYXlzVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5kaXNwbGF5cyAmJiB2bS5mb3JtVmFsaWRpdHkudHlwZSkge1xuICAgICAgdm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiB2bS5maW5hbCA9IHtcbiAgICAgICAgc3RhcnRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uc3RhcnQpLnVuaXgoKSxcbiAgICAgICAgZW5kX2RhdGVfdW5peDogbW9tZW50KHZtLmRhdGVUaW1lU2VsZWN0aW9uLmVuZCkudW5peCgpLFxuICAgICAgICBkaXNwbGF5czogdm0uc2VsZWN0ZWRfZGlzcGxheXMsXG4gICAgICAgIHR5cGU6IHZtLnJhZGlvQnV0dG9uQ2hvaWNlcy5zZWxlY3Rpb25cblxuICAgICAgfTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICB2bS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHZtLmZpbmFsLmRpc3BsYXlzLCB2bS50ZW5hbnQpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzU3VtbWFyaXplZCh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHZtLmZpbmFsLmRpc3BsYXlzLCB2bS50ZW5hbnQpO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLnRlbmFudHMgPSBudWxsO1xuICB2bS5jdXJyZW50VGVuYW50ID0gdm0udGVuYW50O1xuXG4gIHZtLmluaXRpYWxpemVfdGVuYW50X3NlbGVjdCA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKClcbiAgICAgIC50aGVuKGRhdGEgPT4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzKVxuICA7XG5cbiAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQgIT09IHZtLmN1cnJlbnRUZW5hbnQpIHtcbiAgICAgICRzdGF0ZS5nbygncHJvb2ZEZXRhaWwnLCB7XG4gICAgICAgIHRlbmFudFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoYFByb29mIG9mIFBsYXkgcmVwb3J0aW5nIHNldCB0byAke3RlbmFudH1gKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChgUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgaXMgYWxyZWFkeSBzZXQgdG8gJHt0ZW5hbnR9YCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKHJlc291cmNlcywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXG4gIHZtLmlzU2VsZWN0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoKSB7XG4gICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cblxuICByZXR1cm4gdm07XG59O1xuXG5mdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG59XG5cbmV4cG9ydCB7UHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3Byb29mL211bHRpLWRpc3BsYXkuY29udHJvbGxlci5qc1xuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuXG5mdW5jdGlvbiBQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5yYWRpb0J1dHRvbkNob2ljZXMgPSB7XG4gICAgZ3JvdXAxOiAnQnkgRGV2aWNlJyxcbiAgICBncm91cDI6ICdCeSBEYXRlJyxcbiAgICBzZWxlY3Rpb246IG51bGxcbiAgfTtcblxuXG4gIHZtLmRhdGVUaW1lU2VsZWN0aW9uID0ge1xuICAgIHN0YXJ0OiBudWxsLFxuICAgIGVuZDogbnVsbFxuICB9O1xuXG4gIHZtLmZvcm1WYWxpZGl0eSA9IHtcbiAgICBzdGFydF9kYXRlOiBmYWxzZSxcbiAgICBlbmRfZGF0ZTogZmFsc2UsXG4gICAgcmVzb3VyY2VzOiBmYWxzZSxcbiAgfTtcblxuICB2bS50ZW5hbnQgPSAkc3RhdGVQYXJhbXMudGVuYW50O1xuICB2bS5ub19jYWNoZSA9IHRydWU7XG4gIHZtLmxvYWRpbmcgPSB0cnVlO1xuICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcbiAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzID0gW107XG5cbiAgdm0uaW5pdGlhbGl6ZSA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxSZXNvdXJjZXModm0udGVuYW50KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB2bS5mdWxsX3Jlc291cmNlX21hcCA9IGRhdGEuZGF0YS5yZXNvdXJjZXM7XG4gICAgICAgIHZtLnJlc291cmNlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuZGF0YS5yZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQgcmVzb3VyY2UgPSBkYXRhLmRhdGEucmVzb3VyY2VzW2ldO1xuICAgICAgICAgIHZtLnJlc291cmNlcy5wdXNoKHJlc291cmNlLnJlc291cmNlX25hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZtLnJlc291cmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgO1xuXG4gIHZtLnJlZnJlc2hSZXNvdXJjZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB2bS5zZWxlY3RlZF9yZXNvdXJjZXMgPSBbXTtcbiAgICB2bS5pbml0aWFsaXplKCk7XG4gIH07XG5cbiAgdm0uYWRkVG9TZWxlY3RlZFJlc291cmNlcyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKHZtLmlzUmVzb3VyY2VWYWxpZChzZWFyY2hUZXh0KSkge1xuICAgICAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLnB1c2goc2VhcmNoVGV4dCk7XG4gICAgICBsZXQgaW5kZXggPSB2bS5yZXNvdXJjZXMuaW5kZXhPZihzZWFyY2hUZXh0KTtcbiAgICAgIHZtLnJlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuICAgIH1cbiAgICB2bS5hcmVSZXNvdXJjZXNWYWxpZCgpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0ucXVlcnlTZWFyY2ggPSAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cblxuICB2bS5pc1JhZGlvVmFsaWQgPSBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LnR5cGUgPSBzZWxlY3Rpb247XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5yZXNvdXJjZXMpKSB7XG4gICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9yZXNvdXJjZXMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG5cbiAgdm0uYXJlUmVzb3VyY2VzVmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LnJlc291cmNlcyA9ICh2bS5zZWxlY3RlZF9yZXNvdXJjZXMubGVuZ3RoID4gMCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5pc1N0YXJ0RGF0ZVZhbGlkID0gZnVuY3Rpb24gKHN0YXJ0X2RhdGUpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IChzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRW5kRGF0ZVZhbGlkID0gZnVuY3Rpb24gKGVuZF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gKGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWRSZXNvdXJjZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgbGV0IGluZGV4ID0gdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLmluZGV4T2YoaXRlbSk7XG4gICAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgdm0ucmVzb3VyY2VzLnB1c2goaXRlbSk7XG4gICAgdm0uYXJlUmVzb3VyY2VzVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5yZXNvdXJjZXMgJiYgdm0uZm9ybVZhbGlkaXR5LnR5cGUpIHtcbiAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG4gICAgICAgIHN0YXJ0X2RhdGVfdW5peDogbW9tZW50KHZtLmRhdGVUaW1lU2VsZWN0aW9uLnN0YXJ0KS51bml4KCksXG4gICAgICAgIGVuZF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcbiAgICAgICAgcmVzb3VyY2VzOiB2bS5zZWxlY3RlZF9yZXNvdXJjZXMsXG4gICAgICAgIHR5cGU6IHZtLnJhZGlvQnV0dG9uQ2hvaWNlcy5zZWxlY3Rpb25cbiAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCByZXNvdXJjZXNfYXNfaWRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2bS5maW5hbC5yZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBpdGVtID0gdm0uZmluYWwucmVzb3VyY2VzW2ldO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2bS5mdWxsX3Jlc291cmNlX21hcC5sZW5ndGg7IGorKykge1xuICAgICAgICBsZXQgZWFjaCA9IHZtLmZ1bGxfcmVzb3VyY2VfbWFwW2pdO1xuICAgICAgICBpZiAoZWFjaFtcInJlc291cmNlX25hbWVcIl0gPT09IGl0ZW0pIHtcbiAgICAgICAgICByZXNvdXJjZXNfYXNfaWRzLnB1c2goZWFjaFtcInJlc291cmNlX2lkZW50aWZpZXJcIl0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEZXZpY2Uodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCByZXNvdXJjZXNfYXNfaWRzLCB2bS50ZW5hbnQpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURhdGUodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCByZXNvdXJjZXNfYXNfaWRzLCB2bS50ZW5hbnQpO1xuICAgIH1cbiAgfTtcblxuICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblxuICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpXG4gICAgICAudGhlbihkYXRhID0+IHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cylcbiAgO1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKHJlc291cmNlcywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXG4gIHZtLmlzU2VsZWN0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoKSB7XG4gICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cblxuICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG4gICAgaWYgKHRlbmFudCAhPT0gdm0uY3VycmVudFRlbmFudCkge1xuICAgICAgJHN0YXRlLmdvKCdwcm9vZkRldGFpbCcsIHtcbiAgICAgICAgdGVuYW50XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoYFByb29mIG9mIFBsYXkgcmVwb3J0aW5nIHNldCB0byAke3RlbmFudH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoYFByb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICR7dGVuYW50fWApO1xuICAgIH1cbiAgfTtcblxuXG4gIHJldHVybiB2bTtcbn07XG5cbmZ1bmN0aW9uIF9faW5fXyhuZWVkbGUsIGhheXN0YWNrKSB7XG4gIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSkgPj0gMDtcbn1cblxuZXhwb3J0IHtQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3Byb29mL211bHRpLXJlc291cmNlLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBQcm9vZk9mUGxheUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLnJlc291cmNlID0ge3RpdGxlOiBcIlJlc291cmNlIFJlcG9ydFwifTtcbiAgdm0ubG9jYXRpb24gPSB7dGl0bGU6IFwiTG9jYXRpb24gUmVwb3J0XCJ9O1xuICB2bS5kaXNwbGF5ID0ge3RpdGxlOiBcIkRpc3BsYXkgUmVwb3J0XCJ9O1xuXG4gIHZtLmNob3Nlbl90ZW5hbnQgPSBudWxsO1xuICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXG5cbiAgdm0uaW5pdGlhbGl6ZSA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKClcbiAgICAgIC50aGVuKGRhdGEgPT4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzKVxuICA7XG5cbiAgdm0ucXVlcnlTZWFyY2ggPSAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cblxuICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG5cbiAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQpIHtcbiAgICAgIHZtLmNob3Nlbl90ZW5hbnQgPSAodGVuYW50KTtcbiAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuICAgICAgICB0ZW5hbnQ6IHZtLmNob3Nlbl90ZW5hbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2bS5yZWZyZXNoVGVuYW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgICBsZXQgdXJsID0gUHJvb2ZQbGF5U2VydmljZS5tYWtlSFRUUFVSTChcIi9yZXRyaWV2ZV9teV90ZW5hbnRzXCIsICcnKTtcbiAgICB2bS5pbml0aWFsaXplKCk7XG4gIH07XG5cblxuICByZXR1cm4gdm07XG59O1xuXG5mdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG59XG5cbmV4cG9ydCB7UHJvb2ZPZlBsYXlDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3Byb29mL3Byb29mLW9mLXBsYXkuY29udHJvbGxlci5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkbWluU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgICB0aGlzLlVTRVJfU0VSVklDRSA9IFwidXNlcnNcIjtcbiAgICB0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UgPSBcImRpc3RyaWJ1dG9yc1wiO1xuICB9XG5cbiAgbWFrZURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yLCBhZG1pbl9lbWFpbCkge1xuICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgZGlzdHJpYnV0b3IsXG4gICAgICBhZG1pbl9lbWFpbFxuICAgIH07XG5cbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgJy9hcGkvdjEvZGlzdHJpYnV0b3JzJykuY3VzdG9tUE9TVChwYXlsb2FkKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yKHVzZXJFbWFpbCwgZGlzdHJpYnV0b3IsIGRpc3RyaWJ1dG9yQWRtaW4pIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIHVzZXJfZW1haWw6IHVzZXJFbWFpbCxcbiAgICAgIGRpc3RyaWJ1dG9yLFxuICAgICAgZGlzdHJpYnV0b3JfYWRtaW46IGRpc3RyaWJ1dG9yQWRtaW5cbiAgICB9O1xuXG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlVTRVJfU0VSVklDRSwgXCIvYXBpL3YxL3VzZXJzXCIpLmN1c3RvbVBPU1QocGF5bG9hZCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRVc2Vyc09mRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgYC9hcGkvdjEvYW5hbHl0aWNzL2Rpc3RyaWJ1dG9ycy8ke2Rpc3RyaWJ1dG9yS2V5fS91c2Vyc2ApLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0QWxsRGlzdHJpYnV0b3JzKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBcIi9hcGkvdjEvZGlzdHJpYnV0b3JzXCIpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG59XG5cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL2FkbWluLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBdXRob3JpemF0aW9uU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoU2Vzc2lvbnNTZXJ2aWNlLCAkcSkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy4kcSA9ICRxXG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2VcbiAgfVxuXG4gIGF1dGhlbnRpY2F0ZWQoKSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuICAgIGlmICh1c2VyS2V5KSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdzaWduX2luJ10pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxuXG4gIG5vdEF1dGhlbnRpY2F0ZWQoKSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuICAgIGlmICghdXNlcktleSkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KFtcImF1dGhFcnJvclwiLCAnaG9tZSddKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICBpc0FkbWluT3JEaXN0cmlidXRvckFkbWluKCkge1xuICAgIGxldCBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICBsZXQgYWRtaW4gPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRJc0FkbWluKCk7XG4gICAgbGV0IGRpc3RyaWJ1dG9yQWRtaW4gPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCk7XG4gICAgbGV0IGhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluID0gZmFsc2U7XG4gICAgaWYgKGRpc3RyaWJ1dG9yQWRtaW4gJiYgZGlzdHJpYnV0b3JBZG1pbi5sZW5ndGggPiAwKSB7XG4gICAgICBoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbiA9IHRydWU7XG4gICAgfVxuICAgIGxldCB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuICAgIGlmICghdXNlcktleSkge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KCdzaWduX2luJyk7XG4gICAgfSBlbHNlIGlmICghYWRtaW4gJiYgIWhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluKSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdob21lJ10pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxufVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvYXV0aG9yaXphdGlvbi5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tbWFuZHNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy5TRVJWSUNFX05BTUUgPSAnZGV2aWNlcyc7XG4gIH1cblxuICBwYW5lbFNsZWVwKGtleSwgcGFuZWxTbGVlcCkge1xuICAgIC8qKiBwYW5lbFNsZWVwOiBib29sZWFuICoqL1xuICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgcGFuZWxTbGVlcFxuICAgIH07XG5cbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L3BhbmVsLXNsZWVwYCkuY3VzdG9tUFVUKHBheWxvYWQpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcmVzZXQoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9yZXNldGApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGNvbnRlbnREZWxldGUoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9jb250ZW50LWRlbGV0ZWApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGNvbnRlbnRVcGRhdGUoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9jb250ZW50LXVwZGF0ZWApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHVwZGF0ZURldmljZShrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL3JlZnJlc2gtZGV2aWNlLXJlcHJlc2VudGF0aW9uYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdG9nZ2xlRGlhZ25vc3RpY3Moa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9kaWFnbm9zdGljc2ApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHJlc3RhcnQoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9yZXN0YXJ0YCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcG9zdExvZyhrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL3Bvc3QtbG9nYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcG93ZXJPbihrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL3Bvd2VyLW9uYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcG93ZXJPZmYoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9wb3dlci1vZmZgKS5wb3N0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB2b2x1bWUoa2V5LCB2b2x1bWUpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIHZvbHVtZVxuICAgIH07XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fWApLmN1c3RvbVBPU1QocGF5bG9hZCwgJ2NvbW1hbmRzL3ZvbHVtZScpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgY3VzdG9tKGtleSwgY29tbWFuZCkge1xuICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgY29tbWFuZFxuICAgIH07XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fWApLmN1c3RvbVBPU1QocGF5bG9hZCwgJ2NvbW1hbmRzL2N1c3RvbScpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG59XG5cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvY29tbWFuZHMuc2VydmljZS5qc1xuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50J1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KGRhdGUpIHtcbiAgICBpZiAoIW1vbWVudC5pc01vbWVudChkYXRlKSkge1xuICAgICAgcmV0dXJuIG1vbWVudChuZXcgRGF0ZShkYXRlKSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRhdGVcbiAgICB9XG4gIH1cblxuICBjcmVhdGVGb3JtYXR0ZWRTdGFydEFuZEVuZERhdGVGcm9tVG9kYXkoZGF5c0JhY2spIHtcbiAgICBsZXQgc3RhcnRUaW1lID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJylcbiAgICBsZXQgc3RhcnRUaW1lTWlkTmlnaHQgPSBtb21lbnQoc3RhcnRUaW1lLCAnWVlZWS1NTS1ERCcpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJylcbiAgICBsZXQgc3RhcnRUaW1lRW5kT2ZEYXkgPSBtb21lbnQoc3RhcnRUaW1lTWlkTmlnaHQsICdZWVlZLU1NLUREIGhoOm1tIEEnKS5hZGQoMSwgJ2RheScpLnN1YnRyYWN0KDYwLCAnc2Vjb25kcycpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJylcblxuICAgIGxldCBlbmRUaW1lID0gbW9tZW50KCkuc3VidHJhY3QoMzAsICdkYXlzJykuZm9ybWF0KCdZWVlZLU1NLUREJylcbiAgICBsZXQgZW5kVGltZU1pZE5pZ2h0ID0gbW9tZW50KGVuZFRpbWUsICdZWVlZLU1NLUREJykuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tIEEnKVxuXG4gICAgcmV0dXJuIFtlbmRUaW1lTWlkTmlnaHQsIHN0YXJ0VGltZUVuZE9mRGF5XVxuICB9XG5cbiAgZ2VuZXJhdGVMb2NhbEZyb21VVEMoVVRDVGltZSkge1xuICAgIGxldCBsb2NhbFRpbWUgPSBtb21lbnQudXRjKFVUQ1RpbWUpLnRvRGF0ZSgpO1xuICAgIHJldHVybiBtb21lbnQobG9jYWxUaW1lKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW06c3MgQScpO1xuICB9O1xuXG5cbn1cblxuXG5cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvZGF0ZW1hbmlwdWxhdGlvbi5zZXJ2aWNlLmpzXG4gKiovIiwiaW1wb3J0ICdyZXN0YW5ndWxhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERldmljZXNTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJGxvZywgUmVzdGFuZ3VsYXIsICRxLCAkaHR0cCwgJHN0YXRlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRsb2cgPSAkbG9nXG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy4kcSA9ICRxXG4gICAgdGhpcy4kaHR0cCA9ICRodHRwXG4gICAgdGhpcy4kc3RhdGUgPSAkc3RhdGVcbiAgICB0aGlzLlNFUlZJQ0VfTkFNRSA9ICdkZXZpY2VzJztcbiAgICB0aGlzLnVyaUJhc2UgPSAndjEvZGV2aWNlcyc7XG4gIH1cblxuICBnZXREZXZpY2VCeU1hY0FkZHJlc3MobWFjQWRkcmVzcykge1xuICAgIGxldCB1cmwgPSBgYXBpL3YxL2RldmljZXM/bWFjX2FkZHJlc3M9JHttYWNBZGRyZXNzfWA7XG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdhcGkvdjEvZGV2aWNlcycsIHVybCkuZ2V0KCk7XG4gIH1cblxuICBnZXREZXZpY2VCeUtleShkZXZpY2VLZXkpIHtcbiAgICBsZXQgdXJsID0gYGFwaS92MS9kZXZpY2VzLyR7ZGV2aWNlS2V5fWA7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShkaWN0aW9uYXJ5LCB2YWx1ZSkge1xuICAgIGxldCByZXN1bHRzID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpY3Rpb25hcnkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gZGljdGlvbmFyeVtpXTtcbiAgICAgIHJlc3VsdHMucHVzaChlYWNoW3ZhbHVlXSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzXG4gIH1cblxuICBleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcbiAgICAgICAgbGV0IGlzTWFjID0gZmFsc2VcbiAgICAgICAgbGV0IGlzR0NNaWQgPSBmYWxzZVxuICAgICAgICBsZXQgc2VyaWFsRGV2aWNlc0RpY3QgPSB0aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG4gICAgICAgIGxldCBkZXZpY2VTZXJpYWxzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG4gICAgICAgIHJldHVybiBbZGV2aWNlU2VyaWFsc09ubHksIHNlcmlhbERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcbiAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuICAgICAgICBsZXQgc2VyaWFsRGV2aWNlc0RpY3Q7XG4gICAgICAgIGxldCBpc01hYyA9IGZhbHNlXG4gICAgICAgIGxldCBpc0dDTWlkID0gZmFsc2VcbiAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgICAgIHNlcmlhbERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlcmlhbERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzZXJpYWxEZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG4gICAgICAgIHJldHVybiBbc2VyaWFsRGV2aWNlc09ubHksIHNlcmlhbERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBtYWNEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIHRydWUpO1xuICAgICAgICBsZXQgZGV2aWNlTWFjc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwibWFjXCIpO1xuICAgICAgICByZXR1cm4gW2RldmljZU1hY3NPbmx5LCBtYWNEZXZpY2VzRGljdF07XG4gICAgICB9KVxuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcbiAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuICAgICAgICBsZXQgbWFjRGV2aWNlc0RpY3Q7XG4gICAgICAgIGxldCBpc01hYyA9IHRydWU7XG4gICAgICAgIGxldCBpc0dDTWlkID0gZmFsc2U7XG4gICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICBtYWNEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYWNEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWFjRGV2aWNlcyA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJtYWNcIilcbiAgICAgICAgcmV0dXJuIFttYWNEZXZpY2VzLCBtYWNEZXZpY2VzRGljdF07XG4gICAgICB9KTtcblxuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBnY21pZERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuICAgICAgICBsZXQgZ2NtaWREZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJnY21pZFwiKVxuICAgICAgICByZXR1cm4gW2djbWlkRGV2aWNlc09ubHksIGdjbWlkRGV2aWNlc0RpY3RdO1xuICAgICAgfSk7XG4gIH1cblxuICBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBHQ01pZERldmljZXNEaWN0O1xuICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICAgICAgR0NNaWREZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBHQ01pZERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBnY21pZERldmljZXNPbmx5ID0gdGhpcy5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcImdjbWlkXCIpXG4gICAgICAgIHJldHVybiBbZ2NtaWREZXZpY2VzT25seSwgR0NNaWREZXZpY2VzRGljdF07XG4gICAgICB9KTtcbiAgfVxuXG4gIHJlamVjdGVkUHJvbWlzZSgpIHtcbiAgICBsZXQgZGV2aWNlRGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgZGV2aWNlRGVmZXJyZWQucmVqZWN0KClcbiAgICByZXR1cm4gZGV2aWNlRGVmZXJyZWQucHJvbWlzZVxuICB9O1xuXG5cbiAgc2VhcmNoRGV2aWNlcyhwYXJ0aWFsU2VhcmNoLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIGRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgbGV0IGRldmljZXNQcm9taXNlO1xuICAgIGlmIChwYXJ0aWFsU2VhcmNoKSB7XG4gICAgICBpZiAocGFydGlhbFNlYXJjaC5sZW5ndGggPiAyKSB7XG4gICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG4gICAgICAgICAgaWYgKGJ5VGVuYW50KSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcbiAgICAgICAgICBpZiAoYnlUZW5hbnQpIHtcbiAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChieVRlbmFudCkge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMucmVqZWN0ZWRQcm9taXNlKClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLnJlamVjdGVkUHJvbWlzZSgpXG4gICAgfVxuXG4gICAgZGV2aWNlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGV2aWNlc1Jlc3VsdCkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG4gICAgICAgIFwic3VjY2Vzc1wiOiB0cnVlLFxuICAgICAgICBcImRldmljZXNcIjogZGV2aWNlc1Jlc3VsdFxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgZGV2aWNlc1Byb21pc2UuY2F0Y2goZnVuY3Rpb24gKGRldmljZXNSZXN1bHQpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoe1xuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2UsXG4gICAgICAgIFwiZGV2aWNlc1wiOiBbXVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2VcbiAgfVxuXG4gIGNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoodGhlQXJyYXksIG1hYywgZ2NtKSB7XG4gICAgLyoqIENvbnZlcnRzIGFycmF5IHRvIGRpY3Rpb25hcnkgd2l0aCBtYWMsIGdjbWlkLCBvciBzZXJpYWwgYXMgdGhlIGtleSAqKi9cbiAgICBsZXQgZGV2aWNlcyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhlQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBpdGVtID0gdGhlQXJyYXlbaV07XG4gICAgICBpZiAobWFjKSB7XG4gICAgICAgIGRldmljZXNbaXRlbS5tYWNdID0gaXRlbTtcbiAgICAgIH0gZWxzZSBpZiAoZ2NtKSB7XG4gICAgICAgIGRldmljZXNbaXRlbS5nY21pZF0gPSBpdGVtO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGV2aWNlc1tpdGVtLnNlcmlhbF0gPSBpdGVtO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGV2aWNlcztcbiAgfTtcblxuICBlZGl0SXRlbShpdGVtLCBmcm9tRGV2aWNlcykge1xuICAgIGlmICghZnJvbURldmljZXMpIHtcbiAgICAgIGZyb21EZXZpY2VzID0gZmFsc2VcbiAgICB9XG4gICAgdGhpcy4kc3RhdGUuZ28oJ2VkaXREZXZpY2UnLCB7XG4gICAgICBkZXZpY2VLZXk6IGl0ZW0ua2V5LFxuICAgICAgdGVuYW50S2V5OiBpdGVtLnRlbmFudEtleSxcbiAgICAgIGZyb21EZXZpY2VzOiBmcm9tRGV2aWNlc1xuICAgIH0pO1xuICB9XG5cbiAgcHJlcHJhdGVGb3JFZGl0VmlldyhidXR0b24sIHRlbmFudEtleSwgc2VhcmNoVGV4dCwgbWFjRGV2aWNlcywgc2VyaWFsRGV2aWNlcywgZ2NtaWREZXZpY2VzKSB7XG4gICAgbGV0IG1hYywgc2VyaWFsLCBnY21pZDtcblxuICAgIG1hYyA9IGJ1dHRvbiA9PT0gXCJNQUNcIjtcbiAgICBzZXJpYWwgPSBidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuICAgIGdjbWlkID0gYnV0dG9uID09PSBcIkdDTSBJRFwiXG5cbiAgICBpZiAobWFjKSB7XG4gICAgICByZXR1cm4gdGhpcy5lZGl0SXRlbShtYWNEZXZpY2VzW3NlYXJjaFRleHRdKTtcbiAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0oc2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmVkaXRJdGVtKGdjbWlkRGV2aWNlc1tzZWFyY2hUZXh0XSlcbiAgICB9XG5cbiAgfVxuXG4gIGdldElzc3Vlc0J5S2V5KGRldmljZUtleSwgc3RhcnRFcG9jaCwgZW5kRXBvY2gsIHByZXYsIG5leHQpIHtcbiAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcbiAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcbiAgICBsZXQgdXJsID0gYC9hcGkvdjEvZGV2aWNlcy8ke3ByZXZ9LyR7bmV4dH0vJHtkZXZpY2VLZXl9L2lzc3Vlcz9zdGFydD0ke3N0YXJ0RXBvY2h9JmVuZD0ke2VuZEVwb2NofWA7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpIHtcbiAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcbiAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcbiAgICBsZXQgdXJsID0gYC9hcGkvdjEvcGxheWVyLWNvbW1hbmQtZXZlbnRzLyR7cHJldn0vJHtuZXh0fS8ke2RldmljZUtleX1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFRFTkFOVCBWSUVXXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgZ2V0RGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldiwgbmV4dCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IHRoaXMubWFrZURldmljZXNCeVRlbmFudFVSTCh0ZW5hbnRLZXksIHByZXYsIG5leHQsIGZhbHNlKTtcbiAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICB9XG4gIH1cblxuICBnZXRVbm1hbmFnZWREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgICBsZXQgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5VGVuYW50VVJMKHRlbmFudEtleSwgcHJldiwgbmV4dCwgdHJ1ZSk7XG4gICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbF9zZXJpYWwsIHVubWFuYWdlZCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL3RlbmFudHMvc2VhcmNoLyR7dGVuYW50S2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mcGFydGlhbF9zZXJpYWw9JHtwYXJ0aWFsX3NlcmlhbH1gO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIHNlYXJjaERldmljZXNCeVBhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxfbWFjLCB1bm1hbmFnZWQpIHtcbiAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS90ZW5hbnRzL3NlYXJjaC8ke3RlbmFudEtleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfbWFjPSR7cGFydGlhbF9tYWN9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gYC9hcGkvdjEvdGVuYW50cy9zZWFyY2gvJHt0ZW5hbnRLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX2djbWlkPSR7cGFydGlhbF9nY21pZH1gO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBERVZJQ0VTIFZJRVdcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS9kaXN0cmlidXRvcnMvc2VhcmNoLyR7ZGlzdHJpYnV0b3JLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX3NlcmlhbD0ke3BhcnRpYWxfc2VyaWFsfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hYyhkaXN0cmlidXRvcktleSwgcGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gYC9hcGkvdjEvZGlzdHJpYnV0b3JzL3NlYXJjaC8ke2Rpc3RyaWJ1dG9yS2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mcGFydGlhbF9tYWM9JHtwYXJ0aWFsX21hY31gO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIHNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsX2djbWlkLCB1bm1hbmFnZWQpIHtcbiAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJHtkaXN0cmlidXRvcktleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfZ2NtaWQ9JHtwYXJ0aWFsX2djbWlkfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQpIHtcbiAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IHRoaXMubWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCBmYWxzZSk7XG4gICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQpIHtcbiAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IHRoaXMubWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCB0cnVlKTtcbiAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICB9XG4gIH1cblxuICBnZXREZXZpY2VzKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5TRVJWSUNFX05BTUUpLmdldExpc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHNhdmUoZGV2aWNlKSB7XG4gICAgaWYgKGRldmljZS5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByb21pc2UgPSBkZXZpY2UucHV0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdkZXZpY2VzJykucG9zdChkZXZpY2UpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHNhdmVPdmVybGF5U2V0dGluZ3MoZGV2aWNlX3VybHNhZmVfa2V5LCBib3R0b21fbGVmdCwgYm90dG9tX3JpZ2h0LCB0b3BfcmlnaHQsIHRvcF9sZWZ0KSB7XG4gICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICBib3R0b21fbGVmdCxcbiAgICAgIGJvdHRvbV9yaWdodCxcbiAgICAgIHRvcF9yaWdodCxcbiAgICAgIHRvcF9sZWZ0LFxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnb3ZlcmxheScsIGAvYXBpL3YxL292ZXJsYXkvZGV2aWNlLyR7ZGV2aWNlX3VybHNhZmVfa2V5fWApLmN1c3RvbVBPU1QocGF5bG9hZCk7XG4gIH1cblxuICBkZWxldGUoZGV2aWNlS2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZSh0aGlzLlNFUlZJQ0VfTkFNRSwgZGV2aWNlS2V5KS5yZW1vdmUoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldFBhbmVsTW9kZWxzKCkge1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdOb25lJyxcbiAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ05vbmUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnU29ueS1GWEQ0MExYMkYnLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnU29ueSBGWEQ0MExYMkYnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnTkVDLUxDRDQyMTUnLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnTkVDIExDRDQyMTUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJyxcbiAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1BoaWxsaXBzIEJETDU1NjBFTCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdQYW5hc29uaWMtVEg1NUxGNlUnLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnUGFuYXNvbmljIFRINTVMRjZVJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ1NoYXJwLVBORTUyMScsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdTaGFycCBQTkU1MjEnXG4gICAgICB9XG4gICAgXTtcbiAgfVxuXG4gIGdldFBhbmVsSW5wdXRzKCkge1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdOb25lJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ05vbmUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTEnLFxuICAgICAgICAncGFyZW50SWQnOiAnU29ueS1GWEQ0MExYMkYnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTInLFxuICAgICAgICAncGFyZW50SWQnOiAnU29ueS1GWEQ0MExYMkYnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTEnLFxuICAgICAgICAncGFyZW50SWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkyJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1BoaWxsaXBzLUJETDU1NjBFTCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdEVkknLFxuICAgICAgICAncGFyZW50SWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkxJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1BhbmFzb25pYy1USDU1TEY2VSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMicsXG4gICAgICAgICdwYXJlbnRJZCc6ICdQYW5hc29uaWMtVEg1NUxGNlUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnRFZJJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1BhbmFzb25pYy1USDU1TEY2VSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTaGFycC1QTkU1MjEnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTInLFxuICAgICAgICAncGFyZW50SWQnOiAnU2hhcnAtUE5FNTIxJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0RWSScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTaGFycC1QTkU1MjEnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnVkdBJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ05FQy1MQ0Q0MjE1J1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0RWSTEnLFxuICAgICAgICAncGFyZW50SWQnOiAnTkVDLUxDRDQyMTUnXG4gICAgICB9XG4gICAgXTtcbiAgfVxuXG4gIG1ha2VEZXZpY2VzQnlEaXN0cmlidXRvclVSTChkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCwgdW5tYW5hZ2VkKSB7XG4gICAgbGV0IHVybCA9IGAvYXBpL3YxL2Rpc3RyaWJ1dG9ycy8ke2Rpc3RyaWJ1dG9yS2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mbmV4dF9jdXJzb3I9JHtuZXh0fSZwcmV2X2N1cnNvcj0ke3ByZXZ9YDtcbiAgICByZXR1cm4gdXJsXG4gIH1cblxuICBtYWtlRGV2aWNlc0J5VGVuYW50VVJMKHRlbmFudEtleSwgcHJldiwgbmV4dCwgdW5tYW5hZ2VkKSB7XG4gICAgbGV0IHVybCA9IGAvYXBpL3YxL3RlbmFudHMvJHt0ZW5hbnRLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZuZXh0X2N1cnNvcj0ke25leHR9JnByZXZfY3Vyc29yPSR7cHJldn1gO1xuICAgIHJldHVybiB1cmxcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL2RldmljZXMuc2VydmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIERpc3RyaWJ1dG9yc1NlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlO1xuICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuICAgIHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSA9ICdkaXN0cmlidXRvcnMnO1xuICB9XG5cbiAgc2F2ZSh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRlbmFudC5wdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFKS5wb3N0KHRlbmFudCk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZmV0Y2hBbGwoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLmdldExpc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGZldGNoQWxsQnlVc2VyKHVzZXJLZXkpIHtcbiAgICBpZiAodXNlcktleSkge1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZSgndXNlcnMnLCB1c2VyS2V5KS5kb0dFVCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgZ2V0QnlLZXkoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIGBhcGkvdjEvZGlzdHJpYnV0b3JzLyR7a2V5fWApLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZGVsZXRlKGVudGl0eSkge1xuICAgIGlmIChlbnRpdHkua2V5KSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgZW50aXR5LmtleSkucmVtb3ZlKCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBnZXRCeU5hbWUobmFtZSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFKS5nZXRMaXN0KHtkaXN0cmlidXRvck5hbWU6IG5hbWV9KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldERvbWFpbnNCeUtleShrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgYGFwaS92MS9kaXN0cmlidXRvcnMvJHtrZXl9L2RvbWFpbnNgKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHN3aXRjaERpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yKSB7XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2Uuc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZShkaXN0cmlidXRvci5uYW1lKTtcbiAgICB0aGlzLlNlc3Npb25zU2VydmljZS5zZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoZGlzdHJpYnV0b3Iua2V5KTtcbiAgICByZXR1cm4gdGhpcy4kc3RhdGUuZ28oJ3dlbGNvbWUnKTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL2Rpc3RyaWJ1dG9ycy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgIGNsYXNzIERvbWFpbnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gIH1cblxuICBzYXZlKGRvbWFpbikge1xuICAgIGlmIChkb21haW4ua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBwcm9taXNlID0gZG9tYWluLnB1dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSgnZG9tYWlucycpLnBvc3QoZG9tYWluKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmZXRjaEFsbERvbWFpbnMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgnZG9tYWlucycpLmdldExpc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldERvbWFpbkJ5S2V5KGRvbWFpbktleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2RvbWFpbnMnLCBgYXBpL3YxL2RvbWFpbnMvJHtkb21haW5LZXl9YCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXREaXJlY3RvcnlBcGlDb25uZWN0aXZpdHlJbmZvcm1hdGlvbihkb21haW5LZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdkb21haW5zJywgYGFwaS92MS9kb21haW5zLyR7ZG9tYWluS2V5fS9kaXJlY3RvcnlfYXBpYCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBkZWxldGUoZG9tYWluKSB7XG4gICAgaWYgKGRvbWFpbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZShcImRvbWFpbnNcIiwgZG9tYWluLmtleSkucmVtb3ZlKCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvZG9tYWlucy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSWRlbnRpdHlTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuICB9XG5cbiAgZ2V0SWRlbnRpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdpZGVudGl0eScpLmdldCgpO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvaWRlbnRpdHkuc2VydmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVncmF0aW9uRXZlbnRzIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy5FTlJPTExNRU5UX0VWRU5UUyA9ICdpbnRlZ3JhdGlvbl9ldmVudHMvZW5yb2xsbWVudCc7XG4gIH1cblxuICBnZXRFbnJvbGxtZW50RXZlbnRzKGRldmljZUtleSkge1xuICAgIGxldCBxdWVyeSA9IHtcbiAgICAgIGRldmljZUtleVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRU5ST0xMTUVOVF9FVkVOVFMpLmN1c3RvbUdFVCgnJywgcXVlcnkpO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvaW50ZWdyYXRpb24tZXZlbnRzLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhdGlvbnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuICB9XG5cbiAgc2F2ZShsb2NhdGlvbikge1xuICAgIGlmIChsb2NhdGlvbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByb21pc2UgPSBsb2NhdGlvbi5wdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2xvY2F0aW9ucycpLnBvc3QobG9jYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSh0ZW5hbnRLZXksIGN1c3RvbWVyX2xvY2F0aW9uX25hbWUpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKCd0ZW5hbnRzJykuY3VzdG9tR0VUTElTVCh0ZW5hbnRLZXkgKyBcIi9sb2NhdGlvbnNcIiwge2N1c3RvbWVyX2xvY2F0aW9uX25hbWU6IGN1c3RvbWVyX2xvY2F0aW9uX25hbWV9KVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXkodGVuYW50S2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsIGBhcGkvdjEvdGVuYW50cy8ke3RlbmFudEtleX0vbG9jYXRpb25zYCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRMb2NhdGlvbnNCeVRlbmFudEtleVBhZ2luYXRlZCh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcbiAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcbiAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgYGFwaS92MS90ZW5hbnRzLyR7dGVuYW50S2V5fS8ke3ByZXZ9LyR7bmV4dH0vbG9jYXRpb25zYCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRMb2NhdGlvbkJ5S2V5KGxvY2F0aW9uS2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnbG9jYXRpb25zJywgYGFwaS92MS9sb2NhdGlvbnMvJHtsb2NhdGlvbktleX1gKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL2xvY2F0aW9ucy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZ3Jlc3NCYXJTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihuZ1Byb2dyZXNzRmFjdG9yeSkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5uZ1Byb2dyZXNzRmFjdG9yeSA9IG5nUHJvZ3Jlc3NGYWN0b3J5XG4gICAgdGhpcy5wcm9ncmVzc0JhciA9IHRoaXMubmdQcm9ncmVzc0ZhY3RvcnkuY3JlYXRlSW5zdGFuY2UoKTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0Q29sb3IoJyMwMEZDRkYnKTtcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldEhlaWdodCgnNHB4Jyk7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NCYXIuc3RhcnQoKTtcbiAgfVxuXG4gIGNvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLnByb2dyZXNzQmFyLmNvbXBsZXRlKCk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9wcm9ncmVzc2Jhci5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvb2ZQbGF5U2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoJGh0dHAsXG4gICAgICAgICAgICAgICRxLFxuICAgICAgICAgICAgICAkd2luZG93LFxuICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRodHRwID0gJGh0dHBcbiAgICB0aGlzLiRxID0gJHFcbiAgICB0aGlzLiR3aW5kb3cgPSAkd2luZG93XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2VcbiAgICB0aGlzLiRzdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtc1xuICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlXG4gICAgdGhpcy5Ub2FzdHNTZXJ2aWNlID0gVG9hc3RzU2VydmljZVxuICAgIHRoaXMubWFrZUhUVFBSZXF1ZXN0ID0gdGhpcy5tYWtlSFRUUFJlcXVlc3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVyaUJhc2UgPSAncHJvb2ZwbGF5L2FwaS92MSc7XG4gIH1cblxuICBtYWtlSFRUUFVSTCh3aGVyZV90b19nbywgdGVuYW50KSB7XG4gICAgcmV0dXJuIHRoaXMudXJpQmFzZSArIHdoZXJlX3RvX2dvICsgdGVuYW50O1xuICB9XG5cbiAgbWFrZUhUVFBSZXF1ZXN0KHdoZXJlX3RvX2dvLCB0ZW5hbnQpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgbGV0IHVybCA9IHRoaXMubWFrZUhUVFBVUkwod2hlcmVfdG9fZ28sIHRlbmFudCk7XG4gICAgcmV0dXJuIHRoaXMuJGh0dHAuZ2V0KHVybCk7XG4gIH1cblxuICBnZXRBbGxSZXNvdXJjZXModGVuYW50KSB7XG4gICAgbGV0IHIgPSB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfcmVzb3VyY2VzL1wiLCB0ZW5hbnQpO1xuICAgIC8vIHRoZSBjYXRjaCBpcyBvbmx5IGRvbmUgaGVyZSBiZWNhdXNlIDMgcHJvb2Ygb2YgcGxheSB2aWV3cyBhcmUgaW5pdGlsaXplZCBhdCB0aGUgc2FtZSB0aW1lXG4gICAgLy8gc28gdGhpcyBjYXRjaCB3aWxsIGJlIGRvbmUgMyB0aW1lcyB3aXRoIDMgZXJyb3IgbWVzc2FnZXMgaWYgd2UgYWRkIGl0IHRvIGdldEFsbERpc3BsYXlzIGFuZCBnZXRBbGxMb2NhdGlvbnNcbiAgICByLmNhdGNoKGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgIGxldCB7c3RhdHVzfSA9IGVycjtcbiAgICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xuICAgICAgICB0aGlzLlRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoXCJZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHZpZXcgdGhpcyB0ZW5hbnQhXCIpO1xuICAgICAgICB0aGlzLiRzdGF0ZS5nbygncHJvb2YnLCB7fSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgdGhpcy5Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91IG11c3Qgc2VsZWN0IGEgdGVuYW50IGZpcnN0IVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlLmdvKCdwcm9vZicsIHt9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByLnRoZW4oZGF0YSA9PiBkYXRhKTtcbiAgfVxuXG5cbiAgZ2V0QWxsRGlzcGxheXModGVuYW50KSB7XG4gICAgcmV0dXJuIHRoaXMubWFrZUhUVFBSZXF1ZXN0KFwiL3JldHJpZXZlX2FsbF9kaXNwbGF5cy9cIiwgdGVuYW50KTtcbiAgfVxuXG5cbiAgZ2V0QWxsTG9jYXRpb25zKHRlbmFudCkge1xuICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfbG9jYXRpb25zL1wiLCB0ZW5hbnQpO1xuICB9XG5cblxuICBnZXRBbGxUZW5hbnRzKCkge1xuICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9teV90ZW5hbnRzXCIsICcnKTtcbiAgfVxuXG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgcmVzb3VyY2VzLCB0ZW5hbnQpIHtcbiAgICBsZXQgYWxsUmVzb3VyY2VzID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSByZXNvdXJjZXNbaV07XG4gICAgICBhbGxSZXNvdXJjZXMgPSBhbGxSZXNvdXJjZXMgKyBcInxcIiArIGVhY2g7XG4gICAgfVxuXG4gICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9yZXNvdXJjZV9ieV9kYXRlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxSZXNvdXJjZXMgKyAnLycgK1xuICAgICAgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKVxuXG4gICAgICAsICdfYmxhbmsnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGV2aWNlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCByZXNvdXJjZXMsIHRlbmFudCkge1xuICAgIGxldCBhbGxSZXNvdXJjZXMgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IHJlc291cmNlc1tpXTtcbiAgICAgIGFsbFJlc291cmNlcyA9IGFsbFJlc291cmNlcyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX3Jlc291cmNlX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsUmVzb3VyY2VzICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cblxuICBkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGRldmljZXMsIHRlbmFudCkge1xuICAgIGxldCBhbGxEZXZpY2VzID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRldmljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gZGV2aWNlc1tpXTtcbiAgICAgIGFsbERldmljZXMgPSBhbGxEZXZpY2VzICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfZGV2aWNlX3N1bW1hcml6ZWQvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbERldmljZXMgKyAnLycgK1xuICAgICAgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKVxuICAgICAgLCAnX2JsYW5rJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuXG4gIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzQnlEYXRlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBkZXZpY2VzLCB0ZW5hbnQpIHtcbiAgICBsZXQgYWxsRGV2aWNlcyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGRldmljZXNbaV07XG4gICAgICBhbGxEZXZpY2VzID0gYWxsRGV2aWNlcyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2RldmljZV9ieV9kYXRlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxEZXZpY2VzICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBsb2NhdGlvbnMsIHRlbmFudCkge1xuICAgIGxldCBhbGxMb2NhdGlvbnMgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGxvY2F0aW9uc1tpXTtcbiAgICAgIGFsbExvY2F0aW9ucyA9IGFsbExvY2F0aW9ucyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2xvY2F0aW9uX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGxvY2F0aW9ucywgdGVuYW50KSB7XG4gICAgbGV0IGFsbExvY2F0aW9ucyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gbG9jYXRpb25zW2ldO1xuICAgICAgYWxsTG9jYXRpb25zID0gYWxsTG9jYXRpb25zICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfbG9jYXRpb25fc3VtbWFyaXplZC8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY3JlYXRlRmlsdGVyRm9yKHF1ZXJ5KSB7XG4gICAgcXVlcnkgPSBhbmd1bGFyLmxvd2VyY2FzZShxdWVyeSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgICAgcmVzb3VyY2UgPSBhbmd1bGFyLmxvd2VyY2FzZShyZXNvdXJjZSk7XG4gICAgICByZXR1cm4gKHJlc291cmNlLmluZGV4T2YocXVlcnkpID09PSAwKTtcbiAgICB9O1xuICB9XG4gIFxuICBxdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcbiAgICBpZiAoc2VhcmNoVGV4dCkge1xuICAgICAgcmV0dXJuIHJlc291cmNlcy5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXJGb3Ioc2VhcmNoVGV4dCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzb3VyY2VzO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL3Byb29mcGxheS5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2Vzc2lvbnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcigkaHR0cCwgJGxvZywgU3RvcmFnZVNlcnZpY2UsIElkZW50aXR5U2VydmljZSwgUmVzdGFuZ3VsYXIsICRxKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRodHRwID0gJGh0dHBcbiAgICB0aGlzLiRsb2cgPSAkbG9nXG4gICAgdGhpcy5TdG9yYWdlU2VydmljZSA9IFN0b3JhZ2VTZXJ2aWNlXG4gICAgdGhpcy5JZGVudGl0eVNlcnZpY2UgPSBJZGVudGl0eVNlcnZpY2VcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgICB0aGlzLiRxID0gJHFcbiAgICB0aGlzLnNldElkZW50aXR5ID0gdGhpcy5zZXRJZGVudGl0eS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXJpQmFzZSA9ICd2MS9zZXNzaW9ucyc7XG4gIH1cblxuICBzZXREaXN0cmlidXRvcnMoZGlzdHJpYnV0b3JzKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnMnLCBkaXN0cmlidXRvcnMpO1xuICB9XG5cbiAgc2V0RGlzdHJpYnV0b3JzQXNBZG1pbihkaXN0cmlidXRvcnNBc0FkbWluKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnNBc0FkbWluJywgZGlzdHJpYnV0b3JzQXNBZG1pbik7XG4gIH1cblxuICBzZXRJc0FkbWluKGlzQWRtaW4pIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2lzQWRtaW4nLCBpc0FkbWluKTtcbiAgfVxuXG4gIHNldFVzZXJLZXkodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJLZXknLCB2YWx1ZSk7XG4gIH1cblxuICBzZXRVc2VyRW1haWwodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJFbWFpbCcsIHZhbHVlKTtcbiAgfVxuXG4gIHNldEN1cnJlbnREaXN0cmlidXRvcktleSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5JywgdmFsdWUpO1xuICB9XG5cbiAgc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnY3VycmVudERpc3RyaWJ1dG9yTmFtZScsIHZhbHVlKTtcbiAgfVxuXG4gIGdldFVzZXJLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5Jyk7XG4gIH1cblxuICBnZXRVc2VyRW1haWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyRW1haWwnKTtcbiAgfVxuXG4gIGdldERpc3RyaWJ1dG9ycygpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2Rpc3RyaWJ1dG9ycycpO1xuICB9XG5cbiAgZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvck5hbWUnKTtcbiAgfVxuXG4gIGdldEN1cnJlbnREaXN0cmlidXRvcktleSgpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScpO1xuICB9XG5cbiAgZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2Rpc3RyaWJ1dG9yc0FzQWRtaW4nKTtcbiAgfVxuXG4gIGdldElzQWRtaW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdpc0FkbWluJyk7XG4gIH1cblxuICBsb2dpbihjcmVkZW50aWFscykge1xuICAgIGxldCBhdXRoZW50aWNhdGlvblBheWxvYWQgPSB7XG4gICAgICBhY2Nlc3NfdG9rZW46IF8uY2xvbmUoY3JlZGVudGlhbHMuYWNjZXNzX3Rva2VuKSxcbiAgICAgIGF1dGh1c2VyOiBfLmNsb25lKGNyZWRlbnRpYWxzLmF1dGh1c2VyKSxcbiAgICAgIGNsaWVudF9pZDogXy5jbG9uZShjcmVkZW50aWFscy5jbGllbnRfaWQpLFxuICAgICAgY29kZTogXy5jbG9uZShjcmVkZW50aWFscy5jb2RlKSxcbiAgICAgIGlkX3Rva2VuOiBfLmNsb25lKGNyZWRlbnRpYWxzLmlkX3Rva2VuKSxcbiAgICAgIHNjb3BlOiBfLmNsb25lKGNyZWRlbnRpYWxzLnNjb3BlKSxcbiAgICAgIHNlc3Npb25fc3RhdGU6IF8uY2xvbmUoY3JlZGVudGlhbHMuc2Vzc2lvbl9zdGF0ZSksXG4gICAgICBzdGF0ZTogXy5jbG9uZShjcmVkZW50aWFscy5zdGF0ZSksXG4gICAgICBzdGF0dXM6IF8uY2xvbmUoY3JlZGVudGlhbHMuc3RhdHVzKVxuICAgIH07XG5cbiAgICBpZiAoY3JlZGVudGlhbHMuZW1haWwgJiYgY3JlZGVudGlhbHMucGFzc3dvcmQpIHtcbiAgICAgIGF1dGhlbnRpY2F0aW9uUGF5bG9hZCA9IGNyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIGxldCBwcm9taXNlID0gdGhpcy4kaHR0cC5wb3N0KCcvbG9naW4nLCBhdXRoZW50aWNhdGlvblBheWxvYWQpO1xuICAgIHJldHVybiBwcm9taXNlLnN1Y2Nlc3MoZGF0YSA9PiB7XG4gICAgICB0aGlzLnNldFVzZXJLZXkoZGF0YS51c2VyLmtleSk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRJZGVudGl0eSgpXG4gICAgICAgIC50aGVuKCgpID0+IGRhdGEpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0SWRlbnRpdHkoKSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCBpZGVudGl0eVByb21pc2UgPSB0aGlzLklkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgIGlkZW50aXR5UHJvbWlzZS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5zZXREaXN0cmlidXRvcnMoZGF0YVsnZGlzdHJpYnV0b3JzJ10pO1xuICAgICAgdGhpcy5zZXREaXN0cmlidXRvcnNBc0FkbWluKGRhdGFbJ2Rpc3RyaWJ1dG9yc19hc19hZG1pbiddKTtcbiAgICAgIHRoaXMuc2V0SXNBZG1pbihkYXRhWydpc19hZG1pbiddKTtcbiAgICAgIHRoaXMuc2V0VXNlckVtYWlsKGRhdGFbJ2VtYWlsJ10pO1xuICAgICAgdGhpcy5zZXRJc0FkbWluKGRhdGFbXCJpc19hZG1pblwiXSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICByZW1vdmVVc2VySW5mbygpIHtcbiAgICB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnJlbW92ZUFsbCgpO1xuICB9XG59XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9zZXNzaW9ucy5zZXJ2aWNlLmpzXG4gKiovIiwiaW1wb3J0IExvY2tyIGZyb20gJ2xvY2tyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmFnZVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gTG9ja3Iuc2V0KGtleSwgdmFsdWUpO1xuICB9XG5cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiBMb2Nrci5nZXQoa2V5KTtcbiAgfVxuXG4gIHJtKGtleSkge1xuICAgIHJldHVybiBMb2Nrci5ybShrZXkpO1xuICB9XG5cbiAgcmVtb3ZlQWxsKCkge1xuICAgIExvY2tyLmZsdXNoKCk7XG4gIH1cblxufVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvc3RvcmFnZS5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVuYW50c1NlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyLCBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcbiAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcbiAgfVxuXG4gIHNhdmUodGVuYW50KSB7XG4gICAgaWYgKHRlbmFudC5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByb21pc2UgPSB0ZW5hbnQucHV0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCd0ZW5hbnRzJykucG9zdCh0ZW5hbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldEltYWdlcyh0ZW5hbnRfdXJsc2FmZV9rZXkpIHtcbiAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2ltYWdlJywgYC9hcGkvdjEvaW1hZ2UvdGVuYW50LyR7dGVuYW50X3VybHNhZmVfa2V5fWApLmdldExpc3QoKVxuICB9XG5cbiAgc2F2ZUltYWdlKHRlbmFudF91cmxzYWZlX2tleSwgc3ZnX3JlcCwgbmFtZSkge1xuICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgc3ZnX3JlcCxcbiAgICAgIG5hbWVcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdpbWFnZScsIGAvYXBpL3YxL2ltYWdlL3RlbmFudC8ke3RlbmFudF91cmxzYWZlX2tleX1gKS5jdXN0b21QT1NUKHBheWxvYWQpO1xuICB9XG5cbiAgc2VhcmNoQWxsVGVuYW50c0J5TmFtZSh0ZW5hbnRfbmFtZSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwoJ3RlbmFudHMnKS5jdXN0b21HRVRMSVNUKFwiXCIsIHt0ZW5hbnRfbmFtZTogdGVuYW50X25hbWV9KVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZmV0Y2hBbGxUZW5hbnRzKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwoJ3RlbmFudHMnKS5nZXRMaXN0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmZXRjaEFsbFRlbmFudHNQYWdpbmF0ZWQocGFnZV9zaXplLCBvZmZzZXQpIHtcbiAgICBsZXQgdXJsID0gYGFwaS92MS90ZW5hbnRzL3BhZ2luYXRlZC8ke3BhZ2Vfc2l6ZX0vJHtvZmZzZXR9YDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgdXJsKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldFRlbmFudEJ5S2V5KHRlbmFudEtleSkge1xuICAgIGxldCB1cmwgPSBgYXBpL3YxL3RlbmFudHMvJHt0ZW5hbnRLZXl9YDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgdXJsKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGRlbGV0ZSh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKFwidGVuYW50c1wiLCB0ZW5hbnQua2V5KS5yZW1vdmUoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvdGVuYW50cy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZXpvbmVzU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgfVxuXG4gIGdldFVzVGltZXpvbmVzKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RpbWV6b25lcycsICdhcGkvdjEvdGltZXpvbmVzL3VzJykuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRBbGxUaW1lem9uZXMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGltZXpvbmVzJywgJ2FwaS92MS90aW1lem9uZXMvYWxsJykuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRDdXN0b21UaW1lem9uZXMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGltZXpvbmVzJywgJ2FwaS92MS90aW1lem9uZXMvY3VzdG9tJykuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbn1cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvdGltZXpvbmVzLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUb2FzdHNTZXJ2aWNlIHtcbiAgXG4gIGNvbnN0cnVjdG9yKHRvYXN0cikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy50b2FzdHIgPSB0b2FzdHI7XG4gIH1cblxuICBzaG93U3VjY2Vzc1RvYXN0KG1lc3NhZ2UsIHRpdGxlID0gJ1N1Y2Nlc3MhJykge1xuICAgIHJldHVybiB0aGlzLnRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UsIHRpdGxlKTtcbiAgfVxuXG4gIHNob3dFcnJvclRvYXN0KG1lc3NhZ2UsIHRpdGxlID0gJ0Vycm9yIScpIHtcbiAgICByZXR1cm4gdGhpcy50b2FzdHIuZXJyb3IobWVzc2FnZSwgdGl0bGUpO1xuICB9XG5cbiAgc2hvd0luZm9Ub2FzdChtZXNzYWdlLCB0aXRsZSA9ICdJbmZvcm1hdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy50b2FzdHIuaW5mbyhtZXNzYWdlLCB0aXRsZSk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy90b2FzdHMuc2VydmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlcnNpb25zU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICB9XG5cbiAgZ2V0VmVyc2lvbnMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndmVyc2lvbnMnKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL3ZlcnNpb25zLnNlcnZpY2UuanNcbiAqKi8iLCJmdW5jdGlvbiBUZW5hbnRBZGRDdHJsKCRsb2csICRsb2NhdGlvbiwgVGVuYW50c1NlcnZpY2UsIERpc3RyaWJ1dG9yc1NlcnZpY2UsIFRpbWV6b25lc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5nYW1lU3RvcFNlcnZlciA9ICRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMTtcbiAgdm0uY3VycmVudFRlbmFudCA9IHtcbiAgICBrZXk6IHVuZGVmaW5lZCxcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcbiAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcbiAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG4gICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcbiAgICBwcm9vZl9vZl9wbGF5X3VybDogdW5kZWZpbmVkLFxuICAgIGFjdGl2ZTogdHJ1ZVxuICB9O1xuICB2bS5zZWxlY3RlZERvbWFpbiA9IHVuZGVmaW5lZDtcbiAgdm0uZGlzdHJpYnV0b3JEb21haW5zID0gW107XG4gIHZtLnRpbWV6b25lcyA9IFtdO1xuICB2bS5zZWxlY3RlZFRpbWV6b25lID0gJ0FtZXJpY2EvQ2hpY2Fnbyc7XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgdGltZXpvbmVQcm9taXNlID0gVGltZXpvbmVzU2VydmljZS5nZXRDdXN0b21UaW1lem9uZXMoKTtcbiAgICB0aW1lem9uZVByb21pc2UudGhlbihkYXRhID0+IHZtLnRpbWV6b25lcyA9IGRhdGEpO1xuICAgIHZtLmN1cnJlbnREaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcbiAgICBsZXQgZGlzdHJpYnV0b3JQcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5nZXRCeUtleSh2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuICAgIGRpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5jdXJyZW50VGVuYW50LmNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybCA9IGRhdGEuY29udGVudF9tYW5hZ2VyX3VybDtcbiAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50LmNvbnRlbnRfc2VydmVyX3VybCA9IGRhdGEucGxheWVyX2NvbnRlbnRfdXJsO1xuICAgIH0pO1xuICAgIGxldCBkaXN0cmlidXRvckRvbWFpblByb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmdldERvbWFpbnNCeUtleSh2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuICAgIHJldHVybiBkaXN0cmlidXRvckRvbWFpblByb21pc2UudGhlbihkb21haW5zID0+IHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IGRvbWFpbnMpO1xuICB9O1xuXG4gIHZtLm9uQ2xpY2tTYXZlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIHZtLmN1cnJlbnRUZW5hbnQuZGVmYXVsdF90aW1lem9uZSA9IHZtLnNlbGVjdGVkVGltZXpvbmU7XG4gICAgdm0uY3VycmVudFRlbmFudC5kb21haW5fa2V5ID0gdm0uc2VsZWN0ZWREb21haW4ua2V5O1xuICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50VGVuYW50KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1RlbmFudFNhdmUsIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUpO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1RlbmFudFNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50cycpO1xuICB9O1xuXG4gIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUgPSBmdW5jdGlvbiAoZXJyb3JPYmplY3QpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBpZihlcnJvck9iamVjdC5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLFxuICAgICAgICAnVGVuYW50IGNvZGUgdW5hdmFpbGFibGUgaW4gUHJvdmlzaW9uaW5nLiBQbGVhc2UgbW9kaWZ5IHRlbmFudCBuYW1lIHRvIGdlbmVyYXRlIGEgdW5pcXVlIHRlbmFudCBjb2RlLicsXG4gICAgICAgICdlcnJvcicpO1xuICAgIH1cbiAgICBlbHNlIGlmKGVycm9yT2JqZWN0LnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsXG4gICAgICAgICdUZW5hbnQgY29kZSB1bmF2YWlsYWJsZSBpbiBDaHJvbWUgRGV2aWNlIE1hbmFnZW1lbnQuIE1vZGlmeSB0ZW5hbnQgbmFtZSB0byBnZW5lcmF0ZSBhIHVuaXF1ZSB0ZW5hbnQgY29kZS4nLFxuICAgICAgICAnZXJyb3InKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAkbG9nLmVycm9yKGVycm9yT2JqZWN0KTtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBzYXZlIHRoZSB0ZW5hbnQuJywgJ2Vycm9yJyk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmF1dG9HZW5lcmF0ZVRlbmFudENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF2bS5jdXJyZW50VGVuYW50LmtleSkge1xuICAgICAgbGV0IG5ld1RlbmFudENvZGUgPSAnJztcbiAgICAgIGlmICh2bS5jdXJyZW50VGVuYW50Lm5hbWUpIHtcbiAgICAgICAgbmV3VGVuYW50Q29kZSA9IHZtLmN1cnJlbnRUZW5hbnQubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG4gICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZtLmN1cnJlbnRUZW5hbnQudGVuYW50X2NvZGUgPSBuZXdUZW5hbnRDb2RlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge1RlbmFudEFkZEN0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvdGVuYW50L3RlbmFudC1hZGQuY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIFRlbmFudERldGFpbHNDdHJsKCRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIERvbWFpbnNTZXJ2aWNlLCBUaW1lem9uZXNTZXJ2aWNlLCBEaXN0cmlidXRvcnNTZXJ2aWNlLCAkc3RhdGUsIHN3ZWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBUb2FzdHNTZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UsICRzY29wZSwgJGxvY2F0aW9uKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5nYW1lU3RvcFNlcnZlciA9ICRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMTtcbiAgdm0uY3VycmVudFRlbmFudCA9IHtcbiAgICBrZXk6IHVuZGVmaW5lZCxcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcbiAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcbiAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG4gICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcbiAgICBwcm9vZl9vZl9wbGF5X3VybDogdW5kZWZpbmVkLFxuICAgIGFjdGl2ZTogdHJ1ZVxuICB9O1xuICB2bS5zZWxlY3RlZERvbWFpbiA9IHVuZGVmaW5lZDtcbiAgdm0uZGlzdHJpYnV0b3JEb21haW5zID0gW107XG4gIHZtLnRpbWV6b25lcyA9IFtdO1xuICB2bS5zZWxlY3RlZFRpbWV6b25lID0gJ0FtZXJpY2EvQ2hpY2Fnbyc7XG4gIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXG4gIGlmICh2bS5lZGl0TW9kZSkge1xuICAgIGxldCB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkoJHN0YXRlUGFyYW1zLnRlbmFudEtleSk7XG4gICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICAgIHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQ7XG4gICAgICByZXR1cm4gdm0ub25TdWNjZXNzUmVzb2x2aW5nVGVuYW50KHRlbmFudCk7XG4gICAgfSk7XG4gIH1cblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCB0aW1lem9uZVByb21pc2UgPSBUaW1lem9uZXNTZXJ2aWNlLmdldEN1c3RvbVRpbWV6b25lcygpO1xuICAgIHRpbWV6b25lUHJvbWlzZS50aGVuKGRhdGEgPT4gdm0udGltZXpvbmVzID0gZGF0YSk7XG4gICAgdm0uY3VycmVudERpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuICAgIGxldCBkaXN0cmlidXRvckRvbWFpblByb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmdldERvbWFpbnNCeUtleSh2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuICAgIHJldHVybiBkaXN0cmlidXRvckRvbWFpblByb21pc2UudGhlbihkb21haW5zID0+IHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IGRvbWFpbnMpO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1Jlc29sdmluZ1RlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gdGVuYW50LmRlZmF1bHRfdGltZXpvbmU7XG4gICAgbGV0IGRvbWFpblByb21pc2UgPSBEb21haW5zU2VydmljZS5nZXREb21haW5CeUtleSh0ZW5hbnQuZG9tYWluX2tleSk7XG4gICAgcmV0dXJuIGRvbWFpblByb21pc2UudGhlbihkYXRhID0+IHZtLnNlbGVjdGVkRG9tYWluID0gZGF0YSk7XG4gIH07XG5cbiAgdm0ub25DbGlja1NhdmVCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgdm0uY3VycmVudFRlbmFudC5kZWZhdWx0X3RpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcbiAgICB2bS5jdXJyZW50VGVuYW50LmRvbWFpbl9rZXkgPSB2bS5zZWxlY3RlZERvbWFpbi5rZXk7XG4gICAgbGV0IHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zYXZlKHZtLmN1cnJlbnRUZW5hbnQpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzVGVuYW50U2F2ZSwgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSk7XG4gIH07XG5cbiAgdm0ub25TdWNjZXNzVGVuYW50U2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHRlbmFudCBpbmZvcm1hdGlvbi4nKTtcbiAgfTtcblxuICB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlID0gZnVuY3Rpb24gKGVycm9yT2JqZWN0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgaWYgKGVycm9yT2JqZWN0LnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsXG4gICAgICAgICdUZW5hbnQgY29kZSB1bmF2YWlsYWJsZS4gUGxlYXNlIG1vZGlmeSB0ZW5hbnQgbmFtZSB0byBnZW5lcmF0ZSBhIHVuaXF1ZSB0ZW5hbnQgY29kZS4nLCAnZXJyb3InKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIHNhdmUgdGhlIHRlbmFudC4nLCAnZXJyb3InKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uZWRpdEl0ZW0gPSBpdGVtID0+ICRzdGF0ZS5nbygnZWRpdERldmljZScsIHtkZXZpY2VLZXk6IGl0ZW0ua2V5LCB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcblxuICB2bS5hdXRvR2VuZXJhdGVUZW5hbnRDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdm0uY3VycmVudFRlbmFudC5rZXkpIHtcbiAgICAgIGxldCBuZXdUZW5hbnRDb2RlID0gJyc7XG4gICAgICBpZiAodm0uY3VycmVudFRlbmFudC5uYW1lKSB7XG4gICAgICAgIG5ld1RlbmFudENvZGUgPSB2bS5jdXJyZW50VGVuYW50Lm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50LnRlbmFudF9jb2RlID0gbmV3VGVuYW50Q29kZTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnRhYkluZGV4ID0gMDtcblxuICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzd2l0Y2ggKHRvVGFiKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtUZW5hbnREZXRhaWxzQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LWRldGFpbHMuY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIFRlbmFudExvY2F0aW9uQ3RybCgkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBMb2NhdGlvbnNTZXJ2aWNlLCAkc3RhdGUsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsIFRvYXN0c1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmxvY2F0aW9uID0ge1xuICAgIGtleTogdW5kZWZpbmVkXG4gIH07XG4gIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG4gIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMubG9jYXRpb25LZXk7XG4gIGlmICh2bS5lZGl0TW9kZSkge1xuICAgIGxldCBsb2NhdGlvblByb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLmdldExvY2F0aW9uQnlLZXkoJHN0YXRlUGFyYW1zLmxvY2F0aW9uS2V5KTtcbiAgICBsb2NhdGlvblByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0ubG9jYXRpb24gPSBkYXRhO1xuICAgICAgdm0udGVuYW50S2V5ID0gZGF0YS50ZW5hbnRLZXk7XG4gICAgICB2bS5sb2NhdGlvbk5hbWUgPSBkYXRhLmN1c3RvbWVyTG9jYXRpb25OYW1lO1xuICAgICAgcmV0dXJuIHZtLmZldGNoVGVuYW50TmFtZSh2bS50ZW5hbnRLZXkpO1xuICAgIH0pO1xuICB9XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXZtLmVkaXRNb2RlKSB7XG4gICAgICB2bS5mZXRjaFRlbmFudE5hbWUodm0udGVuYW50S2V5KTtcbiAgICAgIHJldHVybiB2bS5sb2NhdGlvbiA9IHtcbiAgICAgICAgdGVuYW50S2V5OiB2bS50ZW5hbnRLZXksXG4gICAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgdm0ub25DbGlja1NhdmVCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLnNhdmUodm0ubG9jYXRpb24pO1xuICAgIGlmICh2bS5lZGl0TW9kZSkge1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NVcGRhdGluZ0xvY2F0aW9uKHZtLnRlbmFudEtleSksIHZtLm9uRmFpbHVyZVNhdmluZ0xvY2F0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NTYXZpbmdMb2NhdGlvbiwgdm0ub25GYWlsdXJlU2F2aW5nTG9jYXRpb24pO1xuICAgIH1cbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NTYXZpbmdMb2NhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgbG9jYXRpb24uJyk7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoKGZ1bmN0aW9uICgpIHtcbiAgICAgICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgcmV0dXJuO1xuICAgIH0pLCAxMDAwKTtcbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NVcGRhdGluZ0xvY2F0aW9uID0gZnVuY3Rpb24gKHRlbmFudF9rZXkpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHVwZGF0ZWQgeW91ciBsb2NhdGlvbi4nKTtcbiAgICByZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24gKCkge1xuICAgICAgJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiB0ZW5hbnRfa2V5fSk7XG4gICAgICByZXR1cm47XG4gICAgfSksIDEwMDApO1xuICB9O1xuXG4gIHZtLm9uRmFpbHVyZVNhdmluZ0xvY2F0aW9uID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdMb2NhdGlvbiBjb2RlIGNvbmZsaWN0LiBVbmFibGUgdG8gc2F2ZSB5b3VyIGxvY2F0aW9uLicpO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLFxuICAgICAgICAnUGxlYXNlIGNoYW5nZSB5b3VyIGN1c3RvbWVyIGxvY2F0aW9uIG5hbWUuIExvY2F0aW9uIG5hbWUgbXVzdCBnZW5lcmF0ZSBhIHVuaXF1ZSBsb2NhdGlvbiBjb2RlLicsXG4gICAgICAgICdlcnJvcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnVW5hYmxlIHRvIHNhdmUgeW91ciBsb2NhdGlvbi4nKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uZmV0Y2hUZW5hbnROYW1lID0gZnVuY3Rpb24gKHRlbmFudEtleSkge1xuICAgIGxldCB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodGVuYW50S2V5KTtcbiAgICByZXR1cm4gdGVuYW50UHJvbWlzZS50aGVuKHRlbmFudCA9PiB2bS50ZW5hbnROYW1lID0gdGVuYW50Lm5hbWUpO1xuICB9O1xuXG4gIHZtLmF1dG9HZW5lcmF0ZUN1c3RvbWVyTG9jYXRpb25Db2RlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdm0ubG9jYXRpb24ua2V5KSB7XG4gICAgICBsZXQgbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUgPSAnJztcbiAgICAgIGlmICh2bS5sb2NhdGlvbi5jdXN0b21lckxvY2F0aW9uTmFtZSkge1xuICAgICAgICBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9IHZtLmxvY2F0aW9uLmN1c3RvbWVyTG9jYXRpb25OYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuICAgICAgICBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9IG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZtLmxvY2F0aW9uLmN1c3RvbWVyTG9jYXRpb25Db2RlID0gbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGU7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cbmV4cG9ydCB7VGVuYW50TG9jYXRpb25DdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uY29udHJvbGxlci5qc1xuICoqLyIsImltcG9ydCBuYXR1cmFsU29ydCBmcm9tICdqYXZhc2NyaXB0LW5hdHVyYWwtc29ydCc7XG5cblxuZnVuY3Rpb24gVGVuYW50TG9jYXRpb25zQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsICRzdGF0ZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICBsZXQge3RlbmFudEtleX0gPSAkc3RhdGVQYXJhbXM7XG4gICRzY29wZS50YWJJbmRleCA9IDM7XG4gIHZtLmxvY2F0aW9ucyA9IFtdO1xuICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG4gIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cbiAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh0ZW5hbnRLZXkpO1xuICB0ZW5hbnRQcm9taXNlLnRoZW4oZGF0YSA9PiB7XG4gICAgdm0uY3VycmVudFRlbmFudCA9IGRhdGFcbiAgfSk7XG5cbiAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAoc2VsZWN0ZWRJbmRleCkge1xuICAgIGlmIChzZWxlY3RlZEluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN3aXRjaCAoc2VsZWN0ZWRJbmRleCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXl9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZtLmdldExvY2F0aW9ucyA9IGZ1bmN0aW9uICh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgbG9jYXRpb25zUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXlQYWdpbmF0ZWQodGVuYW50S2V5LCBwcmV2LCBuZXh0KTtcbiAgICByZXR1cm4gbG9jYXRpb25zUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5sb2NhdGlvbnMgPSBkYXRhLmxvY2F0aW9ucztcbiAgICAgIHZtLm5leHRfY3Vyc29yID0gZGF0YS5uZXh0X2N1cnNvcjtcbiAgICAgIHZtLnByZXZfY3Vyc29yID0gZGF0YS5wcmV2X2N1cnNvcjtcbiAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5zZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUgPSAobmFtZSkgPT4ge1xuICAgIGlmICghbmFtZSB8fCBuYW1lLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICBsZXQgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2VhcmNoQWxsVGVuYW50TG9jYXRpb25zQnlOYW1lKHZtLnRlbmFudEtleSwgbmFtZSlcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgdm0uc2VhcmNoZWRUZW5hbnRMb2NhdGlvbnMgPSByZXNwb25zZVxuICAgICAgaWYgKHZtLnNlYXJjaGVkVGVuYW50TG9jYXRpb25zKSB7XG4gICAgICAgIHJldHVybiB2bS5zZWFyY2hlZFRlbmFudExvY2F0aW9ucy5tYXAoKGkpID0+IGkuY3VzdG9tZXJMb2NhdGlvbk5hbWUpLnNvcnQobmF0dXJhbFNvcnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW11cbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBwcm9taXNlLmNhdGNoKChyZXNwb25zZSkgPT4ge1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGBVbmFibGUgdG8gZmV0Y2ggbG9jYXRpb25zLiBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YDtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcbiAgICB9KVxuICB9O1xuXG4gIHZtLmlzVGVuYW50TG9jYXRpb25WYWxpZCA9IChuYW1lKSA9PiB7XG4gICAgaWYgKCFuYW1lIHx8IG5hbWUubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIGxldCBwcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5zZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUodm0udGVuYW50S2V5LCBuYW1lKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGxldCBtYXRjaCA9IHJlc3BvbnNlXG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgIGZvciAobGV0IGVhY2hMb2NhdGlvbk5hbWUgb2YgbWF0Y2gpIHtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBlYWNoTG9jYXRpb25OYW1lLmN1c3RvbWVyTG9jYXRpb25OYW1lKSB7XG4gICAgICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIHZtLnNlYXJjaE1hdGNoID0gZWFjaExvY2F0aW9uTmFtZVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgfTtcblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0TG9jYXRpb25zKHRlbmFudEtleSwgbnVsbCwgdm0ubmV4dF9jdXJzb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0TG9jYXRpb25zKHRlbmFudEtleSwgdm0ucHJldl9jdXJzb3IsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB2bS5nZXRMb2NhdGlvbnModGVuYW50S2V5KTtcbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IGl0ZW0gPT4gJHN0YXRlLmdvKCdlZGl0TG9jYXRpb24nLCB7bG9jYXRpb25LZXk6IGl0ZW0ua2V5fSk7XG5cblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7VGVuYW50TG9jYXRpb25zQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9ucy5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gVGVuYW50TWFuYWdlZERldmljZXNDdHJsKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgJHN0YXRlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5jdXJyZW50VGVuYW50ID0ge1xuICAgIGtleTogdW5kZWZpbmVkLFxuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG4gICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcbiAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuICAgIGFjdGl2ZTogdHJ1ZVxuICB9O1xuICB2bS50ZW5hbnREZXZpY2VzID0gW107XG4gIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiU2VyaWFsIE51bWJlclwiO1xuICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuICB2bS5tYWNEZXZpY2VzID0ge307XG4gIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXG4gIHZtLmdldE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKTtcbiAgICByZXR1cm4gZGV2aWNlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uZGV2aWNlc1ByZXYgPSBkYXRhW1wicHJldl9jdXJzb3JcIl07XG4gICAgICB2bS5kZXZpY2VzTmV4dCA9IGRhdGFbXCJuZXh0X2N1cnNvclwiXTtcbiAgICAgIHZtLnRlbmFudERldmljZXMgPSBkYXRhW1wiZGV2aWNlc1wiXTtcbiAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IChpdGVtKSA9PiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtKVxuXG4gIHZtLnJlZnJlc2hEZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgdm0udGVuYW50RGV2aWNlcyA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcbiAgfTtcblxuICBpZiAodm0uZWRpdE1vZGUpIHtcbiAgICBsZXQgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHZtLnRlbmFudEtleSk7XG4gICAgdGVuYW50UHJvbWlzZS50aGVuKHRlbmFudCA9PiB2bS5jdXJyZW50VGVuYW50ID0gdGVuYW50KTtcbiAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIG51bGwpO1xuICB9XG5cbiAgJHNjb3BlLnRhYkluZGV4ID0gMTtcblxuICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzd2l0Y2ggKHRvVGFiKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywge3RlbmFudEtleTogdm0udGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6IHZtLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6IHZtLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywge3RlbmFudEtleTogdm0udGVuYW50S2V5fSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2bS5jaGFuZ2VSYWRpbyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcbiAgICB2bS5tYWNEZXZpY2VzID0ge307XG4gICAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuICB9O1xuXG4gIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAocGFydGlhbCkge1xuICAgIGxldCB1bm1hbmFnZWQgPSBmYWxzZTtcbiAgICBsZXQgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG4gICAgbGV0IGJ5VGVuYW50ID0gdHJ1ZTtcbiAgICBsZXQgdGVuYW50S2V5ID0gdm0udGVuYW50S2V5O1xuICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBsZXQgZGV2aWNlc1RvUmV0dXJuO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgIGxldCBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlc1xuICAgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG4gICAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uID09PSBcIk1BQ1wiKSB7XG4gICAgICAgICAgICB2bS5tYWNEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfVxuICAgICAgICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBkZXZpY2VzVG9SZXR1cm5cbiAgICAgICAgICByZXR1cm4gZGV2aWNlc1RvUmV0dXJuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH07XG5cbiAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgbnVsbCwgdm0uZGV2aWNlc05leHQpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCBudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgdm0ucHJlcGFyZUZvckVkaXRWaWV3ID0gKHNlYXJjaFRleHQpID0+IERldmljZXNTZXJ2aWNlLnByZXByYXRlRm9yRWRpdFZpZXcoXG4gICAgdm0uc2VsZWN0ZWRCdXR0b24sXG4gICAgdm0udGVuYW50S2V5LFxuICAgIHNlYXJjaFRleHQsXG4gICAgdm0ubWFjRGV2aWNlcyxcbiAgICB2bS5zZXJpYWxEZXZpY2VzLFxuICAgIHZtLmdjbWlkRGV2aWNlc1xuICApXG5cbiAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAoaXNNYXRjaCkge1xuICAgIHZtLmRpc2FibGVkID0gIWlzTWF0Y2g7XG4gICAgcmV0dXJuIHZtLmxvYWRpbmdEaXNhYmxlZCA9IGZhbHNlO1xuICB9O1xuXG4gIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgIGxldCBmb3VuZE1hdGNoID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaXRlbSBvZiB2bS5kZXZpY2VzVG9NYXRjaE9uKSB7XG4gICAgICBpZiAocmVzb3VyY2UgPT09IGl0ZW0pIHtcbiAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHZtLmNvbnRyb2xPcGVuQnV0dG9uKGZvdW5kTWF0Y2gpXG4gICAgcmV0dXJuIGZvdW5kTWF0Y2hcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7VGVuYW50TWFuYWdlZERldmljZXNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbWFuYWdlZC1kZXZpY2VzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsICRzdGF0ZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uY3VycmVudFRlbmFudCA9IHtcbiAgICBrZXk6IHVuZGVmaW5lZCxcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcbiAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcbiAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG4gICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcbiAgICBhY3RpdmU6IHRydWVcbiAgfTtcbiAgdm0uZ2NtaWREZXZpY2VzID0gW107XG4gIHZtLnRlbmFudERldmljZXMgPSBbXTtcbiAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gIHZtLnNlbGVjdGVkQnV0dG9uID0gXCJNQUNcIjtcbiAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gIHZtLm1hY0RldmljZXMgPSB7fTtcbiAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblxuICAkc2NvcGUudGFiSW5kZXggPSAyO1xuXG4gICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG4gICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN3aXRjaCAodG9UYWIpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7dGVuYW50S2V5OiB2bS50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogdm0udGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogdm0udGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiB2bS50ZW5hbnRLZXl9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZtLmVkaXRJdGVtID0gKGl0ZW0pID0+IERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKGl0ZW0pXG5cbiAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uICh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBkZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldFVubWFuYWdlZERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcik7XG4gICAgcmV0dXJuIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmRldmljZXNQcmV2ID0gZGF0YVtcInByZXZfY3Vyc29yXCJdO1xuICAgICAgdm0uZGV2aWNlc05leHQgPSBkYXRhW1wibmV4dF9jdXJzb3JcIl07XG4gICAgICB2bS50ZW5hbnREZXZpY2VzID0gZGF0YVtcImRldmljZXNcIl07XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuICAgIHRlbmFudFByb21pc2UudGhlbih0ZW5hbnQgPT4gdm0uY3VycmVudFRlbmFudCA9IHRlbmFudCk7XG4gICAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIG51bGwpO1xuICB9XG5cbiAgdm0ucmVmcmVzaERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuICAgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcbiAgICB2bS50ZW5hbnREZXZpY2VzID0gbnVsbDtcbiAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG4gIH07XG5cbiAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gICAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBbXTtcbiAgfTtcblxuICB2bS5zZWFyY2hEZXZpY2VzID0gZnVuY3Rpb24gKHBhcnRpYWwpIHtcbiAgICBsZXQgdW5tYW5hZ2VkID0gdHJ1ZTtcbiAgICBsZXQgYnlUZW5hbnQgPSB0cnVlO1xuICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIHZtLnNlbGVjdGVkQnV0dG9uLCBieVRlbmFudCwgdm0udGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGxldCBkZXZpY2VzVG9SZXR1cm47XG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgbGV0IGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzXG4gICAgICAgICAgaWYgKHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuICAgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF1cbiAgICAgICAgICB9IGVsc2UgaWYgKHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiKSB7XG4gICAgICAgICAgICB2bS5tYWNEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfVxuICAgICAgICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBkZXZpY2VzVG9SZXR1cm5cbiAgICAgICAgICByZXR1cm4gZGV2aWNlc1RvUmV0dXJuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgfTtcblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIHZtLmRldmljZXNOZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgbnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLnByZXBhcmVGb3JFZGl0VmlldyA9IChzZWFyY2hUZXh0KSA9PiBEZXZpY2VzU2VydmljZS5wcmVwcmF0ZUZvckVkaXRWaWV3KFxuICAgIHZtLnNlbGVjdGVkQnV0dG9uLFxuICAgIHZtLnRlbmFudEtleSxcbiAgICBzZWFyY2hUZXh0LFxuICAgIHZtLm1hY0RldmljZXMsXG4gICAgdm0uc2VyaWFsRGV2aWNlcyxcbiAgICB2bS5nY21pZERldmljZXNcbiAgKVxuXG4gIHZtLmNvbnRyb2xPcGVuQnV0dG9uID0gZnVuY3Rpb24gKGlzTWF0Y2gpIHtcbiAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuICAgIHZtLmxvYWRpbmdEaXNhYmxlZCA9IGZhbHNlO1xuICB9O1xuXG4gIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgIGxldCBmb3VuZE1hdGNoID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaXRlbSBvZiB2bS5kZXZpY2VzVG9NYXRjaE9uKSB7XG4gICAgICBpZiAocmVzb3VyY2UgPT09IGl0ZW0pIHtcbiAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHZtLmNvbnRyb2xPcGVuQnV0dG9uKGZvdW5kTWF0Y2gpXG4gICAgcmV0dXJuIGZvdW5kTWF0Y2hcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge1RlbmFudFVubWFuYWdlZERldmljZXNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtdW5tYW5hZ2VkLWRldmljZXMuY29udHJvbGxlci5qc1xuICoqLyIsImltcG9ydCBuYXR1cmFsU29ydCBmcm9tICdqYXZhc2NyaXB0LW5hdHVyYWwtc29ydCc7XG5cbmZ1bmN0aW9uIFRlbmFudHNDdHJsKCRzdGF0ZSwgJGxvZywgVGVuYW50c1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgc3dlZXQpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG5cbiAgLy8gUGFnaW5hdGVkIFRlbmFudHNcbiAgdm0udGVuYW50cyA9IFtdO1xuICAvLyBDdXJyZW50IFNlYXJjaCBvZiBUZW5hbnRzIFJlc3VsdHNcbiAgdm0uc2VhcmNoZWRUZW5hbnRzID0gW107XG4gIHZtLnNlYXJjaE1hdGNoID0gbnVsbDtcbiAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXG4gIHZtLmdldFRlbmFudHNQYWdpbmF0ZWQgPSBmdW5jdGlvbiAocGFnZV9zaXplLCBvZmZzZXQpIHtcbiAgICB2bS5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgdm0ubG9hZGluZyA9IHRydWU7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5mZXRjaEFsbFRlbmFudHNQYWdpbmF0ZWQocGFnZV9zaXplLCBvZmZzZXQpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oKHJlc3BvbnNlID0+IHZtLmdldEZldGNoU3VjY2VzcyhyZXNwb25zZSkpLCByZXNwb25zZSA9PiB2bS5nZXRGZXRjaEZhaWx1cmUocmVzcG9uc2UpKTtcbiAgfTtcblxuICB2bS5nZXRGZXRjaFN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICB2bS50ZW5hbnRzID0gcmVzcG9uc2UudGVuYW50cztcbiAgICB2bS50b3RhbCA9IHJlc3BvbnNlLnRvdGFsO1xuICAgIHZtLmlzX2ZpcnN0X3BhZ2UgPSByZXNwb25zZS5pc19maXJzdF9wYWdlO1xuICAgIHZtLmlzX2xhc3RfcGFnZSA9IHJlc3BvbnNlLmlzX2xhc3RfcGFnZTtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gdm0ubG9hZGluZyA9IGZhbHNlO1xuICB9O1xuXG4gIHZtLmdldEZldGNoRmFpbHVyZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgVW5hYmxlIHRvIGZldGNoIHRlbmFudHMuIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fS5gO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcbiAgfTtcblxuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0ub2Zmc2V0ID0gMDtcbiAgICB2bS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lKCdteScpXG4gICAgcmV0dXJuIHZtLmdldFRlbmFudHNQYWdpbmF0ZWQoMTAwLCB2bS5vZmZzZXQpO1xuICB9O1xuXG4gIHZtLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUgPSBmdW5jdGlvbiAodGVuYW50X25hbWUpIHtcbiAgICBpZiAoIXRlbmFudF9uYW1lIHx8IHRlbmFudF9uYW1lLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUodGVuYW50X25hbWUpXG4gICAgcmV0dXJuIHByb21pc2UudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIHZtLnNlYXJjaGVkVGVuYW50cyA9IHJlc3BvbnNlXG4gICAgICBpZiAodm0uc2VhcmNoZWRUZW5hbnRzKSB7XG4gICAgICAgIHJldHVybiB2bS5zZWFyY2hlZFRlbmFudHMubWFwKChpKSA9PiBpLm5hbWUpLnNvcnQobmF0dXJhbFNvcnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW11cbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBwcm9taXNlLmNhdGNoKChyZXNwb25zZSkgPT4ge1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGBVbmFibGUgdG8gZmV0Y2ggdGVuYW50cy4gRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWA7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG4gICAgfSlcbiAgfVxuXG5cbiAgdm0uaXNUZW5hbnRWYWxpZCA9ICh0ZW5hbnRfbmFtZSkgPT4ge1xuICAgIGlmICghdGVuYW50X25hbWUgfHwgdGVuYW50X25hbWUubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2VhcmNoQWxsVGVuYW50c0J5TmFtZSh0ZW5hbnRfbmFtZSlcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBsZXQgbWF0Y2ggPSByZXNwb25zZVxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICBmb3IgKGxldCBlYWNoTmFtZSBvZiBtYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRlbmFudF9uYW1lID09PSBlYWNoTmFtZS5uYW1lKSB7XG4gICAgICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIHZtLnNlYXJjaE1hdGNoID0gZWFjaE5hbWVcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH1cblxuICB2bS5lZGl0SXRlbSA9IGl0ZW0gPT4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywge3RlbmFudEtleTogaXRlbS5rZXl9KTtcblxuICB2bS5kZWxldGVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBsZXQgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmRlbGV0ZShpdGVtKTtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oKCkgPT4gdm0uaW5pdGlhbGl6ZSgpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHN3ZWV0LnNob3coe1xuICAgICAgdGl0bGU6IFwiQXJlIHlvdSBzdXJlP1wiLFxuICAgICAgdGV4dDogXCJUaGlzIHdpbGwgcGVybWFuZW50bHkgcmVtb3ZlIHRoZSB0ZW5hbnQgZnJvbSB0aGUgc3lzdGVtLlwiLFxuICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG4gICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcIiNERDZCNTVcIixcbiAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIlllcywgcmVtb3ZlIHRoZSB0ZW5hbnQhXCIsXG4gICAgICBjbG9zZU9uQ29uZmlybTogdHJ1ZVxuICAgIH0sIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge1RlbmFudHNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3RlbmFudC90ZW5hbnRzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBXZWxjb21lQ3RybChWZXJzaW9uc1NlcnZpY2UsICRzdGF0ZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS52ZXJzaW9uX2RhdGEgPSBbXTtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG5cbiAgdm0ucHJvY2VlZFRvU2lnbkluID0gKCkgPT4gJHN0YXRlLmdvKCdzaWduX2luJyk7XG5cbiAgdm0uY2FwaXRhbGl6ZUZpcnN0TGV0dGVyID0gc3RyaW5nID0+IHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcblxuICB2bS5naXZlT3B0aW9uVG9DaGFuZ2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgZGlzdHJpYnV0b3JzUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZmV0Y2hBbGxCeVVzZXIoU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSk7XG4gICAgcmV0dXJuIGRpc3RyaWJ1dG9yc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uaGFzX211bHRpcGxlX2Rpc3RyaWJ1dG9ycyA9IGRhdGEubGVuZ3RoID4gMTtcbiAgICAgIHJldHVybiB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0uY2hhbmdlRGlzdHJpYnV0b3IgPSAoKSA9PiAkc3RhdGUuZ28oJ2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbicpO1xuXG4gIHZtLmdldFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHByb21pc2UgPSBWZXJzaW9uc1NlcnZpY2UuZ2V0VmVyc2lvbnMoKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKGRhdGEgPT4gdm0udmVyc2lvbl9kYXRhID0gZGF0YSk7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5pZGVudGl0eSA9IHtcbiAgICAgIGtleTogU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSxcbiAgICAgIGVtYWlsOiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCksXG4gICAgICBkaXN0cmlidXRvcktleTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLFxuICAgICAgZGlzdHJpYnV0b3JOYW1lOiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpXG4gICAgfTtcblxuICAgIHZtLmdpdmVPcHRpb25Ub0NoYW5nZURpc3RyaWJ1dG9yKCk7XG5cbiAgICBpZiAoIXZtLmlkZW50aXR5LmVtYWlsKSB7XG4gICAgICByZXR1cm4gJHN0YXRlLmdvKFwic2lnbl9pblwiKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0VmVyc2lvbigpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtXZWxjb21lQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC93ZWxjb21lL3dlbGNvbWUtY29udHJvbGxlci5qc1xuICoqLyIsImV4cG9ydCBmdW5jdGlvbiByb3V0ZXMoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgUmVzdGFuZ3VsYXJQcm92aWRlcikge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduX2luXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIG5vdEF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLm5vdEF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvc2lnbl9pblwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduX2luLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkF1dGhlbnRpY2F0aW9uQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ2F1dGhlbnRpY2F0aW9uQ3RybCcsXG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNpZ25lZF9vdXRcIiwge1xuICAgIHVybDogXCIvc2lnbmVkX291dFwiLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgbm90QXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2Uubm90QXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2F1dGhlbnRpY2F0aW9uL3NpZ25lZF9vdXQuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnYXV0aGVudGljYXRpb25DdHJsJyxcbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwic2lnbl9vdXRcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9zaWduX291dFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduX291dC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJBdXRoZW50aWNhdGlvbkN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnLFxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkaXN0cmlidXRvcl9zZWxlY3Rpb25cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvZGlzdHJpYnV0b3Jfc2VsZWN0aW9uXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9yX3NlbGVjdG9yLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkRpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndm0nLFxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcbiAgICB1cmw6IFwiL1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC93ZWxjb21lL3dlbGNvbWUuaHRtbFwiLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY29udHJvbGxlcjogXCJXZWxjb21lQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3dlbGNvbWVDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ1NreWtpdCBQcm92aXNpb25pbmcnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ3ZWxjb21lXCIsIHtcbiAgICB1cmw6IFwiL3dlbGNvbWVcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvd2VsY29tZS93ZWxjb21lLmh0bWxcIixcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IFwiV2VsY29tZUN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd3ZWxjb21lQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdTa3lraXQgUHJvdmlzaW9uaW5nJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZG9tYWluc1wiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kb21haW5zXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW5zLWxpc3RpbmcuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluc0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdkb21haW5zQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdEb21haW5zJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkRG9tYWluXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2RvbWFpbnMvYWRkXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW4tZGV0YWlsLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkRvbWFpbkRldGFpbHNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnZG9tYWluRGV0YWlsc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnQWRkIGRvbWFpbicsXG4gICAgICBwYXJlbnQ6ICdkb21haW5zJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZWRpdERvbWFpblwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kb21haW5zLzpkb21haW5LZXlcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZG9tYWluL2RvbWFpbi1kZXRhaWwuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluRGV0YWlsc0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdkb21haW5EZXRhaWxzQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyBkb21haW5EZXRhaWxzQ3RybC5jdXJyZW50RG9tYWluLm5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAnZG9tYWlucydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudHNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50c1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50cy1saXN0aW5nLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudHNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50c0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnVGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkZFRlbmFudFwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi90ZW5hbnRzL2FkZFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWFkZC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRBZGRDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50QWRkQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdBZGQgdGVuYW50JyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnREZXRhaWxzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9kZXRhaWxzXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtZGV0YWlscy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnREZXRhaWxzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudERldGFpbHNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudERldGFpbHNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50TWFuYWdlZERldmljZXNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L21hbmFnZWRcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1tYW5hZ2VkLWRldmljZXMuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TWFuYWdlZERldmljZXNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50TWFuYWdlZERldmljZXNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudE1hbmFnZWREZXZpY2VzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudFVubWFuYWdlZERldmljZXNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L3VubWFuYWdlZFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LXVubWFuYWdlZC1kZXZpY2VzLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgdGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19JyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRMb2NhdGlvbnNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2xvY2F0aW9uc1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9ucy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbnNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50TG9jYXRpb25zQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2NhdGlvbnNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZWRpdExvY2F0aW9uXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2xvY2F0aW9ucy86bG9jYXRpb25LZXlcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbi5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbkN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRMb2NhdGlvbkN0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9jYXRpb25DdHJsLnRlbmFudE5hbWUgfX0gIC8ge3sgdGVuYW50TG9jYXRpb25DdHJsLmxvY2F0aW9uTmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkTG9jYXRpb25cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2xvY2F0aW9uXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9jYXRpb25DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50TG9jYXRpb25DdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudExvY2F0aW9uQ3RybC50ZW5hbnROYW1lIH19ICAvIExvY2F0aW9uJyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkZXZpY2VzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2RldmljZXNcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGV2aWNlL2RldmljZXMtbGlzdGluZy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJEZXZpY2VzTGlzdGluZ0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdkZXZpY2VzTGlzdGluZ0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnRGV2aWNlcydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXREZXZpY2VcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kZXZpY2VzLzpkZXZpY2VLZXk/dGVuYW50S2V5P2Zyb21EZXZpY2VzXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RldmljZS9kZXZpY2UtZGV0YWlsLmh0bWxcIixcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IGRldmljZURldGFpbHNDdHJsLmN1cnJlbnREZXZpY2Uua2V5IH19JyxcbiAgICAgIHBhcmVudDogJ2RldmljZXMnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnRGV2aWNlRGV0YWlsc0N0cmwnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XG4gICAgICAkc2NvcGUudGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgICAgIHJldHVybjtcbiAgICB9LFxuICAgIGNvbnRyb2xsZXJBczogJ2RldmljZURldGFpbHNDdHJsJ1xuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJwcm9vZlwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9wcm9vZlwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wcm9vZi9tYWluLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlByb29mT2ZQbGF5Q3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ1Byb29mIG9mIFBsYXknXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJwcm9vZkRldGFpbFwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9wcm9vZi86dGVuYW50XCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3Byb29mL2RldGFpbC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJQcm9vZk9mUGxheUN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdQcm9vZiBvZiBQbGF5J1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRtaW5cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGlzQWRtaW4oQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4oKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvYWRtaW5cIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYWRtaW4vYWRtaW4uaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiQWRtaW5DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnQWRtaW4nXG4gICAgfVxuICB9KTtcblxuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvc2lnbl9pbicpO1xuXG4gIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0QmFzZVVybCgnL2FwaS92MScpO1xuXG4gIFJlc3Rhbmd1bGFyUHJvdmlkZXIuYWRkUmVzcG9uc2VJbnRlcmNlcHRvcihmdW5jdGlvbiAoZGF0YSwgb3BlcmF0aW9uLCByZXNvdXJjZVR5cGUsIHVybCwgcmVzcG9uc2UsIGRlZmVycmVkKSB7XG4gICAgbGV0IHJlc3VsdCA9IGRhdGE7XG4gICAgLy8gVW5jb21tZW50IHRoaXMgZm9yIHBhZ2luYXRpb24gc3VwcG9ydCB3aGVuIHVzaW5nIFBhZ2luZ0xpc3RIYW5kbGVyTWl4aW4gb24gdGhlIFB5dGhvbiBzaWRlLlxuICAgIC8vICAgIGlmIHJlc291cmNlVHlwZSA9PSAnZGV2aWNlcycgYW5kIG9wZXJhdGlvbiA9ICdnZXRMaXN0JyBhbmQgdXJsID09ICcvYXBpL3YxL2RldmljZXMnXG4gICAgLy8gICAgICByZXN1bHQgPSBkYXRhLm9iamVjdHNcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KTtcblxuICByZXR1cm4gUmVzdGFuZ3VsYXJQcm92aWRlci5zZXRSZXN0YW5ndWxhckZpZWxkcyh7XG4gICAgaWQ6ICdrZXknXG4gIH0pO1xufVxuXG5yb3V0ZXMuJGluamVjdCA9IFtcIiRzdGF0ZVByb3ZpZGVyXCIsIFwiJHVybFJvdXRlclByb3ZpZGVyXCIsIFwiUmVzdGFuZ3VsYXJQcm92aWRlclwiXVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2FwcC1yb3V0ZXMuanNcbiAqKi8iLCJleHBvcnQgZnVuY3Rpb24gYXBwUnVuKFJlc3Rhbmd1bGFyLCAkbG9jYXRpb24sICRpbmplY3RvciwgJHJvb3RTY29wZSwgJHRpbWVvdXQpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCBzdGF0ZUNoYW5nZVdhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBzdGF0ZSA9ICRpbmplY3Rvci5nZXQoJyRzdGF0ZScpO1xuICAgIHJldHVybiAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3JbMF0gPT09IFwiYXV0aEVycm9yXCIpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmdvKGVycm9yWzFdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAkdGltZW91dChzdGF0ZUNoYW5nZVdhdGNoLCA1MDApO1xuXG4gIGxldCByZXF1ZXN0SW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgUmVzdGFuZ3VsYXIuYWRkUmVxdWVzdEludGVyY2VwdG9yKGZ1bmN0aW9uIChlbGVtLCBvcGVyYXRpb24sIHdoYXQsIHVybCkge1xuICAgICAgbGV0IFN0b3JhZ2VTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnU3RvcmFnZVNlcnZpY2UnKVxuXG4gICAgICBsZXQgYXV0aFRva2VuID0gJzZDMzQ2NTg4QkQ0QzZENzIyQTExNjVCNDNDNTFDJztcbiAgICAgIGlmICgkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTEpIHtcbiAgICAgICAgYXV0aFRva2VuID0gJzVYWkhCRjNtT3dxSmxZQWxHMU5lZVdYMENiNzJnJztcbiAgICAgIH1cbiAgICAgIFJlc3Rhbmd1bGFyLnNldERlZmF1bHRIZWFkZXJzKHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBhdXRoVG9rZW4sXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5JyksXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1EaXN0cmlidXRvcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5JylcbiAgICAgIH0pO1xuXG4gICAgICBpZiAob3BlcmF0aW9uID09PSAncmVtb3ZlJykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWxlbTtcbiAgICB9KVxuICB9XG5cbiAgJHRpbWVvdXQocmVxdWVzdEludGVyY2VwdG9yLCA1MDApO1xuXG59XG5cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2FwcC1ydW4uanNcbiAqKi8iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRvYXN0ckNvbmZpZyh0b2FzdHJDb25maWcpIHtcbiAgYW5ndWxhci5leHRlbmQodG9hc3RyQ29uZmlnLCB7XG4gICAgcHJvZ3Jlc3NCYXI6IHRydWUsXG4gICAgY2xvc2VCdXR0b246IHRydWUsXG4gICAgdGFwVG9EaXNtaXNzOiB0cnVlLFxuICAgIG5ld2VzdE9uVG9wOiB0cnVlLFxuICAgIHBvc2l0aW9uQ2xhc3M6ICd0b2FzdC1ib3R0b20tbGVmdCcsXG4gICAgdGltZU91dDogNTAwMFxuICB9KVxufVxudG9hc3RyQ29uZmlnLiRpbmplY3QgPSBbJ3RvYXN0ckNvbmZpZyddO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBicmVhZGNydW1iUHJvdmlkZXIoJGJyZWFkY3J1bWJQcm92aWRlcikge1xuICAkYnJlYWRjcnVtYlByb3ZpZGVyLnNldE9wdGlvbnMoe1xuICAgIHByZWZpeFN0YXRlTmFtZTogJ2hvbWUnLFxuICAgIHRlbXBsYXRlOiAnYm9vdHN0cmFwMydcbiAgfSlcbn1cblxuYnJlYWRjcnVtYlByb3ZpZGVyLiRpbmplY3QgPSBbXCIkYnJlYWRjcnVtYlByb3ZpZGVyXCJdXG5cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2FwcC1jb25maWcuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9