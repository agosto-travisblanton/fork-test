webpackJsonp([0],{0:function(e,exports,t){t(70),e.exports=t(367)},367:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(368),i=n(r),a=t(370),o=n(a),s=t(371);n(s);t(475),t(485),t(487),t(509),t(510),t(512),t(581),t(582),t(587),t(597),t(598),t(588),t(604),t(605),t(607),t(609),t(611),t(613),t(497),t(623),t(369),t(624),t(626),t(628);var c=t(630),u=n(c),l=t(631),d=t(632),v=t(642),m=t(643),f=t(644),p=t(645),h=t(668),g=t(669),y=t(670),b=t(671),D=t(672),S=t(673),_=t(674),k=t(675),T=t(676),C=n(T),w=t(682),x=n(w),M=t(683),E=n(M),I=t(684),P=n(I),B=t(685),A=n(B),R=t(686),K=n(R),U=t(687),j=n(U),O=t(688),F=n(O),V=t(689),L=n(V),N=t(690),z=n(N),Y=t(691),q=n(Y),H=t(692),W=n(H),G=t(693),X=n(G),J=t(694),Z=n(J),Q=t(698),ee=n(Q),te=t(699),ne=n(te),re=t(700),ie=n(re),ae=t(701),oe=n(ae),se=t(702),ce=t(703),ue=t(704),le=t(705),de=t(706),ve=t(707),me=t(708),fe=t(709),pe=(t(710),t(711));window._=u["default"];var he=i["default"].module("skykitProvisioning",[o["default"],"ngAnimate","ngCookies","ngSanitize","restangular","hSweetAlert","ui.bootstrap","ngMaterialDatePicker","hSweetAlert","ncy-angular-breadcrumb","directive.g+signin","ngProgress","ngMaterial","ngclipboard","toastr"]).factory("StorageService",Z["default"].storageServiceFactory).factory("AdminService",C["default"].adminServiceFactory).factory("AuthorizationService",x["default"].authorizationServiceFactory).factory("CommandsService",E["default"].commandServiceFactory).factory("DateManipulationService",P["default"].datemanipulationServiceFactory).factory("DevicesService",A["default"].devicesServiceFactory).factory("DistributorsService",K["default"].distributorServiceFactory).factory("DomainsService",j["default"].domainServiceFactory).factory("IdentityService",F["default"].identityServiceFactory).factory("IntegrationEvents",L["default"].integrationEventsServiceFactory).factory("LocationsService",z["default"].locationsServiceFactory).factory("ProgressBarService",q["default"].progressBarServiceFactory).factory("ProofPlayService",W["default"].proofplayServiceFactory).factory("SessionsService",X["default"].sessionsServiceFactory).factory("TenantsService",ee["default"].tenantsServiceFactory).factory("TimezonesService",ne["default"].timezoneServiceFactory).factory("ToastsService",ie["default"].toastsServiceFactory).factory("VersionsService",oe["default"].versionsServiceFactory).controller("DeviceDetailsCommandsCtrl",l.DeviceDetailsCommandsCtrl).controller("DeviceDetailsCtrl",d.DeviceDetailsCtrl).controller("DevicesListingCtrl",v.DevicesListingCtrl).controller("AdminCtrl",m.AdminCtrl).controller("AuthenticationCtrl",f.AuthenticationCtrl).controller("AppController",p.AppController).controller("DistributorSelectorCtrl",h.DistributorSelectorCtrl).controller("DistributorsCtrl",g.DistributorsCtrl).controller("DomainsCtrl",y.DomainsCtrl).controller("DomainDetailsCtrl",b.DomainDetailsCtrl).controller("ProofOfPlayMultiLocationCtrl",D.ProofOfPlayMultiLocationCtrl).controller("ProofOfPlayMultiDisplayCtrl",S.ProofOfPlayMultiDisplayCtrl).controller("ProofOfPlayMultiResourceCtrl",_.ProofOfPlayMultiResourceCtrl).controller("ProofOfPlayCtrl",k.ProofOfPlayCtrl).controller("TenantAddCtrl",se.TenantAddCtrl).controller("TenantDetailsCtrl",ce.TenantDetailsCtrl).controller("TenantLocationCtrl",ue.TenantLocationCtrl).controller("TenantManagedDevicesCtrl",le.TenantManagedDevicesCtrl).controller("TenantUnmanagedDevicesCtrl",de.TenantUnmanagedDevicesCtrl).controller("TenantsCtrl",ve.TenantsCtrl).controller("WelcomeCtrl",me.WelcomeCtrl).run(pe.appRun).config(fe.routes);he.factory("RequestInterceptor",["StorageService","$location",function(e,t){"ngInject";var n={request:function(n){var r="5XZHBF3mOwqJlYAlG1NeeWX0Cb72g",i="6C346588BD4C6D722A1165B43C51C";return n.headers={"Content-Type":"application/json",Accept:"application/json",Authorization:t.host().indexOf("provisioning-gamestop")>-1?r:i,"X-Provisioning-User":e.get("userKey"),"X-Provisioning-User-Identifier":e.get("userEmail"),"X-Provisioning-Distributor":e.get("currentDistributorKey")},n}};return n}]),he.config(["$httpProvider",function(e){return e.interceptors.push("RequestInterceptor")}])},373:function(e,exports,t){function n(e){return t(r(e))}function r(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./af":374,"./af.js":374,"./ar":375,"./ar-ma":376,"./ar-ma.js":376,"./ar-sa":377,"./ar-sa.js":377,"./ar-tn":378,"./ar-tn.js":378,"./ar.js":375,"./az":379,"./az.js":379,"./be":380,"./be.js":380,"./bg":381,"./bg.js":381,"./bn":382,"./bn.js":382,"./bo":383,"./bo.js":383,"./br":384,"./br.js":384,"./bs":385,"./bs.js":385,"./ca":386,"./ca.js":386,"./cs":387,"./cs.js":387,"./cv":388,"./cv.js":388,"./cy":389,"./cy.js":389,"./da":390,"./da.js":390,"./de":391,"./de-at":392,"./de-at.js":392,"./de.js":391,"./dv":393,"./dv.js":393,"./el":394,"./el.js":394,"./en-au":395,"./en-au.js":395,"./en-ca":396,"./en-ca.js":396,"./en-gb":397,"./en-gb.js":397,"./en-ie":398,"./en-ie.js":398,"./en-nz":399,"./en-nz.js":399,"./eo":400,"./eo.js":400,"./es":401,"./es-do":402,"./es-do.js":402,"./es.js":401,"./et":403,"./et.js":403,"./eu":404,"./eu.js":404,"./fa":405,"./fa.js":405,"./fi":406,"./fi.js":406,"./fo":407,"./fo.js":407,"./fr":408,"./fr-ca":409,"./fr-ca.js":409,"./fr-ch":410,"./fr-ch.js":410,"./fr.js":408,"./fy":411,"./fy.js":411,"./gd":412,"./gd.js":412,"./gl":413,"./gl.js":413,"./he":414,"./he.js":414,"./hi":415,"./hi.js":415,"./hr":416,"./hr.js":416,"./hu":417,"./hu.js":417,"./hy-am":418,"./hy-am.js":418,"./id":419,"./id.js":419,"./is":420,"./is.js":420,"./it":421,"./it.js":421,"./ja":422,"./ja.js":422,"./jv":423,"./jv.js":423,"./ka":424,"./ka.js":424,"./kk":425,"./kk.js":425,"./km":426,"./km.js":426,"./ko":427,"./ko.js":427,"./ky":428,"./ky.js":428,"./lb":429,"./lb.js":429,"./lo":430,"./lo.js":430,"./lt":431,"./lt.js":431,"./lv":432,"./lv.js":432,"./me":433,"./me.js":433,"./mk":434,"./mk.js":434,"./ml":435,"./ml.js":435,"./mr":436,"./mr.js":436,"./ms":437,"./ms-my":438,"./ms-my.js":438,"./ms.js":437,"./my":439,"./my.js":439,"./nb":440,"./nb.js":440,"./ne":441,"./ne.js":441,"./nl":442,"./nl.js":442,"./nn":443,"./nn.js":443,"./pa-in":444,"./pa-in.js":444,"./pl":445,"./pl.js":445,"./pt":446,"./pt-br":447,"./pt-br.js":447,"./pt.js":446,"./ro":448,"./ro.js":448,"./ru":449,"./ru.js":449,"./se":450,"./se.js":450,"./si":451,"./si.js":451,"./sk":452,"./sk.js":452,"./sl":453,"./sl.js":453,"./sq":454,"./sq.js":454,"./sr":455,"./sr-cyrl":456,"./sr-cyrl.js":456,"./sr.js":455,"./ss":457,"./ss.js":457,"./sv":458,"./sv.js":458,"./sw":459,"./sw.js":459,"./ta":460,"./ta.js":460,"./te":461,"./te.js":461,"./th":462,"./th.js":462,"./tl-ph":463,"./tl-ph.js":463,"./tlh":464,"./tlh.js":464,"./tr":465,"./tr.js":465,"./tzl":466,"./tzl.js":466,"./tzm":467,"./tzm-latn":468,"./tzm-latn.js":468,"./tzm.js":467,"./uk":469,"./uk.js":469,"./uz":470,"./uz.js":470,"./vi":471,"./vi.js":471,"./x-pseudo":472,"./x-pseudo.js":472,"./zh-cn":473,"./zh-cn.js":473,"./zh-tw":474,"./zh-tw.js":474};n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id=373},509:function(e,exports){"use strict";angular.module("ngProgress.provider",["ngProgress.directive"]).service("ngProgress",function(){return["$document","$window","$compile","$rootScope","$timeout",function(e,t,n,r,i){this.autoStyle=!0,this.count=0,this.height="2px",this.$scope=r.$new(),this.color="firebrick",this.parent=e.find("body")[0],this.count=0,this.progressbarEl=n("<ng-progress></ng-progress>")(this.$scope),this.parent.appendChild(this.progressbarEl[0]),this.$scope.count=this.count,void 0!==this.height&&this.progressbarEl.eq(0).children().css("height",this.height),void 0!==this.color&&(this.progressbarEl.eq(0).children().css("background-color",this.color),this.progressbarEl.eq(0).children().css("color",this.color)),this.intervalCounterId=0,this.start=function(){this.show();var e=this;clearInterval(this.intervalCounterId),this.intervalCounterId=setInterval(function(){isNaN(e.count)?(clearInterval(e.intervalCounterId),e.count=0,e.hide()):(e.remaining=100-e.count,e.count=e.count+.15*Math.pow(1-Math.sqrt(e.remaining),2),e.updateCount(e.count))},200)},this.updateCount=function(e){this.$scope.count=e,this.$scope.$$phase||this.$scope.$apply()},this.setHeight=function(e){return void 0!==e&&(this.height=e,this.$scope.height=this.height,this.$scope.$$phase||this.$scope.$apply()),this.height},this.setColor=function(e){return void 0!==e&&(this.color=e,this.$scope.color=this.color,this.$scope.$$phase||this.$scope.$apply()),this.color},this.hide=function(){this.progressbarEl.children().css("opacity","0");var e=this;e.animate(function(){e.progressbarEl.children().css("width","0%"),e.animate(function(){e.show()},500)},500)},this.show=function(){var e=this;e.animate(function(){e.progressbarEl.children().css("opacity","1")},100)},this.animate=function(e,t){void 0!==this.animation&&i.cancel(this.animation),this.animation=i(e,t)},this.status=function(){return this.count},this.stop=function(){clearInterval(this.intervalCounterId)},this.set=function(e){return this.show(),this.updateCount(e),this.count=e,clearInterval(this.intervalCounterId),this.count},this.css=function(e){return this.progressbarEl.children().css(e)},this.reset=function(){return clearInterval(this.intervalCounterId),this.count=0,this.updateCount(this.count),0},this.complete=function(){this.count=100,this.updateCount(this.count);var e=this;return clearInterval(this.intervalCounterId),i(function(){e.hide(),i(function(){e.count=0,e.updateCount(e.count)},500)},1e3),this.count},this.setParent=function(e){if(null===e||void 0===e)throw new Error("Provide a valid parent of type HTMLElement");null!==this.parent&&void 0!==this.parent&&this.parent.removeChild(this.progressbarEl[0]),this.parent=e,this.parent.appendChild(this.progressbarEl[0])},this.getDomElement=function(){return this.progressbarEl},this.setAbsolute=function(){this.progressbarEl.css("position","absolute")}}]}).factory("ngProgressFactory",["$injector","ngProgress",function(e,t){var n={createInstance:function(){return e.instantiate(t)}};return n}]),angular.module("ngProgress.directive",[]).directive("ngProgress",["$window","$rootScope",function(e,t){var n={replace:!0,restrict:"E",link:function(e,t,n,r){e.$watch("count",function(n){(void 0!==n||null!==n)&&(e.counter=n,t.eq(0).children().css("width",n+"%"))}),e.$watch("color",function(n){(void 0!==n||null!==n)&&(e.color=n,t.eq(0).children().css("background-color",n),t.eq(0).children().css("color",n))}),e.$watch("height",function(n){(void 0!==n||null!==n)&&(e.height=n,t.eq(0).children().css("height",n))})},template:'<div id="ngProgress-container"><div id="ngProgress"></div></div>'};return n}]),angular.module("ngProgress",["ngProgress.directive","ngProgress.provider"])},510:function(e,exports,t){var n=t(511);"string"==typeof n&&(n=[[e.id,n,""]]);t(484)(n,{});n.locals&&(e.exports=n.locals)},511:function(e,exports,t){exports=e.exports=t(477)(),exports.push([e.id,"#ngProgress{margin:0;padding:0;z-index:99998;background-color:green;color:green;box-shadow:0 0 10px 0;height:2px;opacity:0;-webkit-transition:all .5s ease-in-out;transition:all .5s ease-in-out}#ngProgress-container{position:fixed;margin:0;padding:0;top:0;left:0;right:0;z-index:99999}",""])},512:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(513),i=n(r);/*! angular-breadcrumb - v0.4.0-dev-2015-08-07
	* http://ncuillery.github.io/angular-breadcrumb
	* Copyright (c) 2015 Nicolas Cuillery; Licensed MIT */
!function(e,t,n){function r(e,n){return t.equals(e.length,n.length)?e>n:e.length>n.length}function a(e){var t=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}function o(){var e={prefixStateName:null,template:"bootstrap3",templateUrl:null,includeAbstract:!1};this.setOptions=function(n){t.extend(e,n)},this.$get=["$state","$stateParams","$rootScope",function(t,o,s){var c=s;s.$on("$viewContentLoaded",function(e){!e.targetScope.ncyBreadcrumbIgnore&&r(e.targetScope.$id,c.$id)&&(c=e.targetScope)});var u=function(e){var t=e.parent||(/^(.+)\.[^.]+$/.exec(e.name)||[])[1],n="object"==("undefined"==typeof t?"undefined":(0,i["default"])(t));return n?t.name:t},l=function v(n,r){for(var i,s,v=a(r),u=!1,l=!1,d=0,m=n.length;m>d;d+=1)if(n[d].name===v.state)return;i=t.get(v.state),i.ncyBreadcrumb&&(i.ncyBreadcrumb.force&&(u=!0),i.ncyBreadcrumb.skip&&(l=!0)),i["abstract"]&&!e.includeAbstract&&!u||l||(v.paramExpr&&(s=c.$eval(v.paramExpr)),i.ncyBreadcrumbLink=t.href(v.state,s||o||{}),n.unshift(i))},d=function(e){var n=a(e),r=t.get(n.state);if(r.ncyBreadcrumb&&r.ncyBreadcrumb.parent){var i="function"==typeof r.ncyBreadcrumb.parent,o=i?r.ncyBreadcrumb.parent(c):r.ncyBreadcrumb.parent;if(o)return o}return u(r)};return{getTemplate:function(t){return e.templateUrl?null:t[e.template]?t[e.template]:e.template},getTemplateUrl:function(){return e.templateUrl},getStatesChain:function(n){for(var r=[],i=t.$current.self.name;i;i=d(i))if(l(r,i),n&&r.length)return r;return e.prefixStateName&&l(r,e.prefixStateName),r},getLastStep:function(){var e=this.getStatesChain(!0);return e.length?e[0]:n},$getLastViewScope:function(){return c}}}]}function s(e,n,r){var i={bootstrap2:'<ul class="breadcrumb"><li ng-repeat="step in steps" ng-switch="$last || !!step.abstract" ng-class="{active: $last}"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span><span class="divider" ng-hide="$last">/</span></li></ul>',bootstrap3:'<ol class="breadcrumb"><li ng-repeat="step in steps" ng-class="{active: $last}" ng-switch="$last || !!step.abstract"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span></li></ol>'};return{restrict:"AE",replace:!0,scope:{},template:n.getTemplate(i),templateUrl:n.getTemplateUrl(),link:{post:function(i){var a=[],o=function(){v(a),a=[];var r=n.$getLastViewScope();i.steps=n.getStatesChain(),t.forEach(i.steps,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);t.ncyBreadcrumbLabel=n(r),d(a,n,r,t)}else t.ncyBreadcrumbLabel=t.name})};r.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||o()}),o()}}}}function c(e,t,n){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbLabel}}",compile:function(r,i){var a=r.attr(i.$attr.ncyBreadcrumbLast);return a&&r.html(a),{post:function(r){var i=[],a=function o(){v(i),i=[];var n=t.$getLastViewScope(),o=t.getLastStep();if(o)if(r.ncyBreadcrumbLink=o.ncyBreadcrumbLink,o.ncyBreadcrumb&&o.ncyBreadcrumb.label){var a=e(o.ncyBreadcrumb.label);r.ncyBreadcrumbLabel=a(n),d(i,a,n,r)}else r.ncyBreadcrumbLabel=o.name};n.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||a()}),a()}}}}}function u(e,n,r){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbChain}}",compile:function(i,a){var o=i.attr(a.$attr.ncyBreadcrumbText);o&&i.html(o);var s=i.attr(a.$attr.ncyBreadcrumbTextSeparator)||" / ";return{post:function(i){var a=[],o=function(e,n,r){t.forEach(l(n),function(t){var n=r.$watch(t,function(e,t){e!==t&&c()});e.push(n)})},c=function u(){v(a),a=[];var r=n.$getLastViewScope(),u=n.getStatesChain(),c=[];t.forEach(u,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);c.push(n(r)),o(a,n,r)}else c.push(t.name)}),i.ncyBreadcrumbChain=c.join(s)};r.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||c()}),c()}}}}}var l=function(e){if(e.expressions)return e.expressions;var n=[];return t.forEach(e.parts,function(e){t.isFunction(e)&&n.push(e.exp)}),n},d=function(e,n,r,i){t.forEach(l(n),function(t){var a=r.$watch(t,function(){i.ncyBreadcrumbLabel=n(r)});e.push(a)})},v=function(e){t.forEach(e,function(e){e()})};s.$inject=["$interpolate","$breadcrumb","$rootScope"],c.$inject=["$interpolate","$breadcrumb","$rootScope"],u.$inject=["$interpolate","$breadcrumb","$rootScope"],t.module("ncy-angular-breadcrumb",["ui.router.state"]).provider("$breadcrumb",o).directive("ncyBreadcrumb",s).directive("ncyBreadcrumbLast",c).directive("ncyBreadcrumbText",u)}(window,window.angular)},581:function(e,exports,t){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(371),i=n(r);!function(t){var n="ngMaterialDatePicker",r={DATE:0,HOUR:1,MINUTE:2},i=function(t,n){return"jQuery"in window?e(t).css(n):(t=angular.element(t),"getComputedStyle"in window?window.getComputedStyle(t[0])[n]:t.css(n))},a='<md-dialog class="dtp" layout="column" style="width: 300px;">    <md-dialog-content class="dtp-content">        <div class="dtp-date-view">            <header class="dtp-header">                <div class="dtp-actual-day" ng-show="picker.dateMode">{{picker.currentDate.format("dddd")}}</div>                <div class="dtp-actual-day" ng-show="picker.timeMode">{{picker.params.shortTime ? picker.currentDate.format("A") : " "}}</div>                <div class="dtp-close text-right">                    <a href="#" mdc-dtp-noclick ng-click="picker.hide()">&times;</a>                </div>            </header>            <div class="dtp-date" ng-show="picker.params.date">                <div layout="column">                    <div class="dtp-actual-month">{{picker.currentDate.format("MMM") | uppercase}}</div>                </div>                <div class="dtp-actual-num">{{picker.currentDate.format("DD")}}</div>                <div layout="row"> <div ng-click="picker.incrementYear(-1)" class="dtp-year-btn dtp-year-btn-prev" flex="30"><span ng-if="picker.isPreviousYearVisible()" >&#x25B2;</span></div>                    <div class="dtp-actual-year" flex>{{picker.currentDate.format("YYYY")}}</div> <div ng-click="picker.incrementYear(1)" class="dtp-year-btn dtp-year-btn-next" flex="30"><span ng-if="picker.isNextYearVisible()" >&#x25BC;</span></div>                </div>            </div>            <div class="dtp-time" ng-show="picker.params.time && !picker.params.date">                <div class="dtp-actual-maxtime">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>            </div>            <div class="dtp-picker">                <mdc-datetime-picker-calendar date="picker.currentDate" picker="picker" class="dtp-picker-calendar" ng-show="picker.currentView === picker.VIEWS.DATE"></mdc-datetime-picker-calendar>                <div class="dtp-picker-datetime" ng-show="picker.currentView !== picker.VIEWS.DATE">                    <div class="dtp-actual-meridien">                        <div class="left p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-am" ng-class="{selected: picker.meridien == \'AM\'}" ng-click="picker.selectAM()">{{picker.params.amText}}</a>                        </div>                        <div ng-show="!picker.timeMode" class="dtp-actual-time p60">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>                        <div class="right p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-pm" ng-class="{selected: picker.meridien == \'PM\'}" ng-click="picker.selectPM()">{{picker.params.pmText}}</a>                        </div>                        <div class="clearfix"></div>                    </div>                    <mdc-datetime-picker-clock mode="hours" ng-if="picker.currentView === picker.VIEWS.HOUR"></mdc-datetime-picker-clock>                    <mdc-datetime-picker-clock mode="minutes" ng-if="picker.currentView === picker.VIEWS.MINUTE"></mdc-datetime-picker-clock>                </div>            </div>        </div>    </md-dialog-content>    <md-dialog-actions class="dtp-buttons">            <md-button class="dtp-btn-cancel md-button" ng-click="picker.cancel()"> {{picker.params.cancelText}}</md-button>            <md-button class="dtp-btn-ok md-button" ng-click="picker.ok()"> {{picker.params.okText}}</md-button>      </md-dialog-actions></md-dialog>';angular.module(n,["ngMaterial"]).provider("mdcDatetimePickerDefaultLocale",function(){this.locale="en",this.$get=function(){return this.locale},this.setDefaultLocale=function(e){this.locale=e}}).directive("mdcDatetimePicker",["$mdDialog",function(e){return{restrict:"A",require:"ngModel",scope:{currentDate:"=ngModel",time:"=",date:"=",minDate:"=",maxDate:"=",shortTime:"=",format:"@",cancelText:"@",okText:"@",lang:"@",amText:"@",pmText:"@"},link:function(n,r,i,s){var c=!1;n.format||(n.date&&n.time?n.format="YYYY-MM-DD HH:mm:ss":n.date?n.format="YYYY-MM-DD":n.format="HH:mm"),angular.isString(n.currentDate)&&""!==n.currentDate&&(n.currentDate=t(n.currentDate,n.format)),s&&s.$formatters.push(function(e){if("undefined"!=typeof e){var r=t(e);return r.isValid()?r.format(n.format):""}}),r.attr("readonly",""),r.on("focus",function(t){if(t.preventDefault(),r.blur(),!c){c=!0;var s={};for(var u in i)n.hasOwnProperty(u)&&!angular.isUndefined(n[u])&&(s[u]=n[u]);s.currentDate=n.currentDate;var l={options:s};e.show({template:a,controller:o,controllerAs:"picker",locals:l,openFrom:r,parent:angular.element(document.body),bindToController:!0,disableParentScroll:!1}).then(function(e){n.currentDate=e?e._d:e,c=!1},function(){c=!1})}})}}}]);var o=function(e,t,n){this.currentView=r.DATE,this._dialog=t,this.minDate,this.maxDate,this._attachedEvents=[],this.VIEWS=r,this.params={date:!0,time:!0,format:"YYYY-MM-DD",minDate:null,maxDate:null,currentDate:null,lang:n,weekStart:0,shortTime:!1,cancelText:"Cancel",okText:"OK",amText:"AM",pmText:"PM"},this.meridien="AM",this.params=angular.extend(this.params,this.options),this.init()};o.$inject=["$scope","$mdDialog","mdcDatetimePickerDefaultLocale"],o.prototype={init:function(){this.timeMode=this.params.time&&!this.params.date,this.dateMode=this.params.date,this.initDates(),this.start()},currentNearest5Minute:function(){var e=this.currentDate||t(),n=5*Math.round(e.minute()/5);return n>=60&&(n=55),t(e).minutes(n)},initDates:function(){var e=this,n=function(n,r){var i=null;if(angular.isDefined(n)&&null!==n&&""!==n)if(angular.isString(n))i="undefined"!=typeof e.params.format&&null!==e.params.format?t(n,e.params.format).locale(e.params.lang):t(n).locale(e.params.lang);else if(angular.isDate(n)){var a=n.getTime();i=t(a,"x").locale(e.params.lang)}else n._isAMomentObject&&(i=n);else i=r;return i};this.currentDate=n(this.params.currentDate,t()),this.minDate=n(this.params.minDate),this.maxDate=n(this.params.maxDate),this.selectDate(this.currentDate)},initDate:function(e){this.currentView=r.DATE},initHours:function(){this.currentView=r.HOUR},initMinutes:function(){this.currentView=r.MINUTE},isAfterMinDate:function(e,n,r){var i=!0;if("undefined"!=typeof this.minDate&&null!==this.minDate){var a=t(this.minDate),o=t(e);n||r||(a.hour(0),a.minute(0),o.hour(0),o.minute(0)),a.second(0),o.second(0),a.millisecond(0),o.millisecond(0),r?i=parseInt(o.format("X"))>=parseInt(a.format("X")):(o.minute(0),a.minute(0),i=parseInt(o.format("X"))>=parseInt(a.format("X")))}return i},isBeforeMaxDate:function(e,n,r){var i=!0;if("undefined"!=typeof this.maxDate&&null!==this.maxDate){var a=t(this.maxDate),o=t(e);n||r||(a.hour(0),a.minute(0),o.hour(0),o.minute(0)),a.second(0),o.second(0),a.millisecond(0),o.millisecond(0),r?i=parseInt(o.format("X"))<=parseInt(a.format("X")):(o.minute(0),a.minute(0),i=parseInt(o.format("X"))<=parseInt(a.format("X")))}return i},selectDate:function(e){e&&(this.currentDate=t(e),this.isAfterMinDate(this.currentDate)||(this.currentDate=t(this.minDate)),this.isBeforeMaxDate(this.currentDate)||(this.currentDate=t(this.maxDate)),this.currentDate.locale(this.params.lang),this.calendarStart=t(this.currentDate),this.meridien=this.currentDate.hour()>=12?"PM":"AM")},setName:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},isPM:function(){return"PM"===this.meridien},incrementYear:function(e){1===e&&this.isNextYearVisible()&&this.selectDate(this.currentDate.add("year",e)),e===-1&&this.isPreviousYearVisible()&&this.selectDate(this.currentDate.add("year",e))},isPreviousMonthVisible:function(){return this.calendarStart&&this.isAfterMinDate(t(this.calendarStart).startOf("month"),!1,!1)},isNextMonthVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(t(this.calendarStart).endOf("month"),!1,!1)},isPreviousYearVisible:function(){return this.calendarStart&&this.isAfterMinDate(t(this.calendarStart).startOf("year"),!1,!1)},isNextYearVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(t(this.calendarStart).endOf("year"),!1,!1)},isHourAvailable:function(e){var n=t(this.currentDate);return n.hour(this.convertHours(e)).minute(0).second(0),this.isAfterMinDate(n,!0,!1)&&this.isBeforeMaxDate(n,!0,!1)},isMinuteAvailable:function(e){var n=t(this.currentDate);return n.minute(e).second(0),this.isAfterMinDate(n,!0,!0)&&this.isBeforeMaxDate(n,!0,!0)},start:function(){this.currentView=r.DATE,this.params.date?this.initDate():this.params.time&&this.initHours()},ok:function(){switch(this.currentView){case r.DATE:this.params.time===!0?this.initHours():this.hide(!0);break;case r.HOUR:this.initMinutes();break;case r.MINUTE:this.hide(!0)}},cancel:function(){if(this.params.time)switch(this.currentView){case r.DATE:this.hide();break;case r.HOUR:this.params.date?this.initDate():this.hide();break;case r.MINUTE:this.initHours()}else this.hide()},selectMonthBefore:function(){this.calendarStart.subtract(1,"months")},selectMonthAfter:function(){this.calendarStart.add(1,"months")},selectYearBefore:function(){this.calendarStart.subtract(1,"years")},selectYearAfter:function(){this.calendarStart.add(1,"years")},selectAM:function(){(this.isHourAvailable(0)||this.isHourAvailable(12))&&(this.currentDate.hour()>=12&&this.selectDate(this.currentDate.subtract(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.minDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.minDate.minute())))},selectPM:function(){(this.isHourAvailable(13)||this.isHourAvailable(24))&&(this.currentDate.hour()<12&&this.selectDate(this.currentDate.add(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.maxDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.maxDate.minute())))},convertHours:function(e){var t=e;return e<12&&this.isPM()&&(t+=12),t},hide:function(e){e?this._dialog.hide(this.currentDate):this._dialog.cancel()}},angular.module(n).directive("mdcDatetimePickerCalendar",[function(){for(var e=(t(),1900),n=2100,r=12*(n-e+1),i=240,a=[],o=0;o<r;o++)a.push(o);var s=function(t){var n=t.year(),r=t.month();return 12*(n-e)+r-1};return{restrict:"E",scope:{picker:"=",date:"="},bindToController:!0,controllerAs:"cal",controller:["$scope",function(n){for(var i=this,o=this.picker,c=[],u=o.params.weekStart;c.length<7;u++)u>6&&(u=0),c.push(u.toString());if(i.week=c,o.maxDate||o.minDate){var l=o.minDate?s(o.minDate):0,d=o.maxDate?s(o.maxDate)+1:r;i.months=a.slice(l,d)}else i.months=a;i.getItemAtIndex=function(n){var r=(n+1)%12||12,i=e+Math.floor(n/12),a=t(o.currentDate).year(i).month(r);return v(a)},i.topIndex=s(o.currentDate)-i.months[0],n.$watch(function(){return o.currentDate?o.currentDate.format("YYYY-MM"):""},function(e,n){if(e!=n){var r=t(e,"YYYY-MM"),a=s(r);i.topIndex!=a&&(i.topIndex=a)}});var v=function(e){var n={};if(null!==e){n.name=e.format("MMMM YYYY");var r=t(e).locale(o.params.lang).startOf("month").hour(e.hour()).minute(e.minute()),a=r.format("d");n.days=[];for(var s=r.date();s<=r.daysInMonth();s++){if(s===r.date()){var c=i.week.indexOf(a.toString());if(c>0)for(var u=0;u<c;u++)n.days.push(0)}n.days.push(t(r).locale(o.params.lang).date(s))}for(var l=7,d=[],v=Math.ceil(n.days.length/l),m=0;m<v;m++)d.push(n.days.slice(m*l,(m+1)*l));return n.days=d,n}};i.toDay=function(e){return t(parseInt(e),"d").locale(o.params.lang).format("dd").substring(0,1)},i.isInRange=function(e){return o.isAfterMinDate(t(e),!1,!1)&&o.isBeforeMaxDate(t(e),!1,!1)},i.selectDate=function(e){if(e){if(i.isSelectedDay(e))return o.ok();o.selectDate(t(e).hour(i.date.hour()).minute(i.date.minute()))}},i.isSelectedDay=function(e){return e&&i.date.date()===e.date()&&i.date.month()===e.month()&&i.date.year()===e.year()}}],template:'<md-virtual-repeat-container md-top-index="cal.topIndex" class="months"><div md-virtual-repeat="idx in cal.months" md-start-index="cal.topIndex" md-item-size="'+i+'">     <div mdc-datetime-picker-calendar-month idx="idx"></div></div></md-virtual-repeat-container>'}}]).directive("mdcDatetimePickerCalendarMonth",["$compile",function(e){var t=function(t,n){var r=angular.element(t[0].querySelector("tbody")),i=n.cal,a=n.month;r.html(""),a.days.forEach(function(e,t){var n=angular.element("<tr></tr>");e.forEach(function(e,r){var a=angular.element("<td> </td>");if(e){var o;if(i.isInRange(e)){var s='month["days"]['+t+"]["+r+"]";o=angular.element("<a href='#' mdc-dtp-noclick></a>").attr("ng-class","{selected: cal.isSelectedDay("+s+")}").attr("ng-click","cal.selectDate("+s+")")}else o=angular.element("<span></span>");o.addClass("dtp-select-day").html(e.format("D")),a.append(o)}n.append(a)}),r.append(n)}),e(r)(n)};return{scope:{idx:"="},require:"^mdcDatetimePickerCalendar",restrict:"AE",template:'<div class="dtp-picker-month">{{month.name}}</div><table class="table dtp-picker-days">    <thead>    <tr>        <th ng-repeat="day in cal.week">{{cal.toDay(day)}}</th>    </tr>    </thead>    <tbody>    </tbody></table>',link:function(e,n,r,i){e.cal=i,e.month=i.getItemAtIndex(parseInt(e.idx)),t(n,e),e.$watch(function(){return e.idx},function(r,a){r!=a&&(e.month=i.getItemAtIndex(parseInt(e.idx)),t(n,e))})}}}]),angular.module(n).directive("mdcDtpNoclick",function(){return{link:function(e,t){t.on("click",function(e){e.preventDefault()})}}}),angular.module(n).directive("mdcDatetimePickerClock",[function(){var e='<div class="dtp-picker-clock"><span ng-if="!points || points.length < 1">&nbsp;</span><div ng-repeat="point in points" class="dtp-picker-time" style="margin-left: {{point.left}}px; margin-top: {{point.top}}px;">   <a href="#" mdc-dtp-noclick ng-class="{selected: point.value===currentValue}" class="dtp-select-hour" ng-click="setTime(point.value)" ng-if="pointAvailable(point)">{{point.display}}</a>   <a href="#" mdc-dtp-noclick class="disabled dtp-select-hour" ng-if="!pointAvailable(point)">{{point.display}}</a></div><div class="dtp-hand dtp-hour-hand"></div><div class="dtp-hand dtp-minute-hand"></div><div class="dtp-clock-center"></div></div>';return{restrict:"E",template:e,link:function(e,t,n){var r="minutes"===n.mode,a=e.picker,o=document.querySelector("md-dialog.dtp"),s=function(){var n=angular.element(t[0].querySelector(".dtp-picker-clock")),s=angular.element(o.querySelector(".dtp-picker")),u=o.querySelector(".dtp-content").offsetWidth,d=parseInt(i(s,"paddingLeft").replace("px",""))||0,v=parseInt(i(s,"paddingRight").replace("px",""))||0,m=parseInt(i(n,"marginLeft").replace("px",""))||0,f=parseInt(i(n,"marginRight").replace("px",""))||0,p=u-(m+f+d+v);n.css("width",p+"px");for(var h=parseInt(i(s,"paddingLeft").replace("px",""))||0,g=parseInt(i(s,"paddingTop").replace("px",""))||0,y=parseInt(i(n,"marginLeft").replace("px",""))||0,b=parseInt(i(n,"marginTop").replace("px",""))||0,D=p/2,S=D/1.2,_=[],k=0;k<12;++k){var T=S*Math.sin(2*Math.PI*(k/12)),C=S*Math.cos(2*Math.PI*(k/12)),w={left:D+T+h/2-(h+y),top:D-C-b/2-(g+b),value:r?5*k:k};r?w.display=w.value<10?"0"+w.value:w.value:a.params.shortTime?w.display=0===k?12:k:w.display=a.isPM()?k+12:k,_.push(w)}e.points=_,l(),n.css("height",p+"px");var x=t[0].querySelector(".dtp-clock-center"),M=x.offsetWidth/2||7.5,E=x.offsetHeight/2||7.5,I=D/1.8,P=D/1.5;angular.element(t[0].querySelector(".dtp-hour-hand")).css({left:D+1.5*y+"px",height:I+"px",marginTop:D-I-h+"px"}).addClass(r?"":"on"),angular.element(t[0].querySelector(".dtp-minute-hand")).css({left:D+1.5*y+"px",height:P+"px",marginTop:D-P-h+"px"}).addClass(r?"on":""),angular.element(x).css({left:D+h+y-M+"px",marginTop:D-y/2-E+"px"}),c()},c=function(){var e=a.currentNearest5Minute(),n=e.hour(),r=e.minute();u(angular.element(t[0].querySelector(".dtp-hour-hand")),30*n);var i=6*(5*Math.round(r/5));u(angular.element(t[0].querySelector(".dtp-minute-hand")),i)},u=function(e,t){angular.element(e).css({WebkitTransform:"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)"})},l=function(){var t=a.currentNearest5Minute();e.currentValue=r?t.minute():t.hour()%12};e.$watch(function(){var e=a.currentNearest5Minute();return e?e.format("HH:mm"):""},function(e){l(),c()});var d=function(e,t){for(var n=0;n<t.length;n++)t[n].display=n,e&&(t[n].display+=12);return t};a.params.shortTime||e.$watch("picker.meridien",function(){if(!r&&e.points){var t=d(a.isPM(),angular.copy(e.points));e.points=t}}),e.setTime=function(t){t===e.currentValue&&a.ok(),r?a.currentDate.minute(t):a.currentDate.hour(a.isPM()?t+12:t),a.currentDate.second(0)},e.pointAvailable=function(e){return r?a.isMinuteAvailable(e.value):a.isHourAvailable(e.value)};var v=e.$watch(function(){return t[0].querySelectorAll("div").length},function(){s(),v()})}}}])}(i["default"])}).call(exports,t(497))},582:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(583),i=n(r);angular.module("directive.g+signin",[]).directive("googlePlusSignin",["$window",function(e){var t=/\.apps\.googleusercontent\.com$/;return{restrict:"E",transclude:!0,template:"<span></span>",replace:!0,link:function(n,r,a,o,s){a.clientid+=t.test(a.clientid)?"":".apps.googleusercontent.com",a.$set("data-clientid",a.clientid),a.$set("theme",a.theme);var c={callback:"signinCallback",cookiepolicy:"single_host_origin",requestvisibleactions:"http://schemas.google.com/AddActivity",scope:"https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/userinfo.email",height:"standard",width:"wide",state:""};c.clientid=a.clientid,c.theme=a.theme,angular.forEach((0,i["default"])(c),function(e){a.hasOwnProperty(e)&&(c[e]=a[e])}),a.$observe("language",function(t){e.___gcfg={lang:t?t:"en"}});var u=document.createElement("script");u.type="text/javascript",u.async=!0,u.src="https://apis.google.com/js/client:plusone.js";var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(u,l),s(function(e,t){u.onload=function(){e.length&&r.append(e),gapi.signin.render(r[0],c)}})}}}]).run(["$window","$rootScope",function(e,t){e.signinCallback=function(e){e&&e.access_token?t.$broadcast("event:google-plus-signin-success",e):t.$broadcast("event:google-plus-signin-failure",e)}}])},587:function(e,exports,t){function n(e){return e&&e.__esModule?e:{"default":e}}var r,i,a=t(513);n(a);!function(n,a){"use strict";r=[t(368),t(588)],i=function(e,t){return a(e,t)}.apply(exports,r),!(void 0!==i&&(e.exports=i))}(void 0,function(e,t){"use strict";var n=function(){this.show=function(){var e=[].slice.call(arguments,0);t.apply(void 0,e)},e.forEach(["showInputError","close"],function(e){this[e]=function(){var n=[].slice.call(arguments,0);t[e].apply(void 0,n)}},this),this.isShown=function(){var t;return e.forEach(document.getElementsByClassName("sweet-alert"),function(n){t=e.element(n)}),t&&t.hasClass("visible")}},r="hSweetAlert";return e.module(r,[]).service("sweet",[n]),r})},626:function(e,exports,t){var n=t(627);"string"==typeof n&&(n=[[e.id,n,""]]);t(484)(n,{});n.locals&&(e.exports=n.locals)},627:function(e,exports,t){exports=e.exports=t(477)(),exports.push([e.id,"",""])},628:function(e,exports,t){var n=t(629);"string"==typeof n&&(n=[[e.id,n,""]]);t(484)(n,{});n.locals&&(e.exports=n.locals)},629:function(e,exports,t){exports=e.exports=t(477)(),exports.push([e.id,".distributor-selection{font-size:16pt;padding:3px;margin:3px}body{margin-top:100px;background-color:transparent}@media (min-width:768px){body{margin-top:50px}}#wrapper{padding-left:0}#page-wrapper{width:100%;padding:0;background-color:#fff}.huge{font-size:50px;line-height:normal}@media (min-width:768px){#wrapper{padding-left:225px}#page-wrapper{padding:10px}}.margin-top-05{margin-top:.5em}.margin-top-15{margin-top:1.5em}.margin-top-20{margin-top:2em}.margin-top-25{margin-top:2.5em}.margin-top-50{margin-top:5em}.issue-warning-background{background-color:orange}.issue-warning-text{color:orange}.issue-danger-background{background-color:red}.issue-danger-text{color:red}.issue-normal-background{background-color:green}.issue-normal-text{color:green}.up-true-background{background-color:green}.up-false-background{background-color:red}.navbar-default{background-color:#1b75bb;border-color:#15598e}.navbar-default .navbar-brand{color:#fff}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#55a7e7}.navbar-default .navbar-nav>li>a,.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#fff}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#fff;background-color:#afd5f3}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{color:#555;background-color:#d5d5d5}.navbar-default .navbar-nav>.dropdown>a .caret{border-top-color:#777;border-bottom-color:#777}.navbar-default .navbar-nav>.dropdown>a:focus .caret,.navbar-default .navbar-nav>.dropdown>a:hover .caret{border-top-color:#333;border-bottom-color:#333}.navbar-default .navbar-nav>.open>a .caret,.navbar-default .navbar-nav>.open>a:focus .caret,.navbar-default .navbar-nav>.open>a:hover .caret{border-top-color:#555;border-bottom-color:#555}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#ccc}@media (max-width:767px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333}}.top-nav{padding:0 15px}.top-nav>li{display:inline-block;float:left}.top-nav>li>a{padding-top:15px;padding-bottom:15px;line-height:20px;color:#efefef}.top-nav>.open>a,.top-nav>.open>a:focus,.top-nav>.open>a:hover,.top-nav>li>a:focus,.top-nav>li>a:hover{color:#fff;background-color:#1b75bb}.top-nav>.open>.dropdown-menu{float:left;position:absolute;margin-top:0;border:1px solid rgba(0,0,0,.15);border-top-left-radius:0;border-top-right-radius:0;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.top-nav>.open>.dropdown-menu>li>a{white-space:normal}ul.message-dropdown{padding:0;max-height:250px;overflow-x:hidden;overflow-y:auto}li.message-preview{width:275px;border-bottom:1px solid rgba(0,0,0,.15)}li.message-preview>a{padding-top:15px;padding-bottom:15px}li.message-footer{margin:5px 0}ul.alert-dropdown{width:200px}@media (min-width:768px){.side-nav{position:fixed;top:51px;left:225px;margin-left:-225px;border:none;border-radius:0;overflow-y:auto;background-color:#1b75bb;bottom:0;overflow-x:hidden;padding-bottom:40px}.side-nav,.side-nav>li>a{width:225px}.side-nav li a:focus,.side-nav li a:hover{outline:none;background-color:#3f9ce3!important}}.side-nav>li>ul{padding:0}.side-nav>li>ul>li>a{display:block;padding:10px 15px 10px 38px;text-decoration:none;color:#d4d4d4}.side-nav>li>ul>li>a:hover{color:#fff}.flot-chart{display:block;height:400px}.flot-chart-content{width:100%;height:100%}.huge{font-size:40px}.panel-green{border-color:#5cb85c}.panel-green>.panel-heading{border-color:#5cb85c;color:#fff;background-color:#5cb85c}.panel-green>a{color:#5cb85c}.panel-green>a:hover{color:#3d8b3d}.panel-red{border-color:#d9534f}.panel-red>.panel-heading{border-color:#d9534f;color:#fff;background-color:#d9534f}.panel-red>a{color:#d9534f}.panel-red>a:hover{color:#b52b27}.panel-yellow{border-color:#f0ad4e}.panel-yellow>.panel-heading{border-color:#f0ad4e;color:#fff;background-color:#f0ad4e}.panel-yellow>a{color:#f0ad4e}.panel-yellow>a:hover{color:#df8a13}.toolbar{margin-bottom:10px}.entity-key{font-family:Monaco,Consolas,Lucida Console,dejavu sans mono,monospace;font-size:11px}.proof-of-play-label{padding-bottom:10px;padding-top:10px}.copy-ready-transparent{color:transparent}.no-devices{text-align:center}.properties-word-break{width:390px;word-wrap:break-word;display:block}.command-history-command{width:375px;word-wrap:break-word;display:block}.hostname-word-break{width:200px;word-wrap:break-word;display:inline-block}[data-ng-click],[ng-click],[x-ng-click]{cursor:pointer}#proofplay-selected-items{min-width:0!important;margin:0 auto;padding:0 auto}.radio-button{padding:3px}.horizontal-submit{margin:.5em}.horizontal-submit,.radio-horizontal{display:flex;align-self:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center}md-toolbar.md-default-theme:not(.md-menu-toolbar),md-toolbar:not(.md-menu-toolbar){background-color:#1b75bb!important;max-height:64px;min-height:64px}.md-toolbar-tools{background-color:#000!important;max-height:64px;min-height:64px}.skykit-image{max-width:100%;height:33px}@media (max-width:767px){md-toolbar.md-default-theme:not(.md-menu-toolbar),md-toolbar:not(.md-menu-toolbar){margin-top:-50px;margin-bottom:50px}}.center-block{text-align:center}.ellipsis-overflow,.proof-of-play-selected-item{width:100%;white-space:nowrap;overflow:hidden;text-align:left;text-overflow:ellipsis}.proof-of-play-tenant-name-option{width:7em;white-space:nowrap;overflow:hidden;text-align:center;positition:absolute;text-overflow:ellipsis}.proof-of-play-horizontal-top-bar{align-self:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;margin-top:.5em;margin-bottom:.5em;align-items:center}.my-flex,.proof-of-play-horizontal-top-bar{display:flex;justify-content:center}.bigger-buttons{padding:.4em;min-width:88px;border-radius:5px;font-size:16px;text-align:center;text-decoration:none;border:none;outline:none}.admin-container{display:flex;align-content:flex-start}.registration-event-column{height:110px;display:inline-block;vertical-align:top;overflow:scroll}.pull-command-send-button-up{margin-top:-2px}header.dtp-header{background:#1b75bb!important}.dtp div.dtp-date,.dtp div.dtp-time{background:#000}.dtp .dtp-actual-meridien a.selected,.dtp .dtp-picker-time>a.dtp-select-hour.selected,.dtp table.dtp-picker-days tr>td>a.selected{background:#1b75bb!important}.dtp .dtp-hand.on{background:#000}",""])},631:function(e,exports){"use strict";function t(e,t,n,r,i,a,o,s,c,u,l,d,v){"ngInject";var m=this;return m.tenantKey=t.tenantKey,m.deviceKey=t.deviceKey,m.fromDevices="true"===t.fromDevices,m.currentDevice={},m.commandEvents=[],m.generateLocalFromUTC=function(e){var t=moment.utc(e).toDate();return t=moment(t).format("YYYY-MM-DD hh:mm:ss A")},m.replaceCommandTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.postedTime&&(n.postedTime=m.generateLocalFromUTC(n.postedTime)),n.confirmedTime&&(n.confirmedTime=m.generateLocalFromUTC(n.confirmedTime))}},m.getEvents=function(e,t,n){u.start();var r=i.getCommandEventsByKey(e,t,n);return r.then(function(e){return m.replaceCommandTime(e.events),m.event_next_cursor=e.next_cursor,m.event_prev_cursor=e.prev_cursor,m.commandEvents=e.events,u.complete()})},m.getEventsTimeOut=function(e,t,n){return v(function(){return m.getEvents(e,t,n);
},1e3)},m.commandHistorySelected=function(){return m.getEvents(m.deviceKey)},m.paginateEventCall=function(e){return e?m.getEvents(m.deviceKey,null,m.event_next_cursor):m.getEvents(m.deviceKey,m.event_prev_cursor,null)},m.initialize=function(){var e=i.getDeviceByKey(m.deviceKey);return e.then(function(e){return m.onGetDeviceSuccess(e)},function(e){return m.onGetDeviceFailure(e)}),m.getEvents(m.deviceKey)},m.onGetDeviceSuccess=function(e){return m.currentDevice=e,e.timezone!==m.selectedTimezone&&(m.selectedTimezone=e.timezone),void 0===m.tenantKey&&(m.tenantKey=m.currentDevice.tenantKey),"true"===t.fromDevices?(m.backUrl="/#/devices",m.backUrlText="Back to devices"):m.currentDevice.isUnmanagedDevice===!0?(m.backUrl="/#/tenants/"+m.tenantKey+"/unmanaged",m.backUrlText="Back to tenant unmanaged devices"):(m.backUrl="/#/tenants/"+m.tenantKey+"/managed",m.backUrlText="Back to tenant managed devices")},m.onGetDeviceFailure=function(t){d.showErrorToast("Oops. We were unable to fetch the details for this device at this time.");var r="No detail for device_key #"+m.deviceKey+". Error: "+t.status+" "+t.statusText;return e.error(r),n.go("devices")},m.onResetContent=function(){u.start();var e=o.contentDelete(m.deviceKey);return e.then(m.onResetContentSuccess,m.onResetContentFailure)},m.onResetContentSuccess=function(){return u.complete(),m.getEventsTimeOut(m.deviceKey),d.showSuccessToast("We posted your reset content command into the player's queue.")},m.onResetContentFailure=function(t){return u.complete(),e.error("Reset content command error: "+t.status+" "+t.statusText),c.show("Oops...","We were unable to post your reset content command into the player's queue.","error")},m.onUpdateContent=function(){u.start();var e=o.contentUpdate(m.deviceKey);return e.then(m.onUpdateContentSuccess,m.onUpdateContentFailure)},m.onUpdateContentSuccess=function(){return u.complete(),m.getEventsTimeOut(m.deviceKey),d.showSuccessToast("We posted your update content command into the player's queue.")},m.onUpdateContentFailure=function(t){return u.complete(),e.error("Content update command error: "+t.status+" "+t.statusText),c.show("Oops...","We were unable to post your update content command into the player's queue.","error")},m.onResetPlayer=function(){u.start();var e=o.reset(m.deviceKey);return e.then(m.onResetPlayerSuccess,m.onResetPlayerFailure)},m.onResetPlayerSuccess=function(){return u.complete(),m.getEventsTimeOut(m.deviceKey),d.showSuccessToast("We posted your reset player command into the player's queue.")},m.onResetPlayerFailure=function(t){return u.complete(),e.error("Reset player command error: "+t.status+" "+t.statusText),c.show("Oops...","We were unable to post your reset player command into the player's queue.","error")},m.onPanelOn=function(){u.start();var e=o.powerOn(m.deviceKey);return e.then(m.onPanelOnSuccess,m.onPanelOnFailure)},m.onPanelOnSuccess=function(){return u.complete(),m.getEventsTimeOut(m.deviceKey),d.showSuccessToast("We posted your panel on command into the player's queue.")},m.onPanelOnFailure=function(t){return u.complete(),e.error("Panel on command error: "+t.status+" "+t.statusText),c.show("Oops...","We were unable to post your panel on command into the player's queue.","error")},m.onPanelOff=function(){u.start();var e=o.powerOff(m.deviceKey);return e.then(m.onPanelOffSuccess,m.onPanelOffFailure)},m.onPanelOffSuccess=function(){return u.complete(),m.getEventsTimeOut(m.deviceKey),d.showSuccessToast("We posted your panel off command into the player's queue.")},m.onPanelOffFailure=function(t){return u.complete(),e.error("Panel off command error: "+t.status+" "+t.statusText),c.show("Oops...","We were unable to post your panel off command into the player's queue.","error")},m.onUpdateDevice=function(){u.start();var e=o.updateDevice(m.deviceKey);return e.then(m.onUpdateDeviceSuccess,m.onUpdateDeviceFailure)},m.onUpdateDeviceSuccess=function(){return u.complete(),m.getEventsTimeOut(m.deviceKey),d.showSuccessToast("We posted your update device command into the player's queue.")},m.onUpdateDeviceFailure=function(t){return u.complete(),e.error("Update device command error: "+t.status+" "+t.statusText),c.show("Oops...","We were unable to post your update device command into the player's queue.","error")},m.onVolumeChange=function(){u.start();var e=o.volume(m.deviceKey,m.currentDevice.volume);return e.then(m.onVolumeChangeSuccess(m.currentDevice.volume),m.onVolumeChangeFailure)},m.onVolumeChangeSuccess=function(e){return u.complete(),m.getEventsTimeOut(m.deviceKey),d.showSuccessToast("We posted your volume change command of "+e+" into the player's queue.")},m.onVolumeChangeFailure=function(t){return u.complete(),e.error("Volume change command error: "+t.status+" "+t.statusText),c.show("Oops...","We were unable to post your volume change command into the player's queue.","error")},m.onCustomCommand=function(){u.start();var e=o.custom(m.deviceKey,m.currentDevice.custom);return e.then(m.onCustomCommandSuccess(m.currentDevice.custom),m.onCustomCommandFailure)},m.onCustomCommandSuccess=function(e){return u.complete(),m.getEventsTimeOut(m.deviceKey),d.showSuccessToast("We posted your custom command '"+e+"' into the player's queue.")},m.onCustomCommandFailure=function(t){return u.complete(),e.error("Custom command error: "+t.status+" "+t.statusText),c.show("Oops...","We were unable to post your custom command into the player's queue.","error")},m.onDiagnosticsToggle=function(){u.start();var e=o.toggleDiagnostics(m.deviceKey);return e.then(m.onToggleDiagnosticsSuccess,m.onToggleDiagnosticsFailure)},m.onToggleDiagnosticsSuccess=function(){return u.complete(),d.showSuccessToast("We posted your diagnostics command into the player's queue.")},m.onToggleDiagnosticsFailure=function(t){return u.complete(),e.error("Diagnostics command error: "+t.status+" "+t.statusText),c.show("Oops...","We were unable to post your diagnostics command into the player's queue.","error")},m.onRestart=function(){u.start();var e=o.restart(m.deviceKey);return e.then(m.onRestartSuccess,m.onRestartFailure)},m.onRestartSuccess=function(){return u.complete(),d.showSuccessToast("We posted your restart command into the player's queue.")},m.onRestartFailure=function(t){return u.complete(),e.error("Restart command error: "+t.status+" "+t.statusText),c.show("Oops...","We were unable to post your restart command into the player's queue.","error")},m.onPostLog=function(){u.start();var e=o.postLog(m.deviceKey);return e.then(m.onPostLogSuccess,m.onPostLogFailure)},m.onPostLogSuccess=function(){return u.complete(),d.showSuccessToast("We posted your post log command into the player's queue.")},m.onPostLogFailure=function(t){return u.complete(),e.error("Post log command error: "+t.status+" "+t.statusText),c.show("Oops...","We were unable to post your post log command into the player's queue.","error")},m}t.$inject=["$log","$stateParams","$state","SessionsService","DevicesService","LocationsService","CommandsService","TimezonesService","sweet","ProgressBarService","$mdDialog","ToastsService","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceDetailsCommandsCtrl=t},632:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,i,o,c,u,l,d,v,m,f,p){"ngInject";var h=this;h.tenantKey=t.tenantKey,h.deviceKey=t.deviceKey,h.fromDevices="true"===t.fromDevices,h.currentDevice={},h.locations=[],h.commandEvents=[],h.dayRange=30,h.issues=[],h.timezones=[],h.selectedTimezone=void 0;var g=p.createFormattedStartAndEndDateFromToday(30),y=(0,a["default"])(g,2);return h.startTime=y[0],h.endTime=y[1],h.enrollmentEvents=[],h.replaceIssueTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.created&&(n.created=p.generateLocalFromUTC(n.created)),n.updated&&(n.updated=p.generateLocalFromUTC(n.updated))}},h.replaceCommandTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.postedTime&&(n.postedTime=p.generateLocalFromUTC(n.postedTime)),n.confirmedTime&&(n.confirmedTime=p.generateLocalFromUTC(n.confirmedTime))}},h.copyDeviceKey=function(){return f.showSuccessToast("Device key copied to your clipboard")},h.copyCorrelationIdentifier=function(){return f.showSuccessToast("Correlation ID copied to your clipboard")},h.getIssues=function(e,t,n,r,a){v.start();var o=i.getIssuesByKey(e,t,n,r,a);return o.then(function(e){return h.replaceIssueTime(e.issues),h.issues=e.issues,h.prev_cursor=e.prev,h.next_cursor=e.next,v.complete()})},h.getEvents=function(e,t,n){v.start();var r=i.getCommandEventsByKey(e,t,n);return r.then(function(e){return h.replaceCommandTime(e.events),h.event_next_cursor=e.next_cursor,h.event_prev_cursor=e.prev_cursor,h.commandEvents=e.events,v.complete()})},h.getEnrollmentEvents=function(e){v.start();var t=l.getEnrollmentEvents(e);return t.then(function(e){return h.enrollmentEvents=e,v.complete()})},h.paginateCall=function(e){return e?h.getIssues(h.deviceKey,h.epochStart,h.epochEnd,null,h.next_cursor):h.getIssues(h.deviceKey,h.epochStart,h.epochEnd,h.prev_cursor,null)},h.paginateEventCall=function(e){return e?h.getEvents(h.deviceKey,null,h.event_next_cursor):h.getEvents(h.deviceKey,h.event_prev_cursor,null)},h.initialize=function(){h.epochStart=(0,s["default"])(h.startTime,"YYYY-MM-DD hh:mm A").unix(),h.epochEnd=(0,s["default"])(h.endTime,"YYYY-MM-DD hh:mm A").unix();var e=u.getCustomTimezones();e.then(function(e){return h.timezones=e}),h.panelModels=i.getPanelModels(),h.panelInputs=i.getPanelInputs();var t=i.getDeviceByKey(h.deviceKey);return t.then(function(e){return h.onGetDeviceSuccess(e)},function(e){return h.onGetDeviceFailure(e)}),h.getEvents(h.deviceKey),h.getIssues(h.deviceKey,h.epochStart,h.epochEnd),h.getEnrollmentEvents(h.deviceKey)},h.onGetDeviceSuccess=function(e){h.currentDevice=e,e.timezone!==h.selectedTimezone&&(h.selectedTimezone=e.timezone),void 0===h.tenantKey&&(h.tenantKey=h.currentDevice.tenantKey),"true"===t.fromDevices?(h.backUrl="/#/devices",h.backUrlText="Back to devices"):h.currentDevice.isUnmanagedDevice===!0?(h.backUrl="/#/tenants/"+h.tenantKey+"/unmanaged",h.backUrlText="Back to tenant unmanaged devices"):(h.backUrl="/#/tenants/"+h.tenantKey+"/managed",h.backUrlText="Back to tenant managed devices");var n=o.getLocationsByTenantKey(h.tenantKey);return n.then(function(e){return h.locations=e,h.setSelectedOptions()})},h.onGetDeviceFailure=function(t){f.showErrorToast("Oops. We were unable to fetch the details for this device at this time.");var r="No detail for device_key #"+h.deviceKey+". Error: "+t.status+" "+t.statusText;return e.error(r),n.go("devices")},h.setSelectedOptions=function(){if(null===h.currentDevice.panelModel)h.currentDevice.panelModel=h.panelModels[0],h.currentDevice.panelInput=h.panelInputs[0];else{for(var e=0;e<h.panelModels.length;e++){var t=h.panelModels[e];t.id===h.currentDevice.panelModel&&(h.currentDevice.panelModel=t)}for(var n=0;n<h.panelInputs.length;n++){var r=h.panelInputs[n],i=r.parentId===h.currentDevice.panelModel.id;i&&r.id.toLowerCase()===h.currentDevice.panelInput&&(h.currentDevice.panelInput=r)}}if(null===h.currentDevice.locationKey);else for(var a=0;a<h.locations.length;a++){var o=h.locations[a];o.key===h.currentDevice.locationKey&&(h.currentDevice.location=o)}},h.onSaveDevice=function(){v.start(),void 0!==h.currentDevice.location&&void 0!==h.currentDevice.location.key&&(h.currentDevice.locationKey=h.currentDevice.location.key),void 0!==h.currentDevice.panelModel.id&&"None"!==h.currentDevice.panelModel.id&&(h.currentDevice.panelModelNumber=h.currentDevice.panelModel.id),void 0!==h.currentDevice.panelInput.id&&"None"!==h.currentDevice.panelInput.id&&(h.currentDevice.panelSerialInput=h.currentDevice.panelInput.id.toLowerCase()),h.currentDevice.timezone=h.selectedTimezone;var e=i.save(h.currentDevice);return e.then(h.onSuccessDeviceSave,h.onFailureDeviceSave)},h.onSuccessDeviceSave=function(){return v.complete(),f.showSuccessToast("We saved your update.")},h.onFailureDeviceSave=function(t){return v.complete(),409===t.status?(e.info("Failure saving device. Customer display code already exists for tenant: "+t.status+" "+t.statusText),d.show("Oops...","This customer display code already exists for this tenant. Please choose another.","error")):(e.error("Failure saving device: "+t.status+" "+t.statusText),f.showErrorToast("Oops. We were unable to save your updates to this device at this time."))},h.confirmDeviceDelete=function(e,t){var n=m.confirm({title:"Are you sure to delete this device?",textContent:"Please remember, you MUST remove this device from Content Manager before deleting it from Provisioning.",targetEvent:e,ok:"Delete",cancel:"Cancel"}),r=m.show(n),i=function(){return h.onConfirmDelete(t)},a=function(){return h.onConfirmCancel()};return r.then(i,a)},h.onConfirmDelete=function(t){var r=function(){return f.showSuccessToast("We processed your delete request."),n.go("devices")},a=function(n){var r="We were unable to complete your delete request at this time.";return f.showErrorToast(r),e.error("Delete device failure for device_key "+t+": "+n.status+" "+n.statusText)},o=i["delete"](t);return o.then(r,a)},h.onConfirmCancel=function(){return f.showInfoToast("We canceled your delete request.")},h.onProofOfPlayLoggingCheck=function(){if(h.currentDevice.proofOfPlayLogging){var e=null===h.currentDevice.locationKey,t=null===h.currentDevice.customerDisplayCode;return e?(d.show("Oops...","You must have a Location to enable Proof of play.","error"),h.currentDevice.proofOfPlayLogging=!1):t?(d.show("Oops...","You must have a Display code to enable Proof of play.","error"),h.currentDevice.proofOfPlayLogging=!1):h.onSaveDevice()}return h.onSaveDevice()},h.onUpdateLocation=function(){return h.onSaveDevice()},h.autoGenerateCustomerDisplayCode=function(){var e="";return h.currentDevice.customerDisplayName&&(e=h.currentDevice.customerDisplayName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),h.currentDevice.customerDisplayCode=e},h.logglyForUser=function(){var e=r.getUserEmail().split("@")[1];return"demo.agosto.com"===e||"agosto.com"===e},h.onClickRefreshButton=function(){v.start(),h.startTime=p.convertToMomentIfNotAlready(h.startTime),h.endTime=p.convertToMomentIfNotAlready(h.endTime),h.epochStart=(0,s["default"])(h.startTime,"YYYY-MM-DD hh:mm A").unix(),h.epochEnd=(0,s["default"])(h.endTime,"YYYY-MM-DD hh:mm A").unix(),h.prev_cursor=null,h.next_cursor=null;var e=i.getIssuesByKey(h.deviceKey,h.epochStart,h.epochEnd,h.prev_cursor,h.next_cursor);return e.then(function(e){return h.onRefreshIssuesSuccess(e)},function(e){return h.onRefreshIssuesFailure(e)})},h.onRefreshIssuesSuccess=function(e){return h.replaceIssueTime(e.issues),h.issues=e.issues,h.prev_cursor=e.prev,h.next_cursor=e.next,v.complete()},h.onRefreshIssuesFailure=function(t){return v.complete(),f.showInfoToast("We were unable to refresh the device issues list at this time."),e.error("Failure to refresh device issues: "+t.status+" "+t.statusText)},h}r.$inject=["$log","$stateParams","$state","SessionsService","DevicesService","LocationsService","CommandsService","TimezonesService","IntegrationEvents","sweet","ProgressBarService","$mdDialog","ToastsService","DateManipulationService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceDetailsCtrl=void 0;var i=t(633),a=n(i),o=t(371),s=n(o);exports.DeviceDetailsCtrl=r},642:function(e,exports){"use strict";function t(e,t,n,r,i,a,o){"ngInject";var s=this;return s.distributorKey=void 0,s.devices=[],s.devicesPrev=null,s.devicesNext=null,s.selectedButton="Serial Number",s.serialDevices={},s.disabled=!0,s.macDevices={},s.gcmidDevices={},s.unmanagedSelectedButton="MAC",s.unmanagedSerialDevices={},s.unmanagedDisabled=!0,s.unmanagedDevicesPrev=null,s.unmanagedDevicesNext=null,s.unmanagedDevices=[],s.unmanagedMacDevices={},s.unmanagedGCMidDevices={},s.refreshManagedDevices=function(){return s.devicesPrev=null,s.devicesNext=null,s.getManagedDevices(s.distributorKey,s.devicesPrev,s.devicesNext)},s.refreshUnmanagedDevices=function(){return s.unmanagedDevicesPrev=null,s.unmanagedDevicesNext=null,s.getUnmanagedDevices(s.distributorKey,s.unmanagedDevicesPrev,s.unmanagedDevicesNext)},s.changeRadio=function(e){return e?(s.unmanagedSearchText="",s.unmanagedDisabled=!0,s.unmanagedSerialDevices={},s.unmanagedMacDevices={}):(s.searchText="",s.disabled=!0,s.serialDevices={},s.macDevices={})},s.editItem=function(e){return n.editItem(e,!0)},s.prepareForEditView=function(e,t){var n=void 0,r=void 0,i=void 0;return e?(n="MAC"===s.unmanagedSelectedButton,r="Serial Number"===s.unmanagedSelectedButton,i="GCM ID"===s.unmanagedSelectedButton,n?s.editItem(s.unmanagedMacDevices[t]):r?s.editItem(s.unmanagedSerialDevices[t]):s.editItem(s.unmanagedGCMidDevices[t])):(n="MAC"===s.selectedButton,r="Serial Number"===s.selectedButton,i="GCM ID"===s.selectedButton,n?s.editItem(s.macDevices[t]):r?s.editItem(s.serialDevices[t]):s.editItem(s.gcmidDevices[t]))},s.controlOpenButton=function(e,t){return e?(s.unmanagedDisabled=!t,s.unmanagedDisabledButtonLoading=!1):(s.disabled=!t,s.disabledButtonLoading=!1)},s.isResourceValid=function(e,t){var r=!1,i=null,a=void 0;a=e?s.unmanagedSelectedButton:s.selectedButton,n.isResourceValid(t,a,r,i,s.distributorKey,e).then(function(t){return s.controlOpenButton(e,t.is_match)})},s.searchDevices=function(e,t){var r=void 0;r=e?s.unmanagedSelectedButton:s.selectedButton;var i=!1,a=null;return n.searchDevices(t,r,i,a,s.distributorKey,e).then(function(t){if(t.success){var n=t.devices;return"Serial Number"===r?(e?s.unmanagedSerialDevices=n[1]:s.serialDevices=n[1],n[0]):"MAC"===r?(e?s.unmanagedMacDevices=n[1]:s.macDevices=n[1],n[0]):(e?s.unmanagedGCMidDevices=n[1]:s.gcmidDevices=n[1],n[0])}return[]})},s.getManagedDevices=function(e,t,r){a.start();var i=n.getDevicesByDistributor(e,t,r);return i.then(function(e){return s.devices=e.devices,s.devicesNext=e.next_cursor,s.devicesPrev=e.prev_cursor,s.getFetchSuccess()},function(e){return s.getFetchFailure(e)})},s.getUnmanagedDevices=function(e,t,r){a.start();var i=n.getUnmanagedDevicesByDistributor(e,t,r);return i.then(function(e){return s.unmanagedDevices=e.devices,s.unmanagedDevicesPrev=e.prev_cursor,s.unmanagedDevicesNext=e.next_cursor,s.getFetchSuccess()},function(e){return s.getFetchFailure(e)})},s.initialize=function(){return s.distributorKey=i.getCurrentDistributorKey(),s.getManagedDevices(s.distributorKey,s.devicesPrev,s.devicesNext),s.getUnmanagedDevices(s.distributorKey,s.unmanagedDevicesPrev,s.unmanagedDevicesNext)},s.getFetchSuccess=function(){return a.complete()},s.getFetchFailure=function(e){a.complete();var t="Unable to fetch devices. Error: "+e.status+" "+e.statusText+".";return o.show("Oops...",t,"error")},s.paginateCall=function(e,t){if(e&&(t&&s.getManagedDevices(s.distributorKey,null,s.devicesNext),t||s.getUnmanagedDevices(s.distributorKey,null,s.unmanagedDevicesNext)),!e&&(t&&s.getManagedDevices(s.distributorKey,s.devicesPrev,null),!t))return s.getUnmanagedDevices(s.distributorKey,s.unmanagedDevicesPrev,null)},s}t.$inject=["$stateParams","$log","DevicesService","$state","SessionsService","ProgressBarService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DevicesListingCtrl=t},643:function(e,exports){"use strict";function t(e,t,n,r,i){var a=this;return a.getAllDistributors=function(){a.loadingAllDistributors=!0;var t=e.getAllDistributors();return t.then(function(e){return a.loadingAllDistributors=!1,a.allDistributors=e})},a.addUserToDistributor=function(t,i,o,s,c){o||(o=!1);var u=o?"with":"without";s||(s=a.distributorsAsAdmin[0]);var l=r.confirm({title:"Are you sure?",textContent:i+" will be added to "+s+"\n        "+u+" administrator privileges",targetEvent:t,ok:"Of course!",cancel:"Oops, nevermind."});return r.show(l).then(function(){var t=e.addUserToDistributor(i,s,o);return t.then(function(e){return n.showSuccessToast(e.message),a.user={},c.$setPristine(),c.$setUntouched(),setTimeout(function(){return a.getUsersOfDistributor()},2e3)}),t["catch"](function(e){return n.showErrorToast(e.data.message)})})},a.makeDistributor=function(t,i,o,s){var c=r.confirm({title:"Are you sure?",textContent:"If you proceed, "+i+" will be created.",targetEvent:t,ariaLabel:"Lucky day",ok:"Yeah!",cancel:"Forget it."});return r.show(c).then(function(){var t=e.makeDistributor(i,o);return t.then(function(e){return a.distributor={},s.$setPristine(),s.$setUntouched(),n.showSuccessToast(e.message),setTimeout(function(){return a.allDistributors=a.getAllDistributors()},2e3)}),t["catch"](function(e){return n.showErrorToast(e.data.message)})})},a.getUsersOfDistributor=function(){a.loadingUsersOfDistributor=!0;var n=t.getCurrentDistributorKey(),r=e.getUsersOfDistributor(n);return r.then(function(e){return a.loadingUsersOfDistributor=!1,a.usersOfDistributor=e})},a.switchDistributor=function(e){return i.switchDistributor(e),n.showSuccessToast("Distributor "+e.name+" selected!")},a.initialize=function(){if(a.getUsersOfDistributor(),a.getAllDistributors(),a.isAdmin=t.getIsAdmin(),a.distributorsAsAdmin=t.getDistributorsAsAdmin(),a.currentDistributorName=t.getCurrentDistributorName(),a.isAdmin)return a.getAllDistributors()},a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdminCtrl=t},644:function(e,exports){"use strict";function t(e,t,n,r,i,a,o,s,c,u,l){var d=this;return d.onGooglePlusSignInSuccess=function(e,t){d.googlePlusSignInButtonClicked||s.start(),o.removeUserInfo();var n=o.login(t);return n.then(d.loginSuccess,d.loginFailure)},d.onGooglePlusSignInFailure=function(e,t){if(d.googlePlusSignInButtonClicked)return s.complete(),a.show("Oops...","Unable to authenticate to Google+.","error")},e.$on("event:google-plus-signin-success",d.onGooglePlusSignInSuccess),e.$on("event:google-plus-signin-failure",d.onGooglePlusSignInFailure),d.initializeSignIn=function(){return d.clientId=i.OAUTH_CLIENT_ID,d.state=i.STATE,d.googlePlusSignInButtonClicked=!1},d.initializeSignOut=function(){return o.removeUserInfo(),r(d.proceedToSignedOut,50)},d.loginSuccess=function(e){return s.complete(),n.go("distributor_selection")},d.loginFailure=function(){return s.complete(),a.show("Oops...","Unable to authenticate to Stormpath.","error")},d.proceedToSignedOut=function(){return n.go("signed_out")},d.proceedToSignIn=function(){return n.go("sign_in")},d.onClickGooglePlusSignIn=function(){return d.googlePlusSignInButtonClicked=!0,s.start()},d}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthenticationCtrl=t},645:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var i=this;return i.identity={},i.currentDistributerInDistributerAdminList=function(){var e=r.getCurrentDistributorName(),t=r.getDistributorsAsAdmin();return(0,a["default"])(t,e)},i.identity={key:r.getUserKey(),email:r.getUserEmail(),admin:r.getIsAdmin(),distributor_admin:r.getDistributorsAsAdmin(),admin_of_current_distributor:i.currentDistributerInDistributerAdminList(),distributorKey:r.getCurrentDistributorKey(),distributorName:r.getCurrentDistributorName()},i.getIdentity=function(){return i.identity},i.isCurrentURLDistributorSelector=function(){var e=n.location.href.search(/distributor_selection/),t=e>=0;return t},i.initialize=function(){return i.getIdentity()},i.toggleSidenav=function(){return e("left").toggle()},i.goTo=function(n,r){if(t.go(n,{id:r}),e("left").isOpen())return e("left").close()},i}r.$inject=["$mdSidenav","$state","$window","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppController=void 0;var i=t(646),a=n(i);exports.AppController=r},668:function(e,exports){"use strict";function t(e,t,n,r){"ngInject";var i=this;return i.distributors=[],i.currentDistributor=void 0,i.loading=!0,i.initialize=function(){i.loading=!0;var e=n.fetchAllByUser(r.getUserKey());return e.then(function(e){return i.distributors=e,1===i.distributors.length?i.selectDistributor(i.distributors[0]):i.loading=!1})},i.selectDistributor=function(e){return n.switchDistributor(e)},i}t.$inject=["$log","$state","DistributorsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DistributorSelectorCtrl=t},669:function(e,exports){"use strict";function t(e){var t=this;return t.distributors=[],t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DistributorsCtrl=t},670:function(e,exports){"use strict";function t(e,t,n){var r=this;return r.domains=[],r.initialize=function(){var e=t.fetchAllDomains();return e.then(function(e){return r.domains=e})},r.editItem=function(t){return e.go("editDomain",{domainKey:t.key})},r.deleteItem=function(e){var i=function(){var n=t["delete"](e);return n.then(function(){return r.initialize()})};return n.show({title:"Are you sure?",text:"This will permanently remove the domain from the distributor and disconnect from tenants.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the domain!",closeOnConfirm:!0},i)},r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomainsCtrl=t},671:function(e,exports){"use strict";function t(e,t,n,r,i,a,o,s,c){"ngInject";var u=this;if(u.currentDomain={key:void 0,name:void 0,impersonation_admin_email_address:void 0,distributor_key:void 0,active:!0},u.currentDomains=[],u.editMode=!!t.domainKey,u.editMode){var l=r.getDomainByKey(t.domainKey);l.then(function(e){return u.currentDomain=e})}else u.currentDomain.distributor_key=c.getCurrentDistributorKey();return u.onSaveDomain=function(){o.start();var e=r.save(u.currentDomain);return e.then(u.onSuccessSaveDomain,u.onFailureSaveDomain)},u.onSuccessSaveDomain=function(){return o.complete(),s.showSuccessToast("We saved your update.")},u.onFailureSaveDomain=function(t){return o.complete(),409===t.status?(e.info("Failure saving domain. Domain already exists: "+t.status+" "+t.statusText),a.show("Oops...","This domain name already exist. Please enter a unique domain name.","error")):(e.error("Failure saving domain: "+t.status+" "+t.statusText),s.showErrorToast("Oops. We were unable to save your updates at this time."))},u.editItem=function(e){return i.go("editDomain",{domainKey:e.key})},u}t.$inject=["$log","$stateParams","DistributorsService","DomainsService","$state","sweet","ProgressBarService","ToastsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomainDetailsCtrl=t},672:function(e,exports){"use strict";function t(e,t,r,i){var a=this;return a.radioButtonChoices={group1:"By Device",group2:"Summarized",selection:null},a.dateTimeSelection={start:null,end:null},a.formValidity={start_date:!1,end_date:!1,locations:!1},a.tenant=t.tenant,a.no_cache=!0,a.loading=!0,a.disabled=!0,a.disabledTenant=!0,a.selected_locations=[],a.initialize=function(){return e.getAllLocations(a.tenant).then(function(e){return a.loading=!1,a.locations=e.data.locations,a.locations.length>0?a.had_some_items=!0:a.had_some_items=!1})},a.refreshLocations=function(){return a.searchText="",a.selectedItem="",a.loading=!0,a.disabled=!0,a.selected_locations=[],e.proofplayCache.removeAll(),a.initialize()},a.addToSelectedLocations=function(e){if(a.isLocationValid(e)){a.selected_locations.push(e);var t=a.locations.indexOf(e);a.locations.splice(t,1),a.searchText=""}return a.areLocationsValid(),a.isDisabled()},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isRadioValid=function(e){return a.formValidity.type=e,a.isDisabled()},a.isLocationValid=function(e){return!!n(e,a.locations)&&!n(e,a.selected_locations)},a.areLocationsValid=function(){return a.formValidity.locations=a.selected_locations.length>0,a.isDisabled()},a.isStartDateValid=function(e){return a.formValidity.start_date=e instanceof Date,a.isDisabled()},a.isEndDateValid=function(e){return a.formValidity.end_date=e instanceof Date,a.isDisabled()},a.removeFromSelectedLocation=function(e){var t=a.selected_locations.indexOf(e);return a.selected_locations.splice(t,1),a.locations.push(e),a.areLocationsValid(),a.isDisabled()},a.isDisabled=function(){return a.formValidity.start_date&&a.formValidity.end_date&&a.formValidity.locations&&a.formValidity.type?(a.disabled=!1,a["final"]={start_date_unix:moment(a.dateTimeSelection.start).unix(),end_date_unix:moment(a.dateTimeSelection.end).unix(),locations:a.selected_locations,type:a.radioButtonChoices.selection}):a.disabled=!0},a.submit=function(){return"1"===a["final"].type?e.downloadCSVForMultipleLocationsByDevice(a["final"].start_date_unix,a["final"].end_date_unix,a["final"].locations,a.tenant):e.downloadCSVForMultipleLocationsSummarized(a["final"].start_date_unix,a["final"].end_date_unix,a["final"].locations,a.tenant)},a.tenants=null,a.currentTenant=a.tenant,a.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return a.tenants=e.data.tenants})},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isSelectionValid=function(e){return n(e,a.tenants)?a.disabledTenant=!1:a.disabledTenant=!0},a.submitTenant=function(e){return e!==a.currentTenant?(r.go("proofDetail",{tenant:e}),i.showSuccessToast("Proof of Play reporting set to "+e)):i.showErrorToast("Proof of Play reporting is already set to "+e)},a}function n(e,t){return t.indexOf(e)>=0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiLocationCtrl=t},673:function(e,exports){"use strict";function t(e,t,r,i){var a=this;return a.radioButtonChoices={group1:"By Date",group2:"Summarized",selection:null},a.dateTimeSelection={start:null,end:null},a.formValidity={start_date:!1,end_date:!1,displays:!1},a.tenant=t.tenant,a.no_cache=!0,a.loading=!0,a.disabled=!0,a.disabledTenant=!0,a.selected_displays=[],a.initialize=function(){return e.getAllDisplays(a.tenant).then(function(e){return a.loading=!1,a.displays=e.data.devices,a.displays.length>0?a.had_some_items=!0:a.had_some_items=!1})},a.refreshDisplays=function(){return a.searchText="",a.selectedItem="",a.loading=!0,a.disabled=!0,a.selected_displays=[],e.proofplayCache.removeAll(),a.initialize()},a.addToSelectedDisplays=function(e){if(a.isDisplayValid(e)){a.selected_displays.push(e);var t=a.displays.indexOf(e);a.displays.splice(t,1),a.searchText=""}return a.areDisplaysValid(),a.isDisabled()},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isRadioValid=function(e){return a.formValidity.type=e,a.isDisabled()},a.isDisplayValid=function(e){return!!n(e,a.displays)&&!n(e,a.selected_displays)},a.areDisplaysValid=function(){return a.formValidity.displays=a.selected_displays.length>0,a.isDisabled()},a.isStartDateValid=function(e){return a.formValidity.start_date=e instanceof Date,a.isDisabled()},a.isEndDateValid=function(e){return a.formValidity.end_date=e instanceof Date,a.isDisabled()},a.removeFromSelectedDisplay=function(e){var t=a.selected_displays.indexOf(e);return a.selected_displays.splice(t,1),a.displays.push(e),a.areDisplaysValid(),a.isDisabled()},a.isDisabled=function(){return a.formValidity.start_date&&a.formValidity.end_date&&a.formValidity.displays&&a.formValidity.type?(a.disabled=!1,a["final"]={start_date_unix:moment(a.dateTimeSelection.start).unix(),end_date_unix:moment(a.dateTimeSelection.end).unix(),displays:a.selected_displays,type:a.radioButtonChoices.selection}):a.disabled=!0},a.submit=function(){return"1"===a["final"].type?e.downloadCSVForMultipleDevicesByDate(a["final"].start_date_unix,a["final"].end_date_unix,a["final"].displays,a.tenant):e.downloadCSVForMultipleDevicesSummarized(a["final"].start_date_unix,a["final"].end_date_unix,a["final"].displays,a.tenant)},a.tenants=null,a.currentTenant=a.tenant,a.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return a.tenants=e.data.tenants})},a.submitTenant=function(e){return e!==a.currentTenant?(r.go("proofDetail",{tenant:e}),i.showSuccessToast("Proof of Play reporting set to "+e)):i.showErrorToast("Proof of Play reporting is already set to "+e)},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isSelectionValid=function(e){return n(e,a.tenants)?a.disabledTenant=!1:a.disabledTenant=!0;
},a}function n(e,t){return t.indexOf(e)>=0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiDisplayCtrl=t},674:function(e,exports){"use strict";function t(e,t,r,i){var a=this;return a.radioButtonChoices={group1:"By Device",group2:"By Date",selection:null},a.dateTimeSelection={start:null,end:null},a.formValidity={start_date:!1,end_date:!1,resources:!1},a.tenant=t.tenant,a.no_cache=!0,a.loading=!0,a.disabled=!0,a.disabledTenant=!0,a.selected_resources=[],a.initialize=function(){return e.getAllResources(a.tenant).then(function(e){a.loading=!1,a.full_resource_map=e.data.resources,a.resources=[];for(var t=0;t<e.data.resources.length;t++){var n=e.data.resources[t];a.resources.push(n.resource_name)}return a.resources.length>0?a.had_some_items=!0:a.had_some_items=!1})},a.refreshResources=function(){return a.searchText="",a.selectedItem="",a.loading=!0,a.disabled=!0,a.selected_resources=[],e.proofplayCache.removeAll(),a.initialize()},a.addToSelectedResources=function(e){if(a.isResourceValid(e)){a.selected_resources.push(e);var t=a.resources.indexOf(e);a.resources.splice(t,1),a.searchText=""}return a.areResourcesValid(),a.isDisabled()},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isRadioValid=function(e){return a.formValidity.type=e,a.isDisabled()},a.isResourceValid=function(e){return!!n(e,a.resources)&&!n(e,a.selected_resources)},a.areResourcesValid=function(){return a.formValidity.resources=a.selected_resources.length>0,a.isDisabled()},a.isStartDateValid=function(e){return a.formValidity.start_date=e instanceof Date,a.isDisabled()},a.isEndDateValid=function(e){return a.formValidity.end_date=e instanceof Date,a.isDisabled()},a.removeFromSelectedResource=function(e){var t=a.selected_resources.indexOf(e);return a.selected_resources.splice(t,1),a.resources.push(e),a.areResourcesValid(),a.isDisabled()},a.isDisabled=function(){return a.formValidity.start_date&&a.formValidity.end_date&&a.formValidity.resources&&a.formValidity.type?(a.disabled=!1,a["final"]={start_date_unix:moment(a.dateTimeSelection.start).unix(),end_date_unix:moment(a.dateTimeSelection.end).unix(),resources:a.selected_resources,type:a.radioButtonChoices.selection}):a.disabled=!0},a.submit=function(){for(var t=[],n=0;n<a["final"].resources.length;n++)for(var r=a["final"].resources[n],i=0;i<a.full_resource_map.length;i++){var o=a.full_resource_map[i];o.resource_name===r&&t.push(o.resource_identifier)}return"1"===a["final"].type?e.downloadCSVForMultipleResourcesByDevice(a["final"].start_date_unix,a["final"].end_date_unix,t,a.tenant):e.downloadCSVForMultipleResourcesByDate(a["final"].start_date_unix,a["final"].end_date_unix,t,a.tenant)},a.tenants=null,a.currentTenant=a.tenant,a.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return a.tenants=e.data.tenants})},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isSelectionValid=function(e){return n(e,a.tenants)?a.disabledTenant=!1:a.disabledTenant=!0},a.submitTenant=function(e){return e!==a.currentTenant?(r.go("proofDetail",{tenant:e}),i.showSuccessToast("Proof of Play reporting set to "+e)):i.showErrorToast("Proof of Play reporting is already set to "+e)},a}function n(e,t){return t.indexOf(e)>=0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiResourceCtrl=t},675:function(e,exports){"use strict";function t(e,t,r,i){var a=this;return a.resource={title:"Resource Report"},a.location={title:"Location Report"},a.display={title:"Display Report"},a.chosen_tenant=null,a.tenants=null,a.disabled=!0,a.initialize=function(){return e.getAllTenants().then(function(e){return a.tenants=e.data.tenants})},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isSelectionValid=function(e){return n(e,a.tenants)?a.disabled=!1:a.disabled=!0},a.submitTenant=function(e){if(e)return a.chosen_tenant=e,r.go("proofDetail",{tenant:a.chosen_tenant})},a.refreshTenants=function(){a.tenants=null;var t=e.makeHTTPURL("/retrieve_my_tenants","");return e.proofplayCache.remove(t),a.initialize()},a}function n(e,t){return t.indexOf(e)>=0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayCtrl=t},676:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a);t(597);var s=function(){function e(t){(0,i["default"])(this,e),this.Restangular=t,this.USER_SERVICE="users",this.DISTRIBUTOR_SERVICE="distributors"}return(0,o["default"])(e,[{key:"makeDistributor",value:function(e,t){var n={distributor:e,admin_email:t},r=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/distributors").customPOST(n);return r}},{key:"addUserToDistributor",value:function(e,t,n){var r={user_email:e,distributor:t,distributor_admin:n},i=this.Restangular.oneUrl(this.USER_SERVICE,"/api/v1/users").customPOST(r);return i}},{key:"getUsersOfDistributor",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/analytics/distributors/"+e+"/users").get();return t}},{key:"getAllDistributors",value:function(){var e=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/distributors").get();return e}}],[{key:"adminServiceFactory",value:function(t){return new e(t)}}]),e}();exports["default"]=s,s.adminServiceFactory.$inject=["Restangular"]},682:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=function(){function e(t,n){(0,i["default"])(this,e),this.$q=n,this.SessionsService=t}return(0,o["default"])(e,[{key:"authenticated",value:function(){var e=this.$q.defer(),t=this.SessionsService.getUserKey();return t?e.resolve(!0):e.reject(["authError","sign_in"]),e.promise}},{key:"notAuthenticated",value:function(){var e=this.$q.defer(),t=this.SessionsService.getUserKey();return t?e.reject(["authError","home"]):e.resolve(!0),e.promise}},{key:"isAdminOrDistributorAdmin",value:function(){var e=this.$q.defer(),t=this.SessionsService.getIsAdmin(),n=this.SessionsService.getDistributorsAsAdmin(),r=!1;n&&n.length>0&&(r=!0);var i=this.SessionsService.getUserKey();return i?t||r?e.resolve(!0):e.reject(["authError","home"]):e.reject("sign_in"),e.promise}}],[{key:"authorizationServiceFactory",value:function(t,n){return new e(t,n)}}]),e}();exports["default"]=s,s.authorizationServiceFactory.$inject=["SessionsService","$q"]},683:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a);t(597);var s=function(){function e(t){(0,i["default"])(this,e),this.Restangular=t,this.SERVICE_NAME="devices"}return(0,o["default"])(e,[{key:"reset",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/reset").post();return t}},{key:"contentDelete",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/content-delete").post();return t}},{key:"contentUpdate",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/content-update").post();return t}},{key:"updateDevice",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/refresh-device-representation").post();return t}},{key:"toggleDiagnostics",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/diagnostics").post();return t}},{key:"powerOn",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/power-on").post();return t}},{key:"powerOff",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/power-off").post();return t}},{key:"volume",value:function(e,t){var n={volume:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e).customPOST(n,"commands/volume");return r}},{key:"custom",value:function(e,t){var n={command:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e).customPOST(n,"commands/custom");return r}}],[{key:"commandServiceFactory",value:function(t){return new e(t)}}]),e}();exports["default"]=s,s.commandServiceFactory.$inject=["Restangular"]},684:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=t(371),c=n(s),u=function(){function e(){(0,i["default"])(this,e)}return(0,o["default"])(e,[{key:"convertToMomentIfNotAlready",value:function(e){return c["default"].isMoment(e)?e:(0,c["default"])(new Date(e))}},{key:"createFormattedStartAndEndDateFromToday",value:function(e){var t=(0,c["default"])().format("YYYY-MM-DD"),n=(0,c["default"])(t,"YYYY-MM-DD").format("YYYY-MM-DD hh:mm A"),r=(0,c["default"])(n,"YYYY-MM-DD hh:mm A").add(1,"day").subtract(60,"seconds").format("YYYY-MM-DD hh:mm A"),i=(0,c["default"])().subtract(30,"days").format("YYYY-MM-DD"),a=(0,c["default"])(i,"YYYY-MM-DD").format("YYYY-MM-DD hh:mm A");return[a,r]}},{key:"generateLocalFromUTC",value:function(e){var t=c["default"].utc(e).toDate();return(0,c["default"])(t).format("YYYY-MM-DD hh:mm:ss A")}}],[{key:"datemanipulationServiceFactory",value:function(t){return new e}}]),e}();exports["default"]=u},685:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a);t(597);var s=function(){function e(t,n,r,a,o){(0,i["default"])(this,e),this.$log=t,this.Restangular=n,this.$q=r,this.$http=a,this.$state=o,this.SERVICE_NAME="devices",this.uriBase="v1/devices"}return(0,o["default"])(e,[{key:"getDeviceByMacAddress",value:function(e){var t="api/v1/devices?mac_address="+e;return this.Restangular.oneUrl("api/v1/devices",t).get()}},{key:"getDeviceByKey",value:function(e){var t="api/v1/devices/"+e,n=this.Restangular.oneUrl(this.SERVICE_NAME,t).get();return n}},{key:"retriveFilteredDictionaryValue",value:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];n.push(i[t])}return n}},{key:"executeSearchingPartialSerialByTenant",value:function(e,t,n){var r=this;return this.searchDevicesByPartialSerialByTenant(e,t,n).then(function(e){var t=e.matches,n=!1,i=!1,a=r.convertDevicesArrayToDictionaryObj(t,n,i),o=r.retriveFilteredDictionaryValue(t,"serial");return[o,a]})}},{key:"executeSearchingPartialSerialByDistributor",value:function(e,t,n){var r=this;return this.searchDevicesByPartialSerial(e,t,n).then(function(e){var t=e.matches,i=void 0,a=!1,o=!1;i=n?r.convertDevicesArrayToDictionaryObj(t,a,o):r.convertDevicesArrayToDictionaryObj(t,a,o);var s=r.retriveFilteredDictionaryValue(t,"serial");return[s,i]})}},{key:"executeSearchingPartialMacByTenant",value:function(e,t,n){var r=this;return this.searchDevicesByPartialMacByTenant(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!0),i=r.retriveFilteredDictionaryValue(t,"mac");return[i,n]})}},{key:"executeSearchingPartialMacByDistributor",value:function(e,t,n){var r=this;return this.searchDevicesByPartialMac(e,t,n).then(function(e){var t=e.matches,i=void 0,a=!0,o=!1;i=n?r.convertDevicesArrayToDictionaryObj(t,a,o):r.convertDevicesArrayToDictionaryObj(t,a,o);var s=r.retriveFilteredDictionaryValue(t,"mac");return[s,i]})}},{key:"executeSearchingPartialGCMidByTenant",value:function(e,t,n){var r=this;return this.searchDistributorDevicesByPartialGCMidByTenant(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!1,!0),i=r.retriveFilteredDictionaryValue(t,"gcmid");return[i,n]})}},{key:"executeSearchingPartialGCMidByDistributor",value:function(e,t,n){var r=this;return this.searchDistributorDevicesByPartialGCMid(e,t,n).then(function(e){var t=e.matches,i=void 0;i=n?r.convertDevicesArrayToDictionaryObj(t,!1,!0):r.convertDevicesArrayToDictionaryObj(t,!1,!0);var a=r.retriveFilteredDictionaryValue(t,"gcmid");return[a,i]})}},{key:"rejectedPromise",value:function(){var e=this.$q.defer();return e.reject(),e.promise}},{key:"searchDevices",value:function(e,t,n,r,i,a){var o=this.$q.defer(),s=void 0;return s=e&&e.length>2?"Serial Number"===t?n?this.executeSearchingPartialSerialByTenant(r,e,a):this.executeSearchingPartialSerialByDistributor(i,e,a):"MAC"===t?n?this.executeSearchingPartialMacByTenant(r,e,a):this.executeSearchingPartialMacByDistributor(i,e,a):n?this.executeSearchingPartialGCMidByTenant(r,e,a):this.executeSearchingPartialGCMidByDistributor(i,e,a):this.rejectedPromise(),s.then(function(e){o.resolve({success:!0,devices:e})}),s["catch"](function(e){o.resolve({success:!1,devices:[]})}),o.promise}},{key:"isResourceValid",value:function(e,t,n,r,i,a){var o=void 0,s=void 0,c=void 0,u=this.$q.defer();return e&&e.length>2?(o="MAC"===t,s="Serial Number"===t,c="GCM ID"===t,n?o?u.resolve(this.matchDevicesByFullMacByTenant(r,e,a)):s?u.resolve(this.matchDevicesByFullSerialByTenant(r,e,a)):u.resolve(this.matchDevicesByFullGCMidByTenant(r,e,a)):o?u.resolve(this.matchDevicesByFullMac(i,e,a)):s?u.resolve(this.matchDevicesByFullSerial(i,e,a)):u.resolve(this.matchDevicesByFullGCMid(i,e,a))):u.resolve({is_match:!1}),u.promise}},{key:"convertDevicesArrayToDictionaryObj",value:function(e,t,n){for(var r={},i=0;i<e.length;i++){var a=e[i];t?r[a.mac]=a:n?r[a.gcmid]=a:r[a.serial]=a}return r}},{key:"editItem",value:function(e,t){t||(t=!1),this.$state.go("editDevice",{deviceKey:e.key,tenantKey:e.tenantKey,fromDevices:t})}},{key:"preprateForEditView",value:function(e,t,n,r,i,a){var o=void 0,s=void 0,c=void 0;return o="MAC"===e,s="Serial Number"===e,c="GCM ID"===e,o?this.editItem(r[n]):s?this.editItem(i[n]):this.editItem(a[n])}},{key:"getIssuesByKey",value:function(e,t,n,r,i){r=void 0===r?null:r,i=void 0===i?null:i;var a="/api/v1/devices/"+r+"/"+i+"/"+e+"/issues?start="+t+"&end="+n,o=this.Restangular.oneUrl(this.SERVICE_NAME,a).get();return o}},{key:"getCommandEventsByKey",value:function(e,t,n){t=void 0===t?null:t,n=void 0===n?null:n;var r="/api/v1/player-command-events/"+t+"/"+n+"/"+e,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}},{key:"getDevicesByTenant",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByTenantURL(e,t,n,!1);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getUnmanagedDevicesByTenant",value:function(e,t,n){if(void 0!==e){var r=(this.$q.defer(),this.makeDevicesByTenantURL(e,t,n,!0));return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"searchDevicesByPartialSerialByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_serial="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDevicesByPartialMacByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_mac="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDistributorDevicesByPartialGCMidByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_gcmid="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"matchDevicesByFullSerialByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/match/"+e+"/devices?unmanaged="+n+"&full_serial="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"matchDevicesByFullMacByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/match/"+e+"/devices?unmanaged="+n+"&full_mac="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"matchDevicesByFullGCMidByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/match/"+e+"/devices?unmanaged="+n+"&full_gcmid="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDevicesByPartialSerial",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_serial="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDevicesByPartialMac",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_mac="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDistributorDevicesByPartialGCMid",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_gcmid="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"matchDevicesByFullSerial",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/match/"+e+"/devices?unmanaged="+n+"&full_serial="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"matchDevicesByFullMac",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/match/"+e+"/devices?unmanaged="+n+"&full_mac="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"matchDevicesByFullGCMid",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/match/"+e+"/devices?unmanaged="+n+"&full_gcmid="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"getDevicesByDistributor",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByDistributorURL(e,t,n,!1);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getUnmanagedDevicesByDistributor",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByDistributorURL(e,t,n,!0);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getDevices",value:function(){var e=this.Restangular.all(this.SERVICE_NAME).getList();return e}},{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("devices").post(e);return t}},{key:"delete",value:function(e){var t=this.Restangular.one(this.SERVICE_NAME,e).remove();return t}},{key:"getPanelModels",value:function(){return[{id:"None",displayName:"None"},{id:"Sony-FXD40LX2F",displayName:"Sony FXD40LX2F"},{id:"NEC-LCD4215",displayName:"NEC LCD4215"},{id:"Phillips-BDL5560EL",displayName:"Phillips BDL5560EL"},{id:"Panasonic-TH55LF6U",displayName:"Panasonic TH55LF6U"},{id:"Sharp-PNE521",displayName:"Sharp PNE521"}]}},{key:"getPanelInputs",value:function(){return[{id:"None",parentId:"None"},{id:"HDMI1",parentId:"Sony-FXD40LX2F"},{id:"HDMI2",parentId:"Sony-FXD40LX2F"},{id:"HDMI1",parentId:"Phillips-BDL5560EL"},{id:"HDMI2",parentId:"Phillips-BDL5560EL"},{id:"DVI",parentId:"Phillips-BDL5560EL"},{id:"HDMI1",parentId:"Panasonic-TH55LF6U"},{id:"HDMI2",parentId:"Panasonic-TH55LF6U"},{id:"DVI",parentId:"Panasonic-TH55LF6U"},{id:"HDMI1",parentId:"Sharp-PNE521"},{id:"HDMI2",parentId:"Sharp-PNE521"},{id:"DVI",parentId:"Sharp-PNE521"},{id:"VGA",parentId:"NEC-LCD4215"},{id:"DVI1",parentId:"NEC-LCD4215"}]}},{key:"makeDevicesByDistributorURL",value:function(e,t,n,r){var i="/api/v1/distributors/"+e+"/devices?unmanaged="+r+"&next_cursor="+n+"&prev_cursor="+t;return i}},{key:"makeDevicesByTenantURL",value:function(e,t,n,r){var i="/api/v1/tenants/"+e+"/devices?unmanaged="+r+"&next_cursor="+n+"&prev_cursor="+t;return i}}],[{key:"devicesServiceFactory",value:function(t,n,r,i,a){return new e(t,n,r,i,a)}}]),e}();exports["default"]=s,s.devicesServiceFactory.$inject=["$log","Restangular","$q","$http","$state"]},686:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a);t(597);var s=function(){function e(t,n,r){(0,i["default"])(this,e),this.Restangular=t,this.$state=n,this.SessionsService=r,this.DISTRIBUTOR_SERVICE="distributors"}return(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service(this.DISTRIBUTOR_SERVICE).post(e);return t}},{key:"fetchAll",value:function(){var e=this.Restangular.all(this.DISTRIBUTOR_SERVICE).getList();return e}},{key:"fetchAllByUser",value:function(e){if(e){var t=this.Restangular.one("users",e).doGET(this.DISTRIBUTOR_SERVICE);return t}}},{key:"getByKey",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"api/v1/distributors/"+e).get();return t}},{key:"delete",value:function(e){if(e.key){var t=this.Restangular.one(this.DISTRIBUTOR_SERVICE,e.key).remove();return t}}},{key:"getByName",value:function(e){var t=this.Restangular.all(this.DISTRIBUTOR_SERVICE).getList({distributorName:e});return t}},{key:"getDomainsByKey",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"api/v1/distributors/"+e+"/domains").get();return t}},{key:"switchDistributor",value:function(e){return this.SessionsService.setCurrentDistributorName(e.name),this.SessionsService.setCurrentDistributorKey(e.key),this.$state.go("welcome")}}],[{key:"distributorServiceFactory",value:function(t,n,r){return new e(t,n,r)}}]),e}();exports["default"]=s,s.distributorServiceFactory.$inject=["Restangular","$state","SessionsService"]},687:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=function(){function e(t){(0,i["default"])(this,e),this.Restangular=t}return(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("domains").post(e);return t}},{key:"fetchAllDomains",value:function(){var e=this.Restangular.all("domains").getList();return e}},{key:"getDomainByKey",value:function(e){var t=this.Restangular.oneUrl("domains","api/v1/domains/"+e).get();return t}},{key:"delete",value:function(e){if(void 0!==e.key){var t=this.Restangular.one("domains",e.key).remove();return t}}}],[{key:"domainServiceFactory",value:function(t){return new e(t)}}]),e}();exports["default"]=s,s.domainServiceFactory.$inject=["Restangular"]},688:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=function(){function e(t){(0,i["default"])(this,e),this.Restangular=t}return(0,o["default"])(e,[{key:"getIdentity",value:function(){return this.Restangular.oneUrl("identity").get()}}],[{key:"identityServiceFactory",value:function(t){return new e(t)}}]),e}();exports["default"]=s,s.identityServiceFactory.$inject=["Restangular"]},689:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=function(){function e(t){(0,i["default"])(this,e),this.Restangular=t,this.ENROLLMENT_EVENTS="integration_events/enrollment"}return(0,o["default"])(e,[{key:"getEnrollmentEvents",value:function(e){var t={deviceKey:e};return this.Restangular.all(this.ENROLLMENT_EVENTS).customGET("",t)}}],[{key:"integrationEventsServiceFactory",value:function(t){return new e(t)}}]),e}();exports["default"]=s,s.integrationEventsServiceFactory.$inject=["Restangular"]},690:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=function(){function e(t){(0,i["default"])(this,e),this.Restangular=t}return(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("locations").post(e);return t}},{key:"getLocationsByTenantKey",value:function(e){var t=this.Restangular.oneUrl("tenants","api/v1/tenants/"+e+"/locations").get();return t}},{key:"getLocationsByTenantKeyPaginated",value:function(e,t,n){t=void 0===t?null:t,n=void 0===n?null:n;var r=this.Restangular.oneUrl("tenants","api/v1/tenants/"+e+"/"+t+"/"+n+"/locations").get();return r}},{key:"getLocationByKey",value:function(e){var t=this.Restangular.oneUrl("locations","api/v1/locations/"+e).get();return t}}],[{key:"locationsServiceFactory",value:function(t){return new e(t)}}]),e}();exports["default"]=s,s.$inject=["Restangular"]},691:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=function(){function e(t){(0,i["default"])(this,e),this.ngProgressFactory=t,this.progressBar=this.ngProgressFactory.createInstance()}return(0,o["default"])(e,[{key:"start",value:function(){return this.progressBar.setColor("#00FCFF"),this.progressBar.setHeight("4px"),this.progressBar.start()}},{key:"complete",value:function(){return this.progressBar.complete()}}],[{key:"progressBarServiceFactory",value:function(t){return new e(t)}}]),e}();exports["default"]=s,s.progressBarServiceFactory.$inject=["ngProgressFactory"]},692:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=function(){function e(t,n,r,a,o,s,c){(0,i["default"])(this,e),this.$http=t,this.$q=n,this.$window=r,this.SessionsService=a,this.$stateParams=o,this.$state=s,this.ToastsService=c,this.makeHTTPRequest=this.makeHTTPRequest.bind(this),this.uriBase="proofplay/api/v1"}return(0,o["default"])(e,[{key:"makeHTTPURL",value:function(e,t){return this.uriBase+e+t}},{key:"makeHTTPRequest",value:function(e,t){var n=(this.$q.defer(),this.makeHTTPURL(e,t));return this.$http.get(n)}},{key:"getAllResources",value:function(e){var t=this.makeHTTPRequest("/retrieve_all_resources/",e);return t["catch"](function(e,t){var n=e.status;if(403===n&&(this.ToastsService.showErrorToast("You are not allowed to view this tenant!"),this.$state.go("proof",{})),404===n)return this.ToastsService.showErrorToast("You must select a tenant first!"),this.$state.go("proof",{})}),t.then(function(e){return e})}},{key:"getAllDisplays",value:function(e){return this.makeHTTPRequest("/retrieve_all_displays/",e)}},{key:"getAllLocations",value:function(e){return this.makeHTTPRequest("/retrieve_all_locations/",e)}},{key:"getAllTenants",value:function(){return this.makeHTTPRequest("/retrieve_my_tenants","")}},{key:"downloadCSVForMultipleResourcesByDate",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_resource_by_date/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleResourcesByDevice",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_resource_by_device/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleDevicesSummarized",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_device_summarized/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleDevicesByDate",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_device_by_date/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleLocationsByDevice",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_location_by_device/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleLocationsSummarized",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_location_summarized/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"createFilterFor",value:function(e){return e=angular.lowercase(e),function(t){return t=angular.lowercase(t),0===t.indexOf(e)}}},{key:"querySearch",value:function(e,t){return t?e.filter(this.createFilterFor(t)):e}}],[{key:"proofplayServiceFactory",value:function(t,n,r,i,a,o,s){return new e(t,n,r,i,a,o,s)}}]),e}();exports["default"]=s,s.proofplayServiceFactory.$inject=["$http","$q","$window","SessionsService","$stateParams","$state","ToastsService"]},693:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=function(){function e(t,n,r,a,o,s){(0,i["default"])(this,e),this.$http=t,this.$log=n,this.StorageService=r,this.IdentityService=a,this.Restangular=o,this.$q=s,this.setIdentity=this.setIdentity.bind(this),this.uriBase="v1/sessions"}return(0,o["default"])(e,[{key:"setDistributors",value:function(e){return this.StorageService.set("distributors",e)}},{key:"setDistributorsAsAdmin",value:function(e){return this.StorageService.set("distributorsAsAdmin",e)}},{key:"setIsAdmin",value:function(e){return this.StorageService.set("isAdmin",e)}},{key:"setUserKey",value:function(e){return this.StorageService.set("userKey",e)}},{key:"setUserEmail",value:function(e){return this.StorageService.set("userEmail",e)}},{key:"setCurrentDistributorKey",value:function(e){return this.StorageService.set("currentDistributorKey",e)}},{key:"setCurrentDistributorName",value:function(e){return this.StorageService.set("currentDistributorName",e)}},{key:"getUserKey",value:function(){return this.StorageService.get("userKey")}},{key:"getUserEmail",value:function(){return this.StorageService.get("userEmail")}},{key:"getDistributors",value:function(){return this.StorageService.get("distributors")}},{key:"getCurrentDistributorName",value:function(){return this.StorageService.get("currentDistributorName")}},{key:"getCurrentDistributorKey",value:function(){return this.StorageService.get("currentDistributorKey")}},{key:"getDistributorsAsAdmin",value:function(){return this.StorageService.get("distributorsAsAdmin")}},{key:"getIsAdmin",value:function(){return this.StorageService.get("isAdmin")}},{key:"login",value:function(e){var t=this,n={access_token:_.clone(e.access_token),authuser:_.clone(e.authuser),client_id:_.clone(e.client_id),code:_.clone(e.code),id_token:_.clone(e.id_token),scope:_.clone(e.scope),session_state:_.clone(e.session_state),state:_.clone(e.state),status:_.clone(e.status)};e.email&&e.password&&(n=e);var r=this.$http.post("/login",n);return r.success(function(e){return t.setUserKey(e.user.key),t.setIdentity().then(function(){return e})})}},{key:"setIdentity",value:function(){var e=this,t=this.$q.defer(),n=this.IdentityService.getIdentity();return n.then(function(n){return e.setDistributors(n.distributors),e.setDistributorsAsAdmin(n.distributors_as_admin),e.setCurrentDistributorKey("null"),e.setIsAdmin(n.is_admin),e.setUserEmail(n.email),e.setIsAdmin(n.is_admin),t.resolve()}),t.promise}},{key:"removeUserInfo",value:function(){return this.StorageService.removeAll()}}],[{key:"sessionsServiceFactory",value:function(t,n,r,i,a,o){return new e(t,n,r,i,a,o)}}]),e}();exports["default"]=s,s.sessionsServiceFactory.$inject=["$http","$log","StorageService","IdentityService","Restangular","$q"]},694:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=t(695),c=n(s),u=function(){function e(){(0,i["default"])(this,e)}return(0,o["default"])(e,[{key:"set",value:function(e,t){return c["default"].set(e,t)}},{key:"get",value:function(e){return c["default"].get(e)}},{key:"rm",value:function(e){return c["default"].remove(e)}},{key:"removeAll",value:function(){return c["default"].clear()}}],[{key:"storageServiceFactory",value:function(){return new e}}]),e}();exports["default"]=u},698:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=function(){function e(t,n){(0,i["default"])(this,e),this.Restangular=t,this.SessionsService=n}return(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("tenants").post(e);
return t}},{key:"fetchAllTenants",value:function(){var e=this.Restangular.all("tenants").getList();return e}},{key:"fetchAllTenantsPaginated",value:function(e,t){var n="api/v1/tenants/paginated/"+e+"/"+t,r=this.Restangular.oneUrl("tenants",n).get();return r}},{key:"getTenantByKey",value:function(e){var t="api/v1/tenants/"+e,n=this.Restangular.oneUrl("tenants",t).get();return n}},{key:"delete",value:function(e){if(void 0!==e.key){var t=this.Restangular.one("tenants",e.key).remove();return t}}}],[{key:"tenantsServiceFactory",value:function(t,n){return new e(t,n)}}]),e}();exports["default"]=s,s.tenantsServiceFactory.$inject=["Restangular","SessionsService"]},699:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=function(){function e(t){(0,i["default"])(this,e),this.Restangular=t}return(0,o["default"])(e,[{key:"getUsTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/us").get();return e}},{key:"getAllTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/all").get();return e}},{key:"getCustomTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/custom").get();return e}}],[{key:"timezoneServiceFactory",value:function(t){return new e(t)}}]),e}();exports["default"]=s,s.timezoneServiceFactory.$inject=["Restangular"]},700:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=function(){function e(t){(0,i["default"])(this,e),this.toastr=t}return(0,o["default"])(e,[{key:"showSuccessToast",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"Success!":arguments[1];return this.toastr.success(e,t)}},{key:"showErrorToast",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"Error!":arguments[1];return this.toastr.error(e,t)}},{key:"showInfoToast",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"Information":arguments[1];return this.toastr.info(e,t)}}],[{key:"toastsServiceFactory",value:function(t){return new e(t)}}]),e}();exports["default"]=s,s.toastsServiceFactory.$inject=["toastr"]},701:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(677),i=n(r),a=t(678),o=n(a),s=function(){function e(t){(0,i["default"])(this,e),this.Restangular=t}return(0,o["default"])(e,[{key:"getVersions",value:function(){var e=this.Restangular.oneUrl("versions").get();return e}}],[{key:"versionsServiceFactory",value:function(t){return new e(t)}}]),e}();exports["default"]=s,s.versionsServiceFactory.$inject=["Restangular"]},702:function(e,exports){"use strict";function t(e,t,n,r,i,a,o,s,c){var u=this;return u.gameStopServer=t.host().indexOf("provisioning-gamestop")>-1,u.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,proof_of_play_url:void 0,active:!0},u.selectedDomain=void 0,u.distributorDomains=[],u.timezones=[],u.selectedTimezone="America/Chicago",u.initialize=function(){var e=i.getCustomTimezones();e.then(function(e){return u.timezones=e}),u.currentDistributorKey=c.getCurrentDistributorKey();var t=r.getByKey(u.currentDistributorKey);t.then(function(e){return u.currentTenant.content_manager_base_url=e.content_manager_url,u.currentTenant.content_server_url=e.player_content_url});var n=r.getDomainsByKey(u.currentDistributorKey);return n.then(function(e){return u.distributorDomains=e})},u.onClickSaveButton=function(){s.start(),u.currentTenant.default_timezone=u.selectedTimezone,u.currentTenant.domain_key=u.selectedDomain.key;var e=n.save(u.currentTenant);return e.then(u.onSuccessTenantSave,u.onFailureTenantSave)},u.onSuccessTenantSave=function(){return s.complete(),a.go("tenants")},u.onFailureTenantSave=function(t){return s.complete(),409===t.status?o.show("Oops...","Tenant code unavailable. Please modify tenant name to generate a unique tenant code.","error"):(e.error(t),o.show("Oops...","Unable to save the tenant.","error"))},u.autoGenerateTenantCode=function(){if(!u.currentTenant.key){var e="";return u.currentTenant.name&&(e=u.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),u.currentTenant.tenant_code=e}},u}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantAddCtrl=t},703:function(e,exports){"use strict";function t(e,t,n,r,i,a,o,s,c,u,l,d){var v=this;if(v.gameStopServer=d.host().indexOf("provisioning-gamestop")>-1,v.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,proof_of_play_url:void 0,active:!0},v.selectedDomain=void 0,v.distributorDomains=[],v.timezones=[],v.selectedTimezone="America/Chicago",v.editMode=!!e.tenantKey,v.editMode){var m=t.getTenantByKey(e.tenantKey);m.then(function(e){return v.currentTenant=e,v.onSuccessResolvingTenant(e)})}return v.initialize=function(){var e=r.getCustomTimezones();e.then(function(e){return v.timezones=e}),v.currentDistributorKey=u.getCurrentDistributorKey();var t=i.getDomainsByKey(v.currentDistributorKey);return t.then(function(e){return v.distributorDomains=e})},v.onSuccessResolvingTenant=function(e){v.selectedTimezone=e.default_timezone;var t=n.getDomainByKey(e.domain_key);return t.then(function(e){return v.selectedDomain=e})},v.onClickSaveButton=function(){s.start(),v.currentTenant.default_timezone=v.selectedTimezone,v.currentTenant.domain_key=v.selectedDomain.key;var e=t.save(v.currentTenant);return e.then(v.onSuccessTenantSave,v.onFailureTenantSave)},v.onSuccessTenantSave=function(){return s.complete(),c.showSuccessToast("We saved your tenant information.")},v.onFailureTenantSave=function(e){return s.complete(),409===e.status?o.show("Oops...","Tenant code unavailable. Please modify tenant name to generate a unique tenant code.","error"):o.show("Oops...","Unable to save the tenant.","error")},v.editItem=function(t){return a.go("editDevice",{deviceKey:t.key,tenantKey:e.tenantKey})},v.autoGenerateTenantCode=function(){if(!v.currentTenant.key){var e="";return v.currentTenant.name&&(e=v.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),v.currentTenant.tenant_code=e}},l.tabIndex=0,l.$watch("tabIndex",function(t,n){if(void 0!==t)switch(t){case 0:return a.go("tenantDetails",{tenantKey:e.tenantKey});case 1:return a.go("tenantManagedDevices",{tenantKey:e.tenantKey});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:e.tenantKey});case 3:return a.go("tenantLocations",{tenantKey:e.tenantKey})}}),v}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantDetailsCtrl=t},704:function(e,exports){"use strict";function t(e,t,n,r,i,a,o){var s=this;if(s.location={key:void 0},s.tenantKey=e.tenantKey,s.editMode=!!e.locationKey,s.editMode){var c=n.getLocationByKey(e.locationKey);c.then(function(e){return s.location=e,s.tenantKey=e.tenantKey,s.locationName=e.customerLocationName,s.fetchTenantName(s.tenantKey)})}return s.initialize=function(){if(!s.editMode)return s.fetchTenantName(s.tenantKey),s.location={tenantKey:s.tenantKey,active:!0}},s.onClickSaveButton=function(){a.start();var e=n.save(s.location);return s.editMode?e.then(s.onSuccessUpdatingLocation(s.tenantKey),s.onFailureSavingLocation):e.then(s.onSuccessSavingLocation,s.onFailureSavingLocation)},s.onSuccessSavingLocation=function(){return a.complete(),o.showSuccessToast("We saved your location."),setTimeout(function(){r.go("tenantLocations",{tenantKey:e.tenantKey})},1e3)},s.onSuccessUpdatingLocation=function(e){return a.complete(),o.showSuccessToast("We updated your location."),setTimeout(function(){r.go("tenantLocations",{tenantKey:e})},1e3)},s.onFailureSavingLocation=function(e){return a.complete(),409===e.status?(o.showErrorToast("Location code conflict. Unable to save your location."),i.show("Oops...","Please change your customer location name. Location name must generate a unique location code.","error")):o.showErrorToast("Unable to save your location.")},s.fetchTenantName=function(e){var n=t.getTenantByKey(e);return n.then(function(e){return s.tenantName=e.name})},s.autoGenerateCustomerLocationCode=function(){if(!s.location.key){var e="";return s.location.customerLocationName&&(e=s.location.customerLocationName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),s.location.customerLocationCode=e}},s}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantLocationCtrl=t},705:function(e,exports){"use strict";function t(e,t,n,r,i,a){var o=this;if(o.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},o.tenantDevices=[],o.devicesPrev=null,o.devicesNext=null,o.selectedButton="Serial Number",o.serialDevices={},o.disabled=!0,o.macDevices={},o.editMode=!!t.tenantKey,o.tenantKey=t.tenantKey,o.getManagedDevices=function(e,t,n){i.start();var a=r.getDevicesByTenant(e,t,n);return a.then(function(e){return o.devicesPrev=e.prev_cursor,o.devicesNext=e.next_cursor,o.tenantDevices=e.devices,i.complete()})},o.editItem=function(e){return r.editItem(e)},o.refreshDevices=function(){return o.devicesPrev=null,o.devicesNext=null,o.tenantDevices=null,o.getManagedDevices(o.tenantKey,o.devicesPrev,o.devicesNext)},o.editMode){var s=n.getTenantByKey(o.tenantKey);s.then(function(e){return o.currentTenant=e}),o.getManagedDevices(o.tenantKey,null,null)}return e.tabIndex=1,e.$watch("tabIndex",function(e,t){if(void 0!==e)switch(e){case 0:return a.go("tenantDetails",{tenantKey:o.tenantKey});case 1:return a.go("tenantManagedDevices",{tenantKey:o.tenantKey});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:o.tenantKey});case 3:return a.go("tenantLocations",{tenantKey:o.tenantKey})}}),o.changeRadio=function(){return o.searchText="",o.disabled=!0,o.serialDevices={},o.macDevices={}},o.searchDevices=function(e){var t=!1,n=o.selectedButton,i=!0,a=o.tenantKey;return r.searchDevices(e,n,i,a,o.distributorKey,t).then(function(e){if(e.success){var t=e.devices;return"Serial Number"===n?(o.serialDevices=t[1],t[0]):"MAC"===n?(o.macDevices=t[1],t[0]):(o.gcmidDevices=t[1],t[0])}return[]})},o.paginateCall=function(e){return e?o.getManagedDevices(o.tenantKey,null,o.devicesNext):o.getManagedDevices(o.tenantKey,o.devicesPrev,null)},o.prepareForEditView=function(e){return r.preprateForEditView(o.selectedButton,o.tenantKey,e,o.macDevices,o.serialDevices,o.gcmidDevices)},o.controlOpenButton=function(e){return o.disabled=!e,o.loadingDisabled=!1},o.isResourceValid=function(e){var t=!1,n=!0;return r.isResourceValid(e,o.selectedButton,n,o.tenantKey,o.distributorKey,t).then(function(e){return o.controlOpenButton(e.is_match)})},o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantManagedDevicesCtrl=t},706:function(e,exports){"use strict";function t(e,t,n,r,i,a){var o=this;if(o.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},o.gcmidDevices=[],o.tenantDevices=[],o.devicesPrev=null,o.devicesNext=null,o.selectedButton="MAC",o.serialDevices={},o.disabled=!0,o.macDevices={},o.editMode=!!t.tenantKey,o.tenantKey=t.tenantKey,e.tabIndex=2,e.$watch("tabIndex",function(e,t){if(void 0!==e)switch(e){case 0:return a.go("tenantDetails",{tenantKey:o.tenantKey});case 1:return a.go("tenantManagedDevices",{tenantKey:o.tenantKey});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:o.tenantKey});case 3:return a.go("tenantLocations",{tenantKey:o.tenantKey})}}),o.editItem=function(e){return r.editItem(e)},o.getUnmanagedDevices=function(e,t,n){i.start();var a=r.getUnmanagedDevicesByTenant(e,t,n);return a.then(function(e){return o.devicesPrev=e.prev_cursor,o.devicesNext=e.next_cursor,o.tenantDevices=e.devices,i.complete()})},o.editMode){var s=n.getTenantByKey(o.tenantKey);s.then(function(e){return o.currentTenant=e}),o.getUnmanagedDevices(o.tenantKey,null,null)}return o.refreshDevices=function(){return o.devicesPrev=null,o.devicesNext=null,o.tenantDevices=null,o.getUnmanagedDevices(o.tenantKey,o.devicesPrev,o.devicesNext)},o.changeRadio=function(){return o.searchText="",o.disabled=!0,o.serialDevices={},o.macDevices={}},o.searchDevices=function(e){var t=!0,n=!0;return r.searchDevices(e,o.selectedButton,n,o.tenantKey,o.distributorKey,t).then(function(e){if(e.success){var t=e.devices;return"Serial Number"===o.selectedButton?(o.serialDevices=t[1],t[0]):"MAC"===o.selectedButton?(o.macDevices=t[1],t[0]):(o.gcmidDevices=t[1],t[0])}return[]})},o.paginateCall=function(e){return e?o.getUnmanagedDevices(o.tenantKey,null,o.devicesNext):o.getUnmanagedDevices(o.tenantKey,o.devicesPrev,null)},o.prepareForEditView=function(e){return r.preprateForEditView(o.selectedButton,o.tenantKey,e,o.macDevices,o.serialDevices,o.gcmidDevices)},o.controlOpenButton=function(e){return o.disabled=!e,o.loadingDisabled=!1},o.isResourceValid=function(e){var t=!0,n=!0;return r.isResourceValid(e,o.selectedButton,n,o.tenantKey,o.distributorKey,t).then(function(e){return o.controlOpenButton(e.is_match)})},o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantUnmanagedDevicesCtrl=t},707:function(e,exports){"use strict";function t(e,t,n,r,i){var a=this;return a.tenants=[],a.getTenants=function(e,t){a.offset=t,a.loading=!0,r.start();var i=n.fetchAllTenantsPaginated(e,t);return i.then(function(e){return a.getFetchSuccess(e)},function(e){return a.getFetchFailure(e)})},a.initialize=function(){return a.offset=0,a.getTenants(100,a.offset)},a.getFetchSuccess=function(e){return a.tenants=e.tenants,a.total=e.total,a.is_first_page=e.is_first_page,a.is_last_page=e.is_last_page,r.complete(),a.loading=!1},a.getFetchFailure=function(e){r.complete();var t="Unable to fetch tenants. Error: "+e.status+" "+e.statusText+".";return i.show("Oops...",t,"error")},a.editItem=function(t){return e.go("tenantDetails",{tenantKey:t.key})},a.deleteItem=function(e){var t=function(){var t=n["delete"](e);return t.then(function(){return a.initialize()})};return i.show({title:"Are you sure?",text:"This will permanently remove the tenant from the system.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the tenant!",closeOnConfirm:!0},t)},a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantsCtrl=t},708:function(e,exports){"use strict";function t(e,t,n,r){var i=this;return i.version_data=[],i.loading=!0,i.proceedToSignIn=function(){return t.go("sign_in")},i.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},i.giveOptionToChangeDistributor=function(){var e=n.fetchAllByUser(r.getUserKey());return e.then(function(e){return i.has_multiple_distributors=e.length>1,i.loading=!1})},i.changeDistributor=function(){return t.go("distributor_selection")},i.getVersion=function(){var t=e.getVersions();return t.then(function(e){return i.version_data=e})},i.initialize=function(){return i.identity={key:r.getUserKey(),email:r.getUserEmail(),distributorKey:r.getCurrentDistributorKey(),distributorName:r.getCurrentDistributorName()},i.giveOptionToChangeDistributor(),i.identity.email?i.getVersion():t.go("sign_in")},i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WelcomeCtrl=t},709:function(e,exports){"use strict";function t(e,t,n){return e.state("sign_in",{resolve:{identity:function(e){return e.getIdentity()},notAuthenticated:function(e){return e.notAuthenticated()}},url:"/sign_in",templateUrl:"app/authentication/sign_in.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("signed_out",{url:"/signed_out",resolve:{identity:function(e){return e.getIdentity()},notAuthenticated:function(e){return e.notAuthenticated()}},templateUrl:"app/authentication/signed_out.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("sign_out",{resolve:{identity:function(e){return e.getIdentity()},authenticated:function(e){return e.authenticated()}},url:"/sign_out",templateUrl:"app/authentication/sign_out.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("distributor_selection",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/distributor_selection",templateUrl:"app/distributor/distributor_selector.html",controller:"DistributorSelectorCtrl",controllerAs:"vm"}),e.state("home",{url:"/",templateUrl:"app/welcome/welcome.html",resolve:{identity:function(e){return e.getIdentity()},authenticated:function(e){return e.authenticated()}},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("welcome",{url:"/welcome",templateUrl:"app/welcome/welcome.html",resolve:{identity:function(e){return e.getIdentity()},authenticated:function(e){return e.authenticated()}},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("domains",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/domains",templateUrl:"app/domain/domains-listing.html",controller:"DomainsCtrl",controllerAs:"domainsCtrl",ncyBreadcrumb:{label:"Domains"}}),e.state("addDomain",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/domains/add",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"Add domain",parent:"domains"}}),e.state("editDomain",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/domains/:domainKey",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"{{ domainDetailsCtrl.currentDomain.name }}",parent:"domains"}}),e.state("tenants",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/tenants",templateUrl:"app/tenant/tenants-listing.html",controller:"TenantsCtrl",controllerAs:"tenantsCtrl",ncyBreadcrumb:{label:"Tenants"}}),e.state("addTenant",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/tenants/add",templateUrl:"app/tenant/tenant-add.html",controller:"TenantAddCtrl",controllerAs:"tenantAddCtrl",ncyBreadcrumb:{label:"Add tenant",parent:"tenants"}}),e.state("tenantDetails",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/tenants/:tenantKey/details",templateUrl:"app/tenant/tenant-details.html",controller:"TenantDetailsCtrl",controllerAs:"tenantDetailsCtrl",ncyBreadcrumb:{label:"{{ tenantDetailsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantManagedDevices",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/tenants/:tenantKey/managed",templateUrl:"app/tenant/tenant-managed-devices.html",controller:"TenantManagedDevicesCtrl",controllerAs:"tenantManagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantManagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantUnmanagedDevices",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/tenants/:tenantKey/unmanaged",templateUrl:"app/tenant/tenant-unmanaged-devices.html",controller:"TenantUnmanagedDevicesCtrl",controllerAs:"tenantUnmanagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantUnmanagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantLocations",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/tenants/:tenantKey/locations",templateUrl:"app/tenant/tenant-locations.html",controller:"TenantLocationsCtrl",controllerAs:"tenantLocationsCtrl",ncyBreadcrumb:{label:"{{ tenantLocationsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("editLocation",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/locations/:locationKey",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / {{ tenantLocationCtrl.locationName }}",parent:"tenants"}}),e.state("addLocation",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/tenants/:tenantKey/location",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / Location",parent:"tenants"}}),e.state("devices",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/devices",templateUrl:"app/device/devices-listing.html",controller:"DevicesListingCtrl",controllerAs:"devicesListingCtrl",ncyBreadcrumb:{label:"Devices"}}),e.state("editDevice",{resolve:{identity:function(e){return e.getIdentity()},authenticated:function(e){return e.authenticated()}},url:"/devices/:deviceKey?tenantKey?fromDevices",templateUrl:"app/device/device-detail.html",ncyBreadcrumb:{label:"{{ deviceDetailsCtrl.currentDevice.key }}",parent:"devices"},controller:"DeviceDetailsCtrl","function":function(e,t){e.tenantKey=t.tenantKey},controllerAs:"deviceDetailsCtrl"}),e.state("proof",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/proof",templateUrl:"app/proof/main.html",controller:"ProofOfPlayCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Proof of Play"}}),e.state("proofDetail",{resolve:{authenticated:function(e){return e.authenticated()}},url:"/proof/:tenant",templateUrl:"app/proof/detail.html",controller:"ProofOfPlayCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Proof of Play"}}),e.state("admin",{resolve:{isAdmin:function(e){return e.isAdminOrDistributorAdmin()}},url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Admin"}}),t.otherwise("/sign_in"),n.setBaseUrl("/api/v1"),n.addResponseInterceptor(function(e,t,n,r,i,a){var o=e;return o}),n.setRestangularFields({id:"key"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.routes=t,t.$inject=["$stateProvider","$urlRouterProvider","RestangularProvider"]},710:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.interceptors.push("RequestInterceptor")}function i(e){s["default"].extend(e,{progressBar:!0,closeButton:!0,tapToDismiss:!0,newestOnTop:!0,positionClass:"toast-bottom-left",timeOut:5e3})}function a(e){e.setOptions({prefixStateName:"home",template:"bootstrap3"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addRequestInterceptor=r,exports.toastrConfig=i,exports.breadcrumbProvider=a;var o=t(368),s=n(o);r.$inject=["$httpProvider"],i.$inject=["toastrConfig"],a.$inject=["$breadcrumbProvider"]},711:function(e,exports){"use strict";function t(e,t,n,r,i){"ngInject";var a=function(){var e=n.get("$state");return r.$on("$stateChangeError",function(t,n,r,i,a,o){if("authError"===o[0])return e.go(o[1])})};i(a,500);var o=function(){e.addRequestInterceptor(function(r,i,a,o){var s=n.get("StorageService"),c="6C346588BD4C6D722A1165B43C51C";if(t.host().indexOf("provisioning-gamestop")>-1&&(c="5XZHBF3mOwqJlYAlG1NeeWX0Cb72g"),e.setDefaultHeaders({"Content-Type":"application/json",Accept:"application/json",Authorization:c,"X-Provisioning-User":s.get("userKey"),"X-Provisioning-Distributor":s.get("currentDistributorKey")}),"remove"!==i)return r})};i(o,500)}t.$inject=["Restangular","$location","$injector","$rootScope","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.appRun=t}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXBwLmJ1bmRsZS5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9+L21vbWVudC9sb2NhbGUgXlxcLlxcLy4qJCIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuY3NzPzcyYjIiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC9jb21wb25lbnRzL2FuZ3VsYXJCcmVhZGNydW1iL2FuZ3VsYXJCcmVhZGNydW1iLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2pzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC9jb21wb25lbnRzL2FuZ3VsYXItZGlyZWN0aXZlLmctc2lnbmluL2dvb2dsZS1wbHVzLXNpZ25pbi5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1oLXN3ZWV0YWxlcnQvbmdTd2VldEFsZXJ0Lm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL3Njc3MvdmVuZG9yLnNjc3M/OWUxNiIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL3Njc3MvdmVuZG9yLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC9zY3NzL2luZGV4LnNjc3M/Mzk3ZSIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL3Njc3MvaW5kZXguc2NzcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL2RldmljZS9kZXZpY2UtZGV0YWlsLWNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC9kZXZpY2UvZGV2aWNlLWRldGFpbHMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL2RldmljZS9kZXZpY2VzLWxpc3RpbmcuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL2FkbWluL2FkbWluLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC9hdXRoZW50aWNhdGlvbi9hdXRoZW50aWNhdGlvbi1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvYXBwL2FwcC1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3Itc2VsZWN0b3ItY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9ycy1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvZG9tYWluL2RvbWFpbnMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL2RvbWFpbi9kb21haW4tZGV0YWlscy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvcHJvb2YvbXVsdGktbG9jYXRpb24uY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL3Byb29mL211bHRpLWRpc3BsYXkuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL3Byb29mL211bHRpLXJlc291cmNlLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC9wcm9vZi9wcm9vZi1vZi1wbGF5LmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC9zZXJ2aWNlcy9hZG1pbi5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvc2VydmljZXMvYXV0aG9yaXphdGlvbi5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvc2VydmljZXMvY29tbWFuZHMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL3NlcnZpY2VzL2RhdGVtYW5pcHVsYXRpb24uc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL3NlcnZpY2VzL2RldmljZXMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL3NlcnZpY2VzL2Rpc3RyaWJ1dG9ycy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvc2VydmljZXMvZG9tYWlucy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvc2VydmljZXMvaWRlbnRpdHkuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL3NlcnZpY2VzL2ludGVncmF0aW9uLWV2ZW50cy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvc2VydmljZXMvbG9jYXRpb25zLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC9zZXJ2aWNlcy9wcm9ncmVzc2Jhci5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvc2VydmljZXMvcHJvb2ZwbGF5LnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC9zZXJ2aWNlcy9zZXNzaW9ucy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvc2VydmljZXMvc3RvcmFnZS5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvc2VydmljZXMvdGVuYW50cy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvc2VydmljZXMvdGltZXpvbmVzLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC9zZXJ2aWNlcy90b2FzdHMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL3NlcnZpY2VzL3ZlcnNpb25zLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC90ZW5hbnQvdGVuYW50LWFkZC5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvdGVuYW50L3RlbmFudC1kZXRhaWxzLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9uLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC90ZW5hbnQvdGVuYW50LW1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvdGVuYW50L3RlbmFudC11bm1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvdGVuYW50L3RlbmFudHMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL3dlbGNvbWUvd2VsY29tZS1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL2NsaWVudC9hcHAvYXBwLXJvdXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9jbGllbnQvYXBwL2FwcC1jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50L2FwcC9hcHAtcnVuLmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsIjAiLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIjM2NyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9hbmd1bGFyIiwiX2FuZ3VsYXIyIiwiX2FuZ3VsYXJVaVJvdXRlciIsIl9hbmd1bGFyVWlSb3V0ZXIyIiwiX21vbWVudCIsIl9sb2Rhc2giLCJfbG9kYXNoMiIsIl9kZXZpY2VEZXRhaWxDb21tYW5kIiwiX2RldmljZURldGFpbHMiLCJfZGV2aWNlc0xpc3RpbmciLCJfYWRtaW5Db250cm9sbGVyIiwiX2F1dGhlbnRpY2F0aW9uQ29udHJvbGxlciIsIl9hcHBDb250cm9sbGVyIiwiX2Rpc3RyaWJ1dG9yU2VsZWN0b3JDb250cm9sbGVyIiwiX2Rpc3RyaWJ1dG9yc0NvbnRyb2xsZXIiLCJfZG9tYWlucyIsIl9kb21haW5EZXRhaWxzIiwiX211bHRpTG9jYXRpb24iLCJfbXVsdGlEaXNwbGF5IiwiX211bHRpUmVzb3VyY2UiLCJfcHJvb2ZPZlBsYXkiLCJfYWRtaW4iLCJfYWRtaW4yIiwiX2F1dGhvcml6YXRpb24iLCJfYXV0aG9yaXphdGlvbjIiLCJfY29tbWFuZHMiLCJfY29tbWFuZHMyIiwiX2RhdGVtYW5pcHVsYXRpb24iLCJfZGF0ZW1hbmlwdWxhdGlvbjIiLCJfZGV2aWNlcyIsIl9kZXZpY2VzMiIsIl9kaXN0cmlidXRvcnMiLCJfZGlzdHJpYnV0b3JzMiIsIl9kb21haW5zMiIsIl9kb21haW5zMyIsIl9pZGVudGl0eSIsIl9pZGVudGl0eTIiLCJfaW50ZWdyYXRpb25FdmVudHMiLCJfaW50ZWdyYXRpb25FdmVudHMyIiwiX2xvY2F0aW9ucyIsIl9sb2NhdGlvbnMyIiwiX3Byb2dyZXNzYmFyIiwiX3Byb2dyZXNzYmFyMiIsIl9wcm9vZnBsYXkiLCJfcHJvb2ZwbGF5MiIsIl9zZXNzaW9ucyIsIl9zZXNzaW9uczIiLCJfc3RvcmFnZSIsIl9zdG9yYWdlMiIsIl90ZW5hbnRzIiwiX3RlbmFudHMyIiwiX3RpbWV6b25lcyIsIl90aW1lem9uZXMyIiwiX3RvYXN0cyIsIl90b2FzdHMyIiwiX3ZlcnNpb25zIiwiX3ZlcnNpb25zMiIsIl90ZW5hbnRBZGQiLCJfdGVuYW50RGV0YWlscyIsIl90ZW5hbnRMb2NhdGlvbiIsIl90ZW5hbnRNYW5hZ2VkRGV2aWNlcyIsIl90ZW5hbnRVbm1hbmFnZWREZXZpY2VzIiwiX3RlbmFudHMzIiwiX3dlbGNvbWVDb250cm9sbGVyIiwiX2FwcFJvdXRlcyIsIl9hcHBSdW4iLCJ3aW5kb3ciLCJfIiwiYXBwIiwiZmFjdG9yeSIsInN0b3JhZ2VTZXJ2aWNlRmFjdG9yeSIsImFkbWluU2VydmljZUZhY3RvcnkiLCJhdXRob3JpemF0aW9uU2VydmljZUZhY3RvcnkiLCJjb21tYW5kU2VydmljZUZhY3RvcnkiLCJkYXRlbWFuaXB1bGF0aW9uU2VydmljZUZhY3RvcnkiLCJkZXZpY2VzU2VydmljZUZhY3RvcnkiLCJkaXN0cmlidXRvclNlcnZpY2VGYWN0b3J5IiwiZG9tYWluU2VydmljZUZhY3RvcnkiLCJpZGVudGl0eVNlcnZpY2VGYWN0b3J5IiwiaW50ZWdyYXRpb25FdmVudHNTZXJ2aWNlRmFjdG9yeSIsImxvY2F0aW9uc1NlcnZpY2VGYWN0b3J5IiwicHJvZ3Jlc3NCYXJTZXJ2aWNlRmFjdG9yeSIsInByb29mcGxheVNlcnZpY2VGYWN0b3J5Iiwic2Vzc2lvbnNTZXJ2aWNlRmFjdG9yeSIsInRlbmFudHNTZXJ2aWNlRmFjdG9yeSIsInRpbWV6b25lU2VydmljZUZhY3RvcnkiLCJ0b2FzdHNTZXJ2aWNlRmFjdG9yeSIsInZlcnNpb25zU2VydmljZUZhY3RvcnkiLCJjb250cm9sbGVyIiwiRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybCIsIkRldmljZURldGFpbHNDdHJsIiwiRGV2aWNlc0xpc3RpbmdDdHJsIiwiQWRtaW5DdHJsIiwiQXV0aGVudGljYXRpb25DdHJsIiwiQXBwQ29udHJvbGxlciIsIkRpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsIiwiRGlzdHJpYnV0b3JzQ3RybCIsIkRvbWFpbnNDdHJsIiwiRG9tYWluRGV0YWlsc0N0cmwiLCJQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsIiwiUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsIiwiUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybCIsIlByb29mT2ZQbGF5Q3RybCIsIlRlbmFudEFkZEN0cmwiLCJUZW5hbnREZXRhaWxzQ3RybCIsIlRlbmFudExvY2F0aW9uQ3RybCIsIlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybCIsIlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsIiwiVGVuYW50c0N0cmwiLCJXZWxjb21lQ3RybCIsInJ1biIsImFwcFJ1biIsImNvbmZpZyIsInJvdXRlcyIsIlN0b3JhZ2VTZXJ2aWNlIiwiJGxvY2F0aW9uIiwiaW50ZXJjZXB0b3IiLCJyZXF1ZXN0IiwiZ3MiLCJwcm9kIiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsIkFjY2VwdCIsIkF1dGhvcml6YXRpb24iLCJob3N0IiwiaW5kZXhPZiIsIlgtUHJvdmlzaW9uaW5nLVVzZXIiLCJnZXQiLCJYLVByb3Zpc2lvbmluZy1Vc2VyLUlkZW50aWZpZXIiLCJYLVByb3Zpc2lvbmluZy1EaXN0cmlidXRvciIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiMzczIiwid2VicGFja0NvbnRleHQiLCJyZXEiLCJ3ZWJwYWNrQ29udGV4dFJlc29sdmUiLCJtYXAiLCJFcnJvciIsIi4vYWYiLCIuL2FmLmpzIiwiLi9hciIsIi4vYXItbWEiLCIuL2FyLW1hLmpzIiwiLi9hci1zYSIsIi4vYXItc2EuanMiLCIuL2FyLXRuIiwiLi9hci10bi5qcyIsIi4vYXIuanMiLCIuL2F6IiwiLi9hei5qcyIsIi4vYmUiLCIuL2JlLmpzIiwiLi9iZyIsIi4vYmcuanMiLCIuL2JuIiwiLi9ibi5qcyIsIi4vYm8iLCIuL2JvLmpzIiwiLi9iciIsIi4vYnIuanMiLCIuL2JzIiwiLi9icy5qcyIsIi4vY2EiLCIuL2NhLmpzIiwiLi9jcyIsIi4vY3MuanMiLCIuL2N2IiwiLi9jdi5qcyIsIi4vY3kiLCIuL2N5LmpzIiwiLi9kYSIsIi4vZGEuanMiLCIuL2RlIiwiLi9kZS1hdCIsIi4vZGUtYXQuanMiLCIuL2RlLmpzIiwiLi9kdiIsIi4vZHYuanMiLCIuL2VsIiwiLi9lbC5qcyIsIi4vZW4tYXUiLCIuL2VuLWF1LmpzIiwiLi9lbi1jYSIsIi4vZW4tY2EuanMiLCIuL2VuLWdiIiwiLi9lbi1nYi5qcyIsIi4vZW4taWUiLCIuL2VuLWllLmpzIiwiLi9lbi1ueiIsIi4vZW4tbnouanMiLCIuL2VvIiwiLi9lby5qcyIsIi4vZXMiLCIuL2VzLWRvIiwiLi9lcy1kby5qcyIsIi4vZXMuanMiLCIuL2V0IiwiLi9ldC5qcyIsIi4vZXUiLCIuL2V1LmpzIiwiLi9mYSIsIi4vZmEuanMiLCIuL2ZpIiwiLi9maS5qcyIsIi4vZm8iLCIuL2ZvLmpzIiwiLi9mciIsIi4vZnItY2EiLCIuL2ZyLWNhLmpzIiwiLi9mci1jaCIsIi4vZnItY2guanMiLCIuL2ZyLmpzIiwiLi9meSIsIi4vZnkuanMiLCIuL2dkIiwiLi9nZC5qcyIsIi4vZ2wiLCIuL2dsLmpzIiwiLi9oZSIsIi4vaGUuanMiLCIuL2hpIiwiLi9oaS5qcyIsIi4vaHIiLCIuL2hyLmpzIiwiLi9odSIsIi4vaHUuanMiLCIuL2h5LWFtIiwiLi9oeS1hbS5qcyIsIi4vaWQiLCIuL2lkLmpzIiwiLi9pcyIsIi4vaXMuanMiLCIuL2l0IiwiLi9pdC5qcyIsIi4vamEiLCIuL2phLmpzIiwiLi9qdiIsIi4vanYuanMiLCIuL2thIiwiLi9rYS5qcyIsIi4va2siLCIuL2trLmpzIiwiLi9rbSIsIi4va20uanMiLCIuL2tvIiwiLi9rby5qcyIsIi4va3kiLCIuL2t5LmpzIiwiLi9sYiIsIi4vbGIuanMiLCIuL2xvIiwiLi9sby5qcyIsIi4vbHQiLCIuL2x0LmpzIiwiLi9sdiIsIi4vbHYuanMiLCIuL21lIiwiLi9tZS5qcyIsIi4vbWsiLCIuL21rLmpzIiwiLi9tbCIsIi4vbWwuanMiLCIuL21yIiwiLi9tci5qcyIsIi4vbXMiLCIuL21zLW15IiwiLi9tcy1teS5qcyIsIi4vbXMuanMiLCIuL215IiwiLi9teS5qcyIsIi4vbmIiLCIuL25iLmpzIiwiLi9uZSIsIi4vbmUuanMiLCIuL25sIiwiLi9ubC5qcyIsIi4vbm4iLCIuL25uLmpzIiwiLi9wYS1pbiIsIi4vcGEtaW4uanMiLCIuL3BsIiwiLi9wbC5qcyIsIi4vcHQiLCIuL3B0LWJyIiwiLi9wdC1ici5qcyIsIi4vcHQuanMiLCIuL3JvIiwiLi9yby5qcyIsIi4vcnUiLCIuL3J1LmpzIiwiLi9zZSIsIi4vc2UuanMiLCIuL3NpIiwiLi9zaS5qcyIsIi4vc2siLCIuL3NrLmpzIiwiLi9zbCIsIi4vc2wuanMiLCIuL3NxIiwiLi9zcS5qcyIsIi4vc3IiLCIuL3NyLWN5cmwiLCIuL3NyLWN5cmwuanMiLCIuL3NyLmpzIiwiLi9zcyIsIi4vc3MuanMiLCIuL3N2IiwiLi9zdi5qcyIsIi4vc3ciLCIuL3N3LmpzIiwiLi90YSIsIi4vdGEuanMiLCIuL3RlIiwiLi90ZS5qcyIsIi4vdGgiLCIuL3RoLmpzIiwiLi90bC1waCIsIi4vdGwtcGguanMiLCIuL3RsaCIsIi4vdGxoLmpzIiwiLi90ciIsIi4vdHIuanMiLCIuL3R6bCIsIi4vdHpsLmpzIiwiLi90em0iLCIuL3R6bS1sYXRuIiwiLi90em0tbGF0bi5qcyIsIi4vdHptLmpzIiwiLi91ayIsIi4vdWsuanMiLCIuL3V6IiwiLi91ei5qcyIsIi4vdmkiLCIuL3ZpLmpzIiwiLi94LXBzZXVkbyIsIi4veC1wc2V1ZG8uanMiLCIuL3poLWNuIiwiLi96aC1jbi5qcyIsIi4vemgtdHciLCIuL3poLXR3LmpzIiwia2V5cyIsIk9iamVjdCIsInJlc29sdmUiLCJpZCIsIjUwOSIsImFuZ3VsYXIiLCJzZXJ2aWNlIiwiYSIsImIiLCJjIiwiZCIsImUiLCJ0aGlzIiwiYXV0b1N0eWxlIiwiY291bnQiLCJoZWlnaHQiLCIkc2NvcGUiLCIkbmV3IiwiY29sb3IiLCJwYXJlbnQiLCJmaW5kIiwicHJvZ3Jlc3NiYXJFbCIsImFwcGVuZENoaWxkIiwiZXEiLCJjaGlsZHJlbiIsImNzcyIsImludGVydmFsQ291bnRlcklkIiwic3RhcnQiLCJzaG93IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiaXNOYU4iLCJoaWRlIiwicmVtYWluaW5nIiwiTWF0aCIsInBvdyIsInNxcnQiLCJ1cGRhdGVDb3VudCIsIiQkcGhhc2UiLCIkYXBwbHkiLCJzZXRIZWlnaHQiLCJzZXRDb2xvciIsImFuaW1hdGUiLCJhbmltYXRpb24iLCJjYW5jZWwiLCJzdGF0dXMiLCJzdG9wIiwic2V0IiwicmVzZXQiLCJjb21wbGV0ZSIsInNldFBhcmVudCIsInJlbW92ZUNoaWxkIiwiZ2V0RG9tRWxlbWVudCIsInNldEFic29sdXRlIiwiY3JlYXRlSW5zdGFuY2UiLCJpbnN0YW50aWF0ZSIsImRpcmVjdGl2ZSIsInJlcGxhY2UiLCJyZXN0cmljdCIsImxpbmsiLCIkd2F0Y2giLCJjb3VudGVyIiwidGVtcGxhdGUiLCI1MTAiLCJjb250ZW50IiwibG9jYWxzIiwiNTExIiwiNTEyIiwiX3R5cGVvZjIiLCJfdHlwZW9mMyIsImVxdWFscyIsImxlbmd0aCIsIm1hdGNoIiwic3RhdGUiLCJwYXJhbUV4cHIiLCJmIiwicHJlZml4U3RhdGVOYW1lIiwidGVtcGxhdGVVcmwiLCJpbmNsdWRlQWJzdHJhY3QiLCJzZXRPcHRpb25zIiwiZXh0ZW5kIiwiJGdldCIsImciLCJoIiwiJG9uIiwidGFyZ2V0U2NvcGUiLCJuY3lCcmVhZGNydW1iSWdub3JlIiwiJGlkIiwiaSIsImV4ZWMiLCJuYW1lIiwiaiIsImsiLCJsIiwibSIsIm4iLCJuY3lCcmVhZGNydW1iIiwiZm9yY2UiLCJza2lwIiwiJGV2YWwiLCJuY3lCcmVhZGNydW1iTGluayIsImhyZWYiLCJ1bnNoaWZ0IiwiZ2V0VGVtcGxhdGUiLCJnZXRUZW1wbGF0ZVVybCIsImdldFN0YXRlc0NoYWluIiwiJGN1cnJlbnQiLCJzZWxmIiwiZ2V0TGFzdFN0ZXAiLCIkZ2V0TGFzdFZpZXdTY29wZSIsImJvb3RzdHJhcDIiLCJib290c3RyYXAzIiwic2NvcGUiLCJwb3N0Iiwic3RlcHMiLCJmb3JFYWNoIiwibGFiZWwiLCJuY3lCcmVhZGNydW1iTGFiZWwiLCJjb21waWxlIiwiYXR0ciIsIiRhdHRyIiwibmN5QnJlYWRjcnVtYkxhc3QiLCJodG1sIiwibmN5QnJlYWRjcnVtYlRleHQiLCJuY3lCcmVhZGNydW1iVGV4dFNlcGFyYXRvciIsIm5jeUJyZWFkY3J1bWJDaGFpbiIsImpvaW4iLCJleHByZXNzaW9ucyIsInBhcnRzIiwiaXNGdW5jdGlvbiIsImV4cCIsIiRpbmplY3QiLCJwcm92aWRlciIsIjU4MSIsImpRdWVyeSIsIl9tb21lbnQyIiwibW9tZW50IiwibW9kdWxlTmFtZSIsIlZJRVdfU1RBVEVTIiwiREFURSIsIkhPVVIiLCJNSU5VVEUiLCJlbCIsImVsZW1lbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwibG9jYWxlIiwic2V0RGVmYXVsdExvY2FsZSIsImxvY2FsZVN0cmluZyIsIiRtZERpYWxvZyIsInJlcXVpcmUiLCJjdXJyZW50RGF0ZSIsInRpbWUiLCJkYXRlIiwibWluRGF0ZSIsIm1heERhdGUiLCJzaG9ydFRpbWUiLCJmb3JtYXQiLCJjYW5jZWxUZXh0Iiwib2tUZXh0IiwibGFuZyIsImFtVGV4dCIsInBtVGV4dCIsImF0dHJzIiwibmdNb2RlbCIsImlzT24iLCJpc1N0cmluZyIsIiRmb3JtYXR0ZXJzIiwidmFsdWUiLCJpc1ZhbGlkIiwib24iLCJwcmV2ZW50RGVmYXVsdCIsImJsdXIiLCJvcHRpb25zIiwiaGFzT3duUHJvcGVydHkiLCJpc1VuZGVmaW5lZCIsIlBsdWdpbkNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJvcGVuRnJvbSIsImRvY3VtZW50IiwiYm9keSIsImJpbmRUb0NvbnRyb2xsZXIiLCJkaXNhYmxlUGFyZW50U2Nyb2xsIiwidGhlbiIsInYiLCJfZCIsIm1kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSIsImN1cnJlbnRWaWV3IiwiX2RpYWxvZyIsIl9hdHRhY2hlZEV2ZW50cyIsIlZJRVdTIiwicGFyYW1zIiwid2Vla1N0YXJ0IiwibWVyaWRpZW4iLCJpbml0IiwicHJvdG90eXBlIiwidGltZU1vZGUiLCJkYXRlTW9kZSIsImluaXREYXRlcyIsImN1cnJlbnROZWFyZXN0NU1pbnV0ZSIsIm1pbnV0ZXMiLCJyb3VuZCIsIm1pbnV0ZSIsInRoYXQiLCJfZGF0ZVBhcmFtIiwiaW5wdXQiLCJmYWxsYmFjayIsInJldCIsImlzRGVmaW5lZCIsImlzRGF0ZSIsIngiLCJnZXRUaW1lIiwiX2lzQU1vbWVudE9iamVjdCIsInNlbGVjdERhdGUiLCJpbml0RGF0ZSIsImluaXRIb3VycyIsImluaXRNaW51dGVzIiwiaXNBZnRlck1pbkRhdGUiLCJjaGVja0hvdXIiLCJjaGVja01pbnV0ZSIsIl9yZXR1cm4iLCJfbWluRGF0ZSIsIl9kYXRlIiwiaG91ciIsInNlY29uZCIsIm1pbGxpc2Vjb25kIiwicGFyc2VJbnQiLCJpc0JlZm9yZU1heERhdGUiLCJjaGVja1RpbWUiLCJfbWF4RGF0ZSIsImNhbGVuZGFyU3RhcnQiLCJzZXROYW1lIiwidGV4dCIsInBvc3NpYmxlIiwiY2hhckF0IiwiZmxvb3IiLCJyYW5kb20iLCJpc1BNIiwiaW5jcmVtZW50WWVhciIsImFtb3VudCIsImlzTmV4dFllYXJWaXNpYmxlIiwiYWRkIiwiaXNQcmV2aW91c1llYXJWaXNpYmxlIiwiaXNQcmV2aW91c01vbnRoVmlzaWJsZSIsInN0YXJ0T2YiLCJpc05leHRNb250aFZpc2libGUiLCJlbmRPZiIsImlzSG91ckF2YWlsYWJsZSIsImNvbnZlcnRIb3VycyIsImlzTWludXRlQXZhaWxhYmxlIiwib2siLCJzZWxlY3RNb250aEJlZm9yZSIsInN1YnRyYWN0Iiwic2VsZWN0TW9udGhBZnRlciIsInNlbGVjdFllYXJCZWZvcmUiLCJzZWxlY3RZZWFyQWZ0ZXIiLCJzZWxlY3RBTSIsInNlbGVjdFBNIiwib2tCdG4iLCJZRUFSX01JTiIsIllFQVJfTUFYIiwiTU9OVEhTX0lOX0FMTCIsIklURU1fSEVJR0hUIiwiTU9OVEhTIiwiY3VycmVudE1vbnRoSW5kZXgiLCJ5ZWFyIiwibW9udGgiLCJwaWNrZXIiLCJjYWxlbmRhciIsImRheXMiLCJ0b1N0cmluZyIsIndlZWsiLCJsb3ciLCJoaWdoIiwibW9udGhzIiwic2xpY2UiLCJnZXRJdGVtQXRJbmRleCIsImluZGV4IiwibW9udGhPYmoiLCJnZW5lcmF0ZU1vbnRoQ2FsZW5kYXIiLCJ0b3BJbmRleCIsInZhbDIiLCJ2YWwxIiwibkRhdGUiLCJzdGFydE9mTW9udGgiLCJpTnVtRGF5IiwiZGF5c0luTW9udGgiLCJpV2VlayIsImRheXNJbkFXZWVrIiwiZGF5c1RtcCIsInNsaWNlcyIsImNlaWwiLCJ0b0RheSIsInN1YnN0cmluZyIsImlzSW5SYW5nZSIsImlzU2VsZWN0ZWREYXkiLCIkY29tcGlsZSIsImJ1aWxkQ2FsZW5kYXJDb250ZW50IiwidGJvZHkiLCJxdWVyeVNlbGVjdG9yIiwiY2FsIiwid2Vla0RheXMiLCJ0ciIsIndlZWtEYXkiLCJ0ZCIsImFPclNwYW4iLCJzY29wZVJlZiIsImFkZENsYXNzIiwiYXBwZW5kIiwiaWR4Iiwib2xkSWR4IiwibWludXRlTW9kZSIsIm1vZGUiLCJjb21wb25lbnRSb290IiwiY2xvY2siLCJwaWNrZXJFbCIsInciLCJvZmZzZXRXaWR0aCIsInBsIiwicHIiLCJtbCIsIm1yIiwiY2xvY2tXaWR0aCIsInBMIiwicFQiLCJtTCIsIm1UIiwiciIsInBvaW50cyIsInNpbiIsIlBJIiwieSIsImNvcyIsImxlZnQiLCJ0b3AiLCJkaXNwbGF5Iiwic2V0Q3VycmVudFZhbHVlIiwiY2xvY2tDZW50ZXIiLCJjZW50ZXJXaWR0aCIsImNlbnRlckhlaWdodCIsIm9mZnNldEhlaWdodCIsIl9oTCIsIl9tTCIsIm1hcmdpblRvcCIsImFuaW1hdGVIYW5kcyIsInJvdGF0ZUVsZW1lbnQiLCJtZGciLCJkZWciLCJXZWJraXRUcmFuc2Zvcm0iLCItbW96LXRyYW5zZm9ybSIsImN1cnJlbnRWYWx1ZSIsInRtcCIsIm5ld1ZhbCIsInNldERpc3BsYXlQb2ludHMiLCJjb3B5Iiwic2V0VGltZSIsInZhbCIsInBvaW50QXZhaWxhYmxlIiwicG9pbnQiLCJ1bndhdGNoZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2FsbCIsIjU4MiIsIl9nZXRPd25Qcm9wZXJ0eU5hbWVzIiwiX2dldE93blByb3BlcnR5TmFtZXMyIiwiJHdpbmRvdyIsImVuZGluZyIsInRyYW5zY2x1ZGUiLCJjdHJsIiwibGlua2VyIiwiY2xpZW50aWQiLCJ0ZXN0IiwiJHNldCIsInRoZW1lIiwiZGVmYXVsdHMiLCJjYWxsYmFjayIsImNvb2tpZXBvbGljeSIsInJlcXVlc3R2aXNpYmxlYWN0aW9ucyIsIndpZHRoIiwicHJvcE5hbWUiLCIkb2JzZXJ2ZSIsIl9fX2djZmciLCJwbyIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiYXN5bmMiLCJzcmMiLCJzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwidFNjb3BlIiwib25sb2FkIiwiZ2FwaSIsInNpZ25pbiIsInJlbmRlciIsIiRyb290U2NvcGUiLCJzaWduaW5DYWxsYmFjayIsImF1dGhSZXN1bHQiLCJhY2Nlc3NfdG9rZW4iLCIkYnJvYWRjYXN0IiwiNTg3IiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwidCIsImFwcGx5IiwidW5kZWZpbmVkIiwiYXJndW1lbnRzIiwiaXNTaG93biIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJoYXNDbGFzcyIsIjYyNiIsIjYyNyIsIjYyOCIsIjYyOSIsIjYzMSIsIiRsb2ciLCIkc3RhdGVQYXJhbXMiLCIkc3RhdGUiLCJTZXNzaW9uc1NlcnZpY2UiLCJEZXZpY2VzU2VydmljZSIsIkxvY2F0aW9uc1NlcnZpY2UiLCJDb21tYW5kc1NlcnZpY2UiLCJUaW1lem9uZXNTZXJ2aWNlIiwic3dlZXQiLCJQcm9ncmVzc0JhclNlcnZpY2UiLCJUb2FzdHNTZXJ2aWNlIiwiJHRpbWVvdXQiLCJ2bSIsInRlbmFudEtleSIsImRldmljZUtleSIsImZyb21EZXZpY2VzIiwiY3VycmVudERldmljZSIsImNvbW1hbmRFdmVudHMiLCJnZW5lcmF0ZUxvY2FsRnJvbVVUQyIsIlVUQ1RpbWUiLCJsb2NhbFRpbWUiLCJ1dGMiLCJ0b0RhdGUiLCJyZXBsYWNlQ29tbWFuZFRpbWUiLCJpc3N1ZXMiLCJlYWNoIiwicG9zdGVkVGltZSIsImNvbmZpcm1lZFRpbWUiLCJnZXRFdmVudHMiLCJwcmV2IiwibmV4dCIsImNvbW1hbmRFdmVudHNQcm9taXNlIiwiZ2V0Q29tbWFuZEV2ZW50c0J5S2V5IiwiZGF0YSIsImV2ZW50cyIsImV2ZW50X25leHRfY3Vyc29yIiwibmV4dF9jdXJzb3IiLCJldmVudF9wcmV2X2N1cnNvciIsInByZXZfY3Vyc29yIiwiZ2V0RXZlbnRzVGltZU91dCIsImNvbW1hbmRIaXN0b3J5U2VsZWN0ZWQiLCJwYWdpbmF0ZUV2ZW50Q2FsbCIsImZvcndhcmQiLCJpbml0aWFsaXplIiwiZGV2aWNlUHJvbWlzZSIsImdldERldmljZUJ5S2V5IiwicmVzcG9uc2UiLCJvbkdldERldmljZVN1Y2Nlc3MiLCJvbkdldERldmljZUZhaWx1cmUiLCJ0aW1lem9uZSIsInNlbGVjdGVkVGltZXpvbmUiLCJiYWNrVXJsIiwiYmFja1VybFRleHQiLCJpc1VubWFuYWdlZERldmljZSIsInNob3dFcnJvclRvYXN0IiwiZXJyb3JNZXNzYWdlIiwic3RhdHVzVGV4dCIsImVycm9yIiwiZ28iLCJvblJlc2V0Q29udGVudCIsInByb21pc2UiLCJjb250ZW50RGVsZXRlIiwib25SZXNldENvbnRlbnRTdWNjZXNzIiwib25SZXNldENvbnRlbnRGYWlsdXJlIiwic2hvd1N1Y2Nlc3NUb2FzdCIsIm9uVXBkYXRlQ29udGVudCIsImNvbnRlbnRVcGRhdGUiLCJvblVwZGF0ZUNvbnRlbnRTdWNjZXNzIiwib25VcGRhdGVDb250ZW50RmFpbHVyZSIsIm9uUmVzZXRQbGF5ZXIiLCJvblJlc2V0UGxheWVyU3VjY2VzcyIsIm9uUmVzZXRQbGF5ZXJGYWlsdXJlIiwib25QYW5lbE9uIiwicG93ZXJPbiIsIm9uUGFuZWxPblN1Y2Nlc3MiLCJvblBhbmVsT25GYWlsdXJlIiwib25QYW5lbE9mZiIsInBvd2VyT2ZmIiwib25QYW5lbE9mZlN1Y2Nlc3MiLCJvblBhbmVsT2ZmRmFpbHVyZSIsIm9uVXBkYXRlRGV2aWNlIiwidXBkYXRlRGV2aWNlIiwib25VcGRhdGVEZXZpY2VTdWNjZXNzIiwib25VcGRhdGVEZXZpY2VGYWlsdXJlIiwib25Wb2x1bWVDaGFuZ2UiLCJ2b2x1bWUiLCJvblZvbHVtZUNoYW5nZVN1Y2Nlc3MiLCJvblZvbHVtZUNoYW5nZUZhaWx1cmUiLCJsZXZlbCIsIm9uQ3VzdG9tQ29tbWFuZCIsImN1c3RvbSIsIm9uQ3VzdG9tQ29tbWFuZFN1Y2Nlc3MiLCJvbkN1c3RvbUNvbW1hbmRGYWlsdXJlIiwiY29tbWFuZCIsIm9uRGlhZ25vc3RpY3NUb2dnbGUiLCJ0b2dnbGVEaWFnbm9zdGljcyIsIm9uVG9nZ2xlRGlhZ25vc3RpY3NTdWNjZXNzIiwib25Ub2dnbGVEaWFnbm9zdGljc0ZhaWx1cmUiLCJvblJlc3RhcnQiLCJyZXN0YXJ0Iiwib25SZXN0YXJ0U3VjY2VzcyIsIm9uUmVzdGFydEZhaWx1cmUiLCJvblBvc3RMb2ciLCJwb3N0TG9nIiwib25Qb3N0TG9nU3VjY2VzcyIsIm9uUG9zdExvZ0ZhaWx1cmUiLCJkZWZpbmVQcm9wZXJ0eSIsIjYzMiIsIkludGVncmF0aW9uRXZlbnRzIiwiRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UiLCJsb2NhdGlvbnMiLCJkYXlSYW5nZSIsInRpbWV6b25lcyIsIl9EYXRlTWFuaXB1bGF0aW9uU2VydiIsImNyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheSIsIl9EYXRlTWFuaXB1bGF0aW9uU2VydjIiLCJfc2xpY2VkVG9BcnJheTMiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiZW5yb2xsbWVudEV2ZW50cyIsInJlcGxhY2VJc3N1ZVRpbWUiLCJjcmVhdGVkIiwidXBkYXRlZCIsImNvcHlEZXZpY2VLZXkiLCJjb3B5Q29ycmVsYXRpb25JZGVudGlmaWVyIiwiZ2V0SXNzdWVzIiwiZGV2aWNlIiwiZXBvY2hTdGFydCIsImVwb2NoRW5kIiwiaXNzdWVzUHJvbWlzZSIsImdldElzc3Vlc0J5S2V5IiwiZ2V0RW5yb2xsbWVudEV2ZW50cyIsInBhZ2luYXRlQ2FsbCIsInVuaXgiLCJ0aW1lem9uZVByb21pc2UiLCJnZXRDdXN0b21UaW1lem9uZXMiLCJwYW5lbE1vZGVscyIsImdldFBhbmVsTW9kZWxzIiwicGFuZWxJbnB1dHMiLCJnZXRQYW5lbElucHV0cyIsImxvY2F0aW9uc1Byb21pc2UiLCJnZXRMb2NhdGlvbnNCeVRlbmFudEtleSIsInNldFNlbGVjdGVkT3B0aW9ucyIsInBhbmVsTW9kZWwiLCJwYW5lbElucHV0IiwiaXNQYXJlbnQiLCJwYXJlbnRJZCIsInRvTG93ZXJDYXNlIiwibG9jYXRpb25LZXkiLCJsb2NhdGlvbiIsImtleSIsIm9uU2F2ZURldmljZSIsInBhbmVsTW9kZWxOdW1iZXIiLCJwYW5lbFNlcmlhbElucHV0Iiwic2F2ZSIsIm9uU3VjY2Vzc0RldmljZVNhdmUiLCJvbkZhaWx1cmVEZXZpY2VTYXZlIiwiaW5mbyIsImNvbmZpcm1EZXZpY2VEZWxldGUiLCJldmVudCIsImNvbmZpcm0iLCJ0aXRsZSIsInRleHRDb250ZW50IiwidGFyZ2V0RXZlbnQiLCJzaG93UHJvbWlzZSIsInN1Y2Nlc3MiLCJvbkNvbmZpcm1EZWxldGUiLCJmYWlsdXJlIiwib25Db25maXJtQ2FuY2VsIiwiZnJpZW5kbHlNZXNzYWdlIiwiZGVsZXRlUHJvbWlzZSIsInNob3dJbmZvVG9hc3QiLCJvblByb29mT2ZQbGF5TG9nZ2luZ0NoZWNrIiwicHJvb2ZPZlBsYXlMb2dnaW5nIiwibm9Mb2NhdGlvbiIsIm5vRGlzcGxheUNvZGUiLCJjdXN0b21lckRpc3BsYXlDb2RlIiwib25VcGRhdGVMb2NhdGlvbiIsImF1dG9HZW5lcmF0ZUN1c3RvbWVyRGlzcGxheUNvZGUiLCJuZXdEaXNwbGF5Q29kZSIsImN1c3RvbWVyRGlzcGxheU5hbWUiLCJsb2dnbHlGb3JVc2VyIiwidXNlckRvbWFpbiIsImdldFVzZXJFbWFpbCIsInNwbGl0Iiwib25DbGlja1JlZnJlc2hCdXR0b24iLCJjb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkiLCJvblJlZnJlc2hJc3N1ZXNTdWNjZXNzIiwib25SZWZyZXNoSXNzdWVzRmFpbHVyZSIsIl9zbGljZWRUb0FycmF5MiIsIjY0MiIsImRpc3RyaWJ1dG9yS2V5IiwiZGV2aWNlcyIsImRldmljZXNQcmV2IiwiZGV2aWNlc05leHQiLCJzZWxlY3RlZEJ1dHRvbiIsInNlcmlhbERldmljZXMiLCJkaXNhYmxlZCIsIm1hY0RldmljZXMiLCJnY21pZERldmljZXMiLCJ1bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiIsInVubWFuYWdlZFNlcmlhbERldmljZXMiLCJ1bm1hbmFnZWREaXNhYmxlZCIsInVubWFuYWdlZERldmljZXNQcmV2IiwidW5tYW5hZ2VkRGV2aWNlc05leHQiLCJ1bm1hbmFnZWREZXZpY2VzIiwidW5tYW5hZ2VkTWFjRGV2aWNlcyIsInVubWFuYWdlZEdDTWlkRGV2aWNlcyIsInJlZnJlc2hNYW5hZ2VkRGV2aWNlcyIsImdldE1hbmFnZWREZXZpY2VzIiwicmVmcmVzaFVubWFuYWdlZERldmljZXMiLCJnZXRVbm1hbmFnZWREZXZpY2VzIiwiY2hhbmdlUmFkaW8iLCJ1bm1hbmFnZWQiLCJ1bm1hbmFnZWRTZWFyY2hUZXh0Iiwic2VhcmNoVGV4dCIsImVkaXRJdGVtIiwiaXRlbSIsInByZXBhcmVGb3JFZGl0VmlldyIsIm1hYyIsInNlcmlhbCIsImdjbWlkIiwiY29udHJvbE9wZW5CdXR0b24iLCJpc01hdGNoIiwidW5tYW5hZ2VkRGlzYWJsZWRCdXR0b25Mb2FkaW5nIiwiZGlzYWJsZWRCdXR0b25Mb2FkaW5nIiwiaXNSZXNvdXJjZVZhbGlkIiwicmVzb3VyY2UiLCJieVRlbmFudCIsImJ1dHRvbiIsInJlcyIsInNlYXJjaERldmljZXMiLCJwYXJ0aWFsIiwiZGV2aWNlc1Byb21pc2UiLCJnZXREZXZpY2VzQnlEaXN0cmlidXRvciIsImdldEZldGNoU3VjY2VzcyIsImdldEZldGNoRmFpbHVyZSIsInVubWFuYWdlZERldmljZXNQcm9taXNlIiwiZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5RGlzdHJpYnV0b3IiLCJnZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkiLCJtYW5hZ2VkIiwiNjQzIiwiQWRtaW5TZXJ2aWNlIiwiRGlzdHJpYnV0b3JzU2VydmljZSIsImdldEFsbERpc3RyaWJ1dG9ycyIsImxvYWRpbmdBbGxEaXN0cmlidXRvcnMiLCJnZXRBbGxEaXN0cmlidXRvcnNQcm9taXNlIiwiYWxsRGlzdHJpYnV0b3JzIiwiYWRkVXNlclRvRGlzdHJpYnV0b3IiLCJldiIsInVzZXJFbWFpbCIsImRpc3RyaWJ1dG9yQWRtaW4iLCJ3aGljaERpc3RyaWJ1dG9yIiwiZm9ybSIsIndpdGhPcldpdGhvdXQiLCJkaXN0cmlidXRvcnNBc0FkbWluIiwiYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlIiwibWVzc2FnZSIsInVzZXIiLCIkc2V0UHJpc3RpbmUiLCIkc2V0VW50b3VjaGVkIiwic2V0VGltZW91dCIsImdldFVzZXJzT2ZEaXN0cmlidXRvciIsIm1ha2VEaXN0cmlidXRvciIsImRpc3RyaWJ1dG9yTmFtZSIsImFkbWluRW1haWwiLCJhcmlhTGFiZWwiLCJtYWtlRGlzdHJpYnV0b3JQcm9taXNlIiwiZGlzdHJpYnV0b3IiLCJsb2FkaW5nVXNlcnNPZkRpc3RyaWJ1dG9yIiwiY3VycmVudERpc3RyaWJ1dG9yS2V5IiwidXNlcnNvZkRpc3RyaWJ1dG9yUHJvbWlzZSIsInVzZXJzT2ZEaXN0cmlidXRvciIsInN3aXRjaERpc3RyaWJ1dG9yIiwiaXNBZG1pbiIsImdldElzQWRtaW4iLCJnZXREaXN0cmlidXRvcnNBc0FkbWluIiwiY3VycmVudERpc3RyaWJ1dG9yTmFtZSIsImdldEN1cnJlbnREaXN0cmlidXRvck5hbWUiLCI2NDQiLCJpZGVudGl0eSIsIlByb29mUGxheVNlcnZpY2UiLCJUZW5hbnRzU2VydmljZSIsIm9uR29vZ2xlUGx1c1NpZ25JblN1Y2Nlc3MiLCJnb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCIsInJlbW92ZVVzZXJJbmZvIiwibG9naW4iLCJsb2dpblN1Y2Nlc3MiLCJsb2dpbkZhaWx1cmUiLCJvbkdvb2dsZVBsdXNTaWduSW5GYWlsdXJlIiwiaW5pdGlhbGl6ZVNpZ25JbiIsImNsaWVudElkIiwiT0FVVEhfQ0xJRU5UX0lEIiwiU1RBVEUiLCJpbml0aWFsaXplU2lnbk91dCIsInByb2NlZWRUb1NpZ25lZE91dCIsInByb2NlZWRUb1NpZ25JbiIsIm9uQ2xpY2tHb29nbGVQbHVzU2lnbkluIiwiNjQ1IiwiJG1kU2lkZW5hdiIsImN1cnJlbnREaXN0cmlidXRlckluRGlzdHJpYnV0ZXJBZG1pbkxpc3QiLCJnZXRVc2VyS2V5IiwiZW1haWwiLCJhZG1pbiIsImRpc3RyaWJ1dG9yX2FkbWluIiwiYWRtaW5fb2ZfY3VycmVudF9kaXN0cmlidXRvciIsImdldElkZW50aXR5IiwiaXNDdXJyZW50VVJMRGlzdHJpYnV0b3JTZWxlY3RvciIsInNlYXJjaCIsInJlc3VsdCIsInRvZ2dsZVNpZGVuYXYiLCJ0b2dnbGUiLCJnb1RvIiwic3RhdGVOYW1lIiwiaXNPcGVuIiwiY2xvc2UiLCI2NjgiLCJkaXN0cmlidXRvcnMiLCJjdXJyZW50RGlzdHJpYnV0b3IiLCJsb2FkaW5nIiwiZGlzdHJpYnV0b3JzUHJvbWlzZSIsImZldGNoQWxsQnlVc2VyIiwic2VsZWN0RGlzdHJpYnV0b3IiLCI2NjkiLCI2NzAiLCJEb21haW5zU2VydmljZSIsImRvbWFpbnMiLCJmZXRjaEFsbERvbWFpbnMiLCJkb21haW5LZXkiLCJkZWxldGVJdGVtIiwic2hvd0NhbmNlbEJ1dHRvbiIsImNvbmZpcm1CdXR0b25Db2xvciIsImNvbmZpcm1CdXR0b25UZXh0IiwiY2xvc2VPbkNvbmZpcm0iLCI2NzEiLCJjdXJyZW50RG9tYWluIiwiaW1wZXJzb25hdGlvbl9hZG1pbl9lbWFpbF9hZGRyZXNzIiwiZGlzdHJpYnV0b3Jfa2V5IiwiYWN0aXZlIiwiY3VycmVudERvbWFpbnMiLCJlZGl0TW9kZSIsImRvbWFpblByb21pc2UiLCJnZXREb21haW5CeUtleSIsIm9uU2F2ZURvbWFpbiIsIm9uU3VjY2Vzc1NhdmVEb21haW4iLCJvbkZhaWx1cmVTYXZlRG9tYWluIiwiNjcyIiwicmFkaW9CdXR0b25DaG9pY2VzIiwiZ3JvdXAxIiwiZ3JvdXAyIiwic2VsZWN0aW9uIiwiZGF0ZVRpbWVTZWxlY3Rpb24iLCJlbmQiLCJmb3JtVmFsaWRpdHkiLCJzdGFydF9kYXRlIiwiZW5kX2RhdGUiLCJ0ZW5hbnQiLCJub19jYWNoZSIsImRpc2FibGVkVGVuYW50Iiwic2VsZWN0ZWRfbG9jYXRpb25zIiwiZ2V0QWxsTG9jYXRpb25zIiwiaGFkX3NvbWVfaXRlbXMiLCJyZWZyZXNoTG9jYXRpb25zIiwic2VsZWN0ZWRJdGVtIiwicHJvb2ZwbGF5Q2FjaGUiLCJyZW1vdmVBbGwiLCJhZGRUb1NlbGVjdGVkTG9jYXRpb25zIiwiaXNMb2NhdGlvblZhbGlkIiwic3BsaWNlIiwiYXJlTG9jYXRpb25zVmFsaWQiLCJpc0Rpc2FibGVkIiwicXVlcnlTZWFyY2giLCJpc1JhZGlvVmFsaWQiLCJfX2luX18iLCJpc1N0YXJ0RGF0ZVZhbGlkIiwiRGF0ZSIsImlzRW5kRGF0ZVZhbGlkIiwicmVtb3ZlRnJvbVNlbGVjdGVkTG9jYXRpb24iLCJzdGFydF9kYXRlX3VuaXgiLCJlbmRfZGF0ZV91bml4Iiwic3VibWl0IiwiZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlIiwiZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQiLCJ0ZW5hbnRzIiwiY3VycmVudFRlbmFudCIsImluaXRpYWxpemVfdGVuYW50X3NlbGVjdCIsImdldEFsbFRlbmFudHMiLCJyZXNvdXJjZXMiLCJpc1NlbGVjdGlvblZhbGlkIiwic3VibWl0VGVuYW50IiwibmVlZGxlIiwiaGF5c3RhY2siLCI2NzMiLCJkaXNwbGF5cyIsInNlbGVjdGVkX2Rpc3BsYXlzIiwiZ2V0QWxsRGlzcGxheXMiLCJyZWZyZXNoRGlzcGxheXMiLCJhZGRUb1NlbGVjdGVkRGlzcGxheXMiLCJpc0Rpc3BsYXlWYWxpZCIsImFyZURpc3BsYXlzVmFsaWQiLCJyZW1vdmVGcm9tU2VsZWN0ZWREaXNwbGF5IiwiZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNCeURhdGUiLCJkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQiLCI2NzQiLCJzZWxlY3RlZF9yZXNvdXJjZXMiLCJnZXRBbGxSZXNvdXJjZXMiLCJmdWxsX3Jlc291cmNlX21hcCIsInJlc291cmNlX25hbWUiLCJyZWZyZXNoUmVzb3VyY2VzIiwiYWRkVG9TZWxlY3RlZFJlc291cmNlcyIsImFyZVJlc291cmNlc1ZhbGlkIiwicmVtb3ZlRnJvbVNlbGVjdGVkUmVzb3VyY2UiLCJyZXNvdXJjZXNfYXNfaWRzIiwiZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGV2aWNlIiwiZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZSIsIjY3NSIsImNob3Nlbl90ZW5hbnQiLCJyZWZyZXNoVGVuYW50cyIsInVybCIsIm1ha2VIVFRQVVJMIiwicmVtb3ZlIiwiNjc2IiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9jbGFzc0NhbGxDaGVjazMiLCJfY3JlYXRlQ2xhc3MyIiwiX2NyZWF0ZUNsYXNzMyIsIlJlc3Rhbmd1bGFyIiwiVVNFUl9TRVJWSUNFIiwiRElTVFJJQlVUT1JfU0VSVklDRSIsImFkbWluX2VtYWlsIiwicGF5bG9hZCIsIm9uZVVybCIsImN1c3RvbVBPU1QiLCJ1c2VyX2VtYWlsIiwiNjgyIiwiQXV0aG9yaXphdGlvblNlcnZpY2UiLCIkcSIsImRlZmVycmVkIiwiZGVmZXIiLCJ1c2VyS2V5IiwicmVqZWN0IiwiaGFzQXRMZWFzdE9uZURpc3RyaWJ1dG9yQWRtaW4iLCI2ODMiLCJTRVJWSUNFX05BTUUiLCJfdm9sdW1lIiwiNjg0IiwiaXNNb21lbnQiLCJkYXlzQmFjayIsInN0YXJ0VGltZU1pZE5pZ2h0Iiwic3RhcnRUaW1lRW5kT2ZEYXkiLCJlbmRUaW1lTWlkTmlnaHQiLCI2ODUiLCIkaHR0cCIsInVyaUJhc2UiLCJtYWNBZGRyZXNzIiwiZGljdGlvbmFyeSIsInJlc3VsdHMiLCJwYXJ0aWFsU2VhcmNoIiwiX3RoaXMiLCJzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsQnlUZW5hbnQiLCJpc01hYyIsImlzR0NNaWQiLCJzZXJpYWxEZXZpY2VzRGljdCIsImNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoiLCJkZXZpY2VTZXJpYWxzT25seSIsInJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZSIsIl90aGlzMiIsInNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWwiLCJzZXJpYWxEZXZpY2VzT25seSIsIl90aGlzMyIsInNlYXJjaERldmljZXNCeVBhcnRpYWxNYWNCeVRlbmFudCIsIm1hY0RldmljZXNEaWN0IiwiZGV2aWNlTWFjc09ubHkiLCJfdGhpczQiLCJzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjIiwiX3RoaXM1Iiwic2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCIsImdjbWlkRGV2aWNlc0RpY3QiLCJnY21pZERldmljZXNPbmx5IiwiX3RoaXM2Iiwic2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQiLCJHQ01pZERldmljZXNEaWN0IiwiZGV2aWNlRGVmZXJyZWQiLCJleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5VGVuYW50IiwiZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeURpc3RyaWJ1dG9yIiwiZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvciIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeVRlbmFudCIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeURpc3RyaWJ1dG9yIiwicmVqZWN0ZWRQcm9taXNlIiwiZGV2aWNlc1Jlc3VsdCIsIm1hdGNoRGV2aWNlc0J5RnVsbE1hY0J5VGVuYW50IiwibWF0Y2hEZXZpY2VzQnlGdWxsU2VyaWFsQnlUZW5hbnQiLCJtYXRjaERldmljZXNCeUZ1bGxHQ01pZEJ5VGVuYW50IiwibWF0Y2hEZXZpY2VzQnlGdWxsTWFjIiwibWF0Y2hEZXZpY2VzQnlGdWxsU2VyaWFsIiwibWF0Y2hEZXZpY2VzQnlGdWxsR0NNaWQiLCJpc19tYXRjaCIsInRoZUFycmF5IiwiZ2NtIiwic3RhcnRFcG9jaCIsImVuZEVwb2NoIiwibWFrZURldmljZXNCeVRlbmFudFVSTCIsInBhcnRpYWxfc2VyaWFsIiwicGFydGlhbF9tYWMiLCJwYXJ0aWFsX2djbWlkIiwiZnVsbF9zZXJpYWwiLCJmdWxsX21hYyIsImZ1bGxfZ2NtaWQiLCJtYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwiLCJhbGwiLCJnZXRMaXN0IiwicHV0Iiwib25lIiwiZGlzcGxheU5hbWUiLCI2ODYiLCJkb0dFVCIsImVudGl0eSIsInNldEN1cnJlbnREaXN0cmlidXRvck5hbWUiLCJzZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkiLCI2ODciLCJkb21haW4iLCI2ODgiLCJJZGVudGl0eVNlcnZpY2UiLCI2ODkiLCJFTlJPTExNRU5UX0VWRU5UUyIsInF1ZXJ5IiwiY3VzdG9tR0VUIiwiNjkwIiwiNjkxIiwibmdQcm9ncmVzc0ZhY3RvcnkiLCJwcm9ncmVzc0JhciIsIjY5MiIsIm1ha2VIVFRQUmVxdWVzdCIsImJpbmQiLCJ3aGVyZV90b19nbyIsImVyciIsImFsbFJlc291cmNlcyIsIm9wZW4iLCJhbGxEZXZpY2VzIiwiYWxsTG9jYXRpb25zIiwibG93ZXJjYXNlIiwiZmlsdGVyIiwiY3JlYXRlRmlsdGVyRm9yIiwiNjkzIiwic2V0SWRlbnRpdHkiLCJjcmVkZW50aWFscyIsImF1dGhlbnRpY2F0aW9uUGF5bG9hZCIsImNsb25lIiwiYXV0aHVzZXIiLCJjbGllbnRfaWQiLCJjb2RlIiwiaWRfdG9rZW4iLCJzZXNzaW9uX3N0YXRlIiwicGFzc3dvcmQiLCJzZXRVc2VyS2V5IiwiaWRlbnRpdHlQcm9taXNlIiwic2V0RGlzdHJpYnV0b3JzIiwic2V0RGlzdHJpYnV0b3JzQXNBZG1pbiIsInNldElzQWRtaW4iLCJzZXRVc2VyRW1haWwiLCI2OTQiLCJfbG9jYWxTdG9yYWdlIiwiX2xvY2FsU3RvcmFnZTIiLCJjbGVhciIsIjY5OCIsInBhZ2Vfc2l6ZSIsIm9mZnNldCIsIjY5OSIsIjcwMCIsInRvYXN0ciIsIjcwMSIsIlZlcnNpb25zU2VydmljZSIsIjcwMiIsImdhbWVTdG9wU2VydmVyIiwidGVuYW50X2NvZGUiLCJjb250ZW50X3NlcnZlcl91cmwiLCJjb250ZW50X21hbmFnZXJfYmFzZV91cmwiLCJkb21haW5fa2V5Iiwibm90aWZpY2F0aW9uX2VtYWlscyIsInByb29mX29mX3BsYXlfbG9nZ2luZyIsInByb29mX29mX3BsYXlfdXJsIiwic2VsZWN0ZWREb21haW4iLCJkaXN0cmlidXRvckRvbWFpbnMiLCJkaXN0cmlidXRvclByb21pc2UiLCJnZXRCeUtleSIsImNvbnRlbnRfbWFuYWdlcl91cmwiLCJwbGF5ZXJfY29udGVudF91cmwiLCJkaXN0cmlidXRvckRvbWFpblByb21pc2UiLCJnZXREb21haW5zQnlLZXkiLCJvbkNsaWNrU2F2ZUJ1dHRvbiIsImRlZmF1bHRfdGltZXpvbmUiLCJvblN1Y2Nlc3NUZW5hbnRTYXZlIiwib25GYWlsdXJlVGVuYW50U2F2ZSIsImVycm9yT2JqZWN0IiwiYXV0b0dlbmVyYXRlVGVuYW50Q29kZSIsIm5ld1RlbmFudENvZGUiLCI3MDMiLCJ0ZW5hbnRQcm9taXNlIiwiZ2V0VGVuYW50QnlLZXkiLCJvblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQiLCJ0YWJJbmRleCIsInRvVGFiIiwiZnJvbVRhYiIsIjcwNCIsImxvY2F0aW9uUHJvbWlzZSIsImdldExvY2F0aW9uQnlLZXkiLCJsb2NhdGlvbk5hbWUiLCJjdXN0b21lckxvY2F0aW9uTmFtZSIsImZldGNoVGVuYW50TmFtZSIsIm9uU3VjY2Vzc1VwZGF0aW5nTG9jYXRpb24iLCJvbkZhaWx1cmVTYXZpbmdMb2NhdGlvbiIsIm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uIiwidGVuYW50X2tleSIsInRlbmFudE5hbWUiLCJhdXRvR2VuZXJhdGVDdXN0b21lckxvY2F0aW9uQ29kZSIsIm5ld0N1c3RvbWVyTG9jYXRpb25Db2RlIiwiY3VzdG9tZXJMb2NhdGlvbkNvZGUiLCI3MDUiLCJ0ZW5hbnREZXZpY2VzIiwiZ2V0RGV2aWNlc0J5VGVuYW50IiwicmVmcmVzaERldmljZXMiLCJwcmVwcmF0ZUZvckVkaXRWaWV3IiwibG9hZGluZ0Rpc2FibGVkIiwiNzA2IiwiZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5VGVuYW50IiwiNzA3IiwiZ2V0VGVuYW50cyIsImZldGNoQWxsVGVuYW50c1BhZ2luYXRlZCIsInRvdGFsIiwiaXNfZmlyc3RfcGFnZSIsImlzX2xhc3RfcGFnZSIsIjcwOCIsInZlcnNpb25fZGF0YSIsImNhcGl0YWxpemVGaXJzdExldHRlciIsInN0cmluZyIsInRvVXBwZXJDYXNlIiwiZ2l2ZU9wdGlvblRvQ2hhbmdlRGlzdHJpYnV0b3IiLCJoYXNfbXVsdGlwbGVfZGlzdHJpYnV0b3JzIiwiY2hhbmdlRGlzdHJpYnV0b3IiLCJnZXRWZXJzaW9uIiwiZ2V0VmVyc2lvbnMiLCI3MDkiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIlJlc3Rhbmd1bGFyUHJvdmlkZXIiLCJub3RBdXRoZW50aWNhdGVkIiwiYXV0aGVudGljYXRlZCIsImZ1bmN0aW9uIiwiaXNBZG1pbk9yRGlzdHJpYnV0b3JBZG1pbiIsIm90aGVyd2lzZSIsInNldEJhc2VVcmwiLCJhZGRSZXNwb25zZUludGVyY2VwdG9yIiwib3BlcmF0aW9uIiwicmVzb3VyY2VUeXBlIiwic2V0UmVzdGFuZ3VsYXJGaWVsZHMiLCI3MTAiLCJhZGRSZXF1ZXN0SW50ZXJjZXB0b3IiLCJ0b2FzdHJDb25maWciLCJjbG9zZUJ1dHRvbiIsInRhcFRvRGlzbWlzcyIsIm5ld2VzdE9uVG9wIiwicG9zaXRpb25DbGFzcyIsInRpbWVPdXQiLCJicmVhZGNydW1iUHJvdmlkZXIiLCIkYnJlYWRjcnVtYlByb3ZpZGVyIiwiNzExIiwiJGluamVjdG9yIiwic3RhdGVDaGFuZ2VXYXRjaCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJyZXF1ZXN0SW50ZXJjZXB0b3IiLCJlbGVtIiwid2hhdCIsImF1dGhUb2tlbiIsInNldERlZmF1bHRIZWFkZXJzIl0sIm1hcHBpbmdzIjoiQUFBQUEsY0FBYyxJQUVSQyxFQUNBLFNBQVNDLEVBQVFDLFFBQVNDLEdBRS9CQSxFQUFv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QUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxZQUFBLElBQ0FDLGVB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VWh4QyxJQUFJLFNBQzFCLE9BQU9pbUIsR0FBV3ZULElBQUksb0JBQXFCLFNBQVUwZSxFQUFPOGYsRUFBU0MsRUFBVUMsRUFBV0MsRUFBWXZtQixHQUNwRyxHQUFpQixjQUFiQSxFQUFNLEdBQ1IsTUFBTy9ZLEdBQU1nWixHQUFHRCxFQUFNLE1BSzVCOUMsR0FBU2lwQixFQUFrQixJQUUzQixJQUFJSyxHQUFxQixXQUN2QnZQLEVBQVl1TyxzQkFBc0IsU0FBVWlCLEVBQU1yQixFQUFXc0IsRUFBTWpRLEdBQ2pFLEdBQUlwaUMsR0FBaUI2eEMsRUFBVWh4QyxJQUFJLGtCQUUvQnl4QyxFQUFZLCtCQVloQixJQVhJcnlDLEVBQVVTLE9BQU9DLFFBQVEsOEJBQzNCMnhDLEVBQVksaUNBRWQxUCxFQUFZMlAsbUJBQ1ZoeUMsZUFBZ0IsbUJBQ2hCQyxPQUFVLG1CQUNWQyxjQUFpQjZ4QyxFQUNqQjF4QyxzQkFBdUJaLEVBQWVhLElBQUksV0FDMUNFLDZCQUE4QmYsRUFBZWEsSUFBSSwyQkFHakMsV0FBZGt3QyxFQUlKLE1BQU9xQixLQUlYdnBCLEdBQVNzcEIsRUFBb0IsS3ZEMnFOOUJ0eUMsRUFBT3lXLFNBQVcsY0FBZSxZQUFhLFlBQWEsYUFBYyxZdUQvc04xRWxJLE9BQU93Z0IsZUFBZXIyQixRQUFTLGNBQzdCbWdCLE9BQU8sSUFFVG5nQixRQUxnQnNIIiwiZmlsZSI6ImFwcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzBdLHtcblxuLyoqKi8gMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNzApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY3KTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAzNjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2FuZ3VsYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2OCk7XG5cdFxuXHR2YXIgX2FuZ3VsYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5ndWxhcik7XG5cdFxuXHR2YXIgX2FuZ3VsYXJVaVJvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzcwKTtcblx0XG5cdHZhciBfYW5ndWxhclVpUm91dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZ3VsYXJVaVJvdXRlcik7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcxKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3NSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4NSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4Nyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUwOSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUxMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUxMik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU4MSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU4Mik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU4Nyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU5Nyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU5OCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU4OCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYxMyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5Nyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYyMyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDM2OSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYyNCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYyNik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYyOCk7XG5cdFxuXHR2YXIgX2xvZGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oNjMwKTtcblx0XG5cdHZhciBfbG9kYXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZGFzaCk7XG5cdFxuXHR2YXIgX2RldmljZURldGFpbENvbW1hbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzMSk7XG5cdFxuXHR2YXIgX2RldmljZURldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzMik7XG5cdFxuXHR2YXIgX2RldmljZXNMaXN0aW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NDIpO1xuXHRcblx0dmFyIF9hZG1pbkNvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0Myk7XG5cdFxuXHR2YXIgX2F1dGhlbnRpY2F0aW9uQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjQ0KTtcblx0XG5cdHZhciBfYXBwQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjQ1KTtcblx0XG5cdHZhciBfZGlzdHJpYnV0b3JTZWxlY3RvckNvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2OCk7XG5cdFxuXHR2YXIgX2Rpc3RyaWJ1dG9yc0NvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2OSk7XG5cdFxuXHR2YXIgX2RvbWFpbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3MCk7XG5cdFxuXHR2YXIgX2RvbWFpbkRldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3MSk7XG5cdFxuXHR2YXIgX211bHRpTG9jYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3Mik7XG5cdFxuXHR2YXIgX211bHRpRGlzcGxheSA9IF9fd2VicGFja19yZXF1aXJlX18oNjczKTtcblx0XG5cdHZhciBfbXVsdGlSZXNvdXJjZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjc0KTtcblx0XG5cdHZhciBfcHJvb2ZPZlBsYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3NSk7XG5cdFxuXHR2YXIgX2FkbWluID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzYpO1xuXHRcblx0dmFyIF9hZG1pbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hZG1pbik7XG5cdFxuXHR2YXIgX2F1dGhvcml6YXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Mik7XG5cdFxuXHR2YXIgX2F1dGhvcml6YXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXV0aG9yaXphdGlvbik7XG5cdFxuXHR2YXIgX2NvbW1hbmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODMpO1xuXHRcblx0dmFyIF9jb21tYW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tYW5kcyk7XG5cdFxuXHR2YXIgX2RhdGVtYW5pcHVsYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4NCk7XG5cdFxuXHR2YXIgX2RhdGVtYW5pcHVsYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGF0ZW1hbmlwdWxhdGlvbik7XG5cdFxuXHR2YXIgX2RldmljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4NSk7XG5cdFxuXHR2YXIgX2RldmljZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGV2aWNlcyk7XG5cdFxuXHR2YXIgX2Rpc3RyaWJ1dG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNjg2KTtcblx0XG5cdHZhciBfZGlzdHJpYnV0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Rpc3RyaWJ1dG9ycyk7XG5cdFxuXHR2YXIgX2RvbWFpbnMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODcpO1xuXHRcblx0dmFyIF9kb21haW5zMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvbWFpbnMyKTtcblx0XG5cdHZhciBfaWRlbnRpdHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4OCk7XG5cdFxuXHR2YXIgX2lkZW50aXR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lkZW50aXR5KTtcblx0XG5cdHZhciBfaW50ZWdyYXRpb25FdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4OSk7XG5cdFxuXHR2YXIgX2ludGVncmF0aW9uRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludGVncmF0aW9uRXZlbnRzKTtcblx0XG5cdHZhciBfbG9jYXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTApO1xuXHRcblx0dmFyIF9sb2NhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9jYXRpb25zKTtcblx0XG5cdHZhciBfcHJvZ3Jlc3NiYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5MSk7XG5cdFxuXHR2YXIgX3Byb2dyZXNzYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb2dyZXNzYmFyKTtcblx0XG5cdHZhciBfcHJvb2ZwbGF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTIpO1xuXHRcblx0dmFyIF9wcm9vZnBsYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvb2ZwbGF5KTtcblx0XG5cdHZhciBfc2Vzc2lvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Myk7XG5cdFxuXHR2YXIgX3Nlc3Npb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Nlc3Npb25zKTtcblx0XG5cdHZhciBfc3RvcmFnZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjk0KTtcblx0XG5cdHZhciBfc3RvcmFnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdG9yYWdlKTtcblx0XG5cdHZhciBfdGVuYW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNjk4KTtcblx0XG5cdHZhciBfdGVuYW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZW5hbnRzKTtcblx0XG5cdHZhciBfdGltZXpvbmVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTkpO1xuXHRcblx0dmFyIF90aW1lem9uZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGltZXpvbmVzKTtcblx0XG5cdHZhciBfdG9hc3RzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDApO1xuXHRcblx0dmFyIF90b2FzdHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9hc3RzKTtcblx0XG5cdHZhciBfdmVyc2lvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMSk7XG5cdFxuXHR2YXIgX3ZlcnNpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZlcnNpb25zKTtcblx0XG5cdHZhciBfdGVuYW50QWRkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDIpO1xuXHRcblx0dmFyIF90ZW5hbnREZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDMpO1xuXHRcblx0dmFyIF90ZW5hbnRMb2NhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA0KTtcblx0XG5cdHZhciBfdGVuYW50TWFuYWdlZERldmljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNSk7XG5cdFxuXHR2YXIgX3RlbmFudFVubWFuYWdlZERldmljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNik7XG5cdFxuXHR2YXIgX3RlbmFudHMzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDcpO1xuXHRcblx0dmFyIF93ZWxjb21lQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzA4KTtcblx0XG5cdHZhciBfYXBwUm91dGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDkpO1xuXHRcblx0dmFyIF9hcHBDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxMCk7XG5cdFxuXHR2YXIgX2FwcFJ1biA9IF9fd2VicGFja19yZXF1aXJlX18oNzExKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyBNYXRlcmlhbCBkZXNpZ24gY3NzXG5cdHdpbmRvdy5fID0gX2xvZGFzaDIuZGVmYXVsdDtcblx0XG5cdC8vIERldmljZVxuXHRcblx0Ly8gSW1wb3J0IGFuZ3VsYXJcblx0XG5cdC8vIEFkbWluXG5cdFxuXHQvLyBBdXRoZW50aWNhdGlvblxuXHRcblx0Ly8gQXBwXG5cdFxuXHQvLyBEaXN0cmlidXRvcnNcblx0XG5cdC8vIERvbWFpbnNcblx0XG5cdC8vIFByb29mUGxheVxuXHRcblx0Ly8gU2VydmljZXNcblx0XG5cdC8vIFRlbmFudFxuXHRcblx0Ly8gV2VsY29tZVxuXHRcblx0Ly8gQ29uZmlnXG5cdFxuXHRcblx0dmFyIGFwcCA9IF9hbmd1bGFyMi5kZWZhdWx0Lm1vZHVsZSgnc2t5a2l0UHJvdmlzaW9uaW5nJywgW19hbmd1bGFyVWlSb3V0ZXIyLmRlZmF1bHQsICduZ0FuaW1hdGUnLCAnbmdDb29raWVzJywgJ25nU2FuaXRpemUnLCAncmVzdGFuZ3VsYXInLCAnaFN3ZWV0QWxlcnQnLCAndWkuYm9vdHN0cmFwJywgJ25nTWF0ZXJpYWxEYXRlUGlja2VyJywgJ2hTd2VldEFsZXJ0JywgJ25jeS1hbmd1bGFyLWJyZWFkY3J1bWInLCAnZGlyZWN0aXZlLmcrc2lnbmluJywgJ25nUHJvZ3Jlc3MnLCAnbmdNYXRlcmlhbCcsICduZ2NsaXBib2FyZCcsICd0b2FzdHInXSlcblx0Ly8gU2VydmljZXNcblx0LmZhY3RvcnkoXCJTdG9yYWdlU2VydmljZVwiLCBfc3RvcmFnZTIuZGVmYXVsdC5zdG9yYWdlU2VydmljZUZhY3RvcnkpLmZhY3RvcnkoXCJBZG1pblNlcnZpY2VcIiwgX2FkbWluMi5kZWZhdWx0LmFkbWluU2VydmljZUZhY3RvcnkpLmZhY3RvcnkoXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBfYXV0aG9yaXphdGlvbjIuZGVmYXVsdC5hdXRob3JpemF0aW9uU2VydmljZUZhY3RvcnkpLmZhY3RvcnkoXCJDb21tYW5kc1NlcnZpY2VcIiwgX2NvbW1hbmRzMi5kZWZhdWx0LmNvbW1hbmRTZXJ2aWNlRmFjdG9yeSkuZmFjdG9yeShcIkRhdGVNYW5pcHVsYXRpb25TZXJ2aWNlXCIsIF9kYXRlbWFuaXB1bGF0aW9uMi5kZWZhdWx0LmRhdGVtYW5pcHVsYXRpb25TZXJ2aWNlRmFjdG9yeSkuZmFjdG9yeShcIkRldmljZXNTZXJ2aWNlXCIsIF9kZXZpY2VzMi5kZWZhdWx0LmRldmljZXNTZXJ2aWNlRmFjdG9yeSkuZmFjdG9yeShcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIiwgX2Rpc3RyaWJ1dG9yczIuZGVmYXVsdC5kaXN0cmlidXRvclNlcnZpY2VGYWN0b3J5KS5mYWN0b3J5KFwiRG9tYWluc1NlcnZpY2VcIiwgX2RvbWFpbnMzLmRlZmF1bHQuZG9tYWluU2VydmljZUZhY3RvcnkpLmZhY3RvcnkoXCJJZGVudGl0eVNlcnZpY2VcIiwgX2lkZW50aXR5Mi5kZWZhdWx0LmlkZW50aXR5U2VydmljZUZhY3RvcnkpLmZhY3RvcnkoXCJJbnRlZ3JhdGlvbkV2ZW50c1wiLCBfaW50ZWdyYXRpb25FdmVudHMyLmRlZmF1bHQuaW50ZWdyYXRpb25FdmVudHNTZXJ2aWNlRmFjdG9yeSkuZmFjdG9yeShcIkxvY2F0aW9uc1NlcnZpY2VcIiwgX2xvY2F0aW9uczIuZGVmYXVsdC5sb2NhdGlvbnNTZXJ2aWNlRmFjdG9yeSkuZmFjdG9yeShcIlByb2dyZXNzQmFyU2VydmljZVwiLCBfcHJvZ3Jlc3NiYXIyLmRlZmF1bHQucHJvZ3Jlc3NCYXJTZXJ2aWNlRmFjdG9yeSkuZmFjdG9yeShcIlByb29mUGxheVNlcnZpY2VcIiwgX3Byb29mcGxheTIuZGVmYXVsdC5wcm9vZnBsYXlTZXJ2aWNlRmFjdG9yeSkuZmFjdG9yeShcIlNlc3Npb25zU2VydmljZVwiLCBfc2Vzc2lvbnMyLmRlZmF1bHQuc2Vzc2lvbnNTZXJ2aWNlRmFjdG9yeSkuZmFjdG9yeShcIlRlbmFudHNTZXJ2aWNlXCIsIF90ZW5hbnRzMi5kZWZhdWx0LnRlbmFudHNTZXJ2aWNlRmFjdG9yeSkuZmFjdG9yeShcIlRpbWV6b25lc1NlcnZpY2VcIiwgX3RpbWV6b25lczIuZGVmYXVsdC50aW1lem9uZVNlcnZpY2VGYWN0b3J5KS5mYWN0b3J5KFwiVG9hc3RzU2VydmljZVwiLCBfdG9hc3RzMi5kZWZhdWx0LnRvYXN0c1NlcnZpY2VGYWN0b3J5KS5mYWN0b3J5KFwiVmVyc2lvbnNTZXJ2aWNlXCIsIF92ZXJzaW9uczIuZGVmYXVsdC52ZXJzaW9uc1NlcnZpY2VGYWN0b3J5KVxuXHQvLyBEZXZpY2Vcblx0LmNvbnRyb2xsZXIoXCJEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsXCIsIF9kZXZpY2VEZXRhaWxDb21tYW5kLkRldmljZURldGFpbHNDb21tYW5kc0N0cmwpLmNvbnRyb2xsZXIoXCJEZXZpY2VEZXRhaWxzQ3RybFwiLCBfZGV2aWNlRGV0YWlscy5EZXZpY2VEZXRhaWxzQ3RybCkuY29udHJvbGxlcihcIkRldmljZXNMaXN0aW5nQ3RybFwiLCBfZGV2aWNlc0xpc3RpbmcuRGV2aWNlc0xpc3RpbmdDdHJsKVxuXHQvLyBBZG1pblxuXHQuY29udHJvbGxlcihcIkFkbWluQ3RybFwiLCBfYWRtaW5Db250cm9sbGVyLkFkbWluQ3RybClcblx0Ly8gQXV0aGVudGljYXRpb25cblx0LmNvbnRyb2xsZXIoXCJBdXRoZW50aWNhdGlvbkN0cmxcIiwgX2F1dGhlbnRpY2F0aW9uQ29udHJvbGxlci5BdXRoZW50aWNhdGlvbkN0cmwpXG5cdC8vIEFwcFxuXHQuY29udHJvbGxlcihcIkFwcENvbnRyb2xsZXJcIiwgX2FwcENvbnRyb2xsZXIuQXBwQ29udHJvbGxlcilcblx0Ly8gRGlzdHJpYnV0b3JzXG5cdC5jb250cm9sbGVyKFwiRGlzdHJpYnV0b3JTZWxlY3RvckN0cmxcIiwgX2Rpc3RyaWJ1dG9yU2VsZWN0b3JDb250cm9sbGVyLkRpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsKS5jb250cm9sbGVyKFwiRGlzdHJpYnV0b3JzQ3RybFwiLCBfZGlzdHJpYnV0b3JzQ29udHJvbGxlci5EaXN0cmlidXRvcnNDdHJsKVxuXHQvLyBEb21haW5zXG5cdC5jb250cm9sbGVyKFwiRG9tYWluc0N0cmxcIiwgX2RvbWFpbnMuRG9tYWluc0N0cmwpLmNvbnRyb2xsZXIoXCJEb21haW5EZXRhaWxzQ3RybFwiLCBfZG9tYWluRGV0YWlscy5Eb21haW5EZXRhaWxzQ3RybClcblx0Ly8gUHJvb2ZQbGF5XG5cdC5jb250cm9sbGVyKFwiUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybFwiLCBfbXVsdGlMb2NhdGlvbi5Qcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsKS5jb250cm9sbGVyKFwiUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsXCIsIF9tdWx0aURpc3BsYXkuUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsKS5jb250cm9sbGVyKFwiUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybFwiLCBfbXVsdGlSZXNvdXJjZS5Qcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsKS5jb250cm9sbGVyKFwiUHJvb2ZPZlBsYXlDdHJsXCIsIF9wcm9vZk9mUGxheS5Qcm9vZk9mUGxheUN0cmwpXG5cdC8vIFRlbmFudHNcblx0LmNvbnRyb2xsZXIoXCJUZW5hbnRBZGRDdHJsXCIsIF90ZW5hbnRBZGQuVGVuYW50QWRkQ3RybCkuY29udHJvbGxlcihcIlRlbmFudERldGFpbHNDdHJsXCIsIF90ZW5hbnREZXRhaWxzLlRlbmFudERldGFpbHNDdHJsKS5jb250cm9sbGVyKFwiVGVuYW50TG9jYXRpb25DdHJsXCIsIF90ZW5hbnRMb2NhdGlvbi5UZW5hbnRMb2NhdGlvbkN0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmxcIiwgX3RlbmFudE1hbmFnZWREZXZpY2VzLlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybCkuY29udHJvbGxlcihcIlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsXCIsIF90ZW5hbnRVbm1hbmFnZWREZXZpY2VzLlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsKS5jb250cm9sbGVyKFwiVGVuYW50c0N0cmxcIiwgX3RlbmFudHMzLlRlbmFudHNDdHJsKVxuXHQvLyBXZWxjb21lXG5cdC5jb250cm9sbGVyKFwiV2VsY29tZUN0cmxcIiwgX3dlbGNvbWVDb250cm9sbGVyLldlbGNvbWVDdHJsKVxuXHQvLyBhcHBSdW4gQmxvY2tcblx0LnJ1bihfYXBwUnVuLmFwcFJ1bilcblx0Ly8gQ29uZmlnXG5cdC5jb25maWcoX2FwcFJvdXRlcy5yb3V0ZXMpO1xuXHRcblx0Ly8gUmVxdWVzdCBJbnRlcmNlcHRvclxuXHRhcHAuZmFjdG9yeSgnUmVxdWVzdEludGVyY2VwdG9yJywgW1wiU3RvcmFnZVNlcnZpY2VcIiwgXCIkbG9jYXRpb25cIiwgZnVuY3Rpb24gKFN0b3JhZ2VTZXJ2aWNlLCAkbG9jYXRpb24pIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciBpbnRlcmNlcHRvciA9IHtcblx0ICAgIHJlcXVlc3Q6IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG5cdCAgICAgIHZhciBncyA9ICc1WFpIQkYzbU93cUpsWUFsRzFOZWVXWDBDYjcyZyc7XG5cdCAgICAgIHZhciBwcm9kID0gJzZDMzQ2NTg4QkQ0QzZENzIyQTExNjVCNDNDNTFDJztcblx0ICAgICAgY29uZmlnLmhlYWRlcnMgPSB7XG5cdCAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcblx0ICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHQgICAgICAgICdBdXRob3JpemF0aW9uJzogJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xID8gZ3MgOiBwcm9kLFxuXHQgICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5JyksXG5cdCAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLVVzZXItSWRlbnRpZmllcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlckVtYWlsJyksXG5cdCAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLURpc3RyaWJ1dG9yJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCdjdXJyZW50RGlzdHJpYnV0b3JLZXknKVxuXHQgICAgICB9O1xuXHQgICAgICByZXR1cm4gY29uZmlnO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgcmV0dXJuIGludGVyY2VwdG9yO1xuXHR9XSk7XG5cdFxuXHRhcHAuY29uZmlnKFtcIiRodHRwUHJvdmlkZXJcIiwgZnVuY3Rpb24gKCRodHRwUHJvdmlkZXIpIHtcblx0ICByZXR1cm4gJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnUmVxdWVzdEludGVyY2VwdG9yJyk7XG5cdH1dKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzczOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG1hcCA9IHtcblx0XHRcIi4vYWZcIjogMzc0LFxuXHRcdFwiLi9hZi5qc1wiOiAzNzQsXG5cdFx0XCIuL2FyXCI6IDM3NSxcblx0XHRcIi4vYXItbWFcIjogMzc2LFxuXHRcdFwiLi9hci1tYS5qc1wiOiAzNzYsXG5cdFx0XCIuL2FyLXNhXCI6IDM3Nyxcblx0XHRcIi4vYXItc2EuanNcIjogMzc3LFxuXHRcdFwiLi9hci10blwiOiAzNzgsXG5cdFx0XCIuL2FyLXRuLmpzXCI6IDM3OCxcblx0XHRcIi4vYXIuanNcIjogMzc1LFxuXHRcdFwiLi9helwiOiAzNzksXG5cdFx0XCIuL2F6LmpzXCI6IDM3OSxcblx0XHRcIi4vYmVcIjogMzgwLFxuXHRcdFwiLi9iZS5qc1wiOiAzODAsXG5cdFx0XCIuL2JnXCI6IDM4MSxcblx0XHRcIi4vYmcuanNcIjogMzgxLFxuXHRcdFwiLi9iblwiOiAzODIsXG5cdFx0XCIuL2JuLmpzXCI6IDM4Mixcblx0XHRcIi4vYm9cIjogMzgzLFxuXHRcdFwiLi9iby5qc1wiOiAzODMsXG5cdFx0XCIuL2JyXCI6IDM4NCxcblx0XHRcIi4vYnIuanNcIjogMzg0LFxuXHRcdFwiLi9ic1wiOiAzODUsXG5cdFx0XCIuL2JzLmpzXCI6IDM4NSxcblx0XHRcIi4vY2FcIjogMzg2LFxuXHRcdFwiLi9jYS5qc1wiOiAzODYsXG5cdFx0XCIuL2NzXCI6IDM4Nyxcblx0XHRcIi4vY3MuanNcIjogMzg3LFxuXHRcdFwiLi9jdlwiOiAzODgsXG5cdFx0XCIuL2N2LmpzXCI6IDM4OCxcblx0XHRcIi4vY3lcIjogMzg5LFxuXHRcdFwiLi9jeS5qc1wiOiAzODksXG5cdFx0XCIuL2RhXCI6IDM5MCxcblx0XHRcIi4vZGEuanNcIjogMzkwLFxuXHRcdFwiLi9kZVwiOiAzOTEsXG5cdFx0XCIuL2RlLWF0XCI6IDM5Mixcblx0XHRcIi4vZGUtYXQuanNcIjogMzkyLFxuXHRcdFwiLi9kZS5qc1wiOiAzOTEsXG5cdFx0XCIuL2R2XCI6IDM5Myxcblx0XHRcIi4vZHYuanNcIjogMzkzLFxuXHRcdFwiLi9lbFwiOiAzOTQsXG5cdFx0XCIuL2VsLmpzXCI6IDM5NCxcblx0XHRcIi4vZW4tYXVcIjogMzk1LFxuXHRcdFwiLi9lbi1hdS5qc1wiOiAzOTUsXG5cdFx0XCIuL2VuLWNhXCI6IDM5Nixcblx0XHRcIi4vZW4tY2EuanNcIjogMzk2LFxuXHRcdFwiLi9lbi1nYlwiOiAzOTcsXG5cdFx0XCIuL2VuLWdiLmpzXCI6IDM5Nyxcblx0XHRcIi4vZW4taWVcIjogMzk4LFxuXHRcdFwiLi9lbi1pZS5qc1wiOiAzOTgsXG5cdFx0XCIuL2VuLW56XCI6IDM5OSxcblx0XHRcIi4vZW4tbnouanNcIjogMzk5LFxuXHRcdFwiLi9lb1wiOiA0MDAsXG5cdFx0XCIuL2VvLmpzXCI6IDQwMCxcblx0XHRcIi4vZXNcIjogNDAxLFxuXHRcdFwiLi9lcy1kb1wiOiA0MDIsXG5cdFx0XCIuL2VzLWRvLmpzXCI6IDQwMixcblx0XHRcIi4vZXMuanNcIjogNDAxLFxuXHRcdFwiLi9ldFwiOiA0MDMsXG5cdFx0XCIuL2V0LmpzXCI6IDQwMyxcblx0XHRcIi4vZXVcIjogNDA0LFxuXHRcdFwiLi9ldS5qc1wiOiA0MDQsXG5cdFx0XCIuL2ZhXCI6IDQwNSxcblx0XHRcIi4vZmEuanNcIjogNDA1LFxuXHRcdFwiLi9maVwiOiA0MDYsXG5cdFx0XCIuL2ZpLmpzXCI6IDQwNixcblx0XHRcIi4vZm9cIjogNDA3LFxuXHRcdFwiLi9mby5qc1wiOiA0MDcsXG5cdFx0XCIuL2ZyXCI6IDQwOCxcblx0XHRcIi4vZnItY2FcIjogNDA5LFxuXHRcdFwiLi9mci1jYS5qc1wiOiA0MDksXG5cdFx0XCIuL2ZyLWNoXCI6IDQxMCxcblx0XHRcIi4vZnItY2guanNcIjogNDEwLFxuXHRcdFwiLi9mci5qc1wiOiA0MDgsXG5cdFx0XCIuL2Z5XCI6IDQxMSxcblx0XHRcIi4vZnkuanNcIjogNDExLFxuXHRcdFwiLi9nZFwiOiA0MTIsXG5cdFx0XCIuL2dkLmpzXCI6IDQxMixcblx0XHRcIi4vZ2xcIjogNDEzLFxuXHRcdFwiLi9nbC5qc1wiOiA0MTMsXG5cdFx0XCIuL2hlXCI6IDQxNCxcblx0XHRcIi4vaGUuanNcIjogNDE0LFxuXHRcdFwiLi9oaVwiOiA0MTUsXG5cdFx0XCIuL2hpLmpzXCI6IDQxNSxcblx0XHRcIi4vaHJcIjogNDE2LFxuXHRcdFwiLi9oci5qc1wiOiA0MTYsXG5cdFx0XCIuL2h1XCI6IDQxNyxcblx0XHRcIi4vaHUuanNcIjogNDE3LFxuXHRcdFwiLi9oeS1hbVwiOiA0MTgsXG5cdFx0XCIuL2h5LWFtLmpzXCI6IDQxOCxcblx0XHRcIi4vaWRcIjogNDE5LFxuXHRcdFwiLi9pZC5qc1wiOiA0MTksXG5cdFx0XCIuL2lzXCI6IDQyMCxcblx0XHRcIi4vaXMuanNcIjogNDIwLFxuXHRcdFwiLi9pdFwiOiA0MjEsXG5cdFx0XCIuL2l0LmpzXCI6IDQyMSxcblx0XHRcIi4vamFcIjogNDIyLFxuXHRcdFwiLi9qYS5qc1wiOiA0MjIsXG5cdFx0XCIuL2p2XCI6IDQyMyxcblx0XHRcIi4vanYuanNcIjogNDIzLFxuXHRcdFwiLi9rYVwiOiA0MjQsXG5cdFx0XCIuL2thLmpzXCI6IDQyNCxcblx0XHRcIi4va2tcIjogNDI1LFxuXHRcdFwiLi9ray5qc1wiOiA0MjUsXG5cdFx0XCIuL2ttXCI6IDQyNixcblx0XHRcIi4va20uanNcIjogNDI2LFxuXHRcdFwiLi9rb1wiOiA0MjcsXG5cdFx0XCIuL2tvLmpzXCI6IDQyNyxcblx0XHRcIi4va3lcIjogNDI4LFxuXHRcdFwiLi9reS5qc1wiOiA0MjgsXG5cdFx0XCIuL2xiXCI6IDQyOSxcblx0XHRcIi4vbGIuanNcIjogNDI5LFxuXHRcdFwiLi9sb1wiOiA0MzAsXG5cdFx0XCIuL2xvLmpzXCI6IDQzMCxcblx0XHRcIi4vbHRcIjogNDMxLFxuXHRcdFwiLi9sdC5qc1wiOiA0MzEsXG5cdFx0XCIuL2x2XCI6IDQzMixcblx0XHRcIi4vbHYuanNcIjogNDMyLFxuXHRcdFwiLi9tZVwiOiA0MzMsXG5cdFx0XCIuL21lLmpzXCI6IDQzMyxcblx0XHRcIi4vbWtcIjogNDM0LFxuXHRcdFwiLi9tay5qc1wiOiA0MzQsXG5cdFx0XCIuL21sXCI6IDQzNSxcblx0XHRcIi4vbWwuanNcIjogNDM1LFxuXHRcdFwiLi9tclwiOiA0MzYsXG5cdFx0XCIuL21yLmpzXCI6IDQzNixcblx0XHRcIi4vbXNcIjogNDM3LFxuXHRcdFwiLi9tcy1teVwiOiA0MzgsXG5cdFx0XCIuL21zLW15LmpzXCI6IDQzOCxcblx0XHRcIi4vbXMuanNcIjogNDM3LFxuXHRcdFwiLi9teVwiOiA0MzksXG5cdFx0XCIuL215LmpzXCI6IDQzOSxcblx0XHRcIi4vbmJcIjogNDQwLFxuXHRcdFwiLi9uYi5qc1wiOiA0NDAsXG5cdFx0XCIuL25lXCI6IDQ0MSxcblx0XHRcIi4vbmUuanNcIjogNDQxLFxuXHRcdFwiLi9ubFwiOiA0NDIsXG5cdFx0XCIuL25sLmpzXCI6IDQ0Mixcblx0XHRcIi4vbm5cIjogNDQzLFxuXHRcdFwiLi9ubi5qc1wiOiA0NDMsXG5cdFx0XCIuL3BhLWluXCI6IDQ0NCxcblx0XHRcIi4vcGEtaW4uanNcIjogNDQ0LFxuXHRcdFwiLi9wbFwiOiA0NDUsXG5cdFx0XCIuL3BsLmpzXCI6IDQ0NSxcblx0XHRcIi4vcHRcIjogNDQ2LFxuXHRcdFwiLi9wdC1iclwiOiA0NDcsXG5cdFx0XCIuL3B0LWJyLmpzXCI6IDQ0Nyxcblx0XHRcIi4vcHQuanNcIjogNDQ2LFxuXHRcdFwiLi9yb1wiOiA0NDgsXG5cdFx0XCIuL3JvLmpzXCI6IDQ0OCxcblx0XHRcIi4vcnVcIjogNDQ5LFxuXHRcdFwiLi9ydS5qc1wiOiA0NDksXG5cdFx0XCIuL3NlXCI6IDQ1MCxcblx0XHRcIi4vc2UuanNcIjogNDUwLFxuXHRcdFwiLi9zaVwiOiA0NTEsXG5cdFx0XCIuL3NpLmpzXCI6IDQ1MSxcblx0XHRcIi4vc2tcIjogNDUyLFxuXHRcdFwiLi9zay5qc1wiOiA0NTIsXG5cdFx0XCIuL3NsXCI6IDQ1Myxcblx0XHRcIi4vc2wuanNcIjogNDUzLFxuXHRcdFwiLi9zcVwiOiA0NTQsXG5cdFx0XCIuL3NxLmpzXCI6IDQ1NCxcblx0XHRcIi4vc3JcIjogNDU1LFxuXHRcdFwiLi9zci1jeXJsXCI6IDQ1Nixcblx0XHRcIi4vc3ItY3lybC5qc1wiOiA0NTYsXG5cdFx0XCIuL3NyLmpzXCI6IDQ1NSxcblx0XHRcIi4vc3NcIjogNDU3LFxuXHRcdFwiLi9zcy5qc1wiOiA0NTcsXG5cdFx0XCIuL3N2XCI6IDQ1OCxcblx0XHRcIi4vc3YuanNcIjogNDU4LFxuXHRcdFwiLi9zd1wiOiA0NTksXG5cdFx0XCIuL3N3LmpzXCI6IDQ1OSxcblx0XHRcIi4vdGFcIjogNDYwLFxuXHRcdFwiLi90YS5qc1wiOiA0NjAsXG5cdFx0XCIuL3RlXCI6IDQ2MSxcblx0XHRcIi4vdGUuanNcIjogNDYxLFxuXHRcdFwiLi90aFwiOiA0NjIsXG5cdFx0XCIuL3RoLmpzXCI6IDQ2Mixcblx0XHRcIi4vdGwtcGhcIjogNDYzLFxuXHRcdFwiLi90bC1waC5qc1wiOiA0NjMsXG5cdFx0XCIuL3RsaFwiOiA0NjQsXG5cdFx0XCIuL3RsaC5qc1wiOiA0NjQsXG5cdFx0XCIuL3RyXCI6IDQ2NSxcblx0XHRcIi4vdHIuanNcIjogNDY1LFxuXHRcdFwiLi90emxcIjogNDY2LFxuXHRcdFwiLi90emwuanNcIjogNDY2LFxuXHRcdFwiLi90em1cIjogNDY3LFxuXHRcdFwiLi90em0tbGF0blwiOiA0NjgsXG5cdFx0XCIuL3R6bS1sYXRuLmpzXCI6IDQ2OCxcblx0XHRcIi4vdHptLmpzXCI6IDQ2Nyxcblx0XHRcIi4vdWtcIjogNDY5LFxuXHRcdFwiLi91ay5qc1wiOiA0NjksXG5cdFx0XCIuL3V6XCI6IDQ3MCxcblx0XHRcIi4vdXouanNcIjogNDcwLFxuXHRcdFwiLi92aVwiOiA0NzEsXG5cdFx0XCIuL3ZpLmpzXCI6IDQ3MSxcblx0XHRcIi4veC1wc2V1ZG9cIjogNDcyLFxuXHRcdFwiLi94LXBzZXVkby5qc1wiOiA0NzIsXG5cdFx0XCIuL3poLWNuXCI6IDQ3Myxcblx0XHRcIi4vemgtY24uanNcIjogNDczLFxuXHRcdFwiLi96aC10d1wiOiA0NzQsXG5cdFx0XCIuL3poLXR3LmpzXCI6IDQ3NFxuXHR9O1xuXHRmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG5cdH07XG5cdGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0XHRyZXR1cm4gbWFwW3JlcV0gfHwgKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKSB9KCkpO1xuXHR9O1xuXHR3ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRcdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xuXHR9O1xuXHR3ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xuXHR3ZWJwYWNrQ29udGV4dC5pZCA9IDM3MztcblxuXG4vKioqLyB9LFxuXG4vKioqLyA1MDk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdC8qXG5cdCBuZ3Byb2dyZXNzIDEuMS4yIC0gc2xpbSwgc2l0ZS13aWRlIHByb2dyZXNzYmFyIGZvciBBbmd1bGFySlMgXG5cdCAoQykgMjAxMyAtIFZpY3RvciBCamVsa2hvbG0gXG5cdCBMaWNlbnNlOiBNSVQgXG5cdCBTb3VyY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9WaWN0b3JCamVsa2hvbG0vbmdQcm9ncmVzcyBcblx0IERhdGUgQ29tcGlsZWQ6IDIwMTUtMDctMjcgXG5cdCAqL1xuXHRhbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3MucHJvdmlkZXJcIiwgW1wibmdQcm9ncmVzcy5kaXJlY3RpdmVcIl0pLnNlcnZpY2UoXCJuZ1Byb2dyZXNzXCIsIGZ1bmN0aW9uICgpIHtcblx0ICBcInVzZSBzdHJpY3RcIjtcblx0XG5cdCAgcmV0dXJuIFtcIiRkb2N1bWVudFwiLCBcIiR3aW5kb3dcIiwgXCIkY29tcGlsZVwiLCBcIiRyb290U2NvcGVcIiwgXCIkdGltZW91dFwiLCBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkge1xuXHQgICAgdGhpcy5hdXRvU3R5bGUgPSAhMCwgdGhpcy5jb3VudCA9IDAsIHRoaXMuaGVpZ2h0ID0gXCIycHhcIiwgdGhpcy4kc2NvcGUgPSBkLiRuZXcoKSwgdGhpcy5jb2xvciA9IFwiZmlyZWJyaWNrXCIsIHRoaXMucGFyZW50ID0gYS5maW5kKFwiYm9keVwiKVswXSwgdGhpcy5jb3VudCA9IDAsIHRoaXMucHJvZ3Jlc3NiYXJFbCA9IGMoXCI8bmctcHJvZ3Jlc3M+PC9uZy1wcm9ncmVzcz5cIikodGhpcy4kc2NvcGUpLCB0aGlzLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pLCB0aGlzLiRzY29wZS5jb3VudCA9IHRoaXMuY291bnQsIHZvaWQgMCAhPT0gdGhpcy5oZWlnaHQgJiYgdGhpcy5wcm9ncmVzc2JhckVsLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiaGVpZ2h0XCIsIHRoaXMuaGVpZ2h0KSwgdm9pZCAwICE9PSB0aGlzLmNvbG9yICYmICh0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIHRoaXMuY29sb3IpLCB0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJjb2xvclwiLCB0aGlzLmNvbG9yKSksIHRoaXMuaW50ZXJ2YWxDb3VudGVySWQgPSAwLCB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aGlzLnNob3coKTtcblx0ICAgICAgdmFyIGEgPSB0aGlzO1xuXHQgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCB0aGlzLmludGVydmFsQ291bnRlcklkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlzTmFOKGEuY291bnQpID8gKGNsZWFySW50ZXJ2YWwoYS5pbnRlcnZhbENvdW50ZXJJZCksIGEuY291bnQgPSAwLCBhLmhpZGUoKSkgOiAoYS5yZW1haW5pbmcgPSAxMDAgLSBhLmNvdW50LCBhLmNvdW50ID0gYS5jb3VudCArIC4xNSAqIE1hdGgucG93KDEgLSBNYXRoLnNxcnQoYS5yZW1haW5pbmcpLCAyKSwgYS51cGRhdGVDb3VudChhLmNvdW50KSk7XG5cdCAgICAgIH0sIDIwMCk7XG5cdCAgICB9LCB0aGlzLnVwZGF0ZUNvdW50ID0gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgdGhpcy4kc2NvcGUuY291bnQgPSBhLCB0aGlzLiRzY29wZS4kJHBoYXNlIHx8IHRoaXMuJHNjb3BlLiRhcHBseSgpO1xuXHQgICAgfSwgdGhpcy5zZXRIZWlnaHQgPSBmdW5jdGlvbiAoYSkge1xuXHQgICAgICByZXR1cm4gdm9pZCAwICE9PSBhICYmICh0aGlzLmhlaWdodCA9IGEsIHRoaXMuJHNjb3BlLmhlaWdodCA9IHRoaXMuaGVpZ2h0LCB0aGlzLiRzY29wZS4kJHBoYXNlIHx8IHRoaXMuJHNjb3BlLiRhcHBseSgpKSwgdGhpcy5oZWlnaHQ7XG5cdCAgICB9LCB0aGlzLnNldENvbG9yID0gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gYSAmJiAodGhpcy5jb2xvciA9IGEsIHRoaXMuJHNjb3BlLmNvbG9yID0gdGhpcy5jb2xvciwgdGhpcy4kc2NvcGUuJCRwaGFzZSB8fCB0aGlzLiRzY29wZS4kYXBwbHkoKSksIHRoaXMuY29sb3I7XG5cdCAgICB9LCB0aGlzLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRoaXMucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIm9wYWNpdHlcIiwgXCIwXCIpO1xuXHQgICAgICB2YXIgYSA9IHRoaXM7XG5cdCAgICAgIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgYS5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKFwid2lkdGhcIiwgXCIwJVwiKSwgYS5hbmltYXRlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIGEuc2hvdygpO1xuXHQgICAgICAgIH0sIDUwMCk7XG5cdCAgICAgIH0sIDUwMCk7XG5cdCAgICB9LCB0aGlzLnNob3cgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBhID0gdGhpcztcblx0ICAgICAgYS5hbmltYXRlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBhLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJvcGFjaXR5XCIsIFwiMVwiKTtcblx0ICAgICAgfSwgMTAwKTtcblx0ICAgIH0sIHRoaXMuYW5pbWF0ZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgIHZvaWQgMCAhPT0gdGhpcy5hbmltYXRpb24gJiYgZS5jYW5jZWwodGhpcy5hbmltYXRpb24pLCB0aGlzLmFuaW1hdGlvbiA9IGUoYSwgYik7XG5cdCAgICB9LCB0aGlzLnN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY291bnQ7XG5cdCAgICB9LCB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCk7XG5cdCAgICB9LCB0aGlzLnNldCA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnNob3coKSwgdGhpcy51cGRhdGVDb3VudChhKSwgdGhpcy5jb3VudCA9IGEsIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIHRoaXMuY291bnQ7XG5cdCAgICB9LCB0aGlzLmNzcyA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoYSk7XG5cdCAgICB9LCB0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSwgdGhpcy5jb3VudCA9IDAsIHRoaXMudXBkYXRlQ291bnQodGhpcy5jb3VudCksIDA7XG5cdCAgICB9LCB0aGlzLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aGlzLmNvdW50ID0gMTAwLCB0aGlzLnVwZGF0ZUNvdW50KHRoaXMuY291bnQpO1xuXHQgICAgICB2YXIgYSA9IHRoaXM7XG5cdCAgICAgIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCBlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBhLmhpZGUoKSwgZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBhLmNvdW50ID0gMCwgYS51cGRhdGVDb3VudChhLmNvdW50KTtcblx0ICAgICAgICB9LCA1MDApO1xuXHQgICAgICB9LCAxZTMpLCB0aGlzLmNvdW50O1xuXHQgICAgfSwgdGhpcy5zZXRQYXJlbnQgPSBmdW5jdGlvbiAoYSkge1xuXHQgICAgICBpZiAobnVsbCA9PT0gYSB8fCB2b2lkIDAgPT09IGEpIHRocm93IG5ldyBFcnJvcihcIlByb3ZpZGUgYSB2YWxpZCBwYXJlbnQgb2YgdHlwZSBIVE1MRWxlbWVudFwiKTtcblx0ICAgICAgbnVsbCAhPT0gdGhpcy5wYXJlbnQgJiYgdm9pZCAwICE9PSB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pLCB0aGlzLnBhcmVudCA9IGEsIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSk7XG5cdCAgICB9LCB0aGlzLmdldERvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzYmFyRWw7XG5cdCAgICB9LCB0aGlzLnNldEFic29sdXRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aGlzLnByb2dyZXNzYmFyRWwuY3NzKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKTtcblx0ICAgIH07XG5cdCAgfV07XG5cdH0pLmZhY3RvcnkoXCJuZ1Byb2dyZXNzRmFjdG9yeVwiLCBbXCIkaW5qZWN0b3JcIiwgXCJuZ1Byb2dyZXNzXCIsIGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgdmFyIGMgPSB7XG5cdCAgICBjcmVhdGVJbnN0YW5jZTogZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoKSB7XG5cdCAgICAgIHJldHVybiBhLmluc3RhbnRpYXRlKGIpO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgcmV0dXJuIGM7XG5cdH1dKSwgYW5ndWxhci5tb2R1bGUoXCJuZ1Byb2dyZXNzLmRpcmVjdGl2ZVwiLCBbXSkuZGlyZWN0aXZlKFwibmdQcm9ncmVzc1wiLCBbXCIkd2luZG93XCIsIFwiJHJvb3RTY29wZVwiLCBmdW5jdGlvbiAoYSwgYikge1xuXHQgIHZhciBjID0ge1xuXHQgICAgcmVwbGFjZTogITAsIHJlc3RyaWN0OiBcIkVcIiwgbGluazogZnVuY3Rpb24gbGluayhhLCBiLCBjLCBkKSB7XG5cdCAgICAgIGEuJHdhdGNoKFwiY291bnRcIiwgZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmNvdW50ZXIgPSBjLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwid2lkdGhcIiwgYyArIFwiJVwiKSk7XG5cdCAgICAgIH0pLCBhLiR3YXRjaChcImNvbG9yXCIsIGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgICAgKHZvaWQgMCAhPT0gYyB8fCBudWxsICE9PSBjKSAmJiAoYS5jb2xvciA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIGMpLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiY29sb3JcIiwgYykpO1xuXHQgICAgICB9KSwgYS4kd2F0Y2goXCJoZWlnaHRcIiwgZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmhlaWdodCA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJoZWlnaHRcIiwgYykpO1xuXHQgICAgICB9KTtcblx0ICAgIH0sIHRlbXBsYXRlOiAnPGRpdiBpZD1cIm5nUHJvZ3Jlc3MtY29udGFpbmVyXCI+PGRpdiBpZD1cIm5nUHJvZ3Jlc3NcIj48L2Rpdj48L2Rpdj4nXG5cdCAgfTtcblx0ICByZXR1cm4gYztcblx0fV0pLCBhbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3NcIiwgW1wibmdQcm9ncmVzcy5kaXJlY3RpdmVcIiwgXCJuZ1Byb2dyZXNzLnByb3ZpZGVyXCJdKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNTEwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTExKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDg0KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmdQcm9ncmVzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL25nUHJvZ3Jlc3MuY3NzXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA1MTE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3NykoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIjbmdQcm9ncmVzc3ttYXJnaW46MDtwYWRkaW5nOjA7ei1pbmRleDo5OTk5ODtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVuO2NvbG9yOmdyZWVuO2JveC1zaGFkb3c6MCAwIDEwcHggMDtoZWlnaHQ6MnB4O29wYWNpdHk6MDstd2Via2l0LXRyYW5zaXRpb246YWxsIC41cyBlYXNlLWluLW91dDt0cmFuc2l0aW9uOmFsbCAuNXMgZWFzZS1pbi1vdXR9I25nUHJvZ3Jlc3MtY29udGFpbmVye3Bvc2l0aW9uOmZpeGVkO21hcmdpbjowO3BhZGRpbmc6MDt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDt6LWluZGV4Ojk5OTk5fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTEyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxMyk7XG5cdFxuXHR2YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvKiEgYW5ndWxhci1icmVhZGNydW1iIC0gdjAuNC4wLWRldi0yMDE1LTA4LTA3XG5cdCogaHR0cDovL25jdWlsbGVyeS5naXRodWIuaW8vYW5ndWxhci1icmVhZGNydW1iXG5cdCogQ29weXJpZ2h0IChjKSAyMDE1IE5pY29sYXMgQ3VpbGxlcnk7IExpY2Vuc2VkIE1JVCAqL1xuXHQhZnVuY3Rpb24gKGEsIGIsIGMpIHtcblx0ICBcInVzZSBzdHJpY3RcIjtcblx0ICBmdW5jdGlvbiBkKGEsIGMpIHtcblx0ICAgIHJldHVybiBiLmVxdWFscyhhLmxlbmd0aCwgYy5sZW5ndGgpID8gYSA+IGMgOiBhLmxlbmd0aCA+IGMubGVuZ3RoO1xuXHQgIH1mdW5jdGlvbiBlKGEpIHtcblx0ICAgIHZhciBiID0gYS5yZXBsYWNlKC9cXG4vZywgXCIgXCIpLm1hdGNoKC9eKFteKF0rPylcXHMqKFxcKCguKilcXCkpPyQvKTtpZiAoIWIgfHwgNCAhPT0gYi5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgcmVmICdcIiArIGEgKyBcIidcIik7cmV0dXJuIHsgc3RhdGU6IGJbMV0sIHBhcmFtRXhwcjogYlszXSB8fCBudWxsIH07XG5cdCAgfWZ1bmN0aW9uIGYoKSB7XG5cdCAgICB2YXIgYSA9IHsgcHJlZml4U3RhdGVOYW1lOiBudWxsLCB0ZW1wbGF0ZTogXCJib290c3RyYXAzXCIsIHRlbXBsYXRlVXJsOiBudWxsLCBpbmNsdWRlQWJzdHJhY3Q6ICExIH07dGhpcy5zZXRPcHRpb25zID0gZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgYi5leHRlbmQoYSwgYyk7XG5cdCAgICB9LCB0aGlzLiRnZXQgPSBbXCIkc3RhdGVcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkcm9vdFNjb3BlXCIsIGZ1bmN0aW9uIChiLCBmLCBnKSB7XG5cdCAgICAgIHZhciBoID0gZztnLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgICFhLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmUgJiYgZChhLnRhcmdldFNjb3BlLiRpZCwgaC4kaWQpICYmIChoID0gYS50YXJnZXRTY29wZSk7XG5cdCAgICAgIH0pO3ZhciBpID0gZnVuY3Rpb24gaShhKSB7XG5cdCAgICAgICAgdmFyIGIgPSBhLnBhcmVudCB8fCAoL14oLispXFwuW14uXSskLy5leGVjKGEubmFtZSkgfHwgW10pWzFdLFxuXHQgICAgICAgICAgICBjID0gXCJvYmplY3RcIiA9PSAodHlwZW9mIGIgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKGIpKTtyZXR1cm4gYyA/IGIubmFtZSA6IGI7XG5cdCAgICAgIH0sXG5cdCAgICAgICAgICBqID0gZnVuY3Rpb24gaihjLCBkKSB7XG5cdCAgICAgICAgZm9yICh2YXIgZywgaSwgaiA9IGUoZCksIGsgPSAhMSwgbCA9ICExLCBtID0gMCwgbiA9IGMubGVuZ3RoOyBuID4gbTsgbSArPSAxKSB7XG5cdCAgICAgICAgICBpZiAoY1ttXS5uYW1lID09PSBqLnN0YXRlKSByZXR1cm47XG5cdCAgICAgICAgfWcgPSBiLmdldChqLnN0YXRlKSwgZy5uY3lCcmVhZGNydW1iICYmIChnLm5jeUJyZWFkY3J1bWIuZm9yY2UgJiYgKGsgPSAhMCksIGcubmN5QnJlYWRjcnVtYi5za2lwICYmIChsID0gITApKSwgZ1tcImFic3RyYWN0XCJdICYmICFhLmluY2x1ZGVBYnN0cmFjdCAmJiAhayB8fCBsIHx8IChqLnBhcmFtRXhwciAmJiAoaSA9IGguJGV2YWwoai5wYXJhbUV4cHIpKSwgZy5uY3lCcmVhZGNydW1iTGluayA9IGIuaHJlZihqLnN0YXRlLCBpIHx8IGYgfHwge30pLCBjLnVuc2hpZnQoZykpO1xuXHQgICAgICB9LFxuXHQgICAgICAgICAgayA9IGZ1bmN0aW9uIGsoYSkge1xuXHQgICAgICAgIHZhciBjID0gZShhKSxcblx0ICAgICAgICAgICAgZCA9IGIuZ2V0KGMuc3RhdGUpO2lmIChkLm5jeUJyZWFkY3J1bWIgJiYgZC5uY3lCcmVhZGNydW1iLnBhcmVudCkge1xuXHQgICAgICAgICAgdmFyIGYgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGQubmN5QnJlYWRjcnVtYi5wYXJlbnQsXG5cdCAgICAgICAgICAgICAgZyA9IGYgPyBkLm5jeUJyZWFkY3J1bWIucGFyZW50KGgpIDogZC5uY3lCcmVhZGNydW1iLnBhcmVudDtpZiAoZykgcmV0dXJuIGc7XG5cdCAgICAgICAgfXJldHVybiBpKGQpO1xuXHQgICAgICB9O3JldHVybiB7IGdldFRlbXBsYXRlOiBmdW5jdGlvbiBnZXRUZW1wbGF0ZShiKSB7XG5cdCAgICAgICAgICByZXR1cm4gYS50ZW1wbGF0ZVVybCA/IG51bGwgOiBiW2EudGVtcGxhdGVdID8gYlthLnRlbXBsYXRlXSA6IGEudGVtcGxhdGU7XG5cdCAgICAgICAgfSwgZ2V0VGVtcGxhdGVVcmw6IGZ1bmN0aW9uIGdldFRlbXBsYXRlVXJsKCkge1xuXHQgICAgICAgICAgcmV0dXJuIGEudGVtcGxhdGVVcmw7XG5cdCAgICAgICAgfSwgZ2V0U3RhdGVzQ2hhaW46IGZ1bmN0aW9uIGdldFN0YXRlc0NoYWluKGMpIHtcblx0ICAgICAgICAgIGZvciAodmFyIGQgPSBbXSwgZSA9IGIuJGN1cnJlbnQuc2VsZi5uYW1lOyBlOyBlID0gayhlKSkge1xuXHQgICAgICAgICAgICBpZiAoaihkLCBlKSwgYyAmJiBkLmxlbmd0aCkgcmV0dXJuIGQ7XG5cdCAgICAgICAgICB9cmV0dXJuIGEucHJlZml4U3RhdGVOYW1lICYmIGooZCwgYS5wcmVmaXhTdGF0ZU5hbWUpLCBkO1xuXHQgICAgICAgIH0sIGdldExhc3RTdGVwOiBmdW5jdGlvbiBnZXRMYXN0U3RlcCgpIHtcblx0ICAgICAgICAgIHZhciBhID0gdGhpcy5nZXRTdGF0ZXNDaGFpbighMCk7cmV0dXJuIGEubGVuZ3RoID8gYVswXSA6IGM7XG5cdCAgICAgICAgfSwgJGdldExhc3RWaWV3U2NvcGU6IGZ1bmN0aW9uICRnZXRMYXN0Vmlld1Njb3BlKCkge1xuXHQgICAgICAgICAgcmV0dXJuIGg7XG5cdCAgICAgICAgfSB9O1xuXHQgICAgfV07XG5cdCAgfWZ1bmN0aW9uIGcoYSwgYywgZCkge1xuXHQgICAgdmFyIGUgPSB7IGJvb3RzdHJhcDI6ICc8dWwgY2xhc3M9XCJicmVhZGNydW1iXCI+PGxpIG5nLXJlcGVhdD1cInN0ZXAgaW4gc3RlcHNcIiBuZy1zd2l0Y2g9XCIkbGFzdCB8fCAhIXN0ZXAuYWJzdHJhY3RcIiBuZy1jbGFzcz1cInthY3RpdmU6ICRsYXN0fVwiPjxhIG5nLXN3aXRjaC13aGVuPVwiZmFsc2VcIiBocmVmPVwie3tzdGVwLm5jeUJyZWFkY3J1bWJMaW5rfX1cIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L2E+PHNwYW4gbmctc3dpdGNoLXdoZW49XCJ0cnVlXCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9zcGFuPjxzcGFuIGNsYXNzPVwiZGl2aWRlclwiIG5nLWhpZGU9XCIkbGFzdFwiPi88L3NwYW4+PC9saT48L3VsPicsIGJvb3RzdHJhcDM6ICc8b2wgY2xhc3M9XCJicmVhZGNydW1iXCI+PGxpIG5nLXJlcGVhdD1cInN0ZXAgaW4gc3RlcHNcIiBuZy1jbGFzcz1cInthY3RpdmU6ICRsYXN0fVwiIG5nLXN3aXRjaD1cIiRsYXN0IHx8ICEhc3RlcC5hYnN0cmFjdFwiPjxhIG5nLXN3aXRjaC13aGVuPVwiZmFsc2VcIiBocmVmPVwie3tzdGVwLm5jeUJyZWFkY3J1bWJMaW5rfX1cIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L2E+PHNwYW4gbmctc3dpdGNoLXdoZW49XCJ0cnVlXCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9zcGFuPjwvbGk+PC9vbD4nIH07cmV0dXJuIHsgcmVzdHJpY3Q6IFwiQUVcIiwgcmVwbGFjZTogITAsIHNjb3BlOiB7fSwgdGVtcGxhdGU6IGMuZ2V0VGVtcGxhdGUoZSksIHRlbXBsYXRlVXJsOiBjLmdldFRlbXBsYXRlVXJsKCksIGxpbms6IHsgcG9zdDogZnVuY3Rpb24gcG9zdChlKSB7XG5cdCAgICAgICAgICB2YXIgZiA9IFtdLFxuXHQgICAgICAgICAgICAgIGcgPSBmdW5jdGlvbiBnKCkge1xuXHQgICAgICAgICAgICBsKGYpLCBmID0gW107dmFyIGQgPSBjLiRnZXRMYXN0Vmlld1Njb3BlKCk7ZS5zdGVwcyA9IGMuZ2V0U3RhdGVzQ2hhaW4oKSwgYi5mb3JFYWNoKGUuc3RlcHMsIGZ1bmN0aW9uIChiKSB7XG5cdCAgICAgICAgICAgICAgaWYgKGIubmN5QnJlYWRjcnVtYiAmJiBiLm5jeUJyZWFkY3J1bWIubGFiZWwpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjID0gYShiLm5jeUJyZWFkY3J1bWIubGFiZWwpO2IubmN5QnJlYWRjcnVtYkxhYmVsID0gYyhkKSwgayhmLCBjLCBkLCBiKTtcblx0ICAgICAgICAgICAgICB9IGVsc2UgYi5uY3lCcmVhZGNydW1iTGFiZWwgPSBiLm5hbWU7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfTtkLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgICAgICBhLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmUgfHwgZygpO1xuXHQgICAgICAgICAgfSksIGcoKTtcblx0ICAgICAgICB9IH0gfTtcblx0ICB9ZnVuY3Rpb24gaChhLCBiLCBjKSB7XG5cdCAgICByZXR1cm4geyByZXN0cmljdDogXCJBXCIsIHNjb3BlOiB7fSwgdGVtcGxhdGU6IFwie3tuY3lCcmVhZGNydW1iTGFiZWx9fVwiLCBjb21waWxlOiBmdW5jdGlvbiBjb21waWxlKGQsIGUpIHtcblx0ICAgICAgICB2YXIgZiA9IGQuYXR0cihlLiRhdHRyLm5jeUJyZWFkY3J1bWJMYXN0KTtyZXR1cm4gZiAmJiBkLmh0bWwoZiksIHsgcG9zdDogZnVuY3Rpb24gcG9zdChkKSB7XG5cdCAgICAgICAgICAgIHZhciBlID0gW10sXG5cdCAgICAgICAgICAgICAgICBmID0gZnVuY3Rpb24gZigpIHtcblx0ICAgICAgICAgICAgICBsKGUpLCBlID0gW107dmFyIGMgPSBiLiRnZXRMYXN0Vmlld1Njb3BlKCksXG5cdCAgICAgICAgICAgICAgICAgIGYgPSBiLmdldExhc3RTdGVwKCk7aWYgKGYpIGlmIChkLm5jeUJyZWFkY3J1bWJMaW5rID0gZi5uY3lCcmVhZGNydW1iTGluaywgZi5uY3lCcmVhZGNydW1iICYmIGYubmN5QnJlYWRjcnVtYi5sYWJlbCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGcgPSBhKGYubmN5QnJlYWRjcnVtYi5sYWJlbCk7ZC5uY3lCcmVhZGNydW1iTGFiZWwgPSBnKGMpLCBrKGUsIGcsIGMsIGQpO1xuXHQgICAgICAgICAgICAgIH0gZWxzZSBkLm5jeUJyZWFkY3J1bWJMYWJlbCA9IGYubmFtZTtcblx0ICAgICAgICAgICAgfTtjLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgICAgICAgIGEudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSB8fCBmKCk7XG5cdCAgICAgICAgICAgIH0pLCBmKCk7XG5cdCAgICAgICAgICB9IH07XG5cdCAgICAgIH0gfTtcblx0ICB9ZnVuY3Rpb24gaShhLCBjLCBkKSB7XG5cdCAgICByZXR1cm4geyByZXN0cmljdDogXCJBXCIsIHNjb3BlOiB7fSwgdGVtcGxhdGU6IFwie3tuY3lCcmVhZGNydW1iQ2hhaW59fVwiLCBjb21waWxlOiBmdW5jdGlvbiBjb21waWxlKGUsIGYpIHtcblx0ICAgICAgICB2YXIgZyA9IGUuYXR0cihmLiRhdHRyLm5jeUJyZWFkY3J1bWJUZXh0KTtnICYmIGUuaHRtbChnKTt2YXIgaCA9IGUuYXR0cihmLiRhdHRyLm5jeUJyZWFkY3J1bWJUZXh0U2VwYXJhdG9yKSB8fCBcIiAvIFwiO3JldHVybiB7IHBvc3Q6IGZ1bmN0aW9uIHBvc3QoZSkge1xuXHQgICAgICAgICAgICB2YXIgZiA9IFtdLFxuXHQgICAgICAgICAgICAgICAgZyA9IGZ1bmN0aW9uIGcoYSwgYywgZCkge1xuXHQgICAgICAgICAgICAgIGIuZm9yRWFjaChqKGMpLCBmdW5jdGlvbiAoYikge1xuXHQgICAgICAgICAgICAgICAgdmFyIGMgPSBkLiR3YXRjaChiLCBmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgICAgICAgICAgICAgICBhICE9PSBiICYmIGkoKTtcblx0ICAgICAgICAgICAgICAgIH0pO2EucHVzaChjKTtcblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICAgIGkgPSBmdW5jdGlvbiBpKCkge1xuXHQgICAgICAgICAgICAgIGwoZiksIGYgPSBbXTt2YXIgZCA9IGMuJGdldExhc3RWaWV3U2NvcGUoKSxcblx0ICAgICAgICAgICAgICAgICAgaSA9IGMuZ2V0U3RhdGVzQ2hhaW4oKSxcblx0ICAgICAgICAgICAgICAgICAgaiA9IFtdO2IuZm9yRWFjaChpLCBmdW5jdGlvbiAoYikge1xuXHQgICAgICAgICAgICAgICAgaWYgKGIubmN5QnJlYWRjcnVtYiAmJiBiLm5jeUJyZWFkY3J1bWIubGFiZWwpIHtcblx0ICAgICAgICAgICAgICAgICAgdmFyIGMgPSBhKGIubmN5QnJlYWRjcnVtYi5sYWJlbCk7ai5wdXNoKGMoZCkpLCBnKGYsIGMsIGQpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGoucHVzaChiLm5hbWUpO1xuXHQgICAgICAgICAgICAgIH0pLCBlLm5jeUJyZWFkY3J1bWJDaGFpbiA9IGouam9pbihoKTtcblx0ICAgICAgICAgICAgfTtkLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgICAgICAgIGEudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSB8fCBpKCk7XG5cdCAgICAgICAgICAgIH0pLCBpKCk7XG5cdCAgICAgICAgICB9IH07XG5cdCAgICAgIH0gfTtcblx0ICB9dmFyIGogPSBmdW5jdGlvbiBqKGEpIHtcblx0ICAgIGlmIChhLmV4cHJlc3Npb25zKSByZXR1cm4gYS5leHByZXNzaW9uczt2YXIgYyA9IFtdO3JldHVybiBiLmZvckVhY2goYS5wYXJ0cywgZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgYi5pc0Z1bmN0aW9uKGEpICYmIGMucHVzaChhLmV4cCk7XG5cdCAgICB9KSwgYztcblx0ICB9LFxuXHQgICAgICBrID0gZnVuY3Rpb24gayhhLCBjLCBkLCBlKSB7XG5cdCAgICBiLmZvckVhY2goaihjKSwgZnVuY3Rpb24gKGIpIHtcblx0ICAgICAgdmFyIGYgPSBkLiR3YXRjaChiLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgZS5uY3lCcmVhZGNydW1iTGFiZWwgPSBjKGQpO1xuXHQgICAgICB9KTthLnB1c2goZik7XG5cdCAgICB9KTtcblx0ICB9LFxuXHQgICAgICBsID0gZnVuY3Rpb24gbChhKSB7XG5cdCAgICBiLmZvckVhY2goYSwgZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgYSgpO1xuXHQgICAgfSk7XG5cdCAgfTtnLiRpbmplY3QgPSBbXCIkaW50ZXJwb2xhdGVcIiwgXCIkYnJlYWRjcnVtYlwiLCBcIiRyb290U2NvcGVcIl0sIGguJGluamVjdCA9IFtcIiRpbnRlcnBvbGF0ZVwiLCBcIiRicmVhZGNydW1iXCIsIFwiJHJvb3RTY29wZVwiXSwgaS4kaW5qZWN0ID0gW1wiJGludGVycG9sYXRlXCIsIFwiJGJyZWFkY3J1bWJcIiwgXCIkcm9vdFNjb3BlXCJdLCBiLm1vZHVsZShcIm5jeS1hbmd1bGFyLWJyZWFkY3J1bWJcIiwgW1widWkucm91dGVyLnN0YXRlXCJdKS5wcm92aWRlcihcIiRicmVhZGNydW1iXCIsIGYpLmRpcmVjdGl2ZShcIm5jeUJyZWFkY3J1bWJcIiwgZykuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYkxhc3RcIiwgaCkuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYlRleHRcIiwgaSk7XG5cdH0od2luZG93LCB3aW5kb3cuYW5ndWxhcik7XG5cbi8qKiovIH0sXG5cbi8qKiovIDU4MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihqUXVlcnkpIHsndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcxKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0KGZ1bmN0aW9uIChtb21lbnQpIHtcblx0XG5cdCAgJ3VzZSBzdHJpY3QnO1xuXHRcblx0ICB2YXIgbW9kdWxlTmFtZSA9IFwibmdNYXRlcmlhbERhdGVQaWNrZXJcIjtcblx0XG5cdCAgdmFyIFZJRVdfU1RBVEVTID0ge1xuXHQgICAgREFURTogMCxcblx0ICAgIEhPVVI6IDEsXG5cdCAgICBNSU5VVEU6IDJcblx0ICB9O1xuXHRcblx0ICB2YXIgY3NzID0gZnVuY3Rpb24gY3NzKGVsLCBuYW1lKSB7XG5cdCAgICBpZiAoJ2pRdWVyeScgaW4gd2luZG93KSB7XG5cdCAgICAgIHJldHVybiBqUXVlcnkoZWwpLmNzcyhuYW1lKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVsID0gYW5ndWxhci5lbGVtZW50KGVsKTtcblx0ICAgICAgcmV0dXJuICdnZXRDb21wdXRlZFN0eWxlJyBpbiB3aW5kb3cgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbFswXSlbbmFtZV0gOiBlbC5jc3MobmFtZSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdmFyIHRlbXBsYXRlID0gJzxtZC1kaWFsb2cgY2xhc3M9XCJkdHBcIiBsYXlvdXQ9XCJjb2x1bW5cIiBzdHlsZT1cIndpZHRoOiAzMDBweDtcIj4nICsgJyAgICA8bWQtZGlhbG9nLWNvbnRlbnQgY2xhc3M9XCJkdHAtY29udGVudFwiPicgKyAnICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWRhdGUtdmlld1wiPicgKyAnICAgICAgICAgICAgPGhlYWRlciBjbGFzcz1cImR0cC1oZWFkZXJcIj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1kYXlcIiBuZy1zaG93PVwicGlja2VyLmRhdGVNb2RlXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiZGRkZFwiKX19PC9kaXY+JyArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtZGF5XCIgbmctc2hvdz1cInBpY2tlci50aW1lTW9kZVwiPnt7cGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBwaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiQVwiKSA6IFwiIFwifX08L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWNsb3NlIHRleHQtcmlnaHRcIj4nICsgJyAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgbmctY2xpY2s9XCJwaWNrZXIuaGlkZSgpXCI+JnRpbWVzOzwvYT4nICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgIDwvaGVhZGVyPicgKyAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1kYXRlXCIgbmctc2hvdz1cInBpY2tlci5wYXJhbXMuZGF0ZVwiPicgKyAnICAgICAgICAgICAgICAgIDxkaXYgbGF5b3V0PVwiY29sdW1uXCI+JyArICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW1vbnRoXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiTU1NXCIpIHwgdXBwZXJjYXNlfX08L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1udW1cIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJERFwiKX19PC9kaXY+JyArICcgICAgICAgICAgICAgICAgPGRpdiBsYXlvdXQ9XCJyb3dcIj4nICsgJyA8ZGl2IG5nLWNsaWNrPVwicGlja2VyLmluY3JlbWVudFllYXIoLTEpXCIgY2xhc3M9XCJkdHAteWVhci1idG4gZHRwLXllYXItYnRuLXByZXZcIiBmbGV4PVwiMzBcIj48c3BhbiBuZy1pZj1cInBpY2tlci5pc1ByZXZpb3VzWWVhclZpc2libGUoKVwiID4mI3gyNUIyOzwvc3Bhbj48L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwteWVhclwiIGZsZXg+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiWVlZWVwiKX19PC9kaXY+JyArICcgPGRpdiBuZy1jbGljaz1cInBpY2tlci5pbmNyZW1lbnRZZWFyKDEpXCIgY2xhc3M9XCJkdHAteWVhci1idG4gZHRwLXllYXItYnRuLW5leHRcIiBmbGV4PVwiMzBcIj48c3BhbiBuZy1pZj1cInBpY2tlci5pc05leHRZZWFyVmlzaWJsZSgpXCIgPiYjeDI1QkM7PC9zcGFuPjwvZGl2PicgKyAnICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgPC9kaXY+JyAvL3N0YXJ0IHRpbWVcblx0ICArICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLXRpbWVcIiBuZy1zaG93PVwicGlja2VyLnBhcmFtcy50aW1lICYmICFwaWNrZXIucGFyYW1zLmRhdGVcIj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1tYXh0aW1lXCI+e3twaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCkuZm9ybWF0KHBpY2tlci5wYXJhbXMuc2hvcnRUaW1lID8gXCJoaDptbVwiIDogXCJISDptbVwiKX19PC9kaXY+JyArICcgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtcGlja2VyXCI+JyArICcgICAgICAgICAgICAgICAgPG1kYy1kYXRldGltZS1waWNrZXItY2FsZW5kYXIgZGF0ZT1cInBpY2tlci5jdXJyZW50RGF0ZVwiIHBpY2tlcj1cInBpY2tlclwiIGNsYXNzPVwiZHRwLXBpY2tlci1jYWxlbmRhclwiIG5nLXNob3c9XCJwaWNrZXIuY3VycmVudFZpZXcgPT09IHBpY2tlci5WSUVXUy5EQVRFXCI+PC9tZGMtZGF0ZXRpbWUtcGlja2VyLWNhbGVuZGFyPicgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtcGlja2VyLWRhdGV0aW1lXCIgbmctc2hvdz1cInBpY2tlci5jdXJyZW50VmlldyAhPT0gcGlja2VyLlZJRVdTLkRBVEVcIj4nICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbWVyaWRpZW5cIj4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0IHAyMFwiPicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIGNsYXNzPVwiZHRwLW1lcmlkaWVuLWFtXCIgbmctY2xhc3M9XCJ7c2VsZWN0ZWQ6IHBpY2tlci5tZXJpZGllbiA9PSBcXCdBTVxcJ31cIiBuZy1jbGljaz1cInBpY2tlci5zZWxlY3RBTSgpXCI+e3twaWNrZXIucGFyYW1zLmFtVGV4dH19PC9hPicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLXNob3c9XCIhcGlja2VyLnRpbWVNb2RlXCIgY2xhc3M9XCJkdHAtYWN0dWFsLXRpbWUgcDYwXCI+e3twaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCkuZm9ybWF0KHBpY2tlci5wYXJhbXMuc2hvcnRUaW1lID8gXCJoaDptbVwiIDogXCJISDptbVwiKX19PC9kaXY+JyArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQgcDIwXCI+JyArICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgY2xhc3M9XCJkdHAtbWVyaWRpZW4tcG1cIiBuZy1jbGFzcz1cIntzZWxlY3RlZDogcGlja2VyLm1lcmlkaWVuID09IFxcJ1BNXFwnfVwiIG5nLWNsaWNrPVwicGlja2VyLnNlbGVjdFBNKClcIj57e3BpY2tlci5wYXJhbXMucG1UZXh0fX08L2E+JyArICcgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PicgKyAnICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgPG1kYy1kYXRldGltZS1waWNrZXItY2xvY2sgbW9kZT1cImhvdXJzXCIgbmctaWY9XCJwaWNrZXIuY3VycmVudFZpZXcgPT09IHBpY2tlci5WSUVXUy5IT1VSXCI+PC9tZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrPicgKyAnICAgICAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jayBtb2RlPVwibWludXRlc1wiIG5nLWlmPVwicGlja2VyLmN1cnJlbnRWaWV3ID09PSBwaWNrZXIuVklFV1MuTUlOVVRFXCI+PC9tZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrPicgKyAnICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgIDwvZGl2PicgKyAnICAgIDwvbWQtZGlhbG9nLWNvbnRlbnQ+JyArICcgICAgPG1kLWRpYWxvZy1hY3Rpb25zIGNsYXNzPVwiZHRwLWJ1dHRvbnNcIj4nICsgJyAgICAgICAgICAgIDxtZC1idXR0b24gY2xhc3M9XCJkdHAtYnRuLWNhbmNlbCBtZC1idXR0b25cIiBuZy1jbGljaz1cInBpY2tlci5jYW5jZWwoKVwiPiB7e3BpY2tlci5wYXJhbXMuY2FuY2VsVGV4dH19PC9tZC1idXR0b24+JyArICcgICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwiZHRwLWJ0bi1vayBtZC1idXR0b25cIiBuZy1jbGljaz1cInBpY2tlci5vaygpXCI+IHt7cGlja2VyLnBhcmFtcy5va1RleHR9fTwvbWQtYnV0dG9uPicgKyAnICAgICAgPC9tZC1kaWFsb2ctYWN0aW9ucz4nICsgJzwvbWQtZGlhbG9nPic7XG5cdFxuXHQgIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUsIFsnbmdNYXRlcmlhbCddKS5wcm92aWRlcignbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlJywgZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5sb2NhbGUgPSAnZW4nO1xuXHRcblx0ICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMubG9jYWxlO1xuXHQgICAgfTtcblx0XG5cdCAgICB0aGlzLnNldERlZmF1bHRMb2NhbGUgPSBmdW5jdGlvbiAobG9jYWxlU3RyaW5nKSB7XG5cdCAgICAgIHRoaXMubG9jYWxlID0gbG9jYWxlU3RyaW5nO1xuXHQgICAgfTtcblx0ICB9KS5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyJywgWyckbWREaWFsb2cnLCBmdW5jdGlvbiAoJG1kRGlhbG9nKSB7XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVzdHJpY3Q6ICdBJyxcblx0ICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuXHQgICAgICBzY29wZToge1xuXHQgICAgICAgIGN1cnJlbnREYXRlOiAnPW5nTW9kZWwnLFxuXHQgICAgICAgIHRpbWU6ICc9Jyxcblx0ICAgICAgICBkYXRlOiAnPScsXG5cdCAgICAgICAgbWluRGF0ZTogJz0nLFxuXHQgICAgICAgIG1heERhdGU6ICc9Jyxcblx0ICAgICAgICBzaG9ydFRpbWU6ICc9Jyxcblx0ICAgICAgICBmb3JtYXQ6ICdAJyxcblx0ICAgICAgICBjYW5jZWxUZXh0OiAnQCcsXG5cdCAgICAgICAgb2tUZXh0OiAnQCcsXG5cdCAgICAgICAgbGFuZzogJ0AnLFxuXHQgICAgICAgIGFtVGV4dDogJ0AnLFxuXHQgICAgICAgIHBtVGV4dDogJ0AnXG5cdCAgICAgIH0sXG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG5cdCAgICAgICAgdmFyIGlzT24gPSBmYWxzZTtcblx0ICAgICAgICBpZiAoIXNjb3BlLmZvcm1hdCkge1xuXHQgICAgICAgICAgaWYgKHNjb3BlLmRhdGUgJiYgc2NvcGUudGltZSkge1xuXHQgICAgICAgICAgICBzY29wZS5mb3JtYXQgPSAnWVlZWS1NTS1ERCBISDptbTpzcyc7XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKHNjb3BlLmRhdGUpIHtcblx0ICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ1lZWVktTU0tREQnO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ0hIOm1tJztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHNjb3BlLmN1cnJlbnREYXRlKSAmJiBzY29wZS5jdXJyZW50RGF0ZSAhPT0gJycpIHtcblx0ICAgICAgICAgIHNjb3BlLmN1cnJlbnREYXRlID0gbW9tZW50KHNjb3BlLmN1cnJlbnREYXRlLCBzY29wZS5mb3JtYXQpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKG5nTW9kZWwpIHtcblx0ICAgICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIG0gPSBtb21lbnQodmFsdWUpO1xuXHQgICAgICAgICAgICByZXR1cm4gbS5pc1ZhbGlkKCkgPyBtLmZvcm1hdChzY29wZS5mb3JtYXQpIDogJyc7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGVsZW1lbnQuYXR0cigncmVhZG9ubHknLCAnJyk7XG5cdCAgICAgICAgLy9AVE9ETyBjdXN0b20gZXZlbnQgdG8gdHJpZ2dlciBpbnB1dFxuXHQgICAgICAgIGVsZW1lbnQub24oJ2ZvY3VzJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICAgIGVsZW1lbnQuYmx1cigpO1xuXHQgICAgICAgICAgaWYgKGlzT24pIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgaXNPbiA9IHRydWU7XG5cdCAgICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuXHQgICAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRycykge1xuXHQgICAgICAgICAgICBpZiAoc2NvcGUuaGFzT3duUHJvcGVydHkoaSkgJiYgIWFuZ3VsYXIuaXNVbmRlZmluZWQoc2NvcGVbaV0pKSB7XG5cdCAgICAgICAgICAgICAgb3B0aW9uc1tpXSA9IHNjb3BlW2ldO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBvcHRpb25zLmN1cnJlbnREYXRlID0gc2NvcGUuY3VycmVudERhdGU7XG5cdCAgICAgICAgICB2YXIgbG9jYWxzID0geyBvcHRpb25zOiBvcHRpb25zIH07XG5cdCAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG5cdCAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcblx0ICAgICAgICAgICAgY29udHJvbGxlcjogUGx1Z2luQ29udHJvbGxlcixcblx0ICAgICAgICAgICAgY29udHJvbGxlckFzOiAncGlja2VyJyxcblx0ICAgICAgICAgICAgbG9jYWxzOiBsb2NhbHMsXG5cdCAgICAgICAgICAgIG9wZW5Gcm9tOiBlbGVtZW50LFxuXHQgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcblx0ICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcblx0ICAgICAgICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbDogZmFsc2Vcblx0ICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgICAgc2NvcGUuY3VycmVudERhdGUgPSB2ID8gdi5fZCA6IHY7XG5cdCAgICAgICAgICAgIGlzT24gPSBmYWxzZTtcblx0ICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgaXNPbiA9IGZhbHNlO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfV0pO1xuXHRcblx0ICB2YXIgUGx1Z2luQ29udHJvbGxlciA9IGZ1bmN0aW9uIFBsdWdpbkNvbnRyb2xsZXIoJHNjb3BlLCAkbWREaWFsb2csIG1kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSkge1xuXHQgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkRBVEU7XG5cdCAgICB0aGlzLl9kaWFsb2cgPSAkbWREaWFsb2c7XG5cdFxuXHQgICAgdGhpcy5taW5EYXRlO1xuXHQgICAgdGhpcy5tYXhEYXRlO1xuXHRcblx0ICAgIHRoaXMuX2F0dGFjaGVkRXZlbnRzID0gW107XG5cdCAgICB0aGlzLlZJRVdTID0gVklFV19TVEFURVM7XG5cdFxuXHQgICAgdGhpcy5wYXJhbXMgPSB7XG5cdCAgICAgIGRhdGU6IHRydWUsXG5cdCAgICAgIHRpbWU6IHRydWUsXG5cdCAgICAgIGZvcm1hdDogJ1lZWVktTU0tREQnLFxuXHQgICAgICBtaW5EYXRlOiBudWxsLFxuXHQgICAgICBtYXhEYXRlOiBudWxsLFxuXHQgICAgICBjdXJyZW50RGF0ZTogbnVsbCxcblx0ICAgICAgbGFuZzogbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlLFxuXHQgICAgICB3ZWVrU3RhcnQ6IDAsXG5cdCAgICAgIHNob3J0VGltZTogZmFsc2UsXG5cdCAgICAgIGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxuXHQgICAgICBva1RleHQ6ICdPSycsXG5cdCAgICAgIGFtVGV4dDogJ0FNJyxcblx0ICAgICAgcG1UZXh0OiAnUE0nXG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMubWVyaWRpZW4gPSAnQU0nO1xuXHQgICAgdGhpcy5wYXJhbXMgPSBhbmd1bGFyLmV4dGVuZCh0aGlzLnBhcmFtcywgdGhpcy5vcHRpb25zKTtcblx0ICAgIHRoaXMuaW5pdCgpO1xuXHQgIH07XG5cdCAgUGx1Z2luQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJG1kRGlhbG9nJywgJ21kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSddO1xuXHQgIFBsdWdpbkNvbnRyb2xsZXIucHJvdG90eXBlID0ge1xuXHQgICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcblx0ICAgICAgdGhpcy50aW1lTW9kZSA9IHRoaXMucGFyYW1zLnRpbWUgJiYgIXRoaXMucGFyYW1zLmRhdGU7XG5cdCAgICAgIHRoaXMuZGF0ZU1vZGUgPSB0aGlzLnBhcmFtcy5kYXRlO1xuXHQgICAgICB0aGlzLmluaXREYXRlcygpO1xuXHQgICAgICB0aGlzLnN0YXJ0KCk7XG5cdCAgICB9LFxuXHQgICAgY3VycmVudE5lYXJlc3Q1TWludXRlOiBmdW5jdGlvbiBjdXJyZW50TmVhcmVzdDVNaW51dGUoKSB7XG5cdCAgICAgIHZhciBkYXRlID0gdGhpcy5jdXJyZW50RGF0ZSB8fCBtb21lbnQoKTtcblx0ICAgICAgdmFyIG1pbnV0ZXMgPSA1ICogTWF0aC5yb3VuZChkYXRlLm1pbnV0ZSgpIC8gNSk7XG5cdCAgICAgIGlmIChtaW51dGVzID49IDYwKSB7XG5cdCAgICAgICAgbWludXRlcyA9IDU1OyAvL2Fsd2F5cyBwdXNoIGRvd25cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbW9tZW50KGRhdGUpLm1pbnV0ZXMobWludXRlcyk7XG5cdCAgICB9LFxuXHQgICAgaW5pdERhdGVzOiBmdW5jdGlvbiBpbml0RGF0ZXMoKSB7XG5cdCAgICAgIHZhciB0aGF0ID0gdGhpcztcblx0ICAgICAgdmFyIF9kYXRlUGFyYW0gPSBmdW5jdGlvbiBfZGF0ZVBhcmFtKGlucHV0LCBmYWxsYmFjaykge1xuXHQgICAgICAgIHZhciByZXQgPSBudWxsO1xuXHQgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnB1dCkgJiYgaW5wdXQgIT09IG51bGwgJiYgaW5wdXQgIT09ICcnKSB7XG5cdCAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhpbnB1dCkpIHtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGF0LnBhcmFtcy5mb3JtYXQgIT09ICd1bmRlZmluZWQnICYmIHRoYXQucGFyYW1zLmZvcm1hdCAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgIHJldCA9IG1vbWVudChpbnB1dCwgdGhhdC5wYXJhbXMuZm9ybWF0KS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgcmV0ID0gbW9tZW50KGlucHV0KS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZShpbnB1dCkpIHtcblx0ICAgICAgICAgICAgICB2YXIgeCA9IGlucHV0LmdldFRpbWUoKTtcblx0ICAgICAgICAgICAgICByZXQgPSBtb21lbnQoeCwgXCJ4XCIpLmxvY2FsZSh0aGF0LnBhcmFtcy5sYW5nKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5faXNBTW9tZW50T2JqZWN0KSB7XG5cdCAgICAgICAgICAgICAgcmV0ID0gaW5wdXQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0ID0gZmFsbGJhY2s7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB0aGlzLmN1cnJlbnREYXRlID0gX2RhdGVQYXJhbSh0aGlzLnBhcmFtcy5jdXJyZW50RGF0ZSwgbW9tZW50KCkpO1xuXHQgICAgICB0aGlzLm1pbkRhdGUgPSBfZGF0ZVBhcmFtKHRoaXMucGFyYW1zLm1pbkRhdGUpO1xuXHQgICAgICB0aGlzLm1heERhdGUgPSBfZGF0ZVBhcmFtKHRoaXMucGFyYW1zLm1heERhdGUpO1xuXHQgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZSk7XG5cdCAgICB9LFxuXHQgICAgaW5pdERhdGU6IGZ1bmN0aW9uIGluaXREYXRlKGQpIHtcblx0ICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkRBVEU7XG5cdCAgICB9LFxuXHQgICAgaW5pdEhvdXJzOiBmdW5jdGlvbiBpbml0SG91cnMoKSB7XG5cdCAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5IT1VSO1xuXHQgICAgfSxcblx0ICAgIGluaXRNaW51dGVzOiBmdW5jdGlvbiBpbml0TWludXRlcygpIHtcblx0ICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLk1JTlVURTtcblx0ICAgIH0sXG5cdCAgICBpc0FmdGVyTWluRGF0ZTogZnVuY3Rpb24gaXNBZnRlck1pbkRhdGUoZGF0ZSwgY2hlY2tIb3VyLCBjaGVja01pbnV0ZSkge1xuXHQgICAgICB2YXIgX3JldHVybiA9IHRydWU7XG5cdFxuXHQgICAgICBpZiAodHlwZW9mIHRoaXMubWluRGF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5taW5EYXRlICE9PSBudWxsKSB7XG5cdCAgICAgICAgdmFyIF9taW5EYXRlID0gbW9tZW50KHRoaXMubWluRGF0ZSk7XG5cdCAgICAgICAgdmFyIF9kYXRlID0gbW9tZW50KGRhdGUpO1xuXHRcblx0ICAgICAgICBpZiAoIWNoZWNrSG91ciAmJiAhY2hlY2tNaW51dGUpIHtcblx0ICAgICAgICAgIF9taW5EYXRlLmhvdXIoMCk7XG5cdCAgICAgICAgICBfbWluRGF0ZS5taW51dGUoMCk7XG5cdFxuXHQgICAgICAgICAgX2RhdGUuaG91cigwKTtcblx0ICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIF9taW5EYXRlLnNlY29uZCgwKTtcblx0ICAgICAgICBfZGF0ZS5zZWNvbmQoMCk7XG5cdCAgICAgICAgX21pbkRhdGUubWlsbGlzZWNvbmQoMCk7XG5cdCAgICAgICAgX2RhdGUubWlsbGlzZWNvbmQoMCk7XG5cdFxuXHQgICAgICAgIGlmICghY2hlY2tNaW51dGUpIHtcblx0ICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcblx0ICAgICAgICAgIF9taW5EYXRlLm1pbnV0ZSgwKTtcblx0XG5cdCAgICAgICAgICBfcmV0dXJuID0gcGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPj0gcGFyc2VJbnQoX21pbkRhdGUuZm9ybWF0KFwiWFwiKSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIF9yZXR1cm4gPSBwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA+PSBwYXJzZUludChfbWluRGF0ZS5mb3JtYXQoXCJYXCIpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmV0dXJuO1xuXHQgICAgfSxcblx0ICAgIGlzQmVmb3JlTWF4RGF0ZTogZnVuY3Rpb24gaXNCZWZvcmVNYXhEYXRlKGRhdGUsIGNoZWNrVGltZSwgY2hlY2tNaW51dGUpIHtcblx0ICAgICAgdmFyIF9yZXR1cm4gPSB0cnVlO1xuXHRcblx0ICAgICAgaWYgKHR5cGVvZiB0aGlzLm1heERhdGUgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubWF4RGF0ZSAhPT0gbnVsbCkge1xuXHQgICAgICAgIHZhciBfbWF4RGF0ZSA9IG1vbWVudCh0aGlzLm1heERhdGUpO1xuXHQgICAgICAgIHZhciBfZGF0ZSA9IG1vbWVudChkYXRlKTtcblx0XG5cdCAgICAgICAgaWYgKCFjaGVja1RpbWUgJiYgIWNoZWNrTWludXRlKSB7XG5cdCAgICAgICAgICBfbWF4RGF0ZS5ob3VyKDApO1xuXHQgICAgICAgICAgX21heERhdGUubWludXRlKDApO1xuXHRcblx0ICAgICAgICAgIF9kYXRlLmhvdXIoMCk7XG5cdCAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBfbWF4RGF0ZS5zZWNvbmQoMCk7XG5cdCAgICAgICAgX2RhdGUuc2Vjb25kKDApO1xuXHQgICAgICAgIF9tYXhEYXRlLm1pbGxpc2Vjb25kKDApO1xuXHQgICAgICAgIF9kYXRlLm1pbGxpc2Vjb25kKDApO1xuXHRcblx0ICAgICAgICBpZiAoIWNoZWNrTWludXRlKSB7XG5cdCAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG5cdCAgICAgICAgICBfbWF4RGF0ZS5taW51dGUoMCk7XG5cdFxuXHQgICAgICAgICAgX3JldHVybiA9IHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpIDw9IHBhcnNlSW50KF9tYXhEYXRlLmZvcm1hdChcIlhcIikpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfcmV0dXJuID0gcGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPD0gcGFyc2VJbnQoX21heERhdGUuZm9ybWF0KFwiWFwiKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JldHVybjtcblx0ICAgIH0sXG5cdCAgICBzZWxlY3REYXRlOiBmdW5jdGlvbiBzZWxlY3REYXRlKGRhdGUpIHtcblx0ICAgICAgaWYgKGRhdGUpIHtcblx0ICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KGRhdGUpO1xuXHQgICAgICAgIGlmICghdGhpcy5pc0FmdGVyTWluRGF0ZSh0aGlzLmN1cnJlbnREYXRlKSkge1xuXHQgICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG1vbWVudCh0aGlzLm1pbkRhdGUpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKCF0aGlzLmlzQmVmb3JlTWF4RGF0ZSh0aGlzLmN1cnJlbnREYXRlKSkge1xuXHQgICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG1vbWVudCh0aGlzLm1heERhdGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLmN1cnJlbnREYXRlLmxvY2FsZSh0aGlzLnBhcmFtcy5sYW5nKTtcblx0ICAgICAgICB0aGlzLmNhbGVuZGFyU3RhcnQgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG5cdCAgICAgICAgdGhpcy5tZXJpZGllbiA9IHRoaXMuY3VycmVudERhdGUuaG91cigpID49IDEyID8gJ1BNJyA6ICdBTSc7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBzZXROYW1lOiBmdW5jdGlvbiBzZXROYW1lKCkge1xuXHQgICAgICB2YXIgdGV4dCA9IFwiXCI7XG5cdCAgICAgIHZhciBwb3NzaWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjtcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG5cdCAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiB0ZXh0O1xuXHQgICAgfSxcblx0ICAgIGlzUE06IGZ1bmN0aW9uIGlzUE0oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1lcmlkaWVuID09PSAnUE0nO1xuXHQgICAgfSxcblx0ICAgIGluY3JlbWVudFllYXI6IGZ1bmN0aW9uIGluY3JlbWVudFllYXIoYW1vdW50KSB7XG5cdCAgICAgIGlmIChhbW91bnQgPT09IDEgJiYgdGhpcy5pc05leHRZZWFyVmlzaWJsZSgpKSB7XG5cdCAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuYWRkKCd5ZWFyJywgYW1vdW50KSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChhbW91bnQgPT09IC0xICYmIHRoaXMuaXNQcmV2aW91c1llYXJWaXNpYmxlKCkpIHtcblx0ICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5hZGQoJ3llYXInLCBhbW91bnQpKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIGlzUHJldmlvdXNNb250aFZpc2libGU6IGZ1bmN0aW9uIGlzUHJldmlvdXNNb250aFZpc2libGUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0FmdGVyTWluRGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5zdGFydE9mKCdtb250aCcpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgfSxcblx0ICAgIGlzTmV4dE1vbnRoVmlzaWJsZTogZnVuY3Rpb24gaXNOZXh0TW9udGhWaXNpYmxlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLmVuZE9mKCdtb250aCcpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgfSxcblx0ICAgIGlzUHJldmlvdXNZZWFyVmlzaWJsZTogZnVuY3Rpb24gaXNQcmV2aW91c1llYXJWaXNpYmxlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNBZnRlck1pbkRhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuc3RhcnRPZigneWVhcicpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgfSxcblx0ICAgIGlzTmV4dFllYXJWaXNpYmxlOiBmdW5jdGlvbiBpc05leHRZZWFyVmlzaWJsZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5lbmRPZigneWVhcicpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgfSxcblx0ICAgIGlzSG91ckF2YWlsYWJsZTogZnVuY3Rpb24gaXNIb3VyQXZhaWxhYmxlKGhvdXIpIHtcblx0ICAgICAgdmFyIF9kYXRlID0gbW9tZW50KHRoaXMuY3VycmVudERhdGUpO1xuXHQgICAgICBfZGF0ZS5ob3VyKHRoaXMuY29udmVydEhvdXJzKGhvdXIpKS5taW51dGUoMCkuc2Vjb25kKDApO1xuXHQgICAgICByZXR1cm4gdGhpcy5pc0FmdGVyTWluRGF0ZShfZGF0ZSwgdHJ1ZSwgZmFsc2UpICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKF9kYXRlLCB0cnVlLCBmYWxzZSk7XG5cdCAgICB9LFxuXHQgICAgaXNNaW51dGVBdmFpbGFibGU6IGZ1bmN0aW9uIGlzTWludXRlQXZhaWxhYmxlKG1pbnV0ZSkge1xuXHQgICAgICB2YXIgX2RhdGUgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG5cdCAgICAgIF9kYXRlLm1pbnV0ZShtaW51dGUpLnNlY29uZCgwKTtcblx0ICAgICAgcmV0dXJuIHRoaXMuaXNBZnRlck1pbkRhdGUoX2RhdGUsIHRydWUsIHRydWUpICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKF9kYXRlLCB0cnVlLCB0cnVlKTtcblx0ICAgIH0sXG5cdCAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7XG5cdCAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5EQVRFO1xuXHQgICAgICAvL3RoaXMuaW5pdERhdGVzKCk7XG5cdCAgICAgIGlmICh0aGlzLnBhcmFtcy5kYXRlKSB7XG5cdCAgICAgICAgdGhpcy5pbml0RGF0ZSgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICh0aGlzLnBhcmFtcy50aW1lKSB7XG5cdCAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIG9rOiBmdW5jdGlvbiBvaygpIHtcblx0ICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRWaWV3KSB7XG5cdCAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5EQVRFOlxuXHQgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUgPT09IHRydWUpIHtcblx0ICAgICAgICAgICAgdGhpcy5pbml0SG91cnMoKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuaGlkZSh0cnVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgVklFV19TVEFURVMuSE9VUjpcblx0ICAgICAgICAgIHRoaXMuaW5pdE1pbnV0ZXMoKTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgVklFV19TVEFURVMuTUlOVVRFOlxuXHQgICAgICAgICAgdGhpcy5oaWRlKHRydWUpO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHtcblx0ICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUpIHtcblx0ICAgICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFZpZXcpIHtcblx0ICAgICAgICAgIGNhc2UgVklFV19TVEFURVMuREFURTpcblx0ICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5IT1VSOlxuXHQgICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMuZGF0ZSkge1xuXHQgICAgICAgICAgICAgIHRoaXMuaW5pdERhdGUoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIGNhc2UgVklFV19TVEFURVMuTUlOVVRFOlxuXHQgICAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5oaWRlKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBzZWxlY3RNb250aEJlZm9yZTogZnVuY3Rpb24gc2VsZWN0TW9udGhCZWZvcmUoKSB7XG5cdCAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5zdWJ0cmFjdCgxLCAnbW9udGhzJyk7XG5cdCAgICB9LFxuXHQgICAgc2VsZWN0TW9udGhBZnRlcjogZnVuY3Rpb24gc2VsZWN0TW9udGhBZnRlcigpIHtcblx0ICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LmFkZCgxLCAnbW9udGhzJyk7XG5cdCAgICB9LFxuXHQgICAgc2VsZWN0WWVhckJlZm9yZTogZnVuY3Rpb24gc2VsZWN0WWVhckJlZm9yZSgpIHtcblx0ICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LnN1YnRyYWN0KDEsICd5ZWFycycpO1xuXHQgICAgfSxcblx0ICAgIHNlbGVjdFllYXJBZnRlcjogZnVuY3Rpb24gc2VsZWN0WWVhckFmdGVyKCkge1xuXHQgICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuYWRkKDEsICd5ZWFycycpO1xuXHQgICAgfSxcblx0ICAgIHNlbGVjdEFNOiBmdW5jdGlvbiBzZWxlY3RBTSgpIHtcblx0ICAgICAgaWYgKHRoaXMuaXNIb3VyQXZhaWxhYmxlKDApIHx8IHRoaXMuaXNIb3VyQXZhaWxhYmxlKDEyKSkge1xuXHQgICAgICAgIGlmICh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSA+PSAxMikge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuc3VidHJhY3QoMTIsICdob3VycycpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCF0aGlzLmlzSG91ckF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSkpIHtcblx0ICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIodGhpcy5taW5EYXRlLmhvdXIoKSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuaXNNaW51dGVBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUoKSkpIHtcblx0ICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSh0aGlzLm1pbkRhdGUubWludXRlKCkpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBzZWxlY3RQTTogZnVuY3Rpb24gc2VsZWN0UE0oKSB7XG5cdCAgICAgIGlmICh0aGlzLmlzSG91ckF2YWlsYWJsZSgxMykgfHwgdGhpcy5pc0hvdXJBdmFpbGFibGUoMjQpKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuY3VycmVudERhdGUuaG91cigpIDwgMTIpIHtcblx0ICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmFkZCgxMiwgJ2hvdXJzJykpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuaXNIb3VyQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUuaG91cigpKSkge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuaG91cih0aGlzLm1heERhdGUuaG91cigpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghdGhpcy5pc01pbnV0ZUF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSgpKSkge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUubWludXRlKHRoaXMubWF4RGF0ZS5taW51dGUoKSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIGNvbnZlcnRIb3VyczogZnVuY3Rpb24gY29udmVydEhvdXJzKGgpIHtcblx0ICAgICAgdmFyIF9yZXR1cm4gPSBoO1xuXHQgICAgICBpZiAoaCA8IDEyICYmIHRoaXMuaXNQTSgpKSBfcmV0dXJuICs9IDEyO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZXR1cm47XG5cdCAgICB9LFxuXHQgICAgaGlkZTogZnVuY3Rpb24gaGlkZShva0J0bikge1xuXHQgICAgICBpZiAob2tCdG4pIHtcblx0ICAgICAgICB0aGlzLl9kaWFsb2cuaGlkZSh0aGlzLmN1cnJlbnREYXRlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9kaWFsb2cuY2FuY2VsKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBhbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lKS5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXInLCBbZnVuY3Rpb24gKCkge1xuXHRcblx0ICAgIHZhciBzdGFydERhdGUgPSBtb21lbnQoKSxcblx0ICAgICAgICBZRUFSX01JTiA9IDE5MDAsXG5cdCAgICAgICAgWUVBUl9NQVggPSAyMTAwLFxuXHQgICAgICAgIE1PTlRIU19JTl9BTEwgPSAoWUVBUl9NQVggLSBZRUFSX01JTiArIDEpICogMTIsXG5cdCAgICAgICAgSVRFTV9IRUlHSFQgPSAyNDAsXG5cdCAgICAgICAgTU9OVEhTID0gW107XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1PTlRIU19JTl9BTEw7IGkrKykge1xuXHQgICAgICBNT05USFMucHVzaChpKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY3VycmVudE1vbnRoSW5kZXggPSBmdW5jdGlvbiBjdXJyZW50TW9udGhJbmRleChkYXRlKSB7XG5cdCAgICAgIHZhciB5ZWFyID0gZGF0ZS55ZWFyKCk7XG5cdCAgICAgIHZhciBtb250aCA9IGRhdGUubW9udGgoKTtcblx0ICAgICAgcmV0dXJuICh5ZWFyIC0gWUVBUl9NSU4pICogMTIgKyBtb250aCAtIDE7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJlc3RyaWN0OiAnRScsXG5cdCAgICAgIHNjb3BlOiB7XG5cdCAgICAgICAgcGlja2VyOiAnPScsXG5cdCAgICAgICAgZGF0ZTogJz0nXG5cdCAgICAgIH0sXG5cdCAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG5cdCAgICAgIGNvbnRyb2xsZXJBczogJ2NhbCcsXG5cdCAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSkge1xuXHQgICAgICAgIHZhciBjYWxlbmRhciA9IHRoaXMsXG5cdCAgICAgICAgICAgIHBpY2tlciA9IHRoaXMucGlja2VyLFxuXHQgICAgICAgICAgICBkYXlzID0gW107XG5cdFxuXHQgICAgICAgIGZvciAodmFyIGkgPSBwaWNrZXIucGFyYW1zLndlZWtTdGFydDsgZGF5cy5sZW5ndGggPCA3OyBpKyspIHtcblx0ICAgICAgICAgIGlmIChpID4gNikge1xuXHQgICAgICAgICAgICBpID0gMDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGRheXMucHVzaChpLnRvU3RyaW5nKCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgY2FsZW5kYXIud2VlayA9IGRheXM7XG5cdCAgICAgICAgaWYgKCFwaWNrZXIubWF4RGF0ZSAmJiAhcGlja2VyLm1pbkRhdGUpIHtcblx0ICAgICAgICAgIGNhbGVuZGFyLm1vbnRocyA9IE1PTlRIUztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdmFyIGxvdyA9IHBpY2tlci5taW5EYXRlID8gY3VycmVudE1vbnRoSW5kZXgocGlja2VyLm1pbkRhdGUpIDogMDtcblx0ICAgICAgICAgIHZhciBoaWdoID0gcGlja2VyLm1heERhdGUgPyBjdXJyZW50TW9udGhJbmRleChwaWNrZXIubWF4RGF0ZSkgKyAxIDogTU9OVEhTX0lOX0FMTDtcblx0ICAgICAgICAgIGNhbGVuZGFyLm1vbnRocyA9IE1PTlRIUy5zbGljZShsb3csIGhpZ2gpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgY2FsZW5kYXIuZ2V0SXRlbUF0SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcblx0ICAgICAgICAgIHZhciBtb250aCA9IChpbmRleCArIDEpICUgMTIgfHwgMTI7XG5cdCAgICAgICAgICB2YXIgeWVhciA9IFlFQVJfTUlOICsgTWF0aC5mbG9vcihpbmRleCAvIDEyKTtcblx0ICAgICAgICAgIHZhciBtb250aE9iaiA9IG1vbWVudChwaWNrZXIuY3VycmVudERhdGUpLnllYXIoeWVhcikubW9udGgobW9udGgpO1xuXHQgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlTW9udGhDYWxlbmRhcihtb250aE9iaik7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY2FsZW5kYXIudG9wSW5kZXggPSBjdXJyZW50TW9udGhJbmRleChwaWNrZXIuY3VycmVudERhdGUpIC0gY2FsZW5kYXIubW9udGhzWzBdO1xuXHRcblx0ICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHJldHVybiBwaWNrZXIuY3VycmVudERhdGUgPyBwaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KCdZWVlZLU1NJykgOiAnJztcblx0ICAgICAgICB9LCBmdW5jdGlvbiAodmFsMiwgdmFsMSkge1xuXHQgICAgICAgICAgaWYgKHZhbDIgIT0gdmFsMSkge1xuXHQgICAgICAgICAgICB2YXIgbkRhdGUgPSBtb21lbnQodmFsMiwgJ1lZWVktTU0nKTtcblx0ICAgICAgICAgICAgdmFyIGluZGV4ID0gY3VycmVudE1vbnRoSW5kZXgobkRhdGUpO1xuXHQgICAgICAgICAgICBpZiAoY2FsZW5kYXIudG9wSW5kZXggIT0gaW5kZXgpIHtcblx0ICAgICAgICAgICAgICBjYWxlbmRhci50b3BJbmRleCA9IGluZGV4O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHZhciBnZW5lcmF0ZU1vbnRoQ2FsZW5kYXIgPSBmdW5jdGlvbiBnZW5lcmF0ZU1vbnRoQ2FsZW5kYXIoZGF0ZSkge1xuXHQgICAgICAgICAgdmFyIG1vbnRoID0ge307XG5cdCAgICAgICAgICBpZiAoZGF0ZSAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICBtb250aC5uYW1lID0gZGF0ZS5mb3JtYXQoJ01NTU0gWVlZWScpO1xuXHQgICAgICAgICAgICB2YXIgc3RhcnRPZk1vbnRoID0gbW9tZW50KGRhdGUpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLnN0YXJ0T2YoJ21vbnRoJykuaG91cihkYXRlLmhvdXIoKSkubWludXRlKGRhdGUubWludXRlKCkpO1xuXHQgICAgICAgICAgICB2YXIgaU51bURheSA9IHN0YXJ0T2ZNb250aC5mb3JtYXQoJ2QnKTtcblx0ICAgICAgICAgICAgbW9udGguZGF5cyA9IFtdO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRPZk1vbnRoLmRhdGUoKTsgaSA8PSBzdGFydE9mTW9udGguZGF5c0luTW9udGgoKTsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgaWYgKGkgPT09IHN0YXJ0T2ZNb250aC5kYXRlKCkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpV2VlayA9IGNhbGVuZGFyLndlZWsuaW5kZXhPZihpTnVtRGF5LnRvU3RyaW5nKCkpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGlXZWVrID4gMCkge1xuXHQgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGlXZWVrOyB4KyspIHtcblx0ICAgICAgICAgICAgICAgICAgICBtb250aC5kYXlzLnB1c2goMCk7XG5cdCAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgbW9udGguZGF5cy5wdXNoKG1vbWVudChzdGFydE9mTW9udGgpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLmRhdGUoaSkpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB2YXIgZGF5c0luQVdlZWsgPSA3LFxuXHQgICAgICAgICAgICAgICAgZGF5c1RtcCA9IFtdLFxuXHQgICAgICAgICAgICAgICAgc2xpY2VzID0gTWF0aC5jZWlsKG1vbnRoLmRheXMubGVuZ3RoIC8gZGF5c0luQVdlZWspO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNsaWNlczsgaisrKSB7XG5cdCAgICAgICAgICAgICAgZGF5c1RtcC5wdXNoKG1vbnRoLmRheXMuc2xpY2UoaiAqIGRheXNJbkFXZWVrLCAoaiArIDEpICogZGF5c0luQVdlZWspKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBtb250aC5kYXlzID0gZGF5c1RtcDtcblx0ICAgICAgICAgICAgcmV0dXJuIG1vbnRoO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGNhbGVuZGFyLnRvRGF5ID0gZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICAgIHJldHVybiBtb21lbnQocGFyc2VJbnQoaSksIFwiZFwiKS5sb2NhbGUocGlja2VyLnBhcmFtcy5sYW5nKS5mb3JtYXQoXCJkZFwiKS5zdWJzdHJpbmcoMCwgMSk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY2FsZW5kYXIuaXNJblJhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcblx0ICAgICAgICAgIHJldHVybiBwaWNrZXIuaXNBZnRlck1pbkRhdGUobW9tZW50KGRhdGUpLCBmYWxzZSwgZmFsc2UpICYmIHBpY2tlci5pc0JlZm9yZU1heERhdGUobW9tZW50KGRhdGUpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGNhbGVuZGFyLnNlbGVjdERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuXHQgICAgICAgICAgaWYgKGRhdGUpIHtcblx0ICAgICAgICAgICAgaWYgKGNhbGVuZGFyLmlzU2VsZWN0ZWREYXkoZGF0ZSkpIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gcGlja2VyLm9rKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcGlja2VyLnNlbGVjdERhdGUobW9tZW50KGRhdGUpLmhvdXIoY2FsZW5kYXIuZGF0ZS5ob3VyKCkpLm1pbnV0ZShjYWxlbmRhci5kYXRlLm1pbnV0ZSgpKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY2FsZW5kYXIuaXNTZWxlY3RlZERheSA9IGZ1bmN0aW9uIChtKSB7XG5cdCAgICAgICAgICByZXR1cm4gbSAmJiBjYWxlbmRhci5kYXRlLmRhdGUoKSA9PT0gbS5kYXRlKCkgJiYgY2FsZW5kYXIuZGF0ZS5tb250aCgpID09PSBtLm1vbnRoKCkgJiYgY2FsZW5kYXIuZGF0ZS55ZWFyKCkgPT09IG0ueWVhcigpO1xuXHQgICAgICAgIH07XG5cdCAgICAgIH1dLFxuXHQgICAgICB0ZW1wbGF0ZTogJzxtZC12aXJ0dWFsLXJlcGVhdC1jb250YWluZXIgbWQtdG9wLWluZGV4PVwiY2FsLnRvcEluZGV4XCIgY2xhc3M9XCJtb250aHNcIj4nICsgJzxkaXYgbWQtdmlydHVhbC1yZXBlYXQ9XCJpZHggaW4gY2FsLm1vbnRoc1wiIG1kLXN0YXJ0LWluZGV4PVwiY2FsLnRvcEluZGV4XCIgbWQtaXRlbS1zaXplPVwiJyArIElURU1fSEVJR0hUICsgJ1wiPicgKyAnICAgICA8ZGl2IG1kYy1kYXRldGltZS1waWNrZXItY2FsZW5kYXItbW9udGggaWR4PVwiaWR4XCI+PC9kaXY+JyArICc8L2Rpdj4nICsgJzwvbWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyPidcblx0ICAgIH07XG5cdCAgfV0pLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDYWxlbmRhck1vbnRoJywgWyckY29tcGlsZScsIGZ1bmN0aW9uICgkY29tcGlsZSkge1xuXHQgICAgdmFyIGJ1aWxkQ2FsZW5kYXJDb250ZW50ID0gZnVuY3Rpb24gYnVpbGRDYWxlbmRhckNvbnRlbnQoZWxlbWVudCwgc2NvcGUpIHtcblx0ICAgICAgdmFyIHRib2R5ID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcigndGJvZHknKSk7XG5cdCAgICAgIHZhciBjYWxlbmRhciA9IHNjb3BlLmNhbCxcblx0ICAgICAgICAgIG1vbnRoID0gc2NvcGUubW9udGg7XG5cdCAgICAgIHRib2R5Lmh0bWwoJycpO1xuXHQgICAgICBtb250aC5kYXlzLmZvckVhY2goZnVuY3Rpb24gKHdlZWtEYXlzLCBpKSB7XG5cdCAgICAgICAgdmFyIHRyID0gYW5ndWxhci5lbGVtZW50KCc8dHI+PC90cj4nKTtcblx0ICAgICAgICB3ZWVrRGF5cy5mb3JFYWNoKGZ1bmN0aW9uICh3ZWVrRGF5LCBqKSB7XG5cdCAgICAgICAgICB2YXIgdGQgPSBhbmd1bGFyLmVsZW1lbnQoJzx0ZD4gPC90ZD4nKTtcblx0ICAgICAgICAgIGlmICh3ZWVrRGF5KSB7XG5cdCAgICAgICAgICAgIHZhciBhT3JTcGFuO1xuXHQgICAgICAgICAgICBpZiAoY2FsZW5kYXIuaXNJblJhbmdlKHdlZWtEYXkpKSB7XG5cdCAgICAgICAgICAgICAgLy9idWlsZCBhXG5cdCAgICAgICAgICAgICAgdmFyIHNjb3BlUmVmID0gJ21vbnRoW1wiZGF5c1wiXVsnICsgaSArICddWycgKyBqICsgJ10nO1xuXHQgICAgICAgICAgICAgIGFPclNwYW4gPSBhbmd1bGFyLmVsZW1lbnQoXCI8YSBocmVmPScjJyBtZGMtZHRwLW5vY2xpY2s+PC9hPlwiKS5hdHRyKCduZy1jbGFzcycsICd7c2VsZWN0ZWQ6IGNhbC5pc1NlbGVjdGVkRGF5KCcgKyBzY29wZVJlZiArICcpfScpLmF0dHIoJ25nLWNsaWNrJywgJ2NhbC5zZWxlY3REYXRlKCcgKyBzY29wZVJlZiArICcpJyk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgYU9yU3BhbiA9IGFuZ3VsYXIuZWxlbWVudCgnPHNwYW4+PC9zcGFuPicpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGFPclNwYW4uYWRkQ2xhc3MoJ2R0cC1zZWxlY3QtZGF5JykuaHRtbCh3ZWVrRGF5LmZvcm1hdCgnRCcpKTtcblx0ICAgICAgICAgICAgdGQuYXBwZW5kKGFPclNwYW4pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgdHIuYXBwZW5kKHRkKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB0Ym9keS5hcHBlbmQodHIpO1xuXHQgICAgICB9KTtcblx0ICAgICAgJGNvbXBpbGUodGJvZHkpKHNjb3BlKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgc2NvcGU6IHtcblx0ICAgICAgICBpZHg6ICc9J1xuXHQgICAgICB9LFxuXHQgICAgICByZXF1aXJlOiAnXm1kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXInLFxuXHQgICAgICByZXN0cmljdDogJ0FFJyxcblx0ICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwiZHRwLXBpY2tlci1tb250aFwiPnt7bW9udGgubmFtZX19PC9kaXY+JyArICc8dGFibGUgY2xhc3M9XCJ0YWJsZSBkdHAtcGlja2VyLWRheXNcIj4nICsgJyAgICA8dGhlYWQ+JyArICcgICAgPHRyPicgKyAnICAgICAgICA8dGggbmctcmVwZWF0PVwiZGF5IGluIGNhbC53ZWVrXCI+e3tjYWwudG9EYXkoZGF5KX19PC90aD4nICsgJyAgICA8L3RyPicgKyAnICAgIDwvdGhlYWQ+JyArICcgICAgPHRib2R5PicgKyAnICAgIDwvdGJvZHk+JyArICc8L3RhYmxlPicsXG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjYWxlbmRhcikge1xuXHQgICAgICAgIHNjb3BlLmNhbCA9IGNhbGVuZGFyO1xuXHQgICAgICAgIHNjb3BlLm1vbnRoID0gY2FsZW5kYXIuZ2V0SXRlbUF0SW5kZXgocGFyc2VJbnQoc2NvcGUuaWR4KSk7XG5cdCAgICAgICAgYnVpbGRDYWxlbmRhckNvbnRlbnQoZWxlbWVudCwgc2NvcGUpO1xuXHQgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gc2NvcGUuaWR4O1xuXHQgICAgICAgIH0sIGZ1bmN0aW9uIChpZHgsIG9sZElkeCkge1xuXHQgICAgICAgICAgaWYgKGlkeCAhPSBvbGRJZHgpIHtcblx0ICAgICAgICAgICAgc2NvcGUubW9udGggPSBjYWxlbmRhci5nZXRJdGVtQXRJbmRleChwYXJzZUludChzY29wZS5pZHgpKTtcblx0ICAgICAgICAgICAgYnVpbGRDYWxlbmRhckNvbnRlbnQoZWxlbWVudCwgc2NvcGUpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1dKTtcblx0XG5cdCAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSkuZGlyZWN0aXZlKCdtZGNEdHBOb2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWwpIHtcblx0ICAgICAgICBlbC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH0pO1xuXHQgIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDbG9jaycsIFtmdW5jdGlvbiAoKSB7XG5cdFxuXHQgICAgdmFyIHRlbXBsYXRlID0gJzxkaXYgY2xhc3M9XCJkdHAtcGlja2VyLWNsb2NrXCI+PHNwYW4gbmctaWY9XCIhcG9pbnRzIHx8IHBvaW50cy5sZW5ndGggPCAxXCI+Jm5ic3A7PC9zcGFuPicgKyAnPGRpdiBuZy1yZXBlYXQ9XCJwb2ludCBpbiBwb2ludHNcIiBjbGFzcz1cImR0cC1waWNrZXItdGltZVwiIHN0eWxlPVwibWFyZ2luLWxlZnQ6IHt7cG9pbnQubGVmdH19cHg7IG1hcmdpbi10b3A6IHt7cG9pbnQudG9wfX1weDtcIj4nICsgJyAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwb2ludC52YWx1ZT09PWN1cnJlbnRWYWx1ZX1cIiBjbGFzcz1cImR0cC1zZWxlY3QtaG91clwiIG5nLWNsaWNrPVwic2V0VGltZShwb2ludC52YWx1ZSlcIiBuZy1pZj1cInBvaW50QXZhaWxhYmxlKHBvaW50KVwiPnt7cG9pbnQuZGlzcGxheX19PC9hPicgKyAnICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgY2xhc3M9XCJkaXNhYmxlZCBkdHAtc2VsZWN0LWhvdXJcIiBuZy1pZj1cIiFwb2ludEF2YWlsYWJsZShwb2ludClcIj57e3BvaW50LmRpc3BsYXl9fTwvYT4nICsgJzwvZGl2PicgKyAnPGRpdiBjbGFzcz1cImR0cC1oYW5kIGR0cC1ob3VyLWhhbmRcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJkdHAtaGFuZCBkdHAtbWludXRlLWhhbmRcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJkdHAtY2xvY2stY2VudGVyXCI+PC9kaXY+JyArICc8L2Rpdj4nO1xuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJlc3RyaWN0OiAnRScsXG5cdCAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcblx0ICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblx0ICAgICAgICB2YXIgbWludXRlTW9kZSA9IGF0dHJzLm1vZGUgPT09ICdtaW51dGVzJztcblx0ICAgICAgICB2YXIgcGlja2VyID0gc2NvcGUucGlja2VyO1xuXHQgICAgICAgIC8vYmFua2luZyBvbiB0aGUgZmFjdCB0aGF0IHRoZXJlIHdpbGwgb25seSBiZSBvbmUgYXQgYSB0aW1lXG5cdCAgICAgICAgdmFyIGNvbXBvbmVudFJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZC1kaWFsb2cuZHRwJyk7XG5cdCAgICAgICAgdmFyIGV4ZWMgPSBmdW5jdGlvbiBleGVjKCkge1xuXHQgICAgICAgICAgdmFyIGNsb2NrID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1waWNrZXItY2xvY2snKSksXG5cdCAgICAgICAgICAgICAgcGlja2VyRWwgPSBhbmd1bGFyLmVsZW1lbnQoY29tcG9uZW50Um9vdC5xdWVyeVNlbGVjdG9yKCcuZHRwLXBpY2tlcicpKTtcblx0XG5cdCAgICAgICAgICB2YXIgdyA9IGNvbXBvbmVudFJvb3QucXVlcnlTZWxlY3RvcignLmR0cC1jb250ZW50Jykub2Zmc2V0V2lkdGg7XG5cdCAgICAgICAgICB2YXIgcGwgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXHQgICAgICAgICAgdmFyIHByID0gcGFyc2VJbnQoY3NzKHBpY2tlckVsLCAncGFkZGluZ1JpZ2h0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgbWwgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5MZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgbXIgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5SaWdodCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXHQgICAgICAgICAgLy9zZXQgd2lkdGhcblx0ICAgICAgICAgIHZhciBjbG9ja1dpZHRoID0gdyAtIChtbCArIG1yICsgcGwgKyBwcik7XG5cdCAgICAgICAgICBjbG9jay5jc3MoJ3dpZHRoJywgY2xvY2tXaWR0aCArICdweCcpO1xuXHRcblx0ICAgICAgICAgIHZhciBwTCA9IHBhcnNlSW50KGNzcyhwaWNrZXJFbCwgJ3BhZGRpbmdMZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgcFQgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nVG9wJykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgbUwgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5MZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgbVQgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5Ub3AnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0XG5cdCAgICAgICAgICB2YXIgciA9IGNsb2NrV2lkdGggLyAyO1xuXHQgICAgICAgICAgdmFyIGogPSByIC8gMS4yOyAvLz8/P1xuXHRcblx0ICAgICAgICAgIHZhciBwb2ludHMgPSBbXTtcblx0XG5cdCAgICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8IDEyOyArK2gpIHtcblx0ICAgICAgICAgICAgdmFyIHggPSBqICogTWF0aC5zaW4oTWF0aC5QSSAqIDIgKiAoaCAvIDEyKSk7XG5cdCAgICAgICAgICAgIHZhciB5ID0gaiAqIE1hdGguY29zKE1hdGguUEkgKiAyICogKGggLyAxMikpO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGhvdXIgPSB7XG5cdCAgICAgICAgICAgICAgbGVmdDogciArIHggKyBwTCAvIDIgLSAocEwgKyBtTCksXG5cdCAgICAgICAgICAgICAgdG9wOiByIC0geSAtIG1UIC8gMiAtIChwVCArIG1UKSxcblx0ICAgICAgICAgICAgICB2YWx1ZTogbWludXRlTW9kZSA/IGggKiA1IDogaCAvLzUgZm9yIG1pbnV0ZSA2MC8xMlxuXHQgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgaWYgKG1pbnV0ZU1vZGUpIHtcblx0ICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBob3VyLnZhbHVlIDwgMTAgPyAnMCcgKyBob3VyLnZhbHVlIDogaG91ci52YWx1ZTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0XG5cdCAgICAgICAgICAgICAgaWYgKHBpY2tlci5wYXJhbXMuc2hvcnRUaW1lKSB7XG5cdCAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBoID09PSAwID8gMTIgOiBoO1xuXHQgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBwaWNrZXIuaXNQTSgpID8gaCArIDEyIDogaDtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHBvaW50cy5wdXNoKGhvdXIpO1xuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIHNjb3BlLnBvaW50cyA9IHBvaW50cztcblx0ICAgICAgICAgIHNldEN1cnJlbnRWYWx1ZSgpO1xuXHQgICAgICAgICAgY2xvY2suY3NzKCdoZWlnaHQnLCBjbG9ja1dpZHRoICsgJ3B4Jyk7XG5cdCAgICAgICAgICAvL3BpY2tlci5pbml0SGFuZHModHJ1ZSk7XG5cdFxuXHQgICAgICAgICAgdmFyIGNsb2NrQ2VudGVyID0gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLWNsb2NrLWNlbnRlcicpO1xuXHQgICAgICAgICAgdmFyIGNlbnRlcldpZHRoID0gY2xvY2tDZW50ZXIub2Zmc2V0V2lkdGggLyAyIHx8IDcuNSxcblx0ICAgICAgICAgICAgICBjZW50ZXJIZWlnaHQgPSBjbG9ja0NlbnRlci5vZmZzZXRIZWlnaHQgLyAyIHx8IDcuNTtcblx0ICAgICAgICAgIHZhciBfaEwgPSByIC8gMS44O1xuXHQgICAgICAgICAgdmFyIF9tTCA9IHIgLyAxLjU7XG5cdFxuXHQgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1ob3VyLWhhbmQnKSkuY3NzKHtcblx0ICAgICAgICAgICAgbGVmdDogciArIG1MICogMS41ICsgJ3B4Jyxcblx0ICAgICAgICAgICAgaGVpZ2h0OiBfaEwgKyAncHgnLFxuXHQgICAgICAgICAgICBtYXJnaW5Ub3A6IHIgLSBfaEwgLSBwTCArICdweCdcblx0ICAgICAgICAgIH0pLmFkZENsYXNzKCFtaW51dGVNb2RlID8gJ29uJyA6ICcnKTtcblx0XG5cdCAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLmNzcyh7XG5cdCAgICAgICAgICAgIGxlZnQ6IHIgKyBtTCAqIDEuNSArICdweCcsXG5cdCAgICAgICAgICAgIGhlaWdodDogX21MICsgJ3B4Jyxcblx0ICAgICAgICAgICAgbWFyZ2luVG9wOiByIC0gX21MIC0gcEwgKyAncHgnXG5cdCAgICAgICAgICB9KS5hZGRDbGFzcyhtaW51dGVNb2RlID8gJ29uJyA6ICcnKTtcblx0XG5cdCAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoY2xvY2tDZW50ZXIpLmNzcyh7XG5cdCAgICAgICAgICAgIGxlZnQ6IHIgKyBwTCArIG1MIC0gY2VudGVyV2lkdGggKyAncHgnLFxuXHQgICAgICAgICAgICBtYXJnaW5Ub3A6IHIgLSBtTCAvIDIgLSBjZW50ZXJIZWlnaHQgKyAncHgnXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIGFuaW1hdGVIYW5kcygpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciBhbmltYXRlSGFuZHMgPSBmdW5jdGlvbiBhbmltYXRlSGFuZHMoKSB7XG5cdCAgICAgICAgICB2YXIgX2RhdGUgPSBwaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCk7XG5cdCAgICAgICAgICB2YXIgaCA9IF9kYXRlLmhvdXIoKTtcblx0ICAgICAgICAgIHZhciBtID0gX2RhdGUubWludXRlKCk7XG5cdFxuXHQgICAgICAgICAgcm90YXRlRWxlbWVudChhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLWhvdXItaGFuZCcpKSwgMzYwIC8gMTIgKiBoKTtcblx0ICAgICAgICAgIHZhciBtZGcgPSAzNjAgLyA2MCAqICg1ICogTWF0aC5yb3VuZChtIC8gNSkpO1xuXHQgICAgICAgICAgcm90YXRlRWxlbWVudChhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLCBtZGcpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciByb3RhdGVFbGVtZW50ID0gZnVuY3Rpb24gcm90YXRlRWxlbWVudChlbCwgZGVnKSB7XG5cdCAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWwpLmNzcyh7XG5cdCAgICAgICAgICAgIFdlYmtpdFRyYW5zZm9ybTogJ3JvdGF0ZSgnICsgZGVnICsgJ2RlZyknLFxuXHQgICAgICAgICAgICAnLW1vei10cmFuc2Zvcm0nOiAncm90YXRlKCcgKyBkZWcgKyAnZGVnKSdcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciBzZXRDdXJyZW50VmFsdWUgPSBmdW5jdGlvbiBzZXRDdXJyZW50VmFsdWUoKSB7XG5cdCAgICAgICAgICB2YXIgZGF0ZSA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcblx0ICAgICAgICAgIHNjb3BlLmN1cnJlbnRWYWx1ZSA9IG1pbnV0ZU1vZGUgPyBkYXRlLm1pbnV0ZSgpIDogZGF0ZS5ob3VyKCkgJSAxMjtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgdmFyIHRtcCA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcblx0ICAgICAgICAgIHJldHVybiB0bXAgPyB0bXAuZm9ybWF0KCdISDptbScpIDogJyc7XG5cdCAgICAgICAgfSwgZnVuY3Rpb24gKG5ld1ZhbCkge1xuXHQgICAgICAgICAgc2V0Q3VycmVudFZhbHVlKCk7XG5cdCAgICAgICAgICBhbmltYXRlSGFuZHMoKTtcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgdmFyIHNldERpc3BsYXlQb2ludHMgPSBmdW5jdGlvbiBzZXREaXNwbGF5UG9pbnRzKGlzUE0sIHBvaW50cykge1xuXHQgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgcG9pbnRzW2ldLmRpc3BsYXkgPSBpO1xuXHQgICAgICAgICAgICBpZiAoaXNQTSkge1xuXHQgICAgICAgICAgICAgIHBvaW50c1tpXS5kaXNwbGF5ICs9IDEyO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gcG9pbnRzO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGlmICghcGlja2VyLnBhcmFtcy5zaG9ydFRpbWUpIHtcblx0ICAgICAgICAgIHNjb3BlLiR3YXRjaCgncGlja2VyLm1lcmlkaWVuJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBpZiAoIW1pbnV0ZU1vZGUpIHtcblx0ICAgICAgICAgICAgICBpZiAoc2NvcGUucG9pbnRzKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gc2V0RGlzcGxheVBvaW50cyhwaWNrZXIuaXNQTSgpLCBhbmd1bGFyLmNvcHkoc2NvcGUucG9pbnRzKSk7XG5cdCAgICAgICAgICAgICAgICBzY29wZS5wb2ludHMgPSBwb2ludHM7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHNjb3BlLnNldFRpbWUgPSBmdW5jdGlvbiAodmFsKSB7XG5cdCAgICAgICAgICBpZiAodmFsID09PSBzY29wZS5jdXJyZW50VmFsdWUpIHtcblx0ICAgICAgICAgICAgcGlja2VyLm9rKCk7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgaWYgKCFtaW51dGVNb2RlKSB7XG5cdCAgICAgICAgICAgIHBpY2tlci5jdXJyZW50RGF0ZS5ob3VyKHBpY2tlci5pc1BNKCkgPyB2YWwgKyAxMiA6IHZhbCk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBwaWNrZXIuY3VycmVudERhdGUubWludXRlKHZhbCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBwaWNrZXIuY3VycmVudERhdGUuc2Vjb25kKDApO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHNjb3BlLnBvaW50QXZhaWxhYmxlID0gZnVuY3Rpb24gKHBvaW50KSB7XG5cdCAgICAgICAgICByZXR1cm4gbWludXRlTW9kZSA/IHBpY2tlci5pc01pbnV0ZUF2YWlsYWJsZShwb2ludC52YWx1ZSkgOiBwaWNrZXIuaXNIb3VyQXZhaWxhYmxlKHBvaW50LnZhbHVlKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB2YXIgdW53YXRjaGVyID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHJldHVybiBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpLmxlbmd0aDtcblx0ICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBleGVjKCk7XG5cdCAgICAgICAgICB1bndhdGNoZXIoKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XSk7XG5cdH0pKF9tb21lbnQyLmRlZmF1bHQpO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0OTcpKSlcblxuLyoqKi8gfSxcblxuLyoqKi8gNTgyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Lypcblx0ICogYW5ndWxhci1nb29nbGUtcGx1cy1kaXJlY3RpdmUgdjAuMC4xXG5cdCAqIOKZoSBDb3B5SGVhcnQgMjAxMyBieSBKZXJhZCBCaXRuZXIgaHR0cDovL2plcmFkYml0bmVyLmNvbVxuXHQgKiBDb3B5aW5nIGlzIGFuIGFjdCBvZiBsb3ZlLiBQbGVhc2UgY29weS5cblx0ICovXG5cdFxuXHR2YXIgX2dldE93blByb3BlcnR5TmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4Myk7XG5cdFxuXHR2YXIgX2dldE93blByb3BlcnR5TmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0T3duUHJvcGVydHlOYW1lcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0YW5ndWxhci5tb2R1bGUoJ2RpcmVjdGl2ZS5nK3NpZ25pbicsIFtdKS5kaXJlY3RpdmUoJ2dvb2dsZVBsdXNTaWduaW4nLCBbJyR3aW5kb3cnLCBmdW5jdGlvbiAoJHdpbmRvdykge1xuXHQgIHZhciBlbmRpbmcgPSAvXFwuYXBwc1xcLmdvb2dsZXVzZXJjb250ZW50XFwuY29tJC87XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICByZXN0cmljdDogJ0UnLFxuXHQgICAgdHJhbnNjbHVkZTogdHJ1ZSxcblx0ICAgIHRlbXBsYXRlOiAnPHNwYW4+PC9zcGFuPicsXG5cdCAgICByZXBsYWNlOiB0cnVlLFxuXHQgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsIGxpbmtlcikge1xuXHQgICAgICBhdHRycy5jbGllbnRpZCArPSBlbmRpbmcudGVzdChhdHRycy5jbGllbnRpZCkgPyAnJyA6ICcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nO1xuXHRcblx0ICAgICAgYXR0cnMuJHNldCgnZGF0YS1jbGllbnRpZCcsIGF0dHJzLmNsaWVudGlkKTtcblx0ICAgICAgYXR0cnMuJHNldCgndGhlbWUnLCBhdHRycy50aGVtZSk7XG5cdFxuXHQgICAgICAvLyBTb21lIGRlZmF1bHQgdmFsdWVzLCBiYXNlZCBvbiBwcmlvciB2ZXJzaW9ucyBvZiB0aGlzIGRpcmVjdGl2ZVxuXHQgICAgICB2YXIgZGVmYXVsdHMgPSB7XG5cdCAgICAgICAgY2FsbGJhY2s6ICdzaWduaW5DYWxsYmFjaycsXG5cdCAgICAgICAgY29va2llcG9saWN5OiAnc2luZ2xlX2hvc3Rfb3JpZ2luJyxcblx0ICAgICAgICByZXF1ZXN0dmlzaWJsZWFjdGlvbnM6ICdodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL0FkZEFjdGl2aXR5Jyxcblx0ICAgICAgICBzY29wZTogJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvcGx1cy5sb2dpbiBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3VzZXJpbmZvLmVtYWlsJyxcblx0ICAgICAgICBoZWlnaHQ6ICdzdGFuZGFyZCcsXG5cdCAgICAgICAgd2lkdGg6ICd3aWRlJyxcblx0ICAgICAgICBzdGF0ZTogJydcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIGRlZmF1bHRzLmNsaWVudGlkID0gYXR0cnMuY2xpZW50aWQ7XG5cdCAgICAgIGRlZmF1bHRzLnRoZW1lID0gYXR0cnMudGhlbWU7XG5cdFxuXHQgICAgICAvLyBPdmVyd3JpdGUgZGVmYXVsdCB2YWx1ZXMgaWYgZXhwbGljaXRseSBzZXRcblx0ICAgICAgYW5ndWxhci5mb3JFYWNoKCgwLCBfZ2V0T3duUHJvcGVydHlOYW1lczIuZGVmYXVsdCkoZGVmYXVsdHMpLCBmdW5jdGlvbiAocHJvcE5hbWUpIHtcblx0ICAgICAgICBpZiAoYXR0cnMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG5cdCAgICAgICAgICBkZWZhdWx0c1twcm9wTmFtZV0gPSBhdHRyc1twcm9wTmFtZV07XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIC8vIERlZmF1bHQgbGFuZ3VhZ2Vcblx0ICAgICAgLy8gU3VwcG9ydGVkIGxhbmd1YWdlczogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vKy93ZWIvYXBpL3N1cHBvcnRlZC1sYW5ndWFnZXNcblx0ICAgICAgYXR0cnMuJG9ic2VydmUoJ2xhbmd1YWdlJywgZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgJHdpbmRvdy5fX19nY2ZnID0ge1xuXHQgICAgICAgICAgbGFuZzogdmFsdWUgPyB2YWx1ZSA6ICdlbidcblx0ICAgICAgICB9O1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIC8vIEFzeW5jaHJvbm91c2x5IGxvYWQgdGhlIEcrIFNESy5cblx0ICAgICAgdmFyIHBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7cG8udHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO3BvLmFzeW5jID0gdHJ1ZTtcblx0ICAgICAgcG8uc3JjID0gJ2h0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2NsaWVudDpwbHVzb25lLmpzJztcblx0ICAgICAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07cy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwbywgcyk7XG5cdFxuXHQgICAgICBsaW5rZXIoZnVuY3Rpb24gKGVsLCB0U2NvcGUpIHtcblx0ICAgICAgICBwby5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBpZiAoZWwubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKGVsKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGdhcGkuc2lnbmluLnJlbmRlcihlbGVtZW50WzBdLCBkZWZhdWx0cyk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfTtcblx0fV0pLnJ1bihbJyR3aW5kb3cnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkd2luZG93LCAkcm9vdFNjb3BlKSB7XG5cdCAgJHdpbmRvdy5zaWduaW5DYWxsYmFjayA9IGZ1bmN0aW9uIChhdXRoUmVzdWx0KSB7XG5cdCAgICBpZiAoYXV0aFJlc3VsdCAmJiBhdXRoUmVzdWx0LmFjY2Vzc190b2tlbikge1xuXHQgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1zdWNjZXNzJywgYXV0aFJlc3VsdCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1mYWlsdXJlJywgYXV0aFJlc3VsdCk7XG5cdCAgICB9XG5cdCAgfTtcblx0fV0pO1xuXG4vKioqLyB9LFxuXG4vKioqLyA1ODc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxMyk7XG5cdFxuXHR2YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQhZnVuY3Rpb24gKGUsIHQpIHtcblx0ICBcInVzZSBzdHJpY3RcIjtcblx0XG5cdCAgIHRydWUgPyAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbX193ZWJwYWNrX3JlcXVpcmVfXygzNjgpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4OCldLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyA9IGZ1bmN0aW9uIChlLCBuKSB7XG5cdCAgICByZXR1cm4gdChlLCBuKTtcblx0ICB9LmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSkgOiBcIm9iamVjdFwiID09ICh0eXBlb2YgbW9kdWxlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShtb2R1bGUpKSAmJiBtb2R1bGUuZXhwb3J0cyA/IG1vZHVsZS5leHBvcnRzID0gdChyZXF1aXJlKFwiYW5ndWxhclwiKSwgcmVxdWlyZShcInN3ZWV0YWxlcnRcIikpIDogdChlLmFuZ3VsYXIsIGUuc3dlZXRBbGVydCk7XG5cdH0odW5kZWZpbmVkLCBmdW5jdGlvbiAoZSwgdCkge1xuXHQgIFwidXNlIHN0cmljdFwiO1xuXHRcblx0ICB2YXIgbiA9IGZ1bmN0aW9uIG4oKSB7XG5cdCAgICB0aGlzLnNob3cgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBlID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXHQgICAgICB0LmFwcGx5KHZvaWQgMCwgZSk7XG5cdCAgICB9LCBlLmZvckVhY2goW1wic2hvd0lucHV0RXJyb3JcIiwgXCJjbG9zZVwiXSwgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgdGhpc1tlXSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgbiA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblx0ICAgICAgICB0W2VdLmFwcGx5KHZvaWQgMCwgbik7XG5cdCAgICAgIH07XG5cdCAgICB9LCB0aGlzKSwgdGhpcy5pc1Nob3duID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgdDtcblx0ICAgICAgcmV0dXJuIGUuZm9yRWFjaChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic3dlZXQtYWxlcnRcIiksIGZ1bmN0aW9uIChuKSB7XG5cdCAgICAgICAgdCA9IGUuZWxlbWVudChuKTtcblx0ICAgICAgfSksIHQgJiYgdC5oYXNDbGFzcyhcInZpc2libGVcIik7XG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgICAgIHIgPSBcImhTd2VldEFsZXJ0XCI7XG5cdCAgcmV0dXJuIGUubW9kdWxlKHIsIFtdKS5zZXJ2aWNlKFwic3dlZXRcIiwgW25dKSwgcjtcblx0fSk7XG5cbi8qKiovIH0sXG5cbi8qKiovIDYyNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyNyk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4NCkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL3ZlbmRvci5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi92ZW5kb3Iuc2Nzc1wiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNjI3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NzcpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiXCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuXG4vKioqLyA2Mjg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MjkpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODQpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA2Mjk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3NykoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuZGlzdHJpYnV0b3Itc2VsZWN0aW9ue2ZvbnQtc2l6ZToxNnB0O3BhZGRpbmc6M3B4O21hcmdpbjozcHh9Ym9keXttYXJnaW4tdG9wOjEwMHB4O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9QG1lZGlhIChtaW4td2lkdGg6NzY4cHgpe2JvZHl7bWFyZ2luLXRvcDo1MHB4fX0jd3JhcHBlcntwYWRkaW5nLWxlZnQ6MH0jcGFnZS13cmFwcGVye3dpZHRoOjEwMCU7cGFkZGluZzowO2JhY2tncm91bmQtY29sb3I6I2ZmZn0uaHVnZXtmb250LXNpemU6NTBweDtsaW5lLWhlaWdodDpub3JtYWx9QG1lZGlhIChtaW4td2lkdGg6NzY4cHgpeyN3cmFwcGVye3BhZGRpbmctbGVmdDoyMjVweH0jcGFnZS13cmFwcGVye3BhZGRpbmc6MTBweH19Lm1hcmdpbi10b3AtMDV7bWFyZ2luLXRvcDouNWVtfS5tYXJnaW4tdG9wLTE1e21hcmdpbi10b3A6MS41ZW19Lm1hcmdpbi10b3AtMjB7bWFyZ2luLXRvcDoyZW19Lm1hcmdpbi10b3AtMjV7bWFyZ2luLXRvcDoyLjVlbX0ubWFyZ2luLXRvcC01MHttYXJnaW4tdG9wOjVlbX0uaXNzdWUtd2FybmluZy1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6b3JhbmdlfS5pc3N1ZS13YXJuaW5nLXRleHR7Y29sb3I6b3JhbmdlfS5pc3N1ZS1kYW5nZXItYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOnJlZH0uaXNzdWUtZGFuZ2VyLXRleHR7Y29sb3I6cmVkfS5pc3N1ZS1ub3JtYWwtYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVufS5pc3N1ZS1ub3JtYWwtdGV4dHtjb2xvcjpncmVlbn0udXAtdHJ1ZS1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6Z3JlZW59LnVwLWZhbHNlLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpyZWR9Lm5hdmJhci1kZWZhdWx0e2JhY2tncm91bmQtY29sb3I6IzFiNzViYjtib3JkZXItY29sb3I6IzE1NTk4ZX0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZHtjb2xvcjojZmZmfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLWJyYW5kOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLWJyYW5kOmhvdmVye2NvbG9yOiM1NWE3ZTd9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2PmxpPmEsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2PmxpPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2PmxpPmE6aG92ZXJ7Y29sb3I6I2ZmZn0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmFjdGl2ZT5hLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uYWN0aXZlPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5hY3RpdmU+YTpob3Zlcntjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2FmZDVmM30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YSwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpob3Zlcntjb2xvcjojNTU1O2JhY2tncm91bmQtY29sb3I6I2Q1ZDVkNX0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmRyb3Bkb3duPmEgLmNhcmV0e2JvcmRlci10b3AtY29sb3I6Izc3Nztib3JkZXItYm90dG9tLWNvbG9yOiM3Nzd9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hOmZvY3VzIC5jYXJldCwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmRyb3Bkb3duPmE6aG92ZXIgLmNhcmV0e2JvcmRlci10b3AtY29sb3I6IzMzMztib3JkZXItYm90dG9tLWNvbG9yOiMzMzN9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmEgLmNhcmV0LC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hOmZvY3VzIC5jYXJldCwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpob3ZlciAuY2FyZXR7Ym9yZGVyLXRvcC1jb2xvcjojNTU1O2JvcmRlci1ib3R0b20tY29sb3I6IzU1NX0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGV7Ym9yZGVyLWNvbG9yOiNkZGR9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xlOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNkZGR9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xlIC5pY29uLWJhcntiYWNrZ3JvdW5kLWNvbG9yOiNjY2N9QG1lZGlhIChtYXgtd2lkdGg6NzY3cHgpey5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5he2NvbG9yOiM3Nzd9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2IC5vcGVuIC5kcm9wZG93bi1tZW51PmxpPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2IC5vcGVuIC5kcm9wZG93bi1tZW51PmxpPmE6aG92ZXJ7Y29sb3I6IzMzM319LnRvcC1uYXZ7cGFkZGluZzowIDE1cHh9LnRvcC1uYXY+bGl7ZGlzcGxheTppbmxpbmUtYmxvY2s7ZmxvYXQ6bGVmdH0udG9wLW5hdj5saT5he3BhZGRpbmctdG9wOjE1cHg7cGFkZGluZy1ib3R0b206MTVweDtsaW5lLWhlaWdodDoyMHB4O2NvbG9yOiNlZmVmZWZ9LnRvcC1uYXY+Lm9wZW4+YSwudG9wLW5hdj4ub3Blbj5hOmZvY3VzLC50b3AtbmF2Pi5vcGVuPmE6aG92ZXIsLnRvcC1uYXY+bGk+YTpmb2N1cywudG9wLW5hdj5saT5hOmhvdmVye2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojMWI3NWJifS50b3AtbmF2Pi5vcGVuPi5kcm9wZG93bi1tZW51e2Zsb2F0OmxlZnQ7cG9zaXRpb246YWJzb2x1dGU7bWFyZ2luLXRvcDowO2JvcmRlcjoxcHggc29saWQgcmdiYSgwLDAsMCwuMTUpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3gtc2hhZG93OjAgNnB4IDEycHggcmdiYSgwLDAsMCwuMTc1KX0udG9wLW5hdj4ub3Blbj4uZHJvcGRvd24tbWVudT5saT5he3doaXRlLXNwYWNlOm5vcm1hbH11bC5tZXNzYWdlLWRyb3Bkb3due3BhZGRpbmc6MDttYXgtaGVpZ2h0OjI1MHB4O292ZXJmbG93LXg6aGlkZGVuO292ZXJmbG93LXk6YXV0b31saS5tZXNzYWdlLXByZXZpZXd7d2lkdGg6Mjc1cHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSgwLDAsMCwuMTUpfWxpLm1lc3NhZ2UtcHJldmlldz5he3BhZGRpbmctdG9wOjE1cHg7cGFkZGluZy1ib3R0b206MTVweH1saS5tZXNzYWdlLWZvb3RlcnttYXJnaW46NXB4IDB9dWwuYWxlcnQtZHJvcGRvd257d2lkdGg6MjAwcHh9QG1lZGlhIChtaW4td2lkdGg6NzY4cHgpey5zaWRlLW5hdntwb3NpdGlvbjpmaXhlZDt0b3A6NTFweDtsZWZ0OjIyNXB4O21hcmdpbi1sZWZ0Oi0yMjVweDtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjA7b3ZlcmZsb3cteTphdXRvO2JhY2tncm91bmQtY29sb3I6IzFiNzViYjtib3R0b206MDtvdmVyZmxvdy14OmhpZGRlbjtwYWRkaW5nLWJvdHRvbTo0MHB4fS5zaWRlLW5hdiwuc2lkZS1uYXY+bGk+YXt3aWR0aDoyMjVweH0uc2lkZS1uYXYgbGkgYTpmb2N1cywuc2lkZS1uYXYgbGkgYTpob3ZlcntvdXRsaW5lOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojM2Y5Y2UzIWltcG9ydGFudH19LnNpZGUtbmF2PmxpPnVse3BhZGRpbmc6MH0uc2lkZS1uYXY+bGk+dWw+bGk+YXtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6MTBweCAxNXB4IDEwcHggMzhweDt0ZXh0LWRlY29yYXRpb246bm9uZTtjb2xvcjojZDRkNGQ0fS5zaWRlLW5hdj5saT51bD5saT5hOmhvdmVye2NvbG9yOiNmZmZ9LmZsb3QtY2hhcnR7ZGlzcGxheTpibG9jaztoZWlnaHQ6NDAwcHh9LmZsb3QtY2hhcnQtY29udGVudHt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5odWdle2ZvbnQtc2l6ZTo0MHB4fS5wYW5lbC1ncmVlbntib3JkZXItY29sb3I6IzVjYjg1Y30ucGFuZWwtZ3JlZW4+LnBhbmVsLWhlYWRpbmd7Ym9yZGVyLWNvbG9yOiM1Y2I4NWM7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPmF7Y29sb3I6IzVjYjg1Y30ucGFuZWwtZ3JlZW4+YTpob3Zlcntjb2xvcjojM2Q4YjNkfS5wYW5lbC1yZWR7Ym9yZGVyLWNvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD4ucGFuZWwtaGVhZGluZ3tib3JkZXItY29sb3I6I2Q5NTM0Zjtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2Q5NTM0Zn0ucGFuZWwtcmVkPmF7Y29sb3I6I2Q5NTM0Zn0ucGFuZWwtcmVkPmE6aG92ZXJ7Y29sb3I6I2I1MmIyN30ucGFuZWwteWVsbG93e2JvcmRlci1jb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+LnBhbmVsLWhlYWRpbmd7Ym9yZGVyLWNvbG9yOiNmMGFkNGU7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNmMGFkNGV9LnBhbmVsLXllbGxvdz5he2NvbG9yOiNmMGFkNGV9LnBhbmVsLXllbGxvdz5hOmhvdmVye2NvbG9yOiNkZjhhMTN9LnRvb2xiYXJ7bWFyZ2luLWJvdHRvbToxMHB4fS5lbnRpdHkta2V5e2ZvbnQtZmFtaWx5Ok1vbmFjbyxDb25zb2xhcyxMdWNpZGEgQ29uc29sZSxkZWphdnUgc2FucyBtb25vLG1vbm9zcGFjZTtmb250LXNpemU6MTFweH0ucHJvb2Ytb2YtcGxheS1sYWJlbHtwYWRkaW5nLWJvdHRvbToxMHB4O3BhZGRpbmctdG9wOjEwcHh9LmNvcHktcmVhZHktdHJhbnNwYXJlbnR7Y29sb3I6dHJhbnNwYXJlbnR9Lm5vLWRldmljZXN7dGV4dC1hbGlnbjpjZW50ZXJ9LnByb3BlcnRpZXMtd29yZC1icmVha3t3aWR0aDozOTBweDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmJsb2NrfS5jb21tYW5kLWhpc3RvcnktY29tbWFuZHt3aWR0aDozNzVweDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmJsb2NrfS5ob3N0bmFtZS13b3JkLWJyZWFre3dpZHRoOjIwMHB4O3dvcmQtd3JhcDpicmVhay13b3JkO2Rpc3BsYXk6aW5saW5lLWJsb2NrfVtkYXRhLW5nLWNsaWNrXSxbbmctY2xpY2tdLFt4LW5nLWNsaWNrXXtjdXJzb3I6cG9pbnRlcn0jcHJvb2ZwbGF5LXNlbGVjdGVkLWl0ZW1ze21pbi13aWR0aDowIWltcG9ydGFudDttYXJnaW46MCBhdXRvO3BhZGRpbmc6MCBhdXRvfS5yYWRpby1idXR0b257cGFkZGluZzozcHh9Lmhvcml6b250YWwtc3VibWl0e21hcmdpbjouNWVtfS5ob3Jpem9udGFsLXN1Ym1pdCwucmFkaW8taG9yaXpvbnRhbHtkaXNwbGF5OmZsZXg7YWxpZ24tc2VsZjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyOy13ZWJraXQtYWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcn1tZC10b29sYmFyLm1kLWRlZmF1bHQtdGhlbWU6bm90KC5tZC1tZW51LXRvb2xiYXIpLG1kLXRvb2xiYXI6bm90KC5tZC1tZW51LXRvb2xiYXIpe2JhY2tncm91bmQtY29sb3I6IzFiNzViYiFpbXBvcnRhbnQ7bWF4LWhlaWdodDo2NHB4O21pbi1oZWlnaHQ6NjRweH0ubWQtdG9vbGJhci10b29sc3tiYWNrZ3JvdW5kLWNvbG9yOiMwMDAhaW1wb3J0YW50O21heC1oZWlnaHQ6NjRweDttaW4taGVpZ2h0OjY0cHh9LnNreWtpdC1pbWFnZXttYXgtd2lkdGg6MTAwJTtoZWlnaHQ6MzNweH1AbWVkaWEgKG1heC13aWR0aDo3NjdweCl7bWQtdG9vbGJhci5tZC1kZWZhdWx0LXRoZW1lOm5vdCgubWQtbWVudS10b29sYmFyKSxtZC10b29sYmFyOm5vdCgubWQtbWVudS10b29sYmFyKXttYXJnaW4tdG9wOi01MHB4O21hcmdpbi1ib3R0b206NTBweH19LmNlbnRlci1ibG9ja3t0ZXh0LWFsaWduOmNlbnRlcn0uZWxsaXBzaXMtb3ZlcmZsb3csLnByb29mLW9mLXBsYXktc2VsZWN0ZWQtaXRlbXt3aWR0aDoxMDAlO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1hbGlnbjpsZWZ0O3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LnByb29mLW9mLXBsYXktdGVuYW50LW5hbWUtb3B0aW9ue3dpZHRoOjdlbTt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246Y2VudGVyO3Bvc2l0aXRpb246YWJzb2x1dGU7dGV4dC1vdmVyZmxvdzplbGxpcHNpc30ucHJvb2Ytb2YtcGxheS1ob3Jpem9udGFsLXRvcC1iYXJ7YWxpZ24tc2VsZjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyOy13ZWJraXQtYWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOi41ZW07bWFyZ2luLWJvdHRvbTouNWVtO2FsaWduLWl0ZW1zOmNlbnRlcn0ubXktZmxleCwucHJvb2Ytb2YtcGxheS1ob3Jpem9udGFsLXRvcC1iYXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXJ9LmJpZ2dlci1idXR0b25ze3BhZGRpbmc6LjRlbTttaW4td2lkdGg6ODhweDtib3JkZXItcmFkaXVzOjVweDtmb250LXNpemU6MTZweDt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTtib3JkZXI6bm9uZTtvdXRsaW5lOm5vbmV9LmFkbWluLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7YWxpZ24tY29udGVudDpmbGV4LXN0YXJ0fS5yZWdpc3RyYXRpb24tZXZlbnQtY29sdW1ue2hlaWdodDoxMTBweDtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7b3ZlcmZsb3c6c2Nyb2xsfS5wdWxsLWNvbW1hbmQtc2VuZC1idXR0b24tdXB7bWFyZ2luLXRvcDotMnB4fWhlYWRlci5kdHAtaGVhZGVye2JhY2tncm91bmQ6IzFiNzViYiFpbXBvcnRhbnR9LmR0cCBkaXYuZHRwLWRhdGUsLmR0cCBkaXYuZHRwLXRpbWV7YmFja2dyb3VuZDojMDAwfS5kdHAgLmR0cC1hY3R1YWwtbWVyaWRpZW4gYS5zZWxlY3RlZCwuZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LWhvdXIuc2VsZWN0ZWQsLmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+YS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiMxYjc1YmIhaW1wb3J0YW50fS5kdHAgLmR0cC1oYW5kLm9ue2JhY2tncm91bmQ6IzAwMH1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDYzMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0RGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybC4kaW5qZWN0ID0gW1wiJGxvZ1wiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIiRzdGF0ZVwiLCBcIlNlc3Npb25zU2VydmljZVwiLCBcIkRldmljZXNTZXJ2aWNlXCIsIFwiTG9jYXRpb25zU2VydmljZVwiLCBcIkNvbW1hbmRzU2VydmljZVwiLCBcIlRpbWV6b25lc1NlcnZpY2VcIiwgXCJzd2VldFwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIiRtZERpYWxvZ1wiLCBcIlRvYXN0c1NlcnZpY2VcIiwgXCIkdGltZW91dFwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIERldmljZURldGFpbHNDb21tYW5kc0N0cmwoJGxvZywgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsIENvbW1hbmRzU2VydmljZSwgVGltZXpvbmVzU2VydmljZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgJG1kRGlhbG9nLCBUb2FzdHNTZXJ2aWNlLCAkdGltZW91dCkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHQgIHZtLmRldmljZUtleSA9ICRzdGF0ZVBhcmFtcy5kZXZpY2VLZXk7XG5cdCAgdm0uZnJvbURldmljZXMgPSAkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiO1xuXHQgIHZtLmN1cnJlbnREZXZpY2UgPSB7fTtcblx0ICB2bS5jb21tYW5kRXZlbnRzID0gW107XG5cdFxuXHQgIHZtLmdlbmVyYXRlTG9jYWxGcm9tVVRDID0gZnVuY3Rpb24gKFVUQ1RpbWUpIHtcblx0ICAgIHZhciBsb2NhbFRpbWUgPSBtb21lbnQudXRjKFVUQ1RpbWUpLnRvRGF0ZSgpO1xuXHQgICAgcmV0dXJuIGxvY2FsVGltZSA9IG1vbWVudChsb2NhbFRpbWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbTpzcyBBJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVwbGFjZUNvbW1hbmRUaW1lID0gZnVuY3Rpb24gKGlzc3Vlcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGVhY2ggPSBpc3N1ZXNbaV07XG5cdCAgICAgIGlmIChlYWNoLnBvc3RlZFRpbWUpIHtcblx0ICAgICAgICBlYWNoLnBvc3RlZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnBvc3RlZFRpbWUpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChlYWNoLmNvbmZpcm1lZFRpbWUpIHtcblx0ICAgICAgICBlYWNoLmNvbmZpcm1lZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNvbmZpcm1lZFRpbWUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm47XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgY29tbWFuZEV2ZW50c1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRDb21tYW5kRXZlbnRzQnlLZXkoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBjb21tYW5kRXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLnJlcGxhY2VDb21tYW5kVGltZShkYXRhLmV2ZW50cyk7XG5cdCAgICAgIHZtLmV2ZW50X25leHRfY3Vyc29yID0gZGF0YS5uZXh0X2N1cnNvcjtcblx0ICAgICAgdm0uZXZlbnRfcHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuXHQgICAgICB2bS5jb21tYW5kRXZlbnRzID0gZGF0YS5ldmVudHM7XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEV2ZW50c1RpbWVPdXQgPSBmdW5jdGlvbiAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICByZXR1cm4gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKGRldmljZUtleSwgcHJldiwgbmV4dCk7XG5cdCAgICB9LCAxMDAwKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb21tYW5kSGlzdG9yeVNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlRXZlbnRDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCBudWxsLCB2bS5ldmVudF9uZXh0X2N1cnNvcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgdm0uZXZlbnRfcHJldl9jdXJzb3IsIG51bGwpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG5cdCAgICBkZXZpY2VQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkdldERldmljZVN1Y2Nlc3MocmVzcG9uc2UpO1xuXHQgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgdm0uY3VycmVudERldmljZSA9IHJlc3BvbnNlO1xuXHQgICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG5cdCAgICAgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSByZXNwb25zZS50aW1lem9uZTtcblx0ICAgIH1cblx0ICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB2bS50ZW5hbnRLZXkgPSB2bS5jdXJyZW50RGV2aWNlLnRlbmFudEtleTtcblx0ICAgIH1cblx0ICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG5cdCAgICAgIHZtLmJhY2tVcmwgPSAnLyMvZGV2aWNlcyc7XG5cdCAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIGRldmljZXMnO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UuaXNVbm1hbmFnZWREZXZpY2UgPT09IHRydWUpIHtcblx0ICAgICAgICB2bS5iYWNrVXJsID0gXCIvIy90ZW5hbnRzL1wiICsgdm0udGVuYW50S2V5ICsgXCIvdW5tYW5hZ2VkXCI7XG5cdCAgICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2bS5iYWNrVXJsID0gXCIvIy90ZW5hbnRzL1wiICsgdm0udGVuYW50S2V5ICsgXCIvbWFuYWdlZFwiO1xuXHQgICAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ub25HZXREZXZpY2VGYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBmZXRjaCB0aGUgZGV0YWlscyBmb3IgdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiTm8gZGV0YWlsIGZvciBkZXZpY2Vfa2V5ICNcIiArIHZtLmRldmljZUtleSArIFwiLiBFcnJvcjogXCIgKyByZXNwb25zZS5zdGF0dXMgKyBcIiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQ7XG5cdCAgICAkbG9nLmVycm9yKGVycm9yTWVzc2FnZSk7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLmNvbnRlbnREZWxldGUodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25SZXNldENvbnRlbnRTdWNjZXNzLCB2bS5vblJlc2V0Q29udGVudEZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzZXRDb250ZW50U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc2V0IGNvbnRlbnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldENvbnRlbnRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJSZXNldCBjb250ZW50IGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLmNvbnRlbnRVcGRhdGUodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVDb250ZW50U3VjY2Vzcywgdm0ub25VcGRhdGVDb250ZW50RmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVDb250ZW50U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVXBkYXRlQ29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIkNvbnRlbnQgdXBkYXRlIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgdXBkYXRlIGNvbnRlbnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldFBsYXllciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzZXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25SZXNldFBsYXllclN1Y2Nlc3MsIHZtLm9uUmVzZXRQbGF5ZXJGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc2V0UGxheWVyU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc2V0IHBsYXllciBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc2V0UGxheWVyRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiUmVzZXQgcGxheWVyIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzZXQgcGxheWVyIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucG93ZXJPbih2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBhbmVsT25TdWNjZXNzLCB2bS5vblBhbmVsT25GYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsT25TdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcGFuZWwgb24gY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25QYW5lbE9uRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiUGFuZWwgb24gY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsT2ZmID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5wb3dlck9mZih2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBhbmVsT2ZmU3VjY2Vzcywgdm0ub25QYW5lbE9mZkZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPZmZTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPZmZGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJQYW5lbCBvZmYgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvZmYgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnVwZGF0ZURldmljZSh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblVwZGF0ZURldmljZVN1Y2Nlc3MsIHZtLm9uVXBkYXRlRGV2aWNlRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVEZXZpY2VTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgdXBkYXRlIGRldmljZSBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZURldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlVwZGF0ZSBkZXZpY2UgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB1cGRhdGUgZGV2aWNlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVm9sdW1lQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS52b2x1bWUodm0uZGV2aWNlS2V5LCB2bS5jdXJyZW50RGV2aWNlLnZvbHVtZSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uVm9sdW1lQ2hhbmdlU3VjY2Vzcyh2bS5jdXJyZW50RGV2aWNlLnZvbHVtZSksIHZtLm9uVm9sdW1lQ2hhbmdlRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Wb2x1bWVDaGFuZ2VTdWNjZXNzID0gZnVuY3Rpb24gKGxldmVsKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgb2YgXCIgKyBsZXZlbCArIFwiIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblZvbHVtZUNoYW5nZUZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlZvbHVtZSBjaGFuZ2UgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ3VzdG9tQ29tbWFuZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UuY3VzdG9tKHZtLmRldmljZUtleSwgdm0uY3VycmVudERldmljZS5jdXN0b20pO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vbkN1c3RvbUNvbW1hbmRTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tKSwgdm0ub25DdXN0b21Db21tYW5kRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25DdXN0b21Db21tYW5kU3VjY2VzcyA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBjdXN0b20gY29tbWFuZCAnXCIgKyBjb21tYW5kICsgXCInIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkN1c3RvbUNvbW1hbmRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJDdXN0b20gY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBjdXN0b20gY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25EaWFnbm9zdGljc1RvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UudG9nZ2xlRGlhZ25vc3RpY3Modm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MsIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblRvZ2dsZURpYWdub3N0aWNzU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJEaWFnbm9zdGljcyBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzdGFydCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzdGFydCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblJlc3RhcnRTdWNjZXNzLCB2bS5vblJlc3RhcnRGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc3RhcnRTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcmVzdGFydCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc3RhcnRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJSZXN0YXJ0IGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzdGFydCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBvc3RMb2cgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvc3RMb2codm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Qb3N0TG9nU3VjY2Vzcywgdm0ub25Qb3N0TG9nRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Qb3N0TG9nU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHBvc3QgbG9nIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUG9zdExvZ0ZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlBvc3QgbG9nIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRldmljZURldGFpbHNDb21tYW5kc0N0cmwgPSBEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2MzI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERldmljZURldGFpbHNDdHJsLiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiJHN0YXRlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiRGV2aWNlc1NlcnZpY2VcIiwgXCJMb2NhdGlvbnNTZXJ2aWNlXCIsIFwiQ29tbWFuZHNTZXJ2aWNlXCIsIFwiVGltZXpvbmVzU2VydmljZVwiLCBcIkludGVncmF0aW9uRXZlbnRzXCIsIFwic3dlZXRcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCIkbWREaWFsb2dcIiwgXCJUb2FzdHNTZXJ2aWNlXCIsIFwiRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkRldmljZURldGFpbHNDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9zbGljZWRUb0FycmF5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNjMzKTtcblx0XG5cdHZhciBfc2xpY2VkVG9BcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zbGljZWRUb0FycmF5Mik7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcxKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gRGV2aWNlRGV0YWlsc0N0cmwoJGxvZywgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsIENvbW1hbmRzU2VydmljZSwgVGltZXpvbmVzU2VydmljZSwgSW50ZWdyYXRpb25FdmVudHMsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsICRtZERpYWxvZywgVG9hc3RzU2VydmljZSwgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2bS5kZXZpY2VLZXkgPSAkc3RhdGVQYXJhbXMuZGV2aWNlS2V5O1xuXHQgIHZtLmZyb21EZXZpY2VzID0gJHN0YXRlUGFyYW1zLmZyb21EZXZpY2VzID09PSBcInRydWVcIjtcblx0ICB2bS5jdXJyZW50RGV2aWNlID0ge307XG5cdCAgdm0ubG9jYXRpb25zID0gW107XG5cdCAgdm0uY29tbWFuZEV2ZW50cyA9IFtdO1xuXHQgIHZtLmRheVJhbmdlID0gMzA7XG5cdCAgdm0uaXNzdWVzID0gW107XG5cdCAgdm0udGltZXpvbmVzID0gW107XG5cdCAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHVuZGVmaW5lZDtcblx0XG5cdCAgdmFyIF9EYXRlTWFuaXB1bGF0aW9uU2VydiA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmNyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheSgzMCk7XG5cdFxuXHQgIHZhciBfRGF0ZU1hbmlwdWxhdGlvblNlcnYyID0gKDAsIF9zbGljZWRUb0FycmF5My5kZWZhdWx0KShfRGF0ZU1hbmlwdWxhdGlvblNlcnYsIDIpO1xuXHRcblx0ICB2bS5zdGFydFRpbWUgPSBfRGF0ZU1hbmlwdWxhdGlvblNlcnYyWzBdO1xuXHQgIHZtLmVuZFRpbWUgPSBfRGF0ZU1hbmlwdWxhdGlvblNlcnYyWzFdO1xuXHRcblx0ICB2bS5lbnJvbGxtZW50RXZlbnRzID0gW107XG5cdFxuXHQgIHZtLnJlcGxhY2VJc3N1ZVRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZWFjaCA9IGlzc3Vlc1tpXTtcblx0ICAgICAgaWYgKGVhY2guY3JlYXRlZCkge1xuXHQgICAgICAgIGVhY2guY3JlYXRlZCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY3JlYXRlZCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGVhY2gudXBkYXRlZCkge1xuXHQgICAgICAgIGVhY2gudXBkYXRlZCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gudXBkYXRlZCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybjtcblx0ICB9O1xuXHRcblx0ICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZWFjaCA9IGlzc3Vlc1tpXTtcblx0ICAgICAgaWYgKGVhY2gucG9zdGVkVGltZSkge1xuXHQgICAgICAgIGVhY2gucG9zdGVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gucG9zdGVkVGltZSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGVhY2guY29uZmlybWVkVGltZSkge1xuXHQgICAgICAgIGVhY2guY29uZmlybWVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY29uZmlybWVkVGltZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybjtcblx0ICB9O1xuXHRcblx0ICB2bS5jb3B5RGV2aWNlS2V5ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnRGV2aWNlIGtleSBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmQnKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb3B5Q29ycmVsYXRpb25JZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnQ29ycmVsYXRpb24gSUQgY29waWVkIHRvIHlvdXIgY2xpcGJvYXJkJyk7XG5cdCAgfTtcblx0XG5cdCAgLy8gZXZlbnQgdGFiXG5cdCAgdm0uZ2V0SXNzdWVzID0gZnVuY3Rpb24gKGRldmljZSwgZXBvY2hTdGFydCwgZXBvY2hFbmQsIHByZXYsIG5leHQpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGlzc3Vlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRJc3N1ZXNCeUtleShkZXZpY2UsIGVwb2NoU3RhcnQsIGVwb2NoRW5kLCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBpc3N1ZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG5cdCAgICAgIHZtLmlzc3VlcyA9IGRhdGEuaXNzdWVzO1xuXHQgICAgICB2bS5wcmV2X2N1cnNvciA9IGRhdGEucHJldjtcblx0ICAgICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIC8vIGNvbW1hbmQgaGlzdG9yeSB0YWJcblx0ICB2bS5nZXRFdmVudHMgPSBmdW5jdGlvbiAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBjb21tYW5kRXZlbnRzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpO1xuXHQgICAgcmV0dXJuIGNvbW1hbmRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ucmVwbGFjZUNvbW1hbmRUaW1lKGRhdGEuZXZlbnRzKTtcblx0ICAgICAgdm0uZXZlbnRfbmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuXHQgICAgICB2bS5ldmVudF9wcmV2X2N1cnNvciA9IGRhdGEucHJldl9jdXJzb3I7XG5cdCAgICAgIHZtLmNvbW1hbmRFdmVudHMgPSBkYXRhLmV2ZW50cztcblx0ICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgLy8gZW5yb2xsbWVudCB0YWJcblx0ICB2bS5nZXRFbnJvbGxtZW50RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgY29tbWFuZEV2ZW50c1Byb21pc2UgPSBJbnRlZ3JhdGlvbkV2ZW50cy5nZXRFbnJvbGxtZW50RXZlbnRzKGRldmljZUtleSk7XG5cdCAgICByZXR1cm4gY29tbWFuZEV2ZW50c1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5lbnJvbGxtZW50RXZlbnRzID0gZGF0YTtcblx0ICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgbnVsbCwgdm0ubmV4dF9jdXJzb3IpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldElzc3Vlcyh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kLCB2bS5wcmV2X2N1cnNvciwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ucGFnaW5hdGVFdmVudENhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuXHQgICAgaWYgKGZvcndhcmQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIG51bGwsIHZtLmV2ZW50X25leHRfY3Vyc29yKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCB2bS5ldmVudF9wcmV2X2N1cnNvciwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmVwb2NoU3RhcnQgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uc3RhcnRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuXHQgICAgdm0uZXBvY2hFbmQgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uZW5kVGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcblx0XG5cdCAgICB2YXIgdGltZXpvbmVQcm9taXNlID0gVGltZXpvbmVzU2VydmljZS5nZXRDdXN0b21UaW1lem9uZXMoKTtcblx0ICAgIHRpbWV6b25lUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS50aW1lem9uZXMgPSBkYXRhO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgdm0ucGFuZWxNb2RlbHMgPSBEZXZpY2VzU2VydmljZS5nZXRQYW5lbE1vZGVscygpO1xuXHQgICAgdm0ucGFuZWxJbnB1dHMgPSBEZXZpY2VzU2VydmljZS5nZXRQYW5lbElucHV0cygpO1xuXHRcblx0ICAgIHZhciBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcblx0ICAgIGRldmljZVByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXNwb25zZSk7XG5cdCAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLm9uR2V0RGV2aWNlRmFpbHVyZShyZXNwb25zZSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5KTtcblx0ICAgIHZtLmdldElzc3Vlcyh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kKTtcblx0ICAgIHJldHVybiB2bS5nZXRFbnJvbGxtZW50RXZlbnRzKHZtLmRldmljZUtleSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25HZXREZXZpY2VTdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICB2bS5jdXJyZW50RGV2aWNlID0gcmVzcG9uc2U7XG5cdCAgICBpZiAocmVzcG9uc2UudGltZXpvbmUgIT09IHZtLnNlbGVjdGVkVGltZXpvbmUpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHJlc3BvbnNlLnRpbWV6b25lO1xuXHQgICAgfVxuXHQgICAgaWYgKHZtLnRlbmFudEtleSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHZtLnRlbmFudEtleSA9IHZtLmN1cnJlbnREZXZpY2UudGVuYW50S2V5O1xuXHQgICAgfVxuXHQgICAgaWYgKCRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCIpIHtcblx0ICAgICAgdm0uYmFja1VybCA9ICcvIy9kZXZpY2VzJztcblx0ICAgICAgdm0uYmFja1VybFRleHQgPSAnQmFjayB0byBkZXZpY2VzJztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmlzVW5tYW5hZ2VkRGV2aWNlID09PSB0cnVlKSB7XG5cdCAgICAgICAgdm0uYmFja1VybCA9IFwiLyMvdGVuYW50cy9cIiArIHZtLnRlbmFudEtleSArIFwiL3VubWFuYWdlZFwiO1xuXHQgICAgICAgIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2bS5iYWNrVXJsID0gXCIvIy90ZW5hbnRzL1wiICsgdm0udGVuYW50S2V5ICsgXCIvbWFuYWdlZFwiO1xuXHQgICAgICAgIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IG1hbmFnZWQgZGV2aWNlcyc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHZhciBsb2NhdGlvbnNQcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5nZXRMb2NhdGlvbnNCeVRlbmFudEtleSh2bS50ZW5hbnRLZXkpO1xuXHQgICAgcmV0dXJuIGxvY2F0aW9uc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5sb2NhdGlvbnMgPSBkYXRhO1xuXHQgICAgICByZXR1cm4gdm0uc2V0U2VsZWN0ZWRPcHRpb25zKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkdldERldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIGZldGNoIHRoZSBkZXRhaWxzIGZvciB0aGlzIGRldmljZSBhdCB0aGlzIHRpbWUuJyk7XG5cdCAgICB2YXIgZXJyb3JNZXNzYWdlID0gXCJObyBkZXRhaWwgZm9yIGRldmljZV9rZXkgI1wiICsgdm0uZGV2aWNlS2V5ICsgXCIuIEVycm9yOiBcIiArIHJlc3BvbnNlLnN0YXR1cyArIFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dDtcblx0ICAgICRsb2cuZXJyb3IoZXJyb3JNZXNzYWdlKTtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcblx0ICB9O1xuXHRcblx0ICB2bS5zZXRTZWxlY3RlZE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsID09PSBudWxsKSB7XG5cdCAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCA9IHZtLnBhbmVsTW9kZWxzWzBdO1xuXHQgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQgPSB2bS5wYW5lbElucHV0c1swXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0ucGFuZWxNb2RlbHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgcGFuZWxNb2RlbCA9IHZtLnBhbmVsTW9kZWxzW2ldO1xuXHQgICAgICAgIGlmIChwYW5lbE1vZGVsLmlkID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwpIHtcblx0ICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCA9IHBhbmVsTW9kZWw7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdm0ucGFuZWxJbnB1dHMubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICB2YXIgcGFuZWxJbnB1dCA9IHZtLnBhbmVsSW5wdXRzW2pdO1xuXHQgICAgICAgIHZhciBpc1BhcmVudCA9IHBhbmVsSW5wdXQucGFyZW50SWQgPT09IHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZDtcblx0ICAgICAgICBpZiAoaXNQYXJlbnQgJiYgcGFuZWxJbnB1dC5pZC50b0xvd2VyQ2FzZSgpID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQpIHtcblx0ICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dCA9IHBhbmVsSW5wdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSAhPT0gbnVsbCkge1xuXHQgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHZtLmxvY2F0aW9ucy5sZW5ndGg7IGsrKykge1xuXHQgICAgICAgIHZhciBsb2NhdGlvbiA9IHZtLmxvY2F0aW9uc1trXTtcblx0ICAgICAgICBpZiAobG9jYXRpb24ua2V5ID09PSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5KSB7XG5cdCAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uID0gbG9jYXRpb247XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICAvLyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cdCAgLy8gUHJvcGVydGllcyBUYWJcblx0ICAvLyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cdFxuXHQgIHZtLm9uU2F2ZURldmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24gIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uLmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkgPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uLmtleTtcblx0ICAgIH1cblx0ICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09ICdOb25lJykge1xuXHQgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWxOdW1iZXIgPSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQ7XG5cdCAgICB9XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkICE9PSB1bmRlZmluZWQgJiYgdm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkICE9PSAnTm9uZScpIHtcblx0ICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbFNlcmlhbElucHV0ID0gdm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkLnRvTG93ZXJDYXNlKCk7XG5cdCAgICB9XG5cdCAgICB2bS5jdXJyZW50RGV2aWNlLnRpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcblx0ICAgIHZhciBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RGV2aWNlKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzRGV2aWNlU2F2ZSwgdm0ub25GYWlsdXJlRGV2aWNlU2F2ZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzRGV2aWNlU2F2ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25GYWlsdXJlRGV2aWNlU2F2ZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDkpIHtcblx0ICAgICAgJGxvZy5pbmZvKFwiRmFpbHVyZSBzYXZpbmcgZGV2aWNlLiBDdXN0b21lciBkaXNwbGF5IGNvZGUgYWxyZWFkeSBleGlzdHMgZm9yIHRlbmFudDogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUaGlzIGN1c3RvbWVyIGRpc3BsYXkgY29kZSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhpcyB0ZW5hbnQuIFBsZWFzZSBjaG9vc2UgYW5vdGhlci4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICRsb2cuZXJyb3IoXCJGYWlsdXJlIHNhdmluZyBkZXZpY2U6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIHNhdmUgeW91ciB1cGRhdGVzIHRvIHRoaXMgZGV2aWNlIGF0IHRoaXMgdGltZS4nKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5jb25maXJtRGV2aWNlRGVsZXRlID0gZnVuY3Rpb24gKGV2ZW50LCBrZXkpIHtcblx0ICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oe1xuXHQgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZSB0byBkZWxldGUgdGhpcyBkZXZpY2U/Jyxcblx0ICAgICAgdGV4dENvbnRlbnQ6ICdQbGVhc2UgcmVtZW1iZXIsIHlvdSBNVVNUIHJlbW92ZSB0aGlzIGRldmljZSBmcm9tIENvbnRlbnQgTWFuYWdlciBiZWZvcmUgZGVsZXRpbmcgaXQgZnJvbSBQcm92aXNpb25pbmcuJyxcblx0ICAgICAgdGFyZ2V0RXZlbnQ6IGV2ZW50LFxuXHQgICAgICBvazogJ0RlbGV0ZScsXG5cdCAgICAgIGNhbmNlbDogJ0NhbmNlbCdcblx0ICAgIH0pO1xuXHQgICAgdmFyIHNob3dQcm9taXNlID0gJG1kRGlhbG9nLnNob3coY29uZmlybSk7XG5cdCAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkNvbmZpcm1EZWxldGUoa2V5KTtcblx0ICAgIH07XG5cdCAgICB2YXIgZmFpbHVyZSA9IGZ1bmN0aW9uIGZhaWx1cmUoKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkNvbmZpcm1DYW5jZWwoKTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gc2hvd1Byb21pc2UudGhlbihzdWNjZXNzLCBmYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNvbmZpcm1EZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG5cdCAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgcHJvY2Vzc2VkIHlvdXIgZGVsZXRlIHJlcXVlc3QuJyk7XG5cdCAgICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcblx0ICAgIH07XG5cdCAgICB2YXIgZmFpbHVyZSA9IGZ1bmN0aW9uIGZhaWx1cmUoZXJyb3IpIHtcblx0ICAgICAgdmFyIGZyaWVuZGx5TWVzc2FnZSA9ICdXZSB3ZXJlIHVuYWJsZSB0byBjb21wbGV0ZSB5b3VyIGRlbGV0ZSByZXF1ZXN0IGF0IHRoaXMgdGltZS4nO1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGZyaWVuZGx5TWVzc2FnZSk7XG5cdCAgICAgIHJldHVybiAkbG9nLmVycm9yKFwiRGVsZXRlIGRldmljZSBmYWlsdXJlIGZvciBkZXZpY2Vfa2V5IFwiICsga2V5ICsgXCI6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIH07XG5cdCAgICB2YXIgZGVsZXRlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmRlbGV0ZShrZXkpO1xuXHQgICAgcmV0dXJuIGRlbGV0ZVByb21pc2UudGhlbihzdWNjZXNzLCBmYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNvbmZpcm1DYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93SW5mb1RvYXN0KCdXZSBjYW5jZWxlZCB5b3VyIGRlbGV0ZSByZXF1ZXN0LicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUHJvb2ZPZlBsYXlMb2dnaW5nQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcpIHtcblx0ICAgICAgdmFyIG5vTG9jYXRpb24gPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5ID09PSBudWxsO1xuXHQgICAgICB2YXIgbm9EaXNwbGF5Q29kZSA9IHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5Q29kZSA9PT0gbnVsbDtcblx0ICAgICAgaWYgKG5vTG9jYXRpb24pIHtcblx0ICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgTG9jYXRpb24gdG8gZW5hYmxlIFByb29mIG9mIHBsYXkuXCIsICdlcnJvcicpO1xuXHQgICAgICAgIHJldHVybiB2bS5jdXJyZW50RGV2aWNlLnByb29mT2ZQbGF5TG9nZ2luZyA9IGZhbHNlO1xuXHQgICAgICB9IGVsc2UgaWYgKG5vRGlzcGxheUNvZGUpIHtcblx0ICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgRGlzcGxheSBjb2RlIHRvIGVuYWJsZSBQcm9vZiBvZiBwbGF5LlwiLCAnZXJyb3InKTtcblx0ICAgICAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcgPSBmYWxzZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0ub25TYXZlRGV2aWNlKCk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5vblNhdmVEZXZpY2UoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZUxvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHZtLm9uU2F2ZURldmljZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmF1dG9HZW5lcmF0ZUN1c3RvbWVyRGlzcGxheUNvZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgbmV3RGlzcGxheUNvZGUgPSAnJztcblx0ICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheU5hbWUpIHtcblx0ICAgICAgbmV3RGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheU5hbWUudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgbmV3RGlzcGxheUNvZGUgPSBuZXdEaXNwbGF5Q29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG5cdCAgICAgIG5ld0Rpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5jdXN0b21lckRpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGU7XG5cdCAgfTtcblx0XG5cdCAgdm0ubG9nZ2x5Rm9yVXNlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB1c2VyRG9tYWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJFbWFpbCgpLnNwbGl0KFwiQFwiKVsxXTtcblx0ICAgIHJldHVybiB1c2VyRG9tYWluID09PSBcImRlbW8uYWdvc3RvLmNvbVwiIHx8IHVzZXJEb21haW4gPT09IFwiYWdvc3RvLmNvbVwiO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ2xpY2tSZWZyZXNoQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2bS5zdGFydFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkodm0uc3RhcnRUaW1lKTtcblx0ICAgIHZtLmVuZFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkodm0uZW5kVGltZSk7XG5cdCAgICB2bS5lcG9jaFN0YXJ0ID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHZtLnN0YXJ0VGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcblx0ICAgIHZtLmVwb2NoRW5kID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHZtLmVuZFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG5cdCAgICB2bS5wcmV2X2N1cnNvciA9IG51bGw7XG5cdCAgICB2bS5uZXh0X2N1cnNvciA9IG51bGw7XG5cdCAgICB2YXIgaXNzdWVzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldElzc3Vlc0J5S2V5KHZtLmRldmljZUtleSwgdm0uZXBvY2hTdGFydCwgdm0uZXBvY2hFbmQsIHZtLnByZXZfY3Vyc29yLCB2bS5uZXh0X2N1cnNvcik7XG5cdCAgICByZXR1cm4gaXNzdWVzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS5vblJlZnJlc2hJc3N1ZXNTdWNjZXNzKGRhdGEpO1xuXHQgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgIHJldHVybiB2bS5vblJlZnJlc2hJc3N1ZXNGYWlsdXJlKGVycm9yKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVmcmVzaElzc3Vlc1N1Y2Nlc3MgPSBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG5cdCAgICB2bS5pc3N1ZXMgPSBkYXRhLmlzc3Vlcztcblx0ICAgIHZtLnByZXZfY3Vyc29yID0gZGF0YS5wcmV2O1xuXHQgICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG5cdCAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZWZyZXNoSXNzdWVzRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBUb2FzdHNTZXJ2aWNlLnNob3dJbmZvVG9hc3QoJ1dlIHdlcmUgdW5hYmxlIHRvIHJlZnJlc2ggdGhlIGRldmljZSBpc3N1ZXMgbGlzdCBhdCB0aGlzIHRpbWUuJyk7XG5cdCAgICByZXR1cm4gJGxvZy5lcnJvcihcIkZhaWx1cmUgdG8gcmVmcmVzaCBkZXZpY2UgaXNzdWVzOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRldmljZURldGFpbHNDdHJsID0gRGV2aWNlRGV0YWlsc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY0Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0RGV2aWNlc0xpc3RpbmdDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVQYXJhbXNcIiwgXCIkbG9nXCIsIFwiRGV2aWNlc1NlcnZpY2VcIiwgXCIkc3RhdGVcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJzd2VldFwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIERldmljZXNMaXN0aW5nQ3RybCgkc3RhdGVQYXJhbXMsICRsb2csIERldmljZXNTZXJ2aWNlLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBzd2VldCkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5kaXN0cmlidXRvcktleSA9IHVuZGVmaW5lZDtcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gTWFuYWdlZFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS5kZXZpY2VzID0gW107XG5cdCAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcblx0ICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiU2VyaWFsIE51bWJlclwiO1xuXHQgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgIHZtLmdjbWlkRGV2aWNlcyA9IHt9O1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gVW5tYW5hZ2VkXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID0gXCJNQUNcIjtcblx0ICB2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzID0ge307XG5cdCAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gbnVsbDtcblx0ICB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgdm0udW5tYW5hZ2VkRGV2aWNlcyA9IFtdO1xuXHQgIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSB7fTtcblx0ICB2bS51bm1hbmFnZWRHQ01pZERldmljZXMgPSB7fTtcblx0XG5cdCAgdm0ucmVmcmVzaE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgICAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuXHQgICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJlZnJlc2hVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgICAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSBudWxsO1xuXHQgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAodW5tYW5hZ2VkKSB7XG5cdCAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZtLnVubWFuYWdlZFNlYXJjaFRleHQgPSAnJztcblx0ICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgICB2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzID0ge307XG5cdCAgICAgIHJldHVybiB2bS51bm1hbmFnZWRNYWNEZXZpY2VzID0ge307XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgICAgICByZXR1cm4gdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtLCB0cnVlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBzZWFyY2hUZXh0KSB7XG5cdCAgICB2YXIgbWFjID0gdm9pZCAwLFxuXHQgICAgICAgIHNlcmlhbCA9IHZvaWQgMCxcblx0ICAgICAgICBnY21pZCA9IHZvaWQgMDtcblx0ICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgbWFjID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPT09IFwiTUFDXCI7XG5cdCAgICAgIHNlcmlhbCA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICAgICAgZ2NtaWQgPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIjtcblx0ICAgICAgaWYgKG1hYykge1xuXHQgICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS51bm1hbmFnZWRNYWNEZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfSBlbHNlIGlmIChzZXJpYWwpIHtcblx0ICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmVkaXRJdGVtKHZtLnVubWFuYWdlZEdDTWlkRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG1hYyA9IHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuXHQgICAgICBzZXJpYWwgPSB2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG5cdCAgICAgIGdjbWlkID0gdm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiR0NNIElEXCI7XG5cdCAgICAgIGlmIChtYWMpIHtcblx0ICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0ubWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmVkaXRJdGVtKHZtLnNlcmlhbERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS5nY21pZERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBpc01hdGNoKSB7XG5cdCAgICBpZiAoIXVubWFuYWdlZCkge1xuXHQgICAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWRCdXR0b25Mb2FkaW5nID0gZmFsc2U7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2bS51bm1hbmFnZWREaXNhYmxlZCA9ICFpc01hdGNoO1xuXHQgICAgICByZXR1cm4gdm0udW5tYW5hZ2VkRGlzYWJsZWRCdXR0b25Mb2FkaW5nID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNSZXNvdXJjZVZhbGlkID0gZnVuY3Rpb24gKHVubWFuYWdlZCwgcmVzb3VyY2UpIHtcblx0ICAgIHZhciBieVRlbmFudCA9IGZhbHNlO1xuXHQgICAgdmFyIHRlbmFudEtleSA9IG51bGw7XG5cdCAgICB2YXIgYnV0dG9uID0gdm9pZCAwO1xuXHRcblx0ICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgYnV0dG9uID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b247XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBidXR0b24gPSB2bS5zZWxlY3RlZEJ1dHRvbjtcblx0ICAgIH1cblx0XG5cdCAgICBEZXZpY2VzU2VydmljZS5pc1Jlc291cmNlVmFsaWQocmVzb3VyY2UsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgIHJldHVybiB2bS5jb250cm9sT3BlbkJ1dHRvbih1bm1hbmFnZWQsIHJlc1tcImlzX21hdGNoXCJdKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBwYXJ0aWFsKSB7XG5cdCAgICB2YXIgYnV0dG9uID0gdm9pZCAwO1xuXHQgICAgaWYgKHVubWFuYWdlZCkge1xuXHQgICAgICBidXR0b24gPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGJ1dHRvbiA9IHZtLnNlbGVjdGVkQnV0dG9uO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBieVRlbmFudCA9IGZhbHNlO1xuXHQgICAgdmFyIHRlbmFudEtleSA9IG51bGw7XG5cdFxuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnNlYXJjaERldmljZXMocGFydGlhbCwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuXHQgICAgICAgIHZhciBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcblx0ICAgICAgICBpZiAoYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuXHQgICAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuXHQgICAgICAgICAgICB2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZtLnNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmV0dXJuIGRldmljZXNbMF07XG5cdCAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcblx0ICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgICAgICAgdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2bS5tYWNEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICAgIHZtLnVubWFuYWdlZEdDTWlkRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmV0dXJuIGRldmljZXNbMF07XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0TWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAoa2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBkZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZXNCeURpc3RyaWJ1dG9yKGtleSwgcHJldiwgbmV4dCk7XG5cdCAgICByZXR1cm4gZGV2aWNlc1Byb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdm0uZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG5cdCAgICAgIHZtLmRldmljZXNOZXh0ID0gcmVzcG9uc2UubmV4dF9jdXJzb3I7XG5cdCAgICAgIHZtLmRldmljZXNQcmV2ID0gcmVzcG9uc2UucHJldl9jdXJzb3I7XG5cdCAgICAgIHJldHVybiB2bS5nZXRGZXRjaFN1Y2Nlc3MoKTtcblx0ICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldFVubWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAoa2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciB1bm1hbmFnZWREZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldFVubWFuYWdlZERldmljZXNCeURpc3RyaWJ1dG9yKGtleSwgcHJldiwgbmV4dCk7XG5cdCAgICByZXR1cm4gdW5tYW5hZ2VkRGV2aWNlc1Byb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG5cdCAgICAgIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gcmVzcG9uc2UucHJldl9jdXJzb3I7XG5cdCAgICAgIHZtLnVubWFuYWdlZERldmljZXNOZXh0ID0gcmVzcG9uc2UubmV4dF9jdXJzb3I7XG5cdCAgICAgIHJldHVybiB2bS5nZXRGZXRjaFN1Y2Nlc3MoKTtcblx0ICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5kaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcblx0ICAgIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuXHQgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0RmV0Y2hTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEZldGNoRmFpbHVyZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2YXIgZXJyb3JNZXNzYWdlID0gXCJVbmFibGUgdG8gZmV0Y2ggZGV2aWNlcy4gRXJyb3I6IFwiICsgcmVzcG9uc2Uuc3RhdHVzICsgXCIgXCIgKyByZXNwb25zZS5zdGF0dXNUZXh0ICsgXCIuXCI7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQsIG1hbmFnZWQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIGlmIChtYW5hZ2VkKSB7XG5cdCAgICAgICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIG51bGwsIHZtLmRldmljZXNOZXh0KTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoIW1hbmFnZWQpIHtcblx0ICAgICAgICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCBudWxsLCB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmICghZm9yd2FyZCkge1xuXHQgICAgICBpZiAobWFuYWdlZCkge1xuXHQgICAgICAgIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS5kZXZpY2VzUHJldiwgbnVsbCk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghbWFuYWdlZCkge1xuXHQgICAgICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS51bm1hbmFnZWREZXZpY2VzUHJldiwgbnVsbCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5EZXZpY2VzTGlzdGluZ0N0cmwgPSBEZXZpY2VzTGlzdGluZ0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY0Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIEFkbWluQ3RybChBZG1pblNlcnZpY2UsIFNlc3Npb25zU2VydmljZSwgVG9hc3RzU2VydmljZSwgJG1kRGlhbG9nLCBEaXN0cmlidXRvcnNTZXJ2aWNlKSB7XG5cdCAgdmFyIHZtID0gdGhpcztcblx0XG5cdCAgdm0uZ2V0QWxsRGlzdHJpYnV0b3JzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0ubG9hZGluZ0FsbERpc3RyaWJ1dG9ycyA9IHRydWU7XG5cdCAgICB2YXIgZ2V0QWxsRGlzdHJpYnV0b3JzUHJvbWlzZSA9IEFkbWluU2VydmljZS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcblx0ICAgIHJldHVybiBnZXRBbGxEaXN0cmlidXRvcnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9hZGluZ0FsbERpc3RyaWJ1dG9ycyA9IGZhbHNlO1xuXHQgICAgICByZXR1cm4gdm0uYWxsRGlzdHJpYnV0b3JzID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmFkZFVzZXJUb0Rpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGV2LCB1c2VyRW1haWwsIGRpc3RyaWJ1dG9yQWRtaW4sIHdoaWNoRGlzdHJpYnV0b3IsIGZvcm0pIHtcblx0ICAgIGlmICghZGlzdHJpYnV0b3JBZG1pbikge1xuXHQgICAgICBkaXN0cmlidXRvckFkbWluID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB2YXIgd2l0aE9yV2l0aG91dCA9IGRpc3RyaWJ1dG9yQWRtaW4gPyBcIndpdGhcIiA6IFwid2l0aG91dFwiO1xuXHRcblx0ICAgIC8vIG5vIG9wdGlvbiB0byBzZWxlY3QgZGlzdHJpYnV0b3IgaXMgZ2l2ZW4gd2hlbiB0aGVyZSBpcyBvbmx5IG9uZSBvcHRpb25cblx0ICAgIGlmICghd2hpY2hEaXN0cmlidXRvcikge1xuXHQgICAgICB3aGljaERpc3RyaWJ1dG9yID0gdm0uZGlzdHJpYnV0b3JzQXNBZG1pblswXTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKHtcblx0ICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/Jyxcblx0ICAgICAgdGV4dENvbnRlbnQ6IHVzZXJFbWFpbCArIFwiIHdpbGwgYmUgYWRkZWQgdG8gXCIgKyB3aGljaERpc3RyaWJ1dG9yICsgXCJcXG4gICAgICAgIFwiICsgd2l0aE9yV2l0aG91dCArIFwiIGFkbWluaXN0cmF0b3IgcHJpdmlsZWdlc1wiLFxuXHQgICAgICB0YXJnZXRFdmVudDogZXYsXG5cdCAgICAgIG9rOiAnT2YgY291cnNlIScsXG5cdCAgICAgIGNhbmNlbDogJ09vcHMsIG5ldmVybWluZC4nXG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBhZGRVc2VyVG9EaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UuYWRkVXNlclRvRGlzdHJpYnV0b3IodXNlckVtYWlsLCB3aGljaERpc3RyaWJ1dG9yLCBkaXN0cmlidXRvckFkbWluKTtcblx0ICAgICAgYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoZGF0YS5tZXNzYWdlKTtcblx0ICAgICAgICB2bS51c2VyID0ge307XG5cdCAgICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcblx0ICAgICAgICBmb3JtLiRzZXRVbnRvdWNoZWQoKTtcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gdm0uZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKCk7XG5cdCAgICAgICAgfSwgMjAwMCk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGRhdGEuZGF0YS5tZXNzYWdlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5tYWtlRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoZXYsIGRpc3RyaWJ1dG9yTmFtZSwgYWRtaW5FbWFpbCwgZm9ybSkge1xuXHQgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSh7XG5cdCAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlPycsXG5cdCAgICAgIHRleHRDb250ZW50OiBcIklmIHlvdSBwcm9jZWVkLCBcIiArIGRpc3RyaWJ1dG9yTmFtZSArIFwiIHdpbGwgYmUgY3JlYXRlZC5cIixcblx0ICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuXHQgICAgICBhcmlhTGFiZWw6ICdMdWNreSBkYXknLFxuXHQgICAgICBvazogJ1llYWghJyxcblx0ICAgICAgY2FuY2VsOiAnRm9yZ2V0IGl0Lidcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgbWFrZURpc3RyaWJ1dG9yUHJvbWlzZSA9IEFkbWluU2VydmljZS5tYWtlRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JOYW1lLCBhZG1pbkVtYWlsKTtcblx0ICAgICAgbWFrZURpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgdm0uZGlzdHJpYnV0b3IgPSB7fTtcblx0ICAgICAgICBmb3JtLiRzZXRQcmlzdGluZSgpO1xuXHQgICAgICAgIGZvcm0uJHNldFVudG91Y2hlZCgpO1xuXHQgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChkYXRhLm1lc3NhZ2UpO1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHJldHVybiB2bS5hbGxEaXN0cmlidXRvcnMgPSB2bS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcblx0ICAgICAgICB9LCAyMDAwKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gbWFrZURpc3RyaWJ1dG9yUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGRhdGEuZGF0YS5tZXNzYWdlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5sb2FkaW5nVXNlcnNPZkRpc3RyaWJ1dG9yID0gdHJ1ZTtcblx0ICAgIHZhciBjdXJyZW50RGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG5cdCAgICB2YXIgdXNlcnNvZkRpc3RyaWJ1dG9yUHJvbWlzZSA9IEFkbWluU2VydmljZS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IoY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcblx0ICAgIHJldHVybiB1c2Vyc29mRGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9hZGluZ1VzZXJzT2ZEaXN0cmlidXRvciA9IGZhbHNlO1xuXHQgICAgICByZXR1cm4gdm0udXNlcnNPZkRpc3RyaWJ1dG9yID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnN3aXRjaERpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGRpc3RyaWJ1dG9yKSB7XG5cdCAgICBEaXN0cmlidXRvcnNTZXJ2aWNlLnN3aXRjaERpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yKTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJEaXN0cmlidXRvciBcIiArIGRpc3RyaWJ1dG9yLm5hbWUgKyBcIiBzZWxlY3RlZCFcIik7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmdldFVzZXJzT2ZEaXN0cmlidXRvcigpO1xuXHQgICAgdm0uZ2V0QWxsRGlzdHJpYnV0b3JzKCk7XG5cdCAgICB2bS5pc0FkbWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldElzQWRtaW4oKTtcblx0ICAgIHZtLmRpc3RyaWJ1dG9yc0FzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuXHQgICAgdm0uY3VycmVudERpc3RyaWJ1dG9yTmFtZSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKCk7XG5cdFxuXHQgICAgaWYgKHZtLmlzQWRtaW4pIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5BZG1pbkN0cmwgPSBBZG1pbkN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY0NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBBdXRoZW50aWNhdGlvbkN0cmwoJHNjb3BlLCAkbG9nLCAkc3RhdGUsICR0aW1lb3V0LCBpZGVudGl0eSwgc3dlZXQsIFNlc3Npb25zU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBQcm9vZlBsYXlTZXJ2aWNlLCBEZXZpY2VzU2VydmljZSwgVGVuYW50c1NlcnZpY2UpIHtcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHRcblx0ICB2bS5vbkdvb2dsZVBsdXNTaWduSW5TdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50LCBhdXRoUmVzdWx0KSB7XG5cdCAgICBpZiAoIXZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgfVxuXHQgICAgU2Vzc2lvbnNTZXJ2aWNlLnJlbW92ZVVzZXJJbmZvKCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IFNlc3Npb25zU2VydmljZS5sb2dpbihhdXRoUmVzdWx0KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ubG9naW5TdWNjZXNzLCB2bS5sb2dpbkZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uR29vZ2xlUGx1c1NpZ25JbkZhaWx1cmUgPSBmdW5jdGlvbiAoZXZlbnQsIGF1dGhSZXN1bHQpIHtcblx0ICAgIGlmICh2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCkge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIGF1dGhlbnRpY2F0ZSB0byBHb29nbGUrLicsICdlcnJvcicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgICRzY29wZS4kb24oJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1zdWNjZXNzJywgdm0ub25Hb29nbGVQbHVzU2lnbkluU3VjY2Vzcyk7XG5cdCAgJHNjb3BlLiRvbignZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLWZhaWx1cmUnLCB2bS5vbkdvb2dsZVBsdXNTaWduSW5GYWlsdXJlKTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZVNpZ25JbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmNsaWVudElkID0gaWRlbnRpdHkuT0FVVEhfQ0xJRU5UX0lEO1xuXHQgICAgdm0uc3RhdGUgPSBpZGVudGl0eS5TVEFURTtcblx0ICAgIHJldHVybiB2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCA9IGZhbHNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemVTaWduT3V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgU2Vzc2lvbnNTZXJ2aWNlLnJlbW92ZVVzZXJJbmZvKCk7XG5cdCAgICByZXR1cm4gJHRpbWVvdXQodm0ucHJvY2VlZFRvU2lnbmVkT3V0LCA1MCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ubG9naW5TdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmxvZ2luRmFpbHVyZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIGF1dGhlbnRpY2F0ZSB0byBTdG9ybXBhdGguJywgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucHJvY2VlZFRvU2lnbmVkT3V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnc2lnbmVkX291dCcpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnByb2NlZWRUb1NpZ25JbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ3NpZ25faW4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNsaWNrR29vZ2xlUGx1c1NpZ25JbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkID0gdHJ1ZTtcblx0ICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuQXV0aGVudGljYXRpb25DdHJsID0gQXV0aGVudGljYXRpb25DdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NDU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRBcHBDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkbWRTaWRlbmF2XCIsIFwiJHN0YXRlXCIsIFwiJHdpbmRvd1wiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuQXBwQ29udHJvbGxlciA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NDYpO1xuXHRcblx0dmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBBcHBDb250cm9sbGVyKCRtZFNpZGVuYXYsICRzdGF0ZSwgJHdpbmRvdywgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHRcblx0ICB2bS5pZGVudGl0eSA9IHt9O1xuXHRcblx0ICB2bS5jdXJyZW50RGlzdHJpYnV0ZXJJbkRpc3RyaWJ1dGVyQWRtaW5MaXN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGN1cnJlbnREaXN0cmlidXRvck5hbWUgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpO1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yc0FzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuXHQgICAgcmV0dXJuICgwLCBfbG9kYXNoMi5kZWZhdWx0KShkaXN0cmlidXRvcnNBc0FkbWluLCBjdXJyZW50RGlzdHJpYnV0b3JOYW1lKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pZGVudGl0eSA9IHtcblx0ICAgIGtleTogU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSxcblx0ICAgIGVtYWlsOiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCksXG5cdCAgICBhZG1pbjogU2Vzc2lvbnNTZXJ2aWNlLmdldElzQWRtaW4oKSxcblx0ICAgIGRpc3RyaWJ1dG9yX2FkbWluOiBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpLFxuXHQgICAgYWRtaW5fb2ZfY3VycmVudF9kaXN0cmlidXRvcjogdm0uY3VycmVudERpc3RyaWJ1dGVySW5EaXN0cmlidXRlckFkbWluTGlzdCgpLFxuXHQgICAgZGlzdHJpYnV0b3JLZXk6IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSxcblx0ICAgIGRpc3RyaWJ1dG9yTmFtZTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKVxuXHQgIH07XG5cdFxuXHQgIHZtLmdldElkZW50aXR5ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHZtLmlkZW50aXR5O1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzQ3VycmVudFVSTERpc3RyaWJ1dG9yU2VsZWN0b3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgdGVzdCA9ICR3aW5kb3cubG9jYXRpb24uaHJlZi5zZWFyY2goL2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbi8pO1xuXHQgICAgdmFyIHJlc3VsdCA9IHRlc3QgPj0gMDtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB2bS5nZXRJZGVudGl0eSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnRvZ2dsZVNpZGVuYXYgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJG1kU2lkZW5hdignbGVmdCcpLnRvZ2dsZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdvVG8gPSBmdW5jdGlvbiAoc3RhdGVOYW1lLCBpZCkge1xuXHQgICAgJHN0YXRlLmdvKHN0YXRlTmFtZSwgeyBpZDogaWQgfSk7XG5cdCAgICBpZiAoJG1kU2lkZW5hdignbGVmdCcpLmlzT3BlbigpKSB7XG5cdCAgICAgIHJldHVybiAkbWRTaWRlbmF2KCdsZWZ0JykuY2xvc2UoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuQXBwQ29udHJvbGxlciA9IEFwcENvbnRyb2xsZXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY2ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0RGlzdHJpYnV0b3JTZWxlY3RvckN0cmwuJGluamVjdCA9IFtcIiRsb2dcIiwgXCIkc3RhdGVcIiwgXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwoJGxvZywgJHN0YXRlLCBEaXN0cmlidXRvcnNTZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uZGlzdHJpYnV0b3JzID0gW107XG5cdCAgdm0uY3VycmVudERpc3RyaWJ1dG9yID0gdW5kZWZpbmVkO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICB2YXIgZGlzdHJpYnV0b3JzUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZmV0Y2hBbGxCeVVzZXIoU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSk7XG5cdCAgICByZXR1cm4gZGlzdHJpYnV0b3JzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmRpc3RyaWJ1dG9ycyA9IGRhdGE7XG5cdCAgICAgIGlmICh2bS5kaXN0cmlidXRvcnMubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLnNlbGVjdERpc3RyaWJ1dG9yKHZtLmRpc3RyaWJ1dG9yc1swXSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VsZWN0RGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoZGlzdHJpYnV0b3IpIHtcblx0ICAgIHJldHVybiBEaXN0cmlidXRvcnNTZXJ2aWNlLnN3aXRjaERpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwgPSBEaXN0cmlidXRvclNlbGVjdG9yQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjY5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gRGlzdHJpYnV0b3JzQ3RybCgkc3RhdGUpIHtcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmRpc3RyaWJ1dG9ycyA9IFtdO1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuRGlzdHJpYnV0b3JzQ3RybCA9IERpc3RyaWJ1dG9yc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY3MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIERvbWFpbnNDdHJsKCRzdGF0ZSwgRG9tYWluc1NlcnZpY2UsIHN3ZWV0KSB7XG5cdCAgLy8gXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmRvbWFpbnMgPSBbXTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBwcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZmV0Y2hBbGxEb21haW5zKCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS5kb21haW5zID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2VkaXREb21haW4nLCB7IGRvbWFpbktleTogaXRlbS5rZXkgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZGVsZXRlSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjaygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSBEb21haW5zU2VydmljZS5kZWxldGUoaXRlbSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB2bS5pbml0aWFsaXplKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KHtcblx0ICAgICAgdGl0bGU6IFwiQXJlIHlvdSBzdXJlP1wiLFxuXHQgICAgICB0ZXh0OiBcIlRoaXMgd2lsbCBwZXJtYW5lbnRseSByZW1vdmUgdGhlIGRvbWFpbiBmcm9tIHRoZSBkaXN0cmlidXRvciBhbmQgZGlzY29ubmVjdCBmcm9tIHRlbmFudHMuXCIsXG5cdCAgICAgIHR5cGU6IFwid2FybmluZ1wiLFxuXHQgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuXHQgICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiI0RENkI1NVwiLFxuXHQgICAgICBjb25maXJtQnV0dG9uVGV4dDogXCJZZXMsIHJlbW92ZSB0aGUgZG9tYWluIVwiLFxuXHQgICAgICBjbG9zZU9uQ29uZmlybTogdHJ1ZVxuXHQgICAgfSwgY2FsbGJhY2spO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5Eb21haW5zQ3RybCA9IERvbWFpbnNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NzE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHREb21haW5EZXRhaWxzQ3RybC4kaW5qZWN0ID0gW1wiJGxvZ1wiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIiwgXCJEb21haW5zU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcInN3ZWV0XCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiVG9hc3RzU2VydmljZVwiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIERvbWFpbkRldGFpbHNDdHJsKCRsb2csICRzdGF0ZVBhcmFtcywgRGlzdHJpYnV0b3JzU2VydmljZSwgRG9tYWluc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmN1cnJlbnREb21haW4gPSB7XG5cdCAgICBrZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5hbWU6IHVuZGVmaW5lZCxcblx0ICAgIGltcGVyc29uYXRpb25fYWRtaW5fZW1haWxfYWRkcmVzczogdW5kZWZpbmVkLFxuXHQgICAgZGlzdHJpYnV0b3Jfa2V5OiB1bmRlZmluZWQsXG5cdCAgICBhY3RpdmU6IHRydWVcblx0ICB9O1xuXHQgIHZtLmN1cnJlbnREb21haW5zID0gW107XG5cdCAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy5kb21haW5LZXk7XG5cdFxuXHQgIGlmICh2bS5lZGl0TW9kZSkge1xuXHQgICAgdmFyIGRvbWFpblByb21pc2UgPSBEb21haW5zU2VydmljZS5nZXREb21haW5CeUtleSgkc3RhdGVQYXJhbXMuZG9tYWluS2V5KTtcblx0ICAgIGRvbWFpblByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0uY3VycmVudERvbWFpbiA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICB9IGVsc2Uge1xuXHQgICAgdm0uY3VycmVudERvbWFpbi5kaXN0cmlidXRvcl9rZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG5cdCAgfVxuXHRcblx0ICB2bS5vblNhdmVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gRG9tYWluc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RG9tYWluKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzU2F2ZURvbWFpbiwgdm0ub25GYWlsdXJlU2F2ZURvbWFpbik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzU2F2ZURvbWFpbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25GYWlsdXJlU2F2ZURvbWFpbiA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDkpIHtcblx0ICAgICAgJGxvZy5pbmZvKCdGYWlsdXJlIHNhdmluZyBkb21haW4uIERvbWFpbiBhbHJlYWR5IGV4aXN0czogJyArIGVycm9yLnN0YXR1cyArICcgJyArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUaGlzIGRvbWFpbiBuYW1lIGFscmVhZHkgZXhpc3QuIFBsZWFzZSBlbnRlciBhIHVuaXF1ZSBkb21haW4gbmFtZS4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICRsb2cuZXJyb3IoJ0ZhaWx1cmUgc2F2aW5nIGRvbWFpbjogJyArIGVycm9yLnN0YXR1cyArICcgJyArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gc2F2ZSB5b3VyIHVwZGF0ZXMgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2VkaXREb21haW4nLCB7IGRvbWFpbktleTogaXRlbS5rZXkgfSk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRvbWFpbkRldGFpbHNDdHJsID0gRG9tYWluRGV0YWlsc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY3Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5yYWRpb0J1dHRvbkNob2ljZXMgPSB7XG5cdCAgICBncm91cDE6ICdCeSBEZXZpY2UnLFxuXHQgICAgZ3JvdXAyOiAnU3VtbWFyaXplZCcsXG5cdCAgICBzZWxlY3Rpb246IG51bGxcblx0ICB9O1xuXHRcblx0ICB2bS5kYXRlVGltZVNlbGVjdGlvbiA9IHtcblx0ICAgIHN0YXJ0OiBudWxsLFxuXHQgICAgZW5kOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZm9ybVZhbGlkaXR5ID0ge1xuXHQgICAgc3RhcnRfZGF0ZTogZmFsc2UsXG5cdCAgICBlbmRfZGF0ZTogZmFsc2UsXG5cdCAgICBsb2NhdGlvbnM6IGZhbHNlXG5cdCAgfTtcblx0XG5cdCAgdm0udGVuYW50ID0gJHN0YXRlUGFyYW1zLnRlbmFudDtcblx0ICB2bS5ub19jYWNoZSA9IHRydWU7XG5cdCAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMgPSBbXTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbExvY2F0aW9ucyh2bS50ZW5hbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuXHQgICAgICB2bS5sb2NhdGlvbnMgPSBkYXRhLmRhdGEubG9jYXRpb25zO1xuXHQgICAgICBpZiAodm0ubG9jYXRpb25zLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSB0cnVlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZWZyZXNoTG9jYXRpb25zID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgdm0uc2VsZWN0ZWRJdGVtID0gJyc7XG5cdCAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0ICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucyA9IFtdO1xuXHQgICAgUHJvb2ZQbGF5U2VydmljZS5wcm9vZnBsYXlDYWNoZS5yZW1vdmVBbGwoKTtcblx0ICAgIHJldHVybiB2bS5pbml0aWFsaXplKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uYWRkVG9TZWxlY3RlZExvY2F0aW9ucyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAodm0uaXNMb2NhdGlvblZhbGlkKHNlYXJjaFRleHQpKSB7XG5cdCAgICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5wdXNoKHNlYXJjaFRleHQpO1xuXHQgICAgICB2YXIgaW5kZXggPSB2bS5sb2NhdGlvbnMuaW5kZXhPZihzZWFyY2hUZXh0KTtcblx0ICAgICAgdm0ubG9jYXRpb25zLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIH1cblx0ICAgIHZtLmFyZUxvY2F0aW9uc1ZhbGlkKCk7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKGxvY2F0aW9ucywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gobG9jYXRpb25zLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1JhZGlvVmFsaWQgPSBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkudHlwZSA9IHNlbGVjdGlvbjtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNMb2NhdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0ubG9jYXRpb25zKSkge1xuXHQgICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9sb2NhdGlvbnMpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uYXJlTG9jYXRpb25zVmFsaWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkubG9jYXRpb25zID0gdm0uc2VsZWN0ZWRfbG9jYXRpb25zLmxlbmd0aCA+IDA7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzU3RhcnREYXRlVmFsaWQgPSBmdW5jdGlvbiAoc3RhcnRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgPSBzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNFbmREYXRlVmFsaWQgPSBmdW5jdGlvbiAoZW5kX2RhdGUpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSA9IGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVtb3ZlRnJvbVNlbGVjdGVkTG9jYXRpb24gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgdmFyIGluZGV4ID0gdm0uc2VsZWN0ZWRfbG9jYXRpb25zLmluZGV4T2YoaXRlbSk7XG5cdCAgICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgIHZtLmxvY2F0aW9ucy5wdXNoKGl0ZW0pO1xuXHQgICAgdm0uYXJlTG9jYXRpb25zVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmxvY2F0aW9ucyAmJiB2bS5mb3JtVmFsaWRpdHkudHlwZSkge1xuXHQgICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG5cdCAgICAgICAgc3RhcnRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uc3RhcnQpLnVuaXgoKSxcblx0ICAgICAgICBlbmRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uZW5kKS51bml4KCksXG5cdCAgICAgICAgbG9jYXRpb25zOiB2bS5zZWxlY3RlZF9sb2NhdGlvbnMsXG5cdCAgICAgICAgdHlwZTogdm0ucmFkaW9CdXR0b25DaG9pY2VzLnNlbGVjdGlvblxuXHRcblx0ICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG5cdCAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNCeURldmljZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHZtLmZpbmFsLmxvY2F0aW9ucywgdm0udGVuYW50KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNTdW1tYXJpemVkKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwubG9jYXRpb25zLCB2bS50ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnRlbmFudHMgPSBudWxsO1xuXHQgIHZtLmN1cnJlbnRUZW5hbnQgPSB2bS50ZW5hbnQ7XG5cdFxuXHQgIHZtLmluaXRpYWxpemVfdGVuYW50X3NlbGVjdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbFRlbmFudHMoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS50ZW5hbnRzID0gZGF0YS5kYXRhLnRlbmFudHM7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5xdWVyeVNlYXJjaCA9IGZ1bmN0aW9uIChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcblx0ICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSBmYWxzZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgaWYgKHRlbmFudCAhPT0gdm0uY3VycmVudFRlbmFudCkge1xuXHQgICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuXHQgICAgICAgIHRlbmFudDogdGVuYW50XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIF9faW5fXyhuZWVkbGUsIGhheXN0YWNrKSB7XG5cdCAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xuXHR9XG5cdFxuXHRleHBvcnRzLlByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwgPSBQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NzM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG5cdCAgdmFyIHZtID0gdGhpcztcblx0XG5cdCAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuXHQgICAgZ3JvdXAxOiAnQnkgRGF0ZScsXG5cdCAgICBncm91cDI6ICdTdW1tYXJpemVkJyxcblx0ICAgIHNlbGVjdGlvbjogbnVsbFxuXHQgIH07XG5cdFxuXHQgIHZtLmRhdGVUaW1lU2VsZWN0aW9uID0ge1xuXHQgICAgc3RhcnQ6IG51bGwsXG5cdCAgICBlbmQ6IG51bGxcblx0ICB9O1xuXHRcblx0ICB2bS5mb3JtVmFsaWRpdHkgPSB7XG5cdCAgICBzdGFydF9kYXRlOiBmYWxzZSxcblx0ICAgIGVuZF9kYXRlOiBmYWxzZSxcblx0ICAgIGRpc3BsYXlzOiBmYWxzZVxuXHQgIH07XG5cdFxuXHQgIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG5cdCAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgdm0uc2VsZWN0ZWRfZGlzcGxheXMgPSBbXTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbERpc3BsYXlzKHZtLnRlbmFudCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG5cdCAgICAgIHZtLmRpc3BsYXlzID0gZGF0YS5kYXRhLmRldmljZXM7XG5cdCAgICAgIGlmICh2bS5kaXNwbGF5cy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaERpc3BsYXlzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgdm0uc2VsZWN0ZWRJdGVtID0gJyc7XG5cdCAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0ICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzID0gW107XG5cdCAgICBQcm9vZlBsYXlTZXJ2aWNlLnByb29mcGxheUNhY2hlLnJlbW92ZUFsbCgpO1xuXHQgICAgcmV0dXJuIHZtLmluaXRpYWxpemUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5hZGRUb1NlbGVjdGVkRGlzcGxheXMgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgaWYgKHZtLmlzRGlzcGxheVZhbGlkKHNlYXJjaFRleHQpKSB7XG5cdCAgICAgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzLnB1c2goc2VhcmNoVGV4dCk7XG5cdCAgICAgIHZhciBpbmRleCA9IHZtLmRpc3BsYXlzLmluZGV4T2Yoc2VhcmNoVGV4dCk7XG5cdCAgICAgIHZtLmRpc3BsYXlzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIH1cblx0ICAgIHZtLmFyZURpc3BsYXlzVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucXVlcnlTZWFyY2ggPSBmdW5jdGlvbiAoZGlzcGxheXMsIHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKGRpc3BsYXlzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1JhZGlvVmFsaWQgPSBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkudHlwZSA9IHNlbGVjdGlvbjtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNEaXNwbGF5VmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5kaXNwbGF5cykpIHtcblx0ICAgICAgaWYgKCFfX2luX18oc2VhcmNoVGV4dCwgdm0uc2VsZWN0ZWRfZGlzcGxheXMpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uYXJlRGlzcGxheXNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5kaXNwbGF5cyA9IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLmxlbmd0aCA+IDA7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzU3RhcnREYXRlVmFsaWQgPSBmdW5jdGlvbiAoc3RhcnRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgPSBzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNFbmREYXRlVmFsaWQgPSBmdW5jdGlvbiAoZW5kX2RhdGUpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSA9IGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVtb3ZlRnJvbVNlbGVjdGVkRGlzcGxheSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICB2YXIgaW5kZXggPSB2bS5zZWxlY3RlZF9kaXNwbGF5cy5pbmRleE9mKGl0ZW0pO1xuXHQgICAgdm0uc2VsZWN0ZWRfZGlzcGxheXMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgIHZtLmRpc3BsYXlzLnB1c2goaXRlbSk7XG5cdCAgICB2bS5hcmVEaXNwbGF5c1ZhbGlkKCk7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5kaXNwbGF5cyAmJiB2bS5mb3JtVmFsaWRpdHkudHlwZSkge1xuXHQgICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG5cdCAgICAgICAgc3RhcnRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uc3RhcnQpLnVuaXgoKSxcblx0ICAgICAgICBlbmRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uZW5kKS51bml4KCksXG5cdCAgICAgICAgZGlzcGxheXM6IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLFxuXHQgICAgICAgIHR5cGU6IHZtLnJhZGlvQnV0dG9uQ2hvaWNlcy5zZWxlY3Rpb25cblx0XG5cdCAgICAgIH07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuXHQgICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHZtLmZpbmFsLmRpc3BsYXlzLCB2bS50ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNTdW1tYXJpemVkKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwuZGlzcGxheXMsIHZtLnRlbmFudCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0udGVuYW50cyA9IG51bGw7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgIGlmICh0ZW5hbnQgIT09IHZtLmN1cnJlbnRUZW5hbnQpIHtcblx0ICAgICAgJHN0YXRlLmdvKCdwcm9vZkRldGFpbCcsIHtcblx0ICAgICAgICB0ZW5hbnQ6IHRlbmFudFxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIHNldCB0byAnICsgdGVuYW50KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBpcyBhbHJlYWR5IHNldCB0byAnICsgdGVuYW50KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5xdWVyeVNlYXJjaCA9IGZ1bmN0aW9uIChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcblx0ICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSBmYWxzZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcblx0ICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG5cdH1cblx0XG5cdGV4cG9ydHMuUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsID0gUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NzQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybChQcm9vZlBsYXlTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgVG9hc3RzU2VydmljZSkge1xuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuXHQgICAgZ3JvdXAxOiAnQnkgRGV2aWNlJyxcblx0ICAgIGdyb3VwMjogJ0J5IERhdGUnLFxuXHQgICAgc2VsZWN0aW9uOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG5cdCAgICBzdGFydDogbnVsbCxcblx0ICAgIGVuZDogbnVsbFxuXHQgIH07XG5cdFxuXHQgIHZtLmZvcm1WYWxpZGl0eSA9IHtcblx0ICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuXHQgICAgZW5kX2RhdGU6IGZhbHNlLFxuXHQgICAgcmVzb3VyY2VzOiBmYWxzZVxuXHQgIH07XG5cdFxuXHQgIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG5cdCAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzID0gW107XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxSZXNvdXJjZXModm0udGVuYW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgdm0uZnVsbF9yZXNvdXJjZV9tYXAgPSBkYXRhLmRhdGEucmVzb3VyY2VzO1xuXHQgICAgICB2bS5yZXNvdXJjZXMgPSBbXTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmRhdGEucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHJlc291cmNlID0gZGF0YS5kYXRhLnJlc291cmNlc1tpXTtcblx0ICAgICAgICB2bS5yZXNvdXJjZXMucHVzaChyZXNvdXJjZS5yZXNvdXJjZV9uYW1lKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHZtLnJlc291cmNlcy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaFJlc291cmNlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuXHQgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZWxlY3RlZF9yZXNvdXJjZXMgPSBbXTtcblx0ICAgIFByb29mUGxheVNlcnZpY2UucHJvb2ZwbGF5Q2FjaGUucmVtb3ZlQWxsKCk7XG5cdCAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmFkZFRvU2VsZWN0ZWRSZXNvdXJjZXMgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgaWYgKHZtLmlzUmVzb3VyY2VWYWxpZChzZWFyY2hUZXh0KSkge1xuXHQgICAgICB2bS5zZWxlY3RlZF9yZXNvdXJjZXMucHVzaChzZWFyY2hUZXh0KTtcblx0ICAgICAgdmFyIGluZGV4ID0gdm0ucmVzb3VyY2VzLmluZGV4T2Yoc2VhcmNoVGV4dCk7XG5cdCAgICAgIHZtLnJlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICB9XG5cdCAgICB2bS5hcmVSZXNvdXJjZXNWYWxpZCgpO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5xdWVyeVNlYXJjaCA9IGZ1bmN0aW9uIChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNSYWRpb1ZhbGlkID0gZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LnR5cGUgPSBzZWxlY3Rpb247XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAoX19pbl9fKHNlYXJjaFRleHQsIHZtLnJlc291cmNlcykpIHtcblx0ICAgICAgaWYgKCFfX2luX18oc2VhcmNoVGV4dCwgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzKSkge1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmFyZVJlc291cmNlc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LnJlc291cmNlcyA9IHZtLnNlbGVjdGVkX3Jlc291cmNlcy5sZW5ndGggPiAwO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1N0YXJ0RGF0ZVZhbGlkID0gZnVuY3Rpb24gKHN0YXJ0X2RhdGUpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlID0gc3RhcnRfZGF0ZSBpbnN0YW5jZW9mIERhdGU7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzRW5kRGF0ZVZhbGlkID0gZnVuY3Rpb24gKGVuZF9kYXRlKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgPSBlbmRfZGF0ZSBpbnN0YW5jZW9mIERhdGU7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJlbW92ZUZyb21TZWxlY3RlZFJlc291cmNlID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHZhciBpbmRleCA9IHZtLnNlbGVjdGVkX3Jlc291cmNlcy5pbmRleE9mKGl0ZW0pO1xuXHQgICAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICB2bS5yZXNvdXJjZXMucHVzaChpdGVtKTtcblx0ICAgIHZtLmFyZVJlc291cmNlc1ZhbGlkKCk7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5yZXNvdXJjZXMgJiYgdm0uZm9ybVZhbGlkaXR5LnR5cGUpIHtcblx0ICAgICAgdm0uZGlzYWJsZWQgPSBmYWxzZTtcblx0ICAgICAgcmV0dXJuIHZtLmZpbmFsID0ge1xuXHQgICAgICAgIHN0YXJ0X2RhdGVfdW5peDogbW9tZW50KHZtLmRhdGVUaW1lU2VsZWN0aW9uLnN0YXJ0KS51bml4KCksXG5cdCAgICAgICAgZW5kX2RhdGVfdW5peDogbW9tZW50KHZtLmRhdGVUaW1lU2VsZWN0aW9uLmVuZCkudW5peCgpLFxuXHQgICAgICAgIHJlc291cmNlczogdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLFxuXHQgICAgICAgIHR5cGU6IHZtLnJhZGlvQnV0dG9uQ2hvaWNlcy5zZWxlY3Rpb25cblx0ICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHJlc291cmNlc19hc19pZHMgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uZmluYWwucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBpdGVtID0gdm0uZmluYWwucmVzb3VyY2VzW2ldO1xuXHQgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZtLmZ1bGxfcmVzb3VyY2VfbWFwLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSB2bS5mdWxsX3Jlc291cmNlX21hcFtqXTtcblx0ICAgICAgICBpZiAoZWFjaFtcInJlc291cmNlX25hbWVcIl0gPT09IGl0ZW0pIHtcblx0ICAgICAgICAgIHJlc291cmNlc19hc19pZHMucHVzaChlYWNoW1wicmVzb3VyY2VfaWRlbnRpZmllclwiXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG5cdCAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURldmljZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHJlc291cmNlc19hc19pZHMsIHZtLnRlbmFudCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgcmVzb3VyY2VzX2FzX2lkcywgdm0udGVuYW50KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS50ZW5hbnRzID0gbnVsbDtcblx0ICB2bS5jdXJyZW50VGVuYW50ID0gdm0udGVuYW50O1xuXHRcblx0ICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucXVlcnlTZWFyY2ggPSBmdW5jdGlvbiAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzU2VsZWN0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoKSB7XG5cdCAgICBpZiAoX19pbl9fKHNlYXJjaCwgdm0udGVuYW50cykpIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gZmFsc2U7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgIGlmICh0ZW5hbnQgIT09IHZtLmN1cnJlbnRUZW5hbnQpIHtcblx0ICAgICAgJHN0YXRlLmdvKCdwcm9vZkRldGFpbCcsIHtcblx0ICAgICAgICB0ZW5hbnQ6IHRlbmFudFxuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIF9faW5fXyhuZWVkbGUsIGhheXN0YWNrKSB7XG5cdCAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xuXHR9XG5cdFxuXHRleHBvcnRzLlByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwgPSBQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NzU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBQcm9vZk9mUGxheUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnJlc291cmNlID0geyB0aXRsZTogXCJSZXNvdXJjZSBSZXBvcnRcIiB9O1xuXHQgIHZtLmxvY2F0aW9uID0geyB0aXRsZTogXCJMb2NhdGlvbiBSZXBvcnRcIiB9O1xuXHQgIHZtLmRpc3BsYXkgPSB7IHRpdGxlOiBcIkRpc3BsYXkgUmVwb3J0XCIgfTtcblx0XG5cdCAgdm0uY2hvc2VuX3RlbmFudCA9IG51bGw7XG5cdCAgdm0udGVuYW50cyA9IG51bGw7XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICBpZiAodGVuYW50KSB7XG5cdCAgICAgIHZtLmNob3Nlbl90ZW5hbnQgPSB0ZW5hbnQ7XG5cdCAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuXHQgICAgICAgIHRlbmFudDogdm0uY2hvc2VuX3RlbmFudFxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5yZWZyZXNoVGVuYW50cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnRlbmFudHMgPSBudWxsO1xuXHQgICAgdmFyIHVybCA9IFByb29mUGxheVNlcnZpY2UubWFrZUhUVFBVUkwoXCIvcmV0cmlldmVfbXlfdGVuYW50c1wiLCAnJyk7XG5cdCAgICBQcm9vZlBsYXlTZXJ2aWNlLnByb29mcGxheUNhY2hlLnJlbW92ZSh1cmwpO1xuXHQgICAgcmV0dXJuIHZtLmluaXRpYWxpemUoKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuXHQgIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSkgPj0gMDtcblx0fVxuXHRcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheUN0cmwgPSBQcm9vZk9mUGxheUN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY3Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1OTcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBBZG1pblNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gQWRtaW5TZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBBZG1pblNlcnZpY2UpO1xuXHRcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuVVNFUl9TRVJWSUNFID0gXCJ1c2Vyc1wiO1xuXHQgICAgdGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFID0gXCJkaXN0cmlidXRvcnNcIjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEFkbWluU2VydmljZSwgW3tcblx0ICAgIGtleTogXCJtYWtlRGlzdHJpYnV0b3JcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IsIGFkbWluX2VtYWlsKSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0ge1xuXHQgICAgICAgIGRpc3RyaWJ1dG9yOiBkaXN0cmlidXRvcixcblx0ICAgICAgICBhZG1pbl9lbWFpbDogYWRtaW5fZW1haWxcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCAnL2FwaS92MS9kaXN0cmlidXRvcnMnKS5jdXN0b21QT1NUKHBheWxvYWQpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiYWRkVXNlclRvRGlzdHJpYnV0b3JcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRVc2VyVG9EaXN0cmlidXRvcih1c2VyRW1haWwsIGRpc3RyaWJ1dG9yLCBkaXN0cmlidXRvckFkbWluKSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0ge1xuXHQgICAgICAgIHVzZXJfZW1haWw6IHVzZXJFbWFpbCxcblx0ICAgICAgICBkaXN0cmlidXRvcjogZGlzdHJpYnV0b3IsXG5cdCAgICAgICAgZGlzdHJpYnV0b3JfYWRtaW46IGRpc3RyaWJ1dG9yQWRtaW5cblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5VU0VSX1NFUlZJQ0UsIFwiL2FwaS92MS91c2Vyc1wiKS5jdXN0b21QT1NUKHBheWxvYWQpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBcIi9hcGkvdjEvYW5hbHl0aWNzL2Rpc3RyaWJ1dG9ycy9cIiArIGRpc3RyaWJ1dG9yS2V5ICsgXCIvdXNlcnNcIikuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJnZXRBbGxEaXN0cmlidXRvcnNcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxEaXN0cmlidXRvcnMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBcIi9hcGkvdjEvZGlzdHJpYnV0b3JzXCIpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSwgW3tcblx0ICAgIGtleTogXCJhZG1pblNlcnZpY2VGYWN0b3J5XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWRtaW5TZXJ2aWNlRmFjdG9yeShSZXN0YW5ndWxhcikge1xuXHQgICAgICByZXR1cm4gbmV3IEFkbWluU2VydmljZShSZXN0YW5ndWxhcik7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBBZG1pblNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEFkbWluU2VydmljZTtcblx0XG5cdFxuXHRBZG1pblNlcnZpY2UuYWRtaW5TZXJ2aWNlRmFjdG9yeS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cbi8qKiovIH0sXG5cbi8qKiovIDY4Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBBdXRob3JpemF0aW9uU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBBdXRob3JpemF0aW9uU2VydmljZShTZXNzaW9uc1NlcnZpY2UsICRxKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBBdXRob3JpemF0aW9uU2VydmljZSk7XG5cdFxuXHQgICAgdGhpcy4kcSA9ICRxO1xuXHQgICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2U7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShBdXRob3JpemF0aW9uU2VydmljZSwgW3tcblx0ICAgIGtleTogXCJhdXRoZW50aWNhdGVkXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYXV0aGVudGljYXRlZCgpIHtcblx0ICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICB2YXIgdXNlcktleSA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKTtcblx0ICAgICAgaWYgKHVzZXJLZXkpIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlZmVycmVkLnJlamVjdChbXCJhdXRoRXJyb3JcIiwgJ3NpZ25faW4nXSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcIm5vdEF1dGhlbnRpY2F0ZWRcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBub3RBdXRoZW50aWNhdGVkKCkge1xuXHQgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cdCAgICAgIHZhciB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuXHQgICAgICBpZiAoIXVzZXJLZXkpIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlZmVycmVkLnJlamVjdChbXCJhdXRoRXJyb3JcIiwgJ2hvbWUnXSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW5cIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpc0FkbWluT3JEaXN0cmlidXRvckFkbWluKCkge1xuXHQgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cdCAgICAgIHZhciBhZG1pbiA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldElzQWRtaW4oKTtcblx0ICAgICAgdmFyIGRpc3RyaWJ1dG9yQWRtaW4gPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCk7XG5cdCAgICAgIHZhciBoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbiA9IGZhbHNlO1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JBZG1pbiAmJiBkaXN0cmlidXRvckFkbWluLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICBoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbiA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHVzZXJLZXkgPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCk7XG5cdCAgICAgIGlmICghdXNlcktleSkge1xuXHQgICAgICAgIGRlZmVycmVkLnJlamVjdCgnc2lnbl9pbicpO1xuXHQgICAgICB9IGVsc2UgaWYgKCFhZG1pbiAmJiAhaGFzQXRMZWFzdE9uZURpc3RyaWJ1dG9yQWRtaW4pIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdob21lJ10pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdCAgICB9XG5cdCAgfV0sIFt7XG5cdCAgICBrZXk6IFwiYXV0aG9yaXphdGlvblNlcnZpY2VGYWN0b3J5XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYXV0aG9yaXphdGlvblNlcnZpY2VGYWN0b3J5KFNlc3Npb25zU2VydmljZSwgJHEpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBBdXRob3JpemF0aW9uU2VydmljZShTZXNzaW9uc1NlcnZpY2UsICRxKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBBdXRob3JpemF0aW9uU2VydmljZTtcblx0XG5cdFxuXHRBdXRob3JpemF0aW9uU2VydmljZS5hdXRob3JpemF0aW9uU2VydmljZUZhY3RvcnkuJGluamVjdCA9IFtcIlNlc3Npb25zU2VydmljZVwiLCBcIiRxXCJdO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2ODM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzcpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU5Nyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIENvbW1hbmRzU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBDb21tYW5kc1NlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENvbW1hbmRzU2VydmljZSk7XG5cdFxuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgICAgdGhpcy5TRVJWSUNFX05BTUUgPSAnZGV2aWNlcyc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDb21tYW5kc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdyZXNldCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9yZXNldCcpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29udGVudERlbGV0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29udGVudERlbGV0ZShrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL2NvbnRlbnQtZGVsZXRlJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb250ZW50VXBkYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb250ZW50VXBkYXRlKGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvY29udGVudC11cGRhdGUnKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3VwZGF0ZURldmljZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlRGV2aWNlKGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvcmVmcmVzaC1kZXZpY2UtcmVwcmVzZW50YXRpb24nKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3RvZ2dsZURpYWdub3N0aWNzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVEaWFnbm9zdGljcyhrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL2RpYWdub3N0aWNzJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdwb3dlck9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwb3dlck9uKGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvcG93ZXItb24nKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Bvd2VyT2ZmJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwb3dlck9mZihrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL3Bvd2VyLW9mZicpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAndm9sdW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB2b2x1bWUoa2V5LCBfdm9sdW1lKSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0ge1xuXHQgICAgICAgIHZvbHVtZTogX3ZvbHVtZVxuXHQgICAgICB9O1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSkuY3VzdG9tUE9TVChwYXlsb2FkLCAnY29tbWFuZHMvdm9sdW1lJyk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2N1c3RvbScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY3VzdG9tKGtleSwgY29tbWFuZCkge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICBjb21tYW5kOiBjb21tYW5kXG5cdCAgICAgIH07XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5KS5jdXN0b21QT1NUKHBheWxvYWQsICdjb21tYW5kcy9jdXN0b20nKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfV0sIFt7XG5cdCAgICBrZXk6ICdjb21tYW5kU2VydmljZUZhY3RvcnknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbW1hbmRTZXJ2aWNlRmFjdG9yeShSZXN0YW5ndWxhcikge1xuXHQgICAgICByZXR1cm4gbmV3IENvbW1hbmRzU2VydmljZShSZXN0YW5ndWxhcik7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBDb21tYW5kc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENvbW1hbmRzU2VydmljZTtcblx0XG5cdFxuXHRDb21tYW5kc1NlcnZpY2UuY29tbWFuZFNlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjg0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3MSk7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkoZGF0ZSkge1xuXHQgICAgICBpZiAoIV9tb21lbnQyLmRlZmF1bHQuaXNNb21lbnQoZGF0ZSkpIHtcblx0ICAgICAgICByZXR1cm4gKDAsIF9tb21lbnQyLmRlZmF1bHQpKG5ldyBEYXRlKGRhdGUpKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZGF0ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRm9ybWF0dGVkU3RhcnRBbmRFbmREYXRlRnJvbVRvZGF5KGRheXNCYWNrKSB7XG5cdCAgICAgIHZhciBzdGFydFRpbWUgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkoKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcblx0ICAgICAgdmFyIHN0YXJ0VGltZU1pZE5pZ2h0ID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHN0YXJ0VGltZSwgJ1lZWVktTU0tREQnKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW0gQScpO1xuXHQgICAgICB2YXIgc3RhcnRUaW1lRW5kT2ZEYXkgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkoc3RhcnRUaW1lTWlkTmlnaHQsICdZWVlZLU1NLUREIGhoOm1tIEEnKS5hZGQoMSwgJ2RheScpLnN1YnRyYWN0KDYwLCAnc2Vjb25kcycpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJyk7XG5cdFxuXHQgICAgICB2YXIgZW5kVGltZSA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSgpLnN1YnRyYWN0KDMwLCAnZGF5cycpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuXHQgICAgICB2YXIgZW5kVGltZU1pZE5pZ2h0ID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKGVuZFRpbWUsICdZWVlZLU1NLUREJykuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tIEEnKTtcblx0XG5cdCAgICAgIHJldHVybiBbZW5kVGltZU1pZE5pZ2h0LCBzdGFydFRpbWVFbmRPZkRheV07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2VuZXJhdGVMb2NhbEZyb21VVEMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlTG9jYWxGcm9tVVRDKFVUQ1RpbWUpIHtcblx0ICAgICAgdmFyIGxvY2FsVGltZSA9IF9tb21lbnQyLmRlZmF1bHQudXRjKFVUQ1RpbWUpLnRvRGF0ZSgpO1xuXHQgICAgICByZXR1cm4gKDAsIF9tb21lbnQyLmRlZmF1bHQpKGxvY2FsVGltZSkuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tOnNzIEEnKTtcblx0ICAgIH1cblx0ICB9XSwgW3tcblx0ICAgIGtleTogJ2RhdGVtYW5pcHVsYXRpb25TZXJ2aWNlRmFjdG9yeScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZGF0ZW1hbmlwdWxhdGlvblNlcnZpY2VGYWN0b3J5KFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAgIHJldHVybiBuZXcgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UoKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjg1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1OTcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBEZXZpY2VzU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBEZXZpY2VzU2VydmljZSgkbG9nLCBSZXN0YW5ndWxhciwgJHEsICRodHRwLCAkc3RhdGUpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERldmljZXNTZXJ2aWNlKTtcblx0XG5cdCAgICB0aGlzLiRsb2cgPSAkbG9nO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgICAgdGhpcy4kcSA9ICRxO1xuXHQgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuXHQgICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG5cdCAgICB0aGlzLlNFUlZJQ0VfTkFNRSA9ICdkZXZpY2VzJztcblx0ICAgIHRoaXMudXJpQmFzZSA9ICd2MS9kZXZpY2VzJztcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERldmljZXNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnZ2V0RGV2aWNlQnlNYWNBZGRyZXNzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXZpY2VCeU1hY0FkZHJlc3MobWFjQWRkcmVzcykge1xuXHQgICAgICB2YXIgdXJsID0gJ2FwaS92MS9kZXZpY2VzP21hY19hZGRyZXNzPScgKyBtYWNBZGRyZXNzO1xuXHQgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2FwaS92MS9kZXZpY2VzJywgdXJsKS5nZXQoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREZXZpY2VCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGV2aWNlQnlLZXkoZGV2aWNlS2V5KSB7XG5cdCAgICAgIHZhciB1cmwgPSAnYXBpL3YxL2RldmljZXMvJyArIGRldmljZUtleTtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUoZGljdGlvbmFyeSwgdmFsdWUpIHtcblx0ICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaWN0aW9uYXJ5Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBkaWN0aW9uYXJ5W2ldO1xuXHQgICAgICAgIHJlc3VsdHMucHVzaChlYWNoW3ZhbHVlXSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgaXNNYWMgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgaXNHQ01pZCA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBzZXJpYWxEZXZpY2VzRGljdCA9IF90aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG5cdCAgICAgICAgdmFyIGRldmljZVNlcmlhbHNPbmx5ID0gX3RoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG5cdCAgICAgICAgcmV0dXJuIFtkZXZpY2VTZXJpYWxzT25seSwgc2VyaWFsRGV2aWNlc0RpY3RdO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5RGlzdHJpYnV0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbChkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgc2VyaWFsRGV2aWNlc0RpY3QgPSB2b2lkIDA7XG5cdCAgICAgICAgdmFyIGlzTWFjID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIGlzR0NNaWQgPSBmYWxzZTtcblx0ICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICBzZXJpYWxEZXZpY2VzRGljdCA9IF90aGlzMi5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBzZXJpYWxEZXZpY2VzRGljdCA9IF90aGlzMi5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgc2VyaWFsRGV2aWNlc09ubHkgPSBfdGhpczIucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG5cdCAgICAgICAgcmV0dXJuIFtzZXJpYWxEZXZpY2VzT25seSwgc2VyaWFsRGV2aWNlc0RpY3RdO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgbWFjRGV2aWNlc0RpY3QgPSBfdGhpczMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIHRydWUpO1xuXHQgICAgICAgIHZhciBkZXZpY2VNYWNzT25seSA9IF90aGlzMy5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcIm1hY1wiKTtcblx0ICAgICAgICByZXR1cm4gW2RldmljZU1hY3NPbmx5LCBtYWNEZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuXHQgICAgICAgIHZhciBtYWNEZXZpY2VzRGljdCA9IHZvaWQgMDtcblx0ICAgICAgICB2YXIgaXNNYWMgPSB0cnVlO1xuXHQgICAgICAgIHZhciBpc0dDTWlkID0gZmFsc2U7XG5cdCAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuXHQgICAgICAgICAgbWFjRGV2aWNlc0RpY3QgPSBfdGhpczQuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgbWFjRGV2aWNlc0RpY3QgPSBfdGhpczQuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIG1hY0RldmljZXMgPSBfdGhpczQucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJtYWNcIik7XG5cdCAgICAgICAgcmV0dXJuIFttYWNEZXZpY2VzLCBtYWNEZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG5cdCAgICAgICAgdmFyIGdjbWlkRGV2aWNlc0RpY3QgPSBfdGhpczUuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcblx0ICAgICAgICB2YXIgZ2NtaWREZXZpY2VzT25seSA9IF90aGlzNS5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcImdjbWlkXCIpO1xuXHQgICAgICAgIHJldHVybiBbZ2NtaWREZXZpY2VzT25seSwgZ2NtaWREZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeURpc3RyaWJ1dG9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG5cdCAgICAgICAgdmFyIEdDTWlkRGV2aWNlc0RpY3QgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuXHQgICAgICAgICAgR0NNaWREZXZpY2VzRGljdCA9IF90aGlzNi5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBHQ01pZERldmljZXNEaWN0ID0gX3RoaXM2LmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBmYWxzZSwgdHJ1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBnY21pZERldmljZXNPbmx5ID0gX3RoaXM2LnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwiZ2NtaWRcIik7XG5cdCAgICAgICAgcmV0dXJuIFtnY21pZERldmljZXNPbmx5LCBHQ01pZERldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVqZWN0ZWRQcm9taXNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZWplY3RlZFByb21pc2UoKSB7XG5cdCAgICAgIHZhciBkZXZpY2VEZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgZGV2aWNlRGVmZXJyZWQucmVqZWN0KCk7XG5cdCAgICAgIHJldHVybiBkZXZpY2VEZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERldmljZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERldmljZXMocGFydGlhbFNlYXJjaCwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCBkaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIGRldmljZXNQcm9taXNlID0gdm9pZCAwO1xuXHQgICAgICBpZiAocGFydGlhbFNlYXJjaCkge1xuXHQgICAgICAgIGlmIChwYXJ0aWFsU2VhcmNoLmxlbmd0aCA+IDIpIHtcblx0ICAgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG5cdCAgICAgICAgICAgIGlmIChieVRlbmFudCkge1xuXHQgICAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PT0gXCJNQUNcIikge1xuXHQgICAgICAgICAgICBpZiAoYnlUZW5hbnQpIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKGJ5VGVuYW50KSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5yZWplY3RlZFByb21pc2UoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLnJlamVjdGVkUHJvbWlzZSgpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZXZpY2VzUmVzdWx0KSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG5cdCAgICAgICAgICBcInN1Y2Nlc3NcIjogdHJ1ZSxcblx0ICAgICAgICAgIFwiZGV2aWNlc1wiOiBkZXZpY2VzUmVzdWx0XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgZGV2aWNlc1Byb21pc2UuY2F0Y2goZnVuY3Rpb24gKGRldmljZXNSZXN1bHQpIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcblx0ICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZSxcblx0ICAgICAgICAgIFwiZGV2aWNlc1wiOiBbXVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2lzUmVzb3VyY2VWYWxpZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaXNSZXNvdXJjZVZhbGlkKHJlc291cmNlLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIGRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIG1hYyA9IHZvaWQgMCxcblx0ICAgICAgICAgIHNlcmlhbCA9IHZvaWQgMCxcblx0ICAgICAgICAgIGdjbWlkID0gdm9pZCAwO1xuXHQgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cdCAgICAgIGlmIChyZXNvdXJjZSkge1xuXHQgICAgICAgIGlmIChyZXNvdXJjZS5sZW5ndGggPiAyKSB7XG5cdCAgICAgICAgICBtYWMgPSBidXR0b24gPT09IFwiTUFDXCI7XG5cdCAgICAgICAgICBzZXJpYWwgPSBidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuXHQgICAgICAgICAgZ2NtaWQgPSBidXR0b24gPT09IFwiR0NNIElEXCI7XG5cdCAgICAgICAgICBpZiAoYnlUZW5hbnQpIHtcblx0ICAgICAgICAgICAgaWYgKG1hYykge1xuXHQgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodGhpcy5tYXRjaERldmljZXNCeUZ1bGxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHJlc291cmNlLCB1bm1hbmFnZWQpKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChzZXJpYWwpIHtcblx0ICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRoaXMubWF0Y2hEZXZpY2VzQnlGdWxsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCByZXNvdXJjZSwgdW5tYW5hZ2VkKSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0aGlzLm1hdGNoRGV2aWNlc0J5RnVsbEdDTWlkQnlUZW5hbnQodGVuYW50S2V5LCByZXNvdXJjZSwgdW5tYW5hZ2VkKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChtYWMpIHtcblx0ICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRoaXMubWF0Y2hEZXZpY2VzQnlGdWxsTWFjKGRpc3RyaWJ1dG9yS2V5LCByZXNvdXJjZSwgdW5tYW5hZ2VkKSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG5cdCAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0aGlzLm1hdGNoRGV2aWNlc0J5RnVsbFNlcmlhbChkaXN0cmlidXRvcktleSwgcmVzb3VyY2UsIHVubWFuYWdlZCkpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodGhpcy5tYXRjaERldmljZXNCeUZ1bGxHQ01pZChkaXN0cmlidXRvcktleSwgcmVzb3VyY2UsIHVubWFuYWdlZCkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoeyBcImlzX21hdGNoXCI6IGZhbHNlIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHsgXCJpc19tYXRjaFwiOiBmYWxzZSB9KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHRoZUFycmF5LCBtYWMsIGdjbSkge1xuXHQgICAgICAvKiogQ29udmVydHMgYXJyYXkgdG8gZGljdGlvbmFyeSB3aXRoIG1hYywgZ2NtaWQsIG9yIHNlcmlhbCBhcyB0aGUga2V5ICoqL1xuXHQgICAgICB2YXIgZGV2aWNlcyA9IHt9O1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGl0ZW0gPSB0aGVBcnJheVtpXTtcblx0ICAgICAgICBpZiAobWFjKSB7XG5cdCAgICAgICAgICBkZXZpY2VzW2l0ZW0ubWFjXSA9IGl0ZW07XG5cdCAgICAgICAgfSBlbHNlIGlmIChnY20pIHtcblx0ICAgICAgICAgIGRldmljZXNbaXRlbS5nY21pZF0gPSBpdGVtO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBkZXZpY2VzW2l0ZW0uc2VyaWFsXSA9IGl0ZW07XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBkZXZpY2VzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2VkaXRJdGVtJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBlZGl0SXRlbShpdGVtLCBmcm9tRGV2aWNlcykge1xuXHQgICAgICBpZiAoIWZyb21EZXZpY2VzKSB7XG5cdCAgICAgICAgZnJvbURldmljZXMgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLiRzdGF0ZS5nbygnZWRpdERldmljZScsIHtcblx0ICAgICAgICBkZXZpY2VLZXk6IGl0ZW0ua2V5LFxuXHQgICAgICAgIHRlbmFudEtleTogaXRlbS50ZW5hbnRLZXksXG5cdCAgICAgICAgZnJvbURldmljZXM6IGZyb21EZXZpY2VzXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3ByZXByYXRlRm9yRWRpdFZpZXcnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHByZXByYXRlRm9yRWRpdFZpZXcoYnV0dG9uLCB0ZW5hbnRLZXksIHNlYXJjaFRleHQsIG1hY0RldmljZXMsIHNlcmlhbERldmljZXMsIGdjbWlkRGV2aWNlcykge1xuXHQgICAgICB2YXIgbWFjID0gdm9pZCAwLFxuXHQgICAgICAgICAgc2VyaWFsID0gdm9pZCAwLFxuXHQgICAgICAgICAgZ2NtaWQgPSB2b2lkIDA7XG5cdFxuXHQgICAgICBtYWMgPSBidXR0b24gPT09IFwiTUFDXCI7XG5cdCAgICAgIHNlcmlhbCA9IGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG5cdCAgICAgIGdjbWlkID0gYnV0dG9uID09PSBcIkdDTSBJRFwiO1xuXHRcblx0ICAgICAgaWYgKG1hYykge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmVkaXRJdGVtKG1hY0RldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmVkaXRJdGVtKHNlcmlhbERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmVkaXRJdGVtKGdjbWlkRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRJc3N1ZXNCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXNzdWVzQnlLZXkoZGV2aWNlS2V5LCBzdGFydEVwb2NoLCBlbmRFcG9jaCwgcHJldiwgbmV4dCkge1xuXHQgICAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcblx0ICAgICAgbmV4dCA9IG5leHQgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IG5leHQ7XG5cdCAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9kZXZpY2VzLycgKyBwcmV2ICsgJy8nICsgbmV4dCArICcvJyArIGRldmljZUtleSArICcvaXNzdWVzP3N0YXJ0PScgKyBzdGFydEVwb2NoICsgJyZlbmQ9JyArIGVuZEVwb2NoO1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRDb21tYW5kRXZlbnRzQnlLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpIHtcblx0ICAgICAgcHJldiA9IHByZXYgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IHByZXY7XG5cdCAgICAgIG5leHQgPSBuZXh0ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBuZXh0O1xuXHQgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvcGxheWVyLWNvbW1hbmQtZXZlbnRzLycgKyBwcmV2ICsgJy8nICsgbmV4dCArICcvJyArIGRldmljZUtleTtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgICAgLy8gVEVOQU5UIFZJRVdcblx0ICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGV2aWNlc0J5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSB0aGlzLm1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCBmYWxzZSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVbm1hbmFnZWREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgICB2YXIgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5VGVuYW50VVJMKHRlbmFudEtleSwgcHJldiwgbmV4dCwgdHJ1ZSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEJ5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS90ZW5hbnRzL3NlYXJjaC8nICsgdGVuYW50S2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX3NlcmlhbD0nICsgcGFydGlhbF9zZXJpYWw7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERldmljZXNCeVBhcnRpYWxNYWNCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvdGVuYW50cy9zZWFyY2gvJyArIHRlbmFudEtleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9tYWM9JyArIHBhcnRpYWxfbWFjO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZEJ5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS90ZW5hbnRzL3NlYXJjaC8nICsgdGVuYW50S2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX2djbWlkPScgKyBwYXJ0aWFsX2djbWlkO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdtYXRjaERldmljZXNCeUZ1bGxTZXJpYWxCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWF0Y2hEZXZpY2VzQnlGdWxsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBmdWxsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS90ZW5hbnRzL21hdGNoLycgKyB0ZW5hbnRLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJmZ1bGxfc2VyaWFsPScgKyBmdWxsX3NlcmlhbDtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnbWF0Y2hEZXZpY2VzQnlGdWxsTWFjQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1hdGNoRGV2aWNlc0J5RnVsbE1hY0J5VGVuYW50KHRlbmFudEtleSwgZnVsbF9tYWMsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvdGVuYW50cy9tYXRjaC8nICsgdGVuYW50S2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZmdWxsX21hYz0nICsgZnVsbF9tYWM7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ21hdGNoRGV2aWNlc0J5RnVsbEdDTWlkQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1hdGNoRGV2aWNlc0J5RnVsbEdDTWlkQnlUZW5hbnQodGVuYW50S2V5LCBmdWxsX2djbWlkLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL3RlbmFudHMvbWF0Y2gvJyArIHRlbmFudEtleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmZnVsbF9nY21pZD0nICsgZnVsbF9nY21pZDtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgICAgLy8gREVWSUNFUyBWSUVXXG5cdCAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWwoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxfc2VyaWFsLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvZGlzdHJpYnV0b3JzL3NlYXJjaC8nICsgZGlzdHJpYnV0b3JLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfc2VyaWFsPScgKyBwYXJ0aWFsX3NlcmlhbDtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hYycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hYyhkaXN0cmlidXRvcktleSwgcGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9kaXN0cmlidXRvcnMvc2VhcmNoLycgKyBkaXN0cmlidXRvcktleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9tYWM9JyArIHBhcnRpYWxfbWFjO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxfZ2NtaWQsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9kaXN0cmlidXRvcnMvc2VhcmNoLycgKyBkaXN0cmlidXRvcktleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9nY21pZD0nICsgcGFydGlhbF9nY21pZDtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnbWF0Y2hEZXZpY2VzQnlGdWxsU2VyaWFsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYXRjaERldmljZXNCeUZ1bGxTZXJpYWwoZGlzdHJpYnV0b3JLZXksIGZ1bGxfc2VyaWFsLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvZGlzdHJpYnV0b3JzL21hdGNoLycgKyBkaXN0cmlidXRvcktleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmZnVsbF9zZXJpYWw9JyArIGZ1bGxfc2VyaWFsO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdtYXRjaERldmljZXNCeUZ1bGxNYWMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1hdGNoRGV2aWNlc0J5RnVsbE1hYyhkaXN0cmlidXRvcktleSwgZnVsbF9tYWMsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9kaXN0cmlidXRvcnMvbWF0Y2gvJyArIGRpc3RyaWJ1dG9yS2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZmdWxsX21hYz0nICsgZnVsbF9tYWM7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ21hdGNoRGV2aWNlc0J5RnVsbEdDTWlkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYXRjaERldmljZXNCeUZ1bGxHQ01pZChkaXN0cmlidXRvcktleSwgZnVsbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9tYXRjaC8nICsgZGlzdHJpYnV0b3JLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJmZ1bGxfZ2NtaWQ9JyArIGZ1bGxfZ2NtaWQ7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERldmljZXNCeURpc3RyaWJ1dG9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXZpY2VzQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSB0aGlzLm1ha2VEZXZpY2VzQnlEaXN0cmlidXRvclVSTChkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCwgZmFsc2UpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFVubWFuYWdlZERldmljZXNCeURpc3RyaWJ1dG9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVbm1hbmFnZWREZXZpY2VzQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSB0aGlzLm1ha2VEZXZpY2VzQnlEaXN0cmlidXRvclVSTChkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCwgdHJ1ZSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGV2aWNlcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGV2aWNlcygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLlNFUlZJQ0VfTkFNRSkuZ2V0TGlzdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKGRldmljZSkge1xuXHQgICAgICBpZiAoZGV2aWNlLmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBkZXZpY2UucHV0KCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2RldmljZXMnKS5wb3N0KGRldmljZSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGVsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGRldmljZUtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKHRoaXMuU0VSVklDRV9OQU1FLCBkZXZpY2VLZXkpLnJlbW92ZSgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRQYW5lbE1vZGVscycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGFuZWxNb2RlbHMoKSB7XG5cdCAgICAgIHJldHVybiBbe1xuXHQgICAgICAgICdpZCc6ICdOb25lJyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnTm9uZSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdTb255LUZYRDQwTFgyRicsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1NvbnkgRlhENDBMWDJGJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ05FQy1MQ0Q0MjE1Jyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnTkVDIExDRDQyMTUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnUGhpbGxpcHMgQkRMNTU2MEVMJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ1BhbmFzb25pYy1USDU1TEY2VScsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1BhbmFzb25pYyBUSDU1TEY2VSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdTaGFycC1QTkU1MjEnLFxuXHQgICAgICAgICdkaXNwbGF5TmFtZSc6ICdTaGFycCBQTkU1MjEnXG5cdCAgICAgIH1dO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFBhbmVsSW5wdXRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYW5lbElucHV0cygpIHtcblx0ICAgICAgcmV0dXJuIFt7XG5cdCAgICAgICAgJ2lkJzogJ05vbmUnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdOb25lJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkxJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnU29ueS1GWEQ0MExYMkYnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTInLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdTb255LUZYRDQwTFgyRidcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1BoaWxsaXBzLUJETDU1NjBFTCdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMicsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1BoaWxsaXBzLUJETDU1NjBFTCdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdEVkknLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTEnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdQYW5hc29uaWMtVEg1NUxGNlUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTInLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdQYW5hc29uaWMtVEg1NUxGNlUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnRFZJJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkxJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnU2hhcnAtUE5FNTIxJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkyJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnU2hhcnAtUE5FNTIxJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0RWSScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdWR0EnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdORUMtTENENDIxNSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdEVkkxJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnTkVDLUxDRDQyMTUnXG5cdCAgICAgIH1dO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ21ha2VEZXZpY2VzQnlEaXN0cmlidXRvclVSTCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL2Rpc3RyaWJ1dG9ycy8nICsgZGlzdHJpYnV0b3JLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJm5leHRfY3Vyc29yPScgKyBuZXh0ICsgJyZwcmV2X2N1cnNvcj0nICsgcHJldjtcblx0ICAgICAgcmV0dXJuIHVybDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdtYWtlRGV2aWNlc0J5VGVuYW50VVJMJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlRGV2aWNlc0J5VGVuYW50VVJMKHRlbmFudEtleSwgcHJldiwgbmV4dCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciB1cmwgPSAnL2FwaS92MS90ZW5hbnRzLycgKyB0ZW5hbnRLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJm5leHRfY3Vyc29yPScgKyBuZXh0ICsgJyZwcmV2X2N1cnNvcj0nICsgcHJldjtcblx0ICAgICAgcmV0dXJuIHVybDtcblx0ICAgIH1cblx0ICB9XSwgW3tcblx0ICAgIGtleTogJ2RldmljZXNTZXJ2aWNlRmFjdG9yeScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZGV2aWNlc1NlcnZpY2VGYWN0b3J5KCRsb2csIFJlc3Rhbmd1bGFyLCAkcSwgJGh0dHAsICRzdGF0ZSkge1xuXHQgICAgICByZXR1cm4gbmV3IERldmljZXNTZXJ2aWNlKCRsb2csIFJlc3Rhbmd1bGFyLCAkcSwgJGh0dHAsICRzdGF0ZSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBEZXZpY2VzU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRGV2aWNlc1NlcnZpY2U7XG5cdFxuXHRcblx0RGV2aWNlc1NlcnZpY2UuZGV2aWNlc1NlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiUmVzdGFuZ3VsYXJcIiwgXCIkcVwiLCBcIiRodHRwXCIsIFwiJHN0YXRlXCJdO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2ODY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzcpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU5Nyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIERpc3RyaWJ1dG9yc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gRGlzdHJpYnV0b3JzU2VydmljZShSZXN0YW5ndWxhciwgJHN0YXRlLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERpc3RyaWJ1dG9yc1NlcnZpY2UpO1xuXHRcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlO1xuXHQgICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2U7XG5cdCAgICB0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UgPSAnZGlzdHJpYnV0b3JzJztcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERpc3RyaWJ1dG9yc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKHRlbmFudCkge1xuXHQgICAgICBpZiAodGVuYW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0ZW5hbnQucHV0KCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFKS5wb3N0KHRlbmFudCk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmV0Y2hBbGwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQWxsKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSkuZ2V0TGlzdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdmZXRjaEFsbEJ5VXNlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hBbGxCeVVzZXIodXNlcktleSkge1xuXHQgICAgICBpZiAodXNlcktleSkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUoJ3VzZXJzJywgdXNlcktleSkuZG9HRVQodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEJ5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCeUtleShrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsICdhcGkvdjEvZGlzdHJpYnV0b3JzLycgKyBrZXkpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkZWxldGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoZW50aXR5KSB7XG5cdCAgICAgIGlmIChlbnRpdHkua2V5KSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZSh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIGVudGl0eS5rZXkpLnJlbW92ZSgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QnlOYW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCeU5hbWUobmFtZSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSkuZ2V0TGlzdCh7IGRpc3RyaWJ1dG9yTmFtZTogbmFtZSB9KTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RG9tYWluc0J5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREb21haW5zQnlLZXkoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCAnYXBpL3YxL2Rpc3RyaWJ1dG9ycy8nICsga2V5ICsgJy9kb21haW5zJykuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3N3aXRjaERpc3RyaWJ1dG9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzd2l0Y2hEaXN0cmlidXRvcihkaXN0cmlidXRvcikge1xuXHQgICAgICB0aGlzLlNlc3Npb25zU2VydmljZS5zZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKGRpc3RyaWJ1dG9yLm5hbWUpO1xuXHQgICAgICB0aGlzLlNlc3Npb25zU2VydmljZS5zZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoZGlzdHJpYnV0b3Iua2V5KTtcblx0ICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlLmdvKCd3ZWxjb21lJyk7XG5cdCAgICB9XG5cdCAgfV0sIFt7XG5cdCAgICBrZXk6ICdkaXN0cmlidXRvclNlcnZpY2VGYWN0b3J5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkaXN0cmlidXRvclNlcnZpY2VGYWN0b3J5KFJlc3Rhbmd1bGFyLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSkge1xuXHQgICAgICByZXR1cm4gbmV3IERpc3RyaWJ1dG9yc1NlcnZpY2UoUmVzdGFuZ3VsYXIsICRzdGF0ZSwgU2Vzc2lvbnNTZXJ2aWNlKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIERpc3RyaWJ1dG9yc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IERpc3RyaWJ1dG9yc1NlcnZpY2U7XG5cdFxuXHRcblx0RGlzdHJpYnV0b3JzU2VydmljZS5kaXN0cmlidXRvclNlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiLCBcIiRzdGF0ZVwiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjg3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBEb21haW5zU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBEb21haW5zU2VydmljZShSZXN0YW5ndWxhcikge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRG9tYWluc1NlcnZpY2UpO1xuXHRcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERvbWFpbnNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2F2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZShkb21haW4pIHtcblx0ICAgICAgaWYgKGRvbWFpbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gZG9tYWluLnB1dCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdkb21haW5zJykucG9zdChkb21haW4pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZldGNoQWxsRG9tYWlucycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hBbGxEb21haW5zKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKCdkb21haW5zJykuZ2V0TGlzdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREb21haW5CeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RG9tYWluQnlLZXkoZG9tYWluS2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2RvbWFpbnMnLCAnYXBpL3YxL2RvbWFpbnMvJyArIGRvbWFpbktleSkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2RlbGV0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZShkb21haW4pIHtcblx0ICAgICAgaWYgKGRvbWFpbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUoXCJkb21haW5zXCIsIGRvbWFpbi5rZXkpLnJlbW92ZSgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0sIFt7XG5cdCAgICBrZXk6ICdkb21haW5TZXJ2aWNlRmFjdG9yeScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG9tYWluU2VydmljZUZhY3RvcnkoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBEb21haW5zU2VydmljZShSZXN0YW5ndWxhcik7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBEb21haW5zU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRG9tYWluc1NlcnZpY2U7XG5cdFxuXHRcblx0RG9tYWluc1NlcnZpY2UuZG9tYWluU2VydmljZUZhY3RvcnkuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2ODg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3Nyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc4KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSWRlbnRpdHlTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIElkZW50aXR5U2VydmljZShSZXN0YW5ndWxhcikge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgSWRlbnRpdHlTZXJ2aWNlKTtcblx0XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShJZGVudGl0eVNlcnZpY2UsIFt7XG5cdCAgICBrZXk6IFwiZ2V0SWRlbnRpdHlcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJZGVudGl0eSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdpZGVudGl0eScpLmdldCgpO1xuXHQgICAgfVxuXHQgIH1dLCBbe1xuXHQgICAga2V5OiBcImlkZW50aXR5U2VydmljZUZhY3RvcnlcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpZGVudGl0eVNlcnZpY2VGYWN0b3J5KFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAgIHJldHVybiBuZXcgSWRlbnRpdHlTZXJ2aWNlKFJlc3Rhbmd1bGFyKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIElkZW50aXR5U2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSWRlbnRpdHlTZXJ2aWNlO1xuXHRcblx0XG5cdElkZW50aXR5U2VydmljZS5pZGVudGl0eVNlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjg5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJbnRlZ3JhdGlvbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBJbnRlZ3JhdGlvbkV2ZW50cyhSZXN0YW5ndWxhcikge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgSW50ZWdyYXRpb25FdmVudHMpO1xuXHRcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuRU5ST0xMTUVOVF9FVkVOVFMgPSAnaW50ZWdyYXRpb25fZXZlbnRzL2Vucm9sbG1lbnQnO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoSW50ZWdyYXRpb25FdmVudHMsIFt7XG5cdCAgICBrZXk6ICdnZXRFbnJvbGxtZW50RXZlbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFbnJvbGxtZW50RXZlbnRzKGRldmljZUtleSkge1xuXHQgICAgICB2YXIgcXVlcnkgPSB7XG5cdCAgICAgICAgZGV2aWNlS2V5OiBkZXZpY2VLZXlcblx0ICAgICAgfTtcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRU5ST0xMTUVOVF9FVkVOVFMpLmN1c3RvbUdFVCgnJywgcXVlcnkpO1xuXHQgICAgfVxuXHQgIH1dLCBbe1xuXHQgICAga2V5OiAnaW50ZWdyYXRpb25FdmVudHNTZXJ2aWNlRmFjdG9yeScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaW50ZWdyYXRpb25FdmVudHNTZXJ2aWNlRmFjdG9yeShSZXN0YW5ndWxhcikge1xuXHQgICAgICByZXR1cm4gbmV3IEludGVncmF0aW9uRXZlbnRzKFJlc3Rhbmd1bGFyKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEludGVncmF0aW9uRXZlbnRzO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBJbnRlZ3JhdGlvbkV2ZW50cztcblx0XG5cdFxuXHRJbnRlZ3JhdGlvbkV2ZW50cy5pbnRlZ3JhdGlvbkV2ZW50c1NlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjkwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBMb2NhdGlvbnNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIExvY2F0aW9uc1NlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIExvY2F0aW9uc1NlcnZpY2UpO1xuXHRcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKExvY2F0aW9uc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKGxvY2F0aW9uKSB7XG5cdCAgICAgIGlmIChsb2NhdGlvbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gbG9jYXRpb24ucHV0KCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2xvY2F0aW9ucycpLnBvc3QobG9jYXRpb24pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldExvY2F0aW9uc0J5VGVuYW50S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2NhdGlvbnNCeVRlbmFudEtleSh0ZW5hbnRLZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsICdhcGkvdjEvdGVuYW50cy8nICsgdGVuYW50S2V5ICsgJy9sb2NhdGlvbnMnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXlQYWdpbmF0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvY2F0aW9uc0J5VGVuYW50S2V5UGFnaW5hdGVkKHRlbmFudEtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcblx0ICAgICAgbmV4dCA9IG5leHQgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IG5leHQ7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCAnYXBpL3YxL3RlbmFudHMvJyArIHRlbmFudEtleSArICcvJyArIHByZXYgKyAnLycgKyBuZXh0ICsgJy9sb2NhdGlvbnMnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0TG9jYXRpb25CeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TG9jYXRpb25CeUtleShsb2NhdGlvbktleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdsb2NhdGlvbnMnLCAnYXBpL3YxL2xvY2F0aW9ucy8nICsgbG9jYXRpb25LZXkpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSwgW3tcblx0ICAgIGtleTogJ2xvY2F0aW9uc1NlcnZpY2VGYWN0b3J5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBsb2NhdGlvbnNTZXJ2aWNlRmFjdG9yeShSZXN0YW5ndWxhcikge1xuXHQgICAgICByZXR1cm4gbmV3IExvY2F0aW9uc1NlcnZpY2UoUmVzdGFuZ3VsYXIpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gTG9jYXRpb25zU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTG9jYXRpb25zU2VydmljZTtcblx0XG5cdFxuXHRMb2NhdGlvbnNTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjkxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBQcm9ncmVzc0JhclNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gUHJvZ3Jlc3NCYXJTZXJ2aWNlKG5nUHJvZ3Jlc3NGYWN0b3J5KSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBQcm9ncmVzc0JhclNlcnZpY2UpO1xuXHRcblx0ICAgIHRoaXMubmdQcm9ncmVzc0ZhY3RvcnkgPSBuZ1Byb2dyZXNzRmFjdG9yeTtcblx0ICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSB0aGlzLm5nUHJvZ3Jlc3NGYWN0b3J5LmNyZWF0ZUluc3RhbmNlKCk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQcm9ncmVzc0JhclNlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzdGFydCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoKSB7XG5cdCAgICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0Q29sb3IoJyMwMEZDRkYnKTtcblx0ICAgICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRIZWlnaHQoJzRweCcpO1xuXHQgICAgICByZXR1cm4gdGhpcy5wcm9ncmVzc0Jhci5zdGFydCgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NCYXIuY29tcGxldGUoKTtcblx0ICAgIH1cblx0ICB9XSwgW3tcblx0ICAgIGtleTogJ3Byb2dyZXNzQmFyU2VydmljZUZhY3RvcnknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2dyZXNzQmFyU2VydmljZUZhY3RvcnkobmdQcm9ncmVzc0ZhY3RvcnkpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBQcm9ncmVzc0JhclNlcnZpY2UobmdQcm9ncmVzc0ZhY3RvcnkpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQcm9ncmVzc0JhclNlcnZpY2U7XG5cdFxuXHRcblx0UHJvZ3Jlc3NCYXJTZXJ2aWNlLnByb2dyZXNzQmFyU2VydmljZUZhY3RvcnkuJGluamVjdCA9IFtcIm5nUHJvZ3Jlc3NGYWN0b3J5XCJdO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3Nyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc4KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgUHJvb2ZQbGF5U2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBQcm9vZlBsYXlTZXJ2aWNlKCRodHRwLCAkcSwgJHdpbmRvdywgU2Vzc2lvbnNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgVG9hc3RzU2VydmljZSkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUHJvb2ZQbGF5U2VydmljZSk7XG5cdFxuXHQgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuXHQgICAgdGhpcy4kcSA9ICRxO1xuXHQgICAgdGhpcy4kd2luZG93ID0gJHdpbmRvdztcblx0ICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXHQgICAgdGhpcy4kc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG5cdCAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcblx0ICAgIHRoaXMuVG9hc3RzU2VydmljZSA9IFRvYXN0c1NlcnZpY2U7XG5cdCAgICB0aGlzLm1ha2VIVFRQUmVxdWVzdCA9IHRoaXMubWFrZUhUVFBSZXF1ZXN0LmJpbmQodGhpcyk7XG5cdCAgICB0aGlzLnVyaUJhc2UgPSAncHJvb2ZwbGF5L2FwaS92MSc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQcm9vZlBsYXlTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiBcIm1ha2VIVFRQVVJMXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZUhUVFBVUkwod2hlcmVfdG9fZ28sIHRlbmFudCkge1xuXHQgICAgICByZXR1cm4gdGhpcy51cmlCYXNlICsgd2hlcmVfdG9fZ28gKyB0ZW5hbnQ7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcIm1ha2VIVFRQUmVxdWVzdFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VIVFRQUmVxdWVzdCh3aGVyZV90b19nbywgdGVuYW50KSB7XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIHVybCA9IHRoaXMubWFrZUhUVFBVUkwod2hlcmVfdG9fZ28sIHRlbmFudCk7XG5cdCAgICAgIHJldHVybiB0aGlzLiRodHRwLmdldCh1cmwpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJnZXRBbGxSZXNvdXJjZXNcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxSZXNvdXJjZXModGVuYW50KSB7XG5cdCAgICAgIHZhciByID0gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfYWxsX3Jlc291cmNlcy9cIiwgdGVuYW50KTtcblx0ICAgICAgLy8gdGhlIGNhdGNoIGlzIG9ubHkgZG9uZSBoZXJlIGJlY2F1c2UgMyBwcm9vZiBvZiBwbGF5IHZpZXdzIGFyZSBpbml0aWxpemVkIGF0IHRoZSBzYW1lIHRpbWVcblx0ICAgICAgLy8gc28gdGhpcyBjYXRjaCB3aWxsIGJlIGRvbmUgMyB0aW1lcyB3aXRoIDMgZXJyb3IgbWVzc2FnZXMgaWYgd2UgYWRkIGl0IHRvIGdldEFsbERpc3BsYXlzIGFuZCBnZXRBbGxMb2NhdGlvbnNcblx0ICAgICAgci5jYXRjaChmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG5cdCAgICAgICAgdmFyIHN0YXR1cyA9IGVyci5zdGF0dXM7XG5cdFxuXHQgICAgICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xuXHQgICAgICAgICAgdGhpcy5Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91IGFyZSBub3QgYWxsb3dlZCB0byB2aWV3IHRoaXMgdGVuYW50IVwiKTtcblx0ICAgICAgICAgIHRoaXMuJHN0YXRlLmdvKCdwcm9vZicsIHt9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDA0KSB7XG5cdCAgICAgICAgICB0aGlzLlRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoXCJZb3UgbXVzdCBzZWxlY3QgYSB0ZW5hbnQgZmlyc3QhXCIpO1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlLmdvKCdwcm9vZicsIHt9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIHIudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIHJldHVybiBkYXRhO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZ2V0QWxsRGlzcGxheXNcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxEaXNwbGF5cyh0ZW5hbnQpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMubWFrZUhUVFBSZXF1ZXN0KFwiL3JldHJpZXZlX2FsbF9kaXNwbGF5cy9cIiwgdGVuYW50KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZ2V0QWxsTG9jYXRpb25zXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsTG9jYXRpb25zKHRlbmFudCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfYWxsX2xvY2F0aW9ucy9cIiwgdGVuYW50KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZ2V0QWxsVGVuYW50c1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbFRlbmFudHMoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9teV90ZW5hbnRzXCIsICcnKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURhdGUoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIHJlc291cmNlcywgdGVuYW50KSB7XG5cdCAgICAgIHZhciBhbGxSZXNvdXJjZXMgPSAnJztcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSByZXNvdXJjZXNbaV07XG5cdCAgICAgICAgYWxsUmVzb3VyY2VzID0gYWxsUmVzb3VyY2VzICsgXCJ8XCIgKyBlYWNoO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX3Jlc291cmNlX2J5X2RhdGUvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbFJlc291cmNlcyArICcvJyArIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksICdfYmxhbmsnKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURldmljZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURldmljZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgcmVzb3VyY2VzLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbFJlc291cmNlcyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IHJlc291cmNlc1tpXTtcblx0ICAgICAgICBhbGxSZXNvdXJjZXMgPSBhbGxSZXNvdXJjZXMgKyBcInxcIiArIGVhY2g7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfcmVzb3VyY2VfYnlfZGV2aWNlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxSZXNvdXJjZXMgKyAnLycgKyB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLCAnX2JsYW5rJyk7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWRcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGRldmljZXMsIHRlbmFudCkge1xuXHQgICAgICB2YXIgYWxsRGV2aWNlcyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXZpY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBkZXZpY2VzW2ldO1xuXHQgICAgICAgIGFsbERldmljZXMgPSBhbGxEZXZpY2VzICsgXCJ8XCIgKyBlYWNoO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2RldmljZV9zdW1tYXJpemVkLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxEZXZpY2VzICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNCeURhdGVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgZGV2aWNlcywgdGVuYW50KSB7XG5cdCAgICAgIHZhciBhbGxEZXZpY2VzID0gJyc7XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRldmljZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IGRldmljZXNbaV07XG5cdCAgICAgICAgYWxsRGV2aWNlcyA9IGFsbERldmljZXMgKyBcInxcIiArIGVhY2g7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfZGV2aWNlX2J5X2RhdGUvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbERldmljZXMgKyAnLycgKyB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLCAnX2JsYW5rJyk7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2VcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2Uoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGxvY2F0aW9ucywgdGVuYW50KSB7XG5cdCAgICAgIHZhciBhbGxMb2NhdGlvbnMgPSAnJztcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBsb2NhdGlvbnNbaV07XG5cdCAgICAgICAgYWxsTG9jYXRpb25zID0gYWxsTG9jYXRpb25zICsgXCJ8XCIgKyBlYWNoO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2xvY2F0aW9uX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWRcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zU3VtbWFyaXplZChzdGFydF9kYXRlLCBlbmRfZGF0ZSwgbG9jYXRpb25zLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbExvY2F0aW9ucyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IGxvY2F0aW9uc1tpXTtcblx0ICAgICAgICBhbGxMb2NhdGlvbnMgPSBhbGxMb2NhdGlvbnMgKyBcInxcIiArIGVhY2g7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfbG9jYXRpb25fc3VtbWFyaXplZC8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiY3JlYXRlRmlsdGVyRm9yXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRmlsdGVyRm9yKHF1ZXJ5KSB7XG5cdCAgICAgIHF1ZXJ5ID0gYW5ndWxhci5sb3dlcmNhc2UocXVlcnkpO1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24gKHJlc291cmNlKSB7XG5cdCAgICAgICAgcmVzb3VyY2UgPSBhbmd1bGFyLmxvd2VyY2FzZShyZXNvdXJjZSk7XG5cdCAgICAgICAgcmV0dXJuIHJlc291cmNlLmluZGV4T2YocXVlcnkpID09PSAwO1xuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJxdWVyeVNlYXJjaFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgICBpZiAoc2VhcmNoVGV4dCkge1xuXHQgICAgICAgIHJldHVybiByZXNvdXJjZXMuZmlsdGVyKHRoaXMuY3JlYXRlRmlsdGVyRm9yKHNlYXJjaFRleHQpKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gcmVzb3VyY2VzO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0sIFt7XG5cdCAgICBrZXk6IFwicHJvb2ZwbGF5U2VydmljZUZhY3RvcnlcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9vZnBsYXlTZXJ2aWNlRmFjdG9yeSgkaHR0cCwgJHEsICR3aW5kb3csIFNlc3Npb25zU2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBQcm9vZlBsYXlTZXJ2aWNlKCRodHRwLCAkcSwgJHdpbmRvdywgU2Vzc2lvbnNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgVG9hc3RzU2VydmljZSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQcm9vZlBsYXlTZXJ2aWNlO1xuXHRcblx0XG5cdFByb29mUGxheVNlcnZpY2UucHJvb2ZwbGF5U2VydmljZUZhY3RvcnkuJGluamVjdCA9IFtcIiRodHRwXCIsIFwiJHFcIiwgXCIkd2luZG93XCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiJHN0YXRlXCIsIFwiVG9hc3RzU2VydmljZVwiXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjkzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBTZXNzaW9uc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gU2Vzc2lvbnNTZXJ2aWNlKCRodHRwLCAkbG9nLCBTdG9yYWdlU2VydmljZSwgSWRlbnRpdHlTZXJ2aWNlLCBSZXN0YW5ndWxhciwgJHEpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFNlc3Npb25zU2VydmljZSk7XG5cdFxuXHQgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuXHQgICAgdGhpcy4kbG9nID0gJGxvZztcblx0ICAgIHRoaXMuU3RvcmFnZVNlcnZpY2UgPSBTdG9yYWdlU2VydmljZTtcblx0ICAgIHRoaXMuSWRlbnRpdHlTZXJ2aWNlID0gSWRlbnRpdHlTZXJ2aWNlO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgICAgdGhpcy4kcSA9ICRxO1xuXHQgICAgdGhpcy5zZXRJZGVudGl0eSA9IHRoaXMuc2V0SWRlbnRpdHkuYmluZCh0aGlzKTtcblx0ICAgIHRoaXMudXJpQmFzZSA9ICd2MS9zZXNzaW9ucyc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShTZXNzaW9uc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzZXREaXN0cmlidXRvcnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERpc3RyaWJ1dG9ycyhkaXN0cmlidXRvcnMpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnMnLCBkaXN0cmlidXRvcnMpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldERpc3RyaWJ1dG9yc0FzQWRtaW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERpc3RyaWJ1dG9yc0FzQWRtaW4oZGlzdHJpYnV0b3JzQXNBZG1pbikge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2Rpc3RyaWJ1dG9yc0FzQWRtaW4nLCBkaXN0cmlidXRvcnNBc0FkbWluKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRJc0FkbWluJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRJc0FkbWluKGlzQWRtaW4pIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdpc0FkbWluJywgaXNBZG1pbik7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0VXNlcktleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VXNlcktleSh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJLZXknLCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0VXNlckVtYWlsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRVc2VyRW1haWwodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCd1c2VyRW1haWwnLCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdjdXJyZW50RGlzdHJpYnV0b3JLZXknLCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2N1cnJlbnREaXN0cmlidXRvck5hbWUnLCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VXNlcktleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNlcktleSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5Jyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VXNlckVtYWlsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVc2VyRW1haWwoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlckVtYWlsJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGlzdHJpYnV0b3JzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREaXN0cmlidXRvcnMoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgnZGlzdHJpYnV0b3JzJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdjdXJyZW50RGlzdHJpYnV0b3JOYW1lJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5Jyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdkaXN0cmlidXRvcnNBc0FkbWluJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0SXNBZG1pbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXNBZG1pbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdpc0FkbWluJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnbG9naW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luKGNyZWRlbnRpYWxzKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgYXV0aGVudGljYXRpb25QYXlsb2FkID0ge1xuXHQgICAgICAgIGFjY2Vzc190b2tlbjogXy5jbG9uZShjcmVkZW50aWFscy5hY2Nlc3NfdG9rZW4pLFxuXHQgICAgICAgIGF1dGh1c2VyOiBfLmNsb25lKGNyZWRlbnRpYWxzLmF1dGh1c2VyKSxcblx0ICAgICAgICBjbGllbnRfaWQ6IF8uY2xvbmUoY3JlZGVudGlhbHMuY2xpZW50X2lkKSxcblx0ICAgICAgICBjb2RlOiBfLmNsb25lKGNyZWRlbnRpYWxzLmNvZGUpLFxuXHQgICAgICAgIGlkX3Rva2VuOiBfLmNsb25lKGNyZWRlbnRpYWxzLmlkX3Rva2VuKSxcblx0ICAgICAgICBzY29wZTogXy5jbG9uZShjcmVkZW50aWFscy5zY29wZSksXG5cdCAgICAgICAgc2Vzc2lvbl9zdGF0ZTogXy5jbG9uZShjcmVkZW50aWFscy5zZXNzaW9uX3N0YXRlKSxcblx0ICAgICAgICBzdGF0ZTogXy5jbG9uZShjcmVkZW50aWFscy5zdGF0ZSksXG5cdCAgICAgICAgc3RhdHVzOiBfLmNsb25lKGNyZWRlbnRpYWxzLnN0YXR1cylcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIGlmIChjcmVkZW50aWFscy5lbWFpbCAmJiBjcmVkZW50aWFscy5wYXNzd29yZCkge1xuXHQgICAgICAgIGF1dGhlbnRpY2F0aW9uUGF5bG9hZCA9IGNyZWRlbnRpYWxzO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuJGh0dHAucG9zdCgnL2xvZ2luJywgYXV0aGVudGljYXRpb25QYXlsb2FkKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2Uuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIF90aGlzLnNldFVzZXJLZXkoZGF0YS51c2VyLmtleSk7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzLnNldElkZW50aXR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gZGF0YTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0SWRlbnRpdHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldElkZW50aXR5KCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIGlkZW50aXR5UHJvbWlzZSA9IHRoaXMuSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG5cdCAgICAgIGlkZW50aXR5UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgX3RoaXMyLnNldERpc3RyaWJ1dG9ycyhkYXRhWydkaXN0cmlidXRvcnMnXSk7XG5cdCAgICAgICAgX3RoaXMyLnNldERpc3RyaWJ1dG9yc0FzQWRtaW4oZGF0YVsnZGlzdHJpYnV0b3JzX2FzX2FkbWluJ10pO1xuXHQgICAgICAgIF90aGlzMi5zZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoXCJudWxsXCIpO1xuXHQgICAgICAgIF90aGlzMi5zZXRJc0FkbWluKGRhdGFbJ2lzX2FkbWluJ10pO1xuXHQgICAgICAgIF90aGlzMi5zZXRVc2VyRW1haWwoZGF0YVsnZW1haWwnXSk7XG5cdCAgICAgICAgX3RoaXMyLnNldElzQWRtaW4oZGF0YVtcImlzX2FkbWluXCJdKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGRlZmVycmVkLnJlc29sdmUoKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbW92ZVVzZXJJbmZvJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVVc2VySW5mbygpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UucmVtb3ZlQWxsKCk7XG5cdCAgICB9XG5cdCAgfV0sIFt7XG5cdCAgICBrZXk6ICdzZXNzaW9uc1NlcnZpY2VGYWN0b3J5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXNzaW9uc1NlcnZpY2VGYWN0b3J5KCRodHRwLCAkbG9nLCBTdG9yYWdlU2VydmljZSwgSWRlbnRpdHlTZXJ2aWNlLCBSZXN0YW5ndWxhciwgJHEpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBTZXNzaW9uc1NlcnZpY2UoJGh0dHAsICRsb2csIFN0b3JhZ2VTZXJ2aWNlLCBJZGVudGl0eVNlcnZpY2UsIFJlc3Rhbmd1bGFyLCAkcSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBTZXNzaW9uc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFNlc3Npb25zU2VydmljZTtcblx0XG5cdFxuXHRTZXNzaW9uc1NlcnZpY2Uuc2Vzc2lvbnNTZXJ2aWNlRmFjdG9yeS4kaW5qZWN0ID0gW1wiJGh0dHBcIiwgXCIkbG9nXCIsIFwiU3RvcmFnZVNlcnZpY2VcIiwgXCJJZGVudGl0eVNlcnZpY2VcIiwgXCJSZXN0YW5ndWxhclwiLCBcIiRxXCJdO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzcpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3OCk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX2xvY2FsU3RvcmFnZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjk1KTtcblx0XG5cdHZhciBfbG9jYWxTdG9yYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvY2FsU3RvcmFnZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFN0b3JhZ2VTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIFN0b3JhZ2VTZXJ2aWNlKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgU3RvcmFnZVNlcnZpY2UpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoU3RvcmFnZVNlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBfbG9jYWxTdG9yYWdlMi5kZWZhdWx0LnNldChrZXksIHZhbHVlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldChrZXkpIHtcblx0ICAgICAgcmV0dXJuIF9sb2NhbFN0b3JhZ2UyLmRlZmF1bHQuZ2V0KGtleSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncm0nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJtKGtleSkge1xuXHQgICAgICByZXR1cm4gX2xvY2FsU3RvcmFnZTIuZGVmYXVsdC5yZW1vdmUoa2V5KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW1vdmVBbGwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUFsbCgpIHtcblx0ICAgICAgcmV0dXJuIF9sb2NhbFN0b3JhZ2UyLmRlZmF1bHQuY2xlYXIoKTtcblx0ICAgIH1cblx0ICB9XSwgW3tcblx0ICAgIGtleTogJ3N0b3JhZ2VTZXJ2aWNlRmFjdG9yeScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcmFnZVNlcnZpY2VGYWN0b3J5KCkge1xuXHQgICAgICByZXR1cm4gbmV3IFN0b3JhZ2VTZXJ2aWNlKCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBTdG9yYWdlU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gU3RvcmFnZVNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3Nyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc4KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgVGVuYW50c1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gVGVuYW50c1NlcnZpY2UoUmVzdGFuZ3VsYXIsIFNlc3Npb25zU2VydmljZSkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVGVuYW50c1NlcnZpY2UpO1xuXHRcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVGVuYW50c1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKHRlbmFudCkge1xuXHQgICAgICBpZiAodGVuYW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0ZW5hbnQucHV0KCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ3RlbmFudHMnKS5wb3N0KHRlbmFudCk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmV0Y2hBbGxUZW5hbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEFsbFRlbmFudHMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwoJ3RlbmFudHMnKS5nZXRMaXN0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZldGNoQWxsVGVuYW50c1BhZ2luYXRlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hBbGxUZW5hbnRzUGFnaW5hdGVkKHBhZ2Vfc2l6ZSwgb2Zmc2V0KSB7XG5cdCAgICAgIHZhciB1cmwgPSAnYXBpL3YxL3RlbmFudHMvcGFnaW5hdGVkLycgKyBwYWdlX3NpemUgKyAnLycgKyBvZmZzZXQ7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRUZW5hbnRCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGVuYW50QnlLZXkodGVuYW50S2V5KSB7XG5cdCAgICAgIHZhciB1cmwgPSAnYXBpL3YxL3RlbmFudHMvJyArIHRlbmFudEtleTtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsIHVybCkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2RlbGV0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZSh0ZW5hbnQpIHtcblx0ICAgICAgaWYgKHRlbmFudC5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUoXCJ0ZW5hbnRzXCIsIHRlbmFudC5rZXkpLnJlbW92ZSgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0sIFt7XG5cdCAgICBrZXk6ICd0ZW5hbnRzU2VydmljZUZhY3RvcnknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHRlbmFudHNTZXJ2aWNlRmFjdG9yeShSZXN0YW5ndWxhciwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgICAgIHJldHVybiBuZXcgVGVuYW50c1NlcnZpY2UoUmVzdGFuZ3VsYXIsIFNlc3Npb25zU2VydmljZSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBUZW5hbnRzU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVGVuYW50c1NlcnZpY2U7XG5cdFxuXHRcblx0VGVuYW50c1NlcnZpY2UudGVuYW50c1NlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjk5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBUaW1lem9uZXNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIFRpbWV6b25lc1NlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFRpbWV6b25lc1NlcnZpY2UpO1xuXHRcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRpbWV6b25lc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdnZXRVc1RpbWV6b25lcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNUaW1lem9uZXMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RpbWV6b25lcycsICdhcGkvdjEvdGltZXpvbmVzL3VzJykuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEFsbFRpbWV6b25lcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsVGltZXpvbmVzKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0aW1lem9uZXMnLCAnYXBpL3YxL3RpbWV6b25lcy9hbGwnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VzdG9tVGltZXpvbmVzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXN0b21UaW1lem9uZXMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RpbWV6b25lcycsICdhcGkvdjEvdGltZXpvbmVzL2N1c3RvbScpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSwgW3tcblx0ICAgIGtleTogJ3RpbWV6b25lU2VydmljZUZhY3RvcnknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHRpbWV6b25lU2VydmljZUZhY3RvcnkoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBUaW1lem9uZXNTZXJ2aWNlKFJlc3Rhbmd1bGFyKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFRpbWV6b25lc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRpbWV6b25lc1NlcnZpY2U7XG5cdFxuXHRcblx0VGltZXpvbmVzU2VydmljZS50aW1lem9uZVNlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzAwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBUb2FzdHNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIFRvYXN0c1NlcnZpY2UodG9hc3RyKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBUb2FzdHNTZXJ2aWNlKTtcblx0XG5cdCAgICB0aGlzLnRvYXN0ciA9IHRvYXN0cjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRvYXN0c1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzaG93U3VjY2Vzc1RvYXN0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93U3VjY2Vzc1RvYXN0KG1lc3NhZ2UpIHtcblx0ICAgICAgdmFyIHRpdGxlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gJ1N1Y2Nlc3MhJyA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UsIHRpdGxlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzaG93RXJyb3JUb2FzdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0Vycm9yVG9hc3QobWVzc2FnZSkge1xuXHQgICAgICB2YXIgdGl0bGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAnRXJyb3IhJyA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnRvYXN0ci5lcnJvcihtZXNzYWdlLCB0aXRsZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2hvd0luZm9Ub2FzdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0luZm9Ub2FzdChtZXNzYWdlKSB7XG5cdCAgICAgIHZhciB0aXRsZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/ICdJbmZvcm1hdGlvbicgOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy50b2FzdHIuaW5mbyhtZXNzYWdlLCB0aXRsZSk7XG5cdCAgICB9XG5cdCAgfV0sIFt7XG5cdCAgICBrZXk6ICd0b2FzdHNTZXJ2aWNlRmFjdG9yeScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdG9hc3RzU2VydmljZUZhY3RvcnkodG9hc3RyKSB7XG5cdCAgICAgIHJldHVybiBuZXcgVG9hc3RzU2VydmljZSh0b2FzdHIpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gVG9hc3RzU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVG9hc3RzU2VydmljZTtcblx0XG5cdFxuXHRUb2FzdHNTZXJ2aWNlLnRvYXN0c1NlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXCJ0b2FzdHJcIl07XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjc3KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBWZXJzaW9uc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gVmVyc2lvbnNTZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBWZXJzaW9uc1NlcnZpY2UpO1xuXHRcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFZlcnNpb25zU2VydmljZSwgW3tcblx0ICAgIGtleTogXCJnZXRWZXJzaW9uc1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZlcnNpb25zKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd2ZXJzaW9ucycpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSwgW3tcblx0ICAgIGtleTogXCJ2ZXJzaW9uc1NlcnZpY2VGYWN0b3J5XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdmVyc2lvbnNTZXJ2aWNlRmFjdG9yeShSZXN0YW5ndWxhcikge1xuXHQgICAgICByZXR1cm4gbmV3IFZlcnNpb25zU2VydmljZShSZXN0YW5ndWxhcik7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBWZXJzaW9uc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFZlcnNpb25zU2VydmljZTtcblx0XG5cdFxuXHRWZXJzaW9uc1NlcnZpY2UudmVyc2lvbnNTZXJ2aWNlRmFjdG9yeS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBUZW5hbnRBZGRDdHJsKCRsb2csICRsb2NhdGlvbiwgVGVuYW50c1NlcnZpY2UsIERpc3RyaWJ1dG9yc1NlcnZpY2UsIFRpbWV6b25lc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5nYW1lU3RvcFNlcnZlciA9ICRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMTtcblx0ICB2bS5jdXJyZW50VGVuYW50ID0ge1xuXHQgICAga2V5OiB1bmRlZmluZWQsXG5cdCAgICBuYW1lOiB1bmRlZmluZWQsXG5cdCAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuXHQgICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG5cdCAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG5cdCAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuXHQgICAgcHJvb2Zfb2ZfcGxheV91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGFjdGl2ZTogdHJ1ZVxuXHQgIH07XG5cdCAgdm0uc2VsZWN0ZWREb21haW4gPSB1bmRlZmluZWQ7XG5cdCAgdm0uZGlzdHJpYnV0b3JEb21haW5zID0gW107XG5cdCAgdm0udGltZXpvbmVzID0gW107XG5cdCAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9ICdBbWVyaWNhL0NoaWNhZ28nO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHRpbWV6b25lUHJvbWlzZSA9IFRpbWV6b25lc1NlcnZpY2UuZ2V0Q3VzdG9tVGltZXpvbmVzKCk7XG5cdCAgICB0aW1lem9uZVByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udGltZXpvbmVzID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgICAgdm0uY3VycmVudERpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0QnlLZXkodm0uY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcblx0ICAgIGRpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmN1cnJlbnRUZW5hbnQuY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsID0gZGF0YS5jb250ZW50X21hbmFnZXJfdXJsO1xuXHQgICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudC5jb250ZW50X3NlcnZlcl91cmwgPSBkYXRhLnBsYXllcl9jb250ZW50X3VybDtcblx0ICAgIH0pO1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0RG9tYWluc0J5S2V5KHZtLmN1cnJlbnREaXN0cmlidXRvcktleSk7XG5cdCAgICByZXR1cm4gZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRvbWFpbnMpIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IGRvbWFpbnM7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdm0uY3VycmVudFRlbmFudC5kZWZhdWx0X3RpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcblx0ICAgIHZtLmN1cnJlbnRUZW5hbnQuZG9tYWluX2tleSA9IHZtLnNlbGVjdGVkRG9tYWluLmtleTtcblx0ICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50VGVuYW50KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzVGVuYW50U2F2ZSwgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzVGVuYW50U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50cycpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUgPSBmdW5jdGlvbiAoZXJyb3JPYmplY3QpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgaWYgKGVycm9yT2JqZWN0LnN0YXR1cyA9PT0gNDA5KSB7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1RlbmFudCBjb2RlIHVuYXZhaWxhYmxlLiBQbGVhc2UgbW9kaWZ5IHRlbmFudCBuYW1lIHRvIGdlbmVyYXRlIGEgdW5pcXVlIHRlbmFudCBjb2RlLicsICdlcnJvcicpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgJGxvZy5lcnJvcihlcnJvck9iamVjdCk7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBzYXZlIHRoZSB0ZW5hbnQuJywgJ2Vycm9yJyk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uYXV0b0dlbmVyYXRlVGVuYW50Q29kZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghdm0uY3VycmVudFRlbmFudC5rZXkpIHtcblx0ICAgICAgdmFyIG5ld1RlbmFudENvZGUgPSAnJztcblx0ICAgICAgaWYgKHZtLmN1cnJlbnRUZW5hbnQubmFtZSkge1xuXHQgICAgICAgIG5ld1RlbmFudENvZGUgPSB2bS5jdXJyZW50VGVuYW50Lm5hbWUudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG5cdCAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHZtLmN1cnJlbnRUZW5hbnQudGVuYW50X2NvZGUgPSBuZXdUZW5hbnRDb2RlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLlRlbmFudEFkZEN0cmwgPSBUZW5hbnRBZGRDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gVGVuYW50RGV0YWlsc0N0cmwoJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgRG9tYWluc1NlcnZpY2UsIFRpbWV6b25lc1NlcnZpY2UsIERpc3RyaWJ1dG9yc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlLCAkc2NvcGUsICRsb2NhdGlvbikge1xuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uZ2FtZVN0b3BTZXJ2ZXIgPSAkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTE7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHtcblx0ICAgIGtleTogdW5kZWZpbmVkLFxuXHQgICAgbmFtZTogdW5kZWZpbmVkLFxuXHQgICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcblx0ICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuXHQgICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuXHQgICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuXHQgICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcblx0ICAgIHByb29mX29mX3BsYXlfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBhY3RpdmU6IHRydWVcblx0ICB9O1xuXHQgIHZtLnNlbGVjdGVkRG9tYWluID0gdW5kZWZpbmVkO1xuXHQgIHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IFtdO1xuXHQgIHZtLnRpbWV6b25lcyA9IFtdO1xuXHQgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSAnQW1lcmljYS9DaGljYWdvJztcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0XG5cdCAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KCRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkpO1xuXHQgICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgICAgdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcblx0ICAgICAgcmV0dXJuIHZtLm9uU3VjY2Vzc1Jlc29sdmluZ1RlbmFudCh0ZW5hbnQpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHRpbWV6b25lUHJvbWlzZSA9IFRpbWV6b25lc1NlcnZpY2UuZ2V0Q3VzdG9tVGltZXpvbmVzKCk7XG5cdCAgICB0aW1lem9uZVByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udGltZXpvbmVzID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgICAgdm0uY3VycmVudERpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0RG9tYWluc0J5S2V5KHZtLmN1cnJlbnREaXN0cmlidXRvcktleSk7XG5cdCAgICByZXR1cm4gZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRvbWFpbnMpIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IGRvbWFpbnM7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gdGVuYW50LmRlZmF1bHRfdGltZXpvbmU7XG5cdCAgICB2YXIgZG9tYWluUHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmdldERvbWFpbkJ5S2V5KHRlbmFudC5kb21haW5fa2V5KTtcblx0ICAgIHJldHVybiBkb21haW5Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnNlbGVjdGVkRG9tYWluID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ2xpY2tTYXZlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50LmRlZmF1bHRfdGltZXpvbmUgPSB2bS5zZWxlY3RlZFRpbWV6b25lO1xuXHQgICAgdm0uY3VycmVudFRlbmFudC5kb21haW5fa2V5ID0gdm0uc2VsZWN0ZWREb21haW4ua2V5O1xuXHQgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zYXZlKHZtLmN1cnJlbnRUZW5hbnQpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlLCB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHRlbmFudCBpbmZvcm1hdGlvbi4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlID0gZnVuY3Rpb24gKGVycm9yT2JqZWN0KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIGlmIChlcnJvck9iamVjdC5zdGF0dXMgPT09IDQwOSkge1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUZW5hbnQgY29kZSB1bmF2YWlsYWJsZS4gUGxlYXNlIG1vZGlmeSB0ZW5hbnQgbmFtZSB0byBnZW5lcmF0ZSBhIHVuaXF1ZSB0ZW5hbnQgY29kZS4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBzYXZlIHRoZSB0ZW5hbnQuJywgJ2Vycm9yJyk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uZWRpdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnZWRpdERldmljZScsIHsgZGV2aWNlS2V5OiBpdGVtLmtleSwgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmF1dG9HZW5lcmF0ZVRlbmFudENvZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIXZtLmN1cnJlbnRUZW5hbnQua2V5KSB7XG5cdCAgICAgIHZhciBuZXdUZW5hbnRDb2RlID0gJyc7XG5cdCAgICAgIGlmICh2bS5jdXJyZW50VGVuYW50Lm5hbWUpIHtcblx0ICAgICAgICBuZXdUZW5hbnRDb2RlID0gdm0uY3VycmVudFRlbmFudC5uYW1lLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuXHQgICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50LnRlbmFudF9jb2RlID0gbmV3VGVuYW50Q29kZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICAkc2NvcGUudGFiSW5kZXggPSAwO1xuXHRcblx0ICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuXHQgICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgc3dpdGNoICh0b1RhYikge1xuXHQgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDM6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5UZW5hbnREZXRhaWxzQ3RybCA9IFRlbmFudERldGFpbHNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gVGVuYW50TG9jYXRpb25DdHJsKCRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSkge1xuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ubG9jYXRpb24gPSB7XG5cdCAgICBrZXk6IHVuZGVmaW5lZFxuXHQgIH07XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLmxvY2F0aW9uS2V5O1xuXHQgIGlmICh2bS5lZGl0TW9kZSkge1xuXHQgICAgdmFyIGxvY2F0aW9uUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25CeUtleSgkc3RhdGVQYXJhbXMubG9jYXRpb25LZXkpO1xuXHQgICAgbG9jYXRpb25Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9jYXRpb24gPSBkYXRhO1xuXHQgICAgICB2bS50ZW5hbnRLZXkgPSBkYXRhLnRlbmFudEtleTtcblx0ICAgICAgdm0ubG9jYXRpb25OYW1lID0gZGF0YS5jdXN0b21lckxvY2F0aW9uTmFtZTtcblx0ICAgICAgcmV0dXJuIHZtLmZldGNoVGVuYW50TmFtZSh2bS50ZW5hbnRLZXkpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF2bS5lZGl0TW9kZSkge1xuXHQgICAgICB2bS5mZXRjaFRlbmFudE5hbWUodm0udGVuYW50S2V5KTtcblx0ICAgICAgcmV0dXJuIHZtLmxvY2F0aW9uID0ge1xuXHQgICAgICAgIHRlbmFudEtleTogdm0udGVuYW50S2V5LFxuXHQgICAgICAgIGFjdGl2ZTogdHJ1ZVxuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ2xpY2tTYXZlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2F2ZSh2bS5sb2NhdGlvbik7XG5cdCAgICBpZiAodm0uZWRpdE1vZGUpIHtcblx0ICAgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NVcGRhdGluZ0xvY2F0aW9uKHZtLnRlbmFudEtleSksIHZtLm9uRmFpbHVyZVNhdmluZ0xvY2F0aW9uKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzU2F2aW5nTG9jYXRpb24sIHZtLm9uRmFpbHVyZVNhdmluZ0xvY2F0aW9uKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NTYXZpbmdMb2NhdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIGxvY2F0aW9uLicpO1xuXHQgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9LCAxMDAwKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NVcGRhdGluZ0xvY2F0aW9uID0gZnVuY3Rpb24gKHRlbmFudF9rZXkpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSB1cGRhdGVkIHlvdXIgbG9jYXRpb24uJyk7XG5cdCAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywgeyB0ZW5hbnRLZXk6IHRlbmFudF9rZXkgfSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH0sIDEwMDApO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRmFpbHVyZVNhdmluZ0xvY2F0aW9uID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkge1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdMb2NhdGlvbiBjb2RlIGNvbmZsaWN0LiBVbmFibGUgdG8gc2F2ZSB5b3VyIGxvY2F0aW9uLicpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdQbGVhc2UgY2hhbmdlIHlvdXIgY3VzdG9tZXIgbG9jYXRpb24gbmFtZS4gTG9jYXRpb24gbmFtZSBtdXN0IGdlbmVyYXRlIGEgdW5pcXVlIGxvY2F0aW9uIGNvZGUuJywgJ2Vycm9yJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnVW5hYmxlIHRvIHNhdmUgeW91ciBsb2NhdGlvbi4nKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5mZXRjaFRlbmFudE5hbWUgPSBmdW5jdGlvbiAodGVuYW50S2V5KSB7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHRlbmFudEtleSk7XG5cdCAgICByZXR1cm4gdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudE5hbWUgPSB0ZW5hbnQubmFtZTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmF1dG9HZW5lcmF0ZUN1c3RvbWVyTG9jYXRpb25Db2RlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF2bS5sb2NhdGlvbi5rZXkpIHtcblx0ICAgICAgdmFyIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gJyc7XG5cdCAgICAgIGlmICh2bS5sb2NhdGlvbi5jdXN0b21lckxvY2F0aW9uTmFtZSkge1xuXHQgICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gdm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbk5hbWUudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9IG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlLnJlcGxhY2UoL1xccysvZywgJ18nKTtcblx0ICAgICAgICBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9IG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB2bS5sb2NhdGlvbi5jdXN0b21lckxvY2F0aW9uQ29kZSA9IG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLlRlbmFudExvY2F0aW9uQ3RybCA9IFRlbmFudExvY2F0aW9uQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gVGVuYW50TWFuYWdlZERldmljZXNDdHJsKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgJHN0YXRlKSB7XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5jdXJyZW50VGVuYW50ID0ge1xuXHQgICAga2V5OiB1bmRlZmluZWQsXG5cdCAgICBuYW1lOiB1bmRlZmluZWQsXG5cdCAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuXHQgICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG5cdCAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG5cdCAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuXHQgICAgYWN0aXZlOiB0cnVlXG5cdCAgfTtcblx0ICB2bS50ZW5hbnREZXZpY2VzID0gW107XG5cdCAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcblx0ICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiU2VyaWFsIE51bWJlclwiO1xuXHQgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHQgIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdFxuXHQgIHZtLmdldE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBkZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcik7XG5cdCAgICByZXR1cm4gZGV2aWNlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5kZXZpY2VzUHJldiA9IGRhdGFbXCJwcmV2X2N1cnNvclwiXTtcblx0ICAgICAgdm0uZGV2aWNlc05leHQgPSBkYXRhW1wibmV4dF9jdXJzb3JcIl07XG5cdCAgICAgIHZtLnRlbmFudERldmljZXMgPSBkYXRhW1wiZGV2aWNlc1wiXTtcblx0ICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZWRpdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKGl0ZW0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJlZnJlc2hEZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgICAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuXHQgICAgdm0udGVuYW50RGV2aWNlcyA9IG51bGw7XG5cdCAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuXHQgIH07XG5cdFxuXHQgIGlmICh2bS5lZGl0TW9kZSkge1xuXHQgICAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuXHQgICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQ7XG5cdCAgICB9KTtcblx0ICAgIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgbnVsbCwgbnVsbCk7XG5cdCAgfVxuXHRcblx0ICAkc2NvcGUudGFiSW5kZXggPSAxO1xuXHRcblx0ICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuXHQgICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgc3dpdGNoICh0b1RhYikge1xuXHQgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7IHRlbmFudEtleTogdm0udGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6IHZtLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6IHZtLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDM6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7IHRlbmFudEtleTogdm0udGVuYW50S2V5IH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHZtLmNoYW5nZVJhZGlvID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgICAgcmV0dXJuIHZtLm1hY0RldmljZXMgPSB7fTtcblx0ICB9O1xuXHRcblx0ICB2bS5zZWFyY2hEZXZpY2VzID0gZnVuY3Rpb24gKHBhcnRpYWwpIHtcblx0ICAgIHZhciB1bm1hbmFnZWQgPSBmYWxzZTtcblx0ICAgIHZhciBidXR0b24gPSB2bS5zZWxlY3RlZEJ1dHRvbjtcblx0ICAgIHZhciBieVRlbmFudCA9IHRydWU7XG5cdCAgICB2YXIgdGVuYW50S2V5ID0gdm0udGVuYW50S2V5O1xuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnNlYXJjaERldmljZXMocGFydGlhbCwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuXHQgICAgICAgIHZhciBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcblx0ICAgICAgICBpZiAoYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuXHQgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICByZXR1cm4gZGV2aWNlc1swXTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PT0gXCJNQUNcIikge1xuXHQgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICByZXR1cm4gZGV2aWNlc1swXTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG5cdCAgICBpZiAoZm9yd2FyZCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ucHJlcGFyZUZvckVkaXRWaWV3ID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5wcmVwcmF0ZUZvckVkaXRWaWV3KHZtLnNlbGVjdGVkQnV0dG9uLCB2bS50ZW5hbnRLZXksIHNlYXJjaFRleHQsIHZtLm1hY0RldmljZXMsIHZtLnNlcmlhbERldmljZXMsIHZtLmdjbWlkRGV2aWNlcyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAoaXNNYXRjaCkge1xuXHQgICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcblx0ICAgIHJldHVybiB2bS5sb2FkaW5nRGlzYWJsZWQgPSBmYWxzZTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcblx0ICAgIHZhciB1bm1hbmFnZWQgPSBmYWxzZTtcblx0ICAgIHZhciBieVRlbmFudCA9IHRydWU7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2UuaXNSZXNvdXJjZVZhbGlkKHJlc291cmNlLCB2bS5zZWxlY3RlZEJ1dHRvbiwgYnlUZW5hbnQsIHZtLnRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgIHJldHVybiB2bS5jb250cm9sT3BlbkJ1dHRvbihyZXNbXCJpc19tYXRjaFwiXSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5UZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwgPSBUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsICRzdGF0ZSkge1xuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHtcblx0ICAgIGtleTogdW5kZWZpbmVkLFxuXHQgICAgbmFtZTogdW5kZWZpbmVkLFxuXHQgICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcblx0ICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuXHQgICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuXHQgICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuXHQgICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcblx0ICAgIGFjdGl2ZTogdHJ1ZVxuXHQgIH07XG5cdCAgdm0uZ2NtaWREZXZpY2VzID0gW107XG5cdCAgdm0udGVuYW50RGV2aWNlcyA9IFtdO1xuXHQgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcblx0ICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIk1BQ1wiO1xuXHQgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHQgIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdFxuXHQgICRzY29wZS50YWJJbmRleCA9IDI7XG5cdFxuXHQgICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG5cdCAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBzd2l0Y2ggKHRvVGFiKSB7XG5cdCAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHsgdGVuYW50S2V5OiB2bS50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogdm0udGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogdm0udGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiB2bS50ZW5hbnRLZXkgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgdm0uZWRpdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKGl0ZW0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldFVubWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKTtcblx0ICAgIHJldHVybiBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmRldmljZXNQcmV2ID0gZGF0YVtcInByZXZfY3Vyc29yXCJdO1xuXHQgICAgICB2bS5kZXZpY2VzTmV4dCA9IGRhdGFbXCJuZXh0X2N1cnNvclwiXTtcblx0ICAgICAgdm0udGVuYW50RGV2aWNlcyA9IGRhdGFbXCJkZXZpY2VzXCJdO1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBpZiAodm0uZWRpdE1vZGUpIHtcblx0ICAgIHZhciB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodm0udGVuYW50S2V5KTtcblx0ICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50ID0gdGVuYW50O1xuXHQgICAgfSk7XG5cdCAgICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgbnVsbCwgbnVsbCk7XG5cdCAgfVxuXHRcblx0ICB2bS5yZWZyZXNoRGV2aWNlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcblx0ICAgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcblx0ICAgIHZtLnRlbmFudERldmljZXMgPSBudWxsO1xuXHQgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNoYW5nZVJhZGlvID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgICAgcmV0dXJuIHZtLm1hY0RldmljZXMgPSB7fTtcblx0ICB9O1xuXHRcblx0ICB2bS5zZWFyY2hEZXZpY2VzID0gZnVuY3Rpb24gKHBhcnRpYWwpIHtcblx0ICAgIHZhciB1bm1hbmFnZWQgPSB0cnVlO1xuXHQgICAgdmFyIGJ5VGVuYW50ID0gdHJ1ZTtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIHZtLnNlbGVjdGVkQnV0dG9uLCBieVRlbmFudCwgdm0udGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuXHQgICAgICAgIHZhciBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcblx0ICAgICAgICBpZiAodm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG5cdCAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSBpZiAodm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiTUFDXCIpIHtcblx0ICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgcmV0dXJuIGRldmljZXNbMF07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZtLmdjbWlkRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICByZXR1cm4gZGV2aWNlc1swXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuXHQgICAgaWYgKGZvcndhcmQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCBudWxsKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnByZXByYXRlRm9yRWRpdFZpZXcodm0uc2VsZWN0ZWRCdXR0b24sIHZtLnRlbmFudEtleSwgc2VhcmNoVGV4dCwgdm0ubWFjRGV2aWNlcywgdm0uc2VyaWFsRGV2aWNlcywgdm0uZ2NtaWREZXZpY2VzKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uIChpc01hdGNoKSB7XG5cdCAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuXHQgICAgcmV0dXJuIHZtLmxvYWRpbmdEaXNhYmxlZCA9IGZhbHNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuXHQgICAgdmFyIHVubWFuYWdlZCA9IHRydWU7XG5cdCAgICB2YXIgYnlUZW5hbnQgPSB0cnVlO1xuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLmlzUmVzb3VyY2VWYWxpZChyZXNvdXJjZSwgdm0uc2VsZWN0ZWRCdXR0b24sIGJ5VGVuYW50LCB2bS50ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICByZXR1cm4gdm0uY29udHJvbE9wZW5CdXR0b24ocmVzW1wiaXNfbWF0Y2hcIl0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwgPSBUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIFRlbmFudHNDdHJsKCRzdGF0ZSwgJGxvZywgVGVuYW50c1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgc3dlZXQpIHtcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHRcblx0ICB2bS50ZW5hbnRzID0gW107XG5cdFxuXHQgIHZtLmdldFRlbmFudHMgPSBmdW5jdGlvbiAocGFnZV9zaXplLCBvZmZzZXQpIHtcblx0ICAgIHZtLm9mZnNldCA9IG9mZnNldDtcblx0ICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmZldGNoQWxsVGVuYW50c1BhZ2luYXRlZChwYWdlX3NpemUsIG9mZnNldCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hTdWNjZXNzKHJlc3BvbnNlKTtcblx0ICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5vZmZzZXQgPSAwO1xuXHQgICAgcmV0dXJuIHZtLmdldFRlbmFudHMoMTAwLCB2bS5vZmZzZXQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEZldGNoU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgdm0udGVuYW50cyA9IHJlc3BvbnNlLnRlbmFudHM7XG5cdCAgICB2bS50b3RhbCA9IHJlc3BvbnNlLnRvdGFsO1xuXHQgICAgdm0uaXNfZmlyc3RfcGFnZSA9IHJlc3BvbnNlLmlzX2ZpcnN0X3BhZ2U7XG5cdCAgICB2bS5pc19sYXN0X3BhZ2UgPSByZXNwb25zZS5pc19sYXN0X3BhZ2U7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiB2bS5sb2FkaW5nID0gZmFsc2U7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0RmV0Y2hGYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZhciBlcnJvck1lc3NhZ2UgPSAnVW5hYmxlIHRvIGZldGNoIHRlbmFudHMuIEVycm9yOiAnICsgcmVzcG9uc2Uuc3RhdHVzICsgJyAnICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCArICcuJztcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywgeyB0ZW5hbnRLZXk6IGl0ZW0ua2V5IH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmRlbGV0ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZGVsZXRlKGl0ZW0pO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coe1xuXHQgICAgICB0aXRsZTogXCJBcmUgeW91IHN1cmU/XCIsXG5cdCAgICAgIHRleHQ6IFwiVGhpcyB3aWxsIHBlcm1hbmVudGx5IHJlbW92ZSB0aGUgdGVuYW50IGZyb20gdGhlIHN5c3RlbS5cIixcblx0ICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG5cdCAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG5cdCAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogXCIjREQ2QjU1XCIsXG5cdCAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIlllcywgcmVtb3ZlIHRoZSB0ZW5hbnQhXCIsXG5cdCAgICAgIGNsb3NlT25Db25maXJtOiB0cnVlXG5cdCAgICB9LCBjYWxsYmFjayk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuVGVuYW50c0N0cmwgPSBUZW5hbnRzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIFdlbGNvbWVDdHJsKFZlcnNpb25zU2VydmljZSwgJHN0YXRlLCBEaXN0cmlidXRvcnNTZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnZlcnNpb25fZGF0YSA9IFtdO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHRcblx0ICB2bS5wcm9jZWVkVG9TaWduSW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdzaWduX2luJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY2FwaXRhbGl6ZUZpcnN0TGV0dGVyID0gZnVuY3Rpb24gKHN0cmluZykge1xuXHQgICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcblx0ICB9O1xuXHRcblx0ICB2bS5naXZlT3B0aW9uVG9DaGFuZ2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBkaXN0cmlidXRvcnNQcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5mZXRjaEFsbEJ5VXNlcihTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpKTtcblx0ICAgIHJldHVybiBkaXN0cmlidXRvcnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0uaGFzX211bHRpcGxlX2Rpc3RyaWJ1dG9ycyA9IGRhdGEubGVuZ3RoID4gMTtcblx0ICAgICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNoYW5nZURpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnZGlzdHJpYnV0b3Jfc2VsZWN0aW9uJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBwcm9taXNlID0gVmVyc2lvbnNTZXJ2aWNlLmdldFZlcnNpb25zKCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS52ZXJzaW9uX2RhdGEgPSBkYXRhO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmlkZW50aXR5ID0ge1xuXHQgICAgICBrZXk6IFNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCksXG5cdCAgICAgIGVtYWlsOiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCksXG5cdCAgICAgIGRpc3RyaWJ1dG9yS2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksXG5cdCAgICAgIGRpc3RyaWJ1dG9yTmFtZTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKVxuXHQgICAgfTtcblx0XG5cdCAgICB2bS5naXZlT3B0aW9uVG9DaGFuZ2VEaXN0cmlidXRvcigpO1xuXHRcblx0ICAgIGlmICghdm0uaWRlbnRpdHkuZW1haWwpIHtcblx0ICAgICAgcmV0dXJuICRzdGF0ZS5nbyhcInNpZ25faW5cIik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0VmVyc2lvbigpO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuV2VsY29tZUN0cmwgPSBXZWxjb21lQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5yb3V0ZXMgPSByb3V0ZXM7XG5cdGZ1bmN0aW9uIHJvdXRlcygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCBSZXN0YW5ndWxhclByb3ZpZGVyKSB7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduX2luXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaWRlbnRpdHk6IGZ1bmN0aW9uIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgfSxcblx0ICAgICAgbm90QXV0aGVudGljYXRlZDogZnVuY3Rpb24gbm90QXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5ub3RBdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3NpZ25faW5cIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduX2luLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduZWRfb3V0XCIsIHtcblx0ICAgIHVybDogXCIvc2lnbmVkX291dFwiLFxuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpZGVudGl0eTogZnVuY3Rpb24gaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuXHQgICAgICB9LFxuXHQgICAgICBub3RBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBub3RBdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLm5vdEF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduZWRfb3V0Lmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduX291dFwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGlkZW50aXR5OiBmdW5jdGlvbiBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG5cdCAgICAgIH0sXG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9zaWduX291dFwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2F1dGhlbnRpY2F0aW9uL3NpZ25fb3V0Lmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkaXN0cmlidXRvcl9zZWxlY3Rpb25cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvZGlzdHJpYnV0b3Jfc2VsZWN0aW9uXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3Jfc2VsZWN0b3IuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJEaXN0cmlidXRvclNlbGVjdG9yQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndm0nXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcblx0ICAgIHVybDogXCIvXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvd2VsY29tZS93ZWxjb21lLmh0bWxcIixcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaWRlbnRpdHk6IGZ1bmN0aW9uIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgfSxcblx0ICAgICAgYXV0aGVudGljYXRlZDogZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBjb250cm9sbGVyOiBcIldlbGNvbWVDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd3ZWxjb21lQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnU2t5a2l0IFByb3Zpc2lvbmluZydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcIndlbGNvbWVcIiwge1xuXHQgICAgdXJsOiBcIi93ZWxjb21lXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvd2VsY29tZS93ZWxjb21lLmh0bWxcIixcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaWRlbnRpdHk6IGZ1bmN0aW9uIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgfSxcblx0ICAgICAgYXV0aGVudGljYXRlZDogZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBjb250cm9sbGVyOiBcIldlbGNvbWVDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd3ZWxjb21lQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnU2t5a2l0IFByb3Zpc2lvbmluZydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImRvbWFpbnNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvZG9tYWluc1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW5zLWxpc3RpbmcuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJEb21haW5zQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnZG9tYWluc0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ0RvbWFpbnMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJhZGREb21haW5cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvZG9tYWlucy9hZGRcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kb21haW4vZG9tYWluLWRldGFpbC5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkRvbWFpbkRldGFpbHNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdkb21haW5EZXRhaWxzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnQWRkIGRvbWFpbicsXG5cdCAgICAgIHBhcmVudDogJ2RvbWFpbnMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlZGl0RG9tYWluXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2RvbWFpbnMvOmRvbWFpbktleVwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW4tZGV0YWlsLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluRGV0YWlsc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2RvbWFpbkRldGFpbHNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyBkb21haW5EZXRhaWxzQ3RybC5jdXJyZW50RG9tYWluLm5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICdkb21haW5zJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50c1wiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudHMtbGlzdGluZy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudHNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnVGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkZFRlbmFudFwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzL2FkZFwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtYWRkLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50QWRkQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50QWRkQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnQWRkIHRlbmFudCcsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnREZXRhaWxzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9kZXRhaWxzXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1kZXRhaWxzLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50RGV0YWlsc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudERldGFpbHNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnREZXRhaWxzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50TWFuYWdlZERldmljZXNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L21hbmFnZWRcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LW1hbmFnZWQtZGV2aWNlcy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50TWFuYWdlZERldmljZXNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19Jyxcblx0ICAgICAgcGFyZW50OiAndGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudFVubWFuYWdlZERldmljZXNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L3VubWFuYWdlZFwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtdW5tYW5hZ2VkLWRldmljZXMuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IHRlbmFudFVubWFuYWdlZERldmljZXNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRMb2NhdGlvbnNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2xvY2F0aW9uc1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb25zLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9jYXRpb25zQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50TG9jYXRpb25zQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9jYXRpb25zQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZWRpdExvY2F0aW9uXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2xvY2F0aW9ucy86bG9jYXRpb25LZXlcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9uLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9jYXRpb25DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRMb2NhdGlvbkN0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IHRlbmFudExvY2F0aW9uQ3RybC50ZW5hbnROYW1lIH19ICAvIHt7IHRlbmFudExvY2F0aW9uQ3RybC5sb2NhdGlvbk5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkTG9jYXRpb25cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2xvY2F0aW9uXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbi5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudExvY2F0aW9uQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50TG9jYXRpb25DdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2NhdGlvbkN0cmwudGVuYW50TmFtZSB9fSAgLyBMb2NhdGlvbicsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkZXZpY2VzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2RldmljZXNcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kZXZpY2UvZGV2aWNlcy1saXN0aW5nLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiRGV2aWNlc0xpc3RpbmdDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdkZXZpY2VzTGlzdGluZ0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ0RldmljZXMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlZGl0RGV2aWNlXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaWRlbnRpdHk6IGZ1bmN0aW9uIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgfSxcblx0ICAgICAgYXV0aGVudGljYXRlZDogZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2RldmljZXMvOmRldmljZUtleT90ZW5hbnRLZXk/ZnJvbURldmljZXNcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kZXZpY2UvZGV2aWNlLWRldGFpbC5odG1sXCIsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgZGV2aWNlRGV0YWlsc0N0cmwuY3VycmVudERldmljZS5rZXkgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICdkZXZpY2VzJ1xuXHQgICAgfSxcblx0ICAgIGNvbnRyb2xsZXI6ICdEZXZpY2VEZXRhaWxzQ3RybCcsXG5cdCAgICBmdW5jdGlvbjogZnVuY3Rpb24gX2Z1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XG5cdCAgICAgICRzY29wZS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9LFxuXHRcblx0ICAgIGNvbnRyb2xsZXJBczogJ2RldmljZURldGFpbHNDdHJsJ1xuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicHJvb2ZcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvcHJvb2ZcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wcm9vZi9tYWluLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiUHJvb2ZPZlBsYXlDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd2bScsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnUHJvb2Ygb2YgUGxheSdcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInByb29mRGV0YWlsXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3Byb29mLzp0ZW5hbnRcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wcm9vZi9kZXRhaWwuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJQcm9vZk9mUGxheUN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdQcm9vZiBvZiBQbGF5J1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRtaW5cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpc0FkbWluOiBmdW5jdGlvbiBpc0FkbWluKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4oKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvYWRtaW5cIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hZG1pbi9hZG1pbi5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkFkbWluQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndm0nLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ0FkbWluJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvc2lnbl9pbicpO1xuXHRcblx0ICBSZXN0YW5ndWxhclByb3ZpZGVyLnNldEJhc2VVcmwoJy9hcGkvdjEnKTtcblx0XG5cdCAgUmVzdGFuZ3VsYXJQcm92aWRlci5hZGRSZXNwb25zZUludGVyY2VwdG9yKGZ1bmN0aW9uIChkYXRhLCBvcGVyYXRpb24sIHJlc291cmNlVHlwZSwgdXJsLCByZXNwb25zZSwgZGVmZXJyZWQpIHtcblx0ICAgIHZhciByZXN1bHQgPSBkYXRhO1xuXHQgICAgLy8gVW5jb21tZW50IHRoaXMgZm9yIHBhZ2luYXRpb24gc3VwcG9ydCB3aGVuIHVzaW5nIFBhZ2luZ0xpc3RIYW5kbGVyTWl4aW4gb24gdGhlIFB5dGhvbiBzaWRlLlxuXHQgICAgLy8gICAgaWYgcmVzb3VyY2VUeXBlID09ICdkZXZpY2VzJyBhbmQgb3BlcmF0aW9uID0gJ2dldExpc3QnIGFuZCB1cmwgPT0gJy9hcGkvdjEvZGV2aWNlcydcblx0ICAgIC8vICAgICAgcmVzdWx0ID0gZGF0YS5vYmplY3RzXG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gUmVzdGFuZ3VsYXJQcm92aWRlci5zZXRSZXN0YW5ndWxhckZpZWxkcyh7XG5cdCAgICBpZDogJ2tleSdcblx0ICB9KTtcblx0fVxuXHRcblx0cm91dGVzLiRpbmplY3QgPSBbXCIkc3RhdGVQcm92aWRlclwiLCBcIiR1cmxSb3V0ZXJQcm92aWRlclwiLCBcIlJlc3Rhbmd1bGFyUHJvdmlkZXJcIl07XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmFkZFJlcXVlc3RJbnRlcmNlcHRvciA9IGFkZFJlcXVlc3RJbnRlcmNlcHRvcjtcblx0ZXhwb3J0cy50b2FzdHJDb25maWcgPSB0b2FzdHJDb25maWc7XG5cdGV4cG9ydHMuYnJlYWRjcnVtYlByb3ZpZGVyID0gYnJlYWRjcnVtYlByb3ZpZGVyO1xuXHRcblx0dmFyIF9hbmd1bGFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjgpO1xuXHRcblx0dmFyIF9hbmd1bGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZ3VsYXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIGFkZFJlcXVlc3RJbnRlcmNlcHRvcigkaHR0cFByb3ZpZGVyKSB7XG5cdCAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnUmVxdWVzdEludGVyY2VwdG9yJyk7XG5cdH1cblx0YWRkUmVxdWVzdEludGVyY2VwdG9yLiRpbmplY3QgPSBbJyRodHRwUHJvdmlkZXInXTtcblx0XG5cdGZ1bmN0aW9uIHRvYXN0ckNvbmZpZyh0b2FzdHJDb25maWcpIHtcblx0ICBfYW5ndWxhcjIuZGVmYXVsdC5leHRlbmQodG9hc3RyQ29uZmlnLCB7XG5cdCAgICBwcm9ncmVzc0JhcjogdHJ1ZSxcblx0ICAgIGNsb3NlQnV0dG9uOiB0cnVlLFxuXHQgICAgdGFwVG9EaXNtaXNzOiB0cnVlLFxuXHQgICAgbmV3ZXN0T25Ub3A6IHRydWUsXG5cdCAgICBwb3NpdGlvbkNsYXNzOiAndG9hc3QtYm90dG9tLWxlZnQnLFxuXHQgICAgdGltZU91dDogNTAwMFxuXHQgIH0pO1xuXHR9XG5cdHRvYXN0ckNvbmZpZy4kaW5qZWN0ID0gWyd0b2FzdHJDb25maWcnXTtcblx0XG5cdGZ1bmN0aW9uIGJyZWFkY3J1bWJQcm92aWRlcigkYnJlYWRjcnVtYlByb3ZpZGVyKSB7XG5cdCAgJGJyZWFkY3J1bWJQcm92aWRlci5zZXRPcHRpb25zKHtcblx0ICAgIHByZWZpeFN0YXRlTmFtZTogJ2hvbWUnLFxuXHQgICAgdGVtcGxhdGU6ICdib290c3RyYXAzJ1xuXHQgIH0pO1xuXHR9XG5cdFxuXHRicmVhZGNydW1iUHJvdmlkZXIuJGluamVjdCA9IFtcIiRicmVhZGNydW1iUHJvdmlkZXJcIl07XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGFwcFJ1bi4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIiwgXCIkbG9jYXRpb25cIiwgXCIkaW5qZWN0b3JcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJHRpbWVvdXRcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmFwcFJ1biA9IGFwcFJ1bjtcblx0ZnVuY3Rpb24gYXBwUnVuKFJlc3Rhbmd1bGFyLCAkbG9jYXRpb24sICRpbmplY3RvciwgJHJvb3RTY29wZSwgJHRpbWVvdXQpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciBzdGF0ZUNoYW5nZVdhdGNoID0gZnVuY3Rpb24gc3RhdGVDaGFuZ2VXYXRjaCgpIHtcblx0ICAgIHZhciBzdGF0ZSA9ICRpbmplY3Rvci5nZXQoJyRzdGF0ZScpO1xuXHQgICAgcmV0dXJuICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsIGZ1bmN0aW9uIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3IpIHtcblx0ICAgICAgaWYgKGVycm9yWzBdID09PSBcImF1dGhFcnJvclwiKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0YXRlLmdvKGVycm9yWzFdKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgJHRpbWVvdXQoc3RhdGVDaGFuZ2VXYXRjaCwgNTAwKTtcblx0XG5cdCAgdmFyIHJlcXVlc3RJbnRlcmNlcHRvciA9IGZ1bmN0aW9uIHJlcXVlc3RJbnRlcmNlcHRvcigpIHtcblx0ICAgIFJlc3Rhbmd1bGFyLmFkZFJlcXVlc3RJbnRlcmNlcHRvcihmdW5jdGlvbiAoZWxlbSwgb3BlcmF0aW9uLCB3aGF0LCB1cmwpIHtcblx0ICAgICAgdmFyIFN0b3JhZ2VTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnU3RvcmFnZVNlcnZpY2UnKTtcblx0XG5cdCAgICAgIHZhciBhdXRoVG9rZW4gPSAnNkMzNDY1ODhCRDRDNkQ3MjJBMTE2NUI0M0M1MUMnO1xuXHQgICAgICBpZiAoJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xKSB7XG5cdCAgICAgICAgYXV0aFRva2VuID0gJzVYWkhCRjNtT3dxSmxZQWxHMU5lZVdYMENiNzJnJztcblx0ICAgICAgfVxuXHQgICAgICBSZXN0YW5ndWxhci5zZXREZWZhdWx0SGVhZGVycyh7XG5cdCAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcblx0ICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHQgICAgICAgICdBdXRob3JpemF0aW9uJzogYXV0aFRva2VuLFxuXHQgICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5JyksXG5cdCAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLURpc3RyaWJ1dG9yJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCdjdXJyZW50RGlzdHJpYnV0b3JLZXknKVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIGlmIChvcGVyYXRpb24gPT09ICdyZW1vdmUnKSB7XG5cdCAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIGVsZW07XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICAkdGltZW91dChyZXF1ZXN0SW50ZXJjZXB0b3IsIDUwMCk7XG5cdH1cblxuLyoqKi8gfVxuXG59KTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBhcHAuYnVuZGxlLmpzXG4gKiovIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgdWlSb3V0ZXIgZnJvbSAnYW5ndWxhci11aS1yb3V0ZXInO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IFwiZm9udC1hd2Vzb21lL2Nzcy9mb250LWF3ZXNvbWUuY3NzXCI7XG5pbXBvcnQgJ25vcm1hbGl6ZS5jc3MnO1xuaW1wb3J0IFwiYm9vdHN0cmFwLXdlYnBhY2tcIjtcbmltcG9ydCAnLi9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcyc7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuY3NzJztcbmltcG9ydCAnLi9jb21wb25lbnRzL2FuZ3VsYXJCcmVhZGNydW1iL2FuZ3VsYXJCcmVhZGNydW1iJztcbmltcG9ydCAnLi9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXInXG5pbXBvcnQgJy4vY29tcG9uZW50cy9hbmd1bGFyLWRpcmVjdGl2ZS5nLXNpZ25pbi9nb29nbGUtcGx1cy1zaWduaW4nXG5pbXBvcnQgJy4vY29tcG9uZW50cy9hbmd1bGFyLWgtc3dlZXRhbGVydC9uZ1N3ZWV0QWxlcnQubWluJ1xuaW1wb3J0ICdyZXN0YW5ndWxhcic7XG5pbXBvcnQgJ2FuZ3VsYXItbWF0ZXJpYWwnXG5pbXBvcnQgJ3N3ZWV0YWxlcnQnO1xuaW1wb3J0ICdhbmd1bGFyLWgtc3dlZXRhbGVydCc7XG5pbXBvcnQgJ2FuZ3VsYXItdG9hc3RyJztcbmltcG9ydCAnYW5ndWxhci1jb29raWVzJztcbmltcG9ydCAnYW5ndWxhci1zYW5pdGl6ZSc7XG5pbXBvcnQgJ2FuZ3VsYXItdWktYm9vdHN0cmFwJztcbmltcG9ydCAnbmdjbGlwYm9hcmQnO1xuaW1wb3J0ICdqcXVlcnknO1xuaW1wb3J0ICdhbmd1bGFyLWJyZWFkY3J1bWInXG5pbXBvcnQgJ2FuZ3VsYXItbWF0ZXJpYWwnO1xuLy8gSW1wb3J0IGFuZ3VsYXJcbmltcG9ydCAnYW5ndWxhci9hbmd1bGFyLmpzJztcbi8vIE1hdGVyaWFsIGRlc2lnbiBjc3NcbmltcG9ydCAnYW5ndWxhci1tYXRlcmlhbC9hbmd1bGFyLW1hdGVyaWFsLmNzcyc7XG5pbXBvcnQgJy4vc2Nzcy92ZW5kb3Iuc2NzcydcbmltcG9ydCAnLi9zY3NzL2luZGV4LnNjc3MnXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xud2luZG93Ll8gPSBfO1xuXG5cbi8vIERldmljZVxuaW1wb3J0IHtEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsfSBmcm9tICcuL2RldmljZS9kZXZpY2UtZGV0YWlsLWNvbW1hbmQnXG5pbXBvcnQge0RldmljZURldGFpbHNDdHJsfSBmcm9tICcuL2RldmljZS9kZXZpY2UtZGV0YWlscy5jb250cm9sbGVyJ1xuaW1wb3J0IHtEZXZpY2VzTGlzdGluZ0N0cmx9IGZyb20gJy4vZGV2aWNlL2RldmljZXMtbGlzdGluZy5jb250cm9sbGVyJ1xuLy8gQWRtaW5cbmltcG9ydCB7QWRtaW5DdHJsfSBmcm9tICcuL2FkbWluL2FkbWluLWNvbnRyb2xsZXInXG4vLyBBdXRoZW50aWNhdGlvblxuaW1wb3J0IHtBdXRoZW50aWNhdGlvbkN0cmx9IGZyb20gJy4vYXV0aGVudGljYXRpb24vYXV0aGVudGljYXRpb24tY29udHJvbGxlcidcbi8vIEFwcFxuaW1wb3J0IHtBcHBDb250cm9sbGVyfSBmcm9tICcuL2FwcC9hcHAtY29udHJvbGxlcidcbi8vIERpc3RyaWJ1dG9yc1xuaW1wb3J0IHtEaXN0cmlidXRvclNlbGVjdG9yQ3RybH0gZnJvbSAnLi9kaXN0cmlidXRvci9kaXN0cmlidXRvci1zZWxlY3Rvci1jb250cm9sbGVyJ1xuaW1wb3J0IHtEaXN0cmlidXRvcnNDdHJsfSBmcm9tICcuL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9ycy1jb250cm9sbGVyJ1xuLy8gRG9tYWluc1xuaW1wb3J0IHtEb21haW5zQ3RybH0gZnJvbSAnLi9kb21haW4vZG9tYWlucy5jb250cm9sbGVyJ1xuaW1wb3J0IHtEb21haW5EZXRhaWxzQ3RybH0gZnJvbSAnLi9kb21haW4vZG9tYWluLWRldGFpbHMuY29udHJvbGxlcidcbi8vIFByb29mUGxheVxuaW1wb3J0IHtQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsfSBmcm9tICcuL3Byb29mL211bHRpLWxvY2F0aW9uLmNvbnRyb2xsZXInXG5pbXBvcnQge1Byb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybH0gZnJvbSAnLi9wcm9vZi9tdWx0aS1kaXNwbGF5LmNvbnRyb2xsZXInXG5pbXBvcnQge1Byb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmx9IGZyb20gJy4vcHJvb2YvbXVsdGktcmVzb3VyY2UuY29udHJvbGxlcidcbmltcG9ydCB7UHJvb2ZPZlBsYXlDdHJsfSBmcm9tICcuL3Byb29mL3Byb29mLW9mLXBsYXkuY29udHJvbGxlcidcbi8vIFNlcnZpY2VzXG5pbXBvcnQgQWRtaW5TZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvYWRtaW4uc2VydmljZSdcbmltcG9ydCBBdXRob3JpemF0aW9uU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2F1dGhvcml6YXRpb24uc2VydmljZSdcbmltcG9ydCBDb21tYW5kc1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9jb21tYW5kcy5zZXJ2aWNlJ1xuaW1wb3J0IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvZGF0ZW1hbmlwdWxhdGlvbi5zZXJ2aWNlJ1xuaW1wb3J0IERldmljZXNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvZGV2aWNlcy5zZXJ2aWNlJ1xuaW1wb3J0IERpc3RyaWJ1dG9yc1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9kaXN0cmlidXRvcnMuc2VydmljZSdcbmltcG9ydCBEb21haW5zU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2RvbWFpbnMuc2VydmljZSdcbmltcG9ydCBJZGVudGl0eVNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9pZGVudGl0eS5zZXJ2aWNlJ1xuaW1wb3J0IEludGVncmF0aW9uRXZlbnRzIGZyb20gJy4vc2VydmljZXMvaW50ZWdyYXRpb24tZXZlbnRzLnNlcnZpY2UnXG5pbXBvcnQgTG9jYXRpb25zU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2xvY2F0aW9ucy5zZXJ2aWNlJ1xuaW1wb3J0IFByb2dyZXNzQmFyU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3Byb2dyZXNzYmFyLnNlcnZpY2UnXG5pbXBvcnQgUHJvb2ZQbGF5U2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3Byb29mcGxheS5zZXJ2aWNlJ1xuaW1wb3J0IFNlc3Npb25zU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3Nlc3Npb25zLnNlcnZpY2UnXG5pbXBvcnQgU3RvcmFnZVNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9zdG9yYWdlLnNlcnZpY2UnXG5pbXBvcnQgVGVuYW50c1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy90ZW5hbnRzLnNlcnZpY2UnXG5pbXBvcnQgVGltZXpvbmVzU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3RpbWV6b25lcy5zZXJ2aWNlJ1xuaW1wb3J0IFRvYXN0c1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy90b2FzdHMuc2VydmljZSdcbmltcG9ydCBWZXJzaW9uc1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy92ZXJzaW9ucy5zZXJ2aWNlJ1xuLy8gVGVuYW50XG5pbXBvcnQge1RlbmFudEFkZEN0cmx9IGZyb20gJy4vdGVuYW50L3RlbmFudC1hZGQuY29udHJvbGxlcidcbmltcG9ydCB7VGVuYW50RGV0YWlsc0N0cmx9IGZyb20gJy4vdGVuYW50L3RlbmFudC1kZXRhaWxzLmNvbnRyb2xsZXInXG5pbXBvcnQge1RlbmFudExvY2F0aW9uQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LWxvY2F0aW9uLmNvbnRyb2xsZXInXG5pbXBvcnQge1RlbmFudE1hbmFnZWREZXZpY2VzQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LW1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyJ1xuaW1wb3J0IHtUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LXVubWFuYWdlZC1kZXZpY2VzLmNvbnRyb2xsZXInXG5pbXBvcnQge1RlbmFudHNDdHJsfSBmcm9tICcuL3RlbmFudC90ZW5hbnRzLmNvbnRyb2xsZXInXG4vLyBXZWxjb21lXG5pbXBvcnQge1dlbGNvbWVDdHJsfSBmcm9tICcuL3dlbGNvbWUvd2VsY29tZS1jb250cm9sbGVyJ1xuLy8gQ29uZmlnXG5pbXBvcnQge3JvdXRlc30gZnJvbSAnLi9hcHAtcm91dGVzJ1xuaW1wb3J0IHtSZXN0YW5ndWxhckNvbmZpZ30gZnJvbSAnLi9hcHAtY29uZmlnJ1xuaW1wb3J0IHthcHBSdW59IGZyb20gJy4vYXBwLXJ1bic7XG5cbmxldCBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnc2t5a2l0UHJvdmlzaW9uaW5nJywgW1xuICB1aVJvdXRlcixcbiAgJ25nQW5pbWF0ZScsXG4gICduZ0Nvb2tpZXMnLFxuICAnbmdTYW5pdGl6ZScsXG4gICdyZXN0YW5ndWxhcicsXG4gICdoU3dlZXRBbGVydCcsXG4gICd1aS5ib290c3RyYXAnLFxuICAnbmdNYXRlcmlhbERhdGVQaWNrZXInLFxuICAnaFN3ZWV0QWxlcnQnLFxuICAnbmN5LWFuZ3VsYXItYnJlYWRjcnVtYicsXG4gICdkaXJlY3RpdmUuZytzaWduaW4nLFxuICAnbmdQcm9ncmVzcycsXG4gICduZ01hdGVyaWFsJyxcbiAgJ25nY2xpcGJvYXJkJyxcbiAgJ3RvYXN0cicsXG5dKVxuLy8gU2VydmljZXNcbiAgLmZhY3RvcnkoXCJTdG9yYWdlU2VydmljZVwiLCBTdG9yYWdlU2VydmljZS5zdG9yYWdlU2VydmljZUZhY3RvcnkpXG4gIC5mYWN0b3J5KFwiQWRtaW5TZXJ2aWNlXCIsIEFkbWluU2VydmljZS5hZG1pblNlcnZpY2VGYWN0b3J5KVxuICAuZmFjdG9yeShcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhvcml6YXRpb25TZXJ2aWNlRmFjdG9yeSlcbiAgLmZhY3RvcnkoXCJDb21tYW5kc1NlcnZpY2VcIiwgQ29tbWFuZHNTZXJ2aWNlLmNvbW1hbmRTZXJ2aWNlRmFjdG9yeSlcbiAgLmZhY3RvcnkoXCJEYXRlTWFuaXB1bGF0aW9uU2VydmljZVwiLCBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5kYXRlbWFuaXB1bGF0aW9uU2VydmljZUZhY3RvcnkpXG4gIC5mYWN0b3J5KFwiRGV2aWNlc1NlcnZpY2VcIiwgRGV2aWNlc1NlcnZpY2UuZGV2aWNlc1NlcnZpY2VGYWN0b3J5KVxuICAuZmFjdG9yeShcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIiwgRGlzdHJpYnV0b3JzU2VydmljZS5kaXN0cmlidXRvclNlcnZpY2VGYWN0b3J5KVxuICAuZmFjdG9yeShcIkRvbWFpbnNTZXJ2aWNlXCIsIERvbWFpbnNTZXJ2aWNlLmRvbWFpblNlcnZpY2VGYWN0b3J5KVxuICAuZmFjdG9yeShcIklkZW50aXR5U2VydmljZVwiLCBJZGVudGl0eVNlcnZpY2UuaWRlbnRpdHlTZXJ2aWNlRmFjdG9yeSlcbiAgLmZhY3RvcnkoXCJJbnRlZ3JhdGlvbkV2ZW50c1wiLCBJbnRlZ3JhdGlvbkV2ZW50cy5pbnRlZ3JhdGlvbkV2ZW50c1NlcnZpY2VGYWN0b3J5KVxuICAuZmFjdG9yeShcIkxvY2F0aW9uc1NlcnZpY2VcIiwgTG9jYXRpb25zU2VydmljZS5sb2NhdGlvbnNTZXJ2aWNlRmFjdG9yeSlcbiAgLmZhY3RvcnkoXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnByb2dyZXNzQmFyU2VydmljZUZhY3RvcnkpXG4gIC5mYWN0b3J5KFwiUHJvb2ZQbGF5U2VydmljZVwiLCBQcm9vZlBsYXlTZXJ2aWNlLnByb29mcGxheVNlcnZpY2VGYWN0b3J5KVxuICAuZmFjdG9yeShcIlNlc3Npb25zU2VydmljZVwiLCBTZXNzaW9uc1NlcnZpY2Uuc2Vzc2lvbnNTZXJ2aWNlRmFjdG9yeSlcbiAgLmZhY3RvcnkoXCJUZW5hbnRzU2VydmljZVwiLCBUZW5hbnRzU2VydmljZS50ZW5hbnRzU2VydmljZUZhY3RvcnkpXG4gIC5mYWN0b3J5KFwiVGltZXpvbmVzU2VydmljZVwiLCBUaW1lem9uZXNTZXJ2aWNlLnRpbWV6b25lU2VydmljZUZhY3RvcnkpXG4gIC5mYWN0b3J5KFwiVG9hc3RzU2VydmljZVwiLCBUb2FzdHNTZXJ2aWNlLnRvYXN0c1NlcnZpY2VGYWN0b3J5KVxuICAuZmFjdG9yeShcIlZlcnNpb25zU2VydmljZVwiLCBWZXJzaW9uc1NlcnZpY2UudmVyc2lvbnNTZXJ2aWNlRmFjdG9yeSlcbiAgLy8gRGV2aWNlXG4gIC5jb250cm9sbGVyKFwiRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybFwiLCBEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsKVxuICAuY29udHJvbGxlcihcIkRldmljZURldGFpbHNDdHJsXCIsIERldmljZURldGFpbHNDdHJsKVxuICAuY29udHJvbGxlcihcIkRldmljZXNMaXN0aW5nQ3RybFwiLCBEZXZpY2VzTGlzdGluZ0N0cmwpXG4gIC8vIEFkbWluXG4gIC5jb250cm9sbGVyKFwiQWRtaW5DdHJsXCIsIEFkbWluQ3RybClcbiAgLy8gQXV0aGVudGljYXRpb25cbiAgLmNvbnRyb2xsZXIoXCJBdXRoZW50aWNhdGlvbkN0cmxcIiwgQXV0aGVudGljYXRpb25DdHJsKVxuICAvLyBBcHBcbiAgLmNvbnRyb2xsZXIoXCJBcHBDb250cm9sbGVyXCIsIEFwcENvbnRyb2xsZXIpXG4gIC8vIERpc3RyaWJ1dG9yc1xuICAuY29udHJvbGxlcihcIkRpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsXCIsIERpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsKVxuICAuY29udHJvbGxlcihcIkRpc3RyaWJ1dG9yc0N0cmxcIiwgRGlzdHJpYnV0b3JzQ3RybClcbiAgLy8gRG9tYWluc1xuICAuY29udHJvbGxlcihcIkRvbWFpbnNDdHJsXCIsIERvbWFpbnNDdHJsKVxuICAuY29udHJvbGxlcihcIkRvbWFpbkRldGFpbHNDdHJsXCIsIERvbWFpbkRldGFpbHNDdHJsKVxuICAvLyBQcm9vZlBsYXlcbiAgLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsXCIsIFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwpXG4gIC5jb250cm9sbGVyKFwiUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsXCIsIFByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybClcbiAgLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsXCIsIFByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwpXG4gIC5jb250cm9sbGVyKFwiUHJvb2ZPZlBsYXlDdHJsXCIsIFByb29mT2ZQbGF5Q3RybClcbiAgLy8gVGVuYW50c1xuICAuY29udHJvbGxlcihcIlRlbmFudEFkZEN0cmxcIiwgVGVuYW50QWRkQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJUZW5hbnREZXRhaWxzQ3RybFwiLCBUZW5hbnREZXRhaWxzQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJUZW5hbnRMb2NhdGlvbkN0cmxcIiwgVGVuYW50TG9jYXRpb25DdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybFwiLCBUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmxcIiwgVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50c0N0cmxcIiwgVGVuYW50c0N0cmwpXG4gIC8vIFdlbGNvbWVcbiAgLmNvbnRyb2xsZXIoXCJXZWxjb21lQ3RybFwiLCBXZWxjb21lQ3RybClcbiAgLy8gYXBwUnVuIEJsb2NrXG4gIC5ydW4oYXBwUnVuKVxuICAvLyBDb25maWdcbiAgLmNvbmZpZyhyb3V0ZXMpXG5cbi8vIFJlcXVlc3QgSW50ZXJjZXB0b3JcbmFwcC5mYWN0b3J5KCdSZXF1ZXN0SW50ZXJjZXB0b3InLCBmdW5jdGlvbiAoU3RvcmFnZVNlcnZpY2UsICRsb2NhdGlvbikge1xuICBcIm5nSW5qZWN0XCI7XG4gIGxldCBpbnRlcmNlcHRvciA9IHtcbiAgICByZXF1ZXN0KGNvbmZpZykge1xuICAgICAgbGV0IGdzID0gJzVYWkhCRjNtT3dxSmxZQWxHMU5lZVdYMENiNzJnJztcbiAgICAgIGxldCBwcm9kID0gJzZDMzQ2NTg4QkQ0QzZENzIyQTExNjVCNDNDNTFDJztcbiAgICAgIGNvbmZpZy5oZWFkZXJzID0ge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQXV0aG9yaXphdGlvbic6ICRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMSA/IGdzIDogcHJvZCxcbiAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLVVzZXInOiBTdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJLZXknKSxcbiAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLVVzZXItSWRlbnRpZmllcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlckVtYWlsJyksXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1EaXN0cmlidXRvcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5JylcbiAgICAgIH07XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGludGVyY2VwdG9yO1xufSk7XG5cblxuYXBwLmNvbmZpZygkaHR0cFByb3ZpZGVyID0+ICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ1JlcXVlc3RJbnRlcmNlcHRvcicpKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9hcHAuanNcbiAqKi8iLCJ2YXIgbWFwID0ge1xuXHRcIi4vYWZcIjogMzc0LFxuXHRcIi4vYWYuanNcIjogMzc0LFxuXHRcIi4vYXJcIjogMzc1LFxuXHRcIi4vYXItbWFcIjogMzc2LFxuXHRcIi4vYXItbWEuanNcIjogMzc2LFxuXHRcIi4vYXItc2FcIjogMzc3LFxuXHRcIi4vYXItc2EuanNcIjogMzc3LFxuXHRcIi4vYXItdG5cIjogMzc4LFxuXHRcIi4vYXItdG4uanNcIjogMzc4LFxuXHRcIi4vYXIuanNcIjogMzc1LFxuXHRcIi4vYXpcIjogMzc5LFxuXHRcIi4vYXouanNcIjogMzc5LFxuXHRcIi4vYmVcIjogMzgwLFxuXHRcIi4vYmUuanNcIjogMzgwLFxuXHRcIi4vYmdcIjogMzgxLFxuXHRcIi4vYmcuanNcIjogMzgxLFxuXHRcIi4vYm5cIjogMzgyLFxuXHRcIi4vYm4uanNcIjogMzgyLFxuXHRcIi4vYm9cIjogMzgzLFxuXHRcIi4vYm8uanNcIjogMzgzLFxuXHRcIi4vYnJcIjogMzg0LFxuXHRcIi4vYnIuanNcIjogMzg0LFxuXHRcIi4vYnNcIjogMzg1LFxuXHRcIi4vYnMuanNcIjogMzg1LFxuXHRcIi4vY2FcIjogMzg2LFxuXHRcIi4vY2EuanNcIjogMzg2LFxuXHRcIi4vY3NcIjogMzg3LFxuXHRcIi4vY3MuanNcIjogMzg3LFxuXHRcIi4vY3ZcIjogMzg4LFxuXHRcIi4vY3YuanNcIjogMzg4LFxuXHRcIi4vY3lcIjogMzg5LFxuXHRcIi4vY3kuanNcIjogMzg5LFxuXHRcIi4vZGFcIjogMzkwLFxuXHRcIi4vZGEuanNcIjogMzkwLFxuXHRcIi4vZGVcIjogMzkxLFxuXHRcIi4vZGUtYXRcIjogMzkyLFxuXHRcIi4vZGUtYXQuanNcIjogMzkyLFxuXHRcIi4vZGUuanNcIjogMzkxLFxuXHRcIi4vZHZcIjogMzkzLFxuXHRcIi4vZHYuanNcIjogMzkzLFxuXHRcIi4vZWxcIjogMzk0LFxuXHRcIi4vZWwuanNcIjogMzk0LFxuXHRcIi4vZW4tYXVcIjogMzk1LFxuXHRcIi4vZW4tYXUuanNcIjogMzk1LFxuXHRcIi4vZW4tY2FcIjogMzk2LFxuXHRcIi4vZW4tY2EuanNcIjogMzk2LFxuXHRcIi4vZW4tZ2JcIjogMzk3LFxuXHRcIi4vZW4tZ2IuanNcIjogMzk3LFxuXHRcIi4vZW4taWVcIjogMzk4LFxuXHRcIi4vZW4taWUuanNcIjogMzk4LFxuXHRcIi4vZW4tbnpcIjogMzk5LFxuXHRcIi4vZW4tbnouanNcIjogMzk5LFxuXHRcIi4vZW9cIjogNDAwLFxuXHRcIi4vZW8uanNcIjogNDAwLFxuXHRcIi4vZXNcIjogNDAxLFxuXHRcIi4vZXMtZG9cIjogNDAyLFxuXHRcIi4vZXMtZG8uanNcIjogNDAyLFxuXHRcIi4vZXMuanNcIjogNDAxLFxuXHRcIi4vZXRcIjogNDAzLFxuXHRcIi4vZXQuanNcIjogNDAzLFxuXHRcIi4vZXVcIjogNDA0LFxuXHRcIi4vZXUuanNcIjogNDA0LFxuXHRcIi4vZmFcIjogNDA1LFxuXHRcIi4vZmEuanNcIjogNDA1LFxuXHRcIi4vZmlcIjogNDA2LFxuXHRcIi4vZmkuanNcIjogNDA2LFxuXHRcIi4vZm9cIjogNDA3LFxuXHRcIi4vZm8uanNcIjogNDA3LFxuXHRcIi4vZnJcIjogNDA4LFxuXHRcIi4vZnItY2FcIjogNDA5LFxuXHRcIi4vZnItY2EuanNcIjogNDA5LFxuXHRcIi4vZnItY2hcIjogNDEwLFxuXHRcIi4vZnItY2guanNcIjogNDEwLFxuXHRcIi4vZnIuanNcIjogNDA4LFxuXHRcIi4vZnlcIjogNDExLFxuXHRcIi4vZnkuanNcIjogNDExLFxuXHRcIi4vZ2RcIjogNDEyLFxuXHRcIi4vZ2QuanNcIjogNDEyLFxuXHRcIi4vZ2xcIjogNDEzLFxuXHRcIi4vZ2wuanNcIjogNDEzLFxuXHRcIi4vaGVcIjogNDE0LFxuXHRcIi4vaGUuanNcIjogNDE0LFxuXHRcIi4vaGlcIjogNDE1LFxuXHRcIi4vaGkuanNcIjogNDE1LFxuXHRcIi4vaHJcIjogNDE2LFxuXHRcIi4vaHIuanNcIjogNDE2LFxuXHRcIi4vaHVcIjogNDE3LFxuXHRcIi4vaHUuanNcIjogNDE3LFxuXHRcIi4vaHktYW1cIjogNDE4LFxuXHRcIi4vaHktYW0uanNcIjogNDE4LFxuXHRcIi4vaWRcIjogNDE5LFxuXHRcIi4vaWQuanNcIjogNDE5LFxuXHRcIi4vaXNcIjogNDIwLFxuXHRcIi4vaXMuanNcIjogNDIwLFxuXHRcIi4vaXRcIjogNDIxLFxuXHRcIi4vaXQuanNcIjogNDIxLFxuXHRcIi4vamFcIjogNDIyLFxuXHRcIi4vamEuanNcIjogNDIyLFxuXHRcIi4vanZcIjogNDIzLFxuXHRcIi4vanYuanNcIjogNDIzLFxuXHRcIi4va2FcIjogNDI0LFxuXHRcIi4va2EuanNcIjogNDI0LFxuXHRcIi4va2tcIjogNDI1LFxuXHRcIi4va2suanNcIjogNDI1LFxuXHRcIi4va21cIjogNDI2LFxuXHRcIi4va20uanNcIjogNDI2LFxuXHRcIi4va29cIjogNDI3LFxuXHRcIi4va28uanNcIjogNDI3LFxuXHRcIi4va3lcIjogNDI4LFxuXHRcIi4va3kuanNcIjogNDI4LFxuXHRcIi4vbGJcIjogNDI5LFxuXHRcIi4vbGIuanNcIjogNDI5LFxuXHRcIi4vbG9cIjogNDMwLFxuXHRcIi4vbG8uanNcIjogNDMwLFxuXHRcIi4vbHRcIjogNDMxLFxuXHRcIi4vbHQuanNcIjogNDMxLFxuXHRcIi4vbHZcIjogNDMyLFxuXHRcIi4vbHYuanNcIjogNDMyLFxuXHRcIi4vbWVcIjogNDMzLFxuXHRcIi4vbWUuanNcIjogNDMzLFxuXHRcIi4vbWtcIjogNDM0LFxuXHRcIi4vbWsuanNcIjogNDM0LFxuXHRcIi4vbWxcIjogNDM1LFxuXHRcIi4vbWwuanNcIjogNDM1LFxuXHRcIi4vbXJcIjogNDM2LFxuXHRcIi4vbXIuanNcIjogNDM2LFxuXHRcIi4vbXNcIjogNDM3LFxuXHRcIi4vbXMtbXlcIjogNDM4LFxuXHRcIi4vbXMtbXkuanNcIjogNDM4LFxuXHRcIi4vbXMuanNcIjogNDM3LFxuXHRcIi4vbXlcIjogNDM5LFxuXHRcIi4vbXkuanNcIjogNDM5LFxuXHRcIi4vbmJcIjogNDQwLFxuXHRcIi4vbmIuanNcIjogNDQwLFxuXHRcIi4vbmVcIjogNDQxLFxuXHRcIi4vbmUuanNcIjogNDQxLFxuXHRcIi4vbmxcIjogNDQyLFxuXHRcIi4vbmwuanNcIjogNDQyLFxuXHRcIi4vbm5cIjogNDQzLFxuXHRcIi4vbm4uanNcIjogNDQzLFxuXHRcIi4vcGEtaW5cIjogNDQ0LFxuXHRcIi4vcGEtaW4uanNcIjogNDQ0LFxuXHRcIi4vcGxcIjogNDQ1LFxuXHRcIi4vcGwuanNcIjogNDQ1LFxuXHRcIi4vcHRcIjogNDQ2LFxuXHRcIi4vcHQtYnJcIjogNDQ3LFxuXHRcIi4vcHQtYnIuanNcIjogNDQ3LFxuXHRcIi4vcHQuanNcIjogNDQ2LFxuXHRcIi4vcm9cIjogNDQ4LFxuXHRcIi4vcm8uanNcIjogNDQ4LFxuXHRcIi4vcnVcIjogNDQ5LFxuXHRcIi4vcnUuanNcIjogNDQ5LFxuXHRcIi4vc2VcIjogNDUwLFxuXHRcIi4vc2UuanNcIjogNDUwLFxuXHRcIi4vc2lcIjogNDUxLFxuXHRcIi4vc2kuanNcIjogNDUxLFxuXHRcIi4vc2tcIjogNDUyLFxuXHRcIi4vc2suanNcIjogNDUyLFxuXHRcIi4vc2xcIjogNDUzLFxuXHRcIi4vc2wuanNcIjogNDUzLFxuXHRcIi4vc3FcIjogNDU0LFxuXHRcIi4vc3EuanNcIjogNDU0LFxuXHRcIi4vc3JcIjogNDU1LFxuXHRcIi4vc3ItY3lybFwiOiA0NTYsXG5cdFwiLi9zci1jeXJsLmpzXCI6IDQ1Nixcblx0XCIuL3NyLmpzXCI6IDQ1NSxcblx0XCIuL3NzXCI6IDQ1Nyxcblx0XCIuL3NzLmpzXCI6IDQ1Nyxcblx0XCIuL3N2XCI6IDQ1OCxcblx0XCIuL3N2LmpzXCI6IDQ1OCxcblx0XCIuL3N3XCI6IDQ1OSxcblx0XCIuL3N3LmpzXCI6IDQ1OSxcblx0XCIuL3RhXCI6IDQ2MCxcblx0XCIuL3RhLmpzXCI6IDQ2MCxcblx0XCIuL3RlXCI6IDQ2MSxcblx0XCIuL3RlLmpzXCI6IDQ2MSxcblx0XCIuL3RoXCI6IDQ2Mixcblx0XCIuL3RoLmpzXCI6IDQ2Mixcblx0XCIuL3RsLXBoXCI6IDQ2Myxcblx0XCIuL3RsLXBoLmpzXCI6IDQ2Myxcblx0XCIuL3RsaFwiOiA0NjQsXG5cdFwiLi90bGguanNcIjogNDY0LFxuXHRcIi4vdHJcIjogNDY1LFxuXHRcIi4vdHIuanNcIjogNDY1LFxuXHRcIi4vdHpsXCI6IDQ2Nixcblx0XCIuL3R6bC5qc1wiOiA0NjYsXG5cdFwiLi90em1cIjogNDY3LFxuXHRcIi4vdHptLWxhdG5cIjogNDY4LFxuXHRcIi4vdHptLWxhdG4uanNcIjogNDY4LFxuXHRcIi4vdHptLmpzXCI6IDQ2Nyxcblx0XCIuL3VrXCI6IDQ2OSxcblx0XCIuL3VrLmpzXCI6IDQ2OSxcblx0XCIuL3V6XCI6IDQ3MCxcblx0XCIuL3V6LmpzXCI6IDQ3MCxcblx0XCIuL3ZpXCI6IDQ3MSxcblx0XCIuL3ZpLmpzXCI6IDQ3MSxcblx0XCIuL3gtcHNldWRvXCI6IDQ3Mixcblx0XCIuL3gtcHNldWRvLmpzXCI6IDQ3Mixcblx0XCIuL3poLWNuXCI6IDQ3Myxcblx0XCIuL3poLWNuLmpzXCI6IDQ3Myxcblx0XCIuL3poLXR3XCI6IDQ3NCxcblx0XCIuL3poLXR3LmpzXCI6IDQ3NFxufTtcbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRyZXR1cm4gbWFwW3JlcV0gfHwgKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKSB9KCkpO1xufTtcbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAzNzM7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9tb21lbnQvbG9jYWxlIF5cXC5cXC8uKiRcbiAqKiBtb2R1bGUgaWQgPSAzNzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qXG4gbmdwcm9ncmVzcyAxLjEuMiAtIHNsaW0sIHNpdGUtd2lkZSBwcm9ncmVzc2JhciBmb3IgQW5ndWxhckpTIFxuIChDKSAyMDEzIC0gVmljdG9yIEJqZWxraG9sbSBcbiBMaWNlbnNlOiBNSVQgXG4gU291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vVmljdG9yQmplbGtob2xtL25nUHJvZ3Jlc3MgXG4gRGF0ZSBDb21waWxlZDogMjAxNS0wNy0yNyBcbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJuZ1Byb2dyZXNzLnByb3ZpZGVyXCIsIFtcIm5nUHJvZ3Jlc3MuZGlyZWN0aXZlXCJdKS5zZXJ2aWNlKFwibmdQcm9ncmVzc1wiLCBmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICByZXR1cm4gW1wiJGRvY3VtZW50XCIsIFwiJHdpbmRvd1wiLCBcIiRjb21waWxlXCIsIFwiJHJvb3RTY29wZVwiLCBcIiR0aW1lb3V0XCIsIGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlKSB7XG4gICAgdGhpcy5hdXRvU3R5bGUgPSAhMCwgdGhpcy5jb3VudCA9IDAsIHRoaXMuaGVpZ2h0ID0gXCIycHhcIiwgdGhpcy4kc2NvcGUgPSBkLiRuZXcoKSwgdGhpcy5jb2xvciA9IFwiZmlyZWJyaWNrXCIsIHRoaXMucGFyZW50ID0gYS5maW5kKFwiYm9keVwiKVswXSwgdGhpcy5jb3VudCA9IDAsIHRoaXMucHJvZ3Jlc3NiYXJFbCA9IGMoXCI8bmctcHJvZ3Jlc3M+PC9uZy1wcm9ncmVzcz5cIikodGhpcy4kc2NvcGUpLCB0aGlzLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pLCB0aGlzLiRzY29wZS5jb3VudCA9IHRoaXMuY291bnQsIHZvaWQgMCAhPT0gdGhpcy5oZWlnaHQgJiYgdGhpcy5wcm9ncmVzc2JhckVsLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiaGVpZ2h0XCIsIHRoaXMuaGVpZ2h0KSwgdm9pZCAwICE9PSB0aGlzLmNvbG9yICYmICh0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIHRoaXMuY29sb3IpLCB0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJjb2xvclwiLCB0aGlzLmNvbG9yKSksIHRoaXMuaW50ZXJ2YWxDb3VudGVySWQgPSAwLCB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgICB2YXIgYSA9IHRoaXM7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCB0aGlzLmludGVydmFsQ291bnRlcklkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBpc05hTihhLmNvdW50KSA/IChjbGVhckludGVydmFsKGEuaW50ZXJ2YWxDb3VudGVySWQpLCBhLmNvdW50ID0gMCwgYS5oaWRlKCkpIDogKGEucmVtYWluaW5nID0gMTAwIC0gYS5jb3VudCwgYS5jb3VudCA9IGEuY291bnQgKyAuMTUgKiBNYXRoLnBvdygxIC0gTWF0aC5zcXJ0KGEucmVtYWluaW5nKSwgMiksIGEudXBkYXRlQ291bnQoYS5jb3VudCkpXG4gICAgICB9LCAyMDApXG4gICAgfSwgdGhpcy51cGRhdGVDb3VudCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICB0aGlzLiRzY29wZS5jb3VudCA9IGEsIHRoaXMuJHNjb3BlLiQkcGhhc2UgfHwgdGhpcy4kc2NvcGUuJGFwcGx5KClcbiAgICB9LCB0aGlzLnNldEhlaWdodCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBhICYmICh0aGlzLmhlaWdodCA9IGEsIHRoaXMuJHNjb3BlLmhlaWdodCA9IHRoaXMuaGVpZ2h0LCB0aGlzLiRzY29wZS4kJHBoYXNlIHx8IHRoaXMuJHNjb3BlLiRhcHBseSgpKSwgdGhpcy5oZWlnaHRcbiAgICB9LCB0aGlzLnNldENvbG9yID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGEgJiYgKHRoaXMuY29sb3IgPSBhLCB0aGlzLiRzY29wZS5jb2xvciA9IHRoaXMuY29sb3IsIHRoaXMuJHNjb3BlLiQkcGhhc2UgfHwgdGhpcy4kc2NvcGUuJGFwcGx5KCkpLCB0aGlzLmNvbG9yXG4gICAgfSwgdGhpcy5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKFwib3BhY2l0eVwiLCBcIjBcIik7XG4gICAgICB2YXIgYSA9IHRoaXM7XG4gICAgICBhLmFuaW1hdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBhLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJ3aWR0aFwiLCBcIjAlXCIpLCBhLmFuaW1hdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGEuc2hvdygpXG4gICAgICAgIH0sIDUwMClcbiAgICAgIH0sIDUwMClcbiAgICB9LCB0aGlzLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYSA9IHRoaXM7XG4gICAgICBhLmFuaW1hdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBhLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJvcGFjaXR5XCIsIFwiMVwiKVxuICAgICAgfSwgMTAwKVxuICAgIH0sIHRoaXMuYW5pbWF0ZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICB2b2lkIDAgIT09IHRoaXMuYW5pbWF0aW9uICYmIGUuY2FuY2VsKHRoaXMuYW5pbWF0aW9uKSwgdGhpcy5hbmltYXRpb24gPSBlKGEsIGIpXG4gICAgfSwgdGhpcy5zdGF0dXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb3VudFxuICAgIH0sIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZClcbiAgICB9LCB0aGlzLnNldCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaG93KCksIHRoaXMudXBkYXRlQ291bnQoYSksIHRoaXMuY291bnQgPSBhLCBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCB0aGlzLmNvdW50XG4gICAgfSwgdGhpcy5jc3MgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhhKVxuICAgIH0sIHRoaXMucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSwgdGhpcy5jb3VudCA9IDAsIHRoaXMudXBkYXRlQ291bnQodGhpcy5jb3VudCksIDBcbiAgICB9LCB0aGlzLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jb3VudCA9IDEwMCwgdGhpcy51cGRhdGVDb3VudCh0aGlzLmNvdW50KTtcbiAgICAgIHZhciBhID0gdGhpcztcbiAgICAgIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCBlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYS5oaWRlKCksIGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGEuY291bnQgPSAwLCBhLnVwZGF0ZUNvdW50KGEuY291bnQpXG4gICAgICAgIH0sIDUwMClcbiAgICAgIH0sIDFlMyksIHRoaXMuY291bnRcbiAgICB9LCB0aGlzLnNldFBhcmVudCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICBpZiAobnVsbCA9PT0gYSB8fCB2b2lkIDAgPT09IGEpdGhyb3cgbmV3IEVycm9yKFwiUHJvdmlkZSBhIHZhbGlkIHBhcmVudCBvZiB0eXBlIEhUTUxFbGVtZW50XCIpO1xuICAgICAgbnVsbCAhPT0gdGhpcy5wYXJlbnQgJiYgdm9pZCAwICE9PSB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pLCB0aGlzLnBhcmVudCA9IGEsIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSlcbiAgICB9LCB0aGlzLmdldERvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9ncmVzc2JhckVsXG4gICAgfSwgdGhpcy5zZXRBYnNvbHV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucHJvZ3Jlc3NiYXJFbC5jc3MoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpXG4gICAgfVxuICB9XVxufSkuZmFjdG9yeShcIm5nUHJvZ3Jlc3NGYWN0b3J5XCIsIFtcIiRpbmplY3RvclwiLCBcIm5nUHJvZ3Jlc3NcIiwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgdmFyIGMgPSB7XG4gICAgY3JlYXRlSW5zdGFuY2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhLmluc3RhbnRpYXRlKGIpXG4gICAgfVxuICB9O1xuICByZXR1cm4gY1xufV0pLCBhbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3MuZGlyZWN0aXZlXCIsIFtdKS5kaXJlY3RpdmUoXCJuZ1Byb2dyZXNzXCIsIFtcIiR3aW5kb3dcIiwgXCIkcm9vdFNjb3BlXCIsIGZ1bmN0aW9uIChhLCBiKSB7XG4gIHZhciBjID0ge1xuICAgIHJlcGxhY2U6ICEwLCByZXN0cmljdDogXCJFXCIsIGxpbms6IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7XG4gICAgICBhLiR3YXRjaChcImNvdW50XCIsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICh2b2lkIDAgIT09IGMgfHwgbnVsbCAhPT0gYykgJiYgKGEuY291bnRlciA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJ3aWR0aFwiLCBjICsgXCIlXCIpKVxuICAgICAgfSksIGEuJHdhdGNoKFwiY29sb3JcIiwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgKHZvaWQgMCAhPT0gYyB8fCBudWxsICE9PSBjKSAmJiAoYS5jb2xvciA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIGMpLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiY29sb3JcIiwgYykpXG4gICAgICB9KSwgYS4kd2F0Y2goXCJoZWlnaHRcIiwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgKHZvaWQgMCAhPT0gYyB8fCBudWxsICE9PSBjKSAmJiAoYS5oZWlnaHQgPSBjLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiaGVpZ2h0XCIsIGMpKVxuICAgICAgfSlcbiAgICB9LCB0ZW1wbGF0ZTogJzxkaXYgaWQ9XCJuZ1Byb2dyZXNzLWNvbnRhaW5lclwiPjxkaXYgaWQ9XCJuZ1Byb2dyZXNzXCI+PC9kaXY+PC9kaXY+J1xuICB9O1xuICByZXR1cm4gY1xufV0pLCBhbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3NcIiwgW1wibmdQcm9ncmVzcy5kaXJlY3RpdmVcIiwgXCJuZ1Byb2dyZXNzLnByb3ZpZGVyXCJdKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmdQcm9ncmVzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmdQcm9ncmVzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9uZ1Byb2dyZXNzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2NsaWVudC9hcHAvY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gNTEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIiNuZ1Byb2dyZXNze21hcmdpbjowO3BhZGRpbmc6MDt6LWluZGV4Ojk5OTk4O2JhY2tncm91bmQtY29sb3I6Z3JlZW47Y29sb3I6Z3JlZW47Ym94LXNoYWRvdzowIDAgMTBweCAwO2hlaWdodDoycHg7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjVzIGVhc2UtaW4tb3V0O3RyYW5zaXRpb246YWxsIC41cyBlYXNlLWluLW91dH0jbmdQcm9ncmVzcy1jb250YWluZXJ7cG9zaXRpb246Zml4ZWQ7bWFyZ2luOjA7cGFkZGluZzowO3RvcDowO2xlZnQ6MDtyaWdodDowO3otaW5kZXg6OTk5OTl9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL2NsaWVudC9hcHAvY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuY3NzXG4gKiogbW9kdWxlIGlkID0gNTExXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKiEgYW5ndWxhci1icmVhZGNydW1iIC0gdjAuNC4wLWRldi0yMDE1LTA4LTA3XG4qIGh0dHA6Ly9uY3VpbGxlcnkuZ2l0aHViLmlvL2FuZ3VsYXItYnJlYWRjcnVtYlxuKiBDb3B5cmlnaHQgKGMpIDIwMTUgTmljb2xhcyBDdWlsbGVyeTsgTGljZW5zZWQgTUlUICovXG4hZnVuY3Rpb24oYSxiLGMpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGQoYSxjKXtyZXR1cm4gYi5lcXVhbHMoYS5sZW5ndGgsYy5sZW5ndGgpP2E+YzphLmxlbmd0aD5jLmxlbmd0aH1mdW5jdGlvbiBlKGEpe3ZhciBiPWEucmVwbGFjZSgvXFxuL2csXCIgXCIpLm1hdGNoKC9eKFteKF0rPylcXHMqKFxcKCguKilcXCkpPyQvKTtpZighYnx8NCE9PWIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgcmVmICdcIithK1wiJ1wiKTtyZXR1cm57c3RhdGU6YlsxXSxwYXJhbUV4cHI6YlszXXx8bnVsbH19ZnVuY3Rpb24gZigpe3ZhciBhPXtwcmVmaXhTdGF0ZU5hbWU6bnVsbCx0ZW1wbGF0ZTpcImJvb3RzdHJhcDNcIix0ZW1wbGF0ZVVybDpudWxsLGluY2x1ZGVBYnN0cmFjdDohMX07dGhpcy5zZXRPcHRpb25zPWZ1bmN0aW9uKGMpe2IuZXh0ZW5kKGEsYyl9LHRoaXMuJGdldD1bXCIkc3RhdGVcIixcIiRzdGF0ZVBhcmFtc1wiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGIsZixnKXt2YXIgaD1nO2cuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsZnVuY3Rpb24oYSl7IWEudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSYmZChhLnRhcmdldFNjb3BlLiRpZCxoLiRpZCkmJihoPWEudGFyZ2V0U2NvcGUpfSk7dmFyIGk9ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnR8fCgvXiguKylcXC5bXi5dKyQvLmV4ZWMoYS5uYW1lKXx8W10pWzFdLGM9XCJvYmplY3RcIj09dHlwZW9mIGI7cmV0dXJuIGM/Yi5uYW1lOmJ9LGo9ZnVuY3Rpb24oYyxkKXtmb3IodmFyIGcsaSxqPWUoZCksaz0hMSxsPSExLG09MCxuPWMubGVuZ3RoO24+bTttKz0xKWlmKGNbbV0ubmFtZT09PWouc3RhdGUpcmV0dXJuO2c9Yi5nZXQoai5zdGF0ZSksZy5uY3lCcmVhZGNydW1iJiYoZy5uY3lCcmVhZGNydW1iLmZvcmNlJiYoaz0hMCksZy5uY3lCcmVhZGNydW1iLnNraXAmJihsPSEwKSksZ1tcImFic3RyYWN0XCJdJiYhYS5pbmNsdWRlQWJzdHJhY3QmJiFrfHxsfHwoai5wYXJhbUV4cHImJihpPWguJGV2YWwoai5wYXJhbUV4cHIpKSxnLm5jeUJyZWFkY3J1bWJMaW5rPWIuaHJlZihqLnN0YXRlLGl8fGZ8fHt9KSxjLnVuc2hpZnQoZykpfSxrPWZ1bmN0aW9uKGEpe3ZhciBjPWUoYSksZD1iLmdldChjLnN0YXRlKTtpZihkLm5jeUJyZWFkY3J1bWImJmQubmN5QnJlYWRjcnVtYi5wYXJlbnQpe3ZhciBmPVwiZnVuY3Rpb25cIj09dHlwZW9mIGQubmN5QnJlYWRjcnVtYi5wYXJlbnQsZz1mP2QubmN5QnJlYWRjcnVtYi5wYXJlbnQoaCk6ZC5uY3lCcmVhZGNydW1iLnBhcmVudDtpZihnKXJldHVybiBnfXJldHVybiBpKGQpfTtyZXR1cm57Z2V0VGVtcGxhdGU6ZnVuY3Rpb24oYil7cmV0dXJuIGEudGVtcGxhdGVVcmw/bnVsbDpiW2EudGVtcGxhdGVdP2JbYS50ZW1wbGF0ZV06YS50ZW1wbGF0ZX0sZ2V0VGVtcGxhdGVVcmw6ZnVuY3Rpb24oKXtyZXR1cm4gYS50ZW1wbGF0ZVVybH0sZ2V0U3RhdGVzQ2hhaW46ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPVtdLGU9Yi4kY3VycmVudC5zZWxmLm5hbWU7ZTtlPWsoZSkpaWYoaihkLGUpLGMmJmQubGVuZ3RoKXJldHVybiBkO3JldHVybiBhLnByZWZpeFN0YXRlTmFtZSYmaihkLGEucHJlZml4U3RhdGVOYW1lKSxkfSxnZXRMYXN0U3RlcDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0U3RhdGVzQ2hhaW4oITApO3JldHVybiBhLmxlbmd0aD9hWzBdOmN9LCRnZXRMYXN0Vmlld1Njb3BlOmZ1bmN0aW9uKCl7cmV0dXJuIGh9fX1dfWZ1bmN0aW9uIGcoYSxjLGQpe3ZhciBlPXtib290c3RyYXAyOic8dWwgY2xhc3M9XCJicmVhZGNydW1iXCI+PGxpIG5nLXJlcGVhdD1cInN0ZXAgaW4gc3RlcHNcIiBuZy1zd2l0Y2g9XCIkbGFzdCB8fCAhIXN0ZXAuYWJzdHJhY3RcIiBuZy1jbGFzcz1cInthY3RpdmU6ICRsYXN0fVwiPjxhIG5nLXN3aXRjaC13aGVuPVwiZmFsc2VcIiBocmVmPVwie3tzdGVwLm5jeUJyZWFkY3J1bWJMaW5rfX1cIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L2E+PHNwYW4gbmctc3dpdGNoLXdoZW49XCJ0cnVlXCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9zcGFuPjxzcGFuIGNsYXNzPVwiZGl2aWRlclwiIG5nLWhpZGU9XCIkbGFzdFwiPi88L3NwYW4+PC9saT48L3VsPicsYm9vdHN0cmFwMzonPG9sIGNsYXNzPVwiYnJlYWRjcnVtYlwiPjxsaSBuZy1yZXBlYXQ9XCJzdGVwIGluIHN0ZXBzXCIgbmctY2xhc3M9XCJ7YWN0aXZlOiAkbGFzdH1cIiBuZy1zd2l0Y2g9XCIkbGFzdCB8fCAhIXN0ZXAuYWJzdHJhY3RcIj48YSBuZy1zd2l0Y2gtd2hlbj1cImZhbHNlXCIgaHJlZj1cInt7c3RlcC5uY3lCcmVhZGNydW1iTGlua319XCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9hPjxzcGFuIG5nLXN3aXRjaC13aGVuPVwidHJ1ZVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvc3Bhbj48L2xpPjwvb2w+J307cmV0dXJue3Jlc3RyaWN0OlwiQUVcIixyZXBsYWNlOiEwLHNjb3BlOnt9LHRlbXBsYXRlOmMuZ2V0VGVtcGxhdGUoZSksdGVtcGxhdGVVcmw6Yy5nZXRUZW1wbGF0ZVVybCgpLGxpbms6e3Bvc3Q6ZnVuY3Rpb24oZSl7dmFyIGY9W10sZz1mdW5jdGlvbigpe2woZiksZj1bXTt2YXIgZD1jLiRnZXRMYXN0Vmlld1Njb3BlKCk7ZS5zdGVwcz1jLmdldFN0YXRlc0NoYWluKCksYi5mb3JFYWNoKGUuc3RlcHMsZnVuY3Rpb24oYil7aWYoYi5uY3lCcmVhZGNydW1iJiZiLm5jeUJyZWFkY3J1bWIubGFiZWwpe3ZhciBjPWEoYi5uY3lCcmVhZGNydW1iLmxhYmVsKTtiLm5jeUJyZWFkY3J1bWJMYWJlbD1jKGQpLGsoZixjLGQsYil9ZWxzZSBiLm5jeUJyZWFkY3J1bWJMYWJlbD1iLm5hbWV9KX07ZC4kb24oXCIkdmlld0NvbnRlbnRMb2FkZWRcIixmdW5jdGlvbihhKXthLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmV8fGcoKX0pLGcoKX19fX1mdW5jdGlvbiBoKGEsYixjKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsc2NvcGU6e30sdGVtcGxhdGU6XCJ7e25jeUJyZWFkY3J1bWJMYWJlbH19XCIsY29tcGlsZTpmdW5jdGlvbihkLGUpe3ZhciBmPWQuYXR0cihlLiRhdHRyLm5jeUJyZWFkY3J1bWJMYXN0KTtyZXR1cm4gZiYmZC5odG1sKGYpLHtwb3N0OmZ1bmN0aW9uKGQpe3ZhciBlPVtdLGY9ZnVuY3Rpb24oKXtsKGUpLGU9W107dmFyIGM9Yi4kZ2V0TGFzdFZpZXdTY29wZSgpLGY9Yi5nZXRMYXN0U3RlcCgpO2lmKGYpaWYoZC5uY3lCcmVhZGNydW1iTGluaz1mLm5jeUJyZWFkY3J1bWJMaW5rLGYubmN5QnJlYWRjcnVtYiYmZi5uY3lCcmVhZGNydW1iLmxhYmVsKXt2YXIgZz1hKGYubmN5QnJlYWRjcnVtYi5sYWJlbCk7ZC5uY3lCcmVhZGNydW1iTGFiZWw9ZyhjKSxrKGUsZyxjLGQpfWVsc2UgZC5uY3lCcmVhZGNydW1iTGFiZWw9Zi5uYW1lfTtjLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLGZ1bmN0aW9uKGEpe2EudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZXx8ZigpfSksZigpfX19fX1mdW5jdGlvbiBpKGEsYyxkKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsc2NvcGU6e30sdGVtcGxhdGU6XCJ7e25jeUJyZWFkY3J1bWJDaGFpbn19XCIsY29tcGlsZTpmdW5jdGlvbihlLGYpe3ZhciBnPWUuYXR0cihmLiRhdHRyLm5jeUJyZWFkY3J1bWJUZXh0KTtnJiZlLmh0bWwoZyk7dmFyIGg9ZS5hdHRyKGYuJGF0dHIubmN5QnJlYWRjcnVtYlRleHRTZXBhcmF0b3IpfHxcIiAvIFwiO3JldHVybntwb3N0OmZ1bmN0aW9uKGUpe3ZhciBmPVtdLGc9ZnVuY3Rpb24oYSxjLGQpe2IuZm9yRWFjaChqKGMpLGZ1bmN0aW9uKGIpe3ZhciBjPWQuJHdhdGNoKGIsZnVuY3Rpb24oYSxiKXthIT09YiYmaSgpfSk7YS5wdXNoKGMpfSl9LGk9ZnVuY3Rpb24oKXtsKGYpLGY9W107dmFyIGQ9Yy4kZ2V0TGFzdFZpZXdTY29wZSgpLGk9Yy5nZXRTdGF0ZXNDaGFpbigpLGo9W107Yi5mb3JFYWNoKGksZnVuY3Rpb24oYil7aWYoYi5uY3lCcmVhZGNydW1iJiZiLm5jeUJyZWFkY3J1bWIubGFiZWwpe3ZhciBjPWEoYi5uY3lCcmVhZGNydW1iLmxhYmVsKTtqLnB1c2goYyhkKSksZyhmLGMsZCl9ZWxzZSBqLnB1c2goYi5uYW1lKX0pLGUubmN5QnJlYWRjcnVtYkNoYWluPWouam9pbihoKX07ZC4kb24oXCIkdmlld0NvbnRlbnRMb2FkZWRcIixmdW5jdGlvbihhKXthLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmV8fGkoKX0pLGkoKX19fX19dmFyIGo9ZnVuY3Rpb24oYSl7aWYoYS5leHByZXNzaW9ucylyZXR1cm4gYS5leHByZXNzaW9uczt2YXIgYz1bXTtyZXR1cm4gYi5mb3JFYWNoKGEucGFydHMsZnVuY3Rpb24oYSl7Yi5pc0Z1bmN0aW9uKGEpJiZjLnB1c2goYS5leHApfSksY30saz1mdW5jdGlvbihhLGMsZCxlKXtiLmZvckVhY2goaihjKSxmdW5jdGlvbihiKXt2YXIgZj1kLiR3YXRjaChiLGZ1bmN0aW9uKCl7ZS5uY3lCcmVhZGNydW1iTGFiZWw9YyhkKX0pO2EucHVzaChmKX0pfSxsPWZ1bmN0aW9uKGEpe2IuZm9yRWFjaChhLGZ1bmN0aW9uKGEpe2EoKX0pfTtnLiRpbmplY3Q9W1wiJGludGVycG9sYXRlXCIsXCIkYnJlYWRjcnVtYlwiLFwiJHJvb3RTY29wZVwiXSxoLiRpbmplY3Q9W1wiJGludGVycG9sYXRlXCIsXCIkYnJlYWRjcnVtYlwiLFwiJHJvb3RTY29wZVwiXSxpLiRpbmplY3Q9W1wiJGludGVycG9sYXRlXCIsXCIkYnJlYWRjcnVtYlwiLFwiJHJvb3RTY29wZVwiXSxiLm1vZHVsZShcIm5jeS1hbmd1bGFyLWJyZWFkY3J1bWJcIixbXCJ1aS5yb3V0ZXIuc3RhdGVcIl0pLnByb3ZpZGVyKFwiJGJyZWFkY3J1bWJcIixmKS5kaXJlY3RpdmUoXCJuY3lCcmVhZGNydW1iXCIsZykuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYkxhc3RcIixoKS5kaXJlY3RpdmUoXCJuY3lCcmVhZGNydW1iVGV4dFwiLGkpfSh3aW5kb3csd2luZG93LmFuZ3VsYXIpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL2NvbXBvbmVudHMvYW5ndWxhckJyZWFkY3J1bWIvYW5ndWxhckJyZWFkY3J1bWIuanNcbiAqKi8iLCIgIGltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuKGZ1bmN0aW9uIChtb21lbnQpIHtcbiAgXG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIG1vZHVsZU5hbWUgPSBcIm5nTWF0ZXJpYWxEYXRlUGlja2VyXCI7XG5cbiAgdmFyIFZJRVdfU1RBVEVTID0ge1xuICAgIERBVEU6IDAsXG4gICAgSE9VUjogMSxcbiAgICBNSU5VVEU6IDJcbiAgfTtcblxuICB2YXIgY3NzID0gZnVuY3Rpb24gKGVsLCBuYW1lKSB7XG4gICAgaWYgKCdqUXVlcnknIGluIHdpbmRvdykge1xuICAgICAgcmV0dXJuIGpRdWVyeShlbCkuY3NzKG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbCA9IGFuZ3VsYXIuZWxlbWVudChlbCk7XG4gICAgICByZXR1cm4gKCdnZXRDb21wdXRlZFN0eWxlJyBpbiB3aW5kb3cpID8gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxbMF0pW25hbWVdIDogZWwuY3NzKG5hbWUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdGVtcGxhdGUgPSAnPG1kLWRpYWxvZyBjbGFzcz1cImR0cFwiIGxheW91dD1cImNvbHVtblwiIHN0eWxlPVwid2lkdGg6IDMwMHB4O1wiPidcbiAgICArICcgICAgPG1kLWRpYWxvZy1jb250ZW50IGNsYXNzPVwiZHRwLWNvbnRlbnRcIj4nXG4gICAgKyAnICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWRhdGUtdmlld1wiPidcbiAgICArICcgICAgICAgICAgICA8aGVhZGVyIGNsYXNzPVwiZHRwLWhlYWRlclwiPidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtZGF5XCIgbmctc2hvdz1cInBpY2tlci5kYXRlTW9kZVwiPnt7cGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcImRkZGRcIil9fTwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtZGF5XCIgbmctc2hvdz1cInBpY2tlci50aW1lTW9kZVwiPnt7cGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBwaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiQVwiKSA6IFwiIFwifX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtY2xvc2UgdGV4dC1yaWdodFwiPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIG5nLWNsaWNrPVwicGlja2VyLmhpZGUoKVwiPiZ0aW1lczs8L2E+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgPC9oZWFkZXI+J1xuICAgICsgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtZGF0ZVwiIG5nLXNob3c9XCJwaWNrZXIucGFyYW1zLmRhdGVcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgbGF5b3V0PVwiY29sdW1uXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbW9udGhcIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJNTU1cIikgfCB1cHBlcmNhc2V9fTwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1udW1cIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJERFwiKX19PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGxheW91dD1cInJvd1wiPidcbiAgICArICcgPGRpdiBuZy1jbGljaz1cInBpY2tlci5pbmNyZW1lbnRZZWFyKC0xKVwiIGNsYXNzPVwiZHRwLXllYXItYnRuIGR0cC15ZWFyLWJ0bi1wcmV2XCIgZmxleD1cIjMwXCI+PHNwYW4gbmctaWY9XCJwaWNrZXIuaXNQcmV2aW91c1llYXJWaXNpYmxlKClcIiA+JiN4MjVCMjs8L3NwYW4+PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwteWVhclwiIGZsZXg+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiWVlZWVwiKX19PC9kaXY+J1xuICAgICsgJyA8ZGl2IG5nLWNsaWNrPVwicGlja2VyLmluY3JlbWVudFllYXIoMSlcIiBjbGFzcz1cImR0cC15ZWFyLWJ0biBkdHAteWVhci1idG4tbmV4dFwiIGZsZXg9XCIzMFwiPjxzcGFuIG5nLWlmPVwicGlja2VyLmlzTmV4dFllYXJWaXNpYmxlKClcIiA+JiN4MjVCQzs8L3NwYW4+PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgPC9kaXY+Jy8vc3RhcnQgdGltZVxuICAgICsgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtdGltZVwiIG5nLXNob3c9XCJwaWNrZXIucGFyYW1zLnRpbWUgJiYgIXBpY2tlci5wYXJhbXMuZGF0ZVwiPidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbWF4dGltZVwiPnt7cGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpLmZvcm1hdChwaWNrZXIucGFyYW1zLnNob3J0VGltZSA/IFwiaGg6bW1cIiA6IFwiSEg6bW1cIil9fTwvZGl2PidcbiAgICArICcgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1waWNrZXJcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxtZGMtZGF0ZXRpbWUtcGlja2VyLWNhbGVuZGFyIGRhdGU9XCJwaWNrZXIuY3VycmVudERhdGVcIiBwaWNrZXI9XCJwaWNrZXJcIiBjbGFzcz1cImR0cC1waWNrZXItY2FsZW5kYXJcIiBuZy1zaG93PVwicGlja2VyLmN1cnJlbnRWaWV3ID09PSBwaWNrZXIuVklFV1MuREFURVwiPjwvbWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhcj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtcGlja2VyLWRhdGV0aW1lXCIgbmctc2hvdz1cInBpY2tlci5jdXJyZW50VmlldyAhPT0gcGlja2VyLlZJRVdTLkRBVEVcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1tZXJpZGllblwiPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVmdCBwMjBcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIGNsYXNzPVwiZHRwLW1lcmlkaWVuLWFtXCIgbmctY2xhc3M9XCJ7c2VsZWN0ZWQ6IHBpY2tlci5tZXJpZGllbiA9PSBcXCdBTVxcJ31cIiBuZy1jbGljaz1cInBpY2tlci5zZWxlY3RBTSgpXCI+e3twaWNrZXIucGFyYW1zLmFtVGV4dH19PC9hPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1zaG93PVwiIXBpY2tlci50aW1lTW9kZVwiIGNsYXNzPVwiZHRwLWFjdHVhbC10aW1lIHA2MFwiPnt7cGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpLmZvcm1hdChwaWNrZXIucGFyYW1zLnNob3J0VGltZSA/IFwiaGg6bW1cIiA6IFwiSEg6bW1cIil9fTwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQgcDIwXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImR0cC1tZXJpZGllbi1wbVwiIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwaWNrZXIubWVyaWRpZW4gPT0gXFwnUE1cXCd9XCIgbmctY2xpY2s9XCJwaWNrZXIuc2VsZWN0UE0oKVwiPnt7cGlja2VyLnBhcmFtcy5wbVRleHR9fTwvYT4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDxtZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrIG1vZGU9XCJob3Vyc1wiIG5nLWlmPVwicGlja2VyLmN1cnJlbnRWaWV3ID09PSBwaWNrZXIuVklFV1MuSE9VUlwiPjwvbWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jaz4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jayBtb2RlPVwibWludXRlc1wiIG5nLWlmPVwicGlja2VyLmN1cnJlbnRWaWV3ID09PSBwaWNrZXIuVklFV1MuTUlOVVRFXCI+PC9tZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrPidcbiAgICArICcgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgPC9tZC1kaWFsb2ctY29udGVudD4nXG4gICAgKyAnICAgIDxtZC1kaWFsb2ctYWN0aW9ucyBjbGFzcz1cImR0cC1idXR0b25zXCI+J1xuICAgICsgJyAgICAgICAgICAgIDxtZC1idXR0b24gY2xhc3M9XCJkdHAtYnRuLWNhbmNlbCBtZC1idXR0b25cIiBuZy1jbGljaz1cInBpY2tlci5jYW5jZWwoKVwiPiB7e3BpY2tlci5wYXJhbXMuY2FuY2VsVGV4dH19PC9tZC1idXR0b24+J1xuICAgICsgJyAgICAgICAgICAgIDxtZC1idXR0b24gY2xhc3M9XCJkdHAtYnRuLW9rIG1kLWJ1dHRvblwiIG5nLWNsaWNrPVwicGlja2VyLm9rKClcIj4ge3twaWNrZXIucGFyYW1zLm9rVGV4dH19PC9tZC1idXR0b24+J1xuICAgICsgJyAgICAgIDwvbWQtZGlhbG9nLWFjdGlvbnM+J1xuICAgICsgJzwvbWQtZGlhbG9nPic7XG4gIFxuXG4gIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUsIFsnbmdNYXRlcmlhbCddKVxuICAgIC5wcm92aWRlcignbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5sb2NhbGUgPSAnZW4nO1xuXG4gICAgICB0aGlzLiRnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuc2V0RGVmYXVsdExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGVTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5sb2NhbGUgPSBsb2NhbGVTdHJpbmc7XG4gICAgICB9O1xuICAgIH0pXG4gICAgLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXInLCBbJyRtZERpYWxvZycsXG4gICAgICBmdW5jdGlvbiAoJG1kRGlhbG9nKSB7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgY3VycmVudERhdGU6ICc9bmdNb2RlbCcsXG4gICAgICAgICAgICB0aW1lOiAnPScsXG4gICAgICAgICAgICBkYXRlOiAnPScsXG4gICAgICAgICAgICBtaW5EYXRlOiAnPScsXG4gICAgICAgICAgICBtYXhEYXRlOiAnPScsXG4gICAgICAgICAgICBzaG9ydFRpbWU6ICc9JyxcbiAgICAgICAgICAgIGZvcm1hdDogJ0AnLFxuICAgICAgICAgICAgY2FuY2VsVGV4dDogJ0AnLFxuICAgICAgICAgICAgb2tUZXh0OiAnQCcsXG4gICAgICAgICAgICBsYW5nOiAnQCcsXG4gICAgICAgICAgICBhbVRleHQ6ICdAJyxcbiAgICAgICAgICAgIHBtVGV4dDogJ0AnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG4gICAgICAgICAgICB2YXIgaXNPbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKCFzY29wZS5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgaWYgKHNjb3BlLmRhdGUgJiYgc2NvcGUudGltZSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcm1hdCA9ICdZWVlZLU1NLUREIEhIOm1tOnNzJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzY29wZS5kYXRlKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ1lZWVktTU0tREQnO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcm1hdCA9ICdISDptbSc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoc2NvcGUuY3VycmVudERhdGUpICYmIHNjb3BlLmN1cnJlbnREYXRlICE9PSAnJykge1xuICAgICAgICAgICAgICBzY29wZS5jdXJyZW50RGF0ZSA9IG1vbWVudChzY29wZS5jdXJyZW50RGF0ZSwgc2NvcGUuZm9ybWF0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5nTW9kZWwpIHtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBtID0gbW9tZW50KHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbS5pc1ZhbGlkKCkgPyBtLmZvcm1hdChzY29wZS5mb3JtYXQpIDogJyc7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbGVtZW50LmF0dHIoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgICAgICAgLy9AVE9ETyBjdXN0b20gZXZlbnQgdG8gdHJpZ2dlciBpbnB1dFxuICAgICAgICAgICAgZWxlbWVudC5vbignZm9jdXMnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGVsZW1lbnQuYmx1cigpO1xuICAgICAgICAgICAgICBpZiAoaXNPbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpc09uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgIGlmIChzY29wZS5oYXNPd25Qcm9wZXJ0eShpKSAmJiAhYW5ndWxhci5pc1VuZGVmaW5lZChzY29wZVtpXSkpIHtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnNbaV0gPSBzY29wZVtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3B0aW9ucy5jdXJyZW50RGF0ZSA9IHNjb3BlLmN1cnJlbnREYXRlO1xuICAgICAgICAgICAgICB2YXIgbG9jYWxzID0ge29wdGlvbnM6IG9wdGlvbnN9O1xuICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBQbHVnaW5Db250cm9sbGVyLFxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncGlja2VyJyxcbiAgICAgICAgICAgICAgICAgIGxvY2FsczogbG9jYWxzLFxuICAgICAgICAgICAgICAgICAgb3BlbkZyb206IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcbiAgICAgICAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlUGFyZW50U2Nyb2xsOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLmN1cnJlbnREYXRlID0gdiA/IHYuX2QgOiB2O1xuICAgICAgICAgICAgICAgICAgaXNPbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIGlzT24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XSlcbiAgO1xuXG4gIHZhciBQbHVnaW5Db250cm9sbGVyID0gZnVuY3Rpb24gKCRzY29wZSwgJG1kRGlhbG9nLCBtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUpIHtcbiAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuREFURTtcbiAgICB0aGlzLl9kaWFsb2cgPSAkbWREaWFsb2c7XG5cbiAgICB0aGlzLm1pbkRhdGU7XG4gICAgdGhpcy5tYXhEYXRlO1xuXG4gICAgdGhpcy5fYXR0YWNoZWRFdmVudHMgPSBbXTtcbiAgICB0aGlzLlZJRVdTID0gVklFV19TVEFURVM7XG5cbiAgICB0aGlzLnBhcmFtcyA9IHtcbiAgICAgIGRhdGU6IHRydWUsXG4gICAgICB0aW1lOiB0cnVlLFxuICAgICAgZm9ybWF0OiAnWVlZWS1NTS1ERCcsXG4gICAgICBtaW5EYXRlOiBudWxsLFxuICAgICAgbWF4RGF0ZTogbnVsbCxcbiAgICAgIGN1cnJlbnREYXRlOiBudWxsLFxuICAgICAgbGFuZzogbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlLFxuICAgICAgd2Vla1N0YXJ0OiAwLFxuICAgICAgc2hvcnRUaW1lOiBmYWxzZSxcbiAgICAgIGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxuICAgICAgb2tUZXh0OiAnT0snLFxuICAgICAgYW1UZXh0OiAnQU0nLFxuICAgICAgcG1UZXh0OiAnUE0nXG4gICAgfTtcblxuICAgIHRoaXMubWVyaWRpZW4gPSAnQU0nO1xuICAgIHRoaXMucGFyYW1zID0gYW5ndWxhci5leHRlbmQodGhpcy5wYXJhbXMsIHRoaXMub3B0aW9ucyk7XG4gICAgdGhpcy5pbml0KCk7XG4gIH07XG4gIFBsdWdpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRtZERpYWxvZycsICdtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUnXTtcbiAgUGx1Z2luQ29udHJvbGxlci5wcm90b3R5cGUgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50aW1lTW9kZSA9IHRoaXMucGFyYW1zLnRpbWUgJiYgIXRoaXMucGFyYW1zLmRhdGU7XG4gICAgICB0aGlzLmRhdGVNb2RlID0gdGhpcy5wYXJhbXMuZGF0ZTtcbiAgICAgIHRoaXMuaW5pdERhdGVzKCk7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfSxcbiAgICBjdXJyZW50TmVhcmVzdDVNaW51dGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkYXRlID0gdGhpcy5jdXJyZW50RGF0ZSB8fCBtb21lbnQoKTtcbiAgICAgIHZhciBtaW51dGVzID0gKDUgKiBNYXRoLnJvdW5kKGRhdGUubWludXRlKCkgLyA1KSk7XG4gICAgICBpZiAobWludXRlcyA+PSA2MCkge1xuICAgICAgICBtaW51dGVzID0gNTU7IC8vYWx3YXlzIHB1c2ggZG93blxuICAgICAgfVxuICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS5taW51dGVzKG1pbnV0ZXMpO1xuICAgIH0sXG4gICAgaW5pdERhdGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICB2YXIgX2RhdGVQYXJhbSA9IGZ1bmN0aW9uIChpbnB1dCwgZmFsbGJhY2spIHtcbiAgICAgICAgdmFyIHJldCA9IG51bGw7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnB1dCkgJiYgaW5wdXQgIT09IG51bGwgJiYgaW5wdXQgIT09ICcnKSB7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoaW5wdXQpKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mKHRoYXQucGFyYW1zLmZvcm1hdCkgIT09ICd1bmRlZmluZWQnICYmIHRoYXQucGFyYW1zLmZvcm1hdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXQgPSBtb21lbnQoaW5wdXQsIHRoYXQucGFyYW1zLmZvcm1hdCkubG9jYWxlKHRoYXQucGFyYW1zLmxhbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHJldCA9IG1vbWVudChpbnB1dCkubG9jYWxlKHRoYXQucGFyYW1zLmxhbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgICAgICAgdmFyIHggPSBpbnB1dC5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgIHJldCA9IG1vbWVudCh4LCBcInhcIikubG9jYWxlKHRoYXQucGFyYW1zLmxhbmcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5faXNBTW9tZW50T2JqZWN0KSB7XG4gICAgICAgICAgICAgIHJldCA9IGlucHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXQgPSBmYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfTtcblxuICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IF9kYXRlUGFyYW0odGhpcy5wYXJhbXMuY3VycmVudERhdGUsIG1vbWVudCgpKTtcbiAgICAgIHRoaXMubWluRGF0ZSA9IF9kYXRlUGFyYW0odGhpcy5wYXJhbXMubWluRGF0ZSk7XG4gICAgICB0aGlzLm1heERhdGUgPSBfZGF0ZVBhcmFtKHRoaXMucGFyYW1zLm1heERhdGUpO1xuICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUpO1xuICAgIH0sXG4gICAgaW5pdERhdGU6IGZ1bmN0aW9uIChkKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuREFURTtcbiAgICB9LFxuICAgIGluaXRIb3VyczogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkhPVVI7XG4gICAgfSxcbiAgICBpbml0TWludXRlczogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLk1JTlVURTtcbiAgICB9LFxuICAgIGlzQWZ0ZXJNaW5EYXRlOiBmdW5jdGlvbiAoZGF0ZSwgY2hlY2tIb3VyLCBjaGVja01pbnV0ZSkge1xuICAgICAgdmFyIF9yZXR1cm4gPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mKHRoaXMubWluRGF0ZSkgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubWluRGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgX21pbkRhdGUgPSBtb21lbnQodGhpcy5taW5EYXRlKTtcbiAgICAgICAgdmFyIF9kYXRlID0gbW9tZW50KGRhdGUpO1xuXG4gICAgICAgIGlmICghY2hlY2tIb3VyICYmICFjaGVja01pbnV0ZSkge1xuICAgICAgICAgIF9taW5EYXRlLmhvdXIoMCk7XG4gICAgICAgICAgX21pbkRhdGUubWludXRlKDApO1xuXG4gICAgICAgICAgX2RhdGUuaG91cigwKTtcbiAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG4gICAgICAgIH1cblxuICAgICAgICBfbWluRGF0ZS5zZWNvbmQoMCk7XG4gICAgICAgIF9kYXRlLnNlY29uZCgwKTtcbiAgICAgICAgX21pbkRhdGUubWlsbGlzZWNvbmQoMCk7XG4gICAgICAgIF9kYXRlLm1pbGxpc2Vjb25kKDApO1xuXG4gICAgICAgIGlmICghY2hlY2tNaW51dGUpIHtcbiAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG4gICAgICAgICAgX21pbkRhdGUubWludXRlKDApO1xuXG4gICAgICAgICAgX3JldHVybiA9IChwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA+PSBwYXJzZUludChfbWluRGF0ZS5mb3JtYXQoXCJYXCIpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgX3JldHVybiA9IChwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA+PSBwYXJzZUludChfbWluRGF0ZS5mb3JtYXQoXCJYXCIpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZXR1cm47XG4gICAgfSxcbiAgICBpc0JlZm9yZU1heERhdGU6IGZ1bmN0aW9uIChkYXRlLCBjaGVja1RpbWUsIGNoZWNrTWludXRlKSB7XG4gICAgICB2YXIgX3JldHVybiA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YodGhpcy5tYXhEYXRlKSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5tYXhEYXRlICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBfbWF4RGF0ZSA9IG1vbWVudCh0aGlzLm1heERhdGUpO1xuICAgICAgICB2YXIgX2RhdGUgPSBtb21lbnQoZGF0ZSk7XG5cbiAgICAgICAgaWYgKCFjaGVja1RpbWUgJiYgIWNoZWNrTWludXRlKSB7XG4gICAgICAgICAgX21heERhdGUuaG91cigwKTtcbiAgICAgICAgICBfbWF4RGF0ZS5taW51dGUoMCk7XG5cbiAgICAgICAgICBfZGF0ZS5ob3VyKDApO1xuICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9tYXhEYXRlLnNlY29uZCgwKTtcbiAgICAgICAgX2RhdGUuc2Vjb25kKDApO1xuICAgICAgICBfbWF4RGF0ZS5taWxsaXNlY29uZCgwKTtcbiAgICAgICAgX2RhdGUubWlsbGlzZWNvbmQoMCk7XG5cbiAgICAgICAgaWYgKCFjaGVja01pbnV0ZSkge1xuICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcbiAgICAgICAgICBfbWF4RGF0ZS5taW51dGUoMCk7XG5cbiAgICAgICAgICBfcmV0dXJuID0gKHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpIDw9IHBhcnNlSW50KF9tYXhEYXRlLmZvcm1hdChcIlhcIikpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBfcmV0dXJuID0gKHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpIDw9IHBhcnNlSW50KF9tYXhEYXRlLmZvcm1hdChcIlhcIikpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JldHVybjtcbiAgICB9LFxuICAgIHNlbGVjdERhdGU6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICBpZiAoZGF0ZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KGRhdGUpO1xuICAgICAgICBpZiAoIXRoaXMuaXNBZnRlck1pbkRhdGUodGhpcy5jdXJyZW50RGF0ZSkpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KHRoaXMubWluRGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuaXNCZWZvcmVNYXhEYXRlKHRoaXMuY3VycmVudERhdGUpKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG1vbWVudCh0aGlzLm1heERhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudERhdGUubG9jYWxlKHRoaXMucGFyYW1zLmxhbmcpO1xuICAgICAgICB0aGlzLmNhbGVuZGFyU3RhcnQgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG4gICAgICAgIHRoaXMubWVyaWRpZW4gPSB0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSA+PSAxMiA/ICdQTScgOiAnQU0nO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0TmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRleHQgPSBcIlwiO1xuICAgICAgdmFyIHBvc3NpYmxlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfSxcbiAgICBpc1BNOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tZXJpZGllbiA9PT0gJ1BNJztcbiAgICB9LFxuICAgIGluY3JlbWVudFllYXI6IGZ1bmN0aW9uIChhbW91bnQpIHtcbiAgICAgIGlmIChhbW91bnQgPT09IDEgJiYgdGhpcy5pc05leHRZZWFyVmlzaWJsZSgpKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmFkZCgneWVhcicsIGFtb3VudCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYW1vdW50ID09PSAtMSAmJiB0aGlzLmlzUHJldmlvdXNZZWFyVmlzaWJsZSgpKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmFkZCgneWVhcicsIGFtb3VudCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXNQcmV2aW91c01vbnRoVmlzaWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLnN0YXJ0T2YoJ21vbnRoJyksIGZhbHNlLCBmYWxzZSk7XG4gICAgfSxcbiAgICBpc05leHRNb250aFZpc2libGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuZW5kT2YoJ21vbnRoJyksIGZhbHNlLCBmYWxzZSk7XG4gICAgfSxcbiAgICBpc1ByZXZpb3VzWWVhclZpc2libGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0FmdGVyTWluRGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5zdGFydE9mKCd5ZWFyJyksIGZhbHNlLCBmYWxzZSk7XG4gICAgfSxcbiAgICBpc05leHRZZWFyVmlzaWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5lbmRPZigneWVhcicpLCBmYWxzZSwgZmFsc2UpO1xuICAgIH0sXG4gICAgaXNIb3VyQXZhaWxhYmxlOiBmdW5jdGlvbiAoaG91cikge1xuICAgICAgdmFyIF9kYXRlID0gbW9tZW50KHRoaXMuY3VycmVudERhdGUpO1xuICAgICAgX2RhdGUuaG91cih0aGlzLmNvbnZlcnRIb3Vycyhob3VyKSkubWludXRlKDApLnNlY29uZCgwKTtcbiAgICAgIHJldHVybiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKF9kYXRlLCB0cnVlLCBmYWxzZSkgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUoX2RhdGUsIHRydWUsIGZhbHNlKTtcbiAgICB9LFxuICAgIGlzTWludXRlQXZhaWxhYmxlOiBmdW5jdGlvbiAobWludXRlKSB7XG4gICAgICB2YXIgX2RhdGUgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG4gICAgICBfZGF0ZS5taW51dGUobWludXRlKS5zZWNvbmQoMCk7XG4gICAgICByZXR1cm4gdGhpcy5pc0FmdGVyTWluRGF0ZShfZGF0ZSwgdHJ1ZSwgdHJ1ZSkgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUoX2RhdGUsIHRydWUsIHRydWUpO1xuICAgIH0sXG4gICAgc3RhcnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5EQVRFO1xuICAgICAgLy90aGlzLmluaXREYXRlcygpO1xuICAgICAgaWYgKHRoaXMucGFyYW1zLmRhdGUpIHtcbiAgICAgICAgdGhpcy5pbml0RGF0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUpIHtcbiAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBvazogZnVuY3Rpb24gKCkge1xuICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRWaWV3KSB7XG4gICAgICAgIGNhc2UgVklFV19TVEFURVMuREFURTpcbiAgICAgICAgICBpZiAodGhpcy5wYXJhbXMudGltZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5pbml0SG91cnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLkhPVVI6XG4gICAgICAgICAgdGhpcy5pbml0TWludXRlcygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLk1JTlVURTpcbiAgICAgICAgICB0aGlzLmhpZGUodHJ1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnBhcmFtcy50aW1lKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50Vmlldykge1xuICAgICAgICAgIGNhc2UgVklFV19TVEFURVMuREFURTpcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5IT1VSOlxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLmRhdGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5pbml0RGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5NSU5VVEU6XG4gICAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdE1vbnRoQmVmb3JlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuc3VidHJhY3QoMSwgJ21vbnRocycpO1xuICAgIH0sXG4gICAgc2VsZWN0TW9udGhBZnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LmFkZCgxLCAnbW9udGhzJyk7XG4gICAgfSxcbiAgICBzZWxlY3RZZWFyQmVmb3JlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuc3VidHJhY3QoMSwgJ3llYXJzJyk7XG4gICAgfSxcbiAgICBzZWxlY3RZZWFyQWZ0ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5hZGQoMSwgJ3llYXJzJyk7XG4gICAgfSxcbiAgICBzZWxlY3RBTTogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuaXNIb3VyQXZhaWxhYmxlKDApIHx8IHRoaXMuaXNIb3VyQXZhaWxhYmxlKDEyKSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkgPj0gMTIpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5zdWJ0cmFjdCgxMiwgJ2hvdXJzJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0hvdXJBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkpKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuaG91cih0aGlzLm1pbkRhdGUuaG91cigpKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzTWludXRlQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUubWludXRlKCkpKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUubWludXRlKHRoaXMubWluRGF0ZS5taW51dGUoKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBzZWxlY3RQTTogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuaXNIb3VyQXZhaWxhYmxlKDEzKSB8fCB0aGlzLmlzSG91ckF2YWlsYWJsZSgyNCkpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudERhdGUuaG91cigpIDwgMTIpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5hZGQoMTIsICdob3VycycpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNIb3VyQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUuaG91cigpKSkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIodGhpcy5tYXhEYXRlLmhvdXIoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc01pbnV0ZUF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSgpKSkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSh0aGlzLm1heERhdGUubWludXRlKCkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY29udmVydEhvdXJzOiBmdW5jdGlvbiAoaCkge1xuICAgICAgdmFyIF9yZXR1cm4gPSBoO1xuICAgICAgaWYgKChoIDwgMTIpICYmIHRoaXMuaXNQTSgpKVxuICAgICAgICBfcmV0dXJuICs9IDEyO1xuXG4gICAgICByZXR1cm4gX3JldHVybjtcbiAgICB9LFxuICAgIGhpZGU6IGZ1bmN0aW9uIChva0J0bikge1xuICAgICAgaWYgKG9rQnRuKSB7XG4gICAgICAgIHRoaXMuX2RpYWxvZy5oaWRlKHRoaXMuY3VycmVudERhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZGlhbG9nLmNhbmNlbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuXG4gIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpXG4gICAgLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDYWxlbmRhcicsIFtcbiAgICAgIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgc3RhcnREYXRlID0gbW9tZW50KCksXG4gICAgICAgICAgWUVBUl9NSU4gPSAxOTAwLFxuICAgICAgICAgIFlFQVJfTUFYID0gMjEwMCxcbiAgICAgICAgICBNT05USFNfSU5fQUxMID0gKFlFQVJfTUFYIC0gWUVBUl9NSU4gKyAxKSAqIDEyLFxuICAgICAgICAgIElURU1fSEVJR0hUID0gMjQwLFxuICAgICAgICAgIE1PTlRIUyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1PTlRIU19JTl9BTEw7IGkrKykge1xuICAgICAgICAgIE1PTlRIUy5wdXNoKGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRNb250aEluZGV4ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICB2YXIgeWVhciA9IGRhdGUueWVhcigpO1xuICAgICAgICAgIHZhciBtb250aCA9IGRhdGUubW9udGgoKTtcbiAgICAgICAgICByZXR1cm4gKCh5ZWFyIC0gWUVBUl9NSU4pICogMTIpICsgbW9udGggLSAxO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgcGlja2VyOiAnPScsXG4gICAgICAgICAgICBkYXRlOiAnPSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgICAgY29udHJvbGxlckFzOiAnY2FsJyxcbiAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsXG4gICAgICAgICAgICBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICAgICAgICAgICAgIHZhciBjYWxlbmRhciA9IHRoaXMsXG4gICAgICAgICAgICAgICAgcGlja2VyID0gdGhpcy5waWNrZXIsXG4gICAgICAgICAgICAgICAgZGF5cyA9IFtdO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSBwaWNrZXIucGFyYW1zLndlZWtTdGFydDsgZGF5cy5sZW5ndGggPCA3OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDYpIHtcbiAgICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkYXlzLnB1c2goaS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLndlZWsgPSBkYXlzO1xuICAgICAgICAgICAgICBpZiAoIXBpY2tlci5tYXhEYXRlICYmICFwaWNrZXIubWluRGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhbGVuZGFyLm1vbnRocyA9IE1PTlRIUztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbG93ID0gcGlja2VyLm1pbkRhdGUgPyBjdXJyZW50TW9udGhJbmRleChwaWNrZXIubWluRGF0ZSkgOiAwO1xuICAgICAgICAgICAgICAgIHZhciBoaWdoID0gcGlja2VyLm1heERhdGUgPyAoY3VycmVudE1vbnRoSW5kZXgocGlja2VyLm1heERhdGUpICsgMSkgOiBNT05USFNfSU5fQUxMO1xuICAgICAgICAgICAgICAgIGNhbGVuZGFyLm1vbnRocyA9IE1PTlRIUy5zbGljZShsb3csIGhpZ2gpO1xuICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICBjYWxlbmRhci5nZXRJdGVtQXRJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBtb250aCA9ICgoaW5kZXggKyAxKSAlIDEyKSB8fCAxMjtcbiAgICAgICAgICAgICAgICB2YXIgeWVhciA9IFlFQVJfTUlOICsgTWF0aC5mbG9vcihpbmRleCAvIDEyKTtcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhPYmogPSBtb21lbnQocGlja2VyLmN1cnJlbnREYXRlKVxuICAgICAgICAgICAgICAgICAgLnllYXIoeWVhcilcbiAgICAgICAgICAgICAgICAgIC5tb250aChtb250aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlTW9udGhDYWxlbmRhcihtb250aE9iaik7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgY2FsZW5kYXIudG9wSW5kZXggPSBjdXJyZW50TW9udGhJbmRleChwaWNrZXIuY3VycmVudERhdGUpIC0gY2FsZW5kYXIubW9udGhzWzBdO1xuXG4gICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwaWNrZXIuY3VycmVudERhdGUgPyBwaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KCdZWVlZLU1NJykgOiAnJztcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHZhbDIsIHZhbDEpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsMiAhPSB2YWwxKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgbkRhdGUgPSBtb21lbnQodmFsMiwgJ1lZWVktTU0nKTtcbiAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGN1cnJlbnRNb250aEluZGV4KG5EYXRlKTtcbiAgICAgICAgICAgICAgICAgIGlmIChjYWxlbmRhci50b3BJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxlbmRhci50b3BJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgdmFyIGdlbmVyYXRlTW9udGhDYWxlbmRhciA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0ge307XG4gICAgICAgICAgICAgICAgaWYgKGRhdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIG1vbnRoLm5hbWUgPSBkYXRlLmZvcm1hdCgnTU1NTSBZWVlZJyk7XG4gICAgICAgICAgICAgICAgICB2YXIgc3RhcnRPZk1vbnRoID0gbW9tZW50KGRhdGUpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLnN0YXJ0T2YoJ21vbnRoJylcbiAgICAgICAgICAgICAgICAgICAgLmhvdXIoZGF0ZS5ob3VyKCkpXG4gICAgICAgICAgICAgICAgICAgIC5taW51dGUoZGF0ZS5taW51dGUoKSlcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgdmFyIGlOdW1EYXkgPSBzdGFydE9mTW9udGguZm9ybWF0KCdkJyk7XG4gICAgICAgICAgICAgICAgICBtb250aC5kYXlzID0gW107XG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRPZk1vbnRoLmRhdGUoKTsgaSA8PSBzdGFydE9mTW9udGguZGF5c0luTW9udGgoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBzdGFydE9mTW9udGguZGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGlXZWVrID0gY2FsZW5kYXIud2Vlay5pbmRleE9mKGlOdW1EYXkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlXZWVrID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBpV2VlazsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoLmRheXMucHVzaCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbW9udGguZGF5cy5wdXNoKG1vbWVudChzdGFydE9mTW9udGgpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLmRhdGUoaSkpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICB2YXIgZGF5c0luQVdlZWsgPSA3LCBkYXlzVG1wID0gW10sIHNsaWNlcyA9IE1hdGguY2VpbChtb250aC5kYXlzLmxlbmd0aCAvIGRheXNJbkFXZWVrKTtcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2xpY2VzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5c1RtcC5wdXNoKG1vbnRoLmRheXMuc2xpY2UoaiAqIGRheXNJbkFXZWVrLCAoaiArIDEpICogZGF5c0luQVdlZWspKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIG1vbnRoLmRheXMgPSBkYXlzVG1wO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLnRvRGF5ID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KHBhcnNlSW50KGkpLCBcImRcIilcbiAgICAgICAgICAgICAgICAgIC5sb2NhbGUocGlja2VyLnBhcmFtcy5sYW5nKVxuICAgICAgICAgICAgICAgICAgLmZvcm1hdChcImRkXCIpXG4gICAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKDAsIDEpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLmlzSW5SYW5nZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlci5pc0FmdGVyTWluRGF0ZShtb21lbnQoZGF0ZSksIGZhbHNlLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICYmIHBpY2tlci5pc0JlZm9yZU1heERhdGUobW9tZW50KGRhdGUpLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLnNlbGVjdERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY2FsZW5kYXIuaXNTZWxlY3RlZERheShkYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGlja2VyLm9rKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBwaWNrZXIuc2VsZWN0RGF0ZShtb21lbnQoZGF0ZSkuaG91cihjYWxlbmRhci5kYXRlLmhvdXIoKSkubWludXRlKGNhbGVuZGFyLmRhdGUubWludXRlKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgY2FsZW5kYXIuaXNTZWxlY3RlZERheSA9IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG0gJiYgY2FsZW5kYXIuZGF0ZS5kYXRlKCkgPT09IG0uZGF0ZSgpICYmIGNhbGVuZGFyLmRhdGUubW9udGgoKSA9PT0gbS5tb250aCgpICYmIGNhbGVuZGFyLmRhdGUueWVhcigpID09PSBtLnllYXIoKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgdGVtcGxhdGU6ICc8bWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyIG1kLXRvcC1pbmRleD1cImNhbC50b3BJbmRleFwiIGNsYXNzPVwibW9udGhzXCI+JyArXG4gICAgICAgICAgJzxkaXYgbWQtdmlydHVhbC1yZXBlYXQ9XCJpZHggaW4gY2FsLm1vbnRoc1wiIG1kLXN0YXJ0LWluZGV4PVwiY2FsLnRvcEluZGV4XCIgbWQtaXRlbS1zaXplPVwiJyArIElURU1fSEVJR0hUICsgJ1wiPicgK1xuICAgICAgICAgICcgICAgIDxkaXYgbWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhci1tb250aCBpZHg9XCJpZHhcIj48L2Rpdj4nICtcbiAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgJzwvbWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyPidcbiAgICAgICAgfTtcbiAgICAgIH1dKVxuICAgIC5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXJNb250aCcsIFsnJGNvbXBpbGUnLFxuICAgICAgZnVuY3Rpb24gKCRjb21waWxlKSB7XG4gICAgICAgIHZhciBidWlsZENhbGVuZGFyQ29udGVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBzY29wZSkge1xuICAgICAgICAgIHZhciB0Ym9keSA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5JykpO1xuICAgICAgICAgIHZhciBjYWxlbmRhciA9IHNjb3BlLmNhbCwgbW9udGggPSBzY29wZS5tb250aDtcbiAgICAgICAgICB0Ym9keS5odG1sKCcnKTtcbiAgICAgICAgICBtb250aC5kYXlzLmZvckVhY2goZnVuY3Rpb24gKHdlZWtEYXlzLCBpKSB7XG4gICAgICAgICAgICB2YXIgdHIgPSBhbmd1bGFyLmVsZW1lbnQoJzx0cj48L3RyPicpO1xuICAgICAgICAgICAgd2Vla0RheXMuZm9yRWFjaChmdW5jdGlvbiAod2Vla0RheSwgaikge1xuICAgICAgICAgICAgICB2YXIgdGQgPSBhbmd1bGFyLmVsZW1lbnQoJzx0ZD4gPC90ZD4nKTtcbiAgICAgICAgICAgICAgaWYgKHdlZWtEYXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYU9yU3BhbjtcbiAgICAgICAgICAgICAgICBpZiAoY2FsZW5kYXIuaXNJblJhbmdlKHdlZWtEYXkpKSB7XG4gICAgICAgICAgICAgICAgICAvL2J1aWxkIGFcbiAgICAgICAgICAgICAgICAgIHZhciBzY29wZVJlZiA9ICdtb250aFtcImRheXNcIl1bJyArIGkgKyAnXVsnICsgaiArICddJztcbiAgICAgICAgICAgICAgICAgIGFPclNwYW4gPSBhbmd1bGFyLmVsZW1lbnQoXCI8YSBocmVmPScjJyBtZGMtZHRwLW5vY2xpY2s+PC9hPlwiKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignbmctY2xhc3MnLCAne3NlbGVjdGVkOiBjYWwuaXNTZWxlY3RlZERheSgnICsgc2NvcGVSZWYgKyAnKX0nKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignbmctY2xpY2snLCAnY2FsLnNlbGVjdERhdGUoJyArIHNjb3BlUmVmICsgJyknKVxuICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBhT3JTcGFuID0gYW5ndWxhci5lbGVtZW50KCc8c3Bhbj48L3NwYW4+JylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYU9yU3BhblxuICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdkdHAtc2VsZWN0LWRheScpXG4gICAgICAgICAgICAgICAgICAuaHRtbCh3ZWVrRGF5LmZvcm1hdCgnRCcpKTtcbiAgICAgICAgICAgICAgICB0ZC5hcHBlbmQoYU9yU3Bhbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdHIuYXBwZW5kKHRkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGJvZHkuYXBwZW5kKHRyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkY29tcGlsZSh0Ym9keSkoc2NvcGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIGlkeDogJz0nXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXF1aXJlOiAnXm1kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXInLFxuICAgICAgICAgIHJlc3RyaWN0OiAnQUUnLFxuICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImR0cC1waWNrZXItbW9udGhcIj57e21vbnRoLm5hbWV9fTwvZGl2PidcbiAgICAgICAgICArICc8dGFibGUgY2xhc3M9XCJ0YWJsZSBkdHAtcGlja2VyLWRheXNcIj4nXG4gICAgICAgICAgKyAnICAgIDx0aGVhZD4nXG4gICAgICAgICAgKyAnICAgIDx0cj4nXG4gICAgICAgICAgKyAnICAgICAgICA8dGggbmctcmVwZWF0PVwiZGF5IGluIGNhbC53ZWVrXCI+e3tjYWwudG9EYXkoZGF5KX19PC90aD4nXG4gICAgICAgICAgKyAnICAgIDwvdHI+J1xuICAgICAgICAgICsgJyAgICA8L3RoZWFkPidcbiAgICAgICAgICArICcgICAgPHRib2R5PidcbiAgICAgICAgICArICcgICAgPC90Ym9keT4nXG4gICAgICAgICAgKyAnPC90YWJsZT4nLFxuICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNhbGVuZGFyKSB7XG4gICAgICAgICAgICBzY29wZS5jYWwgPSBjYWxlbmRhcjtcbiAgICAgICAgICAgIHNjb3BlLm1vbnRoID0gY2FsZW5kYXIuZ2V0SXRlbUF0SW5kZXgocGFyc2VJbnQoc2NvcGUuaWR4KSk7XG4gICAgICAgICAgICBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSk7XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuaWR4O1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGlkeCwgb2xkSWR4KSB7XG4gICAgICAgICAgICAgIGlmIChpZHggIT0gb2xkSWR4KSB7XG4gICAgICAgICAgICAgICAgc2NvcGUubW9udGggPSBjYWxlbmRhci5nZXRJdGVtQXRJbmRleChwYXJzZUludChzY29wZS5pZHgpKTtcbiAgICAgICAgICAgICAgICBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICBdKVxuICA7XG5cbiAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSlcbiAgICAuZGlyZWN0aXZlKCdtZGNEdHBOb2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCkge1xuICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpXG4gICAgLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDbG9jaycsIFtcbiAgICAgIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgdGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cImR0cC1waWNrZXItY2xvY2tcIj48c3BhbiBuZy1pZj1cIiFwb2ludHMgfHwgcG9pbnRzLmxlbmd0aCA8IDFcIj4mbmJzcDs8L3NwYW4+J1xuICAgICAgICAgICsgJzxkaXYgbmctcmVwZWF0PVwicG9pbnQgaW4gcG9pbnRzXCIgY2xhc3M9XCJkdHAtcGlja2VyLXRpbWVcIiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiB7e3BvaW50LmxlZnR9fXB4OyBtYXJnaW4tdG9wOiB7e3BvaW50LnRvcH19cHg7XCI+J1xuICAgICAgICAgICsgJyAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwb2ludC52YWx1ZT09PWN1cnJlbnRWYWx1ZX1cIiBjbGFzcz1cImR0cC1zZWxlY3QtaG91clwiIG5nLWNsaWNrPVwic2V0VGltZShwb2ludC52YWx1ZSlcIiBuZy1pZj1cInBvaW50QXZhaWxhYmxlKHBvaW50KVwiPnt7cG9pbnQuZGlzcGxheX19PC9hPidcbiAgICAgICAgICArICcgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImRpc2FibGVkIGR0cC1zZWxlY3QtaG91clwiIG5nLWlmPVwiIXBvaW50QXZhaWxhYmxlKHBvaW50KVwiPnt7cG9pbnQuZGlzcGxheX19PC9hPidcbiAgICAgICAgICArICc8L2Rpdj4nXG4gICAgICAgICAgKyAnPGRpdiBjbGFzcz1cImR0cC1oYW5kIGR0cC1ob3VyLWhhbmRcIj48L2Rpdj4nXG4gICAgICAgICAgKyAnPGRpdiBjbGFzcz1cImR0cC1oYW5kIGR0cC1taW51dGUtaGFuZFwiPjwvZGl2PidcbiAgICAgICAgICArICc8ZGl2IGNsYXNzPVwiZHRwLWNsb2NrLWNlbnRlclwiPjwvZGl2PidcbiAgICAgICAgICArICc8L2Rpdj4nO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgdmFyIG1pbnV0ZU1vZGUgPSBhdHRycy5tb2RlID09PSAnbWludXRlcyc7XG4gICAgICAgICAgICB2YXIgcGlja2VyID0gc2NvcGUucGlja2VyO1xuICAgICAgICAgICAgLy9iYW5raW5nIG9uIHRoZSBmYWN0IHRoYXQgdGhlcmUgd2lsbCBvbmx5IGJlIG9uZSBhdCBhIHRpbWVcbiAgICAgICAgICAgIHZhciBjb21wb25lbnRSb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWQtZGlhbG9nLmR0cCcpO1xuICAgICAgICAgICAgdmFyIGV4ZWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBjbG9jayA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtcGlja2VyLWNsb2NrJykpLFxuICAgICAgICAgICAgICAgIHBpY2tlckVsID0gYW5ndWxhci5lbGVtZW50KGNvbXBvbmVudFJvb3QucXVlcnlTZWxlY3RvcignLmR0cC1waWNrZXInKSk7XG5cbiAgICAgICAgICAgICAgdmFyIHcgPSBjb21wb25lbnRSb290LnF1ZXJ5U2VsZWN0b3IoJy5kdHAtY29udGVudCcpLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICB2YXIgcGwgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgcHIgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nUmlnaHQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICAgICAgICAgICAgdmFyIG1sID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgbXIgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5SaWdodCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICAvL3NldCB3aWR0aFxuICAgICAgICAgICAgICB2YXIgY2xvY2tXaWR0aCA9ICh3IC0gKG1sICsgbXIgKyBwbCArIHByKSk7XG4gICAgICAgICAgICAgIGNsb2NrLmNzcygnd2lkdGgnLCAoY2xvY2tXaWR0aCkgKyAncHgnKTtcblxuICAgICAgICAgICAgICB2YXIgcEwgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgcFQgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nVG9wJykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG4gICAgICAgICAgICAgIHZhciBtTCA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpbkxlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICAgICAgICAgICAgdmFyIG1UID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luVG9wJykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cbiAgICAgICAgICAgICAgdmFyIHIgPSAoY2xvY2tXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICB2YXIgaiA9IHIgLyAxLjI7IC8vPz8/XG5cbiAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgMTI7ICsraCkge1xuICAgICAgICAgICAgICAgIHZhciB4ID0gaiAqIE1hdGguc2luKE1hdGguUEkgKiAyICogKGggLyAxMikpO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gaiAqIE1hdGguY29zKE1hdGguUEkgKiAyICogKGggLyAxMikpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGhvdXIgPSB7XG4gICAgICAgICAgICAgICAgICBsZWZ0OiAociArIHggKyBwTCAvIDIpIC0gKHBMICsgbUwpLFxuICAgICAgICAgICAgICAgICAgdG9wOiAociAtIHkgLSBtVCAvIDIpIC0gKHBUICsgbVQpLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IChtaW51dGVNb2RlID8gKGggKiA1KSA6IGgpIC8vNSBmb3IgbWludXRlIDYwLzEyXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChtaW51dGVNb2RlKSB7XG4gICAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBob3VyLnZhbHVlIDwgMTAgPyAoJzAnICsgaG91ci52YWx1ZSkgOiBob3VyLnZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChwaWNrZXIucGFyYW1zLnNob3J0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSAoaCA9PT0gMCkgPyAxMiA6IGg7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBwaWNrZXIuaXNQTSgpID8gaCArIDEyIDogaDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGhvdXIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2NvcGUucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICAgICAgICBzZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgY2xvY2suY3NzKCdoZWlnaHQnLCBjbG9ja1dpZHRoICsgJ3B4Jyk7XG4gICAgICAgICAgICAgIC8vcGlja2VyLmluaXRIYW5kcyh0cnVlKTtcblxuICAgICAgICAgICAgICB2YXIgY2xvY2tDZW50ZXIgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtY2xvY2stY2VudGVyJyk7XG4gICAgICAgICAgICAgIHZhciBjZW50ZXJXaWR0aCA9IChjbG9ja0NlbnRlci5vZmZzZXRXaWR0aCAvIDIpIHx8IDcuNSxcbiAgICAgICAgICAgICAgICBjZW50ZXJIZWlnaHQgPSAoY2xvY2tDZW50ZXIub2Zmc2V0SGVpZ2h0IC8gMikgfHwgNy41O1xuICAgICAgICAgICAgICB2YXIgX2hMID0gciAvIDEuODtcbiAgICAgICAgICAgICAgdmFyIF9tTCA9IHIgLyAxLjU7XG5cbiAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1ob3VyLWhhbmQnKSkuY3NzKHtcbiAgICAgICAgICAgICAgICBsZWZ0OiByICsgKG1MICogMS41KSArICdweCcsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBfaEwgKyAncHgnLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogKHIgLSBfaEwgLSBwTCkgKyAncHgnXG4gICAgICAgICAgICAgIH0pLmFkZENsYXNzKCFtaW51dGVNb2RlID8gJ29uJyA6ICcnKTtcblxuICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLmNzc1xuICAgICAgICAgICAgICAoe1xuICAgICAgICAgICAgICAgIGxlZnQ6IHIgKyAobUwgKiAxLjUpICsgJ3B4JyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IF9tTCArICdweCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAociAtIF9tTCAtIHBMKSArICdweCdcbiAgICAgICAgICAgICAgfSkuYWRkQ2xhc3MobWludXRlTW9kZSA/ICdvbicgOiAnJyk7XG5cbiAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGNsb2NrQ2VudGVyKS5jc3Moe1xuICAgICAgICAgICAgICAgIGxlZnQ6IChyICsgcEwgKyBtTCAtIGNlbnRlcldpZHRoKSArICdweCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAociAtIChtTCAvIDIpKSAtIGNlbnRlckhlaWdodCArICdweCdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGFuaW1hdGVIYW5kcygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGFuaW1hdGVIYW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIF9kYXRlID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuICAgICAgICAgICAgICB2YXIgaCA9IF9kYXRlLmhvdXIoKTtcbiAgICAgICAgICAgICAgdmFyIG0gPSBfZGF0ZS5taW51dGUoKTtcblxuICAgICAgICAgICAgICByb3RhdGVFbGVtZW50KGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtaG91ci1oYW5kJykpLCAoMzYwIC8gMTIpICogaCk7XG4gICAgICAgICAgICAgIHZhciBtZGcgPSAoKDM2MCAvIDYwKSAqICg1ICogTWF0aC5yb3VuZChtIC8gNSkpKTtcbiAgICAgICAgICAgICAgcm90YXRlRWxlbWVudChhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLCBtZGcpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHJvdGF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAoZWwsIGRlZykge1xuICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWwpLmNzcyh7XG4gICAgICAgICAgICAgICAgV2Via2l0VHJhbnNmb3JtOiAncm90YXRlKCcgKyBkZWcgKyAnZGVnKScsXG4gICAgICAgICAgICAgICAgJy1tb3otdHJhbnNmb3JtJzogJ3JvdGF0ZSgnICsgZGVnICsgJ2RlZyknXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICB2YXIgc2V0Q3VycmVudFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgZGF0ZSA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcbiAgICAgICAgICAgICAgc2NvcGUuY3VycmVudFZhbHVlID0gbWludXRlTW9kZSA/IGRhdGUubWludXRlKCkgOiAoZGF0ZS5ob3VyKCkgJSAxMik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgdG1wID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gdG1wID8gdG1wLmZvcm1hdCgnSEg6bW0nKSA6ICcnO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKG5ld1ZhbCkge1xuICAgICAgICAgICAgICBzZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgYW5pbWF0ZUhhbmRzKCk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICB2YXIgc2V0RGlzcGxheVBvaW50cyA9IGZ1bmN0aW9uIChpc1BNLCBwb2ludHMpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwb2ludHNbaV0uZGlzcGxheSA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUE0pIHtcbiAgICAgICAgICAgICAgICAgIHBvaW50c1tpXS5kaXNwbGF5ICs9IDEyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCFwaWNrZXIucGFyYW1zLnNob3J0VGltZSkge1xuICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goJ3BpY2tlci5tZXJpZGllbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1pbnV0ZU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5wb2ludHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IHNldERpc3BsYXlQb2ludHMocGlja2VyLmlzUE0oKSwgYW5ndWxhci5jb3B5KHNjb3BlLnBvaW50cykpO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBzY29wZS5zZXRUaW1lID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICBpZiAodmFsID09PSBzY29wZS5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwaWNrZXIub2soKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghbWludXRlTW9kZSkge1xuICAgICAgICAgICAgICAgIHBpY2tlci5jdXJyZW50RGF0ZS5ob3VyKHBpY2tlci5pc1BNKCkgPyAodmFsICsgMTIpIDogdmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwaWNrZXIuY3VycmVudERhdGUubWludXRlKHZhbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGlja2VyLmN1cnJlbnREYXRlLnNlY29uZCgwKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2NvcGUucG9pbnRBdmFpbGFibGUgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1pbnV0ZU1vZGUgPyBwaWNrZXIuaXNNaW51dGVBdmFpbGFibGUocG9pbnQudmFsdWUpIDogcGlja2VyLmlzSG91ckF2YWlsYWJsZShwb2ludC52YWx1ZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdW53YXRjaGVyID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnZGl2JykubGVuZ3RoO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBleGVjKCk7XG4gICAgICAgICAgICAgIHVud2F0Y2hlcigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XSk7XG5cbn0pKG1vbWVudCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NsaWVudC9hcHAvY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2pzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8qXG4gKiBhbmd1bGFyLWdvb2dsZS1wbHVzLWRpcmVjdGl2ZSB2MC4wLjFcbiAqIOKZoSBDb3B5SGVhcnQgMjAxMyBieSBKZXJhZCBCaXRuZXIgaHR0cDovL2plcmFkYml0bmVyLmNvbVxuICogQ29weWluZyBpcyBhbiBhY3Qgb2YgbG92ZS4gUGxlYXNlIGNvcHkuXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ2RpcmVjdGl2ZS5nK3NpZ25pbicsIFtdKS5cbiAgZGlyZWN0aXZlKCdnb29nbGVQbHVzU2lnbmluJywgWyckd2luZG93JywgZnVuY3Rpb24gKCR3aW5kb3cpIHtcbiAgICB2YXIgZW5kaW5nID0gL1xcLmFwcHNcXC5nb29nbGV1c2VyY29udGVudFxcLmNvbSQvO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgdGVtcGxhdGU6ICc8c3Bhbj48L3NwYW4+JyxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCBsaW5rZXIpIHtcbiAgICAgICAgYXR0cnMuY2xpZW50aWQgKz0gKGVuZGluZy50ZXN0KGF0dHJzLmNsaWVudGlkKSA/ICcnIDogJy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbScpO1xuXG4gICAgICAgIGF0dHJzLiRzZXQoJ2RhdGEtY2xpZW50aWQnLCBhdHRycy5jbGllbnRpZCk7XG4gICAgICAgIGF0dHJzLiRzZXQoJ3RoZW1lJywgYXR0cnMudGhlbWUpO1xuXG4gICAgICAgIC8vIFNvbWUgZGVmYXVsdCB2YWx1ZXMsIGJhc2VkIG9uIHByaW9yIHZlcnNpb25zIG9mIHRoaXMgZGlyZWN0aXZlXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICBjYWxsYmFjazogJ3NpZ25pbkNhbGxiYWNrJyxcbiAgICAgICAgICBjb29raWVwb2xpY3k6ICdzaW5nbGVfaG9zdF9vcmlnaW4nLFxuICAgICAgICAgIHJlcXVlc3R2aXNpYmxlYWN0aW9uczogJ2h0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vQWRkQWN0aXZpdHknLFxuICAgICAgICAgIHNjb3BlOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9wbHVzLmxvZ2luIGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvdXNlcmluZm8uZW1haWwnLFxuICAgICAgICAgIGhlaWdodDogJ3N0YW5kYXJkJyxcbiAgICAgICAgICB3aWR0aDogJ3dpZGUnLFxuICAgICAgICAgIHN0YXRlOiAnJ1xuICAgICAgICB9O1xuXG4gICAgICAgIGRlZmF1bHRzLmNsaWVudGlkID0gYXR0cnMuY2xpZW50aWQ7XG4gICAgICAgIGRlZmF1bHRzLnRoZW1lID0gYXR0cnMudGhlbWU7XG5cbiAgICAgICAgLy8gT3ZlcndyaXRlIGRlZmF1bHQgdmFsdWVzIGlmIGV4cGxpY2l0bHkgc2V0XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyksIGZ1bmN0aW9uKHByb3BOYW1lKSB7XG4gICAgICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgZGVmYXVsdHNbcHJvcE5hbWVdID0gYXR0cnNbcHJvcE5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRGVmYXVsdCBsYW5ndWFnZVxuICAgICAgICAvLyBTdXBwb3J0ZWQgbGFuZ3VhZ2VzOiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS8rL3dlYi9hcGkvc3VwcG9ydGVkLWxhbmd1YWdlc1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnbGFuZ3VhZ2UnLCBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgJHdpbmRvdy5fX19nY2ZnID0ge1xuICAgICAgICAgICAgbGFuZzogdmFsdWUgPyB2YWx1ZSA6ICdlbidcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFzeW5jaHJvbm91c2x5IGxvYWQgdGhlIEcrIFNESy5cbiAgICAgICAgdmFyIHBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7IHBvLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsgcG8uYXN5bmMgPSB0cnVlO1xuICAgICAgICBwby5zcmMgPSAnaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvY2xpZW50OnBsdXNvbmUuanMnO1xuICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwbywgcyk7XG5cbiAgICAgICAgbGlua2VyKGZ1bmN0aW9uKGVsLCB0U2NvcGUpe1xuICAgICAgICAgIHBvLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZChlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnYXBpLnNpZ25pbi5yZW5kZXIoZWxlbWVudFswXSwgZGVmYXVsdHMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbn1dKS5cbiAgcnVuKFsnJHdpbmRvdycsJyRyb290U2NvcGUnLGZ1bmN0aW9uKCR3aW5kb3csICRyb290U2NvcGUpIHtcbiAgICAkd2luZG93LnNpZ25pbkNhbGxiYWNrID0gZnVuY3Rpb24gKGF1dGhSZXN1bHQpIHtcbiAgICAgIGlmIChhdXRoUmVzdWx0ICYmIGF1dGhSZXN1bHQuYWNjZXNzX3Rva2VuKXtcbiAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tc3VjY2VzcycsIGF1dGhSZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tZmFpbHVyZScsIGF1dGhSZXN1bHQpO1xuICAgICAgfVxuICAgIH07IFxufV0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1kaXJlY3RpdmUuZy1zaWduaW4vZ29vZ2xlLXBsdXMtc2lnbmluLmpzXG4gKiovIiwiIWZ1bmN0aW9uIChlLCB0KSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFtcImFuZ3VsYXJcIiwgXCJzd2VldGFsZXJ0XCJdLCBmdW5jdGlvbiAoZSwgbikge1xuICAgIHJldHVybiB0KGUsIG4pXG4gIH0pIDogXCJvYmplY3RcIiA9PSB0eXBlb2YgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzID8gbW9kdWxlLmV4cG9ydHMgPSB0KHJlcXVpcmUoXCJhbmd1bGFyXCIpLCByZXF1aXJlKFwic3dlZXRhbGVydFwiKSkgOiB0KGUuYW5ndWxhciwgZS5zd2VldEFsZXJ0KVxufSh0aGlzLCBmdW5jdGlvbiAoZSwgdCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyIG4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGUgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICB0LmFwcGx5KHZvaWQgMCwgZSlcbiAgICB9LCBlLmZvckVhY2goW1wic2hvd0lucHV0RXJyb3JcIiwgXCJjbG9zZVwiXSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXNbZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgICB0W2VdLmFwcGx5KHZvaWQgMCwgbilcbiAgICAgIH1cbiAgICB9LCB0aGlzKSwgdGhpcy5pc1Nob3duID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHQ7XG4gICAgICByZXR1cm4gZS5mb3JFYWNoKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzd2VldC1hbGVydFwiKSwgZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgdCA9IGUuZWxlbWVudChuKVxuICAgICAgfSksIHQgJiYgdC5oYXNDbGFzcyhcInZpc2libGVcIilcbiAgICB9XG4gIH0sIHIgPSBcImhTd2VldEFsZXJ0XCI7XG4gIHJldHVybiBlLm1vZHVsZShyLCBbXSkuc2VydmljZShcInN3ZWV0XCIsIFtuXSksIHJcbn0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1oLXN3ZWV0YWxlcnQvbmdTd2VldEFsZXJ0Lm1pbi5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vdmVuZG9yLnNjc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vdmVuZG9yLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi92ZW5kb3Iuc2Nzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2NsaWVudC9hcHAvc2Nzcy92ZW5kb3Iuc2Nzc1xuICoqIG1vZHVsZSBpZCA9IDYyNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJcIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9zYXNzLWxvYWRlciEuL2NsaWVudC9hcHAvc2Nzcy92ZW5kb3Iuc2Nzc1xuICoqIG1vZHVsZSBpZCA9IDYyN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vY2xpZW50L2FwcC9zY3NzL2luZGV4LnNjc3NcbiAqKiBtb2R1bGUgaWQgPSA2MjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmRpc3RyaWJ1dG9yLXNlbGVjdGlvbntmb250LXNpemU6MTZwdDtwYWRkaW5nOjNweDttYXJnaW46M3B4fWJvZHl7bWFyZ2luLXRvcDoxMDBweDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXtib2R5e21hcmdpbi10b3A6NTBweH19I3dyYXBwZXJ7cGFkZGluZy1sZWZ0OjB9I3BhZ2Utd3JhcHBlcnt3aWR0aDoxMDAlO3BhZGRpbmc6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9Lmh1Z2V7Zm9udC1zaXplOjUwcHg7bGluZS1oZWlnaHQ6bm9ybWFsfUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsjd3JhcHBlcntwYWRkaW5nLWxlZnQ6MjI1cHh9I3BhZ2Utd3JhcHBlcntwYWRkaW5nOjEwcHh9fS5tYXJnaW4tdG9wLTA1e21hcmdpbi10b3A6LjVlbX0ubWFyZ2luLXRvcC0xNXttYXJnaW4tdG9wOjEuNWVtfS5tYXJnaW4tdG9wLTIwe21hcmdpbi10b3A6MmVtfS5tYXJnaW4tdG9wLTI1e21hcmdpbi10b3A6Mi41ZW19Lm1hcmdpbi10b3AtNTB7bWFyZ2luLXRvcDo1ZW19Lmlzc3VlLXdhcm5pbmctYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOm9yYW5nZX0uaXNzdWUtd2FybmluZy10ZXh0e2NvbG9yOm9yYW5nZX0uaXNzdWUtZGFuZ2VyLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpyZWR9Lmlzc3VlLWRhbmdlci10ZXh0e2NvbG9yOnJlZH0uaXNzdWUtbm9ybWFsLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpncmVlbn0uaXNzdWUtbm9ybWFsLXRleHR7Y29sb3I6Z3JlZW59LnVwLXRydWUtYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVufS51cC1mYWxzZS1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6cmVkfS5uYXZiYXItZGVmYXVsdHtiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmI7Ym9yZGVyLWNvbG9yOiMxNTU5OGV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItYnJhbmR7Y29sb3I6I2ZmZn0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZDpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZDpob3Zlcntjb2xvcjojNTVhN2U3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hOmhvdmVye2NvbG9yOiNmZmZ9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5hY3RpdmU+YSwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmFjdGl2ZT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uYWN0aXZlPmE6aG92ZXJ7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNhZmQ1ZjN9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmEsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6aG92ZXJ7Y29sb3I6IzU1NTtiYWNrZ3JvdW5kLWNvbG9yOiNkNWQ1ZDV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hIC5jYXJldHtib3JkZXItdG9wLWNvbG9yOiM3Nzc7Ym9yZGVyLWJvdHRvbS1jb2xvcjojNzc3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uZHJvcGRvd24+YTpmb2N1cyAuY2FyZXQsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hOmhvdmVyIC5jYXJldHtib3JkZXItdG9wLWNvbG9yOiMzMzM7Ym9yZGVyLWJvdHRvbS1jb2xvcjojMzMzfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hIC5jYXJldCwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpmb2N1cyAuY2FyZXQsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6aG92ZXIgLmNhcmV0e2JvcmRlci10b3AtY29sb3I6IzU1NTtib3JkZXItYm90dG9tLWNvbG9yOiM1NTV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xle2JvcmRlci1jb2xvcjojZGRkfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGU6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZGRkfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZSAuaWNvbi1iYXJ7YmFja2dyb3VuZC1jb2xvcjojY2NjfUBtZWRpYSAobWF4LXdpZHRoOjc2N3B4KXsubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXYgLm9wZW4gLmRyb3Bkb3duLW1lbnU+bGk+YXtjb2xvcjojNzc3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5hOmhvdmVye2NvbG9yOiMzMzN9fS50b3AtbmF2e3BhZGRpbmc6MCAxNXB4fS50b3AtbmF2Pmxpe2Rpc3BsYXk6aW5saW5lLWJsb2NrO2Zsb2F0OmxlZnR9LnRvcC1uYXY+bGk+YXtwYWRkaW5nLXRvcDoxNXB4O3BhZGRpbmctYm90dG9tOjE1cHg7bGluZS1oZWlnaHQ6MjBweDtjb2xvcjojZWZlZmVmfS50b3AtbmF2Pi5vcGVuPmEsLnRvcC1uYXY+Lm9wZW4+YTpmb2N1cywudG9wLW5hdj4ub3Blbj5hOmhvdmVyLC50b3AtbmF2PmxpPmE6Zm9jdXMsLnRvcC1uYXY+bGk+YTpob3Zlcntjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzFiNzViYn0udG9wLW5hdj4ub3Blbj4uZHJvcGRvd24tbWVudXtmbG9hdDpsZWZ0O3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi10b3A6MDtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjE1KTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym94LXNoYWRvdzowIDZweCAxMnB4IHJnYmEoMCwwLDAsLjE3NSl9LnRvcC1uYXY+Lm9wZW4+LmRyb3Bkb3duLW1lbnU+bGk+YXt3aGl0ZS1zcGFjZTpub3JtYWx9dWwubWVzc2FnZS1kcm9wZG93bntwYWRkaW5nOjA7bWF4LWhlaWdodDoyNTBweDtvdmVyZmxvdy14OmhpZGRlbjtvdmVyZmxvdy15OmF1dG99bGkubWVzc2FnZS1wcmV2aWV3e3dpZHRoOjI3NXB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjE1KX1saS5tZXNzYWdlLXByZXZpZXc+YXtwYWRkaW5nLXRvcDoxNXB4O3BhZGRpbmctYm90dG9tOjE1cHh9bGkubWVzc2FnZS1mb290ZXJ7bWFyZ2luOjVweCAwfXVsLmFsZXJ0LWRyb3Bkb3due3dpZHRoOjIwMHB4fUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsuc2lkZS1uYXZ7cG9zaXRpb246Zml4ZWQ7dG9wOjUxcHg7bGVmdDoyMjVweDttYXJnaW4tbGVmdDotMjI1cHg7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czowO292ZXJmbG93LXk6YXV0bztiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmI7Ym90dG9tOjA7b3ZlcmZsb3cteDpoaWRkZW47cGFkZGluZy1ib3R0b206NDBweH0uc2lkZS1uYXYsLnNpZGUtbmF2PmxpPmF7d2lkdGg6MjI1cHh9LnNpZGUtbmF2IGxpIGE6Zm9jdXMsLnNpZGUtbmF2IGxpIGE6aG92ZXJ7b3V0bGluZTpub25lO2JhY2tncm91bmQtY29sb3I6IzNmOWNlMyFpbXBvcnRhbnR9fS5zaWRlLW5hdj5saT51bHtwYWRkaW5nOjB9LnNpZGUtbmF2PmxpPnVsPmxpPmF7ZGlzcGxheTpibG9jaztwYWRkaW5nOjEwcHggMTVweCAxMHB4IDM4cHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y29sb3I6I2Q0ZDRkNH0uc2lkZS1uYXY+bGk+dWw+bGk+YTpob3Zlcntjb2xvcjojZmZmfS5mbG90LWNoYXJ0e2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjQwMHB4fS5mbG90LWNoYXJ0LWNvbnRlbnR7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uaHVnZXtmb250LXNpemU6NDBweH0ucGFuZWwtZ3JlZW57Ym9yZGVyLWNvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPi5wYW5lbC1oZWFkaW5ne2JvcmRlci1jb2xvcjojNWNiODVjO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojNWNiODVjfS5wYW5lbC1ncmVlbj5he2NvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPmE6aG92ZXJ7Y29sb3I6IzNkOGIzZH0ucGFuZWwtcmVke2JvcmRlci1jb2xvcjojZDk1MzRmfS5wYW5lbC1yZWQ+LnBhbmVsLWhlYWRpbmd7Ym9yZGVyLWNvbG9yOiNkOTUzNGY7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD5he2NvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD5hOmhvdmVye2NvbG9yOiNiNTJiMjd9LnBhbmVsLXllbGxvd3tib3JkZXItY29sb3I6I2YwYWQ0ZX0ucGFuZWwteWVsbG93Pi5wYW5lbC1oZWFkaW5ne2JvcmRlci1jb2xvcjojZjBhZDRlO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+YXtjb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+YTpob3Zlcntjb2xvcjojZGY4YTEzfS50b29sYmFye21hcmdpbi1ib3R0b206MTBweH0uZW50aXR5LWtleXtmb250LWZhbWlseTpNb25hY28sQ29uc29sYXMsTHVjaWRhIENvbnNvbGUsZGVqYXZ1IHNhbnMgbW9ubyxtb25vc3BhY2U7Zm9udC1zaXplOjExcHh9LnByb29mLW9mLXBsYXktbGFiZWx7cGFkZGluZy1ib3R0b206MTBweDtwYWRkaW5nLXRvcDoxMHB4fS5jb3B5LXJlYWR5LXRyYW5zcGFyZW50e2NvbG9yOnRyYW5zcGFyZW50fS5uby1kZXZpY2Vze3RleHQtYWxpZ246Y2VudGVyfS5wcm9wZXJ0aWVzLXdvcmQtYnJlYWt7d2lkdGg6MzkwcHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7ZGlzcGxheTpibG9ja30uY29tbWFuZC1oaXN0b3J5LWNvbW1hbmR7d2lkdGg6Mzc1cHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7ZGlzcGxheTpibG9ja30uaG9zdG5hbWUtd29yZC1icmVha3t3aWR0aDoyMDBweDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmlubGluZS1ibG9ja31bZGF0YS1uZy1jbGlja10sW25nLWNsaWNrXSxbeC1uZy1jbGlja117Y3Vyc29yOnBvaW50ZXJ9I3Byb29mcGxheS1zZWxlY3RlZC1pdGVtc3ttaW4td2lkdGg6MCFpbXBvcnRhbnQ7bWFyZ2luOjAgYXV0bztwYWRkaW5nOjAgYXV0b30ucmFkaW8tYnV0dG9ue3BhZGRpbmc6M3B4fS5ob3Jpem9udGFsLXN1Ym1pdHttYXJnaW46LjVlbX0uaG9yaXpvbnRhbC1zdWJtaXQsLnJhZGlvLWhvcml6b250YWx7ZGlzcGxheTpmbGV4O2FsaWduLXNlbGY6Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXJ9bWQtdG9vbGJhci5tZC1kZWZhdWx0LXRoZW1lOm5vdCgubWQtbWVudS10b29sYmFyKSxtZC10b29sYmFyOm5vdCgubWQtbWVudS10b29sYmFyKXtiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmIhaW1wb3J0YW50O21heC1oZWlnaHQ6NjRweDttaW4taGVpZ2h0OjY0cHh9Lm1kLXRvb2xiYXItdG9vbHN7YmFja2dyb3VuZC1jb2xvcjojMDAwIWltcG9ydGFudDttYXgtaGVpZ2h0OjY0cHg7bWluLWhlaWdodDo2NHB4fS5za3lraXQtaW1hZ2V7bWF4LXdpZHRoOjEwMCU7aGVpZ2h0OjMzcHh9QG1lZGlhIChtYXgtd2lkdGg6NzY3cHgpe21kLXRvb2xiYXIubWQtZGVmYXVsdC10aGVtZTpub3QoLm1kLW1lbnUtdG9vbGJhciksbWQtdG9vbGJhcjpub3QoLm1kLW1lbnUtdG9vbGJhcil7bWFyZ2luLXRvcDotNTBweDttYXJnaW4tYm90dG9tOjUwcHh9fS5jZW50ZXItYmxvY2t7dGV4dC1hbGlnbjpjZW50ZXJ9LmVsbGlwc2lzLW92ZXJmbG93LC5wcm9vZi1vZi1wbGF5LXNlbGVjdGVkLWl0ZW17d2lkdGg6MTAwJTt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246bGVmdDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5wcm9vZi1vZi1wbGF5LXRlbmFudC1uYW1lLW9wdGlvbnt3aWR0aDo3ZW07d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmNlbnRlcjtwb3NpdGl0aW9uOmFic29sdXRlO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LnByb29mLW9mLXBsYXktaG9yaXpvbnRhbC10b3AtYmFye2FsaWduLXNlbGY6Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7bWFyZ2luLXRvcDouNWVtO21hcmdpbi1ib3R0b206LjVlbTthbGlnbi1pdGVtczpjZW50ZXJ9Lm15LWZsZXgsLnByb29mLW9mLXBsYXktaG9yaXpvbnRhbC10b3AtYmFye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5iaWdnZXItYnV0dG9uc3twYWRkaW5nOi40ZW07bWluLXdpZHRoOjg4cHg7Ym9yZGVyLXJhZGl1czo1cHg7Zm9udC1zaXplOjE2cHg7dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lfS5hZG1pbi1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2FsaWduLWNvbnRlbnQ6ZmxleC1zdGFydH0ucmVnaXN0cmF0aW9uLWV2ZW50LWNvbHVtbntoZWlnaHQ6MTEwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246dG9wO292ZXJmbG93OnNjcm9sbH0ucHVsbC1jb21tYW5kLXNlbmQtYnV0dG9uLXVwe21hcmdpbi10b3A6LTJweH1oZWFkZXIuZHRwLWhlYWRlcntiYWNrZ3JvdW5kOiMxYjc1YmIhaW1wb3J0YW50fS5kdHAgZGl2LmR0cC1kYXRlLC5kdHAgZGl2LmR0cC10aW1le2JhY2tncm91bmQ6IzAwMH0uZHRwIC5kdHAtYWN0dWFsLW1lcmlkaWVuIGEuc2VsZWN0ZWQsLmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1ob3VyLnNlbGVjdGVkLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPmEuc2VsZWN0ZWR7YmFja2dyb3VuZDojMWI3NWJiIWltcG9ydGFudH0uZHRwIC5kdHAtaGFuZC5vbntiYWNrZ3JvdW5kOiMwMDB9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vc2Fzcy1sb2FkZXIhLi9jbGllbnQvYXBwL3Njc3MvaW5kZXguc2Nzc1xuICoqIG1vZHVsZSBpZCA9IDYyOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZnVuY3Rpb24gRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybCgkbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYXRpb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tbWFuZHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaW1lem9uZXNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0c1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICB2bS5kZXZpY2VLZXkgPSAkc3RhdGVQYXJhbXMuZGV2aWNlS2V5O1xuICB2bS5mcm9tRGV2aWNlcyA9ICRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCI7XG4gIHZtLmN1cnJlbnREZXZpY2UgPSB7fTtcbiAgdm0uY29tbWFuZEV2ZW50cyA9IFtdO1xuXG4gIHZtLmdlbmVyYXRlTG9jYWxGcm9tVVRDID0gZnVuY3Rpb24gKFVUQ1RpbWUpIHtcbiAgICBsZXQgbG9jYWxUaW1lID0gbW9tZW50LnV0YyhVVENUaW1lKS50b0RhdGUoKTtcbiAgICByZXR1cm4gbG9jYWxUaW1lID0gbW9tZW50KGxvY2FsVGltZSkuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tOnNzIEEnKTtcbiAgfTtcblxuICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gaXNzdWVzW2ldO1xuICAgICAgaWYgKGVhY2gucG9zdGVkVGltZSkge1xuICAgICAgICBlYWNoLnBvc3RlZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnBvc3RlZFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKGVhY2guY29uZmlybWVkVGltZSkge1xuICAgICAgICBlYWNoLmNvbmZpcm1lZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNvbmZpcm1lZFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH07XG5cbiAgdm0uZ2V0RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBjb21tYW5kRXZlbnRzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpO1xuICAgIHJldHVybiBjb21tYW5kRXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUoZGF0YS5ldmVudHMpO1xuICAgICAgdm0uZXZlbnRfbmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuICAgICAgdm0uZXZlbnRfcHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuICAgICAgdm0uY29tbWFuZEV2ZW50cyA9IGRhdGEuZXZlbnRzO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLmdldEV2ZW50c1RpbWVPdXQgPSAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSA9PlxuICAgICR0aW1lb3V0KCggKCkgPT4gdm0uZ2V0RXZlbnRzKGRldmljZUtleSwgcHJldiwgbmV4dCkpLCAxMDAwKVxuICA7XG5cbiAgdm0uY29tbWFuZEhpc3RvcnlTZWxlY3RlZCA9ICgpID0+IHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXG4gIHZtLnBhZ2luYXRlRXZlbnRDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIG51bGwsIHZtLmV2ZW50X25leHRfY3Vyc29yKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgdm0uZXZlbnRfcHJldl9jdXJzb3IsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcbiAgICBkZXZpY2VQcm9taXNlLnRoZW4oKHJlc3BvbnNlID0+IHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXNwb25zZSkpLCByZXNwb25zZSA9PiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpKTtcblxuICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5KTtcbiAgfTtcblxuICB2bS5vbkdldERldmljZVN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICB2bS5jdXJyZW50RGV2aWNlID0gcmVzcG9uc2U7XG4gICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG4gICAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gcmVzcG9uc2UudGltZXpvbmU7XG4gICAgfVxuICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdm0udGVuYW50S2V5ID0gdm0uY3VycmVudERldmljZS50ZW5hbnRLZXk7XG4gICAgfVxuICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG4gICAgICB2bS5iYWNrVXJsID0gJy8jL2RldmljZXMnO1xuICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gZGV2aWNlcyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmlzVW5tYW5hZ2VkRGV2aWNlID09PSB0cnVlKSB7XG4gICAgICAgIHZtLmJhY2tVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vdW5tYW5hZ2VkYDtcbiAgICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZtLmJhY2tVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vbWFuYWdlZGA7XG4gICAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2bS5vbkdldERldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBmZXRjaCB0aGUgZGV0YWlscyBmb3IgdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgTm8gZGV0YWlsIGZvciBkZXZpY2Vfa2V5ICMke3ZtLmRldmljZUtleX0uIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWA7XG4gICAgJGxvZy5lcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcbiAgfTtcblxuICB2bS5vblJlc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jb250ZW50RGVsZXRlKHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblJlc2V0Q29udGVudFN1Y2Nlc3MsIHZtLm9uUmVzZXRDb250ZW50RmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25SZXNldENvbnRlbnRTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblJlc2V0Q29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBSZXNldCBjb250ZW50IGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblVwZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UuY29udGVudFVwZGF0ZSh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVDb250ZW50U3VjY2Vzcywgdm0ub25VcGRhdGVDb250ZW50RmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25VcGRhdGVDb250ZW50U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlQ29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBDb250ZW50IHVwZGF0ZSBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uUmVzZXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzZXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzZXRQbGF5ZXJTdWNjZXNzLCB2bS5vblJlc2V0UGxheWVyRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25SZXNldFBsYXllclN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciByZXNldCBwbGF5ZXIgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25SZXNldFBsYXllckZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBSZXNldCBwbGF5ZXIgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXNldCBwbGF5ZXIgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25QYW5lbE9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvd2VyT24odm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxPblN1Y2Nlc3MsIHZtLm9uUGFuZWxPbkZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPblN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblBhbmVsT25GYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgUGFuZWwgb24gY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblBhbmVsT2ZmID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvd2VyT2ZmKHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBhbmVsT2ZmU3VjY2Vzcywgdm0ub25QYW5lbE9mZkZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPZmZTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPZmZGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgUGFuZWwgb2ZmIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnVwZGF0ZURldmljZSh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVEZXZpY2VTdWNjZXNzLCB2bS5vblVwZGF0ZURldmljZUZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlRGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBkZXZpY2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25VcGRhdGVEZXZpY2VGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgVXBkYXRlIGRldmljZSBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHVwZGF0ZSBkZXZpY2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25Wb2x1bWVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2Uudm9sdW1lKHZtLmRldmljZUtleSwgdm0uY3VycmVudERldmljZS52b2x1bWUpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Wb2x1bWVDaGFuZ2VTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2Uudm9sdW1lKSwgdm0ub25Wb2x1bWVDaGFuZ2VGYWlsdXJlKTtcbiAgfTtcblxuICB2bS5vblZvbHVtZUNoYW5nZVN1Y2Nlc3MgPSBmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChgV2UgcG9zdGVkIHlvdXIgdm9sdW1lIGNoYW5nZSBjb21tYW5kIG9mICR7bGV2ZWx9IGludG8gdGhlIHBsYXllcidzIHF1ZXVlLmApO1xuICB9O1xuXG4gIHZtLm9uVm9sdW1lQ2hhbmdlRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFZvbHVtZSBjaGFuZ2UgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uQ3VzdG9tQ29tbWFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jdXN0b20odm0uZGV2aWNlS2V5LCB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vbkN1c3RvbUNvbW1hbmRTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tKSwgdm0ub25DdXN0b21Db21tYW5kRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25DdXN0b21Db21tYW5kU3VjY2VzcyA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoYFdlIHBvc3RlZCB5b3VyIGN1c3RvbSBjb21tYW5kICcke2NvbW1hbmR9JyBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5gKTtcbiAgfTtcblxuICB2bS5vbkN1c3RvbUNvbW1hbmRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgQ3VzdG9tIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgY3VzdG9tIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uRGlhZ25vc3RpY3NUb2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UudG9nZ2xlRGlhZ25vc3RpY3Modm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NTdWNjZXNzLCB2bS5vblRvZ2dsZURpYWdub3N0aWNzRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgRGlhZ25vc3RpY3MgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBkaWFnbm9zdGljcyBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLFxuICAgICAgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25SZXN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnJlc3RhcnQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzdGFydFN1Y2Nlc3MsIHZtLm9uUmVzdGFydEZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUmVzdGFydFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc3RhcnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25SZXN0YXJ0RmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFJlc3RhcnQgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXN0YXJ0IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsXG4gICAgICAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblBvc3RMb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucG9zdExvZyh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Qb3N0TG9nU3VjY2Vzcywgdm0ub25Qb3N0TG9nRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Qb3N0TG9nU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25Qb3N0TG9nRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFBvc3QgbG9nIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIixcbiAgICAgICdlcnJvcicpO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL2RldmljZS9kZXZpY2UtZGV0YWlsLWNvbW1hbmQuanNcbiAqKi8iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmZ1bmN0aW9uIERldmljZURldGFpbHNDdHJsKCRsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBDb21tYW5kc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBUaW1lem9uZXNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZWdyYXRpb25FdmVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICRtZERpYWxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0c1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICB2bS5kZXZpY2VLZXkgPSAkc3RhdGVQYXJhbXMuZGV2aWNlS2V5O1xuICB2bS5mcm9tRGV2aWNlcyA9ICRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCI7XG4gIHZtLmN1cnJlbnREZXZpY2UgPSB7fTtcbiAgdm0ubG9jYXRpb25zID0gW107XG4gIHZtLmNvbW1hbmRFdmVudHMgPSBbXTtcbiAgdm0uZGF5UmFuZ2UgPSAzMDtcbiAgdm0uaXNzdWVzID0gW107XG4gIHZtLnRpbWV6b25lcyA9IFtdO1xuICB2bS5zZWxlY3RlZFRpbWV6b25lID0gdW5kZWZpbmVkO1xuICBbdm0uc3RhcnRUaW1lLCB2bS5lbmRUaW1lXSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmNyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheSgzMCk7XG4gIHZtLmVucm9sbG1lbnRFdmVudHMgPSBbXTtcblxuICB2bS5yZXBsYWNlSXNzdWVUaW1lID0gZnVuY3Rpb24gKGlzc3Vlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXNzdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGlzc3Vlc1tpXTtcbiAgICAgIGlmIChlYWNoLmNyZWF0ZWQpIHtcbiAgICAgICAgZWFjaC5jcmVhdGVkID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC5jcmVhdGVkKTtcbiAgICAgIH1cbiAgICAgIGlmIChlYWNoLnVwZGF0ZWQpIHtcbiAgICAgICAgZWFjaC51cGRhdGVkID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC51cGRhdGVkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9O1xuXG4gIHZtLnJlcGxhY2VDb21tYW5kVGltZSA9IGZ1bmN0aW9uIChpc3N1ZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSBpc3N1ZXNbaV07XG4gICAgICBpZiAoZWFjaC5wb3N0ZWRUaW1lKSB7XG4gICAgICAgIGVhY2gucG9zdGVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gucG9zdGVkVGltZSk7XG4gICAgICB9XG4gICAgICBpZiAoZWFjaC5jb25maXJtZWRUaW1lKSB7XG4gICAgICAgIGVhY2guY29uZmlybWVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY29uZmlybWVkVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfTtcblxuICB2bS5jb3B5RGV2aWNlS2V5ID0gKCkgPT4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdEZXZpY2Uga2V5IGNvcGllZCB0byB5b3VyIGNsaXBib2FyZCcpO1xuXG4gIHZtLmNvcHlDb3JyZWxhdGlvbklkZW50aWZpZXIgPSAoKSA9PiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ0NvcnJlbGF0aW9uIElEIGNvcGllZCB0byB5b3VyIGNsaXBib2FyZCcpO1xuXG4gIC8vIGV2ZW50IHRhYlxuICB2bS5nZXRJc3N1ZXMgPSBmdW5jdGlvbiAoZGV2aWNlLCBlcG9jaFN0YXJ0LCBlcG9jaEVuZCwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBpc3N1ZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0SXNzdWVzQnlLZXkoZGV2aWNlLCBlcG9jaFN0YXJ0LCBlcG9jaEVuZCwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIGlzc3Vlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG4gICAgICB2bS5pc3N1ZXMgPSBkYXRhLmlzc3VlcztcbiAgICAgIHZtLnByZXZfY3Vyc29yID0gZGF0YS5wcmV2O1xuICAgICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gY29tbWFuZCBoaXN0b3J5IHRhYlxuICB2bS5nZXRFdmVudHMgPSBmdW5jdGlvbiAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGNvbW1hbmRFdmVudHNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0Q29tbWFuZEV2ZW50c0J5S2V5KGRldmljZUtleSwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIGNvbW1hbmRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLnJlcGxhY2VDb21tYW5kVGltZShkYXRhLmV2ZW50cyk7XG4gICAgICB2bS5ldmVudF9uZXh0X2N1cnNvciA9IGRhdGEubmV4dF9jdXJzb3I7XG4gICAgICB2bS5ldmVudF9wcmV2X2N1cnNvciA9IGRhdGEucHJldl9jdXJzb3I7XG4gICAgICB2bS5jb21tYW5kRXZlbnRzID0gZGF0YS5ldmVudHM7XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gZW5yb2xsbWVudCB0YWJcbiAgdm0uZ2V0RW5yb2xsbWVudEV2ZW50cyA9IGZ1bmN0aW9uIChkZXZpY2VLZXkpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgY29tbWFuZEV2ZW50c1Byb21pc2UgPSBJbnRlZ3JhdGlvbkV2ZW50cy5nZXRFbnJvbGxtZW50RXZlbnRzKGRldmljZUtleSk7XG4gICAgcmV0dXJuIGNvbW1hbmRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmVucm9sbG1lbnRFdmVudHMgPSBkYXRhO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG4gICAgaWYgKGZvcndhcmQpIHtcbiAgICAgIHJldHVybiB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgbnVsbCwgdm0ubmV4dF9jdXJzb3IpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgdm0ucHJldl9jdXJzb3IsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5wYWdpbmF0ZUV2ZW50Q2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG4gICAgaWYgKGZvcndhcmQpIHtcbiAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCBudWxsLCB2bS5ldmVudF9uZXh0X2N1cnNvcik7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIHZtLmV2ZW50X3ByZXZfY3Vyc29yLCBudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5lcG9jaFN0YXJ0ID0gbW9tZW50KHZtLnN0YXJ0VGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcbiAgICB2bS5lcG9jaEVuZCA9IG1vbWVudCh2bS5lbmRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuXG4gICAgbGV0IHRpbWV6b25lUHJvbWlzZSA9IFRpbWV6b25lc1NlcnZpY2UuZ2V0Q3VzdG9tVGltZXpvbmVzKCk7XG4gICAgdGltZXpvbmVQcm9taXNlLnRoZW4oZGF0YSA9PiB2bS50aW1lem9uZXMgPSBkYXRhKTtcblxuICAgIHZtLnBhbmVsTW9kZWxzID0gRGV2aWNlc1NlcnZpY2UuZ2V0UGFuZWxNb2RlbHMoKTtcbiAgICB2bS5wYW5lbElucHV0cyA9IERldmljZXNTZXJ2aWNlLmdldFBhbmVsSW5wdXRzKCk7XG5cbiAgICBsZXQgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG4gICAgZGV2aWNlUHJvbWlzZS50aGVuKChyZXNwb25zZSA9PiB2bS5vbkdldERldmljZVN1Y2Nlc3MocmVzcG9uc2UpKSwgcmVzcG9uc2UgPT4gdm0ub25HZXREZXZpY2VGYWlsdXJlKHJlc3BvbnNlKSk7XG5cbiAgICB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5KTtcbiAgICB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCk7XG4gICAgcmV0dXJuIHZtLmdldEVucm9sbG1lbnRFdmVudHModm0uZGV2aWNlS2V5KTtcbiAgfTtcblxuICB2bS5vbkdldERldmljZVN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICB2bS5jdXJyZW50RGV2aWNlID0gcmVzcG9uc2U7XG4gICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG4gICAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gcmVzcG9uc2UudGltZXpvbmU7XG4gICAgfVxuICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdm0udGVuYW50S2V5ID0gdm0uY3VycmVudERldmljZS50ZW5hbnRLZXk7XG4gICAgfVxuICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG4gICAgICB2bS5iYWNrVXJsID0gJy8jL2RldmljZXMnO1xuICAgICAgdm0uYmFja1VybFRleHQgPSAnQmFjayB0byBkZXZpY2VzJztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UuaXNVbm1hbmFnZWREZXZpY2UgPT09IHRydWUpIHtcbiAgICAgICAgdm0uYmFja1VybCA9IGAvIy90ZW5hbnRzLyR7dm0udGVuYW50S2V5fS91bm1hbmFnZWRgO1xuICAgICAgICB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCB1bm1hbmFnZWQgZGV2aWNlcyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bS5iYWNrVXJsID0gYC8jL3RlbmFudHMvJHt2bS50ZW5hbnRLZXl9L21hbmFnZWRgO1xuICAgICAgICB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbG9jYXRpb25zUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXkodm0udGVuYW50S2V5KTtcbiAgICByZXR1cm4gbG9jYXRpb25zUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5sb2NhdGlvbnMgPSBkYXRhO1xuICAgICAgcmV0dXJuIHZtLnNldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLm9uR2V0RGV2aWNlRmFpbHVyZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIGZldGNoIHRoZSBkZXRhaWxzIGZvciB0aGlzIGRldmljZSBhdCB0aGlzIHRpbWUuJyk7XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IGBObyBkZXRhaWwgZm9yIGRldmljZV9rZXkgIyR7dm0uZGV2aWNlS2V5fS4gRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YDtcbiAgICAkbG9nLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgcmV0dXJuICRzdGF0ZS5nbygnZGV2aWNlcycpO1xuICB9O1xuXG4gIHZtLnNldFNlbGVjdGVkT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsID09PSBudWxsKSB7XG4gICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPSB2bS5wYW5lbE1vZGVsc1swXTtcbiAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dCA9IHZtLnBhbmVsSW5wdXRzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZtLnBhbmVsTW9kZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBwYW5lbE1vZGVsID0gdm0ucGFuZWxNb2RlbHNbaV07XG4gICAgICAgIGlmIChwYW5lbE1vZGVsLmlkID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwpIHtcbiAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPSBwYW5lbE1vZGVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZtLnBhbmVsSW5wdXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBwYW5lbElucHV0ID0gdm0ucGFuZWxJbnB1dHNbal07XG4gICAgICAgIGxldCBpc1BhcmVudCA9IHBhbmVsSW5wdXQucGFyZW50SWQgPT09IHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZDtcbiAgICAgICAgaWYgKGlzUGFyZW50ICYmIHBhbmVsSW5wdXQuaWQudG9Mb3dlckNhc2UoKSA9PT0gdm0uY3VycmVudERldmljZS5wYW5lbElucHV0KSB7XG4gICAgICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbElucHV0ID0gcGFuZWxJbnB1dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSAhPT0gbnVsbCkge1xuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB2bS5sb2NhdGlvbnMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgbGV0IGxvY2F0aW9uID0gdm0ubG9jYXRpb25zW2tdO1xuICAgICAgICBpZiAobG9jYXRpb24ua2V5ID09PSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5KSB7XG4gICAgICAgICAgdm0uY3VycmVudERldmljZS5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIC8vIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiAgLy8gUHJvcGVydGllcyBUYWJcbiAgLy8jIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4gIHZtLm9uU2F2ZURldmljZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBpZiAodm0uY3VycmVudERldmljZS5sb2NhdGlvbiAhPT0gdW5kZWZpbmVkICYmIHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24ua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkgPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uLmtleTtcbiAgICB9XG4gICAgaWYgKHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZCAhPT0gdW5kZWZpbmVkICYmIHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZCAhPT0gJ05vbmUnKSB7XG4gICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWxOdW1iZXIgPSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQ7XG4gICAgfVxuICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQuaWQgIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQuaWQgIT09ICdOb25lJykge1xuICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbFNlcmlhbElucHV0ID0gdm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHZtLmN1cnJlbnREZXZpY2UudGltZXpvbmUgPSB2bS5zZWxlY3RlZFRpbWV6b25lO1xuICAgIGxldCBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RGV2aWNlKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc0RldmljZVNhdmUsIHZtLm9uRmFpbHVyZURldmljZVNhdmUpO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc0RldmljZVNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlRGV2aWNlU2F2ZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgJGxvZy5pbmZvKFxuICAgICAgICBgRmFpbHVyZSBzYXZpbmcgZGV2aWNlLiBDdXN0b21lciBkaXNwbGF5IGNvZGUgYWxyZWFkeSBleGlzdHMgZm9yIHRlbmFudDogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUaGlzIGN1c3RvbWVyIGRpc3BsYXkgY29kZSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhpcyB0ZW5hbnQuIFBsZWFzZSBjaG9vc2UgYW5vdGhlci4nLCAnZXJyb3InKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGxvZy5lcnJvcihgRmFpbHVyZSBzYXZpbmcgZGV2aWNlOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBzYXZlIHlvdXIgdXBkYXRlcyB0byB0aGlzIGRldmljZSBhdCB0aGlzIHRpbWUuJyk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmNvbmZpcm1EZXZpY2VEZWxldGUgPSBmdW5jdGlvbiAoZXZlbnQsIGtleSkge1xuICAgIGxldCBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlIHRvIGRlbGV0ZSB0aGlzIGRldmljZT8nLFxuICAgICAgICB0ZXh0Q29udGVudDogJ1BsZWFzZSByZW1lbWJlciwgeW91IE1VU1QgcmVtb3ZlIHRoaXMgZGV2aWNlIGZyb20gQ29udGVudCBNYW5hZ2VyIGJlZm9yZSBkZWxldGluZyBpdCBmcm9tIFByb3Zpc2lvbmluZy4nLFxuICAgICAgICB0YXJnZXRFdmVudDogZXZlbnQsXG4gICAgICAgIG9rOiAnRGVsZXRlJyxcbiAgICAgICAgY2FuY2VsOiAnQ2FuY2VsJ1xuICAgICAgfVxuICAgICk7XG4gICAgbGV0IHNob3dQcm9taXNlID0gJG1kRGlhbG9nLnNob3coY29uZmlybSk7XG4gICAgbGV0IHN1Y2Nlc3MgPSAoKSA9PiB2bS5vbkNvbmZpcm1EZWxldGUoa2V5KTtcbiAgICBsZXQgZmFpbHVyZSA9ICgpID0+IHZtLm9uQ29uZmlybUNhbmNlbCgpO1xuICAgIHJldHVybiBzaG93UHJvbWlzZS50aGVuKHN1Y2Nlc3MsIGZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uQ29uZmlybURlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBsZXQgc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgcHJvY2Vzc2VkIHlvdXIgZGVsZXRlIHJlcXVlc3QuJyk7XG4gICAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG4gICAgfTtcbiAgICBsZXQgZmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgbGV0IGZyaWVuZGx5TWVzc2FnZSA9ICdXZSB3ZXJlIHVuYWJsZSB0byBjb21wbGV0ZSB5b3VyIGRlbGV0ZSByZXF1ZXN0IGF0IHRoaXMgdGltZS4nO1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChmcmllbmRseU1lc3NhZ2UpO1xuICAgICAgcmV0dXJuICRsb2cuZXJyb3IoYERlbGV0ZSBkZXZpY2UgZmFpbHVyZSBmb3IgZGV2aWNlX2tleSAke2tleX06ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIH07XG4gICAgbGV0IGRlbGV0ZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5kZWxldGUoa2V5KTtcbiAgICByZXR1cm4gZGVsZXRlUHJvbWlzZS50aGVuKHN1Y2Nlc3MsIGZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uQ29uZmlybUNhbmNlbCA9ICgpID0+IFRvYXN0c1NlcnZpY2Uuc2hvd0luZm9Ub2FzdCgnV2UgY2FuY2VsZWQgeW91ciBkZWxldGUgcmVxdWVzdC4nKTtcblxuICB2bS5vblByb29mT2ZQbGF5TG9nZ2luZ0NoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnByb29mT2ZQbGF5TG9nZ2luZykge1xuICAgICAgbGV0IG5vTG9jYXRpb24gPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5ID09PSBudWxsO1xuICAgICAgbGV0IG5vRGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheUNvZGUgPT09IG51bGw7XG4gICAgICBpZiAobm9Mb2NhdGlvbikge1xuICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgTG9jYXRpb24gdG8gZW5hYmxlIFByb29mIG9mIHBsYXkuXCIsICdlcnJvcicpO1xuICAgICAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAobm9EaXNwbGF5Q29kZSkge1xuICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgRGlzcGxheSBjb2RlIHRvIGVuYWJsZSBQcm9vZiBvZiBwbGF5LlwiLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UucHJvb2ZPZlBsYXlMb2dnaW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0ub25TYXZlRGV2aWNlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5vblNhdmVEZXZpY2UoKTtcbiAgICB9XG4gIH07XG5cbiAgdm0ub25VcGRhdGVMb2NhdGlvbiA9ICgpID0+IHZtLm9uU2F2ZURldmljZSgpO1xuXG4gIHZtLmF1dG9HZW5lcmF0ZUN1c3RvbWVyRGlzcGxheUNvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IG5ld0Rpc3BsYXlDb2RlID0gJyc7XG4gICAgaWYgKHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5TmFtZSkge1xuICAgICAgbmV3RGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIG5ld0Rpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuICAgICAgbmV3RGlzcGxheUNvZGUgPSBuZXdEaXNwbGF5Q29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcbiAgICB9XG4gICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5Q29kZSA9IG5ld0Rpc3BsYXlDb2RlO1xuICB9O1xuXG4gIHZtLmxvZ2dseUZvclVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHVzZXJEb21haW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCkuc3BsaXQoXCJAXCIpWzFdO1xuICAgIHJldHVybiB1c2VyRG9tYWluID09PSBcImRlbW8uYWdvc3RvLmNvbVwiIHx8IHVzZXJEb21haW4gPT09IFwiYWdvc3RvLmNvbVwiO1xuICB9O1xuXG4gIHZtLm9uQ2xpY2tSZWZyZXNoQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIHZtLnN0YXJ0VGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmNvbnZlcnRUb01vbWVudElmTm90QWxyZWFkeSh2bS5zdGFydFRpbWUpO1xuICAgIHZtLmVuZFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkodm0uZW5kVGltZSk7XG4gICAgdm0uZXBvY2hTdGFydCA9IG1vbWVudCh2bS5zdGFydFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG4gICAgdm0uZXBvY2hFbmQgPSBtb21lbnQodm0uZW5kVGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcbiAgICB2bS5wcmV2X2N1cnNvciA9IG51bGw7XG4gICAgdm0ubmV4dF9jdXJzb3IgPSBudWxsO1xuICAgIGxldCBpc3N1ZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0SXNzdWVzQnlLZXkodm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgdm0ucHJldl9jdXJzb3IsIHZtLm5leHRfY3Vyc29yKTtcbiAgICByZXR1cm4gaXNzdWVzUHJvbWlzZS50aGVuKChkYXRhID0+IHZtLm9uUmVmcmVzaElzc3Vlc1N1Y2Nlc3MoZGF0YSkpLCBlcnJvciA9PiB2bS5vblJlZnJlc2hJc3N1ZXNGYWlsdXJlKGVycm9yKSk7XG4gIH07XG5cbiAgdm0ub25SZWZyZXNoSXNzdWVzU3VjY2VzcyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG4gICAgdm0uaXNzdWVzID0gZGF0YS5pc3N1ZXM7XG4gICAgdm0ucHJldl9jdXJzb3IgPSBkYXRhLnByZXY7XG4gICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG4gICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICB9O1xuXG4gIHZtLm9uUmVmcmVzaElzc3Vlc0ZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBUb2FzdHNTZXJ2aWNlLnNob3dJbmZvVG9hc3QoJ1dlIHdlcmUgdW5hYmxlIHRvIHJlZnJlc2ggdGhlIGRldmljZSBpc3N1ZXMgbGlzdCBhdCB0aGlzIHRpbWUuJyk7XG4gICAgcmV0dXJuICRsb2cuZXJyb3IoYEZhaWx1cmUgdG8gcmVmcmVzaCBkZXZpY2UgaXNzdWVzOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7RGV2aWNlRGV0YWlsc0N0cmx9XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9kZXZpY2UvZGV2aWNlLWRldGFpbHMuY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIERldmljZXNMaXN0aW5nQ3RybCgkc3RhdGVQYXJhbXMsICRsb2csIERldmljZXNTZXJ2aWNlLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBzd2VldCkge1xuICBcIm5nSW5qZWN0XCI7XG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmRpc3RyaWJ1dG9yS2V5ID0gdW5kZWZpbmVkO1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIE1hbmFnZWRcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5kZXZpY2VzID0gW107XG4gIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiU2VyaWFsIE51bWJlclwiO1xuICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB2bS5nY21pZERldmljZXMgPSB7fTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFVubWFuYWdlZFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID0gXCJNQUNcIjtcbiAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuICB2bS51bm1hbmFnZWREaXNhYmxlZCA9IHRydWU7XG4gIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gbnVsbDtcbiAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSBudWxsO1xuICB2bS51bm1hbmFnZWREZXZpY2VzID0gW107XG4gIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSB7fTtcbiAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0ge307XG5cbiAgdm0ucmVmcmVzaE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuICB9O1xuXG4gIHZtLnJlZnJlc2hVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCk7XG4gIH07XG5cbiAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAodW5tYW5hZ2VkKSB7XG4gICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgdm0udW5tYW5hZ2VkU2VhcmNoVGV4dCA9ICcnO1xuICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuICAgICAgcmV0dXJuIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSB7fTtcblxuICAgIH0gZWxzZSB7XG4gICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gICAgICByZXR1cm4gdm0ubWFjRGV2aWNlcyA9IHt9O1xuICAgIH1cbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IChpdGVtKSA9PiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtLCB0cnVlKVxuXG4gIHZtLnByZXBhcmVGb3JFZGl0VmlldyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHNlYXJjaFRleHQpIHtcbiAgICBsZXQgbWFjLCBzZXJpYWwsIGdjbWlkO1xuICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgIG1hYyA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuICAgICAgc2VyaWFsID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuICAgICAgZ2NtaWQgPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIlxuICAgICAgaWYgKG1hYykge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkTWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIG1hYyA9IHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuICAgICAgc2VyaWFsID0gdm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuICAgICAgZ2NtaWQgPSB2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIlxuICAgICAgaWYgKG1hYykge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0ubWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0uc2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0uZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBpc01hdGNoKSB7XG4gICAgaWYgKCF1bm1hbmFnZWQpIHtcbiAgICAgIHZtLmRpc2FibGVkID0gIWlzTWF0Y2g7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWRCdXR0b25Mb2FkaW5nID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZtLnVubWFuYWdlZERpc2FibGVkID0gIWlzTWF0Y2g7XG4gICAgICByZXR1cm4gdm0udW5tYW5hZ2VkRGlzYWJsZWRCdXR0b25Mb2FkaW5nID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG5cbiAgdm0uaXNSZXNvdXJjZVZhbGlkID0gZnVuY3Rpb24gKHVubWFuYWdlZCwgcmVzb3VyY2UpIHtcbiAgICBsZXQgYnlUZW5hbnQgPSBmYWxzZTtcbiAgICBsZXQgdGVuYW50S2V5ID0gbnVsbDtcbiAgICBsZXQgYnV0dG9uO1xuXG4gICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgYnV0dG9uID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b247XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbiA9IHZtLnNlbGVjdGVkQnV0dG9uO1xuICAgIH1cblxuXG4gICAgRGV2aWNlc1NlcnZpY2UuaXNSZXNvdXJjZVZhbGlkKHJlc291cmNlLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpXG4gICAgICAudGhlbihyZXMgPT4gdm0uY29udHJvbE9wZW5CdXR0b24odW5tYW5hZ2VkLCByZXNbXCJpc19tYXRjaFwiXSkpO1xuICB9O1xuXG5cbiAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHBhcnRpYWwpIHtcbiAgICBsZXQgYnV0dG9uO1xuICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgIGJ1dHRvbiA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBidXR0b24gPSB2bS5zZWxlY3RlZEJ1dHRvbjtcbiAgICB9XG5cbiAgICBsZXQgYnlUZW5hbnQgPSBmYWxzZTtcbiAgICBsZXQgdGVuYW50S2V5ID0gbnVsbDtcblxuICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgIGxldCBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcbiAgICAgICAgICBpZiAoYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuICAgICAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgICAgICAgICB2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcbiAgICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICAgICAgdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlc1swXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICAgICAgICAgIHZtLnVubWFuYWdlZEdDTWlkRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLmdjbWlkRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbXVxuICAgICAgICB9XG4gICAgICB9KVxuICB9O1xuXG4gIHZtLmdldE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKGtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBkZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZXNCeURpc3RyaWJ1dG9yKGtleSwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIGRldmljZXNQcm9taXNlLnRoZW4oKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgdm0uZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG4gICAgICB2bS5kZXZpY2VzTmV4dCA9IHJlc3BvbnNlLm5leHRfY3Vyc29yO1xuICAgICAgdm0uZGV2aWNlc1ByZXYgPSByZXNwb25zZS5wcmV2X2N1cnNvcjtcbiAgICAgIHJldHVybiB2bS5nZXRGZXRjaFN1Y2Nlc3MoKTtcbiAgICB9KSwgcmVzcG9uc2UgPT4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKSk7XG4gIH07XG5cbiAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uIChrZXksIHByZXYsIG5leHQpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgdW5tYW5hZ2VkRGV2aWNlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRVbm1hbmFnZWREZXZpY2VzQnlEaXN0cmlidXRvcihrZXksIHByZXYsIG5leHQpO1xuICAgIHJldHVybiB1bm1hbmFnZWREZXZpY2VzUHJvbWlzZS50aGVuKChmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHZtLnVubWFuYWdlZERldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYgPSByZXNwb25zZS5wcmV2X2N1cnNvcjtcbiAgICAgIHZtLnVubWFuYWdlZERldmljZXNOZXh0ID0gcmVzcG9uc2UubmV4dF9jdXJzb3I7XG4gICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hTdWNjZXNzKCk7XG4gICAgfSksIHJlc3BvbnNlID0+IHZtLmdldEZldGNoRmFpbHVyZShyZXNwb25zZSkpO1xuICB9O1xuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG4gICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG4gICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCk7XG4gIH07XG5cbiAgdm0uZ2V0RmV0Y2hTdWNjZXNzID0gKCkgPT4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cbiAgdm0uZ2V0RmV0Y2hGYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IGBVbmFibGUgdG8gZmV0Y2ggZGV2aWNlcy4gRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9LmA7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuICB9O1xuXG5cbiAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQsIG1hbmFnZWQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgaWYgKG1hbmFnZWQpIHtcbiAgICAgICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIG51bGwsIHZtLmRldmljZXNOZXh0KTtcbiAgICAgIH1cbiAgICAgIGlmICghbWFuYWdlZCkge1xuICAgICAgICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCBudWxsLCB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZm9yd2FyZCkge1xuICAgICAgaWYgKG1hbmFnZWQpIHtcbiAgICAgICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLmRldmljZXNQcmV2LCBudWxsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFtYW5hZ2VkKSB7XG4gICAgICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS51bm1hbmFnZWREZXZpY2VzUHJldiwgbnVsbCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cbmV4cG9ydCB7RGV2aWNlc0xpc3RpbmdDdHJsfVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NsaWVudC9hcHAvZGV2aWNlL2RldmljZXMtbGlzdGluZy5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gQWRtaW5DdHJsKEFkbWluU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgVG9hc3RzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAkbWREaWFsb2csXG4gICAgICAgICAgICAgICAgICAgRGlzdHJpYnV0b3JzU2VydmljZSkge1xuICBsZXQgdm0gPSB0aGlzO1xuXG4gIHZtLmdldEFsbERpc3RyaWJ1dG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5sb2FkaW5nQWxsRGlzdHJpYnV0b3JzID0gdHJ1ZTtcbiAgICBsZXQgZ2V0QWxsRGlzdHJpYnV0b3JzUHJvbWlzZSA9IEFkbWluU2VydmljZS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcbiAgICByZXR1cm4gZ2V0QWxsRGlzdHJpYnV0b3JzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5sb2FkaW5nQWxsRGlzdHJpYnV0b3JzID0gZmFsc2U7XG4gICAgICByZXR1cm4gdm0uYWxsRGlzdHJpYnV0b3JzID0gZGF0YTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5hZGRVc2VyVG9EaXN0cmlidXRvciA9IGZ1bmN0aW9uIChldiwgdXNlckVtYWlsLCBkaXN0cmlidXRvckFkbWluLCB3aGljaERpc3RyaWJ1dG9yLCBmb3JtKSB7XG4gICAgaWYgKCFkaXN0cmlidXRvckFkbWluKSB7XG4gICAgICBkaXN0cmlidXRvckFkbWluID0gZmFsc2U7XG4gICAgfVxuICAgIGxldCB3aXRoT3JXaXRob3V0ID0gZGlzdHJpYnV0b3JBZG1pbiA/IFwid2l0aFwiIDogXCJ3aXRob3V0XCI7XG5cbiAgICAvLyBubyBvcHRpb24gdG8gc2VsZWN0IGRpc3RyaWJ1dG9yIGlzIGdpdmVuIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgb3B0aW9uXG4gICAgaWYgKCF3aGljaERpc3RyaWJ1dG9yKSB7XG4gICAgICB3aGljaERpc3RyaWJ1dG9yID0gdm0uZGlzdHJpYnV0b3JzQXNBZG1pblswXTtcbiAgICB9XG5cbiAgICBsZXQgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKFxuICAgICAge1xuICAgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLFxuICAgICAgICB0ZXh0Q29udGVudDogYCR7dXNlckVtYWlsfSB3aWxsIGJlIGFkZGVkIHRvICR7d2hpY2hEaXN0cmlidXRvcn1cbiAgICAgICAgJHt3aXRoT3JXaXRob3V0fSBhZG1pbmlzdHJhdG9yIHByaXZpbGVnZXNgLFxuICAgICAgICB0YXJnZXRFdmVudDogZXYsXG4gICAgICAgIG9rOiAnT2YgY291cnNlIScsXG4gICAgICAgIGNhbmNlbDogJ09vcHMsIG5ldmVybWluZC4nXG4gICAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBhZGRVc2VyVG9EaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UuYWRkVXNlclRvRGlzdHJpYnV0b3IodXNlckVtYWlsLCB3aGljaERpc3RyaWJ1dG9yLCBkaXN0cmlidXRvckFkbWluKTtcbiAgICAgIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICB2bS51c2VyID0ge307XG4gICAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XG4gICAgICAgIGZvcm0uJHNldFVudG91Y2hlZCgpO1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKCkgPT4gdm0uZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKCkpLCAyMDAwKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlLmNhdGNoKGRhdGEgPT4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChkYXRhLmRhdGEubWVzc2FnZSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLm1ha2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uIChldiwgZGlzdHJpYnV0b3JOYW1lLCBhZG1pbkVtYWlsLCBmb3JtKSB7XG4gICAgbGV0IGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybShcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JyxcbiAgICAgICAgdGV4dENvbnRlbnQ6IGBJZiB5b3UgcHJvY2VlZCwgJHtkaXN0cmlidXRvck5hbWV9IHdpbGwgYmUgY3JlYXRlZC5gLFxuICAgICAgICB0YXJnZXRFdmVudDogZXYsXG4gICAgICAgIGFyaWFMYWJlbDogJ0x1Y2t5IGRheScsXG4gICAgICAgIG9rOiAnWWVhaCEnLFxuICAgICAgICBjYW5jZWw6ICdGb3JnZXQgaXQuJ1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oKGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBtYWtlRGlzdHJpYnV0b3JQcm9taXNlID0gQWRtaW5TZXJ2aWNlLm1ha2VEaXN0cmlidXRvcihkaXN0cmlidXRvck5hbWUsIGFkbWluRW1haWwpO1xuICAgICAgbWFrZURpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZtLmRpc3RyaWJ1dG9yID0ge307XG4gICAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XG4gICAgICAgIGZvcm0uJHNldFVudG91Y2hlZCgpO1xuICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKCgpID0+IHZtLmFsbERpc3RyaWJ1dG9ycyA9IHZtLmdldEFsbERpc3RyaWJ1dG9ycygpKSwgMjAwMCk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG1ha2VEaXN0cmlidXRvclByb21pc2UuY2F0Y2goZGF0YSA9PiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGRhdGEuZGF0YS5tZXNzYWdlKSk7XG4gICAgfSkpO1xuICB9O1xuXG4gIHZtLmdldFVzZXJzT2ZEaXN0cmlidXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5sb2FkaW5nVXNlcnNPZkRpc3RyaWJ1dG9yID0gdHJ1ZTtcbiAgICBsZXQgY3VycmVudERpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuICAgIGxldCB1c2Vyc29mRGlzdHJpYnV0b3JQcm9taXNlID0gQWRtaW5TZXJ2aWNlLmdldFVzZXJzT2ZEaXN0cmlidXRvcihjdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuICAgIHJldHVybiB1c2Vyc29mRGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmxvYWRpbmdVc2Vyc09mRGlzdHJpYnV0b3IgPSBmYWxzZTtcbiAgICAgIHJldHVybiB2bS51c2Vyc09mRGlzdHJpYnV0b3IgPSBkYXRhO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLnN3aXRjaERpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGRpc3RyaWJ1dG9yKSB7XG4gICAgRGlzdHJpYnV0b3JzU2VydmljZS5zd2l0Y2hEaXN0cmlidXRvcihkaXN0cmlidXRvcik7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChgRGlzdHJpYnV0b3IgJHtkaXN0cmlidXRvci5uYW1lfSBzZWxlY3RlZCFgKTtcbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmdldFVzZXJzT2ZEaXN0cmlidXRvcigpO1xuICAgIHZtLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuICAgIHZtLmlzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0SXNBZG1pbigpO1xuICAgIHZtLmRpc3RyaWJ1dG9yc0FzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuICAgIHZtLmN1cnJlbnREaXN0cmlidXRvck5hbWUgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpO1xuXG4gICAgaWYgKHZtLmlzQWRtaW4pIHtcbiAgICAgIHJldHVybiB2bS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0FkbWluQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9hZG1pbi9hZG1pbi1jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gQXV0aGVudGljYXRpb25DdHJsKCRzY29wZSwgJGxvZywgJHN0YXRlLCAkdGltZW91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb29mUGxheVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGV2aWNlc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGVuYW50c1NlcnZpY2UpIHtcbiAgbGV0IHZtID0gdGhpcztcblxuICB2bS5vbkdvb2dsZVBsdXNTaWduSW5TdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50LCBhdXRoUmVzdWx0KSB7XG4gICAgaWYgKCF2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCkge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgfVxuICAgIFNlc3Npb25zU2VydmljZS5yZW1vdmVVc2VySW5mbygpXG4gICAgbGV0IHByb21pc2UgPSBTZXNzaW9uc1NlcnZpY2UubG9naW4oYXV0aFJlc3VsdCk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5sb2dpblN1Y2Nlc3MsIHZtLmxvZ2luRmFpbHVyZSk7XG4gIH07XG5cblxuICB2bS5vbkdvb2dsZVBsdXNTaWduSW5GYWlsdXJlID0gZnVuY3Rpb24gKGV2ZW50LCBhdXRoUmVzdWx0KSB7XG4gICAgaWYgKHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkKSB7XG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBhdXRoZW50aWNhdGUgdG8gR29vZ2xlKy4nLCAnZXJyb3InKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLiRvbignZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLXN1Y2Nlc3MnLCB2bS5vbkdvb2dsZVBsdXNTaWduSW5TdWNjZXNzKTtcbiAgJHNjb3BlLiRvbignZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLWZhaWx1cmUnLCB2bS5vbkdvb2dsZVBsdXNTaWduSW5GYWlsdXJlKTtcblxuICB2bS5pbml0aWFsaXplU2lnbkluID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmNsaWVudElkID0gaWRlbnRpdHkuT0FVVEhfQ0xJRU5UX0lEO1xuICAgIHZtLnN0YXRlID0gaWRlbnRpdHkuU1RBVEU7XG4gICAgcmV0dXJuIHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkID0gZmFsc2U7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZVNpZ25PdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgU2Vzc2lvbnNTZXJ2aWNlLnJlbW92ZVVzZXJJbmZvKCk7XG4gICAgcmV0dXJuICR0aW1lb3V0KHZtLnByb2NlZWRUb1NpZ25lZE91dCwgNTApO1xuICB9O1xuXG4gIHZtLmxvZ2luU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiAkc3RhdGUuZ28oJ2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbicpO1xuICB9O1xuXG4gIHZtLmxvZ2luRmFpbHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gYXV0aGVudGljYXRlIHRvIFN0b3JtcGF0aC4nLCAnZXJyb3InKTtcbiAgfTtcblxuXG4gIHZtLnByb2NlZWRUb1NpZ25lZE91dCA9ICgpID0+ICRzdGF0ZS5nbygnc2lnbmVkX291dCcpO1xuXG4gIHZtLnByb2NlZWRUb1NpZ25JbiA9ICgpID0+ICRzdGF0ZS5nbygnc2lnbl9pbicpO1xuXG4gIHZtLm9uQ2xpY2tHb29nbGVQbHVzU2lnbkluID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkID0gdHJ1ZTtcbiAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0F1dGhlbnRpY2F0aW9uQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9hdXRoZW50aWNhdGlvbi9hdXRoZW50aWNhdGlvbi1jb250cm9sbGVyLmpzXG4gKiovIiwiaW1wb3J0IGNvbnRhaW5zIGZyb20gJ2xvZGFzaC5jb250YWlucyc7XG5cbmZ1bmN0aW9uIEFwcENvbnRyb2xsZXIoJG1kU2lkZW5hdiwgJHN0YXRlLCAkd2luZG93LCBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG5cbiAgdm0uaWRlbnRpdHkgPSB7fTtcblxuICB2bS5jdXJyZW50RGlzdHJpYnV0ZXJJbkRpc3RyaWJ1dGVyQWRtaW5MaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBjdXJyZW50RGlzdHJpYnV0b3JOYW1lID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKTtcbiAgICBsZXQgZGlzdHJpYnV0b3JzQXNBZG1pbiA9IFNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCk7XG4gICAgcmV0dXJuIGNvbnRhaW5zKGRpc3RyaWJ1dG9yc0FzQWRtaW4sIGN1cnJlbnREaXN0cmlidXRvck5hbWUpO1xuICB9O1xuICBcbiAgdm0uaWRlbnRpdHkgPSB7XG4gICAga2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpLFxuICAgIGVtYWlsOiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCksXG4gICAgYWRtaW46IFNlc3Npb25zU2VydmljZS5nZXRJc0FkbWluKCksXG4gICAgZGlzdHJpYnV0b3JfYWRtaW46IFNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCksXG4gICAgYWRtaW5fb2ZfY3VycmVudF9kaXN0cmlidXRvcjogdm0uY3VycmVudERpc3RyaWJ1dGVySW5EaXN0cmlidXRlckFkbWluTGlzdCgpLFxuICAgIGRpc3RyaWJ1dG9yS2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksXG4gICAgZGlzdHJpYnV0b3JOYW1lOiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpXG4gIH1cblxuICB2bS5nZXRJZGVudGl0eSA9ICgpID0+IHtcbiAgICByZXR1cm4gdm0uaWRlbnRpdHlcbiAgfTtcblxuICB2bS5pc0N1cnJlbnRVUkxEaXN0cmlidXRvclNlbGVjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCB0ZXN0ID0gJHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNlYXJjaCgvZGlzdHJpYnV0b3Jfc2VsZWN0aW9uLyk7XG4gICAgbGV0IHJlc3VsdCA9IHRlc3QgPj0gMDtcbiAgICByZXR1cm4gcmVzdWx0XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9ICgpID0+IHZtLmdldElkZW50aXR5KCk7XG5cbiAgdm0udG9nZ2xlU2lkZW5hdiA9ICgpID0+ICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcblxuICB2bS5nb1RvID0gZnVuY3Rpb24gKHN0YXRlTmFtZSwgaWQpIHtcbiAgICAkc3RhdGUuZ28oc3RhdGVOYW1lLCB7aWR9KTtcbiAgICBpZiAoJG1kU2lkZW5hdignbGVmdCcpLmlzT3BlbigpKSB7XG4gICAgICByZXR1cm4gJG1kU2lkZW5hdignbGVmdCcpLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtBcHBDb250cm9sbGVyfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL2FwcC9hcHAtY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIERpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsKCRsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXN0cmlidXRvcnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uZGlzdHJpYnV0b3JzID0gW107XG4gIHZtLmN1cnJlbnREaXN0cmlidXRvciA9IHVuZGVmaW5lZDtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICBsZXQgZGlzdHJpYnV0b3JzUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZmV0Y2hBbGxCeVVzZXIoU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSk7XG4gICAgcmV0dXJuIGRpc3RyaWJ1dG9yc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uZGlzdHJpYnV0b3JzID0gZGF0YTtcbiAgICAgIGlmICh2bS5kaXN0cmlidXRvcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB2bS5zZWxlY3REaXN0cmlidXRvcih2bS5kaXN0cmlidXRvcnNbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuXG4gIHZtLnNlbGVjdERpc3RyaWJ1dG9yID0gZGlzdHJpYnV0b3IgPT4gRGlzdHJpYnV0b3JzU2VydmljZS5zd2l0Y2hEaXN0cmlidXRvcihkaXN0cmlidXRvcik7XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0Rpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9yLXNlbGVjdG9yLWNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBEaXN0cmlidXRvcnNDdHJsKCRzdGF0ZSkge1xuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5kaXN0cmlidXRvcnMgPSBbXTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7RGlzdHJpYnV0b3JzQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9kaXN0cmlidXRvci9kaXN0cmlidXRvcnMtY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIERvbWFpbnNDdHJsKCRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgIERvbWFpbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgc3dlZXQpIHtcbiAgLy8gXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmRvbWFpbnMgPSBbXTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBwcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZmV0Y2hBbGxEb21haW5zKCk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbihkYXRhID0+IHZtLmRvbWFpbnMgPSBkYXRhKTtcbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IGl0ZW0gPT4gJHN0YXRlLmdvKCdlZGl0RG9tYWluJywge2RvbWFpbktleTogaXRlbS5rZXl9KTtcblxuICB2bS5kZWxldGVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBsZXQgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmRlbGV0ZShpdGVtKTtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oKCkgPT4gdm0uaW5pdGlhbGl6ZSgpKTtcbiAgICB9O1xuICAgIHJldHVybiBzd2VldC5zaG93KHtcbiAgICAgIHRpdGxlOiBcIkFyZSB5b3Ugc3VyZT9cIixcbiAgICAgIHRleHQ6IFwiVGhpcyB3aWxsIHBlcm1hbmVudGx5IHJlbW92ZSB0aGUgZG9tYWluIGZyb20gdGhlIGRpc3RyaWJ1dG9yIGFuZCBkaXNjb25uZWN0IGZyb20gdGVuYW50cy5cIixcbiAgICAgIHR5cGU6IFwid2FybmluZ1wiLFxuICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcbiAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogXCIjREQ2QjU1XCIsXG4gICAgICBjb25maXJtQnV0dG9uVGV4dDogXCJZZXMsIHJlbW92ZSB0aGUgZG9tYWluIVwiLFxuICAgICAgY2xvc2VPbkNvbmZpcm06IHRydWVcbiAgICB9LCBjYWxsYmFjayk7XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0RvbWFpbnNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL2RvbWFpbi9kb21haW5zLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBEb21haW5EZXRhaWxzQ3RybCgkbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlUGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlzdHJpYnV0b3JzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIERvbWFpbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dlZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5jdXJyZW50RG9tYWluID0ge1xuICAgIGtleTogdW5kZWZpbmVkLFxuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICBpbXBlcnNvbmF0aW9uX2FkbWluX2VtYWlsX2FkZHJlc3M6IHVuZGVmaW5lZCxcbiAgICBkaXN0cmlidXRvcl9rZXk6IHVuZGVmaW5lZCxcbiAgICBhY3RpdmU6IHRydWVcbiAgfTtcbiAgdm0uY3VycmVudERvbWFpbnMgPSBbXTtcbiAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy5kb21haW5LZXk7XG5cbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IGRvbWFpblByb21pc2UgPSBEb21haW5zU2VydmljZS5nZXREb21haW5CeUtleSgkc3RhdGVQYXJhbXMuZG9tYWluS2V5KTtcbiAgICBkb21haW5Qcm9taXNlLnRoZW4oZGF0YSA9PiB2bS5jdXJyZW50RG9tYWluID0gZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgdm0uY3VycmVudERvbWFpbi5kaXN0cmlidXRvcl9rZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG4gIH1cblxuICB2bS5vblNhdmVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBEb21haW5zU2VydmljZS5zYXZlKHZtLmN1cnJlbnREb21haW4pO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzU2F2ZURvbWFpbiwgdm0ub25GYWlsdXJlU2F2ZURvbWFpbik7XG4gIH07XG5cbiAgdm0ub25TdWNjZXNzU2F2ZURvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcbiAgfTtcblxuICB2bS5vbkZhaWx1cmVTYXZlRG9tYWluID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAkbG9nLmluZm8oYEZhaWx1cmUgc2F2aW5nIGRvbWFpbi4gRG9tYWluIGFscmVhZHkgZXhpc3RzOiAke2Vycm9yLnN0YXR1c30gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGhpcyBkb21haW4gbmFtZSBhbHJlYWR5IGV4aXN0LiBQbGVhc2UgZW50ZXIgYSB1bmlxdWUgZG9tYWluIG5hbWUuJywgJ2Vycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRsb2cuZXJyb3IoYEZhaWx1cmUgc2F2aW5nIGRvbWFpbjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gc2F2ZSB5b3VyIHVwZGF0ZXMgYXQgdGhpcyB0aW1lLicpO1xuICAgIH1cbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IGl0ZW0gPT4gJHN0YXRlLmdvKCdlZGl0RG9tYWluJywge2RvbWFpbktleTogaXRlbS5rZXl9KTtcblxuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEb21haW5EZXRhaWxzQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9kb21haW4vZG9tYWluLWRldGFpbHMuY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcbiAgbGV0IHZtID0gdGhpcztcbiAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuICAgIGdyb3VwMTogJ0J5IERldmljZScsXG4gICAgZ3JvdXAyOiAnU3VtbWFyaXplZCcsXG4gICAgc2VsZWN0aW9uOiBudWxsXG4gIH07XG5cblxuICB2bS5kYXRlVGltZVNlbGVjdGlvbiA9IHtcbiAgICBzdGFydDogbnVsbCxcbiAgICBlbmQ6IG51bGxcbiAgfTtcblxuICB2bS5mb3JtVmFsaWRpdHkgPSB7XG4gICAgc3RhcnRfZGF0ZTogZmFsc2UsXG4gICAgZW5kX2RhdGU6IGZhbHNlLFxuICAgIGxvY2F0aW9uczogZmFsc2UsXG4gIH07XG5cbiAgdm0udGVuYW50ID0gJHN0YXRlUGFyYW1zLnRlbmFudDtcbiAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gIHZtLnNlbGVjdGVkX2xvY2F0aW9ucyA9IFtdO1xuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsTG9jYXRpb25zKHZtLnRlbmFudClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdm0ubG9jYXRpb25zID0gZGF0YS5kYXRhLmxvY2F0aW9ucztcbiAgICAgICAgaWYgKHZtLmxvY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgO1xuXG4gIHZtLnJlZnJlc2hMb2NhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMgPSBbXTtcbiAgICBQcm9vZlBsYXlTZXJ2aWNlLnByb29mcGxheUNhY2hlLnJlbW92ZUFsbCgpO1xuICAgIHJldHVybiB2bS5pbml0aWFsaXplKCk7XG4gIH07XG5cbiAgdm0uYWRkVG9TZWxlY3RlZExvY2F0aW9ucyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKHZtLmlzTG9jYXRpb25WYWxpZChzZWFyY2hUZXh0KSkge1xuICAgICAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zLnB1c2goc2VhcmNoVGV4dCk7XG4gICAgICBsZXQgaW5kZXggPSB2bS5sb2NhdGlvbnMuaW5kZXhPZihzZWFyY2hUZXh0KTtcbiAgICAgIHZtLmxvY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuICAgIH1cbiAgICB2bS5hcmVMb2NhdGlvbnNWYWxpZCgpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0ucXVlcnlTZWFyY2ggPSAobG9jYXRpb25zLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKGxvY2F0aW9ucywgc2VhcmNoVGV4dCk7XG5cblxuICB2bS5pc1JhZGlvVmFsaWQgPSBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LnR5cGUgPSBzZWxlY3Rpb247XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzTG9jYXRpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5sb2NhdGlvbnMpKSB7XG4gICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9sb2NhdGlvbnMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG5cbiAgdm0uYXJlTG9jYXRpb25zVmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LmxvY2F0aW9ucyA9ICh2bS5zZWxlY3RlZF9sb2NhdGlvbnMubGVuZ3RoID4gMCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5pc1N0YXJ0RGF0ZVZhbGlkID0gZnVuY3Rpb24gKHN0YXJ0X2RhdGUpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IChzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRW5kRGF0ZVZhbGlkID0gZnVuY3Rpb24gKGVuZF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gKGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWRMb2NhdGlvbiA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgbGV0IGluZGV4ID0gdm0uc2VsZWN0ZWRfbG9jYXRpb25zLmluZGV4T2YoaXRlbSk7XG4gICAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgdm0ubG9jYXRpb25zLnB1c2goaXRlbSk7XG4gICAgdm0uYXJlTG9jYXRpb25zVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5sb2NhdGlvbnMgJiYgdm0uZm9ybVZhbGlkaXR5LnR5cGUpIHtcbiAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG4gICAgICAgIHN0YXJ0X2RhdGVfdW5peDogbW9tZW50KHZtLmRhdGVUaW1lU2VsZWN0aW9uLnN0YXJ0KS51bml4KCksXG4gICAgICAgIGVuZF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcbiAgICAgICAgbG9jYXRpb25zOiB2bS5zZWxlY3RlZF9sb2NhdGlvbnMsXG4gICAgICAgIHR5cGU6IHZtLnJhZGlvQnV0dG9uQ2hvaWNlcy5zZWxlY3Rpb25cblxuICAgICAgfTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICB2bS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2Uodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5sb2NhdGlvbnMsIHZtLnRlbmFudCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5sb2NhdGlvbnMsIHZtLnRlbmFudCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLnRlbmFudHMgPSBudWxsO1xuICB2bS5jdXJyZW50VGVuYW50ID0gdm0udGVuYW50O1xuXG4gIHZtLmluaXRpYWxpemVfdGVuYW50X3NlbGVjdCA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKClcbiAgICAgIC50aGVuKGRhdGEgPT4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzKVxuICA7XG5cbiAgdm0ucXVlcnlTZWFyY2ggPSAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cbiAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcbiAgICBpZiAoX19pbl9fKHNlYXJjaCwgdm0udGVuYW50cykpIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG4gICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuICAgICAgICB0ZW5hbnRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJHt0ZW5hbnR9YCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoYFByb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICR7dGVuYW50fWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdm07XG59O1xuXG5mdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG59XG5cbmV4cG9ydCB7UHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9wcm9vZi9tdWx0aS1sb2NhdGlvbi5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG4gIGxldCB2bSA9IHRoaXM7XG5cbiAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuICAgIGdyb3VwMTogJ0J5IERhdGUnLFxuICAgIGdyb3VwMjogJ1N1bW1hcml6ZWQnLFxuICAgIHNlbGVjdGlvbjogbnVsbFxuICB9O1xuXG5cbiAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG4gICAgc3RhcnQ6IG51bGwsXG4gICAgZW5kOiBudWxsXG4gIH07XG5cbiAgdm0uZm9ybVZhbGlkaXR5ID0ge1xuICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuICAgIGVuZF9kYXRlOiBmYWxzZSxcbiAgICBkaXNwbGF5czogZmFsc2UsXG4gIH07XG5cbiAgdm0udGVuYW50ID0gJHN0YXRlUGFyYW1zLnRlbmFudDtcbiAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gIHZtLnNlbGVjdGVkX2Rpc3BsYXlzID0gW107XG5cblxuICB2bS5pbml0aWFsaXplID0gKCkgPT5cbiAgICBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbERpc3BsYXlzKHZtLnRlbmFudClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdm0uZGlzcGxheXMgPSBkYXRhLmRhdGEuZGV2aWNlcztcbiAgICAgICAgaWYgKHZtLmRpc3BsYXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KVxuICA7XG5cbiAgdm0ucmVmcmVzaERpc3BsYXlzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5zZWxlY3RlZEl0ZW0gPSAnJztcbiAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VsZWN0ZWRfZGlzcGxheXMgPSBbXTtcbiAgICBQcm9vZlBsYXlTZXJ2aWNlLnByb29mcGxheUNhY2hlLnJlbW92ZUFsbCgpO1xuICAgIHJldHVybiB2bS5pbml0aWFsaXplKCk7XG4gIH07XG5cbiAgdm0uYWRkVG9TZWxlY3RlZERpc3BsYXlzID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcbiAgICBpZiAodm0uaXNEaXNwbGF5VmFsaWQoc2VhcmNoVGV4dCkpIHtcbiAgICAgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzLnB1c2goc2VhcmNoVGV4dCk7XG4gICAgICBsZXQgaW5kZXggPSB2bS5kaXNwbGF5cy5pbmRleE9mKHNlYXJjaFRleHQpO1xuICAgICAgdm0uZGlzcGxheXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB9XG4gICAgdm0uYXJlRGlzcGxheXNWYWxpZCgpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0ucXVlcnlTZWFyY2ggPSAoZGlzcGxheXMsIHNlYXJjaFRleHQpID0+IFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2goZGlzcGxheXMsIHNlYXJjaFRleHQpO1xuXG5cbiAgdm0uaXNSYWRpb1ZhbGlkID0gZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc0Rpc3BsYXlWYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5kaXNwbGF5cykpIHtcbiAgICAgIGlmICghX19pbl9fKHNlYXJjaFRleHQsIHZtLnNlbGVjdGVkX2Rpc3BsYXlzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICB2bS5hcmVEaXNwbGF5c1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5kaXNwbGF5cyA9ICh2bS5zZWxlY3RlZF9kaXNwbGF5cy5sZW5ndGggPiAwKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLmlzU3RhcnREYXRlVmFsaWQgPSBmdW5jdGlvbiAoc3RhcnRfZGF0ZSkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlID0gKHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBEYXRlKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNFbmREYXRlVmFsaWQgPSBmdW5jdGlvbiAoZW5kX2RhdGUpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgPSAoZW5kX2RhdGUgaW5zdGFuY2VvZiBEYXRlKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnJlbW92ZUZyb21TZWxlY3RlZERpc3BsYXkgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGxldCBpbmRleCA9IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLmluZGV4T2YoaXRlbSk7XG4gICAgdm0uc2VsZWN0ZWRfZGlzcGxheXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB2bS5kaXNwbGF5cy5wdXNoKGl0ZW0pO1xuICAgIHZtLmFyZURpc3BsYXlzVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5kaXNwbGF5cyAmJiB2bS5mb3JtVmFsaWRpdHkudHlwZSkge1xuICAgICAgdm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiB2bS5maW5hbCA9IHtcbiAgICAgICAgc3RhcnRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uc3RhcnQpLnVuaXgoKSxcbiAgICAgICAgZW5kX2RhdGVfdW5peDogbW9tZW50KHZtLmRhdGVUaW1lU2VsZWN0aW9uLmVuZCkudW5peCgpLFxuICAgICAgICBkaXNwbGF5czogdm0uc2VsZWN0ZWRfZGlzcGxheXMsXG4gICAgICAgIHR5cGU6IHZtLnJhZGlvQnV0dG9uQ2hvaWNlcy5zZWxlY3Rpb25cblxuICAgICAgfTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICB2bS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHZtLmZpbmFsLmRpc3BsYXlzLCB2bS50ZW5hbnQpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzU3VtbWFyaXplZCh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHZtLmZpbmFsLmRpc3BsYXlzLCB2bS50ZW5hbnQpO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLnRlbmFudHMgPSBudWxsO1xuICB2bS5jdXJyZW50VGVuYW50ID0gdm0udGVuYW50O1xuXG4gIHZtLmluaXRpYWxpemVfdGVuYW50X3NlbGVjdCA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKClcbiAgICAgIC50aGVuKGRhdGEgPT4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzKVxuICA7XG5cbiAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQgIT09IHZtLmN1cnJlbnRUZW5hbnQpIHtcbiAgICAgICRzdGF0ZS5nbygncHJvb2ZEZXRhaWwnLCB7XG4gICAgICAgIHRlbmFudFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoYFByb29mIG9mIFBsYXkgcmVwb3J0aW5nIHNldCB0byAke3RlbmFudH1gKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChgUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgaXMgYWxyZWFkeSBzZXQgdG8gJHt0ZW5hbnR9YCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKHJlc291cmNlcywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXG4gIHZtLmlzU2VsZWN0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoKSB7XG4gICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cblxuICByZXR1cm4gdm07XG59O1xuXG5mdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG59XG5cbmV4cG9ydCB7UHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL3Byb29mL211bHRpLWRpc3BsYXkuY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIFByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcbiAgbGV0IHZtID0gdGhpcztcbiAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuICAgIGdyb3VwMTogJ0J5IERldmljZScsXG4gICAgZ3JvdXAyOiAnQnkgRGF0ZScsXG4gICAgc2VsZWN0aW9uOiBudWxsXG4gIH07XG5cblxuICB2bS5kYXRlVGltZVNlbGVjdGlvbiA9IHtcbiAgICBzdGFydDogbnVsbCxcbiAgICBlbmQ6IG51bGxcbiAgfTtcblxuICB2bS5mb3JtVmFsaWRpdHkgPSB7XG4gICAgc3RhcnRfZGF0ZTogZmFsc2UsXG4gICAgZW5kX2RhdGU6IGZhbHNlLFxuICAgIHJlc291cmNlczogZmFsc2UsXG4gIH07XG5cbiAgdm0udGVuYW50ID0gJHN0YXRlUGFyYW1zLnRlbmFudDtcbiAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gIHZtLnNlbGVjdGVkX3Jlc291cmNlcyA9IFtdO1xuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsUmVzb3VyY2VzKHZtLnRlbmFudClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdm0uZnVsbF9yZXNvdXJjZV9tYXAgPSBkYXRhLmRhdGEucmVzb3VyY2VzO1xuICAgICAgICB2bS5yZXNvdXJjZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmRhdGEucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IHJlc291cmNlID0gZGF0YS5kYXRhLnJlc291cmNlc1tpXTtcbiAgICAgICAgICB2bS5yZXNvdXJjZXMucHVzaChyZXNvdXJjZS5yZXNvdXJjZV9uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2bS5yZXNvdXJjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIDtcblxuICB2bS5yZWZyZXNoUmVzb3VyY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5zZWxlY3RlZEl0ZW0gPSAnJztcbiAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzID0gW107XG4gICAgUHJvb2ZQbGF5U2VydmljZS5wcm9vZnBsYXlDYWNoZS5yZW1vdmVBbGwoKTtcbiAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG4gIHZtLmFkZFRvU2VsZWN0ZWRSZXNvdXJjZXMgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmICh2bS5pc1Jlc291cmNlVmFsaWQoc2VhcmNoVGV4dCkpIHtcbiAgICAgIHZtLnNlbGVjdGVkX3Jlc291cmNlcy5wdXNoKHNlYXJjaFRleHQpO1xuICAgICAgbGV0IGluZGV4ID0gdm0ucmVzb3VyY2VzLmluZGV4T2Yoc2VhcmNoVGV4dCk7XG4gICAgICB2bS5yZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB9XG4gICAgdm0uYXJlUmVzb3VyY2VzVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKHJlc291cmNlcywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXG5cbiAgdm0uaXNSYWRpb1ZhbGlkID0gZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0ucmVzb3VyY2VzKSkge1xuICAgICAgaWYgKCFfX2luX18oc2VhcmNoVGV4dCwgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLmFyZVJlc291cmNlc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5yZXNvdXJjZXMgPSAodm0uc2VsZWN0ZWRfcmVzb3VyY2VzLmxlbmd0aCA+IDApO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgPSAoc3RhcnRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSA9IChlbmRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0ucmVtb3ZlRnJvbVNlbGVjdGVkUmVzb3VyY2UgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGxldCBpbmRleCA9IHZtLnNlbGVjdGVkX3Jlc291cmNlcy5pbmRleE9mKGl0ZW0pO1xuICAgIHZtLnNlbGVjdGVkX3Jlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHZtLnJlc291cmNlcy5wdXNoKGl0ZW0pO1xuICAgIHZtLmFyZVJlc291cmNlc1ZhbGlkKCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkucmVzb3VyY2VzICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG4gICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHZtLmZpbmFsID0ge1xuICAgICAgICBzdGFydF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuICAgICAgICBlbmRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uZW5kKS51bml4KCksXG4gICAgICAgIHJlc291cmNlczogdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLFxuICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG4gICAgICB9O1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIHZtLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcmVzb3VyY2VzX2FzX2lkcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm0uZmluYWwucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaXRlbSA9IHZtLmZpbmFsLnJlc291cmNlc1tpXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdm0uZnVsbF9yZXNvdXJjZV9tYXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IGVhY2ggPSB2bS5mdWxsX3Jlc291cmNlX21hcFtqXTtcbiAgICAgICAgaWYgKGVhY2hbXCJyZXNvdXJjZV9uYW1lXCJdID09PSBpdGVtKSB7XG4gICAgICAgICAgcmVzb3VyY2VzX2FzX2lkcy5wdXNoKGVhY2hbXCJyZXNvdXJjZV9pZGVudGlmaWVyXCJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGV2aWNlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgcmVzb3VyY2VzX2FzX2lkcywgdm0udGVuYW50KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgcmVzb3VyY2VzX2FzX2lkcywgdm0udGVuYW50KTtcbiAgICB9XG4gIH07XG5cbiAgdm0udGVuYW50cyA9IG51bGw7XG4gIHZtLmN1cnJlbnRUZW5hbnQgPSB2bS50ZW5hbnQ7XG5cbiAgdm0uaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0ID0gKCkgPT5cbiAgICBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbFRlbmFudHMoKVxuICAgICAgLnRoZW4oZGF0YSA9PiB2bS50ZW5hbnRzID0gZGF0YS5kYXRhLnRlbmFudHMpXG4gIDtcblxuICB2bS5xdWVyeVNlYXJjaCA9IChyZXNvdXJjZXMsIHNlYXJjaFRleHQpID0+IFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblxuICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG5cbiAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQgIT09IHZtLmN1cnJlbnRUZW5hbnQpIHtcbiAgICAgICRzdGF0ZS5nbygncHJvb2ZEZXRhaWwnLCB7XG4gICAgICAgIHRlbmFudFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJHt0ZW5hbnR9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBpcyBhbHJlYWR5IHNldCB0byAke3RlbmFudH1gKTtcbiAgICB9XG4gIH07XG5cblxuICByZXR1cm4gdm07XG59O1xuXG5mdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG59XG5cbmV4cG9ydCB7UHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9wcm9vZi9tdWx0aS1yZXNvdXJjZS5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gUHJvb2ZPZlBsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLnJlc291cmNlID0ge3RpdGxlOiBcIlJlc291cmNlIFJlcG9ydFwifTtcbiAgdm0ubG9jYXRpb24gPSB7dGl0bGU6IFwiTG9jYXRpb24gUmVwb3J0XCJ9O1xuICB2bS5kaXNwbGF5ID0ge3RpdGxlOiBcIkRpc3BsYXkgUmVwb3J0XCJ9O1xuXG4gIHZtLmNob3Nlbl90ZW5hbnQgPSBudWxsO1xuICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXG5cbiAgdm0uaW5pdGlhbGl6ZSA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKClcbiAgICAgIC50aGVuKGRhdGEgPT4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzKVxuICA7XG5cbiAgdm0ucXVlcnlTZWFyY2ggPSAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cblxuICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG5cbiAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQpIHtcbiAgICAgIHZtLmNob3Nlbl90ZW5hbnQgPSAodGVuYW50KTtcbiAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuICAgICAgICB0ZW5hbnQ6IHZtLmNob3Nlbl90ZW5hbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2bS5yZWZyZXNoVGVuYW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgICBsZXQgdXJsID0gUHJvb2ZQbGF5U2VydmljZS5tYWtlSFRUUFVSTChcIi9yZXRyaWV2ZV9teV90ZW5hbnRzXCIsICcnKTtcbiAgICBQcm9vZlBsYXlTZXJ2aWNlLnByb29mcGxheUNhY2hlLnJlbW92ZSh1cmwpO1xuICAgIHJldHVybiB2bS5pbml0aWFsaXplKCk7XG4gIH07XG5cblxuICByZXR1cm4gdm07XG59O1xuXG5mdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG59XG5cbmV4cG9ydCB7UHJvb2ZPZlBsYXlDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL3Byb29mL3Byb29mLW9mLXBsYXkuY29udHJvbGxlci5qc1xuICoqLyIsImltcG9ydCAncmVzdGFuZ3VsYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZG1pblNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICAgIHRoaXMuVVNFUl9TRVJWSUNFID0gXCJ1c2Vyc1wiO1xuICAgIHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSA9IFwiZGlzdHJpYnV0b3JzXCI7XG4gIH1cblxuICBtYWtlRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IsIGFkbWluX2VtYWlsKSB7XG4gICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICBkaXN0cmlidXRvcixcbiAgICAgIGFkbWluX2VtYWlsXG4gICAgfTtcblxuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCAnL2FwaS92MS9kaXN0cmlidXRvcnMnKS5jdXN0b21QT1NUKHBheWxvYWQpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgYWRkVXNlclRvRGlzdHJpYnV0b3IodXNlckVtYWlsLCBkaXN0cmlidXRvciwgZGlzdHJpYnV0b3JBZG1pbikge1xuICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgdXNlcl9lbWFpbDogdXNlckVtYWlsLFxuICAgICAgZGlzdHJpYnV0b3IsXG4gICAgICBkaXN0cmlidXRvcl9hZG1pbjogZGlzdHJpYnV0b3JBZG1pblxuICAgIH07XG5cbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuVVNFUl9TRVJWSUNFLCBcIi9hcGkvdjEvdXNlcnNcIikuY3VzdG9tUE9TVChwYXlsb2FkKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldFVzZXJzT2ZEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBgL2FwaS92MS9hbmFseXRpY3MvZGlzdHJpYnV0b3JzLyR7ZGlzdHJpYnV0b3JLZXl9L3VzZXJzYCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRBbGxEaXN0cmlidXRvcnMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIFwiL2FwaS92MS9kaXN0cmlidXRvcnNcIikuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBzdGF0aWMgYWRtaW5TZXJ2aWNlRmFjdG9yeShSZXN0YW5ndWxhcikge1xuICAgIHJldHVybiBuZXcgQWRtaW5TZXJ2aWNlKFJlc3Rhbmd1bGFyKVxuICB9XG59XG5cbkFkbWluU2VydmljZS5hZG1pblNlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9zZXJ2aWNlcy9hZG1pbi5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXV0aG9yaXphdGlvblNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFNlc3Npb25zU2VydmljZSwgJHEpIHtcbiAgICB0aGlzLiRxID0gJHFcbiAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZVxuICB9XG5cbiAgYXV0aGVudGljYXRlZCgpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgbGV0IHVzZXJLZXkgPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCk7XG4gICAgaWYgKHVzZXJLZXkpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlZmVycmVkLnJlamVjdChbXCJhdXRoRXJyb3JcIiwgJ3NpZ25faW4nXSk7XG4gICAgfVxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9XG5cbiAgbm90QXV0aGVudGljYXRlZCgpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgbGV0IHVzZXJLZXkgPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCk7XG4gICAgaWYgKCF1c2VyS2V5KSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdob21lJ10pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxuXG4gIGlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4oKSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCBhZG1pbiA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldElzQWRtaW4oKTtcbiAgICBsZXQgZGlzdHJpYnV0b3JBZG1pbiA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKTtcbiAgICBsZXQgaGFzQXRMZWFzdE9uZURpc3RyaWJ1dG9yQWRtaW4gPSBmYWxzZTtcbiAgICBpZiAoZGlzdHJpYnV0b3JBZG1pbiAmJiBkaXN0cmlidXRvckFkbWluLmxlbmd0aCA+IDApIHtcbiAgICAgIGhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluID0gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IHVzZXJLZXkgPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCk7XG4gICAgaWYgKCF1c2VyS2V5KSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoJ3NpZ25faW4nKTtcbiAgICB9IGVsc2UgaWYgKCFhZG1pbiAmJiAhaGFzQXRMZWFzdE9uZURpc3RyaWJ1dG9yQWRtaW4pIHtcbiAgICAgIGRlZmVycmVkLnJlamVjdChbXCJhdXRoRXJyb3JcIiwgJ2hvbWUnXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9XG5cbiAgc3RhdGljIGF1dGhvcml6YXRpb25TZXJ2aWNlRmFjdG9yeShTZXNzaW9uc1NlcnZpY2UsICRxKSB7XG4gICAgcmV0dXJuIG5ldyBBdXRob3JpemF0aW9uU2VydmljZShTZXNzaW9uc1NlcnZpY2UsICRxKVxuICB9XG59XG5cbkF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhvcml6YXRpb25TZXJ2aWNlRmFjdG9yeS4kaW5qZWN0ID0gW1wiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiJHFcIl1cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL3NlcnZpY2VzL2F1dGhvcml6YXRpb24uc2VydmljZS5qc1xuICoqLyIsImltcG9ydCAncmVzdGFuZ3VsYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21tYW5kc1NlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy5TRVJWSUNFX05BTUUgPSAnZGV2aWNlcyc7XG4gIH1cblxuICByZXNldChrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL3Jlc2V0YCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgY29udGVudERlbGV0ZShrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL2NvbnRlbnQtZGVsZXRlYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgY29udGVudFVwZGF0ZShrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL2NvbnRlbnQtdXBkYXRlYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdXBkYXRlRGV2aWNlKGtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIGBhcGkvdjEvZGV2aWNlcy8ke2tleX0vY29tbWFuZHMvcmVmcmVzaC1kZXZpY2UtcmVwcmVzZW50YXRpb25gKS5wb3N0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB0b2dnbGVEaWFnbm9zdGljcyhrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL2RpYWdub3N0aWNzYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcG93ZXJPbihrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL3Bvd2VyLW9uYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcG93ZXJPZmYoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9wb3dlci1vZmZgKS5wb3N0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB2b2x1bWUoa2V5LCB2b2x1bWUpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIHZvbHVtZVxuICAgIH07XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fWApLmN1c3RvbVBPU1QocGF5bG9hZCwgJ2NvbW1hbmRzL3ZvbHVtZScpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgY3VzdG9tKGtleSwgY29tbWFuZCkge1xuICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgY29tbWFuZFxuICAgIH07XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fWApLmN1c3RvbVBPU1QocGF5bG9hZCwgJ2NvbW1hbmRzL2N1c3RvbScpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgc3RhdGljIGNvbW1hbmRTZXJ2aWNlRmFjdG9yeShSZXN0YW5ndWxhcikge1xuICAgIHJldHVybiBuZXcgQ29tbWFuZHNTZXJ2aWNlKFJlc3Rhbmd1bGFyKVxuICB9XG59XG5cbkNvbW1hbmRzU2VydmljZS5jb21tYW5kU2VydmljZUZhY3RvcnkuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdXG5cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NsaWVudC9hcHAvc2VydmljZXMvY29tbWFuZHMuc2VydmljZS5qc1xuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50J1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KGRhdGUpIHtcbiAgICBpZiAoIW1vbWVudC5pc01vbWVudChkYXRlKSkge1xuICAgICAgcmV0dXJuIG1vbWVudChuZXcgRGF0ZShkYXRlKSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRhdGVcbiAgICB9XG4gIH1cblxuICBjcmVhdGVGb3JtYXR0ZWRTdGFydEFuZEVuZERhdGVGcm9tVG9kYXkoZGF5c0JhY2spIHtcbiAgICBsZXQgc3RhcnRUaW1lID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJylcbiAgICBsZXQgc3RhcnRUaW1lTWlkTmlnaHQgPSBtb21lbnQoc3RhcnRUaW1lLCAnWVlZWS1NTS1ERCcpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJylcbiAgICBsZXQgc3RhcnRUaW1lRW5kT2ZEYXkgPSBtb21lbnQoc3RhcnRUaW1lTWlkTmlnaHQsICdZWVlZLU1NLUREIGhoOm1tIEEnKS5hZGQoMSwgJ2RheScpLnN1YnRyYWN0KDYwLCAnc2Vjb25kcycpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJylcblxuICAgIGxldCBlbmRUaW1lID0gbW9tZW50KCkuc3VidHJhY3QoMzAsICdkYXlzJykuZm9ybWF0KCdZWVlZLU1NLUREJylcbiAgICBsZXQgZW5kVGltZU1pZE5pZ2h0ID0gbW9tZW50KGVuZFRpbWUsICdZWVlZLU1NLUREJykuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tIEEnKVxuXG4gICAgcmV0dXJuIFtlbmRUaW1lTWlkTmlnaHQsIHN0YXJ0VGltZUVuZE9mRGF5XVxuICB9XG5cbiAgZ2VuZXJhdGVMb2NhbEZyb21VVEMoVVRDVGltZSkge1xuICAgIGxldCBsb2NhbFRpbWUgPSBtb21lbnQudXRjKFVUQ1RpbWUpLnRvRGF0ZSgpO1xuICAgIHJldHVybiBtb21lbnQobG9jYWxUaW1lKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW06c3MgQScpO1xuICB9O1xuXG4gIHN0YXRpYyBkYXRlbWFuaXB1bGF0aW9uU2VydmljZUZhY3RvcnkoUmVzdGFuZ3VsYXIpIHtcbiAgICByZXR1cm4gbmV3IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlKClcbiAgfVxufVxuXG5cblxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9zZXJ2aWNlcy9kYXRlbWFuaXB1bGF0aW9uLnNlcnZpY2UuanNcbiAqKi8iLCJpbXBvcnQgJ3Jlc3Rhbmd1bGFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGV2aWNlc1NlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkbG9nLCBSZXN0YW5ndWxhciwgJHEsICRodHRwLCAkc3RhdGUpIHtcbiAgICB0aGlzLiRsb2cgPSAkbG9nXG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy4kcSA9ICRxXG4gICAgdGhpcy4kaHR0cCA9ICRodHRwXG4gICAgdGhpcy4kc3RhdGUgPSAkc3RhdGVcbiAgICB0aGlzLlNFUlZJQ0VfTkFNRSA9ICdkZXZpY2VzJztcbiAgICB0aGlzLnVyaUJhc2UgPSAndjEvZGV2aWNlcyc7XG4gIH1cblxuICBnZXREZXZpY2VCeU1hY0FkZHJlc3MobWFjQWRkcmVzcykge1xuICAgIGxldCB1cmwgPSBgYXBpL3YxL2RldmljZXM/bWFjX2FkZHJlc3M9JHttYWNBZGRyZXNzfWA7XG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdhcGkvdjEvZGV2aWNlcycsIHVybCkuZ2V0KCk7XG4gIH1cblxuICBnZXREZXZpY2VCeUtleShkZXZpY2VLZXkpIHtcbiAgICBsZXQgdXJsID0gYGFwaS92MS9kZXZpY2VzLyR7ZGV2aWNlS2V5fWA7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShkaWN0aW9uYXJ5LCB2YWx1ZSkge1xuICAgIGxldCByZXN1bHRzID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpY3Rpb25hcnkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gZGljdGlvbmFyeVtpXTtcbiAgICAgIHJlc3VsdHMucHVzaChlYWNoW3ZhbHVlXSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzXG4gIH1cblxuICBleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcbiAgICAgICAgbGV0IGlzTWFjID0gZmFsc2VcbiAgICAgICAgbGV0IGlzR0NNaWQgPSBmYWxzZVxuICAgICAgICBsZXQgc2VyaWFsRGV2aWNlc0RpY3QgPSB0aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG4gICAgICAgIGxldCBkZXZpY2VTZXJpYWxzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG4gICAgICAgIHJldHVybiBbZGV2aWNlU2VyaWFsc09ubHksIHNlcmlhbERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcbiAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuICAgICAgICBsZXQgc2VyaWFsRGV2aWNlc0RpY3Q7XG4gICAgICAgIGxldCBpc01hYyA9IGZhbHNlXG4gICAgICAgIGxldCBpc0dDTWlkID0gZmFsc2VcbiAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgICAgIHNlcmlhbERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlcmlhbERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzZXJpYWxEZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG4gICAgICAgIHJldHVybiBbc2VyaWFsRGV2aWNlc09ubHksIHNlcmlhbERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBtYWNEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIHRydWUpO1xuICAgICAgICBsZXQgZGV2aWNlTWFjc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwibWFjXCIpO1xuICAgICAgICByZXR1cm4gW2RldmljZU1hY3NPbmx5LCBtYWNEZXZpY2VzRGljdF07XG4gICAgICB9KVxuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcbiAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuICAgICAgICBsZXQgbWFjRGV2aWNlc0RpY3Q7XG4gICAgICAgIGxldCBpc01hYyA9IHRydWU7XG4gICAgICAgIGxldCBpc0dDTWlkID0gZmFsc2U7XG4gICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICBtYWNEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYWNEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWFjRGV2aWNlcyA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJtYWNcIilcbiAgICAgICAgcmV0dXJuIFttYWNEZXZpY2VzLCBtYWNEZXZpY2VzRGljdF07XG4gICAgICB9KTtcblxuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBnY21pZERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuICAgICAgICBsZXQgZ2NtaWREZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJnY21pZFwiKVxuICAgICAgICByZXR1cm4gW2djbWlkRGV2aWNlc09ubHksIGdjbWlkRGV2aWNlc0RpY3RdO1xuICAgICAgfSk7XG4gIH1cblxuICBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBHQ01pZERldmljZXNEaWN0O1xuICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICAgICAgR0NNaWREZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBHQ01pZERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBnY21pZERldmljZXNPbmx5ID0gdGhpcy5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcImdjbWlkXCIpXG4gICAgICAgIHJldHVybiBbZ2NtaWREZXZpY2VzT25seSwgR0NNaWREZXZpY2VzRGljdF07XG4gICAgICB9KTtcbiAgfVxuXG4gIHJlamVjdGVkUHJvbWlzZSgpIHtcbiAgICBsZXQgZGV2aWNlRGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgZGV2aWNlRGVmZXJyZWQucmVqZWN0KClcbiAgICByZXR1cm4gZGV2aWNlRGVmZXJyZWQucHJvbWlzZVxuICB9O1xuXG5cbiAgc2VhcmNoRGV2aWNlcyhwYXJ0aWFsU2VhcmNoLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIGRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgbGV0IGRldmljZXNQcm9taXNlO1xuICAgIGlmIChwYXJ0aWFsU2VhcmNoKSB7XG4gICAgICBpZiAocGFydGlhbFNlYXJjaC5sZW5ndGggPiAyKSB7XG4gICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG4gICAgICAgICAgaWYgKGJ5VGVuYW50KSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcbiAgICAgICAgICBpZiAoYnlUZW5hbnQpIHtcbiAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChieVRlbmFudCkge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMucmVqZWN0ZWRQcm9taXNlKClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLnJlamVjdGVkUHJvbWlzZSgpXG4gICAgfVxuXG4gICAgZGV2aWNlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGV2aWNlc1Jlc3VsdCkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG4gICAgICAgIFwic3VjY2Vzc1wiOiB0cnVlLFxuICAgICAgICBcImRldmljZXNcIjogZGV2aWNlc1Jlc3VsdFxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgZGV2aWNlc1Byb21pc2UuY2F0Y2goZnVuY3Rpb24gKGRldmljZXNSZXN1bHQpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoe1xuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2UsXG4gICAgICAgIFwiZGV2aWNlc1wiOiBbXVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2VcbiAgfVxuXG4gIGlzUmVzb3VyY2VWYWxpZChyZXNvdXJjZSwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCBkaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKSB7XG4gICAgbGV0IG1hYywgc2VyaWFsLCBnY21pZDtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgaWYgKHJlc291cmNlKSB7XG4gICAgICBpZiAocmVzb3VyY2UubGVuZ3RoID4gMikge1xuICAgICAgICBtYWMgPSBidXR0b24gPT09IFwiTUFDXCI7XG4gICAgICAgIHNlcmlhbCA9IGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG4gICAgICAgIGdjbWlkID0gYnV0dG9uID09PSBcIkdDTSBJRFwiO1xuICAgICAgICBpZiAoYnlUZW5hbnQpIHtcbiAgICAgICAgICBpZiAobWFjKSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRoaXMubWF0Y2hEZXZpY2VzQnlGdWxsTWFjQnlUZW5hbnQodGVuYW50S2V5LCByZXNvdXJjZSwgdW5tYW5hZ2VkKSlcbiAgICAgICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0aGlzLm1hdGNoRGV2aWNlc0J5RnVsbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcmVzb3VyY2UsIHVubWFuYWdlZCkpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodGhpcy5tYXRjaERldmljZXNCeUZ1bGxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcmVzb3VyY2UsIHVubWFuYWdlZCkpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChtYWMpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodGhpcy5tYXRjaERldmljZXNCeUZ1bGxNYWMoZGlzdHJpYnV0b3JLZXksIHJlc291cmNlLCB1bm1hbmFnZWQpKVxuICAgICAgICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRoaXMubWF0Y2hEZXZpY2VzQnlGdWxsU2VyaWFsKGRpc3RyaWJ1dG9yS2V5LCByZXNvdXJjZSwgdW5tYW5hZ2VkKSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0aGlzLm1hdGNoRGV2aWNlc0J5RnVsbEdDTWlkKGRpc3RyaWJ1dG9yS2V5LCByZXNvdXJjZSwgdW5tYW5hZ2VkKSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoe1wiaXNfbWF0Y2hcIjogZmFsc2V9KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcImlzX21hdGNoXCI6IGZhbHNlfSlcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2VcbiAgfTtcblxuICBjb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHRoZUFycmF5LCBtYWMsIGdjbSkge1xuICAgIC8qKiBDb252ZXJ0cyBhcnJheSB0byBkaWN0aW9uYXJ5IHdpdGggbWFjLCBnY21pZCwgb3Igc2VyaWFsIGFzIHRoZSBrZXkgKiovXG4gICAgbGV0IGRldmljZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaXRlbSA9IHRoZUFycmF5W2ldO1xuICAgICAgaWYgKG1hYykge1xuICAgICAgICBkZXZpY2VzW2l0ZW0ubWFjXSA9IGl0ZW07XG4gICAgICB9IGVsc2UgaWYgKGdjbSkge1xuICAgICAgICBkZXZpY2VzW2l0ZW0uZ2NtaWRdID0gaXRlbTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRldmljZXNbaXRlbS5zZXJpYWxdID0gaXRlbTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRldmljZXM7XG4gIH07XG5cbiAgZWRpdEl0ZW0oaXRlbSwgZnJvbURldmljZXMpIHtcbiAgICBpZiAoIWZyb21EZXZpY2VzKSB7XG4gICAgICBmcm9tRGV2aWNlcyA9IGZhbHNlXG4gICAgfVxuICAgIHRoaXMuJHN0YXRlLmdvKCdlZGl0RGV2aWNlJywge1xuICAgICAgZGV2aWNlS2V5OiBpdGVtLmtleSxcbiAgICAgIHRlbmFudEtleTogaXRlbS50ZW5hbnRLZXksXG4gICAgICBmcm9tRGV2aWNlczogZnJvbURldmljZXNcbiAgICB9KTtcbiAgfVxuXG4gIHByZXByYXRlRm9yRWRpdFZpZXcoYnV0dG9uLCB0ZW5hbnRLZXksIHNlYXJjaFRleHQsIG1hY0RldmljZXMsIHNlcmlhbERldmljZXMsIGdjbWlkRGV2aWNlcykge1xuICAgIGxldCBtYWMsIHNlcmlhbCwgZ2NtaWQ7XG5cbiAgICBtYWMgPSBidXR0b24gPT09IFwiTUFDXCI7XG4gICAgc2VyaWFsID0gYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIjtcbiAgICBnY21pZCA9IGJ1dHRvbiA9PT0gXCJHQ00gSURcIlxuXG4gICAgaWYgKG1hYykge1xuICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0obWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgfSBlbHNlIGlmIChzZXJpYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmVkaXRJdGVtKHNlcmlhbERldmljZXNbc2VhcmNoVGV4dF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5lZGl0SXRlbShnY21pZERldmljZXNbc2VhcmNoVGV4dF0pXG4gICAgfVxuXG4gIH1cblxuICBnZXRJc3N1ZXNCeUtleShkZXZpY2VLZXksIHN0YXJ0RXBvY2gsIGVuZEVwb2NoLCBwcmV2LCBuZXh0KSB7XG4gICAgcHJldiA9IHByZXYgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IHByZXY7XG4gICAgbmV4dCA9IG5leHQgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IG5leHQ7XG4gICAgbGV0IHVybCA9IGAvYXBpL3YxL2RldmljZXMvJHtwcmV2fS8ke25leHR9LyR7ZGV2aWNlS2V5fS9pc3N1ZXM/c3RhcnQ9JHtzdGFydEVwb2NofSZlbmQ9JHtlbmRFcG9jaH1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRDb21tYW5kRXZlbnRzQnlLZXkoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgcHJldiA9IHByZXYgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IHByZXY7XG4gICAgbmV4dCA9IG5leHQgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IG5leHQ7XG4gICAgbGV0IHVybCA9IGAvYXBpL3YxL3BsYXllci1jb21tYW5kLWV2ZW50cy8ke3ByZXZ9LyR7bmV4dH0vJHtkZXZpY2VLZXl9YDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBURU5BTlQgVklFV1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGdldERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcbiAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSB0aGlzLm1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCBmYWxzZSk7XG4gICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldiwgbmV4dCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgICAgbGV0IHVybCA9IHRoaXMubWFrZURldmljZXNCeVRlbmFudFVSTCh0ZW5hbnRLZXksIHByZXYsIG5leHQsIHRydWUpO1xuICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgIH1cbiAgfVxuXG4gIHNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxfc2VyaWFsLCB1bm1hbmFnZWQpIHtcbiAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS90ZW5hbnRzL3NlYXJjaC8ke3RlbmFudEtleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfc2VyaWFsPSR7cGFydGlhbF9zZXJpYWx9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX21hYywgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gYC9hcGkvdjEvdGVuYW50cy9zZWFyY2gvJHt0ZW5hbnRLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX21hYz0ke3BhcnRpYWxfbWFjfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxfZ2NtaWQsIHVubWFuYWdlZCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL3RlbmFudHMvc2VhcmNoLyR7dGVuYW50S2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mcGFydGlhbF9nY21pZD0ke3BhcnRpYWxfZ2NtaWR9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuXG4gIG1hdGNoRGV2aWNlc0J5RnVsbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgZnVsbF9zZXJpYWwsIHVubWFuYWdlZCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL3RlbmFudHMvbWF0Y2gvJHt0ZW5hbnRLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZmdWxsX3NlcmlhbD0ke2Z1bGxfc2VyaWFsfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgbWF0Y2hEZXZpY2VzQnlGdWxsTWFjQnlUZW5hbnQodGVuYW50S2V5LCBmdWxsX21hYywgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gYC9hcGkvdjEvdGVuYW50cy9tYXRjaC8ke3RlbmFudEtleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JmZ1bGxfbWFjPSR7ZnVsbF9tYWN9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBtYXRjaERldmljZXNCeUZ1bGxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgZnVsbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gYC9hcGkvdjEvdGVuYW50cy9tYXRjaC8ke3RlbmFudEtleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JmZ1bGxfZ2NtaWQ9JHtmdWxsX2djbWlkfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBERVZJQ0VTIFZJRVdcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS9kaXN0cmlidXRvcnMvc2VhcmNoLyR7ZGlzdHJpYnV0b3JLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX3NlcmlhbD0ke3BhcnRpYWxfc2VyaWFsfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hYyhkaXN0cmlidXRvcktleSwgcGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gYC9hcGkvdjEvZGlzdHJpYnV0b3JzL3NlYXJjaC8ke2Rpc3RyaWJ1dG9yS2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mcGFydGlhbF9tYWM9JHtwYXJ0aWFsX21hY31gO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIHNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsX2djbWlkLCB1bm1hbmFnZWQpIHtcbiAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJHtkaXN0cmlidXRvcktleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfZ2NtaWQ9JHtwYXJ0aWFsX2djbWlkfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgbWF0Y2hEZXZpY2VzQnlGdWxsU2VyaWFsKGRpc3RyaWJ1dG9yS2V5LCBmdWxsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS9kaXN0cmlidXRvcnMvbWF0Y2gvJHtkaXN0cmlidXRvcktleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JmZ1bGxfc2VyaWFsPSR7ZnVsbF9zZXJpYWx9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBtYXRjaERldmljZXNCeUZ1bGxNYWMoZGlzdHJpYnV0b3JLZXksIGZ1bGxfbWFjLCB1bm1hbmFnZWQpIHtcbiAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9tYXRjaC8ke2Rpc3RyaWJ1dG9yS2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mZnVsbF9tYWM9JHtmdWxsX21hY31gO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIG1hdGNoRGV2aWNlc0J5RnVsbEdDTWlkKGRpc3RyaWJ1dG9yS2V5LCBmdWxsX2djbWlkLCB1bm1hbmFnZWQpIHtcbiAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9tYXRjaC8ke2Rpc3RyaWJ1dG9yS2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mZnVsbF9nY21pZD0ke2Z1bGxfZ2NtaWR9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBnZXREZXZpY2VzQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCkge1xuICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQsIGZhbHNlKTtcbiAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICB9XG4gIH1cblxuICBnZXRVbm1hbmFnZWREZXZpY2VzQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCkge1xuICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQsIHRydWUpO1xuICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldERldmljZXMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLlNFUlZJQ0VfTkFNRSkuZ2V0TGlzdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgc2F2ZShkZXZpY2UpIHtcbiAgICBpZiAoZGV2aWNlLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IGRldmljZS5wdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2RldmljZXMnKS5wb3N0KGRldmljZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZGVsZXRlKGRldmljZUtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUodGhpcy5TRVJWSUNFX05BTUUsIGRldmljZUtleSkucmVtb3ZlKCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRQYW5lbE1vZGVscygpIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICAnaWQnOiAnTm9uZScsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdOb25lJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ1NvbnktRlhENDBMWDJGJyxcbiAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1NvbnkgRlhENDBMWDJGJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ05FQy1MQ0Q0MjE1JyxcbiAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ05FQyBMQ0Q0MjE1J1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ1BoaWxsaXBzLUJETDU1NjBFTCcsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdQaGlsbGlwcyBCREw1NTYwRUwnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJyxcbiAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1BhbmFzb25pYyBUSDU1TEY2VSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdTaGFycC1QTkU1MjEnLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnU2hhcnAgUE5FNTIxJ1xuICAgICAgfVxuICAgIF07XG4gIH1cblxuICBnZXRQYW5lbElucHV0cygpIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICAnaWQnOiAnTm9uZScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdOb25lJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkxJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1NvbnktRlhENDBMWDJGJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkyJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1NvbnktRlhENDBMWDJGJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkxJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1BoaWxsaXBzLUJETDU1NjBFTCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMicsXG4gICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnRFZJJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1BoaWxsaXBzLUJETDU1NjBFTCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdQYW5hc29uaWMtVEg1NUxGNlUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTInLFxuICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0RWSScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdQYW5hc29uaWMtVEg1NUxGNlUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTEnLFxuICAgICAgICAncGFyZW50SWQnOiAnU2hhcnAtUE5FNTIxJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkyJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdEVkknLFxuICAgICAgICAncGFyZW50SWQnOiAnU2hhcnAtUE5FNTIxJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ1ZHQScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdORUMtTENENDIxNSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdEVkkxJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ05FQy1MQ0Q0MjE1J1xuICAgICAgfVxuICAgIF07XG4gIH1cblxuICBtYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQsIHVubWFuYWdlZCkge1xuICAgIGxldCB1cmwgPSBgL2FwaS92MS9kaXN0cmlidXRvcnMvJHtkaXN0cmlidXRvcktleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9Jm5leHRfY3Vyc29yPSR7bmV4dH0mcHJldl9jdXJzb3I9JHtwcmV2fWA7XG4gICAgcmV0dXJuIHVybFxuICB9XG5cbiAgbWFrZURldmljZXNCeVRlbmFudFVSTCh0ZW5hbnRLZXksIHByZXYsIG5leHQsIHVubWFuYWdlZCkge1xuICAgIGxldCB1cmwgPSBgL2FwaS92MS90ZW5hbnRzLyR7dGVuYW50S2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mbmV4dF9jdXJzb3I9JHtuZXh0fSZwcmV2X2N1cnNvcj0ke3ByZXZ9YDtcbiAgICByZXR1cm4gdXJsXG4gIH1cblxuICBzdGF0aWMgZGV2aWNlc1NlcnZpY2VGYWN0b3J5KCRsb2csIFJlc3Rhbmd1bGFyLCAkcSwgJGh0dHAsICRzdGF0ZSkge1xuICAgIHJldHVybiBuZXcgRGV2aWNlc1NlcnZpY2UoJGxvZywgUmVzdGFuZ3VsYXIsICRxLCAkaHR0cCwgJHN0YXRlKVxuICB9XG59XG5cbkRldmljZXNTZXJ2aWNlLmRldmljZXNTZXJ2aWNlRmFjdG9yeS4kaW5qZWN0ID0gW1xuICBcIiRsb2dcIixcbiAgXCJSZXN0YW5ndWxhclwiLFxuICBcIiRxXCIsXG4gIFwiJGh0dHBcIixcbiAgXCIkc3RhdGVcIlxuXVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL3NlcnZpY2VzL2RldmljZXMuc2VydmljZS5qc1xuICoqLyIsImltcG9ydCAncmVzdGFuZ3VsYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXN0cmlidXRvcnNTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIsICRzdGF0ZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlO1xuICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuICAgIHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSA9ICdkaXN0cmlidXRvcnMnO1xuICB9XG5cbiAgc2F2ZSh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRlbmFudC5wdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFKS5wb3N0KHRlbmFudCk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZmV0Y2hBbGwoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLmdldExpc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGZldGNoQWxsQnlVc2VyKHVzZXJLZXkpIHtcbiAgICBpZiAodXNlcktleSkge1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZSgndXNlcnMnLCB1c2VyS2V5KS5kb0dFVCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgZ2V0QnlLZXkoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIGBhcGkvdjEvZGlzdHJpYnV0b3JzLyR7a2V5fWApLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZGVsZXRlKGVudGl0eSkge1xuICAgIGlmIChlbnRpdHkua2V5KSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgZW50aXR5LmtleSkucmVtb3ZlKCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBnZXRCeU5hbWUobmFtZSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFKS5nZXRMaXN0KHtkaXN0cmlidXRvck5hbWU6IG5hbWV9KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldERvbWFpbnNCeUtleShrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgYGFwaS92MS9kaXN0cmlidXRvcnMvJHtrZXl9L2RvbWFpbnNgKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHN3aXRjaERpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yKSB7XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2Uuc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZShkaXN0cmlidXRvci5uYW1lKTtcbiAgICB0aGlzLlNlc3Npb25zU2VydmljZS5zZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoZGlzdHJpYnV0b3Iua2V5KTtcbiAgICByZXR1cm4gdGhpcy4kc3RhdGUuZ28oJ3dlbGNvbWUnKTtcbiAgfVxuXG4gIHN0YXRpYyBkaXN0cmlidXRvclNlcnZpY2VGYWN0b3J5KFJlc3Rhbmd1bGFyLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSkge1xuICAgIHJldHVybiBuZXcgRGlzdHJpYnV0b3JzU2VydmljZShSZXN0YW5ndWxhciwgJHN0YXRlLCBTZXNzaW9uc1NlcnZpY2UpXG4gIH1cbn1cblxuRGlzdHJpYnV0b3JzU2VydmljZS5kaXN0cmlidXRvclNlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXG4gIFwiUmVzdGFuZ3VsYXJcIixcbiAgXCIkc3RhdGVcIixcbiAgXCJTZXNzaW9uc1NlcnZpY2VcIlxuXVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL3NlcnZpY2VzL2Rpc3RyaWJ1dG9ycy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgIGNsYXNzIERvbWFpbnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICB9XG5cbiAgc2F2ZShkb21haW4pIHtcbiAgICBpZiAoZG9tYWluLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IGRvbWFpbi5wdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2RvbWFpbnMnKS5wb3N0KGRvbWFpbik7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZmV0Y2hBbGxEb21haW5zKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwoJ2RvbWFpbnMnKS5nZXRMaXN0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXREb21haW5CeUtleShkb21haW5LZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdkb21haW5zJywgYGFwaS92MS9kb21haW5zLyR7ZG9tYWluS2V5fWApLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZGVsZXRlKGRvbWFpbikge1xuICAgIGlmIChkb21haW4ua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUoXCJkb21haW5zXCIsIGRvbWFpbi5rZXkpLnJlbW92ZSgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGRvbWFpblNlcnZpY2VGYWN0b3J5KFJlc3Rhbmd1bGFyKSB7XG4gICAgcmV0dXJuIG5ldyBEb21haW5zU2VydmljZShSZXN0YW5ndWxhcilcbiAgfVxufVxuXG5Eb21haW5zU2VydmljZS5kb21haW5TZXJ2aWNlRmFjdG9yeS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl1cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NsaWVudC9hcHAvc2VydmljZXMvZG9tYWlucy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSWRlbnRpdHlTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICB9XG5cbiAgZ2V0SWRlbnRpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdpZGVudGl0eScpLmdldCgpO1xuICB9XG5cbiAgc3RhdGljIGlkZW50aXR5U2VydmljZUZhY3RvcnkoIFJlc3Rhbmd1bGFyKSB7XG4gICAgcmV0dXJuIG5ldyBJZGVudGl0eVNlcnZpY2UoUmVzdGFuZ3VsYXIpXG4gIH1cbn1cblxuSWRlbnRpdHlTZXJ2aWNlLmlkZW50aXR5U2VydmljZUZhY3RvcnkuJGluamVjdCA9IFtcbiAgXCJSZXN0YW5ndWxhclwiXG5dXG5cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NsaWVudC9hcHAvc2VydmljZXMvaWRlbnRpdHkuc2VydmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVncmF0aW9uRXZlbnRzIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICAgIHRoaXMuRU5ST0xMTUVOVF9FVkVOVFMgPSAnaW50ZWdyYXRpb25fZXZlbnRzL2Vucm9sbG1lbnQnO1xuICB9XG5cbiAgZ2V0RW5yb2xsbWVudEV2ZW50cyhkZXZpY2VLZXkpIHtcbiAgICBsZXQgcXVlcnkgPSB7XG4gICAgICBkZXZpY2VLZXlcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLkVOUk9MTE1FTlRfRVZFTlRTKS5jdXN0b21HRVQoJycsIHF1ZXJ5KTtcbiAgfVxuXG4gIHN0YXRpYyBpbnRlZ3JhdGlvbkV2ZW50c1NlcnZpY2VGYWN0b3J5KFJlc3Rhbmd1bGFyKSB7XG4gICAgcmV0dXJuIG5ldyBJbnRlZ3JhdGlvbkV2ZW50cyhSZXN0YW5ndWxhcilcbiAgfVxufVxuXG5JbnRlZ3JhdGlvbkV2ZW50cy5pbnRlZ3JhdGlvbkV2ZW50c1NlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXG4gIFwiUmVzdGFuZ3VsYXJcIixcbl1cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NsaWVudC9hcHAvc2VydmljZXMvaW50ZWdyYXRpb24tZXZlbnRzLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhdGlvbnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICB9XG5cbiAgc2F2ZShsb2NhdGlvbikge1xuICAgIGlmIChsb2NhdGlvbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByb21pc2UgPSBsb2NhdGlvbi5wdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2xvY2F0aW9ucycpLnBvc3QobG9jYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldExvY2F0aW9uc0J5VGVuYW50S2V5KHRlbmFudEtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCBgYXBpL3YxL3RlbmFudHMvJHt0ZW5hbnRLZXl9L2xvY2F0aW9uc2ApLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXlQYWdpbmF0ZWQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgcHJldiA9IHByZXYgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IHByZXY7XG4gICAgbmV4dCA9IG5leHQgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IG5leHQ7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsIGBhcGkvdjEvdGVuYW50cy8ke3RlbmFudEtleX0vJHtwcmV2fS8ke25leHR9L2xvY2F0aW9uc2ApLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0TG9jYXRpb25CeUtleShsb2NhdGlvbktleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2xvY2F0aW9ucycsIGBhcGkvdjEvbG9jYXRpb25zLyR7bG9jYXRpb25LZXl9YCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBzdGF0aWMgbG9jYXRpb25zU2VydmljZUZhY3RvcnkoUmVzdGFuZ3VsYXIpIHtcbiAgICByZXR1cm4gbmV3IExvY2F0aW9uc1NlcnZpY2UoUmVzdGFuZ3VsYXIpXG4gIH1cbn1cblxuTG9jYXRpb25zU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9zZXJ2aWNlcy9sb2NhdGlvbnMuc2VydmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2dyZXNzQmFyU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKG5nUHJvZ3Jlc3NGYWN0b3J5KSB7XG4gICAgdGhpcy5uZ1Byb2dyZXNzRmFjdG9yeSA9IG5nUHJvZ3Jlc3NGYWN0b3J5XG4gICAgdGhpcy5wcm9ncmVzc0JhciA9IHRoaXMubmdQcm9ncmVzc0ZhY3RvcnkuY3JlYXRlSW5zdGFuY2UoKTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0Q29sb3IoJyMwMEZDRkYnKTtcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldEhlaWdodCgnNHB4Jyk7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NCYXIuc3RhcnQoKTtcbiAgfVxuXG4gIGNvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLnByb2dyZXNzQmFyLmNvbXBsZXRlKCk7XG4gIH1cblxuICBzdGF0aWMgcHJvZ3Jlc3NCYXJTZXJ2aWNlRmFjdG9yeShuZ1Byb2dyZXNzRmFjdG9yeSkge1xuICAgIHJldHVybiBuZXcgUHJvZ3Jlc3NCYXJTZXJ2aWNlKG5nUHJvZ3Jlc3NGYWN0b3J5KVxuICB9XG59XG5cblByb2dyZXNzQmFyU2VydmljZS5wcm9ncmVzc0JhclNlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXG4gIFwibmdQcm9ncmVzc0ZhY3RvcnlcIixcbl1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9zZXJ2aWNlcy9wcm9ncmVzc2Jhci5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvb2ZQbGF5U2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoJGh0dHAsXG4gICAgICAgICAgICAgICRxLFxuICAgICAgICAgICAgICAkd2luZG93LFxuICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlKSB7XG4gICAgdGhpcy4kaHR0cCA9ICRodHRwXG4gICAgdGhpcy4kcSA9ICRxXG4gICAgdGhpcy4kd2luZG93ID0gJHdpbmRvd1xuICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlXG4gICAgdGhpcy4kc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXNcbiAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZVxuICAgIHRoaXMuVG9hc3RzU2VydmljZSA9IFRvYXN0c1NlcnZpY2VcbiAgICB0aGlzLm1ha2VIVFRQUmVxdWVzdCA9IHRoaXMubWFrZUhUVFBSZXF1ZXN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy51cmlCYXNlID0gJ3Byb29mcGxheS9hcGkvdjEnO1xuICB9XG5cbiAgbWFrZUhUVFBVUkwod2hlcmVfdG9fZ28sIHRlbmFudCkge1xuICAgIHJldHVybiB0aGlzLnVyaUJhc2UgKyB3aGVyZV90b19nbyArIHRlbmFudDtcbiAgfVxuXG4gIG1ha2VIVFRQUmVxdWVzdCh3aGVyZV90b19nbywgdGVuYW50KSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCB1cmwgPSB0aGlzLm1ha2VIVFRQVVJMKHdoZXJlX3RvX2dvLCB0ZW5hbnQpO1xuICAgIHJldHVybiB0aGlzLiRodHRwLmdldCh1cmwpO1xuICB9XG5cbiAgZ2V0QWxsUmVzb3VyY2VzKHRlbmFudCkge1xuICAgIGxldCByID0gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfYWxsX3Jlc291cmNlcy9cIiwgdGVuYW50KTtcbiAgICAvLyB0aGUgY2F0Y2ggaXMgb25seSBkb25lIGhlcmUgYmVjYXVzZSAzIHByb29mIG9mIHBsYXkgdmlld3MgYXJlIGluaXRpbGl6ZWQgYXQgdGhlIHNhbWUgdGltZVxuICAgIC8vIHNvIHRoaXMgY2F0Y2ggd2lsbCBiZSBkb25lIDMgdGltZXMgd2l0aCAzIGVycm9yIG1lc3NhZ2VzIGlmIHdlIGFkZCBpdCB0byBnZXRBbGxEaXNwbGF5cyBhbmQgZ2V0QWxsTG9jYXRpb25zXG4gICAgci5jYXRjaChmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICBsZXQge3N0YXR1c30gPSBlcnI7XG4gICAgICBpZiAoc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgdGhpcy5Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91IGFyZSBub3QgYWxsb3dlZCB0byB2aWV3IHRoaXMgdGVuYW50IVwiKTtcbiAgICAgICAgdGhpcy4kc3RhdGUuZ28oJ3Byb29mJywge30pO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHRoaXMuVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChcIllvdSBtdXN0IHNlbGVjdCBhIHRlbmFudCBmaXJzdCFcIik7XG4gICAgICAgIHJldHVybiB0aGlzLiRzdGF0ZS5nbygncHJvb2YnLCB7fSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gci50aGVuKGRhdGEgPT4gZGF0YSk7XG4gIH1cblxuXG4gIGdldEFsbERpc3BsYXlzKHRlbmFudCkge1xuICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfZGlzcGxheXMvXCIsIHRlbmFudCk7XG4gIH1cblxuXG4gIGdldEFsbExvY2F0aW9ucyh0ZW5hbnQpIHtcbiAgICByZXR1cm4gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfYWxsX2xvY2F0aW9ucy9cIiwgdGVuYW50KTtcbiAgfVxuXG5cbiAgZ2V0QWxsVGVuYW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfbXlfdGVuYW50c1wiLCAnJyk7XG4gIH1cblxuXG4gIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURhdGUoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIHJlc291cmNlcywgdGVuYW50KSB7XG4gICAgbGV0IGFsbFJlc291cmNlcyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gcmVzb3VyY2VzW2ldO1xuICAgICAgYWxsUmVzb3VyY2VzID0gYWxsUmVzb3VyY2VzICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfcmVzb3VyY2VfYnlfZGF0ZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsUmVzb3VyY2VzICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcblxuICAgICAgLCAnX2JsYW5rJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuXG4gIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURldmljZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgcmVzb3VyY2VzLCB0ZW5hbnQpIHtcbiAgICBsZXQgYWxsUmVzb3VyY2VzID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSByZXNvdXJjZXNbaV07XG4gICAgICBhbGxSZXNvdXJjZXMgPSBhbGxSZXNvdXJjZXMgKyBcInxcIiArIGVhY2g7XG4gICAgfVxuXG4gICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9yZXNvdXJjZV9ieV9kZXZpY2UvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbFJlc291cmNlcyArICcvJyArXG4gICAgICB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpXG4gICAgICAsICdfYmxhbmsnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNTdW1tYXJpemVkKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBkZXZpY2VzLCB0ZW5hbnQpIHtcbiAgICBsZXQgYWxsRGV2aWNlcyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGRldmljZXNbaV07XG4gICAgICBhbGxEZXZpY2VzID0gYWxsRGV2aWNlcyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2RldmljZV9zdW1tYXJpemVkLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxEZXZpY2VzICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cblxuICBkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgZGV2aWNlcywgdGVuYW50KSB7XG4gICAgbGV0IGFsbERldmljZXMgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSBkZXZpY2VzW2ldO1xuICAgICAgYWxsRGV2aWNlcyA9IGFsbERldmljZXMgKyBcInxcIiArIGVhY2g7XG4gICAgfVxuXG4gICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9kZXZpY2VfYnlfZGF0ZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsRGV2aWNlcyArICcvJyArXG4gICAgICB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpXG4gICAgICAsICdfYmxhbmsnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNCeURldmljZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgbG9jYXRpb25zLCB0ZW5hbnQpIHtcbiAgICBsZXQgYWxsTG9jYXRpb25zID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2F0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSBsb2NhdGlvbnNbaV07XG4gICAgICBhbGxMb2NhdGlvbnMgPSBhbGxMb2NhdGlvbnMgKyBcInxcIiArIGVhY2g7XG4gICAgfVxuXG4gICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9sb2NhdGlvbl9ieV9kZXZpY2UvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbExvY2F0aW9ucyArICcvJyArXG4gICAgICB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpXG4gICAgICAsICdfYmxhbmsnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNTdW1tYXJpemVkKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBsb2NhdGlvbnMsIHRlbmFudCkge1xuICAgIGxldCBhbGxMb2NhdGlvbnMgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGxvY2F0aW9uc1tpXTtcbiAgICAgIGFsbExvY2F0aW9ucyA9IGFsbExvY2F0aW9ucyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2xvY2F0aW9uX3N1bW1hcml6ZWQvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbExvY2F0aW9ucyArICcvJyArXG4gICAgICB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpXG4gICAgICAsICdfYmxhbmsnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG5cbiAgY3JlYXRlRmlsdGVyRm9yKHF1ZXJ5KSB7XG4gICAgcXVlcnkgPSBhbmd1bGFyLmxvd2VyY2FzZShxdWVyeSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgICAgcmVzb3VyY2UgPSBhbmd1bGFyLmxvd2VyY2FzZShyZXNvdXJjZSk7XG4gICAgICByZXR1cm4gKHJlc291cmNlLmluZGV4T2YocXVlcnkpID09PSAwKTtcbiAgICB9O1xuICB9XG5cblxuICBxdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcbiAgICBpZiAoc2VhcmNoVGV4dCkge1xuICAgICAgcmV0dXJuIHJlc291cmNlcy5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXJGb3Ioc2VhcmNoVGV4dCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzb3VyY2VzO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBwcm9vZnBsYXlTZXJ2aWNlRmFjdG9yeSgkaHR0cCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlc3Npb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0c1NlcnZpY2UpIHtcbiAgICByZXR1cm4gbmV3IFByb29mUGxheVNlcnZpY2UoXG4gICAgICAkaHR0cCxcbiAgICAgICRxLFxuICAgICAgJHdpbmRvdyxcbiAgICAgIFNlc3Npb25zU2VydmljZSxcbiAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICRzdGF0ZSxcbiAgICAgIFRvYXN0c1NlcnZpY2VcbiAgICApXG5cbiAgfVxufVxuXG5Qcm9vZlBsYXlTZXJ2aWNlLnByb29mcGxheVNlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXG4gIFwiJGh0dHBcIiwgXCIkcVwiLCBcIiR3aW5kb3dcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCIsXG5dXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NsaWVudC9hcHAvc2VydmljZXMvcHJvb2ZwbGF5LnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZXNzaW9uc1NlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCRodHRwLCAkbG9nLCBTdG9yYWdlU2VydmljZSwgSWRlbnRpdHlTZXJ2aWNlLCBSZXN0YW5ndWxhciwgJHEpIHtcbiAgICB0aGlzLiRodHRwID0gJGh0dHBcbiAgICB0aGlzLiRsb2cgPSAkbG9nXG4gICAgdGhpcy5TdG9yYWdlU2VydmljZSA9IFN0b3JhZ2VTZXJ2aWNlXG4gICAgdGhpcy5JZGVudGl0eVNlcnZpY2UgPSBJZGVudGl0eVNlcnZpY2VcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgICB0aGlzLiRxID0gJHFcbiAgICB0aGlzLnNldElkZW50aXR5ID0gdGhpcy5zZXRJZGVudGl0eS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXJpQmFzZSA9ICd2MS9zZXNzaW9ucyc7XG4gIH1cblxuICBzZXREaXN0cmlidXRvcnMoZGlzdHJpYnV0b3JzKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnMnLCBkaXN0cmlidXRvcnMpO1xuICB9XG5cbiAgc2V0RGlzdHJpYnV0b3JzQXNBZG1pbihkaXN0cmlidXRvcnNBc0FkbWluKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnNBc0FkbWluJywgZGlzdHJpYnV0b3JzQXNBZG1pbik7XG4gIH1cblxuICBzZXRJc0FkbWluKGlzQWRtaW4pIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2lzQWRtaW4nLCBpc0FkbWluKTtcbiAgfVxuXG4gIHNldFVzZXJLZXkodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJLZXknLCB2YWx1ZSk7XG4gIH1cblxuICBzZXRVc2VyRW1haWwodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJFbWFpbCcsIHZhbHVlKTtcbiAgfVxuXG4gIHNldEN1cnJlbnREaXN0cmlidXRvcktleSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5JywgdmFsdWUpO1xuICB9XG5cbiAgc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnY3VycmVudERpc3RyaWJ1dG9yTmFtZScsIHZhbHVlKTtcbiAgfVxuXG4gIGdldFVzZXJLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5Jyk7XG4gIH1cblxuICBnZXRVc2VyRW1haWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyRW1haWwnKTtcbiAgfVxuXG4gIGdldERpc3RyaWJ1dG9ycygpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2Rpc3RyaWJ1dG9ycycpO1xuICB9XG5cbiAgZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvck5hbWUnKTtcbiAgfVxuXG4gIGdldEN1cnJlbnREaXN0cmlidXRvcktleSgpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScpO1xuICB9XG5cbiAgZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2Rpc3RyaWJ1dG9yc0FzQWRtaW4nKTtcbiAgfVxuXG4gIGdldElzQWRtaW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdpc0FkbWluJyk7XG4gIH1cblxuICBsb2dpbihjcmVkZW50aWFscykge1xuICAgIGxldCBhdXRoZW50aWNhdGlvblBheWxvYWQgPSB7XG4gICAgICBhY2Nlc3NfdG9rZW46IF8uY2xvbmUoY3JlZGVudGlhbHMuYWNjZXNzX3Rva2VuKSxcbiAgICAgIGF1dGh1c2VyOiBfLmNsb25lKGNyZWRlbnRpYWxzLmF1dGh1c2VyKSxcbiAgICAgIGNsaWVudF9pZDogXy5jbG9uZShjcmVkZW50aWFscy5jbGllbnRfaWQpLFxuICAgICAgY29kZTogXy5jbG9uZShjcmVkZW50aWFscy5jb2RlKSxcbiAgICAgIGlkX3Rva2VuOiBfLmNsb25lKGNyZWRlbnRpYWxzLmlkX3Rva2VuKSxcbiAgICAgIHNjb3BlOiBfLmNsb25lKGNyZWRlbnRpYWxzLnNjb3BlKSxcbiAgICAgIHNlc3Npb25fc3RhdGU6IF8uY2xvbmUoY3JlZGVudGlhbHMuc2Vzc2lvbl9zdGF0ZSksXG4gICAgICBzdGF0ZTogXy5jbG9uZShjcmVkZW50aWFscy5zdGF0ZSksXG4gICAgICBzdGF0dXM6IF8uY2xvbmUoY3JlZGVudGlhbHMuc3RhdHVzKVxuICAgIH07XG5cbiAgICBpZiAoY3JlZGVudGlhbHMuZW1haWwgJiYgY3JlZGVudGlhbHMucGFzc3dvcmQpIHtcbiAgICAgIGF1dGhlbnRpY2F0aW9uUGF5bG9hZCA9IGNyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIGxldCBwcm9taXNlID0gdGhpcy4kaHR0cC5wb3N0KCcvbG9naW4nLCBhdXRoZW50aWNhdGlvblBheWxvYWQpO1xuICAgIHJldHVybiBwcm9taXNlLnN1Y2Nlc3MoZGF0YSA9PiB7XG4gICAgICB0aGlzLnNldFVzZXJLZXkoZGF0YS51c2VyLmtleSk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRJZGVudGl0eSgpXG4gICAgICAgIC50aGVuKCgpID0+IGRhdGEpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0SWRlbnRpdHkoKSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCBpZGVudGl0eVByb21pc2UgPSB0aGlzLklkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgIGlkZW50aXR5UHJvbWlzZS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5zZXREaXN0cmlidXRvcnMoZGF0YVsnZGlzdHJpYnV0b3JzJ10pO1xuICAgICAgdGhpcy5zZXREaXN0cmlidXRvcnNBc0FkbWluKGRhdGFbJ2Rpc3RyaWJ1dG9yc19hc19hZG1pbiddKTtcbiAgICAgIHRoaXMuc2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KFwibnVsbFwiKVxuICAgICAgdGhpcy5zZXRJc0FkbWluKGRhdGFbJ2lzX2FkbWluJ10pO1xuICAgICAgdGhpcy5zZXRVc2VyRW1haWwoZGF0YVsnZW1haWwnXSk7XG4gICAgICB0aGlzLnNldElzQWRtaW4oZGF0YVtcImlzX2FkbWluXCJdKTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxuXG4gIHJlbW92ZVVzZXJJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnJlbW92ZUFsbCgpO1xuICB9XG5cbiAgc3RhdGljIHNlc3Npb25zU2VydmljZUZhY3RvcnkoJGh0dHAsICRsb2csIFN0b3JhZ2VTZXJ2aWNlLCBJZGVudGl0eVNlcnZpY2UsIFJlc3Rhbmd1bGFyLCAkcSkge1xuICAgIHJldHVybiBuZXcgU2Vzc2lvbnNTZXJ2aWNlKCRodHRwLCAkbG9nLCBTdG9yYWdlU2VydmljZSwgSWRlbnRpdHlTZXJ2aWNlLCBSZXN0YW5ndWxhciwgJHEpXG4gIH1cbn1cblxuU2Vzc2lvbnNTZXJ2aWNlLnNlc3Npb25zU2VydmljZUZhY3RvcnkuJGluamVjdCA9IFtcbiAgXCIkaHR0cFwiLFxuICBcIiRsb2dcIixcbiAgXCJTdG9yYWdlU2VydmljZVwiLFxuICBcIklkZW50aXR5U2VydmljZVwiLFxuICBcIlJlc3Rhbmd1bGFyXCIsXG4gIFwiJHFcIlxuXVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9zZXJ2aWNlcy9zZXNzaW9ucy5zZXJ2aWNlLmpzXG4gKiovIiwiaW1wb3J0IGxvY2FsU3RvcmFnZSBmcm9tICdsb2NhbC1zdG9yYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmFnZVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnNldChrZXksIHZhbHVlKTtcbiAgfVxuXG4gIGdldChrZXkpIHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldChrZXkpO1xuICB9XG5cbiAgcm0oa2V5KSB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5yZW1vdmUoa2V5KTtcbiAgfVxuXG4gIHJlbW92ZUFsbCgpIHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gIH1cblxuICBzdGF0aWMgc3RvcmFnZVNlcnZpY2VGYWN0b3J5KCkge1xuICAgIHJldHVybiBuZXcgU3RvcmFnZVNlcnZpY2UoKVxuICB9XG59XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9zZXJ2aWNlcy9zdG9yYWdlLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUZW5hbnRzU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIsIFNlc3Npb25zU2VydmljZSkge1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlXG4gIH1cblxuICBzYXZlKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGVuYW50LnB1dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSgndGVuYW50cycpLnBvc3QodGVuYW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmZXRjaEFsbFRlbmFudHMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgndGVuYW50cycpLmdldExpc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGZldGNoQWxsVGVuYW50c1BhZ2luYXRlZChwYWdlX3NpemUsIG9mZnNldCkge1xuICAgIGxldCB1cmwgPSBgYXBpL3YxL3RlbmFudHMvcGFnaW5hdGVkLyR7cGFnZV9zaXplfS8ke29mZnNldH1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0VGVuYW50QnlLZXkodGVuYW50S2V5KSB7XG4gICAgbGV0IHVybCA9IGBhcGkvdjEvdGVuYW50cy8ke3RlbmFudEtleX1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZGVsZXRlKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUoXCJ0ZW5hbnRzXCIsIHRlbmFudC5rZXkpLnJlbW92ZSgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHRlbmFudHNTZXJ2aWNlRmFjdG9yeShSZXN0YW5ndWxhciwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gICAgcmV0dXJuIG5ldyBUZW5hbnRzU2VydmljZShSZXN0YW5ndWxhciwgU2Vzc2lvbnNTZXJ2aWNlKVxuICB9XG59XG5cblRlbmFudHNTZXJ2aWNlLnRlbmFudHNTZXJ2aWNlRmFjdG9yeS4kaW5qZWN0ID0gW1xuICBcIlJlc3Rhbmd1bGFyXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJcbl1cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NsaWVudC9hcHAvc2VydmljZXMvdGVuYW50cy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZXpvbmVzU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gIH1cblxuICBnZXRVc1RpbWV6b25lcygpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0aW1lem9uZXMnLCAnYXBpL3YxL3RpbWV6b25lcy91cycpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0QWxsVGltZXpvbmVzKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RpbWV6b25lcycsICdhcGkvdjEvdGltZXpvbmVzL2FsbCcpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0Q3VzdG9tVGltZXpvbmVzKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RpbWV6b25lcycsICdhcGkvdjEvdGltZXpvbmVzL2N1c3RvbScpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgc3RhdGljIHRpbWV6b25lU2VydmljZUZhY3RvcnkoUmVzdGFuZ3VsYXIpIHtcbiAgICByZXR1cm4gbmV3IFRpbWV6b25lc1NlcnZpY2UoUmVzdGFuZ3VsYXIpXG4gIH1cbn1cblxuVGltZXpvbmVzU2VydmljZS50aW1lem9uZVNlcnZpY2VGYWN0b3J5LiRpbmplY3QgPSBbXG4gIFwiUmVzdGFuZ3VsYXJcIlxuXVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9zZXJ2aWNlcy90aW1lem9uZXMuc2VydmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvYXN0c1NlcnZpY2Uge1xuICBjb25zdHJ1Y3Rvcih0b2FzdHIpIHtcbiAgICB0aGlzLnRvYXN0ciA9IHRvYXN0clxuICB9XG5cbiAgc2hvd1N1Y2Nlc3NUb2FzdChtZXNzYWdlLCB0aXRsZSA9ICdTdWNjZXNzIScpIHtcbiAgICByZXR1cm4gdGhpcy50b2FzdHIuc3VjY2VzcyhtZXNzYWdlLCB0aXRsZSk7XG4gIH1cblxuICBzaG93RXJyb3JUb2FzdChtZXNzYWdlLCB0aXRsZSA9ICdFcnJvciEnKSB7XG4gICAgcmV0dXJuIHRoaXMudG9hc3RyLmVycm9yKG1lc3NhZ2UsIHRpdGxlKTtcbiAgfVxuXG4gIHNob3dJbmZvVG9hc3QobWVzc2FnZSwgdGl0bGUgPSAnSW5mb3JtYXRpb24nKSB7XG4gICAgcmV0dXJuIHRoaXMudG9hc3RyLmluZm8obWVzc2FnZSwgdGl0bGUpO1xuICB9XG5cbiAgc3RhdGljIHRvYXN0c1NlcnZpY2VGYWN0b3J5KHRvYXN0cikge1xuICAgIHJldHVybiBuZXcgVG9hc3RzU2VydmljZSh0b2FzdHIpXG4gIH1cbn1cblxuVG9hc3RzU2VydmljZS50b2FzdHNTZXJ2aWNlRmFjdG9yeS4kaW5qZWN0ID0gW1xuICBcInRvYXN0clwiXG5dXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NsaWVudC9hcHAvc2VydmljZXMvdG9hc3RzLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWZXJzaW9uc1NlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICB9XG5cbiAgZ2V0VmVyc2lvbnMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndmVyc2lvbnMnKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHN0YXRpYyB2ZXJzaW9uc1NlcnZpY2VGYWN0b3J5KFJlc3Rhbmd1bGFyKSB7XG4gICAgcmV0dXJuIG5ldyBWZXJzaW9uc1NlcnZpY2UoUmVzdGFuZ3VsYXIpXG4gIH1cbn1cblxuVmVyc2lvbnNTZXJ2aWNlLnZlcnNpb25zU2VydmljZUZhY3RvcnkuJGluamVjdCA9IFtcbiAgXCJSZXN0YW5ndWxhclwiXG5dXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NsaWVudC9hcHAvc2VydmljZXMvdmVyc2lvbnMuc2VydmljZS5qc1xuICoqLyIsImZ1bmN0aW9uIFRlbmFudEFkZEN0cmwoJGxvZywgJGxvY2F0aW9uLCBUZW5hbnRzU2VydmljZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgVGltZXpvbmVzU2VydmljZSwgJHN0YXRlLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uZ2FtZVN0b3BTZXJ2ZXIgPSAkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTE7XG4gIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG4gICAga2V5OiB1bmRlZmluZWQsXG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG4gICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcbiAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG4gICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG4gICAgcHJvb2Zfb2ZfcGxheV91cmw6IHVuZGVmaW5lZCxcbiAgICBhY3RpdmU6IHRydWVcbiAgfTtcbiAgdm0uc2VsZWN0ZWREb21haW4gPSB1bmRlZmluZWQ7XG4gIHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IFtdO1xuICB2bS50aW1lem9uZXMgPSBbXTtcbiAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9ICdBbWVyaWNhL0NoaWNhZ28nO1xuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHRpbWV6b25lUHJvbWlzZSA9IFRpbWV6b25lc1NlcnZpY2UuZ2V0Q3VzdG9tVGltZXpvbmVzKCk7XG4gICAgdGltZXpvbmVQcm9taXNlLnRoZW4oZGF0YSA9PiB2bS50aW1lem9uZXMgPSBkYXRhKTtcbiAgICB2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG4gICAgbGV0IGRpc3RyaWJ1dG9yUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0QnlLZXkodm0uY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcbiAgICBkaXN0cmlidXRvclByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uY3VycmVudFRlbmFudC5jb250ZW50X21hbmFnZXJfYmFzZV91cmwgPSBkYXRhLmNvbnRlbnRfbWFuYWdlcl91cmw7XG4gICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudC5jb250ZW50X3NlcnZlcl91cmwgPSBkYXRhLnBsYXllcl9jb250ZW50X3VybDtcbiAgICB9KTtcbiAgICBsZXQgZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5nZXREb21haW5zQnlLZXkodm0uY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcbiAgICByZXR1cm4gZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlLnRoZW4oZG9tYWlucyA9PiB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBkb21haW5zKTtcbiAgfTtcblxuICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICB2bS5jdXJyZW50VGVuYW50LmRlZmF1bHRfdGltZXpvbmUgPSB2bS5zZWxlY3RlZFRpbWV6b25lO1xuICAgIHZtLmN1cnJlbnRUZW5hbnQuZG9tYWluX2tleSA9IHZtLnNlbGVjdGVkRG9tYWluLmtleTtcbiAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNhdmUodm0uY3VycmVudFRlbmFudCk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlLCB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlKTtcbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudHMnKTtcbiAgfTtcblxuICB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlID0gZnVuY3Rpb24gKGVycm9yT2JqZWN0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgaWYgKGVycm9yT2JqZWN0LnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsXG4gICAgICAgICdUZW5hbnQgY29kZSB1bmF2YWlsYWJsZS4gUGxlYXNlIG1vZGlmeSB0ZW5hbnQgbmFtZSB0byBnZW5lcmF0ZSBhIHVuaXF1ZSB0ZW5hbnQgY29kZS4nLCAnZXJyb3InKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGxvZy5lcnJvcihlcnJvck9iamVjdCk7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gc2F2ZSB0aGUgdGVuYW50LicsICdlcnJvcicpO1xuICAgIH1cbiAgfTtcblxuICB2bS5hdXRvR2VuZXJhdGVUZW5hbnRDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdm0uY3VycmVudFRlbmFudC5rZXkpIHtcbiAgICAgIGxldCBuZXdUZW5hbnRDb2RlID0gJyc7XG4gICAgICBpZiAodm0uY3VycmVudFRlbmFudC5uYW1lKSB7XG4gICAgICAgIG5ld1RlbmFudENvZGUgPSB2bS5jdXJyZW50VGVuYW50Lm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50LnRlbmFudF9jb2RlID0gbmV3VGVuYW50Q29kZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtUZW5hbnRBZGRDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL3RlbmFudC90ZW5hbnQtYWRkLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBUZW5hbnREZXRhaWxzQ3RybCgkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBEb21haW5zU2VydmljZSwgVGltZXpvbmVzU2VydmljZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgJHN0YXRlLCBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlLCAkc2NvcGUsICRsb2NhdGlvbikge1xuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5nYW1lU3RvcFNlcnZlciA9ICRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMTtcbiAgdm0uY3VycmVudFRlbmFudCA9IHtcbiAgICBrZXk6IHVuZGVmaW5lZCxcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcbiAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcbiAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG4gICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcbiAgICBwcm9vZl9vZl9wbGF5X3VybDogdW5kZWZpbmVkLFxuICAgIGFjdGl2ZTogdHJ1ZVxuICB9O1xuICB2bS5zZWxlY3RlZERvbWFpbiA9IHVuZGVmaW5lZDtcbiAgdm0uZGlzdHJpYnV0b3JEb21haW5zID0gW107XG4gIHZtLnRpbWV6b25lcyA9IFtdO1xuICB2bS5zZWxlY3RlZFRpbWV6b25lID0gJ0FtZXJpY2EvQ2hpY2Fnbyc7XG4gIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXG4gIGlmICh2bS5lZGl0TW9kZSkge1xuICAgIGxldCB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkoJHN0YXRlUGFyYW1zLnRlbmFudEtleSk7XG4gICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICAgIHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQ7XG4gICAgICByZXR1cm4gdm0ub25TdWNjZXNzUmVzb2x2aW5nVGVuYW50KHRlbmFudCk7XG4gICAgfSk7XG4gIH1cblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCB0aW1lem9uZVByb21pc2UgPSBUaW1lem9uZXNTZXJ2aWNlLmdldEN1c3RvbVRpbWV6b25lcygpO1xuICAgIHRpbWV6b25lUHJvbWlzZS50aGVuKGRhdGEgPT4gdm0udGltZXpvbmVzID0gZGF0YSk7XG4gICAgdm0uY3VycmVudERpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuICAgIGxldCBkaXN0cmlidXRvckRvbWFpblByb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmdldERvbWFpbnNCeUtleSh2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuICAgIHJldHVybiBkaXN0cmlidXRvckRvbWFpblByb21pc2UudGhlbihkb21haW5zID0+IHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IGRvbWFpbnMpO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1Jlc29sdmluZ1RlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gdGVuYW50LmRlZmF1bHRfdGltZXpvbmU7XG4gICAgbGV0IGRvbWFpblByb21pc2UgPSBEb21haW5zU2VydmljZS5nZXREb21haW5CeUtleSh0ZW5hbnQuZG9tYWluX2tleSk7XG4gICAgcmV0dXJuIGRvbWFpblByb21pc2UudGhlbihkYXRhID0+IHZtLnNlbGVjdGVkRG9tYWluID0gZGF0YSk7XG4gIH07XG5cbiAgdm0ub25DbGlja1NhdmVCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgdm0uY3VycmVudFRlbmFudC5kZWZhdWx0X3RpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcbiAgICB2bS5jdXJyZW50VGVuYW50LmRvbWFpbl9rZXkgPSB2bS5zZWxlY3RlZERvbWFpbi5rZXk7XG4gICAgbGV0IHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zYXZlKHZtLmN1cnJlbnRUZW5hbnQpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzVGVuYW50U2F2ZSwgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSk7XG4gIH07XG5cbiAgdm0ub25TdWNjZXNzVGVuYW50U2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHRlbmFudCBpbmZvcm1hdGlvbi4nKTtcbiAgfTtcblxuICB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlID0gZnVuY3Rpb24gKGVycm9yT2JqZWN0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgaWYgKGVycm9yT2JqZWN0LnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsXG4gICAgICAgICdUZW5hbnQgY29kZSB1bmF2YWlsYWJsZS4gUGxlYXNlIG1vZGlmeSB0ZW5hbnQgbmFtZSB0byBnZW5lcmF0ZSBhIHVuaXF1ZSB0ZW5hbnQgY29kZS4nLCAnZXJyb3InKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIHNhdmUgdGhlIHRlbmFudC4nLCAnZXJyb3InKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uZWRpdEl0ZW0gPSBpdGVtID0+ICRzdGF0ZS5nbygnZWRpdERldmljZScsIHtkZXZpY2VLZXk6IGl0ZW0ua2V5LCB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcblxuICB2bS5hdXRvR2VuZXJhdGVUZW5hbnRDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdm0uY3VycmVudFRlbmFudC5rZXkpIHtcbiAgICAgIGxldCBuZXdUZW5hbnRDb2RlID0gJyc7XG4gICAgICBpZiAodm0uY3VycmVudFRlbmFudC5uYW1lKSB7XG4gICAgICAgIG5ld1RlbmFudENvZGUgPSB2bS5jdXJyZW50VGVuYW50Lm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50LnRlbmFudF9jb2RlID0gbmV3VGVuYW50Q29kZTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnRhYkluZGV4ID0gMDtcblxuICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzd2l0Y2ggKHRvVGFiKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtUZW5hbnREZXRhaWxzQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC90ZW5hbnQvdGVuYW50LWRldGFpbHMuY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIFRlbmFudExvY2F0aW9uQ3RybCgkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBMb2NhdGlvbnNTZXJ2aWNlLCAkc3RhdGUsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsIFRvYXN0c1NlcnZpY2UpIHtcbiAgbGV0IHZtID0gdGhpcztcbiAgdm0ubG9jYXRpb24gPSB7XG4gICAga2V5OiB1bmRlZmluZWRcbiAgfTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy5sb2NhdGlvbktleTtcbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IGxvY2F0aW9uUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25CeUtleSgkc3RhdGVQYXJhbXMubG9jYXRpb25LZXkpO1xuICAgIGxvY2F0aW9uUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5sb2NhdGlvbiA9IGRhdGE7XG4gICAgICB2bS50ZW5hbnRLZXkgPSBkYXRhLnRlbmFudEtleTtcbiAgICAgIHZtLmxvY2F0aW9uTmFtZSA9IGRhdGEuY3VzdG9tZXJMb2NhdGlvbk5hbWU7XG4gICAgICByZXR1cm4gdm0uZmV0Y2hUZW5hbnROYW1lKHZtLnRlbmFudEtleSk7XG4gICAgfSk7XG4gIH1cblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdm0uZWRpdE1vZGUpIHtcbiAgICAgIHZtLmZldGNoVGVuYW50TmFtZSh2bS50ZW5hbnRLZXkpO1xuICAgICAgcmV0dXJuIHZtLmxvY2F0aW9uID0ge1xuICAgICAgICB0ZW5hbnRLZXk6IHZtLnRlbmFudEtleSxcbiAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2F2ZSh2bS5sb2NhdGlvbik7XG4gICAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1VwZGF0aW5nTG9jYXRpb24odm0udGVuYW50S2V5KSwgdm0ub25GYWlsdXJlU2F2aW5nTG9jYXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uLCB2bS5vbkZhaWx1cmVTYXZpbmdMb2NhdGlvbik7XG4gICAgfVxuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciBsb2NhdGlvbi4nKTtcbiAgICByZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24gKCkge1xuICAgICAgJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICByZXR1cm47XG4gICAgfSksIDEwMDApO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1VwZGF0aW5nTG9jYXRpb24gPSBmdW5jdGlvbiAodGVuYW50X2tleSkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgdXBkYXRlZCB5b3VyIGxvY2F0aW9uLicpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbiAoKSB7XG4gICAgICAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6IHRlbmFudF9rZXl9KTtcbiAgICAgIHJldHVybjtcbiAgICB9KSwgMTAwMCk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlU2F2aW5nTG9jYXRpb24gPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ0xvY2F0aW9uIGNvZGUgY29uZmxpY3QuIFVuYWJsZSB0byBzYXZlIHlvdXIgbG9jYXRpb24uJyk7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsXG4gICAgICAgICdQbGVhc2UgY2hhbmdlIHlvdXIgY3VzdG9tZXIgbG9jYXRpb24gbmFtZS4gTG9jYXRpb24gbmFtZSBtdXN0IGdlbmVyYXRlIGEgdW5pcXVlIGxvY2F0aW9uIGNvZGUuJyxcbiAgICAgICAgJ2Vycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdVbmFibGUgdG8gc2F2ZSB5b3VyIGxvY2F0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICB2bS5mZXRjaFRlbmFudE5hbWUgPSBmdW5jdGlvbiAodGVuYW50S2V5KSB7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh0ZW5hbnRLZXkpO1xuICAgIHJldHVybiB0ZW5hbnRQcm9taXNlLnRoZW4odGVuYW50ID0+IHZtLnRlbmFudE5hbWUgPSB0ZW5hbnQubmFtZSk7XG4gIH07XG5cbiAgdm0uYXV0b0dlbmVyYXRlQ3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF2bS5sb2NhdGlvbi5rZXkpIHtcbiAgICAgIGxldCBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9ICcnO1xuICAgICAgaWYgKHZtLmxvY2F0aW9uLmN1c3RvbWVyTG9jYXRpb25OYW1lKSB7XG4gICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gdm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbk5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG4gICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtUZW5hbnRMb2NhdGlvbkN0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NsaWVudC9hcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbi5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gVGVuYW50TWFuYWdlZERldmljZXNDdHJsKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgJHN0YXRlKSB7XG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG4gICAga2V5OiB1bmRlZmluZWQsXG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG4gICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcbiAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG4gICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG4gICAgYWN0aXZlOiB0cnVlXG4gIH07XG4gIHZtLnRlbmFudERldmljZXMgPSBbXTtcbiAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gIHZtLnNlbGVjdGVkQnV0dG9uID0gXCJTZXJpYWwgTnVtYmVyXCI7XG4gIHZtLnNlcmlhbERldmljZXMgPSB7fTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5tYWNEZXZpY2VzID0ge307XG4gIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXG4gIHZtLmdldE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKTtcbiAgICByZXR1cm4gZGV2aWNlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uZGV2aWNlc1ByZXYgPSBkYXRhW1wicHJldl9jdXJzb3JcIl07XG4gICAgICB2bS5kZXZpY2VzTmV4dCA9IGRhdGFbXCJuZXh0X2N1cnNvclwiXTtcbiAgICAgIHZtLnRlbmFudERldmljZXMgPSBkYXRhW1wiZGV2aWNlc1wiXTtcbiAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IChpdGVtKSA9PiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtKVxuXG4gIHZtLnJlZnJlc2hEZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgdm0udGVuYW50RGV2aWNlcyA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcbiAgfTtcblxuICBpZiAodm0uZWRpdE1vZGUpIHtcbiAgICBsZXQgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHZtLnRlbmFudEtleSk7XG4gICAgdGVuYW50UHJvbWlzZS50aGVuKHRlbmFudCA9PiB2bS5jdXJyZW50VGVuYW50ID0gdGVuYW50KTtcbiAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIG51bGwpO1xuICB9XG5cbiAgJHNjb3BlLnRhYkluZGV4ID0gMTtcblxuICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzd2l0Y2ggKHRvVGFiKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywge3RlbmFudEtleTogdm0udGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6IHZtLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6IHZtLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywge3RlbmFudEtleTogdm0udGVuYW50S2V5fSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2bS5jaGFuZ2VSYWRpbyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcbiAgICByZXR1cm4gdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB9O1xuXG4gIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAocGFydGlhbCkge1xuICAgIGxldCB1bm1hbmFnZWQgPSBmYWxzZTtcbiAgICBsZXQgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG4gICAgbGV0IGJ5VGVuYW50ID0gdHJ1ZTtcbiAgICBsZXQgdGVuYW50S2V5ID0gdm0udGVuYW50S2V5O1xuICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgIGxldCBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlc1xuICAgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG4gICAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgcmV0dXJuIGRldmljZXNbMF1cbiAgICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PT0gXCJNQUNcIikge1xuICAgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZtLmdjbWlkRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbXVxuICAgICAgICB9XG4gICAgICB9KVxuICB9O1xuXG4gIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG4gICAgaWYgKGZvcndhcmQpIHtcbiAgICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIHZtLmRldmljZXNOZXh0KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgbnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLnByZXBhcmVGb3JFZGl0VmlldyA9IChzZWFyY2hUZXh0KSA9PiBEZXZpY2VzU2VydmljZS5wcmVwcmF0ZUZvckVkaXRWaWV3KFxuICAgIHZtLnNlbGVjdGVkQnV0dG9uLFxuICAgIHZtLnRlbmFudEtleSxcbiAgICBzZWFyY2hUZXh0LFxuICAgIHZtLm1hY0RldmljZXMsXG4gICAgdm0uc2VyaWFsRGV2aWNlcyxcbiAgICB2bS5nY21pZERldmljZXNcbiAgKVxuXG4gIHZtLmNvbnRyb2xPcGVuQnV0dG9uID0gZnVuY3Rpb24gKGlzTWF0Y2gpIHtcbiAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuICAgIHJldHVybiB2bS5sb2FkaW5nRGlzYWJsZWQgPSBmYWxzZTtcbiAgfTtcblxuICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICBsZXQgdW5tYW5hZ2VkID0gZmFsc2U7XG4gICAgbGV0IGJ5VGVuYW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2UuaXNSZXNvdXJjZVZhbGlkKHJlc291cmNlLCB2bS5zZWxlY3RlZEJ1dHRvbiwgYnlUZW5hbnQsIHZtLnRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZClcbiAgICAgIC50aGVuKHJlcyA9PiB2bS5jb250cm9sT3BlbkJ1dHRvbihyZXNbXCJpc19tYXRjaFwiXSkpO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cbmV4cG9ydCB7VGVuYW50TWFuYWdlZERldmljZXNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL3RlbmFudC90ZW5hbnQtbWFuYWdlZC1kZXZpY2VzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsICRzdGF0ZSkge1xuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5jdXJyZW50VGVuYW50ID0ge1xuICAgIGtleTogdW5kZWZpbmVkLFxuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG4gICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcbiAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuICAgIGFjdGl2ZTogdHJ1ZVxuICB9O1xuICB2bS5nY21pZERldmljZXMgPSBbXTtcbiAgdm0udGVuYW50RGV2aWNlcyA9IFtdO1xuICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG4gIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcbiAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIk1BQ1wiO1xuICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblxuICAkc2NvcGUudGFiSW5kZXggPSAyO1xuXG4gICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG4gICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN3aXRjaCAodG9UYWIpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7dGVuYW50S2V5OiB2bS50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogdm0udGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogdm0udGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiB2bS50ZW5hbnRLZXl9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZtLmVkaXRJdGVtID0gKGl0ZW0pID0+IERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKGl0ZW0pXG5cbiAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uICh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBkZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldFVubWFuYWdlZERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcik7XG4gICAgcmV0dXJuIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmRldmljZXNQcmV2ID0gZGF0YVtcInByZXZfY3Vyc29yXCJdO1xuICAgICAgdm0uZGV2aWNlc05leHQgPSBkYXRhW1wibmV4dF9jdXJzb3JcIl07XG4gICAgICB2bS50ZW5hbnREZXZpY2VzID0gZGF0YVtcImRldmljZXNcIl07XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuICAgIHRlbmFudFByb21pc2UudGhlbih0ZW5hbnQgPT4gdm0uY3VycmVudFRlbmFudCA9IHRlbmFudCk7XG4gICAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIG51bGwpO1xuICB9XG5cbiAgdm0ucmVmcmVzaERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuICAgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcbiAgICB2bS50ZW5hbnREZXZpY2VzID0gbnVsbDtcbiAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG4gIH07XG5cbiAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gICAgcmV0dXJuIHZtLm1hY0RldmljZXMgPSB7fTtcbiAgfTtcblxuICB2bS5zZWFyY2hEZXZpY2VzID0gZnVuY3Rpb24gKHBhcnRpYWwpIHtcbiAgICBsZXQgdW5tYW5hZ2VkID0gdHJ1ZTtcbiAgICBsZXQgYnlUZW5hbnQgPSB0cnVlO1xuICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIHZtLnNlbGVjdGVkQnV0dG9uLCBieVRlbmFudCwgdm0udGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgbGV0IGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzXG4gICAgICAgICAgaWYgKHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuICAgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIGlmICh2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJNQUNcIikge1xuICAgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZtLmdjbWlkRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbXVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gIH07XG5cbiAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSAoc2VhcmNoVGV4dCkgPT4gRGV2aWNlc1NlcnZpY2UucHJlcHJhdGVGb3JFZGl0VmlldyhcbiAgICB2bS5zZWxlY3RlZEJ1dHRvbixcbiAgICB2bS50ZW5hbnRLZXksXG4gICAgc2VhcmNoVGV4dCxcbiAgICB2bS5tYWNEZXZpY2VzLFxuICAgIHZtLnNlcmlhbERldmljZXMsXG4gICAgdm0uZ2NtaWREZXZpY2VzXG4gIClcblxuICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uIChpc01hdGNoKSB7XG4gICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcbiAgICByZXR1cm4gdm0ubG9hZGluZ0Rpc2FibGVkID0gZmFsc2U7XG4gIH07XG5cbiAgdm0uaXNSZXNvdXJjZVZhbGlkID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgbGV0IHVubWFuYWdlZCA9IHRydWU7XG4gICAgbGV0IGJ5VGVuYW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2UuaXNSZXNvdXJjZVZhbGlkKHJlc291cmNlLCB2bS5zZWxlY3RlZEJ1dHRvbiwgYnlUZW5hbnQsIHZtLnRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZClcbiAgICAgIC50aGVuKHJlcyA9PiB2bS5jb250cm9sT3BlbkJ1dHRvbihyZXNbXCJpc19tYXRjaFwiXSkpO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cbmV4cG9ydCB7VGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2NsaWVudC9hcHAvdGVuYW50L3RlbmFudC11bm1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gVGVuYW50c0N0cmwoJHN0YXRlLCAkbG9nLCBUZW5hbnRzU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBzd2VldCkge1xuICBsZXQgdm0gPSB0aGlzO1xuXG4gIHZtLnRlbmFudHMgPSBbXTtcblxuICB2bS5nZXRUZW5hbnRzID0gZnVuY3Rpb24gKHBhZ2Vfc2l6ZSwgb2Zmc2V0KSB7XG4gICAgdm0ub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZmV0Y2hBbGxUZW5hbnRzUGFnaW5hdGVkKHBhZ2Vfc2l6ZSwgb2Zmc2V0KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKChyZXNwb25zZSA9PiB2bS5nZXRGZXRjaFN1Y2Nlc3MocmVzcG9uc2UpKSwgcmVzcG9uc2UgPT4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKSk7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5vZmZzZXQgPSAwO1xuICAgIHJldHVybiB2bS5nZXRUZW5hbnRzKDEwMCwgdm0ub2Zmc2V0KTtcbiAgfTtcblxuICB2bS5nZXRGZXRjaFN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICB2bS50ZW5hbnRzID0gcmVzcG9uc2UudGVuYW50cztcbiAgICB2bS50b3RhbCA9IHJlc3BvbnNlLnRvdGFsO1xuICAgIHZtLmlzX2ZpcnN0X3BhZ2UgPSByZXNwb25zZS5pc19maXJzdF9wYWdlO1xuICAgIHZtLmlzX2xhc3RfcGFnZSA9IHJlc3BvbnNlLmlzX2xhc3RfcGFnZTtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gdm0ubG9hZGluZyA9IGZhbHNlO1xuICB9O1xuXG4gIHZtLmdldEZldGNoRmFpbHVyZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgVW5hYmxlIHRvIGZldGNoIHRlbmFudHMuIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fS5gO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IGl0ZW0gPT4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywge3RlbmFudEtleTogaXRlbS5rZXl9KTtcblxuICB2bS5kZWxldGVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBsZXQgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmRlbGV0ZShpdGVtKTtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oKCkgPT4gdm0uaW5pdGlhbGl6ZSgpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHN3ZWV0LnNob3coe1xuICAgICAgdGl0bGU6IFwiQXJlIHlvdSBzdXJlP1wiLFxuICAgICAgdGV4dDogXCJUaGlzIHdpbGwgcGVybWFuZW50bHkgcmVtb3ZlIHRoZSB0ZW5hbnQgZnJvbSB0aGUgc3lzdGVtLlwiLFxuICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG4gICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcIiNERDZCNTVcIixcbiAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIlllcywgcmVtb3ZlIHRoZSB0ZW5hbnQhXCIsXG4gICAgICBjbG9zZU9uQ29uZmlybTogdHJ1ZVxuICAgIH0sIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge1RlbmFudHNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL3RlbmFudC90ZW5hbnRzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBXZWxjb21lQ3RybChWZXJzaW9uc1NlcnZpY2UsICRzdGF0ZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLnZlcnNpb25fZGF0YSA9IFtdO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcblxuICB2bS5wcm9jZWVkVG9TaWduSW4gPSAoKSA9PiAkc3RhdGUuZ28oJ3NpZ25faW4nKTtcblxuICB2bS5jYXBpdGFsaXplRmlyc3RMZXR0ZXIgPSBzdHJpbmcgPT4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuXG4gIHZtLmdpdmVPcHRpb25Ub0NoYW5nZURpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBkaXN0cmlidXRvcnNQcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5mZXRjaEFsbEJ5VXNlcihTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpKTtcbiAgICByZXR1cm4gZGlzdHJpYnV0b3JzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5oYXNfbXVsdGlwbGVfZGlzdHJpYnV0b3JzID0gZGF0YS5sZW5ndGggPiAxO1xuICAgICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5jaGFuZ2VEaXN0cmlidXRvciA9ICgpID0+ICRzdGF0ZS5nbygnZGlzdHJpYnV0b3Jfc2VsZWN0aW9uJyk7XG5cbiAgdm0uZ2V0VmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcHJvbWlzZSA9IFZlcnNpb25zU2VydmljZS5nZXRWZXJzaW9ucygpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oZGF0YSA9PiB2bS52ZXJzaW9uX2RhdGEgPSBkYXRhKTtcbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmlkZW50aXR5ID0ge1xuICAgICAga2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpLFxuICAgICAgZW1haWw6IFNlc3Npb25zU2VydmljZS5nZXRVc2VyRW1haWwoKSxcbiAgICAgIGRpc3RyaWJ1dG9yS2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksXG4gICAgICBkaXN0cmlidXRvck5hbWU6IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKClcbiAgICB9O1xuXG4gICAgdm0uZ2l2ZU9wdGlvblRvQ2hhbmdlRGlzdHJpYnV0b3IoKTtcblxuICAgIGlmICghdm0uaWRlbnRpdHkuZW1haWwpIHtcbiAgICAgIHJldHVybiAkc3RhdGUuZ28oXCJzaWduX2luXCIpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRWZXJzaW9uKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdm07XG59XG5leHBvcnQge1dlbGNvbWVDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL3dlbGNvbWUvd2VsY29tZS1jb250cm9sbGVyLmpzXG4gKiovIiwiZXhwb3J0IGZ1bmN0aW9uIHJvdXRlcygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCBSZXN0YW5ndWxhclByb3ZpZGVyKSB7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwic2lnbl9pblwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcbiAgICAgIH0sXG4gICAgICBub3RBdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5ub3RBdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3NpZ25faW5cIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYXV0aGVudGljYXRpb24vc2lnbl9pbi5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJBdXRoZW50aWNhdGlvbkN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnLFxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduZWRfb3V0XCIsIHtcbiAgICB1cmw6IFwiL3NpZ25lZF9vdXRcIixcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIG5vdEF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLm5vdEF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduZWRfb3V0Lmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkF1dGhlbnRpY2F0aW9uQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ2F1dGhlbnRpY2F0aW9uQ3RybCcsXG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNpZ25fb3V0XCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvc2lnbl9vdXRcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYXV0aGVudGljYXRpb24vc2lnbl9vdXQuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnYXV0aGVudGljYXRpb25DdHJsJyxcbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZGlzdHJpYnV0b3Jfc2VsZWN0aW9uXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2Rpc3RyaWJ1dG9yX3NlbGVjdGlvblwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kaXN0cmlidXRvci9kaXN0cmlidXRvcl9zZWxlY3Rvci5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJEaXN0cmlidXRvclNlbGVjdG9yQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiaG9tZVwiLCB7XG4gICAgdXJsOiBcIi9cIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvd2VsY29tZS93ZWxjb21lLmh0bWxcIixcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IFwiV2VsY29tZUN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd3ZWxjb21lQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdTa3lraXQgUHJvdmlzaW9uaW5nJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwid2VsY29tZVwiLCB7XG4gICAgdXJsOiBcIi93ZWxjb21lXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3dlbGNvbWUvd2VsY29tZS5odG1sXCIsXG4gICAgcmVzb2x2ZToge1xuICAgICAgaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcbiAgICAgIH0sXG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjb250cm9sbGVyOiBcIldlbGNvbWVDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnd2VsY29tZUN0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnU2t5a2l0IFByb3Zpc2lvbmluZydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImRvbWFpbnNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvZG9tYWluc1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kb21haW4vZG9tYWlucy1saXN0aW5nLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkRvbWFpbnNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnZG9tYWluc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnRG9tYWlucydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkZERvbWFpblwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kb21haW5zL2FkZFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kb21haW4vZG9tYWluLWRldGFpbC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJEb21haW5EZXRhaWxzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ2RvbWFpbkRldGFpbHNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ0FkZCBkb21haW4nLFxuICAgICAgcGFyZW50OiAnZG9tYWlucydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXREb21haW5cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvZG9tYWlucy86ZG9tYWluS2V5XCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW4tZGV0YWlsLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkRvbWFpbkRldGFpbHNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnZG9tYWluRGV0YWlsc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgZG9tYWluRGV0YWlsc0N0cmwuY3VycmVudERvbWFpbi5uYW1lIH19JyxcbiAgICAgIHBhcmVudDogJ2RvbWFpbnMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHNcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudHMtbGlzdGluZy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudHNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ1RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJhZGRUZW5hbnRcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy9hZGRcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1hZGQuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50QWRkQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudEFkZEN0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnQWRkIHRlbmFudCcsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50RGV0YWlsc1wiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvZGV0YWlsc1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWRldGFpbHMuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50RGV0YWlsc0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnREZXRhaWxzQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyB0ZW5hbnREZXRhaWxzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudE1hbmFnZWREZXZpY2VzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9tYW5hZ2VkXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbWFuYWdlZC1kZXZpY2VzLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudE1hbmFnZWREZXZpY2VzQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19JyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRVbm1hbmFnZWREZXZpY2VzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS91bm1hbmFnZWRcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC11bm1hbmFnZWQtZGV2aWNlcy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudFVubWFuYWdlZERldmljZXNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudFVubWFuYWdlZERldmljZXNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50TG9jYXRpb25zXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9sb2NhdGlvbnNcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbnMuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9jYXRpb25zQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvY2F0aW9uc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9jYXRpb25zQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXRMb2NhdGlvblwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9sb2NhdGlvbnMvOmxvY2F0aW9uS2V5XCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9jYXRpb25DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50TG9jYXRpb25DdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudExvY2F0aW9uQ3RybC50ZW5hbnROYW1lIH19ICAvIHt7IHRlbmFudExvY2F0aW9uQ3RybC5sb2NhdGlvbk5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkZExvY2F0aW9uXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9sb2NhdGlvblwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9uLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudExvY2F0aW9uQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvY2F0aW9uQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2NhdGlvbkN0cmwudGVuYW50TmFtZSB9fSAgLyBMb2NhdGlvbicsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZGV2aWNlc1wiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kZXZpY2VzXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RldmljZS9kZXZpY2VzLWxpc3RpbmcuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiRGV2aWNlc0xpc3RpbmdDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnZGV2aWNlc0xpc3RpbmdDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ0RldmljZXMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlZGl0RGV2aWNlXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvZGV2aWNlcy86ZGV2aWNlS2V5P3RlbmFudEtleT9mcm9tRGV2aWNlc1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kZXZpY2UvZGV2aWNlLWRldGFpbC5odG1sXCIsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyBkZXZpY2VEZXRhaWxzQ3RybC5jdXJyZW50RGV2aWNlLmtleSB9fScsXG4gICAgICBwYXJlbnQ6ICdkZXZpY2VzJ1xuICAgIH0sXG4gICAgY29udHJvbGxlcjogJ0RldmljZURldGFpbHNDdHJsJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xuICAgICAgJHNjb3BlLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG4gICAgICByZXR1cm47XG4gICAgfSxcbiAgICBjb250cm9sbGVyQXM6ICdkZXZpY2VEZXRhaWxzQ3RybCdcbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicHJvb2ZcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvcHJvb2ZcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcHJvb2YvbWFpbi5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJQcm9vZk9mUGxheUN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdQcm9vZiBvZiBQbGF5J1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicHJvb2ZEZXRhaWxcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvcHJvb2YvOnRlbmFudFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wcm9vZi9kZXRhaWwuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiUHJvb2ZPZlBsYXlDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnUHJvb2Ygb2YgUGxheSdcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkbWluXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBpc0FkbWluKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5pc0FkbWluT3JEaXN0cmlidXRvckFkbWluKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2FkbWluXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2FkbWluL2FkbWluLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkFkbWluQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ0FkbWluJ1xuICAgIH1cbiAgfSk7XG5cbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL3NpZ25faW4nKTtcblxuICBSZXN0YW5ndWxhclByb3ZpZGVyLnNldEJhc2VVcmwoJy9hcGkvdjEnKTtcblxuICBSZXN0YW5ndWxhclByb3ZpZGVyLmFkZFJlc3BvbnNlSW50ZXJjZXB0b3IoZnVuY3Rpb24gKGRhdGEsIG9wZXJhdGlvbiwgcmVzb3VyY2VUeXBlLCB1cmwsIHJlc3BvbnNlLCBkZWZlcnJlZCkge1xuICAgIGxldCByZXN1bHQgPSBkYXRhO1xuICAgIC8vIFVuY29tbWVudCB0aGlzIGZvciBwYWdpbmF0aW9uIHN1cHBvcnQgd2hlbiB1c2luZyBQYWdpbmdMaXN0SGFuZGxlck1peGluIG9uIHRoZSBQeXRob24gc2lkZS5cbiAgICAvLyAgICBpZiByZXNvdXJjZVR5cGUgPT0gJ2RldmljZXMnIGFuZCBvcGVyYXRpb24gPSAnZ2V0TGlzdCcgYW5kIHVybCA9PSAnL2FwaS92MS9kZXZpY2VzJ1xuICAgIC8vICAgICAgcmVzdWx0ID0gZGF0YS5vYmplY3RzXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSk7XG5cbiAgcmV0dXJuIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0UmVzdGFuZ3VsYXJGaWVsZHMoe1xuICAgIGlkOiAna2V5J1xuICB9KTtcbn1cblxucm91dGVzLiRpbmplY3QgPSBbXCIkc3RhdGVQcm92aWRlclwiLCBcIiR1cmxSb3V0ZXJQcm92aWRlclwiLCBcIlJlc3Rhbmd1bGFyUHJvdmlkZXJcIl1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vY2xpZW50L2FwcC9hcHAtcm91dGVzLmpzXG4gKiovIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRSZXF1ZXN0SW50ZXJjZXB0b3IoJGh0dHBQcm92aWRlcikge1xuICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdSZXF1ZXN0SW50ZXJjZXB0b3InKTtcbn1cbmFkZFJlcXVlc3RJbnRlcmNlcHRvci4kaW5qZWN0ID0gWyckaHR0cFByb3ZpZGVyJ107XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHRvYXN0ckNvbmZpZyh0b2FzdHJDb25maWcpIHtcbiAgYW5ndWxhci5leHRlbmQodG9hc3RyQ29uZmlnLCB7XG4gICAgcHJvZ3Jlc3NCYXI6IHRydWUsXG4gICAgY2xvc2VCdXR0b246IHRydWUsXG4gICAgdGFwVG9EaXNtaXNzOiB0cnVlLFxuICAgIG5ld2VzdE9uVG9wOiB0cnVlLFxuICAgIHBvc2l0aW9uQ2xhc3M6ICd0b2FzdC1ib3R0b20tbGVmdCcsXG4gICAgdGltZU91dDogNTAwMFxuICB9KVxufVxudG9hc3RyQ29uZmlnLiRpbmplY3QgPSBbJ3RvYXN0ckNvbmZpZyddO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBicmVhZGNydW1iUHJvdmlkZXIoJGJyZWFkY3J1bWJQcm92aWRlcikge1xuICAkYnJlYWRjcnVtYlByb3ZpZGVyLnNldE9wdGlvbnMoe1xuICAgIHByZWZpeFN0YXRlTmFtZTogJ2hvbWUnLFxuICAgIHRlbXBsYXRlOiAnYm9vdHN0cmFwMydcbiAgfSlcbn1cblxuYnJlYWRjcnVtYlByb3ZpZGVyLiRpbmplY3QgPSBbXCIkYnJlYWRjcnVtYlByb3ZpZGVyXCJdXG5cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL2FwcC1jb25maWcuanNcbiAqKi8iLCJleHBvcnQgZnVuY3Rpb24gYXBwUnVuKFJlc3Rhbmd1bGFyLCAkbG9jYXRpb24sICRpbmplY3RvciwgJHJvb3RTY29wZSwgJHRpbWVvdXQpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCBzdGF0ZUNoYW5nZVdhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBzdGF0ZSA9ICRpbmplY3Rvci5nZXQoJyRzdGF0ZScpO1xuICAgIHJldHVybiAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3JbMF0gPT09IFwiYXV0aEVycm9yXCIpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmdvKGVycm9yWzFdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAkdGltZW91dChzdGF0ZUNoYW5nZVdhdGNoLCA1MDApO1xuXG4gIGxldCByZXF1ZXN0SW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgUmVzdGFuZ3VsYXIuYWRkUmVxdWVzdEludGVyY2VwdG9yKGZ1bmN0aW9uIChlbGVtLCBvcGVyYXRpb24sIHdoYXQsIHVybCkge1xuICAgICAgbGV0IFN0b3JhZ2VTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnU3RvcmFnZVNlcnZpY2UnKVxuXG4gICAgICBsZXQgYXV0aFRva2VuID0gJzZDMzQ2NTg4QkQ0QzZENzIyQTExNjVCNDNDNTFDJztcbiAgICAgIGlmICgkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTEpIHtcbiAgICAgICAgYXV0aFRva2VuID0gJzVYWkhCRjNtT3dxSmxZQWxHMU5lZVdYMENiNzJnJztcbiAgICAgIH1cbiAgICAgIFJlc3Rhbmd1bGFyLnNldERlZmF1bHRIZWFkZXJzKHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBhdXRoVG9rZW4sXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5JyksXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1EaXN0cmlidXRvcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5JylcbiAgICAgIH0pO1xuXG4gICAgICBpZiAob3BlcmF0aW9uID09PSAncmVtb3ZlJykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWxlbTtcbiAgICB9KVxuICB9XG5cbiAgJHRpbWVvdXQocmVxdWVzdEludGVyY2VwdG9yLCA1MDApO1xuXG59XG5cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9jbGllbnQvYXBwL2FwcC1ydW4uanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9