webpackJsonp([0],{0:function(e,exports,t){t(70),e.exports=t(367)},367:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(368),a=t(648),i=t(649),o=t(660),s=t(661),c=t(662),u=t(663),l=t(696),d=t(697),v=t(698),f=t(699),m=t(700),p=t(701),h=t(702),g=t(703),y=t(704),b=n(y),D=t(710),S=n(D),T=t(711),_=n(T),k=t(712),C=n(k),x=t(713),w=n(x),M=t(714),I=n(M),P=t(715),E=n(P),A=t(716),K=n(A),B=t(717),O=n(B),j=t(718),R=n(j),U=t(719),L=n(U),V=t(720),N=n(V),z=t(721),F=n(z),Y=t(722),q=n(Y),G=t(723),W=n(G),H=t(725),X=n(H),J=t(726),Z=n(J),Q=t(727),ee=n(Q),te=t(728),ne=n(te),re=t(729),ae=t(730),ie=t(731),oe=t(732),se=t(733),ce=t(734),ue=t(735),le=t(736),de=t(737),ve=t(738),fe=t(739),me=t(740),pe=t(741);r.app.service("StorageService",W["default"]).service("AdminService",S["default"]).service("AuthorizationService",_["default"]).service("CommandsService",C["default"]).service("DateManipulationService",w["default"]).service("DevicesService",I["default"]).service("DistributorsService",E["default"]).service("DomainsService",K["default"]).service("IdentityService",O["default"]).service("IntegrationEvents",R["default"]).service("LocationsService",L["default"]).service("ProgressBarService",N["default"]).service("ProofPlayService",F["default"]).service("SessionsService",q["default"]).service("TenantsService",X["default"]).service("TimezonesService",Z["default"]).service("ToastsService",ee["default"]).service("VersionsService",ne["default"]).service("ImageService",b["default"]).controller("DeviceDetailsCommandsCtrl",a.DeviceDetailsCommandsCtrl).controller("DeviceDetailsCtrl",i.DeviceDetailsCtrl).controller("DevicesListingCtrl",o.DevicesListingCtrl).controller("AdminCtrl",s.AdminCtrl).controller("AuthenticationCtrl",c.AuthenticationCtrl).controller("AppController",u.AppController).controller("DistributorSelectorCtrl",l.DistributorSelectorCtrl).controller("DistributorsCtrl",d.DistributorsCtrl).controller("DomainsCtrl",v.DomainsCtrl).controller("DomainDetailsCtrl",f.DomainDetailsCtrl).controller("ProofOfPlayMultiLocationCtrl",m.ProofOfPlayMultiLocationCtrl).controller("ProofOfPlayMultiDisplayCtrl",p.ProofOfPlayMultiDisplayCtrl).controller("ProofOfPlayMultiResourceCtrl",h.ProofOfPlayMultiResourceCtrl).controller("ProofOfPlayCtrl",g.ProofOfPlayCtrl).controller("TenantLogsCtrl",re.TenantLogsCtrl).controller("TenantOverlaysCtrl",ae.TenantOverlaysCtrl).controller("TenantAddCtrl",ie.TenantAddCtrl).controller("TenantDetailsCtrl",oe.TenantDetailsCtrl).controller("TenantLocationCtrl",se.TenantLocationCtrl).controller("TenantLocationsCtrl",ce.TenantLocationsCtrl).controller("TenantManagedDevicesCtrl",ue.TenantManagedDevicesCtrl).controller("TenantUnmanagedDevicesCtrl",le.TenantUnmanagedDevicesCtrl).controller("TenantsCtrl",de.TenantsCtrl).controller("WelcomeCtrl",ve.WelcomeCtrl).run(me.appRun).config(fe.routes).config(pe.toastrConfig).config(pe.breadcrumbProvider),r.app.service("RequestInterceptor",["StorageService","$location",function(e,t){"ngInject";var n={request:function(n){var r="5XZHBF3mOwqJlYAlG1NeeWX0Cb72g",a="6C346588BD4C6D722A1165B43C51C";return n.headers={"Content-Type":"application/json",Accept:"application/json",Authorization:t.host().indexOf("provisioning-gamestop")>-1?r:a,"X-Provisioning-User":e.get("userKey"),"X-Provisioning-User-Identifier":e.get("userEmail"),"X-Provisioning-Distributor":e.get("currentDistributorKey")},n}};return n}]),r.app.config(["$httpProvider",function(e){return e.interceptors.push("RequestInterceptor")}])},368:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.app=void 0;var r=t(369),a=n(r),i=t(371),o=n(i),s=t(372);n(s);t(479),t(481),t(482),t(486),t(488),t(490),t(492),t(500),t(502),t(524),t(525),t(527),t(596),t(597),t(599),t(604),t(605),t(611),t(620),t(621),t(623),t(625),t(627),t(629),t(512),t(640),t(370),t(641),t(643),t(645);var c=t(647),u=n(c);window._=u["default"],window.angular=a["default"];exports.app=a["default"].module("skykitProvisioning",[o["default"],"ngAnimate","720kb.tooltips","ngCookies","ngSanitize","restangular","ui.bootstrap","ngMaterialDatePicker","hSweetAlert","ncy-angular-breadcrumb","directive.g+signin","ngProgress","ngMaterial","ngclipboard","toastr","lfNgMdFileInput"])},374:function(e,exports,t){function n(e){return t(r(e))}function r(e){return a[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var a={"./af":375,"./af.js":375,"./ar":376,"./ar-ly":377,"./ar-ly.js":377,"./ar-ma":378,"./ar-ma.js":378,"./ar-sa":379,"./ar-sa.js":379,"./ar-tn":380,"./ar-tn.js":380,"./ar.js":376,"./az":381,"./az.js":381,"./be":382,"./be.js":382,"./bg":383,"./bg.js":383,"./bn":384,"./bn.js":384,"./bo":385,"./bo.js":385,"./br":386,"./br.js":386,"./bs":387,"./bs.js":387,"./ca":388,"./ca.js":388,"./cs":389,"./cs.js":389,"./cv":390,"./cv.js":390,"./cy":391,"./cy.js":391,"./da":392,"./da.js":392,"./de":393,"./de-at":394,"./de-at.js":394,"./de.js":393,"./dv":395,"./dv.js":395,"./el":396,"./el.js":396,"./en-au":397,"./en-au.js":397,"./en-ca":398,"./en-ca.js":398,"./en-gb":399,"./en-gb.js":399,"./en-ie":400,"./en-ie.js":400,"./en-nz":401,"./en-nz.js":401,"./eo":402,"./eo.js":402,"./es":403,"./es-do":404,"./es-do.js":404,"./es.js":403,"./et":405,"./et.js":405,"./eu":406,"./eu.js":406,"./fa":407,"./fa.js":407,"./fi":408,"./fi.js":408,"./fo":409,"./fo.js":409,"./fr":410,"./fr-ca":411,"./fr-ca.js":411,"./fr-ch":412,"./fr-ch.js":412,"./fr.js":410,"./fy":413,"./fy.js":413,"./gd":414,"./gd.js":414,"./gl":415,"./gl.js":415,"./he":416,"./he.js":416,"./hi":417,"./hi.js":417,"./hr":418,"./hr.js":418,"./hu":419,"./hu.js":419,"./hy-am":420,"./hy-am.js":420,"./id":421,"./id.js":421,"./is":422,"./is.js":422,"./it":423,"./it.js":423,"./ja":424,"./ja.js":424,"./jv":425,"./jv.js":425,"./ka":426,"./ka.js":426,"./kk":427,"./kk.js":427,"./km":428,"./km.js":428,"./ko":429,"./ko.js":429,"./ky":430,"./ky.js":430,"./lb":431,"./lb.js":431,"./lo":432,"./lo.js":432,"./lt":433,"./lt.js":433,"./lv":434,"./lv.js":434,"./me":435,"./me.js":435,"./mi":436,"./mi.js":436,"./mk":437,"./mk.js":437,"./ml":438,"./ml.js":438,"./mr":439,"./mr.js":439,"./ms":440,"./ms-my":441,"./ms-my.js":441,"./ms.js":440,"./my":442,"./my.js":442,"./nb":443,"./nb.js":443,"./ne":444,"./ne.js":444,"./nl":445,"./nl.js":445,"./nn":446,"./nn.js":446,"./pa-in":447,"./pa-in.js":447,"./pl":448,"./pl.js":448,"./pt":449,"./pt-br":450,"./pt-br.js":450,"./pt.js":449,"./ro":451,"./ro.js":451,"./ru":452,"./ru.js":452,"./se":453,"./se.js":453,"./si":454,"./si.js":454,"./sk":455,"./sk.js":455,"./sl":456,"./sl.js":456,"./sq":457,"./sq.js":457,"./sr":458,"./sr-cyrl":459,"./sr-cyrl.js":459,"./sr.js":458,"./ss":460,"./ss.js":460,"./sv":461,"./sv.js":461,"./sw":462,"./sw.js":462,"./ta":463,"./ta.js":463,"./te":464,"./te.js":464,"./th":465,"./th.js":465,"./tl-ph":466,"./tl-ph.js":466,"./tlh":467,"./tlh.js":467,"./tr":468,"./tr.js":468,"./tzl":469,"./tzl.js":469,"./tzm":470,"./tzm-latn":471,"./tzm-latn.js":471,"./tzm.js":470,"./uk":472,"./uk.js":472,"./uz":473,"./uz.js":473,"./vi":474,"./vi.js":474,"./x-pseudo":475,"./x-pseudo.js":475,"./zh-cn":476,"./zh-cn.js":476,"./zh-hk":477,"./zh-hk.js":477,"./zh-tw":478,"./zh-tw.js":478};n.keys=function(){return Object.keys(a)},n.resolve=r,e.exports=n,n.id=374},524:function(e,exports){"use strict";angular.module("ngProgress.provider",["ngProgress.directive"]).service("ngProgress",function(){return["$document","$window","$compile","$rootScope","$timeout",function(e,t,n,r,a){this.autoStyle=!0,this.count=0,this.height="2px",this.$scope=r.$new(),this.color="firebrick",this.parent=e.find("body")[0],this.count=0,this.progressbarEl=n("<ng-progress></ng-progress>")(this.$scope),this.parent.appendChild(this.progressbarEl[0]),this.$scope.count=this.count,void 0!==this.height&&this.progressbarEl.eq(0).children().css("height",this.height),void 0!==this.color&&(this.progressbarEl.eq(0).children().css("background-color",this.color),this.progressbarEl.eq(0).children().css("color",this.color)),this.intervalCounterId=0,this.start=function(){this.show();var e=this;clearInterval(this.intervalCounterId),this.intervalCounterId=setInterval(function(){isNaN(e.count)?(clearInterval(e.intervalCounterId),e.count=0,e.hide()):(e.remaining=100-e.count,e.count=e.count+.15*Math.pow(1-Math.sqrt(e.remaining),2),e.updateCount(e.count))},200)},this.updateCount=function(e){this.$scope.count=e,this.$scope.$$phase||this.$scope.$apply()},this.setHeight=function(e){return void 0!==e&&(this.height=e,this.$scope.height=this.height,this.$scope.$$phase||this.$scope.$apply()),this.height},this.setColor=function(e){return void 0!==e&&(this.color=e,this.$scope.color=this.color,this.$scope.$$phase||this.$scope.$apply()),this.color},this.hide=function(){this.progressbarEl.children().css("opacity","0");var e=this;e.animate(function(){e.progressbarEl.children().css("width","0%"),e.animate(function(){e.show()},500)},500)},this.show=function(){var e=this;e.animate(function(){e.progressbarEl.children().css("opacity","1")},100)},this.animate=function(e,t){void 0!==this.animation&&a.cancel(this.animation),this.animation=a(e,t)},this.status=function(){return this.count},this.stop=function(){clearInterval(this.intervalCounterId)},this.set=function(e){return this.show(),this.updateCount(e),this.count=e,clearInterval(this.intervalCounterId),this.count},this.css=function(e){return this.progressbarEl.children().css(e)},this.reset=function(){return clearInterval(this.intervalCounterId),this.count=0,this.updateCount(this.count),0},this.complete=function(){this.count=100,this.updateCount(this.count);var e=this;return clearInterval(this.intervalCounterId),a(function(){e.hide(),a(function(){e.count=0,e.updateCount(e.count)},500)},1e3),this.count},this.setParent=function(e){if(null===e||void 0===e)throw new Error("Provide a valid parent of type HTMLElement");null!==this.parent&&void 0!==this.parent&&this.parent.removeChild(this.progressbarEl[0]),this.parent=e,this.parent.appendChild(this.progressbarEl[0])},this.getDomElement=function(){return this.progressbarEl},this.setAbsolute=function(){this.progressbarEl.css("position","absolute")}}]}).factory("ngProgressFactory",["$injector","ngProgress",function(e,t){var n={createInstance:function(){return e.instantiate(t)}};return n}]),angular.module("ngProgress.directive",[]).directive("ngProgress",["$window","$rootScope",function(e,t){var n={replace:!0,restrict:"E",link:function(e,t,n,r){e.$watch("count",function(n){(void 0!==n||null!==n)&&(e.counter=n,t.eq(0).children().css("width",n+"%"))}),e.$watch("color",function(n){(void 0!==n||null!==n)&&(e.color=n,t.eq(0).children().css("background-color",n),t.eq(0).children().css("color",n))}),e.$watch("height",function(n){(void 0!==n||null!==n)&&(e.height=n,t.eq(0).children().css("height",n))})},template:'<div id="ngProgress-container"><div id="ngProgress"></div></div>'};return n}]),angular.module("ngProgress",["ngProgress.directive","ngProgress.provider"])},525:function(e,exports,t){var n=t(526);"string"==typeof n&&(n=[[e.id,n,""]]);t(485)(n,{});n.locals&&(e.exports=n.locals)},526:function(e,exports,t){exports=e.exports=t(484)(),exports.push([e.id,"#ngProgress{margin:0;padding:0;z-index:99998;background-color:green;color:green;box-shadow:0 0 10px 0;height:2px;opacity:0;-webkit-transition:all .5s ease-in-out;transition:all .5s ease-in-out}#ngProgress-container{position:fixed;margin:0;padding:0;top:0;left:0;right:0;z-index:99999}",""])},527:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(528),a=n(r);/*! angular-breadcrumb - v0.4.0-dev-2015-08-07
	* http://ncuillery.github.io/angular-breadcrumb
	* Copyright (c) 2015 Nicolas Cuillery; Licensed MIT */
!function(e,t,n){function r(e,n){return t.equals(e.length,n.length)?e>n:e.length>n.length}function i(e){var t=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}function o(){var e={prefixStateName:null,template:"bootstrap3",templateUrl:null,includeAbstract:!1};this.setOptions=function(n){t.extend(e,n)},this.$get=["$state","$stateParams","$rootScope",function(t,o,s){var c=s;s.$on("$viewContentLoaded",function(e){!e.targetScope.ncyBreadcrumbIgnore&&r(e.targetScope.$id,c.$id)&&(c=e.targetScope)});var u=function(e){var t=e.parent||(/^(.+)\.[^.]+$/.exec(e.name)||[])[1],n="object"==("undefined"==typeof t?"undefined":(0,a["default"])(t));return n?t.name:t},l=function v(n,r){for(var a,s,v=i(r),u=!1,l=!1,d=0,f=n.length;f>d;d+=1)if(n[d].name===v.state)return;a=t.get(v.state),a.ncyBreadcrumb&&(a.ncyBreadcrumb.force&&(u=!0),a.ncyBreadcrumb.skip&&(l=!0)),a["abstract"]&&!e.includeAbstract&&!u||l||(v.paramExpr&&(s=c.$eval(v.paramExpr)),a.ncyBreadcrumbLink=t.href(v.state,s||o||{}),n.unshift(a))},d=function(e){var n=i(e),r=t.get(n.state);if(r.ncyBreadcrumb&&r.ncyBreadcrumb.parent){var a="function"==typeof r.ncyBreadcrumb.parent,o=a?r.ncyBreadcrumb.parent(c):r.ncyBreadcrumb.parent;if(o)return o}return u(r)};return{getTemplate:function(t){return e.templateUrl?null:t[e.template]?t[e.template]:e.template},getTemplateUrl:function(){return e.templateUrl},getStatesChain:function(n){for(var r=[],a=t.$current.self.name;a;a=d(a))if(l(r,a),n&&r.length)return r;return e.prefixStateName&&l(r,e.prefixStateName),r},getLastStep:function(){var e=this.getStatesChain(!0);return e.length?e[0]:n},$getLastViewScope:function(){return c}}}]}function s(e,n,r){var a={bootstrap2:'<ul class="breadcrumb"><li ng-repeat="step in steps" ng-switch="$last || !!step.abstract" ng-class="{active: $last}"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span><span class="divider" ng-hide="$last">/</span></li></ul>',bootstrap3:'<ol class="breadcrumb"><li ng-repeat="step in steps" ng-class="{active: $last}" ng-switch="$last || !!step.abstract"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span></li></ol>'};return{restrict:"AE",replace:!0,scope:{},template:n.getTemplate(a),templateUrl:n.getTemplateUrl(),link:{post:function(a){var i=[],o=function(){v(i),i=[];var r=n.$getLastViewScope();a.steps=n.getStatesChain(),t.forEach(a.steps,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);t.ncyBreadcrumbLabel=n(r),d(i,n,r,t)}else t.ncyBreadcrumbLabel=t.name})};r.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||o()}),o()}}}}function c(e,t,n){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbLabel}}",compile:function(r,a){var i=r.attr(a.$attr.ncyBreadcrumbLast);return i&&r.html(i),{post:function(r){var a=[],i=function o(){v(a),a=[];var n=t.$getLastViewScope(),o=t.getLastStep();if(o)if(r.ncyBreadcrumbLink=o.ncyBreadcrumbLink,o.ncyBreadcrumb&&o.ncyBreadcrumb.label){var i=e(o.ncyBreadcrumb.label);r.ncyBreadcrumbLabel=i(n),d(a,i,n,r)}else r.ncyBreadcrumbLabel=o.name};n.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||i()}),i()}}}}}function u(e,n,r){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbChain}}",compile:function(a,i){var o=a.attr(i.$attr.ncyBreadcrumbText);o&&a.html(o);var s=a.attr(i.$attr.ncyBreadcrumbTextSeparator)||" / ";return{post:function(a){var i=[],o=function(e,n,r){t.forEach(l(n),function(t){var n=r.$watch(t,function(e,t){e!==t&&c()});e.push(n)})},c=function u(){v(i),i=[];var r=n.$getLastViewScope(),u=n.getStatesChain(),c=[];t.forEach(u,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);c.push(n(r)),o(i,n,r)}else c.push(t.name)}),a.ncyBreadcrumbChain=c.join(s)};r.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||c()}),c()}}}}}var l=function(e){if(e.expressions)return e.expressions;var n=[];return t.forEach(e.parts,function(e){t.isFunction(e)&&n.push(e.exp)}),n},d=function(e,n,r,a){t.forEach(l(n),function(t){var i=r.$watch(t,function(){a.ncyBreadcrumbLabel=n(r)});e.push(i)})},v=function(e){t.forEach(e,function(e){e()})};s.$inject=["$interpolate","$breadcrumb","$rootScope"],c.$inject=["$interpolate","$breadcrumb","$rootScope"],u.$inject=["$interpolate","$breadcrumb","$rootScope"],t.module("ncy-angular-breadcrumb",["ui.router.state"]).provider("$breadcrumb",o).directive("ncyBreadcrumb",s).directive("ncyBreadcrumbLast",c).directive("ncyBreadcrumbText",u)}(window,window.angular)},596:function(e,exports,t){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(372),a=n(r);!function(t){var n="ngMaterialDatePicker",r={DATE:0,HOUR:1,MINUTE:2},a=function(t,n){return"jQuery"in window?e(t).css(n):(t=angular.element(t),"getComputedStyle"in window?window.getComputedStyle(t[0])[n]:t.css(n))},i='<md-dialog class="dtp" layout="column" style="width: 300px;">    <md-dialog-content class="dtp-content">        <div class="dtp-date-view">            <header class="dtp-header">                <div class="dtp-actual-day" ng-show="picker.dateMode">{{picker.currentDate.format("dddd")}}</div>                <div class="dtp-actual-day" ng-show="picker.timeMode">{{picker.params.shortTime ? picker.currentDate.format("A") : " "}}</div>                <div class="dtp-close text-right">                    <a href="#" mdc-dtp-noclick ng-click="picker.hide()">&times;</a>                </div>            </header>            <div class="dtp-date" ng-show="picker.params.date">                <div layout="column">                    <div class="dtp-actual-month">{{picker.currentDate.format("MMM") | uppercase}}</div>                </div>                <div class="dtp-actual-num">{{picker.currentDate.format("DD")}}</div>                <div layout="row"> <div ng-click="picker.incrementYear(-1)" class="dtp-year-btn dtp-year-btn-prev" flex="30"><span ng-if="picker.isPreviousYearVisible()" >&#x25B2;</span></div>                    <div class="dtp-actual-year" flex>{{picker.currentDate.format("YYYY")}}</div> <div ng-click="picker.incrementYear(1)" class="dtp-year-btn dtp-year-btn-next" flex="30"><span ng-if="picker.isNextYearVisible()" >&#x25BC;</span></div>                </div>            </div>            <div class="dtp-time" ng-show="picker.params.time && !picker.params.date">                <div class="dtp-actual-maxtime">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>            </div>            <div class="dtp-picker">                <mdc-datetime-picker-calendar date="picker.currentDate" picker="picker" class="dtp-picker-calendar" ng-show="picker.currentView === picker.VIEWS.DATE"></mdc-datetime-picker-calendar>                <div class="dtp-picker-datetime" ng-show="picker.currentView !== picker.VIEWS.DATE">                    <div class="dtp-actual-meridien">                        <div class="left p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-am" ng-class="{selected: picker.meridien == \'AM\'}" ng-click="picker.selectAM()">{{picker.params.amText}}</a>                        </div>                        <div ng-show="!picker.timeMode" class="dtp-actual-time p60">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>                        <div class="right p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-pm" ng-class="{selected: picker.meridien == \'PM\'}" ng-click="picker.selectPM()">{{picker.params.pmText}}</a>                        </div>                        <div class="clearfix"></div>                    </div>                    <mdc-datetime-picker-clock mode="hours" ng-if="picker.currentView === picker.VIEWS.HOUR"></mdc-datetime-picker-clock>                    <mdc-datetime-picker-clock mode="minutes" ng-if="picker.currentView === picker.VIEWS.MINUTE"></mdc-datetime-picker-clock>                </div>            </div>        </div>    </md-dialog-content>    <md-dialog-actions class="dtp-buttons">            <md-button class="dtp-btn-cancel md-button" ng-click="picker.cancel()"> {{picker.params.cancelText}}</md-button>            <md-button class="dtp-btn-ok md-button" ng-click="picker.ok()"> {{picker.params.okText}}</md-button>      </md-dialog-actions></md-dialog>';angular.module(n,["ngMaterial"]).provider("mdcDatetimePickerDefaultLocale",function(){this.locale="en",this.$get=function(){return this.locale},this.setDefaultLocale=function(e){this.locale=e}}).directive("mdcDatetimePicker",["$mdDialog",function(e){return{restrict:"A",require:"ngModel",scope:{currentDate:"=ngModel",time:"=",date:"=",minDate:"=",maxDate:"=",shortTime:"=",format:"@",cancelText:"@",okText:"@",lang:"@",amText:"@",pmText:"@"},link:function(n,r,a,s){var c=!1;n.format||(n.date&&n.time?n.format="YYYY-MM-DD HH:mm:ss":n.date?n.format="YYYY-MM-DD":n.format="HH:mm"),angular.isString(n.currentDate)&&""!==n.currentDate&&(n.currentDate=t(n.currentDate,n.format)),s&&s.$formatters.push(function(e){if("undefined"!=typeof e){var r=t(e);return r.isValid()?r.format(n.format):""}}),r.attr("readonly",""),r.on("focus",function(t){if(t.preventDefault(),r.blur(),!c){c=!0;var s={};for(var u in a)n.hasOwnProperty(u)&&!angular.isUndefined(n[u])&&(s[u]=n[u]);s.currentDate=n.currentDate;var l={options:s};e.show({template:i,controller:o,controllerAs:"picker",locals:l,openFrom:r,parent:angular.element(document.body),bindToController:!0,disableParentScroll:!1}).then(function(e){n.currentDate=e?e._d:e,c=!1},function(){c=!1})}})}}}]);var o=function(e,t,n){this.currentView=r.DATE,this._dialog=t,this.minDate,this.maxDate,this._attachedEvents=[],this.VIEWS=r,this.params={date:!0,time:!0,format:"YYYY-MM-DD",minDate:null,maxDate:null,currentDate:null,lang:n,weekStart:0,shortTime:!1,cancelText:"Cancel",okText:"OK",amText:"AM",pmText:"PM"},this.meridien="AM",this.params=angular.extend(this.params,this.options),this.init()};o.$inject=["$scope","$mdDialog","mdcDatetimePickerDefaultLocale"],o.prototype={init:function(){this.timeMode=this.params.time&&!this.params.date,this.dateMode=this.params.date,this.initDates(),this.start()},currentNearest5Minute:function(){var e=this.currentDate||t(),n=5*Math.round(e.minute()/5);return n>=60&&(n=55),t(e).minutes(n)},initDates:function(){var e=this,n=function(n,r){var a=null;if(angular.isDefined(n)&&null!==n&&""!==n)if(angular.isString(n))a="undefined"!=typeof e.params.format&&null!==e.params.format?t(n,e.params.format).locale(e.params.lang):t(n).locale(e.params.lang);else if(angular.isDate(n)){var i=n.getTime();a=t(i,"x").locale(e.params.lang)}else n._isAMomentObject&&(a=n);else a=r;return a};this.currentDate=n(this.params.currentDate,t()),this.minDate=n(this.params.minDate),this.maxDate=n(this.params.maxDate),this.selectDate(this.currentDate)},initDate:function(e){this.currentView=r.DATE},initHours:function(){this.currentView=r.HOUR},initMinutes:function(){this.currentView=r.MINUTE},isAfterMinDate:function(e,n,r){var a=!0;if("undefined"!=typeof this.minDate&&null!==this.minDate){var i=t(this.minDate),o=t(e);n||r||(i.hour(0),i.minute(0),o.hour(0),o.minute(0)),i.second(0),o.second(0),i.millisecond(0),o.millisecond(0),r?a=parseInt(o.format("X"))>=parseInt(i.format("X")):(o.minute(0),i.minute(0),a=parseInt(o.format("X"))>=parseInt(i.format("X")))}return a},isBeforeMaxDate:function(e,n,r){var a=!0;if("undefined"!=typeof this.maxDate&&null!==this.maxDate){var i=t(this.maxDate),o=t(e);n||r||(i.hour(0),i.minute(0),o.hour(0),o.minute(0)),i.second(0),o.second(0),i.millisecond(0),o.millisecond(0),r?a=parseInt(o.format("X"))<=parseInt(i.format("X")):(o.minute(0),i.minute(0),a=parseInt(o.format("X"))<=parseInt(i.format("X")))}return a},selectDate:function(e){e&&(this.currentDate=t(e),this.isAfterMinDate(this.currentDate)||(this.currentDate=t(this.minDate)),this.isBeforeMaxDate(this.currentDate)||(this.currentDate=t(this.maxDate)),this.currentDate.locale(this.params.lang),this.calendarStart=t(this.currentDate),this.meridien=this.currentDate.hour()>=12?"PM":"AM")},setName:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},isPM:function(){return"PM"===this.meridien},incrementYear:function(e){1===e&&this.isNextYearVisible()&&this.selectDate(this.currentDate.add("year",e)),e===-1&&this.isPreviousYearVisible()&&this.selectDate(this.currentDate.add("year",e))},isPreviousMonthVisible:function(){return this.calendarStart&&this.isAfterMinDate(t(this.calendarStart).startOf("month"),!1,!1)},isNextMonthVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(t(this.calendarStart).endOf("month"),!1,!1)},isPreviousYearVisible:function(){return this.calendarStart&&this.isAfterMinDate(t(this.calendarStart).startOf("year"),!1,!1)},isNextYearVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(t(this.calendarStart).endOf("year"),!1,!1)},isHourAvailable:function(e){var n=t(this.currentDate);return n.hour(this.convertHours(e)).minute(0).second(0),this.isAfterMinDate(n,!0,!1)&&this.isBeforeMaxDate(n,!0,!1)},isMinuteAvailable:function(e){var n=t(this.currentDate);return n.minute(e).second(0),this.isAfterMinDate(n,!0,!0)&&this.isBeforeMaxDate(n,!0,!0)},start:function(){this.currentView=r.DATE,this.params.date?this.initDate():this.params.time&&this.initHours()},ok:function(){switch(this.currentView){case r.DATE:this.params.time===!0?this.initHours():this.hide(!0);break;case r.HOUR:this.initMinutes();break;case r.MINUTE:this.hide(!0)}},cancel:function(){if(this.params.time)switch(this.currentView){case r.DATE:this.hide();break;case r.HOUR:this.params.date?this.initDate():this.hide();break;case r.MINUTE:this.initHours()}else this.hide()},selectMonthBefore:function(){this.calendarStart.subtract(1,"months")},selectMonthAfter:function(){this.calendarStart.add(1,"months")},selectYearBefore:function(){this.calendarStart.subtract(1,"years")},selectYearAfter:function(){this.calendarStart.add(1,"years")},selectAM:function(){(this.isHourAvailable(0)||this.isHourAvailable(12))&&(this.currentDate.hour()>=12&&this.selectDate(this.currentDate.subtract(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.minDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.minDate.minute())))},selectPM:function(){(this.isHourAvailable(13)||this.isHourAvailable(24))&&(this.currentDate.hour()<12&&this.selectDate(this.currentDate.add(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.maxDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.maxDate.minute())))},convertHours:function(e){var t=e;return e<12&&this.isPM()&&(t+=12),t},hide:function(e){e?this._dialog.hide(this.currentDate):this._dialog.cancel()}},angular.module(n).directive("mdcDatetimePickerCalendar",[function(){for(var e=(t(),1900),n=2100,r=12*(n-e+1),a=240,i=[],o=0;o<r;o++)i.push(o);var s=function(t){var n=t.year(),r=t.month();return 12*(n-e)+r-1};return{restrict:"E",scope:{picker:"=",date:"="},bindToController:!0,controllerAs:"cal",controller:["$scope",function(n){for(var a=this,o=this.picker,c=[],u=o.params.weekStart;c.length<7;u++)u>6&&(u=0),c.push(u.toString());if(a.week=c,o.maxDate||o.minDate){var l=o.minDate?s(o.minDate):0,d=o.maxDate?s(o.maxDate)+1:r;a.months=i.slice(l,d)}else a.months=i;a.getItemAtIndex=function(n){var r=(n+1)%12||12,a=e+Math.floor(n/12),i=t(o.currentDate).year(a).month(r);return v(i)},a.topIndex=s(o.currentDate)-a.months[0],n.$watch(function(){return o.currentDate?o.currentDate.format("YYYY-MM"):""},function(e,n){if(e!=n){var r=t(e,"YYYY-MM"),i=s(r);a.topIndex!=i&&(a.topIndex=i-a.months[0])}});var v=function(e){var n={};if(null!==e){n.name=e.format("MMMM YYYY");var r=t(e).locale(o.params.lang).startOf("month").hour(e.hour()).minute(e.minute()),i=r.format("d");n.days=[];for(var s=r.date();s<=r.daysInMonth();s++){if(s===r.date()){var c=a.week.indexOf(i.toString());if(c>0)for(var u=0;u<c;u++)n.days.push(0)}n.days.push(t(r).locale(o.params.lang).date(s))}for(var l=7,d=[],v=Math.ceil(n.days.length/l),f=0;f<v;f++)d.push(n.days.slice(f*l,(f+1)*l));return n.days=d,n}};a.toDay=function(e){return t(parseInt(e),"d").locale(o.params.lang).format("dd").substring(0,1)},a.isInRange=function(e){return o.isAfterMinDate(t(e),!1,!1)&&o.isBeforeMaxDate(t(e),!1,!1)},a.selectDate=function(e){if(e){if(a.isSelectedDay(e))return o.ok();o.selectDate(t(e).hour(a.date.hour()).minute(a.date.minute()))}},a.isSelectedDay=function(e){return e&&a.date.date()===e.date()&&a.date.month()===e.month()&&a.date.year()===e.year()}}],template:'<md-virtual-repeat-container md-top-index="cal.topIndex" class="months"><div md-virtual-repeat="idx in cal.months" md-start-index="cal.topIndex" md-item-size="'+a+'">     <div mdc-datetime-picker-calendar-month idx="idx"></div></div></md-virtual-repeat-container>'}}]).directive("mdcDatetimePickerCalendarMonth",["$compile",function(e){var t=function(t,n){var r=angular.element(t[0].querySelector("tbody")),a=n.cal,i=n.month;r.html(""),i.days.forEach(function(e,t){var n=angular.element("<tr></tr>");e.forEach(function(e,r){var i=angular.element("<td> </td>");if(e){var o;if(a.isInRange(e)){var s='month["days"]['+t+"]["+r+"]";o=angular.element("<a href='#' mdc-dtp-noclick></a>").attr("ng-class","{selected: cal.isSelectedDay("+s+")}").attr("ng-click","cal.selectDate("+s+")")}else o=angular.element("<span></span>");o.addClass("dtp-select-day").html(e.format("D")),i.append(o)}n.append(i)}),r.append(n)}),e(r)(n)};return{scope:{idx:"="},require:"^mdcDatetimePickerCalendar",restrict:"AE",template:'<div class="dtp-picker-month">{{month.name}}</div><table class="table dtp-picker-days">    <thead>    <tr>        <th ng-repeat="day in cal.week">{{cal.toDay(day)}}</th>    </tr>    </thead>    <tbody>    </tbody></table>',link:function(e,n,r,a){e.cal=a,e.month=a.getItemAtIndex(parseInt(e.idx)),t(n,e),e.$watch(function(){return e.idx},function(r,i){r!=i&&(e.month=a.getItemAtIndex(parseInt(e.idx)),t(n,e))})}}}]),angular.module(n).directive("mdcDtpNoclick",function(){return{link:function(e,t){t.on("click",function(e){e.preventDefault()})}}}),angular.module(n).directive("mdcDatetimePickerClock",[function(){var e='<div class="dtp-picker-clock"><span ng-if="!points || points.length < 1">&nbsp;</span><div ng-repeat="point in points" class="dtp-picker-time" style="margin-left: {{point.left}}px; margin-top: {{point.top}}px;">   <a href="#" mdc-dtp-noclick ng-class="{selected: point.value===currentValue}" class="dtp-select-hour" ng-click="setTime(point.value)" ng-if="pointAvailable(point)">{{point.display}}</a>   <a href="#" mdc-dtp-noclick class="disabled dtp-select-hour" ng-if="!pointAvailable(point)">{{point.display}}</a></div><div class="dtp-hand dtp-hour-hand"></div><div class="dtp-hand dtp-minute-hand"></div><div class="dtp-clock-center"></div></div>';return{restrict:"E",template:e,link:function(e,t,n){var r="minutes"===n.mode,i=e.picker,o=document.querySelector("md-dialog.dtp"),s=function(){var n=angular.element(t[0].querySelector(".dtp-picker-clock")),s=angular.element(o.querySelector(".dtp-picker")),u=o.querySelector(".dtp-content").offsetWidth,d=parseInt(a(s,"paddingLeft").replace("px",""))||0,v=parseInt(a(s,"paddingRight").replace("px",""))||0,f=parseInt(a(n,"marginLeft").replace("px",""))||0,m=parseInt(a(n,"marginRight").replace("px",""))||0,p=u-(f+m+d+v);n.css("width",p+"px");for(var h=parseInt(a(s,"paddingLeft").replace("px",""))||0,g=parseInt(a(s,"paddingTop").replace("px",""))||0,y=parseInt(a(n,"marginLeft").replace("px",""))||0,b=parseInt(a(n,"marginTop").replace("px",""))||0,D=p/2,S=D/1.2,T=[],_=0;_<12;++_){var k=S*Math.sin(2*Math.PI*(_/12)),C=S*Math.cos(2*Math.PI*(_/12)),x={left:D+k+h/2-(h+y),top:D-C-b/2-(g+b),value:r?5*_:_};r?x.display=x.value<10?"0"+x.value:x.value:i.params.shortTime?x.display=0===_?12:_:x.display=i.isPM()?_+12:_,T.push(x)}e.points=T,l(),n.css("height",p+"px");var w=t[0].querySelector(".dtp-clock-center"),M=w.offsetWidth/2||7.5,I=w.offsetHeight/2||7.5,P=D/1.8,E=D/1.5;angular.element(t[0].querySelector(".dtp-hour-hand")).css({left:D+1.5*y+"px",height:P+"px",marginTop:D-P-h+"px"}).addClass(r?"":"on"),angular.element(t[0].querySelector(".dtp-minute-hand")).css({left:D+1.5*y+"px",height:E+"px",marginTop:D-E-h+"px"}).addClass(r?"on":""),angular.element(w).css({left:D+h+y-M+"px",marginTop:D-y/2-I+"px"}),c()},c=function(){var e=i.currentNearest5Minute(),n=e.hour(),r=e.minute();u(angular.element(t[0].querySelector(".dtp-hour-hand")),30*n);var a=6*(5*Math.round(r/5));u(angular.element(t[0].querySelector(".dtp-minute-hand")),a)},u=function(e,t){angular.element(e).css({WebkitTransform:"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)"})},l=function(){var t=i.currentNearest5Minute();e.currentValue=r?t.minute():t.hour()%12};e.$watch(function(){var e=i.currentNearest5Minute();return e?e.format("HH:mm"):""},function(e){l(),c()});var d=function(e,t){for(var n=0;n<t.length;n++)t[n].display=n,e&&(t[n].display+=12);return t};i.params.shortTime||e.$watch("picker.meridien",function(){if(!r&&e.points){var t=d(i.isPM(),angular.copy(e.points));e.points=t}}),e.setTime=function(t){t===e.currentValue&&i.ok(),r?i.currentDate.minute(t):i.currentDate.hour(i.isPM()?t+12:t),i.currentDate.second(0)},e.pointAvailable=function(e){return r?i.isMinuteAvailable(e.value):i.isHourAvailable(e.value)};var v=e.$watch(function(){return t[0].querySelectorAll("div").length},function(){s(),v()})}}}])}(a["default"])}).call(exports,t(512))},597:function(e,exports,t){var n=t(598);"string"==typeof n&&(n=[[e.id,n,""]]);t(485)(n,{});n.locals&&(e.exports=n.locals)},598:function(e,exports,t){exports=e.exports=t(484)(),exports.push([e.id,"md-dialog.dtp{font-size:14px;line-height:1.42857143;color:#333;background-color:#fff;max-height:none}.dtp :focus{outline:none!important}.dtp table{border-spacing:0;border-collapse:collapse;width:100%}.dtp .table>tbody>tr>td,.dtp .table>tbody>tr>th,.dtp .table>tfoot>tr>td,.dtp .table>tfoot>tr>th,.dtp .table>thead>tr>td,.dtp .table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}.dtp,.dtp *{box-sizing:border-box!important}.dtp>.dtp-content{max-width:300px;max-height:500px}.dtp>.dtp-content>.dtp-date-view>header.dtp-header{background:#689f38;color:#fff;text-align:center;padding:3px}.dtp div.dtp-date,.dtp div.dtp-time{background:#8bc34a;text-align:center;color:#fff;padding:10px}.dtp div.dtp-date>div{padding:0;margin:0}.dtp div.dtp-actual-month{font-size:1.5em}.dtp div.dtp-actual-maxtime,.dtp div.dtp-actual-num{font-size:3em;line-height:.9}.dtp div.dtp-actual-year{font-size:1.6em;color:#dcedc8}.dtp div.dtp-year-btn{font-size:1.4em;line-height:30px;cursor:pointer;color:#dcedc8}.dtp div.dtp-year-btn-prev{text-align:right}.dtp div.dtp-year-btn-next{text-align:left}.dtp div.dtp-picker{padding:10px;text-align:center}.dtp div.dtp-actual-time,.dtp div.dtp-picker-month{font-weight:500;text-align:center}.dtp .dtp-close{position:absolute;top:.25em;right:5px;font-size:16px}.dtp .dtp-close>a{color:#fff;text-decoration:none}.dtp .dtp-close>a>i{font-size:1em}.dtp table.dtp-picker-days{margin:0;min-height:220px}.dtp md-virtual-repeat-container.months{height:260px}.dtp table.dtp-picker-days,.dtp table.dtp-picker-days tr,.dtp table.dtp-picker-days tr>td{border:none}.dtp table.dtp-picker-days tr>td{font-size:11px;text-align:center;padding:0}.dtp table.dtp-picker-days tr>td>span.dtp-select-day{color:#bdbdbd!important}.dtp table.dtp-picker-days tr>td>.dtp-select-day{width:36px;height:36px;display:inline-block}.dtp .dtp-picker-time>a,.dtp table.dtp-picker-days tr>td>.dtp-select-day{color:#212121;text-decoration:none;padding:10px;border-radius:50%!important}.dtp table.dtp-picker-days tr>td>a.selected{background:#8bc34a;color:#fff}.dtp table.dtp-picker-days tr>td>a:hover:not(.selected){background:#ddd}.dtp table.dtp-picker-days tr>th{color:#757575;text-align:center;font-weight:700;padding:4px 3px}.dtp .p10>a{color:#689f38;text-decoration:none}.dtp .p10{width:10%}.dtp .p10,.dtp .p20{display:inline-block}.dtp .p20{width:20%}.dtp .p60{width:60%}.dtp .p60,.dtp .p80{display:inline-block}.dtp .p80{width:80%}.dtp a.dtp-meridien-am,.dtp a.dtp-meridien-pm{position:relative;top:10px;color:#212121;font-weight:500;padding:7px 5px;border-radius:50%!important;text-decoration:none;background:#eee;font-size:10px}.dtp .dtp-actual-meridien a.selected{background:#689f38;color:#fff}.dtp .dtp-picker-time>a{display:block;line-height:23px;padding:3px}.dtp .dtp-picker-time{position:absolute;width:30px;height:30px;font-size:1.1em;border-radius:50%;cursor:pointer;text-align:center!important}.dtp .dtp-picker-time>a.dtp-select-hour.selected{background:#689f38;color:#fff}.dtp .dtp-picker-time>a.dtp-select-hour.disabled,.dtp .dtp-picker-time>a.dtp-select-minute.disabled{color:#757575}.dtp .dtp-picker-time>a.dtp-select-minute.selected{background:#8bc34a;color:#fff}.dtp div.dtp-picker-clock{margin:10px 20px 0;padding:10px;border-radius:50%!important;background:#eee}.dtp-clock-center{width:15px;height:15px;background:#757575;border-radius:50%;position:absolute;z-index:50}.dtp .dtp-hand,.dtp .dtp-hour-hand{position:absolute;width:4px;margin-left:-2px;background:#bdbdbd;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:bottom;transform-origin:bottom;z-index:1}.dtp .dtp-minute-hand{width:2px;margin-left:-1px}.dtp .dtp-hand.on{background:#8bc34a}.dtp .dtp-buttons{padding:0 10px 10px;text-align:right}.dtp.hidden,.dtp .hidden{display:none}.dtp .invisible{visibility:hidden}.dtp .left{float:left}.dtp .right{float:right}.dtp .clearfix{clear:both}.dtp .center{text-align:center}",""])},599:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(600),a=n(r);angular.module("directive.g+signin",[]).directive("googlePlusSignin",["$window",function(e){var t=/\.apps\.googleusercontent\.com$/;return{restrict:"E",transclude:!0,template:"<span></span>",replace:!0,link:function(n,r,i,o,s){i.clientid+=t.test(i.clientid)?"":".apps.googleusercontent.com",i.$set("data-clientid",i.clientid),i.$set("theme",i.theme);var c={callback:"signinCallback",cookiepolicy:"single_host_origin",requestvisibleactions:"http://schemas.google.com/AddActivity",scope:"https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/userinfo.email",height:"standard",width:"wide",state:""};c.clientid=i.clientid,c.theme=i.theme,angular.forEach((0,a["default"])(c),function(e){i.hasOwnProperty(e)&&(c[e]=i[e])}),i.$observe("language",function(t){e.___gcfg={lang:t?t:"en"}});var u=document.createElement("script");u.type="text/javascript",u.async=!0,u.src="https://apis.google.com/js/client:plusone.js";var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(u,l),s(function(e,t){u.onload=function(){e.length&&r.append(e),gapi.signin.render(r[0],c)}})}}}]).run(["$window","$rootScope",function(e,t){e.signinCallback=function(e){e&&e.access_token?t.$broadcast("event:google-plus-signin-success",e):t.$broadcast("event:google-plus-signin-failure",e)}}])},643:function(e,exports,t){var n=t(644);"string"==typeof n&&(n=[[e.id,n,""]]);t(485)(n,{});n.locals&&(e.exports=n.locals)},644:function(e,exports,t){exports=e.exports=t(484)(),exports.push([e.id,"",""])},645:function(e,exports,t){var n=t(646);"string"==typeof n&&(n=[[e.id,n,""]]);t(485)(n,{});n.locals&&(e.exports=n.locals)},646:function(e,exports,t){exports=e.exports=t(484)(),exports.push([e.id,".distributor-selection{font-size:16pt;padding:3px;margin:3px}body{margin-top:100px;background-color:transparent}@media (min-width:768px){body{margin-top:50px}}#wrapper{padding-left:0}#page-wrapper{width:100%;padding:0;background-color:#fff}.huge{font-size:50px;line-height:normal}@media (min-width:768px){#wrapper{padding-left:225px}#page-wrapper{padding:10px}}.margin-bottom-15{margin-bottom:1.5em}.margin-top-05{margin-top:.5em}.margin-top-15{margin-top:1.5em}.margin-top-20{margin-top:2em}.margin-top-25{margin-top:2.5em}.margin-top-50{margin-top:5em}.issue-warning-background{background-color:orange}.issue-warning-text{color:orange}.issue-danger-background{background-color:red}.issue-danger-text{color:red}.issue-normal-background{background-color:green}.issue-normal-text{color:green}.up-true-background{background-color:green}.up-false-background{background-color:red}.navbar-default{background-color:#1b75bb;border-color:#15598e}.navbar-default .navbar-brand{color:#fff}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#55a7e7}.navbar-default .navbar-nav>li>a,.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#fff}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#fff;background-color:#afd5f3}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{color:#555;background-color:#d5d5d5}.navbar-default .navbar-nav>.dropdown>a .caret{border-top-color:#777;border-bottom-color:#777}.navbar-default .navbar-nav>.dropdown>a:focus .caret,.navbar-default .navbar-nav>.dropdown>a:hover .caret{border-top-color:#333;border-bottom-color:#333}.navbar-default .navbar-nav>.open>a .caret,.navbar-default .navbar-nav>.open>a:focus .caret,.navbar-default .navbar-nav>.open>a:hover .caret{border-top-color:#555;border-bottom-color:#555}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#ccc}@media (max-width:767px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333}}.top-nav{padding:0 15px}.top-nav>li{display:inline-block;float:left}.top-nav>li>a{padding-top:15px;padding-bottom:15px;line-height:20px;color:#efefef}.top-nav>.open>a,.top-nav>.open>a:focus,.top-nav>.open>a:hover,.top-nav>li>a:focus,.top-nav>li>a:hover{color:#fff;background-color:#1b75bb}.top-nav>.open>.dropdown-menu{float:left;position:absolute;margin-top:0;border:1px solid rgba(0,0,0,.15);border-top-left-radius:0;border-top-right-radius:0;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.top-nav>.open>.dropdown-menu>li>a{white-space:normal}ul.message-dropdown{padding:0;max-height:250px;overflow-x:hidden;overflow-y:auto}li.message-preview{width:275px;border-bottom:1px solid rgba(0,0,0,.15)}li.message-preview>a{padding-top:15px;padding-bottom:15px}li.message-footer{margin:5px 0}ul.alert-dropdown{width:200px}@media (min-width:768px){.side-nav{position:fixed;top:51px;left:225px;margin-left:-225px;border:none;border-radius:0;overflow-y:auto;background-color:#1b75bb;bottom:0;overflow-x:hidden;padding-bottom:40px}.side-nav,.side-nav>li>a{width:225px}.side-nav li a:focus,.side-nav li a:hover{outline:none;background-color:#3f9ce3!important}}.side-nav>li>ul{padding:0}.side-nav>li>ul>li>a{display:block;padding:10px 15px 10px 38px;text-decoration:none;color:#d4d4d4}.side-nav>li>ul>li>a:hover{color:#fff}.flot-chart{display:block;height:400px}.flot-chart-content{width:100%;height:100%}.huge{font-size:40px}.panel-green{border-color:#5cb85c}.panel-green>.panel-heading{border-color:#5cb85c;color:#fff;background-color:#5cb85c}.panel-green>a{color:#5cb85c}.panel-green>a:hover{color:#3d8b3d}.panel-red{border-color:#d9534f}.panel-red>.panel-heading{border-color:#d9534f;color:#fff;background-color:#d9534f}.panel-red>a{color:#d9534f}.panel-red>a:hover{color:#b52b27}.panel-yellow{border-color:#f0ad4e}.panel-yellow>.panel-heading{border-color:#f0ad4e;color:#fff;background-color:#f0ad4e}.panel-yellow>a{color:#f0ad4e}.panel-yellow>a:hover{color:#df8a13}.toolbar{margin-bottom:10px}.entity-key{font-family:Monaco,Consolas,Lucida Console,dejavu sans mono,monospace;font-size:11px}.proof-of-play-label{padding-bottom:10px;padding-top:10px}.copy-ready-transparent{color:transparent}.no-devices{text-align:center}.properties-word-break{width:390px;word-wrap:break-word;display:block}.command-history-command{width:375px;word-wrap:break-word;display:block}.hostname-word-break{width:200px;word-wrap:break-word;display:inline-block}[data-ng-click],[ng-click],[x-ng-click]{cursor:pointer}#proofplay-selected-items{min-width:0!important;margin:0 auto;padding:0 auto}.radio-button{padding:3px}.horizontal-submit{margin:.5em}.horizontal-submit,.radio-horizontal{display:flex;align-self:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center}md-toolbar.md-default-theme:not(.md-menu-toolbar),md-toolbar:not(.md-menu-toolbar){background-color:#1b75bb!important;max-height:64px;min-height:64px}.md-toolbar-tools{background-color:#000!important;max-height:64px;min-height:64px}.skykit-image{max-width:100%;height:33px}@media (max-width:767px){md-toolbar.md-default-theme:not(.md-menu-toolbar),md-toolbar:not(.md-menu-toolbar){margin-top:-50px;margin-bottom:50px}}.center-block{text-align:center}.ellipsis-overflow,.proof-of-play-selected-item{width:100%;white-space:nowrap;overflow:hidden;text-align:left;text-overflow:ellipsis}.proof-of-play-tenant-name-option{width:7em;white-space:nowrap;overflow:hidden;text-align:center;positition:absolute;text-overflow:ellipsis}.proof-of-play-horizontal-top-bar{align-self:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;margin-top:.5em;margin-bottom:.5em;align-items:center}.my-flex,.proof-of-play-horizontal-top-bar{display:flex;justify-content:center}.bigger-buttons{padding:.4em;min-width:88px;border-radius:5px;font-size:16px;text-align:center;text-decoration:none;border:none;outline:none}.admin-container{display:flex;align-content:flex-start}.registration-event-column{height:110px;display:inline-block;vertical-align:top;overflow:scroll}.pull-command-send-button-up{margin-top:-2px}header.dtp-header{background:#1b75bb!important}.dtp div.dtp-date,.dtp div.dtp-time{background:#000}.dtp .dtp-actual-meridien a.selected,.dtp .dtp-picker-time>a.dtp-select-hour.selected,.dtp table.dtp-picker-days tr>td>a.selected{background:#1b75bb!important}.dtp .dtp-hand.on{background:#000}.device-properties-switch{margin-top:-1px}.md-content-command-override md-content{overflow:unset}.pull-tooltip-left{margin-left:-55px}.command-button-right{float:right;flex-direction:row-reverse}md-select{display:block;margin:10px 0 8px;padding-bottom:2px;position:relative;min-width:180px;max-width:180px}.small-delete-button{float:right;min-width:25px;margin-top:-15px;margin-right:-5px}.tenant-image-name{width:10em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}",""]);
},648:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o,s,c,u,l,d,v,f){"ngInject";var m=this;return m.tenantKey=t.tenantKey,m.deviceKey=t.deviceKey,m.fromDevices="true"===t.fromDevices,m.currentDevice={},m.commandEvents=[],m.generateLocalFromUTC=function(e){var t=i["default"].utc(e).toDate();return t=(0,i["default"])(t).format("YYYY-MM-DD hh:mm:ss A")},m.replaceCommandTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.postedTime&&(n.postedTime=m.generateLocalFromUTC(n.postedTime)),n.confirmedTime&&(n.confirmedTime=m.generateLocalFromUTC(n.confirmedTime))}},m.getEvents=function(e,t,n){l.start();var r=a.getCommandEventsByKey(e,t,n);return r.then(function(e){return m.replaceCommandTime(e.events),m.event_next_cursor=e.next_cursor,m.event_prev_cursor=e.prev_cursor,m.commandEvents=e.events,l.complete()})},m.getEventsTimeOut=function(e,t,n){return f(function(){return m.getEvents(e,t,n)},1e3)},m.commandHistorySelected=function(){return m.getEvents(m.deviceKey)},m.paginateEventCall=function(e){return e?m.getEvents(m.deviceKey,null,m.event_next_cursor):m.getEvents(m.deviceKey,m.event_prev_cursor,null)},m.initialize=function(){var e=a.getDeviceByKey(m.deviceKey);return e.then(function(e){return m.onGetDeviceSuccess(e)},function(e){return m.onGetDeviceFailure(e)}),m.getEvents(m.deviceKey)},m.onGetDeviceSuccess=function(e){return m.currentDevice=e,e.timezone!==m.selectedTimezone&&(m.selectedTimezone=e.timezone),void 0===m.tenantKey&&(m.tenantKey=m.currentDevice.tenantKey),"true"===t.fromDevices?(m.backUrl="/#/devices",m.backUrlText="Back to devices"):m.currentDevice.isUnmanagedDevice===!0?(m.backUrl="/#/tenants/"+m.tenantKey+"/unmanaged",m.backUrlText="Back to tenant unmanaged devices"):(m.backUrl="/#/tenants/"+m.tenantKey+"/managed",m.backUrlText="Back to tenant managed devices")},m.onGetDeviceFailure=function(t){v.showErrorToast("Oops. We were unable to fetch the details for this device at this time.");var r="No detail for device_key #"+m.deviceKey+". Error: "+t.status+" "+t.statusText;return e.error(r),n.go("devices")},m.onResetContent=function(){l.start();var e=s.contentDelete(m.deviceKey);return e.then(m.onResetContentSuccess,m.onResetContentFailure)},m.onResetContentSuccess=function(){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your reset content command into the player's queue.")},m.onResetContentFailure=function(t){return l.complete(),e.error("Reset content command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your reset content command into the player's queue.","error")},m.onUpdateContent=function(){l.start();var e=s.contentUpdate(m.deviceKey);return e.then(m.onUpdateContentSuccess,m.onUpdateContentFailure)},m.onUpdateContentSuccess=function(){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your update content command into the player's queue.")},m.onUpdateContentFailure=function(t){return l.complete(),e.error("Content update command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your update content command into the player's queue.","error")},m.onResetPlayer=function(){l.start();var e=s.reset(m.deviceKey);return e.then(m.onResetPlayerSuccess,m.onResetPlayerFailure)},m.onResetPlayerSuccess=function(){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your reset player command into the player's queue.")},m.onResetPlayerFailure=function(t){return l.complete(),e.error("Reset player command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your reset player command into the player's queue.","error")},m.onPanelOn=function(){l.start();var e=s.powerOn(m.deviceKey);return e.then(m.onPanelOnSuccess,m.onPanelOnFailure)},m.onPanelOnSuccess=function(){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your panel on command into the player's queue.")},m.onPanelOnFailure=function(t){return l.complete(),e.error("Panel on command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your panel on command into the player's queue.","error")},m.onPanelOff=function(){l.start();var e=s.powerOff(m.deviceKey);return e.then(m.onPanelOffSuccess,m.onPanelOffFailure)},m.onPanelOffSuccess=function(){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your panel off command into the player's queue.")},m.onPanelOffFailure=function(t){return l.complete(),e.error("Panel off command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your panel off command into the player's queue.","error")},m.onUpdateDevice=function(){l.start();var e=s.updateDevice(m.deviceKey);return e.then(m.onUpdateDeviceSuccess,m.onUpdateDeviceFailure)},m.onUpdateDeviceSuccess=function(){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your update device command into the player's queue.")},m.onUpdateDeviceFailure=function(t){return l.complete(),e.error("Update device command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your update device command into the player's queue.","error")},m.onVolumeChange=function(){l.start();var e=s.volume(m.deviceKey,m.currentDevice.volume);return e.then(m.onVolumeChangeSuccess(m.currentDevice.volume),m.onVolumeChangeFailure)},m.onVolumeChangeSuccess=function(e){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your volume change command of "+e+" into the player's queue.")},m.onVolumeChangeFailure=function(t){return l.complete(),e.error("Volume change command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your volume change command into the player's queue.","error")},m.onCustomCommand=function(){l.start();var e=s.custom(m.deviceKey,m.currentDevice.custom);return e.then(m.onCustomCommandSuccess(m.currentDevice.custom),m.onCustomCommandFailure)},m.onCustomCommandSuccess=function(e){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your custom command '"+e+"' into the player's queue.")},m.onCustomCommandFailure=function(t){return l.complete(),e.error("Custom command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your custom command into the player's queue.","error")},m.onDiagnosticsToggle=function(){l.start();var e=s.toggleDiagnostics(m.deviceKey);return e.then(m.onToggleDiagnosticsSuccess,m.onToggleDiagnosticsFailure)},m.onToggleDiagnosticsSuccess=function(){return l.complete(),v.showSuccessToast("We posted your diagnostics command into the player's queue.")},m.onToggleDiagnosticsFailure=function(t){return l.complete(),e.error("Diagnostics command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your diagnostics command into the player's queue.","error")},m.onRestart=function(){l.start();var e=s.restart(m.deviceKey);return e.then(m.onRestartSuccess,m.onRestartFailure)},m.onRestartSuccess=function(){return l.complete(),v.showSuccessToast("We posted your restart command into the player's queue.")},m.onRestartFailure=function(t){return l.complete(),e.error("Restart command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your restart command into the player's queue.","error")},m.onPostLog=function(){l.start();var e=s.postLog(m.deviceKey);return e.then(m.onPostLogSuccess,m.onPostLogFailure)},m.onPostLogSuccess=function(){return l.complete(),v.showSuccessToast("We posted your post log command into the player's queue.")},m.onPostLogFailure=function(t){return l.complete(),e.error("Post log command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your post log command into the player's queue.","error")},m}r.$inject=["$log","$stateParams","$state","SessionsService","DevicesService","LocationsService","CommandsService","TimezonesService","sweet","ProgressBarService","$mdDialog","ToastsService","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceDetailsCommandsCtrl=void 0;var a=t(372),i=n(a);exports.DeviceDetailsCommandsCtrl=r},649:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o,c,l,v,f,m,p,h,g,y,b,D){"ngInject";var S=this;S.tenantKey=t.tenantKey,S.deviceKey=t.deviceKey,S.fromDevices="true"===t.fromDevices,S.currentDevice={},S.locations=[],S.commandEvents=[],S.dayRange=30,S.issues=[],S.timezones=[],S.selectedTimezone=void 0;var T=y.createFormattedStartAndEndDateFromToday(30),_=(0,s["default"])(T,2);return S.startTime=_[0],S.endTime=_[1],S.enrollmentEvents=[],S.logoChange=!1,S.controlsModeOptions=["visible","invisible","disabled"],S.overlayChanged=!1,S.checkForOverlayChanges=function(){var e=!1,t=S.currentDevice.overlays,n=S.currentDeviceCopy.overlays,r=["top_left","top_right","bottom_right","bottom_left"],a=!0,o=!1,s=void 0;try{for(var c,u=(0,i["default"])(r);!(a=(c=u.next()).done);a=!0){var l=c.value;t[l].size!==n[l].size&&(e=!0),t[l].type!==n[l].type&&(e=!0),"logo"===t[l].type&&t[l].type+": "+t[l].name!==n[l].name&&(e=!0)}}catch(d){o=!0,s=d}finally{try{!a&&u["return"]&&u["return"]()}finally{if(o)throw s}}S.overlayChanged=e},S.revertToTenantOverlay=function(e){p.start(),S.loadingOverlays=!0;var n=o.getTenantByKey(t.tenantKey);n.then(function(e){var t=e.overlays;delete t.key;for(var n in t)"logo"===t[n].type?t[n].image_key=t[n].imageKey.key:t[n].image_key=null;var r=a.saveOverlaySettings(S.deviceKey,t.bottom_left,t.bottom_right,t.top_right,t.top_left);r.then(function(e){var t=a.getDeviceByKey(S.deviceKey);t.then(function(e){S.currentDevice.overlays=e.overlays,S.currentDeviceCopy.overlays=angular.copy(S.currentDevice.overlays),S.loadingOverlays=!1,p.complete(),g.showSuccessToast("We saved your update.")})}),r["catch"](function(e){p.complete(),g.showErrorToast("Something went wrong")})})},S.adjustControlsMode=function(){var e=S.currentDevice.controlsMode;p.start();var t=a.adjustControlsMode(S.deviceKey,e);t.then(function(){p.complete(),g.showSuccessToast("Your controls mode selection was succesfully changed to: "+e)}),t["catch"](function(){p.complete()})},S.adjustOverlayStatus=function(e){S.currentDevice.overlayStatus=e,p.start();var t=a.save(S.currentDevice);return t.then(function(){var e=a.getDeviceByKey(S.deviceKey);e.then(function(e){S.onGetDeviceSuccess(e),p.complete()},function(e){return S.onGetDeviceFailure(e)})})},S.submitOverlaySettings=function(){var e=angular.copy(S.currentDeviceCopy.overlays);p.start(),S.loadingOverlays=!0;var t=a.saveOverlaySettings(S.deviceKey,e.bottom_left,e.bottom_right,e.top_right,e.top_left);t.then(function(e){var t=a.getDeviceByKey(S.deviceKey);t.then(function(e){S.currentDevice.overlays=e.overlays,S.currentDeviceCopy.overlays=angular.copy(S.currentDevice.overlays),S.loadingOverlays=!1,p.complete(),g.showSuccessToast("We saved your update.")})}),t["catch"](function(e){p.complete(),g.showErrorToast("Something went wrong")})},S.getTenantImagesAndRefreshDevice=function(){var e=a.getDeviceByKey(S.deviceKey);e.then(function(e){S.onGetDeviceSuccess(e),S.getTenantImages()}),e["catch"](function(e){S.onGetDeviceFailure(e)})},S.getTenantImages=function(){S.OVERLAY_TYPES=[{size:null,type:null,name:"none",realName:"none","new":!1,image_key:null},{size:null,type:"datetime",name:"datetime",realName:"datetime","new":!0,image_key:null}],p.start();var e=D.getImages(S.tenantKey);e.then(function(e){S.tenantImages=e,p.complete();var t=!0,n=!1,r=void 0;try{for(var a,o=(0,i["default"])(S.tenantImages);!(t=(a=o.next()).done);t=!0)for(var s=a.value,c=["small","large"],u=0;u<c.length;u++){var l=c[u],v={realName:angular.copy(s.name),name:"logo: "+s.name,type:"logo",size:l,image_key:s.key};S.OVERLAY_TYPES.push(v)}}catch(f){n=!0,r=f}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}S.OVERLAY_TYPES.sort(d["default"])}),e["catch"](function(){p.complete()})},S.replaceIssueTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.created&&(n.created=y.generateLocalFromUTC(n.created)),n.updated&&(n.updated=y.generateLocalFromUTC(n.updated))}},S.replaceCommandTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.postedTime&&(n.postedTime=y.generateLocalFromUTC(n.postedTime)),n.confirmedTime&&(n.confirmedTime=y.generateLocalFromUTC(n.confirmedTime))}},S.localFromUtc=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.utcTimestamp&&(n.utcTimestamp=y.generateLocalFromUTC(n.utcTimestamp))}},S.copyDeviceKey=function(){return g.showSuccessToast("Device key copied to your clipboard")},S.copyCorrelationIdentifier=function(){return g.showSuccessToast("Correlation ID copied to your clipboard")},S.getIssues=function(e,t,n,r,i){p.start();var o=a.getIssuesByKey(e,t,n,r,i);return o.then(function(e){return S.replaceIssueTime(e.issues),S.issues=e.issues,S.prev_cursor=e.prev,S.next_cursor=e.next,p.complete()})},S.getEvents=function(e,t,n){p.start();var r=a.getCommandEventsByKey(e,t,n);return r.then(function(e){return S.replaceCommandTime(e.events),S.event_next_cursor=e.next_cursor,S.event_prev_cursor=e.prev_cursor,S.commandEvents=e.events,p.complete()})},S.getEnrollmentEvents=function(e){p.start();var t=f.getEnrollmentEvents(e);return t.then(function(e){return S.enrollmentEvents=e,S.localFromUtc(e),p.complete()})},S.paginateCall=function(e){return e?S.getIssues(S.deviceKey,S.epochStart,S.epochEnd,null,S.next_cursor):S.getIssues(S.deviceKey,S.epochStart,S.epochEnd,S.prev_cursor,null)},S.paginateEventCall=function(e){return e?S.getEvents(S.deviceKey,null,S.event_next_cursor):S.getEvents(S.deviceKey,S.event_prev_cursor,null)},S.initialize=function(){S.epochStart=(0,u["default"])(S.startTime,"YYYY-MM-DD hh:mm A").unix(),S.epochEnd=(0,u["default"])(S.endTime,"YYYY-MM-DD hh:mm A").unix();var e=v.getCustomTimezones();e.then(function(e){return S.timezones=e}),S.panelModels=a.getPanelModels(),S.panelInputs=a.getPanelInputs();var t=a.getDeviceByKey(S.deviceKey);return t.then(function(e){return S.onGetDeviceSuccess(e)},function(e){return S.onGetDeviceFailure(e)}),S.getTenantImages(),S.getEvents(S.deviceKey),S.getIssues(S.deviceKey,S.epochStart,S.epochEnd),S.getEnrollmentEvents(S.deviceKey)},S.onGetDeviceSuccess=function(e){S.currentDevice=e,S.currentDeviceCopy=angular.copy(S.currentDevice),e.timezone!==S.selectedTimezone&&(S.selectedTimezone=e.timezone),void 0===S.tenantKey&&(S.tenantKey=S.currentDevice.tenantKey),"true"===t.fromDevices?(S.backUrl="/#/devices",S.backUrlText="Back to devices"):S.currentDevice.isUnmanagedDevice===!0?(S.backUrl="/#/tenants/"+S.tenantKey+"/unmanaged",S.backUrlText="Back to tenant unmanaged devices"):(S.backUrl="/#/tenants/"+S.tenantKey+"/managed",S.backUrlText="Back to tenant managed devices");var n=c.getLocationsByTenantKey(S.tenantKey);return n.then(function(e){return S.locations=e,S.setSelectedOptions()})},S.onGetDeviceFailure=function(t){g.showErrorToast("Oops. We were unable to fetch the details for this device at this time.");var r="No detail for device_key "+S.deviceKey+". Error: "+t.status+" "+t.statusText;return e.error(r),n.go("devices")},S.setSelectedOptions=function(){if(null===S.currentDevice.panelModel)S.currentDevice.panelModel=S.panelModels[0],S.currentDevice.panelInput=S.panelInputs[0];else{for(var e=0;e<S.panelModels.length;e++){var t=S.panelModels[e];t.id===S.currentDevice.panelModel&&(S.currentDevice.panelModel=t)}for(var n=0;n<S.panelInputs.length;n++){var r=S.panelInputs[n],a=r.parentId===S.currentDevice.panelModel.id;a&&r.id.toLowerCase()===S.currentDevice.panelInput&&(S.currentDevice.panelInput=r)}}if(null===S.currentDevice.locationKey);else for(var i=0;i<S.locations.length;i++){var o=S.locations[i];o.key===S.currentDevice.locationKey&&(S.currentDevice.location=o)}},S.onSaveDevice=function(){p.start(),void 0!==S.currentDevice.location&&void 0!==S.currentDevice.location.key&&(S.currentDevice.locationKey=S.currentDevice.location.key),void 0!==S.currentDevice.panelModel.id&&"None"!==S.currentDevice.panelModel.id&&(S.currentDevice.panelModelNumber=S.currentDevice.panelModel.id),void 0!==S.currentDevice.panelInput.id&&"None"!==S.currentDevice.panelInput.id&&(S.currentDevice.panelSerialInput=S.currentDevice.panelInput.id.toLowerCase()),S.currentDevice.timezone=S.selectedTimezone;var e=a.save(S.currentDevice);return e.then(S.onSuccessDeviceSave,S.onFailureDeviceSave)},S.onSuccessDeviceSave=function(){return p.complete(),g.showSuccessToast("We saved your update.")},S.onFailureDeviceSave=function(t){return p.complete(),409===t.status?(e.info("Failure saving device. Customer display code already exists for tenant: "+t.status+" "+t.statusText),m.show("Oops...","This customer display code already exists for this tenant. Please choose another.","error")):(e.error("Failure saving device: "+t.status+" "+t.statusText),g.showErrorToast("Oops. We were unable to save your updates to this device at this time."))},S.onPanelSleep=function(e){p.start();var t=l.panelSleep(S.deviceKey,e);return t.then(S.onPanelSleepSuccess,S.onPanelSleepFailure)},S.onPanelSleepSuccess=function(){return p.complete(),g.showSuccessToast("We toggled the panel sleep attribute. The player should adjust to these changes within 15 minutes.")},S.onPanelSleepFailure=function(e){return p.complete(),m.show("Oops...","We were unable to toggle the panel sleep attribute.","error")},S.confirmDeviceDelete=function(e,t){var n=h.confirm({title:"Are you sure to delete this device?",textContent:"Please remember, you MUST remove this device from Content Manager before deleting it from Provisioning.",targetEvent:e,ok:"Delete",cancel:"Cancel"}),r=h.show(n),a=function(){return S.onConfirmDelete(t)},i=function(){return S.onConfirmCancel()};return r.then(a,i)},S.onConfirmDelete=function(t){var r=function(){return g.showSuccessToast("We processed your delete request."),n.go("devices")},i=function(n){var r="We were unable to complete your delete request at this time.";return g.showErrorToast(r),e.error("Delete device failure for device_key "+t+": "+n.status+" "+n.statusText)},o=a["delete"](t);return o.then(r,i)},S.onConfirmCancel=function(){return g.showInfoToast("We canceled your delete request.")},S.onProofOfPlayLoggingCheck=function(){if(S.currentDevice.proofOfPlayLogging){var e=null===S.currentDevice.locationKey,t=null===S.currentDevice.customerDisplayCode;return e?(m.show("Oops...","You must have a Location to enable Proof of play.","error"),S.currentDevice.proofOfPlayLogging=!1):t?(m.show("Oops...","You must have a Display code to enable Proof of play.","error"),S.currentDevice.proofOfPlayLogging=!1):S.onSaveDevice()}return S.onSaveDevice()},S.onUpdateLocation=function(){return S.onSaveDevice()},S.autoGenerateCustomerDisplayCode=function(){var e="";return S.currentDevice.customerDisplayName&&(e=S.currentDevice.customerDisplayName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),S.currentDevice.customerDisplayCode=e},S.logglyForUser=function(){var e=r.getUserEmail().split("@")[1];return"demo.agosto.com"===e||"agosto.com"===e},S.onClickRefreshButton=function(){p.start(),S.startTime=y.convertToMomentIfNotAlready(S.startTime),S.endTime=y.convertToMomentIfNotAlready(S.endTime),S.epochStart=(0,u["default"])(S.startTime,"YYYY-MM-DD hh:mm A").unix(),S.epochEnd=(0,u["default"])(S.endTime,"YYYY-MM-DD hh:mm A").unix(),S.prev_cursor=null,S.next_cursor=null;var e=a.getIssuesByKey(S.deviceKey,S.epochStart,S.epochEnd,S.prev_cursor,S.next_cursor);return e.then(function(e){return S.onRefreshIssuesSuccess(e)},function(e){return S.onRefreshIssuesFailure(e)})},S.onRefreshIssuesSuccess=function(e){return S.replaceIssueTime(e.issues),S.issues=e.issues,S.prev_cursor=e.prev,S.next_cursor=e.next,p.complete()},S.onRefreshIssuesFailure=function(t){return p.complete(),g.showInfoToast("We were unable to refresh the device issues list at this time."),e.error("Failure to refresh device issues: "+t.status+" "+t.statusText)},S}r.$inject=["$log","$stateParams","$state","SessionsService","DevicesService","TenantsService","LocationsService","CommandsService","TimezonesService","IntegrationEvents","sweet","ProgressBarService","$mdDialog","ToastsService","DateManipulationService","$timeout","ImageService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceDetailsCtrl=void 0;var a=t(650),i=n(a),o=t(655),s=n(o),c=t(372),u=n(c),l=t(659),d=n(l);exports.DeviceDetailsCtrl=r},660:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o,s){"ngInject";var c=this;return c.distributorKey=void 0,c.devices=[],c.devicesPrev=null,c.devicesNext=null,c.selectedButton="Serial Number",c.serialDevices={},c.disabled=!0,c.macDevices={},c.gcmidDevices={},c.unmanagedSelectedButton="MAC",c.unmanagedSerialDevices={},c.unmanagedDisabled=!0,c.unmanagedDevicesPrev=null,c.unmanagedDevicesNext=null,c.unmanagedDevices=[],c.unmanagedMacDevices={},c.unmanagedGCMidDevices={},c.devicesToMatchOnUnmanaged=[],c.devicesToMatchOnManaged=[],c.refreshManagedDevices=function(){return c.devicesPrev=null,c.devicesNext=null,c.getManagedDevices(c.distributorKey,c.devicesPrev,c.devicesNext)},c.refreshUnmanagedDevices=function(){return c.unmanagedDevicesPrev=null,c.unmanagedDevicesNext=null,c.getUnmanagedDevices(c.distributorKey,c.unmanagedDevicesPrev,c.unmanagedDevicesNext)},c.changeRadio=function(e){e?(c.unmanagedSearchText="",c.unmanagedDisabled=!0,c.unmanagedSerialDevices={},c.unmanagedMacDevices={},c.devicesToMatchOnUnmanaged=[]):(c.searchText="",c.disabled=!0,c.serialDevices={},c.macDevices={},c.devicesToMatchOnManaged=[])},c.editItem=function(e){return n.editItem(e,!0)},c.prepareForEditView=function(e,t){var n=void 0,r=void 0,a=void 0;return e?(n="MAC"===c.unmanagedSelectedButton,r="Serial Number"===c.unmanagedSelectedButton,a="GCM ID"===c.unmanagedSelectedButton,n?c.editItem(c.unmanagedMacDevices[t]):r?c.editItem(c.unmanagedSerialDevices[t]):c.editItem(c.unmanagedGCMidDevices[t])):(n="MAC"===c.selectedButton,r="Serial Number"===c.selectedButton,a="GCM ID"===c.selectedButton,n?c.editItem(c.macDevices[t]):r?c.editItem(c.serialDevices[t]):c.editItem(c.gcmidDevices[t]))},c.controlOpenButton=function(e,t){e?(c.unmanagedDisabled=!t,c.unmanagedDisabledButtonLoading=!1):(c.disabled=!t,c.disabledButtonLoading=!1)},c.isResourceValid=function(e,t){var n=e?c.devicesToMatchOnUnmanaged:c.devicesToMatchOnManaged,r=!1,a=!0,o=!1,s=void 0;try{for(var u,l=(0,i["default"])(n);!(a=(u=l.next()).done);a=!0){var d=u.value;t===d&&(r=!0)}}catch(v){o=!0,s=v}finally{try{!a&&l["return"]&&l["return"]()}finally{if(o)throw s}}return c.controlOpenButton(e,r),r},c.searchDevices=function(e,t){var r=void 0;r=e?c.unmanagedSelectedButton:c.selectedButton;var a=!1,i=null;return n.searchDevices(t,r,a,i,c.distributorKey,e).then(function(t){var n=void 0;if(t.success){var a=t.devices;return"Serial Number"===r?(e?c.unmanagedSerialDevices=a[1]:c.serialDevices=a[1],n=a[0]):"MAC"===r?(e?c.unmanagedMacDevices=a[1]:c.macDevices=a[1],n=a[0]):(e?c.unmanagedGCMidDevices=a[1]:c.gcmidDevices=a[1],n=a[0]),e?c.devicesToMatchOnUnmanaged=n:c.devicesToMatchOnManaged=n,n}return[]})},c.getManagedDevices=function(e,t,r){o.start();var a=n.getDevicesByDistributor(e,t,r);return a.then(function(e){return c.devices=e.devices,c.devicesNext=e.next_cursor,c.devicesPrev=e.prev_cursor,c.getFetchSuccess()},function(e){return c.getFetchFailure(e)})},c.getUnmanagedDevices=function(e,t,r){o.start();var a=n.getUnmanagedDevicesByDistributor(e,t,r);return a.then(function(e){return c.unmanagedDevices=e.devices,c.unmanagedDevicesPrev=e.prev_cursor,c.unmanagedDevicesNext=e.next_cursor,c.getFetchSuccess()},function(e){return c.getFetchFailure(e)})},c.initialize=function(){return c.distributorKey=a.getCurrentDistributorKey(),c.getManagedDevices(c.distributorKey,c.devicesPrev,c.devicesNext),c.getUnmanagedDevices(c.distributorKey,c.unmanagedDevicesPrev,c.unmanagedDevicesNext)},c.getFetchSuccess=function(){return o.complete()},c.getFetchFailure=function(e){o.complete();var t="Unable to fetch devices. Error: "+e.status+" "+e.statusText+".";return s.show("Oops...",t,"error")},c.paginateCall=function(e,t){if(e)t&&c.getManagedDevices(c.distributorKey,null,c.devicesNext),t||c.getUnmanagedDevices(c.distributorKey,null,c.unmanagedDevicesNext);else if(t&&c.getManagedDevices(c.distributorKey,c.devicesPrev,null),!t)return c.getUnmanagedDevices(c.distributorKey,c.unmanagedDevicesPrev,null)},c}r.$inject=["$stateParams","$log","DevicesService","$state","SessionsService","ProgressBarService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DevicesListingCtrl=void 0;var a=t(650),i=n(a);exports.DevicesListingCtrl=r},661:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o,c,u){"ngInject";var l=this;return l.selectedButton="Serial Number",l.unmanagedSelectedButton="Managed",l.serialDevices={},l.disabled=!0,l.macDevices={},l.gcmidDevices={},l.devicesToMatchOn=[],l.searchedTenants=[],l.tenantSearchMatch=null,l.tenantSearchDisabled=!0,l.controlOpenButton=function(e){return l.disabled=!e,l.loadingDisabled=!1},l.changeRadio=function(){l.searchText="",l.disabled=!0,l.serialDevices={},l.macDevices={},l.devicesToMatchOn=[]},l.isResourceValid=function(e){var t=!1,n=!0,r=!1,a=void 0;try{for(var o,s=(0,i["default"])(l.devicesToMatchOn);!(n=(o=s.next()).done);n=!0){var c=o.value;if(e===c){t=!0,l.matchDevice=c;break}}}catch(u){r=!0,a=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw a}}return l.controlOpenButton(t),t},l.searchDevices=function(e,t){var r=l.selectedButton,a=!1,i=null,o=null,s=!0;return n.searchDevices(t,r,a,i,o,e,s).then(function(e){var t=void 0;if(e.success){var n=e.devices;return"Serial Number"===r?(l.serialDevices=n[1],t=n[0]):"MAC"===r?(l.macDevices=n[1],t=n[0]):(l.gcmidDevices=n[1],t=n[0]),l.devicesToMatchOn=t,t}return[]})},l.searchAllTenantsByName=function(e){if(!e||e.length<3)return[];var t=c.searchAllTenantsByName(e,!0);return t.then(function(e){return l.searchedTenants=e,l.searchedTenants?l.searchedTenants.map(function(e){return e.name}).sort(s["default"]):[]})},l.isTenantValid=function(e){if(!e||e.length<3)return[];var t=l.searchedTenants;if(t){var n=!0,r=!1,a=void 0;try{for(var o,s=(0,i["default"])(t);!(n=(o=s.next()).done);n=!0){var c=o.value;if(e===c.name)return l.tenantSearchDisabled=!1,void(l.searchMatch=c);l.tenantSearchDisabled=!0}}catch(u){r=!0,a=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw a}}}else l.tenantSearchDisabled=!0},l.getAllDistributors=function(){l.loadingAllDistributors=!0;var t=e.getAllDistributors();return t.then(function(e){return l.loadingAllDistributors=!1,l.allDistributors=e})},l.makeDistributor=function(t,n,a,i){var s=o.confirm({title:"Are you sure?",textContent:"If you proceed, "+n+" will be created.",targetEvent:t,ariaLabel:"Lucky day",ok:"Yeah!",cancel:"Forget it."});return o.show(s).then(function(){var t=e.makeDistributor(n,a);return t.then(function(e){return l.distributor={},i.$setPristine(),i.$setUntouched(),r.showSuccessToast(e.message),setTimeout(function(){return l.allDistributors=l.getAllDistributors()},2e3)}),t["catch"](function(e){return r.showErrorToast(e.data.message)})})},l.addUserToDistributor=function(t,n,a,i,s){a||(a=!1);var c=a?"with":"without";i||(i=l.distributorsAsAdmin[0]);var u=o.confirm({title:"Are you sure?",textContent:n+" will be added to "+i+"\n        "+c+" administrator privileges",targetEvent:t,ok:"Of course!",cancel:"Oops, nevermind."});return o.show(u).then(function(){var t=e.addUserToDistributor(n,i,a);return t.then(function(e){return r.showSuccessToast(e.message),l.user={},s.$setPristine(),s.$setUntouched(),setTimeout(function(){return l.getUsersOfDistributor()},2e3)}),t["catch"](function(e){return r.showErrorToast(e.data.message)})})},l.switchDistributor=function(e){return u.switchDistributor(e),r.showSuccessToast("Distributor "+e.name+" selected!")},l.getUsersOfDistributor=function(){l.loadingUsersOfDistributor=!0;var n=t.getCurrentDistributorKey(),r=e.getUsersOfDistributor(n);return r.then(function(e){return l.loadingUsersOfDistributor=!1,l.usersOfDistributor=e})},l.initialize=function(){if(l.getUsersOfDistributor(),l.getAllDistributors(),l.isAdmin=t.getIsAdmin(),l.distributorsAsAdmin=t.getDistributorsAsAdmin(),l.currentDistributorName=t.getCurrentDistributorName(),l.isAdmin)return l.getAllDistributors()},l.editTenant=function(e){return a.go("tenantDetails",{tenantKey:e.key})},l.editItem=function(e){var t=void 0,r=void 0,a=void 0,i=l.selectedButton;t="MAC"===i,r="Serial Number"===i,a="GCM ID"===i,t?n.editItem(l.macDevices[e]):r?n.editItem(l.serialDevices[e]):n.editItem(l.gcmidDevices[e])},l}r.$inject=["AdminService","SessionsService","DevicesService","ToastsService","$state","$mdDialog","TenantsService","DistributorsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdminCtrl=void 0;var a=t(650),i=n(a),o=t(659),s=n(o);exports.AdminCtrl=r},662:function(e,exports){"use strict";function t(e,t,n,r,a,i,o,s,c,u,l){"ngInject";var d=this;return d.onGooglePlusSignInSuccess=function(e,t){d.googlePlusSignInButtonClicked||s.start(),o.removeUserInfo();var n=o.login(t);return n.then(d.loginSuccess,d.loginFailure)},d.onGooglePlusSignInFailure=function(e,t){if(d.googlePlusSignInButtonClicked)return s.complete(),i.show("Oops...","Unable to authenticate to Google+.","error")},e.$on("event:google-plus-signin-success",d.onGooglePlusSignInSuccess),e.$on("event:google-plus-signin-failure",d.onGooglePlusSignInFailure),d.initializeSignIn=function(){return d.clientId=a.OAUTH_CLIENT_ID,d.state=a.STATE,d.googlePlusSignInButtonClicked=!1},d.initializeSignOut=function(){return o.removeUserInfo(),r(d.proceedToSignedOut,50)},d.loginSuccess=function(e){return s.complete(),n.go("distributor_selection")},d.loginFailure=function(){return s.complete(),i.show("Oops...","Unable to authenticate to Stormpath.","error")},d.proceedToSignedOut=function(){return n.go("signed_out")},d.proceedToSignIn=function(){return n.go("sign_in")},d.onClickGooglePlusSignIn=function(){return d.googlePlusSignInButtonClicked=!0,s.start()},d}t.$inject=["$scope","$log","$state","$timeout","identity","sweet","SessionsService","ProgressBarService","ProofPlayService","DevicesService","TenantsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthenticationCtrl=t},663:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var a=this;return a.currentDistributerInDistributerAdminList=function(){var e=r.getCurrentDistributorName(),t=r.getDistributorsAsAdmin();return(0,i["default"])(t,e)},a.getIdentity=function(){return{key:r.getUserKey(),email:r.getUserEmail(),admin:r.getIsAdmin(),distributor_admin:r.getDistributorsAsAdmin(),admin_of_current_distributor:a.currentDistributerInDistributerAdminList(),distributorKey:r.getCurrentDistributorKey(),distributorName:r.getCurrentDistributorName()}},a.isCurrentURLDistributorSelector=function(){var e=n.location.href.search(/distributor_selection/),t=e>=0;return t},a.initialize=function(){return a.getIdentity()},a.toggleSidenav=function(){return e("left").toggle()},a.goTo=function(n,r){if(t.go(n,{id:r}),e("left").isOpen())return e("left").close()},a.initialize(),a}r.$inject=["$mdSidenav","$state","$window","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppController=void 0;var a=t(664),i=n(a);exports.AppController=r},696:function(e,exports){"use strict";function t(e,t,n){"ngInject";var r=this;return r.distributors=[],r.currentDistributor=void 0,r.loading=!0,r.initialize=function(){r.loeading=!0;var e=t.fetchAllByUser(n.getUserKey());return e.then(function(e){return r.distributors=e,1===r.distributors.length?r.selectDistributor(r.distributors[0]):r.loading=!1})},r.selectDistributor=function(e){return t.switchDistributor(e)},r}t.$inject=["$state","DistributorsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0
}),exports.DistributorSelectorCtrl=t},697:function(e,exports){"use strict";function t(e){"ngInject";var t=this;return t.distributors=[],t}t.$inject=["$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DistributorsCtrl=t},698:function(e,exports){"use strict";function t(e,t,n){"ngInject";var r=this;return r.domains=[],r.initialize=function(){var e=t.fetchAllDomains();return e.then(function(e){return r.domains=e})},r.editItem=function(t){return e.go("editDomain",{domainKey:t.key})},r.deleteItem=function(e){var a=function(){var n=t["delete"](e);return n.then(function(){return r.initialize()})};return n.show({title:"Are you sure?",text:"This will permanently remove the domain from the distributor and disconnect from tenants.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the domain!",closeOnConfirm:!0},a)},r}t.$inject=["$state","DomainsService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomainsCtrl=t},699:function(e,exports){"use strict";function t(e,t,n,r,a,i,o,s){"ngInject";var c=this;if(c.currentDomain={key:void 0,name:void 0,impersonation_admin_email_address:void 0,distributor_key:void 0,organization_unit_path:"/skykit",active:!0},c.devicesAccess=!1,c.orgUnitsAccess=!1,c.usersAccess=!1,c.currentDomains=[],c.editMode=!!t.domainKey,c.editMode){var u=n.getDomainByKey(t.domainKey);u.then(function(e){return c.currentDomain=e})}else c.currentDomain.distributor_key=s.getCurrentDistributorKey();return c.initialize=function(){if(c.editMode){i.start();var e=n.getDirectoryApiConnectivityInformation(t.domainKey);return e.then(c.onSuccessDeterminingConnectivity,c.onFailureDeterminingConnectivity)}},c.onSuccessDeterminingConnectivity=function(e){c.devicesAccess=e.devicesAccess,c.orgUnitsAccess=e.orgUnitsAccess,c.usersAccess=e.usersAccess,c.devicesAccessException=e.devicesAccessException,c.orgUnitsAccessException=e.orgUnitsAccessException,c.usersAccessException=e.usersAccessException,i.complete()},c.onFailureDeterminingConnectivity=function(t){return i.complete(),e.error("Failure determining directory API connectivity: "+t.status+" "+t.statusText),o.showErrorToast("Oops. We were unable determine your device connectivity at this time.")},c.onSaveDomain=function(){i.start();var e=n.save(c.currentDomain);return e.then(c.onSuccessSaveDomain,c.onFailureSaveDomain)},c.onSuccessSaveDomain=function(){return i.complete(),o.showSuccessToast("We saved your update.")},c.onFailureSaveDomain=function(t){return i.complete(),409===t.status?(e.info("Failure saving domain. Domain already exists: "+t.status+" "+t.statusText),a.show("Oops...","This domain name already exist. Please enter a unique domain name.","error")):(e.error("Failure saving domain: "+t.status+" "+t.statusText),o.showErrorToast("Oops. We were unable to save your updates at this time."))},c.editItem=function(e){return r.go("editDomain",{domainKey:e.key})},c}t.$inject=["$log","$stateParams","DomainsService","$state","sweet","ProgressBarService","ToastsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomainDetailsCtrl=t},700:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var i=this;return i.radioButtonChoices={group1:"By Device",group2:"Summarized",selection:null},i.dateTimeSelection={start:null,end:null},i.formValidity={start_date:!1,end_date:!1,locations:!1},i.tenant=t.tenant,i.no_cache=!0,i.loading=!0,i.disabled=!0,i.disabledTenant=!0,i.selected_locations=[],i.initialize=function(){return e.getAllLocations(i.tenant).then(function(e){return i.loading=!1,i.locations=e.data.locations,i.locations.length>0?i.had_some_items=!0:i.had_some_items=!1})},i.refreshLocations=function(){i.searchText="",i.selectedItem="",i.loading=!0,i.disabled=!0,i.selected_locations=[],i.initialize()},i.addToSelectedLocations=function(e){if(i.isLocationValid(e)){i.selected_locations.push(e);var t=i.locations.indexOf(e);i.locations.splice(t,1),i.searchText=""}return i.areLocationsValid(),i.isDisabled()},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isRadioValid=function(e){return i.formValidity.type=e,i.isDisabled()},i.isLocationValid=function(e){return!!a(e,i.locations)&&!a(e,i.selected_locations)},i.areLocationsValid=function(){return i.formValidity.locations=i.selected_locations.length>0,i.isDisabled()},i.isStartDateValid=function(e){return i.formValidity.start_date=e instanceof Date,i.isDisabled()},i.isEndDateValid=function(e){return i.formValidity.end_date=e instanceof Date,i.isDisabled()},i.removeFromSelectedLocation=function(e){var t=i.selected_locations.indexOf(e);return i.selected_locations.splice(t,1),i.locations.push(e),i.areLocationsValid(),i.isDisabled()},i.isDisabled=function(){return i.formValidity.start_date&&i.formValidity.end_date&&i.formValidity.locations&&i.formValidity.type?(i.disabled=!1,i["final"]={start_date_unix:(0,o["default"])(i.dateTimeSelection.start).unix(),end_date_unix:(0,o["default"])(i.dateTimeSelection.end).unix(),locations:i.selected_locations,type:i.radioButtonChoices.selection}):i.disabled=!0},i.submit=function(){return"1"===i["final"].type?e.downloadCSVForMultipleLocationsByDevice(i["final"].start_date_unix,i["final"].end_date_unix,i["final"].locations,i.tenant):e.downloadCSVForMultipleLocationsSummarized(i["final"].start_date_unix,i["final"].end_date_unix,i["final"].locations,i.tenant)},i.tenants=null,i.currentTenant=i.tenant,i.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return i.tenants=e.data.tenants})},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isSelectionValid=function(e){return a(e,i.tenants)?i.disabledTenant=!1:i.disabledTenant=!0},i.submitTenant=function(e){return e!==i.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},i}function a(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiLocationCtrl=void 0;var i=t(372),o=n(i);exports.ProofOfPlayMultiLocationCtrl=r},701:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var i=this;return i.radioButtonChoices={group1:"By Date",group2:"Summarized",selection:null},i.dateTimeSelection={start:null,end:null},i.formValidity={start_date:!1,end_date:!1,displays:!1},i.tenant=t.tenant,i.no_cache=!0,i.loading=!0,i.disabled=!0,i.disabledTenant=!0,i.selected_displays=[],i.initialize=function(){return e.getAllDisplays(i.tenant).then(function(e){return i.loading=!1,i.displays=e.data.devices,i.displays.length>0?i.had_some_items=!0:i.had_some_items=!1})},i.refreshDisplays=function(){i.searchText="",i.selectedItem="",i.loading=!0,i.disabled=!0,i.selected_displays=[],i.initialize()},i.addToSelectedDisplays=function(e){if(i.isDisplayValid(e)){i.selected_displays.push(e);var t=i.displays.indexOf(e);i.displays.splice(t,1),i.searchText=""}return i.areDisplaysValid(),i.isDisabled()},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isRadioValid=function(e){return i.formValidity.type=e,i.isDisabled()},i.isDisplayValid=function(e){return!!a(e,i.displays)&&!a(e,i.selected_displays)},i.areDisplaysValid=function(){return i.formValidity.displays=i.selected_displays.length>0,i.isDisabled()},i.isStartDateValid=function(e){return i.formValidity.start_date=e instanceof Date,i.isDisabled()},i.isEndDateValid=function(e){return i.formValidity.end_date=e instanceof Date,i.isDisabled()},i.removeFromSelectedDisplay=function(e){var t=i.selected_displays.indexOf(e);return i.selected_displays.splice(t,1),i.displays.push(e),i.areDisplaysValid(),i.isDisabled()},i.isDisabled=function(){return i.formValidity.start_date&&i.formValidity.end_date&&i.formValidity.displays&&i.formValidity.type?(i.disabled=!1,i["final"]={start_date_unix:(0,o["default"])(i.dateTimeSelection.start).unix(),end_date_unix:(0,o["default"])(i.dateTimeSelection.end).unix(),displays:i.selected_displays,type:i.radioButtonChoices.selection}):i.disabled=!0},i.submit=function(){return"1"===i["final"].type?e.downloadCSVForMultipleDevicesByDate(i["final"].start_date_unix,i["final"].end_date_unix,i["final"].displays,i.tenant):e.downloadCSVForMultipleDevicesSummarized(i["final"].start_date_unix,i["final"].end_date_unix,i["final"].displays,i.tenant)},i.tenants=null,i.currentTenant=i.tenant,i.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return i.tenants=e.data.tenants})},i.submitTenant=function(e){return e!==i.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isSelectionValid=function(e){return a(e,i.tenants)?i.disabledTenant=!1:i.disabledTenant=!0},i}function a(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiDisplayCtrl=void 0;var i=t(372),o=n(i);exports.ProofOfPlayMultiDisplayCtrl=r},702:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var i=this;return i.radioButtonChoices={group1:"By Device",group2:"By Date",selection:null},i.dateTimeSelection={start:null,end:null},i.formValidity={start_date:!1,end_date:!1,resources:!1},i.tenant=t.tenant,i.no_cache=!0,i.loading=!0,i.disabled=!0,i.disabledTenant=!0,i.selected_resources=[],i.initialize=function(){return e.getAllResources(i.tenant).then(function(e){i.loading=!1,i.full_resource_map=e.data.resources,i.resources=[];for(var t=0;t<e.data.resources.length;t++){var n=e.data.resources[t];i.resources.push(n.resource_name)}return i.resources.length>0?i.had_some_items=!0:i.had_some_items=!1})},i.refreshResources=function(){i.searchText="",i.selectedItem="",i.loading=!0,i.disabled=!0,i.selected_resources=[],i.initialize()},i.addToSelectedResources=function(e){if(i.isResourceValid(e)){i.selected_resources.push(e);var t=i.resources.indexOf(e);i.resources.splice(t,1),i.searchText=""}return i.areResourcesValid(),i.isDisabled()},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isRadioValid=function(e){return i.formValidity.type=e,i.isDisabled()},i.isResourceValid=function(e){return!!a(e,i.resources)&&!a(e,i.selected_resources)},i.areResourcesValid=function(){return i.formValidity.resources=i.selected_resources.length>0,i.isDisabled()},i.isStartDateValid=function(e){return i.formValidity.start_date=e instanceof Date,i.isDisabled()},i.isEndDateValid=function(e){return i.formValidity.end_date=e instanceof Date,i.isDisabled()},i.removeFromSelectedResource=function(e){var t=i.selected_resources.indexOf(e);return i.selected_resources.splice(t,1),i.resources.push(e),i.areResourcesValid(),i.isDisabled()},i.isDisabled=function(){return i.formValidity.start_date&&i.formValidity.end_date&&i.formValidity.resources&&i.formValidity.type?(i.disabled=!1,i["final"]={start_date_unix:(0,o["default"])(i.dateTimeSelection.start).unix(),end_date_unix:(0,o["default"])(i.dateTimeSelection.end).unix(),resources:i.selected_resources,type:i.radioButtonChoices.selection}):i.disabled=!0},i.submit=function(){for(var t=[],n=0;n<i["final"].resources.length;n++)for(var r=i["final"].resources[n],a=0;a<i.full_resource_map.length;a++){var o=i.full_resource_map[a];o.resource_name===r&&t.push(o.resource_identifier)}return"1"===i["final"].type?e.downloadCSVForMultipleResourcesByDevice(i["final"].start_date_unix,i["final"].end_date_unix,t,i.tenant):e.downloadCSVForMultipleResourcesByDate(i["final"].start_date_unix,i["final"].end_date_unix,t,i.tenant)},i.tenants=null,i.currentTenant=i.tenant,i.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return i.tenants=e.data.tenants})},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isSelectionValid=function(e){return a(e,i.tenants)?i.disabledTenant=!1:i.disabledTenant=!0},i.submitTenant=function(e){return e!==i.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},i}function a(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiResourceCtrl=void 0;var i=t(372),o=n(i);exports.ProofOfPlayMultiResourceCtrl=r},703:function(e,exports){"use strict";function t(e,t,r,a){"ngInject";var i=this;return i.resource={title:"Resource Report"},i.location={title:"Location Report"},i.display={title:"Display Report"},i.chosen_tenant=null,i.tenants=null,i.disabled=!0,i.initialize=function(){return e.getAllTenants().then(function(e){return i.tenants=e.data.tenants})},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isSelectionValid=function(e){return n(e,i.tenants)?i.disabled=!1:i.disabled=!0},i.submitTenant=function(e){if(e)return i.chosen_tenant=e,r.go("proofDetail",{tenant:i.chosen_tenant})},i.refreshTenants=function(){i.tenants=null;e.makeHTTPURL("/retrieve_my_tenants","");i.initialize()},i}function n(e,t){return t.indexOf(e)>=0}t.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayCtrl=t},704:function(e,exports,t){(function($){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(705),r=e(n),a=t(706),i=e(a),o=function(){function e(t,n){"ngInject";(0,r["default"])(this,e),this.Restangular=t,this.SessionsService=n}return e.$inject=["Restangular","SessionsService"],(0,i["default"])(e,[{key:"getImages",value:function(e){return this.Restangular.oneUrl("image","/api/v1/image/tenant/"+e).getList()}},{key:"saveImage",value:function(e,t){return $.ajax({type:"POST",url:"/api/v1/image/tenant/"+e,data:t,processData:!1,contentType:!1})}},{key:"deleteImage",value:function(e){var t=this.Restangular.oneUrl("image","/api/v1/image/"+e).remove();return t}}]),e}();exports["default"]=o}).call(exports,t(512))},710:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t,this.USER_SERVICE="users",this.DISTRIBUTOR_SERVICE="distributors"}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"makeDistributor",value:function(e,t){var n={distributor:e,admin_email:t},r=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/distributors").customPOST(n);return r}},{key:"addUserToDistributor",value:function(e,t,n){var r={user_email:e,distributor:t,distributor_admin:n},a=this.Restangular.oneUrl(this.USER_SERVICE,"/api/v1/users").customPOST(r);return a}},{key:"getUsersOfDistributor",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/analytics/distributors/"+e+"/users").get();return t}},{key:"getAllDistributors",value:function(){var e=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/distributors").get();return e}}]),e}();exports["default"]=s},711:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t,n){"ngInject";(0,a["default"])(this,e),this.$q=n,this.SessionsService=t}return e.$inject=["SessionsService","$q"],(0,o["default"])(e,[{key:"authenticated",value:function(){var e=this.$q.defer(),t=this.SessionsService.getUserKey();return t?e.resolve(!0):e.reject(["authError","sign_in"]),e.promise}},{key:"notAuthenticated",value:function(){var e=this.$q.defer(),t=this.SessionsService.getUserKey();return t?e.reject(["authError","home"]):e.resolve(!0),e.promise}},{key:"isAdminOrDistributorAdmin",value:function(){var e=this.$q.defer(),t=this.SessionsService.getIsAdmin(),n=this.SessionsService.getDistributorsAsAdmin(),r=!1;n&&n.length>0&&(r=!0);var a=this.SessionsService.getUserKey();return a?t||r?e.resolve(!0):e.reject(["authError","home"]):e.reject("sign_in"),e.promise}}]),e}();exports["default"]=s},712:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t,this.SERVICE_NAME="devices"}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"panelSleep",value:function(e,t){var n={panelSleep:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/panel-sleep").customPUT(n);return r}},{key:"reset",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/reset").post();return t}},{key:"contentDelete",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/content-delete").post();return t}},{key:"contentUpdate",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/content-update").post();return t}},{key:"updateDevice",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/refresh-device-representation").post();return t}},{key:"toggleDiagnostics",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/diagnostics").post();return t}},{key:"restart",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/restart").post();return t}},{key:"postLog",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/post-log").post();return t}},{key:"powerOn",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/power-on").post();return t}},{key:"powerOff",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/power-off").post();return t}},{key:"volume",value:function(e,t){var n={volume:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e).customPOST(n,"commands/volume");return r}},{key:"custom",value:function(e,t){var n={command:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e).customPOST(n,"commands/custom");return r}}]),e}();exports["default"]=s},713:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=t(372),c=n(s),u=function(){function e(){(0,a["default"])(this,e)}return(0,o["default"])(e,[{key:"convertToMomentIfNotAlready",value:function(e){return c["default"].isMoment(e)?e:(0,c["default"])(new Date(e))}},{key:"createFormattedStartAndEndDateFromToday",value:function(e){var t=(0,c["default"])().format("YYYY-MM-DD"),n=(0,c["default"])(t,"YYYY-MM-DD").format("YYYY-MM-DD hh:mm A"),r=(0,c["default"])(n,"YYYY-MM-DD hh:mm A").add(1,"day").subtract(60,"seconds").format("YYYY-MM-DD hh:mm A"),a=(0,c["default"])().subtract(30,"days").format("YYYY-MM-DD"),i=(0,c["default"])(a,"YYYY-MM-DD").format("YYYY-MM-DD hh:mm A");return[i,r]}},{key:"generateLocalFromUTC",value:function(e){var t=c["default"].utc(e).toDate();return(0,c["default"])(t).format("YYYY-MM-DD hh:mm:ss A")}}]),e}();exports["default"]=u},714:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i);t(604);var s=function(){function e(t,n,r,i,o){"ngInject";(0,a["default"])(this,e),this.$log=t,this.Restangular=n,this.$q=r,this.$http=i,this.$state=o,this.SERVICE_NAME="devices",this.uriBase="v1/devices"}return e.$inject=["$log","Restangular","$q","$http","$state"],(0,o["default"])(e,[{key:"adjustControlsMode",value:function(e,t){var n={controlsMode:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"/api/v1/devices/"+e+"/controls-mode").customPUT(n);return r}},{key:"getDeviceByMacAddress",value:function(e){var t="api/v1/devices?mac_address="+e;return this.Restangular.oneUrl("api/v1/devices",t).get()}},{key:"getDeviceByKey",value:function(e){var t="api/v1/devices/"+e,n=this.Restangular.oneUrl(this.SERVICE_NAME,t).get();return n}},{key:"retriveFilteredDictionaryValue",value:function(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r];n.push(a[t])}return n}},{key:"executeSearchingPartialSerialByTenant",value:function(e,t,n){var r=this;return this.searchDevicesByPartialSerialByTenant(e,t,n).then(function(e){var t=e.matches,n=!1,a=!1,i=r.convertDevicesArrayToDictionaryObj(t,n,a),o=r.retriveFilteredDictionaryValue(t,"serial");return[o,i]})}},{key:"executeSearchingPartialSerialByDistributor",value:function(e,t,n){var r=this;return this.searchDevicesByPartialSerial(e,t,n).then(function(e){var t=e.matches,n=!1,a=!1,i=r.convertDevicesArrayToDictionaryObj(t,n,a),o=r.retriveFilteredDictionaryValue(t,"serial");return[o,i]})}},{key:"executeSearchingPartialSerialGlobally",value:function(e,t){var n=this;return this.searchDevicesByPartialSerialGlobally(e,t).then(function(e){var t=e.matches,r=!1,a=!1,i=n.convertDevicesArrayToDictionaryObj(t,r,a),o=n.retriveFilteredDictionaryValue(t,"serial");return[o,i]})}},{key:"executeSearchingPartialMacByTenant",value:function(e,t,n){var r=this;return this.searchDevicesByPartialMacByTenant(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!0),a=r.retriveFilteredDictionaryValue(t,"mac");return[a,n]})}},{key:"executeSearchingPartialMacByDistributor",value:function(e,t,n){var r=this;return this.searchDevicesByPartialMac(e,t,n).then(function(e){var t=e.matches,n=!0,a=!1,i=r.convertDevicesArrayToDictionaryObj(t,n,a),o=r.retriveFilteredDictionaryValue(t,"mac");return[o,i]})}},{key:"executeSearchingPartialMacGlobally",value:function(e,t){var n=this;return this.searchDevicesByPartialMacGlobally(e,t).then(function(e){var t=e.matches,r=!0,a=!1,i=n.convertDevicesArrayToDictionaryObj(t,r,a),o=n.retriveFilteredDictionaryValue(t,"mac");return[o,i]})}},{key:"executeSearchingPartialGCMidByTenant",value:function(e,t,n){var r=this;return this.searchDistributorDevicesByPartialGCMidByTenant(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!1,!0),a=r.retriveFilteredDictionaryValue(t,"gcmid");return[a,n]})}},{key:"executeSearchingPartialGCMidByDistributor",value:function(e,t,n){var r=this;return this.searchDistributorDevicesByPartialGCMid(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!1,!0),a=r.retriveFilteredDictionaryValue(t,"gcmid");return[a,n]})}},{key:"executeSearchingPartialGCMidGlobally",value:function(e,t){var n=this;return this.searchDistributorDevicesByPartialGCMidGlobally(e,t).then(function(e){var t=e.matches,r=n.convertDevicesArrayToDictionaryObj(t,!1,!0),a=n.retriveFilteredDictionaryValue(t,"gcmid");return[a,r]})}},{key:"rejectedPromise",value:function(){var e=this.$q.defer();return e.reject(),e.promise}},{key:"searchDevices",value:function(e,t,n,r,a,i,o){var s=this.$q.defer(),c=void 0;return c=e&&e.length>2?"Serial Number"===t?o?this.executeSearchingPartialSerialGlobally(e,i):n?this.executeSearchingPartialSerialByTenant(r,e,i):this.executeSearchingPartialSerialByDistributor(a,e,i):"MAC"===t?o?this.executeSearchingPartialMacGlobally(e,i):n?this.executeSearchingPartialMacByTenant(r,e,i):this.executeSearchingPartialMacByDistributor(a,e,i):o?this.executeSearchingPartialGCMidGlobally(e,i):n?this.executeSearchingPartialGCMidByTenant(r,e,i):this.executeSearchingPartialGCMidByDistributor(a,e,i):this.rejectedPromise(),c.then(function(e){s.resolve({success:!0,devices:e})}),c["catch"](function(e){s.resolve({success:!1,devices:[]})}),s.promise}},{key:"convertDevicesArrayToDictionaryObj",value:function(e,t,n){for(var r={},a=0;a<e.length;a++){var i=e[a];t?r[i.mac]=i:n?r[i.gcmid]=i:r[i.serial]=i}return r}},{key:"editItem",value:function(e,t){t||(t=!1),this.$state.go("editDevice",{deviceKey:e.key,tenantKey:e.tenantKey,fromDevices:t})}},{key:"preprateForEditView",value:function(e,t,n,r,a,i){var o=void 0,s=void 0,c=void 0;return o="MAC"===e,s="Serial Number"===e,c="GCM ID"===e,o?this.editItem(r[n]):s?this.editItem(a[n]):this.editItem(i[n])}},{key:"getIssuesByKey",value:function(e,t,n,r,a){r=void 0===r?null:r,a=void 0===a?null:a;var i="/api/v1/devices/"+r+"/"+a+"/"+e+"/issues?start="+t+"&end="+n,o=this.Restangular.oneUrl(this.SERVICE_NAME,i).get();return o}},{key:"getCommandEventsByKey",value:function(e,t,n){t=void 0===t?null:t,n=void 0===n?null:n;var r="/api/v1/player-command-events/"+t+"/"+n+"/"+e,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}},{key:"getDevicesByTenant",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByTenantURL(e,t,n,!1);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getUnmanagedDevicesByTenant",value:function(e,t,n){if(void 0!==e){var r=(this.$q.defer(),this.makeDevicesByTenantURL(e,t,n,!0));return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"searchDevicesByPartialSerialByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_serial="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDevicesByPartialMacByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_mac="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDistributorDevicesByPartialGCMidByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_gcmid="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDevicesByPartialSerial",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_serial="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDevicesByPartialMac",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_mac="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDistributorDevicesByPartialGCMid",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_gcmid="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDevicesByPartialSerialGlobally",value:function(e,t){var n="/api/v1/devices/analytics/search-global?unmanaged="+t+"&partial_serial="+e,r=this.Restangular.oneUrl("devices",n).get();return r}},{key:"searchDevicesByPartialMacGlobally",value:function(e,t){var n="/api/v1/devices/analytics/search-global?unmanaged="+t+"&partial_mac="+e,r=this.Restangular.oneUrl("devices",n).get();return r}},{key:"searchDistributorDevicesByPartialGCMidGlobally",value:function(e,t){var n="/api/v1/devices/analytics/search-global?unmanaged="+t+"&partial_gcmid="+e,r=this.Restangular.oneUrl("devices",n).get();return r}},{key:"getDevicesByDistributor",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByDistributorURL(e,t,n,!1);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getUnmanagedDevicesByDistributor",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByDistributorURL(e,t,n,!0);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getDevices",value:function(){var e=this.Restangular.all(this.SERVICE_NAME).getList();return e}},{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("devices").post(e);return t}},{key:"saveOverlaySettings",value:function(e,t,n,r,a){var i={bottom_left:t,bottom_right:n,top_right:r,top_left:a};return this.Restangular.oneUrl("overlay","/api/v1/overlay/device/"+e).customPOST(i)}},{key:"delete",value:function(e){var t=this.Restangular.one(this.SERVICE_NAME,e).remove();return t}},{key:"getPanelModels",value:function(){return[{id:"None",displayName:"None"},{id:"Sony-FXD40LX2F",displayName:"Sony FXD40LX2F"},{id:"NEC-LCD4215",displayName:"NEC LCD4215"},{id:"Phillips-BDL5560EL",displayName:"Phillips BDL5560EL"},{id:"Panasonic-TH55LF6U",displayName:"Panasonic TH55LF6U"},{id:"Sharp-PNE521",displayName:"Sharp PNE521"}]}},{key:"getPanelInputs",value:function(){return[{id:"None",parentId:"None"},{id:"HDMI1",parentId:"Sony-FXD40LX2F"},{id:"HDMI2",parentId:"Sony-FXD40LX2F"},{id:"HDMI1",parentId:"Phillips-BDL5560EL"},{id:"HDMI2",parentId:"Phillips-BDL5560EL"},{id:"DVI",parentId:"Phillips-BDL5560EL"},{id:"HDMI1",parentId:"Panasonic-TH55LF6U"},{id:"HDMI2",parentId:"Panasonic-TH55LF6U"},{id:"DVI",parentId:"Panasonic-TH55LF6U"},{id:"HDMI1",parentId:"Sharp-PNE521"},{id:"HDMI2",parentId:"Sharp-PNE521"},{id:"DVI",parentId:"Sharp-PNE521"},{id:"VGA",parentId:"NEC-LCD4215"},{id:"DVI1",parentId:"NEC-LCD4215"}]}},{key:"makeDevicesByDistributorURL",value:function(e,t,n,r){var a="/api/v1/distributors/"+e+"/devices?unmanaged="+r+"&next_cursor="+n+"&prev_cursor="+t;return a}},{key:"makeDevicesByTenantURL",value:function(e,t,n,r){var a="/api/v1/tenants/"+e+"/devices?unmanaged="+r+"&next_cursor="+n+"&prev_cursor="+t;return a}}]),e}();exports["default"]=s},715:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t,n,r){"ngInject";(0,a["default"])(this,e),this.Restangular=t,this.$state=n,this.SessionsService=r,this.DISTRIBUTOR_SERVICE="distributors"}return e.$inject=["Restangular","$state","SessionsService"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service(this.DISTRIBUTOR_SERVICE).post(e);return t}},{key:"fetchAll",value:function(){var e=this.Restangular.all(this.DISTRIBUTOR_SERVICE).getList();return e}},{key:"fetchAllByUser",value:function(e){if(e){var t=this.Restangular.one("users",e).doGET(this.DISTRIBUTOR_SERVICE);return t}}},{key:"getByKey",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"api/v1/distributors/"+e).get();return t}},{key:"delete",value:function(e){if(e.key){var t=this.Restangular.one(this.DISTRIBUTOR_SERVICE,e.key).remove();return t}}},{key:"getByName",value:function(e){var t=this.Restangular.all(this.DISTRIBUTOR_SERVICE).getList({distributorName:e});return t}},{key:"getDomainsByKey",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"api/v1/distributors/"+e+"/domains").get();return t}},{key:"switchDistributor",value:function(e){return this.SessionsService.setCurrentDistributorName(e.name),this.SessionsService.setCurrentDistributorKey(e.key),this.$state.go("welcome")}}]),e}();exports["default"]=s},716:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("domains").post(e);return t}},{key:"fetchAllDomains",value:function(){var e=this.Restangular.all("domains").getList();return e}},{key:"getDomainByKey",value:function(e){var t=this.Restangular.oneUrl("domains","api/v1/domains/"+e).get();return t}},{key:"getDirectoryApiConnectivityInformation",value:function(e){var t=this.Restangular.oneUrl("domains","api/v1/domains/"+e+"/directory_api").get();return t}},{key:"delete",value:function(e){if(void 0!==e.key){var t=this.Restangular.one("domains",e.key).remove();return t}}}]),e}();exports["default"]=s},717:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{
"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getIdentity",value:function(){return this.Restangular.oneUrl("identity").get()}}]),e}();exports["default"]=s},718:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t,this.CREATE_TENANT_EVENTS="integration_events/tenant_create",this.ENROLLMENT_EVENTS="integration_events/enrollment"}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getTenantCreateEvents",value:function(e){var t={tenantKey:e};return this.Restangular.all(this.CREATE_TENANT_EVENTS).customGET("",t)}},{key:"getEnrollmentEvents",value:function(e){var t={deviceKey:e};return this.Restangular.all(this.ENROLLMENT_EVENTS).customGET("",t)}}]),e}();exports["default"]=s},719:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("locations").post(e);return t}},{key:"searchAllTenantLocationsByName",value:function(e,t){var n=this.Restangular.all("tenants").customGETLIST(e+"/locations",{customer_location_name:t});return n}},{key:"getLocationsByTenantKey",value:function(e){var t=this.Restangular.oneUrl("tenants","api/v1/tenants/"+e+"/locations").get();return t}},{key:"getLocationsByTenantKeyPaginated",value:function(e,t,n){t=void 0===t?null:t,n=void 0===n?null:n;var r=this.Restangular.oneUrl("tenants","api/v1/tenants/"+e+"/"+t+"/"+n+"/locations").get();return r}},{key:"getLocationByKey",value:function(e){var t=this.Restangular.oneUrl("locations","api/v1/locations/"+e).get();return t}}]),e}();exports["default"]=s},720:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.ngProgressFactory=t,this.progressBar=this.ngProgressFactory.createInstance()}return e.$inject=["ngProgressFactory"],(0,o["default"])(e,[{key:"start",value:function(){return this.progressBar.setColor("#00FCFF"),this.progressBar.setHeight("4px"),this.progressBar.start()}},{key:"complete",value:function(){return this.progressBar.complete()}}]),e}();exports["default"]=s},721:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t,n,r,i,o,s,c){"ngInject";(0,a["default"])(this,e),this.$http=t,this.$q=n,this.$window=r,this.SessionsService=i,this.$stateParams=o,this.$state=s,this.ToastsService=c,this.makeHTTPRequest=this.makeHTTPRequest.bind(this),this.uriBase="proofplay/api/v1"}return e.$inject=["$http","$q","$window","SessionsService","$stateParams","$state","ToastsService"],(0,o["default"])(e,[{key:"makeHTTPURL",value:function(e,t){return this.uriBase+e+t}},{key:"makeHTTPRequest",value:function(e,t){var n=(this.$q.defer(),this.makeHTTPURL(e,t));return this.$http.get(n)}},{key:"getAllResources",value:function(e){var t=this.makeHTTPRequest("/retrieve_all_resources/",e);return t["catch"](function(e,t){var n=e.status;if(403===n&&(this.ToastsService.showErrorToast("You are not allowed to view this tenant!"),this.$state.go("proof",{})),404===n)return this.ToastsService.showErrorToast("You must select a tenant first!"),this.$state.go("proof",{})}),t.then(function(e){return e})}},{key:"getAllDisplays",value:function(e){return this.makeHTTPRequest("/retrieve_all_displays/",e)}},{key:"getAllLocations",value:function(e){return this.makeHTTPRequest("/retrieve_all_locations/",e)}},{key:"getAllTenants",value:function(){return this.makeHTTPRequest("/retrieve_my_tenants","")}},{key:"downloadCSVForMultipleResourcesByDate",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.uriBase+"/multi_resource_by_date/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleResourcesByDevice",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.uriBase+"/multi_resource_by_device/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleDevicesSummarized",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.uriBase+"/multi_device_summarized/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleDevicesByDate",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.uriBase+"/multi_device_by_date/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleLocationsByDevice",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.uriBase+"/multi_location_by_device/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleLocationsSummarized",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.uriBase+"/multi_location_summarized/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"createFilterFor",value:function(e){return e=angular.lowercase(e),function(t){return t=angular.lowercase(t),0===t.indexOf(e)}}},{key:"querySearch",value:function(e,t){return t?e.filter(this.createFilterFor(t)):e}}]),e}();exports["default"]=s},722:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t,n,r,i,o,s){"ngInject";(0,a["default"])(this,e),this.$http=t,this.$log=n,this.StorageService=r,this.IdentityService=i,this.Restangular=o,this.$q=s,this.setIdentity=this.setIdentity.bind(this),this.uriBase="v1/sessions"}return e.$inject=["$http","$log","StorageService","IdentityService","Restangular","$q"],(0,o["default"])(e,[{key:"setDistributors",value:function(e){return this.StorageService.set("distributors",e)}},{key:"setDistributorsAsAdmin",value:function(e){return this.StorageService.set("distributorsAsAdmin",e)}},{key:"setIsAdmin",value:function(e){return this.StorageService.set("isAdmin",e)}},{key:"setUserKey",value:function(e){return this.StorageService.set("userKey",e)}},{key:"setUserEmail",value:function(e){return this.StorageService.set("userEmail",e)}},{key:"setCurrentDistributorKey",value:function(e){return this.StorageService.set("currentDistributorKey",e)}},{key:"setCurrentDistributorName",value:function(e){return this.StorageService.set("currentDistributorName",e)}},{key:"getUserKey",value:function(){return this.StorageService.get("userKey")}},{key:"getUserEmail",value:function(){return this.StorageService.get("userEmail")}},{key:"getDistributors",value:function(){return this.StorageService.get("distributors")}},{key:"getCurrentDistributorName",value:function(){return this.StorageService.get("currentDistributorName")}},{key:"getCurrentDistributorKey",value:function(){return this.StorageService.get("currentDistributorKey")}},{key:"getDistributorsAsAdmin",value:function(){return this.StorageService.get("distributorsAsAdmin")}},{key:"getIsAdmin",value:function(){return this.StorageService.get("isAdmin")}},{key:"login",value:function(e){var t=this,n={access_token:_.clone(e.access_token),authuser:_.clone(e.authuser),client_id:_.clone(e.client_id),code:_.clone(e.code),id_token:_.clone(e.id_token),scope:_.clone(e.scope),session_state:_.clone(e.session_state),state:_.clone(e.state),status:_.clone(e.status)};e.email&&e.password&&(n=e);var r=this.$http.post("/login",n);return r.success(function(e){return t.setUserKey(e.user.key),t.setIdentity().then(function(){return e})})}},{key:"setIdentity",value:function(){var e=this,t=this.$q.defer(),n=this.IdentityService.getIdentity();return n.then(function(n){return e.setDistributors(n.distributors),e.setDistributorsAsAdmin(n.distributors_as_admin),e.setIsAdmin(n.is_admin),e.setUserEmail(n.email),e.setIsAdmin(n.is_admin),t.resolve()}),t.promise}},{key:"removeUserInfo",value:function(){this.StorageService.removeAll()}}]),e}();exports["default"]=s},723:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=t(724),c=n(s),u=function(){function e(){(0,a["default"])(this,e)}return(0,o["default"])(e,[{key:"set",value:function(e,t){return c["default"].set(e,t)}},{key:"get",value:function(e){return c["default"].get(e)}},{key:"rm",value:function(e){return c["default"].rm(e)}},{key:"removeAll",value:function(){c["default"].flush()}}]),e}();exports["default"]=u},725:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t,n){"ngInject";(0,a["default"])(this,e),this.Restangular=t,this.SessionsService=n}return e.$inject=["Restangular","SessionsService"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("tenants").post(e);return t}},{key:"saveOverlaySettings",value:function(e,t,n,r,a){var i={bottom_left:t,bottom_right:n,top_right:r,top_left:a};return this.Restangular.oneUrl("overlay","/api/v1/overlay/tenant/"+e).customPOST(i)}},{key:"overlayApplyTenant",value:function(e){return this.Restangular.oneUrl("overlay","/api/v1/overlay/tenant/"+e+"/apply").post()}},{key:"searchAllTenantsByName",value:function(e,t){var n=this.Restangular.all("tenants").customGETLIST("",{tenant_name:e,allDistributors:t});return n}},{key:"fetchAllTenants",value:function(){var e=this.Restangular.all("tenants").getList();return e}},{key:"fetchAllTenantsPaginated",value:function(e,t){var n="api/v1/tenants/paginated/"+e+"/"+t,r=this.Restangular.oneUrl("tenants",n).get();return r}},{key:"getTenantByKey",value:function(e){var t="api/v1/tenants/"+e,n=this.Restangular.oneUrl("tenants",t).get();return n}},{key:"delete",value:function(e){if(void 0!==e.key){var t=this.Restangular.one("tenants",e.key).remove();return t}}}]),e}();exports["default"]=s},726:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getUsTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/us").get();return e}},{key:"getAllTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/all").get();return e}},{key:"getCustomTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/custom").get();return e}}]),e}();exports["default"]=s},727:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.toastr=t}return e.$inject=["toastr"],(0,o["default"])(e,[{key:"showSuccessToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success!";return this.toastr.success(e,t)}},{key:"showErrorToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error!";return this.toastr.error(e,t)}},{key:"showInfoToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Information";return this.toastr.info(e,t)}}]),e}();exports["default"]=s},728:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(705),a=n(r),i=t(706),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getVersions",value:function(){var e=this.Restangular.oneUrl("versions").get();return e}}]),e}();exports["default"]=s},729:function(e,exports){"use strict";function t(e,t,n,r,a,i,o){"ngInject";var s=this;i.tabIndex=5,s.tenantKey=e.tenantKey;var c=t.getTenantByKey(s.tenantKey);return c.then(function(e){s.currentTenant=e}),s.localFromUtc=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.utcTimestamp&&(n.utcTimestamp=o.generateLocalFromUTC(n.utcTimestamp))}},s.getTenantCreateEvents=function(){r.start();var e=a.getTenantCreateEvents(s.tenantKey);e.then(function(e){s.tenantCreateEvents=e,s.localFromUtc(e),r.complete()})},s.initialize=function(){s.getTenantCreateEvents()},i.$watch("tabIndex",function(t,r){if(void 0!==t)switch(t){case 0:return n.go("tenantDetails",{tenantKey:e.tenantKey});case 1:return n.go("tenantManagedDevices",{tenantKey:e.tenantKey});case 2:return n.go("tenantUnmanagedDevices",{tenantKey:e.tenantKey});case 3:return n.go("tenantLocations",{tenantKey:e.tenantKey});case 4:return n.go("tenantOverlays",{tenantKey:e.tenantKey});case 5:return n.go("tenantLogs",{tenantKey:e.tenantKey})}}),s}t.$inject=["$stateParams","TenantsService","$state","ProgressBarService","IntegrationEvents","$scope","DateManipulationService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantLogsCtrl=t},730:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o,c,u,l){"ngInject";var d=this;o.tabIndex=4,d.tenantKey=e.tenantKey,d.editMode=!!e.tenantKey;var v=t.getTenantByKey(d.tenantKey);return v.then(function(e){d.currentTenant=e}),d.overlayChanged=!1,d.adjustOverlayStatus=function(n){d.currentTenant.overlayStatus=n,r.start(),d.loadingOverlays=!0;var i=t.save(d.currentTenant);return i.then(function(){r.complete();var n=t.getTenantByKey(e.tenantKey);n.then(function(e){d.loadingOverlays=!1,d.onSuccessResolvingTenant(e)})}),i["catch"](function(e){r.complete(),a.showErrorToast("Something went wrong"),console.log(e)}),i},d.updateOverlays=function(){d.loadingOverlays=!0;var e=d.getTenant();return e.then(function(e){d.overlayChanged=!1,d.currentTenant.overlays=e.overlays,d.currentTenantCopy.overlays=angular.copy(d.currentTenant.overlays),d.loadingOverlays=!1}),e},d.submitOverlaySettings=function(){d.loadingOverlays=!0;var e=angular.copy(d.currentTenantCopy.overlays);r.start();var n=t.saveOverlaySettings(d.tenantKey,e.bottom_left,e.bottom_right,e.top_right,e.top_left),i=function(){var e=d.updateOverlays();return e.then(function(e){a.showSuccessToast("We saved your update."),r.complete()}),e};return n.then(function(){u(i,1e3)}),n["catch"](function(e){r.complete(),a.showErrorToast("Something went wrong")}),n},d.applyTenantOverlay=function(e){var n=l.confirm({title:"Are you sure?",textContent:"Each device in your Tenant will have the current Overlay Template applied as its settings.",targetEvent:e,ariaLabel:"Lucky day",ok:"Confirm",cancel:"Nevermind"});l.show(n).then(function(){r.start();var e=t.overlayApplyTenant(d.tenantKey);return e.then(function(e){var t="Your Tenant Overlay Settings are being applied to each device in your Tenant. Please wait patiently for this process to complete.";a.showSuccessToast(t),d.loading=!0,d.getTenant(),r.complete()}),e["catch"](function(e){r.complete(),a.showErrorToast("Something went wrong")}),e})},d.checkForOverlayChanges=function(){var e=!1,t=d.currentTenant.overlays,n=d.currentTenantCopy.overlays,r=["top_left","top_right","bottom_right","bottom_left"],a=!0,o=!1,s=void 0;try{for(var c,u=(0,i["default"])(r);!(a=(c=u.next()).done);a=!0){var l=c.value;t[l].size!==n[l].size&&(e=!0),t[l].type!==n[l].type&&(e=!0),"logo"===t[l].type&&t[l].type+": "+t[l].name!==n[l].name&&(e=!0)}}catch(v){o=!0,s=v}finally{try{!a&&u["return"]&&u["return"]()}finally{if(o)throw s}}d.overlayChanged=e},d.submitImage=function(){if(d.selectedLogo&&d.selectedLogo[0]){var e=new FormData,t=!0;if(angular.forEach(d.selectedLogo,function(n){n.lfFile.size<15e6?e.append("files",n.lfFile):(d.fileApi.removeAll(),t=!1,a.showErrorToast("Your image is larger than 15 MB. Please choose a smaller image"))}),t){var n=c.saveImage(d.tenantKey,e);return n.then(function(e){r.complete(),u(d.getTenantImages,1e3),d.fileApi.removeAll(),a.showSuccessToast("We uploaded your image.")}),n["catch"](function(e){r.complete(),a.showErrorToast("Something went wrong. You may have already uploaded this image.")}),n}}},d.getTenantImagesAndReloadTenantAfterDelete=function(){var e=d.getTenantImages();e.then(function(){var e=d.updateOverlays();e.then(function(){a.showSuccessToast("We deleted your image."),r.complete()})})},d.deleteImage=function(e,t,n){var i=l.confirm({title:"Are you sure?",textContent:"If you proceed, "+t+" will be deleted and removed from all devices that use it.",targetEvent:e,ariaLabel:"Lucky day",ok:"Confirm",cancel:"Nevermind"});l.show(i).then(function(){r.start();var e=c.deleteImage(n);return e.then(function(e){u(d.getTenantImagesAndReloadTenantAfterDelete,1e3)}),e["catch"](function(e){a.showErrorToast("Something went wrong while deleting your image."),r.complete()}),e})},d.getTenantImages=function(){d.OVERLAY_TYPES=[{size:null,type:null,name:"none",realName:"none","new":!1,image_key:null},{size:null,type:"datetime",name:"datetime",realName:"datetime","new":!0,image_key:null}],r.start();var e=c.getImages(d.tenantKey);return e.then(function(e){d.tenantImages=e,r.complete();var t=!0,n=!1,a=void 0;try{for(var o,c=(0,i["default"])(d.tenantImages);!(t=(o=c.next()).done);t=!0)for(var u=o.value,l=["small","large"],v=0;v<l.length;v++){var f=l[v],m={realName:angular.copy(u.name),name:"logo: "+u.name,type:"logo",size:f,image_key:u.key};d.OVERLAY_TYPES.push(m)}}catch(p){n=!0,a=p}finally{try{!t&&c["return"]&&c["return"]()}finally{if(n)throw a}}d.OVERLAY_TYPES.sort(s["default"])}),e["catch"](function(){r.complete(),a.showErrorStatus("SOMETHING WENT WRONG RETRIEVING YOUR IMAGES")}),e},d.onSuccessResolvingTenant=function(e){d.currentTenant=e,d.currentTenantCopy=angular.copy(d.currentTenant),d.selectedTimezone=e.default_timezone},d.getTenant=function(){d.loadingOverlays=!0;var n=t.getTenantByKey(e.tenantKey);return n.then(function(e){d.currentTenant=e,d.currentTenant.overlaysUpdateInProgress?(d.loading=!0,u(d.getTenant,3e3)):d.loading=!1,d.loadingOverlays=!1,d.currentTenantCopy=angular.copy(d.currentTenant)}),n},d.initialize=function(){d.getTenantImages(),d.getTenant()},o.$watch("tabIndex",function(t,r){if(void 0!==t)switch(t){case 0:return n.go("tenantDetails",{tenantKey:e.tenantKey});case 1:return n.go("tenantManagedDevices",{tenantKey:e.tenantKey});case 2:return n.go("tenantUnmanagedDevices",{tenantKey:e.tenantKey});case 3:return n.go("tenantLocations",{tenantKey:e.tenantKey});case 4:return n.go("tenantOverlays",{tenantKey:e.tenantKey});case 5:return n.go("tenantLogs",{tenantKey:e.tenantKey})}}),d}r.$inject=["$stateParams","TenantsService","$state","ProgressBarService","ToastsService","$scope","ImageService","$timeout","$mdDialog"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantOverlaysCtrl=void 0;var a=t(650),i=n(a),o=t(659),s=n(o);exports.TenantOverlaysCtrl=r},731:function(e,exports){"use strict";function t(e,t,n,r,a,i,o,s,c){"ngInject";var u=this;return u.gameStopServer=t.host().indexOf("provisioning-gamestop")>-1,u.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,proof_of_play_url:void 0,active:!0,ou_create:!0},u.selectedDomain=void 0,u.distributorDomains=[],u.timezones=[],u.selectedTimezone="America/Chicago",u.initialize=function(){var e=a.getCustomTimezones();e.then(function(e){return u.timezones=e}),u.currentDistributorKey=c.getCurrentDistributorKey();var t=r.getByKey(u.currentDistributorKey);t.then(function(e){return u.currentTenant.content_manager_base_url=e.content_manager_url,u.currentTenant.content_server_url=e.player_content_url});var n=r.getDomainsByKey(u.currentDistributorKey);return n.then(function(e){return u.distributorDomains=e})},u.onClickSaveButton=function(){s.start(),u.currentTenant.default_timezone=u.selectedTimezone,u.currentTenant.domain_key=u.selectedDomain.key;var e=n.save(u.currentTenant);return e.then(u.onSuccessTenantSave,u.onFailureTenantSave)},u.onSuccessTenantSave=function(){return s.complete(),i.go("tenants")},u.onFailureTenantSave=function(t){return s.complete(),409===t.status?o.show("Oops...","Tenant code unavailable in Provisioning. Please modify tenant name to generate a unique tenant code.","error"):412===t.status?o.show("Oops...","Tenant code unavailable in Chrome Device Management. Modify tenant name to generate a unique tenant code.","error"):(e.error(t),o.show("Oops...","Unable to save the tenant.","error"))},u.autoGenerateTenantCode=function(){if(!u.currentTenant.key){var e="";return u.currentTenant.name&&(e=u.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),u.currentTenant.tenant_code=e}},u}t.$inject=["$log","$location","TenantsService","DistributorsService","TimezonesService","$state","sweet","ProgressBarService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantAddCtrl=t},732:function(e,exports){"use strict";function t(e,t,n,r,a,i,o,s,c,u,l,d){"ngInject";var v=this;if(v.gameStopServer=d.host().indexOf("provisioning-gamestop")>-1,v.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,proof_of_play_url:void 0,active:!0},v.selectedDomain=void 0,v.distributorDomains=[],v.timezones=[],v.selectedTimezone="America/Chicago",v.editMode=!!e.tenantKey,v.editMode){var f=t.getTenantByKey(e.tenantKey);f.then(function(e){return v.currentTenant=e,v.onSuccessResolvingTenant(e)})}return v.initialize=function(){var e=r.getCustomTimezones();e.then(function(e){return v.timezones=e}),v.currentDistributorKey=u.getCurrentDistributorKey();var t=a.getDomainsByKey(v.currentDistributorKey);return t.then(function(e){return v.distributorDomains=e})},v.onSuccessResolvingTenant=function(e){v.selectedTimezone=e.default_timezone;var t=n.getDomainByKey(e.domain_key);return t.then(function(e){return v.selectedDomain=e})},v.onClickSaveButton=function(){s.start(),v.currentTenant.default_timezone=v.selectedTimezone,v.currentTenant.domain_key=v.selectedDomain.key;var e=t.save(v.currentTenant);return e.then(v.onSuccessTenantSave,v.onFailureTenantSave)},v.onSuccessTenantSave=function(){return s.complete(),c.showSuccessToast("We saved your tenant information.")},v.onFailureTenantSave=function(e){return s.complete(),409===e.status?o.show("Oops...","Tenant code unavailable. Please modify tenant name to generate a unique tenant code.","error"):o.show("Oops...","Unable to save the tenant.","error")},v.editItem=function(t){return i.go("editDevice",{deviceKey:t.key,tenantKey:e.tenantKey})},v.autoGenerateTenantCode=function(){if(!v.currentTenant.key){var e="";return v.currentTenant.name&&(e=v.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),v.currentTenant.tenant_code=e}},l.tabIndex=0,l.$watch("tabIndex",function(t,n){if(void 0!==t)switch(t){case 0:return i.go("tenantDetails",{tenantKey:e.tenantKey});case 1:return i.go("tenantManagedDevices",{tenantKey:e.tenantKey});case 2:return i.go("tenantUnmanagedDevices",{tenantKey:e.tenantKey});case 3:return i.go("tenantLocations",{tenantKey:e.tenantKey});case 4:return i.go("tenantOverlays",{tenantKey:e.tenantKey});case 5:return i.go("tenantLogs",{tenantKey:e.tenantKey})}}),v}t.$inject=["$stateParams","TenantsService","DomainsService","TimezonesService","DistributorsService","$state","sweet","ProgressBarService","ToastsService","SessionsService","$scope","$location"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantDetailsCtrl=t},733:function(e,exports){"use strict";function t(e,t,n,r,a,i,o){"ngInject";var s=this;if(s.location={key:void 0},s.tenantKey=e.tenantKey,s.editMode=!!e.locationKey,s.editMode){var c=n.getLocationByKey(e.locationKey);c.then(function(e){return s.location=e,s.tenantKey=e.tenantKey,s.locationName=e.customerLocationName,s.fetchTenantName(s.tenantKey)})}return s.initialize=function(){if(!s.editMode)return s.fetchTenantName(s.tenantKey),s.location={tenantKey:s.tenantKey,active:!0}},s.onClickSaveButton=function(){i.start();var e=n.save(s.location);return s.editMode?e.then(s.onSuccessUpdatingLocation(s.tenantKey),s.onFailureSavingLocation):e.then(s.onSuccessSavingLocation,s.onFailureSavingLocation)},s.onSuccessSavingLocation=function(){return i.complete(),o.showSuccessToast("We saved your location."),setTimeout(function(){r.go("tenantLocations",{tenantKey:e.tenantKey})},1e3)},s.onSuccessUpdatingLocation=function(e){return i.complete(),o.showSuccessToast("We updated your location."),setTimeout(function(){r.go("tenantLocations",{tenantKey:e})},1e3)},s.onFailureSavingLocation=function(e){return i.complete(),409===e.status?(o.showErrorToast("Location code conflict. Unable to save your location."),a.show("Oops...","Please change your customer location name. Location name must generate a unique location code.","error")):o.showErrorToast("Unable to save your location.")},s.fetchTenantName=function(e){var n=t.getTenantByKey(e);return n.then(function(e){return s.tenantName=e.name})},s.autoGenerateCustomerLocationCode=function(){if(!s.location.key){var e="";return s.location.customerLocationName&&(e=s.location.customerLocationName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),s.location.customerLocationCode=e}},s}t.$inject=["$stateParams","TenantsService","LocationsService","$state","sweet","ProgressBarService","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantLocationCtrl=t},734:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o){"ngInject";var c=this,u=t.tenantKey;e.tabIndex=3,c.locations=[],c.searchDisabled=!0,c.tenantKey=t.tenantKey;var l=n.getTenantByKey(u);return l.then(function(e){c.currentTenant=e}),e.$watch("tabIndex",function(e,n){if(void 0!==e)switch(e){case 0:return a.go("tenantDetails",{tenantKey:t.tenantKey});case 1:return a.go("tenantManagedDevices",{tenantKey:t.tenantKey});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:t.tenantKey});case 3:return a.go("tenantLocations",{tenantKey:t.tenantKey});case 4:return a.go("tenantOverlays",{tenantKey:t.tenantKey});case 5:return a.go("tenantLogs",{tenantKey:t.tenantKey})}}),c.getLocations=function(e,t,n){o.start();var a=r.getLocationsByTenantKeyPaginated(e,t,n);return a.then(function(e){return c.locations=e.locations,c.next_cursor=e.next_cursor,c.prev_cursor=e.prev_cursor,o.complete()})},c.searchAllTenantLocationsByName=function(e){if(!e||e.length<3)return[];var t=r.searchAllTenantLocationsByName(c.tenantKey,e);return t.then(function(e){return c.searchedTenantLocations=e,c.searchedTenantLocations?c.searchedTenantLocations.map(function(e){return e.customerLocationName}).sort(s["default"]):[]})},c.isTenantLocationValid=function(e){if(!e||e.length<3)return[];r.searchAllTenantLocationsByName(c.tenantKey,e).then(function(t){var n=t;if(n){var r=!0,a=!1,o=void 0;try{for(var s,u=(0,i["default"])(n);!(r=(s=u.next()).done);r=!0){var l=s.value;if(e===l.customerLocationName)return c.searchDisabled=!1,void(c.searchMatch=l);c.searchDisabled=!0}}catch(d){a=!0,o=d}finally{try{!r&&u["return"]&&u["return"]()}finally{if(a)throw o}}}else c.searchDisabled=!0})},c.paginateCall=function(e){return e?c.getLocations(u,null,c.next_cursor):c.getLocations(u,c.prev_cursor,null)},c.initialize=function(){return c.getLocations(u)},c.editItem=function(e){return a.go("editLocation",{locationKey:e.key})},c}r.$inject=["$scope","$stateParams","TenantsService","LocationsService","$state","ProgressBarService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantLocationsCtrl=void 0;var a=t(650),i=n(a),o=t(659),s=n(o);exports.TenantLocationsCtrl=r},735:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o){"ngInject";var s=this;if(s.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},s.tenantDevices=[],s.devicesPrev=null,s.devicesNext=null,s.selectedButton="Serial Number",s.serialDevices={},s.disabled=!0,s.devicesToMatchOn=[],s.macDevices={},s.editMode=!!t.tenantKey,s.tenantKey=t.tenantKey,s.getManagedDevices=function(e,t,n){a.start();var i=r.getDevicesByTenant(e,t,n);return i.then(function(e){return s.devicesPrev=e.prev_cursor,s.devicesNext=e.next_cursor,s.tenantDevices=e.devices,a.complete()})},s.editItem=function(e){return r.editItem(e)},s.refreshDevices=function(){return s.devicesPrev=null,s.devicesNext=null,s.tenantDevices=null,s.getManagedDevices(s.tenantKey,s.devicesPrev,s.devicesNext)},s.editMode){var c=n.getTenantByKey(s.tenantKey);c.then(function(e){return s.currentTenant=e}),s.getManagedDevices(s.tenantKey,null,null)}return e.tabIndex=1,e.$watch("tabIndex",function(e,n){if(void 0!==e)switch(e){case 0:return o.go("tenantDetails",{tenantKey:t.tenantKey});case 1:return o.go("tenantManagedDevices",{tenantKey:t.tenantKey});case 2:return o.go("tenantUnmanagedDevices",{tenantKey:t.tenantKey});case 3:return o.go("tenantLocations",{tenantKey:t.tenantKey});case 4:return o.go("tenantOverlays",{tenantKey:t.tenantKey});case 5:return o.go("tenantLogs",{tenantKey:t.tenantKey})}}),s.changeRadio=function(){s.searchText="",s.disabled=!0,s.serialDevices={},s.macDevices={},s.devicesToMatchOn=[]},s.searchDevices=function(e){var t=!1,n=s.selectedButton,a=!0,i=s.tenantKey;return r.searchDevices(e,n,a,i,s.distributorKey,t).then(function(e){var t=void 0;if(e.success){var r=e.devices;return"Serial Number"===n?(s.serialDevices=r[1],t=r[0]):"MAC"===n?(s.macDevices=r[1],t=r[0]):(s.gcmidDevices=r[1],t=r[0]),s.devicesToMatchOn=t,t}return[]})},s.paginateCall=function(e){return e?s.getManagedDevices(s.tenantKey,null,s.devicesNext):s.getManagedDevices(s.tenantKey,s.devicesPrev,null)},s.prepareForEditView=function(e){return r.preprateForEditView(s.selectedButton,s.tenantKey,e,s.macDevices,s.serialDevices,s.gcmidDevices)},s.controlOpenButton=function(e){return s.disabled=!e,s.loadingDisabled=!1},s.isResourceValid=function(e){var t=!1,n=!0,r=!1,a=void 0;try{for(var o,c=(0,i["default"])(s.devicesToMatchOn);!(n=(o=c.next()).done);n=!0){var u=o.value;e===u&&(t=!0)}}catch(l){r=!0,a=l}finally{try{!n&&c["return"]&&c["return"]()}finally{if(r)throw a}}return s.controlOpenButton(t),t},s}r.$inject=["$scope","$stateParams","TenantsService","DevicesService","ProgressBarService","$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantManagedDevicesCtrl=void 0;var a=t(650),i=n(a);exports.TenantManagedDevicesCtrl=r},736:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o){"ngInject";var s=this;if(s.currentTenant={key:void 0,name:void 0,
tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},s.gcmidDevices=[],s.tenantDevices=[],s.devicesPrev=null,s.devicesNext=null,s.selectedButton="MAC",s.serialDevices={},s.disabled=!0,s.macDevices={},s.devicesToMatchOn=[],s.editMode=!!t.tenantKey,s.tenantKey=t.tenantKey,e.tabIndex=2,e.$watch("tabIndex",function(e,n){if(void 0!==e)switch(e){case 0:return o.go("tenantDetails",{tenantKey:t.tenantKey});case 1:return o.go("tenantManagedDevices",{tenantKey:t.tenantKey});case 2:return o.go("tenantUnmanagedDevices",{tenantKey:t.tenantKey});case 3:return o.go("tenantLocations",{tenantKey:t.tenantKey});case 4:return o.go("tenantOverlays",{tenantKey:t.tenantKey});case 5:return o.go("tenantLogs",{tenantKey:t.tenantKey})}}),s.editItem=function(e){return r.editItem(e)},s.getUnmanagedDevices=function(e,t,n){a.start();var i=r.getUnmanagedDevicesByTenant(e,t,n);return i.then(function(e){return s.devicesPrev=e.prev_cursor,s.devicesNext=e.next_cursor,s.tenantDevices=e.devices,a.complete()})},s.editMode){var c=n.getTenantByKey(s.tenantKey);c.then(function(e){return s.currentTenant=e}),s.getUnmanagedDevices(s.tenantKey,null,null)}return s.refreshDevices=function(){return s.devicesPrev=null,s.devicesNext=null,s.tenantDevices=null,s.getUnmanagedDevices(s.tenantKey,s.devicesPrev,s.devicesNext)},s.changeRadio=function(){s.searchText="",s.disabled=!0,s.serialDevices={},s.macDevices={},s.devicesToMatchOn=[]},s.searchDevices=function(e){var t=!0,n=!0;return r.searchDevices(e,s.selectedButton,n,s.tenantKey,s.distributorKey,t).then(function(e){var t=void 0;if(e.success){var n=e.devices;return"Serial Number"===s.selectedButton?(s.serialDevices=n[1],t=n[0]):"MAC"===s.selectedButton?(s.macDevices=n[1],t=n[0]):(s.gcmidDevices=n[1],t=n[0]),s.devicesToMatchOn=t,t}return[]})},s.paginateCall=function(e){return e?s.getUnmanagedDevices(s.tenantKey,null,s.devicesNext):s.getUnmanagedDevices(s.tenantKey,s.devicesPrev,null)},s.prepareForEditView=function(e){return r.preprateForEditView(s.selectedButton,s.tenantKey,e,s.macDevices,s.serialDevices,s.gcmidDevices)},s.controlOpenButton=function(e){s.disabled=!e,s.loadingDisabled=!1},s.isResourceValid=function(e){var t=!1,n=!0,r=!1,a=void 0;try{for(var o,c=(0,i["default"])(s.devicesToMatchOn);!(n=(o=c.next()).done);n=!0){var u=o.value;e===u&&(t=!0)}}catch(l){r=!0,a=l}finally{try{!n&&c["return"]&&c["return"]()}finally{if(r)throw a}}return s.controlOpenButton(t),t},s}r.$inject=["$scope","$stateParams","TenantsService","DevicesService","ProgressBarService","$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantUnmanagedDevicesCtrl=void 0;var a=t(650),i=n(a);exports.TenantUnmanagedDevicesCtrl=r},737:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a){"ngInject";var o=this;return o.tenants=[],o.searchedTenants=[],o.searchMatch=null,o.searchDisabled=!0,o.getTenantsPaginated=function(e,t){o.offset=t,o.loading=!0,r.start();var a=n.fetchAllTenantsPaginated(e,t);return a.then(function(e){return o.getFetchSuccess(e)},function(e){return o.getFetchFailure(e)})},o.getFetchSuccess=function(e){return o.tenants=e.tenants,o.total=e.total,o.is_first_page=e.is_first_page,o.is_last_page=e.is_last_page,r.complete(),o.loading=!1},o.getFetchFailure=function(e){r.complete();var t="Unable to fetch tenants. Error: "+e.status+" "+e.statusText+".";return a.show("Oops...",t,"error")},o.initialize=function(){return o.offset=0,o.searchAllTenantsByName("my"),o.getTenantsPaginated(100,o.offset)},o.searchAllTenantsByName=function(e){if(!e||e.length<3)return[];var t=n.searchAllTenantsByName(e);return t.then(function(e){return o.searchedTenants=e,o.searchedTenants?o.searchedTenants.map(function(e){return e.name}).sort(s["default"]):[]})},o.isTenantValid=function(e){if(!e||e.length<3)return[];var t=o.searchedTenants;if(t){var n=!0,r=!1,a=void 0;try{for(var s,c=(0,i["default"])(t);!(n=(s=c.next()).done);n=!0){var u=s.value;if(e===u.name)return o.searchDisabled=!1,void(o.searchMatch=u);o.searchDisabled=!0}}catch(l){r=!0,a=l}finally{try{!n&&c["return"]&&c["return"]()}finally{if(r)throw a}}}else o.searchDisabled=!0},o.editItem=function(t){return e.go("tenantDetails",{tenantKey:t.key})},o.deleteItem=function(e){var t=function(){var t=n["delete"](e);return t.then(function(){return o.initialize()})};return a.show({title:"Are you sure?",text:"This will permanently remove the tenant from the system.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the tenant!",closeOnConfirm:!0},t)},o}r.$inject=["$state","$log","TenantsService","ProgressBarService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantsCtrl=void 0;var a=t(650),i=n(a),o=t(659),s=n(o);exports.TenantsCtrl=r},738:function(e,exports){"use strict";function t(e,t,n,r){"ngInject";var a=this;return a.version_data=[],a.loading=!0,a.proceedToSignIn=function(){return t.go("sign_in")},a.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},a.giveOptionToChangeDistributor=function(){var e=n.fetchAllByUser(r.getUserKey());return e.then(function(e){return a.has_multiple_distributors=e.length>1,a.loading=!1})},a.changeDistributor=function(){return t.go("distributor_selection")},a.getVersion=function(){var t=e.getVersions();return t.then(function(e){return a.version_data=e})},a.initialize=function(){return a.identity={key:r.getUserKey(),email:r.getUserEmail(),distributorKey:r.getCurrentDistributorKey(),distributorName:r.getCurrentDistributorName()},a.giveOptionToChangeDistributor(),a.identity.email?a.getVersion():t.go("sign_in")},a}t.$inject=["VersionsService","$state","DistributorsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.WelcomeCtrl=t},739:function(e,exports){"use strict";function t(e,t,n){"ngInject";return e.state("sign_in",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],notAuthenticated:["AuthorizationService",function(e){return e.notAuthenticated()}]},url:"/sign_in",templateUrl:"app/authentication/sign_in.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("signed_out",{url:"/signed_out",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],notAuthenticated:["AuthorizationService",function(e){return e.notAuthenticated()}]},templateUrl:"app/authentication/signed_out.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("sign_out",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/sign_out",templateUrl:"app/authentication/sign_out.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("distributor_selection",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/distributor_selection",templateUrl:"app/distributor/distributor_selector.html",controller:"DistributorSelectorCtrl",controllerAs:"vm"}),e.state("home",{url:"/",templateUrl:"app/welcome/welcome.html",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("welcome",{url:"/welcome",templateUrl:"app/welcome/welcome.html",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("domains",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains",templateUrl:"app/domain/domains-listing.html",controller:"DomainsCtrl",controllerAs:"domainsCtrl",ncyBreadcrumb:{label:"Domains"}}),e.state("addDomain",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains/add",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"Add domain",parent:"domains"}}),e.state("editDomain",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains/:domainKey",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"{{ domainDetailsCtrl.currentDomain.name }}",parent:"domains"}}),e.state("tenants",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants",templateUrl:"app/tenant/tenants-listing.html",controller:"TenantsCtrl",controllerAs:"tenantsCtrl",ncyBreadcrumb:{label:"Tenants"}}),e.state("addTenant",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/add",templateUrl:"app/tenant/tenant-add.html",controller:"TenantAddCtrl",controllerAs:"tenantAddCtrl",ncyBreadcrumb:{label:"Add tenant",parent:"tenants"}}),e.state("tenantDetails",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/details",templateUrl:"app/tenant/tenant-details.html",controller:"TenantDetailsCtrl",controllerAs:"tenantDetailsCtrl",ncyBreadcrumb:{label:"{{ tenantDetailsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantManagedDevices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/managed",templateUrl:"app/tenant/tenant-managed-devices.html",controller:"TenantManagedDevicesCtrl",controllerAs:"tenantManagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantManagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantUnmanagedDevices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/unmanaged",templateUrl:"app/tenant/tenant-unmanaged-devices.html",controller:"TenantUnmanagedDevicesCtrl",controllerAs:"tenantUnmanagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantUnmanagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantLogs",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/logs",templateUrl:"app/tenant/tenant-logs.html",controller:"TenantLogsCtrl",controllerAs:"tenantLogsCtrl",ncyBreadcrumb:{label:"{{ tenantLogsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantOverlays",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/overlays",templateUrl:"app/tenant/tenant-overlays.html",controller:"TenantOverlaysCtrl",controllerAs:"tenantOverlaysCtrl",ncyBreadcrumb:{label:"{{ tenantOverlaysCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantLocations",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/locations",templateUrl:"app/tenant/tenant-locations.html",controller:"TenantLocationsCtrl",controllerAs:"tenantLocationsCtrl",ncyBreadcrumb:{label:"{{ tenantLocationsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("editLocation",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/locations/:locationKey",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / {{ tenantLocationCtrl.locationName }}",parent:"tenants"}}),e.state("addLocation",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/location",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / Location",parent:"tenants"}}),e.state("devices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/devices",templateUrl:"app/device/devices-listing.html",controller:"DevicesListingCtrl",controllerAs:"devicesListingCtrl",ncyBreadcrumb:{label:"Devices"}}),e.state("editDevice",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/devices/:deviceKey?tenantKey?fromDevices",templateUrl:"app/device/device-detail.html",ncyBreadcrumb:{label:"{{ deviceDetailsCtrl.currentDevice.key }}",parent:"devices"},controller:"DeviceDetailsCtrl","function":function(e,t){e.tenantKey=t.tenantKey},controllerAs:"deviceDetailsCtrl"}),e.state("proof",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/proof",templateUrl:"app/proof/main.html",controller:"ProofOfPlayCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Proof of Play"}}),e.state("proofDetail",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/proof/:tenant",templateUrl:"app/proof/detail.html",controller:"ProofOfPlayCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Proof of Play"}}),e.state("admin",{resolve:{isAdmin:["AuthorizationService",function(e){return e.isAdminOrDistributorAdmin()}]},url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Admin"}}),t.otherwise("/sign_in"),n.setBaseUrl("/api/v1"),n.addResponseInterceptor(function(e,t,n,r,a,i){var o=e;return o}),n.setRestangularFields({id:"key"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.routes=t,t.$inject=["$stateProvider","$urlRouterProvider","RestangularProvider"]},740:function(e,exports){"use strict";function t(e,t,n,r,a){"ngInject";var i=function(){var e=n.get("$state");return r.$on("$stateChangeError",function(t,n,r,a,i,o){if("authError"===o[0])return e.go(o[1])})};a(i,500);var o=function(){e.addRequestInterceptor(function(r,a,i,o){var s=n.get("StorageService"),c="6C346588BD4C6D722A1165B43C51C";if(t.host().indexOf("provisioning-gamestop")>-1&&(c="5XZHBF3mOwqJlYAlG1NeeWX0Cb72g"),e.setDefaultHeaders({"Content-Type":"application/json",Accept:"application/json",Authorization:c,"X-Provisioning-User":s.get("userKey"),"X-Provisioning-Distributor":s.get("currentDistributorKey")}),"remove"!==a)return r})};a(o,500)}t.$inject=["Restangular","$location","$injector","$rootScope","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.appRun=t},741:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){o["default"].extend(e,{progressBar:!0,closeButton:!0,tapToDismiss:!0,newestOnTop:!0,positionClass:"toast-bottom-left",timeOut:5e3})}function a(e){e.setOptions({prefixStateName:"home",template:"bootstrap3"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toastrConfig=r,exports.breadcrumbProvider=a;var i=t(369),o=n(i);r.$inject=["toastrConfig"],a.$inject=["$breadcrumbProvider"]}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXBwLmJ1bmRsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYXBwLmpzIiwid2VicGFjazovLy8uL34vbW9tZW50L2xvY2FsZSBeXFwuXFwvLiokIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5jc3M/ZDE1NiIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhckJyZWFkY3J1bWIvYW5ndWxhckJyZWFkY3J1bWIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvanMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci9jc3MvbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzP2M0MTMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvY3NzL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1kaXJlY3RpdmUuZy1zaWduaW4vZ29vZ2xlLXBsdXMtc2lnbmluLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy92ZW5kb3Iuc2Nzcz8yNmEwIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy92ZW5kb3Iuc2NzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3Njc3MvaW5kZXguc2Nzcz83Njk3Iiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy9pbmRleC5zY3NzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGV2aWNlL2RldmljZS1kZXRhaWwtY29tbWFuZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2RldmljZS9kZXZpY2UtZGV0YWlscy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGV2aWNlL2RldmljZXMtbGlzdGluZy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYWRtaW4vYWRtaW4tY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2F1dGhlbnRpY2F0aW9uL2F1dGhlbnRpY2F0aW9uLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hcHAvYXBwLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9kaXN0cmlidXRvci9kaXN0cmlidXRvci1zZWxlY3Rvci1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3JzLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9kb21haW4vZG9tYWlucy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZG9tYWluL2RvbWFpbi1kZXRhaWxzLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wcm9vZi9tdWx0aS1sb2NhdGlvbi5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvcHJvb2YvbXVsdGktZGlzcGxheS5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvcHJvb2YvbXVsdGktcmVzb3VyY2UuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3Byb29mL3Byb29mLW9mLXBsYXkuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2ltYWdlLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9hZG1pbi5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvYXV0aG9yaXphdGlvbi5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvY29tbWFuZHMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2RhdGVtYW5pcHVsYXRpb24uc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2RldmljZXMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2Rpc3RyaWJ1dG9ycy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvZG9tYWlucy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvaWRlbnRpdHkuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2ludGVncmF0aW9uLWV2ZW50cy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvbG9jYXRpb25zLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9wcm9ncmVzc2Jhci5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvcHJvb2ZwbGF5LnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9zZXNzaW9ucy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvc3RvcmFnZS5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvdGVuYW50cy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvdGltZXpvbmVzLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy90b2FzdHMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL3ZlcnNpb25zLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LWxvZ3MuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtb3ZlcmxheXMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtYWRkLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LWRldGFpbHMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb25zLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LW1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvdGVuYW50L3RlbmFudC11bm1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvdGVuYW50L3RlbmFudHMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3dlbGNvbWUvd2VsY29tZS1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYXBwLXJvdXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2FwcC1ydW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hcHAtY29uZmlnLmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsIjAiLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIjM2NyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9hcHAiLCJfZGV2aWNlRGV0YWlsQ29tbWFuZCIsIl9kZXZpY2VEZXRhaWxzIiwiX2RldmljZXNMaXN0aW5nIiwiX2FkbWluQ29udHJvbGxlciIsIl9hdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIiLCJfYXBwQ29udHJvbGxlciIsIl9kaXN0cmlidXRvclNlbGVjdG9yQ29udHJvbGxlciIsIl9kaXN0cmlidXRvcnNDb250cm9sbGVyIiwiX2RvbWFpbnMiLCJfZG9tYWluRGV0YWlscyIsIl9tdWx0aUxvY2F0aW9uIiwiX211bHRpRGlzcGxheSIsIl9tdWx0aVJlc291cmNlIiwiX3Byb29mT2ZQbGF5IiwiX2ltYWdlIiwiX2ltYWdlMiIsIl9hZG1pbiIsIl9hZG1pbjIiLCJfYXV0aG9yaXphdGlvbiIsIl9hdXRob3JpemF0aW9uMiIsIl9jb21tYW5kcyIsIl9jb21tYW5kczIiLCJfZGF0ZW1hbmlwdWxhdGlvbiIsIl9kYXRlbWFuaXB1bGF0aW9uMiIsIl9kZXZpY2VzIiwiX2RldmljZXMyIiwiX2Rpc3RyaWJ1dG9ycyIsIl9kaXN0cmlidXRvcnMyIiwiX2RvbWFpbnMyIiwiX2RvbWFpbnMzIiwiX2lkZW50aXR5IiwiX2lkZW50aXR5MiIsIl9pbnRlZ3JhdGlvbkV2ZW50cyIsIl9pbnRlZ3JhdGlvbkV2ZW50czIiLCJfbG9jYXRpb25zIiwiX2xvY2F0aW9uczIiLCJfcHJvZ3Jlc3NiYXIiLCJfcHJvZ3Jlc3NiYXIyIiwiX3Byb29mcGxheSIsIl9wcm9vZnBsYXkyIiwiX3Nlc3Npb25zIiwiX3Nlc3Npb25zMiIsIl9zdG9yYWdlIiwiX3N0b3JhZ2UyIiwiX3RlbmFudHMiLCJfdGVuYW50czIiLCJfdGltZXpvbmVzIiwiX3RpbWV6b25lczIiLCJfdG9hc3RzIiwiX3RvYXN0czIiLCJfdmVyc2lvbnMiLCJfdmVyc2lvbnMyIiwiX3RlbmFudExvZ3MiLCJfdGVuYW50T3ZlcmxheXMiLCJfdGVuYW50QWRkIiwiX3RlbmFudERldGFpbHMiLCJfdGVuYW50TG9jYXRpb24iLCJfdGVuYW50TG9jYXRpb25zIiwiX3RlbmFudE1hbmFnZWREZXZpY2VzIiwiX3RlbmFudFVubWFuYWdlZERldmljZXMiLCJfdGVuYW50czMiLCJfd2VsY29tZUNvbnRyb2xsZXIiLCJfYXBwUm91dGVzIiwiX2FwcFJ1biIsIl9hcHBDb25maWciLCJhcHAiLCJzZXJ2aWNlIiwiY29udHJvbGxlciIsIkRldmljZURldGFpbHNDb21tYW5kc0N0cmwiLCJEZXZpY2VEZXRhaWxzQ3RybCIsIkRldmljZXNMaXN0aW5nQ3RybCIsIkFkbWluQ3RybCIsIkF1dGhlbnRpY2F0aW9uQ3RybCIsIkFwcENvbnRyb2xsZXIiLCJEaXN0cmlidXRvclNlbGVjdG9yQ3RybCIsIkRpc3RyaWJ1dG9yc0N0cmwiLCJEb21haW5zQ3RybCIsIkRvbWFpbkRldGFpbHNDdHJsIiwiUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybCIsIlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybCIsIlByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwiLCJQcm9vZk9mUGxheUN0cmwiLCJUZW5hbnRMb2dzQ3RybCIsIlRlbmFudE92ZXJsYXlzQ3RybCIsIlRlbmFudEFkZEN0cmwiLCJUZW5hbnREZXRhaWxzQ3RybCIsIlRlbmFudExvY2F0aW9uQ3RybCIsIlRlbmFudExvY2F0aW9uc0N0cmwiLCJUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwiLCJUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCIsIlRlbmFudHNDdHJsIiwiV2VsY29tZUN0cmwiLCJydW4iLCJhcHBSdW4iLCJjb25maWciLCJyb3V0ZXMiLCJ0b2FzdHJDb25maWciLCJicmVhZGNydW1iUHJvdmlkZXIiLCJTdG9yYWdlU2VydmljZSIsIiRsb2NhdGlvbiIsImludGVyY2VwdG9yIiwicmVxdWVzdCIsImdzIiwicHJvZCIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJBY2NlcHQiLCJBdXRob3JpemF0aW9uIiwiaG9zdCIsImluZGV4T2YiLCJYLVByb3Zpc2lvbmluZy1Vc2VyIiwiZ2V0IiwiWC1Qcm92aXNpb25pbmctVXNlci1JZGVudGlmaWVyIiwiWC1Qcm92aXNpb25pbmctRGlzdHJpYnV0b3IiLCIkaHR0cFByb3ZpZGVyIiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsIjM2OCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJ1bmRlZmluZWQiLCJfYW5ndWxhciIsIl9hbmd1bGFyMiIsIl9hbmd1bGFyVWlSb3V0ZXIiLCJfYW5ndWxhclVpUm91dGVyMiIsIl9tb21lbnQiLCJfbG9kYXNoIiwiX2xvZGFzaDIiLCJ3aW5kb3ciLCJfIiwiYW5ndWxhciIsIjM3NCIsIndlYnBhY2tDb250ZXh0IiwicmVxIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwibWFwIiwiRXJyb3IiLCIuL2FmIiwiLi9hZi5qcyIsIi4vYXIiLCIuL2FyLWx5IiwiLi9hci1seS5qcyIsIi4vYXItbWEiLCIuL2FyLW1hLmpzIiwiLi9hci1zYSIsIi4vYXItc2EuanMiLCIuL2FyLXRuIiwiLi9hci10bi5qcyIsIi4vYXIuanMiLCIuL2F6IiwiLi9hei5qcyIsIi4vYmUiLCIuL2JlLmpzIiwiLi9iZyIsIi4vYmcuanMiLCIuL2JuIiwiLi9ibi5qcyIsIi4vYm8iLCIuL2JvLmpzIiwiLi9iciIsIi4vYnIuanMiLCIuL2JzIiwiLi9icy5qcyIsIi4vY2EiLCIuL2NhLmpzIiwiLi9jcyIsIi4vY3MuanMiLCIuL2N2IiwiLi9jdi5qcyIsIi4vY3kiLCIuL2N5LmpzIiwiLi9kYSIsIi4vZGEuanMiLCIuL2RlIiwiLi9kZS1hdCIsIi4vZGUtYXQuanMiLCIuL2RlLmpzIiwiLi9kdiIsIi4vZHYuanMiLCIuL2VsIiwiLi9lbC5qcyIsIi4vZW4tYXUiLCIuL2VuLWF1LmpzIiwiLi9lbi1jYSIsIi4vZW4tY2EuanMiLCIuL2VuLWdiIiwiLi9lbi1nYi5qcyIsIi4vZW4taWUiLCIuL2VuLWllLmpzIiwiLi9lbi1ueiIsIi4vZW4tbnouanMiLCIuL2VvIiwiLi9lby5qcyIsIi4vZXMiLCIuL2VzLWRvIiwiLi9lcy1kby5qcyIsIi4vZXMuanMiLCIuL2V0IiwiLi9ldC5qcyIsIi4vZXUiLCIuL2V1LmpzIiwiLi9mYSIsIi4vZmEuanMiLCIuL2ZpIiwiLi9maS5qcyIsIi4vZm8iLCIuL2ZvLmpzIiwiLi9mciIsIi4vZnItY2EiLCIuL2ZyLWNhLmpzIiwiLi9mci1jaCIsIi4vZnItY2guanMiLCIuL2ZyLmpzIiwiLi9meSIsIi4vZnkuanMiLCIuL2dkIiwiLi9nZC5qcyIsIi4vZ2wiLCIuL2dsLmpzIiwiLi9oZSIsIi4vaGUuanMiLCIuL2hpIiwiLi9oaS5qcyIsIi4vaHIiLCIuL2hyLmpzIiwiLi9odSIsIi4vaHUuanMiLCIuL2h5LWFtIiwiLi9oeS1hbS5qcyIsIi4vaWQiLCIuL2lkLmpzIiwiLi9pcyIsIi4vaXMuanMiLCIuL2l0IiwiLi9pdC5qcyIsIi4vamEiLCIuL2phLmpzIiwiLi9qdiIsIi4vanYuanMiLCIuL2thIiwiLi9rYS5qcyIsIi4va2siLCIuL2trLmpzIiwiLi9rbSIsIi4va20uanMiLCIuL2tvIiwiLi9rby5qcyIsIi4va3kiLCIuL2t5LmpzIiwiLi9sYiIsIi4vbGIuanMiLCIuL2xvIiwiLi9sby5qcyIsIi4vbHQiLCIuL2x0LmpzIiwiLi9sdiIsIi4vbHYuanMiLCIuL21lIiwiLi9tZS5qcyIsIi4vbWkiLCIuL21pLmpzIiwiLi9tayIsIi4vbWsuanMiLCIuL21sIiwiLi9tbC5qcyIsIi4vbXIiLCIuL21yLmpzIiwiLi9tcyIsIi4vbXMtbXkiLCIuL21zLW15LmpzIiwiLi9tcy5qcyIsIi4vbXkiLCIuL215LmpzIiwiLi9uYiIsIi4vbmIuanMiLCIuL25lIiwiLi9uZS5qcyIsIi4vbmwiLCIuL25sLmpzIiwiLi9ubiIsIi4vbm4uanMiLCIuL3BhLWluIiwiLi9wYS1pbi5qcyIsIi4vcGwiLCIuL3BsLmpzIiwiLi9wdCIsIi4vcHQtYnIiLCIuL3B0LWJyLmpzIiwiLi9wdC5qcyIsIi4vcm8iLCIuL3JvLmpzIiwiLi9ydSIsIi4vcnUuanMiLCIuL3NlIiwiLi9zZS5qcyIsIi4vc2kiLCIuL3NpLmpzIiwiLi9zayIsIi4vc2suanMiLCIuL3NsIiwiLi9zbC5qcyIsIi4vc3EiLCIuL3NxLmpzIiwiLi9zciIsIi4vc3ItY3lybCIsIi4vc3ItY3lybC5qcyIsIi4vc3IuanMiLCIuL3NzIiwiLi9zcy5qcyIsIi4vc3YiLCIuL3N2LmpzIiwiLi9zdyIsIi4vc3cuanMiLCIuL3RhIiwiLi90YS5qcyIsIi4vdGUiLCIuL3RlLmpzIiwiLi90aCIsIi4vdGguanMiLCIuL3RsLXBoIiwiLi90bC1waC5qcyIsIi4vdGxoIiwiLi90bGguanMiLCIuL3RyIiwiLi90ci5qcyIsIi4vdHpsIiwiLi90emwuanMiLCIuL3R6bSIsIi4vdHptLWxhdG4iLCIuL3R6bS1sYXRuLmpzIiwiLi90em0uanMiLCIuL3VrIiwiLi91ay5qcyIsIi4vdXoiLCIuL3V6LmpzIiwiLi92aSIsIi4vdmkuanMiLCIuL3gtcHNldWRvIiwiLi94LXBzZXVkby5qcyIsIi4vemgtY24iLCIuL3poLWNuLmpzIiwiLi96aC1oayIsIi4vemgtaGsuanMiLCIuL3poLXR3IiwiLi96aC10dy5qcyIsImtleXMiLCJyZXNvbHZlIiwiaWQiLCI1MjQiLCJhIiwiYiIsImMiLCJkIiwiZSIsInRoaXMiLCJhdXRvU3R5bGUiLCJjb3VudCIsImhlaWdodCIsIiRzY29wZSIsIiRuZXciLCJjb2xvciIsInBhcmVudCIsImZpbmQiLCJwcm9ncmVzc2JhckVsIiwiYXBwZW5kQ2hpbGQiLCJlcSIsImNoaWxkcmVuIiwiY3NzIiwiaW50ZXJ2YWxDb3VudGVySWQiLCJzdGFydCIsInNob3ciLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJpc05hTiIsImhpZGUiLCJyZW1haW5pbmciLCJNYXRoIiwicG93Iiwic3FydCIsInVwZGF0ZUNvdW50IiwiJCRwaGFzZSIsIiRhcHBseSIsInNldEhlaWdodCIsInNldENvbG9yIiwiYW5pbWF0ZSIsImFuaW1hdGlvbiIsImNhbmNlbCIsInN0YXR1cyIsInN0b3AiLCJzZXQiLCJyZXNldCIsImNvbXBsZXRlIiwic2V0UGFyZW50IiwicmVtb3ZlQ2hpbGQiLCJnZXREb21FbGVtZW50Iiwic2V0QWJzb2x1dGUiLCJmYWN0b3J5IiwiY3JlYXRlSW5zdGFuY2UiLCJpbnN0YW50aWF0ZSIsImRpcmVjdGl2ZSIsInJlcGxhY2UiLCJyZXN0cmljdCIsImxpbmsiLCIkd2F0Y2giLCJjb3VudGVyIiwidGVtcGxhdGUiLCI1MjUiLCJjb250ZW50IiwibG9jYWxzIiwiNTI2IiwiNTI3IiwiX3R5cGVvZjIiLCJfdHlwZW9mMyIsImVxdWFscyIsImxlbmd0aCIsIm1hdGNoIiwic3RhdGUiLCJwYXJhbUV4cHIiLCJmIiwicHJlZml4U3RhdGVOYW1lIiwidGVtcGxhdGVVcmwiLCJpbmNsdWRlQWJzdHJhY3QiLCJzZXRPcHRpb25zIiwiZXh0ZW5kIiwiJGdldCIsImciLCJoIiwiJG9uIiwidGFyZ2V0U2NvcGUiLCJuY3lCcmVhZGNydW1iSWdub3JlIiwiJGlkIiwiaSIsImV4ZWMiLCJuYW1lIiwiaiIsImsiLCJsIiwibSIsIm4iLCJuY3lCcmVhZGNydW1iIiwiZm9yY2UiLCJza2lwIiwiJGV2YWwiLCJuY3lCcmVhZGNydW1iTGluayIsImhyZWYiLCJ1bnNoaWZ0IiwiZ2V0VGVtcGxhdGUiLCJnZXRUZW1wbGF0ZVVybCIsImdldFN0YXRlc0NoYWluIiwiJGN1cnJlbnQiLCJzZWxmIiwiZ2V0TGFzdFN0ZXAiLCIkZ2V0TGFzdFZpZXdTY29wZSIsImJvb3RzdHJhcDIiLCJib290c3RyYXAzIiwic2NvcGUiLCJwb3N0Iiwic3RlcHMiLCJmb3JFYWNoIiwibGFiZWwiLCJuY3lCcmVhZGNydW1iTGFiZWwiLCJjb21waWxlIiwiYXR0ciIsIiRhdHRyIiwibmN5QnJlYWRjcnVtYkxhc3QiLCJodG1sIiwibmN5QnJlYWRjcnVtYlRleHQiLCJuY3lCcmVhZGNydW1iVGV4dFNlcGFyYXRvciIsIm5jeUJyZWFkY3J1bWJDaGFpbiIsImpvaW4iLCJleHByZXNzaW9ucyIsInBhcnRzIiwiaXNGdW5jdGlvbiIsImV4cCIsIiRpbmplY3QiLCJwcm92aWRlciIsIjU5NiIsImpRdWVyeSIsIl9tb21lbnQyIiwibW9tZW50IiwibW9kdWxlTmFtZSIsIlZJRVdfU1RBVEVTIiwiREFURSIsIkhPVVIiLCJNSU5VVEUiLCJlbCIsImVsZW1lbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwibG9jYWxlIiwic2V0RGVmYXVsdExvY2FsZSIsImxvY2FsZVN0cmluZyIsIiRtZERpYWxvZyIsInJlcXVpcmUiLCJjdXJyZW50RGF0ZSIsInRpbWUiLCJkYXRlIiwibWluRGF0ZSIsIm1heERhdGUiLCJzaG9ydFRpbWUiLCJmb3JtYXQiLCJjYW5jZWxUZXh0Iiwib2tUZXh0IiwibGFuZyIsImFtVGV4dCIsInBtVGV4dCIsImF0dHJzIiwibmdNb2RlbCIsImlzT24iLCJpc1N0cmluZyIsIiRmb3JtYXR0ZXJzIiwiaXNWYWxpZCIsIm9uIiwicHJldmVudERlZmF1bHQiLCJibHVyIiwib3B0aW9ucyIsImhhc093blByb3BlcnR5IiwiaXNVbmRlZmluZWQiLCJQbHVnaW5Db250cm9sbGVyIiwiY29udHJvbGxlckFzIiwib3BlbkZyb20iLCJkb2N1bWVudCIsImJvZHkiLCJiaW5kVG9Db250cm9sbGVyIiwiZGlzYWJsZVBhcmVudFNjcm9sbCIsInRoZW4iLCJ2IiwiX2QiLCJtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUiLCJjdXJyZW50VmlldyIsIl9kaWFsb2ciLCJfYXR0YWNoZWRFdmVudHMiLCJWSUVXUyIsInBhcmFtcyIsIndlZWtTdGFydCIsIm1lcmlkaWVuIiwiaW5pdCIsInByb3RvdHlwZSIsInRpbWVNb2RlIiwiZGF0ZU1vZGUiLCJpbml0RGF0ZXMiLCJjdXJyZW50TmVhcmVzdDVNaW51dGUiLCJtaW51dGVzIiwicm91bmQiLCJtaW51dGUiLCJ0aGF0IiwiX2RhdGVQYXJhbSIsImlucHV0IiwiZmFsbGJhY2siLCJyZXQiLCJpc0RlZmluZWQiLCJpc0RhdGUiLCJ4IiwiZ2V0VGltZSIsIl9pc0FNb21lbnRPYmplY3QiLCJzZWxlY3REYXRlIiwiaW5pdERhdGUiLCJpbml0SG91cnMiLCJpbml0TWludXRlcyIsImlzQWZ0ZXJNaW5EYXRlIiwiY2hlY2tIb3VyIiwiY2hlY2tNaW51dGUiLCJfcmV0dXJuIiwiX21pbkRhdGUiLCJfZGF0ZSIsImhvdXIiLCJzZWNvbmQiLCJtaWxsaXNlY29uZCIsInBhcnNlSW50IiwiaXNCZWZvcmVNYXhEYXRlIiwiY2hlY2tUaW1lIiwiX21heERhdGUiLCJjYWxlbmRhclN0YXJ0Iiwic2V0TmFtZSIsInRleHQiLCJwb3NzaWJsZSIsImNoYXJBdCIsImZsb29yIiwicmFuZG9tIiwiaXNQTSIsImluY3JlbWVudFllYXIiLCJhbW91bnQiLCJpc05leHRZZWFyVmlzaWJsZSIsImFkZCIsImlzUHJldmlvdXNZZWFyVmlzaWJsZSIsImlzUHJldmlvdXNNb250aFZpc2libGUiLCJzdGFydE9mIiwiaXNOZXh0TW9udGhWaXNpYmxlIiwiZW5kT2YiLCJpc0hvdXJBdmFpbGFibGUiLCJjb252ZXJ0SG91cnMiLCJpc01pbnV0ZUF2YWlsYWJsZSIsIm9rIiwic2VsZWN0TW9udGhCZWZvcmUiLCJzdWJ0cmFjdCIsInNlbGVjdE1vbnRoQWZ0ZXIiLCJzZWxlY3RZZWFyQmVmb3JlIiwic2VsZWN0WWVhckFmdGVyIiwic2VsZWN0QU0iLCJzZWxlY3RQTSIsIm9rQnRuIiwiWUVBUl9NSU4iLCJZRUFSX01BWCIsIk1PTlRIU19JTl9BTEwiLCJJVEVNX0hFSUdIVCIsIk1PTlRIUyIsImN1cnJlbnRNb250aEluZGV4IiwieWVhciIsIm1vbnRoIiwicGlja2VyIiwiY2FsZW5kYXIiLCJkYXlzIiwidG9TdHJpbmciLCJ3ZWVrIiwibG93IiwiaGlnaCIsIm1vbnRocyIsInNsaWNlIiwiZ2V0SXRlbUF0SW5kZXgiLCJpbmRleCIsIm1vbnRoT2JqIiwiZ2VuZXJhdGVNb250aENhbGVuZGFyIiwidG9wSW5kZXgiLCJ2YWwyIiwidmFsMSIsIm5EYXRlIiwic3RhcnRPZk1vbnRoIiwiaU51bURheSIsImRheXNJbk1vbnRoIiwiaVdlZWsiLCJkYXlzSW5BV2VlayIsImRheXNUbXAiLCJzbGljZXMiLCJjZWlsIiwidG9EYXkiLCJzdWJzdHJpbmciLCJpc0luUmFuZ2UiLCJpc1NlbGVjdGVkRGF5IiwiJGNvbXBpbGUiLCJidWlsZENhbGVuZGFyQ29udGVudCIsInRib2R5IiwicXVlcnlTZWxlY3RvciIsImNhbCIsIndlZWtEYXlzIiwidHIiLCJ3ZWVrRGF5IiwidGQiLCJhT3JTcGFuIiwic2NvcGVSZWYiLCJhZGRDbGFzcyIsImFwcGVuZCIsImlkeCIsIm9sZElkeCIsIm1pbnV0ZU1vZGUiLCJtb2RlIiwiY29tcG9uZW50Um9vdCIsImNsb2NrIiwicGlja2VyRWwiLCJ3Iiwib2Zmc2V0V2lkdGgiLCJwbCIsInByIiwibWwiLCJtciIsImNsb2NrV2lkdGgiLCJwTCIsInBUIiwibUwiLCJtVCIsInIiLCJwb2ludHMiLCJzaW4iLCJQSSIsInkiLCJjb3MiLCJsZWZ0IiwidG9wIiwiZGlzcGxheSIsInNldEN1cnJlbnRWYWx1ZSIsImNsb2NrQ2VudGVyIiwiY2VudGVyV2lkdGgiLCJjZW50ZXJIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJfaEwiLCJfbUwiLCJtYXJnaW5Ub3AiLCJhbmltYXRlSGFuZHMiLCJyb3RhdGVFbGVtZW50IiwibWRnIiwiZGVnIiwiV2Via2l0VHJhbnNmb3JtIiwiLW1vei10cmFuc2Zvcm0iLCJjdXJyZW50VmFsdWUiLCJ0bXAiLCJuZXdWYWwiLCJzZXREaXNwbGF5UG9pbnRzIiwiY29weSIsInNldFRpbWUiLCJ2YWwiLCJwb2ludEF2YWlsYWJsZSIsInBvaW50IiwidW53YXRjaGVyIiwicXVlcnlTZWxlY3RvckFsbCIsImNhbGwiLCI1OTciLCI1OTgiLCI1OTkiLCJfZ2V0T3duUHJvcGVydHlOYW1lcyIsIl9nZXRPd25Qcm9wZXJ0eU5hbWVzMiIsIiR3aW5kb3ciLCJlbmRpbmciLCJ0cmFuc2NsdWRlIiwiY3RybCIsImxpbmtlciIsImNsaWVudGlkIiwidGVzdCIsIiRzZXQiLCJ0aGVtZSIsImRlZmF1bHRzIiwiY2FsbGJhY2siLCJjb29raWVwb2xpY3kiLCJyZXF1ZXN0dmlzaWJsZWFjdGlvbnMiLCJ3aWR0aCIsInByb3BOYW1lIiwiJG9ic2VydmUiLCJfX19nY2ZnIiwicG8iLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImFzeW5jIiwic3JjIiwicyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInRTY29wZSIsIm9ubG9hZCIsImdhcGkiLCJzaWduaW4iLCJyZW5kZXIiLCIkcm9vdFNjb3BlIiwic2lnbmluQ2FsbGJhY2siLCJhdXRoUmVzdWx0IiwiYWNjZXNzX3Rva2VuIiwiJGJyb2FkY2FzdCIsIjY0MyIsIjY0NCIsIjY0NSIsIjY0NiIsIjY0OCIsIiRsb2ciLCIkc3RhdGVQYXJhbXMiLCIkc3RhdGUiLCJTZXNzaW9uc1NlcnZpY2UiLCJEZXZpY2VzU2VydmljZSIsIkxvY2F0aW9uc1NlcnZpY2UiLCJDb21tYW5kc1NlcnZpY2UiLCJUaW1lem9uZXNTZXJ2aWNlIiwic3dlZXQiLCJQcm9ncmVzc0JhclNlcnZpY2UiLCJUb2FzdHNTZXJ2aWNlIiwiJHRpbWVvdXQiLCJ2bSIsInRlbmFudEtleSIsImRldmljZUtleSIsImZyb21EZXZpY2VzIiwiY3VycmVudERldmljZSIsImNvbW1hbmRFdmVudHMiLCJnZW5lcmF0ZUxvY2FsRnJvbVVUQyIsIlVUQ1RpbWUiLCJsb2NhbFRpbWUiLCJ1dGMiLCJ0b0RhdGUiLCJyZXBsYWNlQ29tbWFuZFRpbWUiLCJpc3N1ZXMiLCJlYWNoIiwicG9zdGVkVGltZSIsImNvbmZpcm1lZFRpbWUiLCJnZXRFdmVudHMiLCJwcmV2IiwibmV4dCIsImNvbW1hbmRFdmVudHNQcm9taXNlIiwiZ2V0Q29tbWFuZEV2ZW50c0J5S2V5IiwiZGF0YSIsImV2ZW50cyIsImV2ZW50X25leHRfY3Vyc29yIiwibmV4dF9jdXJzb3IiLCJldmVudF9wcmV2X2N1cnNvciIsInByZXZfY3Vyc29yIiwiZ2V0RXZlbnRzVGltZU91dCIsImNvbW1hbmRIaXN0b3J5U2VsZWN0ZWQiLCJwYWdpbmF0ZUV2ZW50Q2FsbCIsImZvcndhcmQiLCJpbml0aWFsaXplIiwiZGV2aWNlUHJvbWlzZSIsImdldERldmljZUJ5S2V5IiwicmVzcG9uc2UiLCJvbkdldERldmljZVN1Y2Nlc3MiLCJvbkdldERldmljZUZhaWx1cmUiLCJ0aW1lem9uZSIsInNlbGVjdGVkVGltZXpvbmUiLCJiYWNrVXJsIiwiYmFja1VybFRleHQiLCJpc1VubWFuYWdlZERldmljZSIsInNob3dFcnJvclRvYXN0IiwiZXJyb3JNZXNzYWdlIiwic3RhdHVzVGV4dCIsImVycm9yIiwiZ28iLCJvblJlc2V0Q29udGVudCIsInByb21pc2UiLCJjb250ZW50RGVsZXRlIiwib25SZXNldENvbnRlbnRTdWNjZXNzIiwib25SZXNldENvbnRlbnRGYWlsdXJlIiwic2hvd1N1Y2Nlc3NUb2FzdCIsIm9uVXBkYXRlQ29udGVudCIsImNvbnRlbnRVcGRhdGUiLCJvblVwZGF0ZUNvbnRlbnRTdWNjZXNzIiwib25VcGRhdGVDb250ZW50RmFpbHVyZSIsIm9uUmVzZXRQbGF5ZXIiLCJvblJlc2V0UGxheWVyU3VjY2VzcyIsIm9uUmVzZXRQbGF5ZXJGYWlsdXJlIiwib25QYW5lbE9uIiwicG93ZXJPbiIsIm9uUGFuZWxPblN1Y2Nlc3MiLCJvblBhbmVsT25GYWlsdXJlIiwib25QYW5lbE9mZiIsInBvd2VyT2ZmIiwib25QYW5lbE9mZlN1Y2Nlc3MiLCJvblBhbmVsT2ZmRmFpbHVyZSIsIm9uVXBkYXRlRGV2aWNlIiwidXBkYXRlRGV2aWNlIiwib25VcGRhdGVEZXZpY2VTdWNjZXNzIiwib25VcGRhdGVEZXZpY2VGYWlsdXJlIiwib25Wb2x1bWVDaGFuZ2UiLCJ2b2x1bWUiLCJvblZvbHVtZUNoYW5nZVN1Y2Nlc3MiLCJvblZvbHVtZUNoYW5nZUZhaWx1cmUiLCJsZXZlbCIsIm9uQ3VzdG9tQ29tbWFuZCIsImN1c3RvbSIsIm9uQ3VzdG9tQ29tbWFuZFN1Y2Nlc3MiLCJvbkN1c3RvbUNvbW1hbmRGYWlsdXJlIiwiY29tbWFuZCIsIm9uRGlhZ25vc3RpY3NUb2dnbGUiLCJ0b2dnbGVEaWFnbm9zdGljcyIsIm9uVG9nZ2xlRGlhZ25vc3RpY3NTdWNjZXNzIiwib25Ub2dnbGVEaWFnbm9zdGljc0ZhaWx1cmUiLCJvblJlc3RhcnQiLCJyZXN0YXJ0Iiwib25SZXN0YXJ0U3VjY2VzcyIsIm9uUmVzdGFydEZhaWx1cmUiLCJvblBvc3RMb2ciLCJwb3N0TG9nIiwib25Qb3N0TG9nU3VjY2VzcyIsIm9uUG9zdExvZ0ZhaWx1cmUiLCI2NDkiLCJUZW5hbnRzU2VydmljZSIsIkludGVncmF0aW9uRXZlbnRzIiwiRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UiLCJJbWFnZVNlcnZpY2UiLCJsb2NhdGlvbnMiLCJkYXlSYW5nZSIsInRpbWV6b25lcyIsIl9EYXRlTWFuaXB1bGF0aW9uU2VydiIsImNyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheSIsIl9EYXRlTWFuaXB1bGF0aW9uU2VydjIiLCJfc2xpY2VkVG9BcnJheTMiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiZW5yb2xsbWVudEV2ZW50cyIsImxvZ29DaGFuZ2UiLCJjb250cm9sc01vZGVPcHRpb25zIiwib3ZlcmxheUNoYW5nZWQiLCJjaGVja0Zvck92ZXJsYXlDaGFuZ2VzIiwiY2hhbmdlZCIsImN1cnJlbnREZXZpY2VPdmVybGF5cyIsIm92ZXJsYXlzIiwiY3VycmVudERldmljZUNvcHlPdmVybGF5cyIsImN1cnJlbnREZXZpY2VDb3B5IiwicG9zaXRpb25zIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9nZXRJdGVyYXRvcjMiLCJkb25lIiwicG9zIiwic2l6ZSIsImVyciIsInJldmVydFRvVGVuYW50T3ZlcmxheSIsImV2IiwibG9hZGluZ092ZXJsYXlzIiwidGVuYW50UHJvbWlzZSIsImdldFRlbmFudEJ5S2V5IiwidGVuYW50IiwiY3VycmVudFRlbmFudE92ZXJsYXlzIiwia2V5Iiwic2F2ZU92ZXJsYXlTZXR0aW5ncyIsImJvdHRvbV9sZWZ0IiwiYm90dG9tX3JpZ2h0IiwidG9wX3JpZ2h0IiwidG9wX2xlZnQiLCJyZXMiLCJhZGp1c3RDb250cm9sc01vZGUiLCJjb250cm9sc01vZGUiLCJjb250cm9sc1Byb21pc2UiLCJhZGp1c3RPdmVybGF5U3RhdHVzIiwib3ZlcmxheVN0YXR1cyIsInNhdmUiLCJzdWJtaXRPdmVybGF5U2V0dGluZ3MiLCJvdmVybGF5U2V0dGluZ3MiLCJnZXRUZW5hbnRJbWFnZXNBbmRSZWZyZXNoRGV2aWNlIiwiZ2V0VGVuYW50SW1hZ2VzIiwiT1ZFUkxBWV9UWVBFUyIsInJlYWxOYW1lIiwibmV3IiwiaW1hZ2Vfa2V5IiwiZ2V0SW1hZ2VzIiwidGVuYW50SW1hZ2VzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiX2FyciIsIl9pIiwic2l6ZU9wdGlvbiIsIm5ld1ZhbHVlIiwic29ydCIsIl9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyIiwicmVwbGFjZUlzc3VlVGltZSIsImNyZWF0ZWQiLCJ1cGRhdGVkIiwibG9jYWxGcm9tVXRjIiwidXRjVGltZXN0YW1wIiwiY29weURldmljZUtleSIsImNvcHlDb3JyZWxhdGlvbklkZW50aWZpZXIiLCJnZXRJc3N1ZXMiLCJkZXZpY2UiLCJlcG9jaFN0YXJ0IiwiZXBvY2hFbmQiLCJpc3N1ZXNQcm9taXNlIiwiZ2V0SXNzdWVzQnlLZXkiLCJnZXRFbnJvbGxtZW50RXZlbnRzIiwiZW5yb2xsbWVudEV2ZW50c1Byb21pc2UiLCJwYWdpbmF0ZUNhbGwiLCJ1bml4IiwidGltZXpvbmVQcm9taXNlIiwiZ2V0Q3VzdG9tVGltZXpvbmVzIiwicGFuZWxNb2RlbHMiLCJnZXRQYW5lbE1vZGVscyIsInBhbmVsSW5wdXRzIiwiZ2V0UGFuZWxJbnB1dHMiLCJsb2NhdGlvbnNQcm9taXNlIiwiZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXkiLCJzZXRTZWxlY3RlZE9wdGlvbnMiLCJwYW5lbE1vZGVsIiwicGFuZWxJbnB1dCIsImlzUGFyZW50IiwicGFyZW50SWQiLCJ0b0xvd2VyQ2FzZSIsImxvY2F0aW9uS2V5IiwibG9jYXRpb24iLCJvblNhdmVEZXZpY2UiLCJwYW5lbE1vZGVsTnVtYmVyIiwicGFuZWxTZXJpYWxJbnB1dCIsIm9uU3VjY2Vzc0RldmljZVNhdmUiLCJvbkZhaWx1cmVEZXZpY2VTYXZlIiwiaW5mbyIsIm9uUGFuZWxTbGVlcCIsInBhbmVsU2xlZXAiLCJvblBhbmVsU2xlZXBTdWNjZXNzIiwib25QYW5lbFNsZWVwRmFpbHVyZSIsImNvbmZpcm1EZXZpY2VEZWxldGUiLCJldmVudCIsImNvbmZpcm0iLCJ0aXRsZSIsInRleHRDb250ZW50IiwidGFyZ2V0RXZlbnQiLCJzaG93UHJvbWlzZSIsInN1Y2Nlc3MiLCJvbkNvbmZpcm1EZWxldGUiLCJmYWlsdXJlIiwib25Db25maXJtQ2FuY2VsIiwiZnJpZW5kbHlNZXNzYWdlIiwiZGVsZXRlUHJvbWlzZSIsInNob3dJbmZvVG9hc3QiLCJvblByb29mT2ZQbGF5TG9nZ2luZ0NoZWNrIiwicHJvb2ZPZlBsYXlMb2dnaW5nIiwibm9Mb2NhdGlvbiIsIm5vRGlzcGxheUNvZGUiLCJjdXN0b21lckRpc3BsYXlDb2RlIiwib25VcGRhdGVMb2NhdGlvbiIsImF1dG9HZW5lcmF0ZUN1c3RvbWVyRGlzcGxheUNvZGUiLCJuZXdEaXNwbGF5Q29kZSIsImN1c3RvbWVyRGlzcGxheU5hbWUiLCJsb2dnbHlGb3JVc2VyIiwidXNlckRvbWFpbiIsImdldFVzZXJFbWFpbCIsInNwbGl0Iiwib25DbGlja1JlZnJlc2hCdXR0b24iLCJjb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkiLCJvblJlZnJlc2hJc3N1ZXNTdWNjZXNzIiwib25SZWZyZXNoSXNzdWVzRmFpbHVyZSIsIl9nZXRJdGVyYXRvcjIiLCJfc2xpY2VkVG9BcnJheTIiLCJfamF2YXNjcmlwdE5hdHVyYWxTb3J0IiwiNjYwIiwiZGlzdHJpYnV0b3JLZXkiLCJkZXZpY2VzIiwiZGV2aWNlc1ByZXYiLCJkZXZpY2VzTmV4dCIsInNlbGVjdGVkQnV0dG9uIiwic2VyaWFsRGV2aWNlcyIsImRpc2FibGVkIiwibWFjRGV2aWNlcyIsImdjbWlkRGV2aWNlcyIsInVubWFuYWdlZFNlbGVjdGVkQnV0dG9uIiwidW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyIsInVubWFuYWdlZERpc2FibGVkIiwidW5tYW5hZ2VkRGV2aWNlc1ByZXYiLCJ1bm1hbmFnZWREZXZpY2VzTmV4dCIsInVubWFuYWdlZERldmljZXMiLCJ1bm1hbmFnZWRNYWNEZXZpY2VzIiwidW5tYW5hZ2VkR0NNaWREZXZpY2VzIiwiZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCIsImRldmljZXNUb01hdGNoT25NYW5hZ2VkIiwicmVmcmVzaE1hbmFnZWREZXZpY2VzIiwiZ2V0TWFuYWdlZERldmljZXMiLCJyZWZyZXNoVW5tYW5hZ2VkRGV2aWNlcyIsImdldFVubWFuYWdlZERldmljZXMiLCJjaGFuZ2VSYWRpbyIsInVubWFuYWdlZCIsInVubWFuYWdlZFNlYXJjaFRleHQiLCJzZWFyY2hUZXh0IiwiZWRpdEl0ZW0iLCJpdGVtIiwicHJlcGFyZUZvckVkaXRWaWV3IiwibWFjIiwic2VyaWFsIiwiZ2NtaWQiLCJjb250cm9sT3BlbkJ1dHRvbiIsImlzTWF0Y2giLCJ1bm1hbmFnZWREaXNhYmxlZEJ1dHRvbkxvYWRpbmciLCJkaXNhYmxlZEJ1dHRvbkxvYWRpbmciLCJpc1Jlc291cmNlVmFsaWQiLCJyZXNvdXJjZSIsImRldmljZXNUb01hdGNoT24iLCJmb3VuZE1hdGNoIiwic2VhcmNoRGV2aWNlcyIsInBhcnRpYWwiLCJidXR0b24iLCJieVRlbmFudCIsImRldmljZXNUb1JldHVybiIsImRldmljZXNQcm9taXNlIiwiZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3IiLCJnZXRGZXRjaFN1Y2Nlc3MiLCJnZXRGZXRjaEZhaWx1cmUiLCJ1bm1hbmFnZWREZXZpY2VzUHJvbWlzZSIsImdldFVubWFuYWdlZERldmljZXNCeURpc3RyaWJ1dG9yIiwiZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5IiwibWFuYWdlZCIsIjY2MSIsIkFkbWluU2VydmljZSIsIkRpc3RyaWJ1dG9yc1NlcnZpY2UiLCJzZWFyY2hlZFRlbmFudHMiLCJ0ZW5hbnRTZWFyY2hNYXRjaCIsInRlbmFudFNlYXJjaERpc2FibGVkIiwibG9hZGluZ0Rpc2FibGVkIiwibWF0Y2hEZXZpY2UiLCJkaXN0cmlidXRvciIsImdsb2JhbGx5Iiwic2VhcmNoQWxsVGVuYW50c0J5TmFtZSIsInRlbmFudF9uYW1lIiwiaXNUZW5hbnRWYWxpZCIsImVhY2hOYW1lIiwic2VhcmNoTWF0Y2giLCJnZXRBbGxEaXN0cmlidXRvcnMiLCJsb2FkaW5nQWxsRGlzdHJpYnV0b3JzIiwiZ2V0QWxsRGlzdHJpYnV0b3JzUHJvbWlzZSIsImFsbERpc3RyaWJ1dG9ycyIsIm1ha2VEaXN0cmlidXRvciIsImRpc3RyaWJ1dG9yTmFtZSIsImFkbWluRW1haWwiLCJmb3JtIiwiYXJpYUxhYmVsIiwibWFrZURpc3RyaWJ1dG9yUHJvbWlzZSIsIiRzZXRQcmlzdGluZSIsIiRzZXRVbnRvdWNoZWQiLCJtZXNzYWdlIiwic2V0VGltZW91dCIsImFkZFVzZXJUb0Rpc3RyaWJ1dG9yIiwidXNlckVtYWlsIiwiZGlzdHJpYnV0b3JBZG1pbiIsIndoaWNoRGlzdHJpYnV0b3IiLCJ3aXRoT3JXaXRob3V0IiwiZGlzdHJpYnV0b3JzQXNBZG1pbiIsImFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZSIsInVzZXIiLCJnZXRVc2Vyc09mRGlzdHJpYnV0b3IiLCJzd2l0Y2hEaXN0cmlidXRvciIsImxvYWRpbmdVc2Vyc09mRGlzdHJpYnV0b3IiLCJjdXJyZW50RGlzdHJpYnV0b3JLZXkiLCJ1c2Vyc29mRGlzdHJpYnV0b3JQcm9taXNlIiwidXNlcnNPZkRpc3RyaWJ1dG9yIiwiaXNBZG1pbiIsImdldElzQWRtaW4iLCJnZXREaXN0cmlidXRvcnNBc0FkbWluIiwiY3VycmVudERpc3RyaWJ1dG9yTmFtZSIsImdldEN1cnJlbnREaXN0cmlidXRvck5hbWUiLCJlZGl0VGVuYW50IiwiNjYyIiwiaWRlbnRpdHkiLCJQcm9vZlBsYXlTZXJ2aWNlIiwib25Hb29nbGVQbHVzU2lnbkluU3VjY2VzcyIsImdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkIiwicmVtb3ZlVXNlckluZm8iLCJsb2dpbiIsImxvZ2luU3VjY2VzcyIsImxvZ2luRmFpbHVyZSIsIm9uR29vZ2xlUGx1c1NpZ25JbkZhaWx1cmUiLCJpbml0aWFsaXplU2lnbkluIiwiY2xpZW50SWQiLCJPQVVUSF9DTElFTlRfSUQiLCJTVEFURSIsImluaXRpYWxpemVTaWduT3V0IiwicHJvY2VlZFRvU2lnbmVkT3V0IiwicHJvY2VlZFRvU2lnbkluIiwib25DbGlja0dvb2dsZVBsdXNTaWduSW4iLCI2NjMiLCIkbWRTaWRlbmF2IiwiY3VycmVudERpc3RyaWJ1dGVySW5EaXN0cmlidXRlckFkbWluTGlzdCIsImdldElkZW50aXR5IiwiZ2V0VXNlcktleSIsImVtYWlsIiwiYWRtaW4iLCJkaXN0cmlidXRvcl9hZG1pbiIsImFkbWluX29mX2N1cnJlbnRfZGlzdHJpYnV0b3IiLCJpc0N1cnJlbnRVUkxEaXN0cmlidXRvclNlbGVjdG9yIiwic2VhcmNoIiwicmVzdWx0IiwidG9nZ2xlU2lkZW5hdiIsInRvZ2dsZSIsImdvVG8iLCJzdGF0ZU5hbWUiLCJpc09wZW4iLCJjbG9zZSIsIjY5NiIsImRpc3RyaWJ1dG9ycyIsImN1cnJlbnREaXN0cmlidXRvciIsImxvYWRpbmciLCJsb2VhZGluZyIsImRpc3RyaWJ1dG9yc1Byb21pc2UiLCJmZXRjaEFsbEJ5VXNlciIsInNlbGVjdERpc3RyaWJ1dG9yIiwiNjk3IiwiNjk4IiwiRG9tYWluc1NlcnZpY2UiLCJkb21haW5zIiwiZmV0Y2hBbGxEb21haW5zIiwiZG9tYWluS2V5IiwiZGVsZXRlSXRlbSIsInNob3dDYW5jZWxCdXR0b24iLCJjb25maXJtQnV0dG9uQ29sb3IiLCJjb25maXJtQnV0dG9uVGV4dCIsImNsb3NlT25Db25maXJtIiwiNjk5IiwiY3VycmVudERvbWFpbiIsImltcGVyc29uYXRpb25fYWRtaW5fZW1haWxfYWRkcmVzcyIsImRpc3RyaWJ1dG9yX2tleSIsIm9yZ2FuaXphdGlvbl91bml0X3BhdGgiLCJhY3RpdmUiLCJkZXZpY2VzQWNjZXNzIiwib3JnVW5pdHNBY2Nlc3MiLCJ1c2Vyc0FjY2VzcyIsImN1cnJlbnREb21haW5zIiwiZWRpdE1vZGUiLCJkb21haW5Qcm9taXNlIiwiZ2V0RG9tYWluQnlLZXkiLCJjb25uZWN0aXZpdHlQcm9taXNlIiwiZ2V0RGlyZWN0b3J5QXBpQ29ubmVjdGl2aXR5SW5mb3JtYXRpb24iLCJvblN1Y2Nlc3NEZXRlcm1pbmluZ0Nvbm5lY3Rpdml0eSIsIm9uRmFpbHVyZURldGVybWluaW5nQ29ubmVjdGl2aXR5IiwiZGV2aWNlc0FjY2Vzc0V4Y2VwdGlvbiIsIm9yZ1VuaXRzQWNjZXNzRXhjZXB0aW9uIiwidXNlcnNBY2Nlc3NFeGNlcHRpb24iLCJvblNhdmVEb21haW4iLCJvblN1Y2Nlc3NTYXZlRG9tYWluIiwib25GYWlsdXJlU2F2ZURvbWFpbiIsIjcwMCIsInJhZGlvQnV0dG9uQ2hvaWNlcyIsImdyb3VwMSIsImdyb3VwMiIsInNlbGVjdGlvbiIsImRhdGVUaW1lU2VsZWN0aW9uIiwiZW5kIiwiZm9ybVZhbGlkaXR5Iiwic3RhcnRfZGF0ZSIsImVuZF9kYXRlIiwibm9fY2FjaGUiLCJkaXNhYmxlZFRlbmFudCIsInNlbGVjdGVkX2xvY2F0aW9ucyIsImdldEFsbExvY2F0aW9ucyIsImhhZF9zb21lX2l0ZW1zIiwicmVmcmVzaExvY2F0aW9ucyIsInNlbGVjdGVkSXRlbSIsImFkZFRvU2VsZWN0ZWRMb2NhdGlvbnMiLCJpc0xvY2F0aW9uVmFsaWQiLCJzcGxpY2UiLCJhcmVMb2NhdGlvbnNWYWxpZCIsImlzRGlzYWJsZWQiLCJxdWVyeVNlYXJjaCIsImlzUmFkaW9WYWxpZCIsIl9faW5fXyIsImlzU3RhcnREYXRlVmFsaWQiLCJEYXRlIiwiaXNFbmREYXRlVmFsaWQiLCJyZW1vdmVGcm9tU2VsZWN0ZWRMb2NhdGlvbiIsInN0YXJ0X2RhdGVfdW5peCIsImVuZF9kYXRlX3VuaXgiLCJzdWJtaXQiLCJkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2UiLCJkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zU3VtbWFyaXplZCIsInRlbmFudHMiLCJjdXJyZW50VGVuYW50IiwiaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0IiwiZ2V0QWxsVGVuYW50cyIsInJlc291cmNlcyIsImlzU2VsZWN0aW9uVmFsaWQiLCJzdWJtaXRUZW5hbnQiLCJuZWVkbGUiLCJoYXlzdGFjayIsIjcwMSIsImRpc3BsYXlzIiwic2VsZWN0ZWRfZGlzcGxheXMiLCJnZXRBbGxEaXNwbGF5cyIsInJlZnJlc2hEaXNwbGF5cyIsImFkZFRvU2VsZWN0ZWREaXNwbGF5cyIsImlzRGlzcGxheVZhbGlkIiwiYXJlRGlzcGxheXNWYWxpZCIsInJlbW92ZUZyb21TZWxlY3RlZERpc3BsYXkiLCJkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZSIsImRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzU3VtbWFyaXplZCIsIjcwMiIsInNlbGVjdGVkX3Jlc291cmNlcyIsImdldEFsbFJlc291cmNlcyIsImZ1bGxfcmVzb3VyY2VfbWFwIiwicmVzb3VyY2VfbmFtZSIsInJlZnJlc2hSZXNvdXJjZXMiLCJhZGRUb1NlbGVjdGVkUmVzb3VyY2VzIiwiYXJlUmVzb3VyY2VzVmFsaWQiLCJyZW1vdmVGcm9tU2VsZWN0ZWRSZXNvdXJjZSIsInJlc291cmNlc19hc19pZHMiLCJkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEZXZpY2UiLCJkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlIiwiNzAzIiwiY2hvc2VuX3RlbmFudCIsInJlZnJlc2hUZW5hbnRzIiwibWFrZUhUVFBVUkwiLCI3MDQiLCIkIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9jbGFzc0NhbGxDaGVjazMiLCJfY3JlYXRlQ2xhc3MyIiwiX2NyZWF0ZUNsYXNzMyIsIlJlc3Rhbmd1bGFyIiwidGVuYW50X3VybHNhZmVfa2V5Iiwib25lVXJsIiwiZ2V0TGlzdCIsImZvcm1EYXRhIiwiYWpheCIsInVybCIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJpbWFnZV91cmxzYWZlX2tleSIsInJlbW92ZSIsIjcxMCIsIlVTRVJfU0VSVklDRSIsIkRJU1RSSUJVVE9SX1NFUlZJQ0UiLCJhZG1pbl9lbWFpbCIsInBheWxvYWQiLCJjdXN0b21QT1NUIiwidXNlcl9lbWFpbCIsIjcxMSIsIkF1dGhvcml6YXRpb25TZXJ2aWNlIiwiJHEiLCJkZWZlcnJlZCIsImRlZmVyIiwidXNlcktleSIsInJlamVjdCIsImhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluIiwiNzEyIiwiU0VSVklDRV9OQU1FIiwiY3VzdG9tUFVUIiwiNzEzIiwiaXNNb21lbnQiLCJkYXlzQmFjayIsInN0YXJ0VGltZU1pZE5pZ2h0Iiwic3RhcnRUaW1lRW5kT2ZEYXkiLCJlbmRUaW1lTWlkTmlnaHQiLCI3MTQiLCIkaHR0cCIsInVyaUJhc2UiLCJtYWNBZGRyZXNzIiwiZGljdGlvbmFyeSIsInJlc3VsdHMiLCJwYXJ0aWFsU2VhcmNoIiwiX3RoaXMiLCJzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsQnlUZW5hbnQiLCJpc01hYyIsImlzR0NNaWQiLCJzZXJpYWxEZXZpY2VzRGljdCIsImNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoiLCJkZXZpY2VTZXJpYWxzT25seSIsInJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZSIsIl90aGlzMiIsInNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWwiLCJzZXJpYWxEZXZpY2VzT25seSIsIl90aGlzMyIsInNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxHbG9iYWxseSIsIl90aGlzNCIsInNlYXJjaERldmljZXNCeVBhcnRpYWxNYWNCeVRlbmFudCIsIm1hY0RldmljZXNEaWN0IiwiZGV2aWNlTWFjc09ubHkiLCJfdGhpczUiLCJzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjIiwiX3RoaXM2Iiwic2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0dsb2JhbGx5IiwiX3RoaXM3Iiwic2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCIsImdjbWlkRGV2aWNlc0RpY3QiLCJnY21pZERldmljZXNPbmx5IiwiX3RoaXM4Iiwic2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQiLCJHQ01pZERldmljZXNEaWN0IiwiX3RoaXM5Iiwic2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRHbG9iYWxseSIsImRldmljZURlZmVycmVkIiwiZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxHbG9iYWxseSIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlUZW5hbnQiLCJleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5RGlzdHJpYnV0b3IiLCJleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0dsb2JhbGx5IiwiZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvciIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRHbG9iYWxseSIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeVRlbmFudCIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeURpc3RyaWJ1dG9yIiwicmVqZWN0ZWRQcm9taXNlIiwiZGV2aWNlc1Jlc3VsdCIsInRoZUFycmF5IiwiZ2NtIiwic3RhcnRFcG9jaCIsImVuZEVwb2NoIiwibWFrZURldmljZXNCeVRlbmFudFVSTCIsInBhcnRpYWxfc2VyaWFsIiwicGFydGlhbF9tYWMiLCJwYXJ0aWFsX2djbWlkIiwibWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMIiwiYWxsIiwicHV0IiwiZGV2aWNlX3VybHNhZmVfa2V5Iiwib25lIiwiZGlzcGxheU5hbWUiLCI3MTUiLCJkb0dFVCIsImVudGl0eSIsInNldEN1cnJlbnREaXN0cmlidXRvck5hbWUiLCJzZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkiLCI3MTYiLCJkb21haW4iLCI3MTciLCJJZGVudGl0eVNlcnZpY2UiLCI3MTgiLCJDUkVBVEVfVEVOQU5UX0VWRU5UUyIsIkVOUk9MTE1FTlRfRVZFTlRTIiwicXVlcnkiLCJjdXN0b21HRVQiLCI3MTkiLCJjdXN0b21lcl9sb2NhdGlvbl9uYW1lIiwiY3VzdG9tR0VUTElTVCIsIjcyMCIsIm5nUHJvZ3Jlc3NGYWN0b3J5IiwicHJvZ3Jlc3NCYXIiLCI3MjEiLCJtYWtlSFRUUFJlcXVlc3QiLCJiaW5kIiwid2hlcmVfdG9fZ28iLCJhbGxSZXNvdXJjZXMiLCJvcGVuIiwiYWxsRGV2aWNlcyIsImFsbExvY2F0aW9ucyIsImxvd2VyY2FzZSIsImZpbHRlciIsImNyZWF0ZUZpbHRlckZvciIsIjcyMiIsInNldElkZW50aXR5IiwiY3JlZGVudGlhbHMiLCJhdXRoZW50aWNhdGlvblBheWxvYWQiLCJjbG9uZSIsImF1dGh1c2VyIiwiY2xpZW50X2lkIiwiY29kZSIsImlkX3Rva2VuIiwic2Vzc2lvbl9zdGF0ZSIsInBhc3N3b3JkIiwic2V0VXNlcktleSIsImlkZW50aXR5UHJvbWlzZSIsInNldERpc3RyaWJ1dG9ycyIsInNldERpc3RyaWJ1dG9yc0FzQWRtaW4iLCJzZXRJc0FkbWluIiwic2V0VXNlckVtYWlsIiwicmVtb3ZlQWxsIiwiNzIzIiwiX2xvY2tyIiwiX2xvY2tyMiIsInJtIiwiZmx1c2giLCI3MjUiLCJwYWdlX3NpemUiLCJvZmZzZXQiLCI3MjYiLCI3MjciLCJ0b2FzdHIiLCJhcmd1bWVudHMiLCI3MjgiLCJWZXJzaW9uc1NlcnZpY2UiLCI3MjkiLCJ0YWJJbmRleCIsImdldFRlbmFudENyZWF0ZUV2ZW50cyIsInRlbmFudENyZWF0ZUV2ZW50cyIsInRvVGFiIiwiZnJvbVRhYiIsIjczMCIsIm9uU3VjY2Vzc1Jlc29sdmluZ1RlbmFudCIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGVPdmVybGF5cyIsImdldFRlbmFudCIsImN1cnJlbnRUZW5hbnRDb3B5IiwidXBkYXRlT3ZlcmxheVByb21pc2VEZWZlcnJlZCIsInVwZGF0ZU92ZXJsYXlQcm9taXNlIiwiYXBwbHlUZW5hbnRPdmVybGF5Iiwib3ZlcmxheUFwcGx5VGVuYW50IiwiY3VycmVudFRlbmFudENvcHlPdmVybGF5cyIsInN1Ym1pdEltYWdlIiwic2VsZWN0ZWRMb2dvIiwiRm9ybURhdGEiLCJ2YWxpZEZpbGUiLCJsZkZpbGUiLCJmaWxlQXBpIiwic2F2ZUltYWdlIiwiZ2V0VGVuYW50SW1hZ2VzQW5kUmVsb2FkVGVuYW50QWZ0ZXJEZWxldGUiLCJ0ZW5hbnRJbWFnZVByb21pc2UiLCJkZWxldGVJbWFnZSIsInNob3dFcnJvclN0YXR1cyIsImRlZmF1bHRfdGltZXpvbmUiLCJvdmVybGF5c1VwZGF0ZUluUHJvZ3Jlc3MiLCI3MzEiLCJnYW1lU3RvcFNlcnZlciIsInRlbmFudF9jb2RlIiwiY29udGVudF9zZXJ2ZXJfdXJsIiwiY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsIiwiZG9tYWluX2tleSIsIm5vdGlmaWNhdGlvbl9lbWFpbHMiLCJwcm9vZl9vZl9wbGF5X2xvZ2dpbmciLCJwcm9vZl9vZl9wbGF5X3VybCIsIm91X2NyZWF0ZSIsInNlbGVjdGVkRG9tYWluIiwiZGlzdHJpYnV0b3JEb21haW5zIiwiZGlzdHJpYnV0b3JQcm9taXNlIiwiZ2V0QnlLZXkiLCJjb250ZW50X21hbmFnZXJfdXJsIiwicGxheWVyX2NvbnRlbnRfdXJsIiwiZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlIiwiZ2V0RG9tYWluc0J5S2V5Iiwib25DbGlja1NhdmVCdXR0b24iLCJvblN1Y2Nlc3NUZW5hbnRTYXZlIiwib25GYWlsdXJlVGVuYW50U2F2ZSIsImVycm9yT2JqZWN0IiwiYXV0b0dlbmVyYXRlVGVuYW50Q29kZSIsIm5ld1RlbmFudENvZGUiLCI3MzIiLCI3MzMiLCJsb2NhdGlvblByb21pc2UiLCJnZXRMb2NhdGlvbkJ5S2V5IiwibG9jYXRpb25OYW1lIiwiY3VzdG9tZXJMb2NhdGlvbk5hbWUiLCJmZXRjaFRlbmFudE5hbWUiLCJvblN1Y2Nlc3NVcGRhdGluZ0xvY2F0aW9uIiwib25GYWlsdXJlU2F2aW5nTG9jYXRpb24iLCJvblN1Y2Nlc3NTYXZpbmdMb2NhdGlvbiIsInRlbmFudF9rZXkiLCJ0ZW5hbnROYW1lIiwiYXV0b0dlbmVyYXRlQ3VzdG9tZXJMb2NhdGlvbkNvZGUiLCJuZXdDdXN0b21lckxvY2F0aW9uQ29kZSIsImN1c3RvbWVyTG9jYXRpb25Db2RlIiwiNzM0Iiwic2VhcmNoRGlzYWJsZWQiLCJnZXRMb2NhdGlvbnMiLCJnZXRMb2NhdGlvbnNCeVRlbmFudEtleVBhZ2luYXRlZCIsInNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSIsInNlYXJjaGVkVGVuYW50TG9jYXRpb25zIiwiaXNUZW5hbnRMb2NhdGlvblZhbGlkIiwiZWFjaExvY2F0aW9uTmFtZSIsIjczNSIsInRlbmFudERldmljZXMiLCJnZXREZXZpY2VzQnlUZW5hbnQiLCJyZWZyZXNoRGV2aWNlcyIsInByZXByYXRlRm9yRWRpdFZpZXciLCI3MzYiLCJnZXRVbm1hbmFnZWREZXZpY2VzQnlUZW5hbnQiLCI3MzciLCJnZXRUZW5hbnRzUGFnaW5hdGVkIiwiZmV0Y2hBbGxUZW5hbnRzUGFnaW5hdGVkIiwidG90YWwiLCJpc19maXJzdF9wYWdlIiwiaXNfbGFzdF9wYWdlIiwiNzM4IiwidmVyc2lvbl9kYXRhIiwiY2FwaXRhbGl6ZUZpcnN0TGV0dGVyIiwic3RyaW5nIiwidG9VcHBlckNhc2UiLCJnaXZlT3B0aW9uVG9DaGFuZ2VEaXN0cmlidXRvciIsImhhc19tdWx0aXBsZV9kaXN0cmlidXRvcnMiLCJjaGFuZ2VEaXN0cmlidXRvciIsImdldFZlcnNpb24iLCJnZXRWZXJzaW9ucyIsIjczOSIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiUmVzdGFuZ3VsYXJQcm92aWRlciIsIm5vdEF1dGhlbnRpY2F0ZWQiLCJhdXRoZW50aWNhdGVkIiwiZnVuY3Rpb24iLCJpc0FkbWluT3JEaXN0cmlidXRvckFkbWluIiwib3RoZXJ3aXNlIiwic2V0QmFzZVVybCIsImFkZFJlc3BvbnNlSW50ZXJjZXB0b3IiLCJvcGVyYXRpb24iLCJyZXNvdXJjZVR5cGUiLCJzZXRSZXN0YW5ndWxhckZpZWxkcyIsIjc0MCIsIiRpbmplY3RvciIsInN0YXRlQ2hhbmdlV2F0Y2giLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwicmVxdWVzdEludGVyY2VwdG9yIiwiYWRkUmVxdWVzdEludGVyY2VwdG9yIiwiZWxlbSIsIndoYXQiLCJhdXRoVG9rZW4iLCJzZXREZWZhdWx0SGVhZGVycyIsIjc0MSIsImNsb3NlQnV0dG9uIiwidGFwVG9EaXNtaXNzIiwibmV3ZXN0T25Ub3AiLCJwb3NpdGlvbkNsYXNzIiwidGltZU91dCIsIiRicmVhZGNydW1iUHJvdmlkZXIiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLEVBQ0EsU0FBU0MsRUFBUUMsUUFBU0MsR0FFL0JBLEVBQW9CLElBQ3BCRixFQUFPQyxRQUFVQyxFQUFvQixNQUtoQ0MsSUFDQSxTQUFTSCxFQUFRQyxRQUFTQyxHQ1poQyxZQXNJQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQXRJdkYsR0FBQUcsR0FBQU4sRUFBQSxLQUVBTyxFQUFBUCxFQUFBLEtBQ0FRLEVBQUFSLEVBQUEsS0FDQVMsRUFBQVQsRUFBQSxLQUVBVSxFQUFBVixFQUFBLEtBRUFXLEVBQUFYLEVBQUEsS0FFQVksRUFBQVosRUFBQSxLQUVBYSxFQUFBYixFQUFBLEtBQ0FjLEVBQUFkLEVBQUEsS0FFQWUsRUFBQWYsRUFBQSxLQUNBZ0IsRUFBQWhCLEVBQUEsS0FFQWlCLEVBQUFqQixFQUFBLEtBQ0FrQixFQUFBbEIsRUFBQSxLQUNBbUIsRUFBQW5CLEVBQUEsS0FD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VUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElB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QVcsY0FBZSxZQUFhLFlBQWEsYUFBYyxZNEQzaVExRXJXLE9BQU9DLGVBQWUvSCxRQUFTLGNBQzdCZ0ksT0FBTyxJQUVUaEksUUFMZ0JxRyxVNUQ2bFFWdTdDLElBQ0EsU0FBUzdoRCxFQUFRQyxRQUFTQyxHNkQ5bFFoQyxZQVlBLFNBQVNFLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBVmhGLFFBQVNvRyxHQUFhQSxHQUMzQjJCLGFBQVE2UyxPQUFPeFUsR0FDYnd3QyxhQUFhLEVBQ2I2SyxhQUFhLEVBQ2JDLGNBQWMsRUFDZEMsYUFBYSxFQUNiQyxjQUFlLG9CQUNmQyxRQUFTLE1BTU4sUUFBU3g3QyxHQUFtQnk3QyxHQUNqQ0EsRUFBb0JubkMsWUFDbEJILGdCQUFpQixPQUNqQmQsU0FBVSxlQWhCZGhTLE9BQU9DLGVBQWUvSCxRQUFTLGNBQzdCZ0ksT0FBTyxJQUVUaEksUUFIZ0J3RyxlQUloQnhHLFFBU2dCeUcsb0JBZmhCLElBQUF5QixHQUFBakksRUFBQSxLQVVJa0ksRUFBWWhJLEVBQXVCK0gsRUFFdkMxQixHQUFhMlgsU0FBVyxnQkFVeEIxWCxFQUFtQjBYLFNBQVciLCJmaWxlIjoiYXBwLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIndlYnBhY2tKc29ucChbMF0se1xuXG4vKioqLyAwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3MCk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjcpO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDM2Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfYXBwID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjgpO1xuXHRcblx0dmFyIF9kZXZpY2VEZXRhaWxDb21tYW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NDgpO1xuXHRcblx0dmFyIF9kZXZpY2VEZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NDkpO1xuXHRcblx0dmFyIF9kZXZpY2VzTGlzdGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjYwKTtcblx0XG5cdHZhciBfYWRtaW5Db250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NjEpO1xuXHRcblx0dmFyIF9hdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2Mik7XG5cdFxuXHR2YXIgX2FwcENvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2Myk7XG5cdFxuXHR2YXIgX2Rpc3RyaWJ1dG9yU2VsZWN0b3JDb250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTYpO1xuXHRcblx0dmFyIF9kaXN0cmlidXRvcnNDb250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTcpO1xuXHRcblx0dmFyIF9kb21haW5zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTgpO1xuXHRcblx0dmFyIF9kb21haW5EZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTkpO1xuXHRcblx0dmFyIF9tdWx0aUxvY2F0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDApO1xuXHRcblx0dmFyIF9tdWx0aURpc3BsYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMSk7XG5cdFxuXHR2YXIgX211bHRpUmVzb3VyY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMik7XG5cdFxuXHR2YXIgX3Byb29mT2ZQbGF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDMpO1xuXHRcblx0dmFyIF9pbWFnZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzA0KTtcblx0XG5cdHZhciBfaW1hZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW1hZ2UpO1xuXHRcblx0dmFyIF9hZG1pbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzEwKTtcblx0XG5cdHZhciBfYWRtaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWRtaW4pO1xuXHRcblx0dmFyIF9hdXRob3JpemF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTEpO1xuXHRcblx0dmFyIF9hdXRob3JpemF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F1dGhvcml6YXRpb24pO1xuXHRcblx0dmFyIF9jb21tYW5kcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzEyKTtcblx0XG5cdHZhciBfY29tbWFuZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tbWFuZHMpO1xuXHRcblx0dmFyIF9kYXRlbWFuaXB1bGF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTMpO1xuXHRcblx0dmFyIF9kYXRlbWFuaXB1bGF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RhdGVtYW5pcHVsYXRpb24pO1xuXHRcblx0dmFyIF9kZXZpY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTQpO1xuXHRcblx0dmFyIF9kZXZpY2VzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RldmljZXMpO1xuXHRcblx0dmFyIF9kaXN0cmlidXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNSk7XG5cdFxuXHR2YXIgX2Rpc3RyaWJ1dG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kaXN0cmlidXRvcnMpO1xuXHRcblx0dmFyIF9kb21haW5zMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzE2KTtcblx0XG5cdHZhciBfZG9tYWluczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb21haW5zMik7XG5cdFxuXHR2YXIgX2lkZW50aXR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTcpO1xuXHRcblx0dmFyIF9pZGVudGl0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pZGVudGl0eSk7XG5cdFxuXHR2YXIgX2ludGVncmF0aW9uRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTgpO1xuXHRcblx0dmFyIF9pbnRlZ3JhdGlvbkV2ZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnRlZ3JhdGlvbkV2ZW50cyk7XG5cdFxuXHR2YXIgX2xvY2F0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNzE5KTtcblx0XG5cdHZhciBfbG9jYXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvY2F0aW9ucyk7XG5cdFxuXHR2YXIgX3Byb2dyZXNzYmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjApO1xuXHRcblx0dmFyIF9wcm9ncmVzc2JhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9ncmVzc2Jhcik7XG5cdFxuXHR2YXIgX3Byb29mcGxheSA9IF9fd2VicGFja19yZXF1aXJlX18oNzIxKTtcblx0XG5cdHZhciBfcHJvb2ZwbGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb29mcGxheSk7XG5cdFxuXHR2YXIgX3Nlc3Npb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjIpO1xuXHRcblx0dmFyIF9zZXNzaW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXNzaW9ucyk7XG5cdFxuXHR2YXIgX3N0b3JhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyMyk7XG5cdFxuXHR2YXIgX3N0b3JhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RvcmFnZSk7XG5cdFxuXHR2YXIgX3RlbmFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyNSk7XG5cdFxuXHR2YXIgX3RlbmFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGVuYW50cyk7XG5cdFxuXHR2YXIgX3RpbWV6b25lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzI2KTtcblx0XG5cdHZhciBfdGltZXpvbmVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RpbWV6b25lcyk7XG5cdFxuXHR2YXIgX3RvYXN0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzI3KTtcblx0XG5cdHZhciBfdG9hc3RzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvYXN0cyk7XG5cdFxuXHR2YXIgX3ZlcnNpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjgpO1xuXHRcblx0dmFyIF92ZXJzaW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92ZXJzaW9ucyk7XG5cdFxuXHR2YXIgX3RlbmFudExvZ3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyOSk7XG5cdFxuXHR2YXIgX3RlbmFudE92ZXJsYXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzApO1xuXHRcblx0dmFyIF90ZW5hbnRBZGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczMSk7XG5cdFxuXHR2YXIgX3RlbmFudERldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczMik7XG5cdFxuXHR2YXIgX3RlbmFudExvY2F0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzMpO1xuXHRcblx0dmFyIF90ZW5hbnRMb2NhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczNCk7XG5cdFxuXHR2YXIgX3RlbmFudE1hbmFnZWREZXZpY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzUpO1xuXHRcblx0dmFyIF90ZW5hbnRVbm1hbmFnZWREZXZpY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzYpO1xuXHRcblx0dmFyIF90ZW5hbnRzMyA9IF9fd2VicGFja19yZXF1aXJlX18oNzM3KTtcblx0XG5cdHZhciBfd2VsY29tZUNvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczOCk7XG5cdFxuXHR2YXIgX2FwcFJvdXRlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzM5KTtcblx0XG5cdHZhciBfYXBwUnVuID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NDApO1xuXHRcblx0dmFyIF9hcHBDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0MSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly8gV2VsY29tZVxuXHRcblx0Ly8gU2VydmljZXNcblx0XG5cdC8vIFByb29mUGxheVxuXHRcblx0Ly8gRG9tYWluc1xuXHRcblx0Ly8gRGlzdHJpYnV0b3JzXG5cdFxuXHQvLyBBdXRoZW50aWNhdGlvblxuXHRcblx0Ly8gRGV2aWNlXG5cdF9hcHAuYXBwXG5cdC8vIFNlcnZpY2VzXG5cdC5zZXJ2aWNlKFwiU3RvcmFnZVNlcnZpY2VcIiwgX3N0b3JhZ2UyLmRlZmF1bHQpLnNlcnZpY2UoXCJBZG1pblNlcnZpY2VcIiwgX2FkbWluMi5kZWZhdWx0KS5zZXJ2aWNlKFwiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgX2F1dGhvcml6YXRpb24yLmRlZmF1bHQpLnNlcnZpY2UoXCJDb21tYW5kc1NlcnZpY2VcIiwgX2NvbW1hbmRzMi5kZWZhdWx0KS5zZXJ2aWNlKFwiRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2VcIiwgX2RhdGVtYW5pcHVsYXRpb24yLmRlZmF1bHQpLnNlcnZpY2UoXCJEZXZpY2VzU2VydmljZVwiLCBfZGV2aWNlczIuZGVmYXVsdCkuc2VydmljZShcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIiwgX2Rpc3RyaWJ1dG9yczIuZGVmYXVsdCkuc2VydmljZShcIkRvbWFpbnNTZXJ2aWNlXCIsIF9kb21haW5zMy5kZWZhdWx0KS5zZXJ2aWNlKFwiSWRlbnRpdHlTZXJ2aWNlXCIsIF9pZGVudGl0eTIuZGVmYXVsdCkuc2VydmljZShcIkludGVncmF0aW9uRXZlbnRzXCIsIF9pbnRlZ3JhdGlvbkV2ZW50czIuZGVmYXVsdCkuc2VydmljZShcIkxvY2F0aW9uc1NlcnZpY2VcIiwgX2xvY2F0aW9uczIuZGVmYXVsdCkuc2VydmljZShcIlByb2dyZXNzQmFyU2VydmljZVwiLCBfcHJvZ3Jlc3NiYXIyLmRlZmF1bHQpLnNlcnZpY2UoXCJQcm9vZlBsYXlTZXJ2aWNlXCIsIF9wcm9vZnBsYXkyLmRlZmF1bHQpLnNlcnZpY2UoXCJTZXNzaW9uc1NlcnZpY2VcIiwgX3Nlc3Npb25zMi5kZWZhdWx0KS5zZXJ2aWNlKFwiVGVuYW50c1NlcnZpY2VcIiwgX3RlbmFudHMyLmRlZmF1bHQpLnNlcnZpY2UoXCJUaW1lem9uZXNTZXJ2aWNlXCIsIF90aW1lem9uZXMyLmRlZmF1bHQpLnNlcnZpY2UoXCJUb2FzdHNTZXJ2aWNlXCIsIF90b2FzdHMyLmRlZmF1bHQpLnNlcnZpY2UoXCJWZXJzaW9uc1NlcnZpY2VcIiwgX3ZlcnNpb25zMi5kZWZhdWx0KS5zZXJ2aWNlKFwiSW1hZ2VTZXJ2aWNlXCIsIF9pbWFnZTIuZGVmYXVsdClcblx0Ly8gRGV2aWNlXG5cdC5jb250cm9sbGVyKFwiRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybFwiLCBfZGV2aWNlRGV0YWlsQ29tbWFuZC5EZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsKS5jb250cm9sbGVyKFwiRGV2aWNlRGV0YWlsc0N0cmxcIiwgX2RldmljZURldGFpbHMuRGV2aWNlRGV0YWlsc0N0cmwpLmNvbnRyb2xsZXIoXCJEZXZpY2VzTGlzdGluZ0N0cmxcIiwgX2RldmljZXNMaXN0aW5nLkRldmljZXNMaXN0aW5nQ3RybClcblx0Ly8gQWRtaW5cblx0LmNvbnRyb2xsZXIoXCJBZG1pbkN0cmxcIiwgX2FkbWluQ29udHJvbGxlci5BZG1pbkN0cmwpXG5cdC8vIEF1dGhlbnRpY2F0aW9uXG5cdC5jb250cm9sbGVyKFwiQXV0aGVudGljYXRpb25DdHJsXCIsIF9hdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIuQXV0aGVudGljYXRpb25DdHJsKVxuXHQvLyBBcHBcblx0LmNvbnRyb2xsZXIoXCJBcHBDb250cm9sbGVyXCIsIF9hcHBDb250cm9sbGVyLkFwcENvbnRyb2xsZXIpXG5cdC8vIERpc3RyaWJ1dG9yc1xuXHQuY29udHJvbGxlcihcIkRpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsXCIsIF9kaXN0cmlidXRvclNlbGVjdG9yQ29udHJvbGxlci5EaXN0cmlidXRvclNlbGVjdG9yQ3RybCkuY29udHJvbGxlcihcIkRpc3RyaWJ1dG9yc0N0cmxcIiwgX2Rpc3RyaWJ1dG9yc0NvbnRyb2xsZXIuRGlzdHJpYnV0b3JzQ3RybClcblx0Ly8gRG9tYWluc1xuXHQuY29udHJvbGxlcihcIkRvbWFpbnNDdHJsXCIsIF9kb21haW5zLkRvbWFpbnNDdHJsKS5jb250cm9sbGVyKFwiRG9tYWluRGV0YWlsc0N0cmxcIiwgX2RvbWFpbkRldGFpbHMuRG9tYWluRGV0YWlsc0N0cmwpXG5cdC8vIFByb29mUGxheVxuXHQuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmxcIiwgX211bHRpTG9jYXRpb24uUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybCkuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybFwiLCBfbXVsdGlEaXNwbGF5LlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybCkuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmxcIiwgX211bHRpUmVzb3VyY2UuUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybCkuY29udHJvbGxlcihcIlByb29mT2ZQbGF5Q3RybFwiLCBfcHJvb2ZPZlBsYXkuUHJvb2ZPZlBsYXlDdHJsKVxuXHQvLyBUZW5hbnRzXG5cdC5jb250cm9sbGVyKFwiVGVuYW50TG9nc0N0cmxcIiwgX3RlbmFudExvZ3MuVGVuYW50TG9nc0N0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnRPdmVybGF5c0N0cmxcIiwgX3RlbmFudE92ZXJsYXlzLlRlbmFudE92ZXJsYXlzQ3RybCkuY29udHJvbGxlcihcIlRlbmFudEFkZEN0cmxcIiwgX3RlbmFudEFkZC5UZW5hbnRBZGRDdHJsKS5jb250cm9sbGVyKFwiVGVuYW50RGV0YWlsc0N0cmxcIiwgX3RlbmFudERldGFpbHMuVGVuYW50RGV0YWlsc0N0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnRMb2NhdGlvbkN0cmxcIiwgX3RlbmFudExvY2F0aW9uLlRlbmFudExvY2F0aW9uQ3RybCkuY29udHJvbGxlcihcIlRlbmFudExvY2F0aW9uc0N0cmxcIiwgX3RlbmFudExvY2F0aW9ucy5UZW5hbnRMb2NhdGlvbnNDdHJsKS5jb250cm9sbGVyKFwiVGVuYW50TWFuYWdlZERldmljZXNDdHJsXCIsIF90ZW5hbnRNYW5hZ2VkRGV2aWNlcy5UZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybFwiLCBfdGVuYW50VW5tYW5hZ2VkRGV2aWNlcy5UZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCkuY29udHJvbGxlcihcIlRlbmFudHNDdHJsXCIsIF90ZW5hbnRzMy5UZW5hbnRzQ3RybClcblx0Ly8gV2VsY29tZVxuXHQuY29udHJvbGxlcihcIldlbGNvbWVDdHJsXCIsIF93ZWxjb21lQ29udHJvbGxlci5XZWxjb21lQ3RybClcblx0Ly8gYXBwUnVuIEJsb2NrXG5cdC5ydW4oX2FwcFJ1bi5hcHBSdW4pXG5cdC8vIENvbmZpZ1xuXHQuY29uZmlnKF9hcHBSb3V0ZXMucm91dGVzKS5jb25maWcoX2FwcENvbmZpZy50b2FzdHJDb25maWcpLmNvbmZpZyhfYXBwQ29uZmlnLmJyZWFkY3J1bWJQcm92aWRlcik7XG5cdFxuXHQvLyBSZXF1ZXN0IEludGVyY2VwdG9yXG5cdFxuXHQvLyBDb25maWdcblx0XG5cdC8vIFRlbmFudFxuXHRcblx0Ly8gQXBwXG5cdFxuXHQvLyBBZG1pblxuXHRfYXBwLmFwcC5zZXJ2aWNlKCdSZXF1ZXN0SW50ZXJjZXB0b3InLCBbXCJTdG9yYWdlU2VydmljZVwiLCBcIiRsb2NhdGlvblwiLCBmdW5jdGlvbiAoU3RvcmFnZVNlcnZpY2UsICRsb2NhdGlvbikge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIGludGVyY2VwdG9yID0ge1xuXHQgICAgcmVxdWVzdDogZnVuY3Rpb24gcmVxdWVzdChjb25maWcpIHtcblx0ICAgICAgdmFyIGdzID0gJzVYWkhCRjNtT3dxSmxZQWxHMU5lZVdYMENiNzJnJztcblx0ICAgICAgdmFyIHByb2QgPSAnNkMzNDY1ODhCRDRDNkQ3MjJBMTE2NUI0M0M1MUMnO1xuXHQgICAgICBjb25maWcuaGVhZGVycyA9IHtcblx0ICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHQgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdCAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTEgPyBncyA6IHByb2QsXG5cdCAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLVVzZXInOiBTdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJLZXknKSxcblx0ICAgICAgICAnWC1Qcm92aXNpb25pbmctVXNlci1JZGVudGlmaWVyJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyRW1haWwnKSxcblx0ICAgICAgICAnWC1Qcm92aXNpb25pbmctRGlzdHJpYnV0b3InOiBTdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScpXG5cdCAgICAgIH07XG5cdCAgICAgIHJldHVybiBjb25maWc7XG5cdCAgICB9XG5cdCAgfTtcblx0ICByZXR1cm4gaW50ZXJjZXB0b3I7XG5cdH1dKTtcblx0XG5cdF9hcHAuYXBwLmNvbmZpZyhbXCIkaHR0cFByb3ZpZGVyXCIsIGZ1bmN0aW9uICgkaHR0cFByb3ZpZGVyKSB7XG5cdCAgcmV0dXJuICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ1JlcXVlc3RJbnRlcmNlcHRvcicpO1xuXHR9XSk7XG5cbi8qKiovIH0sXG5cbi8qKiovIDM2ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmFwcCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfYW5ndWxhciA9IF9fd2VicGFja19yZXF1aXJlX18oMzY5KTtcblx0XG5cdHZhciBfYW5ndWxhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmd1bGFyKTtcblx0XG5cdHZhciBfYW5ndWxhclVpUm91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzEpO1xuXHRcblx0dmFyIF9hbmd1bGFyVWlSb3V0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5ndWxhclVpUm91dGVyKTtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzIpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNDc5KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNDgxKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNDgyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNDg2KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNDg4KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNDkwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNDkyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNTAwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNTAyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNTI0KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNTI1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNTI3KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNTk2KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNTk3KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNTk5KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjA0KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjA1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjExKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjIwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjIxKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjIzKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjI1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjI3KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjI5KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNTEyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjQwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzcwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjQxKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjQzKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjQ1KTtcblx0XG5cdHZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NDcpO1xuXHRcblx0dmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyBNYXRlcmlhbCBkZXNpZ24gY3NzXG5cdHdpbmRvdy5fID0gX2xvZGFzaDIuZGVmYXVsdDtcblx0Ly8gSW1wb3J0IGFuZ3VsYXJcblx0XG5cdHdpbmRvdy5hbmd1bGFyID0gX2FuZ3VsYXIyLmRlZmF1bHQ7XG5cdFxuXHR2YXIgYXBwID0gZXhwb3J0cy5hcHAgPSBfYW5ndWxhcjIuZGVmYXVsdC5tb2R1bGUoJ3NreWtpdFByb3Zpc2lvbmluZycsIFtfYW5ndWxhclVpUm91dGVyMi5kZWZhdWx0LCAnbmdBbmltYXRlJywgJzcyMGtiLnRvb2x0aXBzJywgJ25nQ29va2llcycsICduZ1Nhbml0aXplJywgJ3Jlc3Rhbmd1bGFyJywgJ3VpLmJvb3RzdHJhcCcsICduZ01hdGVyaWFsRGF0ZVBpY2tlcicsICdoU3dlZXRBbGVydCcsICduY3ktYW5ndWxhci1icmVhZGNydW1iJywgJ2RpcmVjdGl2ZS5nK3NpZ25pbicsICduZ1Byb2dyZXNzJywgJ25nTWF0ZXJpYWwnLCAnbmdjbGlwYm9hcmQnLCAndG9hc3RyJywgJ2xmTmdNZEZpbGVJbnB1dCddKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzc0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG1hcCA9IHtcblx0XHRcIi4vYWZcIjogMzc1LFxuXHRcdFwiLi9hZi5qc1wiOiAzNzUsXG5cdFx0XCIuL2FyXCI6IDM3Nixcblx0XHRcIi4vYXItbHlcIjogMzc3LFxuXHRcdFwiLi9hci1seS5qc1wiOiAzNzcsXG5cdFx0XCIuL2FyLW1hXCI6IDM3OCxcblx0XHRcIi4vYXItbWEuanNcIjogMzc4LFxuXHRcdFwiLi9hci1zYVwiOiAzNzksXG5cdFx0XCIuL2FyLXNhLmpzXCI6IDM3OSxcblx0XHRcIi4vYXItdG5cIjogMzgwLFxuXHRcdFwiLi9hci10bi5qc1wiOiAzODAsXG5cdFx0XCIuL2FyLmpzXCI6IDM3Nixcblx0XHRcIi4vYXpcIjogMzgxLFxuXHRcdFwiLi9hei5qc1wiOiAzODEsXG5cdFx0XCIuL2JlXCI6IDM4Mixcblx0XHRcIi4vYmUuanNcIjogMzgyLFxuXHRcdFwiLi9iZ1wiOiAzODMsXG5cdFx0XCIuL2JnLmpzXCI6IDM4Myxcblx0XHRcIi4vYm5cIjogMzg0LFxuXHRcdFwiLi9ibi5qc1wiOiAzODQsXG5cdFx0XCIuL2JvXCI6IDM4NSxcblx0XHRcIi4vYm8uanNcIjogMzg1LFxuXHRcdFwiLi9iclwiOiAzODYsXG5cdFx0XCIuL2JyLmpzXCI6IDM4Nixcblx0XHRcIi4vYnNcIjogMzg3LFxuXHRcdFwiLi9icy5qc1wiOiAzODcsXG5cdFx0XCIuL2NhXCI6IDM4OCxcblx0XHRcIi4vY2EuanNcIjogMzg4LFxuXHRcdFwiLi9jc1wiOiAzODksXG5cdFx0XCIuL2NzLmpzXCI6IDM4OSxcblx0XHRcIi4vY3ZcIjogMzkwLFxuXHRcdFwiLi9jdi5qc1wiOiAzOTAsXG5cdFx0XCIuL2N5XCI6IDM5MSxcblx0XHRcIi4vY3kuanNcIjogMzkxLFxuXHRcdFwiLi9kYVwiOiAzOTIsXG5cdFx0XCIuL2RhLmpzXCI6IDM5Mixcblx0XHRcIi4vZGVcIjogMzkzLFxuXHRcdFwiLi9kZS1hdFwiOiAzOTQsXG5cdFx0XCIuL2RlLWF0LmpzXCI6IDM5NCxcblx0XHRcIi4vZGUuanNcIjogMzkzLFxuXHRcdFwiLi9kdlwiOiAzOTUsXG5cdFx0XCIuL2R2LmpzXCI6IDM5NSxcblx0XHRcIi4vZWxcIjogMzk2LFxuXHRcdFwiLi9lbC5qc1wiOiAzOTYsXG5cdFx0XCIuL2VuLWF1XCI6IDM5Nyxcblx0XHRcIi4vZW4tYXUuanNcIjogMzk3LFxuXHRcdFwiLi9lbi1jYVwiOiAzOTgsXG5cdFx0XCIuL2VuLWNhLmpzXCI6IDM5OCxcblx0XHRcIi4vZW4tZ2JcIjogMzk5LFxuXHRcdFwiLi9lbi1nYi5qc1wiOiAzOTksXG5cdFx0XCIuL2VuLWllXCI6IDQwMCxcblx0XHRcIi4vZW4taWUuanNcIjogNDAwLFxuXHRcdFwiLi9lbi1uelwiOiA0MDEsXG5cdFx0XCIuL2VuLW56LmpzXCI6IDQwMSxcblx0XHRcIi4vZW9cIjogNDAyLFxuXHRcdFwiLi9lby5qc1wiOiA0MDIsXG5cdFx0XCIuL2VzXCI6IDQwMyxcblx0XHRcIi4vZXMtZG9cIjogNDA0LFxuXHRcdFwiLi9lcy1kby5qc1wiOiA0MDQsXG5cdFx0XCIuL2VzLmpzXCI6IDQwMyxcblx0XHRcIi4vZXRcIjogNDA1LFxuXHRcdFwiLi9ldC5qc1wiOiA0MDUsXG5cdFx0XCIuL2V1XCI6IDQwNixcblx0XHRcIi4vZXUuanNcIjogNDA2LFxuXHRcdFwiLi9mYVwiOiA0MDcsXG5cdFx0XCIuL2ZhLmpzXCI6IDQwNyxcblx0XHRcIi4vZmlcIjogNDA4LFxuXHRcdFwiLi9maS5qc1wiOiA0MDgsXG5cdFx0XCIuL2ZvXCI6IDQwOSxcblx0XHRcIi4vZm8uanNcIjogNDA5LFxuXHRcdFwiLi9mclwiOiA0MTAsXG5cdFx0XCIuL2ZyLWNhXCI6IDQxMSxcblx0XHRcIi4vZnItY2EuanNcIjogNDExLFxuXHRcdFwiLi9mci1jaFwiOiA0MTIsXG5cdFx0XCIuL2ZyLWNoLmpzXCI6IDQxMixcblx0XHRcIi4vZnIuanNcIjogNDEwLFxuXHRcdFwiLi9meVwiOiA0MTMsXG5cdFx0XCIuL2Z5LmpzXCI6IDQxMyxcblx0XHRcIi4vZ2RcIjogNDE0LFxuXHRcdFwiLi9nZC5qc1wiOiA0MTQsXG5cdFx0XCIuL2dsXCI6IDQxNSxcblx0XHRcIi4vZ2wuanNcIjogNDE1LFxuXHRcdFwiLi9oZVwiOiA0MTYsXG5cdFx0XCIuL2hlLmpzXCI6IDQxNixcblx0XHRcIi4vaGlcIjogNDE3LFxuXHRcdFwiLi9oaS5qc1wiOiA0MTcsXG5cdFx0XCIuL2hyXCI6IDQxOCxcblx0XHRcIi4vaHIuanNcIjogNDE4LFxuXHRcdFwiLi9odVwiOiA0MTksXG5cdFx0XCIuL2h1LmpzXCI6IDQxOSxcblx0XHRcIi4vaHktYW1cIjogNDIwLFxuXHRcdFwiLi9oeS1hbS5qc1wiOiA0MjAsXG5cdFx0XCIuL2lkXCI6IDQyMSxcblx0XHRcIi4vaWQuanNcIjogNDIxLFxuXHRcdFwiLi9pc1wiOiA0MjIsXG5cdFx0XCIuL2lzLmpzXCI6IDQyMixcblx0XHRcIi4vaXRcIjogNDIzLFxuXHRcdFwiLi9pdC5qc1wiOiA0MjMsXG5cdFx0XCIuL2phXCI6IDQyNCxcblx0XHRcIi4vamEuanNcIjogNDI0LFxuXHRcdFwiLi9qdlwiOiA0MjUsXG5cdFx0XCIuL2p2LmpzXCI6IDQyNSxcblx0XHRcIi4va2FcIjogNDI2LFxuXHRcdFwiLi9rYS5qc1wiOiA0MjYsXG5cdFx0XCIuL2trXCI6IDQyNyxcblx0XHRcIi4va2suanNcIjogNDI3LFxuXHRcdFwiLi9rbVwiOiA0MjgsXG5cdFx0XCIuL2ttLmpzXCI6IDQyOCxcblx0XHRcIi4va29cIjogNDI5LFxuXHRcdFwiLi9rby5qc1wiOiA0MjksXG5cdFx0XCIuL2t5XCI6IDQzMCxcblx0XHRcIi4va3kuanNcIjogNDMwLFxuXHRcdFwiLi9sYlwiOiA0MzEsXG5cdFx0XCIuL2xiLmpzXCI6IDQzMSxcblx0XHRcIi4vbG9cIjogNDMyLFxuXHRcdFwiLi9sby5qc1wiOiA0MzIsXG5cdFx0XCIuL2x0XCI6IDQzMyxcblx0XHRcIi4vbHQuanNcIjogNDMzLFxuXHRcdFwiLi9sdlwiOiA0MzQsXG5cdFx0XCIuL2x2LmpzXCI6IDQzNCxcblx0XHRcIi4vbWVcIjogNDM1LFxuXHRcdFwiLi9tZS5qc1wiOiA0MzUsXG5cdFx0XCIuL21pXCI6IDQzNixcblx0XHRcIi4vbWkuanNcIjogNDM2LFxuXHRcdFwiLi9ta1wiOiA0MzcsXG5cdFx0XCIuL21rLmpzXCI6IDQzNyxcblx0XHRcIi4vbWxcIjogNDM4LFxuXHRcdFwiLi9tbC5qc1wiOiA0MzgsXG5cdFx0XCIuL21yXCI6IDQzOSxcblx0XHRcIi4vbXIuanNcIjogNDM5LFxuXHRcdFwiLi9tc1wiOiA0NDAsXG5cdFx0XCIuL21zLW15XCI6IDQ0MSxcblx0XHRcIi4vbXMtbXkuanNcIjogNDQxLFxuXHRcdFwiLi9tcy5qc1wiOiA0NDAsXG5cdFx0XCIuL215XCI6IDQ0Mixcblx0XHRcIi4vbXkuanNcIjogNDQyLFxuXHRcdFwiLi9uYlwiOiA0NDMsXG5cdFx0XCIuL25iLmpzXCI6IDQ0Myxcblx0XHRcIi4vbmVcIjogNDQ0LFxuXHRcdFwiLi9uZS5qc1wiOiA0NDQsXG5cdFx0XCIuL25sXCI6IDQ0NSxcblx0XHRcIi4vbmwuanNcIjogNDQ1LFxuXHRcdFwiLi9ublwiOiA0NDYsXG5cdFx0XCIuL25uLmpzXCI6IDQ0Nixcblx0XHRcIi4vcGEtaW5cIjogNDQ3LFxuXHRcdFwiLi9wYS1pbi5qc1wiOiA0NDcsXG5cdFx0XCIuL3BsXCI6IDQ0OCxcblx0XHRcIi4vcGwuanNcIjogNDQ4LFxuXHRcdFwiLi9wdFwiOiA0NDksXG5cdFx0XCIuL3B0LWJyXCI6IDQ1MCxcblx0XHRcIi4vcHQtYnIuanNcIjogNDUwLFxuXHRcdFwiLi9wdC5qc1wiOiA0NDksXG5cdFx0XCIuL3JvXCI6IDQ1MSxcblx0XHRcIi4vcm8uanNcIjogNDUxLFxuXHRcdFwiLi9ydVwiOiA0NTIsXG5cdFx0XCIuL3J1LmpzXCI6IDQ1Mixcblx0XHRcIi4vc2VcIjogNDUzLFxuXHRcdFwiLi9zZS5qc1wiOiA0NTMsXG5cdFx0XCIuL3NpXCI6IDQ1NCxcblx0XHRcIi4vc2kuanNcIjogNDU0LFxuXHRcdFwiLi9za1wiOiA0NTUsXG5cdFx0XCIuL3NrLmpzXCI6IDQ1NSxcblx0XHRcIi4vc2xcIjogNDU2LFxuXHRcdFwiLi9zbC5qc1wiOiA0NTYsXG5cdFx0XCIuL3NxXCI6IDQ1Nyxcblx0XHRcIi4vc3EuanNcIjogNDU3LFxuXHRcdFwiLi9zclwiOiA0NTgsXG5cdFx0XCIuL3NyLWN5cmxcIjogNDU5LFxuXHRcdFwiLi9zci1jeXJsLmpzXCI6IDQ1OSxcblx0XHRcIi4vc3IuanNcIjogNDU4LFxuXHRcdFwiLi9zc1wiOiA0NjAsXG5cdFx0XCIuL3NzLmpzXCI6IDQ2MCxcblx0XHRcIi4vc3ZcIjogNDYxLFxuXHRcdFwiLi9zdi5qc1wiOiA0NjEsXG5cdFx0XCIuL3N3XCI6IDQ2Mixcblx0XHRcIi4vc3cuanNcIjogNDYyLFxuXHRcdFwiLi90YVwiOiA0NjMsXG5cdFx0XCIuL3RhLmpzXCI6IDQ2Myxcblx0XHRcIi4vdGVcIjogNDY0LFxuXHRcdFwiLi90ZS5qc1wiOiA0NjQsXG5cdFx0XCIuL3RoXCI6IDQ2NSxcblx0XHRcIi4vdGguanNcIjogNDY1LFxuXHRcdFwiLi90bC1waFwiOiA0NjYsXG5cdFx0XCIuL3RsLXBoLmpzXCI6IDQ2Nixcblx0XHRcIi4vdGxoXCI6IDQ2Nyxcblx0XHRcIi4vdGxoLmpzXCI6IDQ2Nyxcblx0XHRcIi4vdHJcIjogNDY4LFxuXHRcdFwiLi90ci5qc1wiOiA0NjgsXG5cdFx0XCIuL3R6bFwiOiA0NjksXG5cdFx0XCIuL3R6bC5qc1wiOiA0NjksXG5cdFx0XCIuL3R6bVwiOiA0NzAsXG5cdFx0XCIuL3R6bS1sYXRuXCI6IDQ3MSxcblx0XHRcIi4vdHptLWxhdG4uanNcIjogNDcxLFxuXHRcdFwiLi90em0uanNcIjogNDcwLFxuXHRcdFwiLi91a1wiOiA0NzIsXG5cdFx0XCIuL3VrLmpzXCI6IDQ3Mixcblx0XHRcIi4vdXpcIjogNDczLFxuXHRcdFwiLi91ei5qc1wiOiA0NzMsXG5cdFx0XCIuL3ZpXCI6IDQ3NCxcblx0XHRcIi4vdmkuanNcIjogNDc0LFxuXHRcdFwiLi94LXBzZXVkb1wiOiA0NzUsXG5cdFx0XCIuL3gtcHNldWRvLmpzXCI6IDQ3NSxcblx0XHRcIi4vemgtY25cIjogNDc2LFxuXHRcdFwiLi96aC1jbi5qc1wiOiA0NzYsXG5cdFx0XCIuL3poLWhrXCI6IDQ3Nyxcblx0XHRcIi4vemgtaGsuanNcIjogNDc3LFxuXHRcdFwiLi96aC10d1wiOiA0NzgsXG5cdFx0XCIuL3poLXR3LmpzXCI6IDQ3OFxuXHR9O1xuXHRmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG5cdH07XG5cdGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0XHRyZXR1cm4gbWFwW3JlcV0gfHwgKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKSB9KCkpO1xuXHR9O1xuXHR3ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRcdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xuXHR9O1xuXHR3ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xuXHR3ZWJwYWNrQ29udGV4dC5pZCA9IDM3NDtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA1MjQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdC8qXG5cdCBuZ3Byb2dyZXNzIDEuMS4yIC0gc2xpbSwgc2l0ZS13aWRlIHByb2dyZXNzYmFyIGZvciBBbmd1bGFySlMgXG5cdCAoQykgMjAxMyAtIFZpY3RvciBCamVsa2hvbG0gXG5cdCBMaWNlbnNlOiBNSVQgXG5cdCBTb3VyY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9WaWN0b3JCamVsa2hvbG0vbmdQcm9ncmVzcyBcblx0IERhdGUgQ29tcGlsZWQ6IDIwMTUtMDctMjcgXG5cdCAqL1xuXHRhbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3MucHJvdmlkZXJcIiwgW1wibmdQcm9ncmVzcy5kaXJlY3RpdmVcIl0pLnNlcnZpY2UoXCJuZ1Byb2dyZXNzXCIsIGZ1bmN0aW9uICgpIHtcblx0ICBcInVzZSBzdHJpY3RcIjtcblx0XG5cdCAgcmV0dXJuIFtcIiRkb2N1bWVudFwiLCBcIiR3aW5kb3dcIiwgXCIkY29tcGlsZVwiLCBcIiRyb290U2NvcGVcIiwgXCIkdGltZW91dFwiLCBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkge1xuXHQgICAgdGhpcy5hdXRvU3R5bGUgPSAhMCwgdGhpcy5jb3VudCA9IDAsIHRoaXMuaGVpZ2h0ID0gXCIycHhcIiwgdGhpcy4kc2NvcGUgPSBkLiRuZXcoKSwgdGhpcy5jb2xvciA9IFwiZmlyZWJyaWNrXCIsIHRoaXMucGFyZW50ID0gYS5maW5kKFwiYm9keVwiKVswXSwgdGhpcy5jb3VudCA9IDAsIHRoaXMucHJvZ3Jlc3NiYXJFbCA9IGMoXCI8bmctcHJvZ3Jlc3M+PC9uZy1wcm9ncmVzcz5cIikodGhpcy4kc2NvcGUpLCB0aGlzLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pLCB0aGlzLiRzY29wZS5jb3VudCA9IHRoaXMuY291bnQsIHZvaWQgMCAhPT0gdGhpcy5oZWlnaHQgJiYgdGhpcy5wcm9ncmVzc2JhckVsLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiaGVpZ2h0XCIsIHRoaXMuaGVpZ2h0KSwgdm9pZCAwICE9PSB0aGlzLmNvbG9yICYmICh0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIHRoaXMuY29sb3IpLCB0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJjb2xvclwiLCB0aGlzLmNvbG9yKSksIHRoaXMuaW50ZXJ2YWxDb3VudGVySWQgPSAwLCB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aGlzLnNob3coKTtcblx0ICAgICAgdmFyIGEgPSB0aGlzO1xuXHQgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCB0aGlzLmludGVydmFsQ291bnRlcklkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlzTmFOKGEuY291bnQpID8gKGNsZWFySW50ZXJ2YWwoYS5pbnRlcnZhbENvdW50ZXJJZCksIGEuY291bnQgPSAwLCBhLmhpZGUoKSkgOiAoYS5yZW1haW5pbmcgPSAxMDAgLSBhLmNvdW50LCBhLmNvdW50ID0gYS5jb3VudCArIC4xNSAqIE1hdGgucG93KDEgLSBNYXRoLnNxcnQoYS5yZW1haW5pbmcpLCAyKSwgYS51cGRhdGVDb3VudChhLmNvdW50KSk7XG5cdCAgICAgIH0sIDIwMCk7XG5cdCAgICB9LCB0aGlzLnVwZGF0ZUNvdW50ID0gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgdGhpcy4kc2NvcGUuY291bnQgPSBhLCB0aGlzLiRzY29wZS4kJHBoYXNlIHx8IHRoaXMuJHNjb3BlLiRhcHBseSgpO1xuXHQgICAgfSwgdGhpcy5zZXRIZWlnaHQgPSBmdW5jdGlvbiAoYSkge1xuXHQgICAgICByZXR1cm4gdm9pZCAwICE9PSBhICYmICh0aGlzLmhlaWdodCA9IGEsIHRoaXMuJHNjb3BlLmhlaWdodCA9IHRoaXMuaGVpZ2h0LCB0aGlzLiRzY29wZS4kJHBoYXNlIHx8IHRoaXMuJHNjb3BlLiRhcHBseSgpKSwgdGhpcy5oZWlnaHQ7XG5cdCAgICB9LCB0aGlzLnNldENvbG9yID0gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gYSAmJiAodGhpcy5jb2xvciA9IGEsIHRoaXMuJHNjb3BlLmNvbG9yID0gdGhpcy5jb2xvciwgdGhpcy4kc2NvcGUuJCRwaGFzZSB8fCB0aGlzLiRzY29wZS4kYXBwbHkoKSksIHRoaXMuY29sb3I7XG5cdCAgICB9LCB0aGlzLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRoaXMucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIm9wYWNpdHlcIiwgXCIwXCIpO1xuXHQgICAgICB2YXIgYSA9IHRoaXM7XG5cdCAgICAgIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgYS5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKFwid2lkdGhcIiwgXCIwJVwiKSwgYS5hbmltYXRlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIGEuc2hvdygpO1xuXHQgICAgICAgIH0sIDUwMCk7XG5cdCAgICAgIH0sIDUwMCk7XG5cdCAgICB9LCB0aGlzLnNob3cgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBhID0gdGhpcztcblx0ICAgICAgYS5hbmltYXRlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBhLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJvcGFjaXR5XCIsIFwiMVwiKTtcblx0ICAgICAgfSwgMTAwKTtcblx0ICAgIH0sIHRoaXMuYW5pbWF0ZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgIHZvaWQgMCAhPT0gdGhpcy5hbmltYXRpb24gJiYgZS5jYW5jZWwodGhpcy5hbmltYXRpb24pLCB0aGlzLmFuaW1hdGlvbiA9IGUoYSwgYik7XG5cdCAgICB9LCB0aGlzLnN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY291bnQ7XG5cdCAgICB9LCB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCk7XG5cdCAgICB9LCB0aGlzLnNldCA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnNob3coKSwgdGhpcy51cGRhdGVDb3VudChhKSwgdGhpcy5jb3VudCA9IGEsIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIHRoaXMuY291bnQ7XG5cdCAgICB9LCB0aGlzLmNzcyA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoYSk7XG5cdCAgICB9LCB0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSwgdGhpcy5jb3VudCA9IDAsIHRoaXMudXBkYXRlQ291bnQodGhpcy5jb3VudCksIDA7XG5cdCAgICB9LCB0aGlzLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aGlzLmNvdW50ID0gMTAwLCB0aGlzLnVwZGF0ZUNvdW50KHRoaXMuY291bnQpO1xuXHQgICAgICB2YXIgYSA9IHRoaXM7XG5cdCAgICAgIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCBlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBhLmhpZGUoKSwgZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBhLmNvdW50ID0gMCwgYS51cGRhdGVDb3VudChhLmNvdW50KTtcblx0ICAgICAgICB9LCA1MDApO1xuXHQgICAgICB9LCAxZTMpLCB0aGlzLmNvdW50O1xuXHQgICAgfSwgdGhpcy5zZXRQYXJlbnQgPSBmdW5jdGlvbiAoYSkge1xuXHQgICAgICBpZiAobnVsbCA9PT0gYSB8fCB2b2lkIDAgPT09IGEpIHRocm93IG5ldyBFcnJvcihcIlByb3ZpZGUgYSB2YWxpZCBwYXJlbnQgb2YgdHlwZSBIVE1MRWxlbWVudFwiKTtcblx0ICAgICAgbnVsbCAhPT0gdGhpcy5wYXJlbnQgJiYgdm9pZCAwICE9PSB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pLCB0aGlzLnBhcmVudCA9IGEsIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSk7XG5cdCAgICB9LCB0aGlzLmdldERvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzYmFyRWw7XG5cdCAgICB9LCB0aGlzLnNldEFic29sdXRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aGlzLnByb2dyZXNzYmFyRWwuY3NzKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKTtcblx0ICAgIH07XG5cdCAgfV07XG5cdH0pLmZhY3RvcnkoXCJuZ1Byb2dyZXNzRmFjdG9yeVwiLCBbXCIkaW5qZWN0b3JcIiwgXCJuZ1Byb2dyZXNzXCIsIGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgdmFyIGMgPSB7XG5cdCAgICBjcmVhdGVJbnN0YW5jZTogZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoKSB7XG5cdCAgICAgIHJldHVybiBhLmluc3RhbnRpYXRlKGIpO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgcmV0dXJuIGM7XG5cdH1dKSwgYW5ndWxhci5tb2R1bGUoXCJuZ1Byb2dyZXNzLmRpcmVjdGl2ZVwiLCBbXSkuZGlyZWN0aXZlKFwibmdQcm9ncmVzc1wiLCBbXCIkd2luZG93XCIsIFwiJHJvb3RTY29wZVwiLCBmdW5jdGlvbiAoYSwgYikge1xuXHQgIHZhciBjID0ge1xuXHQgICAgcmVwbGFjZTogITAsIHJlc3RyaWN0OiBcIkVcIiwgbGluazogZnVuY3Rpb24gbGluayhhLCBiLCBjLCBkKSB7XG5cdCAgICAgIGEuJHdhdGNoKFwiY291bnRcIiwgZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmNvdW50ZXIgPSBjLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwid2lkdGhcIiwgYyArIFwiJVwiKSk7XG5cdCAgICAgIH0pLCBhLiR3YXRjaChcImNvbG9yXCIsIGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgICAgKHZvaWQgMCAhPT0gYyB8fCBudWxsICE9PSBjKSAmJiAoYS5jb2xvciA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIGMpLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiY29sb3JcIiwgYykpO1xuXHQgICAgICB9KSwgYS4kd2F0Y2goXCJoZWlnaHRcIiwgZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmhlaWdodCA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJoZWlnaHRcIiwgYykpO1xuXHQgICAgICB9KTtcblx0ICAgIH0sIHRlbXBsYXRlOiAnPGRpdiBpZD1cIm5nUHJvZ3Jlc3MtY29udGFpbmVyXCI+PGRpdiBpZD1cIm5nUHJvZ3Jlc3NcIj48L2Rpdj48L2Rpdj4nXG5cdCAgfTtcblx0ICByZXR1cm4gYztcblx0fV0pLCBhbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3NcIiwgW1wibmdQcm9ncmVzcy5kaXJlY3RpdmVcIiwgXCJuZ1Byb2dyZXNzLnByb3ZpZGVyXCJdKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNTI1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTI2KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDg1KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmdQcm9ncmVzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL25nUHJvZ3Jlc3MuY3NzXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA1MjY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4NCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIjbmdQcm9ncmVzc3ttYXJnaW46MDtwYWRkaW5nOjA7ei1pbmRleDo5OTk5ODtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVuO2NvbG9yOmdyZWVuO2JveC1zaGFkb3c6MCAwIDEwcHggMDtoZWlnaHQ6MnB4O29wYWNpdHk6MDstd2Via2l0LXRyYW5zaXRpb246YWxsIC41cyBlYXNlLWluLW91dDt0cmFuc2l0aW9uOmFsbCAuNXMgZWFzZS1pbi1vdXR9I25nUHJvZ3Jlc3MtY29udGFpbmVye3Bvc2l0aW9uOmZpeGVkO21hcmdpbjowO3BhZGRpbmc6MDt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDt6LWluZGV4Ojk5OTk5fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTI3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyOCk7XG5cdFxuXHR2YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvKiEgYW5ndWxhci1icmVhZGNydW1iIC0gdjAuNC4wLWRldi0yMDE1LTA4LTA3XG5cdCogaHR0cDovL25jdWlsbGVyeS5naXRodWIuaW8vYW5ndWxhci1icmVhZGNydW1iXG5cdCogQ29weXJpZ2h0IChjKSAyMDE1IE5pY29sYXMgQ3VpbGxlcnk7IExpY2Vuc2VkIE1JVCAqL1xuXHQhZnVuY3Rpb24gKGEsIGIsIGMpIHtcblx0ICBcInVzZSBzdHJpY3RcIjtcblx0ICBmdW5jdGlvbiBkKGEsIGMpIHtcblx0ICAgIHJldHVybiBiLmVxdWFscyhhLmxlbmd0aCwgYy5sZW5ndGgpID8gYSA+IGMgOiBhLmxlbmd0aCA+IGMubGVuZ3RoO1xuXHQgIH1mdW5jdGlvbiBlKGEpIHtcblx0ICAgIHZhciBiID0gYS5yZXBsYWNlKC9cXG4vZywgXCIgXCIpLm1hdGNoKC9eKFteKF0rPylcXHMqKFxcKCguKilcXCkpPyQvKTtpZiAoIWIgfHwgNCAhPT0gYi5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgcmVmICdcIiArIGEgKyBcIidcIik7cmV0dXJuIHsgc3RhdGU6IGJbMV0sIHBhcmFtRXhwcjogYlszXSB8fCBudWxsIH07XG5cdCAgfWZ1bmN0aW9uIGYoKSB7XG5cdCAgICB2YXIgYSA9IHsgcHJlZml4U3RhdGVOYW1lOiBudWxsLCB0ZW1wbGF0ZTogXCJib290c3RyYXAzXCIsIHRlbXBsYXRlVXJsOiBudWxsLCBpbmNsdWRlQWJzdHJhY3Q6ICExIH07dGhpcy5zZXRPcHRpb25zID0gZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgYi5leHRlbmQoYSwgYyk7XG5cdCAgICB9LCB0aGlzLiRnZXQgPSBbXCIkc3RhdGVcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkcm9vdFNjb3BlXCIsIGZ1bmN0aW9uIChiLCBmLCBnKSB7XG5cdCAgICAgIHZhciBoID0gZztnLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgICFhLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmUgJiYgZChhLnRhcmdldFNjb3BlLiRpZCwgaC4kaWQpICYmIChoID0gYS50YXJnZXRTY29wZSk7XG5cdCAgICAgIH0pO3ZhciBpID0gZnVuY3Rpb24gaShhKSB7XG5cdCAgICAgICAgdmFyIGIgPSBhLnBhcmVudCB8fCAoL14oLispXFwuW14uXSskLy5leGVjKGEubmFtZSkgfHwgW10pWzFdLFxuXHQgICAgICAgICAgICBjID0gXCJvYmplY3RcIiA9PSAodHlwZW9mIGIgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKGIpKTtyZXR1cm4gYyA/IGIubmFtZSA6IGI7XG5cdCAgICAgIH0sXG5cdCAgICAgICAgICBqID0gZnVuY3Rpb24gaihjLCBkKSB7XG5cdCAgICAgICAgZm9yICh2YXIgZywgaSwgaiA9IGUoZCksIGsgPSAhMSwgbCA9ICExLCBtID0gMCwgbiA9IGMubGVuZ3RoOyBuID4gbTsgbSArPSAxKSB7XG5cdCAgICAgICAgICBpZiAoY1ttXS5uYW1lID09PSBqLnN0YXRlKSByZXR1cm47XG5cdCAgICAgICAgfWcgPSBiLmdldChqLnN0YXRlKSwgZy5uY3lCcmVhZGNydW1iICYmIChnLm5jeUJyZWFkY3J1bWIuZm9yY2UgJiYgKGsgPSAhMCksIGcubmN5QnJlYWRjcnVtYi5za2lwICYmIChsID0gITApKSwgZ1tcImFic3RyYWN0XCJdICYmICFhLmluY2x1ZGVBYnN0cmFjdCAmJiAhayB8fCBsIHx8IChqLnBhcmFtRXhwciAmJiAoaSA9IGguJGV2YWwoai5wYXJhbUV4cHIpKSwgZy5uY3lCcmVhZGNydW1iTGluayA9IGIuaHJlZihqLnN0YXRlLCBpIHx8IGYgfHwge30pLCBjLnVuc2hpZnQoZykpO1xuXHQgICAgICB9LFxuXHQgICAgICAgICAgayA9IGZ1bmN0aW9uIGsoYSkge1xuXHQgICAgICAgIHZhciBjID0gZShhKSxcblx0ICAgICAgICAgICAgZCA9IGIuZ2V0KGMuc3RhdGUpO2lmIChkLm5jeUJyZWFkY3J1bWIgJiYgZC5uY3lCcmVhZGNydW1iLnBhcmVudCkge1xuXHQgICAgICAgICAgdmFyIGYgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGQubmN5QnJlYWRjcnVtYi5wYXJlbnQsXG5cdCAgICAgICAgICAgICAgZyA9IGYgPyBkLm5jeUJyZWFkY3J1bWIucGFyZW50KGgpIDogZC5uY3lCcmVhZGNydW1iLnBhcmVudDtpZiAoZykgcmV0dXJuIGc7XG5cdCAgICAgICAgfXJldHVybiBpKGQpO1xuXHQgICAgICB9O3JldHVybiB7IGdldFRlbXBsYXRlOiBmdW5jdGlvbiBnZXRUZW1wbGF0ZShiKSB7XG5cdCAgICAgICAgICByZXR1cm4gYS50ZW1wbGF0ZVVybCA/IG51bGwgOiBiW2EudGVtcGxhdGVdID8gYlthLnRlbXBsYXRlXSA6IGEudGVtcGxhdGU7XG5cdCAgICAgICAgfSwgZ2V0VGVtcGxhdGVVcmw6IGZ1bmN0aW9uIGdldFRlbXBsYXRlVXJsKCkge1xuXHQgICAgICAgICAgcmV0dXJuIGEudGVtcGxhdGVVcmw7XG5cdCAgICAgICAgfSwgZ2V0U3RhdGVzQ2hhaW46IGZ1bmN0aW9uIGdldFN0YXRlc0NoYWluKGMpIHtcblx0ICAgICAgICAgIGZvciAodmFyIGQgPSBbXSwgZSA9IGIuJGN1cnJlbnQuc2VsZi5uYW1lOyBlOyBlID0gayhlKSkge1xuXHQgICAgICAgICAgICBpZiAoaihkLCBlKSwgYyAmJiBkLmxlbmd0aCkgcmV0dXJuIGQ7XG5cdCAgICAgICAgICB9cmV0dXJuIGEucHJlZml4U3RhdGVOYW1lICYmIGooZCwgYS5wcmVmaXhTdGF0ZU5hbWUpLCBkO1xuXHQgICAgICAgIH0sIGdldExhc3RTdGVwOiBmdW5jdGlvbiBnZXRMYXN0U3RlcCgpIHtcblx0ICAgICAgICAgIHZhciBhID0gdGhpcy5nZXRTdGF0ZXNDaGFpbighMCk7cmV0dXJuIGEubGVuZ3RoID8gYVswXSA6IGM7XG5cdCAgICAgICAgfSwgJGdldExhc3RWaWV3U2NvcGU6IGZ1bmN0aW9uICRnZXRMYXN0Vmlld1Njb3BlKCkge1xuXHQgICAgICAgICAgcmV0dXJuIGg7XG5cdCAgICAgICAgfSB9O1xuXHQgICAgfV07XG5cdCAgfWZ1bmN0aW9uIGcoYSwgYywgZCkge1xuXHQgICAgdmFyIGUgPSB7IGJvb3RzdHJhcDI6ICc8dWwgY2xhc3M9XCJicmVhZGNydW1iXCI+PGxpIG5nLXJlcGVhdD1cInN0ZXAgaW4gc3RlcHNcIiBuZy1zd2l0Y2g9XCIkbGFzdCB8fCAhIXN0ZXAuYWJzdHJhY3RcIiBuZy1jbGFzcz1cInthY3RpdmU6ICRsYXN0fVwiPjxhIG5nLXN3aXRjaC13aGVuPVwiZmFsc2VcIiBocmVmPVwie3tzdGVwLm5jeUJyZWFkY3J1bWJMaW5rfX1cIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L2E+PHNwYW4gbmctc3dpdGNoLXdoZW49XCJ0cnVlXCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9zcGFuPjxzcGFuIGNsYXNzPVwiZGl2aWRlclwiIG5nLWhpZGU9XCIkbGFzdFwiPi88L3NwYW4+PC9saT48L3VsPicsIGJvb3RzdHJhcDM6ICc8b2wgY2xhc3M9XCJicmVhZGNydW1iXCI+PGxpIG5nLXJlcGVhdD1cInN0ZXAgaW4gc3RlcHNcIiBuZy1jbGFzcz1cInthY3RpdmU6ICRsYXN0fVwiIG5nLXN3aXRjaD1cIiRsYXN0IHx8ICEhc3RlcC5hYnN0cmFjdFwiPjxhIG5nLXN3aXRjaC13aGVuPVwiZmFsc2VcIiBocmVmPVwie3tzdGVwLm5jeUJyZWFkY3J1bWJMaW5rfX1cIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L2E+PHNwYW4gbmctc3dpdGNoLXdoZW49XCJ0cnVlXCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9zcGFuPjwvbGk+PC9vbD4nIH07cmV0dXJuIHsgcmVzdHJpY3Q6IFwiQUVcIiwgcmVwbGFjZTogITAsIHNjb3BlOiB7fSwgdGVtcGxhdGU6IGMuZ2V0VGVtcGxhdGUoZSksIHRlbXBsYXRlVXJsOiBjLmdldFRlbXBsYXRlVXJsKCksIGxpbms6IHsgcG9zdDogZnVuY3Rpb24gcG9zdChlKSB7XG5cdCAgICAgICAgICB2YXIgZiA9IFtdLFxuXHQgICAgICAgICAgICAgIGcgPSBmdW5jdGlvbiBnKCkge1xuXHQgICAgICAgICAgICBsKGYpLCBmID0gW107dmFyIGQgPSBjLiRnZXRMYXN0Vmlld1Njb3BlKCk7ZS5zdGVwcyA9IGMuZ2V0U3RhdGVzQ2hhaW4oKSwgYi5mb3JFYWNoKGUuc3RlcHMsIGZ1bmN0aW9uIChiKSB7XG5cdCAgICAgICAgICAgICAgaWYgKGIubmN5QnJlYWRjcnVtYiAmJiBiLm5jeUJyZWFkY3J1bWIubGFiZWwpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjID0gYShiLm5jeUJyZWFkY3J1bWIubGFiZWwpO2IubmN5QnJlYWRjcnVtYkxhYmVsID0gYyhkKSwgayhmLCBjLCBkLCBiKTtcblx0ICAgICAgICAgICAgICB9IGVsc2UgYi5uY3lCcmVhZGNydW1iTGFiZWwgPSBiLm5hbWU7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfTtkLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgICAgICBhLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmUgfHwgZygpO1xuXHQgICAgICAgICAgfSksIGcoKTtcblx0ICAgICAgICB9IH0gfTtcblx0ICB9ZnVuY3Rpb24gaChhLCBiLCBjKSB7XG5cdCAgICByZXR1cm4geyByZXN0cmljdDogXCJBXCIsIHNjb3BlOiB7fSwgdGVtcGxhdGU6IFwie3tuY3lCcmVhZGNydW1iTGFiZWx9fVwiLCBjb21waWxlOiBmdW5jdGlvbiBjb21waWxlKGQsIGUpIHtcblx0ICAgICAgICB2YXIgZiA9IGQuYXR0cihlLiRhdHRyLm5jeUJyZWFkY3J1bWJMYXN0KTtyZXR1cm4gZiAmJiBkLmh0bWwoZiksIHsgcG9zdDogZnVuY3Rpb24gcG9zdChkKSB7XG5cdCAgICAgICAgICAgIHZhciBlID0gW10sXG5cdCAgICAgICAgICAgICAgICBmID0gZnVuY3Rpb24gZigpIHtcblx0ICAgICAgICAgICAgICBsKGUpLCBlID0gW107dmFyIGMgPSBiLiRnZXRMYXN0Vmlld1Njb3BlKCksXG5cdCAgICAgICAgICAgICAgICAgIGYgPSBiLmdldExhc3RTdGVwKCk7aWYgKGYpIGlmIChkLm5jeUJyZWFkY3J1bWJMaW5rID0gZi5uY3lCcmVhZGNydW1iTGluaywgZi5uY3lCcmVhZGNydW1iICYmIGYubmN5QnJlYWRjcnVtYi5sYWJlbCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGcgPSBhKGYubmN5QnJlYWRjcnVtYi5sYWJlbCk7ZC5uY3lCcmVhZGNydW1iTGFiZWwgPSBnKGMpLCBrKGUsIGcsIGMsIGQpO1xuXHQgICAgICAgICAgICAgIH0gZWxzZSBkLm5jeUJyZWFkY3J1bWJMYWJlbCA9IGYubmFtZTtcblx0ICAgICAgICAgICAgfTtjLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgICAgICAgIGEudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSB8fCBmKCk7XG5cdCAgICAgICAgICAgIH0pLCBmKCk7XG5cdCAgICAgICAgICB9IH07XG5cdCAgICAgIH0gfTtcblx0ICB9ZnVuY3Rpb24gaShhLCBjLCBkKSB7XG5cdCAgICByZXR1cm4geyByZXN0cmljdDogXCJBXCIsIHNjb3BlOiB7fSwgdGVtcGxhdGU6IFwie3tuY3lCcmVhZGNydW1iQ2hhaW59fVwiLCBjb21waWxlOiBmdW5jdGlvbiBjb21waWxlKGUsIGYpIHtcblx0ICAgICAgICB2YXIgZyA9IGUuYXR0cihmLiRhdHRyLm5jeUJyZWFkY3J1bWJUZXh0KTtnICYmIGUuaHRtbChnKTt2YXIgaCA9IGUuYXR0cihmLiRhdHRyLm5jeUJyZWFkY3J1bWJUZXh0U2VwYXJhdG9yKSB8fCBcIiAvIFwiO3JldHVybiB7IHBvc3Q6IGZ1bmN0aW9uIHBvc3QoZSkge1xuXHQgICAgICAgICAgICB2YXIgZiA9IFtdLFxuXHQgICAgICAgICAgICAgICAgZyA9IGZ1bmN0aW9uIGcoYSwgYywgZCkge1xuXHQgICAgICAgICAgICAgIGIuZm9yRWFjaChqKGMpLCBmdW5jdGlvbiAoYikge1xuXHQgICAgICAgICAgICAgICAgdmFyIGMgPSBkLiR3YXRjaChiLCBmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgICAgICAgICAgICAgICBhICE9PSBiICYmIGkoKTtcblx0ICAgICAgICAgICAgICAgIH0pO2EucHVzaChjKTtcblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICAgIGkgPSBmdW5jdGlvbiBpKCkge1xuXHQgICAgICAgICAgICAgIGwoZiksIGYgPSBbXTt2YXIgZCA9IGMuJGdldExhc3RWaWV3U2NvcGUoKSxcblx0ICAgICAgICAgICAgICAgICAgaSA9IGMuZ2V0U3RhdGVzQ2hhaW4oKSxcblx0ICAgICAgICAgICAgICAgICAgaiA9IFtdO2IuZm9yRWFjaChpLCBmdW5jdGlvbiAoYikge1xuXHQgICAgICAgICAgICAgICAgaWYgKGIubmN5QnJlYWRjcnVtYiAmJiBiLm5jeUJyZWFkY3J1bWIubGFiZWwpIHtcblx0ICAgICAgICAgICAgICAgICAgdmFyIGMgPSBhKGIubmN5QnJlYWRjcnVtYi5sYWJlbCk7ai5wdXNoKGMoZCkpLCBnKGYsIGMsIGQpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGoucHVzaChiLm5hbWUpO1xuXHQgICAgICAgICAgICAgIH0pLCBlLm5jeUJyZWFkY3J1bWJDaGFpbiA9IGouam9pbihoKTtcblx0ICAgICAgICAgICAgfTtkLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgICAgICAgIGEudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSB8fCBpKCk7XG5cdCAgICAgICAgICAgIH0pLCBpKCk7XG5cdCAgICAgICAgICB9IH07XG5cdCAgICAgIH0gfTtcblx0ICB9dmFyIGogPSBmdW5jdGlvbiBqKGEpIHtcblx0ICAgIGlmIChhLmV4cHJlc3Npb25zKSByZXR1cm4gYS5leHByZXNzaW9uczt2YXIgYyA9IFtdO3JldHVybiBiLmZvckVhY2goYS5wYXJ0cywgZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgYi5pc0Z1bmN0aW9uKGEpICYmIGMucHVzaChhLmV4cCk7XG5cdCAgICB9KSwgYztcblx0ICB9LFxuXHQgICAgICBrID0gZnVuY3Rpb24gayhhLCBjLCBkLCBlKSB7XG5cdCAgICBiLmZvckVhY2goaihjKSwgZnVuY3Rpb24gKGIpIHtcblx0ICAgICAgdmFyIGYgPSBkLiR3YXRjaChiLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgZS5uY3lCcmVhZGNydW1iTGFiZWwgPSBjKGQpO1xuXHQgICAgICB9KTthLnB1c2goZik7XG5cdCAgICB9KTtcblx0ICB9LFxuXHQgICAgICBsID0gZnVuY3Rpb24gbChhKSB7XG5cdCAgICBiLmZvckVhY2goYSwgZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgYSgpO1xuXHQgICAgfSk7XG5cdCAgfTtnLiRpbmplY3QgPSBbXCIkaW50ZXJwb2xhdGVcIiwgXCIkYnJlYWRjcnVtYlwiLCBcIiRyb290U2NvcGVcIl0sIGguJGluamVjdCA9IFtcIiRpbnRlcnBvbGF0ZVwiLCBcIiRicmVhZGNydW1iXCIsIFwiJHJvb3RTY29wZVwiXSwgaS4kaW5qZWN0ID0gW1wiJGludGVycG9sYXRlXCIsIFwiJGJyZWFkY3J1bWJcIiwgXCIkcm9vdFNjb3BlXCJdLCBiLm1vZHVsZShcIm5jeS1hbmd1bGFyLWJyZWFkY3J1bWJcIiwgW1widWkucm91dGVyLnN0YXRlXCJdKS5wcm92aWRlcihcIiRicmVhZGNydW1iXCIsIGYpLmRpcmVjdGl2ZShcIm5jeUJyZWFkY3J1bWJcIiwgZykuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYkxhc3RcIiwgaCkuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYlRleHRcIiwgaSk7XG5cdH0od2luZG93LCB3aW5kb3cuYW5ndWxhcik7XG5cbi8qKiovIH0sXG5cbi8qKiovIDU5Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihqUXVlcnkpIHsndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0KGZ1bmN0aW9uIChtb21lbnQpIHtcblx0XG5cdCAgJ3VzZSBzdHJpY3QnO1xuXHRcblx0ICB2YXIgbW9kdWxlTmFtZSA9IFwibmdNYXRlcmlhbERhdGVQaWNrZXJcIjtcblx0XG5cdCAgdmFyIFZJRVdfU1RBVEVTID0ge1xuXHQgICAgREFURTogMCxcblx0ICAgIEhPVVI6IDEsXG5cdCAgICBNSU5VVEU6IDJcblx0ICB9O1xuXHRcblx0ICB2YXIgY3NzID0gZnVuY3Rpb24gY3NzKGVsLCBuYW1lKSB7XG5cdCAgICBpZiAoJ2pRdWVyeScgaW4gd2luZG93KSB7XG5cdCAgICAgIHJldHVybiBqUXVlcnkoZWwpLmNzcyhuYW1lKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVsID0gYW5ndWxhci5lbGVtZW50KGVsKTtcblx0ICAgICAgcmV0dXJuICdnZXRDb21wdXRlZFN0eWxlJyBpbiB3aW5kb3cgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbFswXSlbbmFtZV0gOiBlbC5jc3MobmFtZSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdmFyIHRlbXBsYXRlID0gJzxtZC1kaWFsb2cgY2xhc3M9XCJkdHBcIiBsYXlvdXQ9XCJjb2x1bW5cIiBzdHlsZT1cIndpZHRoOiAzMDBweDtcIj4nICsgJyAgICA8bWQtZGlhbG9nLWNvbnRlbnQgY2xhc3M9XCJkdHAtY29udGVudFwiPicgKyAnICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWRhdGUtdmlld1wiPicgKyAnICAgICAgICAgICAgPGhlYWRlciBjbGFzcz1cImR0cC1oZWFkZXJcIj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1kYXlcIiBuZy1zaG93PVwicGlja2VyLmRhdGVNb2RlXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiZGRkZFwiKX19PC9kaXY+JyArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtZGF5XCIgbmctc2hvdz1cInBpY2tlci50aW1lTW9kZVwiPnt7cGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBwaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiQVwiKSA6IFwiIFwifX08L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWNsb3NlIHRleHQtcmlnaHRcIj4nICsgJyAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgbmctY2xpY2s9XCJwaWNrZXIuaGlkZSgpXCI+JnRpbWVzOzwvYT4nICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgIDwvaGVhZGVyPicgKyAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1kYXRlXCIgbmctc2hvdz1cInBpY2tlci5wYXJhbXMuZGF0ZVwiPicgKyAnICAgICAgICAgICAgICAgIDxkaXYgbGF5b3V0PVwiY29sdW1uXCI+JyArICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW1vbnRoXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiTU1NXCIpIHwgdXBwZXJjYXNlfX08L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1udW1cIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJERFwiKX19PC9kaXY+JyArICcgICAgICAgICAgICAgICAgPGRpdiBsYXlvdXQ9XCJyb3dcIj4nICsgJyA8ZGl2IG5nLWNsaWNrPVwicGlja2VyLmluY3JlbWVudFllYXIoLTEpXCIgY2xhc3M9XCJkdHAteWVhci1idG4gZHRwLXllYXItYnRuLXByZXZcIiBmbGV4PVwiMzBcIj48c3BhbiBuZy1pZj1cInBpY2tlci5pc1ByZXZpb3VzWWVhclZpc2libGUoKVwiID4mI3gyNUIyOzwvc3Bhbj48L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwteWVhclwiIGZsZXg+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiWVlZWVwiKX19PC9kaXY+JyArICcgPGRpdiBuZy1jbGljaz1cInBpY2tlci5pbmNyZW1lbnRZZWFyKDEpXCIgY2xhc3M9XCJkdHAteWVhci1idG4gZHRwLXllYXItYnRuLW5leHRcIiBmbGV4PVwiMzBcIj48c3BhbiBuZy1pZj1cInBpY2tlci5pc05leHRZZWFyVmlzaWJsZSgpXCIgPiYjeDI1QkM7PC9zcGFuPjwvZGl2PicgKyAnICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgPC9kaXY+JyAvL3N0YXJ0IHRpbWVcblx0ICArICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLXRpbWVcIiBuZy1zaG93PVwicGlja2VyLnBhcmFtcy50aW1lICYmICFwaWNrZXIucGFyYW1zLmRhdGVcIj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1tYXh0aW1lXCI+e3twaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCkuZm9ybWF0KHBpY2tlci5wYXJhbXMuc2hvcnRUaW1lID8gXCJoaDptbVwiIDogXCJISDptbVwiKX19PC9kaXY+JyArICcgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtcGlja2VyXCI+JyArICcgICAgICAgICAgICAgICAgPG1kYy1kYXRldGltZS1waWNrZXItY2FsZW5kYXIgZGF0ZT1cInBpY2tlci5jdXJyZW50RGF0ZVwiIHBpY2tlcj1cInBpY2tlclwiIGNsYXNzPVwiZHRwLXBpY2tlci1jYWxlbmRhclwiIG5nLXNob3c9XCJwaWNrZXIuY3VycmVudFZpZXcgPT09IHBpY2tlci5WSUVXUy5EQVRFXCI+PC9tZGMtZGF0ZXRpbWUtcGlja2VyLWNhbGVuZGFyPicgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtcGlja2VyLWRhdGV0aW1lXCIgbmctc2hvdz1cInBpY2tlci5jdXJyZW50VmlldyAhPT0gcGlja2VyLlZJRVdTLkRBVEVcIj4nICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbWVyaWRpZW5cIj4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0IHAyMFwiPicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIGNsYXNzPVwiZHRwLW1lcmlkaWVuLWFtXCIgbmctY2xhc3M9XCJ7c2VsZWN0ZWQ6IHBpY2tlci5tZXJpZGllbiA9PSBcXCdBTVxcJ31cIiBuZy1jbGljaz1cInBpY2tlci5zZWxlY3RBTSgpXCI+e3twaWNrZXIucGFyYW1zLmFtVGV4dH19PC9hPicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLXNob3c9XCIhcGlja2VyLnRpbWVNb2RlXCIgY2xhc3M9XCJkdHAtYWN0dWFsLXRpbWUgcDYwXCI+e3twaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCkuZm9ybWF0KHBpY2tlci5wYXJhbXMuc2hvcnRUaW1lID8gXCJoaDptbVwiIDogXCJISDptbVwiKX19PC9kaXY+JyArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQgcDIwXCI+JyArICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgY2xhc3M9XCJkdHAtbWVyaWRpZW4tcG1cIiBuZy1jbGFzcz1cIntzZWxlY3RlZDogcGlja2VyLm1lcmlkaWVuID09IFxcJ1BNXFwnfVwiIG5nLWNsaWNrPVwicGlja2VyLnNlbGVjdFBNKClcIj57e3BpY2tlci5wYXJhbXMucG1UZXh0fX08L2E+JyArICcgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PicgKyAnICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgPG1kYy1kYXRldGltZS1waWNrZXItY2xvY2sgbW9kZT1cImhvdXJzXCIgbmctaWY9XCJwaWNrZXIuY3VycmVudFZpZXcgPT09IHBpY2tlci5WSUVXUy5IT1VSXCI+PC9tZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrPicgKyAnICAgICAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jayBtb2RlPVwibWludXRlc1wiIG5nLWlmPVwicGlja2VyLmN1cnJlbnRWaWV3ID09PSBwaWNrZXIuVklFV1MuTUlOVVRFXCI+PC9tZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrPicgKyAnICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgIDwvZGl2PicgKyAnICAgIDwvbWQtZGlhbG9nLWNvbnRlbnQ+JyArICcgICAgPG1kLWRpYWxvZy1hY3Rpb25zIGNsYXNzPVwiZHRwLWJ1dHRvbnNcIj4nICsgJyAgICAgICAgICAgIDxtZC1idXR0b24gY2xhc3M9XCJkdHAtYnRuLWNhbmNlbCBtZC1idXR0b25cIiBuZy1jbGljaz1cInBpY2tlci5jYW5jZWwoKVwiPiB7e3BpY2tlci5wYXJhbXMuY2FuY2VsVGV4dH19PC9tZC1idXR0b24+JyArICcgICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwiZHRwLWJ0bi1vayBtZC1idXR0b25cIiBuZy1jbGljaz1cInBpY2tlci5vaygpXCI+IHt7cGlja2VyLnBhcmFtcy5va1RleHR9fTwvbWQtYnV0dG9uPicgKyAnICAgICAgPC9tZC1kaWFsb2ctYWN0aW9ucz4nICsgJzwvbWQtZGlhbG9nPic7XG5cdFxuXHQgIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUsIFsnbmdNYXRlcmlhbCddKS5wcm92aWRlcignbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlJywgZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5sb2NhbGUgPSAnZW4nO1xuXHRcblx0ICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMubG9jYWxlO1xuXHQgICAgfTtcblx0XG5cdCAgICB0aGlzLnNldERlZmF1bHRMb2NhbGUgPSBmdW5jdGlvbiAobG9jYWxlU3RyaW5nKSB7XG5cdCAgICAgIHRoaXMubG9jYWxlID0gbG9jYWxlU3RyaW5nO1xuXHQgICAgfTtcblx0ICB9KS5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyJywgWyckbWREaWFsb2cnLCBmdW5jdGlvbiAoJG1kRGlhbG9nKSB7XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVzdHJpY3Q6ICdBJyxcblx0ICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuXHQgICAgICBzY29wZToge1xuXHQgICAgICAgIGN1cnJlbnREYXRlOiAnPW5nTW9kZWwnLFxuXHQgICAgICAgIHRpbWU6ICc9Jyxcblx0ICAgICAgICBkYXRlOiAnPScsXG5cdCAgICAgICAgbWluRGF0ZTogJz0nLFxuXHQgICAgICAgIG1heERhdGU6ICc9Jyxcblx0ICAgICAgICBzaG9ydFRpbWU6ICc9Jyxcblx0ICAgICAgICBmb3JtYXQ6ICdAJyxcblx0ICAgICAgICBjYW5jZWxUZXh0OiAnQCcsXG5cdCAgICAgICAgb2tUZXh0OiAnQCcsXG5cdCAgICAgICAgbGFuZzogJ0AnLFxuXHQgICAgICAgIGFtVGV4dDogJ0AnLFxuXHQgICAgICAgIHBtVGV4dDogJ0AnXG5cdCAgICAgIH0sXG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG5cdCAgICAgICAgdmFyIGlzT24gPSBmYWxzZTtcblx0ICAgICAgICBpZiAoIXNjb3BlLmZvcm1hdCkge1xuXHQgICAgICAgICAgaWYgKHNjb3BlLmRhdGUgJiYgc2NvcGUudGltZSkge1xuXHQgICAgICAgICAgICBzY29wZS5mb3JtYXQgPSAnWVlZWS1NTS1ERCBISDptbTpzcyc7XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKHNjb3BlLmRhdGUpIHtcblx0ICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ1lZWVktTU0tREQnO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ0hIOm1tJztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHNjb3BlLmN1cnJlbnREYXRlKSAmJiBzY29wZS5jdXJyZW50RGF0ZSAhPT0gJycpIHtcblx0ICAgICAgICAgIHNjb3BlLmN1cnJlbnREYXRlID0gbW9tZW50KHNjb3BlLmN1cnJlbnREYXRlLCBzY29wZS5mb3JtYXQpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKG5nTW9kZWwpIHtcblx0ICAgICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIG0gPSBtb21lbnQodmFsdWUpO1xuXHQgICAgICAgICAgICByZXR1cm4gbS5pc1ZhbGlkKCkgPyBtLmZvcm1hdChzY29wZS5mb3JtYXQpIDogJyc7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGVsZW1lbnQuYXR0cigncmVhZG9ubHknLCAnJyk7XG5cdCAgICAgICAgLy9AVE9ETyBjdXN0b20gZXZlbnQgdG8gdHJpZ2dlciBpbnB1dFxuXHQgICAgICAgIGVsZW1lbnQub24oJ2ZvY3VzJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICAgIGVsZW1lbnQuYmx1cigpO1xuXHQgICAgICAgICAgaWYgKGlzT24pIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgaXNPbiA9IHRydWU7XG5cdCAgICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuXHQgICAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRycykge1xuXHQgICAgICAgICAgICBpZiAoc2NvcGUuaGFzT3duUHJvcGVydHkoaSkgJiYgIWFuZ3VsYXIuaXNVbmRlZmluZWQoc2NvcGVbaV0pKSB7XG5cdCAgICAgICAgICAgICAgb3B0aW9uc1tpXSA9IHNjb3BlW2ldO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBvcHRpb25zLmN1cnJlbnREYXRlID0gc2NvcGUuY3VycmVudERhdGU7XG5cdCAgICAgICAgICB2YXIgbG9jYWxzID0geyBvcHRpb25zOiBvcHRpb25zIH07XG5cdCAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG5cdCAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcblx0ICAgICAgICAgICAgY29udHJvbGxlcjogUGx1Z2luQ29udHJvbGxlcixcblx0ICAgICAgICAgICAgY29udHJvbGxlckFzOiAncGlja2VyJyxcblx0ICAgICAgICAgICAgbG9jYWxzOiBsb2NhbHMsXG5cdCAgICAgICAgICAgIG9wZW5Gcm9tOiBlbGVtZW50LFxuXHQgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcblx0ICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcblx0ICAgICAgICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbDogZmFsc2Vcblx0ICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgICAgc2NvcGUuY3VycmVudERhdGUgPSB2ID8gdi5fZCA6IHY7XG5cdCAgICAgICAgICAgIGlzT24gPSBmYWxzZTtcblx0ICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgaXNPbiA9IGZhbHNlO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfV0pO1xuXHRcblx0ICB2YXIgUGx1Z2luQ29udHJvbGxlciA9IGZ1bmN0aW9uIFBsdWdpbkNvbnRyb2xsZXIoJHNjb3BlLCAkbWREaWFsb2csIG1kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSkge1xuXHQgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkRBVEU7XG5cdCAgICB0aGlzLl9kaWFsb2cgPSAkbWREaWFsb2c7XG5cdFxuXHQgICAgdGhpcy5taW5EYXRlO1xuXHQgICAgdGhpcy5tYXhEYXRlO1xuXHRcblx0ICAgIHRoaXMuX2F0dGFjaGVkRXZlbnRzID0gW107XG5cdCAgICB0aGlzLlZJRVdTID0gVklFV19TVEFURVM7XG5cdFxuXHQgICAgdGhpcy5wYXJhbXMgPSB7XG5cdCAgICAgIGRhdGU6IHRydWUsXG5cdCAgICAgIHRpbWU6IHRydWUsXG5cdCAgICAgIGZvcm1hdDogJ1lZWVktTU0tREQnLFxuXHQgICAgICBtaW5EYXRlOiBudWxsLFxuXHQgICAgICBtYXhEYXRlOiBudWxsLFxuXHQgICAgICBjdXJyZW50RGF0ZTogbnVsbCxcblx0ICAgICAgbGFuZzogbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlLFxuXHQgICAgICB3ZWVrU3RhcnQ6IDAsXG5cdCAgICAgIHNob3J0VGltZTogZmFsc2UsXG5cdCAgICAgIGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxuXHQgICAgICBva1RleHQ6ICdPSycsXG5cdCAgICAgIGFtVGV4dDogJ0FNJyxcblx0ICAgICAgcG1UZXh0OiAnUE0nXG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMubWVyaWRpZW4gPSAnQU0nO1xuXHQgICAgdGhpcy5wYXJhbXMgPSBhbmd1bGFyLmV4dGVuZCh0aGlzLnBhcmFtcywgdGhpcy5vcHRpb25zKTtcblx0ICAgIHRoaXMuaW5pdCgpO1xuXHQgIH07XG5cdCAgUGx1Z2luQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJG1kRGlhbG9nJywgJ21kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSddO1xuXHQgIFBsdWdpbkNvbnRyb2xsZXIucHJvdG90eXBlID0ge1xuXHQgICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcblx0ICAgICAgdGhpcy50aW1lTW9kZSA9IHRoaXMucGFyYW1zLnRpbWUgJiYgIXRoaXMucGFyYW1zLmRhdGU7XG5cdCAgICAgIHRoaXMuZGF0ZU1vZGUgPSB0aGlzLnBhcmFtcy5kYXRlO1xuXHQgICAgICB0aGlzLmluaXREYXRlcygpO1xuXHQgICAgICB0aGlzLnN0YXJ0KCk7XG5cdCAgICB9LFxuXHQgICAgY3VycmVudE5lYXJlc3Q1TWludXRlOiBmdW5jdGlvbiBjdXJyZW50TmVhcmVzdDVNaW51dGUoKSB7XG5cdCAgICAgIHZhciBkYXRlID0gdGhpcy5jdXJyZW50RGF0ZSB8fCBtb21lbnQoKTtcblx0ICAgICAgdmFyIG1pbnV0ZXMgPSA1ICogTWF0aC5yb3VuZChkYXRlLm1pbnV0ZSgpIC8gNSk7XG5cdCAgICAgIGlmIChtaW51dGVzID49IDYwKSB7XG5cdCAgICAgICAgbWludXRlcyA9IDU1OyAvL2Fsd2F5cyBwdXNoIGRvd25cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbW9tZW50KGRhdGUpLm1pbnV0ZXMobWludXRlcyk7XG5cdCAgICB9LFxuXHQgICAgaW5pdERhdGVzOiBmdW5jdGlvbiBpbml0RGF0ZXMoKSB7XG5cdCAgICAgIHZhciB0aGF0ID0gdGhpcztcblx0ICAgICAgdmFyIF9kYXRlUGFyYW0gPSBmdW5jdGlvbiBfZGF0ZVBhcmFtKGlucHV0LCBmYWxsYmFjaykge1xuXHQgICAgICAgIHZhciByZXQgPSBudWxsO1xuXHQgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnB1dCkgJiYgaW5wdXQgIT09IG51bGwgJiYgaW5wdXQgIT09ICcnKSB7XG5cdCAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhpbnB1dCkpIHtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGF0LnBhcmFtcy5mb3JtYXQgIT09ICd1bmRlZmluZWQnICYmIHRoYXQucGFyYW1zLmZvcm1hdCAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgIHJldCA9IG1vbWVudChpbnB1dCwgdGhhdC5wYXJhbXMuZm9ybWF0KS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgcmV0ID0gbW9tZW50KGlucHV0KS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZShpbnB1dCkpIHtcblx0ICAgICAgICAgICAgICB2YXIgeCA9IGlucHV0LmdldFRpbWUoKTtcblx0ICAgICAgICAgICAgICByZXQgPSBtb21lbnQoeCwgXCJ4XCIpLmxvY2FsZSh0aGF0LnBhcmFtcy5sYW5nKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5faXNBTW9tZW50T2JqZWN0KSB7XG5cdCAgICAgICAgICAgICAgcmV0ID0gaW5wdXQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0ID0gZmFsbGJhY2s7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB0aGlzLmN1cnJlbnREYXRlID0gX2RhdGVQYXJhbSh0aGlzLnBhcmFtcy5jdXJyZW50RGF0ZSwgbW9tZW50KCkpO1xuXHQgICAgICB0aGlzLm1pbkRhdGUgPSBfZGF0ZVBhcmFtKHRoaXMucGFyYW1zLm1pbkRhdGUpO1xuXHQgICAgICB0aGlzLm1heERhdGUgPSBfZGF0ZVBhcmFtKHRoaXMucGFyYW1zLm1heERhdGUpO1xuXHQgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZSk7XG5cdCAgICB9LFxuXHQgICAgaW5pdERhdGU6IGZ1bmN0aW9uIGluaXREYXRlKGQpIHtcblx0ICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkRBVEU7XG5cdCAgICB9LFxuXHQgICAgaW5pdEhvdXJzOiBmdW5jdGlvbiBpbml0SG91cnMoKSB7XG5cdCAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5IT1VSO1xuXHQgICAgfSxcblx0ICAgIGluaXRNaW51dGVzOiBmdW5jdGlvbiBpbml0TWludXRlcygpIHtcblx0ICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLk1JTlVURTtcblx0ICAgIH0sXG5cdCAgICBpc0FmdGVyTWluRGF0ZTogZnVuY3Rpb24gaXNBZnRlck1pbkRhdGUoZGF0ZSwgY2hlY2tIb3VyLCBjaGVja01pbnV0ZSkge1xuXHQgICAgICB2YXIgX3JldHVybiA9IHRydWU7XG5cdFxuXHQgICAgICBpZiAodHlwZW9mIHRoaXMubWluRGF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5taW5EYXRlICE9PSBudWxsKSB7XG5cdCAgICAgICAgdmFyIF9taW5EYXRlID0gbW9tZW50KHRoaXMubWluRGF0ZSk7XG5cdCAgICAgICAgdmFyIF9kYXRlID0gbW9tZW50KGRhdGUpO1xuXHRcblx0ICAgICAgICBpZiAoIWNoZWNrSG91ciAmJiAhY2hlY2tNaW51dGUpIHtcblx0ICAgICAgICAgIF9taW5EYXRlLmhvdXIoMCk7XG5cdCAgICAgICAgICBfbWluRGF0ZS5taW51dGUoMCk7XG5cdFxuXHQgICAgICAgICAgX2RhdGUuaG91cigwKTtcblx0ICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIF9taW5EYXRlLnNlY29uZCgwKTtcblx0ICAgICAgICBfZGF0ZS5zZWNvbmQoMCk7XG5cdCAgICAgICAgX21pbkRhdGUubWlsbGlzZWNvbmQoMCk7XG5cdCAgICAgICAgX2RhdGUubWlsbGlzZWNvbmQoMCk7XG5cdFxuXHQgICAgICAgIGlmICghY2hlY2tNaW51dGUpIHtcblx0ICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcblx0ICAgICAgICAgIF9taW5EYXRlLm1pbnV0ZSgwKTtcblx0XG5cdCAgICAgICAgICBfcmV0dXJuID0gcGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPj0gcGFyc2VJbnQoX21pbkRhdGUuZm9ybWF0KFwiWFwiKSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIF9yZXR1cm4gPSBwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA+PSBwYXJzZUludChfbWluRGF0ZS5mb3JtYXQoXCJYXCIpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmV0dXJuO1xuXHQgICAgfSxcblx0ICAgIGlzQmVmb3JlTWF4RGF0ZTogZnVuY3Rpb24gaXNCZWZvcmVNYXhEYXRlKGRhdGUsIGNoZWNrVGltZSwgY2hlY2tNaW51dGUpIHtcblx0ICAgICAgdmFyIF9yZXR1cm4gPSB0cnVlO1xuXHRcblx0ICAgICAgaWYgKHR5cGVvZiB0aGlzLm1heERhdGUgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubWF4RGF0ZSAhPT0gbnVsbCkge1xuXHQgICAgICAgIHZhciBfbWF4RGF0ZSA9IG1vbWVudCh0aGlzLm1heERhdGUpO1xuXHQgICAgICAgIHZhciBfZGF0ZSA9IG1vbWVudChkYXRlKTtcblx0XG5cdCAgICAgICAgaWYgKCFjaGVja1RpbWUgJiYgIWNoZWNrTWludXRlKSB7XG5cdCAgICAgICAgICBfbWF4RGF0ZS5ob3VyKDApO1xuXHQgICAgICAgICAgX21heERhdGUubWludXRlKDApO1xuXHRcblx0ICAgICAgICAgIF9kYXRlLmhvdXIoMCk7XG5cdCAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBfbWF4RGF0ZS5zZWNvbmQoMCk7XG5cdCAgICAgICAgX2RhdGUuc2Vjb25kKDApO1xuXHQgICAgICAgIF9tYXhEYXRlLm1pbGxpc2Vjb25kKDApO1xuXHQgICAgICAgIF9kYXRlLm1pbGxpc2Vjb25kKDApO1xuXHRcblx0ICAgICAgICBpZiAoIWNoZWNrTWludXRlKSB7XG5cdCAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG5cdCAgICAgICAgICBfbWF4RGF0ZS5taW51dGUoMCk7XG5cdFxuXHQgICAgICAgICAgX3JldHVybiA9IHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpIDw9IHBhcnNlSW50KF9tYXhEYXRlLmZvcm1hdChcIlhcIikpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfcmV0dXJuID0gcGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPD0gcGFyc2VJbnQoX21heERhdGUuZm9ybWF0KFwiWFwiKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JldHVybjtcblx0ICAgIH0sXG5cdCAgICBzZWxlY3REYXRlOiBmdW5jdGlvbiBzZWxlY3REYXRlKGRhdGUpIHtcblx0ICAgICAgaWYgKGRhdGUpIHtcblx0ICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KGRhdGUpO1xuXHQgICAgICAgIGlmICghdGhpcy5pc0FmdGVyTWluRGF0ZSh0aGlzLmN1cnJlbnREYXRlKSkge1xuXHQgICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG1vbWVudCh0aGlzLm1pbkRhdGUpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKCF0aGlzLmlzQmVmb3JlTWF4RGF0ZSh0aGlzLmN1cnJlbnREYXRlKSkge1xuXHQgICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG1vbWVudCh0aGlzLm1heERhdGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLmN1cnJlbnREYXRlLmxvY2FsZSh0aGlzLnBhcmFtcy5sYW5nKTtcblx0ICAgICAgICB0aGlzLmNhbGVuZGFyU3RhcnQgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG5cdCAgICAgICAgdGhpcy5tZXJpZGllbiA9IHRoaXMuY3VycmVudERhdGUuaG91cigpID49IDEyID8gJ1BNJyA6ICdBTSc7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBzZXROYW1lOiBmdW5jdGlvbiBzZXROYW1lKCkge1xuXHQgICAgICB2YXIgdGV4dCA9IFwiXCI7XG5cdCAgICAgIHZhciBwb3NzaWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjtcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG5cdCAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiB0ZXh0O1xuXHQgICAgfSxcblx0ICAgIGlzUE06IGZ1bmN0aW9uIGlzUE0oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1lcmlkaWVuID09PSAnUE0nO1xuXHQgICAgfSxcblx0ICAgIGluY3JlbWVudFllYXI6IGZ1bmN0aW9uIGluY3JlbWVudFllYXIoYW1vdW50KSB7XG5cdCAgICAgIGlmIChhbW91bnQgPT09IDEgJiYgdGhpcy5pc05leHRZZWFyVmlzaWJsZSgpKSB7XG5cdCAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuYWRkKCd5ZWFyJywgYW1vdW50KSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChhbW91bnQgPT09IC0xICYmIHRoaXMuaXNQcmV2aW91c1llYXJWaXNpYmxlKCkpIHtcblx0ICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5hZGQoJ3llYXInLCBhbW91bnQpKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIGlzUHJldmlvdXNNb250aFZpc2libGU6IGZ1bmN0aW9uIGlzUHJldmlvdXNNb250aFZpc2libGUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0FmdGVyTWluRGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5zdGFydE9mKCdtb250aCcpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgfSxcblx0ICAgIGlzTmV4dE1vbnRoVmlzaWJsZTogZnVuY3Rpb24gaXNOZXh0TW9udGhWaXNpYmxlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLmVuZE9mKCdtb250aCcpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgfSxcblx0ICAgIGlzUHJldmlvdXNZZWFyVmlzaWJsZTogZnVuY3Rpb24gaXNQcmV2aW91c1llYXJWaXNpYmxlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNBZnRlck1pbkRhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuc3RhcnRPZigneWVhcicpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgfSxcblx0ICAgIGlzTmV4dFllYXJWaXNpYmxlOiBmdW5jdGlvbiBpc05leHRZZWFyVmlzaWJsZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5lbmRPZigneWVhcicpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgfSxcblx0ICAgIGlzSG91ckF2YWlsYWJsZTogZnVuY3Rpb24gaXNIb3VyQXZhaWxhYmxlKGhvdXIpIHtcblx0ICAgICAgdmFyIF9kYXRlID0gbW9tZW50KHRoaXMuY3VycmVudERhdGUpO1xuXHQgICAgICBfZGF0ZS5ob3VyKHRoaXMuY29udmVydEhvdXJzKGhvdXIpKS5taW51dGUoMCkuc2Vjb25kKDApO1xuXHQgICAgICByZXR1cm4gdGhpcy5pc0FmdGVyTWluRGF0ZShfZGF0ZSwgdHJ1ZSwgZmFsc2UpICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKF9kYXRlLCB0cnVlLCBmYWxzZSk7XG5cdCAgICB9LFxuXHQgICAgaXNNaW51dGVBdmFpbGFibGU6IGZ1bmN0aW9uIGlzTWludXRlQXZhaWxhYmxlKG1pbnV0ZSkge1xuXHQgICAgICB2YXIgX2RhdGUgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG5cdCAgICAgIF9kYXRlLm1pbnV0ZShtaW51dGUpLnNlY29uZCgwKTtcblx0ICAgICAgcmV0dXJuIHRoaXMuaXNBZnRlck1pbkRhdGUoX2RhdGUsIHRydWUsIHRydWUpICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKF9kYXRlLCB0cnVlLCB0cnVlKTtcblx0ICAgIH0sXG5cdCAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7XG5cdCAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5EQVRFO1xuXHQgICAgICAvL3RoaXMuaW5pdERhdGVzKCk7XG5cdCAgICAgIGlmICh0aGlzLnBhcmFtcy5kYXRlKSB7XG5cdCAgICAgICAgdGhpcy5pbml0RGF0ZSgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICh0aGlzLnBhcmFtcy50aW1lKSB7XG5cdCAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIG9rOiBmdW5jdGlvbiBvaygpIHtcblx0ICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRWaWV3KSB7XG5cdCAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5EQVRFOlxuXHQgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUgPT09IHRydWUpIHtcblx0ICAgICAgICAgICAgdGhpcy5pbml0SG91cnMoKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuaGlkZSh0cnVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgVklFV19TVEFURVMuSE9VUjpcblx0ICAgICAgICAgIHRoaXMuaW5pdE1pbnV0ZXMoKTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgVklFV19TVEFURVMuTUlOVVRFOlxuXHQgICAgICAgICAgdGhpcy5oaWRlKHRydWUpO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHtcblx0ICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUpIHtcblx0ICAgICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFZpZXcpIHtcblx0ICAgICAgICAgIGNhc2UgVklFV19TVEFURVMuREFURTpcblx0ICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5IT1VSOlxuXHQgICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMuZGF0ZSkge1xuXHQgICAgICAgICAgICAgIHRoaXMuaW5pdERhdGUoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIGNhc2UgVklFV19TVEFURVMuTUlOVVRFOlxuXHQgICAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5oaWRlKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBzZWxlY3RNb250aEJlZm9yZTogZnVuY3Rpb24gc2VsZWN0TW9udGhCZWZvcmUoKSB7XG5cdCAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5zdWJ0cmFjdCgxLCAnbW9udGhzJyk7XG5cdCAgICB9LFxuXHQgICAgc2VsZWN0TW9udGhBZnRlcjogZnVuY3Rpb24gc2VsZWN0TW9udGhBZnRlcigpIHtcblx0ICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LmFkZCgxLCAnbW9udGhzJyk7XG5cdCAgICB9LFxuXHQgICAgc2VsZWN0WWVhckJlZm9yZTogZnVuY3Rpb24gc2VsZWN0WWVhckJlZm9yZSgpIHtcblx0ICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LnN1YnRyYWN0KDEsICd5ZWFycycpO1xuXHQgICAgfSxcblx0ICAgIHNlbGVjdFllYXJBZnRlcjogZnVuY3Rpb24gc2VsZWN0WWVhckFmdGVyKCkge1xuXHQgICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuYWRkKDEsICd5ZWFycycpO1xuXHQgICAgfSxcblx0ICAgIHNlbGVjdEFNOiBmdW5jdGlvbiBzZWxlY3RBTSgpIHtcblx0ICAgICAgaWYgKHRoaXMuaXNIb3VyQXZhaWxhYmxlKDApIHx8IHRoaXMuaXNIb3VyQXZhaWxhYmxlKDEyKSkge1xuXHQgICAgICAgIGlmICh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSA+PSAxMikge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuc3VidHJhY3QoMTIsICdob3VycycpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCF0aGlzLmlzSG91ckF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSkpIHtcblx0ICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIodGhpcy5taW5EYXRlLmhvdXIoKSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuaXNNaW51dGVBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUoKSkpIHtcblx0ICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSh0aGlzLm1pbkRhdGUubWludXRlKCkpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBzZWxlY3RQTTogZnVuY3Rpb24gc2VsZWN0UE0oKSB7XG5cdCAgICAgIGlmICh0aGlzLmlzSG91ckF2YWlsYWJsZSgxMykgfHwgdGhpcy5pc0hvdXJBdmFpbGFibGUoMjQpKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuY3VycmVudERhdGUuaG91cigpIDwgMTIpIHtcblx0ICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmFkZCgxMiwgJ2hvdXJzJykpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuaXNIb3VyQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUuaG91cigpKSkge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuaG91cih0aGlzLm1heERhdGUuaG91cigpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghdGhpcy5pc01pbnV0ZUF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSgpKSkge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUubWludXRlKHRoaXMubWF4RGF0ZS5taW51dGUoKSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIGNvbnZlcnRIb3VyczogZnVuY3Rpb24gY29udmVydEhvdXJzKGgpIHtcblx0ICAgICAgdmFyIF9yZXR1cm4gPSBoO1xuXHQgICAgICBpZiAoaCA8IDEyICYmIHRoaXMuaXNQTSgpKSBfcmV0dXJuICs9IDEyO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZXR1cm47XG5cdCAgICB9LFxuXHQgICAgaGlkZTogZnVuY3Rpb24gaGlkZShva0J0bikge1xuXHQgICAgICBpZiAob2tCdG4pIHtcblx0ICAgICAgICB0aGlzLl9kaWFsb2cuaGlkZSh0aGlzLmN1cnJlbnREYXRlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9kaWFsb2cuY2FuY2VsKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBhbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lKS5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXInLCBbZnVuY3Rpb24gKCkge1xuXHRcblx0ICAgIHZhciBzdGFydERhdGUgPSBtb21lbnQoKSxcblx0ICAgICAgICBZRUFSX01JTiA9IDE5MDAsXG5cdCAgICAgICAgWUVBUl9NQVggPSAyMTAwLFxuXHQgICAgICAgIE1PTlRIU19JTl9BTEwgPSAoWUVBUl9NQVggLSBZRUFSX01JTiArIDEpICogMTIsXG5cdCAgICAgICAgSVRFTV9IRUlHSFQgPSAyNDAsXG5cdCAgICAgICAgTU9OVEhTID0gW107XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1PTlRIU19JTl9BTEw7IGkrKykge1xuXHQgICAgICBNT05USFMucHVzaChpKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY3VycmVudE1vbnRoSW5kZXggPSBmdW5jdGlvbiBjdXJyZW50TW9udGhJbmRleChkYXRlKSB7XG5cdCAgICAgIHZhciB5ZWFyID0gZGF0ZS55ZWFyKCk7XG5cdCAgICAgIHZhciBtb250aCA9IGRhdGUubW9udGgoKTtcblx0ICAgICAgcmV0dXJuICh5ZWFyIC0gWUVBUl9NSU4pICogMTIgKyBtb250aCAtIDE7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJlc3RyaWN0OiAnRScsXG5cdCAgICAgIHNjb3BlOiB7XG5cdCAgICAgICAgcGlja2VyOiAnPScsXG5cdCAgICAgICAgZGF0ZTogJz0nXG5cdCAgICAgIH0sXG5cdCAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG5cdCAgICAgIGNvbnRyb2xsZXJBczogJ2NhbCcsXG5cdCAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSkge1xuXHQgICAgICAgIHZhciBjYWxlbmRhciA9IHRoaXMsXG5cdCAgICAgICAgICAgIHBpY2tlciA9IHRoaXMucGlja2VyLFxuXHQgICAgICAgICAgICBkYXlzID0gW107XG5cdFxuXHQgICAgICAgIGZvciAodmFyIGkgPSBwaWNrZXIucGFyYW1zLndlZWtTdGFydDsgZGF5cy5sZW5ndGggPCA3OyBpKyspIHtcblx0ICAgICAgICAgIGlmIChpID4gNikge1xuXHQgICAgICAgICAgICBpID0gMDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGRheXMucHVzaChpLnRvU3RyaW5nKCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgY2FsZW5kYXIud2VlayA9IGRheXM7XG5cdCAgICAgICAgaWYgKCFwaWNrZXIubWF4RGF0ZSAmJiAhcGlja2VyLm1pbkRhdGUpIHtcblx0ICAgICAgICAgIGNhbGVuZGFyLm1vbnRocyA9IE1PTlRIUztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdmFyIGxvdyA9IHBpY2tlci5taW5EYXRlID8gY3VycmVudE1vbnRoSW5kZXgocGlja2VyLm1pbkRhdGUpIDogMDtcblx0ICAgICAgICAgIHZhciBoaWdoID0gcGlja2VyLm1heERhdGUgPyBjdXJyZW50TW9udGhJbmRleChwaWNrZXIubWF4RGF0ZSkgKyAxIDogTU9OVEhTX0lOX0FMTDtcblx0ICAgICAgICAgIGNhbGVuZGFyLm1vbnRocyA9IE1PTlRIUy5zbGljZShsb3csIGhpZ2gpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgY2FsZW5kYXIuZ2V0SXRlbUF0SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcblx0ICAgICAgICAgIHZhciBtb250aCA9IChpbmRleCArIDEpICUgMTIgfHwgMTI7XG5cdCAgICAgICAgICB2YXIgeWVhciA9IFlFQVJfTUlOICsgTWF0aC5mbG9vcihpbmRleCAvIDEyKTtcblx0ICAgICAgICAgIHZhciBtb250aE9iaiA9IG1vbWVudChwaWNrZXIuY3VycmVudERhdGUpLnllYXIoeWVhcikubW9udGgobW9udGgpO1xuXHQgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlTW9udGhDYWxlbmRhcihtb250aE9iaik7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY2FsZW5kYXIudG9wSW5kZXggPSBjdXJyZW50TW9udGhJbmRleChwaWNrZXIuY3VycmVudERhdGUpIC0gY2FsZW5kYXIubW9udGhzWzBdO1xuXHRcblx0ICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHJldHVybiBwaWNrZXIuY3VycmVudERhdGUgPyBwaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KCdZWVlZLU1NJykgOiAnJztcblx0ICAgICAgICB9LCBmdW5jdGlvbiAodmFsMiwgdmFsMSkge1xuXHQgICAgICAgICAgaWYgKHZhbDIgIT0gdmFsMSkge1xuXHQgICAgICAgICAgICB2YXIgbkRhdGUgPSBtb21lbnQodmFsMiwgJ1lZWVktTU0nKTtcblx0ICAgICAgICAgICAgdmFyIGluZGV4ID0gY3VycmVudE1vbnRoSW5kZXgobkRhdGUpO1xuXHQgICAgICAgICAgICBpZiAoY2FsZW5kYXIudG9wSW5kZXggIT0gaW5kZXgpIHtcblx0ICAgICAgICAgICAgICBjYWxlbmRhci50b3BJbmRleCA9IGluZGV4IC0gY2FsZW5kYXIubW9udGhzWzBdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHZhciBnZW5lcmF0ZU1vbnRoQ2FsZW5kYXIgPSBmdW5jdGlvbiBnZW5lcmF0ZU1vbnRoQ2FsZW5kYXIoZGF0ZSkge1xuXHQgICAgICAgICAgdmFyIG1vbnRoID0ge307XG5cdCAgICAgICAgICBpZiAoZGF0ZSAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICBtb250aC5uYW1lID0gZGF0ZS5mb3JtYXQoJ01NTU0gWVlZWScpO1xuXHQgICAgICAgICAgICB2YXIgc3RhcnRPZk1vbnRoID0gbW9tZW50KGRhdGUpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLnN0YXJ0T2YoJ21vbnRoJykuaG91cihkYXRlLmhvdXIoKSkubWludXRlKGRhdGUubWludXRlKCkpO1xuXHQgICAgICAgICAgICB2YXIgaU51bURheSA9IHN0YXJ0T2ZNb250aC5mb3JtYXQoJ2QnKTtcblx0ICAgICAgICAgICAgbW9udGguZGF5cyA9IFtdO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRPZk1vbnRoLmRhdGUoKTsgaSA8PSBzdGFydE9mTW9udGguZGF5c0luTW9udGgoKTsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgaWYgKGkgPT09IHN0YXJ0T2ZNb250aC5kYXRlKCkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpV2VlayA9IGNhbGVuZGFyLndlZWsuaW5kZXhPZihpTnVtRGF5LnRvU3RyaW5nKCkpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGlXZWVrID4gMCkge1xuXHQgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGlXZWVrOyB4KyspIHtcblx0ICAgICAgICAgICAgICAgICAgICBtb250aC5kYXlzLnB1c2goMCk7XG5cdCAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgbW9udGguZGF5cy5wdXNoKG1vbWVudChzdGFydE9mTW9udGgpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLmRhdGUoaSkpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB2YXIgZGF5c0luQVdlZWsgPSA3LFxuXHQgICAgICAgICAgICAgICAgZGF5c1RtcCA9IFtdLFxuXHQgICAgICAgICAgICAgICAgc2xpY2VzID0gTWF0aC5jZWlsKG1vbnRoLmRheXMubGVuZ3RoIC8gZGF5c0luQVdlZWspO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNsaWNlczsgaisrKSB7XG5cdCAgICAgICAgICAgICAgZGF5c1RtcC5wdXNoKG1vbnRoLmRheXMuc2xpY2UoaiAqIGRheXNJbkFXZWVrLCAoaiArIDEpICogZGF5c0luQVdlZWspKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBtb250aC5kYXlzID0gZGF5c1RtcDtcblx0ICAgICAgICAgICAgcmV0dXJuIG1vbnRoO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGNhbGVuZGFyLnRvRGF5ID0gZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICAgIHJldHVybiBtb21lbnQocGFyc2VJbnQoaSksIFwiZFwiKS5sb2NhbGUocGlja2VyLnBhcmFtcy5sYW5nKS5mb3JtYXQoXCJkZFwiKS5zdWJzdHJpbmcoMCwgMSk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY2FsZW5kYXIuaXNJblJhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcblx0ICAgICAgICAgIHJldHVybiBwaWNrZXIuaXNBZnRlck1pbkRhdGUobW9tZW50KGRhdGUpLCBmYWxzZSwgZmFsc2UpICYmIHBpY2tlci5pc0JlZm9yZU1heERhdGUobW9tZW50KGRhdGUpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGNhbGVuZGFyLnNlbGVjdERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuXHQgICAgICAgICAgaWYgKGRhdGUpIHtcblx0ICAgICAgICAgICAgaWYgKGNhbGVuZGFyLmlzU2VsZWN0ZWREYXkoZGF0ZSkpIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gcGlja2VyLm9rKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcGlja2VyLnNlbGVjdERhdGUobW9tZW50KGRhdGUpLmhvdXIoY2FsZW5kYXIuZGF0ZS5ob3VyKCkpLm1pbnV0ZShjYWxlbmRhci5kYXRlLm1pbnV0ZSgpKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY2FsZW5kYXIuaXNTZWxlY3RlZERheSA9IGZ1bmN0aW9uIChtKSB7XG5cdCAgICAgICAgICByZXR1cm4gbSAmJiBjYWxlbmRhci5kYXRlLmRhdGUoKSA9PT0gbS5kYXRlKCkgJiYgY2FsZW5kYXIuZGF0ZS5tb250aCgpID09PSBtLm1vbnRoKCkgJiYgY2FsZW5kYXIuZGF0ZS55ZWFyKCkgPT09IG0ueWVhcigpO1xuXHQgICAgICAgIH07XG5cdCAgICAgIH1dLFxuXHQgICAgICB0ZW1wbGF0ZTogJzxtZC12aXJ0dWFsLXJlcGVhdC1jb250YWluZXIgbWQtdG9wLWluZGV4PVwiY2FsLnRvcEluZGV4XCIgY2xhc3M9XCJtb250aHNcIj4nICsgJzxkaXYgbWQtdmlydHVhbC1yZXBlYXQ9XCJpZHggaW4gY2FsLm1vbnRoc1wiIG1kLXN0YXJ0LWluZGV4PVwiY2FsLnRvcEluZGV4XCIgbWQtaXRlbS1zaXplPVwiJyArIElURU1fSEVJR0hUICsgJ1wiPicgKyAnICAgICA8ZGl2IG1kYy1kYXRldGltZS1waWNrZXItY2FsZW5kYXItbW9udGggaWR4PVwiaWR4XCI+PC9kaXY+JyArICc8L2Rpdj4nICsgJzwvbWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyPidcblx0ICAgIH07XG5cdCAgfV0pLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDYWxlbmRhck1vbnRoJywgWyckY29tcGlsZScsIGZ1bmN0aW9uICgkY29tcGlsZSkge1xuXHQgICAgdmFyIGJ1aWxkQ2FsZW5kYXJDb250ZW50ID0gZnVuY3Rpb24gYnVpbGRDYWxlbmRhckNvbnRlbnQoZWxlbWVudCwgc2NvcGUpIHtcblx0ICAgICAgdmFyIHRib2R5ID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcigndGJvZHknKSk7XG5cdCAgICAgIHZhciBjYWxlbmRhciA9IHNjb3BlLmNhbCxcblx0ICAgICAgICAgIG1vbnRoID0gc2NvcGUubW9udGg7XG5cdCAgICAgIHRib2R5Lmh0bWwoJycpO1xuXHQgICAgICBtb250aC5kYXlzLmZvckVhY2goZnVuY3Rpb24gKHdlZWtEYXlzLCBpKSB7XG5cdCAgICAgICAgdmFyIHRyID0gYW5ndWxhci5lbGVtZW50KCc8dHI+PC90cj4nKTtcblx0ICAgICAgICB3ZWVrRGF5cy5mb3JFYWNoKGZ1bmN0aW9uICh3ZWVrRGF5LCBqKSB7XG5cdCAgICAgICAgICB2YXIgdGQgPSBhbmd1bGFyLmVsZW1lbnQoJzx0ZD4gPC90ZD4nKTtcblx0ICAgICAgICAgIGlmICh3ZWVrRGF5KSB7XG5cdCAgICAgICAgICAgIHZhciBhT3JTcGFuO1xuXHQgICAgICAgICAgICBpZiAoY2FsZW5kYXIuaXNJblJhbmdlKHdlZWtEYXkpKSB7XG5cdCAgICAgICAgICAgICAgLy9idWlsZCBhXG5cdCAgICAgICAgICAgICAgdmFyIHNjb3BlUmVmID0gJ21vbnRoW1wiZGF5c1wiXVsnICsgaSArICddWycgKyBqICsgJ10nO1xuXHQgICAgICAgICAgICAgIGFPclNwYW4gPSBhbmd1bGFyLmVsZW1lbnQoXCI8YSBocmVmPScjJyBtZGMtZHRwLW5vY2xpY2s+PC9hPlwiKS5hdHRyKCduZy1jbGFzcycsICd7c2VsZWN0ZWQ6IGNhbC5pc1NlbGVjdGVkRGF5KCcgKyBzY29wZVJlZiArICcpfScpLmF0dHIoJ25nLWNsaWNrJywgJ2NhbC5zZWxlY3REYXRlKCcgKyBzY29wZVJlZiArICcpJyk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgYU9yU3BhbiA9IGFuZ3VsYXIuZWxlbWVudCgnPHNwYW4+PC9zcGFuPicpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGFPclNwYW4uYWRkQ2xhc3MoJ2R0cC1zZWxlY3QtZGF5JykuaHRtbCh3ZWVrRGF5LmZvcm1hdCgnRCcpKTtcblx0ICAgICAgICAgICAgdGQuYXBwZW5kKGFPclNwYW4pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgdHIuYXBwZW5kKHRkKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB0Ym9keS5hcHBlbmQodHIpO1xuXHQgICAgICB9KTtcblx0ICAgICAgJGNvbXBpbGUodGJvZHkpKHNjb3BlKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgc2NvcGU6IHtcblx0ICAgICAgICBpZHg6ICc9J1xuXHQgICAgICB9LFxuXHQgICAgICByZXF1aXJlOiAnXm1kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXInLFxuXHQgICAgICByZXN0cmljdDogJ0FFJyxcblx0ICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwiZHRwLXBpY2tlci1tb250aFwiPnt7bW9udGgubmFtZX19PC9kaXY+JyArICc8dGFibGUgY2xhc3M9XCJ0YWJsZSBkdHAtcGlja2VyLWRheXNcIj4nICsgJyAgICA8dGhlYWQ+JyArICcgICAgPHRyPicgKyAnICAgICAgICA8dGggbmctcmVwZWF0PVwiZGF5IGluIGNhbC53ZWVrXCI+e3tjYWwudG9EYXkoZGF5KX19PC90aD4nICsgJyAgICA8L3RyPicgKyAnICAgIDwvdGhlYWQ+JyArICcgICAgPHRib2R5PicgKyAnICAgIDwvdGJvZHk+JyArICc8L3RhYmxlPicsXG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjYWxlbmRhcikge1xuXHQgICAgICAgIHNjb3BlLmNhbCA9IGNhbGVuZGFyO1xuXHQgICAgICAgIHNjb3BlLm1vbnRoID0gY2FsZW5kYXIuZ2V0SXRlbUF0SW5kZXgocGFyc2VJbnQoc2NvcGUuaWR4KSk7XG5cdCAgICAgICAgYnVpbGRDYWxlbmRhckNvbnRlbnQoZWxlbWVudCwgc2NvcGUpO1xuXHQgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gc2NvcGUuaWR4O1xuXHQgICAgICAgIH0sIGZ1bmN0aW9uIChpZHgsIG9sZElkeCkge1xuXHQgICAgICAgICAgaWYgKGlkeCAhPSBvbGRJZHgpIHtcblx0ICAgICAgICAgICAgc2NvcGUubW9udGggPSBjYWxlbmRhci5nZXRJdGVtQXRJbmRleChwYXJzZUludChzY29wZS5pZHgpKTtcblx0ICAgICAgICAgICAgYnVpbGRDYWxlbmRhckNvbnRlbnQoZWxlbWVudCwgc2NvcGUpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1dKTtcblx0XG5cdCAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSkuZGlyZWN0aXZlKCdtZGNEdHBOb2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWwpIHtcblx0ICAgICAgICBlbC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH0pO1xuXHQgIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDbG9jaycsIFtmdW5jdGlvbiAoKSB7XG5cdFxuXHQgICAgdmFyIHRlbXBsYXRlID0gJzxkaXYgY2xhc3M9XCJkdHAtcGlja2VyLWNsb2NrXCI+PHNwYW4gbmctaWY9XCIhcG9pbnRzIHx8IHBvaW50cy5sZW5ndGggPCAxXCI+Jm5ic3A7PC9zcGFuPicgKyAnPGRpdiBuZy1yZXBlYXQ9XCJwb2ludCBpbiBwb2ludHNcIiBjbGFzcz1cImR0cC1waWNrZXItdGltZVwiIHN0eWxlPVwibWFyZ2luLWxlZnQ6IHt7cG9pbnQubGVmdH19cHg7IG1hcmdpbi10b3A6IHt7cG9pbnQudG9wfX1weDtcIj4nICsgJyAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwb2ludC52YWx1ZT09PWN1cnJlbnRWYWx1ZX1cIiBjbGFzcz1cImR0cC1zZWxlY3QtaG91clwiIG5nLWNsaWNrPVwic2V0VGltZShwb2ludC52YWx1ZSlcIiBuZy1pZj1cInBvaW50QXZhaWxhYmxlKHBvaW50KVwiPnt7cG9pbnQuZGlzcGxheX19PC9hPicgKyAnICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgY2xhc3M9XCJkaXNhYmxlZCBkdHAtc2VsZWN0LWhvdXJcIiBuZy1pZj1cIiFwb2ludEF2YWlsYWJsZShwb2ludClcIj57e3BvaW50LmRpc3BsYXl9fTwvYT4nICsgJzwvZGl2PicgKyAnPGRpdiBjbGFzcz1cImR0cC1oYW5kIGR0cC1ob3VyLWhhbmRcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJkdHAtaGFuZCBkdHAtbWludXRlLWhhbmRcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJkdHAtY2xvY2stY2VudGVyXCI+PC9kaXY+JyArICc8L2Rpdj4nO1xuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJlc3RyaWN0OiAnRScsXG5cdCAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcblx0ICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblx0ICAgICAgICB2YXIgbWludXRlTW9kZSA9IGF0dHJzLm1vZGUgPT09ICdtaW51dGVzJztcblx0ICAgICAgICB2YXIgcGlja2VyID0gc2NvcGUucGlja2VyO1xuXHQgICAgICAgIC8vYmFua2luZyBvbiB0aGUgZmFjdCB0aGF0IHRoZXJlIHdpbGwgb25seSBiZSBvbmUgYXQgYSB0aW1lXG5cdCAgICAgICAgdmFyIGNvbXBvbmVudFJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZC1kaWFsb2cuZHRwJyk7XG5cdCAgICAgICAgdmFyIGV4ZWMgPSBmdW5jdGlvbiBleGVjKCkge1xuXHQgICAgICAgICAgdmFyIGNsb2NrID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1waWNrZXItY2xvY2snKSksXG5cdCAgICAgICAgICAgICAgcGlja2VyRWwgPSBhbmd1bGFyLmVsZW1lbnQoY29tcG9uZW50Um9vdC5xdWVyeVNlbGVjdG9yKCcuZHRwLXBpY2tlcicpKTtcblx0XG5cdCAgICAgICAgICB2YXIgdyA9IGNvbXBvbmVudFJvb3QucXVlcnlTZWxlY3RvcignLmR0cC1jb250ZW50Jykub2Zmc2V0V2lkdGg7XG5cdCAgICAgICAgICB2YXIgcGwgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXHQgICAgICAgICAgdmFyIHByID0gcGFyc2VJbnQoY3NzKHBpY2tlckVsLCAncGFkZGluZ1JpZ2h0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgbWwgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5MZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgbXIgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5SaWdodCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXHQgICAgICAgICAgLy9zZXQgd2lkdGhcblx0ICAgICAgICAgIHZhciBjbG9ja1dpZHRoID0gdyAtIChtbCArIG1yICsgcGwgKyBwcik7XG5cdCAgICAgICAgICBjbG9jay5jc3MoJ3dpZHRoJywgY2xvY2tXaWR0aCArICdweCcpO1xuXHRcblx0ICAgICAgICAgIHZhciBwTCA9IHBhcnNlSW50KGNzcyhwaWNrZXJFbCwgJ3BhZGRpbmdMZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgcFQgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nVG9wJykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgbUwgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5MZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgbVQgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5Ub3AnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0XG5cdCAgICAgICAgICB2YXIgciA9IGNsb2NrV2lkdGggLyAyO1xuXHQgICAgICAgICAgdmFyIGogPSByIC8gMS4yOyAvLz8/P1xuXHRcblx0ICAgICAgICAgIHZhciBwb2ludHMgPSBbXTtcblx0XG5cdCAgICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8IDEyOyArK2gpIHtcblx0ICAgICAgICAgICAgdmFyIHggPSBqICogTWF0aC5zaW4oTWF0aC5QSSAqIDIgKiAoaCAvIDEyKSk7XG5cdCAgICAgICAgICAgIHZhciB5ID0gaiAqIE1hdGguY29zKE1hdGguUEkgKiAyICogKGggLyAxMikpO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGhvdXIgPSB7XG5cdCAgICAgICAgICAgICAgbGVmdDogciArIHggKyBwTCAvIDIgLSAocEwgKyBtTCksXG5cdCAgICAgICAgICAgICAgdG9wOiByIC0geSAtIG1UIC8gMiAtIChwVCArIG1UKSxcblx0ICAgICAgICAgICAgICB2YWx1ZTogbWludXRlTW9kZSA/IGggKiA1IDogaCAvLzUgZm9yIG1pbnV0ZSA2MC8xMlxuXHQgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgaWYgKG1pbnV0ZU1vZGUpIHtcblx0ICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBob3VyLnZhbHVlIDwgMTAgPyAnMCcgKyBob3VyLnZhbHVlIDogaG91ci52YWx1ZTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0XG5cdCAgICAgICAgICAgICAgaWYgKHBpY2tlci5wYXJhbXMuc2hvcnRUaW1lKSB7XG5cdCAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBoID09PSAwID8gMTIgOiBoO1xuXHQgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBwaWNrZXIuaXNQTSgpID8gaCArIDEyIDogaDtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHBvaW50cy5wdXNoKGhvdXIpO1xuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIHNjb3BlLnBvaW50cyA9IHBvaW50cztcblx0ICAgICAgICAgIHNldEN1cnJlbnRWYWx1ZSgpO1xuXHQgICAgICAgICAgY2xvY2suY3NzKCdoZWlnaHQnLCBjbG9ja1dpZHRoICsgJ3B4Jyk7XG5cdCAgICAgICAgICAvL3BpY2tlci5pbml0SGFuZHModHJ1ZSk7XG5cdFxuXHQgICAgICAgICAgdmFyIGNsb2NrQ2VudGVyID0gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLWNsb2NrLWNlbnRlcicpO1xuXHQgICAgICAgICAgdmFyIGNlbnRlcldpZHRoID0gY2xvY2tDZW50ZXIub2Zmc2V0V2lkdGggLyAyIHx8IDcuNSxcblx0ICAgICAgICAgICAgICBjZW50ZXJIZWlnaHQgPSBjbG9ja0NlbnRlci5vZmZzZXRIZWlnaHQgLyAyIHx8IDcuNTtcblx0ICAgICAgICAgIHZhciBfaEwgPSByIC8gMS44O1xuXHQgICAgICAgICAgdmFyIF9tTCA9IHIgLyAxLjU7XG5cdFxuXHQgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1ob3VyLWhhbmQnKSkuY3NzKHtcblx0ICAgICAgICAgICAgbGVmdDogciArIG1MICogMS41ICsgJ3B4Jyxcblx0ICAgICAgICAgICAgaGVpZ2h0OiBfaEwgKyAncHgnLFxuXHQgICAgICAgICAgICBtYXJnaW5Ub3A6IHIgLSBfaEwgLSBwTCArICdweCdcblx0ICAgICAgICAgIH0pLmFkZENsYXNzKCFtaW51dGVNb2RlID8gJ29uJyA6ICcnKTtcblx0XG5cdCAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLmNzcyh7XG5cdCAgICAgICAgICAgIGxlZnQ6IHIgKyBtTCAqIDEuNSArICdweCcsXG5cdCAgICAgICAgICAgIGhlaWdodDogX21MICsgJ3B4Jyxcblx0ICAgICAgICAgICAgbWFyZ2luVG9wOiByIC0gX21MIC0gcEwgKyAncHgnXG5cdCAgICAgICAgICB9KS5hZGRDbGFzcyhtaW51dGVNb2RlID8gJ29uJyA6ICcnKTtcblx0XG5cdCAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoY2xvY2tDZW50ZXIpLmNzcyh7XG5cdCAgICAgICAgICAgIGxlZnQ6IHIgKyBwTCArIG1MIC0gY2VudGVyV2lkdGggKyAncHgnLFxuXHQgICAgICAgICAgICBtYXJnaW5Ub3A6IHIgLSBtTCAvIDIgLSBjZW50ZXJIZWlnaHQgKyAncHgnXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIGFuaW1hdGVIYW5kcygpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciBhbmltYXRlSGFuZHMgPSBmdW5jdGlvbiBhbmltYXRlSGFuZHMoKSB7XG5cdCAgICAgICAgICB2YXIgX2RhdGUgPSBwaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCk7XG5cdCAgICAgICAgICB2YXIgaCA9IF9kYXRlLmhvdXIoKTtcblx0ICAgICAgICAgIHZhciBtID0gX2RhdGUubWludXRlKCk7XG5cdFxuXHQgICAgICAgICAgcm90YXRlRWxlbWVudChhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLWhvdXItaGFuZCcpKSwgMzYwIC8gMTIgKiBoKTtcblx0ICAgICAgICAgIHZhciBtZGcgPSAzNjAgLyA2MCAqICg1ICogTWF0aC5yb3VuZChtIC8gNSkpO1xuXHQgICAgICAgICAgcm90YXRlRWxlbWVudChhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLCBtZGcpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciByb3RhdGVFbGVtZW50ID0gZnVuY3Rpb24gcm90YXRlRWxlbWVudChlbCwgZGVnKSB7XG5cdCAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWwpLmNzcyh7XG5cdCAgICAgICAgICAgIFdlYmtpdFRyYW5zZm9ybTogJ3JvdGF0ZSgnICsgZGVnICsgJ2RlZyknLFxuXHQgICAgICAgICAgICAnLW1vei10cmFuc2Zvcm0nOiAncm90YXRlKCcgKyBkZWcgKyAnZGVnKSdcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciBzZXRDdXJyZW50VmFsdWUgPSBmdW5jdGlvbiBzZXRDdXJyZW50VmFsdWUoKSB7XG5cdCAgICAgICAgICB2YXIgZGF0ZSA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcblx0ICAgICAgICAgIHNjb3BlLmN1cnJlbnRWYWx1ZSA9IG1pbnV0ZU1vZGUgPyBkYXRlLm1pbnV0ZSgpIDogZGF0ZS5ob3VyKCkgJSAxMjtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgdmFyIHRtcCA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcblx0ICAgICAgICAgIHJldHVybiB0bXAgPyB0bXAuZm9ybWF0KCdISDptbScpIDogJyc7XG5cdCAgICAgICAgfSwgZnVuY3Rpb24gKG5ld1ZhbCkge1xuXHQgICAgICAgICAgc2V0Q3VycmVudFZhbHVlKCk7XG5cdCAgICAgICAgICBhbmltYXRlSGFuZHMoKTtcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgdmFyIHNldERpc3BsYXlQb2ludHMgPSBmdW5jdGlvbiBzZXREaXNwbGF5UG9pbnRzKGlzUE0sIHBvaW50cykge1xuXHQgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgcG9pbnRzW2ldLmRpc3BsYXkgPSBpO1xuXHQgICAgICAgICAgICBpZiAoaXNQTSkge1xuXHQgICAgICAgICAgICAgIHBvaW50c1tpXS5kaXNwbGF5ICs9IDEyO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gcG9pbnRzO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGlmICghcGlja2VyLnBhcmFtcy5zaG9ydFRpbWUpIHtcblx0ICAgICAgICAgIHNjb3BlLiR3YXRjaCgncGlja2VyLm1lcmlkaWVuJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBpZiAoIW1pbnV0ZU1vZGUpIHtcblx0ICAgICAgICAgICAgICBpZiAoc2NvcGUucG9pbnRzKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gc2V0RGlzcGxheVBvaW50cyhwaWNrZXIuaXNQTSgpLCBhbmd1bGFyLmNvcHkoc2NvcGUucG9pbnRzKSk7XG5cdCAgICAgICAgICAgICAgICBzY29wZS5wb2ludHMgPSBwb2ludHM7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHNjb3BlLnNldFRpbWUgPSBmdW5jdGlvbiAodmFsKSB7XG5cdCAgICAgICAgICBpZiAodmFsID09PSBzY29wZS5jdXJyZW50VmFsdWUpIHtcblx0ICAgICAgICAgICAgcGlja2VyLm9rKCk7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgaWYgKCFtaW51dGVNb2RlKSB7XG5cdCAgICAgICAgICAgIHBpY2tlci5jdXJyZW50RGF0ZS5ob3VyKHBpY2tlci5pc1BNKCkgPyB2YWwgKyAxMiA6IHZhbCk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBwaWNrZXIuY3VycmVudERhdGUubWludXRlKHZhbCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBwaWNrZXIuY3VycmVudERhdGUuc2Vjb25kKDApO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHNjb3BlLnBvaW50QXZhaWxhYmxlID0gZnVuY3Rpb24gKHBvaW50KSB7XG5cdCAgICAgICAgICByZXR1cm4gbWludXRlTW9kZSA/IHBpY2tlci5pc01pbnV0ZUF2YWlsYWJsZShwb2ludC52YWx1ZSkgOiBwaWNrZXIuaXNIb3VyQXZhaWxhYmxlKHBvaW50LnZhbHVlKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB2YXIgdW53YXRjaGVyID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHJldHVybiBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpLmxlbmd0aDtcblx0ICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBleGVjKCk7XG5cdCAgICAgICAgICB1bndhdGNoZXIoKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XSk7XG5cdH0pKF9tb21lbnQyLmRlZmF1bHQpO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1MTIpKSlcblxuLyoqKi8gfSxcblxuLyoqKi8gNTk3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTk4KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDg1KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDU5ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDg0KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIm1kLWRpYWxvZy5kdHB7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MS40Mjg1NzE0Mztjb2xvcjojMzMzO2JhY2tncm91bmQtY29sb3I6I2ZmZjttYXgtaGVpZ2h0Om5vbmV9LmR0cCA6Zm9jdXN7b3V0bGluZTpub25lIWltcG9ydGFudH0uZHRwIHRhYmxle2JvcmRlci1zcGFjaW5nOjA7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO3dpZHRoOjEwMCV9LmR0cCAudGFibGU+dGJvZHk+dHI+dGQsLmR0cCAudGFibGU+dGJvZHk+dHI+dGgsLmR0cCAudGFibGU+dGZvb3Q+dHI+dGQsLmR0cCAudGFibGU+dGZvb3Q+dHI+dGgsLmR0cCAudGFibGU+dGhlYWQ+dHI+dGQsLmR0cCAudGFibGU+dGhlYWQ+dHI+dGh7cGFkZGluZzo4cHg7bGluZS1oZWlnaHQ6MS40Mjg1NzE0Mzt2ZXJ0aWNhbC1hbGlnbjp0b3A7Ym9yZGVyLXRvcDoxcHggc29saWQgI2RkZH0uZHRwLC5kdHAgKntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50fS5kdHA+LmR0cC1jb250ZW50e21heC13aWR0aDozMDBweDttYXgtaGVpZ2h0OjUwMHB4fS5kdHA+LmR0cC1jb250ZW50Pi5kdHAtZGF0ZS12aWV3PmhlYWRlci5kdHAtaGVhZGVye2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmO3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6M3B4fS5kdHAgZGl2LmR0cC1kYXRlLC5kdHAgZGl2LmR0cC10aW1le2JhY2tncm91bmQ6IzhiYzM0YTt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojZmZmO3BhZGRpbmc6MTBweH0uZHRwIGRpdi5kdHAtZGF0ZT5kaXZ7cGFkZGluZzowO21hcmdpbjowfS5kdHAgZGl2LmR0cC1hY3R1YWwtbW9udGh7Zm9udC1zaXplOjEuNWVtfS5kdHAgZGl2LmR0cC1hY3R1YWwtbWF4dGltZSwuZHRwIGRpdi5kdHAtYWN0dWFsLW51bXtmb250LXNpemU6M2VtO2xpbmUtaGVpZ2h0Oi45fS5kdHAgZGl2LmR0cC1hY3R1YWwteWVhcntmb250LXNpemU6MS42ZW07Y29sb3I6I2RjZWRjOH0uZHRwIGRpdi5kdHAteWVhci1idG57Zm9udC1zaXplOjEuNGVtO2xpbmUtaGVpZ2h0OjMwcHg7Y3Vyc29yOnBvaW50ZXI7Y29sb3I6I2RjZWRjOH0uZHRwIGRpdi5kdHAteWVhci1idG4tcHJldnt0ZXh0LWFsaWduOnJpZ2h0fS5kdHAgZGl2LmR0cC15ZWFyLWJ0bi1uZXh0e3RleHQtYWxpZ246bGVmdH0uZHRwIGRpdi5kdHAtcGlja2Vye3BhZGRpbmc6MTBweDt0ZXh0LWFsaWduOmNlbnRlcn0uZHRwIGRpdi5kdHAtYWN0dWFsLXRpbWUsLmR0cCBkaXYuZHRwLXBpY2tlci1tb250aHtmb250LXdlaWdodDo1MDA7dGV4dC1hbGlnbjpjZW50ZXJ9LmR0cCAuZHRwLWNsb3Nle3Bvc2l0aW9uOmFic29sdXRlO3RvcDouMjVlbTtyaWdodDo1cHg7Zm9udC1zaXplOjE2cHh9LmR0cCAuZHRwLWNsb3NlPmF7Y29sb3I6I2ZmZjt0ZXh0LWRlY29yYXRpb246bm9uZX0uZHRwIC5kdHAtY2xvc2U+YT5pe2ZvbnQtc2l6ZToxZW19LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXN7bWFyZ2luOjA7bWluLWhlaWdodDoyMjBweH0uZHRwIG1kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lci5tb250aHN7aGVpZ2h0OjI2MHB4fS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRke2JvcmRlcjpub25lfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRke2ZvbnQtc2l6ZToxMXB4O3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6MH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5zcGFuLmR0cC1zZWxlY3QtZGF5e2NvbG9yOiNiZGJkYmQhaW1wb3J0YW50fS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPi5kdHAtc2VsZWN0LWRheXt3aWR0aDozNnB4O2hlaWdodDozNnB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5kdHAgLmR0cC1waWNrZXItdGltZT5hLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPi5kdHAtc2VsZWN0LWRheXtjb2xvcjojMjEyMTIxO3RleHQtZGVjb3JhdGlvbjpub25lO3BhZGRpbmc6MTBweDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnR9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+YS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM4YmMzNGE7Y29sb3I6I2ZmZn0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5hOmhvdmVyOm5vdCguc2VsZWN0ZWQpe2JhY2tncm91bmQ6I2RkZH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50aHtjb2xvcjojNzU3NTc1O3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtd2VpZ2h0OjcwMDtwYWRkaW5nOjRweCAzcHh9LmR0cCAucDEwPmF7Y29sb3I6IzY4OWYzODt0ZXh0LWRlY29yYXRpb246bm9uZX0uZHRwIC5wMTB7d2lkdGg6MTAlfS5kdHAgLnAxMCwuZHRwIC5wMjB7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAucDIwe3dpZHRoOjIwJX0uZHRwIC5wNjB7d2lkdGg6NjAlfS5kdHAgLnA2MCwuZHRwIC5wODB7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAucDgwe3dpZHRoOjgwJX0uZHRwIGEuZHRwLW1lcmlkaWVuLWFtLC5kdHAgYS5kdHAtbWVyaWRpZW4tcG17cG9zaXRpb246cmVsYXRpdmU7dG9wOjEwcHg7Y29sb3I6IzIxMjEyMTtmb250LXdlaWdodDo1MDA7cGFkZGluZzo3cHggNXB4O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudDt0ZXh0LWRlY29yYXRpb246bm9uZTtiYWNrZ3JvdW5kOiNlZWU7Zm9udC1zaXplOjEwcHh9LmR0cCAuZHRwLWFjdHVhbC1tZXJpZGllbiBhLnNlbGVjdGVke2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmfS5kdHAgLmR0cC1waWNrZXItdGltZT5he2Rpc3BsYXk6YmxvY2s7bGluZS1oZWlnaHQ6MjNweDtwYWRkaW5nOjNweH0uZHRwIC5kdHAtcGlja2VyLXRpbWV7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDtmb250LXNpemU6MS4xZW07Ym9yZGVyLXJhZGl1czo1MCU7Y3Vyc29yOnBvaW50ZXI7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50fS5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtaG91ci5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM2ODlmMzg7Y29sb3I6I2ZmZn0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LWhvdXIuZGlzYWJsZWQsLmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1taW51dGUuZGlzYWJsZWR7Y29sb3I6Izc1NzU3NX0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LW1pbnV0ZS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM4YmMzNGE7Y29sb3I6I2ZmZn0uZHRwIGRpdi5kdHAtcGlja2VyLWNsb2Nre21hcmdpbjoxMHB4IDIwcHggMDtwYWRkaW5nOjEwcHg7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O2JhY2tncm91bmQ6I2VlZX0uZHRwLWNsb2NrLWNlbnRlcnt3aWR0aDoxNXB4O2hlaWdodDoxNXB4O2JhY2tncm91bmQ6Izc1NzU3NTtib3JkZXItcmFkaXVzOjUwJTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjUwfS5kdHAgLmR0cC1oYW5kLC5kdHAgLmR0cC1ob3VyLWhhbmR7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NHB4O21hcmdpbi1sZWZ0Oi0ycHg7YmFja2dyb3VuZDojYmRiZGJkOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDBkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpib3R0b207dHJhbnNmb3JtLW9yaWdpbjpib3R0b207ei1pbmRleDoxfS5kdHAgLmR0cC1taW51dGUtaGFuZHt3aWR0aDoycHg7bWFyZ2luLWxlZnQ6LTFweH0uZHRwIC5kdHAtaGFuZC5vbntiYWNrZ3JvdW5kOiM4YmMzNGF9LmR0cCAuZHRwLWJ1dHRvbnN7cGFkZGluZzowIDEwcHggMTBweDt0ZXh0LWFsaWduOnJpZ2h0fS5kdHAuaGlkZGVuLC5kdHAgLmhpZGRlbntkaXNwbGF5Om5vbmV9LmR0cCAuaW52aXNpYmxle3Zpc2liaWxpdHk6aGlkZGVufS5kdHAgLmxlZnR7ZmxvYXQ6bGVmdH0uZHRwIC5yaWdodHtmbG9hdDpyaWdodH0uZHRwIC5jbGVhcmZpeHtjbGVhcjpib3RofS5kdHAgLmNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlcn1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDU5OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAqIGFuZ3VsYXItZ29vZ2xlLXBsdXMtZGlyZWN0aXZlIHYwLjAuMVxuXHQgKiDimaEgQ29weUhlYXJ0IDIwMTMgYnkgSmVyYWQgQml0bmVyIGh0dHA6Ly9qZXJhZGJpdG5lci5jb21cblx0ICogQ29weWluZyBpcyBhbiBhY3Qgb2YgbG92ZS4gUGxlYXNlIGNvcHkuXG5cdCAqL1xuXHRcblx0dmFyIF9nZXRPd25Qcm9wZXJ0eU5hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDApO1xuXHRcblx0dmFyIF9nZXRPd25Qcm9wZXJ0eU5hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldE93blByb3BlcnR5TmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGFuZ3VsYXIubW9kdWxlKCdkaXJlY3RpdmUuZytzaWduaW4nLCBbXSkuZGlyZWN0aXZlKCdnb29nbGVQbHVzU2lnbmluJywgWyckd2luZG93JywgZnVuY3Rpb24gKCR3aW5kb3cpIHtcblx0ICB2YXIgZW5kaW5nID0gL1xcLmFwcHNcXC5nb29nbGV1c2VyY29udGVudFxcLmNvbSQvO1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgcmVzdHJpY3Q6ICdFJyxcblx0ICAgIHRyYW5zY2x1ZGU6IHRydWUsXG5cdCAgICB0ZW1wbGF0ZTogJzxzcGFuPjwvc3Bhbj4nLFxuXHQgICAgcmVwbGFjZTogdHJ1ZSxcblx0ICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCBsaW5rZXIpIHtcblx0ICAgICAgYXR0cnMuY2xpZW50aWQgKz0gZW5kaW5nLnRlc3QoYXR0cnMuY2xpZW50aWQpID8gJycgOiAnLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJztcblx0XG5cdCAgICAgIGF0dHJzLiRzZXQoJ2RhdGEtY2xpZW50aWQnLCBhdHRycy5jbGllbnRpZCk7XG5cdCAgICAgIGF0dHJzLiRzZXQoJ3RoZW1lJywgYXR0cnMudGhlbWUpO1xuXHRcblx0ICAgICAgLy8gU29tZSBkZWZhdWx0IHZhbHVlcywgYmFzZWQgb24gcHJpb3IgdmVyc2lvbnMgb2YgdGhpcyBkaXJlY3RpdmVcblx0ICAgICAgdmFyIGRlZmF1bHRzID0ge1xuXHQgICAgICAgIGNhbGxiYWNrOiAnc2lnbmluQ2FsbGJhY2snLFxuXHQgICAgICAgIGNvb2tpZXBvbGljeTogJ3NpbmdsZV9ob3N0X29yaWdpbicsXG5cdCAgICAgICAgcmVxdWVzdHZpc2libGVhY3Rpb25zOiAnaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9BZGRBY3Rpdml0eScsXG5cdCAgICAgICAgc2NvcGU6ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3BsdXMubG9naW4gaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC91c2VyaW5mby5lbWFpbCcsXG5cdCAgICAgICAgaGVpZ2h0OiAnc3RhbmRhcmQnLFxuXHQgICAgICAgIHdpZHRoOiAnd2lkZScsXG5cdCAgICAgICAgc3RhdGU6ICcnXG5cdCAgICAgIH07XG5cdFxuXHQgICAgICBkZWZhdWx0cy5jbGllbnRpZCA9IGF0dHJzLmNsaWVudGlkO1xuXHQgICAgICBkZWZhdWx0cy50aGVtZSA9IGF0dHJzLnRoZW1lO1xuXHRcblx0ICAgICAgLy8gT3ZlcndyaXRlIGRlZmF1bHQgdmFsdWVzIGlmIGV4cGxpY2l0bHkgc2V0XG5cdCAgICAgIGFuZ3VsYXIuZm9yRWFjaCgoMCwgX2dldE93blByb3BlcnR5TmFtZXMyLmRlZmF1bHQpKGRlZmF1bHRzKSwgZnVuY3Rpb24gKHByb3BOYW1lKSB7XG5cdCAgICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuXHQgICAgICAgICAgZGVmYXVsdHNbcHJvcE5hbWVdID0gYXR0cnNbcHJvcE5hbWVdO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICAvLyBEZWZhdWx0IGxhbmd1YWdlXG5cdCAgICAgIC8vIFN1cHBvcnRlZCBsYW5ndWFnZXM6IGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tLysvd2ViL2FwaS9zdXBwb3J0ZWQtbGFuZ3VhZ2VzXG5cdCAgICAgIGF0dHJzLiRvYnNlcnZlKCdsYW5ndWFnZScsIGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICR3aW5kb3cuX19fZ2NmZyA9IHtcblx0ICAgICAgICAgIGxhbmc6IHZhbHVlID8gdmFsdWUgOiAnZW4nXG5cdCAgICAgICAgfTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICAvLyBBc3luY2hyb25vdXNseSBsb2FkIHRoZSBHKyBTREsuXG5cdCAgICAgIHZhciBwbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO3BvLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0Jztwby5hc3luYyA9IHRydWU7XG5cdCAgICAgIHBvLnNyYyA9ICdodHRwczovL2FwaXMuZ29vZ2xlLmNvbS9qcy9jbGllbnQ6cGx1c29uZS5qcyc7XG5cdCAgICAgIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO3MucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocG8sIHMpO1xuXHRcblx0ICAgICAgbGlua2VyKGZ1bmN0aW9uIChlbCwgdFNjb3BlKSB7XG5cdCAgICAgICAgcG8ub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgaWYgKGVsLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBlbGVtZW50LmFwcGVuZChlbCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBnYXBpLnNpZ25pbi5yZW5kZXIoZWxlbWVudFswXSwgZGVmYXVsdHMpO1xuXHQgICAgICAgIH07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH07XG5cdH1dKS5ydW4oWyckd2luZG93JywgJyRyb290U2NvcGUnLCBmdW5jdGlvbiAoJHdpbmRvdywgJHJvb3RTY29wZSkge1xuXHQgICR3aW5kb3cuc2lnbmluQ2FsbGJhY2sgPSBmdW5jdGlvbiAoYXV0aFJlc3VsdCkge1xuXHQgICAgaWYgKGF1dGhSZXN1bHQgJiYgYXV0aFJlc3VsdC5hY2Nlc3NfdG9rZW4pIHtcblx0ICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tc3VjY2VzcycsIGF1dGhSZXN1bHQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tZmFpbHVyZScsIGF1dGhSZXN1bHQpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1dKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjQzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNjQ0KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDg1KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vdmVuZG9yLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL3ZlbmRvci5zY3NzXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA2NDQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4NCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJcIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDY0NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0Nik7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4NSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDY0Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDg0KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5kaXN0cmlidXRvci1zZWxlY3Rpb257Zm9udC1zaXplOjE2cHQ7cGFkZGluZzozcHg7bWFyZ2luOjNweH1ib2R5e21hcmdpbi10b3A6MTAwcHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH1AbWVkaWEgKG1pbi13aWR0aDo3NjhweCl7Ym9keXttYXJnaW4tdG9wOjUwcHh9fSN3cmFwcGVye3BhZGRpbmctbGVmdDowfSNwYWdlLXdyYXBwZXJ7d2lkdGg6MTAwJTtwYWRkaW5nOjA7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5odWdle2ZvbnQtc2l6ZTo1MHB4O2xpbmUtaGVpZ2h0Om5vcm1hbH1AbWVkaWEgKG1pbi13aWR0aDo3NjhweCl7I3dyYXBwZXJ7cGFkZGluZy1sZWZ0OjIyNXB4fSNwYWdlLXdyYXBwZXJ7cGFkZGluZzoxMHB4fX0ubWFyZ2luLWJvdHRvbS0xNXttYXJnaW4tYm90dG9tOjEuNWVtfS5tYXJnaW4tdG9wLTA1e21hcmdpbi10b3A6LjVlbX0ubWFyZ2luLXRvcC0xNXttYXJnaW4tdG9wOjEuNWVtfS5tYXJnaW4tdG9wLTIwe21hcmdpbi10b3A6MmVtfS5tYXJnaW4tdG9wLTI1e21hcmdpbi10b3A6Mi41ZW19Lm1hcmdpbi10b3AtNTB7bWFyZ2luLXRvcDo1ZW19Lmlzc3VlLXdhcm5pbmctYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOm9yYW5nZX0uaXNzdWUtd2FybmluZy10ZXh0e2NvbG9yOm9yYW5nZX0uaXNzdWUtZGFuZ2VyLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpyZWR9Lmlzc3VlLWRhbmdlci10ZXh0e2NvbG9yOnJlZH0uaXNzdWUtbm9ybWFsLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpncmVlbn0uaXNzdWUtbm9ybWFsLXRleHR7Y29sb3I6Z3JlZW59LnVwLXRydWUtYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVufS51cC1mYWxzZS1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6cmVkfS5uYXZiYXItZGVmYXVsdHtiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmI7Ym9yZGVyLWNvbG9yOiMxNTU5OGV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItYnJhbmR7Y29sb3I6I2ZmZn0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZDpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZDpob3Zlcntjb2xvcjojNTVhN2U3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hOmhvdmVye2NvbG9yOiNmZmZ9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5hY3RpdmU+YSwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmFjdGl2ZT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uYWN0aXZlPmE6aG92ZXJ7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNhZmQ1ZjN9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmEsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6aG92ZXJ7Y29sb3I6IzU1NTtiYWNrZ3JvdW5kLWNvbG9yOiNkNWQ1ZDV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hIC5jYXJldHtib3JkZXItdG9wLWNvbG9yOiM3Nzc7Ym9yZGVyLWJvdHRvbS1jb2xvcjojNzc3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uZHJvcGRvd24+YTpmb2N1cyAuY2FyZXQsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hOmhvdmVyIC5jYXJldHtib3JkZXItdG9wLWNvbG9yOiMzMzM7Ym9yZGVyLWJvdHRvbS1jb2xvcjojMzMzfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hIC5jYXJldCwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpmb2N1cyAuY2FyZXQsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6aG92ZXIgLmNhcmV0e2JvcmRlci10b3AtY29sb3I6IzU1NTtib3JkZXItYm90dG9tLWNvbG9yOiM1NTV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xle2JvcmRlci1jb2xvcjojZGRkfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGU6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZGRkfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZSAuaWNvbi1iYXJ7YmFja2dyb3VuZC1jb2xvcjojY2NjfUBtZWRpYSAobWF4LXdpZHRoOjc2N3B4KXsubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXYgLm9wZW4gLmRyb3Bkb3duLW1lbnU+bGk+YXtjb2xvcjojNzc3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5hOmhvdmVye2NvbG9yOiMzMzN9fS50b3AtbmF2e3BhZGRpbmc6MCAxNXB4fS50b3AtbmF2Pmxpe2Rpc3BsYXk6aW5saW5lLWJsb2NrO2Zsb2F0OmxlZnR9LnRvcC1uYXY+bGk+YXtwYWRkaW5nLXRvcDoxNXB4O3BhZGRpbmctYm90dG9tOjE1cHg7bGluZS1oZWlnaHQ6MjBweDtjb2xvcjojZWZlZmVmfS50b3AtbmF2Pi5vcGVuPmEsLnRvcC1uYXY+Lm9wZW4+YTpmb2N1cywudG9wLW5hdj4ub3Blbj5hOmhvdmVyLC50b3AtbmF2PmxpPmE6Zm9jdXMsLnRvcC1uYXY+bGk+YTpob3Zlcntjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzFiNzViYn0udG9wLW5hdj4ub3Blbj4uZHJvcGRvd24tbWVudXtmbG9hdDpsZWZ0O3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi10b3A6MDtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjE1KTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym94LXNoYWRvdzowIDZweCAxMnB4IHJnYmEoMCwwLDAsLjE3NSl9LnRvcC1uYXY+Lm9wZW4+LmRyb3Bkb3duLW1lbnU+bGk+YXt3aGl0ZS1zcGFjZTpub3JtYWx9dWwubWVzc2FnZS1kcm9wZG93bntwYWRkaW5nOjA7bWF4LWhlaWdodDoyNTBweDtvdmVyZmxvdy14OmhpZGRlbjtvdmVyZmxvdy15OmF1dG99bGkubWVzc2FnZS1wcmV2aWV3e3dpZHRoOjI3NXB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjE1KX1saS5tZXNzYWdlLXByZXZpZXc+YXtwYWRkaW5nLXRvcDoxNXB4O3BhZGRpbmctYm90dG9tOjE1cHh9bGkubWVzc2FnZS1mb290ZXJ7bWFyZ2luOjVweCAwfXVsLmFsZXJ0LWRyb3Bkb3due3dpZHRoOjIwMHB4fUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsuc2lkZS1uYXZ7cG9zaXRpb246Zml4ZWQ7dG9wOjUxcHg7bGVmdDoyMjVweDttYXJnaW4tbGVmdDotMjI1cHg7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czowO292ZXJmbG93LXk6YXV0bztiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmI7Ym90dG9tOjA7b3ZlcmZsb3cteDpoaWRkZW47cGFkZGluZy1ib3R0b206NDBweH0uc2lkZS1uYXYsLnNpZGUtbmF2PmxpPmF7d2lkdGg6MjI1cHh9LnNpZGUtbmF2IGxpIGE6Zm9jdXMsLnNpZGUtbmF2IGxpIGE6aG92ZXJ7b3V0bGluZTpub25lO2JhY2tncm91bmQtY29sb3I6IzNmOWNlMyFpbXBvcnRhbnR9fS5zaWRlLW5hdj5saT51bHtwYWRkaW5nOjB9LnNpZGUtbmF2PmxpPnVsPmxpPmF7ZGlzcGxheTpibG9jaztwYWRkaW5nOjEwcHggMTVweCAxMHB4IDM4cHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y29sb3I6I2Q0ZDRkNH0uc2lkZS1uYXY+bGk+dWw+bGk+YTpob3Zlcntjb2xvcjojZmZmfS5mbG90LWNoYXJ0e2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjQwMHB4fS5mbG90LWNoYXJ0LWNvbnRlbnR7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uaHVnZXtmb250LXNpemU6NDBweH0ucGFuZWwtZ3JlZW57Ym9yZGVyLWNvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPi5wYW5lbC1oZWFkaW5ne2JvcmRlci1jb2xvcjojNWNiODVjO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojNWNiODVjfS5wYW5lbC1ncmVlbj5he2NvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPmE6aG92ZXJ7Y29sb3I6IzNkOGIzZH0ucGFuZWwtcmVke2JvcmRlci1jb2xvcjojZDk1MzRmfS5wYW5lbC1yZWQ+LnBhbmVsLWhlYWRpbmd7Ym9yZGVyLWNvbG9yOiNkOTUzNGY7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD5he2NvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD5hOmhvdmVye2NvbG9yOiNiNTJiMjd9LnBhbmVsLXllbGxvd3tib3JkZXItY29sb3I6I2YwYWQ0ZX0ucGFuZWwteWVsbG93Pi5wYW5lbC1oZWFkaW5ne2JvcmRlci1jb2xvcjojZjBhZDRlO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+YXtjb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+YTpob3Zlcntjb2xvcjojZGY4YTEzfS50b29sYmFye21hcmdpbi1ib3R0b206MTBweH0uZW50aXR5LWtleXtmb250LWZhbWlseTpNb25hY28sQ29uc29sYXMsTHVjaWRhIENvbnNvbGUsZGVqYXZ1IHNhbnMgbW9ubyxtb25vc3BhY2U7Zm9udC1zaXplOjExcHh9LnByb29mLW9mLXBsYXktbGFiZWx7cGFkZGluZy1ib3R0b206MTBweDtwYWRkaW5nLXRvcDoxMHB4fS5jb3B5LXJlYWR5LXRyYW5zcGFyZW50e2NvbG9yOnRyYW5zcGFyZW50fS5uby1kZXZpY2Vze3RleHQtYWxpZ246Y2VudGVyfS5wcm9wZXJ0aWVzLXdvcmQtYnJlYWt7d2lkdGg6MzkwcHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7ZGlzcGxheTpibG9ja30uY29tbWFuZC1oaXN0b3J5LWNvbW1hbmR7d2lkdGg6Mzc1cHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7ZGlzcGxheTpibG9ja30uaG9zdG5hbWUtd29yZC1icmVha3t3aWR0aDoyMDBweDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmlubGluZS1ibG9ja31bZGF0YS1uZy1jbGlja10sW25nLWNsaWNrXSxbeC1uZy1jbGlja117Y3Vyc29yOnBvaW50ZXJ9I3Byb29mcGxheS1zZWxlY3RlZC1pdGVtc3ttaW4td2lkdGg6MCFpbXBvcnRhbnQ7bWFyZ2luOjAgYXV0bztwYWRkaW5nOjAgYXV0b30ucmFkaW8tYnV0dG9ue3BhZGRpbmc6M3B4fS5ob3Jpem9udGFsLXN1Ym1pdHttYXJnaW46LjVlbX0uaG9yaXpvbnRhbC1zdWJtaXQsLnJhZGlvLWhvcml6b250YWx7ZGlzcGxheTpmbGV4O2FsaWduLXNlbGY6Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXJ9bWQtdG9vbGJhci5tZC1kZWZhdWx0LXRoZW1lOm5vdCgubWQtbWVudS10b29sYmFyKSxtZC10b29sYmFyOm5vdCgubWQtbWVudS10b29sYmFyKXtiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmIhaW1wb3J0YW50O21heC1oZWlnaHQ6NjRweDttaW4taGVpZ2h0OjY0cHh9Lm1kLXRvb2xiYXItdG9vbHN7YmFja2dyb3VuZC1jb2xvcjojMDAwIWltcG9ydGFudDttYXgtaGVpZ2h0OjY0cHg7bWluLWhlaWdodDo2NHB4fS5za3lraXQtaW1hZ2V7bWF4LXdpZHRoOjEwMCU7aGVpZ2h0OjMzcHh9QG1lZGlhIChtYXgtd2lkdGg6NzY3cHgpe21kLXRvb2xiYXIubWQtZGVmYXVsdC10aGVtZTpub3QoLm1kLW1lbnUtdG9vbGJhciksbWQtdG9vbGJhcjpub3QoLm1kLW1lbnUtdG9vbGJhcil7bWFyZ2luLXRvcDotNTBweDttYXJnaW4tYm90dG9tOjUwcHh9fS5jZW50ZXItYmxvY2t7dGV4dC1hbGlnbjpjZW50ZXJ9LmVsbGlwc2lzLW92ZXJmbG93LC5wcm9vZi1vZi1wbGF5LXNlbGVjdGVkLWl0ZW17d2lkdGg6MTAwJTt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246bGVmdDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5wcm9vZi1vZi1wbGF5LXRlbmFudC1uYW1lLW9wdGlvbnt3aWR0aDo3ZW07d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmNlbnRlcjtwb3NpdGl0aW9uOmFic29sdXRlO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LnByb29mLW9mLXBsYXktaG9yaXpvbnRhbC10b3AtYmFye2FsaWduLXNlbGY6Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7bWFyZ2luLXRvcDouNWVtO21hcmdpbi1ib3R0b206LjVlbTthbGlnbi1pdGVtczpjZW50ZXJ9Lm15LWZsZXgsLnByb29mLW9mLXBsYXktaG9yaXpvbnRhbC10b3AtYmFye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5iaWdnZXItYnV0dG9uc3twYWRkaW5nOi40ZW07bWluLXdpZHRoOjg4cHg7Ym9yZGVyLXJhZGl1czo1cHg7Zm9udC1zaXplOjE2cHg7dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lfS5hZG1pbi1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2FsaWduLWNvbnRlbnQ6ZmxleC1zdGFydH0ucmVnaXN0cmF0aW9uLWV2ZW50LWNvbHVtbntoZWlnaHQ6MTEwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246dG9wO292ZXJmbG93OnNjcm9sbH0ucHVsbC1jb21tYW5kLXNlbmQtYnV0dG9uLXVwe21hcmdpbi10b3A6LTJweH1oZWFkZXIuZHRwLWhlYWRlcntiYWNrZ3JvdW5kOiMxYjc1YmIhaW1wb3J0YW50fS5kdHAgZGl2LmR0cC1kYXRlLC5kdHAgZGl2LmR0cC10aW1le2JhY2tncm91bmQ6IzAwMH0uZHRwIC5kdHAtYWN0dWFsLW1lcmlkaWVuIGEuc2VsZWN0ZWQsLmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1ob3VyLnNlbGVjdGVkLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPmEuc2VsZWN0ZWR7YmFja2dyb3VuZDojMWI3NWJiIWltcG9ydGFudH0uZHRwIC5kdHAtaGFuZC5vbntiYWNrZ3JvdW5kOiMwMDB9LmRldmljZS1wcm9wZXJ0aWVzLXN3aXRjaHttYXJnaW4tdG9wOi0xcHh9Lm1kLWNvbnRlbnQtY29tbWFuZC1vdmVycmlkZSBtZC1jb250ZW50e292ZXJmbG93OnVuc2V0fS5wdWxsLXRvb2x0aXAtbGVmdHttYXJnaW4tbGVmdDotNTVweH0uY29tbWFuZC1idXR0b24tcmlnaHR7ZmxvYXQ6cmlnaHQ7ZmxleC1kaXJlY3Rpb246cm93LXJldmVyc2V9bWQtc2VsZWN0e2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjEwcHggMCA4cHg7cGFkZGluZy1ib3R0b206MnB4O3Bvc2l0aW9uOnJlbGF0aXZlO21pbi13aWR0aDoxODBweDttYXgtd2lkdGg6MTgwcHh9LnNtYWxsLWRlbGV0ZS1idXR0b257ZmxvYXQ6cmlnaHQ7bWluLXdpZHRoOjI1cHg7bWFyZ2luLXRvcDotMTVweDttYXJnaW4tcmlnaHQ6LTVweH0udGVuYW50LWltYWdlLW5hbWV7d2lkdGg6MTBlbTt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuXG4vKioqLyA2NDg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERldmljZURldGFpbHNDb21tYW5kc0N0cmwuJGluamVjdCA9IFtcIiRsb2dcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCJEZXZpY2VzU2VydmljZVwiLCBcIkxvY2F0aW9uc1NlcnZpY2VcIiwgXCJDb21tYW5kc1NlcnZpY2VcIiwgXCJUaW1lem9uZXNTZXJ2aWNlXCIsIFwic3dlZXRcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCIkbWREaWFsb2dcIiwgXCJUb2FzdHNTZXJ2aWNlXCIsIFwiJHRpbWVvdXRcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkRldmljZURldGFpbHNDb21tYW5kc0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybCgkbG9nLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgU2Vzc2lvbnNTZXJ2aWNlLCBEZXZpY2VzU2VydmljZSwgTG9jYXRpb25zU2VydmljZSwgQ29tbWFuZHNTZXJ2aWNlLCBUaW1lem9uZXNTZXJ2aWNlLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCAkbWREaWFsb2csIFRvYXN0c1NlcnZpY2UsICR0aW1lb3V0KSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgdm0uZGV2aWNlS2V5ID0gJHN0YXRlUGFyYW1zLmRldmljZUtleTtcblx0ICB2bS5mcm9tRGV2aWNlcyA9ICRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCI7XG5cdCAgdm0uY3VycmVudERldmljZSA9IHt9O1xuXHQgIHZtLmNvbW1hbmRFdmVudHMgPSBbXTtcblx0XG5cdCAgdm0uZ2VuZXJhdGVMb2NhbEZyb21VVEMgPSBmdW5jdGlvbiAoVVRDVGltZSkge1xuXHQgICAgdmFyIGxvY2FsVGltZSA9IF9tb21lbnQyLmRlZmF1bHQudXRjKFVUQ1RpbWUpLnRvRGF0ZSgpO1xuXHQgICAgcmV0dXJuIGxvY2FsVGltZSA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KShsb2NhbFRpbWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbTpzcyBBJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVwbGFjZUNvbW1hbmRUaW1lID0gZnVuY3Rpb24gKGlzc3Vlcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGVhY2ggPSBpc3N1ZXNbaV07XG5cdCAgICAgIGlmIChlYWNoLnBvc3RlZFRpbWUpIHtcblx0ICAgICAgICBlYWNoLnBvc3RlZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnBvc3RlZFRpbWUpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChlYWNoLmNvbmZpcm1lZFRpbWUpIHtcblx0ICAgICAgICBlYWNoLmNvbmZpcm1lZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNvbmZpcm1lZFRpbWUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm47XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgY29tbWFuZEV2ZW50c1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRDb21tYW5kRXZlbnRzQnlLZXkoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBjb21tYW5kRXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLnJlcGxhY2VDb21tYW5kVGltZShkYXRhLmV2ZW50cyk7XG5cdCAgICAgIHZtLmV2ZW50X25leHRfY3Vyc29yID0gZGF0YS5uZXh0X2N1cnNvcjtcblx0ICAgICAgdm0uZXZlbnRfcHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuXHQgICAgICB2bS5jb21tYW5kRXZlbnRzID0gZGF0YS5ldmVudHM7XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEV2ZW50c1RpbWVPdXQgPSBmdW5jdGlvbiAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICByZXR1cm4gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKGRldmljZUtleSwgcHJldiwgbmV4dCk7XG5cdCAgICB9LCAxMDAwKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb21tYW5kSGlzdG9yeVNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlRXZlbnRDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCBudWxsLCB2bS5ldmVudF9uZXh0X2N1cnNvcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgdm0uZXZlbnRfcHJldl9jdXJzb3IsIG51bGwpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG5cdCAgICBkZXZpY2VQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkdldERldmljZVN1Y2Nlc3MocmVzcG9uc2UpO1xuXHQgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgdm0uY3VycmVudERldmljZSA9IHJlc3BvbnNlO1xuXHQgICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG5cdCAgICAgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSByZXNwb25zZS50aW1lem9uZTtcblx0ICAgIH1cblx0ICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB2bS50ZW5hbnRLZXkgPSB2bS5jdXJyZW50RGV2aWNlLnRlbmFudEtleTtcblx0ICAgIH1cblx0ICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG5cdCAgICAgIHZtLmJhY2tVcmwgPSAnLyMvZGV2aWNlcyc7XG5cdCAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIGRldmljZXMnO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UuaXNVbm1hbmFnZWREZXZpY2UgPT09IHRydWUpIHtcblx0ICAgICAgICB2bS5iYWNrVXJsID0gXCIvIy90ZW5hbnRzL1wiICsgdm0udGVuYW50S2V5ICsgXCIvdW5tYW5hZ2VkXCI7XG5cdCAgICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2bS5iYWNrVXJsID0gXCIvIy90ZW5hbnRzL1wiICsgdm0udGVuYW50S2V5ICsgXCIvbWFuYWdlZFwiO1xuXHQgICAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ub25HZXREZXZpY2VGYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBmZXRjaCB0aGUgZGV0YWlscyBmb3IgdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiTm8gZGV0YWlsIGZvciBkZXZpY2Vfa2V5ICNcIiArIHZtLmRldmljZUtleSArIFwiLiBFcnJvcjogXCIgKyByZXNwb25zZS5zdGF0dXMgKyBcIiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQ7XG5cdCAgICAkbG9nLmVycm9yKGVycm9yTWVzc2FnZSk7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLmNvbnRlbnREZWxldGUodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25SZXNldENvbnRlbnRTdWNjZXNzLCB2bS5vblJlc2V0Q29udGVudEZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzZXRDb250ZW50U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc2V0IGNvbnRlbnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldENvbnRlbnRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJSZXNldCBjb250ZW50IGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLmNvbnRlbnRVcGRhdGUodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVDb250ZW50U3VjY2Vzcywgdm0ub25VcGRhdGVDb250ZW50RmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVDb250ZW50U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVXBkYXRlQ29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIkNvbnRlbnQgdXBkYXRlIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgdXBkYXRlIGNvbnRlbnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldFBsYXllciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzZXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25SZXNldFBsYXllclN1Y2Nlc3MsIHZtLm9uUmVzZXRQbGF5ZXJGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc2V0UGxheWVyU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc2V0IHBsYXllciBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc2V0UGxheWVyRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiUmVzZXQgcGxheWVyIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzZXQgcGxheWVyIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucG93ZXJPbih2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBhbmVsT25TdWNjZXNzLCB2bS5vblBhbmVsT25GYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsT25TdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcGFuZWwgb24gY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25QYW5lbE9uRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiUGFuZWwgb24gY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsT2ZmID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5wb3dlck9mZih2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBhbmVsT2ZmU3VjY2Vzcywgdm0ub25QYW5lbE9mZkZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPZmZTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPZmZGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJQYW5lbCBvZmYgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvZmYgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnVwZGF0ZURldmljZSh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblVwZGF0ZURldmljZVN1Y2Nlc3MsIHZtLm9uVXBkYXRlRGV2aWNlRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVEZXZpY2VTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgdXBkYXRlIGRldmljZSBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZURldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlVwZGF0ZSBkZXZpY2UgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB1cGRhdGUgZGV2aWNlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVm9sdW1lQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS52b2x1bWUodm0uZGV2aWNlS2V5LCB2bS5jdXJyZW50RGV2aWNlLnZvbHVtZSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uVm9sdW1lQ2hhbmdlU3VjY2Vzcyh2bS5jdXJyZW50RGV2aWNlLnZvbHVtZSksIHZtLm9uVm9sdW1lQ2hhbmdlRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Wb2x1bWVDaGFuZ2VTdWNjZXNzID0gZnVuY3Rpb24gKGxldmVsKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgb2YgXCIgKyBsZXZlbCArIFwiIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblZvbHVtZUNoYW5nZUZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlZvbHVtZSBjaGFuZ2UgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ3VzdG9tQ29tbWFuZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UuY3VzdG9tKHZtLmRldmljZUtleSwgdm0uY3VycmVudERldmljZS5jdXN0b20pO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vbkN1c3RvbUNvbW1hbmRTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tKSwgdm0ub25DdXN0b21Db21tYW5kRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25DdXN0b21Db21tYW5kU3VjY2VzcyA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBjdXN0b20gY29tbWFuZCAnXCIgKyBjb21tYW5kICsgXCInIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkN1c3RvbUNvbW1hbmRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJDdXN0b20gY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBjdXN0b20gY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25EaWFnbm9zdGljc1RvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UudG9nZ2xlRGlhZ25vc3RpY3Modm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MsIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblRvZ2dsZURpYWdub3N0aWNzU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJEaWFnbm9zdGljcyBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzdGFydCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzdGFydCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblJlc3RhcnRTdWNjZXNzLCB2bS5vblJlc3RhcnRGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc3RhcnRTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcmVzdGFydCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc3RhcnRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJSZXN0YXJ0IGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzdGFydCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBvc3RMb2cgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvc3RMb2codm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Qb3N0TG9nU3VjY2Vzcywgdm0ub25Qb3N0TG9nRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Qb3N0TG9nU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHBvc3QgbG9nIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUG9zdExvZ0ZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlBvc3QgbG9nIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRldmljZURldGFpbHNDb21tYW5kc0N0cmwgPSBEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NDk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHREZXZpY2VEZXRhaWxzQ3RybC4kaW5qZWN0ID0gW1wiJGxvZ1wiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIiRzdGF0ZVwiLCBcIlNlc3Npb25zU2VydmljZVwiLCBcIkRldmljZXNTZXJ2aWNlXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJMb2NhdGlvbnNTZXJ2aWNlXCIsIFwiQ29tbWFuZHNTZXJ2aWNlXCIsIFwiVGltZXpvbmVzU2VydmljZVwiLCBcIkludGVncmF0aW9uRXZlbnRzXCIsIFwic3dlZXRcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCIkbWREaWFsb2dcIiwgXCJUb2FzdHNTZXJ2aWNlXCIsIFwiRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2VcIiwgXCIkdGltZW91dFwiLCBcIkltYWdlU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuRGV2aWNlRGV0YWlsc0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjUwKTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdHZhciBfc2xpY2VkVG9BcnJheTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1NSk7XG5cdFxuXHR2YXIgX3NsaWNlZFRvQXJyYXkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2xpY2VkVG9BcnJheTIpO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Mik7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0dmFyIF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1OSk7XG5cdFxuXHR2YXIgX2phdmFzY3JpcHROYXR1cmFsU29ydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIERldmljZURldGFpbHNDdHJsKCRsb2csICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBTZXNzaW9uc1NlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBUZW5hbnRzU2VydmljZSwgTG9jYXRpb25zU2VydmljZSwgQ29tbWFuZHNTZXJ2aWNlLCBUaW1lem9uZXNTZXJ2aWNlLCBJbnRlZ3JhdGlvbkV2ZW50cywgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgJG1kRGlhbG9nLCBUb2FzdHNTZXJ2aWNlLCBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSwgJHRpbWVvdXQsIEltYWdlU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHQgIHZtLmRldmljZUtleSA9ICRzdGF0ZVBhcmFtcy5kZXZpY2VLZXk7XG5cdCAgdm0uZnJvbURldmljZXMgPSAkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiO1xuXHQgIHZtLmN1cnJlbnREZXZpY2UgPSB7fTtcblx0ICB2bS5sb2NhdGlvbnMgPSBbXTtcblx0ICB2bS5jb21tYW5kRXZlbnRzID0gW107XG5cdCAgdm0uZGF5UmFuZ2UgPSAzMDtcblx0ICB2bS5pc3N1ZXMgPSBbXTtcblx0ICB2bS50aW1lem9uZXMgPSBbXTtcblx0ICB2bS5zZWxlY3RlZFRpbWV6b25lID0gdW5kZWZpbmVkO1xuXHRcblx0ICB2YXIgX0RhdGVNYW5pcHVsYXRpb25TZXJ2ID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuY3JlYXRlRm9ybWF0dGVkU3RhcnRBbmRFbmREYXRlRnJvbVRvZGF5KDMwKTtcblx0XG5cdCAgdmFyIF9EYXRlTWFuaXB1bGF0aW9uU2VydjIgPSAoMCwgX3NsaWNlZFRvQXJyYXkzLmRlZmF1bHQpKF9EYXRlTWFuaXB1bGF0aW9uU2VydiwgMik7XG5cdFxuXHQgIHZtLnN0YXJ0VGltZSA9IF9EYXRlTWFuaXB1bGF0aW9uU2VydjJbMF07XG5cdCAgdm0uZW5kVGltZSA9IF9EYXRlTWFuaXB1bGF0aW9uU2VydjJbMV07XG5cdFxuXHQgIHZtLmVucm9sbG1lbnRFdmVudHMgPSBbXTtcblx0ICB2bS5sb2dvQ2hhbmdlID0gZmFsc2U7XG5cdCAgdm0uY29udHJvbHNNb2RlT3B0aW9ucyA9IFtcInZpc2libGVcIiwgXCJpbnZpc2libGVcIiwgXCJkaXNhYmxlZFwiXTtcblx0ICB2bS5vdmVybGF5Q2hhbmdlZCA9IGZhbHNlO1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gT3ZlcmxheVxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS5jaGVja0Zvck92ZXJsYXlDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcblx0ICAgIHZhciBjdXJyZW50RGV2aWNlT3ZlcmxheXMgPSB2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXlzO1xuXHQgICAgdmFyIGN1cnJlbnREZXZpY2VDb3B5T3ZlcmxheXMgPSB2bS5jdXJyZW50RGV2aWNlQ29weS5vdmVybGF5cztcblx0ICAgIHZhciBwb3NpdGlvbnMgPSBbJ3RvcF9sZWZ0JywgJ3RvcF9yaWdodCcsICdib3R0b21fcmlnaHQnLCAnYm90dG9tX2xlZnQnXTtcblx0XG5cdCAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShwb3NpdGlvbnMpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgdmFyIHBvcyA9IF9zdGVwLnZhbHVlO1xuXHRcblx0ICAgICAgICBpZiAoY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10uc2l6ZSAhPT0gY3VycmVudERldmljZUNvcHlPdmVybGF5c1twb3NdLnNpemUpIHtcblx0ICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10udHlwZSAhPT0gY3VycmVudERldmljZUNvcHlPdmVybGF5c1twb3NdLnR5cGUpIHtcblx0ICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10udHlwZSA9PT0gJ2xvZ28nKSB7XG5cdCAgICAgICAgICBpZiAoY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10udHlwZSArIFwiOiBcIiArIGN1cnJlbnREZXZpY2VPdmVybGF5c1twb3NdLm5hbWUgIT09IGN1cnJlbnREZXZpY2VDb3B5T3ZlcmxheXNbcG9zXS5uYW1lKSB7XG5cdCAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0ICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG5cdCAgICB9IGZpbmFsbHkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG5cdCAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuXHQgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdm0ub3ZlcmxheUNoYW5nZWQgPSBjaGFuZ2VkO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJldmVydFRvVGVuYW50T3ZlcmxheSA9IGZ1bmN0aW9uIChldikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSB0cnVlO1xuXHQgICAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSgkc3RhdGVQYXJhbXMudGVuYW50S2V5KTtcblx0ICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICAgIHZhciBjdXJyZW50VGVuYW50T3ZlcmxheXMgPSB0ZW5hbnQub3ZlcmxheXM7XG5cdCAgICAgIGRlbGV0ZSBjdXJyZW50VGVuYW50T3ZlcmxheXMua2V5O1xuXHRcblx0ICAgICAgZm9yICh2YXIga2V5IGluIGN1cnJlbnRUZW5hbnRPdmVybGF5cykge1xuXHQgICAgICAgIGlmIChjdXJyZW50VGVuYW50T3ZlcmxheXNba2V5XVtcInR5cGVcIl0gPT09IFwibG9nb1wiKSB7XG5cdCAgICAgICAgICBjdXJyZW50VGVuYW50T3ZlcmxheXNba2V5XVtcImltYWdlX2tleVwiXSA9IGN1cnJlbnRUZW5hbnRPdmVybGF5c1trZXldW1wiaW1hZ2VLZXlcIl1bXCJrZXlcIl07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGN1cnJlbnRUZW5hbnRPdmVybGF5c1trZXldW1wiaW1hZ2Vfa2V5XCJdID0gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgcHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLnNhdmVPdmVybGF5U2V0dGluZ3Modm0uZGV2aWNlS2V5LCBjdXJyZW50VGVuYW50T3ZlcmxheXMuYm90dG9tX2xlZnQsIGN1cnJlbnRUZW5hbnRPdmVybGF5cy5ib3R0b21fcmlnaHQsIGN1cnJlbnRUZW5hbnRPdmVybGF5cy50b3BfcmlnaHQsIGN1cnJlbnRUZW5hbnRPdmVybGF5cy50b3BfbGVmdCk7XG5cdFxuXHQgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcblx0ICAgICAgICBkZXZpY2VQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGN1cnJlbnREZXZpY2UpIHtcblx0ICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheXMgPSBjdXJyZW50RGV2aWNlLm92ZXJsYXlzO1xuXHQgICAgICAgICAgdm0uY3VycmVudERldmljZUNvcHkub3ZlcmxheXMgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudERldmljZS5vdmVybGF5cyk7XG5cdCAgICAgICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcblx0ICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmFkanVzdENvbnRyb2xzTW9kZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBjb250cm9sc01vZGUgPSB2bS5jdXJyZW50RGV2aWNlLmNvbnRyb2xzTW9kZTtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGNvbnRyb2xzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmFkanVzdENvbnRyb2xzTW9kZSh2bS5kZXZpY2VLZXksIGNvbnRyb2xzTW9kZSk7XG5cdCAgICBjb250cm9sc1Byb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1lvdXIgY29udHJvbHMgbW9kZSBzZWxlY3Rpb24gd2FzIHN1Y2Nlc2Z1bGx5IGNoYW5nZWQgdG86ICcgKyBjb250cm9sc01vZGUpO1xuXHQgICAgfSk7XG5cdCAgICBjb250cm9sc1Byb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgLy9Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91ciBjb250cm9scyBtb2RlIGNoYW5nZSBmYWlsZWQgdG8gc2F2ZS4gUGxlYXNlIGNvbnRhY3Qgc3VwcG9ydC5cIilcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmFkanVzdE92ZXJsYXlTdGF0dXMgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG5cdCAgICB2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXlTdGF0dXMgPSBzdGF0dXM7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RGV2aWNlKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG5cdCAgICAgIGRldmljZVByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgICB2bS5vbkdldERldmljZVN1Y2Nlc3MocmVzcG9uc2UpO1xuXHQgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgICByZXR1cm4gdm0ub25HZXREZXZpY2VGYWlsdXJlKHJlc3BvbnNlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXRPdmVybGF5U2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgb3ZlcmxheVNldHRpbmdzID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnREZXZpY2VDb3B5Lm92ZXJsYXlzKTtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gdHJ1ZTtcblx0ICAgIHZhciBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZU92ZXJsYXlTZXR0aW5ncyh2bS5kZXZpY2VLZXksIG92ZXJsYXlTZXR0aW5ncy5ib3R0b21fbGVmdCwgb3ZlcmxheVNldHRpbmdzLmJvdHRvbV9yaWdodCwgb3ZlcmxheVNldHRpbmdzLnRvcF9yaWdodCwgb3ZlcmxheVNldHRpbmdzLnRvcF9sZWZ0KTtcblx0ICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgIHZhciBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcblx0ICAgICAgZGV2aWNlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChjdXJyZW50RGV2aWNlKSB7XG5cdCAgICAgICAgdm0uY3VycmVudERldmljZS5vdmVybGF5cyA9IGN1cnJlbnREZXZpY2Uub3ZlcmxheXM7XG5cdCAgICAgICAgdm0uY3VycmVudERldmljZUNvcHkub3ZlcmxheXMgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudERldmljZS5vdmVybGF5cyk7XG5cdCAgICAgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gZmFsc2U7XG5cdCAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nJyk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRUZW5hbnRJbWFnZXNBbmRSZWZyZXNoRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGRldmljZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VCeUtleSh2bS5kZXZpY2VLZXkpO1xuXHQgICAgZGV2aWNlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgdm0ub25HZXREZXZpY2VTdWNjZXNzKHJlcyk7XG5cdCAgICAgIHZtLmdldFRlbmFudEltYWdlcygpO1xuXHQgICAgfSk7XG5cdCAgICBkZXZpY2VQcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgdm0ub25HZXREZXZpY2VGYWlsdXJlKHJlcyk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRUZW5hbnRJbWFnZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5PVkVSTEFZX1RZUEVTID0gW3sgc2l6ZTogbnVsbCwgdHlwZTogbnVsbCwgbmFtZTogXCJub25lXCIsIHJlYWxOYW1lOiBcIm5vbmVcIiwgbmV3OiBmYWxzZSwgaW1hZ2Vfa2V5OiBudWxsIH0sIHsgc2l6ZTogbnVsbCwgdHlwZTogXCJkYXRldGltZVwiLCBuYW1lOiBcImRhdGV0aW1lXCIsIHJlYWxOYW1lOiBcImRhdGV0aW1lXCIsIG5ldzogdHJ1ZSwgaW1hZ2Vfa2V5OiBudWxsIH1dO1xuXHRcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBJbWFnZVNlcnZpY2UuZ2V0SW1hZ2VzKHZtLnRlbmFudEtleSk7XG5cdCAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICB2bS50ZW5hbnRJbWFnZXMgPSByZXM7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuXHQgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG5cdCAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KSh2bS50ZW5hbnRJbWFnZXMpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcblx0ICAgICAgICAgIHZhciB2YWx1ZSA9IF9zdGVwMi52YWx1ZTtcblx0ICAgICAgICAgIHZhciBfYXJyID0gW1wic21hbGxcIiwgXCJsYXJnZVwiXTtcblx0XG5cdCAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgX2Fyci5sZW5ndGg7IF9pKyspIHtcblx0ICAgICAgICAgICAgdmFyIHNpemVPcHRpb24gPSBfYXJyW19pXTtcblx0ICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0ge1xuXHQgICAgICAgICAgICAgIHJlYWxOYW1lOiBhbmd1bGFyLmNvcHkodmFsdWUubmFtZSksXG5cdCAgICAgICAgICAgICAgbmFtZTogXCJsb2dvOiBcIiArIHZhbHVlLm5hbWUsXG5cdCAgICAgICAgICAgICAgdHlwZTogXCJsb2dvXCIsXG5cdCAgICAgICAgICAgICAgc2l6ZTogc2l6ZU9wdGlvbixcblx0ICAgICAgICAgICAgICBpbWFnZV9rZXk6IHZhbHVlLmtleVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB2bS5PVkVSTEFZX1RZUEVTLnB1c2gobmV3VmFsdWUpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcblx0ICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcblx0ICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuXHQgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB2bS5PVkVSTEFZX1RZUEVTLnNvcnQoX2phdmFzY3JpcHROYXR1cmFsU29ydDIuZGVmYXVsdCk7XG5cdCAgICB9KTtcblx0XG5cdCAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIC8vVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChcIlNPTUVUSElORyBXRU5UIFdST05HIFJFVFJJRVZJTkcgWU9VUiBJTUFHRVNcIilcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIEV2ZW50cyBhbmQgSXNzdWVzIFRhYlxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZtLnJlcGxhY2VJc3N1ZVRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZWFjaCA9IGlzc3Vlc1tpXTtcblx0ICAgICAgaWYgKGVhY2guY3JlYXRlZCkge1xuXHQgICAgICAgIGVhY2guY3JlYXRlZCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY3JlYXRlZCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGVhY2gudXBkYXRlZCkge1xuXHQgICAgICAgIGVhY2gudXBkYXRlZCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gudXBkYXRlZCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZWFjaCA9IGlzc3Vlc1tpXTtcblx0ICAgICAgaWYgKGVhY2gucG9zdGVkVGltZSkge1xuXHQgICAgICAgIGVhY2gucG9zdGVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gucG9zdGVkVGltZSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGVhY2guY29uZmlybWVkVGltZSkge1xuXHQgICAgICAgIGVhY2guY29uZmlybWVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY29uZmlybWVkVGltZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5sb2NhbEZyb21VdGMgPSBmdW5jdGlvbiAoZXZlbnRzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZWFjaCA9IGV2ZW50c1tpXTtcblx0ICAgICAgaWYgKGVhY2gudXRjVGltZXN0YW1wKSB7XG5cdCAgICAgICAgZWFjaC51dGNUaW1lc3RhbXAgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnV0Y1RpbWVzdGFtcCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybjtcblx0ICB9O1xuXHRcblx0ICB2bS5jb3B5RGV2aWNlS2V5ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnRGV2aWNlIGtleSBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmQnKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb3B5Q29ycmVsYXRpb25JZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnQ29ycmVsYXRpb24gSUQgY29waWVkIHRvIHlvdXIgY2xpcGJvYXJkJyk7XG5cdCAgfTtcblx0XG5cdCAgLy8gZXZlbnQgdGFiXG5cdCAgdm0uZ2V0SXNzdWVzID0gZnVuY3Rpb24gKGRldmljZSwgZXBvY2hTdGFydCwgZXBvY2hFbmQsIHByZXYsIG5leHQpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGlzc3Vlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRJc3N1ZXNCeUtleShkZXZpY2UsIGVwb2NoU3RhcnQsIGVwb2NoRW5kLCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBpc3N1ZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG5cdCAgICAgIHZtLmlzc3VlcyA9IGRhdGEuaXNzdWVzO1xuXHQgICAgICB2bS5wcmV2X2N1cnNvciA9IGRhdGEucHJldjtcblx0ICAgICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIC8vIGNvbW1hbmQgaGlzdG9yeSB0YWJcblx0ICB2bS5nZXRFdmVudHMgPSBmdW5jdGlvbiAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBjb21tYW5kRXZlbnRzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpO1xuXHQgICAgcmV0dXJuIGNvbW1hbmRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ucmVwbGFjZUNvbW1hbmRUaW1lKGRhdGEuZXZlbnRzKTtcblx0ICAgICAgdm0uZXZlbnRfbmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuXHQgICAgICB2bS5ldmVudF9wcmV2X2N1cnNvciA9IGRhdGEucHJldl9jdXJzb3I7XG5cdCAgICAgIHZtLmNvbW1hbmRFdmVudHMgPSBkYXRhLmV2ZW50cztcblx0ICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgLy8gZW5yb2xsbWVudCB0YWJcblx0ICB2bS5nZXRFbnJvbGxtZW50RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgZW5yb2xsbWVudEV2ZW50c1Byb21pc2UgPSBJbnRlZ3JhdGlvbkV2ZW50cy5nZXRFbnJvbGxtZW50RXZlbnRzKGRldmljZUtleSk7XG5cdCAgICByZXR1cm4gZW5yb2xsbWVudEV2ZW50c1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5lbnJvbGxtZW50RXZlbnRzID0gZGF0YTtcblx0ICAgICAgdm0ubG9jYWxGcm9tVXRjKGRhdGEpO1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuXHQgICAgaWYgKGZvcndhcmQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldElzc3Vlcyh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kLCBudWxsLCB2bS5uZXh0X2N1cnNvcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0SXNzdWVzKHZtLmRldmljZUtleSwgdm0uZXBvY2hTdGFydCwgdm0uZXBvY2hFbmQsIHZtLnByZXZfY3Vyc29yLCBudWxsKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5wYWdpbmF0ZUV2ZW50Q2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG5cdCAgICBpZiAoZm9yd2FyZCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgbnVsbCwgdm0uZXZlbnRfbmV4dF9jdXJzb3IpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIHZtLmV2ZW50X3ByZXZfY3Vyc29yLCBudWxsKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZXBvY2hTdGFydCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5zdGFydFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG5cdCAgICB2bS5lcG9jaEVuZCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5lbmRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuXHRcblx0ICAgIHZhciB0aW1lem9uZVByb21pc2UgPSBUaW1lem9uZXNTZXJ2aWNlLmdldEN1c3RvbVRpbWV6b25lcygpO1xuXHQgICAgdGltZXpvbmVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRpbWV6b25lcyA9IGRhdGE7XG5cdCAgICB9KTtcblx0XG5cdCAgICB2bS5wYW5lbE1vZGVscyA9IERldmljZXNTZXJ2aWNlLmdldFBhbmVsTW9kZWxzKCk7XG5cdCAgICB2bS5wYW5lbElucHV0cyA9IERldmljZXNTZXJ2aWNlLmdldFBhbmVsSW5wdXRzKCk7XG5cdFxuXHQgICAgdmFyIGRldmljZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VCeUtleSh2bS5kZXZpY2VLZXkpO1xuXHQgICAgZGV2aWNlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0ub25HZXREZXZpY2VTdWNjZXNzKHJlc3BvbnNlKTtcblx0ICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0ub25HZXREZXZpY2VGYWlsdXJlKHJlc3BvbnNlKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZtLmdldFRlbmFudEltYWdlcygpO1xuXHQgICAgdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSk7XG5cdCAgICB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCk7XG5cdCAgICByZXR1cm4gdm0uZ2V0RW5yb2xsbWVudEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgdm0uY3VycmVudERldmljZSA9IHJlc3BvbnNlO1xuXHQgICAgdm0uY3VycmVudERldmljZUNvcHkgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudERldmljZSk7XG5cdCAgICBpZiAocmVzcG9uc2UudGltZXpvbmUgIT09IHZtLnNlbGVjdGVkVGltZXpvbmUpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHJlc3BvbnNlLnRpbWV6b25lO1xuXHQgICAgfVxuXHQgICAgaWYgKHZtLnRlbmFudEtleSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHZtLnRlbmFudEtleSA9IHZtLmN1cnJlbnREZXZpY2UudGVuYW50S2V5O1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG5cdCAgICAgIHZtLmJhY2tVcmwgPSAnLyMvZGV2aWNlcyc7XG5cdCAgICAgIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gZGV2aWNlcyc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAodm0uY3VycmVudERldmljZS5pc1VubWFuYWdlZERldmljZSA9PT0gdHJ1ZSkge1xuXHQgICAgICAgIHZtLmJhY2tVcmwgPSAnLyMvdGVuYW50cy8nICsgdm0udGVuYW50S2V5ICsgJy91bm1hbmFnZWQnO1xuXHQgICAgICAgIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2bS5iYWNrVXJsID0gJy8jL3RlbmFudHMvJyArIHZtLnRlbmFudEtleSArICcvbWFuYWdlZCc7XG5cdCAgICAgICAgdm0uYmFja1VybFRleHQgPSAnQmFjayB0byB0ZW5hbnQgbWFuYWdlZCBkZXZpY2VzJztcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciBsb2NhdGlvbnNQcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5nZXRMb2NhdGlvbnNCeVRlbmFudEtleSh2bS50ZW5hbnRLZXkpO1xuXHQgICAgcmV0dXJuIGxvY2F0aW9uc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5sb2NhdGlvbnMgPSBkYXRhO1xuXHQgICAgICByZXR1cm4gdm0uc2V0U2VsZWN0ZWRPcHRpb25zKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkdldERldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIGZldGNoIHRoZSBkZXRhaWxzIGZvciB0aGlzIGRldmljZSBhdCB0aGlzIHRpbWUuJyk7XG5cdCAgICB2YXIgZXJyb3JNZXNzYWdlID0gJ05vIGRldGFpbCBmb3IgZGV2aWNlX2tleSAnICsgdm0uZGV2aWNlS2V5ICsgJy4gRXJyb3I6ICcgKyByZXNwb25zZS5zdGF0dXMgKyAnICcgKyByZXNwb25zZS5zdGF0dXNUZXh0O1xuXHQgICAgJGxvZy5lcnJvcihlcnJvck1lc3NhZ2UpO1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnZGV2aWNlcycpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnNldFNlbGVjdGVkT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPT09IG51bGwpIHtcblx0ICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsID0gdm0ucGFuZWxNb2RlbHNbMF07XG5cdCAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dCA9IHZtLnBhbmVsSW5wdXRzWzBdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bS5wYW5lbE1vZGVscy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBwYW5lbE1vZGVsID0gdm0ucGFuZWxNb2RlbHNbaV07XG5cdCAgICAgICAgaWYgKHBhbmVsTW9kZWwuaWQgPT09IHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCkge1xuXHQgICAgICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsID0gcGFuZWxNb2RlbDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2bS5wYW5lbElucHV0cy5sZW5ndGg7IGorKykge1xuXHQgICAgICAgIHZhciBwYW5lbElucHV0ID0gdm0ucGFuZWxJbnB1dHNbal07XG5cdCAgICAgICAgdmFyIGlzUGFyZW50ID0gcGFuZWxJbnB1dC5wYXJlbnRJZCA9PT0gdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsLmlkO1xuXHQgICAgICAgIGlmIChpc1BhcmVudCAmJiBwYW5lbElucHV0LmlkLnRvTG93ZXJDYXNlKCkgPT09IHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dCkge1xuXHQgICAgICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbElucHV0ID0gcGFuZWxJbnB1dDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5ICE9PSBudWxsKSB7XG5cdCAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdm0ubG9jYXRpb25zLmxlbmd0aDsgaysrKSB7XG5cdCAgICAgICAgdmFyIGxvY2F0aW9uID0gdm0ubG9jYXRpb25zW2tdO1xuXHQgICAgICAgIGlmIChsb2NhdGlvbi5rZXkgPT09IHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkpIHtcblx0ICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24gPSBsb2NhdGlvbjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBQcm9wZXJ0aWVzIFRhYlxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS5vblNhdmVEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uICE9PSB1bmRlZmluZWQgJiYgdm0uY3VycmVudERldmljZS5sb2NhdGlvbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5ID0gdm0uY3VycmVudERldmljZS5sb2NhdGlvbi5rZXk7XG5cdCAgICB9XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsLmlkICE9PSB1bmRlZmluZWQgJiYgdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsLmlkICE9PSAnTm9uZScpIHtcblx0ICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsTnVtYmVyID0gdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsLmlkO1xuXHQgICAgfVxuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dC5pZCAhPT0gdW5kZWZpbmVkICYmIHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dC5pZCAhPT0gJ05vbmUnKSB7XG5cdCAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxTZXJpYWxJbnB1dCA9IHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dC5pZC50b0xvd2VyQ2FzZSgpO1xuXHQgICAgfVxuXHQgICAgdm0uY3VycmVudERldmljZS50aW1lem9uZSA9IHZtLnNlbGVjdGVkVGltZXpvbmU7XG5cdCAgICB2YXIgcHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLnNhdmUodm0uY3VycmVudERldmljZSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc0RldmljZVNhdmUsIHZtLm9uRmFpbHVyZURldmljZVNhdmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uU3VjY2Vzc0RldmljZVNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRmFpbHVyZURldmljZVNhdmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDA5KSB7XG5cdCAgICAgICRsb2cuaW5mbygnRmFpbHVyZSBzYXZpbmcgZGV2aWNlLiBDdXN0b21lciBkaXNwbGF5IGNvZGUgYWxyZWFkeSBleGlzdHMgZm9yIHRlbmFudDogJyArIGVycm9yLnN0YXR1cyArICcgJyArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUaGlzIGN1c3RvbWVyIGRpc3BsYXkgY29kZSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhpcyB0ZW5hbnQuIFBsZWFzZSBjaG9vc2UgYW5vdGhlci4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICRsb2cuZXJyb3IoJ0ZhaWx1cmUgc2F2aW5nIGRldmljZTogJyArIGVycm9yLnN0YXR1cyArICcgJyArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gc2F2ZSB5b3VyIHVwZGF0ZXMgdG8gdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxTbGVlcCA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBhbmVsU2xlZXAodm0uZGV2aWNlS2V5LCBjb21tYW5kKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25QYW5lbFNsZWVwU3VjY2Vzcywgdm0ub25QYW5lbFNsZWVwRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25QYW5lbFNsZWVwU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHRvZ2dsZWQgdGhlIHBhbmVsIHNsZWVwIGF0dHJpYnV0ZS4gVGhlIHBsYXllciBzaG91bGQgYWRqdXN0IHRvIHRoZXNlIGNoYW5nZXMgd2l0aGluIDE1IG1pbnV0ZXMuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxTbGVlcEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHRvZ2dsZSB0aGUgcGFuZWwgc2xlZXAgYXR0cmlidXRlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb25maXJtRGV2aWNlRGVsZXRlID0gZnVuY3Rpb24gKGV2ZW50LCBrZXkpIHtcblx0ICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oe1xuXHQgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZSB0byBkZWxldGUgdGhpcyBkZXZpY2U/Jyxcblx0ICAgICAgdGV4dENvbnRlbnQ6ICdQbGVhc2UgcmVtZW1iZXIsIHlvdSBNVVNUIHJlbW92ZSB0aGlzIGRldmljZSBmcm9tIENvbnRlbnQgTWFuYWdlciBiZWZvcmUgZGVsZXRpbmcgaXQgZnJvbSBQcm92aXNpb25pbmcuJyxcblx0ICAgICAgdGFyZ2V0RXZlbnQ6IGV2ZW50LFxuXHQgICAgICBvazogJ0RlbGV0ZScsXG5cdCAgICAgIGNhbmNlbDogJ0NhbmNlbCdcblx0ICAgIH0pO1xuXHQgICAgdmFyIHNob3dQcm9taXNlID0gJG1kRGlhbG9nLnNob3coY29uZmlybSk7XG5cdCAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkNvbmZpcm1EZWxldGUoa2V5KTtcblx0ICAgIH07XG5cdCAgICB2YXIgZmFpbHVyZSA9IGZ1bmN0aW9uIGZhaWx1cmUoKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkNvbmZpcm1DYW5jZWwoKTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gc2hvd1Byb21pc2UudGhlbihzdWNjZXNzLCBmYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNvbmZpcm1EZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG5cdCAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgcHJvY2Vzc2VkIHlvdXIgZGVsZXRlIHJlcXVlc3QuJyk7XG5cdCAgICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcblx0ICAgIH07XG5cdCAgICB2YXIgZmFpbHVyZSA9IGZ1bmN0aW9uIGZhaWx1cmUoZXJyb3IpIHtcblx0ICAgICAgdmFyIGZyaWVuZGx5TWVzc2FnZSA9ICdXZSB3ZXJlIHVuYWJsZSB0byBjb21wbGV0ZSB5b3VyIGRlbGV0ZSByZXF1ZXN0IGF0IHRoaXMgdGltZS4nO1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGZyaWVuZGx5TWVzc2FnZSk7XG5cdCAgICAgIHJldHVybiAkbG9nLmVycm9yKCdEZWxldGUgZGV2aWNlIGZhaWx1cmUgZm9yIGRldmljZV9rZXkgJyArIGtleSArICc6ICcgKyBlcnJvci5zdGF0dXMgKyAnICcgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIH07XG5cdCAgICB2YXIgZGVsZXRlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmRlbGV0ZShrZXkpO1xuXHQgICAgcmV0dXJuIGRlbGV0ZVByb21pc2UudGhlbihzdWNjZXNzLCBmYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNvbmZpcm1DYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93SW5mb1RvYXN0KCdXZSBjYW5jZWxlZCB5b3VyIGRlbGV0ZSByZXF1ZXN0LicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUHJvb2ZPZlBsYXlMb2dnaW5nQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcpIHtcblx0ICAgICAgdmFyIG5vTG9jYXRpb24gPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5ID09PSBudWxsO1xuXHQgICAgICB2YXIgbm9EaXNwbGF5Q29kZSA9IHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5Q29kZSA9PT0gbnVsbDtcblx0ICAgICAgaWYgKG5vTG9jYXRpb24pIHtcblx0ICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgTG9jYXRpb24gdG8gZW5hYmxlIFByb29mIG9mIHBsYXkuXCIsICdlcnJvcicpO1xuXHQgICAgICAgIHJldHVybiB2bS5jdXJyZW50RGV2aWNlLnByb29mT2ZQbGF5TG9nZ2luZyA9IGZhbHNlO1xuXHQgICAgICB9IGVsc2UgaWYgKG5vRGlzcGxheUNvZGUpIHtcblx0ICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgRGlzcGxheSBjb2RlIHRvIGVuYWJsZSBQcm9vZiBvZiBwbGF5LlwiLCAnZXJyb3InKTtcblx0ICAgICAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcgPSBmYWxzZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0ub25TYXZlRGV2aWNlKCk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5vblNhdmVEZXZpY2UoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZUxvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHZtLm9uU2F2ZURldmljZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmF1dG9HZW5lcmF0ZUN1c3RvbWVyRGlzcGxheUNvZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgbmV3RGlzcGxheUNvZGUgPSAnJztcblx0ICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheU5hbWUpIHtcblx0ICAgICAgbmV3RGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheU5hbWUudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgbmV3RGlzcGxheUNvZGUgPSBuZXdEaXNwbGF5Q29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG5cdCAgICAgIG5ld0Rpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5jdXN0b21lckRpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGU7XG5cdCAgfTtcblx0XG5cdCAgdm0ubG9nZ2x5Rm9yVXNlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB1c2VyRG9tYWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJFbWFpbCgpLnNwbGl0KFwiQFwiKVsxXTtcblx0ICAgIHJldHVybiB1c2VyRG9tYWluID09PSBcImRlbW8uYWdvc3RvLmNvbVwiIHx8IHVzZXJEb21haW4gPT09IFwiYWdvc3RvLmNvbVwiO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ2xpY2tSZWZyZXNoQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2bS5zdGFydFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkodm0uc3RhcnRUaW1lKTtcblx0ICAgIHZtLmVuZFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkodm0uZW5kVGltZSk7XG5cdCAgICB2bS5lcG9jaFN0YXJ0ID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHZtLnN0YXJ0VGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcblx0ICAgIHZtLmVwb2NoRW5kID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHZtLmVuZFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG5cdCAgICB2bS5wcmV2X2N1cnNvciA9IG51bGw7XG5cdCAgICB2bS5uZXh0X2N1cnNvciA9IG51bGw7XG5cdCAgICB2YXIgaXNzdWVzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldElzc3Vlc0J5S2V5KHZtLmRldmljZUtleSwgdm0uZXBvY2hTdGFydCwgdm0uZXBvY2hFbmQsIHZtLnByZXZfY3Vyc29yLCB2bS5uZXh0X2N1cnNvcik7XG5cdCAgICByZXR1cm4gaXNzdWVzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS5vblJlZnJlc2hJc3N1ZXNTdWNjZXNzKGRhdGEpO1xuXHQgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgIHJldHVybiB2bS5vblJlZnJlc2hJc3N1ZXNGYWlsdXJlKGVycm9yKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVmcmVzaElzc3Vlc1N1Y2Nlc3MgPSBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG5cdCAgICB2bS5pc3N1ZXMgPSBkYXRhLmlzc3Vlcztcblx0ICAgIHZtLnByZXZfY3Vyc29yID0gZGF0YS5wcmV2O1xuXHQgICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG5cdCAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZWZyZXNoSXNzdWVzRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBUb2FzdHNTZXJ2aWNlLnNob3dJbmZvVG9hc3QoJ1dlIHdlcmUgdW5hYmxlIHRvIHJlZnJlc2ggdGhlIGRldmljZSBpc3N1ZXMgbGlzdCBhdCB0aGlzIHRpbWUuJyk7XG5cdCAgICByZXR1cm4gJGxvZy5lcnJvcignRmFpbHVyZSB0byByZWZyZXNoIGRldmljZSBpc3N1ZXM6ICcgKyBlcnJvci5zdGF0dXMgKyAnICcgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuRGV2aWNlRGV0YWlsc0N0cmwgPSBEZXZpY2VEZXRhaWxzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjYwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHREZXZpY2VzTGlzdGluZ0N0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVBhcmFtc1wiLCBcIiRsb2dcIiwgXCJEZXZpY2VzU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcIlNlc3Npb25zU2VydmljZVwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcInN3ZWV0XCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5EZXZpY2VzTGlzdGluZ0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjUwKTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBEZXZpY2VzTGlzdGluZ0N0cmwoJHN0YXRlUGFyYW1zLCAkbG9nLCBEZXZpY2VzU2VydmljZSwgJHN0YXRlLCBTZXNzaW9uc1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgc3dlZXQpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uZGlzdHJpYnV0b3JLZXkgPSB1bmRlZmluZWQ7XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIE1hbmFnZWRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgdm0uZGV2aWNlcyA9IFtdO1xuXHQgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcblx0ICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLm1hY0RldmljZXMgPSB7fTtcblx0ICB2bS5nY21pZERldmljZXMgPSB7fTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIFVubWFuYWdlZFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9IFwiTUFDXCI7XG5cdCAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgIHZtLnVubWFuYWdlZERpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS51bm1hbmFnZWREZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSBudWxsO1xuXHQgIHZtLnVubWFuYWdlZERldmljZXMgPSBbXTtcblx0ICB2bS51bm1hbmFnZWRNYWNEZXZpY2VzID0ge307XG5cdCAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0ge307XG5cdCAgdm0uZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCA9IFtdO1xuXHQgIHZtLmRldmljZXNUb01hdGNoT25NYW5hZ2VkID0gW107XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgdm0ucmVmcmVzaE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgICAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuXHQgICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJlZnJlc2hVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgICAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSBudWxsO1xuXHQgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAodW5tYW5hZ2VkKSB7XG5cdCAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZtLnVubWFuYWdlZFNlYXJjaFRleHQgPSAnJztcblx0ICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgICB2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzID0ge307XG5cdCAgICAgIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSB7fTtcblx0ICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCA9IFtdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICAgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICAgICAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uTWFuYWdlZCA9IFtdO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtLCB0cnVlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBzZWFyY2hUZXh0KSB7XG5cdCAgICB2YXIgbWFjID0gdm9pZCAwLFxuXHQgICAgICAgIHNlcmlhbCA9IHZvaWQgMCxcblx0ICAgICAgICBnY21pZCA9IHZvaWQgMDtcblx0ICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgbWFjID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPT09IFwiTUFDXCI7XG5cdCAgICAgIHNlcmlhbCA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICAgICAgZ2NtaWQgPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIjtcblx0ICAgICAgaWYgKG1hYykge1xuXHQgICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS51bm1hbmFnZWRNYWNEZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfSBlbHNlIGlmIChzZXJpYWwpIHtcblx0ICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmVkaXRJdGVtKHZtLnVubWFuYWdlZEdDTWlkRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG1hYyA9IHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuXHQgICAgICBzZXJpYWwgPSB2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG5cdCAgICAgIGdjbWlkID0gdm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiR0NNIElEXCI7XG5cdCAgICAgIGlmIChtYWMpIHtcblx0ICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0ubWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmVkaXRJdGVtKHZtLnNlcmlhbERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS5nY21pZERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBpc01hdGNoKSB7XG5cdCAgICBpZiAoIXVubWFuYWdlZCkge1xuXHQgICAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuXHQgICAgICB2bS5kaXNhYmxlZEJ1dHRvbkxvYWRpbmcgPSBmYWxzZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZtLnVubWFuYWdlZERpc2FibGVkID0gIWlzTWF0Y2g7XG5cdCAgICAgIHZtLnVubWFuYWdlZERpc2FibGVkQnV0dG9uTG9hZGluZyA9IGZhbHNlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHJlc291cmNlKSB7XG5cdCAgICB2YXIgZGV2aWNlc1RvTWF0Y2hPbiA9IHVubWFuYWdlZCA/IHZtLmRldmljZXNUb01hdGNoT25Vbm1hbmFnZWQgOiB2bS5kZXZpY2VzVG9NYXRjaE9uTWFuYWdlZDtcblx0ICAgIHZhciBmb3VuZE1hdGNoID0gZmFsc2U7XG5cdCAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShkZXZpY2VzVG9NYXRjaE9uKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHQgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgIGlmIChyZXNvdXJjZSA9PT0gaXRlbSkge1xuXHQgICAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcblx0ICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2bS5jb250cm9sT3BlbkJ1dHRvbih1bm1hbmFnZWQsIGZvdW5kTWF0Y2gpO1xuXHQgICAgcmV0dXJuIGZvdW5kTWF0Y2g7XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHBhcnRpYWwpIHtcblx0ICAgIHZhciBidXR0b24gPSB2b2lkIDA7XG5cdCAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgIGJ1dHRvbiA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGJ5VGVuYW50ID0gZmFsc2U7XG5cdCAgICB2YXIgdGVuYW50S2V5ID0gbnVsbDtcblx0XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZhciBkZXZpY2VzVG9SZXR1cm4gPSB2b2lkIDA7XG5cdCAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG5cdCAgICAgICAgdmFyIGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuXHQgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG5cdCAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICAgIHZtLnVubWFuYWdlZFNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uID09PSBcIk1BQ1wiKSB7XG5cdCAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICAgIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICAgIHZtLnVubWFuYWdlZEdDTWlkRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuXHQgICAgICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCA9IGRldmljZXNUb1JldHVybjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPbk1hbmFnZWQgPSBkZXZpY2VzVG9SZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBkZXZpY2VzVG9SZXR1cm47XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uIChrZXksIHByZXYsIG5leHQpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3Ioa2V5LCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2bS5kZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcblx0ICAgICAgdm0uZGV2aWNlc05leHQgPSByZXNwb25zZS5uZXh0X2N1cnNvcjtcblx0ICAgICAgdm0uZGV2aWNlc1ByZXYgPSByZXNwb25zZS5wcmV2X2N1cnNvcjtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoU3VjY2VzcygpO1xuXHQgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRGZXRjaEZhaWx1cmUocmVzcG9uc2UpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uIChrZXksIHByZXYsIG5leHQpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHVubWFuYWdlZERldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5RGlzdHJpYnV0b3Ioa2V5LCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiB1bm1hbmFnZWREZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2bS51bm1hbmFnZWREZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcblx0ICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYgPSByZXNwb25zZS5wcmV2X2N1cnNvcjtcblx0ICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSByZXNwb25zZS5uZXh0X2N1cnNvcjtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoU3VjY2VzcygpO1xuXHQgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRGZXRjaEZhaWx1cmUocmVzcG9uc2UpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmRpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuXHQgICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRGZXRjaFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0RmV0Y2hGYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZhciBlcnJvck1lc3NhZ2UgPSBcIlVuYWJsZSB0byBmZXRjaCBkZXZpY2VzLiBFcnJvcjogXCIgKyByZXNwb25zZS5zdGF0dXMgKyBcIiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQgKyBcIi5cIjtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCwgbWFuYWdlZCkge1xuXHQgICAgaWYgKGZvcndhcmQpIHtcblx0ICAgICAgaWYgKG1hbmFnZWQpIHtcblx0ICAgICAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgbnVsbCwgdm0uZGV2aWNlc05leHQpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghbWFuYWdlZCkge1xuXHQgICAgICAgIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIG51bGwsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKG1hbmFnZWQpIHtcblx0ICAgICAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0uZGV2aWNlc1ByZXYsIG51bGwpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghbWFuYWdlZCkge1xuXHQgICAgICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS51bm1hbmFnZWREZXZpY2VzUHJldiwgbnVsbCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5EZXZpY2VzTGlzdGluZ0N0cmwgPSBEZXZpY2VzTGlzdGluZ0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY2MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0QWRtaW5DdHJsLiRpbmplY3QgPSBbXCJBZG1pblNlcnZpY2VcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCJEZXZpY2VzU2VydmljZVwiLCBcIlRvYXN0c1NlcnZpY2VcIiwgXCIkc3RhdGVcIiwgXCIkbWREaWFsb2dcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkFkbWluQ3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTApO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcjIpO1xuXHRcblx0dmFyIF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1OSk7XG5cdFxuXHR2YXIgX2phdmFzY3JpcHROYXR1cmFsU29ydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIEFkbWluQ3RybChBZG1pblNlcnZpY2UsIFNlc3Npb25zU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIFRvYXN0c1NlcnZpY2UsICRzdGF0ZSwgJG1kRGlhbG9nLCBUZW5hbnRzU2VydmljZSwgRGlzdHJpYnV0b3JzU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBEZXZpY2UgU2VhcmNoIFZhcmlhYmxlc1xuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZtLnNlbGVjdGVkQnV0dG9uID0gXCJTZXJpYWwgTnVtYmVyXCI7XG5cdCAgdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPSBcIk1hbmFnZWRcIjtcblx0ICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLm1hY0RldmljZXMgPSB7fTtcblx0ICB2bS5nY21pZERldmljZXMgPSB7fTtcblx0ICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gVGVuYW50IFNlYXJjaCBWYXJpYWJsZXNcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS5zZWFyY2hlZFRlbmFudHMgPSBbXTtcblx0ICB2bS50ZW5hbnRTZWFyY2hNYXRjaCA9IG51bGw7XG5cdCAgdm0udGVuYW50U2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBEZXZpY2UgU2VhcmNoXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAoaXNNYXRjaCkge1xuXHQgICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcblx0ICAgIHJldHVybiB2bS5sb2FkaW5nRGlzYWJsZWQgPSBmYWxzZTtcblx0ICB9O1xuXHRcblx0ICB2bS5jaGFuZ2VSYWRpbyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICAgIHZtLm1hY0RldmljZXMgPSB7fTtcblx0ICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBbXTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcblx0ICAgIHZhciBmb3VuZE1hdGNoID0gZmFsc2U7XG5cdCAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KSh2bS5kZXZpY2VzVG9NYXRjaE9uKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHQgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgIGlmIChyZXNvdXJjZSA9PT0gaXRlbSkge1xuXHQgICAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG5cdCAgICAgICAgICB2bS5tYXRjaERldmljZSA9IGl0ZW07XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdCAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0ICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZtLmNvbnRyb2xPcGVuQnV0dG9uKGZvdW5kTWF0Y2gpO1xuXHQgICAgcmV0dXJuIGZvdW5kTWF0Y2g7XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHBhcnRpYWwpIHtcblx0ICAgIHZhciBidXR0b24gPSB2bS5zZWxlY3RlZEJ1dHRvbjtcblx0ICAgIHZhciBieVRlbmFudCA9IGZhbHNlO1xuXHQgICAgdmFyIHRlbmFudEtleSA9IG51bGw7XG5cdCAgICB2YXIgZGlzdHJpYnV0b3IgPSBudWxsO1xuXHQgICAgdmFyIGdsb2JhbGx5ID0gdHJ1ZTtcblx0XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIGRpc3RyaWJ1dG9yLCB1bm1hbmFnZWQsIGdsb2JhbGx5KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2YXIgZGV2aWNlc1RvUmV0dXJuID0gdm9pZCAwO1xuXHQgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuXHQgICAgICAgIHZhciBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcblx0ICAgICAgICBpZiAoYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuXHQgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uID09PSBcIk1BQ1wiKSB7XG5cdCAgICAgICAgICB2bS5tYWNEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZtLmdjbWlkRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IGRldmljZXNUb1JldHVybjtcblx0XG5cdCAgICAgICAgcmV0dXJuIGRldmljZXNUb1JldHVybjtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIFRlbmFudCBTZWFyY2hcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgdm0uc2VhcmNoQWxsVGVuYW50c0J5TmFtZSA9IGZ1bmN0aW9uICh0ZW5hbnRfbmFtZSkge1xuXHQgICAgaWYgKCF0ZW5hbnRfbmFtZSB8fCB0ZW5hbnRfbmFtZS5sZW5ndGggPCAzKSB7XG5cdCAgICAgIHJldHVybiBbXTtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2VhcmNoQWxsVGVuYW50c0J5TmFtZSh0ZW5hbnRfbmFtZSwgdHJ1ZSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2bS5zZWFyY2hlZFRlbmFudHMgPSByZXNwb25zZTtcblx0ICAgICAgaWYgKHZtLnNlYXJjaGVkVGVuYW50cykge1xuXHQgICAgICAgIHJldHVybiB2bS5zZWFyY2hlZFRlbmFudHMubWFwKGZ1bmN0aW9uIChpKSB7XG5cdCAgICAgICAgICByZXR1cm4gaS5uYW1lO1xuXHQgICAgICAgIH0pLnNvcnQoX2phdmFzY3JpcHROYXR1cmFsU29ydDIuZGVmYXVsdCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gXCJVbmFibGUgdG8gZmV0Y2ggdGVuYW50cy4gRXJyb3I6IFwiICsgcmVzcG9uc2Uuc3RhdHVzO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1RlbmFudFZhbGlkID0gZnVuY3Rpb24gKHRlbmFudF9uYW1lKSB7XG5cdCAgICBpZiAoIXRlbmFudF9uYW1lIHx8IHRlbmFudF9uYW1lLmxlbmd0aCA8IDMpIHtcblx0ICAgICAgcmV0dXJuIFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBtYXRjaCA9IHZtLnNlYXJjaGVkVGVuYW50cztcblx0ICAgIGlmIChtYXRjaCkge1xuXHQgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuXHQgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG5cdCAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShtYXRjaCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuXHQgICAgICAgICAgdmFyIGVhY2hOYW1lID0gX3N0ZXAyLnZhbHVlO1xuXHRcblx0ICAgICAgICAgIGlmICh0ZW5hbnRfbmFtZSA9PT0gZWFjaE5hbWUubmFtZSkge1xuXHQgICAgICAgICAgICB2bS50ZW5hbnRTZWFyY2hEaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB2bS5zZWFyY2hNYXRjaCA9IGVhY2hOYW1lO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2bS50ZW5hbnRTZWFyY2hEaXNhYmxlZCA9IHRydWU7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuXHQgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcblx0ICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuXHQgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG5cdCAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZtLnRlbmFudFNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBEaXN0cmlidXRvciBUYWJcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgdm0uZ2V0QWxsRGlzdHJpYnV0b3JzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0ubG9hZGluZ0FsbERpc3RyaWJ1dG9ycyA9IHRydWU7XG5cdCAgICB2YXIgZ2V0QWxsRGlzdHJpYnV0b3JzUHJvbWlzZSA9IEFkbWluU2VydmljZS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcblx0ICAgIHJldHVybiBnZXRBbGxEaXN0cmlidXRvcnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9hZGluZ0FsbERpc3RyaWJ1dG9ycyA9IGZhbHNlO1xuXHQgICAgICByZXR1cm4gdm0uYWxsRGlzdHJpYnV0b3JzID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLm1ha2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uIChldiwgZGlzdHJpYnV0b3JOYW1lLCBhZG1pbkVtYWlsLCBmb3JtKSB7XG5cdCAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKHtcblx0ICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/Jyxcblx0ICAgICAgdGV4dENvbnRlbnQ6IFwiSWYgeW91IHByb2NlZWQsIFwiICsgZGlzdHJpYnV0b3JOYW1lICsgXCIgd2lsbCBiZSBjcmVhdGVkLlwiLFxuXHQgICAgICB0YXJnZXRFdmVudDogZXYsXG5cdCAgICAgIGFyaWFMYWJlbDogJ0x1Y2t5IGRheScsXG5cdCAgICAgIG9rOiAnWWVhaCEnLFxuXHQgICAgICBjYW5jZWw6ICdGb3JnZXQgaXQuJ1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBtYWtlRGlzdHJpYnV0b3JQcm9taXNlID0gQWRtaW5TZXJ2aWNlLm1ha2VEaXN0cmlidXRvcihkaXN0cmlidXRvck5hbWUsIGFkbWluRW1haWwpO1xuXHQgICAgICBtYWtlRGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICB2bS5kaXN0cmlidXRvciA9IHt9O1xuXHQgICAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XG5cdCAgICAgICAgZm9ybS4kc2V0VW50b3VjaGVkKCk7XG5cdCAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGRhdGEubWVzc2FnZSk7XG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgcmV0dXJuIHZtLmFsbERpc3RyaWJ1dG9ycyA9IHZtLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuXHQgICAgICAgIH0sIDIwMDApO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBtYWtlRGlzdHJpYnV0b3JQcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoZGF0YS5kYXRhLm1lc3NhZ2UpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIFVzZXJzIFRhYlxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHRcblx0ICB2bS5hZGRVc2VyVG9EaXN0cmlidXRvciA9IGZ1bmN0aW9uIChldiwgdXNlckVtYWlsLCBkaXN0cmlidXRvckFkbWluLCB3aGljaERpc3RyaWJ1dG9yLCBmb3JtKSB7XG5cdCAgICBpZiAoIWRpc3RyaWJ1dG9yQWRtaW4pIHtcblx0ICAgICAgZGlzdHJpYnV0b3JBZG1pbiA9IGZhbHNlO1xuXHQgICAgfVxuXHQgICAgdmFyIHdpdGhPcldpdGhvdXQgPSBkaXN0cmlidXRvckFkbWluID8gXCJ3aXRoXCIgOiBcIndpdGhvdXRcIjtcblx0XG5cdCAgICAvLyBubyBvcHRpb24gdG8gc2VsZWN0IGRpc3RyaWJ1dG9yIGlzIGdpdmVuIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgb3B0aW9uXG5cdCAgICBpZiAoIXdoaWNoRGlzdHJpYnV0b3IpIHtcblx0ICAgICAgd2hpY2hEaXN0cmlidXRvciA9IHZtLmRpc3RyaWJ1dG9yc0FzQWRtaW5bMF07XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSh7XG5cdCAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlPycsXG5cdCAgICAgIHRleHRDb250ZW50OiB1c2VyRW1haWwgKyBcIiB3aWxsIGJlIGFkZGVkIHRvIFwiICsgd2hpY2hEaXN0cmlidXRvciArIFwiXFxuICAgICAgICBcIiArIHdpdGhPcldpdGhvdXQgKyBcIiBhZG1pbmlzdHJhdG9yIHByaXZpbGVnZXNcIixcblx0ICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuXHQgICAgICBvazogJ09mIGNvdXJzZSEnLFxuXHQgICAgICBjYW5jZWw6ICdPb3BzLCBuZXZlcm1pbmQuJ1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlID0gQWRtaW5TZXJ2aWNlLmFkZFVzZXJUb0Rpc3RyaWJ1dG9yKHVzZXJFbWFpbCwgd2hpY2hEaXN0cmlidXRvciwgZGlzdHJpYnV0b3JBZG1pbik7XG5cdCAgICAgIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGRhdGEubWVzc2FnZSk7XG5cdCAgICAgICAgdm0udXNlciA9IHt9O1xuXHQgICAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XG5cdCAgICAgICAgZm9ybS4kc2V0VW50b3VjaGVkKCk7XG5cdCAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgcmV0dXJuIHZtLmdldFVzZXJzT2ZEaXN0cmlidXRvcigpO1xuXHQgICAgICAgIH0sIDIwMDApO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBhZGRVc2VyVG9EaXN0cmlidXRvclByb21pc2UuY2F0Y2goZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChkYXRhLmRhdGEubWVzc2FnZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uc3dpdGNoRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoZGlzdHJpYnV0b3IpIHtcblx0ICAgIERpc3RyaWJ1dG9yc1NlcnZpY2Uuc3dpdGNoRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIkRpc3RyaWJ1dG9yIFwiICsgZGlzdHJpYnV0b3IubmFtZSArIFwiIHNlbGVjdGVkIVwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5sb2FkaW5nVXNlcnNPZkRpc3RyaWJ1dG9yID0gdHJ1ZTtcblx0ICAgIHZhciBjdXJyZW50RGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG5cdCAgICB2YXIgdXNlcnNvZkRpc3RyaWJ1dG9yUHJvbWlzZSA9IEFkbWluU2VydmljZS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IoY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcblx0ICAgIHJldHVybiB1c2Vyc29mRGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9hZGluZ1VzZXJzT2ZEaXN0cmlidXRvciA9IGZhbHNlO1xuXHQgICAgICByZXR1cm4gdm0udXNlcnNPZkRpc3RyaWJ1dG9yID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IoKTtcblx0ICAgIHZtLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuXHQgICAgdm0uaXNBZG1pbiA9IFNlc3Npb25zU2VydmljZS5nZXRJc0FkbWluKCk7XG5cdCAgICB2bS5kaXN0cmlidXRvcnNBc0FkbWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKTtcblx0ICAgIHZtLmN1cnJlbnREaXN0cmlidXRvck5hbWUgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpO1xuXHRcblx0ICAgIGlmICh2bS5pc0FkbWluKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0VGVuYW50ID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7IHRlbmFudEtleTogaXRlbS5rZXkgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZWRpdEl0ZW0gPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgdmFyIG1hYyA9IHZvaWQgMCxcblx0ICAgICAgICBzZXJpYWwgPSB2b2lkIDAsXG5cdCAgICAgICAgZ2NtaWQgPSB2b2lkIDA7XG5cdCAgICB2YXIgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG5cdFxuXHQgICAgbWFjID0gYnV0dG9uID09PSBcIk1BQ1wiO1xuXHQgICAgc2VyaWFsID0gYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICAgIGdjbWlkID0gYnV0dG9uID09PSBcIkdDTSBJRFwiO1xuXHRcblx0ICAgIGlmIChtYWMpIHtcblx0ICAgICAgRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0odm0ubWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuXHQgICAgICBEZXZpY2VzU2VydmljZS5lZGl0SXRlbSh2bS5zZXJpYWxEZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKHZtLmdjbWlkRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkFkbWluQ3RybCA9IEFkbWluQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjYyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0QXV0aGVudGljYXRpb25DdHJsLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkbG9nXCIsIFwiJHN0YXRlXCIsIFwiJHRpbWVvdXRcIiwgXCJpZGVudGl0eVwiLCBcInN3ZWV0XCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiUHJvb2ZQbGF5U2VydmljZVwiLCBcIkRldmljZXNTZXJ2aWNlXCIsIFwiVGVuYW50c1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBBdXRoZW50aWNhdGlvbkN0cmwoJHNjb3BlLCAkbG9nLCAkc3RhdGUsICR0aW1lb3V0LCBpZGVudGl0eSwgc3dlZXQsIFNlc3Npb25zU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBQcm9vZlBsYXlTZXJ2aWNlLCBEZXZpY2VzU2VydmljZSwgVGVuYW50c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdFxuXHQgIHZtLm9uR29vZ2xlUGx1c1NpZ25JblN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQsIGF1dGhSZXN1bHQpIHtcblx0ICAgIGlmICghdm0uZ29vZ2xlUGx1c1NpZ25JbkJ1dHRvbkNsaWNrZWQpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB9XG5cdCAgICBTZXNzaW9uc1NlcnZpY2UucmVtb3ZlVXNlckluZm8oKTtcblx0ICAgIHZhciBwcm9taXNlID0gU2Vzc2lvbnNTZXJ2aWNlLmxvZ2luKGF1dGhSZXN1bHQpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5sb2dpblN1Y2Nlc3MsIHZtLmxvZ2luRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Hb29nbGVQbHVzU2lnbkluRmFpbHVyZSA9IGZ1bmN0aW9uIChldmVudCwgYXV0aFJlc3VsdCkge1xuXHQgICAgaWYgKHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gYXV0aGVudGljYXRlIHRvIEdvb2dsZSsuJywgJ2Vycm9yJyk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgJHNjb3BlLiRvbignZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLXN1Y2Nlc3MnLCB2bS5vbkdvb2dsZVBsdXNTaWduSW5TdWNjZXNzKTtcblx0ICAkc2NvcGUuJG9uKCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tZmFpbHVyZScsIHZtLm9uR29vZ2xlUGx1c1NpZ25JbkZhaWx1cmUpO1xuXHRcblx0ICB2bS5pbml0aWFsaXplU2lnbkluID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uY2xpZW50SWQgPSBpZGVudGl0eS5PQVVUSF9DTElFTlRfSUQ7XG5cdCAgICB2bS5zdGF0ZSA9IGlkZW50aXR5LlNUQVRFO1xuXHQgICAgcmV0dXJuIHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkID0gZmFsc2U7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZVNpZ25PdXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBTZXNzaW9uc1NlcnZpY2UucmVtb3ZlVXNlckluZm8oKTtcblx0ICAgIHJldHVybiAkdGltZW91dCh2bS5wcm9jZWVkVG9TaWduZWRPdXQsIDUwKTtcblx0ICB9O1xuXHRcblx0ICB2bS5sb2dpblN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnZGlzdHJpYnV0b3Jfc2VsZWN0aW9uJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ubG9naW5GYWlsdXJlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gYXV0aGVudGljYXRlIHRvIFN0b3JtcGF0aC4nLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5wcm9jZWVkVG9TaWduZWRPdXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdzaWduZWRfb3V0Jyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucHJvY2VlZFRvU2lnbkluID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnc2lnbl9pbicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ2xpY2tHb29nbGVQbHVzU2lnbkluID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZ29vZ2xlUGx1c1NpZ25JbkJ1dHRvbkNsaWNrZWQgPSB0cnVlO1xuXHQgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5BdXRoZW50aWNhdGlvbkN0cmwgPSBBdXRoZW50aWNhdGlvbkN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY2Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdEFwcENvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRtZFNpZGVuYXZcIiwgXCIkc3RhdGVcIiwgXCIkd2luZG93XCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5BcHBDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9sb2Rhc2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2NCk7XG5cdFxuXHR2YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIEFwcENvbnRyb2xsZXIoJG1kU2lkZW5hdiwgJHN0YXRlLCAkd2luZG93LCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdFxuXHQgIHZtLmN1cnJlbnREaXN0cmlidXRlckluRGlzdHJpYnV0ZXJBZG1pbkxpc3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgY3VycmVudERpc3RyaWJ1dG9yTmFtZSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKCk7XG5cdCAgICB2YXIgZGlzdHJpYnV0b3JzQXNBZG1pbiA9IFNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCk7XG5cdCAgICByZXR1cm4gKDAsIF9sb2Rhc2gyLmRlZmF1bHQpKGRpc3RyaWJ1dG9yc0FzQWRtaW4sIGN1cnJlbnREaXN0cmlidXRvck5hbWUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldElkZW50aXR5ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAga2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpLFxuXHQgICAgICBlbWFpbDogU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJFbWFpbCgpLFxuXHQgICAgICBhZG1pbjogU2Vzc2lvbnNTZXJ2aWNlLmdldElzQWRtaW4oKSxcblx0ICAgICAgZGlzdHJpYnV0b3JfYWRtaW46IFNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCksXG5cdCAgICAgIGFkbWluX29mX2N1cnJlbnRfZGlzdHJpYnV0b3I6IHZtLmN1cnJlbnREaXN0cmlidXRlckluRGlzdHJpYnV0ZXJBZG1pbkxpc3QoKSxcblx0ICAgICAgZGlzdHJpYnV0b3JLZXk6IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSxcblx0ICAgICAgZGlzdHJpYnV0b3JOYW1lOiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpXG5cdCAgICB9O1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzQ3VycmVudFVSTERpc3RyaWJ1dG9yU2VsZWN0b3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgdGVzdCA9ICR3aW5kb3cubG9jYXRpb24uaHJlZi5zZWFyY2goL2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbi8pO1xuXHQgICAgdmFyIHJlc3VsdCA9IHRlc3QgPj0gMDtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB2bS5nZXRJZGVudGl0eSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnRvZ2dsZVNpZGVuYXYgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJG1kU2lkZW5hdignbGVmdCcpLnRvZ2dsZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdvVG8gPSBmdW5jdGlvbiAoc3RhdGVOYW1lLCBpZCkge1xuXHQgICAgJHN0YXRlLmdvKHN0YXRlTmFtZSwgeyBpZDogaWQgfSk7XG5cdCAgICBpZiAoJG1kU2lkZW5hdignbGVmdCcpLmlzT3BlbigpKSB7XG5cdCAgICAgIHJldHVybiAkbWRTaWRlbmF2KCdsZWZ0JykuY2xvc2UoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplKCk7XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5BcHBDb250cm9sbGVyID0gQXBwQ29udHJvbGxlcjtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjk2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHREaXN0cmlidXRvclNlbGVjdG9yQ3RybC4kaW5qZWN0ID0gW1wiJHN0YXRlXCIsIFwiRGlzdHJpYnV0b3JzU2VydmljZVwiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIERpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsKCRzdGF0ZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmRpc3RyaWJ1dG9ycyA9IFtdO1xuXHQgIHZtLmN1cnJlbnREaXN0cmlidXRvciA9IHVuZGVmaW5lZDtcblx0ICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmxvZWFkaW5nID0gdHJ1ZTtcblx0ICAgIHZhciBkaXN0cmlidXRvcnNQcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5mZXRjaEFsbEJ5VXNlcihTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpKTtcblx0ICAgIHJldHVybiBkaXN0cmlidXRvcnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0uZGlzdHJpYnV0b3JzID0gZGF0YTtcblx0ICAgICAgaWYgKHZtLmRpc3RyaWJ1dG9ycy5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgICByZXR1cm4gdm0uc2VsZWN0RGlzdHJpYnV0b3Iodm0uZGlzdHJpYnV0b3JzWzBdKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0ubG9hZGluZyA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5zZWxlY3REaXN0cmlidXRvciA9IGZ1bmN0aW9uIChkaXN0cmlidXRvcikge1xuXHQgICAgcmV0dXJuIERpc3RyaWJ1dG9yc1NlcnZpY2Uuc3dpdGNoRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5EaXN0cmlidXRvclNlbGVjdG9yQ3RybCA9IERpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERpc3RyaWJ1dG9yc0N0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIERpc3RyaWJ1dG9yc0N0cmwoJHN0YXRlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmRpc3RyaWJ1dG9ycyA9IFtdO1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuRGlzdHJpYnV0b3JzQ3RybCA9IERpc3RyaWJ1dG9yc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0RG9tYWluc0N0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVwiLCBcIkRvbWFpbnNTZXJ2aWNlXCIsIFwic3dlZXRcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBEb21haW5zQ3RybCgkc3RhdGUsIERvbWFpbnNTZXJ2aWNlLCBzd2VldCkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5kb21haW5zID0gW107XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmZldGNoQWxsRG9tYWlucygpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0uZG9tYWlucyA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdlZGl0RG9tYWluJywgeyBkb21haW5LZXk6IGl0ZW0ua2V5IH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmRlbGV0ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZGVsZXRlKGl0ZW0pO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdyh7XG5cdCAgICAgIHRpdGxlOiBcIkFyZSB5b3Ugc3VyZT9cIixcblx0ICAgICAgdGV4dDogXCJUaGlzIHdpbGwgcGVybWFuZW50bHkgcmVtb3ZlIHRoZSBkb21haW4gZnJvbSB0aGUgZGlzdHJpYnV0b3IgYW5kIGRpc2Nvbm5lY3QgZnJvbSB0ZW5hbnRzLlwiLFxuXHQgICAgICB0eXBlOiBcIndhcm5pbmdcIixcblx0ICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcblx0ICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcIiNERDZCNTVcIixcblx0ICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwiWWVzLCByZW1vdmUgdGhlIGRvbWFpbiFcIixcblx0ICAgICAgY2xvc2VPbkNvbmZpcm06IHRydWVcblx0ICAgIH0sIGNhbGxiYWNrKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuRG9tYWluc0N0cmwgPSBEb21haW5zQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjk5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0RG9tYWluRGV0YWlsc0N0cmwuJGluamVjdCA9IFtcIiRsb2dcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCJEb21haW5zU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcInN3ZWV0XCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiVG9hc3RzU2VydmljZVwiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIERvbWFpbkRldGFpbHNDdHJsKCRsb2csICRzdGF0ZVBhcmFtcywgRG9tYWluc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmN1cnJlbnREb21haW4gPSB7XG5cdCAgICBrZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5hbWU6IHVuZGVmaW5lZCxcblx0ICAgIGltcGVyc29uYXRpb25fYWRtaW5fZW1haWxfYWRkcmVzczogdW5kZWZpbmVkLFxuXHQgICAgZGlzdHJpYnV0b3Jfa2V5OiB1bmRlZmluZWQsXG5cdCAgICBvcmdhbml6YXRpb25fdW5pdF9wYXRoOiAnL3NreWtpdCcsXG5cdCAgICBhY3RpdmU6IHRydWVcblx0ICB9O1xuXHQgIHZtLmRldmljZXNBY2Nlc3MgPSBmYWxzZTtcblx0ICB2bS5vcmdVbml0c0FjY2VzcyA9IGZhbHNlO1xuXHQgIHZtLnVzZXJzQWNjZXNzID0gZmFsc2U7XG5cdCAgdm0uY3VycmVudERvbWFpbnMgPSBbXTtcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLmRvbWFpbktleTtcblx0XG5cdCAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICB2YXIgZG9tYWluUHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmdldERvbWFpbkJ5S2V5KCRzdGF0ZVBhcmFtcy5kb21haW5LZXkpO1xuXHQgICAgZG9tYWluUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50RG9tYWluID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICB2bS5jdXJyZW50RG9tYWluLmRpc3RyaWJ1dG9yX2tleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcblx0ICB9XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uZWRpdE1vZGUpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICAgIHZhciBjb25uZWN0aXZpdHlQcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZ2V0RGlyZWN0b3J5QXBpQ29ubmVjdGl2aXR5SW5mb3JtYXRpb24oJHN0YXRlUGFyYW1zLmRvbWFpbktleSk7XG5cdCAgICAgIHJldHVybiBjb25uZWN0aXZpdHlQcm9taXNlLnRoZW4odm0ub25TdWNjZXNzRGV0ZXJtaW5pbmdDb25uZWN0aXZpdHksIHZtLm9uRmFpbHVyZURldGVybWluaW5nQ29ubmVjdGl2aXR5KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NEZXRlcm1pbmluZ0Nvbm5lY3Rpdml0eSA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICB2bS5kZXZpY2VzQWNjZXNzID0gZGF0YS5kZXZpY2VzQWNjZXNzO1xuXHQgICAgdm0ub3JnVW5pdHNBY2Nlc3MgPSBkYXRhLm9yZ1VuaXRzQWNjZXNzO1xuXHQgICAgdm0udXNlcnNBY2Nlc3MgPSBkYXRhLnVzZXJzQWNjZXNzO1xuXHQgICAgdm0uZGV2aWNlc0FjY2Vzc0V4Y2VwdGlvbiA9IGRhdGEuZGV2aWNlc0FjY2Vzc0V4Y2VwdGlvbjtcblx0ICAgIHZtLm9yZ1VuaXRzQWNjZXNzRXhjZXB0aW9uID0gZGF0YS5vcmdVbml0c0FjY2Vzc0V4Y2VwdGlvbjtcblx0ICAgIHZtLnVzZXJzQWNjZXNzRXhjZXB0aW9uID0gZGF0YS51c2Vyc0FjY2Vzc0V4Y2VwdGlvbjtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRmFpbHVyZURldGVybWluaW5nQ29ubmVjdGl2aXR5ID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoJ0ZhaWx1cmUgZGV0ZXJtaW5pbmcgZGlyZWN0b3J5IEFQSSBjb25uZWN0aXZpdHk6ICcgKyBlcnJvci5zdGF0dXMgKyAnICcgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSBkZXRlcm1pbmUgeW91ciBkZXZpY2UgY29ubmVjdGl2aXR5IGF0IHRoaXMgdGltZS4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblNhdmVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gRG9tYWluc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RG9tYWluKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzU2F2ZURvbWFpbiwgdm0ub25GYWlsdXJlU2F2ZURvbWFpbik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzU2F2ZURvbWFpbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25GYWlsdXJlU2F2ZURvbWFpbiA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDkpIHtcblx0ICAgICAgJGxvZy5pbmZvKCdGYWlsdXJlIHNhdmluZyBkb21haW4uIERvbWFpbiBhbHJlYWR5IGV4aXN0czogJyArIGVycm9yLnN0YXR1cyArICcgJyArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUaGlzIGRvbWFpbiBuYW1lIGFscmVhZHkgZXhpc3QuIFBsZWFzZSBlbnRlciBhIHVuaXF1ZSBkb21haW4gbmFtZS4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICRsb2cuZXJyb3IoJ0ZhaWx1cmUgc2F2aW5nIGRvbWFpbjogJyArIGVycm9yLnN0YXR1cyArICcgJyArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gc2F2ZSB5b3VyIHVwZGF0ZXMgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2VkaXREb21haW4nLCB7IGRvbWFpbktleTogaXRlbS5rZXkgfSk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRvbWFpbkRldGFpbHNDdHJsID0gRG9tYWluRGV0YWlsc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwuJGluamVjdCA9IFtcIlByb29mUGxheVNlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Mik7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuXHQgICAgZ3JvdXAxOiAnQnkgRGV2aWNlJyxcblx0ICAgIGdyb3VwMjogJ1N1bW1hcml6ZWQnLFxuXHQgICAgc2VsZWN0aW9uOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG5cdCAgICBzdGFydDogbnVsbCxcblx0ICAgIGVuZDogbnVsbFxuXHQgIH07XG5cdFxuXHQgIHZtLmZvcm1WYWxpZGl0eSA9IHtcblx0ICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuXHQgICAgZW5kX2RhdGU6IGZhbHNlLFxuXHQgICAgbG9jYXRpb25zOiBmYWxzZVxuXHQgIH07XG5cdFxuXHQgIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG5cdCAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zID0gW107XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxMb2NhdGlvbnModm0udGVuYW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgdm0ubG9jYXRpb25zID0gZGF0YS5kYXRhLmxvY2F0aW9ucztcblx0ICAgICAgaWYgKHZtLmxvY2F0aW9ucy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaExvY2F0aW9ucyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuXHQgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMgPSBbXTtcblx0ICAgIHZtLmluaXRpYWxpemUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5hZGRUb1NlbGVjdGVkTG9jYXRpb25zID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIGlmICh2bS5pc0xvY2F0aW9uVmFsaWQoc2VhcmNoVGV4dCkpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zLnB1c2goc2VhcmNoVGV4dCk7XG5cdCAgICAgIHZhciBpbmRleCA9IHZtLmxvY2F0aW9ucy5pbmRleE9mKHNlYXJjaFRleHQpO1xuXHQgICAgICB2bS5sb2NhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgfVxuXHQgICAgdm0uYXJlTG9jYXRpb25zVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucXVlcnlTZWFyY2ggPSBmdW5jdGlvbiAobG9jYXRpb25zLCBzZWFyY2hUZXh0KSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChsb2NhdGlvbnMsIHNlYXJjaFRleHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0xvY2F0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5sb2NhdGlvbnMpKSB7XG5cdCAgICAgIGlmICghX19pbl9fKHNlYXJjaFRleHQsIHZtLnNlbGVjdGVkX2xvY2F0aW9ucykpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5hcmVMb2NhdGlvbnNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5sb2NhdGlvbnMgPSB2bS5zZWxlY3RlZF9sb2NhdGlvbnMubGVuZ3RoID4gMDtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gZW5kX2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWRMb2NhdGlvbiA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICB2YXIgaW5kZXggPSB2bS5zZWxlY3RlZF9sb2NhdGlvbnMuaW5kZXhPZihpdGVtKTtcblx0ICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgdm0ubG9jYXRpb25zLnB1c2goaXRlbSk7XG5cdCAgICB2bS5hcmVMb2NhdGlvbnNWYWxpZCgpO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0Rpc2FibGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkubG9jYXRpb25zICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG5cdCAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgIHJldHVybiB2bS5maW5hbCA9IHtcblx0ICAgICAgICBzdGFydF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuXHQgICAgICAgIGVuZF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcblx0ICAgICAgICBsb2NhdGlvbnM6IHZtLnNlbGVjdGVkX2xvY2F0aW9ucyxcblx0ICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG5cdFxuXHQgICAgICB9O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uZmluYWwudHlwZSA9PT0gXCIxXCIpIHtcblx0ICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwubG9jYXRpb25zLCB2bS50ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5sb2NhdGlvbnMsIHZtLnRlbmFudCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0udGVuYW50cyA9IG51bGw7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG5cdCAgICAgICRzdGF0ZS5nbygncHJvb2ZEZXRhaWwnLCB7XG5cdCAgICAgICAgdGVuYW50OiB0ZW5hbnRcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJyArIHRlbmFudCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgaXMgYWxyZWFkeSBzZXQgdG8gJyArIHRlbmFudCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcblx0ICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG5cdH1cblx0XG5cdGV4cG9ydHMuUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybCA9IFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybC4kaW5qZWN0ID0gW1wiUHJvb2ZQbGF5U2VydmljZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIiRzdGF0ZVwiLCBcIlRvYXN0c1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzIpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdFxuXHQgIHZtLnJhZGlvQnV0dG9uQ2hvaWNlcyA9IHtcblx0ICAgIGdyb3VwMTogJ0J5IERhdGUnLFxuXHQgICAgZ3JvdXAyOiAnU3VtbWFyaXplZCcsXG5cdCAgICBzZWxlY3Rpb246IG51bGxcblx0ICB9O1xuXHRcblx0ICB2bS5kYXRlVGltZVNlbGVjdGlvbiA9IHtcblx0ICAgIHN0YXJ0OiBudWxsLFxuXHQgICAgZW5kOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZm9ybVZhbGlkaXR5ID0ge1xuXHQgICAgc3RhcnRfZGF0ZTogZmFsc2UsXG5cdCAgICBlbmRfZGF0ZTogZmFsc2UsXG5cdCAgICBkaXNwbGF5czogZmFsc2Vcblx0ICB9O1xuXHRcblx0ICB2bS50ZW5hbnQgPSAkc3RhdGVQYXJhbXMudGVuYW50O1xuXHQgIHZtLm5vX2NhY2hlID0gdHJ1ZTtcblx0ICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuXHQgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzID0gW107XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxEaXNwbGF5cyh2bS50ZW5hbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuXHQgICAgICB2bS5kaXNwbGF5cyA9IGRhdGEuZGF0YS5kZXZpY2VzO1xuXHQgICAgICBpZiAodm0uZGlzcGxheXMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJlZnJlc2hEaXNwbGF5cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuXHQgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZWxlY3RlZF9kaXNwbGF5cyA9IFtdO1xuXHQgICAgdm0uaW5pdGlhbGl6ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmFkZFRvU2VsZWN0ZWREaXNwbGF5cyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAodm0uaXNEaXNwbGF5VmFsaWQoc2VhcmNoVGV4dCkpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRfZGlzcGxheXMucHVzaChzZWFyY2hUZXh0KTtcblx0ICAgICAgdmFyIGluZGV4ID0gdm0uZGlzcGxheXMuaW5kZXhPZihzZWFyY2hUZXh0KTtcblx0ICAgICAgdm0uZGlzcGxheXMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgfVxuXHQgICAgdm0uYXJlRGlzcGxheXNWYWxpZCgpO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5xdWVyeVNlYXJjaCA9IGZ1bmN0aW9uIChkaXNwbGF5cywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2goZGlzcGxheXMsIHNlYXJjaFRleHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0Rpc3BsYXlWYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAoX19pbl9fKHNlYXJjaFRleHQsIHZtLmRpc3BsYXlzKSkge1xuXHQgICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9kaXNwbGF5cykpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5hcmVEaXNwbGF5c1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmRpc3BsYXlzID0gdm0uc2VsZWN0ZWRfZGlzcGxheXMubGVuZ3RoID4gMDtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gZW5kX2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWREaXNwbGF5ID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHZhciBpbmRleCA9IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLmluZGV4T2YoaXRlbSk7XG5cdCAgICB2bS5zZWxlY3RlZF9kaXNwbGF5cy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgdm0uZGlzcGxheXMucHVzaChpdGVtKTtcblx0ICAgIHZtLmFyZURpc3BsYXlzVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmRpc3BsYXlzICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG5cdCAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgIHJldHVybiB2bS5maW5hbCA9IHtcblx0ICAgICAgICBzdGFydF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuXHQgICAgICAgIGVuZF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcblx0ICAgICAgICBkaXNwbGF5czogdm0uc2VsZWN0ZWRfZGlzcGxheXMsXG5cdCAgICAgICAgdHlwZTogdm0ucmFkaW9CdXR0b25DaG9pY2VzLnNlbGVjdGlvblxuXHRcblx0ICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG5cdCAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzQnlEYXRlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwuZGlzcGxheXMsIHZtLnRlbmFudCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5kaXNwbGF5cywgdm0udGVuYW50KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS50ZW5hbnRzID0gbnVsbDtcblx0ICB2bS5jdXJyZW50VGVuYW50ID0gdm0udGVuYW50O1xuXHRcblx0ICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgaWYgKHRlbmFudCAhPT0gdm0uY3VycmVudFRlbmFudCkge1xuXHQgICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuXHQgICAgICAgIHRlbmFudDogdGVuYW50XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuXHQgIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSkgPj0gMDtcblx0fVxuXHRcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwgPSBQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwuJGluamVjdCA9IFtcIlByb29mUGxheVNlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Mik7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuXHQgICAgZ3JvdXAxOiAnQnkgRGV2aWNlJyxcblx0ICAgIGdyb3VwMjogJ0J5IERhdGUnLFxuXHQgICAgc2VsZWN0aW9uOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG5cdCAgICBzdGFydDogbnVsbCxcblx0ICAgIGVuZDogbnVsbFxuXHQgIH07XG5cdFxuXHQgIHZtLmZvcm1WYWxpZGl0eSA9IHtcblx0ICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuXHQgICAgZW5kX2RhdGU6IGZhbHNlLFxuXHQgICAgcmVzb3VyY2VzOiBmYWxzZVxuXHQgIH07XG5cdFxuXHQgIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG5cdCAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzID0gW107XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxSZXNvdXJjZXModm0udGVuYW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgdm0uZnVsbF9yZXNvdXJjZV9tYXAgPSBkYXRhLmRhdGEucmVzb3VyY2VzO1xuXHQgICAgICB2bS5yZXNvdXJjZXMgPSBbXTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmRhdGEucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHJlc291cmNlID0gZGF0YS5kYXRhLnJlc291cmNlc1tpXTtcblx0ICAgICAgICB2bS5yZXNvdXJjZXMucHVzaChyZXNvdXJjZS5yZXNvdXJjZV9uYW1lKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHZtLnJlc291cmNlcy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaFJlc291cmNlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuXHQgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZWxlY3RlZF9yZXNvdXJjZXMgPSBbXTtcblx0ICAgIHZtLmluaXRpYWxpemUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5hZGRUb1NlbGVjdGVkUmVzb3VyY2VzID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIGlmICh2bS5pc1Jlc291cmNlVmFsaWQoc2VhcmNoVGV4dCkpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLnB1c2goc2VhcmNoVGV4dCk7XG5cdCAgICAgIHZhciBpbmRleCA9IHZtLnJlc291cmNlcy5pbmRleE9mKHNlYXJjaFRleHQpO1xuXHQgICAgICB2bS5yZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgfVxuXHQgICAgdm0uYXJlUmVzb3VyY2VzVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucXVlcnlTZWFyY2ggPSBmdW5jdGlvbiAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5yZXNvdXJjZXMpKSB7XG5cdCAgICAgIGlmICghX19pbl9fKHNlYXJjaFRleHQsIHZtLnNlbGVjdGVkX3Jlc291cmNlcykpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5hcmVSZXNvdXJjZXNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5yZXNvdXJjZXMgPSB2bS5zZWxlY3RlZF9yZXNvdXJjZXMubGVuZ3RoID4gMDtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gZW5kX2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWRSZXNvdXJjZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICB2YXIgaW5kZXggPSB2bS5zZWxlY3RlZF9yZXNvdXJjZXMuaW5kZXhPZihpdGVtKTtcblx0ICAgIHZtLnNlbGVjdGVkX3Jlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgdm0ucmVzb3VyY2VzLnB1c2goaXRlbSk7XG5cdCAgICB2bS5hcmVSZXNvdXJjZXNWYWxpZCgpO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0Rpc2FibGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkucmVzb3VyY2VzICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG5cdCAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgIHJldHVybiB2bS5maW5hbCA9IHtcblx0ICAgICAgICBzdGFydF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuXHQgICAgICAgIGVuZF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcblx0ICAgICAgICByZXNvdXJjZXM6IHZtLnNlbGVjdGVkX3Jlc291cmNlcyxcblx0ICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG5cdCAgICAgIH07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciByZXNvdXJjZXNfYXNfaWRzID0gW107XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLmZpbmFsLnJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgaXRlbSA9IHZtLmZpbmFsLnJlc291cmNlc1tpXTtcblx0ICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2bS5mdWxsX3Jlc291cmNlX21hcC5sZW5ndGg7IGorKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gdm0uZnVsbF9yZXNvdXJjZV9tYXBbal07XG5cdCAgICAgICAgaWYgKGVhY2hbXCJyZXNvdXJjZV9uYW1lXCJdID09PSBpdGVtKSB7XG5cdCAgICAgICAgICByZXNvdXJjZXNfYXNfaWRzLnB1c2goZWFjaFtcInJlc291cmNlX2lkZW50aWZpZXJcIl0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuXHQgICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEZXZpY2Uodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCByZXNvdXJjZXNfYXNfaWRzLCB2bS50ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHJlc291cmNlc19hc19pZHMsIHZtLnRlbmFudCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0udGVuYW50cyA9IG51bGw7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG5cdCAgICAgICRzdGF0ZS5nbygncHJvb2ZEZXRhaWwnLCB7XG5cdCAgICAgICAgdGVuYW50OiB0ZW5hbnRcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIHNldCB0byAnICsgdGVuYW50KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBpcyBhbHJlYWR5IHNldCB0byAnICsgdGVuYW50KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuXHQgIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSkgPj0gMDtcblx0fVxuXHRcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsID0gUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzAzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRQcm9vZk9mUGxheUN0cmwuJGluamVjdCA9IFtcIlByb29mUGxheVNlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gUHJvb2ZPZlBsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnJlc291cmNlID0geyB0aXRsZTogXCJSZXNvdXJjZSBSZXBvcnRcIiB9O1xuXHQgIHZtLmxvY2F0aW9uID0geyB0aXRsZTogXCJMb2NhdGlvbiBSZXBvcnRcIiB9O1xuXHQgIHZtLmRpc3BsYXkgPSB7IHRpdGxlOiBcIkRpc3BsYXkgUmVwb3J0XCIgfTtcblx0XG5cdCAgdm0uY2hvc2VuX3RlbmFudCA9IG51bGw7XG5cdCAgdm0udGVuYW50cyA9IG51bGw7XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICBpZiAodGVuYW50KSB7XG5cdCAgICAgIHZtLmNob3Nlbl90ZW5hbnQgPSB0ZW5hbnQ7XG5cdCAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuXHQgICAgICAgIHRlbmFudDogdm0uY2hvc2VuX3RlbmFudFxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5yZWZyZXNoVGVuYW50cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnRlbmFudHMgPSBudWxsO1xuXHQgICAgdmFyIHVybCA9IFByb29mUGxheVNlcnZpY2UubWFrZUhUVFBVUkwoXCIvcmV0cmlldmVfbXlfdGVuYW50c1wiLCAnJyk7XG5cdCAgICB2bS5pbml0aWFsaXplKCk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcblx0ICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG5cdH1cblx0XG5cdGV4cG9ydHMuUHJvb2ZPZlBsYXlDdHJsID0gUHJvb2ZPZlBsYXlDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oJCkgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA2KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSW1hZ2VTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIEltYWdlU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdCAgZnVuY3Rpb24gSW1hZ2VTZXJ2aWNlKFJlc3Rhbmd1bGFyLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgSW1hZ2VTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoSW1hZ2VTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnZ2V0SW1hZ2VzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbWFnZXModGVuYW50X3VybHNhZmVfa2V5KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnaW1hZ2UnLCAnL2FwaS92MS9pbWFnZS90ZW5hbnQvJyArIHRlbmFudF91cmxzYWZlX2tleSkuZ2V0TGlzdCgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NhdmVJbWFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZUltYWdlKHRlbmFudF91cmxzYWZlX2tleSwgZm9ybURhdGEpIHtcblx0ICAgICAgLy8galF1ZXJ5IGFqYXggdXNlZCBoZXJlIGluc3RlYWQgb2YgYW5ndWxhciAvIFJlc3Rhbmd1bGFyIGR1ZSB0byBhbmd1bGFyIGJ1ZyB3aXRoIHBvc3RpbmcgZm9ybSBkYXRhXG5cdCAgICAgIHJldHVybiAkLmFqYXgoe1xuXHQgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuXHQgICAgICAgIHVybDogJy9hcGkvdjEvaW1hZ2UvdGVuYW50LycgKyB0ZW5hbnRfdXJsc2FmZV9rZXksXG5cdCAgICAgICAgZGF0YTogZm9ybURhdGEsXG5cdCAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuXHQgICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkZWxldGVJbWFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlSW1hZ2UoaW1hZ2VfdXJsc2FmZV9rZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnaW1hZ2UnLCAnL2FwaS92MS9pbWFnZS8nICsgaW1hZ2VfdXJsc2FmZV9rZXkpLnJlbW92ZSgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEltYWdlU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSW1hZ2VTZXJ2aWNlO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1MTIpKSlcblxuLyoqKi8gfSxcblxuLyoqKi8gNzEwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIEFkbWluU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBBZG1pblNlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIEFkbWluU2VydmljZShSZXN0YW5ndWxhcikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBBZG1pblNlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgICAgdGhpcy5VU0VSX1NFUlZJQ0UgPSBcInVzZXJzXCI7XG5cdCAgICB0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UgPSBcImRpc3RyaWJ1dG9yc1wiO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQWRtaW5TZXJ2aWNlLCBbe1xuXHQgICAga2V5OiBcIm1ha2VEaXN0cmlidXRvclwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VEaXN0cmlidXRvcihkaXN0cmlidXRvciwgYWRtaW5fZW1haWwpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgZGlzdHJpYnV0b3I6IGRpc3RyaWJ1dG9yLFxuXHQgICAgICAgIGFkbWluX2VtYWlsOiBhZG1pbl9lbWFpbFxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsICcvYXBpL3YxL2Rpc3RyaWJ1dG9ycycpLmN1c3RvbVBPU1QocGF5bG9hZCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJhZGRVc2VyVG9EaXN0cmlidXRvclwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yKHVzZXJFbWFpbCwgZGlzdHJpYnV0b3IsIGRpc3RyaWJ1dG9yQWRtaW4pIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgdXNlcl9lbWFpbDogdXNlckVtYWlsLFxuXHQgICAgICAgIGRpc3RyaWJ1dG9yOiBkaXN0cmlidXRvcixcblx0ICAgICAgICBkaXN0cmlidXRvcl9hZG1pbjogZGlzdHJpYnV0b3JBZG1pblxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlVTRVJfU0VSVklDRSwgXCIvYXBpL3YxL3VzZXJzXCIpLmN1c3RvbVBPU1QocGF5bG9hZCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJnZXRVc2Vyc09mRGlzdHJpYnV0b3JcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVc2Vyc09mRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIFwiL2FwaS92MS9hbmFseXRpY3MvZGlzdHJpYnV0b3JzL1wiICsgZGlzdHJpYnV0b3JLZXkgKyBcIi91c2Vyc1wiKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImdldEFsbERpc3RyaWJ1dG9yc1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbERpc3RyaWJ1dG9ycygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIFwiL2FwaS92MS9kaXN0cmlidXRvcnNcIikuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gQWRtaW5TZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBBZG1pblNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA2KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQXV0aG9yaXphdGlvblNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgQXV0aG9yaXphdGlvblNlcnZpY2UuJGluamVjdCA9IFtcIlNlc3Npb25zU2VydmljZVwiLCBcIiRxXCJdO1xuXHQgIGZ1bmN0aW9uIEF1dGhvcml6YXRpb25TZXJ2aWNlKFNlc3Npb25zU2VydmljZSwgJHEpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQXV0aG9yaXphdGlvblNlcnZpY2UpO1xuXHQgICAgdGhpcy4kcSA9ICRxO1xuXHQgICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2U7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShBdXRob3JpemF0aW9uU2VydmljZSwgW3tcblx0ICAgIGtleTogJ2F1dGhlbnRpY2F0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoKSB7XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIHVzZXJLZXkgPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCk7XG5cdCAgICAgIGlmICh1c2VyS2V5KSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdzaWduX2luJ10pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ25vdEF1dGhlbnRpY2F0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG5vdEF1dGhlbnRpY2F0ZWQoKSB7XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIHVzZXJLZXkgPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCk7XG5cdCAgICAgIGlmICghdXNlcktleSkge1xuXHQgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVqZWN0KFtcImF1dGhFcnJvclwiLCAnaG9tZSddKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdpc0FkbWluT3JEaXN0cmlidXRvckFkbWluJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpc0FkbWluT3JEaXN0cmlidXRvckFkbWluKCkge1xuXHQgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cdCAgICAgIHZhciBhZG1pbiA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldElzQWRtaW4oKTtcblx0ICAgICAgdmFyIGRpc3RyaWJ1dG9yQWRtaW4gPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCk7XG5cdCAgICAgIHZhciBoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbiA9IGZhbHNlO1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JBZG1pbiAmJiBkaXN0cmlidXRvckFkbWluLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICBoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbiA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHVzZXJLZXkgPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCk7XG5cdCAgICAgIGlmICghdXNlcktleSkge1xuXHQgICAgICAgIGRlZmVycmVkLnJlamVjdCgnc2lnbl9pbicpO1xuXHQgICAgICB9IGVsc2UgaWYgKCFhZG1pbiAmJiAhaGFzQXRMZWFzdE9uZURpc3RyaWJ1dG9yQWRtaW4pIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdob21lJ10pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQXV0aG9yaXphdGlvblNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA2KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ29tbWFuZHNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIENvbW1hbmRzU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cdCAgZnVuY3Rpb24gQ29tbWFuZHNTZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENvbW1hbmRzU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLlNFUlZJQ0VfTkFNRSA9ICdkZXZpY2VzJztcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENvbW1hbmRzU2VydmljZSwgW3tcblx0ICAgIGtleTogJ3BhbmVsU2xlZXAnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBhbmVsU2xlZXAoa2V5LCBfcGFuZWxTbGVlcCkge1xuXHQgICAgICAvKiogcGFuZWxTbGVlcDogYm9vbGVhbiAqKi9cblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgcGFuZWxTbGVlcDogX3BhbmVsU2xlZXBcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9wYW5lbC1zbGVlcCcpLmN1c3RvbVBVVChwYXlsb2FkKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVzZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvcmVzZXQnKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbnRlbnREZWxldGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnRlbnREZWxldGUoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9jb250ZW50LWRlbGV0ZScpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29udGVudFVwZGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29udGVudFVwZGF0ZShrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL2NvbnRlbnQtdXBkYXRlJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICd1cGRhdGVEZXZpY2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZURldmljZShrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL3JlZnJlc2gtZGV2aWNlLXJlcHJlc2VudGF0aW9uJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICd0b2dnbGVEaWFnbm9zdGljcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlRGlhZ25vc3RpY3Moa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9kaWFnbm9zdGljcycpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVzdGFydCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVzdGFydChrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL3Jlc3RhcnQnKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Bvc3RMb2cnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBvc3RMb2coa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9wb3N0LWxvZycpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncG93ZXJPbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcG93ZXJPbihrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL3Bvd2VyLW9uJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdwb3dlck9mZicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcG93ZXJPZmYoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9wb3dlci1vZmYnKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3ZvbHVtZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdm9sdW1lKGtleSwgX3ZvbHVtZSkge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICB2b2x1bWU6IF92b2x1bWVcblx0ICAgICAgfTtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkpLmN1c3RvbVBPU1QocGF5bG9hZCwgJ2NvbW1hbmRzL3ZvbHVtZScpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjdXN0b20nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGN1c3RvbShrZXksIGNvbW1hbmQpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgY29tbWFuZDogY29tbWFuZFxuXHQgICAgICB9O1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSkuY3VzdG9tUE9TVChwYXlsb2FkLCAnY29tbWFuZHMvY3VzdG9tJyk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gQ29tbWFuZHNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDb21tYW5kc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA2KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzIpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEYXRlTWFuaXB1bGF0aW9uU2VydmljZSwgW3tcblx0ICAgIGtleTogJ2NvbnZlcnRUb01vbWVudElmTm90QWxyZWFkeScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KGRhdGUpIHtcblx0ICAgICAgaWYgKCFfbW9tZW50Mi5kZWZhdWx0LmlzTW9tZW50KGRhdGUpKSB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfbW9tZW50Mi5kZWZhdWx0KShuZXcgRGF0ZShkYXRlKSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGRhdGU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjcmVhdGVGb3JtYXR0ZWRTdGFydEFuZEVuZERhdGVGcm9tVG9kYXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheShkYXlzQmFjaykge1xuXHQgICAgICB2YXIgc3RhcnRUaW1lID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG5cdCAgICAgIHZhciBzdGFydFRpbWVNaWROaWdodCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KShzdGFydFRpbWUsICdZWVlZLU1NLUREJykuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tIEEnKTtcblx0ICAgICAgdmFyIHN0YXJ0VGltZUVuZE9mRGF5ID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHN0YXJ0VGltZU1pZE5pZ2h0LCAnWVlZWS1NTS1ERCBoaDptbSBBJykuYWRkKDEsICdkYXknKS5zdWJ0cmFjdCg2MCwgJ3NlY29uZHMnKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW0gQScpO1xuXHRcblx0ICAgICAgdmFyIGVuZFRpbWUgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkoKS5zdWJ0cmFjdCgzMCwgJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcblx0ICAgICAgdmFyIGVuZFRpbWVNaWROaWdodCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KShlbmRUaW1lLCAnWVlZWS1NTS1ERCcpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJyk7XG5cdFxuXHQgICAgICByZXR1cm4gW2VuZFRpbWVNaWROaWdodCwgc3RhcnRUaW1lRW5kT2ZEYXldO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dlbmVyYXRlTG9jYWxGcm9tVVRDJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUxvY2FsRnJvbVVUQyhVVENUaW1lKSB7XG5cdCAgICAgIHZhciBsb2NhbFRpbWUgPSBfbW9tZW50Mi5kZWZhdWx0LnV0YyhVVENUaW1lKS50b0RhdGUoKTtcblx0ICAgICAgcmV0dXJuICgwLCBfbW9tZW50Mi5kZWZhdWx0KShsb2NhbFRpbWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbTpzcyBBJyk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBEYXRlTWFuaXB1bGF0aW9uU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxNDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA2KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjA0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRGV2aWNlc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgRGV2aWNlc1NlcnZpY2UuJGluamVjdCA9IFtcIiRsb2dcIiwgXCJSZXN0YW5ndWxhclwiLCBcIiRxXCIsIFwiJGh0dHBcIiwgXCIkc3RhdGVcIl07XG5cdCAgZnVuY3Rpb24gRGV2aWNlc1NlcnZpY2UoJGxvZywgUmVzdGFuZ3VsYXIsICRxLCAkaHR0cCwgJHN0YXRlKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERldmljZXNTZXJ2aWNlKTtcblx0ICAgIHRoaXMuJGxvZyA9ICRsb2c7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLiRxID0gJHE7XG5cdCAgICB0aGlzLiRodHRwID0gJGh0dHA7XG5cdCAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcblx0ICAgIHRoaXMuU0VSVklDRV9OQU1FID0gJ2RldmljZXMnO1xuXHQgICAgdGhpcy51cmlCYXNlID0gJ3YxL2RldmljZXMnO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGV2aWNlc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdhZGp1c3RDb250cm9sc01vZGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFkanVzdENvbnRyb2xzTW9kZShkZXZpY2VLZXksIGNvbnRyb2xzTW9kZSkge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICBjb250cm9sc01vZGU6IGNvbnRyb2xzTW9kZVxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJy9hcGkvdjEvZGV2aWNlcy8nICsgZGV2aWNlS2V5ICsgJy9jb250cm9scy1tb2RlJykuY3VzdG9tUFVUKHBheWxvYWQpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREZXZpY2VCeU1hY0FkZHJlc3MnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERldmljZUJ5TWFjQWRkcmVzcyhtYWNBZGRyZXNzKSB7XG5cdCAgICAgIHZhciB1cmwgPSAnYXBpL3YxL2RldmljZXM/bWFjX2FkZHJlc3M9JyArIG1hY0FkZHJlc3M7XG5cdCAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnYXBpL3YxL2RldmljZXMnLCB1cmwpLmdldCgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERldmljZUJ5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXZpY2VCeUtleShkZXZpY2VLZXkpIHtcblx0ICAgICAgdmFyIHVybCA9ICdhcGkvdjEvZGV2aWNlcy8nICsgZGV2aWNlS2V5O1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShkaWN0aW9uYXJ5LCB2YWx1ZSkge1xuXHQgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpY3Rpb25hcnkubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IGRpY3Rpb25hcnlbaV07XG5cdCAgICAgICAgcmVzdWx0cy5wdXNoKGVhY2hbdmFsdWVdKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0cztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuXHQgICAgICAgIHZhciBpc01hYyA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBpc0dDTWlkID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIHNlcmlhbERldmljZXNEaWN0ID0gX3RoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcblx0ICAgICAgICB2YXIgZGV2aWNlU2VyaWFsc09ubHkgPSBfdGhpcy5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcInNlcmlhbFwiKTtcblx0ICAgICAgICByZXR1cm4gW2RldmljZVNlcmlhbHNPbmx5LCBzZXJpYWxEZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuXHQgICAgICAgIHZhciBpc01hYyA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBpc0dDTWlkID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIHNlcmlhbERldmljZXNEaWN0ID0gX3RoaXMyLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG5cdCAgICAgICAgdmFyIHNlcmlhbERldmljZXNPbmx5ID0gX3RoaXMyLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwic2VyaWFsXCIpO1xuXHQgICAgICAgIHJldHVybiBbc2VyaWFsRGV2aWNlc09ubHksIHNlcmlhbERldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxHbG9iYWxseScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgaXNNYWMgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgaXNHQ01pZCA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBzZXJpYWxEZXZpY2VzRGljdCA9IF90aGlzMy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuXHQgICAgICAgIHZhciBzZXJpYWxEZXZpY2VzT25seSA9IF90aGlzMy5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcInNlcmlhbFwiKTtcblx0ICAgICAgICByZXR1cm4gW3NlcmlhbERldmljZXNPbmx5LCBzZXJpYWxEZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuXHQgICAgICAgIHZhciBtYWNEZXZpY2VzRGljdCA9IF90aGlzNC5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgdHJ1ZSk7XG5cdCAgICAgICAgdmFyIGRldmljZU1hY3NPbmx5ID0gX3RoaXM0LnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwibWFjXCIpO1xuXHQgICAgICAgIHJldHVybiBbZGV2aWNlTWFjc09ubHksIG1hY0RldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxNYWMoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG5cdCAgICAgICAgdmFyIGlzTWFjID0gdHJ1ZTtcblx0ICAgICAgICB2YXIgaXNHQ01pZCA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBtYWNEZXZpY2VzRGljdCA9IF90aGlzNS5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuXHQgICAgICAgIHZhciBtYWNEZXZpY2VzID0gX3RoaXM1LnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwibWFjXCIpO1xuXHQgICAgICAgIHJldHVybiBbbWFjRGV2aWNlcywgbWFjRGV2aWNlc0RpY3RdO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0dsb2JhbGx5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0dsb2JhbGx5KHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxNYWNHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuXHQgICAgICAgIHZhciBpc01hYyA9IHRydWU7XG5cdCAgICAgICAgdmFyIGlzR0NNaWQgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgbWFjRGV2aWNlc0RpY3QgPSBfdGhpczYuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcblx0ICAgICAgICB2YXIgbWFjRGV2aWNlcyA9IF90aGlzNi5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcIm1hY1wiKTtcblx0ICAgICAgICByZXR1cm4gW21hY0RldmljZXMsIG1hY0RldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgZ2NtaWREZXZpY2VzRGljdCA9IF90aGlzNy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuXHQgICAgICAgIHZhciBnY21pZERldmljZXNPbmx5ID0gX3RoaXM3LnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwiZ2NtaWRcIik7XG5cdCAgICAgICAgcmV0dXJuIFtnY21pZERldmljZXNPbmx5LCBnY21pZERldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5RGlzdHJpYnV0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZChkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgR0NNaWREZXZpY2VzRGljdCA9IF90aGlzOC5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuXHQgICAgICAgIHZhciBnY21pZERldmljZXNPbmx5ID0gX3RoaXM4LnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwiZ2NtaWRcIik7XG5cdCAgICAgICAgcmV0dXJuIFtnY21pZERldmljZXNPbmx5LCBHQ01pZERldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEdsb2JhbGx5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuXHQgICAgICAgIHZhciBHQ01pZERldmljZXNEaWN0ID0gX3RoaXM5LmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBmYWxzZSwgdHJ1ZSk7XG5cdCAgICAgICAgdmFyIGdjbWlkRGV2aWNlc09ubHkgPSBfdGhpczkucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJnY21pZFwiKTtcblx0ICAgICAgICByZXR1cm4gW2djbWlkRGV2aWNlc09ubHksIEdDTWlkRGV2aWNlc0RpY3RdO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZWplY3RlZFByb21pc2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlamVjdGVkUHJvbWlzZSgpIHtcblx0ICAgICAgdmFyIGRldmljZURlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICBkZXZpY2VEZWZlcnJlZC5yZWplY3QoKTtcblx0ICAgICAgcmV0dXJuIGRldmljZURlZmVycmVkLnByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGV2aWNlcyhwYXJ0aWFsU2VhcmNoLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIGRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQsIGdsb2JhbGx5KSB7XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIGRldmljZXNQcm9taXNlID0gdm9pZCAwO1xuXHQgICAgICBpZiAocGFydGlhbFNlYXJjaCkge1xuXHQgICAgICAgIGlmIChwYXJ0aWFsU2VhcmNoLmxlbmd0aCA+IDIpIHtcblx0ICAgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG5cdCAgICAgICAgICAgIGlmIChnbG9iYWxseSkge1xuXHQgICAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEdsb2JhbGx5KHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoYnlUZW5hbnQpIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcblx0ICAgICAgICAgICAgaWYgKGdsb2JhbGx5KSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChieVRlbmFudCkge1xuXHQgICAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoZ2xvYmFsbHkpIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEdsb2JhbGx5KHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoYnlUZW5hbnQpIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLnJlamVjdGVkUHJvbWlzZSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMucmVqZWN0ZWRQcm9taXNlKCk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRldmljZXNSZXN1bHQpIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcblx0ICAgICAgICAgIFwic3VjY2Vzc1wiOiB0cnVlLFxuXHQgICAgICAgICAgXCJkZXZpY2VzXCI6IGRldmljZXNSZXN1bHRcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICBkZXZpY2VzUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZGV2aWNlc1Jlc3VsdCkge1xuXHQgICAgICAgIGRlZmVycmVkLnJlc29sdmUoe1xuXHQgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlLFxuXHQgICAgICAgICAgXCJkZXZpY2VzXCI6IFtdXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaih0aGVBcnJheSwgbWFjLCBnY20pIHtcblx0ICAgICAgLyoqIENvbnZlcnRzIGFycmF5IHRvIGRpY3Rpb25hcnkgd2l0aCBtYWMsIGdjbWlkLCBvciBzZXJpYWwgYXMgdGhlIGtleSAqKi9cblx0ICAgICAgdmFyIGRldmljZXMgPSB7fTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGVBcnJheS5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBpdGVtID0gdGhlQXJyYXlbaV07XG5cdCAgICAgICAgaWYgKG1hYykge1xuXHQgICAgICAgICAgZGV2aWNlc1tpdGVtLm1hY10gPSBpdGVtO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZ2NtKSB7XG5cdCAgICAgICAgICBkZXZpY2VzW2l0ZW0uZ2NtaWRdID0gaXRlbTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZGV2aWNlc1tpdGVtLnNlcmlhbF0gPSBpdGVtO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZGV2aWNlcztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdlZGl0SXRlbScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZWRpdEl0ZW0oaXRlbSwgZnJvbURldmljZXMpIHtcblx0ICAgICAgaWYgKCFmcm9tRGV2aWNlcykge1xuXHQgICAgICAgIGZyb21EZXZpY2VzID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy4kc3RhdGUuZ28oJ2VkaXREZXZpY2UnLCB7XG5cdCAgICAgICAgZGV2aWNlS2V5OiBpdGVtLmtleSxcblx0ICAgICAgICB0ZW5hbnRLZXk6IGl0ZW0udGVuYW50S2V5LFxuXHQgICAgICAgIGZyb21EZXZpY2VzOiBmcm9tRGV2aWNlc1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdwcmVwcmF0ZUZvckVkaXRWaWV3Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwcmVwcmF0ZUZvckVkaXRWaWV3KGJ1dHRvbiwgdGVuYW50S2V5LCBzZWFyY2hUZXh0LCBtYWNEZXZpY2VzLCBzZXJpYWxEZXZpY2VzLCBnY21pZERldmljZXMpIHtcblx0ICAgICAgdmFyIG1hYyA9IHZvaWQgMCxcblx0ICAgICAgICAgIHNlcmlhbCA9IHZvaWQgMCxcblx0ICAgICAgICAgIGdjbWlkID0gdm9pZCAwO1xuXHRcblx0ICAgICAgbWFjID0gYnV0dG9uID09PSBcIk1BQ1wiO1xuXHQgICAgICBzZXJpYWwgPSBidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuXHQgICAgICBnY21pZCA9IGJ1dHRvbiA9PT0gXCJHQ00gSURcIjtcblx0XG5cdCAgICAgIGlmIChtYWMpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5lZGl0SXRlbShtYWNEZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfSBlbHNlIGlmIChzZXJpYWwpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5lZGl0SXRlbShzZXJpYWxEZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5lZGl0SXRlbShnY21pZERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0SXNzdWVzQnlLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldElzc3Vlc0J5S2V5KGRldmljZUtleSwgc3RhcnRFcG9jaCwgZW5kRXBvY2gsIHByZXYsIG5leHQpIHtcblx0ICAgICAgcHJldiA9IHByZXYgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IHByZXY7XG5cdCAgICAgIG5leHQgPSBuZXh0ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBuZXh0O1xuXHQgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvZGV2aWNlcy8nICsgcHJldiArICcvJyArIG5leHQgKyAnLycgKyBkZXZpY2VLZXkgKyAnL2lzc3Vlcz9zdGFydD0nICsgc3RhcnRFcG9jaCArICcmZW5kPScgKyBlbmRFcG9jaDtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q29tbWFuZEV2ZW50c0J5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb21tYW5kRXZlbnRzQnlLZXkoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuXHQgICAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcblx0ICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL3BsYXllci1jb21tYW5kLWV2ZW50cy8nICsgcHJldiArICcvJyArIG5leHQgKyAnLycgKyBkZXZpY2VLZXk7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAgIC8vIFRFTkFOVCBWSUVXXG5cdCAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERldmljZXNCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5VGVuYW50VVJMKHRlbmFudEtleSwgcHJldiwgbmV4dCwgZmFsc2UpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFVubWFuYWdlZERldmljZXNCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cdCAgICAgICAgdmFyIHVybCA9IHRoaXMubWFrZURldmljZXNCeVRlbmFudFVSTCh0ZW5hbnRLZXksIHByZXYsIG5leHQsIHRydWUpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbF9zZXJpYWwsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvdGVuYW50cy9zZWFyY2gvJyArIHRlbmFudEtleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9zZXJpYWw9JyArIHBhcnRpYWxfc2VyaWFsO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERldmljZXNCeVBhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxfbWFjLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL3RlbmFudHMvc2VhcmNoLycgKyB0ZW5hbnRLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfbWFjPScgKyBwYXJ0aWFsX21hYztcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxfZ2NtaWQsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvdGVuYW50cy9zZWFyY2gvJyArIHRlbmFudEtleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9nY21pZD0nICsgcGFydGlhbF9nY21pZDtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgICAgLy8gREVWSUNFUyBWSUVXXG5cdCAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWwoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxfc2VyaWFsLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvZGlzdHJpYnV0b3JzL3NlYXJjaC8nICsgZGlzdHJpYnV0b3JLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfc2VyaWFsPScgKyBwYXJ0aWFsX3NlcmlhbDtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hYycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hYyhkaXN0cmlidXRvcktleSwgcGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9kaXN0cmlidXRvcnMvc2VhcmNoLycgKyBkaXN0cmlidXRvcktleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9tYWM9JyArIHBhcnRpYWxfbWFjO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxfZ2NtaWQsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9kaXN0cmlidXRvcnMvc2VhcmNoLycgKyBkaXN0cmlidXRvcktleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9nY21pZD0nICsgcGFydGlhbF9nY21pZDtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgICAgLy8gU0VBUkNIIERFVklDRVMgR0xPQkFMTFlcblx0ICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEdsb2JhbGx5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsR2xvYmFsbHkocGFydGlhbF9zZXJpYWwsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvZGV2aWNlcy9hbmFseXRpY3Mvc2VhcmNoLWdsb2JhbD91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9zZXJpYWw9JyArIHBhcnRpYWxfc2VyaWFsO1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKFwiZGV2aWNlc1wiLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjR2xvYmFsbHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERldmljZXNCeVBhcnRpYWxNYWNHbG9iYWxseShwYXJ0aWFsX21hYywgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9kZXZpY2VzL2FuYWx5dGljcy9zZWFyY2gtZ2xvYmFsP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX21hYz0nICsgcGFydGlhbF9tYWM7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoXCJkZXZpY2VzXCIsIHVybCkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkR2xvYmFsbHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkR2xvYmFsbHkocGFydGlhbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9kZXZpY2VzL2FuYWx5dGljcy9zZWFyY2gtZ2xvYmFsP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX2djbWlkPScgKyBwYXJ0aWFsX2djbWlkO1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKFwiZGV2aWNlc1wiLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERldmljZXNCeURpc3RyaWJ1dG9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXZpY2VzQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSB0aGlzLm1ha2VEZXZpY2VzQnlEaXN0cmlidXRvclVSTChkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCwgZmFsc2UpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFVubWFuYWdlZERldmljZXNCeURpc3RyaWJ1dG9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVbm1hbmFnZWREZXZpY2VzQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSB0aGlzLm1ha2VEZXZpY2VzQnlEaXN0cmlidXRvclVSTChkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCwgdHJ1ZSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGV2aWNlcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGV2aWNlcygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLlNFUlZJQ0VfTkFNRSkuZ2V0TGlzdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKGRldmljZSkge1xuXHQgICAgICBpZiAoZGV2aWNlLmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBkZXZpY2UucHV0KCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2RldmljZXMnKS5wb3N0KGRldmljZSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2F2ZU92ZXJsYXlTZXR0aW5ncycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZU92ZXJsYXlTZXR0aW5ncyhkZXZpY2VfdXJsc2FmZV9rZXksIGJvdHRvbV9sZWZ0LCBib3R0b21fcmlnaHQsIHRvcF9yaWdodCwgdG9wX2xlZnQpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgYm90dG9tX2xlZnQ6IGJvdHRvbV9sZWZ0LFxuXHQgICAgICAgIGJvdHRvbV9yaWdodDogYm90dG9tX3JpZ2h0LFxuXHQgICAgICAgIHRvcF9yaWdodDogdG9wX3JpZ2h0LFxuXHQgICAgICAgIHRvcF9sZWZ0OiB0b3BfbGVmdFxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdvdmVybGF5JywgJy9hcGkvdjEvb3ZlcmxheS9kZXZpY2UvJyArIGRldmljZV91cmxzYWZlX2tleSkuY3VzdG9tUE9TVChwYXlsb2FkKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkZWxldGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoZGV2aWNlS2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUodGhpcy5TRVJWSUNFX05BTUUsIGRldmljZUtleSkucmVtb3ZlKCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFBhbmVsTW9kZWxzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYW5lbE1vZGVscygpIHtcblx0ICAgICAgcmV0dXJuIFt7XG5cdCAgICAgICAgJ2lkJzogJ05vbmUnLFxuXHQgICAgICAgICdkaXNwbGF5TmFtZSc6ICdOb25lJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ1NvbnktRlhENDBMWDJGJyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnU29ueSBGWEQ0MExYMkYnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnTkVDLUxDRDQyMTUnLFxuXHQgICAgICAgICdkaXNwbGF5TmFtZSc6ICdORUMgTENENDIxNSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnLFxuXHQgICAgICAgICdkaXNwbGF5TmFtZSc6ICdQaGlsbGlwcyBCREw1NTYwRUwnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnUGFuYXNvbmljIFRINTVMRjZVJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ1NoYXJwLVBORTUyMScsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1NoYXJwIFBORTUyMSdcblx0ICAgICAgfV07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0UGFuZWxJbnB1dHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhbmVsSW5wdXRzKCkge1xuXHQgICAgICByZXR1cm4gW3tcblx0ICAgICAgICAnaWQnOiAnTm9uZScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ05vbmUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTEnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdTb255LUZYRDQwTFgyRidcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMicsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1NvbnktRlhENDBMWDJGJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkxJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkyJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0RWSScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1BoaWxsaXBzLUJETDU1NjBFTCdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1BhbmFzb25pYy1USDU1TEY2VSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMicsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1BhbmFzb25pYy1USDU1TEY2VSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdEVkknLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdQYW5hc29uaWMtVEg1NUxGNlUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTEnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdTaGFycC1QTkU1MjEnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTInLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdTaGFycC1QTkU1MjEnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnRFZJJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnU2hhcnAtUE5FNTIxJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ1ZHQScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ05FQy1MQ0Q0MjE1J1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0RWSTEnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdORUMtTENENDIxNSdcblx0ICAgICAgfV07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnbWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvZGlzdHJpYnV0b3JzLycgKyBkaXN0cmlidXRvcktleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmbmV4dF9jdXJzb3I9JyArIG5leHQgKyAnJnByZXZfY3Vyc29yPScgKyBwcmV2O1xuXHQgICAgICByZXR1cm4gdXJsO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ21ha2VEZXZpY2VzQnlUZW5hbnRVUkwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL3RlbmFudHMvJyArIHRlbmFudEtleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmbmV4dF9jdXJzb3I9JyArIG5leHQgKyAnJnByZXZfY3Vyc29yPScgKyBwcmV2O1xuXHQgICAgICByZXR1cm4gdXJsO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gRGV2aWNlc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IERldmljZXNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIERpc3RyaWJ1dG9yc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgRGlzdHJpYnV0b3JzU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIiwgXCIkc3RhdGVcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdCAgZnVuY3Rpb24gRGlzdHJpYnV0b3JzU2VydmljZShSZXN0YW5ndWxhciwgJHN0YXRlLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGlzdHJpYnV0b3JzU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcblx0ICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXHQgICAgdGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFID0gJ2Rpc3RyaWJ1dG9ycyc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEaXN0cmlidXRvcnNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2F2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZSh0ZW5hbnQpIHtcblx0ICAgICAgaWYgKHRlbmFudC5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGVuYW50LnB1dCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSkucG9zdCh0ZW5hbnQpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZldGNoQWxsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEFsbCgpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLmdldExpc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmV0Y2hBbGxCeVVzZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQWxsQnlVc2VyKHVzZXJLZXkpIHtcblx0ICAgICAgaWYgKHVzZXJLZXkpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKCd1c2VycycsIHVzZXJLZXkpLmRvR0VUKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QnlLZXkoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCAnYXBpL3YxL2Rpc3RyaWJ1dG9ycy8nICsga2V5KS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGVsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGVudGl0eSkge1xuXHQgICAgICBpZiAoZW50aXR5LmtleSkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBlbnRpdHkua2V5KS5yZW1vdmUoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEJ5TmFtZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QnlOYW1lKG5hbWUpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLmdldExpc3QoeyBkaXN0cmlidXRvck5hbWU6IG5hbWUgfSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERvbWFpbnNCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RG9tYWluc0J5S2V5KGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgJ2FwaS92MS9kaXN0cmlidXRvcnMvJyArIGtleSArICcvZG9tYWlucycpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzd2l0Y2hEaXN0cmlidXRvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc3dpdGNoRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IpIHtcblx0ICAgICAgdGhpcy5TZXNzaW9uc1NlcnZpY2Uuc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZShkaXN0cmlidXRvci5uYW1lKTtcblx0ICAgICAgdGhpcy5TZXNzaW9uc1NlcnZpY2Uuc2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KGRpc3RyaWJ1dG9yLmtleSk7XG5cdCAgICAgIHJldHVybiB0aGlzLiRzdGF0ZS5nbygnd2VsY29tZScpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gRGlzdHJpYnV0b3JzU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRGlzdHJpYnV0b3JzU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzE2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA1KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDYpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBEb21haW5zU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBEb21haW5zU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cdCAgZnVuY3Rpb24gRG9tYWluc1NlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRG9tYWluc1NlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRG9tYWluc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKGRvbWFpbikge1xuXHQgICAgICBpZiAoZG9tYWluLmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBkb21haW4ucHV0KCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2RvbWFpbnMnKS5wb3N0KGRvbWFpbik7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmV0Y2hBbGxEb21haW5zJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEFsbERvbWFpbnMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwoJ2RvbWFpbnMnKS5nZXRMaXN0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERvbWFpbkJ5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREb21haW5CeUtleShkb21haW5LZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnZG9tYWlucycsICdhcGkvdjEvZG9tYWlucy8nICsgZG9tYWluS2V5KS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGlyZWN0b3J5QXBpQ29ubmVjdGl2aXR5SW5mb3JtYXRpb24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERpcmVjdG9yeUFwaUNvbm5lY3Rpdml0eUluZm9ybWF0aW9uKGRvbWFpbktleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdkb21haW5zJywgJ2FwaS92MS9kb21haW5zLycgKyBkb21haW5LZXkgKyAnL2RpcmVjdG9yeV9hcGknKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGVsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGRvbWFpbikge1xuXHQgICAgICBpZiAoZG9tYWluLmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZShcImRvbWFpbnNcIiwgZG9tYWluLmtleSkucmVtb3ZlKCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIERvbWFpbnNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBEb21haW5zU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzE3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA1KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDYpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJZGVudGl0eVNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgSWRlbnRpdHlTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblx0ICBmdW5jdGlvbiBJZGVudGl0eVNlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgSWRlbnRpdHlTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKElkZW50aXR5U2VydmljZSwgW3tcblx0ICAgIGtleTogJ2dldElkZW50aXR5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJZGVudGl0eSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdpZGVudGl0eScpLmdldCgpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBJZGVudGl0eVNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA2KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSW50ZWdyYXRpb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgSW50ZWdyYXRpb25FdmVudHMuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIEludGVncmF0aW9uRXZlbnRzKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEludGVncmF0aW9uRXZlbnRzKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuQ1JFQVRFX1RFTkFOVF9FVkVOVFMgPSAnaW50ZWdyYXRpb25fZXZlbnRzL3RlbmFudF9jcmVhdGUnO1xuXHQgICAgdGhpcy5FTlJPTExNRU5UX0VWRU5UUyA9ICdpbnRlZ3JhdGlvbl9ldmVudHMvZW5yb2xsbWVudCc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShJbnRlZ3JhdGlvbkV2ZW50cywgW3tcblx0ICAgIGtleTogJ2dldFRlbmFudENyZWF0ZUV2ZW50cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGVuYW50Q3JlYXRlRXZlbnRzKHRlbmFudEtleSkge1xuXHQgICAgICB2YXIgcXVlcnkgPSB7XG5cdCAgICAgICAgdGVuYW50S2V5OiB0ZW5hbnRLZXlcblx0ICAgICAgfTtcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuQ1JFQVRFX1RFTkFOVF9FVkVOVFMpLmN1c3RvbUdFVCgnJywgcXVlcnkpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEVucm9sbG1lbnRFdmVudHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVucm9sbG1lbnRFdmVudHMoZGV2aWNlS2V5KSB7XG5cdCAgICAgIHZhciBxdWVyeSA9IHtcblx0ICAgICAgICBkZXZpY2VLZXk6IGRldmljZUtleVxuXHQgICAgICB9O1xuXHQgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5FTlJPTExNRU5UX0VWRU5UUykuY3VzdG9tR0VUKCcnLCBxdWVyeSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBJbnRlZ3JhdGlvbkV2ZW50cztcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSW50ZWdyYXRpb25FdmVudHM7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA2KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgTG9jYXRpb25zU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBMb2NhdGlvbnNTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblx0ICBmdW5jdGlvbiBMb2NhdGlvbnNTZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIExvY2F0aW9uc1NlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoTG9jYXRpb25zU2VydmljZSwgW3tcblx0ICAgIGtleTogJ3NhdmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmUobG9jYXRpb24pIHtcblx0ICAgICAgaWYgKGxvY2F0aW9uLmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBsb2NhdGlvbi5wdXQoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSgnbG9jYXRpb25zJykucG9zdChsb2NhdGlvbik7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoQWxsVGVuYW50TG9jYXRpb25zQnlOYW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUodGVuYW50S2V5LCBjdXN0b21lcl9sb2NhdGlvbl9uYW1lKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwoJ3RlbmFudHMnKS5jdXN0b21HRVRMSVNUKHRlbmFudEtleSArIFwiL2xvY2F0aW9uc1wiLCB7IGN1c3RvbWVyX2xvY2F0aW9uX25hbWU6IGN1c3RvbWVyX2xvY2F0aW9uX25hbWUgfSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldExvY2F0aW9uc0J5VGVuYW50S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2NhdGlvbnNCeVRlbmFudEtleSh0ZW5hbnRLZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsICdhcGkvdjEvdGVuYW50cy8nICsgdGVuYW50S2V5ICsgJy9sb2NhdGlvbnMnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXlQYWdpbmF0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvY2F0aW9uc0J5VGVuYW50S2V5UGFnaW5hdGVkKHRlbmFudEtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcblx0ICAgICAgbmV4dCA9IG5leHQgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IG5leHQ7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCAnYXBpL3YxL3RlbmFudHMvJyArIHRlbmFudEtleSArICcvJyArIHByZXYgKyAnLycgKyBuZXh0ICsgJy9sb2NhdGlvbnMnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0TG9jYXRpb25CeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TG9jYXRpb25CeUtleShsb2NhdGlvbktleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdsb2NhdGlvbnMnLCAnYXBpL3YxL2xvY2F0aW9ucy8nICsgbG9jYXRpb25LZXkpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIExvY2F0aW9uc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IExvY2F0aW9uc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA2KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgUHJvZ3Jlc3NCYXJTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFByb2dyZXNzQmFyU2VydmljZS4kaW5qZWN0ID0gW1wibmdQcm9ncmVzc0ZhY3RvcnlcIl07XG5cdCAgZnVuY3Rpb24gUHJvZ3Jlc3NCYXJTZXJ2aWNlKG5nUHJvZ3Jlc3NGYWN0b3J5KSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFByb2dyZXNzQmFyU2VydmljZSk7XG5cdCAgICB0aGlzLm5nUHJvZ3Jlc3NGYWN0b3J5ID0gbmdQcm9ncmVzc0ZhY3Rvcnk7XG5cdCAgICB0aGlzLnByb2dyZXNzQmFyID0gdGhpcy5uZ1Byb2dyZXNzRmFjdG9yeS5jcmVhdGVJbnN0YW5jZSgpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc3RhcnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuXHQgICAgICB0aGlzLnByb2dyZXNzQmFyLnNldENvbG9yKCcjMDBGQ0ZGJyk7XG5cdCAgICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0SGVpZ2h0KCc0cHgnKTtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NCYXIuc3RhcnQoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wbGV0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcGxldGUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzQmFyLmNvbXBsZXRlKCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFByb2dyZXNzQmFyU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzIxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA1KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDYpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBQcm9vZlBsYXlTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFByb29mUGxheVNlcnZpY2UuJGluamVjdCA9IFtcIiRodHRwXCIsIFwiJHFcIiwgXCIkd2luZG93XCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiJHN0YXRlXCIsIFwiVG9hc3RzU2VydmljZVwiXTtcblx0ICBmdW5jdGlvbiBQcm9vZlBsYXlTZXJ2aWNlKCRodHRwLCAkcSwgJHdpbmRvdywgU2Vzc2lvbnNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgVG9hc3RzU2VydmljZSkge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBQcm9vZlBsYXlTZXJ2aWNlKTtcblx0ICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcblx0ICAgIHRoaXMuJHEgPSAkcTtcblx0ICAgIHRoaXMuJHdpbmRvdyA9ICR3aW5kb3c7XG5cdCAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcblx0ICAgIHRoaXMuJHN0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuXHQgICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG5cdCAgICB0aGlzLlRvYXN0c1NlcnZpY2UgPSBUb2FzdHNTZXJ2aWNlO1xuXHQgICAgdGhpcy5tYWtlSFRUUFJlcXVlc3QgPSB0aGlzLm1ha2VIVFRQUmVxdWVzdC5iaW5kKHRoaXMpO1xuXHQgICAgdGhpcy51cmlCYXNlID0gJ3Byb29mcGxheS9hcGkvdjEnO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUHJvb2ZQbGF5U2VydmljZSwgW3tcblx0ICAgIGtleTogJ21ha2VIVFRQVVJMJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlSFRUUFVSTCh3aGVyZV90b19nbywgdGVuYW50KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnVyaUJhc2UgKyB3aGVyZV90b19nbyArIHRlbmFudDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdtYWtlSFRUUFJlcXVlc3QnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VIVFRQUmVxdWVzdCh3aGVyZV90b19nbywgdGVuYW50KSB7XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIHVybCA9IHRoaXMubWFrZUhUVFBVUkwod2hlcmVfdG9fZ28sIHRlbmFudCk7XG5cdCAgICAgIHJldHVybiB0aGlzLiRodHRwLmdldCh1cmwpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEFsbFJlc291cmNlcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsUmVzb3VyY2VzKHRlbmFudCkge1xuXHQgICAgICB2YXIgciA9IHRoaXMubWFrZUhUVFBSZXF1ZXN0KFwiL3JldHJpZXZlX2FsbF9yZXNvdXJjZXMvXCIsIHRlbmFudCk7XG5cdCAgICAgIC8vIHRoZSBjYXRjaCBpcyBvbmx5IGRvbmUgaGVyZSBiZWNhdXNlIDMgcHJvb2Ygb2YgcGxheSB2aWV3cyBhcmUgaW5pdGlsaXplZCBhdCB0aGUgc2FtZSB0aW1lXG5cdCAgICAgIC8vIHNvIHRoaXMgY2F0Y2ggd2lsbCBiZSBkb25lIDMgdGltZXMgd2l0aCAzIGVycm9yIG1lc3NhZ2VzIGlmIHdlIGFkZCBpdCB0byBnZXRBbGxEaXNwbGF5cyBhbmQgZ2V0QWxsTG9jYXRpb25zXG5cdCAgICAgIHIuY2F0Y2goZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuXHQgICAgICAgIHZhciBzdGF0dXMgPSBlcnIuc3RhdHVzO1xuXHRcblx0ICAgICAgICBpZiAoc3RhdHVzID09PSA0MDMpIHtcblx0ICAgICAgICAgIHRoaXMuVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChcIllvdSBhcmUgbm90IGFsbG93ZWQgdG8gdmlldyB0aGlzIHRlbmFudCFcIik7XG5cdCAgICAgICAgICB0aGlzLiRzdGF0ZS5nbygncHJvb2YnLCB7fSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChzdGF0dXMgPT09IDQwNCkge1xuXHQgICAgICAgICAgdGhpcy5Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91IG11c3Qgc2VsZWN0IGEgdGVuYW50IGZpcnN0IVwiKTtcblx0ICAgICAgICAgIHJldHVybiB0aGlzLiRzdGF0ZS5nbygncHJvb2YnLCB7fSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiByLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICByZXR1cm4gZGF0YTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QWxsRGlzcGxheXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbERpc3BsYXlzKHRlbmFudCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfYWxsX2Rpc3BsYXlzL1wiLCB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEFsbExvY2F0aW9ucycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsTG9jYXRpb25zKHRlbmFudCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfYWxsX2xvY2F0aW9ucy9cIiwgdGVuYW50KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRBbGxUZW5hbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxUZW5hbnRzKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfbXlfdGVuYW50c1wiLCAnJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgcmVzb3VyY2VzLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbFJlc291cmNlcyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IHJlc291cmNlc1tpXTtcblx0ICAgICAgICBhbGxSZXNvdXJjZXMgPSBhbGxSZXNvdXJjZXMgKyBcInxcIiArIGVhY2g7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfcmVzb3VyY2VfYnlfZGF0ZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsUmVzb3VyY2VzICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEZXZpY2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURldmljZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgcmVzb3VyY2VzLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbFJlc291cmNlcyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IHJlc291cmNlc1tpXTtcblx0ICAgICAgICBhbGxSZXNvdXJjZXMgPSBhbGxSZXNvdXJjZXMgKyBcInxcIiArIGVhY2g7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfcmVzb3VyY2VfYnlfZGV2aWNlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxSZXNvdXJjZXMgKyAnLycgKyB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLCAnX2JsYW5rJyk7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Rvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzU3VtbWFyaXplZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNTdW1tYXJpemVkKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBkZXZpY2VzLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbERldmljZXMgPSAnJztcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGV2aWNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gZGV2aWNlc1tpXTtcblx0ICAgICAgICBhbGxEZXZpY2VzID0gYWxsRGV2aWNlcyArIFwifFwiICsgZWFjaDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9kZXZpY2Vfc3VtbWFyaXplZC8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsRGV2aWNlcyArICcvJyArIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksICdfYmxhbmsnKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNCeURhdGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzQnlEYXRlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBkZXZpY2VzLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbERldmljZXMgPSAnJztcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGV2aWNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gZGV2aWNlc1tpXTtcblx0ICAgICAgICBhbGxEZXZpY2VzID0gYWxsRGV2aWNlcyArIFwifFwiICsgZWFjaDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9kZXZpY2VfYnlfZGF0ZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsRGV2aWNlcyArICcvJyArIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksICdfYmxhbmsnKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2Uoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGxvY2F0aW9ucywgdGVuYW50KSB7XG5cdCAgICAgIHZhciBhbGxMb2NhdGlvbnMgPSAnJztcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBsb2NhdGlvbnNbaV07XG5cdCAgICAgICAgYWxsTG9jYXRpb25zID0gYWxsTG9jYXRpb25zICsgXCJ8XCIgKyBlYWNoO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2xvY2F0aW9uX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zU3VtbWFyaXplZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGxvY2F0aW9ucywgdGVuYW50KSB7XG5cdCAgICAgIHZhciBhbGxMb2NhdGlvbnMgPSAnJztcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBsb2NhdGlvbnNbaV07XG5cdCAgICAgICAgYWxsTG9jYXRpb25zID0gYWxsTG9jYXRpb25zICsgXCJ8XCIgKyBlYWNoO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2xvY2F0aW9uX3N1bW1hcml6ZWQvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbExvY2F0aW9ucyArICcvJyArIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksICdfYmxhbmsnKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY3JlYXRlRmlsdGVyRm9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVGaWx0ZXJGb3IocXVlcnkpIHtcblx0ICAgICAgcXVlcnkgPSBhbmd1bGFyLmxvd2VyY2FzZShxdWVyeSk7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiAocmVzb3VyY2UpIHtcblx0ICAgICAgICByZXNvdXJjZSA9IGFuZ3VsYXIubG93ZXJjYXNlKHJlc291cmNlKTtcblx0ICAgICAgICByZXR1cm4gcmVzb3VyY2UuaW5kZXhPZihxdWVyeSkgPT09IDA7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncXVlcnlTZWFyY2gnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgICBpZiAoc2VhcmNoVGV4dCkge1xuXHQgICAgICAgIHJldHVybiByZXNvdXJjZXMuZmlsdGVyKHRoaXMuY3JlYXRlRmlsdGVyRm9yKHNlYXJjaFRleHQpKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gcmVzb3VyY2VzO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQcm9vZlBsYXlTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MjI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFNlc3Npb25zU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBTZXNzaW9uc1NlcnZpY2UuJGluamVjdCA9IFtcIiRodHRwXCIsIFwiJGxvZ1wiLCBcIlN0b3JhZ2VTZXJ2aWNlXCIsIFwiSWRlbnRpdHlTZXJ2aWNlXCIsIFwiUmVzdGFuZ3VsYXJcIiwgXCIkcVwiXTtcblx0ICBmdW5jdGlvbiBTZXNzaW9uc1NlcnZpY2UoJGh0dHAsICRsb2csIFN0b3JhZ2VTZXJ2aWNlLCBJZGVudGl0eVNlcnZpY2UsIFJlc3Rhbmd1bGFyLCAkcSkge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTZXNzaW9uc1NlcnZpY2UpO1xuXHQgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuXHQgICAgdGhpcy4kbG9nID0gJGxvZztcblx0ICAgIHRoaXMuU3RvcmFnZVNlcnZpY2UgPSBTdG9yYWdlU2VydmljZTtcblx0ICAgIHRoaXMuSWRlbnRpdHlTZXJ2aWNlID0gSWRlbnRpdHlTZXJ2aWNlO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgICAgdGhpcy4kcSA9ICRxO1xuXHQgICAgdGhpcy5zZXRJZGVudGl0eSA9IHRoaXMuc2V0SWRlbnRpdHkuYmluZCh0aGlzKTtcblx0ICAgIHRoaXMudXJpQmFzZSA9ICd2MS9zZXNzaW9ucyc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShTZXNzaW9uc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzZXREaXN0cmlidXRvcnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERpc3RyaWJ1dG9ycyhkaXN0cmlidXRvcnMpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnMnLCBkaXN0cmlidXRvcnMpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldERpc3RyaWJ1dG9yc0FzQWRtaW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERpc3RyaWJ1dG9yc0FzQWRtaW4oZGlzdHJpYnV0b3JzQXNBZG1pbikge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2Rpc3RyaWJ1dG9yc0FzQWRtaW4nLCBkaXN0cmlidXRvcnNBc0FkbWluKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRJc0FkbWluJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRJc0FkbWluKGlzQWRtaW4pIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdpc0FkbWluJywgaXNBZG1pbik7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0VXNlcktleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VXNlcktleSh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJLZXknLCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0VXNlckVtYWlsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRVc2VyRW1haWwodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCd1c2VyRW1haWwnLCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdjdXJyZW50RGlzdHJpYnV0b3JLZXknLCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2N1cnJlbnREaXN0cmlidXRvck5hbWUnLCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VXNlcktleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNlcktleSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5Jyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VXNlckVtYWlsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVc2VyRW1haWwoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlckVtYWlsJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGlzdHJpYnV0b3JzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREaXN0cmlidXRvcnMoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgnZGlzdHJpYnV0b3JzJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdjdXJyZW50RGlzdHJpYnV0b3JOYW1lJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5Jyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdkaXN0cmlidXRvcnNBc0FkbWluJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0SXNBZG1pbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXNBZG1pbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdpc0FkbWluJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnbG9naW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luKGNyZWRlbnRpYWxzKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgYXV0aGVudGljYXRpb25QYXlsb2FkID0ge1xuXHQgICAgICAgIGFjY2Vzc190b2tlbjogXy5jbG9uZShjcmVkZW50aWFscy5hY2Nlc3NfdG9rZW4pLFxuXHQgICAgICAgIGF1dGh1c2VyOiBfLmNsb25lKGNyZWRlbnRpYWxzLmF1dGh1c2VyKSxcblx0ICAgICAgICBjbGllbnRfaWQ6IF8uY2xvbmUoY3JlZGVudGlhbHMuY2xpZW50X2lkKSxcblx0ICAgICAgICBjb2RlOiBfLmNsb25lKGNyZWRlbnRpYWxzLmNvZGUpLFxuXHQgICAgICAgIGlkX3Rva2VuOiBfLmNsb25lKGNyZWRlbnRpYWxzLmlkX3Rva2VuKSxcblx0ICAgICAgICBzY29wZTogXy5jbG9uZShjcmVkZW50aWFscy5zY29wZSksXG5cdCAgICAgICAgc2Vzc2lvbl9zdGF0ZTogXy5jbG9uZShjcmVkZW50aWFscy5zZXNzaW9uX3N0YXRlKSxcblx0ICAgICAgICBzdGF0ZTogXy5jbG9uZShjcmVkZW50aWFscy5zdGF0ZSksXG5cdCAgICAgICAgc3RhdHVzOiBfLmNsb25lKGNyZWRlbnRpYWxzLnN0YXR1cylcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIGlmIChjcmVkZW50aWFscy5lbWFpbCAmJiBjcmVkZW50aWFscy5wYXNzd29yZCkge1xuXHQgICAgICAgIGF1dGhlbnRpY2F0aW9uUGF5bG9hZCA9IGNyZWRlbnRpYWxzO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuJGh0dHAucG9zdCgnL2xvZ2luJywgYXV0aGVudGljYXRpb25QYXlsb2FkKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2Uuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIF90aGlzLnNldFVzZXJLZXkoZGF0YS51c2VyLmtleSk7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzLnNldElkZW50aXR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gZGF0YTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0SWRlbnRpdHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldElkZW50aXR5KCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIGlkZW50aXR5UHJvbWlzZSA9IHRoaXMuSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG5cdCAgICAgIGlkZW50aXR5UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgX3RoaXMyLnNldERpc3RyaWJ1dG9ycyhkYXRhWydkaXN0cmlidXRvcnMnXSk7XG5cdCAgICAgICAgX3RoaXMyLnNldERpc3RyaWJ1dG9yc0FzQWRtaW4oZGF0YVsnZGlzdHJpYnV0b3JzX2FzX2FkbWluJ10pO1xuXHQgICAgICAgIF90aGlzMi5zZXRJc0FkbWluKGRhdGFbJ2lzX2FkbWluJ10pO1xuXHQgICAgICAgIF90aGlzMi5zZXRVc2VyRW1haWwoZGF0YVsnZW1haWwnXSk7XG5cdCAgICAgICAgX3RoaXMyLnNldElzQWRtaW4oZGF0YVtcImlzX2FkbWluXCJdKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGRlZmVycmVkLnJlc29sdmUoKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbW92ZVVzZXJJbmZvJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVVc2VySW5mbygpIHtcblx0ICAgICAgdGhpcy5TdG9yYWdlU2VydmljZS5yZW1vdmVBbGwoKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFNlc3Npb25zU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MjM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX2xvY2tyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjQpO1xuXHRcblx0dmFyIF9sb2NrcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Nrcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFN0b3JhZ2VTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIFN0b3JhZ2VTZXJ2aWNlKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgU3RvcmFnZVNlcnZpY2UpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoU3RvcmFnZVNlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBfbG9ja3IyLmRlZmF1bHQuc2V0KGtleSwgdmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KGtleSkge1xuXHQgICAgICByZXR1cm4gX2xvY2tyMi5kZWZhdWx0LmdldChrZXkpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JtJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBybShrZXkpIHtcblx0ICAgICAgcmV0dXJuIF9sb2NrcjIuZGVmYXVsdC5ybShrZXkpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbW92ZUFsbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQWxsKCkge1xuXHQgICAgICBfbG9ja3IyLmRlZmF1bHQuZmx1c2goKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFN0b3JhZ2VTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBTdG9yYWdlU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzI1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA1KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDYpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBUZW5hbnRzU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBUZW5hbnRzU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdCAgZnVuY3Rpb24gVGVuYW50c1NlcnZpY2UoUmVzdGFuZ3VsYXIsIFNlc3Npb25zU2VydmljZSkge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBUZW5hbnRzU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRlbmFudHNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2F2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZSh0ZW5hbnQpIHtcblx0ICAgICAgaWYgKHRlbmFudC5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGVuYW50LnB1dCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCd0ZW5hbnRzJykucG9zdCh0ZW5hbnQpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NhdmVPdmVybGF5U2V0dGluZ3MnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVPdmVybGF5U2V0dGluZ3ModGVuYW50X3VybHNhZmVfa2V5LCBib3R0b21fbGVmdCwgYm90dG9tX3JpZ2h0LCB0b3BfcmlnaHQsIHRvcF9sZWZ0KSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0ge1xuXHQgICAgICAgIGJvdHRvbV9sZWZ0OiBib3R0b21fbGVmdCxcblx0ICAgICAgICBib3R0b21fcmlnaHQ6IGJvdHRvbV9yaWdodCxcblx0ICAgICAgICB0b3BfcmlnaHQ6IHRvcF9yaWdodCxcblx0ICAgICAgICB0b3BfbGVmdDogdG9wX2xlZnRcblx0ICAgICAgfTtcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdvdmVybGF5JywgJy9hcGkvdjEvb3ZlcmxheS90ZW5hbnQvJyArIHRlbmFudF91cmxzYWZlX2tleSkuY3VzdG9tUE9TVChwYXlsb2FkKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdvdmVybGF5QXBwbHlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG92ZXJsYXlBcHBseVRlbmFudCh0ZW5hbnRfdXJsc2FmZV9rZXkpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdvdmVybGF5JywgJy9hcGkvdjEvb3ZlcmxheS90ZW5hbnQvJyArIHRlbmFudF91cmxzYWZlX2tleSArICcvYXBwbHknKS5wb3N0KCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoQWxsVGVuYW50c0J5TmFtZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoQWxsVGVuYW50c0J5TmFtZSh0ZW5hbnRfbmFtZSwgYWxsRGlzdHJpYnV0b3JzKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwoJ3RlbmFudHMnKS5jdXN0b21HRVRMSVNUKFwiXCIsIHtcblx0ICAgICAgICB0ZW5hbnRfbmFtZTogdGVuYW50X25hbWUsIGFsbERpc3RyaWJ1dG9yczogYWxsRGlzdHJpYnV0b3JzXG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdmZXRjaEFsbFRlbmFudHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQWxsVGVuYW50cygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgndGVuYW50cycpLmdldExpc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmV0Y2hBbGxUZW5hbnRzUGFnaW5hdGVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEFsbFRlbmFudHNQYWdpbmF0ZWQocGFnZV9zaXplLCBvZmZzZXQpIHtcblx0ICAgICAgdmFyIHVybCA9ICdhcGkvdjEvdGVuYW50cy9wYWdpbmF0ZWQvJyArIHBhZ2Vfc2l6ZSArICcvJyArIG9mZnNldDtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsIHVybCkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFRlbmFudEJ5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUZW5hbnRCeUtleSh0ZW5hbnRLZXkpIHtcblx0ICAgICAgdmFyIHVybCA9ICdhcGkvdjEvdGVuYW50cy8nICsgdGVuYW50S2V5O1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGVsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKHRlbmFudCkge1xuXHQgICAgICBpZiAodGVuYW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZShcInRlbmFudHNcIiwgdGVuYW50LmtleSkucmVtb3ZlKCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFRlbmFudHNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBUZW5hbnRzU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzI2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA1KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDYpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBUaW1lem9uZXNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFRpbWV6b25lc1NlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIFRpbWV6b25lc1NlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVGltZXpvbmVzU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShUaW1lem9uZXNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnZ2V0VXNUaW1lem9uZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVzVGltZXpvbmVzKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0aW1lem9uZXMnLCAnYXBpL3YxL3RpbWV6b25lcy91cycpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRBbGxUaW1lem9uZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbFRpbWV6b25lcygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGltZXpvbmVzJywgJ2FwaS92MS90aW1lem9uZXMvYWxsJykuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEN1c3RvbVRpbWV6b25lcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VzdG9tVGltZXpvbmVzKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0aW1lem9uZXMnLCAnYXBpL3YxL3RpbWV6b25lcy9jdXN0b20nKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBUaW1lem9uZXNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBUaW1lem9uZXNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3Mjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFRvYXN0c1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgVG9hc3RzU2VydmljZS4kaW5qZWN0ID0gW1widG9hc3RyXCJdO1xuXHQgIGZ1bmN0aW9uIFRvYXN0c1NlcnZpY2UodG9hc3RyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFRvYXN0c1NlcnZpY2UpO1xuXHQgICAgdGhpcy50b2FzdHIgPSB0b2FzdHI7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShUb2FzdHNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2hvd1N1Y2Nlc3NUb2FzdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd1N1Y2Nlc3NUb2FzdChtZXNzYWdlKSB7XG5cdCAgICAgIHZhciB0aXRsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ1N1Y2Nlc3MhJztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UsIHRpdGxlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzaG93RXJyb3JUb2FzdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0Vycm9yVG9hc3QobWVzc2FnZSkge1xuXHQgICAgICB2YXIgdGl0bGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdFcnJvciEnO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMudG9hc3RyLmVycm9yKG1lc3NhZ2UsIHRpdGxlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzaG93SW5mb1RvYXN0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93SW5mb1RvYXN0KG1lc3NhZ2UpIHtcblx0ICAgICAgdmFyIHRpdGxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnSW5mb3JtYXRpb24nO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMudG9hc3RyLmluZm8obWVzc2FnZSwgdGl0bGUpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gVG9hc3RzU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVG9hc3RzU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzI4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA1KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDYpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBWZXJzaW9uc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgVmVyc2lvbnNTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblx0ICBmdW5jdGlvbiBWZXJzaW9uc1NlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVmVyc2lvbnNTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFZlcnNpb25zU2VydmljZSwgW3tcblx0ICAgIGtleTogJ2dldFZlcnNpb25zJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWZXJzaW9ucygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndmVyc2lvbnMnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBWZXJzaW9uc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFZlcnNpb25zU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzI5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0VGVuYW50TG9nc0N0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVBhcmFtc1wiLCBcIlRlbmFudHNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiSW50ZWdyYXRpb25FdmVudHNcIiwgXCIkc2NvcGVcIiwgXCJEYXRlTWFuaXB1bGF0aW9uU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIFRlbmFudExvZ3NDdHJsKCRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsICRzdGF0ZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBJbnRlZ3JhdGlvbkV2ZW50cywgJHNjb3BlLCBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICAkc2NvcGUudGFiSW5kZXggPSA1O1xuXHQgIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuXHQgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgdm0uY3VycmVudFRlbmFudCA9IGRhdGE7XG5cdCAgfSk7XG5cdFxuXHQgIHZtLmxvY2FsRnJvbVV0YyA9IGZ1bmN0aW9uIChldmVudHMpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBlYWNoID0gZXZlbnRzW2ldO1xuXHQgICAgICBpZiAoZWFjaC51dGNUaW1lc3RhbXApIHtcblx0ICAgICAgICBlYWNoLnV0Y1RpbWVzdGFtcCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gudXRjVGltZXN0YW1wKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldFRlbmFudENyZWF0ZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGVucm9sbG1lbnRFdmVudHNQcm9taXNlID0gSW50ZWdyYXRpb25FdmVudHMuZ2V0VGVuYW50Q3JlYXRlRXZlbnRzKHZtLnRlbmFudEtleSk7XG5cdCAgICBlbnJvbGxtZW50RXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLnRlbmFudENyZWF0ZUV2ZW50cyA9IGRhdGE7XG5cdCAgICAgIHZtLmxvY2FsRnJvbVV0YyhkYXRhKTtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIFNldHVwXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmdldFRlbmFudENyZWF0ZUV2ZW50cygpO1xuXHQgIH07XG5cdFxuXHQgICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG5cdCAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBzd2l0Y2ggKHRvVGFiKSB7XG5cdCAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAyOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgNDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSA1OlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5UZW5hbnRMb2dzQ3RybCA9IFRlbmFudExvZ3NDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MzA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRUZW5hbnRPdmVybGF5c0N0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVBhcmFtc1wiLCBcIlRlbmFudHNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiVG9hc3RzU2VydmljZVwiLCBcIiRzY29wZVwiLCBcIkltYWdlU2VydmljZVwiLCBcIiR0aW1lb3V0XCIsIFwiJG1kRGlhbG9nXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5UZW5hbnRPdmVybGF5c0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjUwKTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdHZhciBfamF2YXNjcmlwdE5hdHVyYWxTb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTkpO1xuXHRcblx0dmFyIF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfamF2YXNjcmlwdE5hdHVyYWxTb3J0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBUZW5hbnRPdmVybGF5c0N0cmwoJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgJHN0YXRlLCBQcm9ncmVzc0JhclNlcnZpY2UsIFRvYXN0c1NlcnZpY2UsICRzY29wZSwgSW1hZ2VTZXJ2aWNlLCAkdGltZW91dCwgJG1kRGlhbG9nKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgICRzY29wZS50YWJJbmRleCA9IDQ7XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHZtLnRlbmFudEtleSk7XG5cdCAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50ID0gZGF0YTtcblx0ICB9KTtcblx0XG5cdCAgdm0ub3ZlcmxheUNoYW5nZWQgPSBmYWxzZTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIE92ZXJsYXlzXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZtLmFkanVzdE92ZXJsYXlTdGF0dXMgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50Lm92ZXJsYXlTdGF0dXMgPSBzdGF0dXM7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IHRydWU7XG5cdCAgICB2YXIgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNhdmUodm0uY3VycmVudFRlbmFudCk7XG5cdCAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSgkc3RhdGVQYXJhbXMudGVuYW50S2V5KTtcblx0ICAgICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcblx0ICAgICAgICB2bS5vblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQodGVuYW50KTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcblx0ICAgICAgY29uc29sZS5sb2coZXJyKTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgfTtcblx0XG5cdCAgdm0udXBkYXRlT3ZlcmxheXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSB0cnVlO1xuXHQgICAgdmFyIHRlbmFudFByb21pc2UgPSB2bS5nZXRUZW5hbnQoKTtcblx0ICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICAgIHZtLm92ZXJsYXlDaGFuZ2VkID0gZmFsc2U7XG5cdCAgICAgIHZtLmN1cnJlbnRUZW5hbnQub3ZlcmxheXMgPSB0ZW5hbnQub3ZlcmxheXM7XG5cdCAgICAgIHZtLmN1cnJlbnRUZW5hbnRDb3B5Lm92ZXJsYXlzID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnRUZW5hbnQub3ZlcmxheXMpO1xuXHQgICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHRlbmFudFByb21pc2U7XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0T3ZlcmxheVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gdHJ1ZTtcblx0XG5cdCAgICB2YXIgb3ZlcmxheVNldHRpbmdzID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnRUZW5hbnRDb3B5Lm92ZXJsYXlzKTtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zYXZlT3ZlcmxheVNldHRpbmdzKHZtLnRlbmFudEtleSwgb3ZlcmxheVNldHRpbmdzLmJvdHRvbV9sZWZ0LCBvdmVybGF5U2V0dGluZ3MuYm90dG9tX3JpZ2h0LCBvdmVybGF5U2V0dGluZ3MudG9wX3JpZ2h0LCBvdmVybGF5U2V0dGluZ3MudG9wX2xlZnQpO1xuXHRcblx0ICAgIHZhciB1cGRhdGVPdmVybGF5UHJvbWlzZURlZmVycmVkID0gZnVuY3Rpb24gdXBkYXRlT3ZlcmxheVByb21pc2VEZWZlcnJlZCgpIHtcblx0ICAgICAgdmFyIHVwZGF0ZU92ZXJsYXlQcm9taXNlID0gdm0udXBkYXRlT3ZlcmxheXMoKTtcblx0ICAgICAgdXBkYXRlT3ZlcmxheVByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcblx0ICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiB1cGRhdGVPdmVybGF5UHJvbWlzZTtcblx0ICAgIH07XG5cdFxuXHQgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgJHRpbWVvdXQodXBkYXRlT3ZlcmxheVByb21pc2VEZWZlcnJlZCwgMTAwMCk7XG5cdCAgICB9KTtcblx0XG5cdCAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nJyk7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBwcm9taXNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmFwcGx5VGVuYW50T3ZlcmxheSA9IGZ1bmN0aW9uIChldikge1xuXHQgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSh7XG5cdCAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlPycsXG5cdCAgICAgIHRleHRDb250ZW50OiAnRWFjaCBkZXZpY2UgaW4geW91ciBUZW5hbnQgd2lsbCBoYXZlIHRoZSBjdXJyZW50IE92ZXJsYXkgVGVtcGxhdGUgYXBwbGllZCBhcyBpdHMgc2V0dGluZ3MuJyxcblx0ICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuXHQgICAgICBhcmlhTGFiZWw6ICdMdWNreSBkYXknLFxuXHQgICAgICBvazogJ0NvbmZpcm0nLFxuXHQgICAgICBjYW5jZWw6ICdOZXZlcm1pbmQnXG5cdCAgICB9KTtcblx0XG5cdCAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uub3ZlcmxheUFwcGx5VGVuYW50KHZtLnRlbmFudEtleSk7XG5cdCAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIG1lc3NhZ2UgPSAnWW91ciBUZW5hbnQgT3ZlcmxheSBTZXR0aW5ncyBhcmUgYmVpbmcgYXBwbGllZCB0byBlYWNoIGRldmljZSBpbiB5b3VyIFRlbmFudC4gUGxlYXNlIHdhaXQgcGF0aWVudGx5IGZvciB0aGlzIHByb2Nlc3MgdG8gY29tcGxldGUuJztcblx0ICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QobWVzc2FnZSk7XG5cdCAgICAgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICAgICAgdm0uZ2V0VGVuYW50KCk7XG5cdCAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5jaGVja0Zvck92ZXJsYXlDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcblx0ICAgIHZhciBjdXJyZW50VGVuYW50T3ZlcmxheXMgPSB2bS5jdXJyZW50VGVuYW50Lm92ZXJsYXlzO1xuXHQgICAgdmFyIGN1cnJlbnRUZW5hbnRDb3B5T3ZlcmxheXMgPSB2bS5jdXJyZW50VGVuYW50Q29weS5vdmVybGF5cztcblx0ICAgIHZhciBwb3NpdGlvbnMgPSBbJ3RvcF9sZWZ0JywgJ3RvcF9yaWdodCcsICdib3R0b21fcmlnaHQnLCAnYm90dG9tX2xlZnQnXTtcblx0XG5cdCAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShwb3NpdGlvbnMpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgdmFyIHBvcyA9IF9zdGVwLnZhbHVlO1xuXHRcblx0ICAgICAgICBpZiAoY3VycmVudFRlbmFudE92ZXJsYXlzW3Bvc10uc2l6ZSAhPT0gY3VycmVudFRlbmFudENvcHlPdmVybGF5c1twb3NdLnNpemUpIHtcblx0ICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoY3VycmVudFRlbmFudE92ZXJsYXlzW3Bvc10udHlwZSAhPT0gY3VycmVudFRlbmFudENvcHlPdmVybGF5c1twb3NdLnR5cGUpIHtcblx0ICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoY3VycmVudFRlbmFudE92ZXJsYXlzW3Bvc10udHlwZSA9PT0gJ2xvZ28nKSB7XG5cdCAgICAgICAgICBpZiAoY3VycmVudFRlbmFudE92ZXJsYXlzW3Bvc10udHlwZSArIFwiOiBcIiArIGN1cnJlbnRUZW5hbnRPdmVybGF5c1twb3NdLm5hbWUgIT09IGN1cnJlbnRUZW5hbnRDb3B5T3ZlcmxheXNbcG9zXS5uYW1lKSB7XG5cdCAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0ICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG5cdCAgICB9IGZpbmFsbHkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG5cdCAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuXHQgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdm0ub3ZlcmxheUNoYW5nZWQgPSBjaGFuZ2VkO1xuXHQgIH07XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBJbWFnZXNcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgdm0uc3VibWl0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uc2VsZWN0ZWRMb2dvICYmIHZtLnNlbGVjdGVkTG9nb1swXSkge1xuXHQgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcblx0ICAgICAgdmFyIHZhbGlkRmlsZSA9IHRydWU7XG5cdCAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5zZWxlY3RlZExvZ28sIGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgICBpZiAob2JqLmxmRmlsZS5zaXplIDwgMTUwMDAwMDApIHtcblx0ICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZXMnLCBvYmoubGZGaWxlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdm0uZmlsZUFwaS5yZW1vdmVBbGwoKTtcblx0ICAgICAgICAgIHZhbGlkRmlsZSA9IGZhbHNlO1xuXHQgICAgICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnWW91ciBpbWFnZSBpcyBsYXJnZXIgdGhhbiAxNSBNQi4gUGxlYXNlIGNob29zZSBhIHNtYWxsZXIgaW1hZ2UnKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgaWYgKHZhbGlkRmlsZSkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gSW1hZ2VTZXJ2aWNlLnNhdmVJbWFnZSh2bS50ZW5hbnRLZXksIGZvcm1EYXRhKTtcblx0ICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgICAgICAkdGltZW91dCh2bS5nZXRUZW5hbnRJbWFnZXMsIDEwMDApO1xuXHQgICAgICAgICAgdm0uZmlsZUFwaS5yZW1vdmVBbGwoKTtcblx0ICAgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgdXBsb2FkZWQgeW91ciBpbWFnZS4nKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFlvdSBtYXkgaGF2ZSBhbHJlYWR5IHVwbG9hZGVkIHRoaXMgaW1hZ2UuJyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5nZXRUZW5hbnRJbWFnZXNBbmRSZWxvYWRUZW5hbnRBZnRlckRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB0ZW5hbnRJbWFnZVByb21pc2UgPSB2bS5nZXRUZW5hbnRJbWFnZXMoKTtcblx0ICAgIHRlbmFudEltYWdlUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIHVwZGF0ZU92ZXJsYXlQcm9taXNlID0gdm0udXBkYXRlT3ZlcmxheXMoKTtcblx0ICAgICAgdXBkYXRlT3ZlcmxheVByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBkZWxldGVkIHlvdXIgaW1hZ2UuJyk7XG5cdCAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZGVsZXRlSW1hZ2UgPSBmdW5jdGlvbiAoZXYsIG5hbWUsIGtleSkge1xuXHQgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSh7XG5cdCAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlPycsXG5cdCAgICAgIHRleHRDb250ZW50OiAnSWYgeW91IHByb2NlZWQsICcgKyBuYW1lICsgJyB3aWxsIGJlIGRlbGV0ZWQgYW5kIHJlbW92ZWQgZnJvbSBhbGwgZGV2aWNlcyB0aGF0IHVzZSBpdC4nLFxuXHQgICAgICB0YXJnZXRFdmVudDogZXYsXG5cdCAgICAgIGFyaWFMYWJlbDogJ0x1Y2t5IGRheScsXG5cdCAgICAgIG9rOiAnQ29uZmlybScsXG5cdCAgICAgIGNhbmNlbDogJ05ldmVybWluZCdcblx0ICAgIH0pO1xuXHRcblx0ICAgICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgICAgdmFyIHByb21pc2UgPSBJbWFnZVNlcnZpY2UuZGVsZXRlSW1hZ2Uoa2V5KTtcblx0ICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICAkdGltZW91dCh2bS5nZXRUZW5hbnRJbWFnZXNBbmRSZWxvYWRUZW5hbnRBZnRlckRlbGV0ZSwgMTAwMCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBkZWxldGluZyB5b3VyIGltYWdlLicpO1xuXHQgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRUZW5hbnRJbWFnZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5PVkVSTEFZX1RZUEVTID0gW3sgc2l6ZTogbnVsbCwgdHlwZTogbnVsbCwgbmFtZTogXCJub25lXCIsIHJlYWxOYW1lOiBcIm5vbmVcIiwgbmV3OiBmYWxzZSwgaW1hZ2Vfa2V5OiBudWxsIH0sIHsgc2l6ZTogbnVsbCwgdHlwZTogXCJkYXRldGltZVwiLCBuYW1lOiBcImRhdGV0aW1lXCIsIHJlYWxOYW1lOiBcImRhdGV0aW1lXCIsIG5ldzogdHJ1ZSwgaW1hZ2Vfa2V5OiBudWxsIH1dO1xuXHRcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBJbWFnZVNlcnZpY2UuZ2V0SW1hZ2VzKHZtLnRlbmFudEtleSk7XG5cdCAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICB2bS50ZW5hbnRJbWFnZXMgPSByZXM7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuXHQgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG5cdCAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KSh2bS50ZW5hbnRJbWFnZXMpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcblx0ICAgICAgICAgIHZhciB2YWx1ZSA9IF9zdGVwMi52YWx1ZTtcblx0ICAgICAgICAgIHZhciBfYXJyID0gW1wic21hbGxcIiwgXCJsYXJnZVwiXTtcblx0XG5cdCAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgX2Fyci5sZW5ndGg7IF9pKyspIHtcblx0ICAgICAgICAgICAgdmFyIHNpemVPcHRpb24gPSBfYXJyW19pXTtcblx0ICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0ge1xuXHQgICAgICAgICAgICAgIHJlYWxOYW1lOiBhbmd1bGFyLmNvcHkodmFsdWUubmFtZSksXG5cdCAgICAgICAgICAgICAgbmFtZTogXCJsb2dvOiBcIiArIHZhbHVlLm5hbWUsXG5cdCAgICAgICAgICAgICAgdHlwZTogXCJsb2dvXCIsXG5cdCAgICAgICAgICAgICAgc2l6ZTogc2l6ZU9wdGlvbixcblx0ICAgICAgICAgICAgICBpbWFnZV9rZXk6IHZhbHVlLmtleVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB2bS5PVkVSTEFZX1RZUEVTLnB1c2gobmV3VmFsdWUpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcblx0ICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcblx0ICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuXHQgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICB2bS5PVkVSTEFZX1RZUEVTLnNvcnQoX2phdmFzY3JpcHROYXR1cmFsU29ydDIuZGVmYXVsdCk7XG5cdCAgICB9KTtcblx0XG5cdCAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yU3RhdHVzKFwiU09NRVRISU5HIFdFTlQgV1JPTkcgUkVUUklFVklORyBZT1VSIElNQUdFU1wiKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiBwcm9taXNlO1xuXHQgIH07XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gU2V0dXBcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZtLm9uU3VjY2Vzc1Jlc29sdmluZ1RlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgIHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQ7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50Q29weSA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50VGVuYW50KTtcblx0ICAgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSB0ZW5hbnQuZGVmYXVsdF90aW1lem9uZTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRUZW5hbnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSB0cnVlO1xuXHQgICAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSgkc3RhdGVQYXJhbXMudGVuYW50S2V5KTtcblx0ICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICAgIHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQ7XG5cdCAgICAgIGlmICh2bS5jdXJyZW50VGVuYW50Lm92ZXJsYXlzVXBkYXRlSW5Qcm9ncmVzcykge1xuXHQgICAgICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgICAgICAgICR0aW1lb3V0KHZtLmdldFRlbmFudCwgMzAwMCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuXHQgICAgICB9O1xuXHQgICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcblx0ICAgICAgdm0uY3VycmVudFRlbmFudENvcHkgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudFRlbmFudCk7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiB0ZW5hbnRQcm9taXNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5nZXRUZW5hbnRJbWFnZXMoKTtcblx0ICAgIHZtLmdldFRlbmFudCgpO1xuXHQgIH07XG5cdFxuXHQgICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG5cdCAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBzd2l0Y2ggKHRvVGFiKSB7XG5cdCAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAyOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgNDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSA1OlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5UZW5hbnRPdmVybGF5c0N0cmwgPSBUZW5hbnRPdmVybGF5c0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDczMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFRlbmFudEFkZEN0cmwuJGluamVjdCA9IFtcIiRsb2dcIiwgXCIkbG9jYXRpb25cIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIiwgXCJUaW1lem9uZXNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwic3dlZXRcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBUZW5hbnRBZGRDdHJsKCRsb2csICRsb2NhdGlvbiwgVGVuYW50c1NlcnZpY2UsIERpc3RyaWJ1dG9yc1NlcnZpY2UsIFRpbWV6b25lc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmdhbWVTdG9wU2VydmVyID0gJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xO1xuXHQgIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG5cdCAgICBrZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5hbWU6IHVuZGVmaW5lZCxcblx0ICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG5cdCAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcblx0ICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG5cdCAgICBwcm9vZl9vZl9wbGF5X3VybDogdW5kZWZpbmVkLFxuXHQgICAgYWN0aXZlOiB0cnVlLFxuXHQgICAgb3VfY3JlYXRlOiB0cnVlXG5cdCAgfTtcblx0ICB2bS5zZWxlY3RlZERvbWFpbiA9IHVuZGVmaW5lZDtcblx0ICB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBbXTtcblx0ICB2bS50aW1lem9uZXMgPSBbXTtcblx0ICB2bS5zZWxlY3RlZFRpbWV6b25lID0gJ0FtZXJpY2EvQ2hpY2Fnbyc7XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgdGltZXpvbmVQcm9taXNlID0gVGltZXpvbmVzU2VydmljZS5nZXRDdXN0b21UaW1lem9uZXMoKTtcblx0ICAgIHRpbWV6b25lUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS50aW1lem9uZXMgPSBkYXRhO1xuXHQgICAgfSk7XG5cdCAgICB2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG5cdCAgICB2YXIgZGlzdHJpYnV0b3JQcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5nZXRCeUtleSh2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuXHQgICAgZGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0uY3VycmVudFRlbmFudC5jb250ZW50X21hbmFnZXJfYmFzZV91cmwgPSBkYXRhLmNvbnRlbnRfbWFuYWdlcl91cmw7XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50LmNvbnRlbnRfc2VydmVyX3VybCA9IGRhdGEucGxheWVyX2NvbnRlbnRfdXJsO1xuXHQgICAgfSk7XG5cdCAgICB2YXIgZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5nZXREb21haW5zQnlLZXkodm0uY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcblx0ICAgIHJldHVybiBkaXN0cmlidXRvckRvbWFpblByb21pc2UudGhlbihmdW5jdGlvbiAoZG9tYWlucykge1xuXHQgICAgICByZXR1cm4gdm0uZGlzdHJpYnV0b3JEb21haW5zID0gZG9tYWlucztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ2xpY2tTYXZlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50LmRlZmF1bHRfdGltZXpvbmUgPSB2bS5zZWxlY3RlZFRpbWV6b25lO1xuXHQgICAgdm0uY3VycmVudFRlbmFudC5kb21haW5fa2V5ID0gdm0uc2VsZWN0ZWREb21haW4ua2V5O1xuXHQgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zYXZlKHZtLmN1cnJlbnRUZW5hbnQpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlLCB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRzJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSA9IGZ1bmN0aW9uIChlcnJvck9iamVjdCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBpZiAoZXJyb3JPYmplY3Quc3RhdHVzID09PSA0MDkpIHtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGVuYW50IGNvZGUgdW5hdmFpbGFibGUgaW4gUHJvdmlzaW9uaW5nLiBQbGVhc2UgbW9kaWZ5IHRlbmFudCBuYW1lIHRvIGdlbmVyYXRlIGEgdW5pcXVlIHRlbmFudCBjb2RlLicsICdlcnJvcicpO1xuXHQgICAgfSBlbHNlIGlmIChlcnJvck9iamVjdC5zdGF0dXMgPT09IDQxMikge1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUZW5hbnQgY29kZSB1bmF2YWlsYWJsZSBpbiBDaHJvbWUgRGV2aWNlIE1hbmFnZW1lbnQuIE1vZGlmeSB0ZW5hbnQgbmFtZSB0byBnZW5lcmF0ZSBhIHVuaXF1ZSB0ZW5hbnQgY29kZS4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICRsb2cuZXJyb3IoZXJyb3JPYmplY3QpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gc2F2ZSB0aGUgdGVuYW50LicsICdlcnJvcicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmF1dG9HZW5lcmF0ZVRlbmFudENvZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIXZtLmN1cnJlbnRUZW5hbnQua2V5KSB7XG5cdCAgICAgIHZhciBuZXdUZW5hbnRDb2RlID0gJyc7XG5cdCAgICAgIGlmICh2bS5jdXJyZW50VGVuYW50Lm5hbWUpIHtcblx0ICAgICAgICBuZXdUZW5hbnRDb2RlID0gdm0uY3VycmVudFRlbmFudC5uYW1lLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuXHQgICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50LnRlbmFudF9jb2RlID0gbmV3VGVuYW50Q29kZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5UZW5hbnRBZGRDdHJsID0gVGVuYW50QWRkQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzMyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0VGVuYW50RGV0YWlsc0N0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVBhcmFtc1wiLCBcIlRlbmFudHNTZXJ2aWNlXCIsIFwiRG9tYWluc1NlcnZpY2VcIiwgXCJUaW1lem9uZXNTZXJ2aWNlXCIsIFwiRGlzdHJpYnV0b3JzU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcInN3ZWV0XCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiVG9hc3RzU2VydmljZVwiLCBcIlNlc3Npb25zU2VydmljZVwiLCBcIiRzY29wZVwiLCBcIiRsb2NhdGlvblwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIFRlbmFudERldGFpbHNDdHJsKCRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIERvbWFpbnNTZXJ2aWNlLCBUaW1lem9uZXNTZXJ2aWNlLCBEaXN0cmlidXRvcnNTZXJ2aWNlLCAkc3RhdGUsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsIFRvYXN0c1NlcnZpY2UsIFNlc3Npb25zU2VydmljZSwgJHNjb3BlLCAkbG9jYXRpb24pIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uZ2FtZVN0b3BTZXJ2ZXIgPSAkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTE7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHtcblx0ICAgIGtleTogdW5kZWZpbmVkLFxuXHQgICAgbmFtZTogdW5kZWZpbmVkLFxuXHQgICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcblx0ICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuXHQgICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuXHQgICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuXHQgICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcblx0ICAgIHByb29mX29mX3BsYXlfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBhY3RpdmU6IHRydWVcblx0ICB9O1xuXHQgIHZtLnNlbGVjdGVkRG9tYWluID0gdW5kZWZpbmVkO1xuXHQgIHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IFtdO1xuXHQgIHZtLnRpbWV6b25lcyA9IFtdO1xuXHQgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSAnQW1lcmljYS9DaGljYWdvJztcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0XG5cdCAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KCRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkpO1xuXHQgICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgICAgdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcblx0ICAgICAgcmV0dXJuIHZtLm9uU3VjY2Vzc1Jlc29sdmluZ1RlbmFudCh0ZW5hbnQpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHRpbWV6b25lUHJvbWlzZSA9IFRpbWV6b25lc1NlcnZpY2UuZ2V0Q3VzdG9tVGltZXpvbmVzKCk7XG5cdCAgICB0aW1lem9uZVByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udGltZXpvbmVzID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgICAgdm0uY3VycmVudERpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0RG9tYWluc0J5S2V5KHZtLmN1cnJlbnREaXN0cmlidXRvcktleSk7XG5cdCAgICByZXR1cm4gZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRvbWFpbnMpIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IGRvbWFpbnM7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gdGVuYW50LmRlZmF1bHRfdGltZXpvbmU7XG5cdCAgICB2YXIgZG9tYWluUHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmdldERvbWFpbkJ5S2V5KHRlbmFudC5kb21haW5fa2V5KTtcblx0ICAgIHJldHVybiBkb21haW5Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnNlbGVjdGVkRG9tYWluID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ2xpY2tTYXZlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50LmRlZmF1bHRfdGltZXpvbmUgPSB2bS5zZWxlY3RlZFRpbWV6b25lO1xuXHQgICAgdm0uY3VycmVudFRlbmFudC5kb21haW5fa2V5ID0gdm0uc2VsZWN0ZWREb21haW4ua2V5O1xuXHQgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zYXZlKHZtLmN1cnJlbnRUZW5hbnQpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlLCB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHRlbmFudCBpbmZvcm1hdGlvbi4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlID0gZnVuY3Rpb24gKGVycm9yT2JqZWN0KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIGlmIChlcnJvck9iamVjdC5zdGF0dXMgPT09IDQwOSkge1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUZW5hbnQgY29kZSB1bmF2YWlsYWJsZS4gUGxlYXNlIG1vZGlmeSB0ZW5hbnQgbmFtZSB0byBnZW5lcmF0ZSBhIHVuaXF1ZSB0ZW5hbnQgY29kZS4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBzYXZlIHRoZSB0ZW5hbnQuJywgJ2Vycm9yJyk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uZWRpdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnZWRpdERldmljZScsIHsgZGV2aWNlS2V5OiBpdGVtLmtleSwgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmF1dG9HZW5lcmF0ZVRlbmFudENvZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIXZtLmN1cnJlbnRUZW5hbnQua2V5KSB7XG5cdCAgICAgIHZhciBuZXdUZW5hbnRDb2RlID0gJyc7XG5cdCAgICAgIGlmICh2bS5jdXJyZW50VGVuYW50Lm5hbWUpIHtcblx0ICAgICAgICBuZXdUZW5hbnRDb2RlID0gdm0uY3VycmVudFRlbmFudC5uYW1lLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuXHQgICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50LnRlbmFudF9jb2RlID0gbmV3VGVuYW50Q29kZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICAkc2NvcGUudGFiSW5kZXggPSAwO1xuXHRcblx0ICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuXHQgICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgc3dpdGNoICh0b1RhYikge1xuXHQgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDM6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgNTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5UZW5hbnREZXRhaWxzQ3RybCA9IFRlbmFudERldGFpbHNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MzM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRUZW5hbnRMb2NhdGlvbkN0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVBhcmFtc1wiLCBcIlRlbmFudHNTZXJ2aWNlXCIsIFwiTG9jYXRpb25zU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcInN3ZWV0XCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiVG9hc3RzU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIFRlbmFudExvY2F0aW9uQ3RybCgkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBMb2NhdGlvbnNTZXJ2aWNlLCAkc3RhdGUsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ubG9jYXRpb24gPSB7XG5cdCAgICBrZXk6IHVuZGVmaW5lZFxuXHQgIH07XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLmxvY2F0aW9uS2V5O1xuXHQgIGlmICh2bS5lZGl0TW9kZSkge1xuXHQgICAgdmFyIGxvY2F0aW9uUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25CeUtleSgkc3RhdGVQYXJhbXMubG9jYXRpb25LZXkpO1xuXHQgICAgbG9jYXRpb25Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9jYXRpb24gPSBkYXRhO1xuXHQgICAgICB2bS50ZW5hbnRLZXkgPSBkYXRhLnRlbmFudEtleTtcblx0ICAgICAgdm0ubG9jYXRpb25OYW1lID0gZGF0YS5jdXN0b21lckxvY2F0aW9uTmFtZTtcblx0ICAgICAgcmV0dXJuIHZtLmZldGNoVGVuYW50TmFtZSh2bS50ZW5hbnRLZXkpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF2bS5lZGl0TW9kZSkge1xuXHQgICAgICB2bS5mZXRjaFRlbmFudE5hbWUodm0udGVuYW50S2V5KTtcblx0ICAgICAgcmV0dXJuIHZtLmxvY2F0aW9uID0ge1xuXHQgICAgICAgIHRlbmFudEtleTogdm0udGVuYW50S2V5LFxuXHQgICAgICAgIGFjdGl2ZTogdHJ1ZVxuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ2xpY2tTYXZlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2F2ZSh2bS5sb2NhdGlvbik7XG5cdCAgICBpZiAodm0uZWRpdE1vZGUpIHtcblx0ICAgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NVcGRhdGluZ0xvY2F0aW9uKHZtLnRlbmFudEtleSksIHZtLm9uRmFpbHVyZVNhdmluZ0xvY2F0aW9uKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzU2F2aW5nTG9jYXRpb24sIHZtLm9uRmFpbHVyZVNhdmluZ0xvY2F0aW9uKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NTYXZpbmdMb2NhdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIGxvY2F0aW9uLicpO1xuXHQgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9LCAxMDAwKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NVcGRhdGluZ0xvY2F0aW9uID0gZnVuY3Rpb24gKHRlbmFudF9rZXkpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSB1cGRhdGVkIHlvdXIgbG9jYXRpb24uJyk7XG5cdCAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywgeyB0ZW5hbnRLZXk6IHRlbmFudF9rZXkgfSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH0sIDEwMDApO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRmFpbHVyZVNhdmluZ0xvY2F0aW9uID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkge1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdMb2NhdGlvbiBjb2RlIGNvbmZsaWN0LiBVbmFibGUgdG8gc2F2ZSB5b3VyIGxvY2F0aW9uLicpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdQbGVhc2UgY2hhbmdlIHlvdXIgY3VzdG9tZXIgbG9jYXRpb24gbmFtZS4gTG9jYXRpb24gbmFtZSBtdXN0IGdlbmVyYXRlIGEgdW5pcXVlIGxvY2F0aW9uIGNvZGUuJywgJ2Vycm9yJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnVW5hYmxlIHRvIHNhdmUgeW91ciBsb2NhdGlvbi4nKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5mZXRjaFRlbmFudE5hbWUgPSBmdW5jdGlvbiAodGVuYW50S2V5KSB7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHRlbmFudEtleSk7XG5cdCAgICByZXR1cm4gdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudE5hbWUgPSB0ZW5hbnQubmFtZTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmF1dG9HZW5lcmF0ZUN1c3RvbWVyTG9jYXRpb25Db2RlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF2bS5sb2NhdGlvbi5rZXkpIHtcblx0ICAgICAgdmFyIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gJyc7XG5cdCAgICAgIGlmICh2bS5sb2NhdGlvbi5jdXN0b21lckxvY2F0aW9uTmFtZSkge1xuXHQgICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gdm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbk5hbWUudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9IG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlLnJlcGxhY2UoL1xccysvZywgJ18nKTtcblx0ICAgICAgICBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9IG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB2bS5sb2NhdGlvbi5jdXN0b21lckxvY2F0aW9uQ29kZSA9IG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLlRlbmFudExvY2F0aW9uQ3RybCA9IFRlbmFudExvY2F0aW9uQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzM0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0VGVuYW50TG9jYXRpb25zQ3RybC4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJMb2NhdGlvbnNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5UZW5hbnRMb2NhdGlvbnNDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1MCk7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEl0ZXJhdG9yMik7XG5cdFxuXHR2YXIgX2phdmFzY3JpcHROYXR1cmFsU29ydCA9IF9fd2VicGFja19yZXF1aXJlX18oNjU5KTtcblx0XG5cdHZhciBfamF2YXNjcmlwdE5hdHVyYWxTb3J0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2phdmFzY3JpcHROYXR1cmFsU29ydCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gVGVuYW50TG9jYXRpb25zQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsICRzdGF0ZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZhciB0ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHRcblx0ICAkc2NvcGUudGFiSW5kZXggPSAzO1xuXHQgIHZtLmxvY2F0aW9ucyA9IFtdO1xuXHQgIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHRcblx0ICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHRlbmFudEtleSk7XG5cdCAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50ID0gZGF0YTtcblx0ICB9KTtcblx0XG5cdCAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcblx0ICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHN3aXRjaCAodG9UYWIpIHtcblx0ICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAzOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSA0OlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50T3ZlcmxheXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDU6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2dzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgdm0uZ2V0TG9jYXRpb25zID0gZnVuY3Rpb24gKHRlbmFudEtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgbG9jYXRpb25zUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXlQYWdpbmF0ZWQodGVuYW50S2V5LCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBsb2NhdGlvbnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9jYXRpb25zID0gZGF0YS5sb2NhdGlvbnM7XG5cdCAgICAgIHZtLm5leHRfY3Vyc29yID0gZGF0YS5uZXh0X2N1cnNvcjtcblx0ICAgICAgdm0ucHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5zZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgaWYgKCFuYW1lIHx8IG5hbWUubGVuZ3RoIDwgMykge1xuXHQgICAgICByZXR1cm4gW107XG5cdCAgICB9XG5cdCAgICB2YXIgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2VhcmNoQWxsVGVuYW50TG9jYXRpb25zQnlOYW1lKHZtLnRlbmFudEtleSwgbmFtZSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2bS5zZWFyY2hlZFRlbmFudExvY2F0aW9ucyA9IHJlc3BvbnNlO1xuXHQgICAgICBpZiAodm0uc2VhcmNoZWRUZW5hbnRMb2NhdGlvbnMpIHtcblx0ICAgICAgICByZXR1cm4gdm0uc2VhcmNoZWRUZW5hbnRMb2NhdGlvbnMubWFwKGZ1bmN0aW9uIChpKSB7XG5cdCAgICAgICAgICByZXR1cm4gaS5jdXN0b21lckxvY2F0aW9uTmFtZTtcblx0ICAgICAgICB9KS5zb3J0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyLmRlZmF1bHQpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdmFyIGVycm9yTWVzc2FnZSA9ICdVbmFibGUgdG8gZmV0Y2ggbG9jYXRpb25zLiBFcnJvcjogJyArIHJlc3BvbnNlLnN0YXR1cztcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNUZW5hbnRMb2NhdGlvblZhbGlkID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIGlmICghbmFtZSB8fCBuYW1lLmxlbmd0aCA8IDMpIHtcblx0ICAgICAgcmV0dXJuIFtdO1xuXHQgICAgfVxuXHQgICAgdmFyIHByb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLnNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSh2bS50ZW5hbnRLZXksIG5hbWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZhciBtYXRjaCA9IHJlc3BvbnNlO1xuXHQgICAgICBpZiAobWF0Y2gpIHtcblx0ICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkobWF0Y2gpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgICAgIHZhciBlYWNoTG9jYXRpb25OYW1lID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgICAgICBpZiAobmFtZSA9PT0gZWFjaExvY2F0aW9uTmFtZS5jdXN0b21lckxvY2F0aW9uTmFtZSkge1xuXHQgICAgICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgdm0uc2VhcmNoTWF0Y2ggPSBlYWNoTG9jYXRpb25OYW1lO1xuXHQgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0ICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuXHQgICAgaWYgKGZvcndhcmQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldExvY2F0aW9ucyh0ZW5hbnRLZXksIG51bGwsIHZtLm5leHRfY3Vyc29yKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRMb2NhdGlvbnModGVuYW50S2V5LCB2bS5wcmV2X2N1cnNvciwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB2bS5nZXRMb2NhdGlvbnModGVuYW50S2V5KTtcblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdlZGl0TG9jYXRpb24nLCB7IGxvY2F0aW9uS2V5OiBpdGVtLmtleSB9KTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuVGVuYW50TG9jYXRpb25zQ3RybCA9IFRlbmFudExvY2F0aW9uc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDczNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0VGVuYW50TWFuYWdlZERldmljZXNDdHJsLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkRldmljZXNTZXJ2aWNlXCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiJHN0YXRlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5UZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjUwKTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwoJHNjb3BlLCAkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBEZXZpY2VzU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCAkc3RhdGUpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHtcblx0ICAgIGtleTogdW5kZWZpbmVkLFxuXHQgICAgbmFtZTogdW5kZWZpbmVkLFxuXHQgICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcblx0ICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuXHQgICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuXHQgICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuXHQgICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcblx0ICAgIGFjdGl2ZTogdHJ1ZVxuXHQgIH07XG5cdCAgdm0udGVuYW50RGV2aWNlcyA9IFtdO1xuXHQgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcblx0ICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLmRldmljZXNUb01hdGNoT24gPSBbXTtcblx0ICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0XG5cdCAgdm0uZ2V0TWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKTtcblx0ICAgIHJldHVybiBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmRldmljZXNQcmV2ID0gZGF0YVtcInByZXZfY3Vyc29yXCJdO1xuXHQgICAgICB2bS5kZXZpY2VzTmV4dCA9IGRhdGFbXCJuZXh0X2N1cnNvclwiXTtcblx0ICAgICAgdm0udGVuYW50RGV2aWNlcyA9IGRhdGFbXCJkZXZpY2VzXCJdO1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0oaXRlbSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgICB2bS50ZW5hbnREZXZpY2VzID0gbnVsbDtcblx0ICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgfTtcblx0XG5cdCAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHZtLnRlbmFudEtleSk7XG5cdCAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcblx0ICAgIH0pO1xuXHQgICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCBudWxsKTtcblx0ICB9XG5cdFxuXHQgICRzY29wZS50YWJJbmRleCA9IDE7XG5cdFxuXHQgICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG5cdCAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBzd2l0Y2ggKHRvVGFiKSB7XG5cdCAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAyOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgNDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSA1OlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHZtLmNoYW5nZVJhZGlvID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgICAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgICAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuXHQgIH07XG5cdFxuXHQgIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAocGFydGlhbCkge1xuXHQgICAgdmFyIHVubWFuYWdlZCA9IGZhbHNlO1xuXHQgICAgdmFyIGJ1dHRvbiA9IHZtLnNlbGVjdGVkQnV0dG9uO1xuXHQgICAgdmFyIGJ5VGVuYW50ID0gdHJ1ZTtcblx0ICAgIHZhciB0ZW5hbnRLZXkgPSB2bS50ZW5hbnRLZXk7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZhciBkZXZpY2VzVG9SZXR1cm4gPSB2b2lkIDA7XG5cdCAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG5cdCAgICAgICAgdmFyIGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuXHQgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG5cdCAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcblx0ICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBkZXZpY2VzVG9SZXR1cm47XG5cdCAgICAgICAgcmV0dXJuIGRldmljZXNUb1JldHVybjtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG5cdCAgICBpZiAoZm9yd2FyZCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ucHJlcGFyZUZvckVkaXRWaWV3ID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5wcmVwcmF0ZUZvckVkaXRWaWV3KHZtLnNlbGVjdGVkQnV0dG9uLCB2bS50ZW5hbnRLZXksIHNlYXJjaFRleHQsIHZtLm1hY0RldmljZXMsIHZtLnNlcmlhbERldmljZXMsIHZtLmdjbWlkRGV2aWNlcyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAoaXNNYXRjaCkge1xuXHQgICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcblx0ICAgIHJldHVybiB2bS5sb2FkaW5nRGlzYWJsZWQgPSBmYWxzZTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcblx0ICAgIHZhciBmb3VuZE1hdGNoID0gZmFsc2U7XG5cdCAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KSh2bS5kZXZpY2VzVG9NYXRjaE9uKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHQgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgIGlmIChyZXNvdXJjZSA9PT0gaXRlbSkge1xuXHQgICAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcblx0ICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2bS5jb250cm9sT3BlbkJ1dHRvbihmb3VuZE1hdGNoKTtcblx0ICAgIHJldHVybiBmb3VuZE1hdGNoO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5UZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwgPSBUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDczNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0VGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIlRlbmFudHNTZXJ2aWNlXCIsIFwiRGV2aWNlc1NlcnZpY2VcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCIkc3RhdGVcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1MCk7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEl0ZXJhdG9yMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwoJHNjb3BlLCAkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBEZXZpY2VzU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCAkc3RhdGUpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHtcblx0ICAgIGtleTogdW5kZWZpbmVkLFxuXHQgICAgbmFtZTogdW5kZWZpbmVkLFxuXHQgICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcblx0ICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuXHQgICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuXHQgICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuXHQgICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcblx0ICAgIGFjdGl2ZTogdHJ1ZVxuXHQgIH07XG5cdCAgdm0uZ2NtaWREZXZpY2VzID0gW107XG5cdCAgdm0udGVuYW50RGV2aWNlcyA9IFtdO1xuXHQgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcblx0ICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIk1BQ1wiO1xuXHQgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgIHZtLmRldmljZXNUb01hdGNoT24gPSBbXTtcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHRcblx0ICAkc2NvcGUudGFiSW5kZXggPSAyO1xuXHRcblx0ICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuXHQgICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgc3dpdGNoICh0b1RhYikge1xuXHQgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDM6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgNTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0oaXRlbSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uICh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgZGV2aWNlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRVbm1hbmFnZWREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpO1xuXHQgICAgcmV0dXJuIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0uZGV2aWNlc1ByZXYgPSBkYXRhW1wicHJldl9jdXJzb3JcIl07XG5cdCAgICAgIHZtLmRldmljZXNOZXh0ID0gZGF0YVtcIm5leHRfY3Vyc29yXCJdO1xuXHQgICAgICB2bS50ZW5hbnREZXZpY2VzID0gZGF0YVtcImRldmljZXNcIl07XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIGlmICh2bS5lZGl0TW9kZSkge1xuXHQgICAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuXHQgICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQ7XG5cdCAgICB9KTtcblx0ICAgIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCBudWxsKTtcblx0ICB9XG5cdFxuXHQgIHZtLnJlZnJlc2hEZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgICAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuXHQgICAgdm0udGVuYW50RGV2aWNlcyA9IG51bGw7XG5cdCAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uIChwYXJ0aWFsKSB7XG5cdCAgICB2YXIgdW5tYW5hZ2VkID0gdHJ1ZTtcblx0ICAgIHZhciBieVRlbmFudCA9IHRydWU7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCB2bS5zZWxlY3RlZEJ1dHRvbiwgYnlUZW5hbnQsIHZtLnRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdmFyIGRldmljZXNUb1JldHVybiA9IHZvaWQgMDtcblx0ICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcblx0ICAgICAgICB2YXIgZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG5cdCAgICAgICAgaWYgKHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuXHQgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSBpZiAodm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiTUFDXCIpIHtcblx0ICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBkZXZpY2VzVG9SZXR1cm47XG5cdCAgICAgICAgcmV0dXJuIGRldmljZXNUb1JldHVybjtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG5cdCAgICBpZiAoZm9yd2FyZCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIHZtLmRldmljZXNOZXh0KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIG51bGwpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnByZXBhcmVGb3JFZGl0VmlldyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2UucHJlcHJhdGVGb3JFZGl0Vmlldyh2bS5zZWxlY3RlZEJ1dHRvbiwgdm0udGVuYW50S2V5LCBzZWFyY2hUZXh0LCB2bS5tYWNEZXZpY2VzLCB2bS5zZXJpYWxEZXZpY2VzLCB2bS5nY21pZERldmljZXMpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNvbnRyb2xPcGVuQnV0dG9uID0gZnVuY3Rpb24gKGlzTWF0Y2gpIHtcblx0ICAgIHZtLmRpc2FibGVkID0gIWlzTWF0Y2g7XG5cdCAgICB2bS5sb2FkaW5nRGlzYWJsZWQgPSBmYWxzZTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcblx0ICAgIHZhciBmb3VuZE1hdGNoID0gZmFsc2U7XG5cdCAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KSh2bS5kZXZpY2VzVG9NYXRjaE9uKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHQgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgIGlmIChyZXNvdXJjZSA9PT0gaXRlbSkge1xuXHQgICAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcblx0ICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2bS5jb250cm9sT3BlbkJ1dHRvbihmb3VuZE1hdGNoKTtcblx0ICAgIHJldHVybiBmb3VuZE1hdGNoO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsID0gVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDczNzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFRlbmFudHNDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVcIiwgXCIkbG9nXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJzd2VldFwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVGVuYW50c0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjUwKTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdHZhciBfamF2YXNjcmlwdE5hdHVyYWxTb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTkpO1xuXHRcblx0dmFyIF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfamF2YXNjcmlwdE5hdHVyYWxTb3J0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBUZW5hbnRzQ3RybCgkc3RhdGUsICRsb2csIFRlbmFudHNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsIHN3ZWV0KSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHRcblx0ICAvLyBQYWdpbmF0ZWQgVGVuYW50c1xuXHQgIHZtLnRlbmFudHMgPSBbXTtcblx0ICAvLyBDdXJyZW50IFNlYXJjaCBvZiBUZW5hbnRzIFJlc3VsdHNcblx0ICB2bS5zZWFyY2hlZFRlbmFudHMgPSBbXTtcblx0ICB2bS5zZWFyY2hNYXRjaCA9IG51bGw7XG5cdCAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXHRcblx0ICB2bS5nZXRUZW5hbnRzUGFnaW5hdGVkID0gZnVuY3Rpb24gKHBhZ2Vfc2l6ZSwgb2Zmc2V0KSB7XG5cdCAgICB2bS5vZmZzZXQgPSBvZmZzZXQ7XG5cdCAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5mZXRjaEFsbFRlbmFudHNQYWdpbmF0ZWQocGFnZV9zaXplLCBvZmZzZXQpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoU3VjY2VzcyhyZXNwb25zZSk7XG5cdCAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoRmFpbHVyZShyZXNwb25zZSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRGZXRjaFN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIHZtLnRlbmFudHMgPSByZXNwb25zZS50ZW5hbnRzO1xuXHQgICAgdm0udG90YWwgPSByZXNwb25zZS50b3RhbDtcblx0ICAgIHZtLmlzX2ZpcnN0X3BhZ2UgPSByZXNwb25zZS5pc19maXJzdF9wYWdlO1xuXHQgICAgdm0uaXNfbGFzdF9wYWdlID0gcmVzcG9uc2UuaXNfbGFzdF9wYWdlO1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gdm0ubG9hZGluZyA9IGZhbHNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEZldGNoRmFpbHVyZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2YXIgZXJyb3JNZXNzYWdlID0gJ1VuYWJsZSB0byBmZXRjaCB0ZW5hbnRzLiBFcnJvcjogJyArIHJlc3BvbnNlLnN0YXR1cyArICcgJyArIHJlc3BvbnNlLnN0YXR1c1RleHQgKyAnLic7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLm9mZnNldCA9IDA7XG5cdCAgICB2bS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lKCdteScpO1xuXHQgICAgcmV0dXJuIHZtLmdldFRlbmFudHNQYWdpbmF0ZWQoMTAwLCB2bS5vZmZzZXQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUgPSBmdW5jdGlvbiAodGVuYW50X25hbWUpIHtcblx0ICAgIGlmICghdGVuYW50X25hbWUgfHwgdGVuYW50X25hbWUubGVuZ3RoIDwgMykge1xuXHQgICAgICByZXR1cm4gW107XG5cdCAgICB9XG5cdCAgICB2YXIgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUodGVuYW50X25hbWUpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdm0uc2VhcmNoZWRUZW5hbnRzID0gcmVzcG9uc2U7XG5cdCAgICAgIGlmICh2bS5zZWFyY2hlZFRlbmFudHMpIHtcblx0ICAgICAgICByZXR1cm4gdm0uc2VhcmNoZWRUZW5hbnRzLm1hcChmdW5jdGlvbiAoaSkge1xuXHQgICAgICAgICAgcmV0dXJuIGkubmFtZTtcblx0ICAgICAgICB9KS5zb3J0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyLmRlZmF1bHQpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdmFyIGVycm9yTWVzc2FnZSA9ICdVbmFibGUgdG8gZmV0Y2ggdGVuYW50cy4gRXJyb3I6ICcgKyByZXNwb25zZS5zdGF0dXM7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzVGVuYW50VmFsaWQgPSBmdW5jdGlvbiAodGVuYW50X25hbWUpIHtcblx0ICAgIGlmICghdGVuYW50X25hbWUgfHwgdGVuYW50X25hbWUubGVuZ3RoIDwgMykge1xuXHQgICAgICByZXR1cm4gW107XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIG1hdGNoID0gdm0uc2VhcmNoZWRUZW5hbnRzO1xuXHQgICAgaWYgKG1hdGNoKSB7XG5cdCAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdCAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkobWF0Y2gpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgICB2YXIgZWFjaE5hbWUgPSBfc3RlcC52YWx1ZTtcblx0XG5cdCAgICAgICAgICBpZiAodGVuYW50X25hbWUgPT09IGVhY2hOYW1lLm5hbWUpIHtcblx0ICAgICAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgdm0uc2VhcmNoTWF0Y2ggPSBlYWNoTmFtZTtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuXHQgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywgeyB0ZW5hbnRLZXk6IGl0ZW0ua2V5IH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmRlbGV0ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZGVsZXRlKGl0ZW0pO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coe1xuXHQgICAgICB0aXRsZTogXCJBcmUgeW91IHN1cmU/XCIsXG5cdCAgICAgIHRleHQ6IFwiVGhpcyB3aWxsIHBlcm1hbmVudGx5IHJlbW92ZSB0aGUgdGVuYW50IGZyb20gdGhlIHN5c3RlbS5cIixcblx0ICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG5cdCAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG5cdCAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogXCIjREQ2QjU1XCIsXG5cdCAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIlllcywgcmVtb3ZlIHRoZSB0ZW5hbnQhXCIsXG5cdCAgICAgIGNsb3NlT25Db25maXJtOiB0cnVlXG5cdCAgICB9LCBjYWxsYmFjayk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuVGVuYW50c0N0cmwgPSBUZW5hbnRzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzM4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0V2VsY29tZUN0cmwuJGluamVjdCA9IFtcIlZlcnNpb25zU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBXZWxjb21lQ3RybChWZXJzaW9uc1NlcnZpY2UsICRzdGF0ZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnZlcnNpb25fZGF0YSA9IFtdO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHRcblx0ICB2bS5wcm9jZWVkVG9TaWduSW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdzaWduX2luJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY2FwaXRhbGl6ZUZpcnN0TGV0dGVyID0gZnVuY3Rpb24gKHN0cmluZykge1xuXHQgICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcblx0ICB9O1xuXHRcblx0ICB2bS5naXZlT3B0aW9uVG9DaGFuZ2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBkaXN0cmlidXRvcnNQcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5mZXRjaEFsbEJ5VXNlcihTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpKTtcblx0ICAgIHJldHVybiBkaXN0cmlidXRvcnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0uaGFzX211bHRpcGxlX2Rpc3RyaWJ1dG9ycyA9IGRhdGEubGVuZ3RoID4gMTtcblx0ICAgICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNoYW5nZURpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnZGlzdHJpYnV0b3Jfc2VsZWN0aW9uJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBwcm9taXNlID0gVmVyc2lvbnNTZXJ2aWNlLmdldFZlcnNpb25zKCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS52ZXJzaW9uX2RhdGEgPSBkYXRhO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmlkZW50aXR5ID0ge1xuXHQgICAgICBrZXk6IFNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCksXG5cdCAgICAgIGVtYWlsOiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCksXG5cdCAgICAgIGRpc3RyaWJ1dG9yS2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksXG5cdCAgICAgIGRpc3RyaWJ1dG9yTmFtZTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKVxuXHQgICAgfTtcblx0XG5cdCAgICB2bS5naXZlT3B0aW9uVG9DaGFuZ2VEaXN0cmlidXRvcigpO1xuXHRcblx0ICAgIGlmICghdm0uaWRlbnRpdHkuZW1haWwpIHtcblx0ICAgICAgcmV0dXJuICRzdGF0ZS5nbyhcInNpZ25faW5cIik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0VmVyc2lvbigpO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuV2VsY29tZUN0cmwgPSBXZWxjb21lQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzM5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5yb3V0ZXMgPSByb3V0ZXM7XG5cdGZ1bmN0aW9uIHJvdXRlcygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCBSZXN0YW5ndWxhclByb3ZpZGVyKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNpZ25faW5cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpZGVudGl0eTogW1wiSWRlbnRpdHlTZXJ2aWNlXCIsIGZ1bmN0aW9uIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgfV0sXG5cdCAgICAgIG5vdEF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIG5vdEF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2Uubm90QXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvc2lnbl9pblwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2F1dGhlbnRpY2F0aW9uL3NpZ25faW4uaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJBdXRoZW50aWNhdGlvbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2F1dGhlbnRpY2F0aW9uQ3RybCdcblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNpZ25lZF9vdXRcIiwge1xuXHQgICAgdXJsOiBcIi9zaWduZWRfb3V0XCIsXG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGlkZW50aXR5OiBbXCJJZGVudGl0eVNlcnZpY2VcIiwgZnVuY3Rpb24gaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuXHQgICAgICB9XSxcblx0ICAgICAgbm90QXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gbm90QXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5ub3RBdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2F1dGhlbnRpY2F0aW9uL3NpZ25lZF9vdXQuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJBdXRoZW50aWNhdGlvbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2F1dGhlbnRpY2F0aW9uQ3RybCdcblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNpZ25fb3V0XCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaWRlbnRpdHk6IFtcIklkZW50aXR5U2VydmljZVwiLCBmdW5jdGlvbiBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG5cdCAgICAgIH1dLFxuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3NpZ25fb3V0XCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYXV0aGVudGljYXRpb24vc2lnbl9vdXQuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJBdXRoZW50aWNhdGlvbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2F1dGhlbnRpY2F0aW9uQ3RybCdcblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImRpc3RyaWJ1dG9yX3NlbGVjdGlvblwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvZGlzdHJpYnV0b3Jfc2VsZWN0aW9uXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3Jfc2VsZWN0b3IuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJEaXN0cmlidXRvclNlbGVjdG9yQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndm0nXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcblx0ICAgIHVybDogXCIvXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvd2VsY29tZS93ZWxjb21lLmh0bWxcIixcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaWRlbnRpdHk6IFtcIklkZW50aXR5U2VydmljZVwiLCBmdW5jdGlvbiBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG5cdCAgICAgIH1dLFxuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICBjb250cm9sbGVyOiBcIldlbGNvbWVDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd3ZWxjb21lQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnU2t5a2l0IFByb3Zpc2lvbmluZydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcIndlbGNvbWVcIiwge1xuXHQgICAgdXJsOiBcIi93ZWxjb21lXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvd2VsY29tZS93ZWxjb21lLmh0bWxcIixcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaWRlbnRpdHk6IFtcIklkZW50aXR5U2VydmljZVwiLCBmdW5jdGlvbiBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG5cdCAgICAgIH1dLFxuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICBjb250cm9sbGVyOiBcIldlbGNvbWVDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd3ZWxjb21lQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnU2t5a2l0IFByb3Zpc2lvbmluZydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImRvbWFpbnNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2RvbWFpbnNcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kb21haW4vZG9tYWlucy1saXN0aW5nLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2RvbWFpbnNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdEb21haW5zJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkRG9tYWluXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9kb21haW5zL2FkZFwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW4tZGV0YWlsLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluRGV0YWlsc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2RvbWFpbkRldGFpbHNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdBZGQgZG9tYWluJyxcblx0ICAgICAgcGFyZW50OiAnZG9tYWlucydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXREb21haW5cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2RvbWFpbnMvOmRvbWFpbktleVwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW4tZGV0YWlsLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluRGV0YWlsc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2RvbWFpbkRldGFpbHNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyBkb21haW5EZXRhaWxzQ3RybC5jdXJyZW50RG9tYWluLm5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICdkb21haW5zJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50c1wiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50c1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnRzLWxpc3RpbmcuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRzQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50c0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ1RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJhZGRUZW5hbnRcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvYWRkXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1hZGQuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRBZGRDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRBZGRDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdBZGQgdGVuYW50Jyxcblx0ICAgICAgcGFyZW50OiAndGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudERldGFpbHNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9kZXRhaWxzXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1kZXRhaWxzLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50RGV0YWlsc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudERldGFpbHNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnREZXRhaWxzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50TWFuYWdlZERldmljZXNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9tYW5hZ2VkXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1tYW5hZ2VkLWRldmljZXMuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudE1hbmFnZWREZXZpY2VzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50TWFuYWdlZERldmljZXNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRVbm1hbmFnZWREZXZpY2VzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvdW5tYW5hZ2VkXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC11bm1hbmFnZWQtZGV2aWNlcy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19Jyxcblx0ICAgICAgcGFyZW50OiAndGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudExvZ3NcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9sb2dzXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2dzLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9nc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvZ3NDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2dzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50T3ZlcmxheXNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9vdmVybGF5c1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtb3ZlcmxheXMuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRPdmVybGF5c0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudE92ZXJsYXlzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50T3ZlcmxheXNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRMb2NhdGlvbnNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9sb2NhdGlvbnNcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9ucy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudExvY2F0aW9uc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvY2F0aW9uc0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IHRlbmFudExvY2F0aW9uc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19Jyxcblx0ICAgICAgcGFyZW50OiAndGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXRMb2NhdGlvblwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvbG9jYXRpb25zLzpsb2NhdGlvbktleVwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvY2F0aW9uQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9jYXRpb25DdHJsLnRlbmFudE5hbWUgfX0gIC8ge3sgdGVuYW50TG9jYXRpb25DdHJsLmxvY2F0aW9uTmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJhZGRMb2NhdGlvblwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2xvY2F0aW9uXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbi5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudExvY2F0aW9uQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50TG9jYXRpb25DdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2NhdGlvbkN0cmwudGVuYW50TmFtZSB9fSAgLyBMb2NhdGlvbicsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkZXZpY2VzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9kZXZpY2VzXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGV2aWNlL2RldmljZXMtbGlzdGluZy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkRldmljZXNMaXN0aW5nQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnZGV2aWNlc0xpc3RpbmdDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdEZXZpY2VzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZWRpdERldmljZVwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGlkZW50aXR5OiBbXCJJZGVudGl0eVNlcnZpY2VcIiwgZnVuY3Rpb24gaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuXHQgICAgICB9XSxcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9kZXZpY2VzLzpkZXZpY2VLZXk/dGVuYW50S2V5P2Zyb21EZXZpY2VzXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGV2aWNlL2RldmljZS1kZXRhaWwuaHRtbFwiLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IGRldmljZURldGFpbHNDdHJsLmN1cnJlbnREZXZpY2Uua2V5IH19Jyxcblx0ICAgICAgcGFyZW50OiAnZGV2aWNlcydcblx0ICAgIH0sXG5cdCAgICBjb250cm9sbGVyOiAnRGV2aWNlRGV0YWlsc0N0cmwnLFxuXHQgICAgZnVuY3Rpb246IGZ1bmN0aW9uIF9mdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xuXHQgICAgICAkc2NvcGUudGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfSxcblx0XG5cdCAgICBjb250cm9sbGVyQXM6ICdkZXZpY2VEZXRhaWxzQ3RybCdcblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInByb29mXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9wcm9vZlwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3Byb29mL21haW4uaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJQcm9vZk9mUGxheUN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdQcm9vZiBvZiBQbGF5J1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicHJvb2ZEZXRhaWxcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3Byb29mLzp0ZW5hbnRcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wcm9vZi9kZXRhaWwuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJQcm9vZk9mUGxheUN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdQcm9vZiBvZiBQbGF5J1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRtaW5cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpc0FkbWluOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBpc0FkbWluKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4oKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2FkbWluXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYWRtaW4vYWRtaW4uaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJBZG1pbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdBZG1pbidcblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL3NpZ25faW4nKTtcblx0XG5cdCAgUmVzdGFuZ3VsYXJQcm92aWRlci5zZXRCYXNlVXJsKCcvYXBpL3YxJyk7XG5cdFxuXHQgIFJlc3Rhbmd1bGFyUHJvdmlkZXIuYWRkUmVzcG9uc2VJbnRlcmNlcHRvcihmdW5jdGlvbiAoZGF0YSwgb3BlcmF0aW9uLCByZXNvdXJjZVR5cGUsIHVybCwgcmVzcG9uc2UsIGRlZmVycmVkKSB7XG5cdCAgICB2YXIgcmVzdWx0ID0gZGF0YTtcblx0ICAgIC8vIFVuY29tbWVudCB0aGlzIGZvciBwYWdpbmF0aW9uIHN1cHBvcnQgd2hlbiB1c2luZyBQYWdpbmdMaXN0SGFuZGxlck1peGluIG9uIHRoZSBQeXRob24gc2lkZS5cblx0ICAgIC8vICAgIGlmIHJlc291cmNlVHlwZSA9PSAnZGV2aWNlcycgYW5kIG9wZXJhdGlvbiA9ICdnZXRMaXN0JyBhbmQgdXJsID09ICcvYXBpL3YxL2RldmljZXMnXG5cdCAgICAvLyAgICAgIHJlc3VsdCA9IGRhdGEub2JqZWN0c1xuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0UmVzdGFuZ3VsYXJGaWVsZHMoe1xuXHQgICAgaWQ6ICdrZXknXG5cdCAgfSk7XG5cdH1cblx0XG5cdHJvdXRlcy4kaW5qZWN0ID0gW1wiJHN0YXRlUHJvdmlkZXJcIiwgXCIkdXJsUm91dGVyUHJvdmlkZXJcIiwgXCJSZXN0YW5ndWxhclByb3ZpZGVyXCJdO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3NDA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRhcHBSdW4uJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCIsIFwiJGxvY2F0aW9uXCIsIFwiJGluamVjdG9yXCIsIFwiJHJvb3RTY29wZVwiLCBcIiR0aW1lb3V0XCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5hcHBSdW4gPSBhcHBSdW47XG5cdGZ1bmN0aW9uIGFwcFJ1bihSZXN0YW5ndWxhciwgJGxvY2F0aW9uLCAkaW5qZWN0b3IsICRyb290U2NvcGUsICR0aW1lb3V0KSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgc3RhdGVDaGFuZ2VXYXRjaCA9IGZ1bmN0aW9uIHN0YXRlQ2hhbmdlV2F0Y2goKSB7XG5cdCAgICB2YXIgc3RhdGUgPSAkaW5qZWN0b3IuZ2V0KCckc3RhdGUnKTtcblx0ICAgIHJldHVybiAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XG5cdCAgICAgIGlmIChlcnJvclswXSA9PT0gXCJhdXRoRXJyb3JcIikge1xuXHQgICAgICAgIHJldHVybiBzdGF0ZS5nbyhlcnJvclsxXSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgICR0aW1lb3V0KHN0YXRlQ2hhbmdlV2F0Y2gsIDUwMCk7XG5cdFxuXHQgIHZhciByZXF1ZXN0SW50ZXJjZXB0b3IgPSBmdW5jdGlvbiByZXF1ZXN0SW50ZXJjZXB0b3IoKSB7XG5cdCAgICBSZXN0YW5ndWxhci5hZGRSZXF1ZXN0SW50ZXJjZXB0b3IoZnVuY3Rpb24gKGVsZW0sIG9wZXJhdGlvbiwgd2hhdCwgdXJsKSB7XG5cdCAgICAgIHZhciBTdG9yYWdlU2VydmljZSA9ICRpbmplY3Rvci5nZXQoJ1N0b3JhZ2VTZXJ2aWNlJyk7XG5cdFxuXHQgICAgICB2YXIgYXV0aFRva2VuID0gJzZDMzQ2NTg4QkQ0QzZENzIyQTExNjVCNDNDNTFDJztcblx0ICAgICAgaWYgKCRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMSkge1xuXHQgICAgICAgIGF1dGhUb2tlbiA9ICc1WFpIQkYzbU93cUpsWUFsRzFOZWVXWDBDYjcyZyc7XG5cdCAgICAgIH1cblx0ICAgICAgUmVzdGFuZ3VsYXIuc2V0RGVmYXVsdEhlYWRlcnMoe1xuXHQgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdCAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcblx0ICAgICAgICAnQXV0aG9yaXphdGlvbic6IGF1dGhUb2tlbixcblx0ICAgICAgICAnWC1Qcm92aXNpb25pbmctVXNlcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlcktleScpLFxuXHQgICAgICAgICdYLVByb3Zpc2lvbmluZy1EaXN0cmlidXRvcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5Jylcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICBpZiAob3BlcmF0aW9uID09PSAncmVtb3ZlJykge1xuXHQgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBlbGVtO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgJHRpbWVvdXQocmVxdWVzdEludGVyY2VwdG9yLCA1MDApO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDc0MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnRvYXN0ckNvbmZpZyA9IHRvYXN0ckNvbmZpZztcblx0ZXhwb3J0cy5icmVhZGNydW1iUHJvdmlkZXIgPSBicmVhZGNydW1iUHJvdmlkZXI7XG5cdFxuXHR2YXIgX2FuZ3VsYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2OSk7XG5cdFxuXHR2YXIgX2FuZ3VsYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5ndWxhcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gdG9hc3RyQ29uZmlnKHRvYXN0ckNvbmZpZykge1xuXHQgIF9hbmd1bGFyMi5kZWZhdWx0LmV4dGVuZCh0b2FzdHJDb25maWcsIHtcblx0ICAgIHByb2dyZXNzQmFyOiB0cnVlLFxuXHQgICAgY2xvc2VCdXR0b246IHRydWUsXG5cdCAgICB0YXBUb0Rpc21pc3M6IHRydWUsXG5cdCAgICBuZXdlc3RPblRvcDogdHJ1ZSxcblx0ICAgIHBvc2l0aW9uQ2xhc3M6ICd0b2FzdC1ib3R0b20tbGVmdCcsXG5cdCAgICB0aW1lT3V0OiA1MDAwXG5cdCAgfSk7XG5cdH1cblx0dG9hc3RyQ29uZmlnLiRpbmplY3QgPSBbJ3RvYXN0ckNvbmZpZyddO1xuXHRcblx0ZnVuY3Rpb24gYnJlYWRjcnVtYlByb3ZpZGVyKCRicmVhZGNydW1iUHJvdmlkZXIpIHtcblx0ICAkYnJlYWRjcnVtYlByb3ZpZGVyLnNldE9wdGlvbnMoe1xuXHQgICAgcHJlZml4U3RhdGVOYW1lOiAnaG9tZScsXG5cdCAgICB0ZW1wbGF0ZTogJ2Jvb3RzdHJhcDMnXG5cdCAgfSk7XG5cdH1cblx0XG5cdGJyZWFkY3J1bWJQcm92aWRlci4kaW5qZWN0ID0gW1wiJGJyZWFkY3J1bWJQcm92aWRlclwiXTtcblxuLyoqKi8gfVxuXG59KTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBhcHAuYnVuZGxlLmpzXG4gKiovIiwiaW1wb3J0IHthcHB9IGZyb20gJy4vYXBwJ1xuLy8gRGV2aWNlXG5pbXBvcnQge0RldmljZURldGFpbHNDb21tYW5kc0N0cmx9IGZyb20gJy4vZGV2aWNlL2RldmljZS1kZXRhaWwtY29tbWFuZCdcbmltcG9ydCB7RGV2aWNlRGV0YWlsc0N0cmx9IGZyb20gJy4vZGV2aWNlL2RldmljZS1kZXRhaWxzLmNvbnRyb2xsZXInXG5pbXBvcnQge0RldmljZXNMaXN0aW5nQ3RybH0gZnJvbSAnLi9kZXZpY2UvZGV2aWNlcy1saXN0aW5nLmNvbnRyb2xsZXInXG4vLyBBZG1pblxuaW1wb3J0IHtBZG1pbkN0cmx9IGZyb20gJy4vYWRtaW4vYWRtaW4tY29udHJvbGxlcidcbi8vIEF1dGhlbnRpY2F0aW9uXG5pbXBvcnQge0F1dGhlbnRpY2F0aW9uQ3RybH0gZnJvbSAnLi9hdXRoZW50aWNhdGlvbi9hdXRoZW50aWNhdGlvbi1jb250cm9sbGVyJ1xuLy8gQXBwXG5pbXBvcnQge0FwcENvbnRyb2xsZXJ9IGZyb20gJy4vYXBwL2FwcC1jb250cm9sbGVyJ1xuLy8gRGlzdHJpYnV0b3JzXG5pbXBvcnQge0Rpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsfSBmcm9tICcuL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9yLXNlbGVjdG9yLWNvbnRyb2xsZXInXG5pbXBvcnQge0Rpc3RyaWJ1dG9yc0N0cmx9IGZyb20gJy4vZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3JzLWNvbnRyb2xsZXInXG4vLyBEb21haW5zXG5pbXBvcnQge0RvbWFpbnNDdHJsfSBmcm9tICcuL2RvbWFpbi9kb21haW5zLmNvbnRyb2xsZXInXG5pbXBvcnQge0RvbWFpbkRldGFpbHNDdHJsfSBmcm9tICcuL2RvbWFpbi9kb21haW4tZGV0YWlscy5jb250cm9sbGVyJ1xuLy8gUHJvb2ZQbGF5XG5pbXBvcnQge1Byb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmx9IGZyb20gJy4vcHJvb2YvbXVsdGktbG9jYXRpb24uY29udHJvbGxlcidcbmltcG9ydCB7UHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsfSBmcm9tICcuL3Byb29mL211bHRpLWRpc3BsYXkuY29udHJvbGxlcidcbmltcG9ydCB7UHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybH0gZnJvbSAnLi9wcm9vZi9tdWx0aS1yZXNvdXJjZS5jb250cm9sbGVyJ1xuaW1wb3J0IHtQcm9vZk9mUGxheUN0cmx9IGZyb20gJy4vcHJvb2YvcHJvb2Ytb2YtcGxheS5jb250cm9sbGVyJ1xuLy8gU2VydmljZXNcbmltcG9ydCBJbWFnZVNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9pbWFnZS5zZXJ2aWNlJ1xuaW1wb3J0IEFkbWluU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2FkbWluLnNlcnZpY2UnXG5pbXBvcnQgQXV0aG9yaXphdGlvblNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9hdXRob3JpemF0aW9uLnNlcnZpY2UnXG5pbXBvcnQgQ29tbWFuZHNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvY29tbWFuZHMuc2VydmljZSdcbmltcG9ydCBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2RhdGVtYW5pcHVsYXRpb24uc2VydmljZSdcbmltcG9ydCBEZXZpY2VzU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2RldmljZXMuc2VydmljZSdcbmltcG9ydCBEaXN0cmlidXRvcnNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvZGlzdHJpYnV0b3JzLnNlcnZpY2UnXG5pbXBvcnQgRG9tYWluc1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9kb21haW5zLnNlcnZpY2UnXG5pbXBvcnQgSWRlbnRpdHlTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvaWRlbnRpdHkuc2VydmljZSdcbmltcG9ydCBJbnRlZ3JhdGlvbkV2ZW50cyBmcm9tICcuL3NlcnZpY2VzL2ludGVncmF0aW9uLWV2ZW50cy5zZXJ2aWNlJ1xuaW1wb3J0IExvY2F0aW9uc1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9sb2NhdGlvbnMuc2VydmljZSdcbmltcG9ydCBQcm9ncmVzc0JhclNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9wcm9ncmVzc2Jhci5zZXJ2aWNlJ1xuaW1wb3J0IFByb29mUGxheVNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9wcm9vZnBsYXkuc2VydmljZSdcbmltcG9ydCBTZXNzaW9uc1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9zZXNzaW9ucy5zZXJ2aWNlJ1xuaW1wb3J0IFN0b3JhZ2VTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvc3RvcmFnZS5zZXJ2aWNlJ1xuaW1wb3J0IFRlbmFudHNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvdGVuYW50cy5zZXJ2aWNlJ1xuaW1wb3J0IFRpbWV6b25lc1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy90aW1lem9uZXMuc2VydmljZSdcbmltcG9ydCBUb2FzdHNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvdG9hc3RzLnNlcnZpY2UnXG5pbXBvcnQgVmVyc2lvbnNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvdmVyc2lvbnMuc2VydmljZSdcbi8vIFRlbmFudFxuaW1wb3J0IHtUZW5hbnRMb2dzQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LWxvZ3MuY29udHJvbGxlcidcbmltcG9ydCB7VGVuYW50T3ZlcmxheXNDdHJsfSBmcm9tICcuL3RlbmFudC90ZW5hbnQtb3ZlcmxheXMuY29udHJvbGxlcidcbmltcG9ydCB7VGVuYW50QWRkQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LWFkZC5jb250cm9sbGVyJ1xuaW1wb3J0IHtUZW5hbnREZXRhaWxzQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LWRldGFpbHMuY29udHJvbGxlcidcbmltcG9ydCB7VGVuYW50TG9jYXRpb25DdHJsfSBmcm9tICcuL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uY29udHJvbGxlcidcbmltcG9ydCB7VGVuYW50TG9jYXRpb25zQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LWxvY2F0aW9ucy5jb250cm9sbGVyJ1xuaW1wb3J0IHtUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmx9IGZyb20gJy4vdGVuYW50L3RlbmFudC1tYW5hZ2VkLWRldmljZXMuY29udHJvbGxlcidcbmltcG9ydCB7VGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmx9IGZyb20gJy4vdGVuYW50L3RlbmFudC11bm1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyJ1xuaW1wb3J0IHtUZW5hbnRzQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50cy5jb250cm9sbGVyJ1xuLy8gV2VsY29tZVxuaW1wb3J0IHtXZWxjb21lQ3RybH0gZnJvbSAnLi93ZWxjb21lL3dlbGNvbWUtY29udHJvbGxlcidcbi8vIENvbmZpZ1xuaW1wb3J0IHtyb3V0ZXN9IGZyb20gJy4vYXBwLXJvdXRlcydcbmltcG9ydCB7YXBwUnVufSBmcm9tICcuL2FwcC1ydW4nO1xuaW1wb3J0IHt0b2FzdHJDb25maWcsIGJyZWFkY3J1bWJQcm92aWRlcn0gZnJvbSAnLi9hcHAtY29uZmlnJ1xuXG5cbmFwcFxuLy8gU2VydmljZXNcbiAgLnNlcnZpY2UoXCJTdG9yYWdlU2VydmljZVwiLCBTdG9yYWdlU2VydmljZSlcbiAgLnNlcnZpY2UoXCJBZG1pblNlcnZpY2VcIiwgQWRtaW5TZXJ2aWNlKVxuICAuc2VydmljZShcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIEF1dGhvcml6YXRpb25TZXJ2aWNlKVxuICAuc2VydmljZShcIkNvbW1hbmRzU2VydmljZVwiLCBDb21tYW5kc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2VcIiwgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiRGV2aWNlc1NlcnZpY2VcIiwgRGV2aWNlc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiRGlzdHJpYnV0b3JzU2VydmljZVwiLCBEaXN0cmlidXRvcnNTZXJ2aWNlKVxuICAuc2VydmljZShcIkRvbWFpbnNTZXJ2aWNlXCIsIERvbWFpbnNTZXJ2aWNlKVxuICAuc2VydmljZShcIklkZW50aXR5U2VydmljZVwiLCBJZGVudGl0eVNlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiSW50ZWdyYXRpb25FdmVudHNcIiwgSW50ZWdyYXRpb25FdmVudHMpXG4gIC5zZXJ2aWNlKFwiTG9jYXRpb25zU2VydmljZVwiLCBMb2NhdGlvbnNTZXJ2aWNlKVxuICAuc2VydmljZShcIlByb2dyZXNzQmFyU2VydmljZVwiLCBQcm9ncmVzc0JhclNlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiUHJvb2ZQbGF5U2VydmljZVwiLCBQcm9vZlBsYXlTZXJ2aWNlKVxuICAuc2VydmljZShcIlNlc3Npb25zU2VydmljZVwiLCBTZXNzaW9uc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiVGVuYW50c1NlcnZpY2VcIiwgVGVuYW50c1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiVGltZXpvbmVzU2VydmljZVwiLCBUaW1lem9uZXNTZXJ2aWNlKVxuICAuc2VydmljZShcIlRvYXN0c1NlcnZpY2VcIiwgVG9hc3RzU2VydmljZSlcbiAgLnNlcnZpY2UoXCJWZXJzaW9uc1NlcnZpY2VcIiwgVmVyc2lvbnNTZXJ2aWNlKVxuICAuc2VydmljZShcIkltYWdlU2VydmljZVwiLCBJbWFnZVNlcnZpY2UpXG4gIC8vIERldmljZVxuICAuY29udHJvbGxlcihcIkRldmljZURldGFpbHNDb21tYW5kc0N0cmxcIiwgRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJEZXZpY2VEZXRhaWxzQ3RybFwiLCBEZXZpY2VEZXRhaWxzQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJEZXZpY2VzTGlzdGluZ0N0cmxcIiwgRGV2aWNlc0xpc3RpbmdDdHJsKVxuICAvLyBBZG1pblxuICAuY29udHJvbGxlcihcIkFkbWluQ3RybFwiLCBBZG1pbkN0cmwpXG4gIC8vIEF1dGhlbnRpY2F0aW9uXG4gIC5jb250cm9sbGVyKFwiQXV0aGVudGljYXRpb25DdHJsXCIsIEF1dGhlbnRpY2F0aW9uQ3RybClcbiAgLy8gQXBwXG4gIC5jb250cm9sbGVyKFwiQXBwQ29udHJvbGxlclwiLCBBcHBDb250cm9sbGVyKVxuICAvLyBEaXN0cmlidXRvcnNcbiAgLmNvbnRyb2xsZXIoXCJEaXN0cmlidXRvclNlbGVjdG9yQ3RybFwiLCBEaXN0cmlidXRvclNlbGVjdG9yQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJEaXN0cmlidXRvcnNDdHJsXCIsIERpc3RyaWJ1dG9yc0N0cmwpXG4gIC8vIERvbWFpbnNcbiAgLmNvbnRyb2xsZXIoXCJEb21haW5zQ3RybFwiLCBEb21haW5zQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJEb21haW5EZXRhaWxzQ3RybFwiLCBEb21haW5EZXRhaWxzQ3RybClcbiAgLy8gUHJvb2ZQbGF5XG4gIC5jb250cm9sbGVyKFwiUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybFwiLCBQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsKVxuICAuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybFwiLCBQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwpXG4gIC5jb250cm9sbGVyKFwiUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybFwiLCBQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsKVxuICAuY29udHJvbGxlcihcIlByb29mT2ZQbGF5Q3RybFwiLCBQcm9vZk9mUGxheUN0cmwpXG4gIC8vIFRlbmFudHNcbiAgLmNvbnRyb2xsZXIoXCJUZW5hbnRMb2dzQ3RybFwiLCBUZW5hbnRMb2dzQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJUZW5hbnRPdmVybGF5c0N0cmxcIiwgVGVuYW50T3ZlcmxheXNDdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudEFkZEN0cmxcIiwgVGVuYW50QWRkQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJUZW5hbnREZXRhaWxzQ3RybFwiLCBUZW5hbnREZXRhaWxzQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJUZW5hbnRMb2NhdGlvbkN0cmxcIiwgVGVuYW50TG9jYXRpb25DdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudExvY2F0aW9uc0N0cmxcIiwgVGVuYW50TG9jYXRpb25zQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmxcIiwgVGVuYW50TWFuYWdlZERldmljZXNDdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsXCIsIFRlbmFudFVubWFuYWdlZERldmljZXNDdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudHNDdHJsXCIsIFRlbmFudHNDdHJsKVxuICAvLyBXZWxjb21lXG4gIC5jb250cm9sbGVyKFwiV2VsY29tZUN0cmxcIiwgV2VsY29tZUN0cmwpXG4gIC8vIGFwcFJ1biBCbG9ja1xuICAucnVuKGFwcFJ1bilcbiAgLy8gQ29uZmlnXG4gIC5jb25maWcocm91dGVzKVxuICAuY29uZmlnKHRvYXN0ckNvbmZpZylcbiAgLmNvbmZpZyhicmVhZGNydW1iUHJvdmlkZXIpXG5cbi8vIFJlcXVlc3QgSW50ZXJjZXB0b3JcbmFwcC5zZXJ2aWNlKCdSZXF1ZXN0SW50ZXJjZXB0b3InLCBmdW5jdGlvbiAoU3RvcmFnZVNlcnZpY2UsICRsb2NhdGlvbikge1xuICBcIm5nSW5qZWN0XCI7XG4gIGxldCBpbnRlcmNlcHRvciA9IHtcbiAgICByZXF1ZXN0KGNvbmZpZykge1xuICAgICAgbGV0IGdzID0gJzVYWkhCRjNtT3dxSmxZQWxHMU5lZVdYMENiNzJnJztcbiAgICAgIGxldCBwcm9kID0gJzZDMzQ2NTg4QkQ0QzZENzIyQTExNjVCNDNDNTFDJztcbiAgICAgIGNvbmZpZy5oZWFkZXJzID0ge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQXV0aG9yaXphdGlvbic6ICRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMSA/IGdzIDogcHJvZCxcbiAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLVVzZXInOiBTdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJLZXknKSxcbiAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLVVzZXItSWRlbnRpZmllcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlckVtYWlsJyksXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1EaXN0cmlidXRvcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5JylcbiAgICAgIH07XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGludGVyY2VwdG9yO1xufSk7XG5cblxuYXBwLmNvbmZpZygkaHR0cFByb3ZpZGVyID0+ICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ1JlcXVlc3RJbnRlcmNlcHRvcicpKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9pbmRleC5qc1xuICoqLyIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IHVpUm91dGVyIGZyb20gJ2FuZ3VsYXItdWktcm91dGVyJztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCAnYW5ndWxhci10b29sdGlwcyc7XG5pbXBvcnQgJ2xmLW5nLW1kLWZpbGUtaW5wdXQnXG5pbXBvcnQgJ2xmLW5nLW1kLWZpbGUtaW5wdXQvZGlzdC9sZi1uZy1tZC1maWxlLWlucHV0LmNzcydcbmltcG9ydCAnYW5ndWxhci10b29sdGlwcy9kaXN0L2FuZ3VsYXItdG9vbHRpcHMuY3NzJ1xuaW1wb3J0ICdhbmd1bGFyLXRvYXN0ci9kaXN0L2FuZ3VsYXItdG9hc3RyLmNzcydcbmltcG9ydCAnYW5ndWxhci10b2FzdHInO1xuaW1wb3J0IFwiZm9udC1hd2Vzb21lL2Nzcy9mb250LWF3ZXNvbWUuY3NzXCI7XG5pbXBvcnQgJ25vcm1hbGl6ZS5jc3MnO1xuaW1wb3J0IFwiYm9vdHN0cmFwLXdlYnBhY2tcIjtcbmltcG9ydCAnLi9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcyc7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuY3NzJztcbmltcG9ydCAnLi9jb21wb25lbnRzL2FuZ3VsYXJCcmVhZGNydW1iL2FuZ3VsYXJCcmVhZGNydW1iJztcbmltcG9ydCAnLi9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvanMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlcidcbmltcG9ydCAnLi9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvY3NzL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzcydcbmltcG9ydCAnLi9jb21wb25lbnRzL2FuZ3VsYXItZGlyZWN0aXZlLmctc2lnbmluL2dvb2dsZS1wbHVzLXNpZ25pbidcbmltcG9ydCAncmVzdGFuZ3VsYXInO1xuaW1wb3J0ICdhbmd1bGFyLW1hdGVyaWFsJ1xuaW1wb3J0ICdzd2VldGFsZXJ0JztcbmltcG9ydCAnYW5ndWxhci1oLXN3ZWV0YWxlcnQnO1xuaW1wb3J0ICdzd2VldGFsZXJ0L2Rpc3Qvc3dlZXRhbGVydC5jc3MnO1xuaW1wb3J0ICdhbmd1bGFyLXRvYXN0cic7XG5pbXBvcnQgJ2FuZ3VsYXItY29va2llcyc7XG5pbXBvcnQgJ2FuZ3VsYXItc2FuaXRpemUnO1xuaW1wb3J0ICdhbmd1bGFyLXVpLWJvb3RzdHJhcCc7XG5pbXBvcnQgJ25nY2xpcGJvYXJkJztcbmltcG9ydCAnanF1ZXJ5JztcbmltcG9ydCAnYW5ndWxhci1icmVhZGNydW1iJ1xuaW1wb3J0ICdhbmd1bGFyLW1hdGVyaWFsJztcbi8vIEltcG9ydCBhbmd1bGFyXG5pbXBvcnQgJ2FuZ3VsYXIvYW5ndWxhci5qcyc7XG4vLyBNYXRlcmlhbCBkZXNpZ24gY3NzXG5pbXBvcnQgJ2FuZ3VsYXItbWF0ZXJpYWwvYW5ndWxhci1tYXRlcmlhbC5jc3MnO1xuaW1wb3J0ICcuL3Njc3MvdmVuZG9yLnNjc3MnXG5pbXBvcnQgJy4vc2Nzcy9pbmRleC5zY3NzJ1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbndpbmRvdy5fID0gXztcbndpbmRvdy5hbmd1bGFyID0gYW5ndWxhcjtcblxuXG5leHBvcnQgbGV0IGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdza3lraXRQcm92aXNpb25pbmcnLCBbXG4gIHVpUm91dGVyLFxuICAnbmdBbmltYXRlJyxcbiAgJzcyMGtiLnRvb2x0aXBzJyxcbiAgJ25nQ29va2llcycsXG4gICduZ1Nhbml0aXplJyxcbiAgJ3Jlc3Rhbmd1bGFyJyxcbiAgJ3VpLmJvb3RzdHJhcCcsXG4gICduZ01hdGVyaWFsRGF0ZVBpY2tlcicsXG4gICdoU3dlZXRBbGVydCcsXG4gICduY3ktYW5ndWxhci1icmVhZGNydW1iJyxcbiAgJ2RpcmVjdGl2ZS5nK3NpZ25pbicsXG4gICduZ1Byb2dyZXNzJyxcbiAgJ25nTWF0ZXJpYWwnLFxuICAnbmdjbGlwYm9hcmQnLFxuICAndG9hc3RyJyxcbiAgJ2xmTmdNZEZpbGVJbnB1dCdcbl0pXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvYXBwLmpzXG4gKiovIiwidmFyIG1hcCA9IHtcblx0XCIuL2FmXCI6IDM3NSxcblx0XCIuL2FmLmpzXCI6IDM3NSxcblx0XCIuL2FyXCI6IDM3Nixcblx0XCIuL2FyLWx5XCI6IDM3Nyxcblx0XCIuL2FyLWx5LmpzXCI6IDM3Nyxcblx0XCIuL2FyLW1hXCI6IDM3OCxcblx0XCIuL2FyLW1hLmpzXCI6IDM3OCxcblx0XCIuL2FyLXNhXCI6IDM3OSxcblx0XCIuL2FyLXNhLmpzXCI6IDM3OSxcblx0XCIuL2FyLXRuXCI6IDM4MCxcblx0XCIuL2FyLXRuLmpzXCI6IDM4MCxcblx0XCIuL2FyLmpzXCI6IDM3Nixcblx0XCIuL2F6XCI6IDM4MSxcblx0XCIuL2F6LmpzXCI6IDM4MSxcblx0XCIuL2JlXCI6IDM4Mixcblx0XCIuL2JlLmpzXCI6IDM4Mixcblx0XCIuL2JnXCI6IDM4Myxcblx0XCIuL2JnLmpzXCI6IDM4Myxcblx0XCIuL2JuXCI6IDM4NCxcblx0XCIuL2JuLmpzXCI6IDM4NCxcblx0XCIuL2JvXCI6IDM4NSxcblx0XCIuL2JvLmpzXCI6IDM4NSxcblx0XCIuL2JyXCI6IDM4Nixcblx0XCIuL2JyLmpzXCI6IDM4Nixcblx0XCIuL2JzXCI6IDM4Nyxcblx0XCIuL2JzLmpzXCI6IDM4Nyxcblx0XCIuL2NhXCI6IDM4OCxcblx0XCIuL2NhLmpzXCI6IDM4OCxcblx0XCIuL2NzXCI6IDM4OSxcblx0XCIuL2NzLmpzXCI6IDM4OSxcblx0XCIuL2N2XCI6IDM5MCxcblx0XCIuL2N2LmpzXCI6IDM5MCxcblx0XCIuL2N5XCI6IDM5MSxcblx0XCIuL2N5LmpzXCI6IDM5MSxcblx0XCIuL2RhXCI6IDM5Mixcblx0XCIuL2RhLmpzXCI6IDM5Mixcblx0XCIuL2RlXCI6IDM5Myxcblx0XCIuL2RlLWF0XCI6IDM5NCxcblx0XCIuL2RlLWF0LmpzXCI6IDM5NCxcblx0XCIuL2RlLmpzXCI6IDM5Myxcblx0XCIuL2R2XCI6IDM5NSxcblx0XCIuL2R2LmpzXCI6IDM5NSxcblx0XCIuL2VsXCI6IDM5Nixcblx0XCIuL2VsLmpzXCI6IDM5Nixcblx0XCIuL2VuLWF1XCI6IDM5Nyxcblx0XCIuL2VuLWF1LmpzXCI6IDM5Nyxcblx0XCIuL2VuLWNhXCI6IDM5OCxcblx0XCIuL2VuLWNhLmpzXCI6IDM5OCxcblx0XCIuL2VuLWdiXCI6IDM5OSxcblx0XCIuL2VuLWdiLmpzXCI6IDM5OSxcblx0XCIuL2VuLWllXCI6IDQwMCxcblx0XCIuL2VuLWllLmpzXCI6IDQwMCxcblx0XCIuL2VuLW56XCI6IDQwMSxcblx0XCIuL2VuLW56LmpzXCI6IDQwMSxcblx0XCIuL2VvXCI6IDQwMixcblx0XCIuL2VvLmpzXCI6IDQwMixcblx0XCIuL2VzXCI6IDQwMyxcblx0XCIuL2VzLWRvXCI6IDQwNCxcblx0XCIuL2VzLWRvLmpzXCI6IDQwNCxcblx0XCIuL2VzLmpzXCI6IDQwMyxcblx0XCIuL2V0XCI6IDQwNSxcblx0XCIuL2V0LmpzXCI6IDQwNSxcblx0XCIuL2V1XCI6IDQwNixcblx0XCIuL2V1LmpzXCI6IDQwNixcblx0XCIuL2ZhXCI6IDQwNyxcblx0XCIuL2ZhLmpzXCI6IDQwNyxcblx0XCIuL2ZpXCI6IDQwOCxcblx0XCIuL2ZpLmpzXCI6IDQwOCxcblx0XCIuL2ZvXCI6IDQwOSxcblx0XCIuL2ZvLmpzXCI6IDQwOSxcblx0XCIuL2ZyXCI6IDQxMCxcblx0XCIuL2ZyLWNhXCI6IDQxMSxcblx0XCIuL2ZyLWNhLmpzXCI6IDQxMSxcblx0XCIuL2ZyLWNoXCI6IDQxMixcblx0XCIuL2ZyLWNoLmpzXCI6IDQxMixcblx0XCIuL2ZyLmpzXCI6IDQxMCxcblx0XCIuL2Z5XCI6IDQxMyxcblx0XCIuL2Z5LmpzXCI6IDQxMyxcblx0XCIuL2dkXCI6IDQxNCxcblx0XCIuL2dkLmpzXCI6IDQxNCxcblx0XCIuL2dsXCI6IDQxNSxcblx0XCIuL2dsLmpzXCI6IDQxNSxcblx0XCIuL2hlXCI6IDQxNixcblx0XCIuL2hlLmpzXCI6IDQxNixcblx0XCIuL2hpXCI6IDQxNyxcblx0XCIuL2hpLmpzXCI6IDQxNyxcblx0XCIuL2hyXCI6IDQxOCxcblx0XCIuL2hyLmpzXCI6IDQxOCxcblx0XCIuL2h1XCI6IDQxOSxcblx0XCIuL2h1LmpzXCI6IDQxOSxcblx0XCIuL2h5LWFtXCI6IDQyMCxcblx0XCIuL2h5LWFtLmpzXCI6IDQyMCxcblx0XCIuL2lkXCI6IDQyMSxcblx0XCIuL2lkLmpzXCI6IDQyMSxcblx0XCIuL2lzXCI6IDQyMixcblx0XCIuL2lzLmpzXCI6IDQyMixcblx0XCIuL2l0XCI6IDQyMyxcblx0XCIuL2l0LmpzXCI6IDQyMyxcblx0XCIuL2phXCI6IDQyNCxcblx0XCIuL2phLmpzXCI6IDQyNCxcblx0XCIuL2p2XCI6IDQyNSxcblx0XCIuL2p2LmpzXCI6IDQyNSxcblx0XCIuL2thXCI6IDQyNixcblx0XCIuL2thLmpzXCI6IDQyNixcblx0XCIuL2trXCI6IDQyNyxcblx0XCIuL2trLmpzXCI6IDQyNyxcblx0XCIuL2ttXCI6IDQyOCxcblx0XCIuL2ttLmpzXCI6IDQyOCxcblx0XCIuL2tvXCI6IDQyOSxcblx0XCIuL2tvLmpzXCI6IDQyOSxcblx0XCIuL2t5XCI6IDQzMCxcblx0XCIuL2t5LmpzXCI6IDQzMCxcblx0XCIuL2xiXCI6IDQzMSxcblx0XCIuL2xiLmpzXCI6IDQzMSxcblx0XCIuL2xvXCI6IDQzMixcblx0XCIuL2xvLmpzXCI6IDQzMixcblx0XCIuL2x0XCI6IDQzMyxcblx0XCIuL2x0LmpzXCI6IDQzMyxcblx0XCIuL2x2XCI6IDQzNCxcblx0XCIuL2x2LmpzXCI6IDQzNCxcblx0XCIuL21lXCI6IDQzNSxcblx0XCIuL21lLmpzXCI6IDQzNSxcblx0XCIuL21pXCI6IDQzNixcblx0XCIuL21pLmpzXCI6IDQzNixcblx0XCIuL21rXCI6IDQzNyxcblx0XCIuL21rLmpzXCI6IDQzNyxcblx0XCIuL21sXCI6IDQzOCxcblx0XCIuL21sLmpzXCI6IDQzOCxcblx0XCIuL21yXCI6IDQzOSxcblx0XCIuL21yLmpzXCI6IDQzOSxcblx0XCIuL21zXCI6IDQ0MCxcblx0XCIuL21zLW15XCI6IDQ0MSxcblx0XCIuL21zLW15LmpzXCI6IDQ0MSxcblx0XCIuL21zLmpzXCI6IDQ0MCxcblx0XCIuL215XCI6IDQ0Mixcblx0XCIuL215LmpzXCI6IDQ0Mixcblx0XCIuL25iXCI6IDQ0Myxcblx0XCIuL25iLmpzXCI6IDQ0Myxcblx0XCIuL25lXCI6IDQ0NCxcblx0XCIuL25lLmpzXCI6IDQ0NCxcblx0XCIuL25sXCI6IDQ0NSxcblx0XCIuL25sLmpzXCI6IDQ0NSxcblx0XCIuL25uXCI6IDQ0Nixcblx0XCIuL25uLmpzXCI6IDQ0Nixcblx0XCIuL3BhLWluXCI6IDQ0Nyxcblx0XCIuL3BhLWluLmpzXCI6IDQ0Nyxcblx0XCIuL3BsXCI6IDQ0OCxcblx0XCIuL3BsLmpzXCI6IDQ0OCxcblx0XCIuL3B0XCI6IDQ0OSxcblx0XCIuL3B0LWJyXCI6IDQ1MCxcblx0XCIuL3B0LWJyLmpzXCI6IDQ1MCxcblx0XCIuL3B0LmpzXCI6IDQ0OSxcblx0XCIuL3JvXCI6IDQ1MSxcblx0XCIuL3JvLmpzXCI6IDQ1MSxcblx0XCIuL3J1XCI6IDQ1Mixcblx0XCIuL3J1LmpzXCI6IDQ1Mixcblx0XCIuL3NlXCI6IDQ1Myxcblx0XCIuL3NlLmpzXCI6IDQ1Myxcblx0XCIuL3NpXCI6IDQ1NCxcblx0XCIuL3NpLmpzXCI6IDQ1NCxcblx0XCIuL3NrXCI6IDQ1NSxcblx0XCIuL3NrLmpzXCI6IDQ1NSxcblx0XCIuL3NsXCI6IDQ1Nixcblx0XCIuL3NsLmpzXCI6IDQ1Nixcblx0XCIuL3NxXCI6IDQ1Nyxcblx0XCIuL3NxLmpzXCI6IDQ1Nyxcblx0XCIuL3NyXCI6IDQ1OCxcblx0XCIuL3NyLWN5cmxcIjogNDU5LFxuXHRcIi4vc3ItY3lybC5qc1wiOiA0NTksXG5cdFwiLi9zci5qc1wiOiA0NTgsXG5cdFwiLi9zc1wiOiA0NjAsXG5cdFwiLi9zcy5qc1wiOiA0NjAsXG5cdFwiLi9zdlwiOiA0NjEsXG5cdFwiLi9zdi5qc1wiOiA0NjEsXG5cdFwiLi9zd1wiOiA0NjIsXG5cdFwiLi9zdy5qc1wiOiA0NjIsXG5cdFwiLi90YVwiOiA0NjMsXG5cdFwiLi90YS5qc1wiOiA0NjMsXG5cdFwiLi90ZVwiOiA0NjQsXG5cdFwiLi90ZS5qc1wiOiA0NjQsXG5cdFwiLi90aFwiOiA0NjUsXG5cdFwiLi90aC5qc1wiOiA0NjUsXG5cdFwiLi90bC1waFwiOiA0NjYsXG5cdFwiLi90bC1waC5qc1wiOiA0NjYsXG5cdFwiLi90bGhcIjogNDY3LFxuXHRcIi4vdGxoLmpzXCI6IDQ2Nyxcblx0XCIuL3RyXCI6IDQ2OCxcblx0XCIuL3RyLmpzXCI6IDQ2OCxcblx0XCIuL3R6bFwiOiA0NjksXG5cdFwiLi90emwuanNcIjogNDY5LFxuXHRcIi4vdHptXCI6IDQ3MCxcblx0XCIuL3R6bS1sYXRuXCI6IDQ3MSxcblx0XCIuL3R6bS1sYXRuLmpzXCI6IDQ3MSxcblx0XCIuL3R6bS5qc1wiOiA0NzAsXG5cdFwiLi91a1wiOiA0NzIsXG5cdFwiLi91ay5qc1wiOiA0NzIsXG5cdFwiLi91elwiOiA0NzMsXG5cdFwiLi91ei5qc1wiOiA0NzMsXG5cdFwiLi92aVwiOiA0NzQsXG5cdFwiLi92aS5qc1wiOiA0NzQsXG5cdFwiLi94LXBzZXVkb1wiOiA0NzUsXG5cdFwiLi94LXBzZXVkby5qc1wiOiA0NzUsXG5cdFwiLi96aC1jblwiOiA0NzYsXG5cdFwiLi96aC1jbi5qc1wiOiA0NzYsXG5cdFwiLi96aC1oa1wiOiA0NzcsXG5cdFwiLi96aC1oay5qc1wiOiA0NzcsXG5cdFwiLi96aC10d1wiOiA0NzgsXG5cdFwiLi96aC10dy5qc1wiOiA0Nzhcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18od2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkpO1xufTtcbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0cmV0dXJuIG1hcFtyZXFdIHx8IChmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJy5cIikgfSgpKTtcbn07XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gMzc0O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbW9tZW50L2xvY2FsZSBeXFwuXFwvLiokXG4gKiogbW9kdWxlIGlkID0gMzc0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxuIG5ncHJvZ3Jlc3MgMS4xLjIgLSBzbGltLCBzaXRlLXdpZGUgcHJvZ3Jlc3NiYXIgZm9yIEFuZ3VsYXJKUyBcbiAoQykgMjAxMyAtIFZpY3RvciBCamVsa2hvbG0gXG4gTGljZW5zZTogTUlUIFxuIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL1ZpY3RvckJqZWxraG9sbS9uZ1Byb2dyZXNzIFxuIERhdGUgQ29tcGlsZWQ6IDIwMTUtMDctMjcgXG4gKi9cbmFuZ3VsYXIubW9kdWxlKFwibmdQcm9ncmVzcy5wcm92aWRlclwiLCBbXCJuZ1Byb2dyZXNzLmRpcmVjdGl2ZVwiXSkuc2VydmljZShcIm5nUHJvZ3Jlc3NcIiwgZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgcmV0dXJuIFtcIiRkb2N1bWVudFwiLCBcIiR3aW5kb3dcIiwgXCIkY29tcGlsZVwiLCBcIiRyb290U2NvcGVcIiwgXCIkdGltZW91dFwiLCBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkge1xuICAgIHRoaXMuYXV0b1N0eWxlID0gITAsIHRoaXMuY291bnQgPSAwLCB0aGlzLmhlaWdodCA9IFwiMnB4XCIsIHRoaXMuJHNjb3BlID0gZC4kbmV3KCksIHRoaXMuY29sb3IgPSBcImZpcmVicmlja1wiLCB0aGlzLnBhcmVudCA9IGEuZmluZChcImJvZHlcIilbMF0sIHRoaXMuY291bnQgPSAwLCB0aGlzLnByb2dyZXNzYmFyRWwgPSBjKFwiPG5nLXByb2dyZXNzPjwvbmctcHJvZ3Jlc3M+XCIpKHRoaXMuJHNjb3BlKSwgdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc2JhckVsWzBdKSwgdGhpcy4kc2NvcGUuY291bnQgPSB0aGlzLmNvdW50LCB2b2lkIDAgIT09IHRoaXMuaGVpZ2h0ICYmIHRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImhlaWdodFwiLCB0aGlzLmhlaWdodCksIHZvaWQgMCAhPT0gdGhpcy5jb2xvciAmJiAodGhpcy5wcm9ncmVzc2JhckVsLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCB0aGlzLmNvbG9yKSwgdGhpcy5wcm9ncmVzc2JhckVsLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiY29sb3JcIiwgdGhpcy5jb2xvcikpLCB0aGlzLmludGVydmFsQ291bnRlcklkID0gMCwgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgdmFyIGEgPSB0aGlzO1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSwgdGhpcy5pbnRlcnZhbENvdW50ZXJJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXNOYU4oYS5jb3VudCkgPyAoY2xlYXJJbnRlcnZhbChhLmludGVydmFsQ291bnRlcklkKSwgYS5jb3VudCA9IDAsIGEuaGlkZSgpKSA6IChhLnJlbWFpbmluZyA9IDEwMCAtIGEuY291bnQsIGEuY291bnQgPSBhLmNvdW50ICsgLjE1ICogTWF0aC5wb3coMSAtIE1hdGguc3FydChhLnJlbWFpbmluZyksIDIpLCBhLnVwZGF0ZUNvdW50KGEuY291bnQpKVxuICAgICAgfSwgMjAwKVxuICAgIH0sIHRoaXMudXBkYXRlQ291bnQgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgdGhpcy4kc2NvcGUuY291bnQgPSBhLCB0aGlzLiRzY29wZS4kJHBoYXNlIHx8IHRoaXMuJHNjb3BlLiRhcHBseSgpXG4gICAgfSwgdGhpcy5zZXRIZWlnaHQgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gYSAmJiAodGhpcy5oZWlnaHQgPSBhLCB0aGlzLiRzY29wZS5oZWlnaHQgPSB0aGlzLmhlaWdodCwgdGhpcy4kc2NvcGUuJCRwaGFzZSB8fCB0aGlzLiRzY29wZS4kYXBwbHkoKSksIHRoaXMuaGVpZ2h0XG4gICAgfSwgdGhpcy5zZXRDb2xvciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBhICYmICh0aGlzLmNvbG9yID0gYSwgdGhpcy4kc2NvcGUuY29sb3IgPSB0aGlzLmNvbG9yLCB0aGlzLiRzY29wZS4kJHBoYXNlIHx8IHRoaXMuJHNjb3BlLiRhcHBseSgpKSwgdGhpcy5jb2xvclxuICAgIH0sIHRoaXMuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIm9wYWNpdHlcIiwgXCIwXCIpO1xuICAgICAgdmFyIGEgPSB0aGlzO1xuICAgICAgYS5hbmltYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYS5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKFwid2lkdGhcIiwgXCIwJVwiKSwgYS5hbmltYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhLnNob3coKVxuICAgICAgICB9LCA1MDApXG4gICAgICB9LCA1MDApXG4gICAgfSwgdGhpcy5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGEgPSB0aGlzO1xuICAgICAgYS5hbmltYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYS5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKFwib3BhY2l0eVwiLCBcIjFcIilcbiAgICAgIH0sIDEwMClcbiAgICB9LCB0aGlzLmFuaW1hdGUgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgdm9pZCAwICE9PSB0aGlzLmFuaW1hdGlvbiAmJiBlLmNhbmNlbCh0aGlzLmFuaW1hdGlvbiksIHRoaXMuYW5pbWF0aW9uID0gZShhLCBiKVxuICAgIH0sIHRoaXMuc3RhdHVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY291bnRcbiAgICB9LCB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpXG4gICAgfSwgdGhpcy5zZXQgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2hvdygpLCB0aGlzLnVwZGF0ZUNvdW50KGEpLCB0aGlzLmNvdW50ID0gYSwgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSwgdGhpcy5jb3VudFxuICAgIH0sIHRoaXMuY3NzID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoYSlcbiAgICB9LCB0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIHRoaXMuY291bnQgPSAwLCB0aGlzLnVwZGF0ZUNvdW50KHRoaXMuY291bnQpLCAwXG4gICAgfSwgdGhpcy5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY291bnQgPSAxMDAsIHRoaXMudXBkYXRlQ291bnQodGhpcy5jb3VudCk7XG4gICAgICB2YXIgYSA9IHRoaXM7XG4gICAgICByZXR1cm4gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSwgZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGEuaGlkZSgpLCBlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhLmNvdW50ID0gMCwgYS51cGRhdGVDb3VudChhLmNvdW50KVxuICAgICAgICB9LCA1MDApXG4gICAgICB9LCAxZTMpLCB0aGlzLmNvdW50XG4gICAgfSwgdGhpcy5zZXRQYXJlbnQgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgaWYgKG51bGwgPT09IGEgfHwgdm9pZCAwID09PSBhKXRocm93IG5ldyBFcnJvcihcIlByb3ZpZGUgYSB2YWxpZCBwYXJlbnQgb2YgdHlwZSBIVE1MRWxlbWVudFwiKTtcbiAgICAgIG51bGwgIT09IHRoaXMucGFyZW50ICYmIHZvaWQgMCAhPT0gdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5wcm9ncmVzc2JhckVsWzBdKSwgdGhpcy5wYXJlbnQgPSBhLCB0aGlzLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pXG4gICAgfSwgdGhpcy5nZXREb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NiYXJFbFxuICAgIH0sIHRoaXMuc2V0QWJzb2x1dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnByb2dyZXNzYmFyRWwuY3NzKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKVxuICAgIH1cbiAgfV1cbn0pLmZhY3RvcnkoXCJuZ1Byb2dyZXNzRmFjdG9yeVwiLCBbXCIkaW5qZWN0b3JcIiwgXCJuZ1Byb2dyZXNzXCIsIGZ1bmN0aW9uIChhLCBiKSB7XG4gIHZhciBjID0ge1xuICAgIGNyZWF0ZUluc3RhbmNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYS5pbnN0YW50aWF0ZShiKVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGNcbn1dKSwgYW5ndWxhci5tb2R1bGUoXCJuZ1Byb2dyZXNzLmRpcmVjdGl2ZVwiLCBbXSkuZGlyZWN0aXZlKFwibmdQcm9ncmVzc1wiLCBbXCIkd2luZG93XCIsIFwiJHJvb3RTY29wZVwiLCBmdW5jdGlvbiAoYSwgYikge1xuICB2YXIgYyA9IHtcbiAgICByZXBsYWNlOiAhMCwgcmVzdHJpY3Q6IFwiRVwiLCBsaW5rOiBmdW5jdGlvbiAoYSwgYiwgYywgZCkge1xuICAgICAgYS4kd2F0Y2goXCJjb3VudFwiLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmNvdW50ZXIgPSBjLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwid2lkdGhcIiwgYyArIFwiJVwiKSlcbiAgICAgIH0pLCBhLiR3YXRjaChcImNvbG9yXCIsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICh2b2lkIDAgIT09IGMgfHwgbnVsbCAhPT0gYykgJiYgKGEuY29sb3IgPSBjLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCBjKSwgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImNvbG9yXCIsIGMpKVxuICAgICAgfSksIGEuJHdhdGNoKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICh2b2lkIDAgIT09IGMgfHwgbnVsbCAhPT0gYykgJiYgKGEuaGVpZ2h0ID0gYywgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImhlaWdodFwiLCBjKSlcbiAgICAgIH0pXG4gICAgfSwgdGVtcGxhdGU6ICc8ZGl2IGlkPVwibmdQcm9ncmVzcy1jb250YWluZXJcIj48ZGl2IGlkPVwibmdQcm9ncmVzc1wiPjwvZGl2PjwvZGl2PidcbiAgfTtcbiAgcmV0dXJuIGNcbn1dKSwgYW5ndWxhci5tb2R1bGUoXCJuZ1Byb2dyZXNzXCIsIFtcIm5nUHJvZ3Jlc3MuZGlyZWN0aXZlXCIsIFwibmdQcm9ncmVzcy5wcm92aWRlclwiXSk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuanNcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL25nUHJvZ3Jlc3MuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL25nUHJvZ3Jlc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmdQcm9ncmVzcy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvYXBwL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDUyNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIjbmdQcm9ncmVzc3ttYXJnaW46MDtwYWRkaW5nOjA7ei1pbmRleDo5OTk5ODtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVuO2NvbG9yOmdyZWVuO2JveC1zaGFkb3c6MCAwIDEwcHggMDtoZWlnaHQ6MnB4O29wYWNpdHk6MDstd2Via2l0LXRyYW5zaXRpb246YWxsIC41cyBlYXNlLWluLW91dDt0cmFuc2l0aW9uOmFsbCAuNXMgZWFzZS1pbi1vdXR9I25nUHJvZ3Jlc3MtY29udGFpbmVye3Bvc2l0aW9uOmZpeGVkO21hcmdpbjowO3BhZGRpbmc6MDt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDt6LWluZGV4Ojk5OTk5fVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9zcmMvYXBwL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzLmNzc1xuICoqIG1vZHVsZSBpZCA9IDUyNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyohIGFuZ3VsYXItYnJlYWRjcnVtYiAtIHYwLjQuMC1kZXYtMjAxNS0wOC0wN1xuKiBodHRwOi8vbmN1aWxsZXJ5LmdpdGh1Yi5pby9hbmd1bGFyLWJyZWFkY3J1bWJcbiogQ29weXJpZ2h0IChjKSAyMDE1IE5pY29sYXMgQ3VpbGxlcnk7IExpY2Vuc2VkIE1JVCAqL1xuIWZ1bmN0aW9uKGEsYixjKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBkKGEsYyl7cmV0dXJuIGIuZXF1YWxzKGEubGVuZ3RoLGMubGVuZ3RoKT9hPmM6YS5sZW5ndGg+Yy5sZW5ndGh9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLnJlcGxhY2UoL1xcbi9nLFwiIFwiKS5tYXRjaCgvXihbXihdKz8pXFxzKihcXCgoLiopXFwpKT8kLyk7aWYoIWJ8fDQhPT1iLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIHJlZiAnXCIrYStcIidcIik7cmV0dXJue3N0YXRlOmJbMV0scGFyYW1FeHByOmJbM118fG51bGx9fWZ1bmN0aW9uIGYoKXt2YXIgYT17cHJlZml4U3RhdGVOYW1lOm51bGwsdGVtcGxhdGU6XCJib290c3RyYXAzXCIsdGVtcGxhdGVVcmw6bnVsbCxpbmNsdWRlQWJzdHJhY3Q6ITF9O3RoaXMuc2V0T3B0aW9ucz1mdW5jdGlvbihjKXtiLmV4dGVuZChhLGMpfSx0aGlzLiRnZXQ9W1wiJHN0YXRlXCIsXCIkc3RhdGVQYXJhbXNcIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihiLGYsZyl7dmFyIGg9ZztnLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLGZ1bmN0aW9uKGEpeyFhLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmUmJmQoYS50YXJnZXRTY29wZS4kaWQsaC4kaWQpJiYoaD1hLnRhcmdldFNjb3BlKX0pO3ZhciBpPWZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50fHwoL14oLispXFwuW14uXSskLy5leGVjKGEubmFtZSl8fFtdKVsxXSxjPVwib2JqZWN0XCI9PXR5cGVvZiBiO3JldHVybiBjP2IubmFtZTpifSxqPWZ1bmN0aW9uKGMsZCl7Zm9yKHZhciBnLGksaj1lKGQpLGs9ITEsbD0hMSxtPTAsbj1jLmxlbmd0aDtuPm07bSs9MSlpZihjW21dLm5hbWU9PT1qLnN0YXRlKXJldHVybjtnPWIuZ2V0KGouc3RhdGUpLGcubmN5QnJlYWRjcnVtYiYmKGcubmN5QnJlYWRjcnVtYi5mb3JjZSYmKGs9ITApLGcubmN5QnJlYWRjcnVtYi5za2lwJiYobD0hMCkpLGdbXCJhYnN0cmFjdFwiXSYmIWEuaW5jbHVkZUFic3RyYWN0JiYha3x8bHx8KGoucGFyYW1FeHByJiYoaT1oLiRldmFsKGoucGFyYW1FeHByKSksZy5uY3lCcmVhZGNydW1iTGluaz1iLmhyZWYoai5zdGF0ZSxpfHxmfHx7fSksYy51bnNoaWZ0KGcpKX0saz1mdW5jdGlvbihhKXt2YXIgYz1lKGEpLGQ9Yi5nZXQoYy5zdGF0ZSk7aWYoZC5uY3lCcmVhZGNydW1iJiZkLm5jeUJyZWFkY3J1bWIucGFyZW50KXt2YXIgZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBkLm5jeUJyZWFkY3J1bWIucGFyZW50LGc9Zj9kLm5jeUJyZWFkY3J1bWIucGFyZW50KGgpOmQubmN5QnJlYWRjcnVtYi5wYXJlbnQ7aWYoZylyZXR1cm4gZ31yZXR1cm4gaShkKX07cmV0dXJue2dldFRlbXBsYXRlOmZ1bmN0aW9uKGIpe3JldHVybiBhLnRlbXBsYXRlVXJsP251bGw6YlthLnRlbXBsYXRlXT9iW2EudGVtcGxhdGVdOmEudGVtcGxhdGV9LGdldFRlbXBsYXRlVXJsOmZ1bmN0aW9uKCl7cmV0dXJuIGEudGVtcGxhdGVVcmx9LGdldFN0YXRlc0NoYWluOmZ1bmN0aW9uKGMpe2Zvcih2YXIgZD1bXSxlPWIuJGN1cnJlbnQuc2VsZi5uYW1lO2U7ZT1rKGUpKWlmKGooZCxlKSxjJiZkLmxlbmd0aClyZXR1cm4gZDtyZXR1cm4gYS5wcmVmaXhTdGF0ZU5hbWUmJmooZCxhLnByZWZpeFN0YXRlTmFtZSksZH0sZ2V0TGFzdFN0ZXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFN0YXRlc0NoYWluKCEwKTtyZXR1cm4gYS5sZW5ndGg/YVswXTpjfSwkZ2V0TGFzdFZpZXdTY29wZTpmdW5jdGlvbigpe3JldHVybiBofX19XX1mdW5jdGlvbiBnKGEsYyxkKXt2YXIgZT17Ym9vdHN0cmFwMjonPHVsIGNsYXNzPVwiYnJlYWRjcnVtYlwiPjxsaSBuZy1yZXBlYXQ9XCJzdGVwIGluIHN0ZXBzXCIgbmctc3dpdGNoPVwiJGxhc3QgfHwgISFzdGVwLmFic3RyYWN0XCIgbmctY2xhc3M9XCJ7YWN0aXZlOiAkbGFzdH1cIj48YSBuZy1zd2l0Y2gtd2hlbj1cImZhbHNlXCIgaHJlZj1cInt7c3RlcC5uY3lCcmVhZGNydW1iTGlua319XCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9hPjxzcGFuIG5nLXN3aXRjaC13aGVuPVwidHJ1ZVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvc3Bhbj48c3BhbiBjbGFzcz1cImRpdmlkZXJcIiBuZy1oaWRlPVwiJGxhc3RcIj4vPC9zcGFuPjwvbGk+PC91bD4nLGJvb3RzdHJhcDM6JzxvbCBjbGFzcz1cImJyZWFkY3J1bWJcIj48bGkgbmctcmVwZWF0PVwic3RlcCBpbiBzdGVwc1wiIG5nLWNsYXNzPVwie2FjdGl2ZTogJGxhc3R9XCIgbmctc3dpdGNoPVwiJGxhc3QgfHwgISFzdGVwLmFic3RyYWN0XCI+PGEgbmctc3dpdGNoLXdoZW49XCJmYWxzZVwiIGhyZWY9XCJ7e3N0ZXAubmN5QnJlYWRjcnVtYkxpbmt9fVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvYT48c3BhbiBuZy1zd2l0Y2gtd2hlbj1cInRydWVcIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L3NwYW4+PC9saT48L29sPid9O3JldHVybntyZXN0cmljdDpcIkFFXCIscmVwbGFjZTohMCxzY29wZTp7fSx0ZW1wbGF0ZTpjLmdldFRlbXBsYXRlKGUpLHRlbXBsYXRlVXJsOmMuZ2V0VGVtcGxhdGVVcmwoKSxsaW5rOntwb3N0OmZ1bmN0aW9uKGUpe3ZhciBmPVtdLGc9ZnVuY3Rpb24oKXtsKGYpLGY9W107dmFyIGQ9Yy4kZ2V0TGFzdFZpZXdTY29wZSgpO2Uuc3RlcHM9Yy5nZXRTdGF0ZXNDaGFpbigpLGIuZm9yRWFjaChlLnN0ZXBzLGZ1bmN0aW9uKGIpe2lmKGIubmN5QnJlYWRjcnVtYiYmYi5uY3lCcmVhZGNydW1iLmxhYmVsKXt2YXIgYz1hKGIubmN5QnJlYWRjcnVtYi5sYWJlbCk7Yi5uY3lCcmVhZGNydW1iTGFiZWw9YyhkKSxrKGYsYyxkLGIpfWVsc2UgYi5uY3lCcmVhZGNydW1iTGFiZWw9Yi5uYW1lfSl9O2QuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsZnVuY3Rpb24oYSl7YS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlfHxnKCl9KSxnKCl9fX19ZnVuY3Rpb24gaChhLGIsYyl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHNjb3BlOnt9LHRlbXBsYXRlOlwie3tuY3lCcmVhZGNydW1iTGFiZWx9fVwiLGNvbXBpbGU6ZnVuY3Rpb24oZCxlKXt2YXIgZj1kLmF0dHIoZS4kYXR0ci5uY3lCcmVhZGNydW1iTGFzdCk7cmV0dXJuIGYmJmQuaHRtbChmKSx7cG9zdDpmdW5jdGlvbihkKXt2YXIgZT1bXSxmPWZ1bmN0aW9uKCl7bChlKSxlPVtdO3ZhciBjPWIuJGdldExhc3RWaWV3U2NvcGUoKSxmPWIuZ2V0TGFzdFN0ZXAoKTtpZihmKWlmKGQubmN5QnJlYWRjcnVtYkxpbms9Zi5uY3lCcmVhZGNydW1iTGluayxmLm5jeUJyZWFkY3J1bWImJmYubmN5QnJlYWRjcnVtYi5sYWJlbCl7dmFyIGc9YShmLm5jeUJyZWFkY3J1bWIubGFiZWwpO2QubmN5QnJlYWRjcnVtYkxhYmVsPWcoYyksayhlLGcsYyxkKX1lbHNlIGQubmN5QnJlYWRjcnVtYkxhYmVsPWYubmFtZX07Yy4kb24oXCIkdmlld0NvbnRlbnRMb2FkZWRcIixmdW5jdGlvbihhKXthLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmV8fGYoKX0pLGYoKX19fX19ZnVuY3Rpb24gaShhLGMsZCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHNjb3BlOnt9LHRlbXBsYXRlOlwie3tuY3lCcmVhZGNydW1iQ2hhaW59fVwiLGNvbXBpbGU6ZnVuY3Rpb24oZSxmKXt2YXIgZz1lLmF0dHIoZi4kYXR0ci5uY3lCcmVhZGNydW1iVGV4dCk7ZyYmZS5odG1sKGcpO3ZhciBoPWUuYXR0cihmLiRhdHRyLm5jeUJyZWFkY3J1bWJUZXh0U2VwYXJhdG9yKXx8XCIgLyBcIjtyZXR1cm57cG9zdDpmdW5jdGlvbihlKXt2YXIgZj1bXSxnPWZ1bmN0aW9uKGEsYyxkKXtiLmZvckVhY2goaihjKSxmdW5jdGlvbihiKXt2YXIgYz1kLiR3YXRjaChiLGZ1bmN0aW9uKGEsYil7YSE9PWImJmkoKX0pO2EucHVzaChjKX0pfSxpPWZ1bmN0aW9uKCl7bChmKSxmPVtdO3ZhciBkPWMuJGdldExhc3RWaWV3U2NvcGUoKSxpPWMuZ2V0U3RhdGVzQ2hhaW4oKSxqPVtdO2IuZm9yRWFjaChpLGZ1bmN0aW9uKGIpe2lmKGIubmN5QnJlYWRjcnVtYiYmYi5uY3lCcmVhZGNydW1iLmxhYmVsKXt2YXIgYz1hKGIubmN5QnJlYWRjcnVtYi5sYWJlbCk7ai5wdXNoKGMoZCkpLGcoZixjLGQpfWVsc2Ugai5wdXNoKGIubmFtZSl9KSxlLm5jeUJyZWFkY3J1bWJDaGFpbj1qLmpvaW4oaCl9O2QuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsZnVuY3Rpb24oYSl7YS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlfHxpKCl9KSxpKCl9fX19fXZhciBqPWZ1bmN0aW9uKGEpe2lmKGEuZXhwcmVzc2lvbnMpcmV0dXJuIGEuZXhwcmVzc2lvbnM7dmFyIGM9W107cmV0dXJuIGIuZm9yRWFjaChhLnBhcnRzLGZ1bmN0aW9uKGEpe2IuaXNGdW5jdGlvbihhKSYmYy5wdXNoKGEuZXhwKX0pLGN9LGs9ZnVuY3Rpb24oYSxjLGQsZSl7Yi5mb3JFYWNoKGooYyksZnVuY3Rpb24oYil7dmFyIGY9ZC4kd2F0Y2goYixmdW5jdGlvbigpe2UubmN5QnJlYWRjcnVtYkxhYmVsPWMoZCl9KTthLnB1c2goZil9KX0sbD1mdW5jdGlvbihhKXtiLmZvckVhY2goYSxmdW5jdGlvbihhKXthKCl9KX07Zy4kaW5qZWN0PVtcIiRpbnRlcnBvbGF0ZVwiLFwiJGJyZWFkY3J1bWJcIixcIiRyb290U2NvcGVcIl0saC4kaW5qZWN0PVtcIiRpbnRlcnBvbGF0ZVwiLFwiJGJyZWFkY3J1bWJcIixcIiRyb290U2NvcGVcIl0saS4kaW5qZWN0PVtcIiRpbnRlcnBvbGF0ZVwiLFwiJGJyZWFkY3J1bWJcIixcIiRyb290U2NvcGVcIl0sYi5tb2R1bGUoXCJuY3ktYW5ndWxhci1icmVhZGNydW1iXCIsW1widWkucm91dGVyLnN0YXRlXCJdKS5wcm92aWRlcihcIiRicmVhZGNydW1iXCIsZikuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYlwiLGcpLmRpcmVjdGl2ZShcIm5jeUJyZWFkY3J1bWJMYXN0XCIsaCkuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYlRleHRcIixpKX0od2luZG93LHdpbmRvdy5hbmd1bGFyKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXJCcmVhZGNydW1iL2FuZ3VsYXJCcmVhZGNydW1iLmpzXG4gKiovIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG4oZnVuY3Rpb24gKG1vbWVudCkge1xuXG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIG1vZHVsZU5hbWUgPSBcIm5nTWF0ZXJpYWxEYXRlUGlja2VyXCI7XG5cbiAgdmFyIFZJRVdfU1RBVEVTID0ge1xuICAgIERBVEU6IDAsXG4gICAgSE9VUjogMSxcbiAgICBNSU5VVEU6IDJcbiAgfTtcblxuICB2YXIgY3NzID0gZnVuY3Rpb24gKGVsLCBuYW1lKSB7XG4gICAgaWYgKCdqUXVlcnknIGluIHdpbmRvdykge1xuICAgICAgcmV0dXJuIGpRdWVyeShlbCkuY3NzKG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbCA9IGFuZ3VsYXIuZWxlbWVudChlbCk7XG4gICAgICByZXR1cm4gKCdnZXRDb21wdXRlZFN0eWxlJyBpbiB3aW5kb3cpID8gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxbMF0pW25hbWVdIDogZWwuY3NzKG5hbWUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgdGVtcGxhdGUgPSAnPG1kLWRpYWxvZyBjbGFzcz1cImR0cFwiIGxheW91dD1cImNvbHVtblwiIHN0eWxlPVwid2lkdGg6IDMwMHB4O1wiPidcbiAgICArICcgICAgPG1kLWRpYWxvZy1jb250ZW50IGNsYXNzPVwiZHRwLWNvbnRlbnRcIj4nXG4gICAgKyAnICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWRhdGUtdmlld1wiPidcbiAgICArICcgICAgICAgICAgICA8aGVhZGVyIGNsYXNzPVwiZHRwLWhlYWRlclwiPidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtZGF5XCIgbmctc2hvdz1cInBpY2tlci5kYXRlTW9kZVwiPnt7cGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcImRkZGRcIil9fTwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtZGF5XCIgbmctc2hvdz1cInBpY2tlci50aW1lTW9kZVwiPnt7cGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBwaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiQVwiKSA6IFwiIFwifX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtY2xvc2UgdGV4dC1yaWdodFwiPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIG5nLWNsaWNrPVwicGlja2VyLmhpZGUoKVwiPiZ0aW1lczs8L2E+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgPC9oZWFkZXI+J1xuICAgICsgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtZGF0ZVwiIG5nLXNob3c9XCJwaWNrZXIucGFyYW1zLmRhdGVcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgbGF5b3V0PVwiY29sdW1uXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbW9udGhcIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJNTU1cIikgfCB1cHBlcmNhc2V9fTwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1udW1cIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJERFwiKX19PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGxheW91dD1cInJvd1wiPidcbiAgICArICcgPGRpdiBuZy1jbGljaz1cInBpY2tlci5pbmNyZW1lbnRZZWFyKC0xKVwiIGNsYXNzPVwiZHRwLXllYXItYnRuIGR0cC15ZWFyLWJ0bi1wcmV2XCIgZmxleD1cIjMwXCI+PHNwYW4gbmctaWY9XCJwaWNrZXIuaXNQcmV2aW91c1llYXJWaXNpYmxlKClcIiA+JiN4MjVCMjs8L3NwYW4+PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwteWVhclwiIGZsZXg+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiWVlZWVwiKX19PC9kaXY+J1xuICAgICsgJyA8ZGl2IG5nLWNsaWNrPVwicGlja2VyLmluY3JlbWVudFllYXIoMSlcIiBjbGFzcz1cImR0cC15ZWFyLWJ0biBkdHAteWVhci1idG4tbmV4dFwiIGZsZXg9XCIzMFwiPjxzcGFuIG5nLWlmPVwicGlja2VyLmlzTmV4dFllYXJWaXNpYmxlKClcIiA+JiN4MjVCQzs8L3NwYW4+PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgPC9kaXY+Jy8vc3RhcnQgdGltZVxuICAgICsgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtdGltZVwiIG5nLXNob3c9XCJwaWNrZXIucGFyYW1zLnRpbWUgJiYgIXBpY2tlci5wYXJhbXMuZGF0ZVwiPidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbWF4dGltZVwiPnt7cGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpLmZvcm1hdChwaWNrZXIucGFyYW1zLnNob3J0VGltZSA/IFwiaGg6bW1cIiA6IFwiSEg6bW1cIil9fTwvZGl2PidcbiAgICArICcgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1waWNrZXJcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxtZGMtZGF0ZXRpbWUtcGlja2VyLWNhbGVuZGFyIGRhdGU9XCJwaWNrZXIuY3VycmVudERhdGVcIiBwaWNrZXI9XCJwaWNrZXJcIiBjbGFzcz1cImR0cC1waWNrZXItY2FsZW5kYXJcIiBuZy1zaG93PVwicGlja2VyLmN1cnJlbnRWaWV3ID09PSBwaWNrZXIuVklFV1MuREFURVwiPjwvbWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhcj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtcGlja2VyLWRhdGV0aW1lXCIgbmctc2hvdz1cInBpY2tlci5jdXJyZW50VmlldyAhPT0gcGlja2VyLlZJRVdTLkRBVEVcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1tZXJpZGllblwiPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVmdCBwMjBcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIGNsYXNzPVwiZHRwLW1lcmlkaWVuLWFtXCIgbmctY2xhc3M9XCJ7c2VsZWN0ZWQ6IHBpY2tlci5tZXJpZGllbiA9PSBcXCdBTVxcJ31cIiBuZy1jbGljaz1cInBpY2tlci5zZWxlY3RBTSgpXCI+e3twaWNrZXIucGFyYW1zLmFtVGV4dH19PC9hPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1zaG93PVwiIXBpY2tlci50aW1lTW9kZVwiIGNsYXNzPVwiZHRwLWFjdHVhbC10aW1lIHA2MFwiPnt7cGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpLmZvcm1hdChwaWNrZXIucGFyYW1zLnNob3J0VGltZSA/IFwiaGg6bW1cIiA6IFwiSEg6bW1cIil9fTwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQgcDIwXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImR0cC1tZXJpZGllbi1wbVwiIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwaWNrZXIubWVyaWRpZW4gPT0gXFwnUE1cXCd9XCIgbmctY2xpY2s9XCJwaWNrZXIuc2VsZWN0UE0oKVwiPnt7cGlja2VyLnBhcmFtcy5wbVRleHR9fTwvYT4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDxtZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrIG1vZGU9XCJob3Vyc1wiIG5nLWlmPVwicGlja2VyLmN1cnJlbnRWaWV3ID09PSBwaWNrZXIuVklFV1MuSE9VUlwiPjwvbWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jaz4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jayBtb2RlPVwibWludXRlc1wiIG5nLWlmPVwicGlja2VyLmN1cnJlbnRWaWV3ID09PSBwaWNrZXIuVklFV1MuTUlOVVRFXCI+PC9tZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrPidcbiAgICArICcgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgPC9tZC1kaWFsb2ctY29udGVudD4nXG4gICAgKyAnICAgIDxtZC1kaWFsb2ctYWN0aW9ucyBjbGFzcz1cImR0cC1idXR0b25zXCI+J1xuICAgICsgJyAgICAgICAgICAgIDxtZC1idXR0b24gY2xhc3M9XCJkdHAtYnRuLWNhbmNlbCBtZC1idXR0b25cIiBuZy1jbGljaz1cInBpY2tlci5jYW5jZWwoKVwiPiB7e3BpY2tlci5wYXJhbXMuY2FuY2VsVGV4dH19PC9tZC1idXR0b24+J1xuICAgICsgJyAgICAgICAgICAgIDxtZC1idXR0b24gY2xhc3M9XCJkdHAtYnRuLW9rIG1kLWJ1dHRvblwiIG5nLWNsaWNrPVwicGlja2VyLm9rKClcIj4ge3twaWNrZXIucGFyYW1zLm9rVGV4dH19PC9tZC1idXR0b24+J1xuICAgICsgJyAgICAgIDwvbWQtZGlhbG9nLWFjdGlvbnM+J1xuICAgICsgJzwvbWQtZGlhbG9nPic7XG5cblxuICBhbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lLCBbJ25nTWF0ZXJpYWwnXSlcbiAgICAucHJvdmlkZXIoJ21kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMubG9jYWxlID0gJ2VuJztcblxuICAgICAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGU7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnNldERlZmF1bHRMb2NhbGUgPSBmdW5jdGlvbiAobG9jYWxlU3RyaW5nKSB7XG4gICAgICAgIHRoaXMubG9jYWxlID0gbG9jYWxlU3RyaW5nO1xuICAgICAgfTtcbiAgICB9KVxuICAgIC5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyJywgWyckbWREaWFsb2cnLFxuICAgICAgZnVuY3Rpb24gKCRtZERpYWxvZykge1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIGN1cnJlbnREYXRlOiAnPW5nTW9kZWwnLFxuICAgICAgICAgICAgdGltZTogJz0nLFxuICAgICAgICAgICAgZGF0ZTogJz0nLFxuICAgICAgICAgICAgbWluRGF0ZTogJz0nLFxuICAgICAgICAgICAgbWF4RGF0ZTogJz0nLFxuICAgICAgICAgICAgc2hvcnRUaW1lOiAnPScsXG4gICAgICAgICAgICBmb3JtYXQ6ICdAJyxcbiAgICAgICAgICAgIGNhbmNlbFRleHQ6ICdAJyxcbiAgICAgICAgICAgIG9rVGV4dDogJ0AnLFxuICAgICAgICAgICAgbGFuZzogJ0AnLFxuICAgICAgICAgICAgYW1UZXh0OiAnQCcsXG4gICAgICAgICAgICBwbVRleHQ6ICdAJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgICAgICAgdmFyIGlzT24gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICghc2NvcGUuZm9ybWF0KSB7XG4gICAgICAgICAgICAgIGlmIChzY29wZS5kYXRlICYmIHNjb3BlLnRpbWUpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JtYXQgPSAnWVlZWS1NTS1ERCBISDptbTpzcyc7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2NvcGUuZGF0ZSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcm1hdCA9ICdZWVlZLU1NLUREJztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JtYXQgPSAnSEg6bW0nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHNjb3BlLmN1cnJlbnREYXRlKSAmJiBzY29wZS5jdXJyZW50RGF0ZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgc2NvcGUuY3VycmVudERhdGUgPSBtb21lbnQoc2NvcGUuY3VycmVudERhdGUsIHNjb3BlLmZvcm1hdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZ01vZGVsKSB7XG4gICAgICAgICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbSA9IG1vbWVudCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG0uaXNWYWxpZCgpID8gbS5mb3JtYXQoc2NvcGUuZm9ybWF0KSA6ICcnO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdyZWFkb25seScsICcnKTtcbiAgICAgICAgICAgIC8vQFRPRE8gY3VzdG9tIGV2ZW50IHRvIHRyaWdnZXIgaW5wdXRcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2ZvY3VzJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBlbGVtZW50LmJsdXIoKTtcbiAgICAgICAgICAgICAgaWYgKGlzT24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaXNPbiA9IHRydWU7XG4gICAgICAgICAgICAgIHZhciBvcHRpb25zID0ge307XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gYXR0cnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaGFzT3duUHJvcGVydHkoaSkgJiYgIWFuZ3VsYXIuaXNVbmRlZmluZWQoc2NvcGVbaV0pKSB7XG4gICAgICAgICAgICAgICAgICBvcHRpb25zW2ldID0gc2NvcGVbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9wdGlvbnMuY3VycmVudERhdGUgPSBzY29wZS5jdXJyZW50RGF0ZTtcbiAgICAgICAgICAgICAgdmFyIGxvY2FscyA9IHtvcHRpb25zOiBvcHRpb25zfTtcbiAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBQbHVnaW5Db250cm9sbGVyLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3BpY2tlcicsXG4gICAgICAgICAgICAgICAgbG9jYWxzOiBsb2NhbHMsXG4gICAgICAgICAgICAgICAgb3BlbkZyb206IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXG4gICAgICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlUGFyZW50U2Nyb2xsOiBmYWxzZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICBzY29wZS5jdXJyZW50RGF0ZSA9IHYgPyB2Ll9kIDogdjtcbiAgICAgICAgICAgICAgICAgIGlzT24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBpc09uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfV0pXG4gIDtcblxuICB2YXIgUGx1Z2luQ29udHJvbGxlciA9IGZ1bmN0aW9uICgkc2NvcGUsICRtZERpYWxvZywgbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlKSB7XG4gICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkRBVEU7XG4gICAgdGhpcy5fZGlhbG9nID0gJG1kRGlhbG9nO1xuXG4gICAgdGhpcy5taW5EYXRlO1xuICAgIHRoaXMubWF4RGF0ZTtcblxuICAgIHRoaXMuX2F0dGFjaGVkRXZlbnRzID0gW107XG4gICAgdGhpcy5WSUVXUyA9IFZJRVdfU1RBVEVTO1xuXG4gICAgdGhpcy5wYXJhbXMgPSB7XG4gICAgICBkYXRlOiB0cnVlLFxuICAgICAgdGltZTogdHJ1ZSxcbiAgICAgIGZvcm1hdDogJ1lZWVktTU0tREQnLFxuICAgICAgbWluRGF0ZTogbnVsbCxcbiAgICAgIG1heERhdGU6IG51bGwsXG4gICAgICBjdXJyZW50RGF0ZTogbnVsbCxcbiAgICAgIGxhbmc6IG1kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSxcbiAgICAgIHdlZWtTdGFydDogMCxcbiAgICAgIHNob3J0VGltZTogZmFsc2UsXG4gICAgICBjYW5jZWxUZXh0OiAnQ2FuY2VsJyxcbiAgICAgIG9rVGV4dDogJ09LJyxcbiAgICAgIGFtVGV4dDogJ0FNJyxcbiAgICAgIHBtVGV4dDogJ1BNJ1xuICAgIH07XG5cbiAgICB0aGlzLm1lcmlkaWVuID0gJ0FNJztcbiAgICB0aGlzLnBhcmFtcyA9IGFuZ3VsYXIuZXh0ZW5kKHRoaXMucGFyYW1zLCB0aGlzLm9wdGlvbnMpO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICBQbHVnaW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbWREaWFsb2cnLCAnbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlJ107XG4gIFBsdWdpbkNvbnRyb2xsZXIucHJvdG90eXBlID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMudGltZU1vZGUgPSB0aGlzLnBhcmFtcy50aW1lICYmICF0aGlzLnBhcmFtcy5kYXRlO1xuICAgICAgdGhpcy5kYXRlTW9kZSA9IHRoaXMucGFyYW1zLmRhdGU7XG4gICAgICB0aGlzLmluaXREYXRlcygpO1xuICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH0sXG4gICAgY3VycmVudE5lYXJlc3Q1TWludXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZGF0ZSA9IHRoaXMuY3VycmVudERhdGUgfHwgbW9tZW50KCk7XG4gICAgICB2YXIgbWludXRlcyA9ICg1ICogTWF0aC5yb3VuZChkYXRlLm1pbnV0ZSgpIC8gNSkpO1xuICAgICAgaWYgKG1pbnV0ZXMgPj0gNjApIHtcbiAgICAgICAgbWludXRlcyA9IDU1OyAvL2Fsd2F5cyBwdXNoIGRvd25cbiAgICAgIH1cbiAgICAgIHJldHVybiBtb21lbnQoZGF0ZSkubWludXRlcyhtaW51dGVzKTtcbiAgICB9LFxuICAgIGluaXREYXRlczogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdmFyIF9kYXRlUGFyYW0gPSBmdW5jdGlvbiAoaW5wdXQsIGZhbGxiYWNrKSB7XG4gICAgICAgIHZhciByZXQgPSBudWxsO1xuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaW5wdXQpICYmIGlucHV0ICE9PSBudWxsICYmIGlucHV0ICE9PSAnJykge1xuICAgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGlucHV0KSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZih0aGF0LnBhcmFtcy5mb3JtYXQpICE9PSAndW5kZWZpbmVkJyAmJiB0aGF0LnBhcmFtcy5mb3JtYXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0ID0gbW9tZW50KGlucHV0LCB0aGF0LnBhcmFtcy5mb3JtYXQpLmxvY2FsZSh0aGF0LnBhcmFtcy5sYW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICByZXQgPSBtb21lbnQoaW5wdXQpLmxvY2FsZSh0aGF0LnBhcmFtcy5sYW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgICAgICAgIHZhciB4ID0gaW5wdXQuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICByZXQgPSBtb21lbnQoeCwgXCJ4XCIpLmxvY2FsZSh0aGF0LnBhcmFtcy5sYW5nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuX2lzQU1vbWVudE9iamVjdCkge1xuICAgICAgICAgICAgICByZXQgPSBpbnB1dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0ID0gZmFsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuY3VycmVudERhdGUgPSBfZGF0ZVBhcmFtKHRoaXMucGFyYW1zLmN1cnJlbnREYXRlLCBtb21lbnQoKSk7XG4gICAgICB0aGlzLm1pbkRhdGUgPSBfZGF0ZVBhcmFtKHRoaXMucGFyYW1zLm1pbkRhdGUpO1xuICAgICAgdGhpcy5tYXhEYXRlID0gX2RhdGVQYXJhbSh0aGlzLnBhcmFtcy5tYXhEYXRlKTtcbiAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlKTtcbiAgICB9LFxuICAgIGluaXREYXRlOiBmdW5jdGlvbiAoZCkge1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkRBVEU7XG4gICAgfSxcbiAgICBpbml0SG91cnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5IT1VSO1xuICAgIH0sXG4gICAgaW5pdE1pbnV0ZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5NSU5VVEU7XG4gICAgfSxcbiAgICBpc0FmdGVyTWluRGF0ZTogZnVuY3Rpb24gKGRhdGUsIGNoZWNrSG91ciwgY2hlY2tNaW51dGUpIHtcbiAgICAgIHZhciBfcmV0dXJuID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZih0aGlzLm1pbkRhdGUpICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm1pbkRhdGUgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIF9taW5EYXRlID0gbW9tZW50KHRoaXMubWluRGF0ZSk7XG4gICAgICAgIHZhciBfZGF0ZSA9IG1vbWVudChkYXRlKTtcblxuICAgICAgICBpZiAoIWNoZWNrSG91ciAmJiAhY2hlY2tNaW51dGUpIHtcbiAgICAgICAgICBfbWluRGF0ZS5ob3VyKDApO1xuICAgICAgICAgIF9taW5EYXRlLm1pbnV0ZSgwKTtcblxuICAgICAgICAgIF9kYXRlLmhvdXIoMCk7XG4gICAgICAgICAgX2RhdGUubWludXRlKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgX21pbkRhdGUuc2Vjb25kKDApO1xuICAgICAgICBfZGF0ZS5zZWNvbmQoMCk7XG4gICAgICAgIF9taW5EYXRlLm1pbGxpc2Vjb25kKDApO1xuICAgICAgICBfZGF0ZS5taWxsaXNlY29uZCgwKTtcblxuICAgICAgICBpZiAoIWNoZWNrTWludXRlKSB7XG4gICAgICAgICAgX2RhdGUubWludXRlKDApO1xuICAgICAgICAgIF9taW5EYXRlLm1pbnV0ZSgwKTtcblxuICAgICAgICAgIF9yZXR1cm4gPSAocGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPj0gcGFyc2VJbnQoX21pbkRhdGUuZm9ybWF0KFwiWFwiKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIF9yZXR1cm4gPSAocGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPj0gcGFyc2VJbnQoX21pbkRhdGUuZm9ybWF0KFwiWFwiKSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmV0dXJuO1xuICAgIH0sXG4gICAgaXNCZWZvcmVNYXhEYXRlOiBmdW5jdGlvbiAoZGF0ZSwgY2hlY2tUaW1lLCBjaGVja01pbnV0ZSkge1xuICAgICAgdmFyIF9yZXR1cm4gPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mKHRoaXMubWF4RGF0ZSkgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubWF4RGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgX21heERhdGUgPSBtb21lbnQodGhpcy5tYXhEYXRlKTtcbiAgICAgICAgdmFyIF9kYXRlID0gbW9tZW50KGRhdGUpO1xuXG4gICAgICAgIGlmICghY2hlY2tUaW1lICYmICFjaGVja01pbnV0ZSkge1xuICAgICAgICAgIF9tYXhEYXRlLmhvdXIoMCk7XG4gICAgICAgICAgX21heERhdGUubWludXRlKDApO1xuXG4gICAgICAgICAgX2RhdGUuaG91cigwKTtcbiAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG4gICAgICAgIH1cblxuICAgICAgICBfbWF4RGF0ZS5zZWNvbmQoMCk7XG4gICAgICAgIF9kYXRlLnNlY29uZCgwKTtcbiAgICAgICAgX21heERhdGUubWlsbGlzZWNvbmQoMCk7XG4gICAgICAgIF9kYXRlLm1pbGxpc2Vjb25kKDApO1xuXG4gICAgICAgIGlmICghY2hlY2tNaW51dGUpIHtcbiAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG4gICAgICAgICAgX21heERhdGUubWludXRlKDApO1xuXG4gICAgICAgICAgX3JldHVybiA9IChwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA8PSBwYXJzZUludChfbWF4RGF0ZS5mb3JtYXQoXCJYXCIpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgX3JldHVybiA9IChwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA8PSBwYXJzZUludChfbWF4RGF0ZS5mb3JtYXQoXCJYXCIpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZXR1cm47XG4gICAgfSxcbiAgICBzZWxlY3REYXRlOiBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG1vbWVudChkYXRlKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzQWZ0ZXJNaW5EYXRlKHRoaXMuY3VycmVudERhdGUpKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG1vbWVudCh0aGlzLm1pbkRhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQmVmb3JlTWF4RGF0ZSh0aGlzLmN1cnJlbnREYXRlKSkge1xuICAgICAgICAgIHRoaXMuY3VycmVudERhdGUgPSBtb21lbnQodGhpcy5tYXhEYXRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnREYXRlLmxvY2FsZSh0aGlzLnBhcmFtcy5sYW5nKTtcbiAgICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0ID0gbW9tZW50KHRoaXMuY3VycmVudERhdGUpO1xuICAgICAgICB0aGlzLm1lcmlkaWVuID0gdGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkgPj0gMTIgPyAnUE0nIDogJ0FNJztcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldE5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0ZXh0ID0gXCJcIjtcbiAgICAgIHZhciBwb3NzaWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH0sXG4gICAgaXNQTTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWVyaWRpZW4gPT09ICdQTSc7XG4gICAgfSxcbiAgICBpbmNyZW1lbnRZZWFyOiBmdW5jdGlvbiAoYW1vdW50KSB7XG4gICAgICBpZiAoYW1vdW50ID09PSAxICYmIHRoaXMuaXNOZXh0WWVhclZpc2libGUoKSkge1xuICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5hZGQoJ3llYXInLCBhbW91bnQpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFtb3VudCA9PT0gLTEgJiYgdGhpcy5pc1ByZXZpb3VzWWVhclZpc2libGUoKSkge1xuICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5hZGQoJ3llYXInLCBhbW91bnQpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGlzUHJldmlvdXNNb250aFZpc2libGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0FmdGVyTWluRGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5zdGFydE9mKCdtb250aCcpLCBmYWxzZSwgZmFsc2UpO1xuICAgIH0sXG4gICAgaXNOZXh0TW9udGhWaXNpYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLmVuZE9mKCdtb250aCcpLCBmYWxzZSwgZmFsc2UpO1xuICAgIH0sXG4gICAgaXNQcmV2aW91c1llYXJWaXNpYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNBZnRlck1pbkRhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuc3RhcnRPZigneWVhcicpLCBmYWxzZSwgZmFsc2UpO1xuICAgIH0sXG4gICAgaXNOZXh0WWVhclZpc2libGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuZW5kT2YoJ3llYXInKSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9LFxuICAgIGlzSG91ckF2YWlsYWJsZTogZnVuY3Rpb24gKGhvdXIpIHtcbiAgICAgIHZhciBfZGF0ZSA9IG1vbWVudCh0aGlzLmN1cnJlbnREYXRlKTtcbiAgICAgIF9kYXRlLmhvdXIodGhpcy5jb252ZXJ0SG91cnMoaG91cikpLm1pbnV0ZSgwKS5zZWNvbmQoMCk7XG4gICAgICByZXR1cm4gdGhpcy5pc0FmdGVyTWluRGF0ZShfZGF0ZSwgdHJ1ZSwgZmFsc2UpICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKF9kYXRlLCB0cnVlLCBmYWxzZSk7XG4gICAgfSxcbiAgICBpc01pbnV0ZUF2YWlsYWJsZTogZnVuY3Rpb24gKG1pbnV0ZSkge1xuICAgICAgdmFyIF9kYXRlID0gbW9tZW50KHRoaXMuY3VycmVudERhdGUpO1xuICAgICAgX2RhdGUubWludXRlKG1pbnV0ZSkuc2Vjb25kKDApO1xuICAgICAgcmV0dXJuIHRoaXMuaXNBZnRlck1pbkRhdGUoX2RhdGUsIHRydWUsIHRydWUpICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKF9kYXRlLCB0cnVlLCB0cnVlKTtcbiAgICB9LFxuICAgIHN0YXJ0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuREFURTtcbiAgICAgIC8vdGhpcy5pbml0RGF0ZXMoKTtcbiAgICAgIGlmICh0aGlzLnBhcmFtcy5kYXRlKSB7XG4gICAgICAgIHRoaXMuaW5pdERhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy50aW1lKSB7XG4gICAgICAgICAgdGhpcy5pbml0SG91cnMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgb2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50Vmlldykge1xuICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLkRBVEU6XG4gICAgICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEhvdXJzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oaWRlKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5IT1VSOlxuICAgICAgICAgIHRoaXMuaW5pdE1pbnV0ZXMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5NSU5VVEU6XG4gICAgICAgICAgdGhpcy5oaWRlKHRydWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5wYXJhbXMudGltZSkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFZpZXcpIHtcbiAgICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLkRBVEU6XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgVklFV19TVEFURVMuSE9VUjpcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5kYXRlKSB7XG4gICAgICAgICAgICAgIHRoaXMuaW5pdERhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgVklFV19TVEFURVMuTUlOVVRFOlxuICAgICAgICAgICAgdGhpcy5pbml0SG91cnMoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZWxlY3RNb250aEJlZm9yZTogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LnN1YnRyYWN0KDEsICdtb250aHMnKTtcbiAgICB9LFxuICAgIHNlbGVjdE1vbnRoQWZ0ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5hZGQoMSwgJ21vbnRocycpO1xuICAgIH0sXG4gICAgc2VsZWN0WWVhckJlZm9yZTogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LnN1YnRyYWN0KDEsICd5ZWFycycpO1xuICAgIH0sXG4gICAgc2VsZWN0WWVhckFmdGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuYWRkKDEsICd5ZWFycycpO1xuICAgIH0sXG4gICAgc2VsZWN0QU06IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmlzSG91ckF2YWlsYWJsZSgwKSB8fCB0aGlzLmlzSG91ckF2YWlsYWJsZSgxMikpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudERhdGUuaG91cigpID49IDEyKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuc3VidHJhY3QoMTIsICdob3VycycpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNIb3VyQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUuaG91cigpKSkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIodGhpcy5taW5EYXRlLmhvdXIoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc01pbnV0ZUF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSgpKSkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSh0aGlzLm1pbkRhdGUubWludXRlKCkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc2VsZWN0UE06IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmlzSG91ckF2YWlsYWJsZSgxMykgfHwgdGhpcy5pc0hvdXJBdmFpbGFibGUoMjQpKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSA8IDEyKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuYWRkKDEyLCAnaG91cnMnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzSG91ckF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSkpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKHRoaXMubWF4RGF0ZS5ob3VyKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNNaW51dGVBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUoKSkpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUodGhpcy5tYXhEYXRlLm1pbnV0ZSgpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbnZlcnRIb3VyczogZnVuY3Rpb24gKGgpIHtcbiAgICAgIHZhciBfcmV0dXJuID0gaDtcbiAgICAgIGlmICgoaCA8IDEyKSAmJiB0aGlzLmlzUE0oKSlcbiAgICAgICAgX3JldHVybiArPSAxMjtcblxuICAgICAgcmV0dXJuIF9yZXR1cm47XG4gICAgfSxcbiAgICBoaWRlOiBmdW5jdGlvbiAob2tCdG4pIHtcbiAgICAgIGlmIChva0J0bikge1xuICAgICAgICB0aGlzLl9kaWFsb2cuaGlkZSh0aGlzLmN1cnJlbnREYXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2RpYWxvZy5jYW5jZWwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cblxuICBhbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lKVxuICAgIC5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXInLCBbXG4gICAgICBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IG1vbWVudCgpLFxuICAgICAgICAgIFlFQVJfTUlOID0gMTkwMCxcbiAgICAgICAgICBZRUFSX01BWCA9IDIxMDAsXG4gICAgICAgICAgTU9OVEhTX0lOX0FMTCA9IChZRUFSX01BWCAtIFlFQVJfTUlOICsgMSkgKiAxMixcbiAgICAgICAgICBJVEVNX0hFSUdIVCA9IDI0MCxcbiAgICAgICAgICBNT05USFMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNT05USFNfSU5fQUxMOyBpKyspIHtcbiAgICAgICAgICBNT05USFMucHVzaChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJyZW50TW9udGhJbmRleCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgdmFyIHllYXIgPSBkYXRlLnllYXIoKTtcbiAgICAgICAgICB2YXIgbW9udGggPSBkYXRlLm1vbnRoKCk7XG4gICAgICAgICAgcmV0dXJuICgoeWVhciAtIFlFQVJfTUlOKSAqIDEyKSArIG1vbnRoIC0gMTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHBpY2tlcjogJz0nLFxuICAgICAgICAgICAgZGF0ZTogJz0nXG4gICAgICAgICAgfSxcbiAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2NhbCcsXG4gICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLFxuICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSkge1xuICAgICAgICAgICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHBpY2tlciA9IHRoaXMucGlja2VyLFxuICAgICAgICAgICAgICAgIGRheXMgPSBbXTtcblxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gcGlja2VyLnBhcmFtcy53ZWVrU3RhcnQ7IGRheXMubGVuZ3RoIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiA2KSB7XG4gICAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF5cy5wdXNoKGkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjYWxlbmRhci53ZWVrID0gZGF5cztcbiAgICAgICAgICAgICAgaWYgKCFwaWNrZXIubWF4RGF0ZSAmJiAhcGlja2VyLm1pbkRhdGUpIHtcbiAgICAgICAgICAgICAgICBjYWxlbmRhci5tb250aHMgPSBNT05USFM7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGxvdyA9IHBpY2tlci5taW5EYXRlID8gY3VycmVudE1vbnRoSW5kZXgocGlja2VyLm1pbkRhdGUpIDogMDtcbiAgICAgICAgICAgICAgICB2YXIgaGlnaCA9IHBpY2tlci5tYXhEYXRlID8gKGN1cnJlbnRNb250aEluZGV4KHBpY2tlci5tYXhEYXRlKSArIDEpIDogTU9OVEhTX0lOX0FMTDtcbiAgICAgICAgICAgICAgICBjYWxlbmRhci5tb250aHMgPSBNT05USFMuc2xpY2UobG93LCBoaWdoKTtcbiAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgY2FsZW5kYXIuZ2V0SXRlbUF0SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW9udGggPSAoKGluZGV4ICsgMSkgJSAxMikgfHwgMTI7XG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBZRUFSX01JTiArIE1hdGguZmxvb3IoaW5kZXggLyAxMik7XG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoT2JqID0gbW9tZW50KHBpY2tlci5jdXJyZW50RGF0ZSlcbiAgICAgICAgICAgICAgICAgIC55ZWFyKHllYXIpXG4gICAgICAgICAgICAgICAgICAubW9udGgobW9udGgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZU1vbnRoQ2FsZW5kYXIobW9udGhPYmopO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLnRvcEluZGV4ID0gY3VycmVudE1vbnRoSW5kZXgocGlja2VyLmN1cnJlbnREYXRlKSAtIGNhbGVuZGFyLm1vbnRoc1swXTtcblxuICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGlja2VyLmN1cnJlbnREYXRlID8gcGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdCgnWVlZWS1NTScpIDogJyc7XG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh2YWwyLCB2YWwxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbDIgIT0gdmFsMSkge1xuICAgICAgICAgICAgICAgICAgdmFyIG5EYXRlID0gbW9tZW50KHZhbDIsICdZWVlZLU1NJyk7XG4gICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBjdXJyZW50TW9udGhJbmRleChuRGF0ZSk7XG4gICAgICAgICAgICAgICAgICBpZiAoY2FsZW5kYXIudG9wSW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsZW5kYXIudG9wSW5kZXggPSBpbmRleCAtIGNhbGVuZGFyLm1vbnRoc1swXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHZhciBnZW5lcmF0ZU1vbnRoQ2FsZW5kYXIgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciBtb250aCA9IHt9O1xuICAgICAgICAgICAgICAgIGlmIChkYXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBtb250aC5uYW1lID0gZGF0ZS5mb3JtYXQoJ01NTU0gWVlZWScpO1xuICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0T2ZNb250aCA9IG1vbWVudChkYXRlKS5sb2NhbGUocGlja2VyLnBhcmFtcy5sYW5nKS5zdGFydE9mKCdtb250aCcpXG4gICAgICAgICAgICAgICAgICAgICAgLmhvdXIoZGF0ZS5ob3VyKCkpXG4gICAgICAgICAgICAgICAgICAgICAgLm1pbnV0ZShkYXRlLm1pbnV0ZSgpKVxuICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICB2YXIgaU51bURheSA9IHN0YXJ0T2ZNb250aC5mb3JtYXQoJ2QnKTtcbiAgICAgICAgICAgICAgICAgIG1vbnRoLmRheXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydE9mTW9udGguZGF0ZSgpOyBpIDw9IHN0YXJ0T2ZNb250aC5kYXlzSW5Nb250aCgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHN0YXJ0T2ZNb250aC5kYXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgaVdlZWsgPSBjYWxlbmRhci53ZWVrLmluZGV4T2YoaU51bURheS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaVdlZWsgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGlXZWVrOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGguZGF5cy5wdXNoKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtb250aC5kYXlzLnB1c2gobW9tZW50KHN0YXJ0T2ZNb250aCkubG9jYWxlKHBpY2tlci5wYXJhbXMubGFuZykuZGF0ZShpKSk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHZhciBkYXlzSW5BV2VlayA9IDcsIGRheXNUbXAgPSBbXSwgc2xpY2VzID0gTWF0aC5jZWlsKG1vbnRoLmRheXMubGVuZ3RoIC8gZGF5c0luQVdlZWspO1xuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzbGljZXM7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBkYXlzVG1wLnB1c2gobW9udGguZGF5cy5zbGljZShqICogZGF5c0luQVdlZWssIChqICsgMSkgKiBkYXlzSW5BV2VlaykpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgbW9udGguZGF5cyA9IGRheXNUbXA7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbW9udGg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgY2FsZW5kYXIudG9EYXkgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb21lbnQocGFyc2VJbnQoaSksIFwiZFwiKVxuICAgICAgICAgICAgICAgICAgLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpXG4gICAgICAgICAgICAgICAgICAuZm9ybWF0KFwiZGRcIilcbiAgICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoMCwgMSk7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgY2FsZW5kYXIuaXNJblJhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGlja2VyLmlzQWZ0ZXJNaW5EYXRlKG1vbWVudChkYXRlKSwgZmFsc2UsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgJiYgcGlja2VyLmlzQmVmb3JlTWF4RGF0ZShtb21lbnQoZGF0ZSksIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgY2FsZW5kYXIuc2VsZWN0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChjYWxlbmRhci5pc1NlbGVjdGVkRGF5KGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwaWNrZXIub2soKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHBpY2tlci5zZWxlY3REYXRlKG1vbWVudChkYXRlKS5ob3VyKGNhbGVuZGFyLmRhdGUuaG91cigpKS5taW51dGUoY2FsZW5kYXIuZGF0ZS5taW51dGUoKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBjYWxlbmRhci5pc1NlbGVjdGVkRGF5ID0gZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbSAmJiBjYWxlbmRhci5kYXRlLmRhdGUoKSA9PT0gbS5kYXRlKCkgJiYgY2FsZW5kYXIuZGF0ZS5tb250aCgpID09PSBtLm1vbnRoKCkgJiYgY2FsZW5kYXIuZGF0ZS55ZWFyKCkgPT09IG0ueWVhcigpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICB0ZW1wbGF0ZTogJzxtZC12aXJ0dWFsLXJlcGVhdC1jb250YWluZXIgbWQtdG9wLWluZGV4PVwiY2FsLnRvcEluZGV4XCIgY2xhc3M9XCJtb250aHNcIj4nICtcbiAgICAgICAgICAnPGRpdiBtZC12aXJ0dWFsLXJlcGVhdD1cImlkeCBpbiBjYWwubW9udGhzXCIgbWQtc3RhcnQtaW5kZXg9XCJjYWwudG9wSW5kZXhcIiBtZC1pdGVtLXNpemU9XCInICsgSVRFTV9IRUlHSFQgKyAnXCI+JyArXG4gICAgICAgICAgJyAgICAgPGRpdiBtZGMtZGF0ZXRpbWUtcGlja2VyLWNhbGVuZGFyLW1vbnRoIGlkeD1cImlkeFwiPjwvZGl2PicgK1xuICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAnPC9tZC12aXJ0dWFsLXJlcGVhdC1jb250YWluZXI+J1xuICAgICAgICB9O1xuICAgICAgfV0pXG4gICAgLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDYWxlbmRhck1vbnRoJywgWyckY29tcGlsZScsXG4gICAgICBmdW5jdGlvbiAoJGNvbXBpbGUpIHtcbiAgICAgICAgdmFyIGJ1aWxkQ2FsZW5kYXJDb250ZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIHNjb3BlKSB7XG4gICAgICAgICAgdmFyIHRib2R5ID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcigndGJvZHknKSk7XG4gICAgICAgICAgdmFyIGNhbGVuZGFyID0gc2NvcGUuY2FsLCBtb250aCA9IHNjb3BlLm1vbnRoO1xuICAgICAgICAgIHRib2R5Lmh0bWwoJycpO1xuICAgICAgICAgIG1vbnRoLmRheXMuZm9yRWFjaChmdW5jdGlvbiAod2Vla0RheXMsIGkpIHtcbiAgICAgICAgICAgIHZhciB0ciA9IGFuZ3VsYXIuZWxlbWVudCgnPHRyPjwvdHI+Jyk7XG4gICAgICAgICAgICB3ZWVrRGF5cy5mb3JFYWNoKGZ1bmN0aW9uICh3ZWVrRGF5LCBqKSB7XG4gICAgICAgICAgICAgIHZhciB0ZCA9IGFuZ3VsYXIuZWxlbWVudCgnPHRkPiA8L3RkPicpO1xuICAgICAgICAgICAgICBpZiAod2Vla0RheSkge1xuICAgICAgICAgICAgICAgIHZhciBhT3JTcGFuO1xuICAgICAgICAgICAgICAgIGlmIChjYWxlbmRhci5pc0luUmFuZ2Uod2Vla0RheSkpIHtcbiAgICAgICAgICAgICAgICAgIC8vYnVpbGQgYVxuICAgICAgICAgICAgICAgICAgdmFyIHNjb3BlUmVmID0gJ21vbnRoW1wiZGF5c1wiXVsnICsgaSArICddWycgKyBqICsgJ10nO1xuICAgICAgICAgICAgICAgICAgYU9yU3BhbiA9IGFuZ3VsYXIuZWxlbWVudChcIjxhIGhyZWY9JyMnIG1kYy1kdHAtbm9jbGljaz48L2E+XCIpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCduZy1jbGFzcycsICd7c2VsZWN0ZWQ6IGNhbC5pc1NlbGVjdGVkRGF5KCcgKyBzY29wZVJlZiArICcpfScpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCduZy1jbGljaycsICdjYWwuc2VsZWN0RGF0ZSgnICsgc2NvcGVSZWYgKyAnKScpXG4gICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGFPclNwYW4gPSBhbmd1bGFyLmVsZW1lbnQoJzxzcGFuPjwvc3Bhbj4nKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhT3JTcGFuXG4gICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2R0cC1zZWxlY3QtZGF5JylcbiAgICAgICAgICAgICAgICAgIC5odG1sKHdlZWtEYXkuZm9ybWF0KCdEJykpO1xuICAgICAgICAgICAgICAgIHRkLmFwcGVuZChhT3JTcGFuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0ci5hcHBlbmQodGQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0Ym9keS5hcHBlbmQodHIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICRjb21waWxlKHRib2R5KShzY29wZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgaWR4OiAnPSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlcXVpcmU6ICdebWRjRGF0ZXRpbWVQaWNrZXJDYWxlbmRhcicsXG4gICAgICAgICAgcmVzdHJpY3Q6ICdBRScsXG4gICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwiZHRwLXBpY2tlci1tb250aFwiPnt7bW9udGgubmFtZX19PC9kaXY+J1xuICAgICAgICAgICsgJzx0YWJsZSBjbGFzcz1cInRhYmxlIGR0cC1waWNrZXItZGF5c1wiPidcbiAgICAgICAgICArICcgICAgPHRoZWFkPidcbiAgICAgICAgICArICcgICAgPHRyPidcbiAgICAgICAgICArICcgICAgICAgIDx0aCBuZy1yZXBlYXQ9XCJkYXkgaW4gY2FsLndlZWtcIj57e2NhbC50b0RheShkYXkpfX08L3RoPidcbiAgICAgICAgICArICcgICAgPC90cj4nXG4gICAgICAgICAgKyAnICAgIDwvdGhlYWQ+J1xuICAgICAgICAgICsgJyAgICA8dGJvZHk+J1xuICAgICAgICAgICsgJyAgICA8L3Rib2R5PidcbiAgICAgICAgICArICc8L3RhYmxlPicsXG4gICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY2FsZW5kYXIpIHtcbiAgICAgICAgICAgIHNjb3BlLmNhbCA9IGNhbGVuZGFyO1xuICAgICAgICAgICAgc2NvcGUubW9udGggPSBjYWxlbmRhci5nZXRJdGVtQXRJbmRleChwYXJzZUludChzY29wZS5pZHgpKTtcbiAgICAgICAgICAgIGJ1aWxkQ2FsZW5kYXJDb250ZW50KGVsZW1lbnQsIHNjb3BlKTtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzY29wZS5pZHg7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoaWR4LCBvbGRJZHgpIHtcbiAgICAgICAgICAgICAgaWYgKGlkeCAhPSBvbGRJZHgpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5tb250aCA9IGNhbGVuZGFyLmdldEl0ZW1BdEluZGV4KHBhcnNlSW50KHNjb3BlLmlkeCkpO1xuICAgICAgICAgICAgICAgIGJ1aWxkQ2FsZW5kYXJDb250ZW50KGVsZW1lbnQsIHNjb3BlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIF0pXG4gIDtcblxuICBhbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lKVxuICAgIC5kaXJlY3RpdmUoJ21kY0R0cE5vY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsKSB7XG4gICAgICAgICAgZWwub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSlcbiAgICAuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlckNsb2NrJywgW1xuICAgICAgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPVwiZHRwLXBpY2tlci1jbG9ja1wiPjxzcGFuIG5nLWlmPVwiIXBvaW50cyB8fCBwb2ludHMubGVuZ3RoIDwgMVwiPiZuYnNwOzwvc3Bhbj4nXG4gICAgICAgICAgKyAnPGRpdiBuZy1yZXBlYXQ9XCJwb2ludCBpbiBwb2ludHNcIiBjbGFzcz1cImR0cC1waWNrZXItdGltZVwiIHN0eWxlPVwibWFyZ2luLWxlZnQ6IHt7cG9pbnQubGVmdH19cHg7IG1hcmdpbi10b3A6IHt7cG9pbnQudG9wfX1weDtcIj4nXG4gICAgICAgICAgKyAnICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgbmctY2xhc3M9XCJ7c2VsZWN0ZWQ6IHBvaW50LnZhbHVlPT09Y3VycmVudFZhbHVlfVwiIGNsYXNzPVwiZHRwLXNlbGVjdC1ob3VyXCIgbmctY2xpY2s9XCJzZXRUaW1lKHBvaW50LnZhbHVlKVwiIG5nLWlmPVwicG9pbnRBdmFpbGFibGUocG9pbnQpXCI+e3twb2ludC5kaXNwbGF5fX08L2E+J1xuICAgICAgICAgICsgJyAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIGNsYXNzPVwiZGlzYWJsZWQgZHRwLXNlbGVjdC1ob3VyXCIgbmctaWY9XCIhcG9pbnRBdmFpbGFibGUocG9pbnQpXCI+e3twb2ludC5kaXNwbGF5fX08L2E+J1xuICAgICAgICAgICsgJzwvZGl2PidcbiAgICAgICAgICArICc8ZGl2IGNsYXNzPVwiZHRwLWhhbmQgZHRwLWhvdXItaGFuZFwiPjwvZGl2PidcbiAgICAgICAgICArICc8ZGl2IGNsYXNzPVwiZHRwLWhhbmQgZHRwLW1pbnV0ZS1oYW5kXCI+PC9kaXY+J1xuICAgICAgICAgICsgJzxkaXYgY2xhc3M9XCJkdHAtY2xvY2stY2VudGVyXCI+PC9kaXY+J1xuICAgICAgICAgICsgJzwvZGl2Pic7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICB2YXIgbWludXRlTW9kZSA9IGF0dHJzLm1vZGUgPT09ICdtaW51dGVzJztcbiAgICAgICAgICAgIHZhciBwaWNrZXIgPSBzY29wZS5waWNrZXI7XG4gICAgICAgICAgICAvL2Jhbmtpbmcgb24gdGhlIGZhY3QgdGhhdCB0aGVyZSB3aWxsIG9ubHkgYmUgb25lIGF0IGEgdGltZVxuICAgICAgICAgICAgdmFyIGNvbXBvbmVudFJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZC1kaWFsb2cuZHRwJyk7XG4gICAgICAgICAgICB2YXIgZXhlYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIGNsb2NrID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1waWNrZXItY2xvY2snKSksXG4gICAgICAgICAgICAgICAgcGlja2VyRWwgPSBhbmd1bGFyLmVsZW1lbnQoY29tcG9uZW50Um9vdC5xdWVyeVNlbGVjdG9yKCcuZHRwLXBpY2tlcicpKTtcblxuICAgICAgICAgICAgICB2YXIgdyA9IGNvbXBvbmVudFJvb3QucXVlcnlTZWxlY3RvcignLmR0cC1jb250ZW50Jykub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICAgIHZhciBwbCA9IHBhcnNlSW50KGNzcyhwaWNrZXJFbCwgJ3BhZGRpbmdMZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG4gICAgICAgICAgICAgIHZhciBwciA9IHBhcnNlSW50KGNzcyhwaWNrZXJFbCwgJ3BhZGRpbmdSaWdodCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgbWwgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5MZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG4gICAgICAgICAgICAgIHZhciBtciA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpblJpZ2h0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG4gICAgICAgICAgICAgIC8vc2V0IHdpZHRoXG4gICAgICAgICAgICAgIHZhciBjbG9ja1dpZHRoID0gKHcgLSAobWwgKyBtciArIHBsICsgcHIpKTtcbiAgICAgICAgICAgICAgY2xvY2suY3NzKCd3aWR0aCcsIChjbG9ja1dpZHRoKSArICdweCcpO1xuXG4gICAgICAgICAgICAgIHZhciBwTCA9IHBhcnNlSW50KGNzcyhwaWNrZXJFbCwgJ3BhZGRpbmdMZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG4gICAgICAgICAgICAgIHZhciBwVCA9IHBhcnNlSW50KGNzcyhwaWNrZXJFbCwgJ3BhZGRpbmdUb3AnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICAgICAgICAgICAgdmFyIG1MID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgbVQgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5Ub3AnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblxuICAgICAgICAgICAgICB2YXIgciA9IChjbG9ja1dpZHRoIC8gMik7XG4gICAgICAgICAgICAgIHZhciBqID0gciAvIDEuMjsgLy8/Pz9cblxuICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gW107XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCAxMjsgKytoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHggPSBqICogTWF0aC5zaW4oTWF0aC5QSSAqIDIgKiAoaCAvIDEyKSk7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBqICogTWF0aC5jb3MoTWF0aC5QSSAqIDIgKiAoaCAvIDEyKSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaG91ciA9IHtcbiAgICAgICAgICAgICAgICAgIGxlZnQ6IChyICsgeCArIHBMIC8gMikgLSAocEwgKyBtTCksXG4gICAgICAgICAgICAgICAgICB0b3A6IChyIC0geSAtIG1UIC8gMikgLSAocFQgKyBtVCksXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogKG1pbnV0ZU1vZGUgPyAoaCAqIDUpIDogaCkgLy81IGZvciBtaW51dGUgNjAvMTJcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKG1pbnV0ZU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgIGhvdXIuZGlzcGxheSA9IGhvdXIudmFsdWUgPCAxMCA/ICgnMCcgKyBob3VyLnZhbHVlKSA6IGhvdXIudmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgaWYgKHBpY2tlci5wYXJhbXMuc2hvcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvdXIuZGlzcGxheSA9IChoID09PSAwKSA/IDEyIDogaDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhvdXIuZGlzcGxheSA9IHBpY2tlci5pc1BNKCkgPyBoICsgMTIgOiBoO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goaG91cik7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzY29wZS5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgICAgICAgIHNldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICBjbG9jay5jc3MoJ2hlaWdodCcsIGNsb2NrV2lkdGggKyAncHgnKTtcbiAgICAgICAgICAgICAgLy9waWNrZXIuaW5pdEhhbmRzKHRydWUpO1xuXG4gICAgICAgICAgICAgIHZhciBjbG9ja0NlbnRlciA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1jbG9jay1jZW50ZXInKTtcbiAgICAgICAgICAgICAgdmFyIGNlbnRlcldpZHRoID0gKGNsb2NrQ2VudGVyLm9mZnNldFdpZHRoIC8gMikgfHwgNy41LFxuICAgICAgICAgICAgICAgIGNlbnRlckhlaWdodCA9IChjbG9ja0NlbnRlci5vZmZzZXRIZWlnaHQgLyAyKSB8fCA3LjU7XG4gICAgICAgICAgICAgIHZhciBfaEwgPSByIC8gMS44O1xuICAgICAgICAgICAgICB2YXIgX21MID0gciAvIDEuNTtcblxuICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLWhvdXItaGFuZCcpKS5jc3Moe1xuICAgICAgICAgICAgICAgIGxlZnQ6IHIgKyAobUwgKiAxLjUpICsgJ3B4JyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IF9oTCArICdweCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAociAtIF9oTCAtIHBMKSArICdweCdcbiAgICAgICAgICAgICAgfSkuYWRkQ2xhc3MoIW1pbnV0ZU1vZGUgPyAnb24nIDogJycpO1xuXG4gICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtbWludXRlLWhhbmQnKSkuY3NzXG4gICAgICAgICAgICAgICh7XG4gICAgICAgICAgICAgICAgbGVmdDogciArIChtTCAqIDEuNSkgKyAncHgnLFxuICAgICAgICAgICAgICAgIGhlaWdodDogX21MICsgJ3B4JyxcbiAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IChyIC0gX21MIC0gcEwpICsgJ3B4J1xuICAgICAgICAgICAgICB9KS5hZGRDbGFzcyhtaW51dGVNb2RlID8gJ29uJyA6ICcnKTtcblxuICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoY2xvY2tDZW50ZXIpLmNzcyh7XG4gICAgICAgICAgICAgICAgbGVmdDogKHIgKyBwTCArIG1MIC0gY2VudGVyV2lkdGgpICsgJ3B4JyxcbiAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6IChyIC0gKG1MIC8gMikpIC0gY2VudGVySGVpZ2h0ICsgJ3B4J1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYW5pbWF0ZUhhbmRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgYW5pbWF0ZUhhbmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgX2RhdGUgPSBwaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCk7XG4gICAgICAgICAgICAgIHZhciBoID0gX2RhdGUuaG91cigpO1xuICAgICAgICAgICAgICB2YXIgbSA9IF9kYXRlLm1pbnV0ZSgpO1xuXG4gICAgICAgICAgICAgIHJvdGF0ZUVsZW1lbnQoYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1ob3VyLWhhbmQnKSksICgzNjAgLyAxMikgKiBoKTtcbiAgICAgICAgICAgICAgdmFyIG1kZyA9ICgoMzYwIC8gNjApICogKDUgKiBNYXRoLnJvdW5kKG0gLyA1KSkpO1xuICAgICAgICAgICAgICByb3RhdGVFbGVtZW50KGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtbWludXRlLWhhbmQnKSksIG1kZyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgcm90YXRlRWxlbWVudCA9IGZ1bmN0aW9uIChlbCwgZGVnKSB7XG4gICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChlbCkuY3NzKHtcbiAgICAgICAgICAgICAgICBXZWJraXRUcmFuc2Zvcm06ICdyb3RhdGUoJyArIGRlZyArICdkZWcpJyxcbiAgICAgICAgICAgICAgICAnLW1vei10cmFuc2Zvcm0nOiAncm90YXRlKCcgKyBkZWcgKyAnZGVnKSdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgICAgIHZhciBzZXRDdXJyZW50VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBkYXRlID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuICAgICAgICAgICAgICBzY29wZS5jdXJyZW50VmFsdWUgPSBtaW51dGVNb2RlID8gZGF0ZS5taW51dGUoKSA6IChkYXRlLmhvdXIoKSAlIDEyKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciB0bXAgPSBwaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCk7XG4gICAgICAgICAgICAgIHJldHVybiB0bXAgPyB0bXAuZm9ybWF0KCdISDptbScpIDogJyc7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAobmV3VmFsKSB7XG4gICAgICAgICAgICAgIHNldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICBhbmltYXRlSGFuZHMoKTtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgIHZhciBzZXREaXNwbGF5UG9pbnRzID0gZnVuY3Rpb24gKGlzUE0sIHBvaW50cykge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHBvaW50c1tpXS5kaXNwbGF5ID0gaTtcbiAgICAgICAgICAgICAgICBpZiAoaXNQTSkge1xuICAgICAgICAgICAgICAgICAgcG9pbnRzW2ldLmRpc3BsYXkgKz0gMTI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoIXBpY2tlci5wYXJhbXMuc2hvcnRUaW1lKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiR3YXRjaCgncGlja2VyLm1lcmlkaWVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghbWludXRlTW9kZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLnBvaW50cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gc2V0RGlzcGxheVBvaW50cyhwaWNrZXIuaXNQTSgpLCBhbmd1bGFyLmNvcHkoc2NvcGUucG9pbnRzKSk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnBvaW50cyA9IHBvaW50cztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHNjb3BlLnNldFRpbWUgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgIGlmICh2YWwgPT09IHNjb3BlLmN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBpY2tlci5vaygpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCFtaW51dGVNb2RlKSB7XG4gICAgICAgICAgICAgICAgcGlja2VyLmN1cnJlbnREYXRlLmhvdXIocGlja2VyLmlzUE0oKSA/ICh2YWwgKyAxMikgOiB2YWwpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBpY2tlci5jdXJyZW50RGF0ZS5taW51dGUodmFsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwaWNrZXIuY3VycmVudERhdGUuc2Vjb25kKDApXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzY29wZS5wb2ludEF2YWlsYWJsZSA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICAgICAgICByZXR1cm4gbWludXRlTW9kZSA/IHBpY2tlci5pc01pbnV0ZUF2YWlsYWJsZShwb2ludC52YWx1ZSkgOiBwaWNrZXIuaXNIb3VyQXZhaWxhYmxlKHBvaW50LnZhbHVlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciB1bndhdGNoZXIgPSBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYnKS5sZW5ndGg7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGV4ZWMoKTtcbiAgICAgICAgICAgICAgdW53YXRjaGVyKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1dKTtcblxufSkobW9tZW50KTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvanMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9hcHAvY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2Nzcy9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcbiAqKiBtb2R1bGUgaWQgPSA1OTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwibWQtZGlhbG9nLmR0cHtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoxLjQyODU3MTQzO2NvbG9yOiMzMzM7YmFja2dyb3VuZC1jb2xvcjojZmZmO21heC1oZWlnaHQ6bm9uZX0uZHRwIDpmb2N1c3tvdXRsaW5lOm5vbmUhaW1wb3J0YW50fS5kdHAgdGFibGV7Ym9yZGVyLXNwYWNpbmc6MDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7d2lkdGg6MTAwJX0uZHRwIC50YWJsZT50Ym9keT50cj50ZCwuZHRwIC50YWJsZT50Ym9keT50cj50aCwuZHRwIC50YWJsZT50Zm9vdD50cj50ZCwuZHRwIC50YWJsZT50Zm9vdD50cj50aCwuZHRwIC50YWJsZT50aGVhZD50cj50ZCwuZHRwIC50YWJsZT50aGVhZD50cj50aHtwYWRkaW5nOjhweDtsaW5lLWhlaWdodDoxLjQyODU3MTQzO3ZlcnRpY2FsLWFsaWduOnRvcDtib3JkZXItdG9wOjFweCBzb2xpZCAjZGRkfS5kdHAsLmR0cCAqe2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnR9LmR0cD4uZHRwLWNvbnRlbnR7bWF4LXdpZHRoOjMwMHB4O21heC1oZWlnaHQ6NTAwcHh9LmR0cD4uZHRwLWNvbnRlbnQ+LmR0cC1kYXRlLXZpZXc+aGVhZGVyLmR0cC1oZWFkZXJ7YmFja2dyb3VuZDojNjg5ZjM4O2NvbG9yOiNmZmY7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzozcHh9LmR0cCBkaXYuZHRwLWRhdGUsLmR0cCBkaXYuZHRwLXRpbWV7YmFja2dyb3VuZDojOGJjMzRhO3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOiNmZmY7cGFkZGluZzoxMHB4fS5kdHAgZGl2LmR0cC1kYXRlPmRpdntwYWRkaW5nOjA7bWFyZ2luOjB9LmR0cCBkaXYuZHRwLWFjdHVhbC1tb250aHtmb250LXNpemU6MS41ZW19LmR0cCBkaXYuZHRwLWFjdHVhbC1tYXh0aW1lLC5kdHAgZGl2LmR0cC1hY3R1YWwtbnVte2ZvbnQtc2l6ZTozZW07bGluZS1oZWlnaHQ6Ljl9LmR0cCBkaXYuZHRwLWFjdHVhbC15ZWFye2ZvbnQtc2l6ZToxLjZlbTtjb2xvcjojZGNlZGM4fS5kdHAgZGl2LmR0cC15ZWFyLWJ0bntmb250LXNpemU6MS40ZW07bGluZS1oZWlnaHQ6MzBweDtjdXJzb3I6cG9pbnRlcjtjb2xvcjojZGNlZGM4fS5kdHAgZGl2LmR0cC15ZWFyLWJ0bi1wcmV2e3RleHQtYWxpZ246cmlnaHR9LmR0cCBkaXYuZHRwLXllYXItYnRuLW5leHR7dGV4dC1hbGlnbjpsZWZ0fS5kdHAgZGl2LmR0cC1waWNrZXJ7cGFkZGluZzoxMHB4O3RleHQtYWxpZ246Y2VudGVyfS5kdHAgZGl2LmR0cC1hY3R1YWwtdGltZSwuZHRwIGRpdi5kdHAtcGlja2VyLW1vbnRoe2ZvbnQtd2VpZ2h0OjUwMDt0ZXh0LWFsaWduOmNlbnRlcn0uZHRwIC5kdHAtY2xvc2V7cG9zaXRpb246YWJzb2x1dGU7dG9wOi4yNWVtO3JpZ2h0OjVweDtmb250LXNpemU6MTZweH0uZHRwIC5kdHAtY2xvc2U+YXtjb2xvcjojZmZmO3RleHQtZGVjb3JhdGlvbjpub25lfS5kdHAgLmR0cC1jbG9zZT5hPml7Zm9udC1zaXplOjFlbX0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5c3ttYXJnaW46MDttaW4taGVpZ2h0OjIyMHB4fS5kdHAgbWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyLm1vbnRoc3toZWlnaHQ6MjYwcHh9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMsLmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHIsLmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGR7Ym9yZGVyOm5vbmV9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGR7Zm9udC1zaXplOjExcHg7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzowfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPnNwYW4uZHRwLXNlbGVjdC1kYXl7Y29sb3I6I2JkYmRiZCFpbXBvcnRhbnR9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+LmR0cC1zZWxlY3QtZGF5e3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHg7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAuZHRwLXBpY2tlci10aW1lPmEsLmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+LmR0cC1zZWxlY3QtZGF5e2NvbG9yOiMyMTIxMjE7dGV4dC1kZWNvcmF0aW9uOm5vbmU7cGFkZGluZzoxMHB4O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5hLnNlbGVjdGVke2JhY2tncm91bmQ6IzhiYzM0YTtjb2xvcjojZmZmfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPmE6aG92ZXI6bm90KC5zZWxlY3RlZCl7YmFja2dyb3VuZDojZGRkfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRoe2NvbG9yOiM3NTc1NzU7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC13ZWlnaHQ6NzAwO3BhZGRpbmc6NHB4IDNweH0uZHRwIC5wMTA+YXtjb2xvcjojNjg5ZjM4O3RleHQtZGVjb3JhdGlvbjpub25lfS5kdHAgLnAxMHt3aWR0aDoxMCV9LmR0cCAucDEwLC5kdHAgLnAyMHtkaXNwbGF5OmlubGluZS1ibG9ja30uZHRwIC5wMjB7d2lkdGg6MjAlfS5kdHAgLnA2MHt3aWR0aDo2MCV9LmR0cCAucDYwLC5kdHAgLnA4MHtkaXNwbGF5OmlubGluZS1ibG9ja30uZHRwIC5wODB7d2lkdGg6ODAlfS5kdHAgYS5kdHAtbWVyaWRpZW4tYW0sLmR0cCBhLmR0cC1tZXJpZGllbi1wbXtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6MTBweDtjb2xvcjojMjEyMTIxO2ZvbnQtd2VpZ2h0OjUwMDtwYWRkaW5nOjdweCA1cHg7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O3RleHQtZGVjb3JhdGlvbjpub25lO2JhY2tncm91bmQ6I2VlZTtmb250LXNpemU6MTBweH0uZHRwIC5kdHAtYWN0dWFsLW1lcmlkaWVuIGEuc2VsZWN0ZWR7YmFja2dyb3VuZDojNjg5ZjM4O2NvbG9yOiNmZmZ9LmR0cCAuZHRwLXBpY2tlci10aW1lPmF7ZGlzcGxheTpibG9jaztsaW5lLWhlaWdodDoyM3B4O3BhZGRpbmc6M3B4fS5kdHAgLmR0cC1waWNrZXItdGltZXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDozMHB4O2hlaWdodDozMHB4O2ZvbnQtc2l6ZToxLjFlbTtib3JkZXItcmFkaXVzOjUwJTtjdXJzb3I6cG9pbnRlcjt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnR9LmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1ob3VyLnNlbGVjdGVke2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmfS5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtaG91ci5kaXNhYmxlZCwuZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LW1pbnV0ZS5kaXNhYmxlZHtjb2xvcjojNzU3NTc1fS5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtbWludXRlLnNlbGVjdGVke2JhY2tncm91bmQ6IzhiYzM0YTtjb2xvcjojZmZmfS5kdHAgZGl2LmR0cC1waWNrZXItY2xvY2t7bWFyZ2luOjEwcHggMjBweCAwO3BhZGRpbmc6MTBweDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnQ7YmFja2dyb3VuZDojZWVlfS5kdHAtY2xvY2stY2VudGVye3dpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7YmFja2dyb3VuZDojNzU3NTc1O2JvcmRlci1yYWRpdXM6NTAlO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6NTB9LmR0cCAuZHRwLWhhbmQsLmR0cCAuZHRwLWhvdXItaGFuZHtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo0cHg7bWFyZ2luLWxlZnQ6LTJweDtiYWNrZ3JvdW5kOiNiZGJkYmQ7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMGRlZyk7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmJvdHRvbTt0cmFuc2Zvcm0tb3JpZ2luOmJvdHRvbTt6LWluZGV4OjF9LmR0cCAuZHRwLW1pbnV0ZS1oYW5ke3dpZHRoOjJweDttYXJnaW4tbGVmdDotMXB4fS5kdHAgLmR0cC1oYW5kLm9ue2JhY2tncm91bmQ6IzhiYzM0YX0uZHRwIC5kdHAtYnV0dG9uc3twYWRkaW5nOjAgMTBweCAxMHB4O3RleHQtYWxpZ246cmlnaHR9LmR0cC5oaWRkZW4sLmR0cCAuaGlkZGVue2Rpc3BsYXk6bm9uZX0uZHRwIC5pbnZpc2libGV7dmlzaWJpbGl0eTpoaWRkZW59LmR0cCAubGVmdHtmbG9hdDpsZWZ0fS5kdHAgLnJpZ2h0e2Zsb2F0OnJpZ2h0fS5kdHAgLmNsZWFyZml4e2NsZWFyOmJvdGh9LmR0cCAuY2VudGVye3RleHQtYWxpZ246Y2VudGVyfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci9jc3MvbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzXG4gKiogbW9kdWxlIGlkID0gNTk4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8qXG4gKiBhbmd1bGFyLWdvb2dsZS1wbHVzLWRpcmVjdGl2ZSB2MC4wLjFcbiAqIOKZoSBDb3B5SGVhcnQgMjAxMyBieSBKZXJhZCBCaXRuZXIgaHR0cDovL2plcmFkYml0bmVyLmNvbVxuICogQ29weWluZyBpcyBhbiBhY3Qgb2YgbG92ZS4gUGxlYXNlIGNvcHkuXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ2RpcmVjdGl2ZS5nK3NpZ25pbicsIFtdKS5cbiAgZGlyZWN0aXZlKCdnb29nbGVQbHVzU2lnbmluJywgWyckd2luZG93JywgZnVuY3Rpb24gKCR3aW5kb3cpIHtcbiAgICB2YXIgZW5kaW5nID0gL1xcLmFwcHNcXC5nb29nbGV1c2VyY29udGVudFxcLmNvbSQvO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgdGVtcGxhdGU6ICc8c3Bhbj48L3NwYW4+JyxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCBsaW5rZXIpIHtcbiAgICAgICAgYXR0cnMuY2xpZW50aWQgKz0gKGVuZGluZy50ZXN0KGF0dHJzLmNsaWVudGlkKSA/ICcnIDogJy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbScpO1xuXG4gICAgICAgIGF0dHJzLiRzZXQoJ2RhdGEtY2xpZW50aWQnLCBhdHRycy5jbGllbnRpZCk7XG4gICAgICAgIGF0dHJzLiRzZXQoJ3RoZW1lJywgYXR0cnMudGhlbWUpO1xuXG4gICAgICAgIC8vIFNvbWUgZGVmYXVsdCB2YWx1ZXMsIGJhc2VkIG9uIHByaW9yIHZlcnNpb25zIG9mIHRoaXMgZGlyZWN0aXZlXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICBjYWxsYmFjazogJ3NpZ25pbkNhbGxiYWNrJyxcbiAgICAgICAgICBjb29raWVwb2xpY3k6ICdzaW5nbGVfaG9zdF9vcmlnaW4nLFxuICAgICAgICAgIHJlcXVlc3R2aXNpYmxlYWN0aW9uczogJ2h0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vQWRkQWN0aXZpdHknLFxuICAgICAgICAgIHNjb3BlOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9wbHVzLmxvZ2luIGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvdXNlcmluZm8uZW1haWwnLFxuICAgICAgICAgIGhlaWdodDogJ3N0YW5kYXJkJyxcbiAgICAgICAgICB3aWR0aDogJ3dpZGUnLFxuICAgICAgICAgIHN0YXRlOiAnJ1xuICAgICAgICB9O1xuXG4gICAgICAgIGRlZmF1bHRzLmNsaWVudGlkID0gYXR0cnMuY2xpZW50aWQ7XG4gICAgICAgIGRlZmF1bHRzLnRoZW1lID0gYXR0cnMudGhlbWU7XG5cbiAgICAgICAgLy8gT3ZlcndyaXRlIGRlZmF1bHQgdmFsdWVzIGlmIGV4cGxpY2l0bHkgc2V0XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyksIGZ1bmN0aW9uKHByb3BOYW1lKSB7XG4gICAgICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgZGVmYXVsdHNbcHJvcE5hbWVdID0gYXR0cnNbcHJvcE5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRGVmYXVsdCBsYW5ndWFnZVxuICAgICAgICAvLyBTdXBwb3J0ZWQgbGFuZ3VhZ2VzOiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS8rL3dlYi9hcGkvc3VwcG9ydGVkLWxhbmd1YWdlc1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnbGFuZ3VhZ2UnLCBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgJHdpbmRvdy5fX19nY2ZnID0ge1xuICAgICAgICAgICAgbGFuZzogdmFsdWUgPyB2YWx1ZSA6ICdlbidcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFzeW5jaHJvbm91c2x5IGxvYWQgdGhlIEcrIFNESy5cbiAgICAgICAgdmFyIHBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7IHBvLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsgcG8uYXN5bmMgPSB0cnVlO1xuICAgICAgICBwby5zcmMgPSAnaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvY2xpZW50OnBsdXNvbmUuanMnO1xuICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwbywgcyk7XG5cbiAgICAgICAgbGlua2VyKGZ1bmN0aW9uKGVsLCB0U2NvcGUpe1xuICAgICAgICAgIHBvLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZChlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnYXBpLnNpZ25pbi5yZW5kZXIoZWxlbWVudFswXSwgZGVmYXVsdHMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbn1dKS5cbiAgcnVuKFsnJHdpbmRvdycsJyRyb290U2NvcGUnLGZ1bmN0aW9uKCR3aW5kb3csICRyb290U2NvcGUpIHtcbiAgICAkd2luZG93LnNpZ25pbkNhbGxiYWNrID0gZnVuY3Rpb24gKGF1dGhSZXN1bHQpIHtcbiAgICAgIGlmIChhdXRoUmVzdWx0ICYmIGF1dGhSZXN1bHQuYWNjZXNzX3Rva2VuKXtcbiAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tc3VjY2VzcycsIGF1dGhSZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tZmFpbHVyZScsIGF1dGhSZXN1bHQpO1xuICAgICAgfVxuICAgIH07IFxufV0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1kaXJlY3RpdmUuZy1zaWduaW4vZ29vZ2xlLXBsdXMtc2lnbmluLmpzXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi92ZW5kb3Iuc2Nzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi92ZW5kb3Iuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL3ZlbmRvci5zY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2FwcC9zY3NzL3ZlbmRvci5zY3NzXG4gKiogbW9kdWxlIGlkID0gNjQzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Nhc3MtbG9hZGVyIS4vc3JjL2FwcC9zY3NzL3ZlbmRvci5zY3NzXG4gKiogbW9kdWxlIGlkID0gNjQ0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvYXBwL3Njc3MvaW5kZXguc2Nzc1xuICoqIG1vZHVsZSBpZCA9IDY0NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuZGlzdHJpYnV0b3Itc2VsZWN0aW9ue2ZvbnQtc2l6ZToxNnB0O3BhZGRpbmc6M3B4O21hcmdpbjozcHh9Ym9keXttYXJnaW4tdG9wOjEwMHB4O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9QG1lZGlhIChtaW4td2lkdGg6NzY4cHgpe2JvZHl7bWFyZ2luLXRvcDo1MHB4fX0jd3JhcHBlcntwYWRkaW5nLWxlZnQ6MH0jcGFnZS13cmFwcGVye3dpZHRoOjEwMCU7cGFkZGluZzowO2JhY2tncm91bmQtY29sb3I6I2ZmZn0uaHVnZXtmb250LXNpemU6NTBweDtsaW5lLWhlaWdodDpub3JtYWx9QG1lZGlhIChtaW4td2lkdGg6NzY4cHgpeyN3cmFwcGVye3BhZGRpbmctbGVmdDoyMjVweH0jcGFnZS13cmFwcGVye3BhZGRpbmc6MTBweH19Lm1hcmdpbi1ib3R0b20tMTV7bWFyZ2luLWJvdHRvbToxLjVlbX0ubWFyZ2luLXRvcC0wNXttYXJnaW4tdG9wOi41ZW19Lm1hcmdpbi10b3AtMTV7bWFyZ2luLXRvcDoxLjVlbX0ubWFyZ2luLXRvcC0yMHttYXJnaW4tdG9wOjJlbX0ubWFyZ2luLXRvcC0yNXttYXJnaW4tdG9wOjIuNWVtfS5tYXJnaW4tdG9wLTUwe21hcmdpbi10b3A6NWVtfS5pc3N1ZS13YXJuaW5nLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpvcmFuZ2V9Lmlzc3VlLXdhcm5pbmctdGV4dHtjb2xvcjpvcmFuZ2V9Lmlzc3VlLWRhbmdlci1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6cmVkfS5pc3N1ZS1kYW5nZXItdGV4dHtjb2xvcjpyZWR9Lmlzc3VlLW5vcm1hbC1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6Z3JlZW59Lmlzc3VlLW5vcm1hbC10ZXh0e2NvbG9yOmdyZWVufS51cC10cnVlLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpncmVlbn0udXAtZmFsc2UtYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOnJlZH0ubmF2YmFyLWRlZmF1bHR7YmFja2dyb3VuZC1jb2xvcjojMWI3NWJiO2JvcmRlci1jb2xvcjojMTU1OThlfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLWJyYW5ke2NvbG9yOiNmZmZ9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItYnJhbmQ6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItYnJhbmQ6aG92ZXJ7Y29sb3I6IzU1YTdlN30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+bGk+YSwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+bGk+YTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+bGk+YTpob3Zlcntjb2xvcjojZmZmfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uYWN0aXZlPmEsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5hY3RpdmU+YTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmFjdGl2ZT5hOmhvdmVye2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojYWZkNWYzfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hOmhvdmVye2NvbG9yOiM1NTU7YmFja2dyb3VuZC1jb2xvcjojZDVkNWQ1fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uZHJvcGRvd24+YSAuY2FyZXR7Ym9yZGVyLXRvcC1jb2xvcjojNzc3O2JvcmRlci1ib3R0b20tY29sb3I6Izc3N30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmRyb3Bkb3duPmE6Zm9jdXMgLmNhcmV0LC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uZHJvcGRvd24+YTpob3ZlciAuY2FyZXR7Ym9yZGVyLXRvcC1jb2xvcjojMzMzO2JvcmRlci1ib3R0b20tY29sb3I6IzMzM30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YSAuY2FyZXQsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6Zm9jdXMgLmNhcmV0LC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hOmhvdmVyIC5jYXJldHtib3JkZXItdG9wLWNvbG9yOiM1NTU7Ym9yZGVyLWJvdHRvbS1jb2xvcjojNTU1fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZXtib3JkZXItY29sb3I6I2RkZH0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGU6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xlOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2RkZH0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGUgLmljb24tYmFye2JhY2tncm91bmQtY29sb3I6I2NjY31AbWVkaWEgKG1heC13aWR0aDo3NjdweCl7Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2IC5vcGVuIC5kcm9wZG93bi1tZW51PmxpPmF7Y29sb3I6Izc3N30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXYgLm9wZW4gLmRyb3Bkb3duLW1lbnU+bGk+YTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXYgLm9wZW4gLmRyb3Bkb3duLW1lbnU+bGk+YTpob3Zlcntjb2xvcjojMzMzfX0udG9wLW5hdntwYWRkaW5nOjAgMTVweH0udG9wLW5hdj5saXtkaXNwbGF5OmlubGluZS1ibG9jaztmbG9hdDpsZWZ0fS50b3AtbmF2PmxpPmF7cGFkZGluZy10b3A6MTVweDtwYWRkaW5nLWJvdHRvbToxNXB4O2xpbmUtaGVpZ2h0OjIwcHg7Y29sb3I6I2VmZWZlZn0udG9wLW5hdj4ub3Blbj5hLC50b3AtbmF2Pi5vcGVuPmE6Zm9jdXMsLnRvcC1uYXY+Lm9wZW4+YTpob3ZlciwudG9wLW5hdj5saT5hOmZvY3VzLC50b3AtbmF2PmxpPmE6aG92ZXJ7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmJ9LnRvcC1uYXY+Lm9wZW4+LmRyb3Bkb3duLW1lbnV7ZmxvYXQ6bGVmdDtwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tdG9wOjA7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDAsMCwwLC4xNSk7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjA7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JveC1zaGFkb3c6MCA2cHggMTJweCByZ2JhKDAsMCwwLC4xNzUpfS50b3AtbmF2Pi5vcGVuPi5kcm9wZG93bi1tZW51PmxpPmF7d2hpdGUtc3BhY2U6bm9ybWFsfXVsLm1lc3NhZ2UtZHJvcGRvd257cGFkZGluZzowO21heC1oZWlnaHQ6MjUwcHg7b3ZlcmZsb3cteDpoaWRkZW47b3ZlcmZsb3cteTphdXRvfWxpLm1lc3NhZ2UtcHJldmlld3t3aWR0aDoyNzVweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCByZ2JhKDAsMCwwLC4xNSl9bGkubWVzc2FnZS1wcmV2aWV3PmF7cGFkZGluZy10b3A6MTVweDtwYWRkaW5nLWJvdHRvbToxNXB4fWxpLm1lc3NhZ2UtZm9vdGVye21hcmdpbjo1cHggMH11bC5hbGVydC1kcm9wZG93bnt3aWR0aDoyMDBweH1AbWVkaWEgKG1pbi13aWR0aDo3NjhweCl7LnNpZGUtbmF2e3Bvc2l0aW9uOmZpeGVkO3RvcDo1MXB4O2xlZnQ6MjI1cHg7bWFyZ2luLWxlZnQ6LTIyNXB4O2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6MDtvdmVyZmxvdy15OmF1dG87YmFja2dyb3VuZC1jb2xvcjojMWI3NWJiO2JvdHRvbTowO292ZXJmbG93LXg6aGlkZGVuO3BhZGRpbmctYm90dG9tOjQwcHh9LnNpZGUtbmF2LC5zaWRlLW5hdj5saT5he3dpZHRoOjIyNXB4fS5zaWRlLW5hdiBsaSBhOmZvY3VzLC5zaWRlLW5hdiBsaSBhOmhvdmVye291dGxpbmU6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiMzZjljZTMhaW1wb3J0YW50fX0uc2lkZS1uYXY+bGk+dWx7cGFkZGluZzowfS5zaWRlLW5hdj5saT51bD5saT5he2Rpc3BsYXk6YmxvY2s7cGFkZGluZzoxMHB4IDE1cHggMTBweCAzOHB4O3RleHQtZGVjb3JhdGlvbjpub25lO2NvbG9yOiNkNGQ0ZDR9LnNpZGUtbmF2PmxpPnVsPmxpPmE6aG92ZXJ7Y29sb3I6I2ZmZn0uZmxvdC1jaGFydHtkaXNwbGF5OmJsb2NrO2hlaWdodDo0MDBweH0uZmxvdC1jaGFydC1jb250ZW50e3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9Lmh1Z2V7Zm9udC1zaXplOjQwcHh9LnBhbmVsLWdyZWVue2JvcmRlci1jb2xvcjojNWNiODVjfS5wYW5lbC1ncmVlbj4ucGFuZWwtaGVhZGluZ3tib3JkZXItY29sb3I6IzVjYjg1Yztjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzVjYjg1Y30ucGFuZWwtZ3JlZW4+YXtjb2xvcjojNWNiODVjfS5wYW5lbC1ncmVlbj5hOmhvdmVye2NvbG9yOiMzZDhiM2R9LnBhbmVsLXJlZHtib3JkZXItY29sb3I6I2Q5NTM0Zn0ucGFuZWwtcmVkPi5wYW5lbC1oZWFkaW5ne2JvcmRlci1jb2xvcjojZDk1MzRmO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojZDk1MzRmfS5wYW5lbC1yZWQ+YXtjb2xvcjojZDk1MzRmfS5wYW5lbC1yZWQ+YTpob3Zlcntjb2xvcjojYjUyYjI3fS5wYW5lbC15ZWxsb3d7Ym9yZGVyLWNvbG9yOiNmMGFkNGV9LnBhbmVsLXllbGxvdz4ucGFuZWwtaGVhZGluZ3tib3JkZXItY29sb3I6I2YwYWQ0ZTtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2YwYWQ0ZX0ucGFuZWwteWVsbG93PmF7Y29sb3I6I2YwYWQ0ZX0ucGFuZWwteWVsbG93PmE6aG92ZXJ7Y29sb3I6I2RmOGExM30udG9vbGJhcnttYXJnaW4tYm90dG9tOjEwcHh9LmVudGl0eS1rZXl7Zm9udC1mYW1pbHk6TW9uYWNvLENvbnNvbGFzLEx1Y2lkYSBDb25zb2xlLGRlamF2dSBzYW5zIG1vbm8sbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMXB4fS5wcm9vZi1vZi1wbGF5LWxhYmVse3BhZGRpbmctYm90dG9tOjEwcHg7cGFkZGluZy10b3A6MTBweH0uY29weS1yZWFkeS10cmFuc3BhcmVudHtjb2xvcjp0cmFuc3BhcmVudH0ubm8tZGV2aWNlc3t0ZXh0LWFsaWduOmNlbnRlcn0ucHJvcGVydGllcy13b3JkLWJyZWFre3dpZHRoOjM5MHB4O3dvcmQtd3JhcDpicmVhay13b3JkO2Rpc3BsYXk6YmxvY2t9LmNvbW1hbmQtaGlzdG9yeS1jb21tYW5ke3dpZHRoOjM3NXB4O3dvcmQtd3JhcDpicmVhay13b3JkO2Rpc3BsYXk6YmxvY2t9Lmhvc3RuYW1lLXdvcmQtYnJlYWt7d2lkdGg6MjAwcHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7ZGlzcGxheTppbmxpbmUtYmxvY2t9W2RhdGEtbmctY2xpY2tdLFtuZy1jbGlja10sW3gtbmctY2xpY2tde2N1cnNvcjpwb2ludGVyfSNwcm9vZnBsYXktc2VsZWN0ZWQtaXRlbXN7bWluLXdpZHRoOjAhaW1wb3J0YW50O21hcmdpbjowIGF1dG87cGFkZGluZzowIGF1dG99LnJhZGlvLWJ1dHRvbntwYWRkaW5nOjNweH0uaG9yaXpvbnRhbC1zdWJtaXR7bWFyZ2luOi41ZW19Lmhvcml6b250YWwtc3VibWl0LC5yYWRpby1ob3Jpem9udGFse2Rpc3BsYXk6ZmxleDthbGlnbi1zZWxmOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7LXdlYmtpdC1hbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyfW1kLXRvb2xiYXIubWQtZGVmYXVsdC10aGVtZTpub3QoLm1kLW1lbnUtdG9vbGJhciksbWQtdG9vbGJhcjpub3QoLm1kLW1lbnUtdG9vbGJhcil7YmFja2dyb3VuZC1jb2xvcjojMWI3NWJiIWltcG9ydGFudDttYXgtaGVpZ2h0OjY0cHg7bWluLWhlaWdodDo2NHB4fS5tZC10b29sYmFyLXRvb2xze2JhY2tncm91bmQtY29sb3I6IzAwMCFpbXBvcnRhbnQ7bWF4LWhlaWdodDo2NHB4O21pbi1oZWlnaHQ6NjRweH0uc2t5a2l0LWltYWdle21heC13aWR0aDoxMDAlO2hlaWdodDozM3B4fUBtZWRpYSAobWF4LXdpZHRoOjc2N3B4KXttZC10b29sYmFyLm1kLWRlZmF1bHQtdGhlbWU6bm90KC5tZC1tZW51LXRvb2xiYXIpLG1kLXRvb2xiYXI6bm90KC5tZC1tZW51LXRvb2xiYXIpe21hcmdpbi10b3A6LTUwcHg7bWFyZ2luLWJvdHRvbTo1MHB4fX0uY2VudGVyLWJsb2Nre3RleHQtYWxpZ246Y2VudGVyfS5lbGxpcHNpcy1vdmVyZmxvdywucHJvb2Ytb2YtcGxheS1zZWxlY3RlZC1pdGVte3dpZHRoOjEwMCU7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmxlZnQ7dGV4dC1vdmVyZmxvdzplbGxpcHNpc30ucHJvb2Ytb2YtcGxheS10ZW5hbnQtbmFtZS1vcHRpb257d2lkdGg6N2VtO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1hbGlnbjpjZW50ZXI7cG9zaXRpdGlvbjphYnNvbHV0ZTt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5wcm9vZi1vZi1wbGF5LWhvcml6b250YWwtdG9wLWJhcnthbGlnbi1zZWxmOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7LXdlYmtpdC1hbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyO21hcmdpbi10b3A6LjVlbTttYXJnaW4tYm90dG9tOi41ZW07YWxpZ24taXRlbXM6Y2VudGVyfS5teS1mbGV4LC5wcm9vZi1vZi1wbGF5LWhvcml6b250YWwtdG9wLWJhcntkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uYmlnZ2VyLWJ1dHRvbnN7cGFkZGluZzouNGVtO21pbi13aWR0aDo4OHB4O2JvcmRlci1yYWRpdXM6NXB4O2ZvbnQtc2l6ZToxNnB4O3RleHQtYWxpZ246Y2VudGVyO3RleHQtZGVjb3JhdGlvbjpub25lO2JvcmRlcjpub25lO291dGxpbmU6bm9uZX0uYWRtaW4tY29udGFpbmVye2Rpc3BsYXk6ZmxleDthbGlnbi1jb250ZW50OmZsZXgtc3RhcnR9LnJlZ2lzdHJhdGlvbi1ldmVudC1jb2x1bW57aGVpZ2h0OjExMHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOnRvcDtvdmVyZmxvdzpzY3JvbGx9LnB1bGwtY29tbWFuZC1zZW5kLWJ1dHRvbi11cHttYXJnaW4tdG9wOi0ycHh9aGVhZGVyLmR0cC1oZWFkZXJ7YmFja2dyb3VuZDojMWI3NWJiIWltcG9ydGFudH0uZHRwIGRpdi5kdHAtZGF0ZSwuZHRwIGRpdi5kdHAtdGltZXtiYWNrZ3JvdW5kOiMwMDB9LmR0cCAuZHRwLWFjdHVhbC1tZXJpZGllbiBhLnNlbGVjdGVkLC5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtaG91ci5zZWxlY3RlZCwuZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5hLnNlbGVjdGVke2JhY2tncm91bmQ6IzFiNzViYiFpbXBvcnRhbnR9LmR0cCAuZHRwLWhhbmQub257YmFja2dyb3VuZDojMDAwfS5kZXZpY2UtcHJvcGVydGllcy1zd2l0Y2h7bWFyZ2luLXRvcDotMXB4fS5tZC1jb250ZW50LWNvbW1hbmQtb3ZlcnJpZGUgbWQtY29udGVudHtvdmVyZmxvdzp1bnNldH0ucHVsbC10b29sdGlwLWxlZnR7bWFyZ2luLWxlZnQ6LTU1cHh9LmNvbW1hbmQtYnV0dG9uLXJpZ2h0e2Zsb2F0OnJpZ2h0O2ZsZXgtZGlyZWN0aW9uOnJvdy1yZXZlcnNlfW1kLXNlbGVjdHtkaXNwbGF5OmJsb2NrO21hcmdpbjoxMHB4IDAgOHB4O3BhZGRpbmctYm90dG9tOjJweDtwb3NpdGlvbjpyZWxhdGl2ZTttaW4td2lkdGg6MTgwcHg7bWF4LXdpZHRoOjE4MHB4fS5zbWFsbC1kZWxldGUtYnV0dG9ue2Zsb2F0OnJpZ2h0O21pbi13aWR0aDoyNXB4O21hcmdpbi10b3A6LTE1cHg7bWFyZ2luLXJpZ2h0Oi01cHh9LnRlbmFudC1pbWFnZS1uYW1le3dpZHRoOjEwZW07d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Nhc3MtbG9hZGVyIS4vc3JjL2FwcC9zY3NzL2luZGV4LnNjc3NcbiAqKiBtb2R1bGUgaWQgPSA2NDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZnVuY3Rpb24gRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybCgkbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYXRpb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tbWFuZHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaW1lem9uZXNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0c1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICB2bS5kZXZpY2VLZXkgPSAkc3RhdGVQYXJhbXMuZGV2aWNlS2V5O1xuICB2bS5mcm9tRGV2aWNlcyA9ICRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCI7XG4gIHZtLmN1cnJlbnREZXZpY2UgPSB7fTtcbiAgdm0uY29tbWFuZEV2ZW50cyA9IFtdO1xuXG4gIHZtLmdlbmVyYXRlTG9jYWxGcm9tVVRDID0gZnVuY3Rpb24gKFVUQ1RpbWUpIHtcbiAgICBsZXQgbG9jYWxUaW1lID0gbW9tZW50LnV0YyhVVENUaW1lKS50b0RhdGUoKTtcbiAgICByZXR1cm4gbG9jYWxUaW1lID0gbW9tZW50KGxvY2FsVGltZSkuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tOnNzIEEnKTtcbiAgfTtcblxuICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gaXNzdWVzW2ldO1xuICAgICAgaWYgKGVhY2gucG9zdGVkVGltZSkge1xuICAgICAgICBlYWNoLnBvc3RlZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnBvc3RlZFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKGVhY2guY29uZmlybWVkVGltZSkge1xuICAgICAgICBlYWNoLmNvbmZpcm1lZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNvbmZpcm1lZFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH07XG5cbiAgdm0uZ2V0RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBjb21tYW5kRXZlbnRzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpO1xuICAgIHJldHVybiBjb21tYW5kRXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUoZGF0YS5ldmVudHMpO1xuICAgICAgdm0uZXZlbnRfbmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuICAgICAgdm0uZXZlbnRfcHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuICAgICAgdm0uY29tbWFuZEV2ZW50cyA9IGRhdGEuZXZlbnRzO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLmdldEV2ZW50c1RpbWVPdXQgPSAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSA9PlxuICAgICR0aW1lb3V0KCggKCkgPT4gdm0uZ2V0RXZlbnRzKGRldmljZUtleSwgcHJldiwgbmV4dCkpLCAxMDAwKVxuICA7XG5cbiAgdm0uY29tbWFuZEhpc3RvcnlTZWxlY3RlZCA9ICgpID0+IHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXG4gIHZtLnBhZ2luYXRlRXZlbnRDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIG51bGwsIHZtLmV2ZW50X25leHRfY3Vyc29yKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgdm0uZXZlbnRfcHJldl9jdXJzb3IsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcbiAgICBkZXZpY2VQcm9taXNlLnRoZW4oKHJlc3BvbnNlID0+IHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXNwb25zZSkpLCByZXNwb25zZSA9PiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpKTtcblxuICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5KTtcbiAgfTtcblxuICB2bS5vbkdldERldmljZVN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICB2bS5jdXJyZW50RGV2aWNlID0gcmVzcG9uc2U7XG4gICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG4gICAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gcmVzcG9uc2UudGltZXpvbmU7XG4gICAgfVxuICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdm0udGVuYW50S2V5ID0gdm0uY3VycmVudERldmljZS50ZW5hbnRLZXk7XG4gICAgfVxuICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG4gICAgICB2bS5iYWNrVXJsID0gJy8jL2RldmljZXMnO1xuICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gZGV2aWNlcyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmlzVW5tYW5hZ2VkRGV2aWNlID09PSB0cnVlKSB7XG4gICAgICAgIHZtLmJhY2tVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vdW5tYW5hZ2VkYDtcbiAgICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZtLmJhY2tVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vbWFuYWdlZGA7XG4gICAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2bS5vbkdldERldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBmZXRjaCB0aGUgZGV0YWlscyBmb3IgdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgTm8gZGV0YWlsIGZvciBkZXZpY2Vfa2V5ICMke3ZtLmRldmljZUtleX0uIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWA7XG4gICAgJGxvZy5lcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcbiAgfTtcblxuICB2bS5vblJlc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jb250ZW50RGVsZXRlKHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblJlc2V0Q29udGVudFN1Y2Nlc3MsIHZtLm9uUmVzZXRDb250ZW50RmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25SZXNldENvbnRlbnRTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblJlc2V0Q29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBSZXNldCBjb250ZW50IGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblVwZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UuY29udGVudFVwZGF0ZSh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVDb250ZW50U3VjY2Vzcywgdm0ub25VcGRhdGVDb250ZW50RmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25VcGRhdGVDb250ZW50U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlQ29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBDb250ZW50IHVwZGF0ZSBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uUmVzZXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzZXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzZXRQbGF5ZXJTdWNjZXNzLCB2bS5vblJlc2V0UGxheWVyRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25SZXNldFBsYXllclN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciByZXNldCBwbGF5ZXIgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25SZXNldFBsYXllckZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBSZXNldCBwbGF5ZXIgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXNldCBwbGF5ZXIgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25QYW5lbE9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvd2VyT24odm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxPblN1Y2Nlc3MsIHZtLm9uUGFuZWxPbkZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPblN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblBhbmVsT25GYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgUGFuZWwgb24gY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblBhbmVsT2ZmID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvd2VyT2ZmKHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBhbmVsT2ZmU3VjY2Vzcywgdm0ub25QYW5lbE9mZkZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPZmZTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPZmZGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgUGFuZWwgb2ZmIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnVwZGF0ZURldmljZSh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVEZXZpY2VTdWNjZXNzLCB2bS5vblVwZGF0ZURldmljZUZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlRGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBkZXZpY2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25VcGRhdGVEZXZpY2VGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgVXBkYXRlIGRldmljZSBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHVwZGF0ZSBkZXZpY2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25Wb2x1bWVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2Uudm9sdW1lKHZtLmRldmljZUtleSwgdm0uY3VycmVudERldmljZS52b2x1bWUpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Wb2x1bWVDaGFuZ2VTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2Uudm9sdW1lKSwgdm0ub25Wb2x1bWVDaGFuZ2VGYWlsdXJlKTtcbiAgfTtcblxuICB2bS5vblZvbHVtZUNoYW5nZVN1Y2Nlc3MgPSBmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChgV2UgcG9zdGVkIHlvdXIgdm9sdW1lIGNoYW5nZSBjb21tYW5kIG9mICR7bGV2ZWx9IGludG8gdGhlIHBsYXllcidzIHF1ZXVlLmApO1xuICB9O1xuXG4gIHZtLm9uVm9sdW1lQ2hhbmdlRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFZvbHVtZSBjaGFuZ2UgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uQ3VzdG9tQ29tbWFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jdXN0b20odm0uZGV2aWNlS2V5LCB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vbkN1c3RvbUNvbW1hbmRTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tKSwgdm0ub25DdXN0b21Db21tYW5kRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25DdXN0b21Db21tYW5kU3VjY2VzcyA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoYFdlIHBvc3RlZCB5b3VyIGN1c3RvbSBjb21tYW5kICcke2NvbW1hbmR9JyBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5gKTtcbiAgfTtcblxuICB2bS5vbkN1c3RvbUNvbW1hbmRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgQ3VzdG9tIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgY3VzdG9tIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uRGlhZ25vc3RpY3NUb2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UudG9nZ2xlRGlhZ25vc3RpY3Modm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NTdWNjZXNzLCB2bS5vblRvZ2dsZURpYWdub3N0aWNzRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgRGlhZ25vc3RpY3MgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBkaWFnbm9zdGljcyBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLFxuICAgICAgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25SZXN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnJlc3RhcnQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzdGFydFN1Y2Nlc3MsIHZtLm9uUmVzdGFydEZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUmVzdGFydFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc3RhcnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25SZXN0YXJ0RmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFJlc3RhcnQgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXN0YXJ0IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsXG4gICAgICAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblBvc3RMb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucG9zdExvZyh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Qb3N0TG9nU3VjY2Vzcywgdm0ub25Qb3N0TG9nRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Qb3N0TG9nU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25Qb3N0TG9nRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFBvc3QgbG9nIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIixcbiAgICAgICdlcnJvcicpO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2RldmljZS9kZXZpY2UtZGV0YWlsLWNvbW1hbmQuanNcbiAqKi8iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgbmF0dXJhbFNvcnQgZnJvbSAnamF2YXNjcmlwdC1uYXR1cmFsLXNvcnQnO1xuXG5cbmZ1bmN0aW9uIERldmljZURldGFpbHNDdHJsKCRsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlbmFudHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYXRpb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbW1hbmRzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpbWV6b25lc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlZ3JhdGlvbkV2ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3ZWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3RzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBJbWFnZVNlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGNvbnN0IHZtID0gdGhpcztcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0uZGV2aWNlS2V5ID0gJHN0YXRlUGFyYW1zLmRldmljZUtleTtcbiAgdm0uZnJvbURldmljZXMgPSAkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiO1xuICB2bS5jdXJyZW50RGV2aWNlID0ge307XG4gIHZtLmxvY2F0aW9ucyA9IFtdO1xuICB2bS5jb21tYW5kRXZlbnRzID0gW107XG4gIHZtLmRheVJhbmdlID0gMzA7XG4gIHZtLmlzc3VlcyA9IFtdO1xuICB2bS50aW1lem9uZXMgPSBbXTtcbiAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHVuZGVmaW5lZDtcbiAgW3ZtLnN0YXJ0VGltZSwgdm0uZW5kVGltZV0gPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jcmVhdGVGb3JtYXR0ZWRTdGFydEFuZEVuZERhdGVGcm9tVG9kYXkoMzApO1xuICB2bS5lbnJvbGxtZW50RXZlbnRzID0gW107XG4gIHZtLmxvZ29DaGFuZ2UgPSBmYWxzZTtcbiAgdm0uY29udHJvbHNNb2RlT3B0aW9ucyA9IFtcInZpc2libGVcIiwgXCJpbnZpc2libGVcIiwgXCJkaXNhYmxlZFwiXVxuICB2bS5vdmVybGF5Q2hhbmdlZCA9IGZhbHNlO1xuXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBPdmVybGF5XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdm0uY2hlY2tGb3JPdmVybGF5Q2hhbmdlcyA9ICgpID0+IHtcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGxldCBjdXJyZW50RGV2aWNlT3ZlcmxheXMgPSB2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXlzO1xuICAgIGxldCBjdXJyZW50RGV2aWNlQ29weU92ZXJsYXlzID0gdm0uY3VycmVudERldmljZUNvcHkub3ZlcmxheXM7XG4gICAgbGV0IHBvc2l0aW9ucyA9IFsndG9wX2xlZnQnLCAndG9wX3JpZ2h0JywgJ2JvdHRvbV9yaWdodCcsICdib3R0b21fbGVmdCddO1xuXG4gICAgZm9yIChsZXQgcG9zIG9mIHBvc2l0aW9ucykge1xuICAgICAgaWYgKGN1cnJlbnREZXZpY2VPdmVybGF5c1twb3NdLnNpemUgIT09IGN1cnJlbnREZXZpY2VDb3B5T3ZlcmxheXNbcG9zXS5zaXplKSB7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnREZXZpY2VPdmVybGF5c1twb3NdLnR5cGUgIT09IGN1cnJlbnREZXZpY2VDb3B5T3ZlcmxheXNbcG9zXS50eXBlKSB7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnREZXZpY2VPdmVybGF5c1twb3NdLnR5cGUgPT09ICdsb2dvJykge1xuICAgICAgICBpZiAoKGN1cnJlbnREZXZpY2VPdmVybGF5c1twb3NdLnR5cGUgKyBcIjogXCIgKyBjdXJyZW50RGV2aWNlT3ZlcmxheXNbcG9zXS5uYW1lKSAhPT0gY3VycmVudERldmljZUNvcHlPdmVybGF5c1twb3NdLm5hbWUpIHtcbiAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2bS5vdmVybGF5Q2hhbmdlZCA9IGNoYW5nZWQ7XG4gIH1cblxuXG4gIHZtLnJldmVydFRvVGVuYW50T3ZlcmxheSA9IChldikgPT4ge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IHRydWU7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSgkc3RhdGVQYXJhbXMudGVuYW50S2V5KTtcbiAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuICAgICAgbGV0IGN1cnJlbnRUZW5hbnRPdmVybGF5cyA9IHRlbmFudC5vdmVybGF5cztcbiAgICAgIGRlbGV0ZSBjdXJyZW50VGVuYW50T3ZlcmxheXMua2V5O1xuXG4gICAgICBmb3IgKGxldCBrZXkgaW4gY3VycmVudFRlbmFudE92ZXJsYXlzKSB7XG4gICAgICAgIGlmIChjdXJyZW50VGVuYW50T3ZlcmxheXNba2V5XVtcInR5cGVcIl0gPT09IFwibG9nb1wiKSB7XG4gICAgICAgICAgY3VycmVudFRlbmFudE92ZXJsYXlzW2tleV1bXCJpbWFnZV9rZXlcIl0gPSBjdXJyZW50VGVuYW50T3ZlcmxheXNba2V5XVtcImltYWdlS2V5XCJdW1wia2V5XCJdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudFRlbmFudE92ZXJsYXlzW2tleV1bXCJpbWFnZV9rZXlcIl0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBsZXQgcHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLnNhdmVPdmVybGF5U2V0dGluZ3MoXG4gICAgICAgIHZtLmRldmljZUtleSxcbiAgICAgICAgY3VycmVudFRlbmFudE92ZXJsYXlzLmJvdHRvbV9sZWZ0LFxuICAgICAgICBjdXJyZW50VGVuYW50T3ZlcmxheXMuYm90dG9tX3JpZ2h0LFxuICAgICAgICBjdXJyZW50VGVuYW50T3ZlcmxheXMudG9wX3JpZ2h0LFxuICAgICAgICBjdXJyZW50VGVuYW50T3ZlcmxheXMudG9wX2xlZnRcbiAgICAgICk7XG5cbiAgICAgIHByb21pc2UudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGxldCBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcbiAgICAgICAgZGV2aWNlUHJvbWlzZS50aGVuKChjdXJyZW50RGV2aWNlKSA9PiB7XG4gICAgICAgICAgdm0uY3VycmVudERldmljZS5vdmVybGF5cyA9IGN1cnJlbnREZXZpY2Uub3ZlcmxheXM7XG4gICAgICAgICAgdm0uY3VycmVudERldmljZUNvcHkub3ZlcmxheXMgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudERldmljZS5vdmVybGF5cylcbiAgICAgICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcbiAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIHByb21pc2UuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgfTtcblxuICB2bS5hZGp1c3RDb250cm9sc01vZGUgPSAoKSA9PiB7XG4gICAgbGV0IGNvbnRyb2xzTW9kZSA9IHZtLmN1cnJlbnREZXZpY2UuY29udHJvbHNNb2RlO1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBjb250cm9sc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5hZGp1c3RDb250cm9sc01vZGUodm0uZGV2aWNlS2V5LCBjb250cm9sc01vZGUpXG4gICAgY29udHJvbHNQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoYFlvdXIgY29udHJvbHMgbW9kZSBzZWxlY3Rpb24gd2FzIHN1Y2Nlc2Z1bGx5IGNoYW5nZWQgdG86ICR7Y29udHJvbHNNb2RlfWApO1xuICAgIH0pXG4gICAgY29udHJvbHNQcm9taXNlLmNhdGNoKCgpID0+IHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgLy9Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91ciBjb250cm9scyBtb2RlIGNoYW5nZSBmYWlsZWQgdG8gc2F2ZS4gUGxlYXNlIGNvbnRhY3Qgc3VwcG9ydC5cIilcbiAgICB9KVxuICB9XG5cbiAgdm0uYWRqdXN0T3ZlcmxheVN0YXR1cyA9IChzdGF0dXMpID0+IHtcbiAgICB2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXlTdGF0dXMgPSBzdGF0dXNcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLnNhdmUodm0uY3VycmVudERldmljZSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICBsZXQgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG4gICAgICBkZXZpY2VQcm9taXNlLnRoZW4oKHJlc3BvbnNlID0+IHtcbiAgICAgICAgdm0ub25HZXREZXZpY2VTdWNjZXNzKHJlc3BvbnNlKVxuICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIH0pLCByZXNwb25zZSA9PiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpKTtcbiAgICB9KVxuICB9XG5cbiAgdm0uc3VibWl0T3ZlcmxheVNldHRpbmdzID0gKCkgPT4ge1xuICAgIGxldCBvdmVybGF5U2V0dGluZ3MgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudERldmljZUNvcHkub3ZlcmxheXMpXG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgdm0ubG9hZGluZ092ZXJsYXlzID0gdHJ1ZTtcbiAgICBsZXQgcHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLnNhdmVPdmVybGF5U2V0dGluZ3MoXG4gICAgICB2bS5kZXZpY2VLZXksXG4gICAgICBvdmVybGF5U2V0dGluZ3MuYm90dG9tX2xlZnQsXG4gICAgICBvdmVybGF5U2V0dGluZ3MuYm90dG9tX3JpZ2h0LFxuICAgICAgb3ZlcmxheVNldHRpbmdzLnRvcF9yaWdodCxcbiAgICAgIG92ZXJsYXlTZXR0aW5ncy50b3BfbGVmdFxuICAgIClcbiAgICBwcm9taXNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgbGV0IGRldmljZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VCeUtleSh2bS5kZXZpY2VLZXkpO1xuICAgICAgZGV2aWNlUHJvbWlzZS50aGVuKChjdXJyZW50RGV2aWNlKSA9PiB7XG4gICAgICAgIHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheXMgPSBjdXJyZW50RGV2aWNlLm92ZXJsYXlzO1xuICAgICAgICB2bS5jdXJyZW50RGV2aWNlQ29weS5vdmVybGF5cyA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXlzKVxuICAgICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcbiAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBwcm9taXNlLmNhdGNoKChyZXMpID0+IHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcbiAgICB9KVxuICB9O1xuXG4gIHZtLmdldFRlbmFudEltYWdlc0FuZFJlZnJlc2hEZXZpY2UgPSAoKSA9PiB7XG4gICAgbGV0IGRldmljZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VCeUtleSh2bS5kZXZpY2VLZXkpO1xuICAgIGRldmljZVByb21pc2UudGhlbigocmVzKSA9PiB7XG4gICAgICB2bS5vbkdldERldmljZVN1Y2Nlc3MocmVzKVxuICAgICAgdm0uZ2V0VGVuYW50SW1hZ2VzKClcblxuICAgIH0pO1xuICAgIGRldmljZVByb21pc2UuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgdm0ub25HZXREZXZpY2VGYWlsdXJlKHJlcylcbiAgICB9KVxuXG4gIH1cblxuICB2bS5nZXRUZW5hbnRJbWFnZXMgPSAoKSA9PiB7XG4gICAgdm0uT1ZFUkxBWV9UWVBFUyA9IFtcbiAgICAgIHtzaXplOiBudWxsLCB0eXBlOiBudWxsLCBuYW1lOiBcIm5vbmVcIiwgcmVhbE5hbWU6IFwibm9uZVwiLCBuZXc6IGZhbHNlLCBpbWFnZV9rZXk6IG51bGx9LFxuICAgICAge3NpemU6IG51bGwsIHR5cGU6IFwiZGF0ZXRpbWVcIiwgbmFtZTogXCJkYXRldGltZVwiLCByZWFsTmFtZTogXCJkYXRldGltZVwiLCBuZXc6IHRydWUsIGltYWdlX2tleTogbnVsbH0sXG4gICAgXVxuXG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBJbWFnZVNlcnZpY2UuZ2V0SW1hZ2VzKHZtLnRlbmFudEtleSk7XG4gICAgcHJvbWlzZS50aGVuKChyZXMpID0+IHtcbiAgICAgIHZtLnRlbmFudEltYWdlcyA9IHJlc1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICBmb3IgKGxldCB2YWx1ZSBvZiB2bS50ZW5hbnRJbWFnZXMpIHtcbiAgICAgICAgZm9yIChsZXQgc2l6ZU9wdGlvbiBvZiBbXCJzbWFsbFwiLCBcImxhcmdlXCJdKSB7XG4gICAgICAgICAgbGV0IG5ld1ZhbHVlID0ge1xuICAgICAgICAgICAgcmVhbE5hbWU6IGFuZ3VsYXIuY29weSh2YWx1ZS5uYW1lKSxcbiAgICAgICAgICAgIG5hbWU6IFwibG9nbzogXCIgKyB2YWx1ZS5uYW1lLFxuICAgICAgICAgICAgdHlwZTogXCJsb2dvXCIsXG4gICAgICAgICAgICBzaXplOiBzaXplT3B0aW9uLFxuICAgICAgICAgICAgaW1hZ2Vfa2V5OiB2YWx1ZS5rZXlcbiAgICAgICAgICB9XG4gICAgICAgICAgdm0uT1ZFUkxBWV9UWVBFUy5wdXNoKG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdm0uT1ZFUkxBWV9UWVBFUy5zb3J0KG5hdHVyYWxTb3J0KTtcblxuICAgIH0pO1xuXG4gICAgcHJvbWlzZS5jYXRjaCgoKSA9PiB7XG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIC8vVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChcIlNPTUVUSElORyBXRU5UIFdST05HIFJFVFJJRVZJTkcgWU9VUiBJTUFHRVNcIilcbiAgICB9KVxuICB9XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gRXZlbnRzIGFuZCBJc3N1ZXMgVGFiXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5yZXBsYWNlSXNzdWVUaW1lID0gZnVuY3Rpb24gKGlzc3Vlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXNzdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGlzc3Vlc1tpXTtcbiAgICAgIGlmIChlYWNoLmNyZWF0ZWQpIHtcbiAgICAgICAgZWFjaC5jcmVhdGVkID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC5jcmVhdGVkKTtcbiAgICAgIH1cbiAgICAgIGlmIChlYWNoLnVwZGF0ZWQpIHtcbiAgICAgICAgZWFjaC51cGRhdGVkID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC51cGRhdGVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdm0ucmVwbGFjZUNvbW1hbmRUaW1lID0gZnVuY3Rpb24gKGlzc3Vlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXNzdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGlzc3Vlc1tpXTtcbiAgICAgIGlmIChlYWNoLnBvc3RlZFRpbWUpIHtcbiAgICAgICAgZWFjaC5wb3N0ZWRUaW1lID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC5wb3N0ZWRUaW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChlYWNoLmNvbmZpcm1lZFRpbWUpIHtcbiAgICAgICAgZWFjaC5jb25maXJtZWRUaW1lID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC5jb25maXJtZWRUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdm0ubG9jYWxGcm9tVXRjID0gZnVuY3Rpb24gKGV2ZW50cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGV2ZW50c1tpXTtcbiAgICAgIGlmIChlYWNoLnV0Y1RpbWVzdGFtcCkge1xuICAgICAgICBlYWNoLnV0Y1RpbWVzdGFtcCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gudXRjVGltZXN0YW1wKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9O1xuXG4gIHZtLmNvcHlEZXZpY2VLZXkgPSAoKSA9PiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ0RldmljZSBrZXkgY29waWVkIHRvIHlvdXIgY2xpcGJvYXJkJyk7XG5cbiAgdm0uY29weUNvcnJlbGF0aW9uSWRlbnRpZmllciA9ICgpID0+IFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnQ29ycmVsYXRpb24gSUQgY29waWVkIHRvIHlvdXIgY2xpcGJvYXJkJyk7XG5cbiAgLy8gZXZlbnQgdGFiXG4gIHZtLmdldElzc3VlcyA9IGZ1bmN0aW9uIChkZXZpY2UsIGVwb2NoU3RhcnQsIGVwb2NoRW5kLCBwcmV2LCBuZXh0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGlzc3Vlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRJc3N1ZXNCeUtleShkZXZpY2UsIGVwb2NoU3RhcnQsIGVwb2NoRW5kLCBwcmV2LCBuZXh0KTtcbiAgICByZXR1cm4gaXNzdWVzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5yZXBsYWNlSXNzdWVUaW1lKGRhdGEuaXNzdWVzKTtcbiAgICAgIHZtLmlzc3VlcyA9IGRhdGEuaXNzdWVzO1xuICAgICAgdm0ucHJldl9jdXJzb3IgPSBkYXRhLnByZXY7XG4gICAgICB2bS5uZXh0X2N1cnNvciA9IGRhdGEubmV4dDtcbiAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBjb21tYW5kIGhpc3RvcnkgdGFiXG4gIHZtLmdldEV2ZW50cyA9IGZ1bmN0aW9uIChkZXZpY2VLZXksIHByZXYsIG5leHQpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgY29tbWFuZEV2ZW50c1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRDb21tYW5kRXZlbnRzQnlLZXkoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KTtcbiAgICByZXR1cm4gY29tbWFuZEV2ZW50c1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0ucmVwbGFjZUNvbW1hbmRUaW1lKGRhdGEuZXZlbnRzKTtcbiAgICAgIHZtLmV2ZW50X25leHRfY3Vyc29yID0gZGF0YS5uZXh0X2N1cnNvcjtcbiAgICAgIHZtLmV2ZW50X3ByZXZfY3Vyc29yID0gZGF0YS5wcmV2X2N1cnNvcjtcbiAgICAgIHZtLmNvbW1hbmRFdmVudHMgPSBkYXRhLmV2ZW50cztcbiAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBlbnJvbGxtZW50IHRhYlxuICB2bS5nZXRFbnJvbGxtZW50RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBlbnJvbGxtZW50RXZlbnRzUHJvbWlzZSA9IEludGVncmF0aW9uRXZlbnRzLmdldEVucm9sbG1lbnRFdmVudHMoZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gZW5yb2xsbWVudEV2ZW50c1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uZW5yb2xsbWVudEV2ZW50cyA9IGRhdGE7XG4gICAgICB2bS5sb2NhbEZyb21VdGMoZGF0YSk7XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgcmV0dXJuIHZtLmdldElzc3Vlcyh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kLCBudWxsLCB2bS5uZXh0X2N1cnNvcik7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmdldElzc3Vlcyh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kLCB2bS5wcmV2X2N1cnNvciwgbnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLnBhZ2luYXRlRXZlbnRDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIG51bGwsIHZtLmV2ZW50X25leHRfY3Vyc29yKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgdm0uZXZlbnRfcHJldl9jdXJzb3IsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmVwb2NoU3RhcnQgPSBtb21lbnQodm0uc3RhcnRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuICAgIHZtLmVwb2NoRW5kID0gbW9tZW50KHZtLmVuZFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG5cbiAgICBsZXQgdGltZXpvbmVQcm9taXNlID0gVGltZXpvbmVzU2VydmljZS5nZXRDdXN0b21UaW1lem9uZXMoKTtcbiAgICB0aW1lem9uZVByb21pc2UudGhlbihkYXRhID0+IHZtLnRpbWV6b25lcyA9IGRhdGEpO1xuXG4gICAgdm0ucGFuZWxNb2RlbHMgPSBEZXZpY2VzU2VydmljZS5nZXRQYW5lbE1vZGVscygpO1xuICAgIHZtLnBhbmVsSW5wdXRzID0gRGV2aWNlc1NlcnZpY2UuZ2V0UGFuZWxJbnB1dHMoKTtcblxuICAgIGxldCBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcbiAgICBkZXZpY2VQcm9taXNlLnRoZW4oKHJlc3BvbnNlID0+IHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXNwb25zZSkpLCByZXNwb25zZSA9PiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpKTtcblxuICAgIHZtLmdldFRlbmFudEltYWdlcygpO1xuICAgIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuICAgIHZtLmdldElzc3Vlcyh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kKTtcbiAgICByZXR1cm4gdm0uZ2V0RW5yb2xsbWVudEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuICB9O1xuXG4gIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIHZtLmN1cnJlbnREZXZpY2UgPSByZXNwb25zZVxuICAgIHZtLmN1cnJlbnREZXZpY2VDb3B5ID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnREZXZpY2UpXG4gICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG4gICAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gcmVzcG9uc2UudGltZXpvbmU7XG4gICAgfVxuICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdm0udGVuYW50S2V5ID0gdm0uY3VycmVudERldmljZS50ZW5hbnRLZXk7XG4gICAgfVxuXG4gICAgaWYgKCRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgIHZtLmJhY2tVcmwgPSAnLyMvZGV2aWNlcyc7XG4gICAgICB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIGRldmljZXMnO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodm0uY3VycmVudERldmljZS5pc1VubWFuYWdlZERldmljZSA9PT0gdHJ1ZSkge1xuICAgICAgICB2bS5iYWNrVXJsID0gYC8jL3RlbmFudHMvJHt2bS50ZW5hbnRLZXl9L3VubWFuYWdlZGA7XG4gICAgICAgIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZtLmJhY2tVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vbWFuYWdlZGA7XG4gICAgICAgIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IG1hbmFnZWQgZGV2aWNlcyc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGxvY2F0aW9uc1Byb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLmdldExvY2F0aW9uc0J5VGVuYW50S2V5KHZtLnRlbmFudEtleSk7XG4gICAgcmV0dXJuIGxvY2F0aW9uc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0ubG9jYXRpb25zID0gZGF0YTtcbiAgICAgIHJldHVybiB2bS5zZXRTZWxlY3RlZE9wdGlvbnMoKTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5vbkdldERldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBmZXRjaCB0aGUgZGV0YWlscyBmb3IgdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgTm8gZGV0YWlsIGZvciBkZXZpY2Vfa2V5ICR7dm0uZGV2aWNlS2V5fS4gRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YDtcbiAgICAkbG9nLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgcmV0dXJuICRzdGF0ZS5nbygnZGV2aWNlcycpO1xuICB9O1xuXG4gIHZtLnNldFNlbGVjdGVkT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsID09PSBudWxsKSB7XG4gICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPSB2bS5wYW5lbE1vZGVsc1swXTtcbiAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dCA9IHZtLnBhbmVsSW5wdXRzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZtLnBhbmVsTW9kZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBwYW5lbE1vZGVsID0gdm0ucGFuZWxNb2RlbHNbaV07XG4gICAgICAgIGlmIChwYW5lbE1vZGVsLmlkID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwpIHtcbiAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPSBwYW5lbE1vZGVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZtLnBhbmVsSW5wdXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBwYW5lbElucHV0ID0gdm0ucGFuZWxJbnB1dHNbal07XG4gICAgICAgIGxldCBpc1BhcmVudCA9IHBhbmVsSW5wdXQucGFyZW50SWQgPT09IHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZDtcbiAgICAgICAgaWYgKGlzUGFyZW50ICYmIHBhbmVsSW5wdXQuaWQudG9Mb3dlckNhc2UoKSA9PT0gdm0uY3VycmVudERldmljZS5wYW5lbElucHV0KSB7XG4gICAgICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbElucHV0ID0gcGFuZWxJbnB1dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSAhPT0gbnVsbCkge1xuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB2bS5sb2NhdGlvbnMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgbGV0IGxvY2F0aW9uID0gdm0ubG9jYXRpb25zW2tdO1xuICAgICAgICBpZiAobG9jYXRpb24ua2V5ID09PSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5KSB7XG4gICAgICAgICAgdm0uY3VycmVudERldmljZS5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gUHJvcGVydGllcyBUYWJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5vblNhdmVEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgaWYgKHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24gIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5ID0gdm0uY3VycmVudERldmljZS5sb2NhdGlvbi5rZXk7XG4gICAgfVxuICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09ICdOb25lJykge1xuICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsTnVtYmVyID0gdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsLmlkO1xuICAgIH1cbiAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkICE9PSB1bmRlZmluZWQgJiYgdm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkICE9PSAnTm9uZScpIHtcbiAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxTZXJpYWxJbnB1dCA9IHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dC5pZC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICB2bS5jdXJyZW50RGV2aWNlLnRpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcbiAgICBsZXQgcHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLnNhdmUodm0uY3VycmVudERldmljZSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NEZXZpY2VTYXZlLCB2bS5vbkZhaWx1cmVEZXZpY2VTYXZlKTtcbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NEZXZpY2VTYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuICB9O1xuXG4gIHZtLm9uRmFpbHVyZURldmljZVNhdmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICRsb2cuaW5mbyhcbiAgICAgICAgYEZhaWx1cmUgc2F2aW5nIGRldmljZS4gQ3VzdG9tZXIgZGlzcGxheSBjb2RlIGFscmVhZHkgZXhpc3RzIGZvciB0ZW5hbnQ6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGhpcyBjdXN0b21lciBkaXNwbGF5IGNvZGUgYWxyZWFkeSBleGlzdHMgZm9yIHRoaXMgdGVuYW50LiBQbGVhc2UgY2hvb3NlIGFub3RoZXIuJywgJ2Vycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRsb2cuZXJyb3IoYEZhaWx1cmUgc2F2aW5nIGRldmljZTogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gc2F2ZSB5b3VyIHVwZGF0ZXMgdG8gdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuICAgIH1cbiAgfTtcblxuICB2bS5vblBhbmVsU2xlZXAgPSBmdW5jdGlvbiAoY29tbWFuZCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBhbmVsU2xlZXAodm0uZGV2aWNlS2V5LCBjb21tYW5kKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxTbGVlcFN1Y2Nlc3MsIHZtLm9uUGFuZWxTbGVlcEZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxTbGVlcFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHRvZ2dsZWQgdGhlIHBhbmVsIHNsZWVwIGF0dHJpYnV0ZS4gVGhlIHBsYXllciBzaG91bGQgYWRqdXN0IHRvIHRoZXNlIGNoYW5nZXMgd2l0aGluIDE1IG1pbnV0ZXMuXCIpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxTbGVlcEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gdG9nZ2xlIHRoZSBwYW5lbCBzbGVlcCBhdHRyaWJ1dGUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLmNvbmZpcm1EZXZpY2VEZWxldGUgPSBmdW5jdGlvbiAoZXZlbnQsIGtleSkge1xuICAgIGxldCBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlIHRvIGRlbGV0ZSB0aGlzIGRldmljZT8nLFxuICAgICAgICB0ZXh0Q29udGVudDogJ1BsZWFzZSByZW1lbWJlciwgeW91IE1VU1QgcmVtb3ZlIHRoaXMgZGV2aWNlIGZyb20gQ29udGVudCBNYW5hZ2VyIGJlZm9yZSBkZWxldGluZyBpdCBmcm9tIFByb3Zpc2lvbmluZy4nLFxuICAgICAgICB0YXJnZXRFdmVudDogZXZlbnQsXG4gICAgICAgIG9rOiAnRGVsZXRlJyxcbiAgICAgICAgY2FuY2VsOiAnQ2FuY2VsJ1xuICAgICAgfVxuICAgICk7XG4gICAgbGV0IHNob3dQcm9taXNlID0gJG1kRGlhbG9nLnNob3coY29uZmlybSk7XG4gICAgbGV0IHN1Y2Nlc3MgPSAoKSA9PiB2bS5vbkNvbmZpcm1EZWxldGUoa2V5KTtcbiAgICBsZXQgZmFpbHVyZSA9ICgpID0+IHZtLm9uQ29uZmlybUNhbmNlbCgpO1xuICAgIHJldHVybiBzaG93UHJvbWlzZS50aGVuKHN1Y2Nlc3MsIGZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uQ29uZmlybURlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBsZXQgc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgcHJvY2Vzc2VkIHlvdXIgZGVsZXRlIHJlcXVlc3QuJyk7XG4gICAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG4gICAgfTtcbiAgICBsZXQgZmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgbGV0IGZyaWVuZGx5TWVzc2FnZSA9ICdXZSB3ZXJlIHVuYWJsZSB0byBjb21wbGV0ZSB5b3VyIGRlbGV0ZSByZXF1ZXN0IGF0IHRoaXMgdGltZS4nO1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChmcmllbmRseU1lc3NhZ2UpO1xuICAgICAgcmV0dXJuICRsb2cuZXJyb3IoYERlbGV0ZSBkZXZpY2UgZmFpbHVyZSBmb3IgZGV2aWNlX2tleSAke2tleX06ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIH07XG4gICAgbGV0IGRlbGV0ZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5kZWxldGUoa2V5KTtcbiAgICByZXR1cm4gZGVsZXRlUHJvbWlzZS50aGVuKHN1Y2Nlc3MsIGZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uQ29uZmlybUNhbmNlbCA9ICgpID0+IFRvYXN0c1NlcnZpY2Uuc2hvd0luZm9Ub2FzdCgnV2UgY2FuY2VsZWQgeW91ciBkZWxldGUgcmVxdWVzdC4nKTtcblxuICB2bS5vblByb29mT2ZQbGF5TG9nZ2luZ0NoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnByb29mT2ZQbGF5TG9nZ2luZykge1xuICAgICAgbGV0IG5vTG9jYXRpb24gPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5ID09PSBudWxsO1xuICAgICAgbGV0IG5vRGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheUNvZGUgPT09IG51bGw7XG4gICAgICBpZiAobm9Mb2NhdGlvbikge1xuICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgTG9jYXRpb24gdG8gZW5hYmxlIFByb29mIG9mIHBsYXkuXCIsICdlcnJvcicpO1xuICAgICAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAobm9EaXNwbGF5Q29kZSkge1xuICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgRGlzcGxheSBjb2RlIHRvIGVuYWJsZSBQcm9vZiBvZiBwbGF5LlwiLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UucHJvb2ZPZlBsYXlMb2dnaW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0ub25TYXZlRGV2aWNlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5vblNhdmVEZXZpY2UoKTtcbiAgICB9XG4gIH07XG5cbiAgdm0ub25VcGRhdGVMb2NhdGlvbiA9ICgpID0+IHZtLm9uU2F2ZURldmljZSgpO1xuXG4gIHZtLmF1dG9HZW5lcmF0ZUN1c3RvbWVyRGlzcGxheUNvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IG5ld0Rpc3BsYXlDb2RlID0gJyc7XG4gICAgaWYgKHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5TmFtZSkge1xuICAgICAgbmV3RGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIG5ld0Rpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuICAgICAgbmV3RGlzcGxheUNvZGUgPSBuZXdEaXNwbGF5Q29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcbiAgICB9XG4gICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5Q29kZSA9IG5ld0Rpc3BsYXlDb2RlO1xuICB9O1xuXG4gIHZtLmxvZ2dseUZvclVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHVzZXJEb21haW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCkuc3BsaXQoXCJAXCIpWzFdO1xuICAgIHJldHVybiB1c2VyRG9tYWluID09PSBcImRlbW8uYWdvc3RvLmNvbVwiIHx8IHVzZXJEb21haW4gPT09IFwiYWdvc3RvLmNvbVwiO1xuICB9O1xuXG4gIHZtLm9uQ2xpY2tSZWZyZXNoQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIHZtLnN0YXJ0VGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmNvbnZlcnRUb01vbWVudElmTm90QWxyZWFkeSh2bS5zdGFydFRpbWUpO1xuICAgIHZtLmVuZFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkodm0uZW5kVGltZSk7XG4gICAgdm0uZXBvY2hTdGFydCA9IG1vbWVudCh2bS5zdGFydFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG4gICAgdm0uZXBvY2hFbmQgPSBtb21lbnQodm0uZW5kVGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcbiAgICB2bS5wcmV2X2N1cnNvciA9IG51bGw7XG4gICAgdm0ubmV4dF9jdXJzb3IgPSBudWxsO1xuICAgIGxldCBpc3N1ZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0SXNzdWVzQnlLZXkodm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgdm0ucHJldl9jdXJzb3IsIHZtLm5leHRfY3Vyc29yKTtcbiAgICByZXR1cm4gaXNzdWVzUHJvbWlzZS50aGVuKChkYXRhID0+IHZtLm9uUmVmcmVzaElzc3Vlc1N1Y2Nlc3MoZGF0YSkpLCBlcnJvciA9PiB2bS5vblJlZnJlc2hJc3N1ZXNGYWlsdXJlKGVycm9yKSk7XG4gIH07XG5cbiAgdm0ub25SZWZyZXNoSXNzdWVzU3VjY2VzcyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG4gICAgdm0uaXNzdWVzID0gZGF0YS5pc3N1ZXM7XG4gICAgdm0ucHJldl9jdXJzb3IgPSBkYXRhLnByZXY7XG4gICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG4gICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICB9O1xuXG4gIHZtLm9uUmVmcmVzaElzc3Vlc0ZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBUb2FzdHNTZXJ2aWNlLnNob3dJbmZvVG9hc3QoJ1dlIHdlcmUgdW5hYmxlIHRvIHJlZnJlc2ggdGhlIGRldmljZSBpc3N1ZXMgbGlzdCBhdCB0aGlzIHRpbWUuJyk7XG4gICAgcmV0dXJuICRsb2cuZXJyb3IoYEZhaWx1cmUgdG8gcmVmcmVzaCBkZXZpY2UgaXNzdWVzOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7RGV2aWNlRGV0YWlsc0N0cmx9XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9kZXZpY2UvZGV2aWNlLWRldGFpbHMuY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIERldmljZXNMaXN0aW5nQ3RybCgkc3RhdGVQYXJhbXMsICRsb2csIERldmljZXNTZXJ2aWNlLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBzd2VldCkge1xuICBcIm5nSW5qZWN0XCI7XG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmRpc3RyaWJ1dG9yS2V5ID0gdW5kZWZpbmVkO1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIE1hbmFnZWRcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5kZXZpY2VzID0gW107XG4gIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiU2VyaWFsIE51bWJlclwiO1xuICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB2bS5nY21pZERldmljZXMgPSB7fTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFVubWFuYWdlZFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID0gXCJNQUNcIjtcbiAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuICB2bS51bm1hbmFnZWREaXNhYmxlZCA9IHRydWU7XG4gIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gbnVsbDtcbiAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSBudWxsO1xuICB2bS51bm1hbmFnZWREZXZpY2VzID0gW107XG4gIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSB7fTtcbiAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0ge307XG4gIHZtLmRldmljZXNUb01hdGNoT25Vbm1hbmFnZWQgPSBbXTtcbiAgdm0uZGV2aWNlc1RvTWF0Y2hPbk1hbmFnZWQgPSBbXTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgdm0ucmVmcmVzaE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuICB9O1xuXG4gIHZtLnJlZnJlc2hVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCk7XG4gIH07XG5cbiAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAodW5tYW5hZ2VkKSB7XG4gICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgdm0udW5tYW5hZ2VkU2VhcmNoVGV4dCA9ICcnO1xuICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuICAgICAgdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IHt9O1xuICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCA9IFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gICAgICB2bS5tYWNEZXZpY2VzID0ge307XG4gICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uTWFuYWdlZCA9IFtdO1xuICAgIH1cbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IChpdGVtKSA9PiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtLCB0cnVlKVxuXG4gIHZtLnByZXBhcmVGb3JFZGl0VmlldyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHNlYXJjaFRleHQpIHtcbiAgICBsZXQgbWFjLCBzZXJpYWwsIGdjbWlkO1xuICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgIG1hYyA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuICAgICAgc2VyaWFsID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuICAgICAgZ2NtaWQgPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIlxuICAgICAgaWYgKG1hYykge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkTWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIG1hYyA9IHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuICAgICAgc2VyaWFsID0gdm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuICAgICAgZ2NtaWQgPSB2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIlxuICAgICAgaWYgKG1hYykge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0ubWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0uc2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0uZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBpc01hdGNoKSB7XG4gICAgaWYgKCF1bm1hbmFnZWQpIHtcbiAgICAgIHZtLmRpc2FibGVkID0gIWlzTWF0Y2g7XG4gICAgICB2bS5kaXNhYmxlZEJ1dHRvbkxvYWRpbmcgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSAhaXNNYXRjaDtcbiAgICAgIHZtLnVubWFuYWdlZERpc2FibGVkQnV0dG9uTG9hZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHJlc291cmNlKSB7XG4gICAgbGV0IGRldmljZXNUb01hdGNoT24gPSB1bm1hbmFnZWQgPyB2bS5kZXZpY2VzVG9NYXRjaE9uVW5tYW5hZ2VkIDogdm0uZGV2aWNlc1RvTWF0Y2hPbk1hbmFnZWRcbiAgICBsZXQgZm91bmRNYXRjaCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGl0ZW0gb2YgZGV2aWNlc1RvTWF0Y2hPbikge1xuICAgICAgaWYgKHJlc291cmNlID09PSBpdGVtKSB7XG4gICAgICAgIGZvdW5kTWF0Y2ggPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICB2bS5jb250cm9sT3BlbkJ1dHRvbih1bm1hbmFnZWQsIGZvdW5kTWF0Y2gpXG4gICAgcmV0dXJuIGZvdW5kTWF0Y2hcbiAgfTtcblxuXG4gIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBwYXJ0aWFsKSB7XG4gICAgbGV0IGJ1dHRvbjtcbiAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICBidXR0b24gPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG4gICAgfVxuXG4gICAgbGV0IGJ5VGVuYW50ID0gZmFsc2U7XG4gICAgbGV0IHRlbmFudEtleSA9IG51bGw7XG5cbiAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgbGV0IGRldmljZXNUb1JldHVybjtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBsZXQgZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG4gICAgICAgICAgaWYgKGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICAgICAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLnNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcbiAgICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICAgICAgdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICAgICAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICAgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uVW5tYW5hZ2VkID0gZGV2aWNlc1RvUmV0dXJuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZtLmRldmljZXNUb01hdGNoT25NYW5hZ2VkID0gZGV2aWNlc1RvUmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBkZXZpY2VzVG9SZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH07XG5cbiAgdm0uZ2V0TWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAoa2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3Ioa2V5LCBwcmV2LCBuZXh0KTtcbiAgICByZXR1cm4gZGV2aWNlc1Byb21pc2UudGhlbigoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICB2bS5kZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcbiAgICAgIHZtLmRldmljZXNOZXh0ID0gcmVzcG9uc2UubmV4dF9jdXJzb3I7XG4gICAgICB2bS5kZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuICAgICAgcmV0dXJuIHZtLmdldEZldGNoU3VjY2VzcygpO1xuICAgIH0pLCByZXNwb25zZSA9PiB2bS5nZXRGZXRjaEZhaWx1cmUocmVzcG9uc2UpKTtcbiAgfTtcblxuICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKGtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCB1bm1hbmFnZWREZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldFVubWFuYWdlZERldmljZXNCeURpc3RyaWJ1dG9yKGtleSwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIHVubWFuYWdlZERldmljZXNQcm9taXNlLnRoZW4oKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG4gICAgICB2bS51bm1hbmFnZWREZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSByZXNwb25zZS5uZXh0X2N1cnNvcjtcbiAgICAgIHJldHVybiB2bS5nZXRGZXRjaFN1Y2Nlc3MoKTtcbiAgICB9KSwgcmVzcG9uc2UgPT4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKSk7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5kaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcbiAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcbiAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcbiAgfTtcblxuICB2bS5nZXRGZXRjaFN1Y2Nlc3MgPSAoKSA9PiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblxuICB2bS5nZXRGZXRjaEZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gYFVuYWJsZSB0byBmZXRjaCBkZXZpY2VzLiBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0uYDtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG4gIH07XG5cblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCwgbWFuYWdlZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICBpZiAobWFuYWdlZCkge1xuICAgICAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgbnVsbCwgdm0uZGV2aWNlc05leHQpO1xuICAgICAgfVxuICAgICAgaWYgKCFtYW5hZ2VkKSB7XG4gICAgICAgIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIG51bGwsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1hbmFnZWQpIHtcbiAgICAgICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLmRldmljZXNQcmV2LCBudWxsKTtcbiAgICAgIH1cbiAgICAgIGlmICghbWFuYWdlZCkge1xuICAgICAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge0RldmljZXNMaXN0aW5nQ3RybH1cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2RldmljZS9kZXZpY2VzLWxpc3RpbmcuY29udHJvbGxlci5qc1xuICoqLyIsImltcG9ydCBuYXR1cmFsU29ydCBmcm9tICdqYXZhc2NyaXB0LW5hdHVyYWwtc29ydCc7XG5cblxuZnVuY3Rpb24gQWRtaW5DdHJsKEFkbWluU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgRGV2aWNlc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgVG9hc3RzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgIFRlbmFudHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgIERpc3RyaWJ1dG9yc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBEZXZpY2UgU2VhcmNoIFZhcmlhYmxlc1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIlNlcmlhbCBOdW1iZXJcIjtcbiAgdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPSBcIk1hbmFnZWRcIlxuICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB2bS5nY21pZERldmljZXMgPSB7fTtcbiAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gVGVuYW50IFNlYXJjaCBWYXJpYWJsZXNcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLnNlYXJjaGVkVGVuYW50cyA9IFtdO1xuICB2bS50ZW5hbnRTZWFyY2hNYXRjaCA9IG51bGw7XG4gIHZtLnRlbmFudFNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gRGV2aWNlIFNlYXJjaFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAoaXNNYXRjaCkge1xuICAgIHZtLmRpc2FibGVkID0gIWlzTWF0Y2g7XG4gICAgcmV0dXJuIHZtLmxvYWRpbmdEaXNhYmxlZCA9IGZhbHNlO1xuICB9O1xuXG4gIHZtLmNoYW5nZVJhZGlvID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuICAgIHZtLm1hY0RldmljZXMgPSB7fTtcbiAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG4gIH07XG5cbiAgdm0uaXNSZXNvdXJjZVZhbGlkID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgbGV0IGZvdW5kTWF0Y2ggPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpdGVtIG9mIHZtLmRldmljZXNUb01hdGNoT24pIHtcbiAgICAgIGlmIChyZXNvdXJjZSA9PT0gaXRlbSkge1xuICAgICAgICBmb3VuZE1hdGNoID0gdHJ1ZTtcbiAgICAgICAgdm0ubWF0Y2hEZXZpY2UgPSBpdGVtO1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICB2bS5jb250cm9sT3BlbkJ1dHRvbihmb3VuZE1hdGNoKVxuICAgIHJldHVybiBmb3VuZE1hdGNoXG4gIH07XG5cbiAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHBhcnRpYWwpIHtcbiAgICBsZXQgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG4gICAgbGV0IGJ5VGVuYW50ID0gZmFsc2U7XG4gICAgbGV0IHRlbmFudEtleSA9IG51bGw7XG4gICAgbGV0IGRpc3RyaWJ1dG9yID0gbnVsbDtcbiAgICBsZXQgZ2xvYmFsbHkgPSB0cnVlO1xuXG4gICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnNlYXJjaERldmljZXMocGFydGlhbCwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCBkaXN0cmlidXRvciwgdW5tYW5hZ2VkLCBnbG9iYWxseSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBsZXQgZGV2aWNlc1RvUmV0dXJuO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgIGxldCBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcbiAgICAgICAgICBpZiAoYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuICAgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF1cbiAgICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PT0gXCJNQUNcIikge1xuICAgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBkZXZpY2VzVG9SZXR1cm5cblxuICAgICAgICAgIHJldHVybiBkZXZpY2VzVG9SZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH07XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gVGVuYW50IFNlYXJjaFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICB2bS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lID0gZnVuY3Rpb24gKHRlbmFudF9uYW1lKSB7XG4gICAgaWYgKCF0ZW5hbnRfbmFtZSB8fCB0ZW5hbnRfbmFtZS5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgbGV0IHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lKHRlbmFudF9uYW1lLCB0cnVlKVxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICB2bS5zZWFyY2hlZFRlbmFudHMgPSByZXNwb25zZVxuICAgICAgaWYgKHZtLnNlYXJjaGVkVGVuYW50cykge1xuICAgICAgICByZXR1cm4gdm0uc2VhcmNoZWRUZW5hbnRzLm1hcCgoaSkgPT4gaS5uYW1lKS5zb3J0KG5hdHVyYWxTb3J0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gcHJvbWlzZS5jYXRjaCgocmVzcG9uc2UpID0+IHtcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgVW5hYmxlIHRvIGZldGNoIHRlbmFudHMuIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuICAgIH0pXG4gIH1cblxuXG4gIHZtLmlzVGVuYW50VmFsaWQgPSAodGVuYW50X25hbWUpID0+IHtcbiAgICBpZiAoIXRlbmFudF9uYW1lIHx8IHRlbmFudF9uYW1lLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cblxuICAgIGxldCBtYXRjaCA9IHZtLnNlYXJjaGVkVGVuYW50cztcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGZvciAobGV0IGVhY2hOYW1lIG9mIG1hdGNoKSB7XG4gICAgICAgIGlmICh0ZW5hbnRfbmFtZSA9PT0gZWFjaE5hbWUubmFtZSkge1xuICAgICAgICAgIHZtLnRlbmFudFNlYXJjaERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgdm0uc2VhcmNoTWF0Y2ggPSBlYWNoTmFtZVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bS50ZW5hbnRTZWFyY2hEaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdm0udGVuYW50U2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBEaXN0cmlidXRvciBUYWJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgdm0uZ2V0QWxsRGlzdHJpYnV0b3JzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmxvYWRpbmdBbGxEaXN0cmlidXRvcnMgPSB0cnVlO1xuICAgIGxldCBnZXRBbGxEaXN0cmlidXRvcnNQcm9taXNlID0gQWRtaW5TZXJ2aWNlLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuICAgIHJldHVybiBnZXRBbGxEaXN0cmlidXRvcnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmxvYWRpbmdBbGxEaXN0cmlidXRvcnMgPSBmYWxzZTtcbiAgICAgIHJldHVybiB2bS5hbGxEaXN0cmlidXRvcnMgPSBkYXRhO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLm1ha2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uIChldiwgZGlzdHJpYnV0b3JOYW1lLCBhZG1pbkVtYWlsLCBmb3JtKSB7XG4gICAgbGV0IGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybShcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JyxcbiAgICAgICAgdGV4dENvbnRlbnQ6IGBJZiB5b3UgcHJvY2VlZCwgJHtkaXN0cmlidXRvck5hbWV9IHdpbGwgYmUgY3JlYXRlZC5gLFxuICAgICAgICB0YXJnZXRFdmVudDogZXYsXG4gICAgICAgIGFyaWFMYWJlbDogJ0x1Y2t5IGRheScsXG4gICAgICAgIG9rOiAnWWVhaCEnLFxuICAgICAgICBjYW5jZWw6ICdGb3JnZXQgaXQuJ1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oKGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBtYWtlRGlzdHJpYnV0b3JQcm9taXNlID0gQWRtaW5TZXJ2aWNlLm1ha2VEaXN0cmlidXRvcihkaXN0cmlidXRvck5hbWUsIGFkbWluRW1haWwpO1xuICAgICAgbWFrZURpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZtLmRpc3RyaWJ1dG9yID0ge307XG4gICAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XG4gICAgICAgIGZvcm0uJHNldFVudG91Y2hlZCgpO1xuICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKCgpID0+IHZtLmFsbERpc3RyaWJ1dG9ycyA9IHZtLmdldEFsbERpc3RyaWJ1dG9ycygpKSwgMjAwMCk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG1ha2VEaXN0cmlidXRvclByb21pc2UuY2F0Y2goZGF0YSA9PiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGRhdGEuZGF0YS5tZXNzYWdlKSk7XG4gICAgfSkpO1xuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBVc2VycyBUYWJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgdm0uYWRkVXNlclRvRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoZXYsIHVzZXJFbWFpbCwgZGlzdHJpYnV0b3JBZG1pbiwgd2hpY2hEaXN0cmlidXRvciwgZm9ybSkge1xuICAgIGlmICghZGlzdHJpYnV0b3JBZG1pbikge1xuICAgICAgZGlzdHJpYnV0b3JBZG1pbiA9IGZhbHNlO1xuICAgIH1cbiAgICBsZXQgd2l0aE9yV2l0aG91dCA9IGRpc3RyaWJ1dG9yQWRtaW4gPyBcIndpdGhcIiA6IFwid2l0aG91dFwiO1xuXG4gICAgLy8gbm8gb3B0aW9uIHRvIHNlbGVjdCBkaXN0cmlidXRvciBpcyBnaXZlbiB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIG9wdGlvblxuICAgIGlmICghd2hpY2hEaXN0cmlidXRvcikge1xuICAgICAgd2hpY2hEaXN0cmlidXRvciA9IHZtLmRpc3RyaWJ1dG9yc0FzQWRtaW5bMF07XG4gICAgfVxuXG4gICAgbGV0IGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybShcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JyxcbiAgICAgICAgdGV4dENvbnRlbnQ6IGAke3VzZXJFbWFpbH0gd2lsbCBiZSBhZGRlZCB0byAke3doaWNoRGlzdHJpYnV0b3J9XG4gICAgICAgICR7d2l0aE9yV2l0aG91dH0gYWRtaW5pc3RyYXRvciBwcml2aWxlZ2VzYCxcbiAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuICAgICAgICBvazogJ09mIGNvdXJzZSEnLFxuICAgICAgICBjYW5jZWw6ICdPb3BzLCBuZXZlcm1pbmQuJ1xuICAgICAgfVxuICAgICk7XG5cbiAgICByZXR1cm4gJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlID0gQWRtaW5TZXJ2aWNlLmFkZFVzZXJUb0Rpc3RyaWJ1dG9yKHVzZXJFbWFpbCwgd2hpY2hEaXN0cmlidXRvciwgZGlzdHJpYnV0b3JBZG1pbik7XG4gICAgICBhZGRVc2VyVG9EaXN0cmlidXRvclByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgdm0udXNlciA9IHt9O1xuICAgICAgICBmb3JtLiRzZXRQcmlzdGluZSgpO1xuICAgICAgICBmb3JtLiRzZXRVbnRvdWNoZWQoKTtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKCgpID0+IHZtLmdldFVzZXJzT2ZEaXN0cmlidXRvcigpKSwgMjAwMCk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZS5jYXRjaChkYXRhID0+IFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoZGF0YS5kYXRhLm1lc3NhZ2UpKTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5zd2l0Y2hEaXN0cmlidXRvciA9IGZ1bmN0aW9uIChkaXN0cmlidXRvcikge1xuICAgIERpc3RyaWJ1dG9yc1NlcnZpY2Uuc3dpdGNoRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoYERpc3RyaWJ1dG9yICR7ZGlzdHJpYnV0b3IubmFtZX0gc2VsZWN0ZWQhYCk7XG4gIH07XG5cbiAgdm0uZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmxvYWRpbmdVc2Vyc09mRGlzdHJpYnV0b3IgPSB0cnVlO1xuICAgIGxldCBjdXJyZW50RGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG4gICAgbGV0IHVzZXJzb2ZEaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UuZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKGN1cnJlbnREaXN0cmlidXRvcktleSk7XG4gICAgcmV0dXJuIHVzZXJzb2ZEaXN0cmlidXRvclByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0ubG9hZGluZ1VzZXJzT2ZEaXN0cmlidXRvciA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHZtLnVzZXJzT2ZEaXN0cmlidXRvciA9IGRhdGE7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IoKTtcbiAgICB2bS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcbiAgICB2bS5pc0FkbWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldElzQWRtaW4oKTtcbiAgICB2bS5kaXN0cmlidXRvcnNBc0FkbWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKTtcbiAgICB2bS5jdXJyZW50RGlzdHJpYnV0b3JOYW1lID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKTtcblxuICAgIGlmICh2bS5pc0FkbWluKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0QWxsRGlzdHJpYnV0b3JzKCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmVkaXRUZW5hbnQgPSBpdGVtID0+ICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXk6IGl0ZW0ua2V5fSk7XG5cbiAgdm0uZWRpdEl0ZW0gPSAoc2VhcmNoVGV4dCkgPT4ge1xuICAgIGxldCBtYWMsIHNlcmlhbCwgZ2NtaWQ7XG4gICAgbGV0IGJ1dHRvbiA9IHZtLnNlbGVjdGVkQnV0dG9uO1xuXG4gICAgbWFjID0gYnV0dG9uID09PSBcIk1BQ1wiO1xuICAgIHNlcmlhbCA9IGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG4gICAgZ2NtaWQgPSBidXR0b24gPT09IFwiR0NNIElEXCJcblxuICAgIGlmIChtYWMpIHtcbiAgICAgIERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKHZtLm1hY0RldmljZXNbc2VhcmNoVGV4dF0pO1xuICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG4gICAgICBEZXZpY2VzU2VydmljZS5lZGl0SXRlbSh2bS5zZXJpYWxEZXZpY2VzW3NlYXJjaFRleHRdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0odm0uZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgIH1cbiAgfVxuXG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0FkbWluQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9hZG1pbi9hZG1pbi1jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gQXV0aGVudGljYXRpb25DdHJsKCRzY29wZSwgJGxvZywgJHN0YXRlLCAkdGltZW91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb29mUGxheVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGV2aWNlc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGVuYW50c1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG5cbiAgdm0ub25Hb29nbGVQbHVzU2lnbkluU3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCwgYXV0aFJlc3VsdCkge1xuICAgIGlmICghdm0uZ29vZ2xlUGx1c1NpZ25JbkJ1dHRvbkNsaWNrZWQpIHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIH1cbiAgICBTZXNzaW9uc1NlcnZpY2UucmVtb3ZlVXNlckluZm8oKVxuICAgIGxldCBwcm9taXNlID0gU2Vzc2lvbnNTZXJ2aWNlLmxvZ2luKGF1dGhSZXN1bHQpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ubG9naW5TdWNjZXNzLCB2bS5sb2dpbkZhaWx1cmUpO1xuICB9O1xuXG5cbiAgdm0ub25Hb29nbGVQbHVzU2lnbkluRmFpbHVyZSA9IGZ1bmN0aW9uIChldmVudCwgYXV0aFJlc3VsdCkge1xuICAgIGlmICh2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCkge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gYXV0aGVudGljYXRlIHRvIEdvb2dsZSsuJywgJ2Vycm9yJyk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS4kb24oJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1zdWNjZXNzJywgdm0ub25Hb29nbGVQbHVzU2lnbkluU3VjY2Vzcyk7XG4gICRzY29wZS4kb24oJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1mYWlsdXJlJywgdm0ub25Hb29nbGVQbHVzU2lnbkluRmFpbHVyZSk7XG5cbiAgdm0uaW5pdGlhbGl6ZVNpZ25JbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5jbGllbnRJZCA9IGlkZW50aXR5Lk9BVVRIX0NMSUVOVF9JRDtcbiAgICB2bS5zdGF0ZSA9IGlkZW50aXR5LlNUQVRFO1xuICAgIHJldHVybiB2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCA9IGZhbHNlO1xuICB9O1xuXG4gIHZtLmluaXRpYWxpemVTaWduT3V0ID0gZnVuY3Rpb24gKCkge1xuICAgIFNlc3Npb25zU2VydmljZS5yZW1vdmVVc2VySW5mbygpO1xuICAgIHJldHVybiAkdGltZW91dCh2bS5wcm9jZWVkVG9TaWduZWRPdXQsIDUwKTtcbiAgfTtcblxuICB2bS5sb2dpblN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gJHN0YXRlLmdvKCdkaXN0cmlidXRvcl9zZWxlY3Rpb24nKTtcbiAgfTtcblxuICB2bS5sb2dpbkZhaWx1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIGF1dGhlbnRpY2F0ZSB0byBTdG9ybXBhdGguJywgJ2Vycm9yJyk7XG4gIH07XG5cblxuICB2bS5wcm9jZWVkVG9TaWduZWRPdXQgPSAoKSA9PiAkc3RhdGUuZ28oJ3NpZ25lZF9vdXQnKTtcblxuICB2bS5wcm9jZWVkVG9TaWduSW4gPSAoKSA9PiAkc3RhdGUuZ28oJ3NpZ25faW4nKTtcblxuICB2bS5vbkNsaWNrR29vZ2xlUGx1c1NpZ25JbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCA9IHRydWU7XG4gICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtBdXRoZW50aWNhdGlvbkN0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvYXV0aGVudGljYXRpb24vYXV0aGVudGljYXRpb24tY29udHJvbGxlci5qc1xuICoqLyIsImltcG9ydCBjb250YWlucyBmcm9tICdsb2Rhc2guY29udGFpbnMnO1xuXG5mdW5jdGlvbiBBcHBDb250cm9sbGVyKCRtZFNpZGVuYXYsICRzdGF0ZSwgJHdpbmRvdywgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuXG4gIHZtLmN1cnJlbnREaXN0cmlidXRlckluRGlzdHJpYnV0ZXJBZG1pbkxpc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGN1cnJlbnREaXN0cmlidXRvck5hbWUgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpO1xuICAgIGxldCBkaXN0cmlidXRvcnNBc0FkbWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKTtcbiAgICByZXR1cm4gY29udGFpbnMoZGlzdHJpYnV0b3JzQXNBZG1pbiwgY3VycmVudERpc3RyaWJ1dG9yTmFtZSk7XG4gIH07XG5cbiAgdm0uZ2V0SWRlbnRpdHkgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleTogU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSxcbiAgICAgIGVtYWlsOiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCksXG4gICAgICBhZG1pbjogU2Vzc2lvbnNTZXJ2aWNlLmdldElzQWRtaW4oKSxcbiAgICAgIGRpc3RyaWJ1dG9yX2FkbWluOiBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpLFxuICAgICAgYWRtaW5fb2ZfY3VycmVudF9kaXN0cmlidXRvcjogdm0uY3VycmVudERpc3RyaWJ1dGVySW5EaXN0cmlidXRlckFkbWluTGlzdCgpLFxuICAgICAgZGlzdHJpYnV0b3JLZXk6IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSxcbiAgICAgIGRpc3RyaWJ1dG9yTmFtZTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKVxuICAgIH1cbiAgfTtcblxuICB2bS5pc0N1cnJlbnRVUkxEaXN0cmlidXRvclNlbGVjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCB0ZXN0ID0gJHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNlYXJjaCgvZGlzdHJpYnV0b3Jfc2VsZWN0aW9uLyk7XG4gICAgbGV0IHJlc3VsdCA9IHRlc3QgPj0gMDtcbiAgICByZXR1cm4gcmVzdWx0XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9ICgpID0+IHZtLmdldElkZW50aXR5KCk7XG5cbiAgdm0udG9nZ2xlU2lkZW5hdiA9ICgpID0+ICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcblxuICB2bS5nb1RvID0gZnVuY3Rpb24gKHN0YXRlTmFtZSwgaWQpIHtcbiAgICAkc3RhdGUuZ28oc3RhdGVOYW1lLCB7aWR9KTtcbiAgICBpZiAoJG1kU2lkZW5hdignbGVmdCcpLmlzT3BlbigpKSB7XG4gICAgICByZXR1cm4gJG1kU2lkZW5hdignbGVmdCcpLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmluaXRpYWxpemUoKVxuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtBcHBDb250cm9sbGVyfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2FwcC9hcHAtY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIERpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsKCRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc3RyaWJ1dG9yc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5kaXN0cmlidXRvcnMgPSBbXTtcbiAgdm0uY3VycmVudERpc3RyaWJ1dG9yID0gdW5kZWZpbmVkO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmxvZWFkaW5nID0gdHJ1ZTtcbiAgICBsZXQgZGlzdHJpYnV0b3JzUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZmV0Y2hBbGxCeVVzZXIoU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSk7XG4gICAgcmV0dXJuIGRpc3RyaWJ1dG9yc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uZGlzdHJpYnV0b3JzID0gZGF0YTtcbiAgICAgIGlmICh2bS5kaXN0cmlidXRvcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB2bS5zZWxlY3REaXN0cmlidXRvcih2bS5kaXN0cmlidXRvcnNbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2bS5zZWxlY3REaXN0cmlidXRvciA9IChkaXN0cmlidXRvcikgPT4gRGlzdHJpYnV0b3JzU2VydmljZS5zd2l0Y2hEaXN0cmlidXRvcihkaXN0cmlidXRvcik7XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0Rpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9yLXNlbGVjdG9yLWNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBEaXN0cmlidXRvcnNDdHJsKCRzdGF0ZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uZGlzdHJpYnV0b3JzID0gW107XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0Rpc3RyaWJ1dG9yc0N0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3JzLWNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBEb21haW5zQ3RybCgkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICBEb21haW5zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgIHN3ZWV0KSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5kb21haW5zID0gW107XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmZldGNoQWxsRG9tYWlucygpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oZGF0YSA9PiB2bS5kb21haW5zID0gZGF0YSk7XG4gIH07XG5cbiAgdm0uZWRpdEl0ZW0gPSBpdGVtID0+ICRzdGF0ZS5nbygnZWRpdERvbWFpbicsIHtkb21haW5LZXk6IGl0ZW0ua2V5fSk7XG5cbiAgdm0uZGVsZXRlSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgbGV0IGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHByb21pc2UgPSBEb21haW5zU2VydmljZS5kZWxldGUoaXRlbSk7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKCgpID0+IHZtLmluaXRpYWxpemUoKSk7XG4gICAgfTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdyh7XG4gICAgICB0aXRsZTogXCJBcmUgeW91IHN1cmU/XCIsXG4gICAgICB0ZXh0OiBcIlRoaXMgd2lsbCBwZXJtYW5lbnRseSByZW1vdmUgdGhlIGRvbWFpbiBmcm9tIHRoZSBkaXN0cmlidXRvciBhbmQgZGlzY29ubmVjdCBmcm9tIHRlbmFudHMuXCIsXG4gICAgICB0eXBlOiBcIndhcm5pbmdcIixcbiAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiI0RENkI1NVwiLFxuICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwiWWVzLCByZW1vdmUgdGhlIGRvbWFpbiFcIixcbiAgICAgIGNsb3NlT25Db25maXJtOiB0cnVlXG4gICAgfSwgY2FsbGJhY2spO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEb21haW5zQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9kb21haW4vZG9tYWlucy5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gRG9tYWluRGV0YWlsc0N0cmwoJGxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIERvbWFpbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dlZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5jdXJyZW50RG9tYWluID0ge1xuICAgIGtleTogdW5kZWZpbmVkLFxuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICBpbXBlcnNvbmF0aW9uX2FkbWluX2VtYWlsX2FkZHJlc3M6IHVuZGVmaW5lZCxcbiAgICBkaXN0cmlidXRvcl9rZXk6IHVuZGVmaW5lZCxcbiAgICBvcmdhbml6YXRpb25fdW5pdF9wYXRoOiAnL3NreWtpdCcsXG4gICAgYWN0aXZlOiB0cnVlXG4gIH07XG4gIHZtLmRldmljZXNBY2Nlc3MgPSBmYWxzZTtcbiAgdm0ub3JnVW5pdHNBY2Nlc3MgPSBmYWxzZTtcbiAgdm0udXNlcnNBY2Nlc3MgPSBmYWxzZTtcbiAgdm0uY3VycmVudERvbWFpbnMgPSBbXTtcbiAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy5kb21haW5LZXk7XG5cbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IGRvbWFpblByb21pc2UgPSBEb21haW5zU2VydmljZS5nZXREb21haW5CeUtleSgkc3RhdGVQYXJhbXMuZG9tYWluS2V5KTtcbiAgICBkb21haW5Qcm9taXNlLnRoZW4oZGF0YSA9PiB2bS5jdXJyZW50RG9tYWluID0gZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgdm0uY3VycmVudERvbWFpbi5kaXN0cmlidXRvcl9rZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG4gIH1cblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5lZGl0TW9kZSkge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgICBsZXQgY29ubmVjdGl2aXR5UHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmdldERpcmVjdG9yeUFwaUNvbm5lY3Rpdml0eUluZm9ybWF0aW9uKCRzdGF0ZVBhcmFtcy5kb21haW5LZXkpO1xuICAgICAgcmV0dXJuIGNvbm5lY3Rpdml0eVByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NEZXRlcm1pbmluZ0Nvbm5lY3Rpdml0eSwgdm0ub25GYWlsdXJlRGV0ZXJtaW5pbmdDb25uZWN0aXZpdHkpO1xuICAgIH1cbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NEZXRlcm1pbmluZ0Nvbm5lY3Rpdml0eSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdm0uZGV2aWNlc0FjY2VzcyA9IGRhdGEuZGV2aWNlc0FjY2VzcztcbiAgICB2bS5vcmdVbml0c0FjY2VzcyA9IGRhdGEub3JnVW5pdHNBY2Nlc3M7XG4gICAgdm0udXNlcnNBY2Nlc3MgPSBkYXRhLnVzZXJzQWNjZXNzO1xuICAgIHZtLmRldmljZXNBY2Nlc3NFeGNlcHRpb24gPSBkYXRhLmRldmljZXNBY2Nlc3NFeGNlcHRpb247XG4gICAgdm0ub3JnVW5pdHNBY2Nlc3NFeGNlcHRpb24gPSBkYXRhLm9yZ1VuaXRzQWNjZXNzRXhjZXB0aW9uO1xuICAgIHZtLnVzZXJzQWNjZXNzRXhjZXB0aW9uID0gZGF0YS51c2Vyc0FjY2Vzc0V4Y2VwdGlvbjtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgfTtcblxuICB2bS5vbkZhaWx1cmVEZXRlcm1pbmluZ0Nvbm5lY3Rpdml0eSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYEZhaWx1cmUgZGV0ZXJtaW5pbmcgZGlyZWN0b3J5IEFQSSBjb25uZWN0aXZpdHk6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSBkZXRlcm1pbmUgeW91ciBkZXZpY2UgY29ubmVjdGl2aXR5IGF0IHRoaXMgdGltZS4nKTtcbiAgfTtcblxuICB2bS5vblNhdmVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBEb21haW5zU2VydmljZS5zYXZlKHZtLmN1cnJlbnREb21haW4pO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzU2F2ZURvbWFpbiwgdm0ub25GYWlsdXJlU2F2ZURvbWFpbik7XG4gIH07XG5cbiAgdm0ub25TdWNjZXNzU2F2ZURvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcbiAgfTtcblxuICB2bS5vbkZhaWx1cmVTYXZlRG9tYWluID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAkbG9nLmluZm8oYEZhaWx1cmUgc2F2aW5nIGRvbWFpbi4gRG9tYWluIGFscmVhZHkgZXhpc3RzOiAke2Vycm9yLnN0YXR1c30gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGhpcyBkb21haW4gbmFtZSBhbHJlYWR5IGV4aXN0LiBQbGVhc2UgZW50ZXIgYSB1bmlxdWUgZG9tYWluIG5hbWUuJywgJ2Vycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRsb2cuZXJyb3IoYEZhaWx1cmUgc2F2aW5nIGRvbWFpbjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gc2F2ZSB5b3VyIHVwZGF0ZXMgYXQgdGhpcyB0aW1lLicpO1xuICAgIH1cbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IGl0ZW0gPT4gJHN0YXRlLmdvKCdlZGl0RG9tYWluJywge2RvbWFpbktleTogaXRlbS5rZXl9KTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7RG9tYWluRGV0YWlsc0N0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvZG9tYWluL2RvbWFpbi1kZXRhaWxzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmZ1bmN0aW9uIFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLnJhZGlvQnV0dG9uQ2hvaWNlcyA9IHtcbiAgICBncm91cDE6ICdCeSBEZXZpY2UnLFxuICAgIGdyb3VwMjogJ1N1bW1hcml6ZWQnLFxuICAgIHNlbGVjdGlvbjogbnVsbFxuICB9O1xuXG5cbiAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG4gICAgc3RhcnQ6IG51bGwsXG4gICAgZW5kOiBudWxsXG4gIH07XG5cbiAgdm0uZm9ybVZhbGlkaXR5ID0ge1xuICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuICAgIGVuZF9kYXRlOiBmYWxzZSxcbiAgICBsb2NhdGlvbnM6IGZhbHNlLFxuICB9O1xuXG4gIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG4gIHZtLm5vX2NhY2hlID0gdHJ1ZTtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMgPSBbXTtcblxuICB2bS5pbml0aWFsaXplID0gKCkgPT5cbiAgICBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbExvY2F0aW9ucyh2bS50ZW5hbnQpXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHZtLmxvY2F0aW9ucyA9IGRhdGEuZGF0YS5sb2NhdGlvbnM7XG4gICAgICAgIGlmICh2bS5sb2NhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIDtcblxuICB2bS5yZWZyZXNoTG9jYXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5zZWxlY3RlZEl0ZW0gPSAnJztcbiAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zID0gW107XG4gICAgdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG4gIHZtLmFkZFRvU2VsZWN0ZWRMb2NhdGlvbnMgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmICh2bS5pc0xvY2F0aW9uVmFsaWQoc2VhcmNoVGV4dCkpIHtcbiAgICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5wdXNoKHNlYXJjaFRleHQpO1xuICAgICAgbGV0IGluZGV4ID0gdm0ubG9jYXRpb25zLmluZGV4T2Yoc2VhcmNoVGV4dCk7XG4gICAgICB2bS5sb2NhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB9XG4gICAgdm0uYXJlTG9jYXRpb25zVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKGxvY2F0aW9ucywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChsb2NhdGlvbnMsIHNlYXJjaFRleHQpO1xuXG5cbiAgdm0uaXNSYWRpb1ZhbGlkID0gZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc0xvY2F0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0ubG9jYXRpb25zKSkge1xuICAgICAgaWYgKCFfX2luX18oc2VhcmNoVGV4dCwgdm0uc2VsZWN0ZWRfbG9jYXRpb25zKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLmFyZUxvY2F0aW9uc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5sb2NhdGlvbnMgPSAodm0uc2VsZWN0ZWRfbG9jYXRpb25zLmxlbmd0aCA+IDApO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgPSAoc3RhcnRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSA9IChlbmRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0ucmVtb3ZlRnJvbVNlbGVjdGVkTG9jYXRpb24gPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGxldCBpbmRleCA9IHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5pbmRleE9mKGl0ZW0pO1xuICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHZtLmxvY2F0aW9ucy5wdXNoKGl0ZW0pO1xuICAgIHZtLmFyZUxvY2F0aW9uc1ZhbGlkKCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkubG9jYXRpb25zICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG4gICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHZtLmZpbmFsID0ge1xuICAgICAgICBzdGFydF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuICAgICAgICBlbmRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uZW5kKS51bml4KCksXG4gICAgICAgIGxvY2F0aW9uczogdm0uc2VsZWN0ZWRfbG9jYXRpb25zLFxuICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG5cbiAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwubG9jYXRpb25zLCB2bS50ZW5hbnQpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNTdW1tYXJpemVkKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwubG9jYXRpb25zLCB2bS50ZW5hbnQpO1xuICAgIH1cbiAgfTtcblxuICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblxuICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpXG4gICAgICAudGhlbihkYXRhID0+IHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cylcbiAgO1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKHJlc291cmNlcywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXG4gIHZtLmlzU2VsZWN0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoKSB7XG4gICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cblxuICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG4gICAgaWYgKHRlbmFudCAhPT0gdm0uY3VycmVudFRlbmFudCkge1xuICAgICAgJHN0YXRlLmdvKCdwcm9vZkRldGFpbCcsIHtcbiAgICAgICAgdGVuYW50XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChgUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgc2V0IHRvICR7dGVuYW50fWApO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBpcyBhbHJlYWR5IHNldCB0byAke3RlbmFudH1gKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufTtcblxuZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcbiAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xufVxuXG5leHBvcnQge1Byb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvcHJvb2YvbXVsdGktbG9jYXRpb24uY29udHJvbGxlci5qc1xuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuXG4gIHZtLnJhZGlvQnV0dG9uQ2hvaWNlcyA9IHtcbiAgICBncm91cDE6ICdCeSBEYXRlJyxcbiAgICBncm91cDI6ICdTdW1tYXJpemVkJyxcbiAgICBzZWxlY3Rpb246IG51bGxcbiAgfTtcblxuXG4gIHZtLmRhdGVUaW1lU2VsZWN0aW9uID0ge1xuICAgIHN0YXJ0OiBudWxsLFxuICAgIGVuZDogbnVsbFxuICB9O1xuXG4gIHZtLmZvcm1WYWxpZGl0eSA9IHtcbiAgICBzdGFydF9kYXRlOiBmYWxzZSxcbiAgICBlbmRfZGF0ZTogZmFsc2UsXG4gICAgZGlzcGxheXM6IGZhbHNlLFxuICB9O1xuXG4gIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG4gIHZtLm5vX2NhY2hlID0gdHJ1ZTtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuICB2bS5zZWxlY3RlZF9kaXNwbGF5cyA9IFtdO1xuXG5cbiAgdm0uaW5pdGlhbGl6ZSA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxEaXNwbGF5cyh2bS50ZW5hbnQpXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHZtLmRpc3BsYXlzID0gZGF0YS5kYXRhLmRldmljZXM7XG4gICAgICAgIGlmICh2bS5kaXNwbGF5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgO1xuXG4gIHZtLnJlZnJlc2hEaXNwbGF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgdm0uc2VsZWN0ZWRJdGVtID0gJyc7XG4gICAgdm0ubG9hZGluZyA9IHRydWU7XG4gICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzID0gW107XG4gICAgdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG4gIHZtLmFkZFRvU2VsZWN0ZWREaXNwbGF5cyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKHZtLmlzRGlzcGxheVZhbGlkKHNlYXJjaFRleHQpKSB7XG4gICAgICB2bS5zZWxlY3RlZF9kaXNwbGF5cy5wdXNoKHNlYXJjaFRleHQpO1xuICAgICAgbGV0IGluZGV4ID0gdm0uZGlzcGxheXMuaW5kZXhPZihzZWFyY2hUZXh0KTtcbiAgICAgIHZtLmRpc3BsYXlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgfVxuICAgIHZtLmFyZURpc3BsYXlzVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKGRpc3BsYXlzLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKGRpc3BsYXlzLCBzZWFyY2hUZXh0KTtcblxuXG4gIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkudHlwZSA9IHNlbGVjdGlvbjtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNEaXNwbGF5VmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0uZGlzcGxheXMpKSB7XG4gICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9kaXNwbGF5cykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgdm0uYXJlRGlzcGxheXNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuZGlzcGxheXMgPSAodm0uc2VsZWN0ZWRfZGlzcGxheXMubGVuZ3RoID4gMCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5pc1N0YXJ0RGF0ZVZhbGlkID0gZnVuY3Rpb24gKHN0YXJ0X2RhdGUpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IChzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRW5kRGF0ZVZhbGlkID0gZnVuY3Rpb24gKGVuZF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gKGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWREaXNwbGF5ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBsZXQgaW5kZXggPSB2bS5zZWxlY3RlZF9kaXNwbGF5cy5pbmRleE9mKGl0ZW0pO1xuICAgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgdm0uZGlzcGxheXMucHVzaChpdGVtKTtcbiAgICB2bS5hcmVEaXNwbGF5c1ZhbGlkKCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkuZGlzcGxheXMgJiYgdm0uZm9ybVZhbGlkaXR5LnR5cGUpIHtcbiAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG4gICAgICAgIHN0YXJ0X2RhdGVfdW5peDogbW9tZW50KHZtLmRhdGVUaW1lU2VsZWN0aW9uLnN0YXJ0KS51bml4KCksXG4gICAgICAgIGVuZF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcbiAgICAgICAgZGlzcGxheXM6IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLFxuICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG5cbiAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNCeURhdGUodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5kaXNwbGF5cywgdm0udGVuYW50KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5kaXNwbGF5cywgdm0udGVuYW50KTtcbiAgICB9XG4gIH07XG5cblxuICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblxuICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpXG4gICAgICAudGhlbihkYXRhID0+IHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cylcbiAgO1xuXG4gIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG4gICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuICAgICAgICB0ZW5hbnRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJHt0ZW5hbnR9YCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoYFByb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICR7dGVuYW50fWApO1xuICAgIH1cbiAgfTtcblxuICB2bS5xdWVyeVNlYXJjaCA9IChyZXNvdXJjZXMsIHNlYXJjaFRleHQpID0+IFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblxuICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG5cbiAgcmV0dXJuIHZtO1xufTtcblxuZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcbiAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xufVxuXG5leHBvcnQge1Byb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9wcm9vZi9tdWx0aS1kaXNwbGF5LmNvbnRyb2xsZXIuanNcbiAqKi8iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cblxuZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybChQcm9vZlBsYXlTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgVG9hc3RzU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuICAgIGdyb3VwMTogJ0J5IERldmljZScsXG4gICAgZ3JvdXAyOiAnQnkgRGF0ZScsXG4gICAgc2VsZWN0aW9uOiBudWxsXG4gIH07XG5cblxuICB2bS5kYXRlVGltZVNlbGVjdGlvbiA9IHtcbiAgICBzdGFydDogbnVsbCxcbiAgICBlbmQ6IG51bGxcbiAgfTtcblxuICB2bS5mb3JtVmFsaWRpdHkgPSB7XG4gICAgc3RhcnRfZGF0ZTogZmFsc2UsXG4gICAgZW5kX2RhdGU6IGZhbHNlLFxuICAgIHJlc291cmNlczogZmFsc2UsXG4gIH07XG5cbiAgdm0udGVuYW50ID0gJHN0YXRlUGFyYW1zLnRlbmFudDtcbiAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gIHZtLnNlbGVjdGVkX3Jlc291cmNlcyA9IFtdO1xuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsUmVzb3VyY2VzKHZtLnRlbmFudClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdm0uZnVsbF9yZXNvdXJjZV9tYXAgPSBkYXRhLmRhdGEucmVzb3VyY2VzO1xuICAgICAgICB2bS5yZXNvdXJjZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmRhdGEucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IHJlc291cmNlID0gZGF0YS5kYXRhLnJlc291cmNlc1tpXTtcbiAgICAgICAgICB2bS5yZXNvdXJjZXMucHVzaChyZXNvdXJjZS5yZXNvdXJjZV9uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2bS5yZXNvdXJjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIDtcblxuICB2bS5yZWZyZXNoUmVzb3VyY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5zZWxlY3RlZEl0ZW0gPSAnJztcbiAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzID0gW107XG4gICAgdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG4gIHZtLmFkZFRvU2VsZWN0ZWRSZXNvdXJjZXMgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmICh2bS5pc1Jlc291cmNlVmFsaWQoc2VhcmNoVGV4dCkpIHtcbiAgICAgIHZtLnNlbGVjdGVkX3Jlc291cmNlcy5wdXNoKHNlYXJjaFRleHQpO1xuICAgICAgbGV0IGluZGV4ID0gdm0ucmVzb3VyY2VzLmluZGV4T2Yoc2VhcmNoVGV4dCk7XG4gICAgICB2bS5yZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB9XG4gICAgdm0uYXJlUmVzb3VyY2VzVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKHJlc291cmNlcywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXG5cbiAgdm0uaXNSYWRpb1ZhbGlkID0gZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0ucmVzb3VyY2VzKSkge1xuICAgICAgaWYgKCFfX2luX18oc2VhcmNoVGV4dCwgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLmFyZVJlc291cmNlc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5yZXNvdXJjZXMgPSAodm0uc2VsZWN0ZWRfcmVzb3VyY2VzLmxlbmd0aCA+IDApO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgPSAoc3RhcnRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSA9IChlbmRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0ucmVtb3ZlRnJvbVNlbGVjdGVkUmVzb3VyY2UgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGxldCBpbmRleCA9IHZtLnNlbGVjdGVkX3Jlc291cmNlcy5pbmRleE9mKGl0ZW0pO1xuICAgIHZtLnNlbGVjdGVkX3Jlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHZtLnJlc291cmNlcy5wdXNoKGl0ZW0pO1xuICAgIHZtLmFyZVJlc291cmNlc1ZhbGlkKCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkucmVzb3VyY2VzICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG4gICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHZtLmZpbmFsID0ge1xuICAgICAgICBzdGFydF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuICAgICAgICBlbmRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uZW5kKS51bml4KCksXG4gICAgICAgIHJlc291cmNlczogdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLFxuICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG4gICAgICB9O1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIHZtLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcmVzb3VyY2VzX2FzX2lkcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm0uZmluYWwucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaXRlbSA9IHZtLmZpbmFsLnJlc291cmNlc1tpXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdm0uZnVsbF9yZXNvdXJjZV9tYXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IGVhY2ggPSB2bS5mdWxsX3Jlc291cmNlX21hcFtqXTtcbiAgICAgICAgaWYgKGVhY2hbXCJyZXNvdXJjZV9uYW1lXCJdID09PSBpdGVtKSB7XG4gICAgICAgICAgcmVzb3VyY2VzX2FzX2lkcy5wdXNoKGVhY2hbXCJyZXNvdXJjZV9pZGVudGlmaWVyXCJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGV2aWNlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgcmVzb3VyY2VzX2FzX2lkcywgdm0udGVuYW50KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgcmVzb3VyY2VzX2FzX2lkcywgdm0udGVuYW50KTtcbiAgICB9XG4gIH07XG5cbiAgdm0udGVuYW50cyA9IG51bGw7XG4gIHZtLmN1cnJlbnRUZW5hbnQgPSB2bS50ZW5hbnQ7XG5cbiAgdm0uaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0ID0gKCkgPT5cbiAgICBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbFRlbmFudHMoKVxuICAgICAgLnRoZW4oZGF0YSA9PiB2bS50ZW5hbnRzID0gZGF0YS5kYXRhLnRlbmFudHMpXG4gIDtcblxuICB2bS5xdWVyeVNlYXJjaCA9IChyZXNvdXJjZXMsIHNlYXJjaFRleHQpID0+IFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblxuICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG5cbiAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQgIT09IHZtLmN1cnJlbnRUZW5hbnQpIHtcbiAgICAgICRzdGF0ZS5nbygncHJvb2ZEZXRhaWwnLCB7XG4gICAgICAgIHRlbmFudFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJHt0ZW5hbnR9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBpcyBhbHJlYWR5IHNldCB0byAke3RlbmFudH1gKTtcbiAgICB9XG4gIH07XG5cblxuICByZXR1cm4gdm07XG59O1xuXG5mdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG59XG5cbmV4cG9ydCB7UHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9wcm9vZi9tdWx0aS1yZXNvdXJjZS5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gUHJvb2ZPZlBsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5yZXNvdXJjZSA9IHt0aXRsZTogXCJSZXNvdXJjZSBSZXBvcnRcIn07XG4gIHZtLmxvY2F0aW9uID0ge3RpdGxlOiBcIkxvY2F0aW9uIFJlcG9ydFwifTtcbiAgdm0uZGlzcGxheSA9IHt0aXRsZTogXCJEaXNwbGF5IFJlcG9ydFwifTtcblxuICB2bS5jaG9zZW5fdGVuYW50ID0gbnVsbDtcbiAgdm0udGVuYW50cyA9IG51bGw7XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcblxuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpXG4gICAgICAudGhlbihkYXRhID0+IHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cylcbiAgO1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKHJlc291cmNlcywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXG5cbiAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcbiAgICBpZiAoX19pbl9fKHNlYXJjaCwgdm0udGVuYW50cykpIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50KSB7XG4gICAgICB2bS5jaG9zZW5fdGVuYW50ID0gKHRlbmFudCk7XG4gICAgICByZXR1cm4gJHN0YXRlLmdvKCdwcm9vZkRldGFpbCcsIHtcbiAgICAgICAgdGVuYW50OiB2bS5jaG9zZW5fdGVuYW50XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdm0ucmVmcmVzaFRlbmFudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0udGVuYW50cyA9IG51bGw7XG4gICAgbGV0IHVybCA9IFByb29mUGxheVNlcnZpY2UubWFrZUhUVFBVUkwoXCIvcmV0cmlldmVfbXlfdGVuYW50c1wiLCAnJyk7XG4gICAgdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG5cbiAgcmV0dXJuIHZtO1xufTtcblxuZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcbiAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xufVxuXG5leHBvcnQge1Byb29mT2ZQbGF5Q3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9wcm9vZi9wcm9vZi1vZi1wbGF5LmNvbnRyb2xsZXIuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyLCBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcbiAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcbiAgfVxuXG4gIGdldEltYWdlcyh0ZW5hbnRfdXJsc2FmZV9rZXkpIHtcbiAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2ltYWdlJywgYC9hcGkvdjEvaW1hZ2UvdGVuYW50LyR7dGVuYW50X3VybHNhZmVfa2V5fWApLmdldExpc3QoKVxuICB9XG5cbiAgc2F2ZUltYWdlKHRlbmFudF91cmxzYWZlX2tleSwgZm9ybURhdGEpIHtcbiAgICAvLyBqUXVlcnkgYWpheCB1c2VkIGhlcmUgaW5zdGVhZCBvZiBhbmd1bGFyIC8gUmVzdGFuZ3VsYXIgZHVlIHRvIGFuZ3VsYXIgYnVnIHdpdGggcG9zdGluZyBmb3JtIGRhdGFcbiAgICByZXR1cm4gJC5hamF4KHtcbiAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgdXJsOiBgL2FwaS92MS9pbWFnZS90ZW5hbnQvJHt0ZW5hbnRfdXJsc2FmZV9rZXl9YCxcbiAgICAgIGRhdGE6IGZvcm1EYXRhLFxuICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuICAgICAgY29udGVudFR5cGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVJbWFnZShpbWFnZV91cmxzYWZlX2tleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2ltYWdlJywgYC9hcGkvdjEvaW1hZ2UvJHtpbWFnZV91cmxzYWZlX2tleX1gKS5yZW1vdmUoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG5cbn1cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvaW1hZ2Uuc2VydmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkbWluU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgICB0aGlzLlVTRVJfU0VSVklDRSA9IFwidXNlcnNcIjtcbiAgICB0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UgPSBcImRpc3RyaWJ1dG9yc1wiO1xuICB9XG5cbiAgbWFrZURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yLCBhZG1pbl9lbWFpbCkge1xuICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgZGlzdHJpYnV0b3IsXG4gICAgICBhZG1pbl9lbWFpbFxuICAgIH07XG5cbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgJy9hcGkvdjEvZGlzdHJpYnV0b3JzJykuY3VzdG9tUE9TVChwYXlsb2FkKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yKHVzZXJFbWFpbCwgZGlzdHJpYnV0b3IsIGRpc3RyaWJ1dG9yQWRtaW4pIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIHVzZXJfZW1haWw6IHVzZXJFbWFpbCxcbiAgICAgIGRpc3RyaWJ1dG9yLFxuICAgICAgZGlzdHJpYnV0b3JfYWRtaW46IGRpc3RyaWJ1dG9yQWRtaW5cbiAgICB9O1xuXG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlVTRVJfU0VSVklDRSwgXCIvYXBpL3YxL3VzZXJzXCIpLmN1c3RvbVBPU1QocGF5bG9hZCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRVc2Vyc09mRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgYC9hcGkvdjEvYW5hbHl0aWNzL2Rpc3RyaWJ1dG9ycy8ke2Rpc3RyaWJ1dG9yS2V5fS91c2Vyc2ApLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0QWxsRGlzdHJpYnV0b3JzKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBcIi9hcGkvdjEvZGlzdHJpYnV0b3JzXCIpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG59XG5cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL2FkbWluLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBdXRob3JpemF0aW9uU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoU2Vzc2lvbnNTZXJ2aWNlLCAkcSkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy4kcSA9ICRxXG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2VcbiAgfVxuXG4gIGF1dGhlbnRpY2F0ZWQoKSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuICAgIGlmICh1c2VyS2V5KSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdzaWduX2luJ10pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxuXG4gIG5vdEF1dGhlbnRpY2F0ZWQoKSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuICAgIGlmICghdXNlcktleSkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KFtcImF1dGhFcnJvclwiLCAnaG9tZSddKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICBpc0FkbWluT3JEaXN0cmlidXRvckFkbWluKCkge1xuICAgIGxldCBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICBsZXQgYWRtaW4gPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRJc0FkbWluKCk7XG4gICAgbGV0IGRpc3RyaWJ1dG9yQWRtaW4gPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCk7XG4gICAgbGV0IGhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluID0gZmFsc2U7XG4gICAgaWYgKGRpc3RyaWJ1dG9yQWRtaW4gJiYgZGlzdHJpYnV0b3JBZG1pbi5sZW5ndGggPiAwKSB7XG4gICAgICBoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbiA9IHRydWU7XG4gICAgfVxuICAgIGxldCB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuICAgIGlmICghdXNlcktleSkge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KCdzaWduX2luJyk7XG4gICAgfSBlbHNlIGlmICghYWRtaW4gJiYgIWhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluKSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdob21lJ10pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxufVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvYXV0aG9yaXphdGlvbi5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tbWFuZHNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy5TRVJWSUNFX05BTUUgPSAnZGV2aWNlcyc7XG4gIH1cblxuICBwYW5lbFNsZWVwKGtleSwgcGFuZWxTbGVlcCkge1xuICAgIC8qKiBwYW5lbFNsZWVwOiBib29sZWFuICoqL1xuICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgcGFuZWxTbGVlcFxuICAgIH07XG5cbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L3BhbmVsLXNsZWVwYCkuY3VzdG9tUFVUKHBheWxvYWQpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcmVzZXQoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9yZXNldGApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGNvbnRlbnREZWxldGUoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9jb250ZW50LWRlbGV0ZWApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGNvbnRlbnRVcGRhdGUoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9jb250ZW50LXVwZGF0ZWApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHVwZGF0ZURldmljZShrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL3JlZnJlc2gtZGV2aWNlLXJlcHJlc2VudGF0aW9uYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdG9nZ2xlRGlhZ25vc3RpY3Moa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9kaWFnbm9zdGljc2ApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHJlc3RhcnQoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9yZXN0YXJ0YCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcG9zdExvZyhrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL3Bvc3QtbG9nYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcG93ZXJPbihrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL3Bvd2VyLW9uYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcG93ZXJPZmYoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9wb3dlci1vZmZgKS5wb3N0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB2b2x1bWUoa2V5LCB2b2x1bWUpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIHZvbHVtZVxuICAgIH07XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fWApLmN1c3RvbVBPU1QocGF5bG9hZCwgJ2NvbW1hbmRzL3ZvbHVtZScpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgY3VzdG9tKGtleSwgY29tbWFuZCkge1xuICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgY29tbWFuZFxuICAgIH07XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fWApLmN1c3RvbVBPU1QocGF5bG9hZCwgJ2NvbW1hbmRzL2N1c3RvbScpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG59XG5cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvY29tbWFuZHMuc2VydmljZS5qc1xuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50J1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KGRhdGUpIHtcbiAgICBpZiAoIW1vbWVudC5pc01vbWVudChkYXRlKSkge1xuICAgICAgcmV0dXJuIG1vbWVudChuZXcgRGF0ZShkYXRlKSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRhdGVcbiAgICB9XG4gIH1cblxuICBjcmVhdGVGb3JtYXR0ZWRTdGFydEFuZEVuZERhdGVGcm9tVG9kYXkoZGF5c0JhY2spIHtcbiAgICBsZXQgc3RhcnRUaW1lID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJylcbiAgICBsZXQgc3RhcnRUaW1lTWlkTmlnaHQgPSBtb21lbnQoc3RhcnRUaW1lLCAnWVlZWS1NTS1ERCcpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJylcbiAgICBsZXQgc3RhcnRUaW1lRW5kT2ZEYXkgPSBtb21lbnQoc3RhcnRUaW1lTWlkTmlnaHQsICdZWVlZLU1NLUREIGhoOm1tIEEnKS5hZGQoMSwgJ2RheScpLnN1YnRyYWN0KDYwLCAnc2Vjb25kcycpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJylcblxuICAgIGxldCBlbmRUaW1lID0gbW9tZW50KCkuc3VidHJhY3QoMzAsICdkYXlzJykuZm9ybWF0KCdZWVlZLU1NLUREJylcbiAgICBsZXQgZW5kVGltZU1pZE5pZ2h0ID0gbW9tZW50KGVuZFRpbWUsICdZWVlZLU1NLUREJykuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tIEEnKVxuXG4gICAgcmV0dXJuIFtlbmRUaW1lTWlkTmlnaHQsIHN0YXJ0VGltZUVuZE9mRGF5XVxuICB9XG5cbiAgZ2VuZXJhdGVMb2NhbEZyb21VVEMoVVRDVGltZSkge1xuICAgIGxldCBsb2NhbFRpbWUgPSBtb21lbnQudXRjKFVUQ1RpbWUpLnRvRGF0ZSgpO1xuICAgIHJldHVybiBtb21lbnQobG9jYWxUaW1lKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW06c3MgQScpO1xuICB9O1xuXG5cbn1cblxuXG5cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvZGF0ZW1hbmlwdWxhdGlvbi5zZXJ2aWNlLmpzXG4gKiovIiwiaW1wb3J0ICdyZXN0YW5ndWxhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERldmljZXNTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJGxvZywgUmVzdGFuZ3VsYXIsICRxLCAkaHR0cCwgJHN0YXRlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRsb2cgPSAkbG9nXG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy4kcSA9ICRxXG4gICAgdGhpcy4kaHR0cCA9ICRodHRwXG4gICAgdGhpcy4kc3RhdGUgPSAkc3RhdGVcbiAgICB0aGlzLlNFUlZJQ0VfTkFNRSA9ICdkZXZpY2VzJztcbiAgICB0aGlzLnVyaUJhc2UgPSAndjEvZGV2aWNlcyc7XG4gIH1cblxuICBhZGp1c3RDb250cm9sc01vZGUoZGV2aWNlS2V5LCBjb250cm9sc01vZGUpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIGNvbnRyb2xzTW9kZVxuICAgIH07XG5cbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgL2FwaS92MS9kZXZpY2VzLyR7ZGV2aWNlS2V5fS9jb250cm9scy1tb2RlYCkuY3VzdG9tUFVUKHBheWxvYWQpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0RGV2aWNlQnlNYWNBZGRyZXNzKG1hY0FkZHJlc3MpIHtcbiAgICBsZXQgdXJsID0gYGFwaS92MS9kZXZpY2VzP21hY19hZGRyZXNzPSR7bWFjQWRkcmVzc31gO1xuICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnYXBpL3YxL2RldmljZXMnLCB1cmwpLmdldCgpO1xuICB9XG5cbiAgZ2V0RGV2aWNlQnlLZXkoZGV2aWNlS2V5KSB7XG4gICAgbGV0IHVybCA9IGBhcGkvdjEvZGV2aWNlcy8ke2RldmljZUtleX1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICByZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUoZGljdGlvbmFyeSwgdmFsdWUpIHtcbiAgICBsZXQgcmVzdWx0cyA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWN0aW9uYXJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGRpY3Rpb25hcnlbaV07XG4gICAgICByZXN1bHRzLnB1c2goZWFjaFt2YWx1ZV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0c1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBpc01hYyA9IGZhbHNlXG4gICAgICAgIGxldCBpc0dDTWlkID0gZmFsc2VcbiAgICAgICAgbGV0IHNlcmlhbERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuICAgICAgICBsZXQgZGV2aWNlU2VyaWFsc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwic2VyaWFsXCIpO1xuICAgICAgICByZXR1cm4gW2RldmljZVNlcmlhbHNPbmx5LCBzZXJpYWxEZXZpY2VzRGljdF07XG4gICAgICB9KTtcbiAgfVxuXG4gIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbChkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcbiAgICAgICAgbGV0IGlzTWFjID0gZmFsc2VcbiAgICAgICAgbGV0IGlzR0NNaWQgPSBmYWxzZVxuICAgICAgICBsZXQgc2VyaWFsRGV2aWNlc0RpY3QgPSB0aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG4gICAgICAgIGxldCBzZXJpYWxEZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG4gICAgICAgIHJldHVybiBbc2VyaWFsRGV2aWNlc09ubHksIHNlcmlhbERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcbiAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcbiAgICAgICAgbGV0IGlzTWFjID0gZmFsc2VcbiAgICAgICAgbGV0IGlzR0NNaWQgPSBmYWxzZVxuICAgICAgICBsZXQgc2VyaWFsRGV2aWNlc0RpY3QgPSB0aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG4gICAgICAgIGxldCBzZXJpYWxEZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG4gICAgICAgIHJldHVybiBbc2VyaWFsRGV2aWNlc09ubHksIHNlcmlhbERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBtYWNEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIHRydWUpO1xuICAgICAgICBsZXQgZGV2aWNlTWFjc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwibWFjXCIpO1xuICAgICAgICByZXR1cm4gW2RldmljZU1hY3NPbmx5LCBtYWNEZXZpY2VzRGljdF07XG4gICAgICB9KVxuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcbiAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgICAgbGV0IGlzTWFjID0gdHJ1ZTtcbiAgICAgICAgICBsZXQgaXNHQ01pZCA9IGZhbHNlO1xuICAgICAgICAgIGxldCBtYWNEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcbiAgICAgICAgICBsZXQgbWFjRGV2aWNlcyA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJtYWNcIilcbiAgICAgICAgICByZXR1cm4gW21hY0RldmljZXMsIG1hY0RldmljZXNEaWN0XTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgfVxuXG4gIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0dsb2JhbGx5KHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcbiAgICAgICAgICBsZXQgaXNNYWMgPSB0cnVlO1xuICAgICAgICAgIGxldCBpc0dDTWlkID0gZmFsc2U7XG4gICAgICAgICAgbGV0IG1hY0RldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuICAgICAgICAgIGxldCBtYWNEZXZpY2VzID0gdGhpcy5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcIm1hY1wiKVxuICAgICAgICAgIHJldHVybiBbbWFjRGV2aWNlcywgbWFjRGV2aWNlc0RpY3RdO1xuICAgICAgICB9XG4gICAgICApO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBnY21pZERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuICAgICAgICBsZXQgZ2NtaWREZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJnY21pZFwiKVxuICAgICAgICByZXR1cm4gW2djbWlkRGV2aWNlc09ubHksIGdjbWlkRGV2aWNlc0RpY3RdO1xuICAgICAgfSk7XG4gIH1cblxuICBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBHQ01pZERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuICAgICAgICBsZXQgZ2NtaWREZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJnY21pZFwiKVxuICAgICAgICByZXR1cm4gW2djbWlkRGV2aWNlc09ubHksIEdDTWlkRGV2aWNlc0RpY3RdO1xuICAgICAgfSk7XG4gIH1cblxuICBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuICAgICAgICBsZXQgR0NNaWREZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgbGV0IGdjbWlkRGV2aWNlc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwiZ2NtaWRcIilcbiAgICAgICAgcmV0dXJuIFtnY21pZERldmljZXNPbmx5LCBHQ01pZERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVqZWN0ZWRQcm9taXNlKCkge1xuICAgIGxldCBkZXZpY2VEZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICBkZXZpY2VEZWZlcnJlZC5yZWplY3QoKVxuICAgIHJldHVybiBkZXZpY2VEZWZlcnJlZC5wcm9taXNlXG4gIH07XG5cblxuICBzZWFyY2hEZXZpY2VzKHBhcnRpYWxTZWFyY2gsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCwgZ2xvYmFsbHkpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgbGV0IGRldmljZXNQcm9taXNlO1xuICAgIGlmIChwYXJ0aWFsU2VhcmNoKSB7XG4gICAgICBpZiAocGFydGlhbFNlYXJjaC5sZW5ndGggPiAyKSB7XG4gICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG4gICAgICAgICAgaWYgKGdsb2JhbGx5KSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYnlUZW5hbnQpIHtcbiAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PT0gXCJNQUNcIikge1xuICAgICAgICAgIGlmIChnbG9iYWxseSkge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGJ5VGVuYW50KSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZ2xvYmFsbHkpIHtcbiAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGJ5VGVuYW50KSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5yZWplY3RlZFByb21pc2UoKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMucmVqZWN0ZWRQcm9taXNlKClcbiAgICB9XG5cbiAgICBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZXZpY2VzUmVzdWx0KSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcbiAgICAgICAgXCJzdWNjZXNzXCI6IHRydWUsXG4gICAgICAgIFwiZGV2aWNlc1wiOiBkZXZpY2VzUmVzdWx0XG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXZpY2VzUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZGV2aWNlc1Jlc3VsdCkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZSxcbiAgICAgICAgXCJkZXZpY2VzXCI6IFtdXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZVxuICB9XG5cbiAgY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaih0aGVBcnJheSwgbWFjLCBnY20pIHtcbiAgICAvKiogQ29udmVydHMgYXJyYXkgdG8gZGljdGlvbmFyeSB3aXRoIG1hYywgZ2NtaWQsIG9yIHNlcmlhbCBhcyB0aGUga2V5ICoqL1xuICAgIGxldCBkZXZpY2VzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGl0ZW0gPSB0aGVBcnJheVtpXTtcbiAgICAgIGlmIChtYWMpIHtcbiAgICAgICAgZGV2aWNlc1tpdGVtLm1hY10gPSBpdGVtO1xuICAgICAgfSBlbHNlIGlmIChnY20pIHtcbiAgICAgICAgZGV2aWNlc1tpdGVtLmdjbWlkXSA9IGl0ZW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXZpY2VzW2l0ZW0uc2VyaWFsXSA9IGl0ZW07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZXZpY2VzO1xuICB9O1xuXG4gIGVkaXRJdGVtKGl0ZW0sIGZyb21EZXZpY2VzKSB7XG4gICAgaWYgKCFmcm9tRGV2aWNlcykge1xuICAgICAgZnJvbURldmljZXMgPSBmYWxzZVxuICAgIH1cbiAgICB0aGlzLiRzdGF0ZS5nbygnZWRpdERldmljZScsIHtcbiAgICAgIGRldmljZUtleTogaXRlbS5rZXksXG4gICAgICB0ZW5hbnRLZXk6IGl0ZW0udGVuYW50S2V5LFxuICAgICAgZnJvbURldmljZXM6IGZyb21EZXZpY2VzXG4gICAgfSk7XG4gIH1cblxuICBwcmVwcmF0ZUZvckVkaXRWaWV3KGJ1dHRvbiwgdGVuYW50S2V5LCBzZWFyY2hUZXh0LCBtYWNEZXZpY2VzLCBzZXJpYWxEZXZpY2VzLCBnY21pZERldmljZXMpIHtcbiAgICBsZXQgbWFjLCBzZXJpYWwsIGdjbWlkO1xuXG4gICAgbWFjID0gYnV0dG9uID09PSBcIk1BQ1wiO1xuICAgIHNlcmlhbCA9IGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG4gICAgZ2NtaWQgPSBidXR0b24gPT09IFwiR0NNIElEXCJcblxuICAgIGlmIChtYWMpIHtcbiAgICAgIHJldHVybiB0aGlzLmVkaXRJdGVtKG1hY0RldmljZXNbc2VhcmNoVGV4dF0pO1xuICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG4gICAgICByZXR1cm4gdGhpcy5lZGl0SXRlbShzZXJpYWxEZXZpY2VzW3NlYXJjaFRleHRdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0oZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgIH1cblxuICB9XG5cbiAgZ2V0SXNzdWVzQnlLZXkoZGV2aWNlS2V5LCBzdGFydEVwb2NoLCBlbmRFcG9jaCwgcHJldiwgbmV4dCkge1xuICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuICAgIG5leHQgPSBuZXh0ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBuZXh0O1xuICAgIGxldCB1cmwgPSBgL2FwaS92MS9kZXZpY2VzLyR7cHJldn0vJHtuZXh0fS8ke2RldmljZUtleX0vaXNzdWVzP3N0YXJ0PSR7c3RhcnRFcG9jaH0mZW5kPSR7ZW5kRXBvY2h9YDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0Q29tbWFuZEV2ZW50c0J5S2V5KGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuICAgIG5leHQgPSBuZXh0ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBuZXh0O1xuICAgIGxldCB1cmwgPSBgL2FwaS92MS9wbGF5ZXItY29tbWFuZC1ldmVudHMvJHtwcmV2fS8ke25leHR9LyR7ZGV2aWNlS2V5fWA7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gVEVOQU5UIFZJRVdcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBnZXREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5VGVuYW50VVJMKHRlbmFudEtleSwgcHJldiwgbmV4dCwgZmFsc2UpO1xuICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldFVubWFuYWdlZERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcbiAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICAgIGxldCB1cmwgPSB0aGlzLm1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCB0cnVlKTtcbiAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICB9XG4gIH1cblxuICBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gYC9hcGkvdjEvdGVuYW50cy9zZWFyY2gvJHt0ZW5hbnRLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX3NlcmlhbD0ke3BhcnRpYWxfc2VyaWFsfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL3RlbmFudHMvc2VhcmNoLyR7dGVuYW50S2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mcGFydGlhbF9tYWM9JHtwYXJ0aWFsX21hY31gO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIHNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX2djbWlkLCB1bm1hbmFnZWQpIHtcbiAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS90ZW5hbnRzL3NlYXJjaC8ke3RlbmFudEtleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfZ2NtaWQ9JHtwYXJ0aWFsX2djbWlkfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIERFVklDRVMgVklFV1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWwoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxfc2VyaWFsLCB1bm1hbmFnZWQpIHtcbiAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJHtkaXN0cmlidXRvcktleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfc2VyaWFsPSR7cGFydGlhbF9zZXJpYWx9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsX21hYywgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS9kaXN0cmlidXRvcnMvc2VhcmNoLyR7ZGlzdHJpYnV0b3JLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX21hYz0ke3BhcnRpYWxfbWFjfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxfZ2NtaWQsIHVubWFuYWdlZCkge1xuICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gYC9hcGkvdjEvZGlzdHJpYnV0b3JzL3NlYXJjaC8ke2Rpc3RyaWJ1dG9yS2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mcGFydGlhbF9nY21pZD0ke3BhcnRpYWxfZ2NtaWR9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFNFQVJDSCBERVZJQ0VTIEdMT0JBTExZXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEdsb2JhbGx5KHBhcnRpYWxfc2VyaWFsLCB1bm1hbmFnZWQpIHtcbiAgICBsZXQgdXJsID0gYC9hcGkvdjEvZGV2aWNlcy9hbmFseXRpY3Mvc2VhcmNoLWdsb2JhbD91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfc2VyaWFsPSR7cGFydGlhbF9zZXJpYWx9YDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKFwiZGV2aWNlc1wiLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuXG4gIH1cblxuICBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuICAgIGxldCB1cmwgPSBgL2FwaS92MS9kZXZpY2VzL2FuYWx5dGljcy9zZWFyY2gtZ2xvYmFsP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mcGFydGlhbF9tYWM9JHtwYXJ0aWFsX21hY31gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoXCJkZXZpY2VzXCIsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG5cbiAgfVxuXG4gIHNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkR2xvYmFsbHkocGFydGlhbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG4gICAgbGV0IHVybCA9IGAvYXBpL3YxL2RldmljZXMvYW5hbHl0aWNzL3NlYXJjaC1nbG9iYWw/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX2djbWlkPSR7cGFydGlhbF9nY21pZH1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoXCJkZXZpY2VzXCIsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBnZXREZXZpY2VzQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCkge1xuICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQsIGZhbHNlKTtcbiAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICB9XG4gIH1cblxuICBnZXRVbm1hbmFnZWREZXZpY2VzQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCkge1xuICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQsIHRydWUpO1xuICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldERldmljZXMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLlNFUlZJQ0VfTkFNRSkuZ2V0TGlzdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgc2F2ZShkZXZpY2UpIHtcbiAgICBpZiAoZGV2aWNlLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IGRldmljZS5wdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2RldmljZXMnKS5wb3N0KGRldmljZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgc2F2ZU92ZXJsYXlTZXR0aW5ncyhkZXZpY2VfdXJsc2FmZV9rZXksIGJvdHRvbV9sZWZ0LCBib3R0b21fcmlnaHQsIHRvcF9yaWdodCwgdG9wX2xlZnQpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIGJvdHRvbV9sZWZ0LFxuICAgICAgYm90dG9tX3JpZ2h0LFxuICAgICAgdG9wX3JpZ2h0LFxuICAgICAgdG9wX2xlZnQsXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdvdmVybGF5JywgYC9hcGkvdjEvb3ZlcmxheS9kZXZpY2UvJHtkZXZpY2VfdXJsc2FmZV9rZXl9YCkuY3VzdG9tUE9TVChwYXlsb2FkKTtcbiAgfVxuXG4gIGRlbGV0ZShkZXZpY2VLZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKHRoaXMuU0VSVklDRV9OQU1FLCBkZXZpY2VLZXkpLnJlbW92ZSgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0UGFuZWxNb2RlbHMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ05vbmUnLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnTm9uZSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdTb255LUZYRDQwTFgyRicsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdTb255IEZYRDQwTFgyRidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdORUMtTENENDIxNScsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdORUMgTENENDIxNSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnUGhpbGxpcHMgQkRMNTU2MEVMJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ1BhbmFzb25pYy1USDU1TEY2VScsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdQYW5hc29uaWMgVEg1NUxGNlUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnU2hhcnAtUE5FNTIxJyxcbiAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1NoYXJwIFBORTUyMSdcbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgZ2V0UGFuZWxJbnB1dHMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ05vbmUnLFxuICAgICAgICAncGFyZW50SWQnOiAnTm9uZSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTb255LUZYRDQwTFgyRidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMicsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTb255LUZYRDQwTFgyRidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTInLFxuICAgICAgICAncGFyZW50SWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0RWSScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTEnLFxuICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkyJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1BhbmFzb25pYy1USDU1TEY2VSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdEVkknLFxuICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkxJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMicsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTaGFycC1QTkU1MjEnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnRFZJJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdWR0EnLFxuICAgICAgICAncGFyZW50SWQnOiAnTkVDLUxDRDQyMTUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnRFZJMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdORUMtTENENDIxNSdcbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgbWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCB1bm1hbmFnZWQpIHtcbiAgICBsZXQgdXJsID0gYC9hcGkvdjEvZGlzdHJpYnV0b3JzLyR7ZGlzdHJpYnV0b3JLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZuZXh0X2N1cnNvcj0ke25leHR9JnByZXZfY3Vyc29yPSR7cHJldn1gO1xuICAgIHJldHVybiB1cmxcbiAgfVxuXG4gIG1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCB1bm1hbmFnZWQpIHtcbiAgICBsZXQgdXJsID0gYC9hcGkvdjEvdGVuYW50cy8ke3RlbmFudEtleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9Jm5leHRfY3Vyc29yPSR7bmV4dH0mcHJldl9jdXJzb3I9JHtwcmV2fWA7XG4gICAgcmV0dXJuIHVybFxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvZGV2aWNlcy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlzdHJpYnV0b3JzU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIsICRzdGF0ZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG4gICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2U7XG4gICAgdGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFID0gJ2Rpc3RyaWJ1dG9ycyc7XG4gIH1cblxuICBzYXZlKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGVuYW50LnB1dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLnBvc3QodGVuYW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmZXRjaEFsbCgpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSkuZ2V0TGlzdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZmV0Y2hBbGxCeVVzZXIodXNlcktleSkge1xuICAgIGlmICh1c2VyS2V5KSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKCd1c2VycycsIHVzZXJLZXkpLmRvR0VUKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBnZXRCeUtleShrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgYGFwaS92MS9kaXN0cmlidXRvcnMvJHtrZXl9YCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBkZWxldGUoZW50aXR5KSB7XG4gICAgaWYgKGVudGl0eS5rZXkpIHtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBlbnRpdHkua2V5KS5yZW1vdmUoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIGdldEJ5TmFtZShuYW1lKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLmdldExpc3Qoe2Rpc3RyaWJ1dG9yTmFtZTogbmFtZX0pO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0RG9tYWluc0J5S2V5KGtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBgYXBpL3YxL2Rpc3RyaWJ1dG9ycy8ke2tleX0vZG9tYWluc2ApLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgc3dpdGNoRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IpIHtcbiAgICB0aGlzLlNlc3Npb25zU2VydmljZS5zZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKGRpc3RyaWJ1dG9yLm5hbWUpO1xuICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLnNldEN1cnJlbnREaXN0cmlidXRvcktleShkaXN0cmlidXRvci5rZXkpO1xuICAgIHJldHVybiB0aGlzLiRzdGF0ZS5nbygnd2VsY29tZScpO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvZGlzdHJpYnV0b3JzLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCAgY2xhc3MgRG9tYWluc1NlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgfVxuXG4gIHNhdmUoZG9tYWluKSB7XG4gICAgaWYgKGRvbWFpbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByb21pc2UgPSBkb21haW4ucHV0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdkb21haW5zJykucG9zdChkb21haW4pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGZldGNoQWxsRG9tYWlucygpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKCdkb21haW5zJykuZ2V0TGlzdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0RG9tYWluQnlLZXkoZG9tYWluS2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnZG9tYWlucycsIGBhcGkvdjEvZG9tYWlucy8ke2RvbWFpbktleX1gKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldERpcmVjdG9yeUFwaUNvbm5lY3Rpdml0eUluZm9ybWF0aW9uKGRvbWFpbktleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2RvbWFpbnMnLCBgYXBpL3YxL2RvbWFpbnMvJHtkb21haW5LZXl9L2RpcmVjdG9yeV9hcGlgKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGRlbGV0ZShkb21haW4pIHtcbiAgICBpZiAoZG9tYWluLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKFwiZG9tYWluc1wiLCBkb21haW4ua2V5KS5yZW1vdmUoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9kb21haW5zLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJZGVudGl0eVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG4gIH1cblxuICBnZXRJZGVudGl0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2lkZW50aXR5JykuZ2V0KCk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9pZGVudGl0eS5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZWdyYXRpb25FdmVudHMge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgICB0aGlzLkNSRUFURV9URU5BTlRfRVZFTlRTID0gJ2ludGVncmF0aW9uX2V2ZW50cy90ZW5hbnRfY3JlYXRlJztcbiAgICB0aGlzLkVOUk9MTE1FTlRfRVZFTlRTID0gJ2ludGVncmF0aW9uX2V2ZW50cy9lbnJvbGxtZW50JztcbiAgfVxuXG4gICBnZXRUZW5hbnRDcmVhdGVFdmVudHModGVuYW50S2V5KSB7XG4gICAgbGV0IHF1ZXJ5ID0ge1xuICAgICAgdGVuYW50S2V5XG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5DUkVBVEVfVEVOQU5UX0VWRU5UUykuY3VzdG9tR0VUKCcnLCBxdWVyeSk7XG4gIH1cblxuICBnZXRFbnJvbGxtZW50RXZlbnRzKGRldmljZUtleSkge1xuICAgIGxldCBxdWVyeSA9IHtcbiAgICAgIGRldmljZUtleVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRU5ST0xMTUVOVF9FVkVOVFMpLmN1c3RvbUdFVCgnJywgcXVlcnkpO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvaW50ZWdyYXRpb24tZXZlbnRzLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhdGlvbnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuICB9XG5cbiAgc2F2ZShsb2NhdGlvbikge1xuICAgIGlmIChsb2NhdGlvbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByb21pc2UgPSBsb2NhdGlvbi5wdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2xvY2F0aW9ucycpLnBvc3QobG9jYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSh0ZW5hbnRLZXksIGN1c3RvbWVyX2xvY2F0aW9uX25hbWUpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKCd0ZW5hbnRzJykuY3VzdG9tR0VUTElTVCh0ZW5hbnRLZXkgKyBcIi9sb2NhdGlvbnNcIiwge2N1c3RvbWVyX2xvY2F0aW9uX25hbWU6IGN1c3RvbWVyX2xvY2F0aW9uX25hbWV9KVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXkodGVuYW50S2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsIGBhcGkvdjEvdGVuYW50cy8ke3RlbmFudEtleX0vbG9jYXRpb25zYCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRMb2NhdGlvbnNCeVRlbmFudEtleVBhZ2luYXRlZCh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcbiAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcbiAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgYGFwaS92MS90ZW5hbnRzLyR7dGVuYW50S2V5fS8ke3ByZXZ9LyR7bmV4dH0vbG9jYXRpb25zYCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRMb2NhdGlvbkJ5S2V5KGxvY2F0aW9uS2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnbG9jYXRpb25zJywgYGFwaS92MS9sb2NhdGlvbnMvJHtsb2NhdGlvbktleX1gKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL2xvY2F0aW9ucy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZ3Jlc3NCYXJTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihuZ1Byb2dyZXNzRmFjdG9yeSkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5uZ1Byb2dyZXNzRmFjdG9yeSA9IG5nUHJvZ3Jlc3NGYWN0b3J5XG4gICAgdGhpcy5wcm9ncmVzc0JhciA9IHRoaXMubmdQcm9ncmVzc0ZhY3RvcnkuY3JlYXRlSW5zdGFuY2UoKTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0Q29sb3IoJyMwMEZDRkYnKTtcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldEhlaWdodCgnNHB4Jyk7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NCYXIuc3RhcnQoKTtcbiAgfVxuXG4gIGNvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLnByb2dyZXNzQmFyLmNvbXBsZXRlKCk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9wcm9ncmVzc2Jhci5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvb2ZQbGF5U2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoJGh0dHAsXG4gICAgICAgICAgICAgICRxLFxuICAgICAgICAgICAgICAkd2luZG93LFxuICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRodHRwID0gJGh0dHBcbiAgICB0aGlzLiRxID0gJHFcbiAgICB0aGlzLiR3aW5kb3cgPSAkd2luZG93XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2VcbiAgICB0aGlzLiRzdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtc1xuICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlXG4gICAgdGhpcy5Ub2FzdHNTZXJ2aWNlID0gVG9hc3RzU2VydmljZVxuICAgIHRoaXMubWFrZUhUVFBSZXF1ZXN0ID0gdGhpcy5tYWtlSFRUUFJlcXVlc3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVyaUJhc2UgPSAncHJvb2ZwbGF5L2FwaS92MSc7XG4gIH1cblxuICBtYWtlSFRUUFVSTCh3aGVyZV90b19nbywgdGVuYW50KSB7XG4gICAgcmV0dXJuIHRoaXMudXJpQmFzZSArIHdoZXJlX3RvX2dvICsgdGVuYW50O1xuICB9XG5cbiAgbWFrZUhUVFBSZXF1ZXN0KHdoZXJlX3RvX2dvLCB0ZW5hbnQpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgbGV0IHVybCA9IHRoaXMubWFrZUhUVFBVUkwod2hlcmVfdG9fZ28sIHRlbmFudCk7XG4gICAgcmV0dXJuIHRoaXMuJGh0dHAuZ2V0KHVybCk7XG4gIH1cblxuICBnZXRBbGxSZXNvdXJjZXModGVuYW50KSB7XG4gICAgbGV0IHIgPSB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfcmVzb3VyY2VzL1wiLCB0ZW5hbnQpO1xuICAgIC8vIHRoZSBjYXRjaCBpcyBvbmx5IGRvbmUgaGVyZSBiZWNhdXNlIDMgcHJvb2Ygb2YgcGxheSB2aWV3cyBhcmUgaW5pdGlsaXplZCBhdCB0aGUgc2FtZSB0aW1lXG4gICAgLy8gc28gdGhpcyBjYXRjaCB3aWxsIGJlIGRvbmUgMyB0aW1lcyB3aXRoIDMgZXJyb3IgbWVzc2FnZXMgaWYgd2UgYWRkIGl0IHRvIGdldEFsbERpc3BsYXlzIGFuZCBnZXRBbGxMb2NhdGlvbnNcbiAgICByLmNhdGNoKGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgIGxldCB7c3RhdHVzfSA9IGVycjtcbiAgICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xuICAgICAgICB0aGlzLlRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoXCJZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHZpZXcgdGhpcyB0ZW5hbnQhXCIpO1xuICAgICAgICB0aGlzLiRzdGF0ZS5nbygncHJvb2YnLCB7fSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgdGhpcy5Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91IG11c3Qgc2VsZWN0IGEgdGVuYW50IGZpcnN0IVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlLmdvKCdwcm9vZicsIHt9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByLnRoZW4oZGF0YSA9PiBkYXRhKTtcbiAgfVxuXG5cbiAgZ2V0QWxsRGlzcGxheXModGVuYW50KSB7XG4gICAgcmV0dXJuIHRoaXMubWFrZUhUVFBSZXF1ZXN0KFwiL3JldHJpZXZlX2FsbF9kaXNwbGF5cy9cIiwgdGVuYW50KTtcbiAgfVxuXG5cbiAgZ2V0QWxsTG9jYXRpb25zKHRlbmFudCkge1xuICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfbG9jYXRpb25zL1wiLCB0ZW5hbnQpO1xuICB9XG5cblxuICBnZXRBbGxUZW5hbnRzKCkge1xuICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9teV90ZW5hbnRzXCIsICcnKTtcbiAgfVxuXG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgcmVzb3VyY2VzLCB0ZW5hbnQpIHtcbiAgICBsZXQgYWxsUmVzb3VyY2VzID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSByZXNvdXJjZXNbaV07XG4gICAgICBhbGxSZXNvdXJjZXMgPSBhbGxSZXNvdXJjZXMgKyBcInxcIiArIGVhY2g7XG4gICAgfVxuXG4gICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9yZXNvdXJjZV9ieV9kYXRlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxSZXNvdXJjZXMgKyAnLycgK1xuICAgICAgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKVxuXG4gICAgICAsICdfYmxhbmsnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGV2aWNlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCByZXNvdXJjZXMsIHRlbmFudCkge1xuICAgIGxldCBhbGxSZXNvdXJjZXMgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IHJlc291cmNlc1tpXTtcbiAgICAgIGFsbFJlc291cmNlcyA9IGFsbFJlc291cmNlcyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX3Jlc291cmNlX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsUmVzb3VyY2VzICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cblxuICBkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGRldmljZXMsIHRlbmFudCkge1xuICAgIGxldCBhbGxEZXZpY2VzID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRldmljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gZGV2aWNlc1tpXTtcbiAgICAgIGFsbERldmljZXMgPSBhbGxEZXZpY2VzICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfZGV2aWNlX3N1bW1hcml6ZWQvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbERldmljZXMgKyAnLycgK1xuICAgICAgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKVxuICAgICAgLCAnX2JsYW5rJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuXG4gIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzQnlEYXRlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBkZXZpY2VzLCB0ZW5hbnQpIHtcbiAgICBsZXQgYWxsRGV2aWNlcyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGRldmljZXNbaV07XG4gICAgICBhbGxEZXZpY2VzID0gYWxsRGV2aWNlcyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2RldmljZV9ieV9kYXRlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxEZXZpY2VzICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBsb2NhdGlvbnMsIHRlbmFudCkge1xuICAgIGxldCBhbGxMb2NhdGlvbnMgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGxvY2F0aW9uc1tpXTtcbiAgICAgIGFsbExvY2F0aW9ucyA9IGFsbExvY2F0aW9ucyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2xvY2F0aW9uX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGxvY2F0aW9ucywgdGVuYW50KSB7XG4gICAgbGV0IGFsbExvY2F0aW9ucyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gbG9jYXRpb25zW2ldO1xuICAgICAgYWxsTG9jYXRpb25zID0gYWxsTG9jYXRpb25zICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfbG9jYXRpb25fc3VtbWFyaXplZC8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY3JlYXRlRmlsdGVyRm9yKHF1ZXJ5KSB7XG4gICAgcXVlcnkgPSBhbmd1bGFyLmxvd2VyY2FzZShxdWVyeSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgICAgcmVzb3VyY2UgPSBhbmd1bGFyLmxvd2VyY2FzZShyZXNvdXJjZSk7XG4gICAgICByZXR1cm4gKHJlc291cmNlLmluZGV4T2YocXVlcnkpID09PSAwKTtcbiAgICB9O1xuICB9XG4gIFxuICBxdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcbiAgICBpZiAoc2VhcmNoVGV4dCkge1xuICAgICAgcmV0dXJuIHJlc291cmNlcy5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXJGb3Ioc2VhcmNoVGV4dCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzb3VyY2VzO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL3Byb29mcGxheS5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2Vzc2lvbnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcigkaHR0cCwgJGxvZywgU3RvcmFnZVNlcnZpY2UsIElkZW50aXR5U2VydmljZSwgUmVzdGFuZ3VsYXIsICRxKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRodHRwID0gJGh0dHBcbiAgICB0aGlzLiRsb2cgPSAkbG9nXG4gICAgdGhpcy5TdG9yYWdlU2VydmljZSA9IFN0b3JhZ2VTZXJ2aWNlXG4gICAgdGhpcy5JZGVudGl0eVNlcnZpY2UgPSBJZGVudGl0eVNlcnZpY2VcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgICB0aGlzLiRxID0gJHFcbiAgICB0aGlzLnNldElkZW50aXR5ID0gdGhpcy5zZXRJZGVudGl0eS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXJpQmFzZSA9ICd2MS9zZXNzaW9ucyc7XG4gIH1cblxuICBzZXREaXN0cmlidXRvcnMoZGlzdHJpYnV0b3JzKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnMnLCBkaXN0cmlidXRvcnMpO1xuICB9XG5cbiAgc2V0RGlzdHJpYnV0b3JzQXNBZG1pbihkaXN0cmlidXRvcnNBc0FkbWluKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnNBc0FkbWluJywgZGlzdHJpYnV0b3JzQXNBZG1pbik7XG4gIH1cblxuICBzZXRJc0FkbWluKGlzQWRtaW4pIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2lzQWRtaW4nLCBpc0FkbWluKTtcbiAgfVxuXG4gIHNldFVzZXJLZXkodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJLZXknLCB2YWx1ZSk7XG4gIH1cblxuICBzZXRVc2VyRW1haWwodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJFbWFpbCcsIHZhbHVlKTtcbiAgfVxuXG4gIHNldEN1cnJlbnREaXN0cmlidXRvcktleSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5JywgdmFsdWUpO1xuICB9XG5cbiAgc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnY3VycmVudERpc3RyaWJ1dG9yTmFtZScsIHZhbHVlKTtcbiAgfVxuXG4gIGdldFVzZXJLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5Jyk7XG4gIH1cblxuICBnZXRVc2VyRW1haWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyRW1haWwnKTtcbiAgfVxuXG4gIGdldERpc3RyaWJ1dG9ycygpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2Rpc3RyaWJ1dG9ycycpO1xuICB9XG5cbiAgZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvck5hbWUnKTtcbiAgfVxuXG4gIGdldEN1cnJlbnREaXN0cmlidXRvcktleSgpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScpO1xuICB9XG5cbiAgZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2Rpc3RyaWJ1dG9yc0FzQWRtaW4nKTtcbiAgfVxuXG4gIGdldElzQWRtaW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdpc0FkbWluJyk7XG4gIH1cblxuICBsb2dpbihjcmVkZW50aWFscykge1xuICAgIGxldCBhdXRoZW50aWNhdGlvblBheWxvYWQgPSB7XG4gICAgICBhY2Nlc3NfdG9rZW46IF8uY2xvbmUoY3JlZGVudGlhbHMuYWNjZXNzX3Rva2VuKSxcbiAgICAgIGF1dGh1c2VyOiBfLmNsb25lKGNyZWRlbnRpYWxzLmF1dGh1c2VyKSxcbiAgICAgIGNsaWVudF9pZDogXy5jbG9uZShjcmVkZW50aWFscy5jbGllbnRfaWQpLFxuICAgICAgY29kZTogXy5jbG9uZShjcmVkZW50aWFscy5jb2RlKSxcbiAgICAgIGlkX3Rva2VuOiBfLmNsb25lKGNyZWRlbnRpYWxzLmlkX3Rva2VuKSxcbiAgICAgIHNjb3BlOiBfLmNsb25lKGNyZWRlbnRpYWxzLnNjb3BlKSxcbiAgICAgIHNlc3Npb25fc3RhdGU6IF8uY2xvbmUoY3JlZGVudGlhbHMuc2Vzc2lvbl9zdGF0ZSksXG4gICAgICBzdGF0ZTogXy5jbG9uZShjcmVkZW50aWFscy5zdGF0ZSksXG4gICAgICBzdGF0dXM6IF8uY2xvbmUoY3JlZGVudGlhbHMuc3RhdHVzKVxuICAgIH07XG5cbiAgICBpZiAoY3JlZGVudGlhbHMuZW1haWwgJiYgY3JlZGVudGlhbHMucGFzc3dvcmQpIHtcbiAgICAgIGF1dGhlbnRpY2F0aW9uUGF5bG9hZCA9IGNyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIGxldCBwcm9taXNlID0gdGhpcy4kaHR0cC5wb3N0KCcvbG9naW4nLCBhdXRoZW50aWNhdGlvblBheWxvYWQpO1xuICAgIHJldHVybiBwcm9taXNlLnN1Y2Nlc3MoZGF0YSA9PiB7XG4gICAgICB0aGlzLnNldFVzZXJLZXkoZGF0YS51c2VyLmtleSk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRJZGVudGl0eSgpXG4gICAgICAgIC50aGVuKCgpID0+IGRhdGEpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0SWRlbnRpdHkoKSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCBpZGVudGl0eVByb21pc2UgPSB0aGlzLklkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgIGlkZW50aXR5UHJvbWlzZS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5zZXREaXN0cmlidXRvcnMoZGF0YVsnZGlzdHJpYnV0b3JzJ10pO1xuICAgICAgdGhpcy5zZXREaXN0cmlidXRvcnNBc0FkbWluKGRhdGFbJ2Rpc3RyaWJ1dG9yc19hc19hZG1pbiddKTtcbiAgICAgIHRoaXMuc2V0SXNBZG1pbihkYXRhWydpc19hZG1pbiddKTtcbiAgICAgIHRoaXMuc2V0VXNlckVtYWlsKGRhdGFbJ2VtYWlsJ10pO1xuICAgICAgdGhpcy5zZXRJc0FkbWluKGRhdGFbXCJpc19hZG1pblwiXSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICByZW1vdmVVc2VySW5mbygpIHtcbiAgICB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnJlbW92ZUFsbCgpO1xuICB9XG59XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9zZXNzaW9ucy5zZXJ2aWNlLmpzXG4gKiovIiwiaW1wb3J0IExvY2tyIGZyb20gJ2xvY2tyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmFnZVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gTG9ja3Iuc2V0KGtleSwgdmFsdWUpO1xuICB9XG5cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiBMb2Nrci5nZXQoa2V5KTtcbiAgfVxuXG4gIHJtKGtleSkge1xuICAgIHJldHVybiBMb2Nrci5ybShrZXkpO1xuICB9XG5cbiAgcmVtb3ZlQWxsKCkge1xuICAgIExvY2tyLmZsdXNoKCk7XG4gIH1cblxufVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvc3RvcmFnZS5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVuYW50c1NlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyLCBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcbiAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcbiAgfVxuXG4gIHNhdmUodGVuYW50KSB7XG4gICAgaWYgKHRlbmFudC5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByb21pc2UgPSB0ZW5hbnQucHV0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCd0ZW5hbnRzJykucG9zdCh0ZW5hbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHNhdmVPdmVybGF5U2V0dGluZ3ModGVuYW50X3VybHNhZmVfa2V5LCBib3R0b21fbGVmdCwgYm90dG9tX3JpZ2h0LCB0b3BfcmlnaHQsIHRvcF9sZWZ0KSB7XG4gICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICBib3R0b21fbGVmdCxcbiAgICAgIGJvdHRvbV9yaWdodCxcbiAgICAgIHRvcF9yaWdodCxcbiAgICAgIHRvcF9sZWZ0LFxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ292ZXJsYXknLCBgL2FwaS92MS9vdmVybGF5L3RlbmFudC8ke3RlbmFudF91cmxzYWZlX2tleX1gKS5jdXN0b21QT1NUKHBheWxvYWQpO1xuICB9XG5cbiAgb3ZlcmxheUFwcGx5VGVuYW50KHRlbmFudF91cmxzYWZlX2tleSkge1xuICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnb3ZlcmxheScsIGAvYXBpL3YxL292ZXJsYXkvdGVuYW50LyR7dGVuYW50X3VybHNhZmVfa2V5fS9hcHBseWApLnBvc3QoKTtcbiAgfVxuXG4gIHNlYXJjaEFsbFRlbmFudHNCeU5hbWUodGVuYW50X25hbWUsIGFsbERpc3RyaWJ1dG9ycykge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwoJ3RlbmFudHMnKS5jdXN0b21HRVRMSVNUKFwiXCIsIHtcbiAgICAgIHRlbmFudF9uYW1lOiB0ZW5hbnRfbmFtZSwgYWxsRGlzdHJpYnV0b3JzOiBhbGxEaXN0cmlidXRvcnNcbiAgICB9KVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZmV0Y2hBbGxUZW5hbnRzKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwoJ3RlbmFudHMnKS5nZXRMaXN0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmZXRjaEFsbFRlbmFudHNQYWdpbmF0ZWQocGFnZV9zaXplLCBvZmZzZXQpIHtcbiAgICBsZXQgdXJsID0gYGFwaS92MS90ZW5hbnRzL3BhZ2luYXRlZC8ke3BhZ2Vfc2l6ZX0vJHtvZmZzZXR9YDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgdXJsKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldFRlbmFudEJ5S2V5KHRlbmFudEtleSkge1xuICAgIGxldCB1cmwgPSBgYXBpL3YxL3RlbmFudHMvJHt0ZW5hbnRLZXl9YDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgdXJsKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGRlbGV0ZSh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKFwidGVuYW50c1wiLCB0ZW5hbnQua2V5KS5yZW1vdmUoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvdGVuYW50cy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZXpvbmVzU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgfVxuXG4gIGdldFVzVGltZXpvbmVzKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RpbWV6b25lcycsICdhcGkvdjEvdGltZXpvbmVzL3VzJykuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRBbGxUaW1lem9uZXMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGltZXpvbmVzJywgJ2FwaS92MS90aW1lem9uZXMvYWxsJykuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRDdXN0b21UaW1lem9uZXMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGltZXpvbmVzJywgJ2FwaS92MS90aW1lem9uZXMvY3VzdG9tJykuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbn1cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvdGltZXpvbmVzLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUb2FzdHNTZXJ2aWNlIHtcbiAgXG4gIGNvbnN0cnVjdG9yKHRvYXN0cikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy50b2FzdHIgPSB0b2FzdHI7XG4gIH1cblxuICBzaG93U3VjY2Vzc1RvYXN0KG1lc3NhZ2UsIHRpdGxlID0gJ1N1Y2Nlc3MhJykge1xuICAgIHJldHVybiB0aGlzLnRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UsIHRpdGxlKTtcbiAgfVxuXG4gIHNob3dFcnJvclRvYXN0KG1lc3NhZ2UsIHRpdGxlID0gJ0Vycm9yIScpIHtcbiAgICByZXR1cm4gdGhpcy50b2FzdHIuZXJyb3IobWVzc2FnZSwgdGl0bGUpO1xuICB9XG5cbiAgc2hvd0luZm9Ub2FzdChtZXNzYWdlLCB0aXRsZSA9ICdJbmZvcm1hdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy50b2FzdHIuaW5mbyhtZXNzYWdlLCB0aXRsZSk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy90b2FzdHMuc2VydmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlcnNpb25zU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICB9XG5cbiAgZ2V0VmVyc2lvbnMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndmVyc2lvbnMnKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL3ZlcnNpb25zLnNlcnZpY2UuanNcbiAqKi8iLCJmdW5jdGlvbiBUZW5hbnRMb2dzQ3RybCgkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBUZW5hbnRzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEludGVncmF0aW9uRXZlbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gICRzY29wZS50YWJJbmRleCA9IDU7XG4gIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG4gIGxldCB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodm0udGVuYW50S2V5KTtcbiAgdGVuYW50UHJvbWlzZS50aGVuKGRhdGEgPT4ge1xuICAgIHZtLmN1cnJlbnRUZW5hbnQgPSBkYXRhXG4gIH0pO1xuXG4gIHZtLmxvY2FsRnJvbVV0YyA9IGZ1bmN0aW9uIChldmVudHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSBldmVudHNbaV07XG4gICAgICBpZiAoZWFjaC51dGNUaW1lc3RhbXApIHtcbiAgICAgICAgZWFjaC51dGNUaW1lc3RhbXAgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnV0Y1RpbWVzdGFtcCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfTtcblxuICB2bS5nZXRUZW5hbnRDcmVhdGVFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGVucm9sbG1lbnRFdmVudHNQcm9taXNlID0gSW50ZWdyYXRpb25FdmVudHMuZ2V0VGVuYW50Q3JlYXRlRXZlbnRzKHZtLnRlbmFudEtleSk7XG4gICAgZW5yb2xsbWVudEV2ZW50c1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0udGVuYW50Q3JlYXRlRXZlbnRzID0gZGF0YTtcbiAgICAgIHZtLmxvY2FsRnJvbVV0YyhkYXRhKTtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gU2V0dXBcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICB2bS5pbml0aWFsaXplID0gKCkgPT4ge1xuICAgIHZtLmdldFRlbmFudENyZWF0ZUV2ZW50cygpXG4gIH1cblxuICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzd2l0Y2ggKHRvVGFiKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50T3ZlcmxheXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2dzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge1RlbmFudExvZ3NDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9ncy5jb250cm9sbGVyLmpzXG4gKiovIiwiaW1wb3J0IG5hdHVyYWxTb3J0IGZyb20gJ2phdmFzY3JpcHQtbmF0dXJhbC1zb3J0JztcblxuXG5mdW5jdGlvbiBUZW5hbnRPdmVybGF5c0N0cmwoJHN0YXRlUGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlbmFudHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3RzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSW1hZ2VTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtZERpYWxvZykge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgJHNjb3BlLnRhYkluZGV4ID0gNDtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG4gIGxldCB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodm0udGVuYW50S2V5KTtcbiAgdGVuYW50UHJvbWlzZS50aGVuKGRhdGEgPT4ge1xuICAgIHZtLmN1cnJlbnRUZW5hbnQgPSBkYXRhXG4gIH0pO1xuXG4gIHZtLm92ZXJsYXlDaGFuZ2VkID0gZmFsc2U7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBPdmVybGF5c1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLmFkanVzdE92ZXJsYXlTdGF0dXMgPSAoc3RhdHVzKSA9PiB7XG4gICAgdm0uY3VycmVudFRlbmFudC5vdmVybGF5U3RhdHVzID0gc3RhdHVzXG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgdm0ubG9hZGluZ092ZXJsYXlzID0gdHJ1ZTtcbiAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNhdmUodm0uY3VycmVudFRlbmFudCk7XG4gICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpXG4gICAgICBsZXQgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KCRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkpO1xuICAgICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICAgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gZmFsc2U7XG4gICAgICAgIHZtLm9uU3VjY2Vzc1Jlc29sdmluZ1RlbmFudCh0ZW5hbnQpO1xuICAgICAgfSk7XG4gICAgfSlcbiAgICBwcm9taXNlLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcbiAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICB9KVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdm0udXBkYXRlT3ZlcmxheXMgPSAoKSA9PiB7XG4gICAgdm0ubG9hZGluZ092ZXJsYXlzID0gdHJ1ZTtcbiAgICBsZXQgdGVuYW50UHJvbWlzZSA9IHZtLmdldFRlbmFudCgpO1xuICAgIHRlbmFudFByb21pc2UudGhlbigodGVuYW50KSA9PiB7XG4gICAgICB2bS5vdmVybGF5Q2hhbmdlZCA9IGZhbHNlO1xuICAgICAgdm0uY3VycmVudFRlbmFudC5vdmVybGF5cyA9IHRlbmFudC5vdmVybGF5cztcbiAgICAgIHZtLmN1cnJlbnRUZW5hbnRDb3B5Lm92ZXJsYXlzID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnRUZW5hbnQub3ZlcmxheXMpO1xuICAgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gZmFsc2U7XG4gICAgfSlcbiAgICByZXR1cm4gdGVuYW50UHJvbWlzZTtcbiAgfVxuXG4gIHZtLnN1Ym1pdE92ZXJsYXlTZXR0aW5ncyA9ICgpID0+IHtcbiAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSB0cnVlO1xuXG4gICAgbGV0IG92ZXJsYXlTZXR0aW5ncyA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50VGVuYW50Q29weS5vdmVybGF5cylcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNhdmVPdmVybGF5U2V0dGluZ3MoXG4gICAgICB2bS50ZW5hbnRLZXksXG4gICAgICBvdmVybGF5U2V0dGluZ3MuYm90dG9tX2xlZnQsXG4gICAgICBvdmVybGF5U2V0dGluZ3MuYm90dG9tX3JpZ2h0LFxuICAgICAgb3ZlcmxheVNldHRpbmdzLnRvcF9yaWdodCxcbiAgICAgIG92ZXJsYXlTZXR0aW5ncy50b3BfbGVmdFxuICAgICk7XG5cbiAgICBsZXQgdXBkYXRlT3ZlcmxheVByb21pc2VEZWZlcnJlZCA9ICgpID0+IHtcbiAgICAgIGxldCB1cGRhdGVPdmVybGF5UHJvbWlzZSA9IHZtLnVwZGF0ZU92ZXJsYXlzKCk7XG4gICAgICB1cGRhdGVPdmVybGF5UHJvbWlzZS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcbiAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB1cGRhdGVPdmVybGF5UHJvbWlzZTtcbiAgICB9O1xuXG4gICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICR0aW1lb3V0KHVwZGF0ZU92ZXJsYXlQcm9taXNlRGVmZXJyZWQsIDEwMDApXG4gICAgfSlcblxuICAgIHByb21pc2UuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuICAgIH0pXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH07XG5cbiAgdm0uYXBwbHlUZW5hbnRPdmVybGF5ID0gKGV2KSA9PiB7XG4gICAgbGV0IGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybShcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6IGBBcmUgeW91IHN1cmU/YCxcbiAgICAgICAgdGV4dENvbnRlbnQ6IGBFYWNoIGRldmljZSBpbiB5b3VyIFRlbmFudCB3aWxsIGhhdmUgdGhlIGN1cnJlbnQgT3ZlcmxheSBUZW1wbGF0ZSBhcHBsaWVkIGFzIGl0cyBzZXR0aW5ncy5gLFxuICAgICAgICB0YXJnZXRFdmVudDogZXYsXG4gICAgICAgIGFyaWFMYWJlbDogJ0x1Y2t5IGRheScsXG4gICAgICAgIG9rOiAnQ29uZmlybScsXG4gICAgICAgIGNhbmNlbDogJ05ldmVybWluZCdcbiAgICAgIH1cbiAgICApO1xuXG4gICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbigoZnVuY3Rpb24gKCkge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLm92ZXJsYXlBcHBseVRlbmFudCh2bS50ZW5hbnRLZXkpXG4gICAgICBwcm9taXNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBsZXQgbWVzc2FnZSA9ICdZb3VyIFRlbmFudCBPdmVybGF5IFNldHRpbmdzIGFyZSBiZWluZyBhcHBsaWVkIHRvIGVhY2ggZGV2aWNlIGluIHlvdXIgVGVuYW50LiBQbGVhc2Ugd2FpdCBwYXRpZW50bHkgZm9yIHRoaXMgcHJvY2VzcyB0byBjb21wbGV0ZS4nXG4gICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChtZXNzYWdlKTtcbiAgICAgICAgdm0ubG9hZGluZyA9IHRydWU7XG4gICAgICAgIHZtLmdldFRlbmFudCgpO1xuICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKVxuICAgICAgfSlcbiAgICAgIHByb21pc2UuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKVxuICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfSkpXG5cbiAgfVxuXG4gIHZtLmNoZWNrRm9yT3ZlcmxheUNoYW5nZXMgPSAoKSA9PiB7XG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudFRlbmFudE92ZXJsYXlzID0gdm0uY3VycmVudFRlbmFudC5vdmVybGF5cztcbiAgICBsZXQgY3VycmVudFRlbmFudENvcHlPdmVybGF5cyA9IHZtLmN1cnJlbnRUZW5hbnRDb3B5Lm92ZXJsYXlzO1xuICAgIGxldCBwb3NpdGlvbnMgPSBbJ3RvcF9sZWZ0JywgJ3RvcF9yaWdodCcsICdib3R0b21fcmlnaHQnLCAnYm90dG9tX2xlZnQnXTtcblxuICAgIGZvciAobGV0IHBvcyBvZiBwb3NpdGlvbnMpIHtcbiAgICAgIGlmIChjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS5zaXplICE9PSBjdXJyZW50VGVuYW50Q29weU92ZXJsYXlzW3Bvc10uc2l6ZSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS50eXBlICE9PSBjdXJyZW50VGVuYW50Q29weU92ZXJsYXlzW3Bvc10udHlwZSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS50eXBlID09PSAnbG9nbycpIHtcbiAgICAgICAgaWYgKChjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS50eXBlICsgXCI6IFwiICsgY3VycmVudFRlbmFudE92ZXJsYXlzW3Bvc10ubmFtZSkgIT09IGN1cnJlbnRUZW5hbnRDb3B5T3ZlcmxheXNbcG9zXS5uYW1lKSB7XG4gICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2bS5vdmVybGF5Q2hhbmdlZCA9IGNoYW5nZWQ7XG5cbiAgfVxuXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBJbWFnZXNcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5zdWJtaXRJbWFnZSA9ICgpID0+IHtcbiAgICBpZiAodm0uc2VsZWN0ZWRMb2dvICYmIHZtLnNlbGVjdGVkTG9nb1swXSkge1xuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBsZXQgdmFsaWRGaWxlID0gdHJ1ZTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5zZWxlY3RlZExvZ28sIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgaWYgKG9iai5sZkZpbGUuc2l6ZSA8IDE1MDAwMDAwKSB7XG4gICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlcycsIG9iai5sZkZpbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZtLmZpbGVBcGkucmVtb3ZlQWxsKClcbiAgICAgICAgICB2YWxpZEZpbGUgPSBmYWxzZTtcbiAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdZb3VyIGltYWdlIGlzIGxhcmdlciB0aGFuIDE1IE1CLiBQbGVhc2UgY2hvb3NlIGEgc21hbGxlciBpbWFnZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKHZhbGlkRmlsZSkge1xuICAgICAgICBsZXQgcHJvbWlzZSA9IEltYWdlU2VydmljZS5zYXZlSW1hZ2Uodm0udGVuYW50S2V5LCBmb3JtRGF0YSlcbiAgICAgICAgcHJvbWlzZS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgICAgICAkdGltZW91dCh2bS5nZXRUZW5hbnRJbWFnZXMsIDEwMDApO1xuICAgICAgICAgIHZtLmZpbGVBcGkucmVtb3ZlQWxsKClcbiAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHVwbG9hZGVkIHlvdXIgaW1hZ2UuJyk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb21pc2UuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBZb3UgbWF5IGhhdmUgYWxyZWFkeSB1cGxvYWRlZCB0aGlzIGltYWdlLicpO1xuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2bS5nZXRUZW5hbnRJbWFnZXNBbmRSZWxvYWRUZW5hbnRBZnRlckRlbGV0ZSA9ICgpID0+IHtcbiAgICBsZXQgdGVuYW50SW1hZ2VQcm9taXNlID0gdm0uZ2V0VGVuYW50SW1hZ2VzKCk7XG4gICAgdGVuYW50SW1hZ2VQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgbGV0IHVwZGF0ZU92ZXJsYXlQcm9taXNlID0gdm0udXBkYXRlT3ZlcmxheXMoKTtcbiAgICAgIHVwZGF0ZU92ZXJsYXlQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIGRlbGV0ZWQgeW91ciBpbWFnZS4nKTtcbiAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICB2bS5kZWxldGVJbWFnZSA9IChldiwgbmFtZSwga2V5KSA9PiB7XG4gICAgbGV0IGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybShcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6IGBBcmUgeW91IHN1cmU/YCxcbiAgICAgICAgdGV4dENvbnRlbnQ6IGBJZiB5b3UgcHJvY2VlZCwgJHtuYW1lfSB3aWxsIGJlIGRlbGV0ZWQgYW5kIHJlbW92ZWQgZnJvbSBhbGwgZGV2aWNlcyB0aGF0IHVzZSBpdC5gLFxuICAgICAgICB0YXJnZXRFdmVudDogZXYsXG4gICAgICAgIGFyaWFMYWJlbDogJ0x1Y2t5IGRheScsXG4gICAgICAgIG9rOiAnQ29uZmlybScsXG4gICAgICAgIGNhbmNlbDogJ05ldmVybWluZCdcbiAgICAgIH1cbiAgICApO1xuXG4gICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbigoZnVuY3Rpb24gKCkge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgICBsZXQgcHJvbWlzZSA9IEltYWdlU2VydmljZS5kZWxldGVJbWFnZShrZXkpXG4gICAgICBwcm9taXNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAkdGltZW91dCh2bS5nZXRUZW5hbnRJbWFnZXNBbmRSZWxvYWRUZW5hbnRBZnRlckRlbGV0ZSwgMTAwMCk7XG4gICAgICB9KVxuICAgICAgcHJvbWlzZS5jYXRjaCgocmVzKSA9PiB7XG4gICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIGRlbGV0aW5nIHlvdXIgaW1hZ2UuJyk7XG4gICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgfSlcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH0pKVxuICB9O1xuXG4gIHZtLmdldFRlbmFudEltYWdlcyA9ICgpID0+IHtcbiAgICB2bS5PVkVSTEFZX1RZUEVTID0gW1xuICAgICAge3NpemU6IG51bGwsIHR5cGU6IG51bGwsIG5hbWU6IFwibm9uZVwiLCByZWFsTmFtZTogXCJub25lXCIsIG5ldzogZmFsc2UsIGltYWdlX2tleTogbnVsbH0sXG4gICAgICB7c2l6ZTogbnVsbCwgdHlwZTogXCJkYXRldGltZVwiLCBuYW1lOiBcImRhdGV0aW1lXCIsIHJlYWxOYW1lOiBcImRhdGV0aW1lXCIsIG5ldzogdHJ1ZSwgaW1hZ2Vfa2V5OiBudWxsfSxcbiAgICBdXG5cbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IEltYWdlU2VydmljZS5nZXRJbWFnZXModm0udGVuYW50S2V5KTtcbiAgICBwcm9taXNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdm0udGVuYW50SW1hZ2VzID0gcmVzXG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIGZvciAobGV0IHZhbHVlIG9mIHZtLnRlbmFudEltYWdlcykge1xuICAgICAgICBmb3IgKGxldCBzaXplT3B0aW9uIG9mIFtcInNtYWxsXCIsIFwibGFyZ2VcIl0pIHtcbiAgICAgICAgICBsZXQgbmV3VmFsdWUgPSB7XG4gICAgICAgICAgICByZWFsTmFtZTogYW5ndWxhci5jb3B5KHZhbHVlLm5hbWUpLFxuICAgICAgICAgICAgbmFtZTogXCJsb2dvOiBcIiArIHZhbHVlLm5hbWUsXG4gICAgICAgICAgICB0eXBlOiBcImxvZ29cIixcbiAgICAgICAgICAgIHNpemU6IHNpemVPcHRpb24sXG4gICAgICAgICAgICBpbWFnZV9rZXk6IHZhbHVlLmtleVxuICAgICAgICAgIH1cbiAgICAgICAgICB2bS5PVkVSTEFZX1RZUEVTLnB1c2gobmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2bS5PVkVSTEFZX1RZUEVTLnNvcnQobmF0dXJhbFNvcnQpO1xuXG4gICAgfSk7XG5cbiAgICBwcm9taXNlLmNhdGNoKCgpID0+IHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JTdGF0dXMoXCJTT01FVEhJTkcgV0VOVCBXUk9ORyBSRVRSSUVWSU5HIFlPVVIgSU1BR0VTXCIpXG4gICAgfSlcblxuICAgIHJldHVybiBwcm9taXNlXG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gU2V0dXBcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdm0ub25TdWNjZXNzUmVzb2x2aW5nVGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuICAgIHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQ7XG4gICAgdm0uY3VycmVudFRlbmFudENvcHkgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudFRlbmFudCk7XG4gICAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHRlbmFudC5kZWZhdWx0X3RpbWV6b25lO1xuXG4gIH07XG5cbiAgdm0uZ2V0VGVuYW50ID0gKCkgPT4ge1xuICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IHRydWU7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSgkc3RhdGVQYXJhbXMudGVuYW50S2V5KTtcbiAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuICAgICAgdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcbiAgICAgIGlmICh2bS5jdXJyZW50VGVuYW50Lm92ZXJsYXlzVXBkYXRlSW5Qcm9ncmVzcykge1xuICAgICAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgJHRpbWVvdXQodm0uZ2V0VGVuYW50LCAzMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH07XG4gICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcbiAgICAgIHZtLmN1cnJlbnRUZW5hbnRDb3B5ID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnRUZW5hbnQpO1xuICAgIH0pXG4gICAgcmV0dXJuIHRlbmFudFByb21pc2VcbiAgfVxuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PiB7XG4gICAgdm0uZ2V0VGVuYW50SW1hZ2VzKClcbiAgICB2bS5nZXRUZW5hbnQoKVxuICB9XG5cbiAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcbiAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoICh0b1RhYikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtUZW5hbnRPdmVybGF5c0N0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvdGVuYW50L3RlbmFudC1vdmVybGF5cy5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gVGVuYW50QWRkQ3RybCgkbG9nLCAkbG9jYXRpb24sIFRlbmFudHNTZXJ2aWNlLCBEaXN0cmlidXRvcnNTZXJ2aWNlLCBUaW1lem9uZXNTZXJ2aWNlLCAkc3RhdGUsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgIFNlc3Npb25zU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uZ2FtZVN0b3BTZXJ2ZXIgPSAkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTE7XG4gIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG4gICAga2V5OiB1bmRlZmluZWQsXG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG4gICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcbiAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG4gICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG4gICAgcHJvb2Zfb2ZfcGxheV91cmw6IHVuZGVmaW5lZCxcbiAgICBhY3RpdmU6IHRydWUsXG4gICAgb3VfY3JlYXRlOiB0cnVlXG4gIH07XG4gIHZtLnNlbGVjdGVkRG9tYWluID0gdW5kZWZpbmVkO1xuICB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBbXTtcbiAgdm0udGltZXpvbmVzID0gW107XG4gIHZtLnNlbGVjdGVkVGltZXpvbmUgPSAnQW1lcmljYS9DaGljYWdvJztcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCB0aW1lem9uZVByb21pc2UgPSBUaW1lem9uZXNTZXJ2aWNlLmdldEN1c3RvbVRpbWV6b25lcygpO1xuICAgIHRpbWV6b25lUHJvbWlzZS50aGVuKGRhdGEgPT4gdm0udGltZXpvbmVzID0gZGF0YSk7XG4gICAgdm0uY3VycmVudERpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuICAgIGxldCBkaXN0cmlidXRvclByb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmdldEJ5S2V5KHZtLmN1cnJlbnREaXN0cmlidXRvcktleSk7XG4gICAgZGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmN1cnJlbnRUZW5hbnQuY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsID0gZGF0YS5jb250ZW50X21hbmFnZXJfdXJsO1xuICAgICAgcmV0dXJuIHZtLmN1cnJlbnRUZW5hbnQuY29udGVudF9zZXJ2ZXJfdXJsID0gZGF0YS5wbGF5ZXJfY29udGVudF91cmw7XG4gICAgfSk7XG4gICAgbGV0IGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0RG9tYWluc0J5S2V5KHZtLmN1cnJlbnREaXN0cmlidXRvcktleSk7XG4gICAgcmV0dXJuIGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZS50aGVuKGRvbWFpbnMgPT4gdm0uZGlzdHJpYnV0b3JEb21haW5zID0gZG9tYWlucyk7XG4gIH07XG5cbiAgdm0ub25DbGlja1NhdmVCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgdm0uY3VycmVudFRlbmFudC5kZWZhdWx0X3RpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcbiAgICB2bS5jdXJyZW50VGVuYW50LmRvbWFpbl9rZXkgPSB2bS5zZWxlY3RlZERvbWFpbi5rZXk7XG4gICAgbGV0IHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zYXZlKHZtLmN1cnJlbnRUZW5hbnQpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzVGVuYW50U2F2ZSwgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSk7XG4gIH07XG5cbiAgdm0ub25TdWNjZXNzVGVuYW50U2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRzJyk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSA9IGZ1bmN0aW9uIChlcnJvck9iamVjdCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIGlmKGVycm9yT2JqZWN0LnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsXG4gICAgICAgICdUZW5hbnQgY29kZSB1bmF2YWlsYWJsZSBpbiBQcm92aXNpb25pbmcuIFBsZWFzZSBtb2RpZnkgdGVuYW50IG5hbWUgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgdGVuYW50IGNvZGUuJyxcbiAgICAgICAgJ2Vycm9yJyk7XG4gICAgfVxuICAgIGVsc2UgaWYoZXJyb3JPYmplY3Quc3RhdHVzID09PSA0MTIpIHtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJyxcbiAgICAgICAgJ1RlbmFudCBjb2RlIHVuYXZhaWxhYmxlIGluIENocm9tZSBEZXZpY2UgTWFuYWdlbWVudC4gTW9kaWZ5IHRlbmFudCBuYW1lIHRvIGdlbmVyYXRlIGEgdW5pcXVlIHRlbmFudCBjb2RlLicsXG4gICAgICAgICdlcnJvcicpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICRsb2cuZXJyb3IoZXJyb3JPYmplY3QpO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIHNhdmUgdGhlIHRlbmFudC4nLCAnZXJyb3InKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uYXV0b0dlbmVyYXRlVGVuYW50Q29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXZtLmN1cnJlbnRUZW5hbnQua2V5KSB7XG4gICAgICBsZXQgbmV3VGVuYW50Q29kZSA9ICcnO1xuICAgICAgaWYgKHZtLmN1cnJlbnRUZW5hbnQubmFtZSkge1xuICAgICAgICBuZXdUZW5hbnRDb2RlID0gdm0uY3VycmVudFRlbmFudC5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xccysvZywgJ18nKTtcbiAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudC50ZW5hbnRfY29kZSA9IG5ld1RlbmFudENvZGU7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cbmV4cG9ydCB7VGVuYW50QWRkQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LWFkZC5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gVGVuYW50RGV0YWlsc0N0cmwoJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgRG9tYWluc1NlcnZpY2UsIFRpbWV6b25lc1NlcnZpY2UsIERpc3RyaWJ1dG9yc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UsIFRvYXN0c1NlcnZpY2UsIFNlc3Npb25zU2VydmljZSwgJHNjb3BlLCAkbG9jYXRpb24pIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmdhbWVTdG9wU2VydmVyID0gJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xO1xuICB2bS5jdXJyZW50VGVuYW50ID0ge1xuICAgIGtleTogdW5kZWZpbmVkLFxuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG4gICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcbiAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuICAgIHByb29mX29mX3BsYXlfdXJsOiB1bmRlZmluZWQsXG4gICAgYWN0aXZlOiB0cnVlXG4gIH07XG4gIHZtLnNlbGVjdGVkRG9tYWluID0gdW5kZWZpbmVkO1xuICB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBbXTtcbiAgdm0udGltZXpvbmVzID0gW107XG4gIHZtLnNlbGVjdGVkVGltZXpvbmUgPSAnQW1lcmljYS9DaGljYWdvJztcbiAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSgkc3RhdGVQYXJhbXMudGVuYW50S2V5KTtcbiAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuICAgICAgdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcbiAgICAgIHJldHVybiB2bS5vblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQodGVuYW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHRpbWV6b25lUHJvbWlzZSA9IFRpbWV6b25lc1NlcnZpY2UuZ2V0Q3VzdG9tVGltZXpvbmVzKCk7XG4gICAgdGltZXpvbmVQcm9taXNlLnRoZW4oZGF0YSA9PiB2bS50aW1lem9uZXMgPSBkYXRhKTtcbiAgICB2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG4gICAgbGV0IGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0RG9tYWluc0J5S2V5KHZtLmN1cnJlbnREaXN0cmlidXRvcktleSk7XG4gICAgcmV0dXJuIGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZS50aGVuKGRvbWFpbnMgPT4gdm0uZGlzdHJpYnV0b3JEb21haW5zID0gZG9tYWlucyk7XG4gIH07XG5cbiAgdm0ub25TdWNjZXNzUmVzb2x2aW5nVGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuICAgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSB0ZW5hbnQuZGVmYXVsdF90aW1lem9uZTtcbiAgICBsZXQgZG9tYWluUHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmdldERvbWFpbkJ5S2V5KHRlbmFudC5kb21haW5fa2V5KTtcbiAgICByZXR1cm4gZG9tYWluUHJvbWlzZS50aGVuKGRhdGEgPT4gdm0uc2VsZWN0ZWREb21haW4gPSBkYXRhKTtcbiAgfTtcblxuICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICB2bS5jdXJyZW50VGVuYW50LmRlZmF1bHRfdGltZXpvbmUgPSB2bS5zZWxlY3RlZFRpbWV6b25lO1xuICAgIHZtLmN1cnJlbnRUZW5hbnQuZG9tYWluX2tleSA9IHZtLnNlbGVjdGVkRG9tYWluLmtleTtcbiAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNhdmUodm0uY3VycmVudFRlbmFudCk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlLCB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlKTtcbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdGVuYW50IGluZm9ybWF0aW9uLicpO1xuICB9O1xuXG4gIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUgPSBmdW5jdGlvbiAoZXJyb3JPYmplY3QpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBpZiAoZXJyb3JPYmplY3Quc3RhdHVzID09PSA0MDkpIHtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJyxcbiAgICAgICAgJ1RlbmFudCBjb2RlIHVuYXZhaWxhYmxlLiBQbGVhc2UgbW9kaWZ5IHRlbmFudCBuYW1lIHRvIGdlbmVyYXRlIGEgdW5pcXVlIHRlbmFudCBjb2RlLicsICdlcnJvcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gc2F2ZSB0aGUgdGVuYW50LicsICdlcnJvcicpO1xuICAgIH1cbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IGl0ZW0gPT4gJHN0YXRlLmdvKCdlZGl0RGV2aWNlJywge2RldmljZUtleTogaXRlbS5rZXksIHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuXG4gIHZtLmF1dG9HZW5lcmF0ZVRlbmFudENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF2bS5jdXJyZW50VGVuYW50LmtleSkge1xuICAgICAgbGV0IG5ld1RlbmFudENvZGUgPSAnJztcbiAgICAgIGlmICh2bS5jdXJyZW50VGVuYW50Lm5hbWUpIHtcbiAgICAgICAgbmV3VGVuYW50Q29kZSA9IHZtLmN1cnJlbnRUZW5hbnQubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG4gICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZtLmN1cnJlbnRUZW5hbnQudGVuYW50X2NvZGUgPSBuZXdUZW5hbnRDb2RlO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUudGFiSW5kZXggPSAwO1xuXG4gICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG4gICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN3aXRjaCAodG9UYWIpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge1RlbmFudERldGFpbHNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtZGV0YWlscy5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gVGVuYW50TG9jYXRpb25DdHJsKCRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0ubG9jYXRpb24gPSB7XG4gICAga2V5OiB1bmRlZmluZWRcbiAgfTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy5sb2NhdGlvbktleTtcbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IGxvY2F0aW9uUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25CeUtleSgkc3RhdGVQYXJhbXMubG9jYXRpb25LZXkpO1xuICAgIGxvY2F0aW9uUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5sb2NhdGlvbiA9IGRhdGE7XG4gICAgICB2bS50ZW5hbnRLZXkgPSBkYXRhLnRlbmFudEtleTtcbiAgICAgIHZtLmxvY2F0aW9uTmFtZSA9IGRhdGEuY3VzdG9tZXJMb2NhdGlvbk5hbWU7XG4gICAgICByZXR1cm4gdm0uZmV0Y2hUZW5hbnROYW1lKHZtLnRlbmFudEtleSk7XG4gICAgfSk7XG4gIH1cblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdm0uZWRpdE1vZGUpIHtcbiAgICAgIHZtLmZldGNoVGVuYW50TmFtZSh2bS50ZW5hbnRLZXkpO1xuICAgICAgcmV0dXJuIHZtLmxvY2F0aW9uID0ge1xuICAgICAgICB0ZW5hbnRLZXk6IHZtLnRlbmFudEtleSxcbiAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2F2ZSh2bS5sb2NhdGlvbik7XG4gICAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1VwZGF0aW5nTG9jYXRpb24odm0udGVuYW50S2V5KSwgdm0ub25GYWlsdXJlU2F2aW5nTG9jYXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uLCB2bS5vbkZhaWx1cmVTYXZpbmdMb2NhdGlvbik7XG4gICAgfVxuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciBsb2NhdGlvbi4nKTtcbiAgICByZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24gKCkge1xuICAgICAgJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICByZXR1cm47XG4gICAgfSksIDEwMDApO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1VwZGF0aW5nTG9jYXRpb24gPSBmdW5jdGlvbiAodGVuYW50X2tleSkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgdXBkYXRlZCB5b3VyIGxvY2F0aW9uLicpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbiAoKSB7XG4gICAgICAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6IHRlbmFudF9rZXl9KTtcbiAgICAgIHJldHVybjtcbiAgICB9KSwgMTAwMCk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlU2F2aW5nTG9jYXRpb24gPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ0xvY2F0aW9uIGNvZGUgY29uZmxpY3QuIFVuYWJsZSB0byBzYXZlIHlvdXIgbG9jYXRpb24uJyk7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsXG4gICAgICAgICdQbGVhc2UgY2hhbmdlIHlvdXIgY3VzdG9tZXIgbG9jYXRpb24gbmFtZS4gTG9jYXRpb24gbmFtZSBtdXN0IGdlbmVyYXRlIGEgdW5pcXVlIGxvY2F0aW9uIGNvZGUuJyxcbiAgICAgICAgJ2Vycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdVbmFibGUgdG8gc2F2ZSB5b3VyIGxvY2F0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICB2bS5mZXRjaFRlbmFudE5hbWUgPSBmdW5jdGlvbiAodGVuYW50S2V5KSB7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh0ZW5hbnRLZXkpO1xuICAgIHJldHVybiB0ZW5hbnRQcm9taXNlLnRoZW4odGVuYW50ID0+IHZtLnRlbmFudE5hbWUgPSB0ZW5hbnQubmFtZSk7XG4gIH07XG5cbiAgdm0uYXV0b0dlbmVyYXRlQ3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF2bS5sb2NhdGlvbi5rZXkpIHtcbiAgICAgIGxldCBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9ICcnO1xuICAgICAgaWYgKHZtLmxvY2F0aW9uLmN1c3RvbWVyTG9jYXRpb25OYW1lKSB7XG4gICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gdm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbk5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG4gICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtUZW5hbnRMb2NhdGlvbkN0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbi5jb250cm9sbGVyLmpzXG4gKiovIiwiaW1wb3J0IG5hdHVyYWxTb3J0IGZyb20gJ2phdmFzY3JpcHQtbmF0dXJhbC1zb3J0JztcblxuXG5mdW5jdGlvbiBUZW5hbnRMb2NhdGlvbnNDdHJsKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgTG9jYXRpb25zU2VydmljZSwgJHN0YXRlLCBQcm9ncmVzc0JhclNlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIGxldCB7dGVuYW50S2V5fSA9ICRzdGF0ZVBhcmFtcztcbiAgJHNjb3BlLnRhYkluZGV4ID0gMztcbiAgdm0ubG9jYXRpb25zID0gW107XG4gIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblxuICBsZXQgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHRlbmFudEtleSk7XG4gIHRlbmFudFByb21pc2UudGhlbihkYXRhID0+IHtcbiAgICB2bS5jdXJyZW50VGVuYW50ID0gZGF0YVxuICB9KTtcblxuICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzd2l0Y2ggKHRvVGFiKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50T3ZlcmxheXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2dzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdm0uZ2V0TG9jYXRpb25zID0gZnVuY3Rpb24gKHRlbmFudEtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBsb2NhdGlvbnNQcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5nZXRMb2NhdGlvbnNCeVRlbmFudEtleVBhZ2luYXRlZCh0ZW5hbnRLZXksIHByZXYsIG5leHQpO1xuICAgIHJldHVybiBsb2NhdGlvbnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmxvY2F0aW9ucyA9IGRhdGEubG9jYXRpb25zO1xuICAgICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuICAgICAgdm0ucHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLnNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSA9IChuYW1lKSA9PiB7XG4gICAgaWYgKCFuYW1lIHx8IG5hbWUubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIGxldCBwcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5zZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUodm0udGVuYW50S2V5LCBuYW1lKVxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICB2bS5zZWFyY2hlZFRlbmFudExvY2F0aW9ucyA9IHJlc3BvbnNlXG4gICAgICBpZiAodm0uc2VhcmNoZWRUZW5hbnRMb2NhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHZtLnNlYXJjaGVkVGVuYW50TG9jYXRpb25zLm1hcCgoaSkgPT4gaS5jdXN0b21lckxvY2F0aW9uTmFtZSkuc29ydChuYXR1cmFsU29ydClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbXVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2goKHJlc3BvbnNlKSA9PiB7XG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gYFVuYWJsZSB0byBmZXRjaCBsb2NhdGlvbnMuIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuICAgIH0pXG4gIH07XG5cbiAgdm0uaXNUZW5hbnRMb2NhdGlvblZhbGlkID0gKG5hbWUpID0+IHtcbiAgICBpZiAoIW5hbWUgfHwgbmFtZS5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgbGV0IHByb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLnNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSh2bS50ZW5hbnRLZXksIG5hbWUpXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgbGV0IG1hdGNoID0gcmVzcG9uc2VcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgZm9yIChsZXQgZWFjaExvY2F0aW9uTmFtZSBvZiBtYXRjaCkge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09IGVhY2hMb2NhdGlvbk5hbWUuY3VzdG9tZXJMb2NhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgdm0uc2VhcmNoTWF0Y2ggPSBlYWNoTG9jYXRpb25OYW1lXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KVxuICB9O1xuXG4gIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG4gICAgaWYgKGZvcndhcmQpIHtcbiAgICAgIHJldHVybiB2bS5nZXRMb2NhdGlvbnModGVuYW50S2V5LCBudWxsLCB2bS5uZXh0X2N1cnNvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRMb2NhdGlvbnModGVuYW50S2V5LCB2bS5wcmV2X2N1cnNvciwgbnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHZtLmdldExvY2F0aW9ucyh0ZW5hbnRLZXkpO1xuICB9O1xuXG4gIHZtLmVkaXRJdGVtID0gaXRlbSA9PiAkc3RhdGUuZ28oJ2VkaXRMb2NhdGlvbicsIHtsb2NhdGlvbktleTogaXRlbS5rZXl9KTtcblxuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtUZW5hbnRMb2NhdGlvbnNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb25zLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwoJHNjb3BlLCAkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBEZXZpY2VzU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCAkc3RhdGUpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG4gICAga2V5OiB1bmRlZmluZWQsXG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG4gICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcbiAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG4gICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG4gICAgYWN0aXZlOiB0cnVlXG4gIH07XG4gIHZtLnRlbmFudERldmljZXMgPSBbXTtcbiAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gIHZtLnNlbGVjdGVkQnV0dG9uID0gXCJTZXJpYWwgTnVtYmVyXCI7XG4gIHZtLnNlcmlhbERldmljZXMgPSB7fTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG4gIHZtLm1hY0RldmljZXMgPSB7fTtcbiAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG4gIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cbiAgdm0uZ2V0TWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgZGV2aWNlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpO1xuICAgIHJldHVybiBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5kZXZpY2VzUHJldiA9IGRhdGFbXCJwcmV2X2N1cnNvclwiXTtcbiAgICAgIHZtLmRldmljZXNOZXh0ID0gZGF0YVtcIm5leHRfY3Vyc29yXCJdO1xuICAgICAgdm0udGVuYW50RGV2aWNlcyA9IGRhdGFbXCJkZXZpY2VzXCJdO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLmVkaXRJdGVtID0gKGl0ZW0pID0+IERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKGl0ZW0pXG5cbiAgdm0ucmVmcmVzaERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuICAgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcbiAgICB2bS50ZW5hbnREZXZpY2VzID0gbnVsbDtcbiAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuICB9O1xuXG4gIGlmICh2bS5lZGl0TW9kZSkge1xuICAgIGxldCB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodm0udGVuYW50S2V5KTtcbiAgICB0ZW5hbnRQcm9taXNlLnRoZW4odGVuYW50ID0+IHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQpO1xuICAgIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgbnVsbCwgbnVsbCk7XG4gIH1cblxuICAkc2NvcGUudGFiSW5kZXggPSAxO1xuXG4gICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG4gICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN3aXRjaCAodG9UYWIpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2bS5jaGFuZ2VSYWRpbyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcbiAgICB2bS5tYWNEZXZpY2VzID0ge307XG4gICAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuICB9O1xuXG4gIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAocGFydGlhbCkge1xuICAgIGxldCB1bm1hbmFnZWQgPSBmYWxzZTtcbiAgICBsZXQgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG4gICAgbGV0IGJ5VGVuYW50ID0gdHJ1ZTtcbiAgICBsZXQgdGVuYW50S2V5ID0gdm0udGVuYW50S2V5O1xuICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBsZXQgZGV2aWNlc1RvUmV0dXJuO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgIGxldCBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlc1xuICAgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG4gICAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uID09PSBcIk1BQ1wiKSB7XG4gICAgICAgICAgICB2bS5tYWNEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfVxuICAgICAgICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBkZXZpY2VzVG9SZXR1cm5cbiAgICAgICAgICByZXR1cm4gZGV2aWNlc1RvUmV0dXJuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH07XG5cbiAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgbnVsbCwgdm0uZGV2aWNlc05leHQpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCBudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgdm0ucHJlcGFyZUZvckVkaXRWaWV3ID0gKHNlYXJjaFRleHQpID0+IERldmljZXNTZXJ2aWNlLnByZXByYXRlRm9yRWRpdFZpZXcoXG4gICAgdm0uc2VsZWN0ZWRCdXR0b24sXG4gICAgdm0udGVuYW50S2V5LFxuICAgIHNlYXJjaFRleHQsXG4gICAgdm0ubWFjRGV2aWNlcyxcbiAgICB2bS5zZXJpYWxEZXZpY2VzLFxuICAgIHZtLmdjbWlkRGV2aWNlc1xuICApXG5cbiAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAoaXNNYXRjaCkge1xuICAgIHZtLmRpc2FibGVkID0gIWlzTWF0Y2g7XG4gICAgcmV0dXJuIHZtLmxvYWRpbmdEaXNhYmxlZCA9IGZhbHNlO1xuICB9O1xuXG4gIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgIGxldCBmb3VuZE1hdGNoID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaXRlbSBvZiB2bS5kZXZpY2VzVG9NYXRjaE9uKSB7XG4gICAgICBpZiAocmVzb3VyY2UgPT09IGl0ZW0pIHtcbiAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHZtLmNvbnRyb2xPcGVuQnV0dG9uKGZvdW5kTWF0Y2gpXG4gICAgcmV0dXJuIGZvdW5kTWF0Y2hcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7VGVuYW50TWFuYWdlZERldmljZXNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbWFuYWdlZC1kZXZpY2VzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsICRzdGF0ZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uY3VycmVudFRlbmFudCA9IHtcbiAgICBrZXk6IHVuZGVmaW5lZCxcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcbiAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcbiAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG4gICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcbiAgICBhY3RpdmU6IHRydWVcbiAgfTtcbiAgdm0uZ2NtaWREZXZpY2VzID0gW107XG4gIHZtLnRlbmFudERldmljZXMgPSBbXTtcbiAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gIHZtLnNlbGVjdGVkQnV0dG9uID0gXCJNQUNcIjtcbiAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gIHZtLm1hY0RldmljZXMgPSB7fTtcbiAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblxuICAkc2NvcGUudGFiSW5kZXggPSAyO1xuXG4gICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG4gICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN3aXRjaCAodG9UYWIpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2bS5lZGl0SXRlbSA9IChpdGVtKSA9PiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtKVxuXG4gIHZtLmdldFVubWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgZGV2aWNlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRVbm1hbmFnZWREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpO1xuICAgIHJldHVybiBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5kZXZpY2VzUHJldiA9IGRhdGFbXCJwcmV2X2N1cnNvclwiXTtcbiAgICAgIHZtLmRldmljZXNOZXh0ID0gZGF0YVtcIm5leHRfY3Vyc29yXCJdO1xuICAgICAgdm0udGVuYW50RGV2aWNlcyA9IGRhdGFbXCJkZXZpY2VzXCJdO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIGlmICh2bS5lZGl0TW9kZSkge1xuICAgIGxldCB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodm0udGVuYW50S2V5KTtcbiAgICB0ZW5hbnRQcm9taXNlLnRoZW4odGVuYW50ID0+IHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQpO1xuICAgIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCBudWxsKTtcbiAgfVxuXG4gIHZtLnJlZnJlc2hEZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgdm0udGVuYW50RGV2aWNlcyA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuICB9O1xuXG4gIHZtLmNoYW5nZVJhZGlvID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuICAgIHZtLm1hY0RldmljZXMgPSB7fTtcbiAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG4gIH07XG5cbiAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uIChwYXJ0aWFsKSB7XG4gICAgbGV0IHVubWFuYWdlZCA9IHRydWU7XG4gICAgbGV0IGJ5VGVuYW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCB2bS5zZWxlY3RlZEJ1dHRvbiwgYnlUZW5hbnQsIHZtLnRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBsZXQgZGV2aWNlc1RvUmV0dXJuO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgIGxldCBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlc1xuICAgICAgICAgIGlmICh2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHZtLnNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIGlmICh2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJNQUNcIikge1xuICAgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH1cbiAgICAgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gZGV2aWNlc1RvUmV0dXJuXG4gICAgICAgICAgcmV0dXJuIGRldmljZXNUb1JldHVyblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbXVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gIH07XG5cbiAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSAoc2VhcmNoVGV4dCkgPT4gRGV2aWNlc1NlcnZpY2UucHJlcHJhdGVGb3JFZGl0VmlldyhcbiAgICB2bS5zZWxlY3RlZEJ1dHRvbixcbiAgICB2bS50ZW5hbnRLZXksXG4gICAgc2VhcmNoVGV4dCxcbiAgICB2bS5tYWNEZXZpY2VzLFxuICAgIHZtLnNlcmlhbERldmljZXMsXG4gICAgdm0uZ2NtaWREZXZpY2VzXG4gIClcblxuICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uIChpc01hdGNoKSB7XG4gICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcbiAgICB2bS5sb2FkaW5nRGlzYWJsZWQgPSBmYWxzZTtcbiAgfTtcblxuICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICBsZXQgZm91bmRNYXRjaCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGl0ZW0gb2Ygdm0uZGV2aWNlc1RvTWF0Y2hPbikge1xuICAgICAgaWYgKHJlc291cmNlID09PSBpdGVtKSB7XG4gICAgICAgIGZvdW5kTWF0Y2ggPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICB2bS5jb250cm9sT3BlbkJ1dHRvbihmb3VuZE1hdGNoKVxuICAgIHJldHVybiBmb3VuZE1hdGNoXG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LXVubWFuYWdlZC1kZXZpY2VzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJpbXBvcnQgbmF0dXJhbFNvcnQgZnJvbSAnamF2YXNjcmlwdC1uYXR1cmFsLXNvcnQnO1xuXG5mdW5jdGlvbiBUZW5hbnRzQ3RybCgkc3RhdGUsICRsb2csIFRlbmFudHNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsIHN3ZWV0KSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuXG4gIC8vIFBhZ2luYXRlZCBUZW5hbnRzXG4gIHZtLnRlbmFudHMgPSBbXTtcbiAgLy8gQ3VycmVudCBTZWFyY2ggb2YgVGVuYW50cyBSZXN1bHRzXG4gIHZtLnNlYXJjaGVkVGVuYW50cyA9IFtdO1xuICB2bS5zZWFyY2hNYXRjaCA9IG51bGw7XG4gIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblxuICB2bS5nZXRUZW5hbnRzUGFnaW5hdGVkID0gZnVuY3Rpb24gKHBhZ2Vfc2l6ZSwgb2Zmc2V0KSB7XG4gICAgdm0ub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZmV0Y2hBbGxUZW5hbnRzUGFnaW5hdGVkKHBhZ2Vfc2l6ZSwgb2Zmc2V0KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKChyZXNwb25zZSA9PiB2bS5nZXRGZXRjaFN1Y2Nlc3MocmVzcG9uc2UpKSwgcmVzcG9uc2UgPT4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKSk7XG4gIH07XG5cbiAgdm0uZ2V0RmV0Y2hTdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgdm0udGVuYW50cyA9IHJlc3BvbnNlLnRlbmFudHM7XG4gICAgdm0udG90YWwgPSByZXNwb25zZS50b3RhbDtcbiAgICB2bS5pc19maXJzdF9wYWdlID0gcmVzcG9uc2UuaXNfZmlyc3RfcGFnZTtcbiAgICB2bS5pc19sYXN0X3BhZ2UgPSByZXNwb25zZS5pc19sYXN0X3BhZ2U7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgfTtcblxuICB2bS5nZXRGZXRjaEZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gYFVuYWJsZSB0byBmZXRjaCB0ZW5hbnRzLiBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0uYDtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG4gIH07XG5cblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLm9mZnNldCA9IDA7XG4gICAgdm0uc2VhcmNoQWxsVGVuYW50c0J5TmFtZSgnbXknKVxuICAgIHJldHVybiB2bS5nZXRUZW5hbnRzUGFnaW5hdGVkKDEwMCwgdm0ub2Zmc2V0KTtcbiAgfTtcblxuICB2bS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lID0gZnVuY3Rpb24gKHRlbmFudF9uYW1lKSB7XG4gICAgaWYgKCF0ZW5hbnRfbmFtZSB8fCB0ZW5hbnRfbmFtZS5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgbGV0IHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lKHRlbmFudF9uYW1lKVxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICB2bS5zZWFyY2hlZFRlbmFudHMgPSByZXNwb25zZVxuICAgICAgaWYgKHZtLnNlYXJjaGVkVGVuYW50cykge1xuICAgICAgICByZXR1cm4gdm0uc2VhcmNoZWRUZW5hbnRzLm1hcCgoaSkgPT4gaS5uYW1lKS5zb3J0KG5hdHVyYWxTb3J0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gcHJvbWlzZS5jYXRjaCgocmVzcG9uc2UpID0+IHtcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgVW5hYmxlIHRvIGZldGNoIHRlbmFudHMuIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuICAgIH0pXG4gIH1cblxuXG4gIHZtLmlzVGVuYW50VmFsaWQgPSAodGVuYW50X25hbWUpID0+IHtcbiAgICBpZiAoIXRlbmFudF9uYW1lIHx8IHRlbmFudF9uYW1lLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cblxuICAgIGxldCBtYXRjaCA9IHZtLnNlYXJjaGVkVGVuYW50cztcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGZvciAobGV0IGVhY2hOYW1lIG9mIG1hdGNoKSB7XG4gICAgICAgIGlmICh0ZW5hbnRfbmFtZSA9PT0gZWFjaE5hbWUubmFtZSkge1xuICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgdm0uc2VhcmNoTWF0Y2ggPSBlYWNoTmFtZVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHZtLmVkaXRJdGVtID0gaXRlbSA9PiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7dGVuYW50S2V5OiBpdGVtLmtleX0pO1xuXG4gIHZtLmRlbGV0ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGxldCBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZGVsZXRlKGl0ZW0pO1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbigoKSA9PiB2bS5pbml0aWFsaXplKCkpO1xuICAgIH07XG5cbiAgICByZXR1cm4gc3dlZXQuc2hvdyh7XG4gICAgICB0aXRsZTogXCJBcmUgeW91IHN1cmU/XCIsXG4gICAgICB0ZXh0OiBcIlRoaXMgd2lsbCBwZXJtYW5lbnRseSByZW1vdmUgdGhlIHRlbmFudCBmcm9tIHRoZSBzeXN0ZW0uXCIsXG4gICAgICB0eXBlOiBcIndhcm5pbmdcIixcbiAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiI0RENkI1NVwiLFxuICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwiWWVzLCByZW1vdmUgdGhlIHRlbmFudCFcIixcbiAgICAgIGNsb3NlT25Db25maXJtOiB0cnVlXG4gICAgfSwgY2FsbGJhY2spO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cbmV4cG9ydCB7VGVuYW50c0N0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvdGVuYW50L3RlbmFudHMuY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIFdlbGNvbWVDdHJsKFZlcnNpb25zU2VydmljZSwgJHN0YXRlLCBEaXN0cmlidXRvcnNTZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLnZlcnNpb25fZGF0YSA9IFtdO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcblxuICB2bS5wcm9jZWVkVG9TaWduSW4gPSAoKSA9PiAkc3RhdGUuZ28oJ3NpZ25faW4nKTtcblxuICB2bS5jYXBpdGFsaXplRmlyc3RMZXR0ZXIgPSBzdHJpbmcgPT4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuXG4gIHZtLmdpdmVPcHRpb25Ub0NoYW5nZURpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBkaXN0cmlidXRvcnNQcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5mZXRjaEFsbEJ5VXNlcihTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpKTtcbiAgICByZXR1cm4gZGlzdHJpYnV0b3JzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5oYXNfbXVsdGlwbGVfZGlzdHJpYnV0b3JzID0gZGF0YS5sZW5ndGggPiAxO1xuICAgICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5jaGFuZ2VEaXN0cmlidXRvciA9ICgpID0+ICRzdGF0ZS5nbygnZGlzdHJpYnV0b3Jfc2VsZWN0aW9uJyk7XG5cbiAgdm0uZ2V0VmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcHJvbWlzZSA9IFZlcnNpb25zU2VydmljZS5nZXRWZXJzaW9ucygpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oZGF0YSA9PiB2bS52ZXJzaW9uX2RhdGEgPSBkYXRhKTtcbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmlkZW50aXR5ID0ge1xuICAgICAga2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpLFxuICAgICAgZW1haWw6IFNlc3Npb25zU2VydmljZS5nZXRVc2VyRW1haWwoKSxcbiAgICAgIGRpc3RyaWJ1dG9yS2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksXG4gICAgICBkaXN0cmlidXRvck5hbWU6IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKClcbiAgICB9O1xuXG4gICAgdm0uZ2l2ZU9wdGlvblRvQ2hhbmdlRGlzdHJpYnV0b3IoKTtcblxuICAgIGlmICghdm0uaWRlbnRpdHkuZW1haWwpIHtcbiAgICAgIHJldHVybiAkc3RhdGUuZ28oXCJzaWduX2luXCIpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRWZXJzaW9uKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdm07XG59XG5leHBvcnQge1dlbGNvbWVDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3dlbGNvbWUvd2VsY29tZS1jb250cm9sbGVyLmpzXG4gKiovIiwiZXhwb3J0IGZ1bmN0aW9uIHJvdXRlcygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCBSZXN0YW5ndWxhclByb3ZpZGVyKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNpZ25faW5cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgbm90QXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2Uubm90QXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9zaWduX2luXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2F1dGhlbnRpY2F0aW9uL3NpZ25faW4uaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnYXV0aGVudGljYXRpb25DdHJsJyxcbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwic2lnbmVkX291dFwiLCB7XG4gICAgdXJsOiBcIi9zaWduZWRfb3V0XCIsXG4gICAgcmVzb2x2ZToge1xuICAgICAgaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcbiAgICAgIH0sXG4gICAgICBub3RBdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5ub3RBdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYXV0aGVudGljYXRpb24vc2lnbmVkX291dC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJBdXRoZW50aWNhdGlvbkN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnLFxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduX291dFwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcbiAgICAgIH0sXG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3NpZ25fb3V0XCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2F1dGhlbnRpY2F0aW9uL3NpZ25fb3V0Lmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkF1dGhlbnRpY2F0aW9uQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ2F1dGhlbnRpY2F0aW9uQ3RybCcsXG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImRpc3RyaWJ1dG9yX3NlbGVjdGlvblwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kaXN0cmlidXRvcl9zZWxlY3Rpb25cIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3Jfc2VsZWN0b3IuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiRGlzdHJpYnV0b3JTZWxlY3RvckN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImhvbWVcIiwge1xuICAgIHVybDogXCIvXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3dlbGNvbWUvd2VsY29tZS5odG1sXCIsXG4gICAgcmVzb2x2ZToge1xuICAgICAgaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcbiAgICAgIH0sXG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjb250cm9sbGVyOiBcIldlbGNvbWVDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnd2VsY29tZUN0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnU2t5a2l0IFByb3Zpc2lvbmluZydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcIndlbGNvbWVcIiwge1xuICAgIHVybDogXCIvd2VsY29tZVwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC93ZWxjb21lL3dlbGNvbWUuaHRtbFwiLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY29udHJvbGxlcjogXCJXZWxjb21lQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3dlbGNvbWVDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ1NreWtpdCBQcm92aXNpb25pbmcnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkb21haW5zXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2RvbWFpbnNcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZG9tYWluL2RvbWFpbnMtbGlzdGluZy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJEb21haW5zQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ2RvbWFpbnNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ0RvbWFpbnMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJhZGREb21haW5cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvZG9tYWlucy9hZGRcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZG9tYWluL2RvbWFpbi1kZXRhaWwuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluRGV0YWlsc0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdkb21haW5EZXRhaWxzQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdBZGQgZG9tYWluJyxcbiAgICAgIHBhcmVudDogJ2RvbWFpbnMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlZGl0RG9tYWluXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2RvbWFpbnMvOmRvbWFpbktleVwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kb21haW4vZG9tYWluLWRldGFpbC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJEb21haW5EZXRhaWxzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ2RvbWFpbkRldGFpbHNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IGRvbWFpbkRldGFpbHNDdHJsLmN1cnJlbnREb21haW4ubmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICdkb21haW5zJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50c1wiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi90ZW5hbnRzXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnRzLWxpc3RpbmcuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50c0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRzQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdUZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkVGVuYW50XCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvYWRkXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtYWRkLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudEFkZEN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRBZGRDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ0FkZCB0ZW5hbnQnLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudERldGFpbHNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2RldGFpbHNcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1kZXRhaWxzLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudERldGFpbHNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50RGV0YWlsc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgdGVuYW50RGV0YWlsc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19JyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRNYW5hZ2VkRGV2aWNlc1wiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvbWFuYWdlZFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LW1hbmFnZWQtZGV2aWNlcy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgdGVuYW50TWFuYWdlZERldmljZXNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50VW5tYW5hZ2VkRGV2aWNlc1wiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvdW5tYW5hZ2VkXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtdW5tYW5hZ2VkLWRldmljZXMuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudExvZ3NcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2xvZ3NcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2dzLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudExvZ3NDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50TG9nc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9nc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19JyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRPdmVybGF5c1wiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvb3ZlcmxheXNcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1vdmVybGF5cy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRPdmVybGF5c0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRPdmVybGF5c0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgdGVuYW50T3ZlcmxheXNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50TG9jYXRpb25zXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9sb2NhdGlvbnNcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbnMuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9jYXRpb25zQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvY2F0aW9uc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9jYXRpb25zQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXRMb2NhdGlvblwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9sb2NhdGlvbnMvOmxvY2F0aW9uS2V5XCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9jYXRpb25DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50TG9jYXRpb25DdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudExvY2F0aW9uQ3RybC50ZW5hbnROYW1lIH19ICAvIHt7IHRlbmFudExvY2F0aW9uQ3RybC5sb2NhdGlvbk5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkZExvY2F0aW9uXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9sb2NhdGlvblwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9uLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudExvY2F0aW9uQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvY2F0aW9uQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2NhdGlvbkN0cmwudGVuYW50TmFtZSB9fSAgLyBMb2NhdGlvbicsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZGV2aWNlc1wiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kZXZpY2VzXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RldmljZS9kZXZpY2VzLWxpc3RpbmcuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiRGV2aWNlc0xpc3RpbmdDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnZGV2aWNlc0xpc3RpbmdDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ0RldmljZXMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlZGl0RGV2aWNlXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvZGV2aWNlcy86ZGV2aWNlS2V5P3RlbmFudEtleT9mcm9tRGV2aWNlc1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kZXZpY2UvZGV2aWNlLWRldGFpbC5odG1sXCIsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyBkZXZpY2VEZXRhaWxzQ3RybC5jdXJyZW50RGV2aWNlLmtleSB9fScsXG4gICAgICBwYXJlbnQ6ICdkZXZpY2VzJ1xuICAgIH0sXG4gICAgY29udHJvbGxlcjogJ0RldmljZURldGFpbHNDdHJsJyxcbiAgICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xuICAgICAgJHNjb3BlLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG4gICAgICByZXR1cm47XG4gICAgfSxcbiAgICBjb250cm9sbGVyQXM6ICdkZXZpY2VEZXRhaWxzQ3RybCdcbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicHJvb2ZcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvcHJvb2ZcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcHJvb2YvbWFpbi5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJQcm9vZk9mUGxheUN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdQcm9vZiBvZiBQbGF5J1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicHJvb2ZEZXRhaWxcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvcHJvb2YvOnRlbmFudFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wcm9vZi9kZXRhaWwuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiUHJvb2ZPZlBsYXlDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnUHJvb2Ygb2YgUGxheSdcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkbWluXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBpc0FkbWluKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5pc0FkbWluT3JEaXN0cmlidXRvckFkbWluKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2FkbWluXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2FkbWluL2FkbWluLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkFkbWluQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ0FkbWluJ1xuICAgIH1cbiAgfSk7XG5cbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL3NpZ25faW4nKTtcblxuICBSZXN0YW5ndWxhclByb3ZpZGVyLnNldEJhc2VVcmwoJy9hcGkvdjEnKTtcblxuICBSZXN0YW5ndWxhclByb3ZpZGVyLmFkZFJlc3BvbnNlSW50ZXJjZXB0b3IoZnVuY3Rpb24gKGRhdGEsIG9wZXJhdGlvbiwgcmVzb3VyY2VUeXBlLCB1cmwsIHJlc3BvbnNlLCBkZWZlcnJlZCkge1xuICAgIGxldCByZXN1bHQgPSBkYXRhO1xuICAgIC8vIFVuY29tbWVudCB0aGlzIGZvciBwYWdpbmF0aW9uIHN1cHBvcnQgd2hlbiB1c2luZyBQYWdpbmdMaXN0SGFuZGxlck1peGluIG9uIHRoZSBQeXRob24gc2lkZS5cbiAgICAvLyAgICBpZiByZXNvdXJjZVR5cGUgPT0gJ2RldmljZXMnIGFuZCBvcGVyYXRpb24gPSAnZ2V0TGlzdCcgYW5kIHVybCA9PSAnL2FwaS92MS9kZXZpY2VzJ1xuICAgIC8vICAgICAgcmVzdWx0ID0gZGF0YS5vYmplY3RzXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSk7XG5cbiAgcmV0dXJuIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0UmVzdGFuZ3VsYXJGaWVsZHMoe1xuICAgIGlkOiAna2V5J1xuICB9KTtcbn1cblxucm91dGVzLiRpbmplY3QgPSBbXCIkc3RhdGVQcm92aWRlclwiLCBcIiR1cmxSb3V0ZXJQcm92aWRlclwiLCBcIlJlc3Rhbmd1bGFyUHJvdmlkZXJcIl1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9hcHAtcm91dGVzLmpzXG4gKiovIiwiZXhwb3J0IGZ1bmN0aW9uIGFwcFJ1bihSZXN0YW5ndWxhciwgJGxvY2F0aW9uLCAkaW5qZWN0b3IsICRyb290U2NvcGUsICR0aW1lb3V0KSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgc3RhdGVDaGFuZ2VXYXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgc3RhdGUgPSAkaW5qZWN0b3IuZ2V0KCckc3RhdGUnKTtcbiAgICByZXR1cm4gJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgZnVuY3Rpb24gKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikge1xuICAgICAgaWYgKGVycm9yWzBdID09PSBcImF1dGhFcnJvclwiKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5nbyhlcnJvclsxXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgJHRpbWVvdXQoc3RhdGVDaGFuZ2VXYXRjaCwgNTAwKTtcblxuICBsZXQgcmVxdWVzdEludGVyY2VwdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIFJlc3Rhbmd1bGFyLmFkZFJlcXVlc3RJbnRlcmNlcHRvcihmdW5jdGlvbiAoZWxlbSwgb3BlcmF0aW9uLCB3aGF0LCB1cmwpIHtcbiAgICAgIGxldCBTdG9yYWdlU2VydmljZSA9ICRpbmplY3Rvci5nZXQoJ1N0b3JhZ2VTZXJ2aWNlJylcblxuICAgICAgbGV0IGF1dGhUb2tlbiA9ICc2QzM0NjU4OEJENEM2RDcyMkExMTY1QjQzQzUxQyc7XG4gICAgICBpZiAoJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xKSB7XG4gICAgICAgIGF1dGhUb2tlbiA9ICc1WFpIQkYzbU93cUpsWUFsRzFOZWVXWDBDYjcyZyc7XG4gICAgICB9XG4gICAgICBSZXN0YW5ndWxhci5zZXREZWZhdWx0SGVhZGVycyh7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYXV0aFRva2VuLFxuICAgICAgICAnWC1Qcm92aXNpb25pbmctVXNlcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlcktleScpLFxuICAgICAgICAnWC1Qcm92aXNpb25pbmctRGlzdHJpYnV0b3InOiBTdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScpXG4gICAgICB9KTtcblxuICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ3JlbW92ZScpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVsZW07XG4gICAgfSlcbiAgfVxuXG4gICR0aW1lb3V0KHJlcXVlc3RJbnRlcmNlcHRvciwgNTAwKTtcblxufVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9hcHAtcnVuLmpzXG4gKiovIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2FzdHJDb25maWcodG9hc3RyQ29uZmlnKSB7XG4gIGFuZ3VsYXIuZXh0ZW5kKHRvYXN0ckNvbmZpZywge1xuICAgIHByb2dyZXNzQmFyOiB0cnVlLFxuICAgIGNsb3NlQnV0dG9uOiB0cnVlLFxuICAgIHRhcFRvRGlzbWlzczogdHJ1ZSxcbiAgICBuZXdlc3RPblRvcDogdHJ1ZSxcbiAgICBwb3NpdGlvbkNsYXNzOiAndG9hc3QtYm90dG9tLWxlZnQnLFxuICAgIHRpbWVPdXQ6IDUwMDBcbiAgfSlcbn1cbnRvYXN0ckNvbmZpZy4kaW5qZWN0ID0gWyd0b2FzdHJDb25maWcnXTtcblxuXG5leHBvcnQgZnVuY3Rpb24gYnJlYWRjcnVtYlByb3ZpZGVyKCRicmVhZGNydW1iUHJvdmlkZXIpIHtcbiAgJGJyZWFkY3J1bWJQcm92aWRlci5zZXRPcHRpb25zKHtcbiAgICBwcmVmaXhTdGF0ZU5hbWU6ICdob21lJyxcbiAgICB0ZW1wbGF0ZTogJ2Jvb3RzdHJhcDMnXG4gIH0pXG59XG5cbmJyZWFkY3J1bWJQcm92aWRlci4kaW5qZWN0ID0gW1wiJGJyZWFkY3J1bWJQcm92aWRlclwiXVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9hcHAtY29uZmlnLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==