webpackJsonp([0],{0:function(e,exports,t){t(70),e.exports=t(367)},367:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=t(368),a=t(651),i=t(652),o=t(663),s=t(664),c=t(665),u=t(666),l=t(689),d=t(690),v=t(691),f=t(692),m=t(693),p=t(694),h=t(695),g=t(696),y=t(697),b=n(y),D=t(703),S=n(D),T=t(704),_=n(T),k=t(705),C=n(k),w=t(706),x=n(w),M=t(707),I=n(M),P=t(708),E=n(P),A=t(709),K=n(A),B=t(710),O=n(B),j=t(711),R=n(j),U=t(712),L=n(U),V=t(713),N=n(V),z=t(714),F=n(z),Y=t(715),q=n(Y),W=t(719),G=n(W),H=t(721),X=n(H),J=t(722),Q=n(J),Z=t(723),ee=n(Z),te=t(724),ne=n(te),re=t(725),ae=t(726),ie=t(727),oe=t(728),se=t(729),ce=t(730),ue=t(731),le=t(732),de=t(733),ve=t(734),fe=t(735),me=t(736),pe=t(737),he=t(738);r.app.service("StorageService",G.default).service("AdminService",S.default).service("AuthorizationService",_.default).service("CommandsService",C.default).service("DateManipulationService",x.default).service("DevicesService",I.default).service("DistributorsService",E.default).service("DomainsService",K.default).service("IdentityService",O.default).service("IntegrationEvents",R.default).service("LocationsService",L.default).service("ProgressBarService",N.default).service("ProofPlayService",F.default).service("SessionsService",q.default).service("TenantsService",X.default).service("TimezonesService",Q.default).service("ToastsService",ee.default).service("VersionsService",ne.default).service("ImageService",b.default).controller("DeviceDetailsCommandsCtrl",a.DeviceDetailsCommandsCtrl).controller("DeviceDetailsCtrl",i.DeviceDetailsCtrl).controller("DevicesListingCtrl",o.DevicesListingCtrl).controller("AdminCtrl",s.AdminCtrl).controller("AuthenticationCtrl",c.AuthenticationCtrl).controller("AppController",u.AppController).controller("DistributorSelectorCtrl",l.DistributorSelectorCtrl).controller("DistributorsCtrl",d.DistributorsCtrl).controller("DomainsCtrl",v.DomainsCtrl).controller("DomainDetailsCtrl",f.DomainDetailsCtrl).controller("ProofOfPlayMultiLocationCtrl",m.ProofOfPlayMultiLocationCtrl).controller("ProofOfPlayMultiDisplayCtrl",p.ProofOfPlayMultiDisplayCtrl).controller("ProofOfPlayMultiResourceCtrl",h.ProofOfPlayMultiResourceCtrl).controller("ProofOfPlayCtrl",g.ProofOfPlayCtrl).controller("TenantLogsCtrl",re.TenantLogsCtrl).controller("TenantOverlaysCtrl",ae.TenantOverlaysCtrl).controller("TenantAddCtrl",ie.TenantAddCtrl).controller("TenantDetailsCtrl",oe.TenantDetailsCtrl).controller("TenantLocationCtrl",se.TenantLocationCtrl).controller("TenantLocationsCtrl",ce.TenantLocationsCtrl).controller("TenantManagedDevicesCtrl",ue.TenantManagedDevicesCtrl).controller("TenantUnmanagedDevicesCtrl",le.TenantUnmanagedDevicesCtrl).controller("TenantsCtrl",de.TenantsCtrl).controller("WelcomeCtrl",ve.WelcomeCtrl).controller("RedirectCtrl",he.RedirectCtrl).run(me.appRun).config(fe.routes).config(pe.toastrConfig).config(pe.breadcrumbProvider),r.app.config(["RestangularProvider",function(e){e.setErrorInterceptor(function(e){return console.log(e),(302===e.status||403===e.status&&"Authentication is required to access this resource"===e.data.message)&&(window.location.href="/#/redirect"),e})}]),r.app.service("RequestInterceptor",["StorageService","$location",function(e,t){"ngInject";var n={request:function(t){return t.headers={"Content-Type":"application/json",Accept:"application/json",JWT:e.get("JWT"),oAuth:e.get("oAuth"),"X-Provisioning-User":e.get("userKey"),"X-Provisioning-User-Identifier":e.get("userEmail"),"X-Provisioning-Distributor":e.get("currentDistributorKey")},t}};return n}]),r.app.config(["$httpProvider",function(e){return e.interceptors.push("RequestInterceptor")}])},368:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.app=void 0;var r=t(369),a=n(r),i=t(371),o=n(i);t(372),t(375),t(376),t(380),t(382),t(384),t(386),t(394),t(396),t(418),t(419),t(421),t(490),t(601),t(603),t(608),t(609),t(615),t(624),t(625),t(627),t(629),t(631),t(633),t(406),t(642),t(643),t(370),t(644),t(646),t(648);var s=t(650),c=n(s);window._=c.default,window.angular=a.default;exports.app=a.default.module("skykitProvisioning",[o.default,"ngAnimate","720kb.tooltips","ngCookies","ngSanitize","restangular","ui.bootstrap","ngMaterialDatePicker","hSweetAlert","ncy-angular-breadcrumb","directive.g+signin","ngProgress","rt.debounce","ngMaterial","ngclipboard","toastr","lfNgMdFileInput"])},418:function(e,exports){"use strict";angular.module("ngProgress.provider",["ngProgress.directive"]).service("ngProgress",function(){return["$document","$window","$compile","$rootScope","$timeout",function(e,t,n,r,a){this.autoStyle=!0,this.count=0,this.height="2px",this.$scope=r.$new(),this.color="firebrick",this.parent=e.find("body")[0],this.count=0,this.progressbarEl=n("<ng-progress></ng-progress>")(this.$scope),this.parent.appendChild(this.progressbarEl[0]),this.$scope.count=this.count,void 0!==this.height&&this.progressbarEl.eq(0).children().css("height",this.height),void 0!==this.color&&(this.progressbarEl.eq(0).children().css("background-color",this.color),this.progressbarEl.eq(0).children().css("color",this.color)),this.intervalCounterId=0,this.start=function(){this.show();var e=this;clearInterval(this.intervalCounterId),this.intervalCounterId=setInterval(function(){isNaN(e.count)?(clearInterval(e.intervalCounterId),e.count=0,e.hide()):(e.remaining=100-e.count,e.count=e.count+.15*Math.pow(1-Math.sqrt(e.remaining),2),e.updateCount(e.count))},200)},this.updateCount=function(e){this.$scope.count=e,this.$scope.$$phase||this.$scope.$apply()},this.setHeight=function(e){return void 0!==e&&(this.height=e,this.$scope.height=this.height,this.$scope.$$phase||this.$scope.$apply()),this.height},this.setColor=function(e){return void 0!==e&&(this.color=e,this.$scope.color=this.color,this.$scope.$$phase||this.$scope.$apply()),this.color},this.hide=function(){this.progressbarEl.children().css("opacity","0");var e=this;e.animate(function(){e.progressbarEl.children().css("width","0%"),e.animate(function(){e.show()},500)},500)},this.show=function(){var e=this;e.animate(function(){e.progressbarEl.children().css("opacity","1")},100)},this.animate=function(e,t){void 0!==this.animation&&a.cancel(this.animation),this.animation=a(e,t)},this.status=function(){return this.count},this.stop=function(){clearInterval(this.intervalCounterId)},this.set=function(e){return this.show(),this.updateCount(e),this.count=e,clearInterval(this.intervalCounterId),this.count},this.css=function(e){return this.progressbarEl.children().css(e)},this.reset=function(){return clearInterval(this.intervalCounterId),this.count=0,this.updateCount(this.count),0},this.complete=function(){this.count=100,this.updateCount(this.count);var e=this;return clearInterval(this.intervalCounterId),a(function(){e.hide(),a(function(){e.count=0,e.updateCount(e.count)},500)},1e3),this.count},this.setParent=function(e){if(null===e||void 0===e)throw new Error("Provide a valid parent of type HTMLElement");null!==this.parent&&void 0!==this.parent&&this.parent.removeChild(this.progressbarEl[0]),this.parent=e,this.parent.appendChild(this.progressbarEl[0])},this.getDomElement=function(){return this.progressbarEl},this.setAbsolute=function(){this.progressbarEl.css("position","absolute")}}]}).factory("ngProgressFactory",["$injector","ngProgress",function(e,t){var n={createInstance:function(){return e.instantiate(t)}};return n}]),angular.module("ngProgress.directive",[]).directive("ngProgress",["$window","$rootScope",function(e,t){var n={replace:!0,restrict:"E",link:function(e,t,n,r){e.$watch("count",function(n){(void 0!==n||null!==n)&&(e.counter=n,t.eq(0).children().css("width",n+"%"))}),e.$watch("color",function(n){(void 0!==n||null!==n)&&(e.color=n,t.eq(0).children().css("background-color",n),t.eq(0).children().css("color",n))}),e.$watch("height",function(n){(void 0!==n||null!==n)&&(e.height=n,t.eq(0).children().css("height",n))})},template:'<div id="ngProgress-container"><div id="ngProgress"></div></div>'};return n}]),angular.module("ngProgress",["ngProgress.directive","ngProgress.provider"])},419:function(e,exports,t){var n=t(420);"string"==typeof n&&(n=[[e.id,n,""]]);t(379)(n,{});n.locals&&(e.exports=n.locals)},420:function(e,exports,t){exports=e.exports=t(378)(),exports.push([e.id,"#ngProgress{margin:0;padding:0;z-index:99998;background-color:green;color:green;box-shadow:0 0 10px 0;height:2px;opacity:0;-webkit-transition:all .5s ease-in-out;transition:all .5s ease-in-out}#ngProgress-container{position:fixed;margin:0;padding:0;top:0;left:0;right:0;z-index:99999}",""])},421:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=t(422),a=n(r);/*! angular-breadcrumb - v0.4.0-dev-2015-08-07
	* http://ncuillery.github.io/angular-breadcrumb
	* Copyright (c) 2015 Nicolas Cuillery; Licensed MIT */
!function(e,t,n){function r(e,n){return t.equals(e.length,n.length)?e>n:e.length>n.length}function i(e){var t=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}function o(){var e={prefixStateName:null,template:"bootstrap3",templateUrl:null,includeAbstract:!1};this.setOptions=function(n){t.extend(e,n)},this.$get=["$state","$stateParams","$rootScope",function(t,o,s){var c=s;s.$on("$viewContentLoaded",function(e){!e.targetScope.ncyBreadcrumbIgnore&&r(e.targetScope.$id,c.$id)&&(c=e.targetScope)});var u=function(e){var t=e.parent||(/^(.+)\.[^.]+$/.exec(e.name)||[])[1],n="object"==("undefined"==typeof t?"undefined":(0,a.default)(t));return n?t.name:t},l=function n(r,a){for(var s,u,n=i(a),l=!1,d=!1,v=0,f=r.length;f>v;v+=1)if(r[v].name===n.state)return;s=t.get(n.state),s.ncyBreadcrumb&&(s.ncyBreadcrumb.force&&(l=!0),s.ncyBreadcrumb.skip&&(d=!0)),s.abstract&&!e.includeAbstract&&!l||d||(n.paramExpr&&(u=c.$eval(n.paramExpr)),s.ncyBreadcrumbLink=t.href(n.state,u||o||{}),r.unshift(s))},d=function(e){var n=i(e),r=t.get(n.state);if(r.ncyBreadcrumb&&r.ncyBreadcrumb.parent){var a="function"==typeof r.ncyBreadcrumb.parent,o=a?r.ncyBreadcrumb.parent(c):r.ncyBreadcrumb.parent;if(o)return o}return u(r)};return{getTemplate:function(t){return e.templateUrl?null:t[e.template]?t[e.template]:e.template},getTemplateUrl:function(){return e.templateUrl},getStatesChain:function(n){for(var r=[],a=t.$current.self.name;a;a=d(a))if(l(r,a),n&&r.length)return r;return e.prefixStateName&&l(r,e.prefixStateName),r},getLastStep:function(){var e=this.getStatesChain(!0);return e.length?e[0]:n},$getLastViewScope:function(){return c}}}]}function s(e,n,r){var a={bootstrap2:'<ul class="breadcrumb"><li ng-repeat="step in steps" ng-switch="$last || !!step.abstract" ng-class="{active: $last}"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span><span class="divider" ng-hide="$last">/</span></li></ul>',bootstrap3:'<ol class="breadcrumb"><li ng-repeat="step in steps" ng-class="{active: $last}" ng-switch="$last || !!step.abstract"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span></li></ol>'};return{restrict:"AE",replace:!0,scope:{},template:n.getTemplate(a),templateUrl:n.getTemplateUrl(),link:{post:function(a){var i=[],o=function(){v(i),i=[];var r=n.$getLastViewScope();a.steps=n.getStatesChain(),t.forEach(a.steps,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);t.ncyBreadcrumbLabel=n(r),d(i,n,r,t)}else t.ncyBreadcrumbLabel=t.name})};r.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||o()}),o()}}}}function c(e,t,n){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbLabel}}",compile:function(r,a){var i=r.attr(a.$attr.ncyBreadcrumbLast);return i&&r.html(i),{post:function(r){var a=[],i=function n(){v(a),a=[];var i=t.$getLastViewScope(),n=t.getLastStep();if(n)if(r.ncyBreadcrumbLink=n.ncyBreadcrumbLink,n.ncyBreadcrumb&&n.ncyBreadcrumb.label){var o=e(n.ncyBreadcrumb.label);r.ncyBreadcrumbLabel=o(i),d(a,o,i,r)}else r.ncyBreadcrumbLabel=n.name};n.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||i()}),i()}}}}}function u(e,n,r){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbChain}}",compile:function(a,i){var o=a.attr(i.$attr.ncyBreadcrumbText);o&&a.html(o);var s=a.attr(i.$attr.ncyBreadcrumbTextSeparator)||" / ";return{post:function(a){var i=[],o=function(e,n,r){t.forEach(l(n),function(t){var n=r.$watch(t,function(e,t){e!==t&&c()});e.push(n)})},c=function r(){v(i),i=[];var c=n.$getLastViewScope(),r=n.getStatesChain(),u=[];t.forEach(r,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);u.push(n(c)),o(i,n,c)}else u.push(t.name)}),a.ncyBreadcrumbChain=u.join(s)};r.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||c()}),c()}}}}}var l=function(e){if(e.expressions)return e.expressions;var n=[];return t.forEach(e.parts,function(e){t.isFunction(e)&&n.push(e.exp)}),n},d=function(e,n,r,a){t.forEach(l(n),function(t){var i=r.$watch(t,function(){a.ncyBreadcrumbLabel=n(r)});e.push(i)})},v=function(e){t.forEach(e,function(e){e()})};s.$inject=["$interpolate","$breadcrumb","$rootScope"],c.$inject=["$interpolate","$breadcrumb","$rootScope"],u.$inject=["$interpolate","$breadcrumb","$rootScope"],t.module("ncy-angular-breadcrumb",["ui.router.state"]).provider("$breadcrumb",o).directive("ncyBreadcrumb",s).directive("ncyBreadcrumbLast",c).directive("ncyBreadcrumbText",u)}(window,window.angular)},490:function(e,exports,t){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=t(491),a=n(r);!function(t){var n="ngMaterialDatePicker",r={DATE:0,HOUR:1,MINUTE:2},a=function(t,n){return"jQuery"in window?e(t).css(n):(t=angular.element(t),"getComputedStyle"in window?window.getComputedStyle(t[0])[n]:t.css(n))},i='<md-dialog class="dtp" layout="column" style="width: 300px;">    <md-dialog-content class="dtp-content">        <div class="dtp-date-view">            <header class="dtp-header">                <div class="dtp-actual-day" ng-show="picker.dateMode">{{picker.currentDate.format("dddd")}}</div>                <div class="dtp-actual-day" ng-show="picker.timeMode">{{picker.params.shortTime ? picker.currentDate.format("A") : " "}}</div>                <div class="dtp-close text-right">                    <a href="#" mdc-dtp-noclick ng-click="picker.hide()">&times;</a>                </div>            </header>            <div class="dtp-date" ng-show="picker.params.date">                <div layout="column">                    <div class="dtp-actual-month">{{picker.currentDate.format("MMM") | uppercase}}</div>                </div>                <div class="dtp-actual-num">{{picker.currentDate.format("DD")}}</div>                <div layout="row"> <div ng-click="picker.incrementYear(-1)" class="dtp-year-btn dtp-year-btn-prev" flex="30"><span ng-if="picker.isPreviousYearVisible()" >&#x25B2;</span></div>                    <div class="dtp-actual-year" flex>{{picker.currentDate.format("YYYY")}}</div> <div ng-click="picker.incrementYear(1)" class="dtp-year-btn dtp-year-btn-next" flex="30"><span ng-if="picker.isNextYearVisible()" >&#x25BC;</span></div>                </div>            </div>            <div class="dtp-time" ng-show="picker.params.time && !picker.params.date">                <div class="dtp-actual-maxtime">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>            </div>            <div class="dtp-picker">                <mdc-datetime-picker-calendar date="picker.currentDate" picker="picker" class="dtp-picker-calendar" ng-show="picker.currentView === picker.VIEWS.DATE"></mdc-datetime-picker-calendar>                <div class="dtp-picker-datetime" ng-show="picker.currentView !== picker.VIEWS.DATE">                    <div class="dtp-actual-meridien">                        <div class="left p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-am" ng-class="{selected: picker.meridien == \'AM\'}" ng-click="picker.selectAM()">{{picker.params.amText}}</a>                        </div>                        <div ng-show="!picker.timeMode" class="dtp-actual-time p60">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>                        <div class="right p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-pm" ng-class="{selected: picker.meridien == \'PM\'}" ng-click="picker.selectPM()">{{picker.params.pmText}}</a>                        </div>                        <div class="clearfix"></div>                    </div>                    <mdc-datetime-picker-clock mode="hours" ng-if="picker.currentView === picker.VIEWS.HOUR"></mdc-datetime-picker-clock>                    <mdc-datetime-picker-clock mode="minutes" ng-if="picker.currentView === picker.VIEWS.MINUTE"></mdc-datetime-picker-clock>                </div>            </div>        </div>    </md-dialog-content>    <md-dialog-actions class="dtp-buttons">            <md-button class="dtp-btn-cancel md-button" ng-click="picker.cancel()"> {{picker.params.cancelText}}</md-button>            <md-button class="dtp-btn-ok md-button" ng-click="picker.ok()"> {{picker.params.okText}}</md-button>      </md-dialog-actions></md-dialog>';angular.module(n,["ngMaterial"]).provider("mdcDatetimePickerDefaultLocale",function(){this.locale="en",this.$get=function(){return this.locale},this.setDefaultLocale=function(e){this.locale=e}}).directive("mdcDatetimePicker",["$mdDialog",function(e){return{restrict:"A",require:"ngModel",scope:{currentDate:"=ngModel",time:"=",date:"=",minDate:"=",maxDate:"=",shortTime:"=",format:"@",cancelText:"@",okText:"@",lang:"@",amText:"@",pmText:"@"},link:function(n,r,a,s){var c=!1;n.format||(n.date&&n.time?n.format="YYYY-MM-DD HH:mm:ss":n.date?n.format="YYYY-MM-DD":n.format="HH:mm"),angular.isString(n.currentDate)&&""!==n.currentDate&&(n.currentDate=t(n.currentDate,n.format)),s&&s.$formatters.push(function(e){if("undefined"!=typeof e){var r=t(e);return r.isValid()?r.format(n.format):""}}),r.attr("readonly",""),r.on("focus",function(t){if(t.preventDefault(),r.blur(),!c){c=!0;var s={};for(var u in a)n.hasOwnProperty(u)&&!angular.isUndefined(n[u])&&(s[u]=n[u]);s.currentDate=n.currentDate;var l={options:s};e.show({template:i,controller:o,controllerAs:"picker",locals:l,openFrom:r,parent:angular.element(document.body),bindToController:!0,disableParentScroll:!1}).then(function(e){n.currentDate=e?e._d:e,c=!1},function(){c=!1})}})}}}]);var o=function(e,t,n){this.currentView=r.DATE,this._dialog=t,this.minDate,this.maxDate,this._attachedEvents=[],this.VIEWS=r,this.params={date:!0,time:!0,format:"YYYY-MM-DD",minDate:null,maxDate:null,currentDate:null,lang:n,weekStart:0,shortTime:!1,cancelText:"Cancel",okText:"OK",amText:"AM",pmText:"PM"},this.meridien="AM",this.params=angular.extend(this.params,this.options),this.init()};o.$inject=["$scope","$mdDialog","mdcDatetimePickerDefaultLocale"],o.prototype={init:function(){this.timeMode=this.params.time&&!this.params.date,this.dateMode=this.params.date,this.initDates(),this.start()},currentNearest5Minute:function(){var e=this.currentDate||t(),n=5*Math.round(e.minute()/5);return n>=60&&(n=55),t(e).minutes(n)},initDates:function(){var e=this,n=function(n,r){var a=null;if(angular.isDefined(n)&&null!==n&&""!==n)if(angular.isString(n))a="undefined"!=typeof e.params.format&&null!==e.params.format?t(n,e.params.format).locale(e.params.lang):t(n).locale(e.params.lang);else if(angular.isDate(n)){var i=n.getTime();a=t(i,"x").locale(e.params.lang)}else n._isAMomentObject&&(a=n);else a=r;return a};this.currentDate=n(this.params.currentDate,t()),this.minDate=n(this.params.minDate),this.maxDate=n(this.params.maxDate),this.selectDate(this.currentDate)},initDate:function(e){this.currentView=r.DATE},initHours:function(){this.currentView=r.HOUR},initMinutes:function(){this.currentView=r.MINUTE},isAfterMinDate:function(e,n,r){var a=!0;if("undefined"!=typeof this.minDate&&null!==this.minDate){var i=t(this.minDate),o=t(e);n||r||(i.hour(0),i.minute(0),o.hour(0),o.minute(0)),i.second(0),o.second(0),i.millisecond(0),o.millisecond(0),r?a=parseInt(o.format("X"))>=parseInt(i.format("X")):(o.minute(0),i.minute(0),a=parseInt(o.format("X"))>=parseInt(i.format("X")))}return a},isBeforeMaxDate:function(e,n,r){var a=!0;if("undefined"!=typeof this.maxDate&&null!==this.maxDate){var i=t(this.maxDate),o=t(e);n||r||(i.hour(0),i.minute(0),o.hour(0),o.minute(0)),i.second(0),o.second(0),i.millisecond(0),o.millisecond(0),r?a=parseInt(o.format("X"))<=parseInt(i.format("X")):(o.minute(0),i.minute(0),a=parseInt(o.format("X"))<=parseInt(i.format("X")))}return a},selectDate:function(e){e&&(this.currentDate=t(e),this.isAfterMinDate(this.currentDate)||(this.currentDate=t(this.minDate)),this.isBeforeMaxDate(this.currentDate)||(this.currentDate=t(this.maxDate)),this.currentDate.locale(this.params.lang),this.calendarStart=t(this.currentDate),this.meridien=this.currentDate.hour()>=12?"PM":"AM")},setName:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},isPM:function(){return"PM"===this.meridien},incrementYear:function(e){1===e&&this.isNextYearVisible()&&this.selectDate(this.currentDate.add("year",e)),e===-1&&this.isPreviousYearVisible()&&this.selectDate(this.currentDate.add("year",e))},isPreviousMonthVisible:function(){return this.calendarStart&&this.isAfterMinDate(t(this.calendarStart).startOf("month"),!1,!1)},isNextMonthVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(t(this.calendarStart).endOf("month"),!1,!1)},isPreviousYearVisible:function(){return this.calendarStart&&this.isAfterMinDate(t(this.calendarStart).startOf("year"),!1,!1)},isNextYearVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(t(this.calendarStart).endOf("year"),!1,!1)},isHourAvailable:function(e){var n=t(this.currentDate);return n.hour(this.convertHours(e)).minute(0).second(0),this.isAfterMinDate(n,!0,!1)&&this.isBeforeMaxDate(n,!0,!1)},isMinuteAvailable:function(e){var n=t(this.currentDate);return n.minute(e).second(0),this.isAfterMinDate(n,!0,!0)&&this.isBeforeMaxDate(n,!0,!0)},start:function(){this.currentView=r.DATE,this.params.date?this.initDate():this.params.time&&this.initHours()},ok:function(){switch(this.currentView){case r.DATE:this.params.time===!0?this.initHours():this.hide(!0);break;case r.HOUR:this.initMinutes();break;case r.MINUTE:this.hide(!0)}},cancel:function(){if(this.params.time)switch(this.currentView){case r.DATE:this.hide();break;case r.HOUR:this.params.date?this.initDate():this.hide();break;case r.MINUTE:this.initHours()}else this.hide()},selectMonthBefore:function(){this.calendarStart.subtract(1,"months")},selectMonthAfter:function(){this.calendarStart.add(1,"months")},selectYearBefore:function(){this.calendarStart.subtract(1,"years")},selectYearAfter:function(){this.calendarStart.add(1,"years")},selectAM:function(){(this.isHourAvailable(0)||this.isHourAvailable(12))&&(this.currentDate.hour()>=12&&this.selectDate(this.currentDate.subtract(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.minDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.minDate.minute())))},selectPM:function(){(this.isHourAvailable(13)||this.isHourAvailable(24))&&(this.currentDate.hour()<12&&this.selectDate(this.currentDate.add(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.maxDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.maxDate.minute())))},convertHours:function(e){var t=e;return e<12&&this.isPM()&&(t+=12),t},hide:function(e){e?this._dialog.hide(this.currentDate):this._dialog.cancel()}},angular.module(n).directive("mdcDatetimePickerCalendar",[function(){for(var e=(t(),1900),n=2100,r=12*(n-e+1),a=240,i=[],o=0;o<r;o++)i.push(o);var s=function(t){var n=t.year(),r=t.month();return 12*(n-e)+r-1};return{restrict:"E",scope:{picker:"=",date:"="},bindToController:!0,controllerAs:"cal",controller:["$scope",function(n){for(var a=this,o=this.picker,c=[],u=o.params.weekStart;c.length<7;u++)u>6&&(u=0),c.push(u.toString());if(a.week=c,o.maxDate||o.minDate){var l=o.minDate?s(o.minDate):0,d=o.maxDate?s(o.maxDate)+1:r;a.months=i.slice(l,d)}else a.months=i;a.getItemAtIndex=function(n){var r=(n+1)%12||12,a=e+Math.floor(n/12),i=t(o.currentDate).year(a).month(r);return v(i)},a.topIndex=s(o.currentDate)-a.months[0],n.$watch(function(){return o.currentDate?o.currentDate.format("YYYY-MM"):""},function(e,n){if(e!=n){var r=t(e,"YYYY-MM"),i=s(r);a.topIndex!=i&&(a.topIndex=i-a.months[0])}});var v=function(e){var n={};if(null!==e){n.name=e.format("MMMM YYYY");var r=t(e).locale(o.params.lang).startOf("month").hour(e.hour()).minute(e.minute()),i=r.format("d");n.days=[];for(var s=r.date();s<=r.daysInMonth();s++){if(s===r.date()){var c=a.week.indexOf(i.toString());if(c>0)for(var u=0;u<c;u++)n.days.push(0)}n.days.push(t(r).locale(o.params.lang).date(s))}for(var l=7,d=[],v=Math.ceil(n.days.length/l),f=0;f<v;f++)d.push(n.days.slice(f*l,(f+1)*l));return n.days=d,n}};a.toDay=function(e){return t(parseInt(e),"d").locale(o.params.lang).format("dd").substring(0,1)},a.isInRange=function(e){return o.isAfterMinDate(t(e),!1,!1)&&o.isBeforeMaxDate(t(e),!1,!1)},a.selectDate=function(e){if(e){if(a.isSelectedDay(e))return o.ok();o.selectDate(t(e).hour(a.date.hour()).minute(a.date.minute()))}},a.isSelectedDay=function(e){return e&&a.date.date()===e.date()&&a.date.month()===e.month()&&a.date.year()===e.year()}}],template:'<md-virtual-repeat-container md-top-index="cal.topIndex" class="months"><div md-virtual-repeat="idx in cal.months" md-start-index="cal.topIndex" md-item-size="'+a+'">     <div mdc-datetime-picker-calendar-month idx="idx"></div></div></md-virtual-repeat-container>'}}]).directive("mdcDatetimePickerCalendarMonth",["$compile",function(e){var t=function(t,n){var r=angular.element(t[0].querySelector("tbody")),a=n.cal,i=n.month;r.html(""),i.days.forEach(function(e,t){var n=angular.element("<tr></tr>");e.forEach(function(e,r){var i=angular.element("<td> </td>");if(e){var o;if(a.isInRange(e)){var s='month["days"]['+t+"]["+r+"]";o=angular.element("<a href='#' mdc-dtp-noclick></a>").attr("ng-class","{selected: cal.isSelectedDay("+s+")}").attr("ng-click","cal.selectDate("+s+")")}else o=angular.element("<span></span>");o.addClass("dtp-select-day").html(e.format("D")),i.append(o)}n.append(i)}),r.append(n)}),e(r)(n)};return{scope:{idx:"="},require:"^mdcDatetimePickerCalendar",restrict:"AE",template:'<div class="dtp-picker-month">{{month.name}}</div><table class="table dtp-picker-days">    <thead>    <tr>        <th ng-repeat="day in cal.week">{{cal.toDay(day)}}</th>    </tr>    </thead>    <tbody>    </tbody></table>',link:function(e,n,r,a){e.cal=a,e.month=a.getItemAtIndex(parseInt(e.idx)),t(n,e),e.$watch(function(){return e.idx},function(r,i){r!=i&&(e.month=a.getItemAtIndex(parseInt(e.idx)),t(n,e))})}}}]),angular.module(n).directive("mdcDtpNoclick",function(){return{link:function(e,t){t.on("click",function(e){e.preventDefault()})}}}),angular.module(n).directive("mdcDatetimePickerClock",[function(){var e='<div class="dtp-picker-clock"><span ng-if="!points || points.length < 1">&nbsp;</span><div ng-repeat="point in points" class="dtp-picker-time" style="margin-left: {{point.left}}px; margin-top: {{point.top}}px;">   <a href="#" mdc-dtp-noclick ng-class="{selected: point.value===currentValue}" class="dtp-select-hour" ng-click="setTime(point.value)" ng-if="pointAvailable(point)">{{point.display}}</a>   <a href="#" mdc-dtp-noclick class="disabled dtp-select-hour" ng-if="!pointAvailable(point)">{{point.display}}</a></div><div class="dtp-hand dtp-hour-hand"></div><div class="dtp-hand dtp-minute-hand"></div><div class="dtp-clock-center"></div></div>';return{restrict:"E",template:e,link:function(e,t,n){var r="minutes"===n.mode,i=e.picker,o=document.querySelector("md-dialog.dtp"),s=function(){var n=angular.element(t[0].querySelector(".dtp-picker-clock")),s=angular.element(o.querySelector(".dtp-picker")),u=o.querySelector(".dtp-content").offsetWidth,d=parseInt(a(s,"paddingLeft").replace("px",""))||0,v=parseInt(a(s,"paddingRight").replace("px",""))||0,f=parseInt(a(n,"marginLeft").replace("px",""))||0,m=parseInt(a(n,"marginRight").replace("px",""))||0,p=u-(f+m+d+v);n.css("width",p+"px");for(var h=parseInt(a(s,"paddingLeft").replace("px",""))||0,g=parseInt(a(s,"paddingTop").replace("px",""))||0,y=parseInt(a(n,"marginLeft").replace("px",""))||0,b=parseInt(a(n,"marginTop").replace("px",""))||0,D=p/2,S=D/1.2,T=[],_=0;_<12;++_){var k=S*Math.sin(2*Math.PI*(_/12)),C=S*Math.cos(2*Math.PI*(_/12)),w={left:D+k+h/2-(h+y),top:D-C-b/2-(g+b),value:r?5*_:_};r?w.display=w.value<10?"0"+w.value:w.value:i.params.shortTime?w.display=0===_?12:_:w.display=i.isPM()?_+12:_,T.push(w)}e.points=T,l(),n.css("height",p+"px");var x=t[0].querySelector(".dtp-clock-center"),M=x.offsetWidth/2||7.5,I=x.offsetHeight/2||7.5,P=D/1.8,E=D/1.5;angular.element(t[0].querySelector(".dtp-hour-hand")).css({left:D+1.5*y+"px",height:P+"px",marginTop:D-P-h+"px"}).addClass(r?"":"on"),angular.element(t[0].querySelector(".dtp-minute-hand")).css({left:D+1.5*y+"px",height:E+"px",marginTop:D-E-h+"px"}).addClass(r?"on":""),angular.element(x).css({left:D+h+y-M+"px",marginTop:D-y/2-I+"px"}),c()},c=function(){var e=i.currentNearest5Minute(),n=e.hour(),r=e.minute();u(angular.element(t[0].querySelector(".dtp-hour-hand")),30*n);var a=6*(5*Math.round(r/5));u(angular.element(t[0].querySelector(".dtp-minute-hand")),a)},u=function(e,t){angular.element(e).css({WebkitTransform:"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)"})},l=function(){var t=i.currentNearest5Minute();e.currentValue=r?t.minute():t.hour()%12};e.$watch(function(){var e=i.currentNearest5Minute();return e?e.format("HH:mm"):""},function(e){l(),c()});var d=function(e,t){for(var n=0;n<t.length;n++)t[n].display=n,e&&(t[n].display+=12);return t};i.params.shortTime||e.$watch("picker.meridien",function(){if(!r&&e.points){var t=d(i.isPM(),angular.copy(e.points));e.points=t}}),e.setTime=function(t){t===e.currentValue&&i.ok(),r?i.currentDate.minute(t):i.currentDate.hour(i.isPM()?t+12:t),i.currentDate.second(0)},e.pointAvailable=function(e){return r?i.isMinuteAvailable(e.value):i.isHourAvailable(e.value)};var v=e.$watch(function(){return t[0].querySelectorAll("div").length},function(){s(),v()})}}}])}(a.default)}).call(exports,t(406))},492:function(e,exports,t){function n(e){return t(r(e))}function r(e){return a[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var a={"./af":493,"./af.js":493,"./ar":494,"./ar-dz":495,"./ar-dz.js":495,"./ar-ly":496,"./ar-ly.js":496,"./ar-ma":497,"./ar-ma.js":497,"./ar-sa":498,"./ar-sa.js":498,"./ar-tn":499,"./ar-tn.js":499,"./ar.js":494,"./az":500,"./az.js":500,"./be":501,"./be.js":501,"./bg":502,"./bg.js":502,"./bn":503,"./bn.js":503,"./bo":504,"./bo.js":504,"./br":505,"./br.js":505,"./bs":506,"./bs.js":506,"./ca":507,"./ca.js":507,"./cs":508,"./cs.js":508,"./cv":509,"./cv.js":509,"./cy":510,"./cy.js":510,"./da":511,"./da.js":511,"./de":512,"./de-at":513,"./de-at.js":513,"./de.js":512,"./dv":514,"./dv.js":514,"./el":515,"./el.js":515,"./en-au":516,"./en-au.js":516,"./en-ca":517,"./en-ca.js":517,"./en-gb":518,"./en-gb.js":518,"./en-ie":519,"./en-ie.js":519,"./en-nz":520,"./en-nz.js":520,"./eo":521,"./eo.js":521,"./es":522,"./es-do":523,"./es-do.js":523,"./es.js":522,"./et":524,"./et.js":524,"./eu":525,"./eu.js":525,"./fa":526,"./fa.js":526,"./fi":527,"./fi.js":527,"./fo":528,"./fo.js":528,"./fr":529,"./fr-ca":530,"./fr-ca.js":530,"./fr-ch":531,"./fr-ch.js":531,"./fr.js":529,"./fy":532,"./fy.js":532,"./gd":533,"./gd.js":533,"./gl":534,"./gl.js":534,"./he":535,"./he.js":535,"./hi":536,"./hi.js":536,"./hr":537,"./hr.js":537,"./hu":538,"./hu.js":538,"./hy-am":539,"./hy-am.js":539,"./id":540,"./id.js":540,"./is":541,"./is.js":541,"./it":542,"./it.js":542,"./ja":543,"./ja.js":543,"./jv":544,"./jv.js":544,"./ka":545,"./ka.js":545,"./kk":546,"./kk.js":546,"./km":547,"./km.js":547,"./ko":548,"./ko.js":548,"./ky":549,"./ky.js":549,"./lb":550,"./lb.js":550,"./lo":551,"./lo.js":551,"./lt":552,"./lt.js":552,"./lv":553,"./lv.js":553,"./me":554,"./me.js":554,"./mi":555,"./mi.js":555,"./mk":556,"./mk.js":556,"./ml":557,"./ml.js":557,"./mr":558,"./mr.js":558,"./ms":559,"./ms-my":560,"./ms-my.js":560,"./ms.js":559,"./my":561,"./my.js":561,"./nb":562,"./nb.js":562,"./ne":563,"./ne.js":563,"./nl":564,"./nl-be":565,"./nl-be.js":565,"./nl.js":564,"./nn":566,"./nn.js":566,"./pa-in":567,"./pa-in.js":567,"./pl":568,"./pl.js":568,"./pt":569,"./pt-br":570,"./pt-br.js":570,"./pt.js":569,"./ro":571,"./ro.js":571,"./ru":572,"./ru.js":572,"./se":573,"./se.js":573,"./si":574,"./si.js":574,"./sk":575,"./sk.js":575,"./sl":576,"./sl.js":576,"./sq":577,"./sq.js":577,"./sr":578,"./sr-cyrl":579,"./sr-cyrl.js":579,"./sr.js":578,"./ss":580,"./ss.js":580,"./sv":581,"./sv.js":581,"./sw":582,"./sw.js":582,"./ta":583,"./ta.js":583,"./te":584,"./te.js":584,"./tet":585,"./tet.js":585,"./th":586,"./th.js":586,"./tl-ph":587,"./tl-ph.js":587,"./tlh":588,"./tlh.js":588,"./tr":589,"./tr.js":589,"./tzl":590,"./tzl.js":590,"./tzm":591,"./tzm-latn":592,"./tzm-latn.js":592,"./tzm.js":591,"./uk":593,"./uk.js":593,"./uz":594,"./uz.js":594,"./vi":595,"./vi.js":595,"./x-pseudo":596,"./x-pseudo.js":596,"./yo":597,"./yo.js":597,"./zh-cn":598,"./zh-cn.js":598,"./zh-hk":599,"./zh-hk.js":599,"./zh-tw":600,"./zh-tw.js":600};n.keys=function(){return Object.keys(a)},n.resolve=r,e.exports=n,n.id=492},601:function(e,exports,t){var n=t(602);"string"==typeof n&&(n=[[e.id,n,""]]);t(379)(n,{});n.locals&&(e.exports=n.locals)},602:function(e,exports,t){exports=e.exports=t(378)(),exports.push([e.id,"md-dialog.dtp{font-size:14px;line-height:1.42857143;color:#333;background-color:#fff;max-height:none}.dtp :focus{outline:none!important}.dtp table{border-spacing:0;border-collapse:collapse;width:100%}.dtp .table>tbody>tr>td,.dtp .table>tbody>tr>th,.dtp .table>tfoot>tr>td,.dtp .table>tfoot>tr>th,.dtp .table>thead>tr>td,.dtp .table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}.dtp,.dtp *{box-sizing:border-box!important}.dtp>.dtp-content{max-width:300px;max-height:500px}.dtp>.dtp-content>.dtp-date-view>header.dtp-header{background:#689f38;color:#fff;text-align:center;padding:3px}.dtp div.dtp-date,.dtp div.dtp-time{background:#8bc34a;text-align:center;color:#fff;padding:10px}.dtp div.dtp-date>div{padding:0;margin:0}.dtp div.dtp-actual-month{font-size:1.5em}.dtp div.dtp-actual-maxtime,.dtp div.dtp-actual-num{font-size:3em;line-height:.9}.dtp div.dtp-actual-year{font-size:1.6em;color:#dcedc8}.dtp div.dtp-year-btn{font-size:1.4em;line-height:30px;cursor:pointer;color:#dcedc8}.dtp div.dtp-year-btn-prev{text-align:right}.dtp div.dtp-year-btn-next{text-align:left}.dtp div.dtp-picker{padding:10px;text-align:center}.dtp div.dtp-actual-time,.dtp div.dtp-picker-month{font-weight:500;text-align:center}.dtp .dtp-close{position:absolute;top:.25em;right:5px;font-size:16px}.dtp .dtp-close>a{color:#fff;text-decoration:none}.dtp .dtp-close>a>i{font-size:1em}.dtp table.dtp-picker-days{margin:0;min-height:220px}.dtp md-virtual-repeat-container.months{height:260px}.dtp table.dtp-picker-days,.dtp table.dtp-picker-days tr,.dtp table.dtp-picker-days tr>td{border:none}.dtp table.dtp-picker-days tr>td{font-size:11px;text-align:center;padding:0}.dtp table.dtp-picker-days tr>td>span.dtp-select-day{color:#bdbdbd!important}.dtp table.dtp-picker-days tr>td>.dtp-select-day{width:36px;height:36px;display:inline-block}.dtp .dtp-picker-time>a,.dtp table.dtp-picker-days tr>td>.dtp-select-day{color:#212121;text-decoration:none;padding:10px;border-radius:50%!important}.dtp table.dtp-picker-days tr>td>a.selected{background:#8bc34a;color:#fff}.dtp table.dtp-picker-days tr>td>a:hover:not(.selected){background:#ddd}.dtp table.dtp-picker-days tr>th{color:#757575;text-align:center;font-weight:700;padding:4px 3px}.dtp .p10>a{color:#689f38;text-decoration:none}.dtp .p10{width:10%}.dtp .p10,.dtp .p20{display:inline-block}.dtp .p20{width:20%}.dtp .p60{width:60%}.dtp .p60,.dtp .p80{display:inline-block}.dtp .p80{width:80%}.dtp a.dtp-meridien-am,.dtp a.dtp-meridien-pm{position:relative;top:10px;color:#212121;font-weight:500;padding:7px 5px;border-radius:50%!important;text-decoration:none;background:#eee;font-size:10px}.dtp .dtp-actual-meridien a.selected{background:#689f38;color:#fff}.dtp .dtp-picker-time>a{display:block;line-height:23px;padding:3px}.dtp .dtp-picker-time{position:absolute;width:30px;height:30px;font-size:1.1em;border-radius:50%;cursor:pointer;text-align:center!important}.dtp .dtp-picker-time>a.dtp-select-hour.selected{background:#689f38;color:#fff}.dtp .dtp-picker-time>a.dtp-select-hour.disabled,.dtp .dtp-picker-time>a.dtp-select-minute.disabled{color:#757575}.dtp .dtp-picker-time>a.dtp-select-minute.selected{background:#8bc34a;color:#fff}.dtp div.dtp-picker-clock{margin:10px 20px 0;padding:10px;border-radius:50%!important;background:#eee}.dtp-clock-center{width:15px;height:15px;background:#757575;border-radius:50%;position:absolute;z-index:50}.dtp .dtp-hand,.dtp .dtp-hour-hand{position:absolute;width:4px;margin-left:-2px;background:#bdbdbd;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:bottom;transform-origin:bottom;z-index:1}.dtp .dtp-minute-hand{width:2px;margin-left:-1px}.dtp .dtp-hand.on{background:#8bc34a}.dtp .dtp-buttons{padding:0 10px 10px;text-align:right}.dtp.hidden,.dtp .hidden{display:none}.dtp .invisible{visibility:hidden}.dtp .left{float:left}.dtp .right{float:right}.dtp .clearfix{clear:both}.dtp .center{text-align:center}",""])},603:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=t(604),a=n(r);angular.module("directive.g+signin",[]).directive("googlePlusSignin",["$window",function(e){var t=/\.apps\.googleusercontent\.com$/;return{restrict:"E",transclude:!0,template:"<span></span>",replace:!0,link:function(n,r,i,o,s){i.clientid+=t.test(i.clientid)?"":".apps.googleusercontent.com",i.$set("data-clientid",i.clientid),i.$set("theme",i.theme);var c={callback:"signinCallback",cookiepolicy:"single_host_origin",requestvisibleactions:"http://schemas.google.com/AddActivity",scope:"https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/userinfo.email",height:"standard",width:"wide",state:""};c.clientid=i.clientid,c.theme=i.theme,angular.forEach((0,a.default)(c),function(e){i.hasOwnProperty(e)&&(c[e]=i[e])}),i.$observe("language",function(t){e.___gcfg={lang:t?t:"en"}});var u=document.createElement("script");u.type="text/javascript",u.async=!0,u.src="https://apis.google.com/js/client:plusone.js";var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(u,l),s(function(e,t){u.onload=function(){e.length&&r.append(e),gapi.signin.render(r[0],c)}})}}}]).run(["$window","$rootScope",function(e,t){e.signinCallback=function(e){e&&e.access_token?t.$broadcast("event:google-plus-signin-success",e):t.$broadcast("event:google-plus-signin-failure",e)}}])},646:function(e,exports,t){var n=t(647);"string"==typeof n&&(n=[[e.id,n,""]]);t(379)(n,{});n.locals&&(e.exports=n.locals)},647:function(e,exports,t){exports=e.exports=t(378)(),exports.push([e.id,"",""])},648:function(e,exports,t){var n=t(649);"string"==typeof n&&(n=[[e.id,n,""]]);t(379)(n,{});n.locals&&(e.exports=n.locals)},649:function(e,exports,t){exports=e.exports=t(378)(),exports.push([e.id,".distributor-selection{font-size:16pt;padding:3px;margin:3px}body{margin-top:100px;background-color:transparent}@media (min-width:768px){body{margin-top:50px}}#wrapper{padding-left:0}#page-wrapper{width:100%;padding:0;background-color:#fff}.huge{font-size:50px;line-height:normal}@media (min-width:768px){#wrapper{padding-left:225px}#page-wrapper{padding:10px}}.margin-bottom-15{margin-bottom:1.5em}.margin-top-05{margin-top:.5em}.margin-top-15{margin-top:1.5em}.margin-top-20{margin-top:2em}.margin-top-25{margin-top:2.5em}.margin-top-50{margin-top:5em}.issue-warning-background{background-color:orange}.issue-warning-text{color:orange}.issue-danger-background{background-color:red}.issue-danger-text{color:red}.issue-normal-background{background-color:green}.issue-normal-text{color:green}.up-true-background{background-color:green}.up-false-background{background-color:red}.navbar-default{background-color:#1b75bb;border-color:#15598e}.navbar-default .navbar-brand{color:#fff}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#55a7e7}.navbar-default .navbar-nav>li>a,.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#fff}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#fff;background-color:#afd5f3}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{color:#555;background-color:#d5d5d5}.navbar-default .navbar-nav>.dropdown>a .caret{border-top-color:#777;border-bottom-color:#777}.navbar-default .navbar-nav>.dropdown>a:focus .caret,.navbar-default .navbar-nav>.dropdown>a:hover .caret{border-top-color:#333;border-bottom-color:#333}.navbar-default .navbar-nav>.open>a .caret,.navbar-default .navbar-nav>.open>a:focus .caret,.navbar-default .navbar-nav>.open>a:hover .caret{border-top-color:#555;border-bottom-color:#555}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#ccc}@media (max-width:767px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333}}.top-nav{padding:0 15px}.top-nav>li{display:inline-block;float:left}.top-nav>li>a{padding-top:15px;padding-bottom:15px;line-height:20px;color:#efefef}.top-nav>.open>a,.top-nav>.open>a:focus,.top-nav>.open>a:hover,.top-nav>li>a:focus,.top-nav>li>a:hover{color:#fff;background-color:#1b75bb}.top-nav>.open>.dropdown-menu{float:left;position:absolute;margin-top:0;border:1px solid rgba(0,0,0,.15);border-top-left-radius:0;border-top-right-radius:0;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.top-nav>.open>.dropdown-menu>li>a{white-space:normal}ul.message-dropdown{padding:0;max-height:250px;overflow-x:hidden;overflow-y:auto}li.message-preview{width:275px;border-bottom:1px solid rgba(0,0,0,.15)}li.message-preview>a{padding-top:15px;padding-bottom:15px}li.message-footer{margin:5px 0}ul.alert-dropdown{width:200px}@media (min-width:768px){.side-nav{position:fixed;top:51px;left:225px;margin-left:-225px;border:none;border-radius:0;overflow-y:auto;background-color:#1b75bb;bottom:0;overflow-x:hidden;padding-bottom:40px}.side-nav,.side-nav>li>a{width:225px}.side-nav li a:focus,.side-nav li a:hover{outline:none;background-color:#3f9ce3!important}}.side-nav>li>ul{padding:0}.side-nav>li>ul>li>a{display:block;padding:10px 15px 10px 38px;text-decoration:none;color:#d4d4d4}.side-nav>li>ul>li>a:hover{color:#fff}.flot-chart{display:block;height:400px}.flot-chart-content{width:100%;height:100%}.huge{font-size:40px}.panel-green{border-color:#5cb85c}.panel-green>.panel-heading{border-color:#5cb85c;color:#fff;background-color:#5cb85c}.panel-green>a{color:#5cb85c}.panel-green>a:hover{color:#3d8b3d}.panel-red{border-color:#d9534f}.panel-red>.panel-heading{border-color:#d9534f;color:#fff;background-color:#d9534f}.panel-red>a{color:#d9534f}.panel-red>a:hover{color:#b52b27}.panel-yellow{border-color:#f0ad4e}.panel-yellow>.panel-heading{border-color:#f0ad4e;color:#fff;background-color:#f0ad4e}.panel-yellow>a{color:#f0ad4e}.panel-yellow>a:hover{color:#df8a13}.toolbar{margin-bottom:10px}.entity-key{font-family:Monaco,Consolas,Lucida Console,dejavu sans mono,monospace;font-size:11px}.proof-of-play-label{padding-bottom:10px;padding-top:10px}.copy-ready-transparent{color:transparent}.no-devices{text-align:center}.properties-word-break{width:390px;word-wrap:break-word;display:block}.command-history-command{width:375px;word-wrap:break-word;display:block}.hostname-word-break{width:200px;word-wrap:break-word;display:inline-block}[data-ng-click],[ng-click],[x-ng-click]{cursor:pointer}#proofplay-selected-items{min-width:0!important;margin:0 auto;padding:0 auto}.radio-button{padding:3px}.horizontal-submit{margin:.5em}.horizontal-submit,.radio-horizontal{display:flex;align-self:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center}md-toolbar.md-default-theme:not(.md-menu-toolbar),md-toolbar:not(.md-menu-toolbar){background-color:#1b75bb!important;max-height:64px;min-height:64px}.md-toolbar-tools{background-color:#000!important;max-height:64px;min-height:64px}.skykit-image{max-width:100%;height:33px}@media (max-width:767px){md-toolbar.md-default-theme:not(.md-menu-toolbar),md-toolbar:not(.md-menu-toolbar){margin-top:-50px;margin-bottom:50px}}.center-block{text-align:center}.ellipsis-overflow,.proof-of-play-selected-item{width:100%;white-space:nowrap;overflow:hidden;text-align:left;text-overflow:ellipsis}.proof-of-play-tenant-name-option{width:7em;white-space:nowrap;overflow:hidden;text-align:center;positition:absolute;text-overflow:ellipsis}.proof-of-play-horizontal-top-bar{align-self:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;margin-top:.5em;margin-bottom:.5em;align-items:center}.my-flex,.proof-of-play-horizontal-top-bar{display:flex;justify-content:center}.bigger-buttons{padding:.4em;min-width:88px;border-radius:5px;font-size:16px;text-align:center;text-decoration:none;border:none;outline:none}.admin-container{display:flex;align-content:flex-start}.registration-event-column{height:110px;display:inline-block;vertical-align:top;overflow:scroll}.pull-command-send-button-up{margin-top:-2px}header.dtp-header{background:#1b75bb!important}.dtp div.dtp-date,.dtp div.dtp-time{background:#000}.dtp .dtp-actual-meridien a.selected,.dtp .dtp-picker-time>a.dtp-select-hour.selected,.dtp table.dtp-picker-days tr>td>a.selected{background:#1b75bb!important}.dtp .dtp-hand.on{background:#000}.device-properties-switch{margin-top:-1px}.md-content-command-override md-content{overflow:unset}.pull-tooltip-left{margin-left:-55px}.command-button-right{float:right;flex-direction:row-reverse}md-select{display:block;margin:10px 0 8px;padding-bottom:2px;position:relative;min-width:180px;max-width:180px}.small-delete-button{float:right;min-width:25px;margin-top:-15px;margin-right:-5px}.tooltip-custom-large{min-width:250px}.tenant-image-name,.user-email-ellipsis{width:10em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}",""]);
},651:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,a,o,s,c,u,l,d,v,f){"ngInject";var m=this;return m.tenantKey=t.tenantKey,m.deviceKey=t.deviceKey,m.fromDevices="true"===t.fromDevices,m.currentDevice={},m.commandEvents=[],m.generateLocalFromUTC=function(e){var t=i.default.utc(e).toDate();return t=(0,i.default)(t).format("YYYY-MM-DD hh:mm:ss A")},m.replaceCommandTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.postedTime&&(n.postedTime=m.generateLocalFromUTC(n.postedTime)),n.confirmedTime&&(n.confirmedTime=m.generateLocalFromUTC(n.confirmedTime))}},m.getEvents=function(e,t,n){l.start();var r=a.getCommandEventsByKey(e,t,n);return r.then(function(e){return m.replaceCommandTime(e.events),m.event_next_cursor=e.next_cursor,m.event_prev_cursor=e.prev_cursor,m.commandEvents=e.events,l.complete()})},m.getEventsTimeOut=function(e,t,n){return f(function(){return m.getEvents(e,t,n)},1e3)},m.commandHistorySelected=function(){return m.getEvents(m.deviceKey)},m.paginateEventCall=function(e){return e?m.getEvents(m.deviceKey,null,m.event_next_cursor):m.getEvents(m.deviceKey,m.event_prev_cursor,null)},m.initialize=function(){var e=a.getDeviceByKey(m.deviceKey);return e.then(function(e){return m.onGetDeviceSuccess(e)},function(e){return m.onGetDeviceFailure(e)}),m.getEvents(m.deviceKey)},m.onGetDeviceSuccess=function(e){return m.currentDevice=e,e.timezone!==m.selectedTimezone&&(m.selectedTimezone=e.timezone),void 0===m.tenantKey&&(m.tenantKey=m.currentDevice.tenantKey),"true"===t.fromDevices?(m.backUrl="/#/devices",m.backUrlText="Back to devices"):m.currentDevice.isUnmanagedDevice===!0?(m.backUrl="/#/tenants/"+m.tenantKey+"/unmanaged",m.backUrlText="Back to tenant unmanaged devices"):(m.backUrl="/#/tenants/"+m.tenantKey+"/managed",m.backUrlText="Back to tenant managed devices")},m.onGetDeviceFailure=function(t){v.showErrorToast("Oops. We were unable to fetch the details for this device at this time.");var r="No detail for device_key #"+m.deviceKey+". Error: "+t.status+" "+t.statusText;return e.error(r),n.go("devices")},m.onResetContent=function(){l.start();var e=s.contentDelete(m.deviceKey);return e.then(m.onResetContentSuccess,m.onResetContentFailure)},m.onResetContentSuccess=function(){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your reset content command into the player's queue.")},m.onResetContentFailure=function(t){return l.complete(),e.error("Reset content command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your reset content command into the player's queue.","error")},m.onUpdateContent=function(){l.start();var e=s.contentUpdate(m.deviceKey);return e.then(m.onUpdateContentSuccess,m.onUpdateContentFailure)},m.onUpdateContentSuccess=function(){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your update content command into the player's queue.")},m.onUpdateContentFailure=function(t){return l.complete(),e.error("Content update command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your update content command into the player's queue.","error")},m.onResetPlayer=function(){l.start();var e=s.reset(m.deviceKey);return e.then(m.onResetPlayerSuccess,m.onResetPlayerFailure)},m.onResetPlayerSuccess=function(){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your reset player command into the player's queue.")},m.onResetPlayerFailure=function(t){return l.complete(),e.error("Reset player command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your reset player command into the player's queue.","error")},m.onPanelOn=function(){l.start();var e=s.powerOn(m.deviceKey);return e.then(m.onPanelOnSuccess,m.onPanelOnFailure)},m.onPanelOnSuccess=function(){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your panel on command into the player's queue.")},m.onPanelOnFailure=function(t){return l.complete(),e.error("Panel on command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your panel on command into the player's queue.","error")},m.onPanelOff=function(){l.start();var e=s.powerOff(m.deviceKey);return e.then(m.onPanelOffSuccess,m.onPanelOffFailure)},m.onPanelOffSuccess=function(){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your panel off command into the player's queue.")},m.onPanelOffFailure=function(t){return l.complete(),e.error("Panel off command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your panel off command into the player's queue.","error")},m.onUpdateDevice=function(){l.start();var e=s.updateDevice(m.deviceKey);return e.then(m.onUpdateDeviceSuccess,m.onUpdateDeviceFailure)},m.onUpdateDeviceSuccess=function(){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your update device command into the player's queue.")},m.onUpdateDeviceFailure=function(t){return l.complete(),e.error("Update device command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your update device command into the player's queue.","error")},m.onVolumeChange=function(){l.start();var e=s.volume(m.deviceKey,m.currentDevice.volume);return e.then(m.onVolumeChangeSuccess(m.currentDevice.volume),m.onVolumeChangeFailure)},m.onVolumeChangeSuccess=function(e){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your volume change command of "+e+" into the player's queue.")},m.onVolumeChangeFailure=function(t){return l.complete(),e.error("Volume change command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your volume change command into the player's queue.","error")},m.onCustomCommand=function(){l.start();var e=s.custom(m.deviceKey,m.currentDevice.custom);return e.then(m.onCustomCommandSuccess(m.currentDevice.custom),m.onCustomCommandFailure)},m.onCustomCommandSuccess=function(e){return l.complete(),m.getEventsTimeOut(m.deviceKey),v.showSuccessToast("We posted your custom command '"+e+"' into the player's queue.")},m.onCustomCommandFailure=function(t){return l.complete(),e.error("Custom command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your custom command into the player's queue.","error")},m.onDiagnosticsToggle=function(){l.start();var e=s.toggleDiagnostics(m.deviceKey);return e.then(m.onToggleDiagnosticsSuccess,m.onToggleDiagnosticsFailure)},m.onToggleDiagnosticsSuccess=function(){return l.complete(),v.showSuccessToast("We posted your diagnostics command into the player's queue.")},m.onToggleDiagnosticsFailure=function(t){return l.complete(),e.error("Diagnostics command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your diagnostics command into the player's queue.","error")},m.onRestart=function(){l.start();var e=s.restart(m.deviceKey);return e.then(m.onRestartSuccess,m.onRestartFailure)},m.onRestartSuccess=function(){return l.complete(),v.showSuccessToast("We posted your restart command into the player's queue.")},m.onRestartFailure=function(t){return l.complete(),e.error("Restart command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your restart command into the player's queue.","error")},m.onPostLog=function(){l.start();var e=s.postLog(m.deviceKey);return e.then(m.onPostLogSuccess,m.onPostLogFailure)},m.onPostLogSuccess=function(){return l.complete(),v.showSuccessToast("We posted your post log command into the player's queue.")},m.onPostLogFailure=function(t){return l.complete(),e.error("Post log command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your post log command into the player's queue.","error")},m}r.$inject=["$log","$stateParams","$state","SessionsService","DevicesService","LocationsService","CommandsService","TimezonesService","sweet","ProgressBarService","$mdDialog","ToastsService","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceDetailsCommandsCtrl=void 0;var a=t(491),i=n(a);exports.DeviceDetailsCommandsCtrl=r},652:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,a,o,c,l,v,f,m,p,h,g,y,b,D){"ngInject";var S=this;S.tenantKey=t.tenantKey,S.tenantUrl="/#/tenants/"+S.tenantKey+"/details",S.tenantOverlayUrl="/#/tenants/"+S.tenantKey+"/overlays",S.deviceKey=t.deviceKey,S.fromDevices="true"===t.fromDevices,S.currentDevice={},S.locations=[],S.commandEvents=[],S.dayRange=30,S.issues=[],S.timezones=[],S.selectedTimezone=void 0;var T=y.createFormattedStartAndEndDateFromToday(30),_=(0,s.default)(T,2);return S.startTime=_[0],S.endTime=_[1],S.enrollmentEvents=[],S.logoChange=!1,S.controlsModeOptions=["visible","invisible","disabled"],S.orientationOptions=["0","90","180","270"],S.sleepControllerOptions=["chrome-default","rs232"],S.overlayChanged=!1,S.checkForOverlayChanges=function(){var e=!1,t=S.currentDevice.overlays,n=S.currentDeviceCopy.overlays,r=["top_left","top_right","bottom_right","bottom_left"],a=!0,o=!1,s=void 0;try{for(var c,u=(0,i.default)(r);!(a=(c=u.next()).done);a=!0){var l=c.value;t[l].size!==n[l].size&&(e=!0),t[l].type!==n[l].type&&(e=!0),"logo"===t[l].type&&t[l].type+": "+t[l].name!==n[l].name&&(e=!0)}}catch(e){o=!0,s=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw s}}S.overlayChanged=e},S.revertToTenantOverlay=function(e){p.start(),S.loadingOverlays=!0;var n=o.getTenantByKey(t.tenantKey);n.then(function(e){var t=e.overlays;if(!t)return S.loadingOverlays=!1,p.complete(),m.show("Oops...","Your tenant does not have overlays enabled. Please enable overlays for your tenant before attempting to revert device overlay to tenant settings.","error");delete t.key;for(var n in t)"logo"===t[n].type?t[n].image_key=t[n].imageKey.key:t[n].image_key=null;var r=a.saveOverlaySettings(S.deviceKey,t.bottom_left,t.bottom_right,t.top_right,t.top_left);r.then(function(e){var t=a.getDeviceByKey(S.deviceKey);t.then(function(e){S.currentDevice.overlays=e.overlays,S.currentDeviceCopy.overlays=angular.copy(S.currentDevice.overlays),S.loadingOverlays=!1,p.complete(),g.showSuccessToast("We saved your update.")})}),r.catch(function(e){p.complete(),g.showErrorToast("Something went wrong")})})},S.adjustControlsMode=function(){var e=S.currentDevice.controlsMode;p.start();var t=a.adjustControlsMode(S.deviceKey,e);t.then(function(){p.complete(),g.showSuccessToast("Your controls mode selection was succesfully changed to: "+e)}),t.catch(function(){p.complete()})},S.adjustOverlayStatus=function(e){S.currentDevice.overlayStatus=e,p.start();var t=a.save(S.currentDevice);return t.then(function(){var e=a.getDeviceByKey(S.deviceKey);e.then(function(e){S.onGetDeviceSuccess(e),p.complete()},function(e){return S.onGetDeviceFailure(e)})})},S.submitOverlaySettings=function(){var e=angular.copy(S.currentDeviceCopy.overlays);p.start(),S.loadingOverlays=!0;var t=a.saveOverlaySettings(S.deviceKey,e.bottom_left,e.bottom_right,e.top_right,e.top_left);t.then(function(e){var t=a.getDeviceByKey(S.deviceKey);t.then(function(e){S.currentDevice.overlays=e.overlays,S.currentDeviceCopy.overlays=angular.copy(S.currentDevice.overlays),S.loadingOverlays=!1,p.complete(),g.showSuccessToast("We saved your update.")})}),t.catch(function(e){p.complete(),g.showErrorToast("Something went wrong")})},S.getTenantImagesAndRefreshDevice=function(){var e=a.getDeviceByKey(S.deviceKey);e.then(function(e){S.onGetDeviceSuccess(e),S.getTenantImages()}),e.catch(function(e){S.onGetDeviceFailure(e)})},S.getTenantImages=function(){S.OVERLAY_TYPES=[{size:null,type:null,name:"none",realName:"none",new:!1,image_key:null},{size:null,type:"datetime",name:"datetime",realName:"datetime",new:!0,image_key:null}],p.start();var e=D.getImages(S.tenantKey);e.then(function(e){S.tenantImages=e,p.complete();var t=!0,n=!1,r=void 0;try{for(var a,o=(0,i.default)(S.tenantImages);!(t=(a=o.next()).done);t=!0)for(var s=a.value,c=["small","large"],u=0;u<c.length;u++){var l=c[u],v={realName:angular.copy(s.name),name:"logo: "+s.name,type:"logo",size:l,image_key:s.key};S.OVERLAY_TYPES.push(v)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}S.OVERLAY_TYPES.sort(d.default)}),e.catch(function(){p.complete()})},S.replaceIssueTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.created&&(n.created=y.generateLocalFromUTC(n.created)),n.updated&&(n.updated=y.generateLocalFromUTC(n.updated))}},S.replaceCommandTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.postedTime&&(n.postedTime=y.generateLocalFromUTC(n.postedTime)),n.confirmedTime&&(n.confirmedTime=y.generateLocalFromUTC(n.confirmedTime))}},S.localFromUtc=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.utcTimestamp&&(n.utcTimestamp=y.generateLocalFromUTC(n.utcTimestamp))}},S.copyDeviceKey=function(){return g.showSuccessToast("Device key copied to your clipboard")},S.copyCorrelationIdentifier=function(){return g.showSuccessToast("Correlation ID copied to your clipboard")},S.getIssues=function(e,t,n,r,i){p.start();var o=a.getIssuesByKey(e,t,n,r,i);return o.then(function(e){return S.replaceIssueTime(e.issues),S.issues=e.issues,S.prev_cursor=e.prev,S.next_cursor=e.next,p.complete()})},S.getEvents=function(e,t,n){p.start();var r=a.getCommandEventsByKey(e,t,n);return r.then(function(e){return S.replaceCommandTime(e.events),S.event_next_cursor=e.next_cursor,S.event_prev_cursor=e.prev_cursor,S.commandEvents=e.events,p.complete()})},S.getEnrollmentEvents=function(e){p.start();var t=f.getEnrollmentEvents(e);return t.then(function(e){return S.enrollmentEvents=e,S.localFromUtc(e),p.complete()})},S.paginateCall=function(e){return e?S.getIssues(S.deviceKey,S.epochStart,S.epochEnd,null,S.next_cursor):S.getIssues(S.deviceKey,S.epochStart,S.epochEnd,S.prev_cursor,null)},S.paginateEventCall=function(e){return e?S.getEvents(S.deviceKey,null,S.event_next_cursor):S.getEvents(S.deviceKey,S.event_prev_cursor,null)},S.initialize=function(){S.epochStart=(0,u.default)(S.startTime,"YYYY-MM-DD hh:mm A").unix(),S.epochEnd=(0,u.default)(S.endTime,"YYYY-MM-DD hh:mm A").unix();var e=v.getCustomTimezones();e.then(function(e){return S.timezones=e}),S.panelModels=a.getPanelModels(),S.panelInputs=a.getPanelInputs();var t=a.getDeviceByKey(S.deviceKey);return t.then(function(e){return S.onGetDeviceSuccess(e)},function(e){return S.onGetDeviceFailure(e)}),S.getTenantImages(),S.getEvents(S.deviceKey),S.getIssues(S.deviceKey,S.epochStart,S.epochEnd),S.getEnrollmentEvents(S.deviceKey)},S.onGetDeviceSuccess=function(e){S.currentDevice=e,S.currentDeviceCopy=angular.copy(S.currentDevice),e.timezone!==S.selectedTimezone&&(S.selectedTimezone=e.timezone),void 0===S.tenantKey&&(S.tenantKey=S.currentDevice.tenantKey),"true"===t.fromDevices?(S.backUrl="/#/devices",S.backUrlText="Back to devices"):S.currentDevice.isUnmanagedDevice===!0?(S.backUrl="/#/tenants/"+S.tenantKey+"/unmanaged",S.backUrlText="Back to tenant unmanaged devices"):(S.backUrl="/#/tenants/"+S.tenantKey+"/managed",S.backUrlText="Back to tenant managed devices");var n=c.getLocationsByTenantKey(S.tenantKey);return n.then(function(e){return S.locations=e,S.setSelectedOptions()})},S.onGetDeviceFailure=function(t){g.showErrorToast("Oops. We were unable to fetch the details for this device at this time.");var r="No detail for device_key "+S.deviceKey+". Error: "+t.status+" "+t.statusText;return e.error(r),n.go("devices")},S.setSelectedOptions=function(){if(null===S.currentDevice.panelModel)S.currentDevice.panelModel=S.panelModels[0],S.currentDevice.panelInput=S.panelInputs[0];else{for(var e=0;e<S.panelModels.length;e++){var t=S.panelModels[e];t.id===S.currentDevice.panelModel&&(S.currentDevice.panelModel=t)}for(var n=0;n<S.panelInputs.length;n++){var r=S.panelInputs[n],a=r.parentId===S.currentDevice.panelModel.id;a&&r.id.toLowerCase()===S.currentDevice.panelInput&&(S.currentDevice.panelInput=r)}}if(null===S.currentDevice.locationKey);else for(var i=0;i<S.locations.length;i++){var o=S.locations[i];o.key===S.currentDevice.locationKey&&(S.currentDevice.location=o)}},S.onSaveDevice=function(){p.start(),void 0!==S.currentDevice.location&&void 0!==S.currentDevice.location.key&&(S.currentDevice.locationKey=S.currentDevice.location.key),S.currentDevice.panelModel&&void 0!==S.currentDevice.panelModel.id&&"None"!==S.currentDevice.panelModel.id&&(S.currentDevice.panelModelNumber=S.currentDevice.panelModel.id),S.currentDevice.panelInput&&void 0!==S.currentDevice.panelInput.id&&"None"!==S.currentDevice.panelInput.id&&(S.currentDevice.panelSerialInput=S.currentDevice.panelInput.id.toLowerCase()),S.currentDevice.timezone=S.selectedTimezone;var e=a.save(S.currentDevice);return e.then(S.onSuccessDeviceSave,S.onFailureDeviceSave)},S.onSuccessDeviceSave=function(){return p.complete(),g.showSuccessToast("We saved your update.")},S.onFailureDeviceSave=function(t){return p.complete(),409===t.status?(e.info("Failure saving device. Customer display code already exists for tenant: "+t.status+" "+t.statusText),m.show("Oops...","This customer display code already exists for this tenant. Please choose another.","error")):(e.error("Failure saving device: "+t.status+" "+t.statusText),g.showErrorToast("Oops. We were unable to save your updates to this device at this time."))},S.onPanelSleep=function(e){p.start();var t=l.panelSleep(S.deviceKey,e);return t.then(S.onPanelSleepSuccess,S.onPanelSleepFailure)},S.onPanelSleepSuccess=function(){return p.complete(),g.showSuccessToast("We toggled the panel sleep attribute. The player should adjust to these changes within 15 minutes.")},S.onPanelSleepFailure=function(e){return p.complete(),m.show("Oops...","We were unable to toggle the panel sleep attribute.","error")},S.confirmDeviceDelete=function(e,t){var n=h.confirm({title:"Are you sure to delete this device?",textContent:"Please remember, you MUST remove this device from Content Manager before deleting it from Provisioning.",targetEvent:e,ok:"Delete",cancel:"Cancel"}),r=h.show(n),a=function(){return S.onConfirmDelete(t)},i=function(){return S.onConfirmCancel()};return r.then(a,i)},S.onConfirmDelete=function(t){var r=function(){return g.showSuccessToast("We processed your delete request."),n.go("devices")},i=function(n){var r="We were unable to complete your delete request at this time.";return g.showErrorToast(r),e.error("Delete device failure for device_key "+t+": "+n.status+" "+n.statusText)},o=a.delete(t);return o.then(r,i)},S.onConfirmCancel=function(){return g.showInfoToast("We canceled your delete request.")},S.onProofOfPlayLoggingCheck=function(){if(S.currentDevice.proofOfPlayLogging){var e=null===S.currentDevice.locationKey,t=null===S.currentDevice.customerDisplayCode;return e?(m.show("Oops...","You must have a Location to enable Proof of play.","error"),S.currentDevice.proofOfPlayLogging=!1):t?(m.show("Oops...","You must have a Display code to enable Proof of play.","error"),S.currentDevice.proofOfPlayLogging=!1):S.onSaveDevice()}return S.onSaveDevice()},S.onUpdateLocation=function(){return S.onSaveDevice()},S.autoGenerateCustomerDisplayCode=function(){var e="";return S.currentDevice.customerDisplayName&&(e=S.currentDevice.customerDisplayName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),S.currentDevice.customerDisplayCode=e},S.logglyForUser=function(){var e=r.getUserEmail().split("@")[1];return"demo.agosto.com"===e||"agosto.com"===e},S.onClickRefreshButton=function(){p.start(),S.startTime=y.convertToMomentIfNotAlready(S.startTime),S.endTime=y.convertToMomentIfNotAlready(S.endTime),S.epochStart=(0,u.default)(S.startTime,"YYYY-MM-DD hh:mm A").unix(),S.epochEnd=(0,u.default)(S.endTime,"YYYY-MM-DD hh:mm A").unix(),S.prev_cursor=null,S.next_cursor=null;var e=a.getIssuesByKey(S.deviceKey,S.epochStart,S.epochEnd,S.prev_cursor,S.next_cursor);return e.then(function(e){return S.onRefreshIssuesSuccess(e)},function(e){return S.onRefreshIssuesFailure(e)})},S.onRefreshIssuesSuccess=function(e){return S.replaceIssueTime(e.issues),S.issues=e.issues,S.prev_cursor=e.prev,S.next_cursor=e.next,p.complete()},S.onRefreshIssuesFailure=function(t){return p.complete(),g.showInfoToast("We were unable to refresh the device issues list at this time."),e.error("Failure to refresh device issues: "+t.status+" "+t.statusText)},S}r.$inject=["$log","$stateParams","$state","SessionsService","DevicesService","TenantsService","LocationsService","CommandsService","TimezonesService","IntegrationEvents","sweet","ProgressBarService","$mdDialog","ToastsService","DateManipulationService","$timeout","ImageService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceDetailsCtrl=void 0;var a=t(653),i=n(a),o=t(658),s=n(o),c=t(491),u=n(c),l=t(662),d=n(l);exports.DeviceDetailsCtrl=r},663:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,a,o,s,c,u){"ngInject";var l=this;return l.distributorKey=void 0,l.devices=[],l.devicesPrev=null,l.devicesNext=null,l.selectedButton="Serial Number",l.serialDevices={},l.disabled=!0,l.macDevices={},l.gcmidDevices={},l.throttledSearch=null,l.unmanagedSelectedButton="MAC",l.unmanagedSerialDevices={},l.unmanagedDisabled=!0,l.unmanagedDevicesPrev=null,l.unmanagedDevicesNext=null,l.unmanagedDevices=[],l.unmanagedMacDevices={},l.unmanagedGCMidDevices={},l.devicesToMatchOnUnmanaged=[],l.devicesToMatchOnManaged=[],l.refreshManagedDevices=function(){return l.devicesPrev=null,l.devicesNext=null,l.getManagedDevices(l.distributorKey,l.devicesPrev,l.devicesNext)},l.refreshUnmanagedDevices=function(){return l.unmanagedDevicesPrev=null,l.unmanagedDevicesNext=null,l.getUnmanagedDevices(l.distributorKey,l.unmanagedDevicesPrev,l.unmanagedDevicesNext)},l.changeRadio=function(e){e?(l.unmanagedSearchText="",l.unmanagedDisabled=!0,l.unmanagedSerialDevices={},l.unmanagedMacDevices={},l.devicesToMatchOnUnmanaged=[]):(l.searchText="",l.disabled=!0,l.serialDevices={},l.macDevices={},l.devicesToMatchOnManaged=[])},l.editItem=function(e){return a.editItem(e,!0)},l.prepareForEditView=function(e,t){var n=void 0,r=void 0,a=void 0;return e?(n="MAC"===l.unmanagedSelectedButton,r="Serial Number"===l.unmanagedSelectedButton,a="GCM ID"===l.unmanagedSelectedButton,n?l.editItem(l.unmanagedMacDevices[t]):r?l.editItem(l.unmanagedSerialDevices[t]):l.editItem(l.unmanagedGCMidDevices[t])):(n="MAC"===l.selectedButton,r="Serial Number"===l.selectedButton,a="GCM ID"===l.selectedButton,n?l.editItem(l.macDevices[t]):r?l.editItem(l.serialDevices[t]):l.editItem(l.gcmidDevices[t]))},l.controlOpenButton=function(e,t){e?(l.unmanagedDisabled=!t,l.unmanagedDisabledButtonLoading=!1):(l.disabled=!t,l.disabledButtonLoading=!1)},l.isResourceValid=function(e,t){var n=e?l.devicesToMatchOnUnmanaged:l.devicesToMatchOnManaged,r=!1,a=!0,o=!1,s=void 0;try{for(var c,u=(0,i.default)(n);!(a=(c=u.next()).done);a=!0){var d=c.value;t===d&&(r=!0)}}catch(e){o=!0,s=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw s}}return l.controlOpenButton(e,r),r},l.searchDevices=function(e,r){var i=t.defer(),o=void 0;o=e?l.unmanagedSelectedButton:l.selectedButton;var s=!1,c=null;return l.throttledSearch&&l.throttledSearch.cancel(),l.throttledSearch=n(750,function(){a.searchDevices(r,o,s,c,l.distributorKey,e).then(function(t){var n=void 0;if(t.success){var r=t.devices;"Serial Number"===o?(e?l.unmanagedSerialDevices=r[1]:l.serialDevices=r[1],n=r[0]):"MAC"===o?(e?l.unmanagedMacDevices=r[1]:l.macDevices=r[1],n=r[0]):(e?l.unmanagedGCMidDevices=r[1]:l.gcmidDevices=r[1],n=r[0]),e?l.devicesToMatchOnUnmanaged=n:l.devicesToMatchOnManaged=n,i.resolve(n)}else i.resolve([])})}),l.throttledSearch(),i.promise},l.getManagedDevices=function(e,t,n){c.start();var r=a.getDevicesByDistributor(e,t,n);return r.then(function(e){return l.devices=e.devices,l.devicesNext=e.next_cursor,l.devicesPrev=e.prev_cursor,l.getFetchSuccess()},function(e){return l.getFetchFailure(e)})},l.getUnmanagedDevices=function(e,t,n){c.start();var r=a.getUnmanagedDevicesByDistributor(e,t,n);return r.then(function(e){return l.unmanagedDevices=e.devices,l.unmanagedDevicesPrev=e.prev_cursor,l.unmanagedDevicesNext=e.next_cursor,l.getFetchSuccess()},function(e){return l.getFetchFailure(e)})},l.initialize=function(){return l.distributorKey=s.getCurrentDistributorKey(),l.getManagedDevices(l.distributorKey,l.devicesPrev,l.devicesNext),l.getUnmanagedDevices(l.distributorKey,l.unmanagedDevicesPrev,l.unmanagedDevicesNext)},l.getFetchSuccess=function(){return c.complete()},l.getFetchFailure=function(e){c.complete();var t="Unable to fetch devices. Error: "+e.status+" "+e.statusText+".";return u.show("Oops...",t,"error")},l.paginateCall=function(e,t){if(e)t&&l.getManagedDevices(l.distributorKey,null,l.devicesNext),t||l.getUnmanagedDevices(l.distributorKey,null,l.unmanagedDevicesNext);else if(t&&l.getManagedDevices(l.distributorKey,l.devicesPrev,null),!t)return l.getUnmanagedDevices(l.distributorKey,l.unmanagedDevicesPrev,null)},l}r.$inject=["$stateParams","$q","debounce","$log","DevicesService","$state","SessionsService","ProgressBarService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DevicesListingCtrl=void 0;var a=t(653),i=n(a);exports.DevicesListingCtrl=r},664:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,a,o,c,u,l){"ngInject";var d=this;return d.paulsCurrentDistributorName=r.paulsCurrentDistributorName,d.selectedButton="Serial Number",d.unmanagedSelectedButton="Managed",d.serialDevices={},d.disabled=!0,d.macDevices={},d.gcmidDevices={},d.devicesToMatchOn=[],d.searchedTenants=[],d.tenantSearchMatch=null,d.tenantSearchDisabled=!0,d.controlOpenButton=function(e){return d.disabled=!e,d.loadingDisabled=!1},d.changeRadio=function(){d.searchText="",d.disabled=!0,d.serialDevices={},d.macDevices={},d.devicesToMatchOn=[]},d.isResourceValid=function(e){var t=!1,n=!0,r=!1,a=void 0;try{for(var o,s=(0,i.default)(d.devicesToMatchOn);!(n=(o=s.next()).done);n=!0){var c=o.value;if(e===c){t=!0,d.matchDevice=c;break}}}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return d.controlOpenButton(t),t},d.searchDevices=function(e,t){var r=d.selectedButton,a=!1,i=null,o=null,s=!0;return n.searchDevices(t,r,a,i,o,e,s).then(function(e){var t=void 0;if(e.success){var n=e.devices;return"Serial Number"===r?(d.serialDevices=n[1],t=n[0]):"MAC"===r?(d.macDevices=n[1],t=n[0]):(d.gcmidDevices=n[1],t=n[0]),d.devicesToMatchOn=t,t}return[]})},d.searchAllTenantsByName=function(e){if(!e||e.length<3)return[];var t=u.searchAllTenantsByName(e,!0);return t.then(function(e){return d.searchedTenants=e,d.searchedTenants?d.searchedTenants.map(function(e){return e.name}).sort(s.default):[]})},d.isTenantValid=function(e){if(!e||e.length<3)return[];var t=d.searchedTenants;if(t){var n=!0,r=!1,a=void 0;try{for(var o,s=(0,i.default)(t);!(n=(o=s.next()).done);n=!0){var c=o.value;if(e===c.name)return d.tenantSearchDisabled=!1,void(d.searchMatch=c);d.tenantSearchDisabled=!0}}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}}else d.tenantSearchDisabled=!0},d.getAllDistributors=function(){d.loadingAllDistributors=!0;var t=e.getAllDistributors();return t.then(function(e){return d.loadingAllDistributors=!1,d.allDistributors=e})},d.makeDistributor=function(t,n,r,i){var o=c.confirm({title:"Are you sure?",textContent:"If you proceed, "+n+" will be created.",targetEvent:t,ariaLabel:"Lucky day",ok:"Yeah!",cancel:"Forget it."});return c.show(o).then(function(){var t=e.makeDistributor(n,r);return t.then(function(e){return d.distributor={},i.$setPristine(),i.$setUntouched(),a.showSuccessToast(e.message),setTimeout(function(){return d.allDistributors=d.getAllDistributors()},2e3)}),t.catch(function(e){return a.showErrorToast(e.data.message)})})},d.addUserToDistributor=function(t,n,r,i,o){r||(r=!1);var s=r?"with":"without";i||(i=d.distributorsAsAdmin[0]);var u=c.confirm({title:"Are you sure?",textContent:n+" will be added to "+i+"\n        "+s+" administrator privileges",targetEvent:t,ok:"Of course!",cancel:"Oops, nevermind."});return c.show(u).then(function(){var t=e.addUserToDistributor(n,i,r);return t.then(function(e){return a.showSuccessToast(e.message),d.user={},o.$setPristine(),o.$setUntouched(),setTimeout(function(){return d.getUsersOfDistributor()},2e3)}),t.catch(function(e){return a.showErrorToast(e.data.message)})})},d.switchDistributor=function(e){return l.switchDistributor(e),a.showSuccessToast("Distributor "+e.name+" selected!")},d.getUsersOfDistributor=function(){d.loadingUsersOfDistributor=!0;var n=t.getCurrentDistributorKey(),r=e.getUsersOfDistributor(n);return r.then(function(e){return d.loadingUsersOfDistributor=!1,d.usersOfDistributor=e})},d.initialize=function(){if(d.getUsersOfDistributor(),d.getAllDistributors(),d.isAdmin=t.getIsAdmin(),d.distributorsAsAdmin=t.getDistributorsAsAdmin(),d.currentDistributorName=t.getCurrentDistributorName(),d.isAdmin)return d.getAllDistributors()},d.editTenant=function(e){return o.go("tenantDetails",{tenantKey:e.key})},d.editItem=function(e){var t=void 0,r=void 0,a=void 0,i=d.selectedButton;t="MAC"===i,r="Serial Number"===i,a="GCM ID"===i,t?n.editItem(d.macDevices[e]):r?n.editItem(d.serialDevices[e]):n.editItem(d.gcmidDevices[e])},d}r.$inject=["AdminService","SessionsService","DevicesService","$rootScope","ToastsService","$state","$mdDialog","TenantsService","DistributorsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdminCtrl=void 0;var a=t(653),i=n(a),o=t(662),s=n(o);exports.AdminCtrl=r},665:function(e,exports){"use strict";function t(e,t,n,r,a,i,o,s,c,u,l){"ngInject";var d=this;return d.onGooglePlusSignInSuccess=function(e,t){d.googlePlusSignInButtonClicked||s.start(),o.removeUserInfo();var n=o.login(t);return n.then(d.loginSuccess,d.loginFailure)},d.onGooglePlusSignInFailure=function(e,t){if(d.googlePlusSignInButtonClicked)return s.complete(),i.show("Oops...","Unable to authenticate to Google+.","error")},e.$on("event:google-plus-signin-success",d.onGooglePlusSignInSuccess),e.$on("event:google-plus-signin-failure",d.onGooglePlusSignInFailure),d.initializeSignIn=function(){return d.clientId=a.OAUTH_CLIENT_ID,d.state=a.STATE,d.googlePlusSignInButtonClicked=!1},d.initializeSignOut=function(){return o.removeUserInfo(),r(d.proceedToSignedOut,50)},d.loginSuccess=function(e){return s.complete(),n.go("distributor_selection")},d.loginFailure=function(){return s.complete(),i.show("Oops...","Unable to authenticate to Stormpath.","error")},d.proceedToSignedOut=function(){return n.go("signed_out")},d.proceedToSignIn=function(){return n.go("sign_in")},d.onClickGooglePlusSignIn=function(){return d.googlePlusSignInButtonClicked=!0,s.start()},d}t.$inject=["$scope","$log","$state","$timeout","identity","sweet","SessionsService","ProgressBarService","ProofPlayService","DevicesService","TenantsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthenticationCtrl=t},666:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,a){"ngInject";var o=this;return n.paulsCurrentDistributorName="Managing Organization",o.currentDistributerInDistributerAdminList=function(){var e=a.getCurrentDistributorName(),t=a.getDistributorsAsAdmin();return(0,i.default)(t,e)},o.getIdentity=function(){return{key:a.getUserKey(),email:a.getUserEmail(),admin:a.getIsAdmin(),distributor_admin:a.getDistributorsAsAdmin(),admin_of_current_distributor:o.currentDistributerInDistributerAdminList(),distributorKey:a.getCurrentDistributorKey(),distributorName:a.getCurrentDistributorName()}},o.isCurrentURLDistributorSelector=function(){var e=r.location.href.search(/distributor_selection/),t=e>=0;return t},o.initialize=function(){return o.getIdentity()},o.toggleSidenav=function(){return e("left").toggle()},o.goTo=function(n,r){if(t.go(n,{id:r}),e("left").isOpen())return e("left").close()},o.initialize(),o}r.$inject=["$mdSidenav","$state","$rootScope","$window","SessionsService"],
Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppController=void 0;var a=t(667),i=n(a);exports.AppController=r},689:function(e,exports){"use strict";function t(e,t,n,r){"ngInject";var a=this;return a.paulsCurrentDistributorName=t.paulsCurrentDistributorName,a.distributors=[],a.currentDistributor=void 0,a.loading=!0,a.initialize=function(){a.loeading=!0;var e=n.fetchAllByUser(r.getUserKey());return e.then(function(e){return a.distributors=e,1===a.distributors.length?a.selectDistributor(a.distributors[0]):a.loading=!1})},a.selectDistributor=function(e){return n.switchDistributor(e)},a}t.$inject=["$state","$rootScope","DistributorsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DistributorSelectorCtrl=t},690:function(e,exports){"use strict";function t(e){"ngInject";var t=this;return t.distributors=[],t}t.$inject=["$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DistributorsCtrl=t},691:function(e,exports){"use strict";function t(e,t,n){"ngInject";var r=this;return r.domains=[],r.initialize=function(){var e=t.fetchAllDomains();return e.then(function(e){return r.domains=e})},r.editItem=function(t){return e.go("editDomain",{domainKey:t.key})},r.deleteItem=function(e){var a=function(){var n=t.delete(e);return n.then(function(){return r.initialize()})};return n.show({title:"Are you sure?",text:"This will permanently remove the domain from the distributor and disconnect from tenants.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the domain!",closeOnConfirm:!0},a)},r}t.$inject=["$state","DomainsService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomainsCtrl=t},692:function(e,exports){"use strict";function t(e,t,n,r,a,i,o,s){"ngInject";var c=this;if(c.currentDomain={key:void 0,name:void 0,impersonation_admin_email_address:void 0,distributor_key:void 0,organization_unit_path:"/skykit",active:!0},c.devicesAccess=!1,c.orgUnitsAccess=!1,c.usersAccess=!1,c.currentDomains=[],c.editMode=!!t.domainKey,c.editMode){var u=n.getDomainByKey(t.domainKey);u.then(function(e){return c.currentDomain=e})}else c.currentDomain.distributor_key=s.getCurrentDistributorKey();return c.initialize=function(){if(c.editMode){i.start();var e=n.getDirectoryApiConnectivityInformation(t.domainKey);return e.then(c.onSuccessDeterminingConnectivity,c.onFailureDeterminingConnectivity)}},c.onSuccessDeterminingConnectivity=function(e){c.devicesAccess=e.devicesAccess,c.orgUnitsAccess=e.orgUnitsAccess,c.usersAccess=e.usersAccess,c.devicesAccessException=e.devicesAccessException,c.orgUnitsAccessException=e.orgUnitsAccessException,c.usersAccessException=e.usersAccessException,i.complete()},c.onFailureDeterminingConnectivity=function(t){return i.complete(),e.error("Failure determining directory API connectivity: "+t.status+" "+t.statusText),o.showErrorToast("Oops. We were unable determine your device connectivity at this time.")},c.onSaveDomain=function(){i.start();var e=n.save(c.currentDomain);return e.then(c.onSuccessSaveDomain,c.onFailureSaveDomain)},c.onSuccessSaveDomain=function(){return i.complete(),o.showSuccessToast("We saved your update.")},c.onFailureSaveDomain=function(t){return i.complete(),409===t.status?(e.info("Failure saving domain. Domain already exists: "+t.status+" "+t.statusText),a.show("Oops...","This domain name already exist. Please enter a unique domain name.","error")):(e.error("Failure saving domain: "+t.status+" "+t.statusText),o.showErrorToast("Oops. We were unable to save your updates at this time."))},c.editItem=function(e){return r.go("editDomain",{domainKey:e.key})},c}t.$inject=["$log","$stateParams","DomainsService","$state","sweet","ProgressBarService","ToastsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomainDetailsCtrl=t},693:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r){"ngInject";var i=this;return i.radioButtonChoices={group1:"By Device",group2:"Summarized",selection:null},i.dateTimeSelection={start:null,end:null},i.formValidity={start_date:!1,end_date:!1,locations:!1},i.tenant=t.tenant,i.no_cache=!0,i.loading=!0,i.disabled=!0,i.disabledTenant=!0,i.selected_locations=[],i.initialize=function(){return e.getAllLocations(i.tenant).then(function(e){return i.loading=!1,i.locations=e.data.locations,i.locations.length>0?i.had_some_items=!0:i.had_some_items=!1})},i.refreshLocations=function(){i.searchText="",i.selectedItem="",i.loading=!0,i.disabled=!0,i.selected_locations=[],i.initialize()},i.addToSelectedLocations=function(e){if(i.isLocationValid(e)){i.selected_locations.push(e);var t=i.locations.indexOf(e);i.locations.splice(t,1),i.searchText=""}return i.areLocationsValid(),i.isDisabled()},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isRadioValid=function(e){return i.formValidity.type=e,i.isDisabled()},i.isLocationValid=function(e){return!!a(e,i.locations)&&!a(e,i.selected_locations)},i.areLocationsValid=function(){return i.formValidity.locations=i.selected_locations.length>0,i.isDisabled()},i.isStartDateValid=function(e){return i.formValidity.start_date=e instanceof Date,i.isDisabled()},i.isEndDateValid=function(e){return i.formValidity.end_date=e instanceof Date,i.isDisabled()},i.removeFromSelectedLocation=function(e){var t=i.selected_locations.indexOf(e);return i.selected_locations.splice(t,1),i.locations.push(e),i.areLocationsValid(),i.isDisabled()},i.isDisabled=function(){return i.formValidity.start_date&&i.formValidity.end_date&&i.formValidity.locations&&i.formValidity.type?(i.disabled=!1,i.final={start_date_unix:(0,o.default)(i.dateTimeSelection.start).unix(),end_date_unix:(0,o.default)(i.dateTimeSelection.end).unix(),locations:i.selected_locations,type:i.radioButtonChoices.selection}):i.disabled=!0},i.submit=function(){return"1"===i.final.type?e.downloadCSVForMultipleLocationsByDevice(i.final.start_date_unix,i.final.end_date_unix,i.final.locations,i.tenant):e.downloadCSVForMultipleLocationsSummarized(i.final.start_date_unix,i.final.end_date_unix,i.final.locations,i.tenant)},i.tenants=null,i.currentTenant=i.tenant,i.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return i.tenants=e.data.tenants})},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isSelectionValid=function(e){return a(e,i.tenants)?i.disabledTenant=!1:i.disabledTenant=!0},i.submitTenant=function(e){return e!==i.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},i}function a(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiLocationCtrl=void 0;var i=t(491),o=n(i);exports.ProofOfPlayMultiLocationCtrl=r},694:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r){"ngInject";var i=this;return i.radioButtonChoices={group1:"By Date",group2:"Summarized",selection:null},i.dateTimeSelection={start:null,end:null},i.formValidity={start_date:!1,end_date:!1,displays:!1},i.tenant=t.tenant,i.no_cache=!0,i.loading=!0,i.disabled=!0,i.disabledTenant=!0,i.selected_displays=[],i.initialize=function(){return e.getAllDisplays(i.tenant).then(function(e){return i.loading=!1,i.displays=e.data.devices,i.displays.length>0?i.had_some_items=!0:i.had_some_items=!1})},i.refreshDisplays=function(){i.searchText="",i.selectedItem="",i.loading=!0,i.disabled=!0,i.selected_displays=[],i.initialize()},i.addToSelectedDisplays=function(e){if(i.isDisplayValid(e)){i.selected_displays.push(e);var t=i.displays.indexOf(e);i.displays.splice(t,1),i.searchText=""}return i.areDisplaysValid(),i.isDisabled()},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isRadioValid=function(e){return i.formValidity.type=e,i.isDisabled()},i.isDisplayValid=function(e){return!!a(e,i.displays)&&!a(e,i.selected_displays)},i.areDisplaysValid=function(){return i.formValidity.displays=i.selected_displays.length>0,i.isDisabled()},i.isStartDateValid=function(e){return i.formValidity.start_date=e instanceof Date,i.isDisabled()},i.isEndDateValid=function(e){return i.formValidity.end_date=e instanceof Date,i.isDisabled()},i.removeFromSelectedDisplay=function(e){var t=i.selected_displays.indexOf(e);return i.selected_displays.splice(t,1),i.displays.push(e),i.areDisplaysValid(),i.isDisabled()},i.isDisabled=function(){return i.formValidity.start_date&&i.formValidity.end_date&&i.formValidity.displays&&i.formValidity.type?(i.disabled=!1,i.final={start_date_unix:(0,o.default)(i.dateTimeSelection.start).unix(),end_date_unix:(0,o.default)(i.dateTimeSelection.end).unix(),displays:i.selected_displays,type:i.radioButtonChoices.selection}):i.disabled=!0},i.submit=function(){return"1"===i.final.type?e.downloadCSVForMultipleDevicesByDate(i.final.start_date_unix,i.final.end_date_unix,i.final.displays,i.tenant):e.downloadCSVForMultipleDevicesSummarized(i.final.start_date_unix,i.final.end_date_unix,i.final.displays,i.tenant)},i.tenants=null,i.currentTenant=i.tenant,i.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return i.tenants=e.data.tenants})},i.submitTenant=function(e){return e!==i.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isSelectionValid=function(e){return a(e,i.tenants)?i.disabledTenant=!1:i.disabledTenant=!0},i}function a(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiDisplayCtrl=void 0;var i=t(491),o=n(i);exports.ProofOfPlayMultiDisplayCtrl=r},695:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r){"ngInject";var i=this;return i.radioButtonChoices={group1:"By Device",group2:"By Date",selection:null},i.dateTimeSelection={start:null,end:null},i.formValidity={start_date:!1,end_date:!1,resources:!1},i.tenant=t.tenant,i.no_cache=!0,i.loading=!0,i.disabled=!0,i.disabledTenant=!0,i.selected_resources=[],i.initialize=function(){return e.getAllResources(i.tenant).then(function(e){i.loading=!1,i.full_resource_map=e.data.resources,i.resources=[];for(var t=0;t<e.data.resources.length;t++){var n=e.data.resources[t];i.resources.push(n.resource_name)}return i.resources.length>0?i.had_some_items=!0:i.had_some_items=!1})},i.refreshResources=function(){i.searchText="",i.selectedItem="",i.loading=!0,i.disabled=!0,i.selected_resources=[],i.initialize()},i.addToSelectedResources=function(e){if(i.isResourceValid(e)){i.selected_resources.push(e);var t=i.resources.indexOf(e);i.resources.splice(t,1),i.searchText=""}return i.areResourcesValid(),i.isDisabled()},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isRadioValid=function(e){return i.formValidity.type=e,i.isDisabled()},i.isResourceValid=function(e){return!!a(e,i.resources)&&!a(e,i.selected_resources)},i.areResourcesValid=function(){return i.formValidity.resources=i.selected_resources.length>0,i.isDisabled()},i.isStartDateValid=function(e){return i.formValidity.start_date=e instanceof Date,i.isDisabled()},i.isEndDateValid=function(e){return i.formValidity.end_date=e instanceof Date,i.isDisabled()},i.removeFromSelectedResource=function(e){var t=i.selected_resources.indexOf(e);return i.selected_resources.splice(t,1),i.resources.push(e),i.areResourcesValid(),i.isDisabled()},i.isDisabled=function(){return i.formValidity.start_date&&i.formValidity.end_date&&i.formValidity.resources&&i.formValidity.type?(i.disabled=!1,i.final={start_date_unix:(0,o.default)(i.dateTimeSelection.start).unix(),end_date_unix:(0,o.default)(i.dateTimeSelection.end).unix(),resources:i.selected_resources,type:i.radioButtonChoices.selection}):i.disabled=!0},i.submit=function(){for(var t=[],n=0;n<i.final.resources.length;n++)for(var r=i.final.resources[n],a=0;a<i.full_resource_map.length;a++){var o=i.full_resource_map[a];o.resource_name===r&&t.push(o.resource_identifier)}return"1"===i.final.type?e.downloadCSVForMultipleResourcesByDevice(i.final.start_date_unix,i.final.end_date_unix,t,i.tenant):e.downloadCSVForMultipleResourcesByDate(i.final.start_date_unix,i.final.end_date_unix,t,i.tenant)},i.tenants=null,i.currentTenant=i.tenant,i.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return i.tenants=e.data.tenants})},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isSelectionValid=function(e){return a(e,i.tenants)?i.disabledTenant=!1:i.disabledTenant=!0},i.submitTenant=function(e){return e!==i.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},i}function a(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiResourceCtrl=void 0;var i=t(491),o=n(i);exports.ProofOfPlayMultiResourceCtrl=r},696:function(e,exports){"use strict";function t(e,t,r,a){"ngInject";var i=this;return i.resource={title:"Resource Report"},i.location={title:"Location Report"},i.display={title:"Display Report"},i.chosen_tenant=null,i.tenants=null,i.disabled=!0,i.initialize=function(){return e.getAllTenants().then(function(e){return i.tenants=e.data.tenants})},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isSelectionValid=function(e){return n(e,i.tenants)?i.disabled=!1:i.disabled=!0},i.submitTenant=function(e){if(e)return i.chosen_tenant=e,r.go("proofDetail",{tenant:i.chosen_tenant})},i.refreshTenants=function(){i.tenants=null;e.makeHTTPURL("/retrieve_my_tenants","");i.initialize()},i}function n(e,t){return t.indexOf(e)>=0}t.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayCtrl=t},697:function(e,exports,t){(function($){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(698),r=e(n),a=t(699),i=e(a),o=function(){function e(t,n){"ngInject";(0,r.default)(this,e),this.Restangular=t,this.SessionsService=n}return e.$inject=["Restangular","SessionsService"],(0,i.default)(e,[{key:"getImages",value:function(e){return this.Restangular.oneUrl("image","/internal/v1/image/tenant/"+e).getList()}},{key:"saveImage",value:function(e,t){return $.ajax({type:"POST",url:"/internal/v1/image/tenant/"+e,data:t,processData:!1,contentType:!1})}},{key:"deleteImage",value:function(e){var t=this.Restangular.oneUrl("image","/internal/v1/image/"+e).remove();return t}}]),e}();exports.default=o}).call(exports,t(406))},703:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t){"ngInject";(0,a.default)(this,e),this.Restangular=t,this.USER_SERVICE="users",this.DISTRIBUTOR_SERVICE="distributors"}return e.$inject=["Restangular"],(0,o.default)(e,[{key:"makeDistributor",value:function(e,t){var n={distributor:e,admin_email:t},r=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/internal/v1/distributors").customPOST(n);return r}},{key:"addUserToDistributor",value:function(e,t,n){var r={user_email:e,distributor:t,distributor_admin:n},a=this.Restangular.oneUrl(this.USER_SERVICE,"/internal/v1/users").customPOST(r);return a}},{key:"getUsersOfDistributor",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/internal/v1/analytics/distributors/"+e+"/users").get();return t}},{key:"getAllDistributors",value:function(){var e=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/internal/v1/distributors").get();return e}}]),e}();exports.default=s},704:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t,n,r){"ngInject";(0,a.default)(this,e),this.$q=n,this.$window=r,this.SessionsService=t}return e.$inject=["SessionsService","$q","$window"],(0,o.default)(e,[{key:"authenticated",value:function(){var e=this.$q.defer(),t=this.SessionsService.getUserKey(),n=this.SessionsService.getJWT();return t?t&&n?e.resolve(!0):(this.SessionsService.removeUserInfo(),this.$window.location.href="#/redirect"):e.reject(["authError","sign_in"]),e.promise}},{key:"notAuthenticated",value:function(){var e=this.$q.defer(),t=this.SessionsService.getUserKey();return t?e.reject(["authError","home"]):e.resolve(!0),e.promise}},{key:"isAdminOrDistributorAdmin",value:function(){var e=this.$q.defer(),t=this.SessionsService.getIsAdmin(),n=this.SessionsService.getDistributorsAsAdmin(),r=!1;n&&n.length>0&&(r=!0);var a=this.SessionsService.getUserKey(),i=this.SessionsService.getJWT();return a&&(i||(this.SessionsService.removeUserInfo(),this.$window.location.href="#/redirect")),a?t||r?e.resolve(!0):e.reject(["authError","home"]):e.reject("sign_in"),e.promise}}]),e}();exports.default=s},705:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t){"ngInject";(0,a.default)(this,e),this.Restangular=t,this.SERVICE_NAME="devices"}return e.$inject=["Restangular"],(0,o.default)(e,[{key:"panelSleep",value:function(e,t){var n={panelSleep:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"internal/v1/devices/"+e+"/panel-sleep").customPUT(n);return r}},{key:"reset",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"internal/v1/devices/"+e+"/commands/reset").post();return t}},{key:"contentDelete",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"internal/v1/devices/"+e+"/commands/content-delete").post();return t}},{key:"contentUpdate",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"internal/v1/devices/"+e+"/commands/content-update").post();return t}},{key:"updateDevice",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"internal/v1/devices/"+e+"/commands/refresh-device-representation").post();return t}},{key:"toggleDiagnostics",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"internal/v1/devices/"+e+"/commands/diagnostics").post();return t}},{key:"restart",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"internal/v1/devices/"+e+"/commands/restart").post();return t}},{key:"postLog",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"internal/v1/devices/"+e+"/commands/post-log").post();return t}},{key:"powerOn",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"internal/v1/devices/"+e+"/commands/power-on").post();return t}},{key:"powerOff",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"internal/v1/devices/"+e+"/commands/power-off").post();return t}},{key:"volume",value:function(e,t){var n={volume:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"internal/v1/devices/"+e).customPOST(n,"commands/volume");return r}},{key:"custom",value:function(e,t){var n={command:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"internal/v1/devices/"+e).customPOST(n,"commands/custom");return r}}]),e}();exports.default=s},706:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=t(491),c=n(s),u=function(){function e(){(0,a.default)(this,e)}return(0,o.default)(e,[{key:"convertToMomentIfNotAlready",value:function(e){return c.default.isMoment(e)?e:(0,c.default)(new Date(e))}},{key:"createFormattedStartAndEndDateFromToday",value:function(e){var t=(0,c.default)().format("YYYY-MM-DD"),n=(0,c.default)(t,"YYYY-MM-DD").format("YYYY-MM-DD hh:mm A"),r=(0,c.default)(n,"YYYY-MM-DD hh:mm A").add(1,"day").subtract(60,"seconds").format("YYYY-MM-DD hh:mm A"),a=(0,c.default)().subtract(e,"days").format("YYYY-MM-DD"),i=(0,c.default)(a,"YYYY-MM-DD").format("YYYY-MM-DD hh:mm A");return[i,r]}},{key:"generateLocalFromUTC",value:function(e){var t=c.default.utc(e).toDate();return(0,c.default)(t).format("YYYY-MM-DD hh:mm:ss A")}}]),e}();exports.default=u},707:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i);t(608);var s=function(){function e(t,n,r,i,o){"ngInject";(0,a.default)(this,e),this.$log=t,this.Restangular=n,this.$q=r,this.$http=i,this.$state=o,this.SERVICE_NAME="devices",this.uriBase="v1/devices"}return e.$inject=["$log","Restangular","$q","$http","$state"],(0,o.default)(e,[{key:"adjustControlsMode",value:function(e,t){var n={controlsMode:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"/internal/v1/devices/"+e+"/controls-mode").customPUT(n);return r}},{key:"getDeviceByMacAddress",value:function(e){var t="internal/v1/devices?mac_address="+e;return this.Restangular.oneUrl("internal/v1/devices",t).get()}},{key:"getDeviceByKey",value:function(e){var t="internal/v1/devices/"+e,n=this.Restangular.oneUrl(this.SERVICE_NAME,t).get();return n}},{key:"retriveFilteredDictionaryValue",value:function(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r];n.push(a[t])}return n}},{key:"executeSearchingPartialSerialByTenant",value:function(e,t,n){var r=this;return this.searchDevicesByPartialSerialByTenant(e,t,n).then(function(e){var t=e.matches,n=!1,a=!1,i=r.convertDevicesArrayToDictionaryObj(t,n,a),o=r.retriveFilteredDictionaryValue(t,"serial");return[o,i]})}},{key:"executeSearchingPartialSerialByDistributor",value:function(e,t,n){var r=this;return this.searchDevicesByPartialSerial(e,t,n).then(function(e){var t=e.matches,n=!1,a=!1,i=r.convertDevicesArrayToDictionaryObj(t,n,a),o=r.retriveFilteredDictionaryValue(t,"serial");return[o,i]})}},{key:"executeSearchingPartialSerialGlobally",value:function(e,t){var n=this;return this.searchDevicesByPartialSerialGlobally(e,t).then(function(e){var t=e.matches,r=!1,a=!1,i=n.convertDevicesArrayToDictionaryObj(t,r,a),o=n.retriveFilteredDictionaryValue(t,"serial");return[o,i]})}},{key:"executeSearchingPartialMacByTenant",value:function(e,t,n){var r=this;return this.searchDevicesByPartialMacByTenant(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!0),a=r.retriveFilteredDictionaryValue(t,"mac");return[a,n]})}},{key:"executeSearchingPartialMacByDistributor",value:function(e,t,n){var r=this;return this.searchDevicesByPartialMac(e,t,n).then(function(e){var t=e.matches,n=!0,a=!1,i=r.convertDevicesArrayToDictionaryObj(t,n,a),o=r.retriveFilteredDictionaryValue(t,"mac");return[o,i]})}},{key:"executeSearchingPartialMacGlobally",value:function(e,t){var n=this;return this.searchDevicesByPartialMacGlobally(e,t).then(function(e){var t=e.matches,r=!0,a=!1,i=n.convertDevicesArrayToDictionaryObj(t,r,a),o=n.retriveFilteredDictionaryValue(t,"mac");return[o,i]})}},{key:"executeSearchingPartialGCMidByTenant",value:function(e,t,n){var r=this;return this.searchDistributorDevicesByPartialGCMidByTenant(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!1,!0),a=r.retriveFilteredDictionaryValue(t,"gcmid");return[a,n]})}},{key:"executeSearchingPartialGCMidByDistributor",value:function(e,t,n){var r=this;return this.searchDistributorDevicesByPartialGCMid(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!1,!0),a=r.retriveFilteredDictionaryValue(t,"gcmid");return[a,n]})}},{key:"executeSearchingPartialGCMidGlobally",value:function(e,t){var n=this;return this.searchDistributorDevicesByPartialGCMidGlobally(e,t).then(function(e){var t=e.matches,r=n.convertDevicesArrayToDictionaryObj(t,!1,!0),a=n.retriveFilteredDictionaryValue(t,"gcmid");return[a,r]})}},{key:"rejectedPromise",value:function(){var e=this.$q.defer();return e.reject(),e.promise}},{key:"searchDevices",value:function(e,t,n,r,a,i,o){var s=this.$q.defer(),c=void 0;return c=e&&e.length>2?"Serial Number"===t?o?this.executeSearchingPartialSerialGlobally(e,i):n?this.executeSearchingPartialSerialByTenant(r,e,i):this.executeSearchingPartialSerialByDistributor(a,e,i):"MAC"===t?o?this.executeSearchingPartialMacGlobally(e,i):n?this.executeSearchingPartialMacByTenant(r,e,i):this.executeSearchingPartialMacByDistributor(a,e,i):o?this.executeSearchingPartialGCMidGlobally(e,i):n?this.executeSearchingPartialGCMidByTenant(r,e,i):this.executeSearchingPartialGCMidByDistributor(a,e,i):this.rejectedPromise(),c.then(function(e){s.resolve({success:!0,devices:e})}),c.catch(function(e){s.resolve({success:!1,devices:[]})}),s.promise}},{key:"convertDevicesArrayToDictionaryObj",value:function(e,t,n){for(var r={},a=0;a<e.length;a++){var i=e[a];t?r[i.mac]=i:n?r[i.gcmid]=i:r[i.serial]=i}return r}},{key:"editItem",value:function(e,t){t||(t=!1),this.$state.go("editDevice",{deviceKey:e.key,tenantKey:e.tenantKey,fromDevices:t})}},{key:"preprateForEditView",value:function(e,t,n,r,a,i){var o=void 0,s=void 0,c=void 0;return o="MAC"===e,s="Serial Number"===e,c="GCM ID"===e,o?this.editItem(r[n]):s?this.editItem(a[n]):this.editItem(i[n])}},{key:"getIssuesByKey",value:function(e,t,n,r,a){r=void 0===r?null:r,a=void 0===a?null:a;var i="/internal/v1/devices/"+r+"/"+a+"/"+e+"/issues?start="+t+"&end="+n,o=this.Restangular.oneUrl(this.SERVICE_NAME,i).get();return o}},{key:"getCommandEventsByKey",value:function(e,t,n){t=void 0===t?null:t,n=void 0===n?null:n;var r="/internal/v1/player-command-events/"+t+"/"+n+"/"+e,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}},{key:"getDevicesByTenant",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByTenantURL(e,t,n,!1);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getUnmanagedDevicesByTenant",value:function(e,t,n){if(void 0!==e){var r=(this.$q.defer(),this.makeDevicesByTenantURL(e,t,n,!0));return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"searchDevicesByPartialSerialByTenant",value:function(e,t,n){if(void 0!==e){var r="/internal/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_serial="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDevicesByPartialMacByTenant",value:function(e,t,n){if(void 0!==e){var r="/internal/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_mac="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDistributorDevicesByPartialGCMidByTenant",value:function(e,t,n){if(void 0!==e){var r="/internal/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_gcmid="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDevicesByPartialSerial",value:function(e,t,n){if(void 0!==e){var r="/internal/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_serial="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDevicesByPartialMac",value:function(e,t,n){if(void 0!==e){var r="/internal/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_mac="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDistributorDevicesByPartialGCMid",value:function(e,t,n){if(void 0!==e){var r="/internal/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_gcmid="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDevicesByPartialSerialGlobally",value:function(e,t){var n="/internal/v1/devices/analytics/search-global?unmanaged="+t+"&partial_serial="+e,r=this.Restangular.oneUrl("devices",n).get();return r}},{key:"searchDevicesByPartialMacGlobally",value:function(e,t){var n="/internal/v1/devices/analytics/search-global?unmanaged="+t+"&partial_mac="+e,r=this.Restangular.oneUrl("devices",n).get();return r}},{key:"searchDistributorDevicesByPartialGCMidGlobally",value:function(e,t){var n="/internal/v1/devices/analytics/search-global?unmanaged="+t+"&partial_gcmid="+e,r=this.Restangular.oneUrl("devices",n).get();return r}},{key:"getDevicesByDistributor",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByDistributorURL(e,t,n,!1);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getUnmanagedDevicesByDistributor",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByDistributorURL(e,t,n,!0);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getDevices",value:function(){var e=this.Restangular.all(this.SERVICE_NAME).getList();return e}},{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("devices").post(e);return t}},{key:"saveOverlaySettings",value:function(e,t,n,r,a){var i={bottom_left:t,bottom_right:n,top_right:r,top_left:a};return this.Restangular.oneUrl("overlay","/internal/v1/overlay/device/"+e).customPOST(i)}},{key:"delete",value:function(e){var t=this.Restangular.one(this.SERVICE_NAME,e).remove();return t}},{key:"getPanelModels",value:function(){return[{id:"None",displayName:"None"},{id:"Sony-FXD40LX2F",displayName:"Sony FXD40LX2F"},{id:"NEC-LCD4215",displayName:"NEC LCD4215"},{id:"Phillips-BDL5560EL",displayName:"Phillips BDL5560EL"},{id:"Panasonic-TH55LF6U",displayName:"Panasonic TH55LF6U"},{id:"LG-43SM5B-B",displayName:"LG 43SM5B-B"},{id:"Sharp-PNE521",displayName:"Sharp PNE521"}]}},{key:"getPanelInputs",value:function(){return[{id:"None",parentId:"None"},{id:"HDMI1",parentId:"LG-43SM5B-B"},{id:"HDMI1",parentId:"Sony-FXD40LX2F"},{id:"HDMI2",parentId:"Sony-FXD40LX2F"},{id:"HDMI1",parentId:"Phillips-BDL5560EL"},{id:"HDMI2",parentId:"Phillips-BDL5560EL"},{id:"DVI",parentId:"Phillips-BDL5560EL"},{id:"HDMI1",parentId:"Panasonic-TH55LF6U"},{id:"HDMI2",parentId:"Panasonic-TH55LF6U"},{id:"DVI",parentId:"Panasonic-TH55LF6U"},{id:"HDMI1",parentId:"Sharp-PNE521"},{id:"HDMI2",parentId:"Sharp-PNE521"},{id:"DVI",parentId:"Sharp-PNE521"},{id:"VGA",parentId:"NEC-LCD4215"},{id:"DVI1",parentId:"NEC-LCD4215"}]}},{key:"makeDevicesByDistributorURL",value:function(e,t,n,r){var a="/internal/v1/distributors/"+e+"/devices?unmanaged="+r+"&next_cursor="+n+"&prev_cursor="+t;return a}},{key:"makeDevicesByTenantURL",value:function(e,t,n,r){var a="/internal/v1/tenants/"+e+"/devices?unmanaged="+r+"&next_cursor="+n+"&prev_cursor="+t;return a}}]),e}();exports.default=s},708:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t,n,r){"ngInject";(0,a.default)(this,e),this.Restangular=t,this.$state=n,this.SessionsService=r,this.DISTRIBUTOR_SERVICE="distributors"}return e.$inject=["Restangular","$state","SessionsService"],(0,o.default)(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service(this.DISTRIBUTOR_SERVICE).post(e);return t}},{key:"fetchAll",value:function(){var e=this.Restangular.all(this.DISTRIBUTOR_SERVICE).getList();return e}},{key:"fetchAllByUser",value:function(e){if(e){var t=this.Restangular.one("users",e).doGET(this.DISTRIBUTOR_SERVICE);return t}}},{key:"getByKey",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"internal/v1/distributors/"+e).get();return t}},{key:"delete",value:function(e){if(e.key){var t=this.Restangular.one(this.DISTRIBUTOR_SERVICE,e.key).remove();return t}}},{key:"getByName",value:function(e){var t=this.Restangular.all(this.DISTRIBUTOR_SERVICE).getList({distributorName:e});return t}},{key:"getDomainsByKey",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"internal/v1/distributors/"+e+"/domains").get();return t}},{key:"switchDistributor",value:function(e){return this.SessionsService.setCurrentDistributorName(e.name),this.SessionsService.setCurrentDistributorKey(e.key),this.$state.go("welcome")}}]),
e}();exports.default=s},709:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t){"ngInject";(0,a.default)(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o.default)(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("domains").post(e);return t}},{key:"fetchAllDomains",value:function(){var e=this.Restangular.all("domains").getList();return e}},{key:"getDomainByKey",value:function(e){var t=this.Restangular.one("domains",e).get();return t}},{key:"getDirectoryApiConnectivityInformation",value:function(e){var t=this.Restangular.oneUrl("domains","/internal/v1/domains/"+e+"/directory_api").get();return t}},{key:"delete",value:function(e){if(void 0!==e.key){var t=this.Restangular.one("domains",e.key).remove();return t}}}]),e}();exports.default=s},710:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t){"ngInject";(0,a.default)(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o.default)(e,[{key:"getIdentity",value:function(){return this.Restangular.oneUrl("identity").get()}}]),e}();exports.default=s},711:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t){"ngInject";(0,a.default)(this,e),this.Restangular=t,this.CREATE_TENANT_EVENTS="integration_events/tenant_create",this.ENROLLMENT_EVENTS="integration_events/enrollment"}return e.$inject=["Restangular"],(0,o.default)(e,[{key:"getTenantCreateEvents",value:function(e){var t={tenantKey:e};return this.Restangular.all(this.CREATE_TENANT_EVENTS).customGET("",t)}},{key:"getEnrollmentEvents",value:function(e){var t={deviceKey:e};return this.Restangular.all(this.ENROLLMENT_EVENTS).customGET("",t)}}]),e}();exports.default=s},712:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t){"ngInject";(0,a.default)(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o.default)(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("locations").post(e);return t}},{key:"searchAllTenantLocationsByName",value:function(e,t){var n=this.Restangular.all("tenants").customGETLIST(e+"/locations",{customer_location_name:t});return n}},{key:"getLocationsByTenantKey",value:function(e){var t=this.Restangular.oneUrl("tenants","internal/v1/tenants/"+e+"/locations").get();return t}},{key:"getLocationsByTenantKeyPaginated",value:function(e,t,n){t=void 0===t?null:t,n=void 0===n?null:n;var r=this.Restangular.oneUrl("tenants","internal/v1/tenants/"+e+"/"+t+"/"+n+"/locations").get();return r}},{key:"getLocationByKey",value:function(e){var t=this.Restangular.oneUrl("locations","internal/v1/locations/"+e).get();return t}}]),e}();exports.default=s},713:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t){"ngInject";(0,a.default)(this,e),this.ngProgressFactory=t,this.progressBar=this.ngProgressFactory.createInstance()}return e.$inject=["ngProgressFactory"],(0,o.default)(e,[{key:"start",value:function(){return this.progressBar.setColor("#00FCFF"),this.progressBar.setHeight("4px"),this.progressBar.start()}},{key:"complete",value:function(){return this.progressBar.complete()}}]),e}();exports.default=s},714:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t,n,r,i,o,s,c){"ngInject";(0,a.default)(this,e),this.$http=t,this.$q=n,this.$window=r,this.SessionsService=i,this.$stateParams=o,this.$state=s,this.ToastsService=c,this.makeHTTPRequest=this.makeHTTPRequest.bind(this),this.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),"http://localhost:3000"===this.origin&&(this.origin="http://localhost:8080"),this.uriBase="proofplay/api/v1"}return e.$inject=["$http","$q","$window","SessionsService","$stateParams","$state","ToastsService"],(0,o.default)(e,[{key:"makeHTTPURL",value:function(e,t){return this.uriBase+e+t}},{key:"makeHTTPRequest",value:function(e,t){var n=(this.$q.defer(),this.makeHTTPURL(e,t));return this.$http.get(n)}},{key:"getAllResources",value:function(e){var t=this.makeHTTPRequest("/retrieve_all_resources/",e);return t.catch(function(e,t){var n=e.status;if(403===n&&(this.ToastsService.showErrorToast("You are not allowed to view this tenant!"),this.$state.go("proof",{})),404===n)return this.ToastsService.showErrorToast("You must select a tenant first!"),this.$state.go("proof",{})}),t.then(function(e){return e})}},{key:"getAllDisplays",value:function(e){return this.makeHTTPRequest("/retrieve_all_displays/",e)}},{key:"getAllLocations",value:function(e){return this.makeHTTPRequest("/retrieve_all_locations/",e)}},{key:"getAllTenants",value:function(){return this.makeHTTPRequest("/retrieve_my_tenants","")}},{key:"downloadCSVForMultipleResourcesByDate",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.origin+"/"+this.uriBase+"/multi_resource_by_date/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleResourcesByDevice",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.origin+"/"+this.uriBase+"/multi_resource_by_device/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleDevicesSummarized",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.origin+"/"+this.uriBase+"/multi_device_summarized/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleDevicesByDate",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.origin+"/"+this.uriBase+"/multi_device_by_date/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleLocationsByDevice",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.origin+"/"+this.uriBase+"/multi_location_by_device/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleLocationsSummarized",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.origin+"/"+this.uriBase+"/multi_location_summarized/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"createFilterFor",value:function(e){return e=angular.lowercase(e),function(t){return t=angular.lowercase(t),0===t.indexOf(e)}}},{key:"querySearch",value:function(e,t){return t?e.filter(this.createFilterFor(t)):e}}]),e}();exports.default=s},715:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=t(716),c=n(s),u=function(){function e(t,n,r,i,o,s,c){"ngInject";(0,a.default)(this,e),this.$http=t,this.$log=n,this.StorageService=r,this.IdentityService=i,this.Restangular=o,this.$q=s,this.uriBase="v1/sessions"}return e.$inject=["$http","$log","StorageService","IdentityService","Restangular","$q","sweet"],(0,o.default)(e,[{key:"setJWT",value:function(e){return this.StorageService.set("JWT",e)}},{key:"setDistributors",value:function(e){return this.StorageService.set("distributors",e)}},{key:"setDistributorsAsAdmin",value:function(e){return this.StorageService.set("distributorsAsAdmin",e)}},{key:"setIsAdmin",value:function(e){return this.StorageService.set("isAdmin",e)}},{key:"setUserKey",value:function(e){return this.StorageService.set("userKey",e)}},{key:"setUserEmail",value:function(e){return this.StorageService.set("userEmail",e)}},{key:"setCurrentDistributorKey",value:function(e){return this.StorageService.set("currentDistributorKey",e)}},{key:"setCurrentDistributorName",value:function(e){return this.StorageService.set("currentDistributorName",e)}},{key:"getUserKey",value:function(){return this.StorageService.get("userKey")}},{key:"getUserEmail",value:function(){return this.StorageService.get("userEmail")}},{key:"getDistributors",value:function(){return this.StorageService.get("distributors")}},{key:"getCurrentDistributorName",value:function(){return this.StorageService.get("currentDistributorName")}},{key:"getCurrentDistributorKey",value:function(){return this.StorageService.get("currentDistributorKey")}},{key:"getDistributorsAsAdmin",value:function(){return this.StorageService.get("distributorsAsAdmin")}},{key:"getIsAdmin",value:function(){return this.StorageService.get("isAdmin")}},{key:"getJWT",value:function(){return this.StorageService.get("JWT")}},{key:"login",value:function(e){var t=this;this.StorageService.set("oAuth",e.id_token);var n=this.$http({url:"/internal/v1/login",method:"GET"});return n.then(function(e){var n=(0,c.default)(e.data.token);t.setJWT(e.data.token),t.setDistributors(n.distributors),t.setDistributorsAsAdmin(n.distributors_as_admin),t.setIsAdmin(n.is_admin),t.setUserEmail(n.email),t.setUserKey(n.key)})}},{key:"removeUserInfo",value:function(){this.StorageService.removeAll()}}]),e}();exports.default=u},719:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=t(720),c=n(s),u=function(){function e(){(0,a.default)(this,e)}return(0,o.default)(e,[{key:"set",value:function(e,t){return c.default.set(e,t)}},{key:"get",value:function(e){return c.default.get(e)}},{key:"rm",value:function(e){return c.default.rm(e)}},{key:"removeAll",value:function(){c.default.flush()}}]),e}();exports.default=u},721:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t,n){"ngInject";(0,a.default)(this,e),this.Restangular=t,this.SessionsService=n}return e.$inject=["Restangular","SessionsService"],(0,o.default)(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("tenants").post(e);return t}},{key:"saveOverlaySettings",value:function(e,t,n,r,a){var i={bottom_left:t,bottom_right:n,top_right:r,top_left:a};return this.Restangular.oneUrl("overlay","/internal/v1/overlay/tenant/"+e).customPOST(i)}},{key:"overlayApplyTenant",value:function(e){return this.Restangular.oneUrl("overlay","/internal/v1/overlay/tenant/"+e+"/apply").post()}},{key:"searchAllTenantsByName",value:function(e,t){var n=this.Restangular.all("tenants").customGETLIST("",{tenant_name:e,allDistributors:t});return n}},{key:"fetchAllTenants",value:function(){var e=this.Restangular.all("tenants").getList();return e}},{key:"fetchAllTenantsPaginated",value:function(e,t){var n="internal/v1/tenants/paginated/"+e+"/"+t,r=this.Restangular.oneUrl("tenants",n).get();return r}},{key:"getTenantByKey",value:function(e){var t="internal/v1/tenants/"+e,n=this.Restangular.oneUrl("tenants",t).get();return n}},{key:"delete",value:function(e){if(void 0!==e.key){var t=this.Restangular.one("tenants",e.key).remove();return t}}}]),e}();exports.default=s},722:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t){"ngInject";(0,a.default)(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o.default)(e,[{key:"getUsTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","internal/v1/timezones/us").get();return e}},{key:"getAllTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","internal/v1/timezones/all").get();return e}},{key:"getCustomTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","internal/v1/timezones/custom").get();return e}}]),e}();exports.default=s},723:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t){"ngInject";(0,a.default)(this,e),this.toastr=t}return e.$inject=["toastr"],(0,o.default)(e,[{key:"showSuccessToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success!";return this.toastr.success(e,t)}},{key:"showErrorToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error!";return this.toastr.error(e,t)}},{key:"showInfoToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Information";return this.toastr.info(e,t)}}]),e}();exports.default=s},724:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(698),a=n(r),i=t(699),o=n(i),s=function(){function e(t){"ngInject";(0,a.default)(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o.default)(e,[{key:"getVersions",value:function(){var e=this.Restangular.oneUrl("versions").get();return e}}]),e}();exports.default=s},725:function(e,exports){"use strict";function t(e,t,n,r,a,i,o){"ngInject";var s=this;i.tabIndex=5,s.tenantKey=e.tenantKey;var c=t.getTenantByKey(s.tenantKey);return c.then(function(e){s.currentTenant=e}),s.localFromUtc=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.utcTimestamp&&(n.utcTimestamp=o.generateLocalFromUTC(n.utcTimestamp))}},s.getTenantCreateEvents=function(){r.start();var e=a.getTenantCreateEvents(s.tenantKey);e.then(function(e){s.tenantCreateEvents=e,s.localFromUtc(e),r.complete()})},s.initialize=function(){s.getTenantCreateEvents()},i.$watch("tabIndex",function(t,r){if(void 0!==t)switch(t){case 0:return n.go("tenantDetails",{tenantKey:e.tenantKey});case 1:return n.go("tenantManagedDevices",{tenantKey:e.tenantKey});case 2:return n.go("tenantUnmanagedDevices",{tenantKey:e.tenantKey});case 3:return n.go("tenantLocations",{tenantKey:e.tenantKey});case 4:return n.go("tenantOverlays",{tenantKey:e.tenantKey});case 5:return n.go("tenantLogs",{tenantKey:e.tenantKey})}}),s}t.$inject=["$stateParams","TenantsService","$state","ProgressBarService","IntegrationEvents","$scope","DateManipulationService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantLogsCtrl=t},726:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,a,o,c,u,l){"ngInject";var d=this;o.tabIndex=4,d.tenantKey=e.tenantKey,d.editMode=!!e.tenantKey;var v=t.getTenantByKey(d.tenantKey);return v.then(function(e){d.currentTenant=e}),d.overlayChanged=!1,d.adjustOverlayStatus=function(n){d.currentTenant.overlayStatus=n,r.start(),d.loadingOverlays=!0;var i=t.save(d.currentTenant);return i.then(function(){r.complete();var n=t.getTenantByKey(e.tenantKey);n.then(function(e){d.loadingOverlays=!1,d.onSuccessResolvingTenant(e)})}),i.catch(function(e){r.complete(),a.showErrorToast("Something went wrong"),console.log(e)}),i},d.updateOverlays=function(){d.loadingOverlays=!0;var e=d.getTenant();return e.then(function(e){d.overlayChanged=!1,d.currentTenant.overlays=e.overlays,d.currentTenantCopy.overlays=angular.copy(d.currentTenant.overlays),d.loadingOverlays=!1}),e},d.submitOverlaySettings=function(){d.loadingOverlays=!0;var e=angular.copy(d.currentTenantCopy.overlays);r.start();var n=t.saveOverlaySettings(d.tenantKey,e.bottom_left,e.bottom_right,e.top_right,e.top_left),i=function(){var e=d.updateOverlays();return e.then(function(e){a.showSuccessToast("We saved your update."),r.complete()}),e};return n.then(function(){u(i,1e3)}),n.catch(function(e){r.complete(),a.showErrorToast("Something went wrong")}),n},d.applyTenantOverlay=function(e){var n=l.confirm({title:"Are you sure?",textContent:"Each device in your Tenant will have the current Overlay Template applied as its settings.",targetEvent:e,ariaLabel:"Lucky day",ok:"Confirm",cancel:"Nevermind"});l.show(n).then(function(){r.start();var e=t.overlayApplyTenant(d.tenantKey);return e.then(function(e){var t="Your Tenant Overlay Settings are being applied to each device in your Tenant. Please wait patiently for this process to complete.";a.showSuccessToast(t),d.loading=!0,d.getTenant(),r.complete()}),e.catch(function(e){r.complete(),a.showErrorToast("Something went wrong")}),e})},d.checkForOverlayChanges=function(){var e=!1,t=d.currentTenant.overlays,n=d.currentTenantCopy.overlays,r=["top_left","top_right","bottom_right","bottom_left"],a=!0,o=!1,s=void 0;try{for(var c,u=(0,i.default)(r);!(a=(c=u.next()).done);a=!0){var l=c.value;t[l].size!==n[l].size&&(e=!0),t[l].type!==n[l].type&&(e=!0),"logo"===t[l].type&&t[l].type+": "+t[l].name!==n[l].name&&(e=!0)}}catch(e){o=!0,s=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw s}}d.overlayChanged=e},d.submitImage=function(){if(d.selectedLogo&&d.selectedLogo[0]){var e=new FormData,t=!0;if(angular.forEach(d.selectedLogo,function(n){n.lfFile.size<15e6?e.append("files",n.lfFile):(d.fileApi.removeAll(),t=!1,a.showErrorToast("Your image is larger than 15 MB. Please choose a smaller image"))}),t){var n=c.saveImage(d.tenantKey,e);return n.then(function(e){r.complete(),u(d.getTenantImages,1e3),d.fileApi.removeAll(),a.showSuccessToast("We uploaded your image.")}),n.catch(function(e){r.complete(),a.showErrorToast("Something went wrong. You may have already uploaded this image.")}),n}}},d.getTenantImagesAndReloadTenantAfterDelete=function(){var e=d.getTenantImages();e.then(function(){var e=d.updateOverlays();e.then(function(){a.showSuccessToast("We deleted your image."),r.complete()})})},d.deleteImage=function(e,t,n){var i=l.confirm({title:"Are you sure?",textContent:"If you proceed, "+t+" will be deleted and removed from all devices that use it.",targetEvent:e,ariaLabel:"Lucky day",ok:"Confirm",cancel:"Nevermind"});l.show(i).then(function(){r.start();var e=c.deleteImage(n);return e.then(function(e){u(d.getTenantImagesAndReloadTenantAfterDelete,1e3)}),e.catch(function(e){a.showErrorToast("Something went wrong while deleting your image."),r.complete()}),e})},d.getTenantImages=function(){d.OVERLAY_TYPES=[{size:null,type:null,name:"none",realName:"none",new:!1,image_key:null},{size:null,type:"datetime",name:"datetime",realName:"datetime",new:!0,image_key:null}],r.start();var e=c.getImages(d.tenantKey);return e.then(function(e){d.tenantImages=e,r.complete();var t=!0,n=!1,a=void 0;try{for(var o,c=(0,i.default)(d.tenantImages);!(t=(o=c.next()).done);t=!0)for(var u=o.value,l=["small","large"],v=0;v<l.length;v++){var f=l[v],m={realName:angular.copy(u.name),name:"logo: "+u.name,type:"logo",size:f,image_key:u.key};d.OVERLAY_TYPES.push(m)}}catch(e){n=!0,a=e}finally{try{!t&&c.return&&c.return()}finally{if(n)throw a}}d.OVERLAY_TYPES.sort(s.default)}),e.catch(function(){r.complete(),a.showErrorStatus("SOMETHING WENT WRONG RETRIEVING YOUR IMAGES")}),e},d.onSuccessResolvingTenant=function(e){d.currentTenant=e,d.currentTenantCopy=angular.copy(d.currentTenant),d.selectedTimezone=e.default_timezone},d.getTenant=function(){d.loadingOverlays=!0;var n=t.getTenantByKey(e.tenantKey);return n.then(function(e){d.currentTenant=e,d.currentTenant.overlaysUpdateInProgress?(d.loading=!0,u(d.getTenant,3e3)):d.loading=!1,d.loadingOverlays=!1,d.currentTenantCopy=angular.copy(d.currentTenant)}),n},d.initialize=function(){d.getTenantImages(),d.getTenant()},o.$watch("tabIndex",function(t,r){if(void 0!==t)switch(t){case 0:return n.go("tenantDetails",{tenantKey:e.tenantKey});case 1:return n.go("tenantManagedDevices",{tenantKey:e.tenantKey});case 2:return n.go("tenantUnmanagedDevices",{tenantKey:e.tenantKey});case 3:return n.go("tenantLocations",{tenantKey:e.tenantKey});case 4:return n.go("tenantOverlays",{tenantKey:e.tenantKey});case 5:return n.go("tenantLogs",{tenantKey:e.tenantKey})}}),d}r.$inject=["$stateParams","TenantsService","$state","ProgressBarService","ToastsService","$scope","ImageService","$timeout","$mdDialog"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantOverlaysCtrl=void 0;var a=t(653),i=n(a),o=t(662),s=n(o);exports.TenantOverlaysCtrl=r},727:function(e,exports){"use strict";function t(e,t,n,r,a,i,o,s,c){"ngInject";var u=this;return u.gameStopServer=t.host().indexOf("provisioning-gamestop")>-1,u.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,proof_of_play_url:void 0,active:!0,ou_create:!0},u.selectedDomain=void 0,u.distributorDomains=[],u.timezones=[],u.selectedTimezone="America/Chicago",u.initialize=function(){var e=a.getCustomTimezones();e.then(function(e){return u.timezones=e}),u.currentDistributorKey=c.getCurrentDistributorKey();var t=r.getByKey(u.currentDistributorKey);t.then(function(e){return u.currentTenant.content_manager_base_url=e.content_manager_url,u.currentTenant.content_server_url=e.player_content_url});var n=r.getDomainsByKey(u.currentDistributorKey);return n.then(function(e){return u.distributorDomains=e})},u.onClickSaveButton=function(){s.start(),u.currentTenant.default_timezone=u.selectedTimezone,u.currentTenant.domain_key=u.selectedDomain.key;var e=n.save(u.currentTenant);return e.then(u.onSuccessTenantSave,u.onFailureTenantSave)},u.onSuccessTenantSave=function(){return s.complete(),i.go("tenants")},u.onFailureTenantSave=function(t){return s.complete(),409===t.status?o.show("Oops...","Tenant code unavailable in Provisioning. Please modify tenant name to generate a unique tenant code.","error"):412===t.status?o.show("Oops...","Tenant code unavailable in Chrome Device Management. Modify tenant name to generate a unique tenant code.","error"):406===t.status?o.show("Oops...","Unable to create tenant Organization Unit in Chrome Device Management.","error"):(e.error(t),o.show("Oops...","Not everything needed for tenant was created in Content Manager or CDM.","error"))},u.cancel=function(){i.go("tenants")},u.autoGenerateTenantCode=function(){if(!u.currentTenant.key){var e="";return u.currentTenant.name&&(e=u.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),u.currentTenant.tenant_code=e}},u}t.$inject=["$log","$location","TenantsService","DistributorsService","TimezonesService","$state","sweet","ProgressBarService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantAddCtrl=t},728:function(e,exports){"use strict";function t(e,t,n,r,a,i,o,s,c,u,l,d){"ngInject";var v=this;if(v.gameStopServer=d.host().indexOf("provisioning-gamestop")>-1,v.showCdmInfo=!1,v.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,proof_of_play_url:void 0,active:!0},v.selectedDomain=void 0,v.distributorDomains=[],v.timezones=[],v.selectedTimezone="America/Chicago",v.editMode=!!e.tenantKey,v.editMode){var f=t.getTenantByKey(e.tenantKey);f.then(function(e){return v.currentTenant=e,v.onSuccessResolvingTenant(e)})}return v.initialize=function(){var e=r.getCustomTimezones();e.then(function(e){return v.timezones=e}),v.currentDistributorKey=u.getCurrentDistributorKey();var t=a.getDomainsByKey(v.currentDistributorKey);return t.then(function(e){return v.distributorDomains=e})},v.onSuccessResolvingTenant=function(e){v.showCdmInfo=null!=e.organization_unit_path&&null!=e.enrollment_email&&null!=e.enrollment_password,v.selectedTimezone=e.default_timezone;var t=n.getDomainByKey(e.domain_key);return t.then(function(e){return v.selectedDomain=e})},v.onClickSaveButton=function(){s.start(),v.currentTenant.default_timezone=v.selectedTimezone,v.currentTenant.domain_key=v.selectedDomain.key;var e=t.save(v.currentTenant);return e.then(v.onSuccessTenantSave,v.onFailureTenantSave)},v.onSuccessTenantSave=function(){return s.complete(),c.showSuccessToast("We saved your tenant information.")},v.onFailureTenantSave=function(e){return s.complete(),409===e.status?o.show("Oops...","Tenant code unavailable. Please modify tenant name to generate a unique tenant code.","error"):o.show("Oops...","Unable to save the tenant.","error")},v.editItem=function(t){return i.go("editDevice",{deviceKey:t.key,tenantKey:e.tenantKey})},v.autoGenerateTenantCode=function(){if(!v.currentTenant.key){var e="";return v.currentTenant.name&&(e=v.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),v.currentTenant.tenant_code=e}},l.tabIndex=0,l.$watch("tabIndex",function(t,n){if(void 0!==t)switch(t){case 0:return i.go("tenantDetails",{tenantKey:e.tenantKey});case 1:return i.go("tenantManagedDevices",{tenantKey:e.tenantKey});case 2:return i.go("tenantUnmanagedDevices",{tenantKey:e.tenantKey});case 3:return i.go("tenantLocations",{tenantKey:e.tenantKey});case 4:return i.go("tenantOverlays",{tenantKey:e.tenantKey});case 5:return i.go("tenantLogs",{tenantKey:e.tenantKey})}}),v}t.$inject=["$stateParams","TenantsService","DomainsService","TimezonesService","DistributorsService","$state","sweet","ProgressBarService","ToastsService","SessionsService","$scope","$location"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantDetailsCtrl=t},729:function(e,exports){"use strict";function t(e,t,n,r,a,i,o){"ngInject";var s=this;if(s.location={key:void 0},s.tenantKey=e.tenantKey,s.editMode=!!e.locationKey,s.editMode){var c=n.getLocationByKey(e.locationKey);c.then(function(e){return s.location=e,s.tenantKey=e.tenantKey,s.locationName=e.customerLocationName,s.fetchTenantName(s.tenantKey)})}return s.initialize=function(){if(!s.editMode)return s.fetchTenantName(s.tenantKey),s.location={tenantKey:s.tenantKey,active:!0}},s.onClickSaveButton=function(){i.start();var e=n.save(s.location);return s.editMode?e.then(s.onSuccessUpdatingLocation(s.tenantKey),s.onFailureSavingLocation):e.then(s.onSuccessSavingLocation,s.onFailureSavingLocation)},s.onSuccessSavingLocation=function(){return i.complete(),o.showSuccessToast("We saved your location."),setTimeout(function(){r.go("tenantLocations",{tenantKey:e.tenantKey})},1e3)},s.onSuccessUpdatingLocation=function(e){return i.complete(),o.showSuccessToast("We updated your location."),setTimeout(function(){r.go("tenantLocations",{tenantKey:e})},1e3)},s.onFailureSavingLocation=function(e){return i.complete(),409===e.status?(o.showErrorToast("Location code conflict. Unable to save your location."),a.show("Oops...","Please change your customer location name. Location name must generate a unique location code.","error")):o.showErrorToast("Unable to save your location.")},s.fetchTenantName=function(e){var n=t.getTenantByKey(e);return n.then(function(e){return s.tenantName=e.name})},s.autoGenerateCustomerLocationCode=function(){if(!s.location.key){var e="";return s.location.customerLocationName&&(e=s.location.customerLocationName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),s.location.customerLocationCode=e}},s}t.$inject=["$stateParams","TenantsService","LocationsService","$state","sweet","ProgressBarService","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantLocationCtrl=t},730:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,a,o){"ngInject";var c=this,u=t.tenantKey;e.tabIndex=3,c.locations=[],c.searchDisabled=!0,c.tenantKey=t.tenantKey;var l=n.getTenantByKey(u);return l.then(function(e){c.currentTenant=e}),e.$watch("tabIndex",function(e,n){if(void 0!==e)switch(e){case 0:return a.go("tenantDetails",{tenantKey:t.tenantKey});case 1:return a.go("tenantManagedDevices",{tenantKey:t.tenantKey});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:t.tenantKey});case 3:return a.go("tenantLocations",{tenantKey:t.tenantKey});case 4:return a.go("tenantOverlays",{tenantKey:t.tenantKey});case 5:return a.go("tenantLogs",{tenantKey:t.tenantKey})}}),c.getLocations=function(e,t,n){o.start();var a=r.getLocationsByTenantKeyPaginated(e,t,n);return a.then(function(e){return c.locations=e.locations,c.next_cursor=e.next_cursor,c.prev_cursor=e.prev_cursor,o.complete()})},c.searchAllTenantLocationsByName=function(e){if(!e||e.length<3)return[];var t=r.searchAllTenantLocationsByName(c.tenantKey,e);return t.then(function(e){return c.searchedTenantLocations=e,c.searchedTenantLocations?c.searchedTenantLocations.map(function(e){return e.customerLocationName}).sort(s.default):[]})},c.isTenantLocationValid=function(e){if(!e||e.length<3)return[];r.searchAllTenantLocationsByName(c.tenantKey,e).then(function(t){var n=t;if(n){var r=!0,a=!1,o=void 0;try{for(var s,u=(0,i.default)(n);!(r=(s=u.next()).done);r=!0){var l=s.value;if(e===l.customerLocationName)return c.searchDisabled=!1,void(c.searchMatch=l);c.searchDisabled=!0}}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}}else c.searchDisabled=!0})},c.paginateCall=function(e){return e?c.getLocations(u,null,c.next_cursor):c.getLocations(u,c.prev_cursor,null)},c.initialize=function(){return c.getLocations(u)},c.editItem=function(e){return a.go("editLocation",{locationKey:e.key})},c}r.$inject=["$scope","$stateParams","TenantsService","LocationsService","$state","ProgressBarService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantLocationsCtrl=void 0;var a=t(653),i=n(a),o=t(662),s=n(o);exports.TenantLocationsCtrl=r},731:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,a,o){"ngInject";var s=this;if(s.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},s.tenantDevices=[],s.devicesPrev=null,s.devicesNext=null,s.selectedButton="Serial Number",s.serialDevices={},s.disabled=!0,s.devicesToMatchOn=[],s.macDevices={},s.editMode=!!t.tenantKey,s.tenantKey=t.tenantKey,s.getManagedDevices=function(e,t,n){a.start();var i=r.getDevicesByTenant(e,t,n);return i.then(function(e){return s.devicesPrev=e.prev_cursor,s.devicesNext=e.next_cursor,s.tenantDevices=e.devices,a.complete()})},s.editItem=function(e){return r.editItem(e)},s.refreshDevices=function(){return s.devicesPrev=null,s.devicesNext=null,s.tenantDevices=null,s.getManagedDevices(s.tenantKey,s.devicesPrev,s.devicesNext)},s.editMode){var c=n.getTenantByKey(s.tenantKey);c.then(function(e){return s.currentTenant=e}),s.getManagedDevices(s.tenantKey,null,null)}return e.tabIndex=1,e.$watch("tabIndex",function(e,n){if(void 0!==e)switch(e){case 0:return o.go("tenantDetails",{tenantKey:t.tenantKey});case 1:return o.go("tenantManagedDevices",{tenantKey:t.tenantKey});case 2:return o.go("tenantUnmanagedDevices",{tenantKey:t.tenantKey});case 3:return o.go("tenantLocations",{tenantKey:t.tenantKey});case 4:return o.go("tenantOverlays",{tenantKey:t.tenantKey});case 5:return o.go("tenantLogs",{tenantKey:t.tenantKey})}}),s.changeRadio=function(){s.searchText="",s.disabled=!0,s.serialDevices={},s.macDevices={},s.devicesToMatchOn=[]},s.searchDevices=function(e){var t=!1,n=s.selectedButton,a=!0,i=s.tenantKey;return r.searchDevices(e,n,a,i,s.distributorKey,t).then(function(e){var t=void 0;if(e.success){var r=e.devices;return"Serial Number"===n?(s.serialDevices=r[1],
t=r[0]):"MAC"===n?(s.macDevices=r[1],t=r[0]):(s.gcmidDevices=r[1],t=r[0]),s.devicesToMatchOn=t,t}return[]})},s.paginateCall=function(e){return e?s.getManagedDevices(s.tenantKey,null,s.devicesNext):s.getManagedDevices(s.tenantKey,s.devicesPrev,null)},s.prepareForEditView=function(e){return r.preprateForEditView(s.selectedButton,s.tenantKey,e,s.macDevices,s.serialDevices,s.gcmidDevices)},s.controlOpenButton=function(e){return s.disabled=!e,s.loadingDisabled=!1},s.isResourceValid=function(e){var t=!1,n=!0,r=!1,a=void 0;try{for(var o,c=(0,i.default)(s.devicesToMatchOn);!(n=(o=c.next()).done);n=!0){var u=o.value;e===u&&(t=!0)}}catch(e){r=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw a}}return s.controlOpenButton(t),t},s}r.$inject=["$scope","$stateParams","TenantsService","DevicesService","ProgressBarService","$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantManagedDevicesCtrl=void 0;var a=t(653),i=n(a);exports.TenantManagedDevicesCtrl=r},732:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,a,o){"ngInject";var s=this;if(s.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},s.gcmidDevices=[],s.tenantDevices=[],s.devicesPrev=null,s.devicesNext=null,s.selectedButton="MAC",s.serialDevices={},s.disabled=!0,s.macDevices={},s.devicesToMatchOn=[],s.editMode=!!t.tenantKey,s.tenantKey=t.tenantKey,e.tabIndex=2,e.$watch("tabIndex",function(e,n){if(void 0!==e)switch(e){case 0:return o.go("tenantDetails",{tenantKey:t.tenantKey});case 1:return o.go("tenantManagedDevices",{tenantKey:t.tenantKey});case 2:return o.go("tenantUnmanagedDevices",{tenantKey:t.tenantKey});case 3:return o.go("tenantLocations",{tenantKey:t.tenantKey});case 4:return o.go("tenantOverlays",{tenantKey:t.tenantKey});case 5:return o.go("tenantLogs",{tenantKey:t.tenantKey})}}),s.editItem=function(e){return r.editItem(e)},s.getUnmanagedDevices=function(e,t,n){a.start();var i=r.getUnmanagedDevicesByTenant(e,t,n);return i.then(function(e){return s.devicesPrev=e.prev_cursor,s.devicesNext=e.next_cursor,s.tenantDevices=e.devices,a.complete()})},s.editMode){var c=n.getTenantByKey(s.tenantKey);c.then(function(e){return s.currentTenant=e}),s.getUnmanagedDevices(s.tenantKey,null,null)}return s.refreshDevices=function(){return s.devicesPrev=null,s.devicesNext=null,s.tenantDevices=null,s.getUnmanagedDevices(s.tenantKey,s.devicesPrev,s.devicesNext)},s.changeRadio=function(){s.searchText="",s.disabled=!0,s.serialDevices={},s.macDevices={},s.devicesToMatchOn=[]},s.searchDevices=function(e){var t=!0,n=!0;return r.searchDevices(e,s.selectedButton,n,s.tenantKey,s.distributorKey,t).then(function(e){var t=void 0;if(e.success){var n=e.devices;return"Serial Number"===s.selectedButton?(s.serialDevices=n[1],t=n[0]):"MAC"===s.selectedButton?(s.macDevices=n[1],t=n[0]):(s.gcmidDevices=n[1],t=n[0]),s.devicesToMatchOn=t,t}return[]})},s.paginateCall=function(e){return e?s.getUnmanagedDevices(s.tenantKey,null,s.devicesNext):s.getUnmanagedDevices(s.tenantKey,s.devicesPrev,null)},s.prepareForEditView=function(e){return r.preprateForEditView(s.selectedButton,s.tenantKey,e,s.macDevices,s.serialDevices,s.gcmidDevices)},s.controlOpenButton=function(e){s.disabled=!e,s.loadingDisabled=!1},s.isResourceValid=function(e){var t=!1,n=!0,r=!1,a=void 0;try{for(var o,c=(0,i.default)(s.devicesToMatchOn);!(n=(o=c.next()).done);n=!0){var u=o.value;e===u&&(t=!0)}}catch(e){r=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw a}}return s.controlOpenButton(t),t},s}r.$inject=["$scope","$stateParams","TenantsService","DevicesService","ProgressBarService","$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantUnmanagedDevicesCtrl=void 0;var a=t(653),i=n(a);exports.TenantUnmanagedDevicesCtrl=r},733:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,a){"ngInject";var o=this;return o.tenants=[],o.searchedTenants=[],o.searchMatch=null,o.searchDisabled=!0,o.getTenantsPaginated=function(e,t){o.offset=t,o.loading=!0,r.start();var a=n.fetchAllTenantsPaginated(e,t);return a.then(function(e){return o.getFetchSuccess(e)},function(e){return o.getFetchFailure(e)})},o.getFetchSuccess=function(e){return o.tenants=e.tenants,o.total=e.total,o.is_first_page=e.is_first_page,o.is_last_page=e.is_last_page,r.complete(),o.loading=!1},o.getFetchFailure=function(e){r.complete();var t="Unable to fetch tenants. Error: "+e.status+" "+e.statusText+".";return a.show("Oops...",t,"error")},o.initialize=function(){return o.offset=0,o.searchAllTenantsByName("my"),o.getTenantsPaginated(100,o.offset)},o.searchAllTenantsByName=function(e){if(!e||e.length<3)return[];var t=n.searchAllTenantsByName(e);return t.then(function(e){return o.searchedTenants=e,o.searchedTenants?o.searchedTenants.map(function(e){return e.name}).sort(s.default):[]})},o.isTenantValid=function(e){if(!e||e.length<3)return[];var t=o.searchedTenants;if(t){var n=!0,r=!1,a=void 0;try{for(var s,c=(0,i.default)(t);!(n=(s=c.next()).done);n=!0){var u=s.value;if(e===u.name)return o.searchDisabled=!1,void(o.searchMatch=u);o.searchDisabled=!0}}catch(e){r=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw a}}}else o.searchDisabled=!0},o.editItem=function(t){return e.go("tenantDetails",{tenantKey:t.key})},o.deleteItem=function(e){var t=function(){var t=n.delete(e);return t.then(function(){return o.initialize()})};return a.show({title:"Are you sure?",text:"This will permanently remove the tenant from the system.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the tenant!",closeOnConfirm:!0},t)},o}r.$inject=["$state","$log","TenantsService","ProgressBarService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantsCtrl=void 0;var a=t(653),i=n(a),o=t(662),s=n(o);exports.TenantsCtrl=r},734:function(e,exports){"use strict";function t(e,t,n,r,a){"ngInject";var i=this;return i.paulsCurrentDistributorName=n.paulsCurrentDistributorName,i.version_data=[],i.loading=!0,i.proceedToSignIn=function(){return t.go("sign_in")},i.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},i.giveOptionToChangeDistributor=function(){var e=r.fetchAllByUser(a.getUserKey());return e.then(function(e){return i.has_multiple_distributors=e.length>1,i.loading=!1})},i.changeDistributor=function(){return t.go("distributor_selection")},i.getVersion=function(){var t=e.getVersions();return t.then(function(e){return i.version_data=e})},i.initialize=function(){return i.identity={key:a.getUserKey(),email:a.getUserEmail(),distributorKey:a.getCurrentDistributorKey(),distributorName:a.getCurrentDistributorName()},i.giveOptionToChangeDistributor(),i.identity.email?i.getVersion():t.go("sign_in")},i}t.$inject=["VersionsService","$state","$rootScope","DistributorsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.WelcomeCtrl=t},735:function(e,exports){"use strict";function t(e,t,n){"ngInject";return e.state("sign_in",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],notAuthenticated:["AuthorizationService",function(e){return e.notAuthenticated()}]},url:"/sign_in",templateUrl:"app/authentication/sign_in.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("signed_out",{url:"/signed_out",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],notAuthenticated:["AuthorizationService",function(e){return e.notAuthenticated()}]},templateUrl:"app/authentication/signed_out.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("sign_out",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/sign_out",templateUrl:"app/authentication/sign_out.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("distributor_selection",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/distributor_selection",templateUrl:"app/distributor/distributor_selector.html",controller:"DistributorSelectorCtrl",controllerAs:"vm"}),e.state("home",{url:"/",templateUrl:"app/welcome/welcome.html",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("welcome",{url:"/welcome",templateUrl:"app/welcome/welcome.html",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("domains",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains",templateUrl:"app/domain/domains-listing.html",controller:"DomainsCtrl",controllerAs:"domainsCtrl",ncyBreadcrumb:{label:"Domains"}}),e.state("addDomain",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains/add",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"Add domain",parent:"domains"}}),e.state("editDomain",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains/:domainKey",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"{{ domainDetailsCtrl.currentDomain.name }}",parent:"domains"}}),e.state("tenants",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants",templateUrl:"app/tenant/tenants-listing.html",controller:"TenantsCtrl",controllerAs:"tenantsCtrl",ncyBreadcrumb:{label:"Tenants"}}),e.state("addTenant",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/add",templateUrl:"app/tenant/tenant-add.html",controller:"TenantAddCtrl",controllerAs:"tenantAddCtrl",ncyBreadcrumb:{label:"Add tenant",parent:"tenants"}}),e.state("tenantDetails",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/details",templateUrl:"app/tenant/tenant-details.html",controller:"TenantDetailsCtrl",controllerAs:"tenantDetailsCtrl",ncyBreadcrumb:{label:"{{ tenantDetailsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantManagedDevices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/managed",templateUrl:"app/tenant/tenant-managed-devices.html",controller:"TenantManagedDevicesCtrl",controllerAs:"tenantManagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantManagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantUnmanagedDevices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/unmanaged",templateUrl:"app/tenant/tenant-unmanaged-devices.html",controller:"TenantUnmanagedDevicesCtrl",controllerAs:"tenantUnmanagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantUnmanagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantLogs",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/logs",templateUrl:"app/tenant/tenant-logs.html",controller:"TenantLogsCtrl",controllerAs:"tenantLogsCtrl",ncyBreadcrumb:{label:"{{ tenantLogsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantOverlays",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/overlays",templateUrl:"app/tenant/tenant-overlays.html",controller:"TenantOverlaysCtrl",controllerAs:"tenantOverlaysCtrl",ncyBreadcrumb:{label:"{{ tenantOverlaysCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantLocations",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/locations",templateUrl:"app/tenant/tenant-locations.html",controller:"TenantLocationsCtrl",controllerAs:"tenantLocationsCtrl",ncyBreadcrumb:{label:"{{ tenantLocationsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("editLocation",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/locations/:locationKey",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / {{ tenantLocationCtrl.locationName }}",parent:"tenants"}}),e.state("addLocation",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/location",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / Location",parent:"tenants"}}),e.state("devices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/devices",templateUrl:"app/device/devices-listing.html",controller:"DevicesListingCtrl",controllerAs:"devicesListingCtrl",ncyBreadcrumb:{label:"Devices"}}),e.state("editDevice",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/devices/:deviceKey?tenantKey?fromDevices",templateUrl:"app/device/device-detail.html",ncyBreadcrumb:{label:"{{ deviceDetailsCtrl.currentDevice.key }}",parent:"devices"},controller:"DeviceDetailsCtrl",function:function(e,t){e.tenantKey=t.tenantKey},controllerAs:"deviceDetailsCtrl"}),e.state("proof",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/proof",templateUrl:"app/proof/main.html",controller:"ProofOfPlayCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Proof of Play"}}),e.state("proofDetail",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/proof/:tenant",templateUrl:"app/proof/detail.html",controller:"ProofOfPlayCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Proof of Play"}}),e.state("admin",{resolve:{isAdmin:["AuthorizationService",function(e){return e.isAdminOrDistributorAdmin()}]},url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Admin"}}),e.state("redirect",{url:"/redirect",templateUrl:"app/redirect/redirect.html",controller:"RedirectCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Redirect"}}),t.otherwise("/sign_in"),n.setBaseUrl("/internal/v1"),n.addResponseInterceptor(function(e,t,n,r,a,i){var o=e;return o}),n.setRestangularFields({id:"key"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.routes=t,t.$inject=["$stateProvider","$urlRouterProvider","RestangularProvider"]},736:function(e,exports){"use strict";function t(e,t,n,r,a){"ngInject";var i=function(){var e=n.get("$state");return r.$on("$stateChangeError",function(t,n,r,a,i,o){if("authError"===o[0])return e.go(o[1])})};a(i,500);var o=function(){e.addRequestInterceptor(function(r,a,i,o){var s=n.get("StorageService"),c="6C346588BD4C6D722A1165B43C51C";if(t.host().indexOf("provisioning-gamestop")>-1&&(c="5XZHBF3mOwqJlYAlG1NeeWX0Cb72g"),e.setDefaultHeaders({"Content-Type":"application/json",Accept:"application/json",Authorization:c,"X-Provisioning-User":s.get("userKey"),"X-Provisioning-Distributor":s.get("currentDistributorKey")}),"remove"!==a)return r})};a(o,500)}t.$inject=["Restangular","$location","$injector","$rootScope","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.appRun=t},737:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){o.default.extend(e,{progressBar:!0,closeButton:!0,tapToDismiss:!0,newestOnTop:!0,positionClass:"toast-bottom-left",timeOut:5e3})}function a(e){e.setOptions({prefixStateName:"home",template:"bootstrap3"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toastrConfig=r,exports.breadcrumbProvider=a;var i=t(369),o=n(i);r.$inject=["toastrConfig"],a.$inject=["$breadcrumbProvider"]},738:function(e,exports){"use strict";function t(e,t,n){"ngInject";var r=this;return e.removeUserInfo(),n(function(){t.go("sign_in")},8e3),r}t.$inject=["SessionsService","$state","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.RedirectCtrl=t}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXBwLmJ1bmRsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYXBwLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5jc3M/ZDE1NiIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhckJyZWFkY3J1bWIvYW5ndWxhckJyZWFkY3J1bWIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvanMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9+L21vbWVudC9sb2NhbGUgXlxcLlxcLy4qJCIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci9jc3MvbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzP2M0MTMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvY3NzL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1kaXJlY3RpdmUuZy1zaWduaW4vZ29vZ2xlLXBsdXMtc2lnbmluLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy92ZW5kb3Iuc2Nzcz8yNmEwIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy92ZW5kb3Iuc2NzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3Njc3MvaW5kZXguc2Nzcz83Njk3Iiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy9pbmRleC5zY3NzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGV2aWNlL2RldmljZS1kZXRhaWwtY29tbWFuZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2RldmljZS9kZXZpY2UtZGV0YWlscy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGV2aWNlL2RldmljZXMtbGlzdGluZy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYWRtaW4vYWRtaW4tY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2F1dGhlbnRpY2F0aW9uL2F1dGhlbnRpY2F0aW9uLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hcHAvYXBwLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9kaXN0cmlidXRvci9kaXN0cmlidXRvci1zZWxlY3Rvci1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3JzLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9kb21haW4vZG9tYWlucy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZG9tYWluL2RvbWFpbi1kZXRhaWxzLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wcm9vZi9tdWx0aS1sb2NhdGlvbi5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvcHJvb2YvbXVsdGktZGlzcGxheS5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvcHJvb2YvbXVsdGktcmVzb3VyY2UuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3Byb29mL3Byb29mLW9mLXBsYXkuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2ltYWdlLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9hZG1pbi5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvYXV0aG9yaXphdGlvbi5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvY29tbWFuZHMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2RhdGVtYW5pcHVsYXRpb24uc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2RldmljZXMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2Rpc3RyaWJ1dG9ycy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvZG9tYWlucy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvaWRlbnRpdHkuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2ludGVncmF0aW9uLWV2ZW50cy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvbG9jYXRpb25zLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9wcm9ncmVzc2Jhci5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvcHJvb2ZwbGF5LnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9zZXNzaW9ucy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvc3RvcmFnZS5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvdGVuYW50cy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvdGltZXpvbmVzLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy90b2FzdHMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL3ZlcnNpb25zLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LWxvZ3MuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtb3ZlcmxheXMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtYWRkLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LWRldGFpbHMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb25zLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LW1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvdGVuYW50L3RlbmFudC11bm1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvdGVuYW50L3RlbmFudHMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3dlbGNvbWUvd2VsY29tZS1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYXBwLXJvdXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2FwcC1ydW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hcHAtY29uZmlnLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvcmVkaXJlY3QvcmVkaXJlY3QuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLCIwIiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCIzNjciLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfYXBwIiwiX2RldmljZURldGFpbENvbW1hbmQiLCJfZGV2aWNlRGV0YWlscyIsIl9kZXZpY2VzTGlzdGluZyIsIl9hZG1pbkNvbnRyb2xsZXIiLCJfYXV0aGVudGljYXRpb25Db250cm9sbGVyIiwiX2FwcENvbnRyb2xsZXIiLCJfZGlzdHJpYnV0b3JTZWxlY3RvckNvbnRyb2xsZXIiLCJfZGlzdHJpYnV0b3JzQ29udHJvbGxlciIsIl9kb21haW5zIiwiX2RvbWFpbkRldGFpbHMiLCJfbXVsdGlMb2NhdGlvbiIsIl9tdWx0aURpc3BsYXkiLCJfbXVsdGlSZXNvdXJjZSIsIl9wcm9vZk9mUGxheSIsIl9pbWFnZSIsIl9pbWFnZTIiLCJfYWRtaW4iLCJfYWRtaW4yIiwiX2F1dGhvcml6YXRpb24iLCJfYXV0aG9yaXphdGlvbjIiLCJfY29tbWFuZHMiLCJfY29tbWFuZHMyIiwiX2RhdGVtYW5pcHVsYXRpb24iLCJfZGF0ZW1hbmlwdWxhdGlvbjIiLCJfZGV2aWNlcyIsIl9kZXZpY2VzMiIsIl9kaXN0cmlidXRvcnMiLCJfZGlzdHJpYnV0b3JzMiIsIl9kb21haW5zMiIsIl9kb21haW5zMyIsIl9pZGVudGl0eSIsIl9pZGVudGl0eTIiLCJfaW50ZWdyYXRpb25FdmVudHMiLCJfaW50ZWdyYXRpb25FdmVudHMyIiwiX2xvY2F0aW9ucyIsIl9sb2NhdGlvbnMyIiwiX3Byb2dyZXNzYmFyIiwiX3Byb2dyZXNzYmFyMiIsIl9wcm9vZnBsYXkiLCJfcHJvb2ZwbGF5MiIsIl9zZXNzaW9ucyIsIl9zZXNzaW9uczIiLCJfc3RvcmFnZSIsIl9zdG9yYWdlMiIsIl90ZW5hbnRzIiwiX3RlbmFudHMyIiwiX3RpbWV6b25lcyIsIl90aW1lem9uZXMyIiwiX3RvYXN0cyIsIl90b2FzdHMyIiwiX3ZlcnNpb25zIiwiX3ZlcnNpb25zMiIsIl90ZW5hbnRMb2dzIiwiX3RlbmFudE92ZXJsYXlzIiwiX3RlbmFudEFkZCIsIl90ZW5hbnREZXRhaWxzIiwiX3RlbmFudExvY2F0aW9uIiwiX3RlbmFudExvY2F0aW9ucyIsIl90ZW5hbnRNYW5hZ2VkRGV2aWNlcyIsIl90ZW5hbnRVbm1hbmFnZWREZXZpY2VzIiwiX3RlbmFudHMzIiwiX3dlbGNvbWVDb250cm9sbGVyIiwiX2FwcFJvdXRlcyIsIl9hcHBSdW4iLCJfYXBwQ29uZmlnIiwiX3JlZGlyZWN0IiwiYXBwIiwic2VydmljZSIsImNvbnRyb2xsZXIiLCJEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsIiwiRGV2aWNlRGV0YWlsc0N0cmwiLCJEZXZpY2VzTGlzdGluZ0N0cmwiLCJBZG1pbkN0cmwiLCJBdXRoZW50aWNhdGlvbkN0cmwiLCJBcHBDb250cm9sbGVyIiwiRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwiLCJEaXN0cmlidXRvcnNDdHJsIiwiRG9tYWluc0N0cmwiLCJEb21haW5EZXRhaWxzQ3RybCIsIlByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwiLCJQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwiLCJQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsIiwiUHJvb2ZPZlBsYXlDdHJsIiwiVGVuYW50TG9nc0N0cmwiLCJUZW5hbnRPdmVybGF5c0N0cmwiLCJUZW5hbnRBZGRDdHJsIiwiVGVuYW50RGV0YWlsc0N0cmwiLCJUZW5hbnRMb2NhdGlvbkN0cmwiLCJUZW5hbnRMb2NhdGlvbnNDdHJsIiwiVGVuYW50TWFuYWdlZERldmljZXNDdHJsIiwiVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwiLCJUZW5hbnRzQ3RybCIsIldlbGNvbWVDdHJsIiwiUmVkaXJlY3RDdHJsIiwicnVuIiwiYXBwUnVuIiwiY29uZmlnIiwicm91dGVzIiwidG9hc3RyQ29uZmlnIiwiYnJlYWRjcnVtYlByb3ZpZGVyIiwiUmVzdGFuZ3VsYXJQcm92aWRlciIsInNldEVycm9ySW50ZXJjZXB0b3IiLCJyZXNwb25zZSIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXMiLCJkYXRhIiwibWVzc2FnZSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsIlN0b3JhZ2VTZXJ2aWNlIiwiJGxvY2F0aW9uIiwiaW50ZXJjZXB0b3IiLCJyZXF1ZXN0IiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsIkFjY2VwdCIsIkpXVCIsImdldCIsIm9BdXRoIiwiWC1Qcm92aXNpb25pbmctVXNlciIsIlgtUHJvdmlzaW9uaW5nLVVzZXItSWRlbnRpZmllciIsIlgtUHJvdmlzaW9uaW5nLURpc3RyaWJ1dG9yIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giLCIzNjgiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwidW5kZWZpbmVkIiwiX2FuZ3VsYXIiLCJfYW5ndWxhcjIiLCJfYW5ndWxhclVpUm91dGVyIiwiX2FuZ3VsYXJVaVJvdXRlcjIiLCJfbG9kYXNoIiwiX2xvZGFzaDIiLCJfIiwiYW5ndWxhciIsIjQxOCIsImEiLCJiIiwiYyIsImQiLCJlIiwidGhpcyIsImF1dG9TdHlsZSIsImNvdW50IiwiaGVpZ2h0IiwiJHNjb3BlIiwiJG5ldyIsImNvbG9yIiwicGFyZW50IiwiZmluZCIsInByb2dyZXNzYmFyRWwiLCJhcHBlbmRDaGlsZCIsImVxIiwiY2hpbGRyZW4iLCJjc3MiLCJpbnRlcnZhbENvdW50ZXJJZCIsInN0YXJ0Iiwic2hvdyIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImlzTmFOIiwiaGlkZSIsInJlbWFpbmluZyIsIk1hdGgiLCJwb3ciLCJzcXJ0IiwidXBkYXRlQ291bnQiLCIkJHBoYXNlIiwiJGFwcGx5Iiwic2V0SGVpZ2h0Iiwic2V0Q29sb3IiLCJhbmltYXRlIiwiYW5pbWF0aW9uIiwiY2FuY2VsIiwic3RvcCIsInNldCIsInJlc2V0IiwiY29tcGxldGUiLCJzZXRQYXJlbnQiLCJFcnJvciIsInJlbW92ZUNoaWxkIiwiZ2V0RG9tRWxlbWVudCIsInNldEFic29sdXRlIiwiZmFjdG9yeSIsImNyZWF0ZUluc3RhbmNlIiwiaW5zdGFudGlhdGUiLCJkaXJlY3RpdmUiLCJyZXBsYWNlIiwicmVzdHJpY3QiLCJsaW5rIiwiJHdhdGNoIiwiY291bnRlciIsInRlbXBsYXRlIiwiNDE5IiwiY29udGVudCIsImlkIiwibG9jYWxzIiwiNDIwIiwiNDIxIiwiX3R5cGVvZjIiLCJfdHlwZW9mMyIsImVxdWFscyIsImxlbmd0aCIsIm1hdGNoIiwic3RhdGUiLCJwYXJhbUV4cHIiLCJmIiwicHJlZml4U3RhdGVOYW1lIiwidGVtcGxhdGVVcmwiLCJpbmNsdWRlQWJzdHJhY3QiLCJzZXRPcHRpb25zIiwiZXh0ZW5kIiwiJGdldCIsImciLCJoIiwiJG9uIiwidGFyZ2V0U2NvcGUiLCJuY3lCcmVhZGNydW1iSWdub3JlIiwiJGlkIiwiaSIsImV4ZWMiLCJuYW1lIiwiaiIsImsiLCJsIiwibSIsIm4iLCJuY3lCcmVhZGNydW1iIiwiZm9yY2UiLCJza2lwIiwiJGV2YWwiLCJuY3lCcmVhZGNydW1iTGluayIsInVuc2hpZnQiLCJnZXRUZW1wbGF0ZSIsImdldFRlbXBsYXRlVXJsIiwiZ2V0U3RhdGVzQ2hhaW4iLCIkY3VycmVudCIsInNlbGYiLCJnZXRMYXN0U3RlcCIsIiRnZXRMYXN0Vmlld1Njb3BlIiwiYm9vdHN0cmFwMiIsImJvb3RzdHJhcDMiLCJzY29wZSIsInBvc3QiLCJzdGVwcyIsImZvckVhY2giLCJsYWJlbCIsIm5jeUJyZWFkY3J1bWJMYWJlbCIsImNvbXBpbGUiLCJhdHRyIiwiJGF0dHIiLCJuY3lCcmVhZGNydW1iTGFzdCIsImh0bWwiLCJuY3lCcmVhZGNydW1iVGV4dCIsIm5jeUJyZWFkY3J1bWJUZXh0U2VwYXJhdG9yIiwibmN5QnJlYWRjcnVtYkNoYWluIiwiam9pbiIsImV4cHJlc3Npb25zIiwicGFydHMiLCJpc0Z1bmN0aW9uIiwiZXhwIiwiJGluamVjdCIsInByb3ZpZGVyIiwiNDkwIiwialF1ZXJ5IiwiX21vbWVudCIsIl9tb21lbnQyIiwibW9tZW50IiwibW9kdWxlTmFtZSIsIlZJRVdfU1RBVEVTIiwiREFURSIsIkhPVVIiLCJNSU5VVEUiLCJlbCIsImVsZW1lbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwibG9jYWxlIiwic2V0RGVmYXVsdExvY2FsZSIsImxvY2FsZVN0cmluZyIsIiRtZERpYWxvZyIsInJlcXVpcmUiLCJjdXJyZW50RGF0ZSIsInRpbWUiLCJkYXRlIiwibWluRGF0ZSIsIm1heERhdGUiLCJzaG9ydFRpbWUiLCJmb3JtYXQiLCJjYW5jZWxUZXh0Iiwib2tUZXh0IiwibGFuZyIsImFtVGV4dCIsInBtVGV4dCIsImF0dHJzIiwibmdNb2RlbCIsImlzT24iLCJpc1N0cmluZyIsIiRmb3JtYXR0ZXJzIiwiaXNWYWxpZCIsIm9uIiwicHJldmVudERlZmF1bHQiLCJibHVyIiwib3B0aW9ucyIsImhhc093blByb3BlcnR5IiwiaXNVbmRlZmluZWQiLCJQbHVnaW5Db250cm9sbGVyIiwiY29udHJvbGxlckFzIiwib3BlbkZyb20iLCJkb2N1bWVudCIsImJvZHkiLCJiaW5kVG9Db250cm9sbGVyIiwiZGlzYWJsZVBhcmVudFNjcm9sbCIsInRoZW4iLCJ2IiwiX2QiLCJtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUiLCJjdXJyZW50VmlldyIsIl9kaWFsb2ciLCJfYXR0YWNoZWRFdmVudHMiLCJWSUVXUyIsInBhcmFtcyIsIndlZWtTdGFydCIsIm1lcmlkaWVuIiwiaW5pdCIsInByb3RvdHlwZSIsInRpbWVNb2RlIiwiZGF0ZU1vZGUiLCJpbml0RGF0ZXMiLCJjdXJyZW50TmVhcmVzdDVNaW51dGUiLCJtaW51dGVzIiwicm91bmQiLCJtaW51dGUiLCJ0aGF0IiwiX2RhdGVQYXJhbSIsImlucHV0IiwiZmFsbGJhY2siLCJyZXQiLCJpc0RlZmluZWQiLCJpc0RhdGUiLCJ4IiwiZ2V0VGltZSIsIl9pc0FNb21lbnRPYmplY3QiLCJzZWxlY3REYXRlIiwiaW5pdERhdGUiLCJpbml0SG91cnMiLCJpbml0TWludXRlcyIsImlzQWZ0ZXJNaW5EYXRlIiwiY2hlY2tIb3VyIiwiY2hlY2tNaW51dGUiLCJfcmV0dXJuIiwiX21pbkRhdGUiLCJfZGF0ZSIsImhvdXIiLCJzZWNvbmQiLCJtaWxsaXNlY29uZCIsInBhcnNlSW50IiwiaXNCZWZvcmVNYXhEYXRlIiwiY2hlY2tUaW1lIiwiX21heERhdGUiLCJjYWxlbmRhclN0YXJ0Iiwic2V0TmFtZSIsInRleHQiLCJwb3NzaWJsZSIsImNoYXJBdCIsImZsb29yIiwicmFuZG9tIiwiaXNQTSIsImluY3JlbWVudFllYXIiLCJhbW91bnQiLCJpc05leHRZZWFyVmlzaWJsZSIsImFkZCIsImlzUHJldmlvdXNZZWFyVmlzaWJsZSIsImlzUHJldmlvdXNNb250aFZpc2libGUiLCJzdGFydE9mIiwiaXNOZXh0TW9udGhWaXNpYmxlIiwiZW5kT2YiLCJpc0hvdXJBdmFpbGFibGUiLCJjb252ZXJ0SG91cnMiLCJpc01pbnV0ZUF2YWlsYWJsZSIsIm9rIiwic2VsZWN0TW9udGhCZWZvcmUiLCJzdWJ0cmFjdCIsInNlbGVjdE1vbnRoQWZ0ZXIiLCJzZWxlY3RZZWFyQmVmb3JlIiwic2VsZWN0WWVhckFmdGVyIiwic2VsZWN0QU0iLCJzZWxlY3RQTSIsIm9rQnRuIiwiWUVBUl9NSU4iLCJZRUFSX01BWCIsIk1PTlRIU19JTl9BTEwiLCJJVEVNX0hFSUdIVCIsIk1PTlRIUyIsImN1cnJlbnRNb250aEluZGV4IiwieWVhciIsIm1vbnRoIiwicGlja2VyIiwiY2FsZW5kYXIiLCJkYXlzIiwidG9TdHJpbmciLCJ3ZWVrIiwibG93IiwiaGlnaCIsIm1vbnRocyIsInNsaWNlIiwiZ2V0SXRlbUF0SW5kZXgiLCJpbmRleCIsIm1vbnRoT2JqIiwiZ2VuZXJhdGVNb250aENhbGVuZGFyIiwidG9wSW5kZXgiLCJ2YWwyIiwidmFsMSIsIm5EYXRlIiwic3RhcnRPZk1vbnRoIiwiaU51bURheSIsImRheXNJbk1vbnRoIiwiaVdlZWsiLCJpbmRleE9mIiwiZGF5c0luQVdlZWsiLCJkYXlzVG1wIiwic2xpY2VzIiwiY2VpbCIsInRvRGF5Iiwic3Vic3RyaW5nIiwiaXNJblJhbmdlIiwiaXNTZWxlY3RlZERheSIsIiRjb21waWxlIiwiYnVpbGRDYWxlbmRhckNvbnRlbnQiLCJ0Ym9keSIsInF1ZXJ5U2VsZWN0b3IiLCJjYWwiLCJ3ZWVrRGF5cyIsInRyIiwid2Vla0RheSIsInRkIiwiYU9yU3BhbiIsInNjb3BlUmVmIiwiYWRkQ2xhc3MiLCJhcHBlbmQiLCJpZHgiLCJvbGRJZHgiLCJtaW51dGVNb2RlIiwibW9kZSIsImNvbXBvbmVudFJvb3QiLCJjbG9jayIsInBpY2tlckVsIiwidyIsIm9mZnNldFdpZHRoIiwicGwiLCJwciIsIm1sIiwibXIiLCJjbG9ja1dpZHRoIiwicEwiLCJwVCIsIm1MIiwibVQiLCJyIiwicG9pbnRzIiwic2luIiwiUEkiLCJ5IiwiY29zIiwibGVmdCIsInRvcCIsImRpc3BsYXkiLCJzZXRDdXJyZW50VmFsdWUiLCJjbG9ja0NlbnRlciIsImNlbnRlcldpZHRoIiwiY2VudGVySGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiX2hMIiwiX21MIiwibWFyZ2luVG9wIiwiYW5pbWF0ZUhhbmRzIiwicm90YXRlRWxlbWVudCIsIm1kZyIsImRlZyIsIldlYmtpdFRyYW5zZm9ybSIsIi1tb3otdHJhbnNmb3JtIiwiY3VycmVudFZhbHVlIiwidG1wIiwibmV3VmFsIiwic2V0RGlzcGxheVBvaW50cyIsImNvcHkiLCJzZXRUaW1lIiwidmFsIiwicG9pbnRBdmFpbGFibGUiLCJwb2ludCIsInVud2F0Y2hlciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjYWxsIiwiNDkyIiwid2VicGFja0NvbnRleHQiLCJyZXEiLCJ3ZWJwYWNrQ29udGV4dFJlc29sdmUiLCJtYXAiLCIuL2FmIiwiLi9hZi5qcyIsIi4vYXIiLCIuL2FyLWR6IiwiLi9hci1kei5qcyIsIi4vYXItbHkiLCIuL2FyLWx5LmpzIiwiLi9hci1tYSIsIi4vYXItbWEuanMiLCIuL2FyLXNhIiwiLi9hci1zYS5qcyIsIi4vYXItdG4iLCIuL2FyLXRuLmpzIiwiLi9hci5qcyIsIi4vYXoiLCIuL2F6LmpzIiwiLi9iZSIsIi4vYmUuanMiLCIuL2JnIiwiLi9iZy5qcyIsIi4vYm4iLCIuL2JuLmpzIiwiLi9ibyIsIi4vYm8uanMiLCIuL2JyIiwiLi9ici5qcyIsIi4vYnMiLCIuL2JzLmpzIiwiLi9jYSIsIi4vY2EuanMiLCIuL2NzIiwiLi9jcy5qcyIsIi4vY3YiLCIuL2N2LmpzIiwiLi9jeSIsIi4vY3kuanMiLCIuL2RhIiwiLi9kYS5qcyIsIi4vZGUiLCIuL2RlLWF0IiwiLi9kZS1hdC5qcyIsIi4vZGUuanMiLCIuL2R2IiwiLi9kdi5qcyIsIi4vZWwiLCIuL2VsLmpzIiwiLi9lbi1hdSIsIi4vZW4tYXUuanMiLCIuL2VuLWNhIiwiLi9lbi1jYS5qcyIsIi4vZW4tZ2IiLCIuL2VuLWdiLmpzIiwiLi9lbi1pZSIsIi4vZW4taWUuanMiLCIuL2VuLW56IiwiLi9lbi1uei5qcyIsIi4vZW8iLCIuL2VvLmpzIiwiLi9lcyIsIi4vZXMtZG8iLCIuL2VzLWRvLmpzIiwiLi9lcy5qcyIsIi4vZXQiLCIuL2V0LmpzIiwiLi9ldSIsIi4vZXUuanMiLCIuL2ZhIiwiLi9mYS5qcyIsIi4vZmkiLCIuL2ZpLmpzIiwiLi9mbyIsIi4vZm8uanMiLCIuL2ZyIiwiLi9mci1jYSIsIi4vZnItY2EuanMiLCIuL2ZyLWNoIiwiLi9mci1jaC5qcyIsIi4vZnIuanMiLCIuL2Z5IiwiLi9meS5qcyIsIi4vZ2QiLCIuL2dkLmpzIiwiLi9nbCIsIi4vZ2wuanMiLCIuL2hlIiwiLi9oZS5qcyIsIi4vaGkiLCIuL2hpLmpzIiwiLi9ociIsIi4vaHIuanMiLCIuL2h1IiwiLi9odS5qcyIsIi4vaHktYW0iLCIuL2h5LWFtLmpzIiwiLi9pZCIsIi4vaWQuanMiLCIuL2lzIiwiLi9pcy5qcyIsIi4vaXQiLCIuL2l0LmpzIiwiLi9qYSIsIi4vamEuanMiLCIuL2p2IiwiLi9qdi5qcyIsIi4va2EiLCIuL2thLmpzIiwiLi9rayIsIi4va2suanMiLCIuL2ttIiwiLi9rbS5qcyIsIi4va28iLCIuL2tvLmpzIiwiLi9reSIsIi4va3kuanMiLCIuL2xiIiwiLi9sYi5qcyIsIi4vbG8iLCIuL2xvLmpzIiwiLi9sdCIsIi4vbHQuanMiLCIuL2x2IiwiLi9sdi5qcyIsIi4vbWUiLCIuL21lLmpzIiwiLi9taSIsIi4vbWkuanMiLCIuL21rIiwiLi9tay5qcyIsIi4vbWwiLCIuL21sLmpzIiwiLi9tciIsIi4vbXIuanMiLCIuL21zIiwiLi9tcy1teSIsIi4vbXMtbXkuanMiLCIuL21zLmpzIiwiLi9teSIsIi4vbXkuanMiLCIuL25iIiwiLi9uYi5qcyIsIi4vbmUiLCIuL25lLmpzIiwiLi9ubCIsIi4vbmwtYmUiLCIuL25sLWJlLmpzIiwiLi9ubC5qcyIsIi4vbm4iLCIuL25uLmpzIiwiLi9wYS1pbiIsIi4vcGEtaW4uanMiLCIuL3BsIiwiLi9wbC5qcyIsIi4vcHQiLCIuL3B0LWJyIiwiLi9wdC1ici5qcyIsIi4vcHQuanMiLCIuL3JvIiwiLi9yby5qcyIsIi4vcnUiLCIuL3J1LmpzIiwiLi9zZSIsIi4vc2UuanMiLCIuL3NpIiwiLi9zaS5qcyIsIi4vc2siLCIuL3NrLmpzIiwiLi9zbCIsIi4vc2wuanMiLCIuL3NxIiwiLi9zcS5qcyIsIi4vc3IiLCIuL3NyLWN5cmwiLCIuL3NyLWN5cmwuanMiLCIuL3NyLmpzIiwiLi9zcyIsIi4vc3MuanMiLCIuL3N2IiwiLi9zdi5qcyIsIi4vc3ciLCIuL3N3LmpzIiwiLi90YSIsIi4vdGEuanMiLCIuL3RlIiwiLi90ZS5qcyIsIi4vdGV0IiwiLi90ZXQuanMiLCIuL3RoIiwiLi90aC5qcyIsIi4vdGwtcGgiLCIuL3RsLXBoLmpzIiwiLi90bGgiLCIuL3RsaC5qcyIsIi4vdHIiLCIuL3RyLmpzIiwiLi90emwiLCIuL3R6bC5qcyIsIi4vdHptIiwiLi90em0tbGF0biIsIi4vdHptLWxhdG4uanMiLCIuL3R6bS5qcyIsIi4vdWsiLCIuL3VrLmpzIiwiLi91eiIsIi4vdXouanMiLCIuL3ZpIiwiLi92aS5qcyIsIi4veC1wc2V1ZG8iLCIuL3gtcHNldWRvLmpzIiwiLi95byIsIi4veW8uanMiLCIuL3poLWNuIiwiLi96aC1jbi5qcyIsIi4vemgtaGsiLCIuL3poLWhrLmpzIiwiLi96aC10dyIsIi4vemgtdHcuanMiLCJrZXlzIiwicmVzb2x2ZSIsIjYwMSIsIjYwMiIsIjYwMyIsIl9nZXRPd25Qcm9wZXJ0eU5hbWVzIiwiX2dldE93blByb3BlcnR5TmFtZXMyIiwiJHdpbmRvdyIsImVuZGluZyIsInRyYW5zY2x1ZGUiLCJjdHJsIiwibGlua2VyIiwiY2xpZW50aWQiLCJ0ZXN0IiwiJHNldCIsInRoZW1lIiwiZGVmYXVsdHMiLCJjYWxsYmFjayIsImNvb2tpZXBvbGljeSIsInJlcXVlc3R2aXNpYmxlYWN0aW9ucyIsIndpZHRoIiwicHJvcE5hbWUiLCIkb2JzZXJ2ZSIsIl9fX2djZmciLCJwbyIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiYXN5bmMiLCJzcmMiLCJzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwidFNjb3BlIiwib25sb2FkIiwiZ2FwaSIsInNpZ25pbiIsInJlbmRlciIsIiRyb290U2NvcGUiLCJzaWduaW5DYWxsYmFjayIsImF1dGhSZXN1bHQiLCJhY2Nlc3NfdG9rZW4iLCIkYnJvYWRjYXN0IiwiNjQ2IiwiNjQ3IiwiNjQ4IiwiNjQ5IiwiNjUxIiwiJGxvZyIsIiRzdGF0ZVBhcmFtcyIsIiRzdGF0ZSIsIlNlc3Npb25zU2VydmljZSIsIkRldmljZXNTZXJ2aWNlIiwiTG9jYXRpb25zU2VydmljZSIsIkNvbW1hbmRzU2VydmljZSIsIlRpbWV6b25lc1NlcnZpY2UiLCJzd2VldCIsIlByb2dyZXNzQmFyU2VydmljZSIsIlRvYXN0c1NlcnZpY2UiLCIkdGltZW91dCIsInZtIiwidGVuYW50S2V5IiwiZGV2aWNlS2V5IiwiZnJvbURldmljZXMiLCJjdXJyZW50RGV2aWNlIiwiY29tbWFuZEV2ZW50cyIsImdlbmVyYXRlTG9jYWxGcm9tVVRDIiwiVVRDVGltZSIsImxvY2FsVGltZSIsInV0YyIsInRvRGF0ZSIsInJlcGxhY2VDb21tYW5kVGltZSIsImlzc3VlcyIsImVhY2giLCJwb3N0ZWRUaW1lIiwiY29uZmlybWVkVGltZSIsImdldEV2ZW50cyIsInByZXYiLCJuZXh0IiwiY29tbWFuZEV2ZW50c1Byb21pc2UiLCJnZXRDb21tYW5kRXZlbnRzQnlLZXkiLCJldmVudHMiLCJldmVudF9uZXh0X2N1cnNvciIsIm5leHRfY3Vyc29yIiwiZXZlbnRfcHJldl9jdXJzb3IiLCJwcmV2X2N1cnNvciIsImdldEV2ZW50c1RpbWVPdXQiLCJjb21tYW5kSGlzdG9yeVNlbGVjdGVkIiwicGFnaW5hdGVFdmVudENhbGwiLCJmb3J3YXJkIiwiaW5pdGlhbGl6ZSIsImRldmljZVByb21pc2UiLCJnZXREZXZpY2VCeUtleSIsIm9uR2V0RGV2aWNlU3VjY2VzcyIsIm9uR2V0RGV2aWNlRmFpbHVyZSIsInRpbWV6b25lIiwic2VsZWN0ZWRUaW1lem9uZSIsImJhY2tVcmwiLCJiYWNrVXJsVGV4dCIsImlzVW5tYW5hZ2VkRGV2aWNlIiwic2hvd0Vycm9yVG9hc3QiLCJlcnJvck1lc3NhZ2UiLCJzdGF0dXNUZXh0IiwiZXJyb3IiLCJnbyIsIm9uUmVzZXRDb250ZW50IiwicHJvbWlzZSIsImNvbnRlbnREZWxldGUiLCJvblJlc2V0Q29udGVudFN1Y2Nlc3MiLCJvblJlc2V0Q29udGVudEZhaWx1cmUiLCJzaG93U3VjY2Vzc1RvYXN0Iiwib25VcGRhdGVDb250ZW50IiwiY29udGVudFVwZGF0ZSIsIm9uVXBkYXRlQ29udGVudFN1Y2Nlc3MiLCJvblVwZGF0ZUNvbnRlbnRGYWlsdXJlIiwib25SZXNldFBsYXllciIsIm9uUmVzZXRQbGF5ZXJTdWNjZXNzIiwib25SZXNldFBsYXllckZhaWx1cmUiLCJvblBhbmVsT24iLCJwb3dlck9uIiwib25QYW5lbE9uU3VjY2VzcyIsIm9uUGFuZWxPbkZhaWx1cmUiLCJvblBhbmVsT2ZmIiwicG93ZXJPZmYiLCJvblBhbmVsT2ZmU3VjY2VzcyIsIm9uUGFuZWxPZmZGYWlsdXJlIiwib25VcGRhdGVEZXZpY2UiLCJ1cGRhdGVEZXZpY2UiLCJvblVwZGF0ZURldmljZVN1Y2Nlc3MiLCJvblVwZGF0ZURldmljZUZhaWx1cmUiLCJvblZvbHVtZUNoYW5nZSIsInZvbHVtZSIsIm9uVm9sdW1lQ2hhbmdlU3VjY2VzcyIsIm9uVm9sdW1lQ2hhbmdlRmFpbHVyZSIsImxldmVsIiwib25DdXN0b21Db21tYW5kIiwiY3VzdG9tIiwib25DdXN0b21Db21tYW5kU3VjY2VzcyIsIm9uQ3VzdG9tQ29tbWFuZEZhaWx1cmUiLCJjb21tYW5kIiwib25EaWFnbm9zdGljc1RvZ2dsZSIsInRvZ2dsZURpYWdub3N0aWNzIiwib25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MiLCJvblRvZ2dsZURpYWdub3N0aWNzRmFpbHVyZSIsIm9uUmVzdGFydCIsInJlc3RhcnQiLCJvblJlc3RhcnRTdWNjZXNzIiwib25SZXN0YXJ0RmFpbHVyZSIsIm9uUG9zdExvZyIsInBvc3RMb2ciLCJvblBvc3RMb2dTdWNjZXNzIiwib25Qb3N0TG9nRmFpbHVyZSIsIjY1MiIsIlRlbmFudHNTZXJ2aWNlIiwiSW50ZWdyYXRpb25FdmVudHMiLCJEYXRlTWFuaXB1bGF0aW9uU2VydmljZSIsIkltYWdlU2VydmljZSIsInRlbmFudFVybCIsInRlbmFudE92ZXJsYXlVcmwiLCJsb2NhdGlvbnMiLCJkYXlSYW5nZSIsInRpbWV6b25lcyIsIl9EYXRlTWFuaXB1bGF0aW9uU2VydiIsImNyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheSIsIl9EYXRlTWFuaXB1bGF0aW9uU2VydjIiLCJfc2xpY2VkVG9BcnJheTMiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiZW5yb2xsbWVudEV2ZW50cyIsImxvZ29DaGFuZ2UiLCJjb250cm9sc01vZGVPcHRpb25zIiwib3JpZW50YXRpb25PcHRpb25zIiwic2xlZXBDb250cm9sbGVyT3B0aW9ucyIsIm92ZXJsYXlDaGFuZ2VkIiwiY2hlY2tGb3JPdmVybGF5Q2hhbmdlcyIsImNoYW5nZWQiLCJjdXJyZW50RGV2aWNlT3ZlcmxheXMiLCJvdmVybGF5cyIsImN1cnJlbnREZXZpY2VDb3B5T3ZlcmxheXMiLCJjdXJyZW50RGV2aWNlQ29weSIsInBvc2l0aW9ucyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJfZ2V0SXRlcmF0b3IzIiwiZG9uZSIsInBvcyIsInNpemUiLCJlcnIiLCJyZXR1cm4iLCJyZXZlcnRUb1RlbmFudE92ZXJsYXkiLCJldiIsImxvYWRpbmdPdmVybGF5cyIsInRlbmFudFByb21pc2UiLCJnZXRUZW5hbnRCeUtleSIsInRlbmFudCIsImN1cnJlbnRUZW5hbnRPdmVybGF5cyIsImtleSIsInNhdmVPdmVybGF5U2V0dGluZ3MiLCJib3R0b21fbGVmdCIsImJvdHRvbV9yaWdodCIsInRvcF9yaWdodCIsInRvcF9sZWZ0IiwicmVzIiwiY2F0Y2giLCJhZGp1c3RDb250cm9sc01vZGUiLCJjb250cm9sc01vZGUiLCJjb250cm9sc1Byb21pc2UiLCJhZGp1c3RPdmVybGF5U3RhdHVzIiwib3ZlcmxheVN0YXR1cyIsInNhdmUiLCJzdWJtaXRPdmVybGF5U2V0dGluZ3MiLCJvdmVybGF5U2V0dGluZ3MiLCJnZXRUZW5hbnRJbWFnZXNBbmRSZWZyZXNoRGV2aWNlIiwiZ2V0VGVuYW50SW1hZ2VzIiwiT1ZFUkxBWV9UWVBFUyIsInJlYWxOYW1lIiwibmV3IiwiaW1hZ2Vfa2V5IiwiZ2V0SW1hZ2VzIiwidGVuYW50SW1hZ2VzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiX2FyciIsIl9pIiwic2l6ZU9wdGlvbiIsIm5ld1ZhbHVlIiwic29ydCIsIl9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyIiwicmVwbGFjZUlzc3VlVGltZSIsImNyZWF0ZWQiLCJ1cGRhdGVkIiwibG9jYWxGcm9tVXRjIiwidXRjVGltZXN0YW1wIiwiY29weURldmljZUtleSIsImNvcHlDb3JyZWxhdGlvbklkZW50aWZpZXIiLCJnZXRJc3N1ZXMiLCJkZXZpY2UiLCJlcG9jaFN0YXJ0IiwiZXBvY2hFbmQiLCJpc3N1ZXNQcm9taXNlIiwiZ2V0SXNzdWVzQnlLZXkiLCJnZXRFbnJvbGxtZW50RXZlbnRzIiwiZW5yb2xsbWVudEV2ZW50c1Byb21pc2UiLCJwYWdpbmF0ZUNhbGwiLCJ1bml4IiwidGltZXpvbmVQcm9taXNlIiwiZ2V0Q3VzdG9tVGltZXpvbmVzIiwicGFuZWxNb2RlbHMiLCJnZXRQYW5lbE1vZGVscyIsInBhbmVsSW5wdXRzIiwiZ2V0UGFuZWxJbnB1dHMiLCJsb2NhdGlvbnNQcm9taXNlIiwiZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXkiLCJzZXRTZWxlY3RlZE9wdGlvbnMiLCJwYW5lbE1vZGVsIiwicGFuZWxJbnB1dCIsImlzUGFyZW50IiwicGFyZW50SWQiLCJ0b0xvd2VyQ2FzZSIsImxvY2F0aW9uS2V5Iiwib25TYXZlRGV2aWNlIiwicGFuZWxNb2RlbE51bWJlciIsInBhbmVsU2VyaWFsSW5wdXQiLCJvblN1Y2Nlc3NEZXZpY2VTYXZlIiwib25GYWlsdXJlRGV2aWNlU2F2ZSIsImluZm8iLCJvblBhbmVsU2xlZXAiLCJwYW5lbFNsZWVwIiwib25QYW5lbFNsZWVwU3VjY2VzcyIsIm9uUGFuZWxTbGVlcEZhaWx1cmUiLCJjb25maXJtRGV2aWNlRGVsZXRlIiwiZXZlbnQiLCJjb25maXJtIiwidGl0bGUiLCJ0ZXh0Q29udGVudCIsInRhcmdldEV2ZW50Iiwic2hvd1Byb21pc2UiLCJzdWNjZXNzIiwib25Db25maXJtRGVsZXRlIiwiZmFpbHVyZSIsIm9uQ29uZmlybUNhbmNlbCIsImZyaWVuZGx5TWVzc2FnZSIsImRlbGV0ZVByb21pc2UiLCJkZWxldGUiLCJzaG93SW5mb1RvYXN0Iiwib25Qcm9vZk9mUGxheUxvZ2dpbmdDaGVjayIsInByb29mT2ZQbGF5TG9nZ2luZyIsIm5vTG9jYXRpb24iLCJub0Rpc3BsYXlDb2RlIiwiY3VzdG9tZXJEaXNwbGF5Q29kZSIsIm9uVXBkYXRlTG9jYXRpb24iLCJhdXRvR2VuZXJhdGVDdXN0b21lckRpc3BsYXlDb2RlIiwibmV3RGlzcGxheUNvZGUiLCJjdXN0b21lckRpc3BsYXlOYW1lIiwibG9nZ2x5Rm9yVXNlciIsInVzZXJEb21haW4iLCJnZXRVc2VyRW1haWwiLCJzcGxpdCIsIm9uQ2xpY2tSZWZyZXNoQnV0dG9uIiwiY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5Iiwib25SZWZyZXNoSXNzdWVzU3VjY2VzcyIsIm9uUmVmcmVzaElzc3Vlc0ZhaWx1cmUiLCJfZ2V0SXRlcmF0b3IyIiwiX3NsaWNlZFRvQXJyYXkyIiwiX2phdmFzY3JpcHROYXR1cmFsU29ydCIsIjY2MyIsIiRxIiwiZGVib3VuY2UiLCJkaXN0cmlidXRvcktleSIsImRldmljZXMiLCJkZXZpY2VzUHJldiIsImRldmljZXNOZXh0Iiwic2VsZWN0ZWRCdXR0b24iLCJzZXJpYWxEZXZpY2VzIiwiZGlzYWJsZWQiLCJtYWNEZXZpY2VzIiwiZ2NtaWREZXZpY2VzIiwidGhyb3R0bGVkU2VhcmNoIiwidW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24iLCJ1bm1hbmFnZWRTZXJpYWxEZXZpY2VzIiwidW5tYW5hZ2VkRGlzYWJsZWQiLCJ1bm1hbmFnZWREZXZpY2VzUHJldiIsInVubWFuYWdlZERldmljZXNOZXh0IiwidW5tYW5hZ2VkRGV2aWNlcyIsInVubWFuYWdlZE1hY0RldmljZXMiLCJ1bm1hbmFnZWRHQ01pZERldmljZXMiLCJkZXZpY2VzVG9NYXRjaE9uVW5tYW5hZ2VkIiwiZGV2aWNlc1RvTWF0Y2hPbk1hbmFnZWQiLCJyZWZyZXNoTWFuYWdlZERldmljZXMiLCJnZXRNYW5hZ2VkRGV2aWNlcyIsInJlZnJlc2hVbm1hbmFnZWREZXZpY2VzIiwiZ2V0VW5tYW5hZ2VkRGV2aWNlcyIsImNoYW5nZVJhZGlvIiwidW5tYW5hZ2VkIiwidW5tYW5hZ2VkU2VhcmNoVGV4dCIsInNlYXJjaFRleHQiLCJlZGl0SXRlbSIsIml0ZW0iLCJwcmVwYXJlRm9yRWRpdFZpZXciLCJtYWMiLCJzZXJpYWwiLCJnY21pZCIsImNvbnRyb2xPcGVuQnV0dG9uIiwiaXNNYXRjaCIsInVubWFuYWdlZERpc2FibGVkQnV0dG9uTG9hZGluZyIsImRpc2FibGVkQnV0dG9uTG9hZGluZyIsImlzUmVzb3VyY2VWYWxpZCIsInJlc291cmNlIiwiZGV2aWNlc1RvTWF0Y2hPbiIsImZvdW5kTWF0Y2giLCJzZWFyY2hEZXZpY2VzIiwicGFydGlhbCIsImRlZmVycmVkIiwiZGVmZXIiLCJidXR0b24iLCJieVRlbmFudCIsImRldmljZXNUb1JldHVybiIsImRldmljZXNQcm9taXNlIiwiZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3IiLCJnZXRGZXRjaFN1Y2Nlc3MiLCJnZXRGZXRjaEZhaWx1cmUiLCJ1bm1hbmFnZWREZXZpY2VzUHJvbWlzZSIsImdldFVubWFuYWdlZERldmljZXNCeURpc3RyaWJ1dG9yIiwiZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5IiwibWFuYWdlZCIsIjY2NCIsIkFkbWluU2VydmljZSIsIkRpc3RyaWJ1dG9yc1NlcnZpY2UiLCJwYXVsc0N1cnJlbnREaXN0cmlidXRvck5hbWUiLCJzZWFyY2hlZFRlbmFudHMiLCJ0ZW5hbnRTZWFyY2hNYXRjaCIsInRlbmFudFNlYXJjaERpc2FibGVkIiwibG9hZGluZ0Rpc2FibGVkIiwibWF0Y2hEZXZpY2UiLCJkaXN0cmlidXRvciIsImdsb2JhbGx5Iiwic2VhcmNoQWxsVGVuYW50c0J5TmFtZSIsInRlbmFudF9uYW1lIiwiaXNUZW5hbnRWYWxpZCIsImVhY2hOYW1lIiwic2VhcmNoTWF0Y2giLCJnZXRBbGxEaXN0cmlidXRvcnMiLCJsb2FkaW5nQWxsRGlzdHJpYnV0b3JzIiwiZ2V0QWxsRGlzdHJpYnV0b3JzUHJvbWlzZSIsImFsbERpc3RyaWJ1dG9ycyIsIm1ha2VEaXN0cmlidXRvciIsImRpc3RyaWJ1dG9yTmFtZSIsImFkbWluRW1haWwiLCJmb3JtIiwiYXJpYUxhYmVsIiwibWFrZURpc3RyaWJ1dG9yUHJvbWlzZSIsIiRzZXRQcmlzdGluZSIsIiRzZXRVbnRvdWNoZWQiLCJzZXRUaW1lb3V0IiwiYWRkVXNlclRvRGlzdHJpYnV0b3IiLCJ1c2VyRW1haWwiLCJkaXN0cmlidXRvckFkbWluIiwid2hpY2hEaXN0cmlidXRvciIsIndpdGhPcldpdGhvdXQiLCJkaXN0cmlidXRvcnNBc0FkbWluIiwiYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlIiwidXNlciIsImdldFVzZXJzT2ZEaXN0cmlidXRvciIsInN3aXRjaERpc3RyaWJ1dG9yIiwibG9hZGluZ1VzZXJzT2ZEaXN0cmlidXRvciIsImN1cnJlbnREaXN0cmlidXRvcktleSIsInVzZXJzb2ZEaXN0cmlidXRvclByb21pc2UiLCJ1c2Vyc09mRGlzdHJpYnV0b3IiLCJpc0FkbWluIiwiZ2V0SXNBZG1pbiIsImdldERpc3RyaWJ1dG9yc0FzQWRtaW4iLCJjdXJyZW50RGlzdHJpYnV0b3JOYW1lIiwiZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSIsImVkaXRUZW5hbnQiLCI2NjUiLCJpZGVudGl0eSIsIlByb29mUGxheVNlcnZpY2UiLCJvbkdvb2dsZVBsdXNTaWduSW5TdWNjZXNzIiwiZ29vZ2xlUGx1c1NpZ25JbkJ1dHRvbkNsaWNrZWQiLCJyZW1vdmVVc2VySW5mbyIsImxvZ2luIiwibG9naW5TdWNjZXNzIiwibG9naW5GYWlsdXJlIiwib25Hb29nbGVQbHVzU2lnbkluRmFpbHVyZSIsImluaXRpYWxpemVTaWduSW4iLCJjbGllbnRJZCIsIk9BVVRIX0NMSUVOVF9JRCIsIlNUQVRFIiwiaW5pdGlhbGl6ZVNpZ25PdXQiLCJwcm9jZWVkVG9TaWduZWRPdXQiLCJwcm9jZWVkVG9TaWduSW4iLCJvbkNsaWNrR29vZ2xlUGx1c1NpZ25JbiIsIjY2NiIsIiRtZFNpZGVuYXYiLCJjdXJyZW50RGlzdHJpYnV0ZXJJbkRpc3RyaWJ1dGVyQWRtaW5MaXN0IiwiZ2V0SWRlbnRpdHkiLCJnZXRVc2VyS2V5IiwiZW1haWwiLCJhZG1pbiIsImRpc3RyaWJ1dG9yX2FkbWluIiwiYWRtaW5fb2ZfY3VycmVudF9kaXN0cmlidXRvciIsImlzQ3VycmVudFVSTERpc3RyaWJ1dG9yU2VsZWN0b3IiLCJzZWFyY2giLCJyZXN1bHQiLCJ0b2dnbGVTaWRlbmF2IiwidG9nZ2xlIiwiZ29UbyIsInN0YXRlTmFtZSIsImlzT3BlbiIsImNsb3NlIiwiNjg5IiwiZGlzdHJpYnV0b3JzIiwiY3VycmVudERpc3RyaWJ1dG9yIiwibG9hZGluZyIsImxvZWFkaW5nIiwiZGlzdHJpYnV0b3JzUHJvbWlzZSIsImZldGNoQWxsQnlVc2VyIiwic2VsZWN0RGlzdHJpYnV0b3IiLCI2OTAiLCI2OTEiLCJEb21haW5zU2VydmljZSIsImRvbWFpbnMiLCJmZXRjaEFsbERvbWFpbnMiLCJkb21haW5LZXkiLCJkZWxldGVJdGVtIiwic2hvd0NhbmNlbEJ1dHRvbiIsImNvbmZpcm1CdXR0b25Db2xvciIsImNvbmZpcm1CdXR0b25UZXh0IiwiY2xvc2VPbkNvbmZpcm0iLCI2OTIiLCJjdXJyZW50RG9tYWluIiwiaW1wZXJzb25hdGlvbl9hZG1pbl9lbWFpbF9hZGRyZXNzIiwiZGlzdHJpYnV0b3Jfa2V5Iiwib3JnYW5pemF0aW9uX3VuaXRfcGF0aCIsImFjdGl2ZSIsImRldmljZXNBY2Nlc3MiLCJvcmdVbml0c0FjY2VzcyIsInVzZXJzQWNjZXNzIiwiY3VycmVudERvbWFpbnMiLCJlZGl0TW9kZSIsImRvbWFpblByb21pc2UiLCJnZXREb21haW5CeUtleSIsImNvbm5lY3Rpdml0eVByb21pc2UiLCJnZXREaXJlY3RvcnlBcGlDb25uZWN0aXZpdHlJbmZvcm1hdGlvbiIsIm9uU3VjY2Vzc0RldGVybWluaW5nQ29ubmVjdGl2aXR5Iiwib25GYWlsdXJlRGV0ZXJtaW5pbmdDb25uZWN0aXZpdHkiLCJkZXZpY2VzQWNjZXNzRXhjZXB0aW9uIiwib3JnVW5pdHNBY2Nlc3NFeGNlcHRpb24iLCJ1c2Vyc0FjY2Vzc0V4Y2VwdGlvbiIsIm9uU2F2ZURvbWFpbiIsIm9uU3VjY2Vzc1NhdmVEb21haW4iLCJvbkZhaWx1cmVTYXZlRG9tYWluIiwiNjkzIiwicmFkaW9CdXR0b25DaG9pY2VzIiwiZ3JvdXAxIiwiZ3JvdXAyIiwic2VsZWN0aW9uIiwiZGF0ZVRpbWVTZWxlY3Rpb24iLCJlbmQiLCJmb3JtVmFsaWRpdHkiLCJzdGFydF9kYXRlIiwiZW5kX2RhdGUiLCJub19jYWNoZSIsImRpc2FibGVkVGVuYW50Iiwic2VsZWN0ZWRfbG9jYXRpb25zIiwiZ2V0QWxsTG9jYXRpb25zIiwiaGFkX3NvbWVfaXRlbXMiLCJyZWZyZXNoTG9jYXRpb25zIiwic2VsZWN0ZWRJdGVtIiwiYWRkVG9TZWxlY3RlZExvY2F0aW9ucyIsImlzTG9jYXRpb25WYWxpZCIsInNwbGljZSIsImFyZUxvY2F0aW9uc1ZhbGlkIiwiaXNEaXNhYmxlZCIsInF1ZXJ5U2VhcmNoIiwiaXNSYWRpb1ZhbGlkIiwiX19pbl9fIiwiaXNTdGFydERhdGVWYWxpZCIsIkRhdGUiLCJpc0VuZERhdGVWYWxpZCIsInJlbW92ZUZyb21TZWxlY3RlZExvY2F0aW9uIiwiZmluYWwiLCJzdGFydF9kYXRlX3VuaXgiLCJlbmRfZGF0ZV91bml4Iiwic3VibWl0IiwiZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlIiwiZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQiLCJ0ZW5hbnRzIiwiY3VycmVudFRlbmFudCIsImluaXRpYWxpemVfdGVuYW50X3NlbGVjdCIsImdldEFsbFRlbmFudHMiLCJyZXNvdXJjZXMiLCJpc1NlbGVjdGlvblZhbGlkIiwic3VibWl0VGVuYW50IiwibmVlZGxlIiwiaGF5c3RhY2siLCI2OTQiLCJkaXNwbGF5cyIsInNlbGVjdGVkX2Rpc3BsYXlzIiwiZ2V0QWxsRGlzcGxheXMiLCJyZWZyZXNoRGlzcGxheXMiLCJhZGRUb1NlbGVjdGVkRGlzcGxheXMiLCJpc0Rpc3BsYXlWYWxpZCIsImFyZURpc3BsYXlzVmFsaWQiLCJyZW1vdmVGcm9tU2VsZWN0ZWREaXNwbGF5IiwiZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNCeURhdGUiLCJkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQiLCI2OTUiLCJzZWxlY3RlZF9yZXNvdXJjZXMiLCJnZXRBbGxSZXNvdXJjZXMiLCJmdWxsX3Jlc291cmNlX21hcCIsInJlc291cmNlX25hbWUiLCJyZWZyZXNoUmVzb3VyY2VzIiwiYWRkVG9TZWxlY3RlZFJlc291cmNlcyIsImFyZVJlc291cmNlc1ZhbGlkIiwicmVtb3ZlRnJvbVNlbGVjdGVkUmVzb3VyY2UiLCJyZXNvdXJjZXNfYXNfaWRzIiwiZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGV2aWNlIiwiZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZSIsIjY5NiIsImNob3Nlbl90ZW5hbnQiLCJyZWZyZXNoVGVuYW50cyIsIm1ha2VIVFRQVVJMIiwiNjk3IiwiJCIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY2xhc3NDYWxsQ2hlY2szIiwiX2NyZWF0ZUNsYXNzMiIsIl9jcmVhdGVDbGFzczMiLCJSZXN0YW5ndWxhciIsInRlbmFudF91cmxzYWZlX2tleSIsIm9uZVVybCIsImdldExpc3QiLCJmb3JtRGF0YSIsImFqYXgiLCJ1cmwiLCJwcm9jZXNzRGF0YSIsImNvbnRlbnRUeXBlIiwiaW1hZ2VfdXJsc2FmZV9rZXkiLCJyZW1vdmUiLCI3MDMiLCJVU0VSX1NFUlZJQ0UiLCJESVNUUklCVVRPUl9TRVJWSUNFIiwiYWRtaW5fZW1haWwiLCJwYXlsb2FkIiwiY3VzdG9tUE9TVCIsInVzZXJfZW1haWwiLCI3MDQiLCJBdXRob3JpemF0aW9uU2VydmljZSIsInVzZXJLZXkiLCJ1c2VySldUIiwiZ2V0SldUIiwicmVqZWN0IiwiaGFzQXRMZWFzdE9uZURpc3RyaWJ1dG9yQWRtaW4iLCI3MDUiLCJTRVJWSUNFX05BTUUiLCJjdXN0b21QVVQiLCI3MDYiLCJpc01vbWVudCIsImRheXNCYWNrIiwic3RhcnRUaW1lTWlkTmlnaHQiLCJzdGFydFRpbWVFbmRPZkRheSIsImVuZFRpbWVNaWROaWdodCIsIjcwNyIsIiRodHRwIiwidXJpQmFzZSIsIm1hY0FkZHJlc3MiLCJkaWN0aW9uYXJ5IiwicmVzdWx0cyIsInBhcnRpYWxTZWFyY2giLCJfdGhpcyIsInNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxCeVRlbmFudCIsImlzTWFjIiwiaXNHQ01pZCIsInNlcmlhbERldmljZXNEaWN0IiwiY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaiIsImRldmljZVNlcmlhbHNPbmx5IiwicmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlIiwiX3RoaXMyIiwic2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbCIsInNlcmlhbERldmljZXNPbmx5IiwiX3RoaXMzIiwic2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEdsb2JhbGx5IiwiX3RoaXM0Iiwic2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0J5VGVuYW50IiwibWFjRGV2aWNlc0RpY3QiLCJkZXZpY2VNYWNzT25seSIsIl90aGlzNSIsInNlYXJjaERldmljZXNCeVBhcnRpYWxNYWMiLCJfdGhpczYiLCJzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjR2xvYmFsbHkiLCJfdGhpczciLCJzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZEJ5VGVuYW50IiwiZ2NtaWREZXZpY2VzRGljdCIsImdjbWlkRGV2aWNlc09ubHkiLCJfdGhpczgiLCJzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZCIsIkdDTWlkRGV2aWNlc0RpY3QiLCJfdGhpczkiLCJzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZEdsb2JhbGx5IiwiZGV2aWNlRGVmZXJyZWQiLCJleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEdsb2JhbGx5IiwiZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvciIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjR2xvYmFsbHkiLCJleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5VGVuYW50IiwiZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yIiwiZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEdsb2JhbGx5IiwiZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50IiwiZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5RGlzdHJpYnV0b3IiLCJyZWplY3RlZFByb21pc2UiLCJkZXZpY2VzUmVzdWx0IiwidGhlQXJyYXkiLCJnY20iLCJzdGFydEVwb2NoIiwiZW5kRXBvY2giLCJtYWtlRGV2aWNlc0J5VGVuYW50VVJMIiwicGFydGlhbF9zZXJpYWwiLCJwYXJ0aWFsX21hYyIsInBhcnRpYWxfZ2NtaWQiLCJtYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwiLCJhbGwiLCJwdXQiLCJkZXZpY2VfdXJsc2FmZV9rZXkiLCJvbmUiLCJkaXNwbGF5TmFtZSIsIjcwOCIsImRvR0VUIiwiZW50aXR5Iiwic2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSIsInNldEN1cnJlbnREaXN0cmlidXRvcktleSIsIjcwOSIsImRvbWFpbiIsIjcxMCIsIklkZW50aXR5U2VydmljZSIsIjcxMSIsIkNSRUFURV9URU5BTlRfRVZFTlRTIiwiRU5ST0xMTUVOVF9FVkVOVFMiLCJxdWVyeSIsImN1c3RvbUdFVCIsIjcxMiIsImN1c3RvbWVyX2xvY2F0aW9uX25hbWUiLCJjdXN0b21HRVRMSVNUIiwiNzEzIiwibmdQcm9ncmVzc0ZhY3RvcnkiLCJwcm9ncmVzc0JhciIsIjcxNCIsIm1ha2VIVFRQUmVxdWVzdCIsImJpbmQiLCJvcmlnaW4iLCJwcm90b2NvbCIsImhvc3RuYW1lIiwicG9ydCIsIndoZXJlX3RvX2dvIiwiYWxsUmVzb3VyY2VzIiwib3BlbiIsImFsbERldmljZXMiLCJhbGxMb2NhdGlvbnMiLCJsb3dlcmNhc2UiLCJmaWx0ZXIiLCJjcmVhdGVGaWx0ZXJGb3IiLCI3MTUiLCJfand0RGVjb2RlIiwiX2p3dERlY29kZTIiLCJjcmVkZW50aWFscyIsImlkX3Rva2VuIiwibWV0aG9kIiwidG9rZW4iLCJzZXRKV1QiLCJzZXREaXN0cmlidXRvcnMiLCJzZXREaXN0cmlidXRvcnNBc0FkbWluIiwic2V0SXNBZG1pbiIsInNldFVzZXJFbWFpbCIsInNldFVzZXJLZXkiLCJyZW1vdmVBbGwiLCI3MTkiLCJfbG9ja3IiLCJfbG9ja3IyIiwicm0iLCJmbHVzaCIsIjcyMSIsInBhZ2Vfc2l6ZSIsIm9mZnNldCIsIjcyMiIsIjcyMyIsInRvYXN0ciIsImFyZ3VtZW50cyIsIjcyNCIsIlZlcnNpb25zU2VydmljZSIsIjcyNSIsInRhYkluZGV4IiwiZ2V0VGVuYW50Q3JlYXRlRXZlbnRzIiwidGVuYW50Q3JlYXRlRXZlbnRzIiwidG9UYWIiLCJmcm9tVGFiIiwiNzI2Iiwib25TdWNjZXNzUmVzb2x2aW5nVGVuYW50IiwidXBkYXRlT3ZlcmxheXMiLCJnZXRUZW5hbnQiLCJjdXJyZW50VGVuYW50Q29weSIsInVwZGF0ZU92ZXJsYXlQcm9taXNlRGVmZXJyZWQiLCJ1cGRhdGVPdmVybGF5UHJvbWlzZSIsImFwcGx5VGVuYW50T3ZlcmxheSIsIm92ZXJsYXlBcHBseVRlbmFudCIsImN1cnJlbnRUZW5hbnRDb3B5T3ZlcmxheXMiLCJzdWJtaXRJbWFnZSIsInNlbGVjdGVkTG9nbyIsIkZvcm1EYXRhIiwidmFsaWRGaWxlIiwibGZGaWxlIiwiZmlsZUFwaSIsInNhdmVJbWFnZSIsImdldFRlbmFudEltYWdlc0FuZFJlbG9hZFRlbmFudEFmdGVyRGVsZXRlIiwidGVuYW50SW1hZ2VQcm9taXNlIiwiZGVsZXRlSW1hZ2UiLCJzaG93RXJyb3JTdGF0dXMiLCJkZWZhdWx0X3RpbWV6b25lIiwib3ZlcmxheXNVcGRhdGVJblByb2dyZXNzIiwiNzI3IiwiZ2FtZVN0b3BTZXJ2ZXIiLCJob3N0IiwidGVuYW50X2NvZGUiLCJjb250ZW50X3NlcnZlcl91cmwiLCJjb250ZW50X21hbmFnZXJfYmFzZV91cmwiLCJkb21haW5fa2V5Iiwibm90aWZpY2F0aW9uX2VtYWlscyIsInByb29mX29mX3BsYXlfbG9nZ2luZyIsInByb29mX29mX3BsYXlfdXJsIiwib3VfY3JlYXRlIiwic2VsZWN0ZWREb21haW4iLCJkaXN0cmlidXRvckRvbWFpbnMiLCJkaXN0cmlidXRvclByb21pc2UiLCJnZXRCeUtleSIsImNvbnRlbnRfbWFuYWdlcl91cmwiLCJwbGF5ZXJfY29udGVudF91cmwiLCJkaXN0cmlidXRvckRvbWFpblByb21pc2UiLCJnZXREb21haW5zQnlLZXkiLCJvbkNsaWNrU2F2ZUJ1dHRvbiIsIm9uU3VjY2Vzc1RlbmFudFNhdmUiLCJvbkZhaWx1cmVUZW5hbnRTYXZlIiwiZXJyb3JPYmplY3QiLCJhdXRvR2VuZXJhdGVUZW5hbnRDb2RlIiwibmV3VGVuYW50Q29kZSIsIjcyOCIsInNob3dDZG1JbmZvIiwiZW5yb2xsbWVudF9lbWFpbCIsImVucm9sbG1lbnRfcGFzc3dvcmQiLCI3MjkiLCJsb2NhdGlvblByb21pc2UiLCJnZXRMb2NhdGlvbkJ5S2V5IiwibG9jYXRpb25OYW1lIiwiY3VzdG9tZXJMb2NhdGlvbk5hbWUiLCJmZXRjaFRlbmFudE5hbWUiLCJvblN1Y2Nlc3NVcGRhdGluZ0xvY2F0aW9uIiwib25GYWlsdXJlU2F2aW5nTG9jYXRpb24iLCJvblN1Y2Nlc3NTYXZpbmdMb2NhdGlvbiIsInRlbmFudF9rZXkiLCJ0ZW5hbnROYW1lIiwiYXV0b0dlbmVyYXRlQ3VzdG9tZXJMb2NhdGlvbkNvZGUiLCJuZXdDdXN0b21lckxvY2F0aW9uQ29kZSIsImN1c3RvbWVyTG9jYXRpb25Db2RlIiwiNzMwIiwic2VhcmNoRGlzYWJsZWQiLCJnZXRMb2NhdGlvbnMiLCJnZXRMb2NhdGlvbnNCeVRlbmFudEtleVBhZ2luYXRlZCIsInNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSIsInNlYXJjaGVkVGVuYW50TG9jYXRpb25zIiwiaXNUZW5hbnRMb2NhdGlvblZhbGlkIiwiZWFjaExvY2F0aW9uTmFtZSIsIjczMSIsInRlbmFudERldmljZXMiLCJnZXREZXZpY2VzQnlUZW5hbnQiLCJyZWZyZXNoRGV2aWNlcyIsInByZXByYXRlRm9yRWRpdFZpZXciLCI3MzIiLCJnZXRVbm1hbmFnZWREZXZpY2VzQnlUZW5hbnQiLCI3MzMiLCJnZXRUZW5hbnRzUGFnaW5hdGVkIiwiZmV0Y2hBbGxUZW5hbnRzUGFnaW5hdGVkIiwidG90YWwiLCJpc19maXJzdF9wYWdlIiwiaXNfbGFzdF9wYWdlIiwiNzM0IiwidmVyc2lvbl9kYXRhIiwiY2FwaXRhbGl6ZUZpcnN0TGV0dGVyIiwic3RyaW5nIiwidG9VcHBlckNhc2UiLCJnaXZlT3B0aW9uVG9DaGFuZ2VEaXN0cmlidXRvciIsImhhc19tdWx0aXBsZV9kaXN0cmlidXRvcnMiLCJjaGFuZ2VEaXN0cmlidXRvciIsImdldFZlcnNpb24iLCJnZXRWZXJzaW9ucyIsIjczNSIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwibm90QXV0aGVudGljYXRlZCIsImF1dGhlbnRpY2F0ZWQiLCJmdW5jdGlvbiIsImlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4iLCJvdGhlcndpc2UiLCJzZXRCYXNlVXJsIiwiYWRkUmVzcG9uc2VJbnRlcmNlcHRvciIsIm9wZXJhdGlvbiIsInJlc291cmNlVHlwZSIsInNldFJlc3Rhbmd1bGFyRmllbGRzIiwiNzM2IiwiJGluamVjdG9yIiwic3RhdGVDaGFuZ2VXYXRjaCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJyZXF1ZXN0SW50ZXJjZXB0b3IiLCJhZGRSZXF1ZXN0SW50ZXJjZXB0b3IiLCJlbGVtIiwid2hhdCIsImF1dGhUb2tlbiIsInNldERlZmF1bHRIZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsIjczNyIsImNsb3NlQnV0dG9uIiwidGFwVG9EaXNtaXNzIiwibmV3ZXN0T25Ub3AiLCJwb3NpdGlvbkNsYXNzIiwidGltZU91dCIsIiRicmVhZGNydW1iUHJvdmlkZXIiLCI3MzgiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLEVBQ0Es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QyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxZQUFBLElBQ0FDLGVBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLFFBQUEsSUFDQUMsV0FBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFFBQUEsSUFDQUMsV0FBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsUUFBQSxJQUNBQyxXQUFBLElBQ0FDLFFBQUEsSUFDQUMsYUFBQSxJQUNBQyxnQkFBQSxJQUNBQyxXQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsZ0JBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBUUEzTixHQUFBNE4sS0FBQSxXQUNBLE1BQUE5a0IsUUFBQThrQixLQUFBek4sSUFFQUgs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akQsRUFBUUMsUUFBU0MsRzZEcHFRaEMsWUFZQSxTQUFTRSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxRQUFTRixHQVZoRixRQUFTc0csR0FBYUEsR0FDM0JtQyxFQUFBdkksUUFBUTBOLE9BQU90SCxHQUNiK3hDLGFBQWEsRUFDYitLLGFBQWEsRUFDYkMsY0FBYyxFQUNkQyxhQUFhLEVBQ2JDLGNBQWUsb0JBQ2ZDLFFBQVMsTUFNTixRQUFTajlDLEdBQW1CazlDLEdBQ2pDQSxFQUFvQjkxQyxZQUNsQkgsZ0JBQWlCLE9BQ2pCZixTQUFVLGVBaEJkckUsT0FBT0MsZUFBZXpJLFFBQVMsY0FDN0IwSSxPQUFPLElBRVQxSSxRQUhnQjBHLGVBSWhCMUcsUUFTZ0IyRyxvQkFmaEIsSUFBQWlDLEdBQUEzSSxFQUFBLEtBVUk0SSxFQUFZMUksRUFBdUJ5SSxFQUV2Q2xDLEdBQWF3SyxTQUFXLGdCQVV4QnZLLEVBQW1CdUssU0FBVyx3QjdEcXJReEI0eUMsSUFDQSxTQUFTL2pELEVBQVFDLFM4RDVzUXZCLHFCQUFTcUcsR0FBYW9xQixFQUFpQkQsRUFBUVMsR0FDN0MsVUFFQSxJQUFJQyxHQUFLeG5CLElBU1QsT0FQQSttQixHQUFnQnNYLGlCQUVoQjlXLEVBQVMsV0FDUFQsRUFBT3NELEdBQUcsWUFDVCxLQUdJNUMsRTlEb3NRUjdxQixFQUFhNkssU0FBVyxrQkFBbUIsU0FBVSxZOEQ5c1F0RDFJLE9BQU9DLGVBQWV6SSxRQUFTLGNBQzdCMEksT0FBTyxJQWVUMUksUUFKUXFHIiwiZmlsZSI6ImFwcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzBdLHtcblxuLyoqKi8gMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNzApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY3KTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAzNjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfYXBwID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjgpO1xuXHRcblx0dmFyIF9kZXZpY2VEZXRhaWxDb21tYW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTEpO1xuXHRcblx0dmFyIF9kZXZpY2VEZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTIpO1xuXHRcblx0dmFyIF9kZXZpY2VzTGlzdGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjYzKTtcblx0XG5cdHZhciBfYWRtaW5Db250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NjQpO1xuXHRcblx0dmFyIF9hdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2NSk7XG5cdFxuXHR2YXIgX2FwcENvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2Nik7XG5cdFxuXHR2YXIgX2Rpc3RyaWJ1dG9yU2VsZWN0b3JDb250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODkpO1xuXHRcblx0dmFyIF9kaXN0cmlidXRvcnNDb250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTApO1xuXHRcblx0dmFyIF9kb21haW5zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTEpO1xuXHRcblx0dmFyIF9kb21haW5EZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTIpO1xuXHRcblx0dmFyIF9tdWx0aUxvY2F0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTMpO1xuXHRcblx0dmFyIF9tdWx0aURpc3BsYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5NCk7XG5cdFxuXHR2YXIgX211bHRpUmVzb3VyY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5NSk7XG5cdFxuXHR2YXIgX3Byb29mT2ZQbGF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTYpO1xuXHRcblx0dmFyIF9pbWFnZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjk3KTtcblx0XG5cdHZhciBfaW1hZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW1hZ2UpO1xuXHRcblx0dmFyIF9hZG1pbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAzKTtcblx0XG5cdHZhciBfYWRtaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWRtaW4pO1xuXHRcblx0dmFyIF9hdXRob3JpemF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDQpO1xuXHRcblx0dmFyIF9hdXRob3JpemF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2F1dGhvcml6YXRpb24pO1xuXHRcblx0dmFyIF9jb21tYW5kcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzA1KTtcblx0XG5cdHZhciBfY29tbWFuZHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tbWFuZHMpO1xuXHRcblx0dmFyIF9kYXRlbWFuaXB1bGF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDYpO1xuXHRcblx0dmFyIF9kYXRlbWFuaXB1bGF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RhdGVtYW5pcHVsYXRpb24pO1xuXHRcblx0dmFyIF9kZXZpY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDcpO1xuXHRcblx0dmFyIF9kZXZpY2VzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RldmljZXMpO1xuXHRcblx0dmFyIF9kaXN0cmlidXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwOCk7XG5cdFxuXHR2YXIgX2Rpc3RyaWJ1dG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kaXN0cmlidXRvcnMpO1xuXHRcblx0dmFyIF9kb21haW5zMiA9IF9fd2VicGFja19yZXF1aXJlX18oNzA5KTtcblx0XG5cdHZhciBfZG9tYWluczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb21haW5zMik7XG5cdFxuXHR2YXIgX2lkZW50aXR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTApO1xuXHRcblx0dmFyIF9pZGVudGl0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pZGVudGl0eSk7XG5cdFxuXHR2YXIgX2ludGVncmF0aW9uRXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTEpO1xuXHRcblx0dmFyIF9pbnRlZ3JhdGlvbkV2ZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnRlZ3JhdGlvbkV2ZW50cyk7XG5cdFxuXHR2YXIgX2xvY2F0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNzEyKTtcblx0XG5cdHZhciBfbG9jYXRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvY2F0aW9ucyk7XG5cdFxuXHR2YXIgX3Byb2dyZXNzYmFyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTMpO1xuXHRcblx0dmFyIF9wcm9ncmVzc2JhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9ncmVzc2Jhcik7XG5cdFxuXHR2YXIgX3Byb29mcGxheSA9IF9fd2VicGFja19yZXF1aXJlX18oNzE0KTtcblx0XG5cdHZhciBfcHJvb2ZwbGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb29mcGxheSk7XG5cdFxuXHR2YXIgX3Nlc3Npb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTUpO1xuXHRcblx0dmFyIF9zZXNzaW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXNzaW9ucyk7XG5cdFxuXHR2YXIgX3N0b3JhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxOSk7XG5cdFxuXHR2YXIgX3N0b3JhZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RvcmFnZSk7XG5cdFxuXHR2YXIgX3RlbmFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyMSk7XG5cdFxuXHR2YXIgX3RlbmFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGVuYW50cyk7XG5cdFxuXHR2YXIgX3RpbWV6b25lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzIyKTtcblx0XG5cdHZhciBfdGltZXpvbmVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RpbWV6b25lcyk7XG5cdFxuXHR2YXIgX3RvYXN0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzIzKTtcblx0XG5cdHZhciBfdG9hc3RzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvYXN0cyk7XG5cdFxuXHR2YXIgX3ZlcnNpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjQpO1xuXHRcblx0dmFyIF92ZXJzaW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92ZXJzaW9ucyk7XG5cdFxuXHR2YXIgX3RlbmFudExvZ3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyNSk7XG5cdFxuXHR2YXIgX3RlbmFudE92ZXJsYXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjYpO1xuXHRcblx0dmFyIF90ZW5hbnRBZGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyNyk7XG5cdFxuXHR2YXIgX3RlbmFudERldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyOCk7XG5cdFxuXHR2YXIgX3RlbmFudExvY2F0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjkpO1xuXHRcblx0dmFyIF90ZW5hbnRMb2NhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczMCk7XG5cdFxuXHR2YXIgX3RlbmFudE1hbmFnZWREZXZpY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzEpO1xuXHRcblx0dmFyIF90ZW5hbnRVbm1hbmFnZWREZXZpY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzIpO1xuXHRcblx0dmFyIF90ZW5hbnRzMyA9IF9fd2VicGFja19yZXF1aXJlX18oNzMzKTtcblx0XG5cdHZhciBfd2VsY29tZUNvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczNCk7XG5cdFxuXHR2YXIgX2FwcFJvdXRlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzM1KTtcblx0XG5cdHZhciBfYXBwUnVuID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzYpO1xuXHRcblx0dmFyIF9hcHBDb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczNyk7XG5cdFxuXHR2YXIgX3JlZGlyZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vIERldmljZVxuXHQvLyBBZG1pblxuXHQvLyBBdXRoZW50aWNhdGlvblxuXHQvLyBBcHBcblx0Ly8gRGlzdHJpYnV0b3JzXG5cdC8vIERvbWFpbnNcblx0Ly8gUHJvb2ZQbGF5XG5cdC8vIFNlcnZpY2VzXG5cdC8vIFRlbmFudFxuXHQvLyBXZWxjb21lXG5cdC8vIENvbmZpZ1xuXHQvLyBSZWRpcmVjdFxuXHRcblx0XG5cdF9hcHAuYXBwXG5cdC8vIFNlcnZpY2VzXG5cdC5zZXJ2aWNlKFwiU3RvcmFnZVNlcnZpY2VcIiwgX3N0b3JhZ2UyLmRlZmF1bHQpLnNlcnZpY2UoXCJBZG1pblNlcnZpY2VcIiwgX2FkbWluMi5kZWZhdWx0KS5zZXJ2aWNlKFwiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgX2F1dGhvcml6YXRpb24yLmRlZmF1bHQpLnNlcnZpY2UoXCJDb21tYW5kc1NlcnZpY2VcIiwgX2NvbW1hbmRzMi5kZWZhdWx0KS5zZXJ2aWNlKFwiRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2VcIiwgX2RhdGVtYW5pcHVsYXRpb24yLmRlZmF1bHQpLnNlcnZpY2UoXCJEZXZpY2VzU2VydmljZVwiLCBfZGV2aWNlczIuZGVmYXVsdCkuc2VydmljZShcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIiwgX2Rpc3RyaWJ1dG9yczIuZGVmYXVsdCkuc2VydmljZShcIkRvbWFpbnNTZXJ2aWNlXCIsIF9kb21haW5zMy5kZWZhdWx0KS5zZXJ2aWNlKFwiSWRlbnRpdHlTZXJ2aWNlXCIsIF9pZGVudGl0eTIuZGVmYXVsdCkuc2VydmljZShcIkludGVncmF0aW9uRXZlbnRzXCIsIF9pbnRlZ3JhdGlvbkV2ZW50czIuZGVmYXVsdCkuc2VydmljZShcIkxvY2F0aW9uc1NlcnZpY2VcIiwgX2xvY2F0aW9uczIuZGVmYXVsdCkuc2VydmljZShcIlByb2dyZXNzQmFyU2VydmljZVwiLCBfcHJvZ3Jlc3NiYXIyLmRlZmF1bHQpLnNlcnZpY2UoXCJQcm9vZlBsYXlTZXJ2aWNlXCIsIF9wcm9vZnBsYXkyLmRlZmF1bHQpLnNlcnZpY2UoXCJTZXNzaW9uc1NlcnZpY2VcIiwgX3Nlc3Npb25zMi5kZWZhdWx0KS5zZXJ2aWNlKFwiVGVuYW50c1NlcnZpY2VcIiwgX3RlbmFudHMyLmRlZmF1bHQpLnNlcnZpY2UoXCJUaW1lem9uZXNTZXJ2aWNlXCIsIF90aW1lem9uZXMyLmRlZmF1bHQpLnNlcnZpY2UoXCJUb2FzdHNTZXJ2aWNlXCIsIF90b2FzdHMyLmRlZmF1bHQpLnNlcnZpY2UoXCJWZXJzaW9uc1NlcnZpY2VcIiwgX3ZlcnNpb25zMi5kZWZhdWx0KS5zZXJ2aWNlKFwiSW1hZ2VTZXJ2aWNlXCIsIF9pbWFnZTIuZGVmYXVsdClcblx0Ly8gRGV2aWNlXG5cdC5jb250cm9sbGVyKFwiRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybFwiLCBfZGV2aWNlRGV0YWlsQ29tbWFuZC5EZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsKS5jb250cm9sbGVyKFwiRGV2aWNlRGV0YWlsc0N0cmxcIiwgX2RldmljZURldGFpbHMuRGV2aWNlRGV0YWlsc0N0cmwpLmNvbnRyb2xsZXIoXCJEZXZpY2VzTGlzdGluZ0N0cmxcIiwgX2RldmljZXNMaXN0aW5nLkRldmljZXNMaXN0aW5nQ3RybClcblx0Ly8gQWRtaW5cblx0LmNvbnRyb2xsZXIoXCJBZG1pbkN0cmxcIiwgX2FkbWluQ29udHJvbGxlci5BZG1pbkN0cmwpXG5cdC8vIEF1dGhlbnRpY2F0aW9uXG5cdC5jb250cm9sbGVyKFwiQXV0aGVudGljYXRpb25DdHJsXCIsIF9hdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIuQXV0aGVudGljYXRpb25DdHJsKVxuXHQvLyBBcHBcblx0LmNvbnRyb2xsZXIoXCJBcHBDb250cm9sbGVyXCIsIF9hcHBDb250cm9sbGVyLkFwcENvbnRyb2xsZXIpXG5cdC8vIERpc3RyaWJ1dG9yc1xuXHQuY29udHJvbGxlcihcIkRpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsXCIsIF9kaXN0cmlidXRvclNlbGVjdG9yQ29udHJvbGxlci5EaXN0cmlidXRvclNlbGVjdG9yQ3RybCkuY29udHJvbGxlcihcIkRpc3RyaWJ1dG9yc0N0cmxcIiwgX2Rpc3RyaWJ1dG9yc0NvbnRyb2xsZXIuRGlzdHJpYnV0b3JzQ3RybClcblx0Ly8gRG9tYWluc1xuXHQuY29udHJvbGxlcihcIkRvbWFpbnNDdHJsXCIsIF9kb21haW5zLkRvbWFpbnNDdHJsKS5jb250cm9sbGVyKFwiRG9tYWluRGV0YWlsc0N0cmxcIiwgX2RvbWFpbkRldGFpbHMuRG9tYWluRGV0YWlsc0N0cmwpXG5cdC8vIFByb29mUGxheVxuXHQuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmxcIiwgX211bHRpTG9jYXRpb24uUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybCkuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybFwiLCBfbXVsdGlEaXNwbGF5LlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybCkuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmxcIiwgX211bHRpUmVzb3VyY2UuUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybCkuY29udHJvbGxlcihcIlByb29mT2ZQbGF5Q3RybFwiLCBfcHJvb2ZPZlBsYXkuUHJvb2ZPZlBsYXlDdHJsKVxuXHQvLyBUZW5hbnRzXG5cdC5jb250cm9sbGVyKFwiVGVuYW50TG9nc0N0cmxcIiwgX3RlbmFudExvZ3MuVGVuYW50TG9nc0N0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnRPdmVybGF5c0N0cmxcIiwgX3RlbmFudE92ZXJsYXlzLlRlbmFudE92ZXJsYXlzQ3RybCkuY29udHJvbGxlcihcIlRlbmFudEFkZEN0cmxcIiwgX3RlbmFudEFkZC5UZW5hbnRBZGRDdHJsKS5jb250cm9sbGVyKFwiVGVuYW50RGV0YWlsc0N0cmxcIiwgX3RlbmFudERldGFpbHMuVGVuYW50RGV0YWlsc0N0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnRMb2NhdGlvbkN0cmxcIiwgX3RlbmFudExvY2F0aW9uLlRlbmFudExvY2F0aW9uQ3RybCkuY29udHJvbGxlcihcIlRlbmFudExvY2F0aW9uc0N0cmxcIiwgX3RlbmFudExvY2F0aW9ucy5UZW5hbnRMb2NhdGlvbnNDdHJsKS5jb250cm9sbGVyKFwiVGVuYW50TWFuYWdlZERldmljZXNDdHJsXCIsIF90ZW5hbnRNYW5hZ2VkRGV2aWNlcy5UZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybFwiLCBfdGVuYW50VW5tYW5hZ2VkRGV2aWNlcy5UZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCkuY29udHJvbGxlcihcIlRlbmFudHNDdHJsXCIsIF90ZW5hbnRzMy5UZW5hbnRzQ3RybClcblx0Ly8gV2VsY29tZVxuXHQuY29udHJvbGxlcihcIldlbGNvbWVDdHJsXCIsIF93ZWxjb21lQ29udHJvbGxlci5XZWxjb21lQ3RybClcblx0Ly8gUmVkaXJlY3Rcblx0LmNvbnRyb2xsZXIoXCJSZWRpcmVjdEN0cmxcIiwgX3JlZGlyZWN0LlJlZGlyZWN0Q3RybClcblx0Ly8gYXBwUnVuIEJsb2NrXG5cdC5ydW4oX2FwcFJ1bi5hcHBSdW4pXG5cdC8vIENvbmZpZ1xuXHQuY29uZmlnKF9hcHBSb3V0ZXMucm91dGVzKS5jb25maWcoX2FwcENvbmZpZy50b2FzdHJDb25maWcpLmNvbmZpZyhfYXBwQ29uZmlnLmJyZWFkY3J1bWJQcm92aWRlcik7XG5cdFxuXHRfYXBwLmFwcC5jb25maWcoW1wiUmVzdGFuZ3VsYXJQcm92aWRlclwiLCBmdW5jdGlvbiAoUmVzdGFuZ3VsYXJQcm92aWRlcikge1xuXHRcblx0ICAvLyBhZGQgYSByZXNwb25zZSBpbnRlcmNlcHRvclxuXHQgIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0RXJyb3JJbnRlcmNlcHRvcihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcblx0ICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDMwMiB8fCByZXNwb25zZS5zdGF0dXMgPT09IDQwMyAmJiByZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT09IFwiQXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgdG8gYWNjZXNzIHRoaXMgcmVzb3VyY2VcIikge1xuXHQgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiLyMvcmVkaXJlY3RcIjtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXNwb25zZTtcblx0ICB9KTtcblx0fV0pO1xuXHRcblx0Ly8gUmVxdWVzdCBJbnRlcmNlcHRvclxuXHRfYXBwLmFwcC5zZXJ2aWNlKCdSZXF1ZXN0SW50ZXJjZXB0b3InLCBbXCJTdG9yYWdlU2VydmljZVwiLCBcIiRsb2NhdGlvblwiLCBmdW5jdGlvbiAoU3RvcmFnZVNlcnZpY2UsICRsb2NhdGlvbikge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIGludGVyY2VwdG9yID0ge1xuXHQgICAgcmVxdWVzdDogZnVuY3Rpb24gcmVxdWVzdChjb25maWcpIHtcblx0ICAgICAgdmFyIGdzID0gJzVYWkhCRjNtT3dxSmxZQWxHMU5lZVdYMENiNzJnJztcblx0ICAgICAgdmFyIHByb2QgPSAnNkMzNDY1ODhCRDRDNkQ3MjJBMTE2NUI0M0M1MUMnO1xuXHQgICAgICBjb25maWcuaGVhZGVycyA9IHtcblx0ICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHQgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdCAgICAgICAgJ0pXVCc6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnSldUJyksXG5cdCAgICAgICAgJ29BdXRoJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCdvQXV0aCcpLFxuXHQgICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5JyksXG5cdCAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLVVzZXItSWRlbnRpZmllcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlckVtYWlsJyksXG5cdCAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLURpc3RyaWJ1dG9yJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCdjdXJyZW50RGlzdHJpYnV0b3JLZXknKVxuXHQgICAgICB9O1xuXHQgICAgICByZXR1cm4gY29uZmlnO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgcmV0dXJuIGludGVyY2VwdG9yO1xuXHR9XSk7XG5cdFxuXHRfYXBwLmFwcC5jb25maWcoW1wiJGh0dHBQcm92aWRlclwiLCBmdW5jdGlvbiAoJGh0dHBQcm92aWRlcikge1xuXHQgIHJldHVybiAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdSZXF1ZXN0SW50ZXJjZXB0b3InKTtcblx0fV0pO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzNjg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmFwcCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfYW5ndWxhciA9IF9fd2VicGFja19yZXF1aXJlX18oMzY5KTtcblx0XG5cdHZhciBfYW5ndWxhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmd1bGFyKTtcblx0XG5cdHZhciBfYW5ndWxhclVpUm91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzEpO1xuXHRcblx0dmFyIF9hbmd1bGFyVWlSb3V0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5ndWxhclVpUm91dGVyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzc1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzc2KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzgwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzgyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzg0KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzg2KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzk0KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzk2KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNDE4KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNDE5KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNDIxKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNDkwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjAxKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjAzKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjA4KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjA5KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjE1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjI0KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjI1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjI3KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjI5KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjMxKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjMzKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNDA2KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjQyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjQzKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzcwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjQ0KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjQ2KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjQ4KTtcblx0XG5cdHZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTApO1xuXHRcblx0dmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR3aW5kb3cuXyA9IF9sb2Rhc2gyLmRlZmF1bHQ7XG5cdHdpbmRvdy5hbmd1bGFyID0gX2FuZ3VsYXIyLmRlZmF1bHQ7XG5cdFxuXHR2YXIgYXBwID0gZXhwb3J0cy5hcHAgPSBfYW5ndWxhcjIuZGVmYXVsdC5tb2R1bGUoJ3NreWtpdFByb3Zpc2lvbmluZycsIFtfYW5ndWxhclVpUm91dGVyMi5kZWZhdWx0LCAnbmdBbmltYXRlJywgJzcyMGtiLnRvb2x0aXBzJywgJ25nQ29va2llcycsICduZ1Nhbml0aXplJywgJ3Jlc3Rhbmd1bGFyJywgJ3VpLmJvb3RzdHJhcCcsICduZ01hdGVyaWFsRGF0ZVBpY2tlcicsICdoU3dlZXRBbGVydCcsICduY3ktYW5ndWxhci1icmVhZGNydW1iJywgJ2RpcmVjdGl2ZS5nK3NpZ25pbicsICduZ1Byb2dyZXNzJywgJ3J0LmRlYm91bmNlJywgJ25nTWF0ZXJpYWwnLCAnbmdjbGlwYm9hcmQnLCAndG9hc3RyJywgJ2xmTmdNZEZpbGVJbnB1dCddKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNDE4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHQvKlxuXHQgbmdwcm9ncmVzcyAxLjEuMiAtIHNsaW0sIHNpdGUtd2lkZSBwcm9ncmVzc2JhciBmb3IgQW5ndWxhckpTIFxuXHQgKEMpIDIwMTMgLSBWaWN0b3IgQmplbGtob2xtIFxuXHQgTGljZW5zZTogTUlUIFxuXHQgU291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vVmljdG9yQmplbGtob2xtL25nUHJvZ3Jlc3MgXG5cdCBEYXRlIENvbXBpbGVkOiAyMDE1LTA3LTI3IFxuXHQgKi9cblx0YW5ndWxhci5tb2R1bGUoXCJuZ1Byb2dyZXNzLnByb3ZpZGVyXCIsIFtcIm5nUHJvZ3Jlc3MuZGlyZWN0aXZlXCJdKS5zZXJ2aWNlKFwibmdQcm9ncmVzc1wiLCBmdW5jdGlvbiAoKSB7XG5cdCAgXCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHQgIHJldHVybiBbXCIkZG9jdW1lbnRcIiwgXCIkd2luZG93XCIsIFwiJGNvbXBpbGVcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJHRpbWVvdXRcIiwgZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHtcblx0ICAgIHRoaXMuYXV0b1N0eWxlID0gITAsIHRoaXMuY291bnQgPSAwLCB0aGlzLmhlaWdodCA9IFwiMnB4XCIsIHRoaXMuJHNjb3BlID0gZC4kbmV3KCksIHRoaXMuY29sb3IgPSBcImZpcmVicmlja1wiLCB0aGlzLnBhcmVudCA9IGEuZmluZChcImJvZHlcIilbMF0sIHRoaXMuY291bnQgPSAwLCB0aGlzLnByb2dyZXNzYmFyRWwgPSBjKFwiPG5nLXByb2dyZXNzPjwvbmctcHJvZ3Jlc3M+XCIpKHRoaXMuJHNjb3BlKSwgdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc2JhckVsWzBdKSwgdGhpcy4kc2NvcGUuY291bnQgPSB0aGlzLmNvdW50LCB2b2lkIDAgIT09IHRoaXMuaGVpZ2h0ICYmIHRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImhlaWdodFwiLCB0aGlzLmhlaWdodCksIHZvaWQgMCAhPT0gdGhpcy5jb2xvciAmJiAodGhpcy5wcm9ncmVzc2JhckVsLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCB0aGlzLmNvbG9yKSwgdGhpcy5wcm9ncmVzc2JhckVsLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiY29sb3JcIiwgdGhpcy5jb2xvcikpLCB0aGlzLmludGVydmFsQ291bnRlcklkID0gMCwgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdGhpcy5zaG93KCk7XG5cdCAgICAgIHZhciBhID0gdGhpcztcblx0ICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSwgdGhpcy5pbnRlcnZhbENvdW50ZXJJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpc05hTihhLmNvdW50KSA/IChjbGVhckludGVydmFsKGEuaW50ZXJ2YWxDb3VudGVySWQpLCBhLmNvdW50ID0gMCwgYS5oaWRlKCkpIDogKGEucmVtYWluaW5nID0gMTAwIC0gYS5jb3VudCwgYS5jb3VudCA9IGEuY291bnQgKyAuMTUgKiBNYXRoLnBvdygxIC0gTWF0aC5zcXJ0KGEucmVtYWluaW5nKSwgMiksIGEudXBkYXRlQ291bnQoYS5jb3VudCkpO1xuXHQgICAgICB9LCAyMDApO1xuXHQgICAgfSwgdGhpcy51cGRhdGVDb3VudCA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIHRoaXMuJHNjb3BlLmNvdW50ID0gYSwgdGhpcy4kc2NvcGUuJCRwaGFzZSB8fCB0aGlzLiRzY29wZS4kYXBwbHkoKTtcblx0ICAgIH0sIHRoaXMuc2V0SGVpZ2h0ID0gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gYSAmJiAodGhpcy5oZWlnaHQgPSBhLCB0aGlzLiRzY29wZS5oZWlnaHQgPSB0aGlzLmhlaWdodCwgdGhpcy4kc2NvcGUuJCRwaGFzZSB8fCB0aGlzLiRzY29wZS4kYXBwbHkoKSksIHRoaXMuaGVpZ2h0O1xuXHQgICAgfSwgdGhpcy5zZXRDb2xvciA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIHJldHVybiB2b2lkIDAgIT09IGEgJiYgKHRoaXMuY29sb3IgPSBhLCB0aGlzLiRzY29wZS5jb2xvciA9IHRoaXMuY29sb3IsIHRoaXMuJHNjb3BlLiQkcGhhc2UgfHwgdGhpcy4kc2NvcGUuJGFwcGx5KCkpLCB0aGlzLmNvbG9yO1xuXHQgICAgfSwgdGhpcy5oaWRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aGlzLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJvcGFjaXR5XCIsIFwiMFwiKTtcblx0ICAgICAgdmFyIGEgPSB0aGlzO1xuXHQgICAgICBhLmFuaW1hdGUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGEucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIndpZHRoXCIsIFwiMCVcIiksIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBhLnNob3coKTtcblx0ICAgICAgICB9LCA1MDApO1xuXHQgICAgICB9LCA1MDApO1xuXHQgICAgfSwgdGhpcy5zaG93ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgYSA9IHRoaXM7XG5cdCAgICAgIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgYS5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKFwib3BhY2l0eVwiLCBcIjFcIik7XG5cdCAgICAgIH0sIDEwMCk7XG5cdCAgICB9LCB0aGlzLmFuaW1hdGUgPSBmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgICB2b2lkIDAgIT09IHRoaXMuYW5pbWF0aW9uICYmIGUuY2FuY2VsKHRoaXMuYW5pbWF0aW9uKSwgdGhpcy5hbmltYXRpb24gPSBlKGEsIGIpO1xuXHQgICAgfSwgdGhpcy5zdGF0dXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmNvdW50O1xuXHQgICAgfSwgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpO1xuXHQgICAgfSwgdGhpcy5zZXQgPSBmdW5jdGlvbiAoYSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5zaG93KCksIHRoaXMudXBkYXRlQ291bnQoYSksIHRoaXMuY291bnQgPSBhLCBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCB0aGlzLmNvdW50O1xuXHQgICAgfSwgdGhpcy5jc3MgPSBmdW5jdGlvbiAoYSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKGEpO1xuXHQgICAgfSwgdGhpcy5yZXNldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIHRoaXMuY291bnQgPSAwLCB0aGlzLnVwZGF0ZUNvdW50KHRoaXMuY291bnQpLCAwO1xuXHQgICAgfSwgdGhpcy5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdGhpcy5jb3VudCA9IDEwMCwgdGhpcy51cGRhdGVDb3VudCh0aGlzLmNvdW50KTtcblx0ICAgICAgdmFyIGEgPSB0aGlzO1xuXHQgICAgICByZXR1cm4gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSwgZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgYS5oaWRlKCksIGUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgYS5jb3VudCA9IDAsIGEudXBkYXRlQ291bnQoYS5jb3VudCk7XG5cdCAgICAgICAgfSwgNTAwKTtcblx0ICAgICAgfSwgMWUzKSwgdGhpcy5jb3VudDtcblx0ICAgIH0sIHRoaXMuc2V0UGFyZW50ID0gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgaWYgKG51bGwgPT09IGEgfHwgdm9pZCAwID09PSBhKSB0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlIGEgdmFsaWQgcGFyZW50IG9mIHR5cGUgSFRNTEVsZW1lbnRcIik7XG5cdCAgICAgIG51bGwgIT09IHRoaXMucGFyZW50ICYmIHZvaWQgMCAhPT0gdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5wcm9ncmVzc2JhckVsWzBdKSwgdGhpcy5wYXJlbnQgPSBhLCB0aGlzLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pO1xuXHQgICAgfSwgdGhpcy5nZXREb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5wcm9ncmVzc2JhckVsO1xuXHQgICAgfSwgdGhpcy5zZXRBYnNvbHV0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdGhpcy5wcm9ncmVzc2JhckVsLmNzcyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XG5cdCAgICB9O1xuXHQgIH1dO1xuXHR9KS5mYWN0b3J5KFwibmdQcm9ncmVzc0ZhY3RvcnlcIiwgW1wiJGluamVjdG9yXCIsIFwibmdQcm9ncmVzc1wiLCBmdW5jdGlvbiAoYSwgYikge1xuXHQgIHZhciBjID0ge1xuXHQgICAgY3JlYXRlSW5zdGFuY2U6IGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKCkge1xuXHQgICAgICByZXR1cm4gYS5pbnN0YW50aWF0ZShiKTtcblx0ICAgIH1cblx0ICB9O1xuXHQgIHJldHVybiBjO1xuXHR9XSksIGFuZ3VsYXIubW9kdWxlKFwibmdQcm9ncmVzcy5kaXJlY3RpdmVcIiwgW10pLmRpcmVjdGl2ZShcIm5nUHJvZ3Jlc3NcIiwgW1wiJHdpbmRvd1wiLCBcIiRyb290U2NvcGVcIiwgZnVuY3Rpb24gKGEsIGIpIHtcblx0ICB2YXIgYyA9IHtcblx0ICAgIHJlcGxhY2U6ICEwLCByZXN0cmljdDogXCJFXCIsIGxpbms6IGZ1bmN0aW9uIGxpbmsoYSwgYiwgYywgZCkge1xuXHQgICAgICBhLiR3YXRjaChcImNvdW50XCIsIGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgICAgKHZvaWQgMCAhPT0gYyB8fCBudWxsICE9PSBjKSAmJiAoYS5jb3VudGVyID0gYywgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcIndpZHRoXCIsIGMgKyBcIiVcIikpO1xuXHQgICAgICB9KSwgYS4kd2F0Y2goXCJjb2xvclwiLCBmdW5jdGlvbiAoYykge1xuXHQgICAgICAgICh2b2lkIDAgIT09IGMgfHwgbnVsbCAhPT0gYykgJiYgKGEuY29sb3IgPSBjLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCBjKSwgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImNvbG9yXCIsIGMpKTtcblx0ICAgICAgfSksIGEuJHdhdGNoKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgICAgKHZvaWQgMCAhPT0gYyB8fCBudWxsICE9PSBjKSAmJiAoYS5oZWlnaHQgPSBjLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiaGVpZ2h0XCIsIGMpKTtcblx0ICAgICAgfSk7XG5cdCAgICB9LCB0ZW1wbGF0ZTogJzxkaXYgaWQ9XCJuZ1Byb2dyZXNzLWNvbnRhaW5lclwiPjxkaXYgaWQ9XCJuZ1Byb2dyZXNzXCI+PC9kaXY+PC9kaXY+J1xuXHQgIH07XG5cdCAgcmV0dXJuIGM7XG5cdH1dKSwgYW5ndWxhci5tb2R1bGUoXCJuZ1Byb2dyZXNzXCIsIFtcIm5nUHJvZ3Jlc3MuZGlyZWN0aXZlXCIsIFwibmdQcm9ncmVzcy5wcm92aWRlclwiXSk7XG5cbi8qKiovIH0sXG5cbi8qKiovIDQxOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyMCk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3OSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL25nUHJvZ3Jlc3MuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9uZ1Byb2dyZXNzLmNzc1wiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNDIwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzgpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiI25nUHJvZ3Jlc3N7bWFyZ2luOjA7cGFkZGluZzowO3otaW5kZXg6OTk5OTg7YmFja2dyb3VuZC1jb2xvcjpncmVlbjtjb2xvcjpncmVlbjtib3gtc2hhZG93OjAgMCAxMHB4IDA7aGVpZ2h0OjJweDtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuNXMgZWFzZS1pbi1vdXQ7dHJhbnNpdGlvbjphbGwgLjVzIGVhc2UtaW4tb3V0fSNuZ1Byb2dyZXNzLWNvbnRhaW5lcntwb3NpdGlvbjpmaXhlZDttYXJnaW46MDtwYWRkaW5nOjA7dG9wOjA7bGVmdDowO3JpZ2h0OjA7ei1pbmRleDo5OTk5OX1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDQyMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MjIpO1xuXHRcblx0dmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0LyohIGFuZ3VsYXItYnJlYWRjcnVtYiAtIHYwLjQuMC1kZXYtMjAxNS0wOC0wN1xuXHQqIGh0dHA6Ly9uY3VpbGxlcnkuZ2l0aHViLmlvL2FuZ3VsYXItYnJlYWRjcnVtYlxuXHQqIENvcHlyaWdodCAoYykgMjAxNSBOaWNvbGFzIEN1aWxsZXJ5OyBMaWNlbnNlZCBNSVQgKi9cblx0IWZ1bmN0aW9uIChhLCBiLCBjKSB7XG5cdCAgXCJ1c2Ugc3RyaWN0XCI7XG5cdCAgZnVuY3Rpb24gZChhLCBjKSB7XG5cdCAgICByZXR1cm4gYi5lcXVhbHMoYS5sZW5ndGgsIGMubGVuZ3RoKSA/IGEgPiBjIDogYS5sZW5ndGggPiBjLmxlbmd0aDtcblx0ICB9ZnVuY3Rpb24gZShhKSB7XG5cdCAgICB2YXIgYiA9IGEucmVwbGFjZSgvXFxuL2csIFwiIFwiKS5tYXRjaCgvXihbXihdKz8pXFxzKihcXCgoLiopXFwpKT8kLyk7aWYgKCFiIHx8IDQgIT09IGIubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIHJlZiAnXCIgKyBhICsgXCInXCIpO3JldHVybiB7IHN0YXRlOiBiWzFdLCBwYXJhbUV4cHI6IGJbM10gfHwgbnVsbCB9O1xuXHQgIH1mdW5jdGlvbiBmKCkge1xuXHQgICAgdmFyIGEgPSB7IHByZWZpeFN0YXRlTmFtZTogbnVsbCwgdGVtcGxhdGU6IFwiYm9vdHN0cmFwM1wiLCB0ZW1wbGF0ZVVybDogbnVsbCwgaW5jbHVkZUFic3RyYWN0OiAhMSB9O3RoaXMuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgIGIuZXh0ZW5kKGEsIGMpO1xuXHQgICAgfSwgdGhpcy4kZ2V0ID0gW1wiJHN0YXRlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiJHJvb3RTY29wZVwiLCBmdW5jdGlvbiAoYiwgZiwgZykge1xuXHQgICAgICB2YXIgaCA9IGc7Zy4kb24oXCIkdmlld0NvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgICAhYS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlICYmIGQoYS50YXJnZXRTY29wZS4kaWQsIGguJGlkKSAmJiAoaCA9IGEudGFyZ2V0U2NvcGUpO1xuXHQgICAgICB9KTt2YXIgaSA9IGZ1bmN0aW9uIGkoYSkge1xuXHQgICAgICAgIHZhciBiID0gYS5wYXJlbnQgfHwgKC9eKC4rKVxcLlteLl0rJC8uZXhlYyhhLm5hbWUpIHx8IFtdKVsxXSxcblx0ICAgICAgICAgICAgYyA9IFwib2JqZWN0XCIgPT0gKHR5cGVvZiBiID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShiKSk7cmV0dXJuIGMgPyBiLm5hbWUgOiBiO1xuXHQgICAgICB9LFxuXHQgICAgICAgICAgaiA9IGZ1bmN0aW9uIGooYywgZCkge1xuXHQgICAgICAgIGZvciAodmFyIGcsIGksIGogPSBlKGQpLCBrID0gITEsIGwgPSAhMSwgbSA9IDAsIG4gPSBjLmxlbmd0aDsgbiA+IG07IG0gKz0gMSkge1xuXHQgICAgICAgICAgaWYgKGNbbV0ubmFtZSA9PT0gai5zdGF0ZSkgcmV0dXJuO1xuXHQgICAgICAgIH1nID0gYi5nZXQoai5zdGF0ZSksIGcubmN5QnJlYWRjcnVtYiAmJiAoZy5uY3lCcmVhZGNydW1iLmZvcmNlICYmIChrID0gITApLCBnLm5jeUJyZWFkY3J1bWIuc2tpcCAmJiAobCA9ICEwKSksIGdbXCJhYnN0cmFjdFwiXSAmJiAhYS5pbmNsdWRlQWJzdHJhY3QgJiYgIWsgfHwgbCB8fCAoai5wYXJhbUV4cHIgJiYgKGkgPSBoLiRldmFsKGoucGFyYW1FeHByKSksIGcubmN5QnJlYWRjcnVtYkxpbmsgPSBiLmhyZWYoai5zdGF0ZSwgaSB8fCBmIHx8IHt9KSwgYy51bnNoaWZ0KGcpKTtcblx0ICAgICAgfSxcblx0ICAgICAgICAgIGsgPSBmdW5jdGlvbiBrKGEpIHtcblx0ICAgICAgICB2YXIgYyA9IGUoYSksXG5cdCAgICAgICAgICAgIGQgPSBiLmdldChjLnN0YXRlKTtpZiAoZC5uY3lCcmVhZGNydW1iICYmIGQubmN5QnJlYWRjcnVtYi5wYXJlbnQpIHtcblx0ICAgICAgICAgIHZhciBmID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBkLm5jeUJyZWFkY3J1bWIucGFyZW50LFxuXHQgICAgICAgICAgICAgIGcgPSBmID8gZC5uY3lCcmVhZGNydW1iLnBhcmVudChoKSA6IGQubmN5QnJlYWRjcnVtYi5wYXJlbnQ7aWYgKGcpIHJldHVybiBnO1xuXHQgICAgICAgIH1yZXR1cm4gaShkKTtcblx0ICAgICAgfTtyZXR1cm4geyBnZXRUZW1wbGF0ZTogZnVuY3Rpb24gZ2V0VGVtcGxhdGUoYikge1xuXHQgICAgICAgICAgcmV0dXJuIGEudGVtcGxhdGVVcmwgPyBudWxsIDogYlthLnRlbXBsYXRlXSA/IGJbYS50ZW1wbGF0ZV0gOiBhLnRlbXBsYXRlO1xuXHQgICAgICAgIH0sIGdldFRlbXBsYXRlVXJsOiBmdW5jdGlvbiBnZXRUZW1wbGF0ZVVybCgpIHtcblx0ICAgICAgICAgIHJldHVybiBhLnRlbXBsYXRlVXJsO1xuXHQgICAgICAgIH0sIGdldFN0YXRlc0NoYWluOiBmdW5jdGlvbiBnZXRTdGF0ZXNDaGFpbihjKSB7XG5cdCAgICAgICAgICBmb3IgKHZhciBkID0gW10sIGUgPSBiLiRjdXJyZW50LnNlbGYubmFtZTsgZTsgZSA9IGsoZSkpIHtcblx0ICAgICAgICAgICAgaWYgKGooZCwgZSksIGMgJiYgZC5sZW5ndGgpIHJldHVybiBkO1xuXHQgICAgICAgICAgfXJldHVybiBhLnByZWZpeFN0YXRlTmFtZSAmJiBqKGQsIGEucHJlZml4U3RhdGVOYW1lKSwgZDtcblx0ICAgICAgICB9LCBnZXRMYXN0U3RlcDogZnVuY3Rpb24gZ2V0TGFzdFN0ZXAoKSB7XG5cdCAgICAgICAgICB2YXIgYSA9IHRoaXMuZ2V0U3RhdGVzQ2hhaW4oITApO3JldHVybiBhLmxlbmd0aCA/IGFbMF0gOiBjO1xuXHQgICAgICAgIH0sICRnZXRMYXN0Vmlld1Njb3BlOiBmdW5jdGlvbiAkZ2V0TGFzdFZpZXdTY29wZSgpIHtcblx0ICAgICAgICAgIHJldHVybiBoO1xuXHQgICAgICAgIH0gfTtcblx0ICAgIH1dO1xuXHQgIH1mdW5jdGlvbiBnKGEsIGMsIGQpIHtcblx0ICAgIHZhciBlID0geyBib290c3RyYXAyOiAnPHVsIGNsYXNzPVwiYnJlYWRjcnVtYlwiPjxsaSBuZy1yZXBlYXQ9XCJzdGVwIGluIHN0ZXBzXCIgbmctc3dpdGNoPVwiJGxhc3QgfHwgISFzdGVwLmFic3RyYWN0XCIgbmctY2xhc3M9XCJ7YWN0aXZlOiAkbGFzdH1cIj48YSBuZy1zd2l0Y2gtd2hlbj1cImZhbHNlXCIgaHJlZj1cInt7c3RlcC5uY3lCcmVhZGNydW1iTGlua319XCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9hPjxzcGFuIG5nLXN3aXRjaC13aGVuPVwidHJ1ZVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvc3Bhbj48c3BhbiBjbGFzcz1cImRpdmlkZXJcIiBuZy1oaWRlPVwiJGxhc3RcIj4vPC9zcGFuPjwvbGk+PC91bD4nLCBib290c3RyYXAzOiAnPG9sIGNsYXNzPVwiYnJlYWRjcnVtYlwiPjxsaSBuZy1yZXBlYXQ9XCJzdGVwIGluIHN0ZXBzXCIgbmctY2xhc3M9XCJ7YWN0aXZlOiAkbGFzdH1cIiBuZy1zd2l0Y2g9XCIkbGFzdCB8fCAhIXN0ZXAuYWJzdHJhY3RcIj48YSBuZy1zd2l0Y2gtd2hlbj1cImZhbHNlXCIgaHJlZj1cInt7c3RlcC5uY3lCcmVhZGNydW1iTGlua319XCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9hPjxzcGFuIG5nLXN3aXRjaC13aGVuPVwidHJ1ZVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvc3Bhbj48L2xpPjwvb2w+JyB9O3JldHVybiB7IHJlc3RyaWN0OiBcIkFFXCIsIHJlcGxhY2U6ICEwLCBzY29wZToge30sIHRlbXBsYXRlOiBjLmdldFRlbXBsYXRlKGUpLCB0ZW1wbGF0ZVVybDogYy5nZXRUZW1wbGF0ZVVybCgpLCBsaW5rOiB7IHBvc3Q6IGZ1bmN0aW9uIHBvc3QoZSkge1xuXHQgICAgICAgICAgdmFyIGYgPSBbXSxcblx0ICAgICAgICAgICAgICBnID0gZnVuY3Rpb24gZygpIHtcblx0ICAgICAgICAgICAgbChmKSwgZiA9IFtdO3ZhciBkID0gYy4kZ2V0TGFzdFZpZXdTY29wZSgpO2Uuc3RlcHMgPSBjLmdldFN0YXRlc0NoYWluKCksIGIuZm9yRWFjaChlLnN0ZXBzLCBmdW5jdGlvbiAoYikge1xuXHQgICAgICAgICAgICAgIGlmIChiLm5jeUJyZWFkY3J1bWIgJiYgYi5uY3lCcmVhZGNydW1iLmxhYmVsKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgYyA9IGEoYi5uY3lCcmVhZGNydW1iLmxhYmVsKTtiLm5jeUJyZWFkY3J1bWJMYWJlbCA9IGMoZCksIGsoZiwgYywgZCwgYik7XG5cdCAgICAgICAgICAgICAgfSBlbHNlIGIubmN5QnJlYWRjcnVtYkxhYmVsID0gYi5uYW1lO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgIH07ZC4kb24oXCIkdmlld0NvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgICAgICAgYS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlIHx8IGcoKTtcblx0ICAgICAgICAgIH0pLCBnKCk7XG5cdCAgICAgICAgfSB9IH07XG5cdCAgfWZ1bmN0aW9uIGgoYSwgYiwgYykge1xuXHQgICAgcmV0dXJuIHsgcmVzdHJpY3Q6IFwiQVwiLCBzY29wZToge30sIHRlbXBsYXRlOiBcInt7bmN5QnJlYWRjcnVtYkxhYmVsfX1cIiwgY29tcGlsZTogZnVuY3Rpb24gY29tcGlsZShkLCBlKSB7XG5cdCAgICAgICAgdmFyIGYgPSBkLmF0dHIoZS4kYXR0ci5uY3lCcmVhZGNydW1iTGFzdCk7cmV0dXJuIGYgJiYgZC5odG1sKGYpLCB7IHBvc3Q6IGZ1bmN0aW9uIHBvc3QoZCkge1xuXHQgICAgICAgICAgICB2YXIgZSA9IFtdLFxuXHQgICAgICAgICAgICAgICAgZiA9IGZ1bmN0aW9uIGYoKSB7XG5cdCAgICAgICAgICAgICAgbChlKSwgZSA9IFtdO3ZhciBjID0gYi4kZ2V0TGFzdFZpZXdTY29wZSgpLFxuXHQgICAgICAgICAgICAgICAgICBmID0gYi5nZXRMYXN0U3RlcCgpO2lmIChmKSBpZiAoZC5uY3lCcmVhZGNydW1iTGluayA9IGYubmN5QnJlYWRjcnVtYkxpbmssIGYubmN5QnJlYWRjcnVtYiAmJiBmLm5jeUJyZWFkY3J1bWIubGFiZWwpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBnID0gYShmLm5jeUJyZWFkY3J1bWIubGFiZWwpO2QubmN5QnJlYWRjcnVtYkxhYmVsID0gZyhjKSwgayhlLCBnLCBjLCBkKTtcblx0ICAgICAgICAgICAgICB9IGVsc2UgZC5uY3lCcmVhZGNydW1iTGFiZWwgPSBmLm5hbWU7XG5cdCAgICAgICAgICAgIH07Yy4kb24oXCIkdmlld0NvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgICAgICAgICBhLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmUgfHwgZigpO1xuXHQgICAgICAgICAgICB9KSwgZigpO1xuXHQgICAgICAgICAgfSB9O1xuXHQgICAgICB9IH07XG5cdCAgfWZ1bmN0aW9uIGkoYSwgYywgZCkge1xuXHQgICAgcmV0dXJuIHsgcmVzdHJpY3Q6IFwiQVwiLCBzY29wZToge30sIHRlbXBsYXRlOiBcInt7bmN5QnJlYWRjcnVtYkNoYWlufX1cIiwgY29tcGlsZTogZnVuY3Rpb24gY29tcGlsZShlLCBmKSB7XG5cdCAgICAgICAgdmFyIGcgPSBlLmF0dHIoZi4kYXR0ci5uY3lCcmVhZGNydW1iVGV4dCk7ZyAmJiBlLmh0bWwoZyk7dmFyIGggPSBlLmF0dHIoZi4kYXR0ci5uY3lCcmVhZGNydW1iVGV4dFNlcGFyYXRvcikgfHwgXCIgLyBcIjtyZXR1cm4geyBwb3N0OiBmdW5jdGlvbiBwb3N0KGUpIHtcblx0ICAgICAgICAgICAgdmFyIGYgPSBbXSxcblx0ICAgICAgICAgICAgICAgIGcgPSBmdW5jdGlvbiBnKGEsIGMsIGQpIHtcblx0ICAgICAgICAgICAgICBiLmZvckVhY2goaihjKSwgZnVuY3Rpb24gKGIpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjID0gZC4kd2F0Y2goYiwgZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgICAgICAgICAgICAgYSAhPT0gYiAmJiBpKCk7XG5cdCAgICAgICAgICAgICAgICB9KTthLnB1c2goYyk7XG5cdCAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgICAgICBpID0gZnVuY3Rpb24gaSgpIHtcblx0ICAgICAgICAgICAgICBsKGYpLCBmID0gW107dmFyIGQgPSBjLiRnZXRMYXN0Vmlld1Njb3BlKCksXG5cdCAgICAgICAgICAgICAgICAgIGkgPSBjLmdldFN0YXRlc0NoYWluKCksXG5cdCAgICAgICAgICAgICAgICAgIGogPSBbXTtiLmZvckVhY2goaSwgZnVuY3Rpb24gKGIpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChiLm5jeUJyZWFkY3J1bWIgJiYgYi5uY3lCcmVhZGNydW1iLmxhYmVsKSB7XG5cdCAgICAgICAgICAgICAgICAgIHZhciBjID0gYShiLm5jeUJyZWFkY3J1bWIubGFiZWwpO2oucHVzaChjKGQpKSwgZyhmLCBjLCBkKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBqLnB1c2goYi5uYW1lKTtcblx0ICAgICAgICAgICAgICB9KSwgZS5uY3lCcmVhZGNydW1iQ2hhaW4gPSBqLmpvaW4oaCk7XG5cdCAgICAgICAgICAgIH07ZC4kb24oXCIkdmlld0NvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgICAgICAgICBhLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmUgfHwgaSgpO1xuXHQgICAgICAgICAgICB9KSwgaSgpO1xuXHQgICAgICAgICAgfSB9O1xuXHQgICAgICB9IH07XG5cdCAgfXZhciBqID0gZnVuY3Rpb24gaihhKSB7XG5cdCAgICBpZiAoYS5leHByZXNzaW9ucykgcmV0dXJuIGEuZXhwcmVzc2lvbnM7dmFyIGMgPSBbXTtyZXR1cm4gYi5mb3JFYWNoKGEucGFydHMsIGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIGIuaXNGdW5jdGlvbihhKSAmJiBjLnB1c2goYS5leHApO1xuXHQgICAgfSksIGM7XG5cdCAgfSxcblx0ICAgICAgayA9IGZ1bmN0aW9uIGsoYSwgYywgZCwgZSkge1xuXHQgICAgYi5mb3JFYWNoKGooYyksIGZ1bmN0aW9uIChiKSB7XG5cdCAgICAgIHZhciBmID0gZC4kd2F0Y2goYiwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGUubmN5QnJlYWRjcnVtYkxhYmVsID0gYyhkKTtcblx0ICAgICAgfSk7YS5wdXNoKGYpO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0ICAgICAgbCA9IGZ1bmN0aW9uIGwoYSkge1xuXHQgICAgYi5mb3JFYWNoKGEsIGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIGEoKTtcblx0ICAgIH0pO1xuXHQgIH07Zy4kaW5qZWN0ID0gW1wiJGludGVycG9sYXRlXCIsIFwiJGJyZWFkY3J1bWJcIiwgXCIkcm9vdFNjb3BlXCJdLCBoLiRpbmplY3QgPSBbXCIkaW50ZXJwb2xhdGVcIiwgXCIkYnJlYWRjcnVtYlwiLCBcIiRyb290U2NvcGVcIl0sIGkuJGluamVjdCA9IFtcIiRpbnRlcnBvbGF0ZVwiLCBcIiRicmVhZGNydW1iXCIsIFwiJHJvb3RTY29wZVwiXSwgYi5tb2R1bGUoXCJuY3ktYW5ndWxhci1icmVhZGNydW1iXCIsIFtcInVpLnJvdXRlci5zdGF0ZVwiXSkucHJvdmlkZXIoXCIkYnJlYWRjcnVtYlwiLCBmKS5kaXJlY3RpdmUoXCJuY3lCcmVhZGNydW1iXCIsIGcpLmRpcmVjdGl2ZShcIm5jeUJyZWFkY3J1bWJMYXN0XCIsIGgpLmRpcmVjdGl2ZShcIm5jeUJyZWFkY3J1bWJUZXh0XCIsIGkpO1xuXHR9KHdpbmRvdywgd2luZG93LmFuZ3VsYXIpO1xuXG4vKioqLyB9LFxuXG4vKioqLyA0OTA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oalF1ZXJ5KSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5MSk7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdChmdW5jdGlvbiAobW9tZW50KSB7XG5cdFxuXHQgICd1c2Ugc3RyaWN0Jztcblx0XG5cdCAgdmFyIG1vZHVsZU5hbWUgPSBcIm5nTWF0ZXJpYWxEYXRlUGlja2VyXCI7XG5cdFxuXHQgIHZhciBWSUVXX1NUQVRFUyA9IHtcblx0ICAgIERBVEU6IDAsXG5cdCAgICBIT1VSOiAxLFxuXHQgICAgTUlOVVRFOiAyXG5cdCAgfTtcblx0XG5cdCAgdmFyIGNzcyA9IGZ1bmN0aW9uIGNzcyhlbCwgbmFtZSkge1xuXHQgICAgaWYgKCdqUXVlcnknIGluIHdpbmRvdykge1xuXHQgICAgICByZXR1cm4galF1ZXJ5KGVsKS5jc3MobmFtZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBlbCA9IGFuZ3VsYXIuZWxlbWVudChlbCk7XG5cdCAgICAgIHJldHVybiAnZ2V0Q29tcHV0ZWRTdHlsZScgaW4gd2luZG93ID8gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxbMF0pW25hbWVdIDogZWwuY3NzKG5hbWUpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZhciB0ZW1wbGF0ZSA9ICc8bWQtZGlhbG9nIGNsYXNzPVwiZHRwXCIgbGF5b3V0PVwiY29sdW1uXCIgc3R5bGU9XCJ3aWR0aDogMzAwcHg7XCI+JyArICcgICAgPG1kLWRpYWxvZy1jb250ZW50IGNsYXNzPVwiZHRwLWNvbnRlbnRcIj4nICsgJyAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1kYXRlLXZpZXdcIj4nICsgJyAgICAgICAgICAgIDxoZWFkZXIgY2xhc3M9XCJkdHAtaGVhZGVyXCI+JyArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtZGF5XCIgbmctc2hvdz1cInBpY2tlci5kYXRlTW9kZVwiPnt7cGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcImRkZGRcIil9fTwvZGl2PicgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLWRheVwiIG5nLXNob3c9XCJwaWNrZXIudGltZU1vZGVcIj57e3BpY2tlci5wYXJhbXMuc2hvcnRUaW1lID8gcGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcIkFcIikgOiBcIiBcIn19PC9kaXY+JyArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1jbG9zZSB0ZXh0LXJpZ2h0XCI+JyArICcgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIG5nLWNsaWNrPVwicGlja2VyLmhpZGUoKVwiPiZ0aW1lczs8L2E+JyArICcgICAgICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgICAgICA8L2hlYWRlcj4nICsgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtZGF0ZVwiIG5nLXNob3c9XCJwaWNrZXIucGFyYW1zLmRhdGVcIj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGxheW91dD1cImNvbHVtblwiPicgKyAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1tb250aFwiPnt7cGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcIk1NTVwiKSB8IHVwcGVyY2FzZX19PC9kaXY+JyArICcgICAgICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbnVtXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiRERcIil9fTwvZGl2PicgKyAnICAgICAgICAgICAgICAgIDxkaXYgbGF5b3V0PVwicm93XCI+JyArICcgPGRpdiBuZy1jbGljaz1cInBpY2tlci5pbmNyZW1lbnRZZWFyKC0xKVwiIGNsYXNzPVwiZHRwLXllYXItYnRuIGR0cC15ZWFyLWJ0bi1wcmV2XCIgZmxleD1cIjMwXCI+PHNwYW4gbmctaWY9XCJwaWNrZXIuaXNQcmV2aW91c1llYXJWaXNpYmxlKClcIiA+JiN4MjVCMjs8L3NwYW4+PC9kaXY+JyArICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLXllYXJcIiBmbGV4Pnt7cGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcIllZWVlcIil9fTwvZGl2PicgKyAnIDxkaXYgbmctY2xpY2s9XCJwaWNrZXIuaW5jcmVtZW50WWVhcigxKVwiIGNsYXNzPVwiZHRwLXllYXItYnRuIGR0cC15ZWFyLWJ0bi1uZXh0XCIgZmxleD1cIjMwXCI+PHNwYW4gbmctaWY9XCJwaWNrZXIuaXNOZXh0WWVhclZpc2libGUoKVwiID4mI3gyNUJDOzwvc3Bhbj48L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgIDwvZGl2PicgLy9zdGFydCB0aW1lXG5cdCAgKyAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC10aW1lXCIgbmctc2hvdz1cInBpY2tlci5wYXJhbXMudGltZSAmJiAhcGlja2VyLnBhcmFtcy5kYXRlXCI+JyArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbWF4dGltZVwiPnt7cGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpLmZvcm1hdChwaWNrZXIucGFyYW1zLnNob3J0VGltZSA/IFwiaGg6bW1cIiA6IFwiSEg6bW1cIil9fTwvZGl2PicgKyAnICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLXBpY2tlclwiPicgKyAnICAgICAgICAgICAgICAgIDxtZGMtZGF0ZXRpbWUtcGlja2VyLWNhbGVuZGFyIGRhdGU9XCJwaWNrZXIuY3VycmVudERhdGVcIiBwaWNrZXI9XCJwaWNrZXJcIiBjbGFzcz1cImR0cC1waWNrZXItY2FsZW5kYXJcIiBuZy1zaG93PVwicGlja2VyLmN1cnJlbnRWaWV3ID09PSBwaWNrZXIuVklFV1MuREFURVwiPjwvbWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhcj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLXBpY2tlci1kYXRldGltZVwiIG5nLXNob3c9XCJwaWNrZXIuY3VycmVudFZpZXcgIT09IHBpY2tlci5WSUVXUy5EQVRFXCI+JyArICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW1lcmlkaWVuXCI+JyArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVmdCBwMjBcIj4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImR0cC1tZXJpZGllbi1hbVwiIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwaWNrZXIubWVyaWRpZW4gPT0gXFwnQU1cXCd9XCIgbmctY2xpY2s9XCJwaWNrZXIuc2VsZWN0QU0oKVwiPnt7cGlja2VyLnBhcmFtcy5hbVRleHR9fTwvYT4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1zaG93PVwiIXBpY2tlci50aW1lTW9kZVwiIGNsYXNzPVwiZHRwLWFjdHVhbC10aW1lIHA2MFwiPnt7cGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpLmZvcm1hdChwaWNrZXIucGFyYW1zLnNob3J0VGltZSA/IFwiaGg6bW1cIiA6IFwiSEg6bW1cIil9fTwvZGl2PicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0IHAyMFwiPicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIGNsYXNzPVwiZHRwLW1lcmlkaWVuLXBtXCIgbmctY2xhc3M9XCJ7c2VsZWN0ZWQ6IHBpY2tlci5tZXJpZGllbiA9PSBcXCdQTVxcJ31cIiBuZy1jbGljaz1cInBpY2tlci5zZWxlY3RQTSgpXCI+e3twaWNrZXIucGFyYW1zLnBtVGV4dH19PC9hPicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgICAgICAgICAgICAgIDxtZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrIG1vZGU9XCJob3Vyc1wiIG5nLWlmPVwicGlja2VyLmN1cnJlbnRWaWV3ID09PSBwaWNrZXIuVklFV1MuSE9VUlwiPjwvbWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jaz4nICsgJyAgICAgICAgICAgICAgICAgICAgPG1kYy1kYXRldGltZS1waWNrZXItY2xvY2sgbW9kZT1cIm1pbnV0ZXNcIiBuZy1pZj1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLk1JTlVURVwiPjwvbWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jaz4nICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICA8L2Rpdj4nICsgJyAgICA8L21kLWRpYWxvZy1jb250ZW50PicgKyAnICAgIDxtZC1kaWFsb2ctYWN0aW9ucyBjbGFzcz1cImR0cC1idXR0b25zXCI+JyArICcgICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwiZHRwLWJ0bi1jYW5jZWwgbWQtYnV0dG9uXCIgbmctY2xpY2s9XCJwaWNrZXIuY2FuY2VsKClcIj4ge3twaWNrZXIucGFyYW1zLmNhbmNlbFRleHR9fTwvbWQtYnV0dG9uPicgKyAnICAgICAgICAgICAgPG1kLWJ1dHRvbiBjbGFzcz1cImR0cC1idG4tb2sgbWQtYnV0dG9uXCIgbmctY2xpY2s9XCJwaWNrZXIub2soKVwiPiB7e3BpY2tlci5wYXJhbXMub2tUZXh0fX08L21kLWJ1dHRvbj4nICsgJyAgICAgIDwvbWQtZGlhbG9nLWFjdGlvbnM+JyArICc8L21kLWRpYWxvZz4nO1xuXHRcblx0ICBhbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lLCBbJ25nTWF0ZXJpYWwnXSkucHJvdmlkZXIoJ21kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZScsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHRoaXMubG9jYWxlID0gJ2VuJztcblx0XG5cdCAgICB0aGlzLiRnZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmxvY2FsZTtcblx0ICAgIH07XG5cdFxuXHQgICAgdGhpcy5zZXREZWZhdWx0TG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZVN0cmluZykge1xuXHQgICAgICB0aGlzLmxvY2FsZSA9IGxvY2FsZVN0cmluZztcblx0ICAgIH07XG5cdCAgfSkuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlcicsIFsnJG1kRGlhbG9nJywgZnVuY3Rpb24gKCRtZERpYWxvZykge1xuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJlc3RyaWN0OiAnQScsXG5cdCAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcblx0ICAgICAgc2NvcGU6IHtcblx0ICAgICAgICBjdXJyZW50RGF0ZTogJz1uZ01vZGVsJyxcblx0ICAgICAgICB0aW1lOiAnPScsXG5cdCAgICAgICAgZGF0ZTogJz0nLFxuXHQgICAgICAgIG1pbkRhdGU6ICc9Jyxcblx0ICAgICAgICBtYXhEYXRlOiAnPScsXG5cdCAgICAgICAgc2hvcnRUaW1lOiAnPScsXG5cdCAgICAgICAgZm9ybWF0OiAnQCcsXG5cdCAgICAgICAgY2FuY2VsVGV4dDogJ0AnLFxuXHQgICAgICAgIG9rVGV4dDogJ0AnLFxuXHQgICAgICAgIGxhbmc6ICdAJyxcblx0ICAgICAgICBhbVRleHQ6ICdAJyxcblx0ICAgICAgICBwbVRleHQ6ICdAJ1xuXHQgICAgICB9LFxuXHQgICAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuXHQgICAgICAgIHZhciBpc09uID0gZmFsc2U7XG5cdCAgICAgICAgaWYgKCFzY29wZS5mb3JtYXQpIHtcblx0ICAgICAgICAgIGlmIChzY29wZS5kYXRlICYmIHNjb3BlLnRpbWUpIHtcblx0ICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ1lZWVktTU0tREQgSEg6bW06c3MnO1xuXHQgICAgICAgICAgfSBlbHNlIGlmIChzY29wZS5kYXRlKSB7XG5cdCAgICAgICAgICAgIHNjb3BlLmZvcm1hdCA9ICdZWVlZLU1NLUREJztcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHNjb3BlLmZvcm1hdCA9ICdISDptbSc7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhzY29wZS5jdXJyZW50RGF0ZSkgJiYgc2NvcGUuY3VycmVudERhdGUgIT09ICcnKSB7XG5cdCAgICAgICAgICBzY29wZS5jdXJyZW50RGF0ZSA9IG1vbWVudChzY29wZS5jdXJyZW50RGF0ZSwgc2NvcGUuZm9ybWF0KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChuZ01vZGVsKSB7XG5cdCAgICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBtID0gbW9tZW50KHZhbHVlKTtcblx0ICAgICAgICAgICAgcmV0dXJuIG0uaXNWYWxpZCgpID8gbS5mb3JtYXQoc2NvcGUuZm9ybWF0KSA6ICcnO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBlbGVtZW50LmF0dHIoJ3JlYWRvbmx5JywgJycpO1xuXHQgICAgICAgIC8vQFRPRE8gY3VzdG9tIGV2ZW50IHRvIHRyaWdnZXIgaW5wdXRcblx0ICAgICAgICBlbGVtZW50Lm9uKCdmb2N1cycsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgICBlbGVtZW50LmJsdXIoKTtcblx0ICAgICAgICAgIGlmIChpc09uKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGlzT24gPSB0cnVlO1xuXHQgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7fTtcblx0ICAgICAgICAgIGZvciAodmFyIGkgaW4gYXR0cnMpIHtcblx0ICAgICAgICAgICAgaWYgKHNjb3BlLmhhc093blByb3BlcnR5KGkpICYmICFhbmd1bGFyLmlzVW5kZWZpbmVkKHNjb3BlW2ldKSkge1xuXHQgICAgICAgICAgICAgIG9wdGlvbnNbaV0gPSBzY29wZVtpXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgb3B0aW9ucy5jdXJyZW50RGF0ZSA9IHNjb3BlLmN1cnJlbnREYXRlO1xuXHQgICAgICAgICAgdmFyIGxvY2FscyA9IHsgb3B0aW9uczogb3B0aW9ucyB9O1xuXHQgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xuXHQgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG5cdCAgICAgICAgICAgIGNvbnRyb2xsZXI6IFBsdWdpbkNvbnRyb2xsZXIsXG5cdCAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3BpY2tlcicsXG5cdCAgICAgICAgICAgIGxvY2FsczogbG9jYWxzLFxuXHQgICAgICAgICAgICBvcGVuRnJvbTogZWxlbWVudCxcblx0ICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXG5cdCAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG5cdCAgICAgICAgICAgIGRpc2FibGVQYXJlbnRTY3JvbGw6IGZhbHNlXG5cdCAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgICAgICAgIHNjb3BlLmN1cnJlbnREYXRlID0gdiA/IHYuX2QgOiB2O1xuXHQgICAgICAgICAgICBpc09uID0gZmFsc2U7XG5cdCAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIGlzT24gPSBmYWxzZTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1dKTtcblx0XG5cdCAgdmFyIFBsdWdpbkNvbnRyb2xsZXIgPSBmdW5jdGlvbiBQbHVnaW5Db250cm9sbGVyKCRzY29wZSwgJG1kRGlhbG9nLCBtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUpIHtcblx0ICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5EQVRFO1xuXHQgICAgdGhpcy5fZGlhbG9nID0gJG1kRGlhbG9nO1xuXHRcblx0ICAgIHRoaXMubWluRGF0ZTtcblx0ICAgIHRoaXMubWF4RGF0ZTtcblx0XG5cdCAgICB0aGlzLl9hdHRhY2hlZEV2ZW50cyA9IFtdO1xuXHQgICAgdGhpcy5WSUVXUyA9IFZJRVdfU1RBVEVTO1xuXHRcblx0ICAgIHRoaXMucGFyYW1zID0ge1xuXHQgICAgICBkYXRlOiB0cnVlLFxuXHQgICAgICB0aW1lOiB0cnVlLFxuXHQgICAgICBmb3JtYXQ6ICdZWVlZLU1NLUREJyxcblx0ICAgICAgbWluRGF0ZTogbnVsbCxcblx0ICAgICAgbWF4RGF0ZTogbnVsbCxcblx0ICAgICAgY3VycmVudERhdGU6IG51bGwsXG5cdCAgICAgIGxhbmc6IG1kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSxcblx0ICAgICAgd2Vla1N0YXJ0OiAwLFxuXHQgICAgICBzaG9ydFRpbWU6IGZhbHNlLFxuXHQgICAgICBjYW5jZWxUZXh0OiAnQ2FuY2VsJyxcblx0ICAgICAgb2tUZXh0OiAnT0snLFxuXHQgICAgICBhbVRleHQ6ICdBTScsXG5cdCAgICAgIHBtVGV4dDogJ1BNJ1xuXHQgICAgfTtcblx0XG5cdCAgICB0aGlzLm1lcmlkaWVuID0gJ0FNJztcblx0ICAgIHRoaXMucGFyYW1zID0gYW5ndWxhci5leHRlbmQodGhpcy5wYXJhbXMsIHRoaXMub3B0aW9ucyk7XG5cdCAgICB0aGlzLmluaXQoKTtcblx0ICB9O1xuXHQgIFBsdWdpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRtZERpYWxvZycsICdtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUnXTtcblx0ICBQbHVnaW5Db250cm9sbGVyLnByb3RvdHlwZSA9IHtcblx0ICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdCAgICAgIHRoaXMudGltZU1vZGUgPSB0aGlzLnBhcmFtcy50aW1lICYmICF0aGlzLnBhcmFtcy5kYXRlO1xuXHQgICAgICB0aGlzLmRhdGVNb2RlID0gdGhpcy5wYXJhbXMuZGF0ZTtcblx0ICAgICAgdGhpcy5pbml0RGF0ZXMoKTtcblx0ICAgICAgdGhpcy5zdGFydCgpO1xuXHQgICAgfSxcblx0ICAgIGN1cnJlbnROZWFyZXN0NU1pbnV0ZTogZnVuY3Rpb24gY3VycmVudE5lYXJlc3Q1TWludXRlKCkge1xuXHQgICAgICB2YXIgZGF0ZSA9IHRoaXMuY3VycmVudERhdGUgfHwgbW9tZW50KCk7XG5cdCAgICAgIHZhciBtaW51dGVzID0gNSAqIE1hdGgucm91bmQoZGF0ZS5taW51dGUoKSAvIDUpO1xuXHQgICAgICBpZiAobWludXRlcyA+PSA2MCkge1xuXHQgICAgICAgIG1pbnV0ZXMgPSA1NTsgLy9hbHdheXMgcHVzaCBkb3duXG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS5taW51dGVzKG1pbnV0ZXMpO1xuXHQgICAgfSxcblx0ICAgIGluaXREYXRlczogZnVuY3Rpb24gaW5pdERhdGVzKCkge1xuXHQgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cdCAgICAgIHZhciBfZGF0ZVBhcmFtID0gZnVuY3Rpb24gX2RhdGVQYXJhbShpbnB1dCwgZmFsbGJhY2spIHtcblx0ICAgICAgICB2YXIgcmV0ID0gbnVsbDtcblx0ICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaW5wdXQpICYmIGlucHV0ICE9PSBudWxsICYmIGlucHV0ICE9PSAnJykge1xuXHQgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoaW5wdXQpKSB7XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgdGhhdC5wYXJhbXMuZm9ybWF0ICE9PSAndW5kZWZpbmVkJyAmJiB0aGF0LnBhcmFtcy5mb3JtYXQgIT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICByZXQgPSBtb21lbnQoaW5wdXQsIHRoYXQucGFyYW1zLmZvcm1hdCkubG9jYWxlKHRoYXQucGFyYW1zLmxhbmcpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIHJldCA9IG1vbWVudChpbnB1dCkubG9jYWxlKHRoYXQucGFyYW1zLmxhbmcpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RhdGUoaW5wdXQpKSB7XG5cdCAgICAgICAgICAgICAgdmFyIHggPSBpbnB1dC5nZXRUaW1lKCk7XG5cdCAgICAgICAgICAgICAgcmV0ID0gbW9tZW50KHgsIFwieFwiKS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuX2lzQU1vbWVudE9iamVjdCkge1xuXHQgICAgICAgICAgICAgIHJldCA9IGlucHV0O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldCA9IGZhbGxiYWNrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmV0O1xuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IF9kYXRlUGFyYW0odGhpcy5wYXJhbXMuY3VycmVudERhdGUsIG1vbWVudCgpKTtcblx0ICAgICAgdGhpcy5taW5EYXRlID0gX2RhdGVQYXJhbSh0aGlzLnBhcmFtcy5taW5EYXRlKTtcblx0ICAgICAgdGhpcy5tYXhEYXRlID0gX2RhdGVQYXJhbSh0aGlzLnBhcmFtcy5tYXhEYXRlKTtcblx0ICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUpO1xuXHQgICAgfSxcblx0ICAgIGluaXREYXRlOiBmdW5jdGlvbiBpbml0RGF0ZShkKSB7XG5cdCAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5EQVRFO1xuXHQgICAgfSxcblx0ICAgIGluaXRIb3VyczogZnVuY3Rpb24gaW5pdEhvdXJzKCkge1xuXHQgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuSE9VUjtcblx0ICAgIH0sXG5cdCAgICBpbml0TWludXRlczogZnVuY3Rpb24gaW5pdE1pbnV0ZXMoKSB7XG5cdCAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5NSU5VVEU7XG5cdCAgICB9LFxuXHQgICAgaXNBZnRlck1pbkRhdGU6IGZ1bmN0aW9uIGlzQWZ0ZXJNaW5EYXRlKGRhdGUsIGNoZWNrSG91ciwgY2hlY2tNaW51dGUpIHtcblx0ICAgICAgdmFyIF9yZXR1cm4gPSB0cnVlO1xuXHRcblx0ICAgICAgaWYgKHR5cGVvZiB0aGlzLm1pbkRhdGUgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubWluRGF0ZSAhPT0gbnVsbCkge1xuXHQgICAgICAgIHZhciBfbWluRGF0ZSA9IG1vbWVudCh0aGlzLm1pbkRhdGUpO1xuXHQgICAgICAgIHZhciBfZGF0ZSA9IG1vbWVudChkYXRlKTtcblx0XG5cdCAgICAgICAgaWYgKCFjaGVja0hvdXIgJiYgIWNoZWNrTWludXRlKSB7XG5cdCAgICAgICAgICBfbWluRGF0ZS5ob3VyKDApO1xuXHQgICAgICAgICAgX21pbkRhdGUubWludXRlKDApO1xuXHRcblx0ICAgICAgICAgIF9kYXRlLmhvdXIoMCk7XG5cdCAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBfbWluRGF0ZS5zZWNvbmQoMCk7XG5cdCAgICAgICAgX2RhdGUuc2Vjb25kKDApO1xuXHQgICAgICAgIF9taW5EYXRlLm1pbGxpc2Vjb25kKDApO1xuXHQgICAgICAgIF9kYXRlLm1pbGxpc2Vjb25kKDApO1xuXHRcblx0ICAgICAgICBpZiAoIWNoZWNrTWludXRlKSB7XG5cdCAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG5cdCAgICAgICAgICBfbWluRGF0ZS5taW51dGUoMCk7XG5cdFxuXHQgICAgICAgICAgX3JldHVybiA9IHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpID49IHBhcnNlSW50KF9taW5EYXRlLmZvcm1hdChcIlhcIikpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfcmV0dXJuID0gcGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPj0gcGFyc2VJbnQoX21pbkRhdGUuZm9ybWF0KFwiWFwiKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JldHVybjtcblx0ICAgIH0sXG5cdCAgICBpc0JlZm9yZU1heERhdGU6IGZ1bmN0aW9uIGlzQmVmb3JlTWF4RGF0ZShkYXRlLCBjaGVja1RpbWUsIGNoZWNrTWludXRlKSB7XG5cdCAgICAgIHZhciBfcmV0dXJuID0gdHJ1ZTtcblx0XG5cdCAgICAgIGlmICh0eXBlb2YgdGhpcy5tYXhEYXRlICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm1heERhdGUgIT09IG51bGwpIHtcblx0ICAgICAgICB2YXIgX21heERhdGUgPSBtb21lbnQodGhpcy5tYXhEYXRlKTtcblx0ICAgICAgICB2YXIgX2RhdGUgPSBtb21lbnQoZGF0ZSk7XG5cdFxuXHQgICAgICAgIGlmICghY2hlY2tUaW1lICYmICFjaGVja01pbnV0ZSkge1xuXHQgICAgICAgICAgX21heERhdGUuaG91cigwKTtcblx0ICAgICAgICAgIF9tYXhEYXRlLm1pbnV0ZSgwKTtcblx0XG5cdCAgICAgICAgICBfZGF0ZS5ob3VyKDApO1xuXHQgICAgICAgICAgX2RhdGUubWludXRlKDApO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgX21heERhdGUuc2Vjb25kKDApO1xuXHQgICAgICAgIF9kYXRlLnNlY29uZCgwKTtcblx0ICAgICAgICBfbWF4RGF0ZS5taWxsaXNlY29uZCgwKTtcblx0ICAgICAgICBfZGF0ZS5taWxsaXNlY29uZCgwKTtcblx0XG5cdCAgICAgICAgaWYgKCFjaGVja01pbnV0ZSkge1xuXHQgICAgICAgICAgX2RhdGUubWludXRlKDApO1xuXHQgICAgICAgICAgX21heERhdGUubWludXRlKDApO1xuXHRcblx0ICAgICAgICAgIF9yZXR1cm4gPSBwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA8PSBwYXJzZUludChfbWF4RGF0ZS5mb3JtYXQoXCJYXCIpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX3JldHVybiA9IHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpIDw9IHBhcnNlSW50KF9tYXhEYXRlLmZvcm1hdChcIlhcIikpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZXR1cm47XG5cdCAgICB9LFxuXHQgICAgc2VsZWN0RGF0ZTogZnVuY3Rpb24gc2VsZWN0RGF0ZShkYXRlKSB7XG5cdCAgICAgIGlmIChkYXRlKSB7XG5cdCAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG1vbWVudChkYXRlKTtcblx0ICAgICAgICBpZiAoIXRoaXMuaXNBZnRlck1pbkRhdGUodGhpcy5jdXJyZW50RGF0ZSkpIHtcblx0ICAgICAgICAgIHRoaXMuY3VycmVudERhdGUgPSBtb21lbnQodGhpcy5taW5EYXRlKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICghdGhpcy5pc0JlZm9yZU1heERhdGUodGhpcy5jdXJyZW50RGF0ZSkpIHtcblx0ICAgICAgICAgIHRoaXMuY3VycmVudERhdGUgPSBtb21lbnQodGhpcy5tYXhEYXRlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5jdXJyZW50RGF0ZS5sb2NhbGUodGhpcy5wYXJhbXMubGFuZyk7XG5cdCAgICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0ID0gbW9tZW50KHRoaXMuY3VycmVudERhdGUpO1xuXHQgICAgICAgIHRoaXMubWVyaWRpZW4gPSB0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSA+PSAxMiA/ICdQTScgOiAnQU0nO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgc2V0TmFtZTogZnVuY3Rpb24gc2V0TmFtZSgpIHtcblx0ICAgICAgdmFyIHRleHQgPSBcIlwiO1xuXHQgICAgICB2YXIgcG9zc2libGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKykge1xuXHQgICAgICAgIHRleHQgKz0gcG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlLmxlbmd0aCkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gdGV4dDtcblx0ICAgIH0sXG5cdCAgICBpc1BNOiBmdW5jdGlvbiBpc1BNKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5tZXJpZGllbiA9PT0gJ1BNJztcblx0ICAgIH0sXG5cdCAgICBpbmNyZW1lbnRZZWFyOiBmdW5jdGlvbiBpbmNyZW1lbnRZZWFyKGFtb3VudCkge1xuXHQgICAgICBpZiAoYW1vdW50ID09PSAxICYmIHRoaXMuaXNOZXh0WWVhclZpc2libGUoKSkge1xuXHQgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmFkZCgneWVhcicsIGFtb3VudCkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoYW1vdW50ID09PSAtMSAmJiB0aGlzLmlzUHJldmlvdXNZZWFyVmlzaWJsZSgpKSB7XG5cdCAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuYWRkKCd5ZWFyJywgYW1vdW50KSk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBpc1ByZXZpb3VzTW9udGhWaXNpYmxlOiBmdW5jdGlvbiBpc1ByZXZpb3VzTW9udGhWaXNpYmxlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNBZnRlck1pbkRhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuc3RhcnRPZignbW9udGgnKSwgZmFsc2UsIGZhbHNlKTtcblx0ICAgIH0sXG5cdCAgICBpc05leHRNb250aFZpc2libGU6IGZ1bmN0aW9uIGlzTmV4dE1vbnRoVmlzaWJsZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5lbmRPZignbW9udGgnKSwgZmFsc2UsIGZhbHNlKTtcblx0ICAgIH0sXG5cdCAgICBpc1ByZXZpb3VzWWVhclZpc2libGU6IGZ1bmN0aW9uIGlzUHJldmlvdXNZZWFyVmlzaWJsZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLnN0YXJ0T2YoJ3llYXInKSwgZmFsc2UsIGZhbHNlKTtcblx0ICAgIH0sXG5cdCAgICBpc05leHRZZWFyVmlzaWJsZTogZnVuY3Rpb24gaXNOZXh0WWVhclZpc2libGUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuZW5kT2YoJ3llYXInKSwgZmFsc2UsIGZhbHNlKTtcblx0ICAgIH0sXG5cdCAgICBpc0hvdXJBdmFpbGFibGU6IGZ1bmN0aW9uIGlzSG91ckF2YWlsYWJsZShob3VyKSB7XG5cdCAgICAgIHZhciBfZGF0ZSA9IG1vbWVudCh0aGlzLmN1cnJlbnREYXRlKTtcblx0ICAgICAgX2RhdGUuaG91cih0aGlzLmNvbnZlcnRIb3Vycyhob3VyKSkubWludXRlKDApLnNlY29uZCgwKTtcblx0ICAgICAgcmV0dXJuIHRoaXMuaXNBZnRlck1pbkRhdGUoX2RhdGUsIHRydWUsIGZhbHNlKSAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShfZGF0ZSwgdHJ1ZSwgZmFsc2UpO1xuXHQgICAgfSxcblx0ICAgIGlzTWludXRlQXZhaWxhYmxlOiBmdW5jdGlvbiBpc01pbnV0ZUF2YWlsYWJsZShtaW51dGUpIHtcblx0ICAgICAgdmFyIF9kYXRlID0gbW9tZW50KHRoaXMuY3VycmVudERhdGUpO1xuXHQgICAgICBfZGF0ZS5taW51dGUobWludXRlKS5zZWNvbmQoMCk7XG5cdCAgICAgIHJldHVybiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKF9kYXRlLCB0cnVlLCB0cnVlKSAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShfZGF0ZSwgdHJ1ZSwgdHJ1ZSk7XG5cdCAgICB9LFxuXHQgICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuXHQgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuREFURTtcblx0ICAgICAgLy90aGlzLmluaXREYXRlcygpO1xuXHQgICAgICBpZiAodGhpcy5wYXJhbXMuZGF0ZSkge1xuXHQgICAgICAgIHRoaXMuaW5pdERhdGUoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAodGhpcy5wYXJhbXMudGltZSkge1xuXHQgICAgICAgICAgdGhpcy5pbml0SG91cnMoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBvazogZnVuY3Rpb24gb2soKSB7XG5cdCAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50Vmlldykge1xuXHQgICAgICAgIGNhc2UgVklFV19TVEFURVMuREFURTpcblx0ICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy50aW1lID09PSB0cnVlKSB7XG5cdCAgICAgICAgICAgIHRoaXMuaW5pdEhvdXJzKCk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLmhpZGUodHJ1ZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLkhPVVI6XG5cdCAgICAgICAgICB0aGlzLmluaXRNaW51dGVzKCk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLk1JTlVURTpcblx0ICAgICAgICAgIHRoaXMuaGlkZSh0cnVlKTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7XG5cdCAgICAgIGlmICh0aGlzLnBhcmFtcy50aW1lKSB7XG5cdCAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRWaWV3KSB7XG5cdCAgICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLkRBVEU6XG5cdCAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIGNhc2UgVklFV19TVEFURVMuSE9VUjpcblx0ICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLmRhdGUpIHtcblx0ICAgICAgICAgICAgICB0aGlzLmluaXREYXRlKCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLk1JTlVURTpcblx0ICAgICAgICAgICAgdGhpcy5pbml0SG91cnMoKTtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuaGlkZSgpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgc2VsZWN0TW9udGhCZWZvcmU6IGZ1bmN0aW9uIHNlbGVjdE1vbnRoQmVmb3JlKCkge1xuXHQgICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuc3VidHJhY3QoMSwgJ21vbnRocycpO1xuXHQgICAgfSxcblx0ICAgIHNlbGVjdE1vbnRoQWZ0ZXI6IGZ1bmN0aW9uIHNlbGVjdE1vbnRoQWZ0ZXIoKSB7XG5cdCAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5hZGQoMSwgJ21vbnRocycpO1xuXHQgICAgfSxcblx0ICAgIHNlbGVjdFllYXJCZWZvcmU6IGZ1bmN0aW9uIHNlbGVjdFllYXJCZWZvcmUoKSB7XG5cdCAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5zdWJ0cmFjdCgxLCAneWVhcnMnKTtcblx0ICAgIH0sXG5cdCAgICBzZWxlY3RZZWFyQWZ0ZXI6IGZ1bmN0aW9uIHNlbGVjdFllYXJBZnRlcigpIHtcblx0ICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LmFkZCgxLCAneWVhcnMnKTtcblx0ICAgIH0sXG5cdCAgICBzZWxlY3RBTTogZnVuY3Rpb24gc2VsZWN0QU0oKSB7XG5cdCAgICAgIGlmICh0aGlzLmlzSG91ckF2YWlsYWJsZSgwKSB8fCB0aGlzLmlzSG91ckF2YWlsYWJsZSgxMikpIHtcblx0ICAgICAgICBpZiAodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkgPj0gMTIpIHtcblx0ICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLnN1YnRyYWN0KDEyLCAnaG91cnMnKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghdGhpcy5pc0hvdXJBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkpKSB7XG5cdCAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKHRoaXMubWluRGF0ZS5ob3VyKCkpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCF0aGlzLmlzTWludXRlQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUubWludXRlKCkpKSB7XG5cdCAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUodGhpcy5taW5EYXRlLm1pbnV0ZSgpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgc2VsZWN0UE06IGZ1bmN0aW9uIHNlbGVjdFBNKCkge1xuXHQgICAgICBpZiAodGhpcy5pc0hvdXJBdmFpbGFibGUoMTMpIHx8IHRoaXMuaXNIb3VyQXZhaWxhYmxlKDI0KSkge1xuXHQgICAgICAgIGlmICh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSA8IDEyKSB7XG5cdCAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5hZGQoMTIsICdob3VycycpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCF0aGlzLmlzSG91ckF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSkpIHtcblx0ICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIodGhpcy5tYXhEYXRlLmhvdXIoKSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuaXNNaW51dGVBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUoKSkpIHtcblx0ICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSh0aGlzLm1heERhdGUubWludXRlKCkpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBjb252ZXJ0SG91cnM6IGZ1bmN0aW9uIGNvbnZlcnRIb3VycyhoKSB7XG5cdCAgICAgIHZhciBfcmV0dXJuID0gaDtcblx0ICAgICAgaWYgKGggPCAxMiAmJiB0aGlzLmlzUE0oKSkgX3JldHVybiArPSAxMjtcblx0XG5cdCAgICAgIHJldHVybiBfcmV0dXJuO1xuXHQgICAgfSxcblx0ICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUob2tCdG4pIHtcblx0ICAgICAgaWYgKG9rQnRuKSB7XG5cdCAgICAgICAgdGhpcy5fZGlhbG9nLmhpZGUodGhpcy5jdXJyZW50RGF0ZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5fZGlhbG9nLmNhbmNlbCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSkuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlckNhbGVuZGFyJywgW2Z1bmN0aW9uICgpIHtcblx0XG5cdCAgICB2YXIgc3RhcnREYXRlID0gbW9tZW50KCksXG5cdCAgICAgICAgWUVBUl9NSU4gPSAxOTAwLFxuXHQgICAgICAgIFlFQVJfTUFYID0gMjEwMCxcblx0ICAgICAgICBNT05USFNfSU5fQUxMID0gKFlFQVJfTUFYIC0gWUVBUl9NSU4gKyAxKSAqIDEyLFxuXHQgICAgICAgIElURU1fSEVJR0hUID0gMjQwLFxuXHQgICAgICAgIE1PTlRIUyA9IFtdO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBNT05USFNfSU5fQUxMOyBpKyspIHtcblx0ICAgICAgTU9OVEhTLnB1c2goaSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGN1cnJlbnRNb250aEluZGV4ID0gZnVuY3Rpb24gY3VycmVudE1vbnRoSW5kZXgoZGF0ZSkge1xuXHQgICAgICB2YXIgeWVhciA9IGRhdGUueWVhcigpO1xuXHQgICAgICB2YXIgbW9udGggPSBkYXRlLm1vbnRoKCk7XG5cdCAgICAgIHJldHVybiAoeWVhciAtIFlFQVJfTUlOKSAqIDEyICsgbW9udGggLSAxO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICByZXN0cmljdDogJ0UnLFxuXHQgICAgICBzY29wZToge1xuXHQgICAgICAgIHBpY2tlcjogJz0nLFxuXHQgICAgICAgIGRhdGU6ICc9J1xuXHQgICAgICB9LFxuXHQgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxuXHQgICAgICBjb250cm9sbGVyQXM6ICdjYWwnLFxuXHQgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcblx0ICAgICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzLFxuXHQgICAgICAgICAgICBwaWNrZXIgPSB0aGlzLnBpY2tlcixcblx0ICAgICAgICAgICAgZGF5cyA9IFtdO1xuXHRcblx0ICAgICAgICBmb3IgKHZhciBpID0gcGlja2VyLnBhcmFtcy53ZWVrU3RhcnQ7IGRheXMubGVuZ3RoIDwgNzsgaSsrKSB7XG5cdCAgICAgICAgICBpZiAoaSA+IDYpIHtcblx0ICAgICAgICAgICAgaSA9IDA7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBkYXlzLnB1c2goaS50b1N0cmluZygpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGNhbGVuZGFyLndlZWsgPSBkYXlzO1xuXHQgICAgICAgIGlmICghcGlja2VyLm1heERhdGUgJiYgIXBpY2tlci5taW5EYXRlKSB7XG5cdCAgICAgICAgICBjYWxlbmRhci5tb250aHMgPSBNT05USFM7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZhciBsb3cgPSBwaWNrZXIubWluRGF0ZSA/IGN1cnJlbnRNb250aEluZGV4KHBpY2tlci5taW5EYXRlKSA6IDA7XG5cdCAgICAgICAgICB2YXIgaGlnaCA9IHBpY2tlci5tYXhEYXRlID8gY3VycmVudE1vbnRoSW5kZXgocGlja2VyLm1heERhdGUpICsgMSA6IE1PTlRIU19JTl9BTEw7XG5cdCAgICAgICAgICBjYWxlbmRhci5tb250aHMgPSBNT05USFMuc2xpY2UobG93LCBoaWdoKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGNhbGVuZGFyLmdldEl0ZW1BdEluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XG5cdCAgICAgICAgICB2YXIgbW9udGggPSAoaW5kZXggKyAxKSAlIDEyIHx8IDEyO1xuXHQgICAgICAgICAgdmFyIHllYXIgPSBZRUFSX01JTiArIE1hdGguZmxvb3IoaW5kZXggLyAxMik7XG5cdCAgICAgICAgICB2YXIgbW9udGhPYmogPSBtb21lbnQocGlja2VyLmN1cnJlbnREYXRlKS55ZWFyKHllYXIpLm1vbnRoKG1vbnRoKTtcblx0ICAgICAgICAgIHJldHVybiBnZW5lcmF0ZU1vbnRoQ2FsZW5kYXIobW9udGhPYmopO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGNhbGVuZGFyLnRvcEluZGV4ID0gY3VycmVudE1vbnRoSW5kZXgocGlja2VyLmN1cnJlbnREYXRlKSAtIGNhbGVuZGFyLm1vbnRoc1swXTtcblx0XG5cdCAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gcGlja2VyLmN1cnJlbnREYXRlID8gcGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdCgnWVlZWS1NTScpIDogJyc7XG5cdCAgICAgICAgfSwgZnVuY3Rpb24gKHZhbDIsIHZhbDEpIHtcblx0ICAgICAgICAgIGlmICh2YWwyICE9IHZhbDEpIHtcblx0ICAgICAgICAgICAgdmFyIG5EYXRlID0gbW9tZW50KHZhbDIsICdZWVlZLU1NJyk7XG5cdCAgICAgICAgICAgIHZhciBpbmRleCA9IGN1cnJlbnRNb250aEluZGV4KG5EYXRlKTtcblx0ICAgICAgICAgICAgaWYgKGNhbGVuZGFyLnRvcEluZGV4ICE9IGluZGV4KSB7XG5cdCAgICAgICAgICAgICAgY2FsZW5kYXIudG9wSW5kZXggPSBpbmRleCAtIGNhbGVuZGFyLm1vbnRoc1swXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICB2YXIgZ2VuZXJhdGVNb250aENhbGVuZGFyID0gZnVuY3Rpb24gZ2VuZXJhdGVNb250aENhbGVuZGFyKGRhdGUpIHtcblx0ICAgICAgICAgIHZhciBtb250aCA9IHt9O1xuXHQgICAgICAgICAgaWYgKGRhdGUgIT09IG51bGwpIHtcblx0ICAgICAgICAgICAgbW9udGgubmFtZSA9IGRhdGUuZm9ybWF0KCdNTU1NIFlZWVknKTtcblx0ICAgICAgICAgICAgdmFyIHN0YXJ0T2ZNb250aCA9IG1vbWVudChkYXRlKS5sb2NhbGUocGlja2VyLnBhcmFtcy5sYW5nKS5zdGFydE9mKCdtb250aCcpLmhvdXIoZGF0ZS5ob3VyKCkpLm1pbnV0ZShkYXRlLm1pbnV0ZSgpKTtcblx0ICAgICAgICAgICAgdmFyIGlOdW1EYXkgPSBzdGFydE9mTW9udGguZm9ybWF0KCdkJyk7XG5cdCAgICAgICAgICAgIG1vbnRoLmRheXMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0T2ZNb250aC5kYXRlKCk7IGkgPD0gc3RhcnRPZk1vbnRoLmRheXNJbk1vbnRoKCk7IGkrKykge1xuXHQgICAgICAgICAgICAgIGlmIChpID09PSBzdGFydE9mTW9udGguZGF0ZSgpKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgaVdlZWsgPSBjYWxlbmRhci53ZWVrLmluZGV4T2YoaU51bURheS50b1N0cmluZygpKTtcblx0ICAgICAgICAgICAgICAgIGlmIChpV2VlayA+IDApIHtcblx0ICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBpV2VlazsgeCsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbW9udGguZGF5cy5wdXNoKDApO1xuXHQgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIG1vbnRoLmRheXMucHVzaChtb21lbnQoc3RhcnRPZk1vbnRoKS5sb2NhbGUocGlja2VyLnBhcmFtcy5sYW5nKS5kYXRlKGkpKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFyIGRheXNJbkFXZWVrID0gNyxcblx0ICAgICAgICAgICAgICAgIGRheXNUbXAgPSBbXSxcblx0ICAgICAgICAgICAgICAgIHNsaWNlcyA9IE1hdGguY2VpbChtb250aC5kYXlzLmxlbmd0aCAvIGRheXNJbkFXZWVrKTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzbGljZXM7IGorKykge1xuXHQgICAgICAgICAgICAgIGRheXNUbXAucHVzaChtb250aC5kYXlzLnNsaWNlKGogKiBkYXlzSW5BV2VlaywgKGogKyAxKSAqIGRheXNJbkFXZWVrKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgbW9udGguZGF5cyA9IGRheXNUbXA7XG5cdCAgICAgICAgICAgIHJldHVybiBtb250aDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBjYWxlbmRhci50b0RheSA9IGZ1bmN0aW9uIChpKSB7XG5cdCAgICAgICAgICByZXR1cm4gbW9tZW50KHBhcnNlSW50KGkpLCBcImRcIikubG9jYWxlKHBpY2tlci5wYXJhbXMubGFuZykuZm9ybWF0KFwiZGRcIikuc3Vic3RyaW5nKDAsIDEpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGNhbGVuZGFyLmlzSW5SYW5nZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG5cdCAgICAgICAgICByZXR1cm4gcGlja2VyLmlzQWZ0ZXJNaW5EYXRlKG1vbWVudChkYXRlKSwgZmFsc2UsIGZhbHNlKSAmJiBwaWNrZXIuaXNCZWZvcmVNYXhEYXRlKG1vbWVudChkYXRlKSwgZmFsc2UsIGZhbHNlKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBjYWxlbmRhci5zZWxlY3REYXRlID0gZnVuY3Rpb24gKGRhdGUpIHtcblx0ICAgICAgICAgIGlmIChkYXRlKSB7XG5cdCAgICAgICAgICAgIGlmIChjYWxlbmRhci5pc1NlbGVjdGVkRGF5KGRhdGUpKSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlci5vaygpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHBpY2tlci5zZWxlY3REYXRlKG1vbWVudChkYXRlKS5ob3VyKGNhbGVuZGFyLmRhdGUuaG91cigpKS5taW51dGUoY2FsZW5kYXIuZGF0ZS5taW51dGUoKSkpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGNhbGVuZGFyLmlzU2VsZWN0ZWREYXkgPSBmdW5jdGlvbiAobSkge1xuXHQgICAgICAgICAgcmV0dXJuIG0gJiYgY2FsZW5kYXIuZGF0ZS5kYXRlKCkgPT09IG0uZGF0ZSgpICYmIGNhbGVuZGFyLmRhdGUubW9udGgoKSA9PT0gbS5tb250aCgpICYmIGNhbGVuZGFyLmRhdGUueWVhcigpID09PSBtLnllYXIoKTtcblx0ICAgICAgICB9O1xuXHQgICAgICB9XSxcblx0ICAgICAgdGVtcGxhdGU6ICc8bWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyIG1kLXRvcC1pbmRleD1cImNhbC50b3BJbmRleFwiIGNsYXNzPVwibW9udGhzXCI+JyArICc8ZGl2IG1kLXZpcnR1YWwtcmVwZWF0PVwiaWR4IGluIGNhbC5tb250aHNcIiBtZC1zdGFydC1pbmRleD1cImNhbC50b3BJbmRleFwiIG1kLWl0ZW0tc2l6ZT1cIicgKyBJVEVNX0hFSUdIVCArICdcIj4nICsgJyAgICAgPGRpdiBtZGMtZGF0ZXRpbWUtcGlja2VyLWNhbGVuZGFyLW1vbnRoIGlkeD1cImlkeFwiPjwvZGl2PicgKyAnPC9kaXY+JyArICc8L21kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lcj4nXG5cdCAgICB9O1xuXHQgIH1dKS5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXJNb250aCcsIFsnJGNvbXBpbGUnLCBmdW5jdGlvbiAoJGNvbXBpbGUpIHtcblx0ICAgIHZhciBidWlsZENhbGVuZGFyQ29udGVudCA9IGZ1bmN0aW9uIGJ1aWxkQ2FsZW5kYXJDb250ZW50KGVsZW1lbnQsIHNjb3BlKSB7XG5cdCAgICAgIHZhciB0Ym9keSA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5JykpO1xuXHQgICAgICB2YXIgY2FsZW5kYXIgPSBzY29wZS5jYWwsXG5cdCAgICAgICAgICBtb250aCA9IHNjb3BlLm1vbnRoO1xuXHQgICAgICB0Ym9keS5odG1sKCcnKTtcblx0ICAgICAgbW9udGguZGF5cy5mb3JFYWNoKGZ1bmN0aW9uICh3ZWVrRGF5cywgaSkge1xuXHQgICAgICAgIHZhciB0ciA9IGFuZ3VsYXIuZWxlbWVudCgnPHRyPjwvdHI+Jyk7XG5cdCAgICAgICAgd2Vla0RheXMuZm9yRWFjaChmdW5jdGlvbiAod2Vla0RheSwgaikge1xuXHQgICAgICAgICAgdmFyIHRkID0gYW5ndWxhci5lbGVtZW50KCc8dGQ+IDwvdGQ+Jyk7XG5cdCAgICAgICAgICBpZiAod2Vla0RheSkge1xuXHQgICAgICAgICAgICB2YXIgYU9yU3Bhbjtcblx0ICAgICAgICAgICAgaWYgKGNhbGVuZGFyLmlzSW5SYW5nZSh3ZWVrRGF5KSkge1xuXHQgICAgICAgICAgICAgIC8vYnVpbGQgYVxuXHQgICAgICAgICAgICAgIHZhciBzY29wZVJlZiA9ICdtb250aFtcImRheXNcIl1bJyArIGkgKyAnXVsnICsgaiArICddJztcblx0ICAgICAgICAgICAgICBhT3JTcGFuID0gYW5ndWxhci5lbGVtZW50KFwiPGEgaHJlZj0nIycgbWRjLWR0cC1ub2NsaWNrPjwvYT5cIikuYXR0cignbmctY2xhc3MnLCAne3NlbGVjdGVkOiBjYWwuaXNTZWxlY3RlZERheSgnICsgc2NvcGVSZWYgKyAnKX0nKS5hdHRyKCduZy1jbGljaycsICdjYWwuc2VsZWN0RGF0ZSgnICsgc2NvcGVSZWYgKyAnKScpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGFPclNwYW4gPSBhbmd1bGFyLmVsZW1lbnQoJzxzcGFuPjwvc3Bhbj4nKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBhT3JTcGFuLmFkZENsYXNzKCdkdHAtc2VsZWN0LWRheScpLmh0bWwod2Vla0RheS5mb3JtYXQoJ0QnKSk7XG5cdCAgICAgICAgICAgIHRkLmFwcGVuZChhT3JTcGFuKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHRyLmFwcGVuZCh0ZCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgdGJvZHkuYXBwZW5kKHRyKTtcblx0ICAgICAgfSk7XG5cdCAgICAgICRjb21waWxlKHRib2R5KShzY29wZSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHNjb3BlOiB7XG5cdCAgICAgICAgaWR4OiAnPSdcblx0ICAgICAgfSxcblx0ICAgICAgcmVxdWlyZTogJ15tZGNEYXRldGltZVBpY2tlckNhbGVuZGFyJyxcblx0ICAgICAgcmVzdHJpY3Q6ICdBRScsXG5cdCAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImR0cC1waWNrZXItbW9udGhcIj57e21vbnRoLm5hbWV9fTwvZGl2PicgKyAnPHRhYmxlIGNsYXNzPVwidGFibGUgZHRwLXBpY2tlci1kYXlzXCI+JyArICcgICAgPHRoZWFkPicgKyAnICAgIDx0cj4nICsgJyAgICAgICAgPHRoIG5nLXJlcGVhdD1cImRheSBpbiBjYWwud2Vla1wiPnt7Y2FsLnRvRGF5KGRheSl9fTwvdGg+JyArICcgICAgPC90cj4nICsgJyAgICA8L3RoZWFkPicgKyAnICAgIDx0Ym9keT4nICsgJyAgICA8L3Rib2R5PicgKyAnPC90YWJsZT4nLFxuXHQgICAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY2FsZW5kYXIpIHtcblx0ICAgICAgICBzY29wZS5jYWwgPSBjYWxlbmRhcjtcblx0ICAgICAgICBzY29wZS5tb250aCA9IGNhbGVuZGFyLmdldEl0ZW1BdEluZGV4KHBhcnNlSW50KHNjb3BlLmlkeCkpO1xuXHQgICAgICAgIGJ1aWxkQ2FsZW5kYXJDb250ZW50KGVsZW1lbnQsIHNjb3BlKTtcblx0ICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgcmV0dXJuIHNjb3BlLmlkeDtcblx0ICAgICAgICB9LCBmdW5jdGlvbiAoaWR4LCBvbGRJZHgpIHtcblx0ICAgICAgICAgIGlmIChpZHggIT0gb2xkSWR4KSB7XG5cdCAgICAgICAgICAgIHNjb3BlLm1vbnRoID0gY2FsZW5kYXIuZ2V0SXRlbUF0SW5kZXgocGFyc2VJbnQoc2NvcGUuaWR4KSk7XG5cdCAgICAgICAgICAgIGJ1aWxkQ2FsZW5kYXJDb250ZW50KGVsZW1lbnQsIHNjb3BlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XSk7XG5cdFxuXHQgIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpLmRpcmVjdGl2ZSgnbWRjRHRwTm9jbGljaycsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsKSB7XG5cdCAgICAgICAgZWwub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9KTtcblx0ICBhbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lKS5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyQ2xvY2snLCBbZnVuY3Rpb24gKCkge1xuXHRcblx0ICAgIHZhciB0ZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPVwiZHRwLXBpY2tlci1jbG9ja1wiPjxzcGFuIG5nLWlmPVwiIXBvaW50cyB8fCBwb2ludHMubGVuZ3RoIDwgMVwiPiZuYnNwOzwvc3Bhbj4nICsgJzxkaXYgbmctcmVwZWF0PVwicG9pbnQgaW4gcG9pbnRzXCIgY2xhc3M9XCJkdHAtcGlja2VyLXRpbWVcIiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiB7e3BvaW50LmxlZnR9fXB4OyBtYXJnaW4tdG9wOiB7e3BvaW50LnRvcH19cHg7XCI+JyArICcgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBuZy1jbGFzcz1cIntzZWxlY3RlZDogcG9pbnQudmFsdWU9PT1jdXJyZW50VmFsdWV9XCIgY2xhc3M9XCJkdHAtc2VsZWN0LWhvdXJcIiBuZy1jbGljaz1cInNldFRpbWUocG9pbnQudmFsdWUpXCIgbmctaWY9XCJwb2ludEF2YWlsYWJsZShwb2ludClcIj57e3BvaW50LmRpc3BsYXl9fTwvYT4nICsgJyAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIGNsYXNzPVwiZGlzYWJsZWQgZHRwLXNlbGVjdC1ob3VyXCIgbmctaWY9XCIhcG9pbnRBdmFpbGFibGUocG9pbnQpXCI+e3twb2ludC5kaXNwbGF5fX08L2E+JyArICc8L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJkdHAtaGFuZCBkdHAtaG91ci1oYW5kXCI+PC9kaXY+JyArICc8ZGl2IGNsYXNzPVwiZHRwLWhhbmQgZHRwLW1pbnV0ZS1oYW5kXCI+PC9kaXY+JyArICc8ZGl2IGNsYXNzPVwiZHRwLWNsb2NrLWNlbnRlclwiPjwvZGl2PicgKyAnPC9kaXY+Jztcblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICByZXN0cmljdDogJ0UnLFxuXHQgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cdCAgICAgICAgdmFyIG1pbnV0ZU1vZGUgPSBhdHRycy5tb2RlID09PSAnbWludXRlcyc7XG5cdCAgICAgICAgdmFyIHBpY2tlciA9IHNjb3BlLnBpY2tlcjtcblx0ICAgICAgICAvL2Jhbmtpbmcgb24gdGhlIGZhY3QgdGhhdCB0aGVyZSB3aWxsIG9ubHkgYmUgb25lIGF0IGEgdGltZVxuXHQgICAgICAgIHZhciBjb21wb25lbnRSb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWQtZGlhbG9nLmR0cCcpO1xuXHQgICAgICAgIHZhciBleGVjID0gZnVuY3Rpb24gZXhlYygpIHtcblx0ICAgICAgICAgIHZhciBjbG9jayA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtcGlja2VyLWNsb2NrJykpLFxuXHQgICAgICAgICAgICAgIHBpY2tlckVsID0gYW5ndWxhci5lbGVtZW50KGNvbXBvbmVudFJvb3QucXVlcnlTZWxlY3RvcignLmR0cC1waWNrZXInKSk7XG5cdFxuXHQgICAgICAgICAgdmFyIHcgPSBjb21wb25lbnRSb290LnF1ZXJ5U2VsZWN0b3IoJy5kdHAtY29udGVudCcpLm9mZnNldFdpZHRoO1xuXHQgICAgICAgICAgdmFyIHBsID0gcGFyc2VJbnQoY3NzKHBpY2tlckVsLCAncGFkZGluZ0xlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0ICAgICAgICAgIHZhciBwciA9IHBhcnNlSW50KGNzcyhwaWNrZXJFbCwgJ3BhZGRpbmdSaWdodCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXHQgICAgICAgICAgdmFyIG1sID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXHQgICAgICAgICAgdmFyIG1yID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luUmlnaHQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0ICAgICAgICAgIC8vc2V0IHdpZHRoXG5cdCAgICAgICAgICB2YXIgY2xvY2tXaWR0aCA9IHcgLSAobWwgKyBtciArIHBsICsgcHIpO1xuXHQgICAgICAgICAgY2xvY2suY3NzKCd3aWR0aCcsIGNsb2NrV2lkdGggKyAncHgnKTtcblx0XG5cdCAgICAgICAgICB2YXIgcEwgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXHQgICAgICAgICAgdmFyIHBUID0gcGFyc2VJbnQoY3NzKHBpY2tlckVsLCAncGFkZGluZ1RvcCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXHQgICAgICAgICAgdmFyIG1MID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXHQgICAgICAgICAgdmFyIG1UID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luVG9wJykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdFxuXHQgICAgICAgICAgdmFyIHIgPSBjbG9ja1dpZHRoIC8gMjtcblx0ICAgICAgICAgIHZhciBqID0gciAvIDEuMjsgLy8/Pz9cblx0XG5cdCAgICAgICAgICB2YXIgcG9pbnRzID0gW107XG5cdFxuXHQgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCAxMjsgKytoKSB7XG5cdCAgICAgICAgICAgIHZhciB4ID0gaiAqIE1hdGguc2luKE1hdGguUEkgKiAyICogKGggLyAxMikpO1xuXHQgICAgICAgICAgICB2YXIgeSA9IGogKiBNYXRoLmNvcyhNYXRoLlBJICogMiAqIChoIC8gMTIpKTtcblx0XG5cdCAgICAgICAgICAgIHZhciBob3VyID0ge1xuXHQgICAgICAgICAgICAgIGxlZnQ6IHIgKyB4ICsgcEwgLyAyIC0gKHBMICsgbUwpLFxuXHQgICAgICAgICAgICAgIHRvcDogciAtIHkgLSBtVCAvIDIgLSAocFQgKyBtVCksXG5cdCAgICAgICAgICAgICAgdmFsdWU6IG1pbnV0ZU1vZGUgPyBoICogNSA6IGggLy81IGZvciBtaW51dGUgNjAvMTJcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIGlmIChtaW51dGVNb2RlKSB7XG5cdCAgICAgICAgICAgICAgaG91ci5kaXNwbGF5ID0gaG91ci52YWx1ZSA8IDEwID8gJzAnICsgaG91ci52YWx1ZSA6IGhvdXIudmFsdWU7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdFxuXHQgICAgICAgICAgICAgIGlmIChwaWNrZXIucGFyYW1zLnNob3J0VGltZSkge1xuXHQgICAgICAgICAgICAgICAgaG91ci5kaXNwbGF5ID0gaCA9PT0gMCA/IDEyIDogaDtcblx0ICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgaG91ci5kaXNwbGF5ID0gcGlja2VyLmlzUE0oKSA/IGggKyAxMiA6IGg7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBwb2ludHMucHVzaChob3VyKTtcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBzY29wZS5wb2ludHMgPSBwb2ludHM7XG5cdCAgICAgICAgICBzZXRDdXJyZW50VmFsdWUoKTtcblx0ICAgICAgICAgIGNsb2NrLmNzcygnaGVpZ2h0JywgY2xvY2tXaWR0aCArICdweCcpO1xuXHQgICAgICAgICAgLy9waWNrZXIuaW5pdEhhbmRzKHRydWUpO1xuXHRcblx0ICAgICAgICAgIHZhciBjbG9ja0NlbnRlciA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1jbG9jay1jZW50ZXInKTtcblx0ICAgICAgICAgIHZhciBjZW50ZXJXaWR0aCA9IGNsb2NrQ2VudGVyLm9mZnNldFdpZHRoIC8gMiB8fCA3LjUsXG5cdCAgICAgICAgICAgICAgY2VudGVySGVpZ2h0ID0gY2xvY2tDZW50ZXIub2Zmc2V0SGVpZ2h0IC8gMiB8fCA3LjU7XG5cdCAgICAgICAgICB2YXIgX2hMID0gciAvIDEuODtcblx0ICAgICAgICAgIHZhciBfbUwgPSByIC8gMS41O1xuXHRcblx0ICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtaG91ci1oYW5kJykpLmNzcyh7XG5cdCAgICAgICAgICAgIGxlZnQ6IHIgKyBtTCAqIDEuNSArICdweCcsXG5cdCAgICAgICAgICAgIGhlaWdodDogX2hMICsgJ3B4Jyxcblx0ICAgICAgICAgICAgbWFyZ2luVG9wOiByIC0gX2hMIC0gcEwgKyAncHgnXG5cdCAgICAgICAgICB9KS5hZGRDbGFzcyghbWludXRlTW9kZSA/ICdvbicgOiAnJyk7XG5cdFxuXHQgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1taW51dGUtaGFuZCcpKS5jc3Moe1xuXHQgICAgICAgICAgICBsZWZ0OiByICsgbUwgKiAxLjUgKyAncHgnLFxuXHQgICAgICAgICAgICBoZWlnaHQ6IF9tTCArICdweCcsXG5cdCAgICAgICAgICAgIG1hcmdpblRvcDogciAtIF9tTCAtIHBMICsgJ3B4J1xuXHQgICAgICAgICAgfSkuYWRkQ2xhc3MobWludXRlTW9kZSA/ICdvbicgOiAnJyk7XG5cdFxuXHQgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGNsb2NrQ2VudGVyKS5jc3Moe1xuXHQgICAgICAgICAgICBsZWZ0OiByICsgcEwgKyBtTCAtIGNlbnRlcldpZHRoICsgJ3B4Jyxcblx0ICAgICAgICAgICAgbWFyZ2luVG9wOiByIC0gbUwgLyAyIC0gY2VudGVySGVpZ2h0ICsgJ3B4J1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICBhbmltYXRlSGFuZHMoKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB2YXIgYW5pbWF0ZUhhbmRzID0gZnVuY3Rpb24gYW5pbWF0ZUhhbmRzKCkge1xuXHQgICAgICAgICAgdmFyIF9kYXRlID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuXHQgICAgICAgICAgdmFyIGggPSBfZGF0ZS5ob3VyKCk7XG5cdCAgICAgICAgICB2YXIgbSA9IF9kYXRlLm1pbnV0ZSgpO1xuXHRcblx0ICAgICAgICAgIHJvdGF0ZUVsZW1lbnQoYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1ob3VyLWhhbmQnKSksIDM2MCAvIDEyICogaCk7XG5cdCAgICAgICAgICB2YXIgbWRnID0gMzYwIC8gNjAgKiAoNSAqIE1hdGgucm91bmQobSAvIDUpKTtcblx0ICAgICAgICAgIHJvdGF0ZUVsZW1lbnQoYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1taW51dGUtaGFuZCcpKSwgbWRnKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB2YXIgcm90YXRlRWxlbWVudCA9IGZ1bmN0aW9uIHJvdGF0ZUVsZW1lbnQoZWwsIGRlZykge1xuXHQgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsKS5jc3Moe1xuXHQgICAgICAgICAgICBXZWJraXRUcmFuc2Zvcm06ICdyb3RhdGUoJyArIGRlZyArICdkZWcpJyxcblx0ICAgICAgICAgICAgJy1tb3otdHJhbnNmb3JtJzogJ3JvdGF0ZSgnICsgZGVnICsgJ2RlZyknXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB2YXIgc2V0Q3VycmVudFZhbHVlID0gZnVuY3Rpb24gc2V0Q3VycmVudFZhbHVlKCkge1xuXHQgICAgICAgICAgdmFyIGRhdGUgPSBwaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCk7XG5cdCAgICAgICAgICBzY29wZS5jdXJyZW50VmFsdWUgPSBtaW51dGVNb2RlID8gZGF0ZS5taW51dGUoKSA6IGRhdGUuaG91cigpICUgMTI7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHZhciB0bXAgPSBwaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCk7XG5cdCAgICAgICAgICByZXR1cm4gdG1wID8gdG1wLmZvcm1hdCgnSEg6bW0nKSA6ICcnO1xuXHQgICAgICAgIH0sIGZ1bmN0aW9uIChuZXdWYWwpIHtcblx0ICAgICAgICAgIHNldEN1cnJlbnRWYWx1ZSgpO1xuXHQgICAgICAgICAgYW5pbWF0ZUhhbmRzKCk7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHZhciBzZXREaXNwbGF5UG9pbnRzID0gZnVuY3Rpb24gc2V0RGlzcGxheVBvaW50cyhpc1BNLCBwb2ludHMpIHtcblx0ICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIHBvaW50c1tpXS5kaXNwbGF5ID0gaTtcblx0ICAgICAgICAgICAgaWYgKGlzUE0pIHtcblx0ICAgICAgICAgICAgICBwb2ludHNbaV0uZGlzcGxheSArPSAxMjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmV0dXJuIHBvaW50cztcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBpZiAoIXBpY2tlci5wYXJhbXMuc2hvcnRUaW1lKSB7XG5cdCAgICAgICAgICBzY29wZS4kd2F0Y2goJ3BpY2tlci5tZXJpZGllbicsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgaWYgKCFtaW51dGVNb2RlKSB7XG5cdCAgICAgICAgICAgICAgaWYgKHNjb3BlLnBvaW50cykge1xuXHQgICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IHNldERpc3BsYXlQb2ludHMocGlja2VyLmlzUE0oKSwgYW5ndWxhci5jb3B5KHNjb3BlLnBvaW50cykpO1xuXHQgICAgICAgICAgICAgICAgc2NvcGUucG9pbnRzID0gcG9pbnRzO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBzY29wZS5zZXRUaW1lID0gZnVuY3Rpb24gKHZhbCkge1xuXHQgICAgICAgICAgaWYgKHZhbCA9PT0gc2NvcGUuY3VycmVudFZhbHVlKSB7XG5cdCAgICAgICAgICAgIHBpY2tlci5vaygpO1xuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIGlmICghbWludXRlTW9kZSkge1xuXHQgICAgICAgICAgICBwaWNrZXIuY3VycmVudERhdGUuaG91cihwaWNrZXIuaXNQTSgpID8gdmFsICsgMTIgOiB2YWwpO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcGlja2VyLmN1cnJlbnREYXRlLm1pbnV0ZSh2YWwpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcGlja2VyLmN1cnJlbnREYXRlLnNlY29uZCgwKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBzY29wZS5wb2ludEF2YWlsYWJsZSA9IGZ1bmN0aW9uIChwb2ludCkge1xuXHQgICAgICAgICAgcmV0dXJuIG1pbnV0ZU1vZGUgPyBwaWNrZXIuaXNNaW51dGVBdmFpbGFibGUocG9pbnQudmFsdWUpIDogcGlja2VyLmlzSG91ckF2YWlsYWJsZShwb2ludC52YWx1ZSk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdmFyIHVud2F0Y2hlciA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYnKS5sZW5ndGg7XG5cdCAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgZXhlYygpO1xuXHQgICAgICAgICAgdW53YXRjaGVyKCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfV0pO1xuXHR9KShfbW9tZW50Mi5kZWZhdWx0KTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNDA2KSkpXG5cbi8qKiovIH0sXG5cbi8qKiovIDQ5Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBtYXAgPSB7XG5cdFx0XCIuL2FmXCI6IDQ5Myxcblx0XHRcIi4vYWYuanNcIjogNDkzLFxuXHRcdFwiLi9hclwiOiA0OTQsXG5cdFx0XCIuL2FyLWR6XCI6IDQ5NSxcblx0XHRcIi4vYXItZHouanNcIjogNDk1LFxuXHRcdFwiLi9hci1seVwiOiA0OTYsXG5cdFx0XCIuL2FyLWx5LmpzXCI6IDQ5Nixcblx0XHRcIi4vYXItbWFcIjogNDk3LFxuXHRcdFwiLi9hci1tYS5qc1wiOiA0OTcsXG5cdFx0XCIuL2FyLXNhXCI6IDQ5OCxcblx0XHRcIi4vYXItc2EuanNcIjogNDk4LFxuXHRcdFwiLi9hci10blwiOiA0OTksXG5cdFx0XCIuL2FyLXRuLmpzXCI6IDQ5OSxcblx0XHRcIi4vYXIuanNcIjogNDk0LFxuXHRcdFwiLi9helwiOiA1MDAsXG5cdFx0XCIuL2F6LmpzXCI6IDUwMCxcblx0XHRcIi4vYmVcIjogNTAxLFxuXHRcdFwiLi9iZS5qc1wiOiA1MDEsXG5cdFx0XCIuL2JnXCI6IDUwMixcblx0XHRcIi4vYmcuanNcIjogNTAyLFxuXHRcdFwiLi9iblwiOiA1MDMsXG5cdFx0XCIuL2JuLmpzXCI6IDUwMyxcblx0XHRcIi4vYm9cIjogNTA0LFxuXHRcdFwiLi9iby5qc1wiOiA1MDQsXG5cdFx0XCIuL2JyXCI6IDUwNSxcblx0XHRcIi4vYnIuanNcIjogNTA1LFxuXHRcdFwiLi9ic1wiOiA1MDYsXG5cdFx0XCIuL2JzLmpzXCI6IDUwNixcblx0XHRcIi4vY2FcIjogNTA3LFxuXHRcdFwiLi9jYS5qc1wiOiA1MDcsXG5cdFx0XCIuL2NzXCI6IDUwOCxcblx0XHRcIi4vY3MuanNcIjogNTA4LFxuXHRcdFwiLi9jdlwiOiA1MDksXG5cdFx0XCIuL2N2LmpzXCI6IDUwOSxcblx0XHRcIi4vY3lcIjogNTEwLFxuXHRcdFwiLi9jeS5qc1wiOiA1MTAsXG5cdFx0XCIuL2RhXCI6IDUxMSxcblx0XHRcIi4vZGEuanNcIjogNTExLFxuXHRcdFwiLi9kZVwiOiA1MTIsXG5cdFx0XCIuL2RlLWF0XCI6IDUxMyxcblx0XHRcIi4vZGUtYXQuanNcIjogNTEzLFxuXHRcdFwiLi9kZS5qc1wiOiA1MTIsXG5cdFx0XCIuL2R2XCI6IDUxNCxcblx0XHRcIi4vZHYuanNcIjogNTE0LFxuXHRcdFwiLi9lbFwiOiA1MTUsXG5cdFx0XCIuL2VsLmpzXCI6IDUxNSxcblx0XHRcIi4vZW4tYXVcIjogNTE2LFxuXHRcdFwiLi9lbi1hdS5qc1wiOiA1MTYsXG5cdFx0XCIuL2VuLWNhXCI6IDUxNyxcblx0XHRcIi4vZW4tY2EuanNcIjogNTE3LFxuXHRcdFwiLi9lbi1nYlwiOiA1MTgsXG5cdFx0XCIuL2VuLWdiLmpzXCI6IDUxOCxcblx0XHRcIi4vZW4taWVcIjogNTE5LFxuXHRcdFwiLi9lbi1pZS5qc1wiOiA1MTksXG5cdFx0XCIuL2VuLW56XCI6IDUyMCxcblx0XHRcIi4vZW4tbnouanNcIjogNTIwLFxuXHRcdFwiLi9lb1wiOiA1MjEsXG5cdFx0XCIuL2VvLmpzXCI6IDUyMSxcblx0XHRcIi4vZXNcIjogNTIyLFxuXHRcdFwiLi9lcy1kb1wiOiA1MjMsXG5cdFx0XCIuL2VzLWRvLmpzXCI6IDUyMyxcblx0XHRcIi4vZXMuanNcIjogNTIyLFxuXHRcdFwiLi9ldFwiOiA1MjQsXG5cdFx0XCIuL2V0LmpzXCI6IDUyNCxcblx0XHRcIi4vZXVcIjogNTI1LFxuXHRcdFwiLi9ldS5qc1wiOiA1MjUsXG5cdFx0XCIuL2ZhXCI6IDUyNixcblx0XHRcIi4vZmEuanNcIjogNTI2LFxuXHRcdFwiLi9maVwiOiA1MjcsXG5cdFx0XCIuL2ZpLmpzXCI6IDUyNyxcblx0XHRcIi4vZm9cIjogNTI4LFxuXHRcdFwiLi9mby5qc1wiOiA1MjgsXG5cdFx0XCIuL2ZyXCI6IDUyOSxcblx0XHRcIi4vZnItY2FcIjogNTMwLFxuXHRcdFwiLi9mci1jYS5qc1wiOiA1MzAsXG5cdFx0XCIuL2ZyLWNoXCI6IDUzMSxcblx0XHRcIi4vZnItY2guanNcIjogNTMxLFxuXHRcdFwiLi9mci5qc1wiOiA1MjksXG5cdFx0XCIuL2Z5XCI6IDUzMixcblx0XHRcIi4vZnkuanNcIjogNTMyLFxuXHRcdFwiLi9nZFwiOiA1MzMsXG5cdFx0XCIuL2dkLmpzXCI6IDUzMyxcblx0XHRcIi4vZ2xcIjogNTM0LFxuXHRcdFwiLi9nbC5qc1wiOiA1MzQsXG5cdFx0XCIuL2hlXCI6IDUzNSxcblx0XHRcIi4vaGUuanNcIjogNTM1LFxuXHRcdFwiLi9oaVwiOiA1MzYsXG5cdFx0XCIuL2hpLmpzXCI6IDUzNixcblx0XHRcIi4vaHJcIjogNTM3LFxuXHRcdFwiLi9oci5qc1wiOiA1MzcsXG5cdFx0XCIuL2h1XCI6IDUzOCxcblx0XHRcIi4vaHUuanNcIjogNTM4LFxuXHRcdFwiLi9oeS1hbVwiOiA1MzksXG5cdFx0XCIuL2h5LWFtLmpzXCI6IDUzOSxcblx0XHRcIi4vaWRcIjogNTQwLFxuXHRcdFwiLi9pZC5qc1wiOiA1NDAsXG5cdFx0XCIuL2lzXCI6IDU0MSxcblx0XHRcIi4vaXMuanNcIjogNTQxLFxuXHRcdFwiLi9pdFwiOiA1NDIsXG5cdFx0XCIuL2l0LmpzXCI6IDU0Mixcblx0XHRcIi4vamFcIjogNTQzLFxuXHRcdFwiLi9qYS5qc1wiOiA1NDMsXG5cdFx0XCIuL2p2XCI6IDU0NCxcblx0XHRcIi4vanYuanNcIjogNTQ0LFxuXHRcdFwiLi9rYVwiOiA1NDUsXG5cdFx0XCIuL2thLmpzXCI6IDU0NSxcblx0XHRcIi4va2tcIjogNTQ2LFxuXHRcdFwiLi9ray5qc1wiOiA1NDYsXG5cdFx0XCIuL2ttXCI6IDU0Nyxcblx0XHRcIi4va20uanNcIjogNTQ3LFxuXHRcdFwiLi9rb1wiOiA1NDgsXG5cdFx0XCIuL2tvLmpzXCI6IDU0OCxcblx0XHRcIi4va3lcIjogNTQ5LFxuXHRcdFwiLi9reS5qc1wiOiA1NDksXG5cdFx0XCIuL2xiXCI6IDU1MCxcblx0XHRcIi4vbGIuanNcIjogNTUwLFxuXHRcdFwiLi9sb1wiOiA1NTEsXG5cdFx0XCIuL2xvLmpzXCI6IDU1MSxcblx0XHRcIi4vbHRcIjogNTUyLFxuXHRcdFwiLi9sdC5qc1wiOiA1NTIsXG5cdFx0XCIuL2x2XCI6IDU1Myxcblx0XHRcIi4vbHYuanNcIjogNTUzLFxuXHRcdFwiLi9tZVwiOiA1NTQsXG5cdFx0XCIuL21lLmpzXCI6IDU1NCxcblx0XHRcIi4vbWlcIjogNTU1LFxuXHRcdFwiLi9taS5qc1wiOiA1NTUsXG5cdFx0XCIuL21rXCI6IDU1Nixcblx0XHRcIi4vbWsuanNcIjogNTU2LFxuXHRcdFwiLi9tbFwiOiA1NTcsXG5cdFx0XCIuL21sLmpzXCI6IDU1Nyxcblx0XHRcIi4vbXJcIjogNTU4LFxuXHRcdFwiLi9tci5qc1wiOiA1NTgsXG5cdFx0XCIuL21zXCI6IDU1OSxcblx0XHRcIi4vbXMtbXlcIjogNTYwLFxuXHRcdFwiLi9tcy1teS5qc1wiOiA1NjAsXG5cdFx0XCIuL21zLmpzXCI6IDU1OSxcblx0XHRcIi4vbXlcIjogNTYxLFxuXHRcdFwiLi9teS5qc1wiOiA1NjEsXG5cdFx0XCIuL25iXCI6IDU2Mixcblx0XHRcIi4vbmIuanNcIjogNTYyLFxuXHRcdFwiLi9uZVwiOiA1NjMsXG5cdFx0XCIuL25lLmpzXCI6IDU2Myxcblx0XHRcIi4vbmxcIjogNTY0LFxuXHRcdFwiLi9ubC1iZVwiOiA1NjUsXG5cdFx0XCIuL25sLWJlLmpzXCI6IDU2NSxcblx0XHRcIi4vbmwuanNcIjogNTY0LFxuXHRcdFwiLi9ublwiOiA1NjYsXG5cdFx0XCIuL25uLmpzXCI6IDU2Nixcblx0XHRcIi4vcGEtaW5cIjogNTY3LFxuXHRcdFwiLi9wYS1pbi5qc1wiOiA1NjcsXG5cdFx0XCIuL3BsXCI6IDU2OCxcblx0XHRcIi4vcGwuanNcIjogNTY4LFxuXHRcdFwiLi9wdFwiOiA1NjksXG5cdFx0XCIuL3B0LWJyXCI6IDU3MCxcblx0XHRcIi4vcHQtYnIuanNcIjogNTcwLFxuXHRcdFwiLi9wdC5qc1wiOiA1NjksXG5cdFx0XCIuL3JvXCI6IDU3MSxcblx0XHRcIi4vcm8uanNcIjogNTcxLFxuXHRcdFwiLi9ydVwiOiA1NzIsXG5cdFx0XCIuL3J1LmpzXCI6IDU3Mixcblx0XHRcIi4vc2VcIjogNTczLFxuXHRcdFwiLi9zZS5qc1wiOiA1NzMsXG5cdFx0XCIuL3NpXCI6IDU3NCxcblx0XHRcIi4vc2kuanNcIjogNTc0LFxuXHRcdFwiLi9za1wiOiA1NzUsXG5cdFx0XCIuL3NrLmpzXCI6IDU3NSxcblx0XHRcIi4vc2xcIjogNTc2LFxuXHRcdFwiLi9zbC5qc1wiOiA1NzYsXG5cdFx0XCIuL3NxXCI6IDU3Nyxcblx0XHRcIi4vc3EuanNcIjogNTc3LFxuXHRcdFwiLi9zclwiOiA1NzgsXG5cdFx0XCIuL3NyLWN5cmxcIjogNTc5LFxuXHRcdFwiLi9zci1jeXJsLmpzXCI6IDU3OSxcblx0XHRcIi4vc3IuanNcIjogNTc4LFxuXHRcdFwiLi9zc1wiOiA1ODAsXG5cdFx0XCIuL3NzLmpzXCI6IDU4MCxcblx0XHRcIi4vc3ZcIjogNTgxLFxuXHRcdFwiLi9zdi5qc1wiOiA1ODEsXG5cdFx0XCIuL3N3XCI6IDU4Mixcblx0XHRcIi4vc3cuanNcIjogNTgyLFxuXHRcdFwiLi90YVwiOiA1ODMsXG5cdFx0XCIuL3RhLmpzXCI6IDU4Myxcblx0XHRcIi4vdGVcIjogNTg0LFxuXHRcdFwiLi90ZS5qc1wiOiA1ODQsXG5cdFx0XCIuL3RldFwiOiA1ODUsXG5cdFx0XCIuL3RldC5qc1wiOiA1ODUsXG5cdFx0XCIuL3RoXCI6IDU4Nixcblx0XHRcIi4vdGguanNcIjogNTg2LFxuXHRcdFwiLi90bC1waFwiOiA1ODcsXG5cdFx0XCIuL3RsLXBoLmpzXCI6IDU4Nyxcblx0XHRcIi4vdGxoXCI6IDU4OCxcblx0XHRcIi4vdGxoLmpzXCI6IDU4OCxcblx0XHRcIi4vdHJcIjogNTg5LFxuXHRcdFwiLi90ci5qc1wiOiA1ODksXG5cdFx0XCIuL3R6bFwiOiA1OTAsXG5cdFx0XCIuL3R6bC5qc1wiOiA1OTAsXG5cdFx0XCIuL3R6bVwiOiA1OTEsXG5cdFx0XCIuL3R6bS1sYXRuXCI6IDU5Mixcblx0XHRcIi4vdHptLWxhdG4uanNcIjogNTkyLFxuXHRcdFwiLi90em0uanNcIjogNTkxLFxuXHRcdFwiLi91a1wiOiA1OTMsXG5cdFx0XCIuL3VrLmpzXCI6IDU5Myxcblx0XHRcIi4vdXpcIjogNTk0LFxuXHRcdFwiLi91ei5qc1wiOiA1OTQsXG5cdFx0XCIuL3ZpXCI6IDU5NSxcblx0XHRcIi4vdmkuanNcIjogNTk1LFxuXHRcdFwiLi94LXBzZXVkb1wiOiA1OTYsXG5cdFx0XCIuL3gtcHNldWRvLmpzXCI6IDU5Nixcblx0XHRcIi4veW9cIjogNTk3LFxuXHRcdFwiLi95by5qc1wiOiA1OTcsXG5cdFx0XCIuL3poLWNuXCI6IDU5OCxcblx0XHRcIi4vemgtY24uanNcIjogNTk4LFxuXHRcdFwiLi96aC1oa1wiOiA1OTksXG5cdFx0XCIuL3poLWhrLmpzXCI6IDU5OSxcblx0XHRcIi4vemgtdHdcIjogNjAwLFxuXHRcdFwiLi96aC10dy5qc1wiOiA2MDBcblx0fTtcblx0ZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18od2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkpO1xuXHR9O1xuXHRmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdFx0cmV0dXJuIG1hcFtyZXFdIHx8IChmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJy5cIikgfSgpKTtcblx0fTtcblx0d2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0XHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcblx0fTtcblx0d2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcblx0bW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcblx0d2VicGFja0NvbnRleHQuaWQgPSA0OTI7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNjAxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNjAyKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzc5KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDYwMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzc4KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIm1kLWRpYWxvZy5kdHB7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MS40Mjg1NzE0Mztjb2xvcjojMzMzO2JhY2tncm91bmQtY29sb3I6I2ZmZjttYXgtaGVpZ2h0Om5vbmV9LmR0cCA6Zm9jdXN7b3V0bGluZTpub25lIWltcG9ydGFudH0uZHRwIHRhYmxle2JvcmRlci1zcGFjaW5nOjA7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO3dpZHRoOjEwMCV9LmR0cCAudGFibGU+dGJvZHk+dHI+dGQsLmR0cCAudGFibGU+dGJvZHk+dHI+dGgsLmR0cCAudGFibGU+dGZvb3Q+dHI+dGQsLmR0cCAudGFibGU+dGZvb3Q+dHI+dGgsLmR0cCAudGFibGU+dGhlYWQ+dHI+dGQsLmR0cCAudGFibGU+dGhlYWQ+dHI+dGh7cGFkZGluZzo4cHg7bGluZS1oZWlnaHQ6MS40Mjg1NzE0Mzt2ZXJ0aWNhbC1hbGlnbjp0b3A7Ym9yZGVyLXRvcDoxcHggc29saWQgI2RkZH0uZHRwLC5kdHAgKntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50fS5kdHA+LmR0cC1jb250ZW50e21heC13aWR0aDozMDBweDttYXgtaGVpZ2h0OjUwMHB4fS5kdHA+LmR0cC1jb250ZW50Pi5kdHAtZGF0ZS12aWV3PmhlYWRlci5kdHAtaGVhZGVye2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmO3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6M3B4fS5kdHAgZGl2LmR0cC1kYXRlLC5kdHAgZGl2LmR0cC10aW1le2JhY2tncm91bmQ6IzhiYzM0YTt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojZmZmO3BhZGRpbmc6MTBweH0uZHRwIGRpdi5kdHAtZGF0ZT5kaXZ7cGFkZGluZzowO21hcmdpbjowfS5kdHAgZGl2LmR0cC1hY3R1YWwtbW9udGh7Zm9udC1zaXplOjEuNWVtfS5kdHAgZGl2LmR0cC1hY3R1YWwtbWF4dGltZSwuZHRwIGRpdi5kdHAtYWN0dWFsLW51bXtmb250LXNpemU6M2VtO2xpbmUtaGVpZ2h0Oi45fS5kdHAgZGl2LmR0cC1hY3R1YWwteWVhcntmb250LXNpemU6MS42ZW07Y29sb3I6I2RjZWRjOH0uZHRwIGRpdi5kdHAteWVhci1idG57Zm9udC1zaXplOjEuNGVtO2xpbmUtaGVpZ2h0OjMwcHg7Y3Vyc29yOnBvaW50ZXI7Y29sb3I6I2RjZWRjOH0uZHRwIGRpdi5kdHAteWVhci1idG4tcHJldnt0ZXh0LWFsaWduOnJpZ2h0fS5kdHAgZGl2LmR0cC15ZWFyLWJ0bi1uZXh0e3RleHQtYWxpZ246bGVmdH0uZHRwIGRpdi5kdHAtcGlja2Vye3BhZGRpbmc6MTBweDt0ZXh0LWFsaWduOmNlbnRlcn0uZHRwIGRpdi5kdHAtYWN0dWFsLXRpbWUsLmR0cCBkaXYuZHRwLXBpY2tlci1tb250aHtmb250LXdlaWdodDo1MDA7dGV4dC1hbGlnbjpjZW50ZXJ9LmR0cCAuZHRwLWNsb3Nle3Bvc2l0aW9uOmFic29sdXRlO3RvcDouMjVlbTtyaWdodDo1cHg7Zm9udC1zaXplOjE2cHh9LmR0cCAuZHRwLWNsb3NlPmF7Y29sb3I6I2ZmZjt0ZXh0LWRlY29yYXRpb246bm9uZX0uZHRwIC5kdHAtY2xvc2U+YT5pe2ZvbnQtc2l6ZToxZW19LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXN7bWFyZ2luOjA7bWluLWhlaWdodDoyMjBweH0uZHRwIG1kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lci5tb250aHN7aGVpZ2h0OjI2MHB4fS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRke2JvcmRlcjpub25lfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRke2ZvbnQtc2l6ZToxMXB4O3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6MH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5zcGFuLmR0cC1zZWxlY3QtZGF5e2NvbG9yOiNiZGJkYmQhaW1wb3J0YW50fS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPi5kdHAtc2VsZWN0LWRheXt3aWR0aDozNnB4O2hlaWdodDozNnB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5kdHAgLmR0cC1waWNrZXItdGltZT5hLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPi5kdHAtc2VsZWN0LWRheXtjb2xvcjojMjEyMTIxO3RleHQtZGVjb3JhdGlvbjpub25lO3BhZGRpbmc6MTBweDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnR9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+YS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM4YmMzNGE7Y29sb3I6I2ZmZn0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5hOmhvdmVyOm5vdCguc2VsZWN0ZWQpe2JhY2tncm91bmQ6I2RkZH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50aHtjb2xvcjojNzU3NTc1O3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtd2VpZ2h0OjcwMDtwYWRkaW5nOjRweCAzcHh9LmR0cCAucDEwPmF7Y29sb3I6IzY4OWYzODt0ZXh0LWRlY29yYXRpb246bm9uZX0uZHRwIC5wMTB7d2lkdGg6MTAlfS5kdHAgLnAxMCwuZHRwIC5wMjB7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAucDIwe3dpZHRoOjIwJX0uZHRwIC5wNjB7d2lkdGg6NjAlfS5kdHAgLnA2MCwuZHRwIC5wODB7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAucDgwe3dpZHRoOjgwJX0uZHRwIGEuZHRwLW1lcmlkaWVuLWFtLC5kdHAgYS5kdHAtbWVyaWRpZW4tcG17cG9zaXRpb246cmVsYXRpdmU7dG9wOjEwcHg7Y29sb3I6IzIxMjEyMTtmb250LXdlaWdodDo1MDA7cGFkZGluZzo3cHggNXB4O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudDt0ZXh0LWRlY29yYXRpb246bm9uZTtiYWNrZ3JvdW5kOiNlZWU7Zm9udC1zaXplOjEwcHh9LmR0cCAuZHRwLWFjdHVhbC1tZXJpZGllbiBhLnNlbGVjdGVke2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmfS5kdHAgLmR0cC1waWNrZXItdGltZT5he2Rpc3BsYXk6YmxvY2s7bGluZS1oZWlnaHQ6MjNweDtwYWRkaW5nOjNweH0uZHRwIC5kdHAtcGlja2VyLXRpbWV7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDtmb250LXNpemU6MS4xZW07Ym9yZGVyLXJhZGl1czo1MCU7Y3Vyc29yOnBvaW50ZXI7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50fS5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtaG91ci5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM2ODlmMzg7Y29sb3I6I2ZmZn0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LWhvdXIuZGlzYWJsZWQsLmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1taW51dGUuZGlzYWJsZWR7Y29sb3I6Izc1NzU3NX0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LW1pbnV0ZS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM4YmMzNGE7Y29sb3I6I2ZmZn0uZHRwIGRpdi5kdHAtcGlja2VyLWNsb2Nre21hcmdpbjoxMHB4IDIwcHggMDtwYWRkaW5nOjEwcHg7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O2JhY2tncm91bmQ6I2VlZX0uZHRwLWNsb2NrLWNlbnRlcnt3aWR0aDoxNXB4O2hlaWdodDoxNXB4O2JhY2tncm91bmQ6Izc1NzU3NTtib3JkZXItcmFkaXVzOjUwJTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjUwfS5kdHAgLmR0cC1oYW5kLC5kdHAgLmR0cC1ob3VyLWhhbmR7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NHB4O21hcmdpbi1sZWZ0Oi0ycHg7YmFja2dyb3VuZDojYmRiZGJkOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDBkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpib3R0b207dHJhbnNmb3JtLW9yaWdpbjpib3R0b207ei1pbmRleDoxfS5kdHAgLmR0cC1taW51dGUtaGFuZHt3aWR0aDoycHg7bWFyZ2luLWxlZnQ6LTFweH0uZHRwIC5kdHAtaGFuZC5vbntiYWNrZ3JvdW5kOiM4YmMzNGF9LmR0cCAuZHRwLWJ1dHRvbnN7cGFkZGluZzowIDEwcHggMTBweDt0ZXh0LWFsaWduOnJpZ2h0fS5kdHAuaGlkZGVuLC5kdHAgLmhpZGRlbntkaXNwbGF5Om5vbmV9LmR0cCAuaW52aXNpYmxle3Zpc2liaWxpdHk6aGlkZGVufS5kdHAgLmxlZnR7ZmxvYXQ6bGVmdH0uZHRwIC5yaWdodHtmbG9hdDpyaWdodH0uZHRwIC5jbGVhcmZpeHtjbGVhcjpib3RofS5kdHAgLmNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlcn1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDYwMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAqIGFuZ3VsYXItZ29vZ2xlLXBsdXMtZGlyZWN0aXZlIHYwLjAuMVxuXHQgKiDimaEgQ29weUhlYXJ0IDIwMTMgYnkgSmVyYWQgQml0bmVyIGh0dHA6Ly9qZXJhZGJpdG5lci5jb21cblx0ICogQ29weWluZyBpcyBhbiBhY3Qgb2YgbG92ZS4gUGxlYXNlIGNvcHkuXG5cdCAqL1xuXHRcblx0dmFyIF9nZXRPd25Qcm9wZXJ0eU5hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDQpO1xuXHRcblx0dmFyIF9nZXRPd25Qcm9wZXJ0eU5hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldE93blByb3BlcnR5TmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGFuZ3VsYXIubW9kdWxlKCdkaXJlY3RpdmUuZytzaWduaW4nLCBbXSkuZGlyZWN0aXZlKCdnb29nbGVQbHVzU2lnbmluJywgWyckd2luZG93JywgZnVuY3Rpb24gKCR3aW5kb3cpIHtcblx0ICB2YXIgZW5kaW5nID0gL1xcLmFwcHNcXC5nb29nbGV1c2VyY29udGVudFxcLmNvbSQvO1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgcmVzdHJpY3Q6ICdFJyxcblx0ICAgIHRyYW5zY2x1ZGU6IHRydWUsXG5cdCAgICB0ZW1wbGF0ZTogJzxzcGFuPjwvc3Bhbj4nLFxuXHQgICAgcmVwbGFjZTogdHJ1ZSxcblx0ICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCBsaW5rZXIpIHtcblx0ICAgICAgYXR0cnMuY2xpZW50aWQgKz0gZW5kaW5nLnRlc3QoYXR0cnMuY2xpZW50aWQpID8gJycgOiAnLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJztcblx0XG5cdCAgICAgIGF0dHJzLiRzZXQoJ2RhdGEtY2xpZW50aWQnLCBhdHRycy5jbGllbnRpZCk7XG5cdCAgICAgIGF0dHJzLiRzZXQoJ3RoZW1lJywgYXR0cnMudGhlbWUpO1xuXHRcblx0ICAgICAgLy8gU29tZSBkZWZhdWx0IHZhbHVlcywgYmFzZWQgb24gcHJpb3IgdmVyc2lvbnMgb2YgdGhpcyBkaXJlY3RpdmVcblx0ICAgICAgdmFyIGRlZmF1bHRzID0ge1xuXHQgICAgICAgIGNhbGxiYWNrOiAnc2lnbmluQ2FsbGJhY2snLFxuXHQgICAgICAgIGNvb2tpZXBvbGljeTogJ3NpbmdsZV9ob3N0X29yaWdpbicsXG5cdCAgICAgICAgcmVxdWVzdHZpc2libGVhY3Rpb25zOiAnaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9BZGRBY3Rpdml0eScsXG5cdCAgICAgICAgc2NvcGU6ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3BsdXMubG9naW4gaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC91c2VyaW5mby5lbWFpbCcsXG5cdCAgICAgICAgaGVpZ2h0OiAnc3RhbmRhcmQnLFxuXHQgICAgICAgIHdpZHRoOiAnd2lkZScsXG5cdCAgICAgICAgc3RhdGU6ICcnXG5cdCAgICAgIH07XG5cdFxuXHQgICAgICBkZWZhdWx0cy5jbGllbnRpZCA9IGF0dHJzLmNsaWVudGlkO1xuXHQgICAgICBkZWZhdWx0cy50aGVtZSA9IGF0dHJzLnRoZW1lO1xuXHRcblx0ICAgICAgLy8gT3ZlcndyaXRlIGRlZmF1bHQgdmFsdWVzIGlmIGV4cGxpY2l0bHkgc2V0XG5cdCAgICAgIGFuZ3VsYXIuZm9yRWFjaCgoMCwgX2dldE93blByb3BlcnR5TmFtZXMyLmRlZmF1bHQpKGRlZmF1bHRzKSwgZnVuY3Rpb24gKHByb3BOYW1lKSB7XG5cdCAgICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuXHQgICAgICAgICAgZGVmYXVsdHNbcHJvcE5hbWVdID0gYXR0cnNbcHJvcE5hbWVdO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICAvLyBEZWZhdWx0IGxhbmd1YWdlXG5cdCAgICAgIC8vIFN1cHBvcnRlZCBsYW5ndWFnZXM6IGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tLysvd2ViL2FwaS9zdXBwb3J0ZWQtbGFuZ3VhZ2VzXG5cdCAgICAgIGF0dHJzLiRvYnNlcnZlKCdsYW5ndWFnZScsIGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICR3aW5kb3cuX19fZ2NmZyA9IHtcblx0ICAgICAgICAgIGxhbmc6IHZhbHVlID8gdmFsdWUgOiAnZW4nXG5cdCAgICAgICAgfTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICAvLyBBc3luY2hyb25vdXNseSBsb2FkIHRoZSBHKyBTREsuXG5cdCAgICAgIHZhciBwbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO3BvLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0Jztwby5hc3luYyA9IHRydWU7XG5cdCAgICAgIHBvLnNyYyA9ICdodHRwczovL2FwaXMuZ29vZ2xlLmNvbS9qcy9jbGllbnQ6cGx1c29uZS5qcyc7XG5cdCAgICAgIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO3MucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocG8sIHMpO1xuXHRcblx0ICAgICAgbGlua2VyKGZ1bmN0aW9uIChlbCwgdFNjb3BlKSB7XG5cdCAgICAgICAgcG8ub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgaWYgKGVsLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBlbGVtZW50LmFwcGVuZChlbCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBnYXBpLnNpZ25pbi5yZW5kZXIoZWxlbWVudFswXSwgZGVmYXVsdHMpO1xuXHQgICAgICAgIH07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH07XG5cdH1dKS5ydW4oWyckd2luZG93JywgJyRyb290U2NvcGUnLCBmdW5jdGlvbiAoJHdpbmRvdywgJHJvb3RTY29wZSkge1xuXHQgICR3aW5kb3cuc2lnbmluQ2FsbGJhY2sgPSBmdW5jdGlvbiAoYXV0aFJlc3VsdCkge1xuXHQgICAgaWYgKGF1dGhSZXN1bHQgJiYgYXV0aFJlc3VsdC5hY2Nlc3NfdG9rZW4pIHtcblx0ICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tc3VjY2VzcycsIGF1dGhSZXN1bHQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tZmFpbHVyZScsIGF1dGhSZXN1bHQpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1dKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjQ2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNjQ3KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzc5KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vdmVuZG9yLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL3ZlbmRvci5zY3NzXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA2NDc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3OCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJcIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDY0ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cdFxuXHQvLyBsb2FkIHRoZSBzdHlsZXNcblx0dmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0OSk7XG5cdGlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXHQvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG5cdHZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3OSkoY29udGVudCwge30pO1xuXHRpZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDY0OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzc4KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5kaXN0cmlidXRvci1zZWxlY3Rpb257Zm9udC1zaXplOjE2cHQ7cGFkZGluZzozcHg7bWFyZ2luOjNweH1ib2R5e21hcmdpbi10b3A6MTAwcHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH1AbWVkaWEgKG1pbi13aWR0aDo3NjhweCl7Ym9keXttYXJnaW4tdG9wOjUwcHh9fSN3cmFwcGVye3BhZGRpbmctbGVmdDowfSNwYWdlLXdyYXBwZXJ7d2lkdGg6MTAwJTtwYWRkaW5nOjA7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5odWdle2ZvbnQtc2l6ZTo1MHB4O2xpbmUtaGVpZ2h0Om5vcm1hbH1AbWVkaWEgKG1pbi13aWR0aDo3NjhweCl7I3dyYXBwZXJ7cGFkZGluZy1sZWZ0OjIyNXB4fSNwYWdlLXdyYXBwZXJ7cGFkZGluZzoxMHB4fX0ubWFyZ2luLWJvdHRvbS0xNXttYXJnaW4tYm90dG9tOjEuNWVtfS5tYXJnaW4tdG9wLTA1e21hcmdpbi10b3A6LjVlbX0ubWFyZ2luLXRvcC0xNXttYXJnaW4tdG9wOjEuNWVtfS5tYXJnaW4tdG9wLTIwe21hcmdpbi10b3A6MmVtfS5tYXJnaW4tdG9wLTI1e21hcmdpbi10b3A6Mi41ZW19Lm1hcmdpbi10b3AtNTB7bWFyZ2luLXRvcDo1ZW19Lmlzc3VlLXdhcm5pbmctYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOm9yYW5nZX0uaXNzdWUtd2FybmluZy10ZXh0e2NvbG9yOm9yYW5nZX0uaXNzdWUtZGFuZ2VyLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpyZWR9Lmlzc3VlLWRhbmdlci10ZXh0e2NvbG9yOnJlZH0uaXNzdWUtbm9ybWFsLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpncmVlbn0uaXNzdWUtbm9ybWFsLXRleHR7Y29sb3I6Z3JlZW59LnVwLXRydWUtYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVufS51cC1mYWxzZS1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6cmVkfS5uYXZiYXItZGVmYXVsdHtiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmI7Ym9yZGVyLWNvbG9yOiMxNTU5OGV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItYnJhbmR7Y29sb3I6I2ZmZn0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZDpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZDpob3Zlcntjb2xvcjojNTVhN2U3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hOmhvdmVye2NvbG9yOiNmZmZ9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5hY3RpdmU+YSwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmFjdGl2ZT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uYWN0aXZlPmE6aG92ZXJ7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNhZmQ1ZjN9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmEsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6aG92ZXJ7Y29sb3I6IzU1NTtiYWNrZ3JvdW5kLWNvbG9yOiNkNWQ1ZDV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hIC5jYXJldHtib3JkZXItdG9wLWNvbG9yOiM3Nzc7Ym9yZGVyLWJvdHRvbS1jb2xvcjojNzc3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uZHJvcGRvd24+YTpmb2N1cyAuY2FyZXQsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hOmhvdmVyIC5jYXJldHtib3JkZXItdG9wLWNvbG9yOiMzMzM7Ym9yZGVyLWJvdHRvbS1jb2xvcjojMzMzfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hIC5jYXJldCwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpmb2N1cyAuY2FyZXQsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6aG92ZXIgLmNhcmV0e2JvcmRlci10b3AtY29sb3I6IzU1NTtib3JkZXItYm90dG9tLWNvbG9yOiM1NTV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xle2JvcmRlci1jb2xvcjojZGRkfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGU6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZGRkfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZSAuaWNvbi1iYXJ7YmFja2dyb3VuZC1jb2xvcjojY2NjfUBtZWRpYSAobWF4LXdpZHRoOjc2N3B4KXsubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXYgLm9wZW4gLmRyb3Bkb3duLW1lbnU+bGk+YXtjb2xvcjojNzc3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5hOmhvdmVye2NvbG9yOiMzMzN9fS50b3AtbmF2e3BhZGRpbmc6MCAxNXB4fS50b3AtbmF2Pmxpe2Rpc3BsYXk6aW5saW5lLWJsb2NrO2Zsb2F0OmxlZnR9LnRvcC1uYXY+bGk+YXtwYWRkaW5nLXRvcDoxNXB4O3BhZGRpbmctYm90dG9tOjE1cHg7bGluZS1oZWlnaHQ6MjBweDtjb2xvcjojZWZlZmVmfS50b3AtbmF2Pi5vcGVuPmEsLnRvcC1uYXY+Lm9wZW4+YTpmb2N1cywudG9wLW5hdj4ub3Blbj5hOmhvdmVyLC50b3AtbmF2PmxpPmE6Zm9jdXMsLnRvcC1uYXY+bGk+YTpob3Zlcntjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzFiNzViYn0udG9wLW5hdj4ub3Blbj4uZHJvcGRvd24tbWVudXtmbG9hdDpsZWZ0O3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi10b3A6MDtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjE1KTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym94LXNoYWRvdzowIDZweCAxMnB4IHJnYmEoMCwwLDAsLjE3NSl9LnRvcC1uYXY+Lm9wZW4+LmRyb3Bkb3duLW1lbnU+bGk+YXt3aGl0ZS1zcGFjZTpub3JtYWx9dWwubWVzc2FnZS1kcm9wZG93bntwYWRkaW5nOjA7bWF4LWhlaWdodDoyNTBweDtvdmVyZmxvdy14OmhpZGRlbjtvdmVyZmxvdy15OmF1dG99bGkubWVzc2FnZS1wcmV2aWV3e3dpZHRoOjI3NXB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjE1KX1saS5tZXNzYWdlLXByZXZpZXc+YXtwYWRkaW5nLXRvcDoxNXB4O3BhZGRpbmctYm90dG9tOjE1cHh9bGkubWVzc2FnZS1mb290ZXJ7bWFyZ2luOjVweCAwfXVsLmFsZXJ0LWRyb3Bkb3due3dpZHRoOjIwMHB4fUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsuc2lkZS1uYXZ7cG9zaXRpb246Zml4ZWQ7dG9wOjUxcHg7bGVmdDoyMjVweDttYXJnaW4tbGVmdDotMjI1cHg7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czowO292ZXJmbG93LXk6YXV0bztiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmI7Ym90dG9tOjA7b3ZlcmZsb3cteDpoaWRkZW47cGFkZGluZy1ib3R0b206NDBweH0uc2lkZS1uYXYsLnNpZGUtbmF2PmxpPmF7d2lkdGg6MjI1cHh9LnNpZGUtbmF2IGxpIGE6Zm9jdXMsLnNpZGUtbmF2IGxpIGE6aG92ZXJ7b3V0bGluZTpub25lO2JhY2tncm91bmQtY29sb3I6IzNmOWNlMyFpbXBvcnRhbnR9fS5zaWRlLW5hdj5saT51bHtwYWRkaW5nOjB9LnNpZGUtbmF2PmxpPnVsPmxpPmF7ZGlzcGxheTpibG9jaztwYWRkaW5nOjEwcHggMTVweCAxMHB4IDM4cHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y29sb3I6I2Q0ZDRkNH0uc2lkZS1uYXY+bGk+dWw+bGk+YTpob3Zlcntjb2xvcjojZmZmfS5mbG90LWNoYXJ0e2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjQwMHB4fS5mbG90LWNoYXJ0LWNvbnRlbnR7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uaHVnZXtmb250LXNpemU6NDBweH0ucGFuZWwtZ3JlZW57Ym9yZGVyLWNvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPi5wYW5lbC1oZWFkaW5ne2JvcmRlci1jb2xvcjojNWNiODVjO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojNWNiODVjfS5wYW5lbC1ncmVlbj5he2NvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPmE6aG92ZXJ7Y29sb3I6IzNkOGIzZH0ucGFuZWwtcmVke2JvcmRlci1jb2xvcjojZDk1MzRmfS5wYW5lbC1yZWQ+LnBhbmVsLWhlYWRpbmd7Ym9yZGVyLWNvbG9yOiNkOTUzNGY7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD5he2NvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD5hOmhvdmVye2NvbG9yOiNiNTJiMjd9LnBhbmVsLXllbGxvd3tib3JkZXItY29sb3I6I2YwYWQ0ZX0ucGFuZWwteWVsbG93Pi5wYW5lbC1oZWFkaW5ne2JvcmRlci1jb2xvcjojZjBhZDRlO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+YXtjb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+YTpob3Zlcntjb2xvcjojZGY4YTEzfS50b29sYmFye21hcmdpbi1ib3R0b206MTBweH0uZW50aXR5LWtleXtmb250LWZhbWlseTpNb25hY28sQ29uc29sYXMsTHVjaWRhIENvbnNvbGUsZGVqYXZ1IHNhbnMgbW9ubyxtb25vc3BhY2U7Zm9udC1zaXplOjExcHh9LnByb29mLW9mLXBsYXktbGFiZWx7cGFkZGluZy1ib3R0b206MTBweDtwYWRkaW5nLXRvcDoxMHB4fS5jb3B5LXJlYWR5LXRyYW5zcGFyZW50e2NvbG9yOnRyYW5zcGFyZW50fS5uby1kZXZpY2Vze3RleHQtYWxpZ246Y2VudGVyfS5wcm9wZXJ0aWVzLXdvcmQtYnJlYWt7d2lkdGg6MzkwcHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7ZGlzcGxheTpibG9ja30uY29tbWFuZC1oaXN0b3J5LWNvbW1hbmR7d2lkdGg6Mzc1cHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7ZGlzcGxheTpibG9ja30uaG9zdG5hbWUtd29yZC1icmVha3t3aWR0aDoyMDBweDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmlubGluZS1ibG9ja31bZGF0YS1uZy1jbGlja10sW25nLWNsaWNrXSxbeC1uZy1jbGlja117Y3Vyc29yOnBvaW50ZXJ9I3Byb29mcGxheS1zZWxlY3RlZC1pdGVtc3ttaW4td2lkdGg6MCFpbXBvcnRhbnQ7bWFyZ2luOjAgYXV0bztwYWRkaW5nOjAgYXV0b30ucmFkaW8tYnV0dG9ue3BhZGRpbmc6M3B4fS5ob3Jpem9udGFsLXN1Ym1pdHttYXJnaW46LjVlbX0uaG9yaXpvbnRhbC1zdWJtaXQsLnJhZGlvLWhvcml6b250YWx7ZGlzcGxheTpmbGV4O2FsaWduLXNlbGY6Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXJ9bWQtdG9vbGJhci5tZC1kZWZhdWx0LXRoZW1lOm5vdCgubWQtbWVudS10b29sYmFyKSxtZC10b29sYmFyOm5vdCgubWQtbWVudS10b29sYmFyKXtiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmIhaW1wb3J0YW50O21heC1oZWlnaHQ6NjRweDttaW4taGVpZ2h0OjY0cHh9Lm1kLXRvb2xiYXItdG9vbHN7YmFja2dyb3VuZC1jb2xvcjojMDAwIWltcG9ydGFudDttYXgtaGVpZ2h0OjY0cHg7bWluLWhlaWdodDo2NHB4fS5za3lraXQtaW1hZ2V7bWF4LXdpZHRoOjEwMCU7aGVpZ2h0OjMzcHh9QG1lZGlhIChtYXgtd2lkdGg6NzY3cHgpe21kLXRvb2xiYXIubWQtZGVmYXVsdC10aGVtZTpub3QoLm1kLW1lbnUtdG9vbGJhciksbWQtdG9vbGJhcjpub3QoLm1kLW1lbnUtdG9vbGJhcil7bWFyZ2luLXRvcDotNTBweDttYXJnaW4tYm90dG9tOjUwcHh9fS5jZW50ZXItYmxvY2t7dGV4dC1hbGlnbjpjZW50ZXJ9LmVsbGlwc2lzLW92ZXJmbG93LC5wcm9vZi1vZi1wbGF5LXNlbGVjdGVkLWl0ZW17d2lkdGg6MTAwJTt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246bGVmdDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5wcm9vZi1vZi1wbGF5LXRlbmFudC1uYW1lLW9wdGlvbnt3aWR0aDo3ZW07d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmNlbnRlcjtwb3NpdGl0aW9uOmFic29sdXRlO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LnByb29mLW9mLXBsYXktaG9yaXpvbnRhbC10b3AtYmFye2FsaWduLXNlbGY6Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7bWFyZ2luLXRvcDouNWVtO21hcmdpbi1ib3R0b206LjVlbTthbGlnbi1pdGVtczpjZW50ZXJ9Lm15LWZsZXgsLnByb29mLW9mLXBsYXktaG9yaXpvbnRhbC10b3AtYmFye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5iaWdnZXItYnV0dG9uc3twYWRkaW5nOi40ZW07bWluLXdpZHRoOjg4cHg7Ym9yZGVyLXJhZGl1czo1cHg7Zm9udC1zaXplOjE2cHg7dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lfS5hZG1pbi1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2FsaWduLWNvbnRlbnQ6ZmxleC1zdGFydH0ucmVnaXN0cmF0aW9uLWV2ZW50LWNvbHVtbntoZWlnaHQ6MTEwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246dG9wO292ZXJmbG93OnNjcm9sbH0ucHVsbC1jb21tYW5kLXNlbmQtYnV0dG9uLXVwe21hcmdpbi10b3A6LTJweH1oZWFkZXIuZHRwLWhlYWRlcntiYWNrZ3JvdW5kOiMxYjc1YmIhaW1wb3J0YW50fS5kdHAgZGl2LmR0cC1kYXRlLC5kdHAgZGl2LmR0cC10aW1le2JhY2tncm91bmQ6IzAwMH0uZHRwIC5kdHAtYWN0dWFsLW1lcmlkaWVuIGEuc2VsZWN0ZWQsLmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1ob3VyLnNlbGVjdGVkLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPmEuc2VsZWN0ZWR7YmFja2dyb3VuZDojMWI3NWJiIWltcG9ydGFudH0uZHRwIC5kdHAtaGFuZC5vbntiYWNrZ3JvdW5kOiMwMDB9LmRldmljZS1wcm9wZXJ0aWVzLXN3aXRjaHttYXJnaW4tdG9wOi0xcHh9Lm1kLWNvbnRlbnQtY29tbWFuZC1vdmVycmlkZSBtZC1jb250ZW50e292ZXJmbG93OnVuc2V0fS5wdWxsLXRvb2x0aXAtbGVmdHttYXJnaW4tbGVmdDotNTVweH0uY29tbWFuZC1idXR0b24tcmlnaHR7ZmxvYXQ6cmlnaHQ7ZmxleC1kaXJlY3Rpb246cm93LXJldmVyc2V9bWQtc2VsZWN0e2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjEwcHggMCA4cHg7cGFkZGluZy1ib3R0b206MnB4O3Bvc2l0aW9uOnJlbGF0aXZlO21pbi13aWR0aDoxODBweDttYXgtd2lkdGg6MTgwcHh9LnNtYWxsLWRlbGV0ZS1idXR0b257ZmxvYXQ6cmlnaHQ7bWluLXdpZHRoOjI1cHg7bWFyZ2luLXRvcDotMTVweDttYXJnaW4tcmlnaHQ6LTVweH0udG9vbHRpcC1jdXN0b20tbGFyZ2V7bWluLXdpZHRoOjI1MHB4fS50ZW5hbnQtaW1hZ2UtbmFtZSwudXNlci1lbWFpbC1lbGxpcHNpc3t3aWR0aDoxMGVtO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpc31cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDY1MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0RGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybC4kaW5qZWN0ID0gW1wiJGxvZ1wiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIiRzdGF0ZVwiLCBcIlNlc3Npb25zU2VydmljZVwiLCBcIkRldmljZXNTZXJ2aWNlXCIsIFwiTG9jYXRpb25zU2VydmljZVwiLCBcIkNvbW1hbmRzU2VydmljZVwiLCBcIlRpbWV6b25lc1NlcnZpY2VcIiwgXCJzd2VldFwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIiRtZERpYWxvZ1wiLCBcIlRvYXN0c1NlcnZpY2VcIiwgXCIkdGltZW91dFwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OTEpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsKCRsb2csICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBTZXNzaW9uc1NlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBMb2NhdGlvbnNTZXJ2aWNlLCBDb21tYW5kc1NlcnZpY2UsIFRpbWV6b25lc1NlcnZpY2UsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsICRtZERpYWxvZywgVG9hc3RzU2VydmljZSwgJHRpbWVvdXQpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2bS5kZXZpY2VLZXkgPSAkc3RhdGVQYXJhbXMuZGV2aWNlS2V5O1xuXHQgIHZtLmZyb21EZXZpY2VzID0gJHN0YXRlUGFyYW1zLmZyb21EZXZpY2VzID09PSBcInRydWVcIjtcblx0ICB2bS5jdXJyZW50RGV2aWNlID0ge307XG5cdCAgdm0uY29tbWFuZEV2ZW50cyA9IFtdO1xuXHRcblx0ICB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyA9IGZ1bmN0aW9uIChVVENUaW1lKSB7XG5cdCAgICB2YXIgbG9jYWxUaW1lID0gX21vbWVudDIuZGVmYXVsdC51dGMoVVRDVGltZSkudG9EYXRlKCk7XG5cdCAgICByZXR1cm4gbG9jYWxUaW1lID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKGxvY2FsVGltZSkuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tOnNzIEEnKTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZWFjaCA9IGlzc3Vlc1tpXTtcblx0ICAgICAgaWYgKGVhY2gucG9zdGVkVGltZSkge1xuXHQgICAgICAgIGVhY2gucG9zdGVkVGltZSA9IHZtLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gucG9zdGVkVGltZSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGVhY2guY29uZmlybWVkVGltZSkge1xuXHQgICAgICAgIGVhY2guY29uZmlybWVkVGltZSA9IHZtLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY29uZmlybWVkVGltZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybjtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRFdmVudHMgPSBmdW5jdGlvbiAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBjb21tYW5kRXZlbnRzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpO1xuXHQgICAgcmV0dXJuIGNvbW1hbmRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ucmVwbGFjZUNvbW1hbmRUaW1lKGRhdGEuZXZlbnRzKTtcblx0ICAgICAgdm0uZXZlbnRfbmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuXHQgICAgICB2bS5ldmVudF9wcmV2X2N1cnNvciA9IGRhdGEucHJldl9jdXJzb3I7XG5cdCAgICAgIHZtLmNvbW1hbmRFdmVudHMgPSBkYXRhLmV2ZW50cztcblx0ICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0RXZlbnRzVGltZU91dCA9IGZ1bmN0aW9uIChkZXZpY2VLZXksIHByZXYsIG5leHQpIHtcblx0ICAgIHJldHVybiAkdGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRFdmVudHMoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KTtcblx0ICAgIH0sIDEwMDApO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNvbW1hbmRIaXN0b3J5U2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucGFnaW5hdGVFdmVudENhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuXHQgICAgaWYgKGZvcndhcmQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIG51bGwsIHZtLmV2ZW50X25leHRfY3Vyc29yKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCB2bS5ldmVudF9wcmV2X2N1cnNvciwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcblx0ICAgIGRldmljZVByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXNwb25zZSk7XG5cdCAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLm9uR2V0RGV2aWNlRmFpbHVyZShyZXNwb25zZSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25HZXREZXZpY2VTdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICB2bS5jdXJyZW50RGV2aWNlID0gcmVzcG9uc2U7XG5cdCAgICBpZiAocmVzcG9uc2UudGltZXpvbmUgIT09IHZtLnNlbGVjdGVkVGltZXpvbmUpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHJlc3BvbnNlLnRpbWV6b25lO1xuXHQgICAgfVxuXHQgICAgaWYgKHZtLnRlbmFudEtleSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHZtLnRlbmFudEtleSA9IHZtLmN1cnJlbnREZXZpY2UudGVuYW50S2V5O1xuXHQgICAgfVxuXHQgICAgaWYgKCRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCIpIHtcblx0ICAgICAgdm0uYmFja1VybCA9ICcvIy9kZXZpY2VzJztcblx0ICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gZGV2aWNlcyc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAodm0uY3VycmVudERldmljZS5pc1VubWFuYWdlZERldmljZSA9PT0gdHJ1ZSkge1xuXHQgICAgICAgIHZtLmJhY2tVcmwgPSBcIi8jL3RlbmFudHMvXCIgKyB2bS50ZW5hbnRLZXkgKyBcIi91bm1hbmFnZWRcIjtcblx0ICAgICAgICByZXR1cm4gdm0uYmFja1VybFRleHQgPSAnQmFjayB0byB0ZW5hbnQgdW5tYW5hZ2VkIGRldmljZXMnO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZtLmJhY2tVcmwgPSBcIi8jL3RlbmFudHMvXCIgKyB2bS50ZW5hbnRLZXkgKyBcIi9tYW5hZ2VkXCI7XG5cdCAgICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IG1hbmFnZWQgZGV2aWNlcyc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vbkdldERldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIGZldGNoIHRoZSBkZXRhaWxzIGZvciB0aGlzIGRldmljZSBhdCB0aGlzIHRpbWUuJyk7XG5cdCAgICB2YXIgZXJyb3JNZXNzYWdlID0gXCJObyBkZXRhaWwgZm9yIGRldmljZV9rZXkgI1wiICsgdm0uZGV2aWNlS2V5ICsgXCIuIEVycm9yOiBcIiArIHJlc3BvbnNlLnN0YXR1cyArIFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dDtcblx0ICAgICRsb2cuZXJyb3IoZXJyb3JNZXNzYWdlKTtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UuY29udGVudERlbGV0ZSh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblJlc2V0Q29udGVudFN1Y2Nlc3MsIHZtLm9uUmVzZXRDb250ZW50RmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldENvbnRlbnRTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc2V0Q29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlJlc2V0IGNvbnRlbnQgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXNldCBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVXBkYXRlQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UuY29udGVudFVwZGF0ZSh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblVwZGF0ZUNvbnRlbnRTdWNjZXNzLCB2bS5vblVwZGF0ZUNvbnRlbnRGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZUNvbnRlbnRTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgdXBkYXRlIGNvbnRlbnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVDb250ZW50RmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiQ29udGVudCB1cGRhdGUgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB1cGRhdGUgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc2V0UGxheWVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5yZXNldCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblJlc2V0UGxheWVyU3VjY2Vzcywgdm0ub25SZXNldFBsYXllckZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzZXRQbGF5ZXJTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcmVzZXQgcGxheWVyIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzZXRQbGF5ZXJGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJSZXNldCBwbGF5ZXIgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXNldCBwbGF5ZXIgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25QYW5lbE9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5wb3dlck9uKHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxPblN1Y2Nlc3MsIHZtLm9uUGFuZWxPbkZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPblN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsT25GYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJQYW5lbCBvbiBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHBhbmVsIG9uIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPZmYgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvd2VyT2ZmKHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxPZmZTdWNjZXNzLCB2bS5vblBhbmVsT2ZmRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25QYW5lbE9mZlN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBwYW5lbCBvZmYgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25QYW5lbE9mZkZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlBhbmVsIG9mZiBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHBhbmVsIG9mZiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZURldmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UudXBkYXRlRGV2aWNlKHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uVXBkYXRlRGV2aWNlU3VjY2Vzcywgdm0ub25VcGRhdGVEZXZpY2VGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZURldmljZVN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciB1cGRhdGUgZGV2aWNlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVXBkYXRlRGV2aWNlRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiVXBkYXRlIGRldmljZSBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHVwZGF0ZSBkZXZpY2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Wb2x1bWVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnZvbHVtZSh2bS5kZXZpY2VLZXksIHZtLmN1cnJlbnREZXZpY2Uudm9sdW1lKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Wb2x1bWVDaGFuZ2VTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2Uudm9sdW1lKSwgdm0ub25Wb2x1bWVDaGFuZ2VGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblZvbHVtZUNoYW5nZVN1Y2Nlc3MgPSBmdW5jdGlvbiAobGV2ZWwpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHZvbHVtZSBjaGFuZ2UgY29tbWFuZCBvZiBcIiArIGxldmVsICsgXCIgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVm9sdW1lQ2hhbmdlRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiVm9sdW1lIGNoYW5nZSBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHZvbHVtZSBjaGFuZ2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25DdXN0b21Db21tYW5kID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jdXN0b20odm0uZGV2aWNlS2V5LCB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uQ3VzdG9tQ29tbWFuZFN1Y2Nlc3Modm0uY3VycmVudERldmljZS5jdXN0b20pLCB2bS5vbkN1c3RvbUNvbW1hbmRGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkN1c3RvbUNvbW1hbmRTdWNjZXNzID0gZnVuY3Rpb24gKGNvbW1hbmQpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIGN1c3RvbSBjb21tYW5kICdcIiArIGNvbW1hbmQgKyBcIicgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ3VzdG9tQ29tbWFuZEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIkN1c3RvbSBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIGN1c3RvbSBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkRpYWdub3N0aWNzVG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS50b2dnbGVEaWFnbm9zdGljcyh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblRvZ2dsZURpYWdub3N0aWNzU3VjY2Vzcywgdm0ub25Ub2dnbGVEaWFnbm9zdGljc0ZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgZGlhZ25vc3RpY3MgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Ub2dnbGVEaWFnbm9zdGljc0ZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIkRpYWdub3N0aWNzIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgZGlhZ25vc3RpY3MgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5yZXN0YXJ0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzdGFydFN1Y2Nlc3MsIHZtLm9uUmVzdGFydEZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzdGFydFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciByZXN0YXJ0IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzdGFydEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlJlc3RhcnQgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXN0YXJ0IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUG9zdExvZyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucG9zdExvZyh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBvc3RMb2dTdWNjZXNzLCB2bS5vblBvc3RMb2dGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBvc3RMb2dTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Qb3N0TG9nRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiUG9zdCBsb2cgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwb3N0IGxvZyBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybCA9IERldmljZURldGFpbHNDb21tYW5kc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY1Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdERldmljZURldGFpbHNDdHJsLiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiJHN0YXRlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiRGV2aWNlc1NlcnZpY2VcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkxvY2F0aW9uc1NlcnZpY2VcIiwgXCJDb21tYW5kc1NlcnZpY2VcIiwgXCJUaW1lem9uZXNTZXJ2aWNlXCIsIFwiSW50ZWdyYXRpb25FdmVudHNcIiwgXCJzd2VldFwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIiRtZERpYWxvZ1wiLCBcIlRvYXN0c1NlcnZpY2VcIiwgXCJEYXRlTWFuaXB1bGF0aW9uU2VydmljZVwiLCBcIiR0aW1lb3V0XCIsIFwiSW1hZ2VTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5EZXZpY2VEZXRhaWxzQ3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTMpO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcjIpO1xuXHRcblx0dmFyIF9zbGljZWRUb0FycmF5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNjU4KTtcblx0XG5cdHZhciBfc2xpY2VkVG9BcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zbGljZWRUb0FycmF5Mik7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNDkxKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHR2YXIgX2phdmFzY3JpcHROYXR1cmFsU29ydCA9IF9fd2VicGFja19yZXF1aXJlX18oNjYyKTtcblx0XG5cdHZhciBfamF2YXNjcmlwdE5hdHVyYWxTb3J0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2phdmFzY3JpcHROYXR1cmFsU29ydCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gRGV2aWNlRGV0YWlsc0N0cmwoJGxvZywgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIFRlbmFudHNTZXJ2aWNlLCBMb2NhdGlvbnNTZXJ2aWNlLCBDb21tYW5kc1NlcnZpY2UsIFRpbWV6b25lc1NlcnZpY2UsIEludGVncmF0aW9uRXZlbnRzLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCAkbWREaWFsb2csIFRvYXN0c1NlcnZpY2UsIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLCAkdGltZW91dCwgSW1hZ2VTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgdm0udGVuYW50VXJsID0gJy8jL3RlbmFudHMvJyArIHZtLnRlbmFudEtleSArICcvZGV0YWlscyc7XG5cdCAgdm0udGVuYW50T3ZlcmxheVVybCA9ICcvIy90ZW5hbnRzLycgKyB2bS50ZW5hbnRLZXkgKyAnL292ZXJsYXlzJztcblx0XG5cdCAgdm0uZGV2aWNlS2V5ID0gJHN0YXRlUGFyYW1zLmRldmljZUtleTtcblx0ICB2bS5mcm9tRGV2aWNlcyA9ICRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCI7XG5cdCAgdm0uY3VycmVudERldmljZSA9IHt9O1xuXHQgIHZtLmxvY2F0aW9ucyA9IFtdO1xuXHQgIHZtLmNvbW1hbmRFdmVudHMgPSBbXTtcblx0ICB2bS5kYXlSYW5nZSA9IDMwO1xuXHQgIHZtLmlzc3VlcyA9IFtdO1xuXHQgIHZtLnRpbWV6b25lcyA9IFtdO1xuXHQgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSB1bmRlZmluZWQ7XG5cdFxuXHQgIHZhciBfRGF0ZU1hbmlwdWxhdGlvblNlcnYgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jcmVhdGVGb3JtYXR0ZWRTdGFydEFuZEVuZERhdGVGcm9tVG9kYXkoMzApO1xuXHRcblx0ICB2YXIgX0RhdGVNYW5pcHVsYXRpb25TZXJ2MiA9ICgwLCBfc2xpY2VkVG9BcnJheTMuZGVmYXVsdCkoX0RhdGVNYW5pcHVsYXRpb25TZXJ2LCAyKTtcblx0XG5cdCAgdm0uc3RhcnRUaW1lID0gX0RhdGVNYW5pcHVsYXRpb25TZXJ2MlswXTtcblx0ICB2bS5lbmRUaW1lID0gX0RhdGVNYW5pcHVsYXRpb25TZXJ2MlsxXTtcblx0XG5cdCAgdm0uZW5yb2xsbWVudEV2ZW50cyA9IFtdO1xuXHQgIHZtLmxvZ29DaGFuZ2UgPSBmYWxzZTtcblx0ICB2bS5jb250cm9sc01vZGVPcHRpb25zID0gW1widmlzaWJsZVwiLCBcImludmlzaWJsZVwiLCBcImRpc2FibGVkXCJdO1xuXHQgIHZtLm9yaWVudGF0aW9uT3B0aW9ucyA9IFtcIjBcIiwgXCI5MFwiLCBcIjE4MFwiLCBcIjI3MFwiXTtcblx0ICB2bS5zbGVlcENvbnRyb2xsZXJPcHRpb25zID0gW1wiY2hyb21lLWRlZmF1bHRcIiwgXCJyczIzMlwiXTtcblx0ICB2bS5vdmVybGF5Q2hhbmdlZCA9IGZhbHNlO1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gT3ZlcmxheVxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS5jaGVja0Zvck92ZXJsYXlDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcblx0ICAgIHZhciBjdXJyZW50RGV2aWNlT3ZlcmxheXMgPSB2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXlzO1xuXHQgICAgdmFyIGN1cnJlbnREZXZpY2VDb3B5T3ZlcmxheXMgPSB2bS5jdXJyZW50RGV2aWNlQ29weS5vdmVybGF5cztcblx0ICAgIHZhciBwb3NpdGlvbnMgPSBbJ3RvcF9sZWZ0JywgJ3RvcF9yaWdodCcsICdib3R0b21fcmlnaHQnLCAnYm90dG9tX2xlZnQnXTtcblx0XG5cdCAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShwb3NpdGlvbnMpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgdmFyIHBvcyA9IF9zdGVwLnZhbHVlO1xuXHRcblx0ICAgICAgICBpZiAoY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10uc2l6ZSAhPT0gY3VycmVudERldmljZUNvcHlPdmVybGF5c1twb3NdLnNpemUpIHtcblx0ICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10udHlwZSAhPT0gY3VycmVudERldmljZUNvcHlPdmVybGF5c1twb3NdLnR5cGUpIHtcblx0ICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10udHlwZSA9PT0gJ2xvZ28nKSB7XG5cdCAgICAgICAgICBpZiAoY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10udHlwZSArIFwiOiBcIiArIGN1cnJlbnREZXZpY2VPdmVybGF5c1twb3NdLm5hbWUgIT09IGN1cnJlbnREZXZpY2VDb3B5T3ZlcmxheXNbcG9zXS5uYW1lKSB7XG5cdCAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0ICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG5cdCAgICB9IGZpbmFsbHkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG5cdCAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuXHQgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdm0ub3ZlcmxheUNoYW5nZWQgPSBjaGFuZ2VkO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJldmVydFRvVGVuYW50T3ZlcmxheSA9IGZ1bmN0aW9uIChldikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSB0cnVlO1xuXHQgICAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSgkc3RhdGVQYXJhbXMudGVuYW50S2V5KTtcblx0ICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICAgIHZhciBjdXJyZW50VGVuYW50T3ZlcmxheXMgPSB0ZW5hbnQub3ZlcmxheXM7XG5cdCAgICAgIGlmIChjdXJyZW50VGVuYW50T3ZlcmxheXMpIHtcblx0ICAgICAgICBkZWxldGUgY3VycmVudFRlbmFudE92ZXJsYXlzLmtleTtcblx0XG5cdCAgICAgICAgZm9yICh2YXIga2V5IGluIGN1cnJlbnRUZW5hbnRPdmVybGF5cykge1xuXHQgICAgICAgICAgaWYgKGN1cnJlbnRUZW5hbnRPdmVybGF5c1trZXldW1widHlwZVwiXSA9PT0gXCJsb2dvXCIpIHtcblx0ICAgICAgICAgICAgY3VycmVudFRlbmFudE92ZXJsYXlzW2tleV1bXCJpbWFnZV9rZXlcIl0gPSBjdXJyZW50VGVuYW50T3ZlcmxheXNba2V5XVtcImltYWdlS2V5XCJdW1wia2V5XCJdO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY3VycmVudFRlbmFudE92ZXJsYXlzW2tleV1bXCJpbWFnZV9rZXlcIl0gPSBudWxsO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICA7XG5cdFxuXHQgICAgICAgIHZhciBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZU92ZXJsYXlTZXR0aW5ncyh2bS5kZXZpY2VLZXksIGN1cnJlbnRUZW5hbnRPdmVybGF5cy5ib3R0b21fbGVmdCwgY3VycmVudFRlbmFudE92ZXJsYXlzLmJvdHRvbV9yaWdodCwgY3VycmVudFRlbmFudE92ZXJsYXlzLnRvcF9yaWdodCwgY3VycmVudFRlbmFudE92ZXJsYXlzLnRvcF9sZWZ0KTtcblx0XG5cdCAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICAgIHZhciBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcblx0ICAgICAgICAgIGRldmljZVByb21pc2UudGhlbihmdW5jdGlvbiAoY3VycmVudERldmljZSkge1xuXHQgICAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXlzID0gY3VycmVudERldmljZS5vdmVybGF5cztcblx0ICAgICAgICAgICAgdm0uY3VycmVudERldmljZUNvcHkub3ZlcmxheXMgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudERldmljZS5vdmVybGF5cyk7XG5cdCAgICAgICAgICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IGZhbHNlO1xuXHQgICAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcblx0ICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdZb3VyIHRlbmFudCBkb2VzIG5vdCBoYXZlIG92ZXJsYXlzIGVuYWJsZWQuICcgKyAnUGxlYXNlIGVuYWJsZSBvdmVybGF5cyBmb3IgeW91ciB0ZW5hbnQgYmVmb3JlIGF0dGVtcHRpbmcgdG8gcmV2ZXJ0IGRldmljZSBvdmVybGF5IHRvIHRlbmFudCBzZXR0aW5ncy4nLCAnZXJyb3InKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uYWRqdXN0Q29udHJvbHNNb2RlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGNvbnRyb2xzTW9kZSA9IHZtLmN1cnJlbnREZXZpY2UuY29udHJvbHNNb2RlO1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgY29udHJvbHNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuYWRqdXN0Q29udHJvbHNNb2RlKHZtLmRldmljZUtleSwgY29udHJvbHNNb2RlKTtcblx0ICAgIGNvbnRyb2xzUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnWW91ciBjb250cm9scyBtb2RlIHNlbGVjdGlvbiB3YXMgc3VjY2VzZnVsbHkgY2hhbmdlZCB0bzogJyArIGNvbnRyb2xzTW9kZSk7XG5cdCAgICB9KTtcblx0ICAgIGNvbnRyb2xzUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICAvL1RvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoXCJZb3VyIGNvbnRyb2xzIG1vZGUgY2hhbmdlIGZhaWxlZCB0byBzYXZlLiBQbGVhc2UgY29udGFjdCBzdXBwb3J0LlwiKVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uYWRqdXN0T3ZlcmxheVN0YXR1cyA9IGZ1bmN0aW9uIChzdGF0dXMpIHtcblx0ICAgIHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheVN0YXR1cyA9IHN0YXR1cztcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBEZXZpY2VzU2VydmljZS5zYXZlKHZtLmN1cnJlbnREZXZpY2UpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcblx0ICAgICAgZGV2aWNlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICAgIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXNwb25zZSk7XG5cdCAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICAgIHJldHVybiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdE92ZXJsYXlTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBvdmVybGF5U2V0dGluZ3MgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudERldmljZUNvcHkub3ZlcmxheXMpO1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSB0cnVlO1xuXHQgICAgdmFyIHByb21pc2UgPSBEZXZpY2VzU2VydmljZS5zYXZlT3ZlcmxheVNldHRpbmdzKHZtLmRldmljZUtleSwgb3ZlcmxheVNldHRpbmdzLmJvdHRvbV9sZWZ0LCBvdmVybGF5U2V0dGluZ3MuYm90dG9tX3JpZ2h0LCBvdmVybGF5U2V0dGluZ3MudG9wX3JpZ2h0LCBvdmVybGF5U2V0dGluZ3MudG9wX2xlZnQpO1xuXHQgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgdmFyIGRldmljZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VCeUtleSh2bS5kZXZpY2VLZXkpO1xuXHQgICAgICBkZXZpY2VQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGN1cnJlbnREZXZpY2UpIHtcblx0ICAgICAgICB2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXlzID0gY3VycmVudERldmljZS5vdmVybGF5cztcblx0ICAgICAgICB2bS5jdXJyZW50RGV2aWNlQ29weS5vdmVybGF5cyA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXlzKTtcblx0ICAgICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcblx0ICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldFRlbmFudEltYWdlc0FuZFJlZnJlc2hEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG5cdCAgICBkZXZpY2VQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICB2bS5vbkdldERldmljZVN1Y2Nlc3MocmVzKTtcblx0ICAgICAgdm0uZ2V0VGVuYW50SW1hZ2VzKCk7XG5cdCAgICB9KTtcblx0ICAgIGRldmljZVByb21pc2UuY2F0Y2goZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICB2bS5vbkdldERldmljZUZhaWx1cmUocmVzKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldFRlbmFudEltYWdlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLk9WRVJMQVlfVFlQRVMgPSBbeyBzaXplOiBudWxsLCB0eXBlOiBudWxsLCBuYW1lOiBcIm5vbmVcIiwgcmVhbE5hbWU6IFwibm9uZVwiLCBuZXc6IGZhbHNlLCBpbWFnZV9rZXk6IG51bGwgfSwgeyBzaXplOiBudWxsLCB0eXBlOiBcImRhdGV0aW1lXCIsIG5hbWU6IFwiZGF0ZXRpbWVcIiwgcmVhbE5hbWU6IFwiZGF0ZXRpbWVcIiwgbmV3OiB0cnVlLCBpbWFnZV9rZXk6IG51bGwgfV07XG5cdFxuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IEltYWdlU2VydmljZS5nZXRJbWFnZXModm0udGVuYW50S2V5KTtcblx0ICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgIHZtLnRlbmFudEltYWdlcyA9IHJlcztcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG5cdCAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcblx0ICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKHZtLnRlbmFudEltYWdlcyksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuXHQgICAgICAgICAgdmFyIHZhbHVlID0gX3N0ZXAyLnZhbHVlO1xuXHQgICAgICAgICAgdmFyIF9hcnIgPSBbXCJzbWFsbFwiLCBcImxhcmdlXCJdO1xuXHRcblx0ICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBfYXJyLmxlbmd0aDsgX2krKykge1xuXHQgICAgICAgICAgICB2YXIgc2l6ZU9wdGlvbiA9IF9hcnJbX2ldO1xuXHQgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSB7XG5cdCAgICAgICAgICAgICAgcmVhbE5hbWU6IGFuZ3VsYXIuY29weSh2YWx1ZS5uYW1lKSxcblx0ICAgICAgICAgICAgICBuYW1lOiBcImxvZ286IFwiICsgdmFsdWUubmFtZSxcblx0ICAgICAgICAgICAgICB0eXBlOiBcImxvZ29cIixcblx0ICAgICAgICAgICAgICBzaXplOiBzaXplT3B0aW9uLFxuXHQgICAgICAgICAgICAgIGltYWdlX2tleTogdmFsdWUua2V5XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIHZtLk9WRVJMQVlfVFlQRVMucHVzaChuZXdWYWx1ZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuXHQgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcblx0ICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuXHQgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG5cdCAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZtLk9WRVJMQVlfVFlQRVMuc29ydChfamF2YXNjcmlwdE5hdHVyYWxTb3J0Mi5kZWZhdWx0KTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgLy9Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiU09NRVRISU5HIFdFTlQgV1JPTkcgUkVUUklFVklORyBZT1VSIElNQUdFU1wiKVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gRXZlbnRzIGFuZCBJc3N1ZXMgVGFiXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgdm0ucmVwbGFjZUlzc3VlVGltZSA9IGZ1bmN0aW9uIChpc3N1ZXMpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXNzdWVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBlYWNoID0gaXNzdWVzW2ldO1xuXHQgICAgICBpZiAoZWFjaC5jcmVhdGVkKSB7XG5cdCAgICAgICAgZWFjaC5jcmVhdGVkID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC5jcmVhdGVkKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoZWFjaC51cGRhdGVkKSB7XG5cdCAgICAgICAgZWFjaC51cGRhdGVkID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC51cGRhdGVkKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnJlcGxhY2VDb21tYW5kVGltZSA9IGZ1bmN0aW9uIChpc3N1ZXMpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXNzdWVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBlYWNoID0gaXNzdWVzW2ldO1xuXHQgICAgICBpZiAoZWFjaC5wb3N0ZWRUaW1lKSB7XG5cdCAgICAgICAgZWFjaC5wb3N0ZWRUaW1lID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC5wb3N0ZWRUaW1lKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoZWFjaC5jb25maXJtZWRUaW1lKSB7XG5cdCAgICAgICAgZWFjaC5jb25maXJtZWRUaW1lID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC5jb25maXJtZWRUaW1lKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmxvY2FsRnJvbVV0YyA9IGZ1bmN0aW9uIChldmVudHMpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBlYWNoID0gZXZlbnRzW2ldO1xuXHQgICAgICBpZiAoZWFjaC51dGNUaW1lc3RhbXApIHtcblx0ICAgICAgICBlYWNoLnV0Y1RpbWVzdGFtcCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gudXRjVGltZXN0YW1wKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNvcHlEZXZpY2VLZXkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdEZXZpY2Uga2V5IGNvcGllZCB0byB5b3VyIGNsaXBib2FyZCcpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNvcHlDb3JyZWxhdGlvbklkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdDb3JyZWxhdGlvbiBJRCBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmQnKTtcblx0ICB9O1xuXHRcblx0ICAvLyBldmVudCB0YWJcblx0ICB2bS5nZXRJc3N1ZXMgPSBmdW5jdGlvbiAoZGV2aWNlLCBlcG9jaFN0YXJ0LCBlcG9jaEVuZCwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgaXNzdWVzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldElzc3Vlc0J5S2V5KGRldmljZSwgZXBvY2hTdGFydCwgZXBvY2hFbmQsIHByZXYsIG5leHQpO1xuXHQgICAgcmV0dXJuIGlzc3Vlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5yZXBsYWNlSXNzdWVUaW1lKGRhdGEuaXNzdWVzKTtcblx0ICAgICAgdm0uaXNzdWVzID0gZGF0YS5pc3N1ZXM7XG5cdCAgICAgIHZtLnByZXZfY3Vyc29yID0gZGF0YS5wcmV2O1xuXHQgICAgICB2bS5uZXh0X2N1cnNvciA9IGRhdGEubmV4dDtcblx0ICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgLy8gY29tbWFuZCBoaXN0b3J5IHRhYlxuXHQgIHZtLmdldEV2ZW50cyA9IGZ1bmN0aW9uIChkZXZpY2VLZXksIHByZXYsIG5leHQpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGNvbW1hbmRFdmVudHNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0Q29tbWFuZEV2ZW50c0J5S2V5KGRldmljZUtleSwgcHJldiwgbmV4dCk7XG5cdCAgICByZXR1cm4gY29tbWFuZEV2ZW50c1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUoZGF0YS5ldmVudHMpO1xuXHQgICAgICB2bS5ldmVudF9uZXh0X2N1cnNvciA9IGRhdGEubmV4dF9jdXJzb3I7XG5cdCAgICAgIHZtLmV2ZW50X3ByZXZfY3Vyc29yID0gZGF0YS5wcmV2X2N1cnNvcjtcblx0ICAgICAgdm0uY29tbWFuZEV2ZW50cyA9IGRhdGEuZXZlbnRzO1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICAvLyBlbnJvbGxtZW50IHRhYlxuXHQgIHZtLmdldEVucm9sbG1lbnRFdmVudHMgPSBmdW5jdGlvbiAoZGV2aWNlS2V5KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBlbnJvbGxtZW50RXZlbnRzUHJvbWlzZSA9IEludGVncmF0aW9uRXZlbnRzLmdldEVucm9sbG1lbnRFdmVudHMoZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBlbnJvbGxtZW50RXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmVucm9sbG1lbnRFdmVudHMgPSBkYXRhO1xuXHQgICAgICB2bS5sb2NhbEZyb21VdGMoZGF0YSk7XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG5cdCAgICBpZiAoZm9yd2FyZCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0SXNzdWVzKHZtLmRldmljZUtleSwgdm0uZXBvY2hTdGFydCwgdm0uZXBvY2hFbmQsIG51bGwsIHZtLm5leHRfY3Vyc29yKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgdm0ucHJldl9jdXJzb3IsIG51bGwpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlRXZlbnRDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCBudWxsLCB2bS5ldmVudF9uZXh0X2N1cnNvcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgdm0uZXZlbnRfcHJldl9jdXJzb3IsIG51bGwpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5lcG9jaFN0YXJ0ID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHZtLnN0YXJ0VGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcblx0ICAgIHZtLmVwb2NoRW5kID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHZtLmVuZFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG5cdFxuXHQgICAgdmFyIHRpbWV6b25lUHJvbWlzZSA9IFRpbWV6b25lc1NlcnZpY2UuZ2V0Q3VzdG9tVGltZXpvbmVzKCk7XG5cdCAgICB0aW1lem9uZVByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udGltZXpvbmVzID0gZGF0YTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZtLnBhbmVsTW9kZWxzID0gRGV2aWNlc1NlcnZpY2UuZ2V0UGFuZWxNb2RlbHMoKTtcblx0ICAgIHZtLnBhbmVsSW5wdXRzID0gRGV2aWNlc1NlcnZpY2UuZ2V0UGFuZWxJbnB1dHMoKTtcblx0XG5cdCAgICB2YXIgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG5cdCAgICBkZXZpY2VQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkdldERldmljZVN1Y2Nlc3MocmVzcG9uc2UpO1xuXHQgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgdm0uZ2V0VGVuYW50SW1hZ2VzKCk7XG5cdCAgICB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5KTtcblx0ICAgIHZtLmdldElzc3Vlcyh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kKTtcblx0ICAgIHJldHVybiB2bS5nZXRFbnJvbGxtZW50RXZlbnRzKHZtLmRldmljZUtleSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25HZXREZXZpY2VTdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICB2bS5jdXJyZW50RGV2aWNlID0gcmVzcG9uc2U7XG5cdCAgICB2bS5jdXJyZW50RGV2aWNlQ29weSA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50RGV2aWNlKTtcblx0ICAgIGlmIChyZXNwb25zZS50aW1lem9uZSAhPT0gdm0uc2VsZWN0ZWRUaW1lem9uZSkge1xuXHQgICAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gcmVzcG9uc2UudGltZXpvbmU7XG5cdCAgICB9XG5cdCAgICBpZiAodm0udGVuYW50S2V5ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdm0udGVuYW50S2V5ID0gdm0uY3VycmVudERldmljZS50ZW5hbnRLZXk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCIpIHtcblx0ICAgICAgdm0uYmFja1VybCA9ICcvIy9kZXZpY2VzJztcblx0ICAgICAgdm0uYmFja1VybFRleHQgPSAnQmFjayB0byBkZXZpY2VzJztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmlzVW5tYW5hZ2VkRGV2aWNlID09PSB0cnVlKSB7XG5cdCAgICAgICAgdm0uYmFja1VybCA9ICcvIy90ZW5hbnRzLycgKyB2bS50ZW5hbnRLZXkgKyAnL3VubWFuYWdlZCc7XG5cdCAgICAgICAgdm0uYmFja1VybFRleHQgPSAnQmFjayB0byB0ZW5hbnQgdW5tYW5hZ2VkIGRldmljZXMnO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZtLmJhY2tVcmwgPSAnLyMvdGVuYW50cy8nICsgdm0udGVuYW50S2V5ICsgJy9tYW5hZ2VkJztcblx0ICAgICAgICB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGxvY2F0aW9uc1Byb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLmdldExvY2F0aW9uc0J5VGVuYW50S2V5KHZtLnRlbmFudEtleSk7XG5cdCAgICByZXR1cm4gbG9jYXRpb25zUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvY2F0aW9ucyA9IGRhdGE7XG5cdCAgICAgIHJldHVybiB2bS5zZXRTZWxlY3RlZE9wdGlvbnMoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uR2V0RGV2aWNlRmFpbHVyZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gZmV0Y2ggdGhlIGRldGFpbHMgZm9yIHRoaXMgZGV2aWNlIGF0IHRoaXMgdGltZS4nKTtcblx0ICAgIHZhciBlcnJvck1lc3NhZ2UgPSAnTm8gZGV0YWlsIGZvciBkZXZpY2Vfa2V5ICcgKyB2bS5kZXZpY2VLZXkgKyAnLiBFcnJvcjogJyArIHJlc3BvbnNlLnN0YXR1cyArICcgJyArIHJlc3BvbnNlLnN0YXR1c1RleHQ7XG5cdCAgICAkbG9nLmVycm9yKGVycm9yTWVzc2FnZSk7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uc2V0U2VsZWN0ZWRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCA9PT0gbnVsbCkge1xuXHQgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPSB2bS5wYW5lbE1vZGVsc1swXTtcblx0ICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbElucHV0ID0gdm0ucGFuZWxJbnB1dHNbMF07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLnBhbmVsTW9kZWxzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHBhbmVsTW9kZWwgPSB2bS5wYW5lbE1vZGVsc1tpXTtcblx0ICAgICAgICBpZiAocGFuZWxNb2RlbC5pZCA9PT0gdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsKSB7XG5cdCAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPSBwYW5lbE1vZGVsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZtLnBhbmVsSW5wdXRzLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgdmFyIHBhbmVsSW5wdXQgPSB2bS5wYW5lbElucHV0c1tqXTtcblx0ICAgICAgICB2YXIgaXNQYXJlbnQgPSBwYW5lbElucHV0LnBhcmVudElkID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQ7XG5cdCAgICAgICAgaWYgKGlzUGFyZW50ICYmIHBhbmVsSW5wdXQuaWQudG9Mb3dlckNhc2UoKSA9PT0gdm0uY3VycmVudERldmljZS5wYW5lbElucHV0KSB7XG5cdCAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQgPSBwYW5lbElucHV0O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkgIT09IG51bGwpIHtcblx0ICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB2bS5sb2NhdGlvbnMubGVuZ3RoOyBrKyspIHtcblx0ICAgICAgICB2YXIgbG9jYXRpb24gPSB2bS5sb2NhdGlvbnNba107XG5cdCAgICAgICAgaWYgKGxvY2F0aW9uLmtleSA9PT0gdm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSkge1xuXHQgICAgICAgICAgdm0uY3VycmVudERldmljZS5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIFByb3BlcnRpZXMgVGFiXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZtLm9uU2F2ZURldmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24gIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uLmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkgPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uLmtleTtcblx0ICAgIH1cblx0ICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgJiYgdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsLmlkICE9PSB1bmRlZmluZWQgJiYgdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsLmlkICE9PSAnTm9uZScpIHtcblx0ICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsTnVtYmVyID0gdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsLmlkO1xuXHQgICAgfVxuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dCAmJiB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQuaWQgIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQuaWQgIT09ICdOb25lJykge1xuXHQgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsU2VyaWFsSW5wdXQgPSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQuaWQudG9Mb3dlckNhc2UoKTtcblx0ICAgIH1cblx0ICAgIHZtLmN1cnJlbnREZXZpY2UudGltZXpvbmUgPSB2bS5zZWxlY3RlZFRpbWV6b25lO1xuXHQgICAgdmFyIHByb21pc2UgPSBEZXZpY2VzU2VydmljZS5zYXZlKHZtLmN1cnJlbnREZXZpY2UpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NEZXZpY2VTYXZlLCB2bS5vbkZhaWx1cmVEZXZpY2VTYXZlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NEZXZpY2VTYXZlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkZhaWx1cmVEZXZpY2VTYXZlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwOSkge1xuXHQgICAgICAkbG9nLmluZm8oJ0ZhaWx1cmUgc2F2aW5nIGRldmljZS4gQ3VzdG9tZXIgZGlzcGxheSBjb2RlIGFscmVhZHkgZXhpc3RzIGZvciB0ZW5hbnQ6ICcgKyBlcnJvci5zdGF0dXMgKyAnICcgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGhpcyBjdXN0b21lciBkaXNwbGF5IGNvZGUgYWxyZWFkeSBleGlzdHMgZm9yIHRoaXMgdGVuYW50LiBQbGVhc2UgY2hvb3NlIGFub3RoZXIuJywgJ2Vycm9yJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAkbG9nLmVycm9yKCdGYWlsdXJlIHNhdmluZyBkZXZpY2U6ICcgKyBlcnJvci5zdGF0dXMgKyAnICcgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIHNhdmUgeW91ciB1cGRhdGVzIHRvIHRoaXMgZGV2aWNlIGF0IHRoaXMgdGltZS4nKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsU2xlZXAgPSBmdW5jdGlvbiAoY29tbWFuZCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5wYW5lbFNsZWVwKHZtLmRldmljZUtleSwgY29tbWFuZCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxTbGVlcFN1Y2Nlc3MsIHZtLm9uUGFuZWxTbGVlcEZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxTbGVlcFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSB0b2dnbGVkIHRoZSBwYW5lbCBzbGVlcCBhdHRyaWJ1dGUuIFRoZSBwbGF5ZXIgc2hvdWxkIGFkanVzdCB0byB0aGVzZSBjaGFuZ2VzIHdpdGhpbiAxNSBtaW51dGVzLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsU2xlZXBGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byB0b2dnbGUgdGhlIHBhbmVsIHNsZWVwIGF0dHJpYnV0ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY29uZmlybURldmljZURlbGV0ZSA9IGZ1bmN0aW9uIChldmVudCwga2V5KSB7XG5cdCAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKHtcblx0ICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmUgdG8gZGVsZXRlIHRoaXMgZGV2aWNlPycsXG5cdCAgICAgIHRleHRDb250ZW50OiAnUGxlYXNlIHJlbWVtYmVyLCB5b3UgTVVTVCByZW1vdmUgdGhpcyBkZXZpY2UgZnJvbSBDb250ZW50IE1hbmFnZXIgYmVmb3JlIGRlbGV0aW5nIGl0IGZyb20gUHJvdmlzaW9uaW5nLicsXG5cdCAgICAgIHRhcmdldEV2ZW50OiBldmVudCxcblx0ICAgICAgb2s6ICdEZWxldGUnLFxuXHQgICAgICBjYW5jZWw6ICdDYW5jZWwnXG5cdCAgICB9KTtcblx0ICAgIHZhciBzaG93UHJvbWlzZSA9ICRtZERpYWxvZy5zaG93KGNvbmZpcm0pO1xuXHQgICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiBzdWNjZXNzKCkge1xuXHQgICAgICByZXR1cm4gdm0ub25Db25maXJtRGVsZXRlKGtleSk7XG5cdCAgICB9O1xuXHQgICAgdmFyIGZhaWx1cmUgPSBmdW5jdGlvbiBmYWlsdXJlKCkge1xuXHQgICAgICByZXR1cm4gdm0ub25Db25maXJtQ2FuY2VsKCk7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIHNob3dQcm9taXNlLnRoZW4oc3VjY2VzcywgZmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Db25maXJtRGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuXHQgICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiBzdWNjZXNzKCkge1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHByb2Nlc3NlZCB5b3VyIGRlbGV0ZSByZXF1ZXN0LicpO1xuXHQgICAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG5cdCAgICB9O1xuXHQgICAgdmFyIGZhaWx1cmUgPSBmdW5jdGlvbiBmYWlsdXJlKGVycm9yKSB7XG5cdCAgICAgIHZhciBmcmllbmRseU1lc3NhZ2UgPSAnV2Ugd2VyZSB1bmFibGUgdG8gY29tcGxldGUgeW91ciBkZWxldGUgcmVxdWVzdCBhdCB0aGlzIHRpbWUuJztcblx0ICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChmcmllbmRseU1lc3NhZ2UpO1xuXHQgICAgICByZXR1cm4gJGxvZy5lcnJvcignRGVsZXRlIGRldmljZSBmYWlsdXJlIGZvciBkZXZpY2Vfa2V5ICcgKyBrZXkgKyAnOiAnICsgZXJyb3Iuc3RhdHVzICsgJyAnICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICB9O1xuXHQgICAgdmFyIGRlbGV0ZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5kZWxldGUoa2V5KTtcblx0ICAgIHJldHVybiBkZWxldGVQcm9taXNlLnRoZW4oc3VjY2VzcywgZmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Db25maXJtQ2FuY2VsID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0luZm9Ub2FzdCgnV2UgY2FuY2VsZWQgeW91ciBkZWxldGUgcmVxdWVzdC4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblByb29mT2ZQbGF5TG9nZ2luZ0NoZWNrID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UucHJvb2ZPZlBsYXlMb2dnaW5nKSB7XG5cdCAgICAgIHZhciBub0xvY2F0aW9uID0gdm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSA9PT0gbnVsbDtcblx0ICAgICAgdmFyIG5vRGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheUNvZGUgPT09IG51bGw7XG5cdCAgICAgIGlmIChub0xvY2F0aW9uKSB7XG5cdCAgICAgICAgc3dlZXQuc2hvdygnT29wcy4uLicsIFwiWW91IG11c3QgaGF2ZSBhIExvY2F0aW9uIHRvIGVuYWJsZSBQcm9vZiBvZiBwbGF5LlwiLCAnZXJyb3InKTtcblx0ICAgICAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcgPSBmYWxzZTtcblx0ICAgICAgfSBlbHNlIGlmIChub0Rpc3BsYXlDb2RlKSB7XG5cdCAgICAgICAgc3dlZXQuc2hvdygnT29wcy4uLicsIFwiWW91IG11c3QgaGF2ZSBhIERpc3BsYXkgY29kZSB0byBlbmFibGUgUHJvb2Ygb2YgcGxheS5cIiwgJ2Vycm9yJyk7XG5cdCAgICAgICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UucHJvb2ZPZlBsYXlMb2dnaW5nID0gZmFsc2U7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLm9uU2F2ZURldmljZSgpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0ub25TYXZlRGV2aWNlKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVMb2NhdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB2bS5vblNhdmVEZXZpY2UoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5hdXRvR2VuZXJhdGVDdXN0b21lckRpc3BsYXlDb2RlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIG5ld0Rpc3BsYXlDb2RlID0gJyc7XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5jdXN0b21lckRpc3BsYXlOYW1lKSB7XG5cdCAgICAgIG5ld0Rpc3BsYXlDb2RlID0gdm0uY3VycmVudERldmljZS5jdXN0b21lckRpc3BsYXlOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgIG5ld0Rpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuXHQgICAgICBuZXdEaXNwbGF5Q29kZSA9IG5ld0Rpc3BsYXlDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5Q29kZSA9IG5ld0Rpc3BsYXlDb2RlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmxvZ2dseUZvclVzZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgdXNlckRvbWFpbiA9IFNlc3Npb25zU2VydmljZS5nZXRVc2VyRW1haWwoKS5zcGxpdChcIkBcIilbMV07XG5cdCAgICByZXR1cm4gdXNlckRvbWFpbiA9PT0gXCJkZW1vLmFnb3N0by5jb21cIiB8fCB1c2VyRG9tYWluID09PSBcImFnb3N0by5jb21cIjtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNsaWNrUmVmcmVzaEJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdm0uc3RhcnRUaW1lID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KHZtLnN0YXJ0VGltZSk7XG5cdCAgICB2bS5lbmRUaW1lID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KHZtLmVuZFRpbWUpO1xuXHQgICAgdm0uZXBvY2hTdGFydCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5zdGFydFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG5cdCAgICB2bS5lcG9jaEVuZCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5lbmRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuXHQgICAgdm0ucHJldl9jdXJzb3IgPSBudWxsO1xuXHQgICAgdm0ubmV4dF9jdXJzb3IgPSBudWxsO1xuXHQgICAgdmFyIGlzc3Vlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRJc3N1ZXNCeUtleSh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kLCB2bS5wcmV2X2N1cnNvciwgdm0ubmV4dF9jdXJzb3IpO1xuXHQgICAgcmV0dXJuIGlzc3Vlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0ub25SZWZyZXNoSXNzdWVzU3VjY2VzcyhkYXRhKTtcblx0ICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgICByZXR1cm4gdm0ub25SZWZyZXNoSXNzdWVzRmFpbHVyZShlcnJvcik7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlZnJlc2hJc3N1ZXNTdWNjZXNzID0gZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgIHZtLnJlcGxhY2VJc3N1ZVRpbWUoZGF0YS5pc3N1ZXMpO1xuXHQgICAgdm0uaXNzdWVzID0gZGF0YS5pc3N1ZXM7XG5cdCAgICB2bS5wcmV2X2N1cnNvciA9IGRhdGEucHJldjtcblx0ICAgIHZtLm5leHRfY3Vyc29yID0gZGF0YS5uZXh0O1xuXHQgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVmcmVzaElzc3Vlc0ZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgVG9hc3RzU2VydmljZS5zaG93SW5mb1RvYXN0KCdXZSB3ZXJlIHVuYWJsZSB0byByZWZyZXNoIHRoZSBkZXZpY2UgaXNzdWVzIGxpc3QgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgcmV0dXJuICRsb2cuZXJyb3IoJ0ZhaWx1cmUgdG8gcmVmcmVzaCBkZXZpY2UgaXNzdWVzOiAnICsgZXJyb3Iuc3RhdHVzICsgJyAnICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRldmljZURldGFpbHNDdHJsID0gRGV2aWNlRGV0YWlsc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY2Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0RGV2aWNlc0xpc3RpbmdDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVQYXJhbXNcIiwgXCIkcVwiLCBcImRlYm91bmNlXCIsIFwiJGxvZ1wiLCBcIkRldmljZXNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwic3dlZXRcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkRldmljZXNMaXN0aW5nQ3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTMpO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIERldmljZXNMaXN0aW5nQ3RybCgkc3RhdGVQYXJhbXMsICRxLCBkZWJvdW5jZSwgJGxvZywgRGV2aWNlc1NlcnZpY2UsICRzdGF0ZSwgU2Vzc2lvbnNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsIHN3ZWV0KSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmRpc3RyaWJ1dG9yS2V5ID0gdW5kZWZpbmVkO1xuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBNYW5hZ2VkXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZtLmRldmljZXMgPSBbXTtcblx0ICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuXHQgIHZtLnNlbGVjdGVkQnV0dG9uID0gXCJTZXJpYWwgTnVtYmVyXCI7XG5cdCAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgdm0uZ2NtaWREZXZpY2VzID0ge307XG5cdCAgdm0udGhyb3R0bGVkU2VhcmNoID0gbnVsbDtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIFVubWFuYWdlZFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9IFwiTUFDXCI7XG5cdCAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgIHZtLnVubWFuYWdlZERpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS51bm1hbmFnZWREZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSBudWxsO1xuXHQgIHZtLnVubWFuYWdlZERldmljZXMgPSBbXTtcblx0ICB2bS51bm1hbmFnZWRNYWNEZXZpY2VzID0ge307XG5cdCAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0ge307XG5cdCAgdm0uZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCA9IFtdO1xuXHQgIHZtLmRldmljZXNUb01hdGNoT25NYW5hZ2VkID0gW107XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgdm0ucmVmcmVzaE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgICAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuXHQgICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJlZnJlc2hVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgICAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSBudWxsO1xuXHQgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAodW5tYW5hZ2VkKSB7XG5cdCAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZtLnVubWFuYWdlZFNlYXJjaFRleHQgPSAnJztcblx0ICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgICB2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzID0ge307XG5cdCAgICAgIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSB7fTtcblx0ICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCA9IFtdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICAgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICAgICAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uTWFuYWdlZCA9IFtdO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtLCB0cnVlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBzZWFyY2hUZXh0KSB7XG5cdCAgICB2YXIgbWFjID0gdm9pZCAwLFxuXHQgICAgICAgIHNlcmlhbCA9IHZvaWQgMCxcblx0ICAgICAgICBnY21pZCA9IHZvaWQgMDtcblx0ICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgbWFjID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPT09IFwiTUFDXCI7XG5cdCAgICAgIHNlcmlhbCA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICAgICAgZ2NtaWQgPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIjtcblx0ICAgICAgaWYgKG1hYykge1xuXHQgICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS51bm1hbmFnZWRNYWNEZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfSBlbHNlIGlmIChzZXJpYWwpIHtcblx0ICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmVkaXRJdGVtKHZtLnVubWFuYWdlZEdDTWlkRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG1hYyA9IHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuXHQgICAgICBzZXJpYWwgPSB2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG5cdCAgICAgIGdjbWlkID0gdm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiR0NNIElEXCI7XG5cdCAgICAgIGlmIChtYWMpIHtcblx0ICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0ubWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmVkaXRJdGVtKHZtLnNlcmlhbERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS5nY21pZERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBpc01hdGNoKSB7XG5cdCAgICBpZiAoIXVubWFuYWdlZCkge1xuXHQgICAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuXHQgICAgICB2bS5kaXNhYmxlZEJ1dHRvbkxvYWRpbmcgPSBmYWxzZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZtLnVubWFuYWdlZERpc2FibGVkID0gIWlzTWF0Y2g7XG5cdCAgICAgIHZtLnVubWFuYWdlZERpc2FibGVkQnV0dG9uTG9hZGluZyA9IGZhbHNlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHJlc291cmNlKSB7XG5cdCAgICB2YXIgZGV2aWNlc1RvTWF0Y2hPbiA9IHVubWFuYWdlZCA/IHZtLmRldmljZXNUb01hdGNoT25Vbm1hbmFnZWQgOiB2bS5kZXZpY2VzVG9NYXRjaE9uTWFuYWdlZDtcblx0ICAgIHZhciBmb3VuZE1hdGNoID0gZmFsc2U7XG5cdCAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShkZXZpY2VzVG9NYXRjaE9uKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHQgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgIGlmIChyZXNvdXJjZSA9PT0gaXRlbSkge1xuXHQgICAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcblx0ICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2bS5jb250cm9sT3BlbkJ1dHRvbih1bm1hbmFnZWQsIGZvdW5kTWF0Y2gpO1xuXHQgICAgcmV0dXJuIGZvdW5kTWF0Y2g7XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHBhcnRpYWwpIHtcblx0ICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cdCAgICB2YXIgYnV0dG9uID0gdm9pZCAwO1xuXHQgICAgaWYgKHVubWFuYWdlZCkge1xuXHQgICAgICBidXR0b24gPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGJ1dHRvbiA9IHZtLnNlbGVjdGVkQnV0dG9uO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBieVRlbmFudCA9IGZhbHNlO1xuXHQgICAgdmFyIHRlbmFudEtleSA9IG51bGw7XG5cdFxuXHQgICAgaWYgKHZtLnRocm90dGxlZFNlYXJjaCkge1xuXHQgICAgICB2bS50aHJvdHRsZWRTZWFyY2guY2FuY2VsKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgdm0udGhyb3R0bGVkU2VhcmNoID0gZGVib3VuY2UoNzUwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIERldmljZXNTZXJ2aWNlLnNlYXJjaERldmljZXMocGFydGlhbCwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICAgIHZhciBkZXZpY2VzVG9SZXR1cm4gPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcblx0ICAgICAgICAgIHZhciBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcblx0ICAgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG5cdCAgICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgICAgICAgICB2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcblx0ICAgICAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuXHQgICAgICAgICAgICAgIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICAgICAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICAgIHZtLmRldmljZXNUb01hdGNoT25Vbm1hbmFnZWQgPSBkZXZpY2VzVG9SZXR1cm47XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uTWFuYWdlZCA9IGRldmljZXNUb1JldHVybjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGV2aWNlc1RvUmV0dXJuKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShbXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZtLnRocm90dGxlZFNlYXJjaCgpO1xuXHRcblx0ICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKGtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgZGV2aWNlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VzQnlEaXN0cmlidXRvcihrZXksIHByZXYsIG5leHQpO1xuXHQgICAgcmV0dXJuIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZtLmRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuXHQgICAgICB2bS5kZXZpY2VzTmV4dCA9IHJlc3BvbnNlLm5leHRfY3Vyc29yO1xuXHQgICAgICB2bS5kZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hTdWNjZXNzKCk7XG5cdCAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoRmFpbHVyZShyZXNwb25zZSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKGtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgdW5tYW5hZ2VkRGV2aWNlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRVbm1hbmFnZWREZXZpY2VzQnlEaXN0cmlidXRvcihrZXksIHByZXYsIG5leHQpO1xuXHQgICAgcmV0dXJuIHVubWFuYWdlZERldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZtLnVubWFuYWdlZERldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuXHQgICAgICB2bS51bm1hbmFnZWREZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuXHQgICAgICB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCA9IHJlc3BvbnNlLm5leHRfY3Vyc29yO1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hTdWNjZXNzKCk7XG5cdCAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoRmFpbHVyZShyZXNwb25zZSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG5cdCAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcblx0ICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS51bm1hbmFnZWREZXZpY2VzUHJldiwgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEZldGNoU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRGZXRjaEZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiVW5hYmxlIHRvIGZldGNoIGRldmljZXMuIEVycm9yOiBcIiArIHJlc3BvbnNlLnN0YXR1cyArIFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCArIFwiLlwiO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkLCBtYW5hZ2VkKSB7XG5cdCAgICBpZiAoZm9yd2FyZCkge1xuXHQgICAgICBpZiAobWFuYWdlZCkge1xuXHQgICAgICAgIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCFtYW5hZ2VkKSB7XG5cdCAgICAgICAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgbnVsbCwgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAobWFuYWdlZCkge1xuXHQgICAgICAgIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS5kZXZpY2VzUHJldiwgbnVsbCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCFtYW5hZ2VkKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCBudWxsKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLkRldmljZXNMaXN0aW5nQ3RybCA9IERldmljZXNMaXN0aW5nQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjY0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRBZG1pbkN0cmwuJGluamVjdCA9IFtcIkFkbWluU2VydmljZVwiLCBcIlNlc3Npb25zU2VydmljZVwiLCBcIkRldmljZXNTZXJ2aWNlXCIsIFwiJHJvb3RTY29wZVwiLCBcIlRvYXN0c1NlcnZpY2VcIiwgXCIkc3RhdGVcIiwgXCIkbWREaWFsb2dcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkFkbWluQ3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTMpO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcjIpO1xuXHRcblx0dmFyIF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2Mik7XG5cdFxuXHR2YXIgX2phdmFzY3JpcHROYXR1cmFsU29ydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIEFkbWluQ3RybChBZG1pblNlcnZpY2UsIFNlc3Npb25zU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsICRyb290U2NvcGUsIFRvYXN0c1NlcnZpY2UsICRzdGF0ZSwgJG1kRGlhbG9nLCBUZW5hbnRzU2VydmljZSwgRGlzdHJpYnV0b3JzU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5wYXVsc0N1cnJlbnREaXN0cmlidXRvck5hbWUgPSAkcm9vdFNjb3BlLnBhdWxzQ3VycmVudERpc3RyaWJ1dG9yTmFtZTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gRGV2aWNlIFNlYXJjaCBWYXJpYWJsZXNcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiU2VyaWFsIE51bWJlclwiO1xuXHQgIHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID0gXCJNYW5hZ2VkXCI7XG5cdCAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgdm0uZ2NtaWREZXZpY2VzID0ge307XG5cdCAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIFRlbmFudCBTZWFyY2ggVmFyaWFibGVzXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgdm0uc2VhcmNoZWRUZW5hbnRzID0gW107XG5cdCAgdm0udGVuYW50U2VhcmNoTWF0Y2ggPSBudWxsO1xuXHQgIHZtLnRlbmFudFNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gRGV2aWNlIFNlYXJjaFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZtLmNvbnRyb2xPcGVuQnV0dG9uID0gZnVuY3Rpb24gKGlzTWF0Y2gpIHtcblx0ICAgIHZtLmRpc2FibGVkID0gIWlzTWF0Y2g7XG5cdCAgICByZXR1cm4gdm0ubG9hZGluZ0Rpc2FibGVkID0gZmFsc2U7XG5cdCAgfTtcblx0XG5cdCAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNSZXNvdXJjZVZhbGlkID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG5cdCAgICB2YXIgZm91bmRNYXRjaCA9IGZhbHNlO1xuXHQgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHQgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdCAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkodm0uZGV2aWNlc1RvTWF0Y2hPbiksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcblx0ICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlO1xuXHRcblx0ICAgICAgICBpZiAocmVzb3VyY2UgPT09IGl0ZW0pIHtcblx0ICAgICAgICAgIGZvdW5kTWF0Y2ggPSB0cnVlO1xuXHQgICAgICAgICAgdm0ubWF0Y2hEZXZpY2UgPSBpdGVtO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcblx0ICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2bS5jb250cm9sT3BlbkJ1dHRvbihmb3VuZE1hdGNoKTtcblx0ICAgIHJldHVybiBmb3VuZE1hdGNoO1xuXHQgIH07XG5cdFxuXHQgIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBwYXJ0aWFsKSB7XG5cdCAgICB2YXIgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG5cdCAgICB2YXIgYnlUZW5hbnQgPSBmYWxzZTtcblx0ICAgIHZhciB0ZW5hbnRLZXkgPSBudWxsO1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yID0gbnVsbDtcblx0ICAgIHZhciBnbG9iYWxseSA9IHRydWU7XG5cdFxuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnNlYXJjaERldmljZXMocGFydGlhbCwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCBkaXN0cmlidXRvciwgdW5tYW5hZ2VkLCBnbG9iYWxseSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdmFyIGRldmljZXNUb1JldHVybiA9IHZvaWQgMDtcblx0ICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcblx0ICAgICAgICB2YXIgZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG5cdCAgICAgICAgaWYgKGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcblx0ICAgICAgICAgIHZtLnNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PT0gXCJNQUNcIikge1xuXHQgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBkZXZpY2VzVG9SZXR1cm47XG5cdFxuXHQgICAgICAgIHJldHVybiBkZXZpY2VzVG9SZXR1cm47XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBUZW5hbnQgU2VhcmNoXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdFxuXHQgIHZtLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUgPSBmdW5jdGlvbiAodGVuYW50X25hbWUpIHtcblx0ICAgIGlmICghdGVuYW50X25hbWUgfHwgdGVuYW50X25hbWUubGVuZ3RoIDwgMykge1xuXHQgICAgICByZXR1cm4gW107XG5cdCAgICB9XG5cdCAgICB2YXIgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUodGVuYW50X25hbWUsIHRydWUpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdm0uc2VhcmNoZWRUZW5hbnRzID0gcmVzcG9uc2U7XG5cdCAgICAgIGlmICh2bS5zZWFyY2hlZFRlbmFudHMpIHtcblx0ICAgICAgICByZXR1cm4gdm0uc2VhcmNoZWRUZW5hbnRzLm1hcChmdW5jdGlvbiAoaSkge1xuXHQgICAgICAgICAgcmV0dXJuIGkubmFtZTtcblx0ICAgICAgICB9KS5zb3J0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyLmRlZmF1bHQpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiVW5hYmxlIHRvIGZldGNoIHRlbmFudHMuIEVycm9yOiBcIiArIHJlc3BvbnNlLnN0YXR1cztcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNUZW5hbnRWYWxpZCA9IGZ1bmN0aW9uICh0ZW5hbnRfbmFtZSkge1xuXHQgICAgaWYgKCF0ZW5hbnRfbmFtZSB8fCB0ZW5hbnRfbmFtZS5sZW5ndGggPCAzKSB7XG5cdCAgICAgIHJldHVybiBbXTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbWF0Y2ggPSB2bS5zZWFyY2hlZFRlbmFudHM7XG5cdCAgICBpZiAobWF0Y2gpIHtcblx0ICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcblx0ICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuXHQgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkobWF0Y2gpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcblx0ICAgICAgICAgIHZhciBlYWNoTmFtZSA9IF9zdGVwMi52YWx1ZTtcblx0XG5cdCAgICAgICAgICBpZiAodGVuYW50X25hbWUgPT09IGVhY2hOYW1lLm5hbWUpIHtcblx0ICAgICAgICAgICAgdm0udGVuYW50U2VhcmNoRGlzYWJsZWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgdm0uc2VhcmNoTWF0Y2ggPSBlYWNoTmFtZTtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdm0udGVuYW50U2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcblx0ICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcblx0ICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuXHQgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2bS50ZW5hbnRTZWFyY2hEaXNhYmxlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gRGlzdHJpYnV0b3IgVGFiXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdFxuXHQgIHZtLmdldEFsbERpc3RyaWJ1dG9ycyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmxvYWRpbmdBbGxEaXN0cmlidXRvcnMgPSB0cnVlO1xuXHQgICAgdmFyIGdldEFsbERpc3RyaWJ1dG9yc1Byb21pc2UgPSBBZG1pblNlcnZpY2UuZ2V0QWxsRGlzdHJpYnV0b3JzKCk7XG5cdCAgICByZXR1cm4gZ2V0QWxsRGlzdHJpYnV0b3JzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmdBbGxEaXN0cmlidXRvcnMgPSBmYWxzZTtcblx0ICAgICAgcmV0dXJuIHZtLmFsbERpc3RyaWJ1dG9ycyA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5tYWtlRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoZXYsIGRpc3RyaWJ1dG9yTmFtZSwgYWRtaW5FbWFpbCwgZm9ybSkge1xuXHQgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSh7XG5cdCAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlPycsXG5cdCAgICAgIHRleHRDb250ZW50OiBcIklmIHlvdSBwcm9jZWVkLCBcIiArIGRpc3RyaWJ1dG9yTmFtZSArIFwiIHdpbGwgYmUgY3JlYXRlZC5cIixcblx0ICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuXHQgICAgICBhcmlhTGFiZWw6ICdMdWNreSBkYXknLFxuXHQgICAgICBvazogJ1llYWghJyxcblx0ICAgICAgY2FuY2VsOiAnRm9yZ2V0IGl0Lidcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgbWFrZURpc3RyaWJ1dG9yUHJvbWlzZSA9IEFkbWluU2VydmljZS5tYWtlRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JOYW1lLCBhZG1pbkVtYWlsKTtcblx0ICAgICAgbWFrZURpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgdm0uZGlzdHJpYnV0b3IgPSB7fTtcblx0ICAgICAgICBmb3JtLiRzZXRQcmlzdGluZSgpO1xuXHQgICAgICAgIGZvcm0uJHNldFVudG91Y2hlZCgpO1xuXHQgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChkYXRhLm1lc3NhZ2UpO1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHJldHVybiB2bS5hbGxEaXN0cmlidXRvcnMgPSB2bS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcblx0ICAgICAgICB9LCAyMDAwKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gbWFrZURpc3RyaWJ1dG9yUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGRhdGEuZGF0YS5tZXNzYWdlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBVc2VycyBUYWJcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgdm0uYWRkVXNlclRvRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoZXYsIHVzZXJFbWFpbCwgZGlzdHJpYnV0b3JBZG1pbiwgd2hpY2hEaXN0cmlidXRvciwgZm9ybSkge1xuXHQgICAgaWYgKCFkaXN0cmlidXRvckFkbWluKSB7XG5cdCAgICAgIGRpc3RyaWJ1dG9yQWRtaW4gPSBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHZhciB3aXRoT3JXaXRob3V0ID0gZGlzdHJpYnV0b3JBZG1pbiA/IFwid2l0aFwiIDogXCJ3aXRob3V0XCI7XG5cdFxuXHQgICAgLy8gbm8gb3B0aW9uIHRvIHNlbGVjdCBkaXN0cmlidXRvciBpcyBnaXZlbiB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIG9wdGlvblxuXHQgICAgaWYgKCF3aGljaERpc3RyaWJ1dG9yKSB7XG5cdCAgICAgIHdoaWNoRGlzdHJpYnV0b3IgPSB2bS5kaXN0cmlidXRvcnNBc0FkbWluWzBdO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oe1xuXHQgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLFxuXHQgICAgICB0ZXh0Q29udGVudDogdXNlckVtYWlsICsgXCIgd2lsbCBiZSBhZGRlZCB0byBcIiArIHdoaWNoRGlzdHJpYnV0b3IgKyBcIlxcbiAgICAgICAgXCIgKyB3aXRoT3JXaXRob3V0ICsgXCIgYWRtaW5pc3RyYXRvciBwcml2aWxlZ2VzXCIsXG5cdCAgICAgIHRhcmdldEV2ZW50OiBldixcblx0ICAgICAgb2s6ICdPZiBjb3Vyc2UhJyxcblx0ICAgICAgY2FuY2VsOiAnT29wcywgbmV2ZXJtaW5kLidcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZSA9IEFkbWluU2VydmljZS5hZGRVc2VyVG9EaXN0cmlidXRvcih1c2VyRW1haWwsIHdoaWNoRGlzdHJpYnV0b3IsIGRpc3RyaWJ1dG9yQWRtaW4pO1xuXHQgICAgICBhZGRVc2VyVG9EaXN0cmlidXRvclByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChkYXRhLm1lc3NhZ2UpO1xuXHQgICAgICAgIHZtLnVzZXIgPSB7fTtcblx0ICAgICAgICBmb3JtLiRzZXRQcmlzdGluZSgpO1xuXHQgICAgICAgIGZvcm0uJHNldFVudG91Y2hlZCgpO1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHJldHVybiB2bS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IoKTtcblx0ICAgICAgICB9LCAyMDAwKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoZGF0YS5kYXRhLm1lc3NhZ2UpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnN3aXRjaERpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGRpc3RyaWJ1dG9yKSB7XG5cdCAgICBEaXN0cmlidXRvcnNTZXJ2aWNlLnN3aXRjaERpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yKTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJEaXN0cmlidXRvciBcIiArIGRpc3RyaWJ1dG9yLm5hbWUgKyBcIiBzZWxlY3RlZCFcIik7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0ubG9hZGluZ1VzZXJzT2ZEaXN0cmlidXRvciA9IHRydWU7XG5cdCAgICB2YXIgY3VycmVudERpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuXHQgICAgdmFyIHVzZXJzb2ZEaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UuZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKGN1cnJlbnREaXN0cmlidXRvcktleSk7XG5cdCAgICByZXR1cm4gdXNlcnNvZkRpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmdVc2Vyc09mRGlzdHJpYnV0b3IgPSBmYWxzZTtcblx0ICAgICAgcmV0dXJuIHZtLnVzZXJzT2ZEaXN0cmlidXRvciA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKCk7XG5cdCAgICB2bS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcblx0ICAgIHZtLmlzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0SXNBZG1pbigpO1xuXHQgICAgdm0uZGlzdHJpYnV0b3JzQXNBZG1pbiA9IFNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCk7XG5cdCAgICB2bS5jdXJyZW50RGlzdHJpYnV0b3JOYW1lID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKTtcblx0XG5cdCAgICBpZiAodm0uaXNBZG1pbikge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0QWxsRGlzdHJpYnV0b3JzKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uZWRpdFRlbmFudCA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywgeyB0ZW5hbnRLZXk6IGl0ZW0ua2V5IH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIHZhciBtYWMgPSB2b2lkIDAsXG5cdCAgICAgICAgc2VyaWFsID0gdm9pZCAwLFxuXHQgICAgICAgIGdjbWlkID0gdm9pZCAwO1xuXHQgICAgdmFyIGJ1dHRvbiA9IHZtLnNlbGVjdGVkQnV0dG9uO1xuXHRcblx0ICAgIG1hYyA9IGJ1dHRvbiA9PT0gXCJNQUNcIjtcblx0ICAgIHNlcmlhbCA9IGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG5cdCAgICBnY21pZCA9IGJ1dHRvbiA9PT0gXCJHQ00gSURcIjtcblx0XG5cdCAgICBpZiAobWFjKSB7XG5cdCAgICAgIERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKHZtLm1hY0RldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgfSBlbHNlIGlmIChzZXJpYWwpIHtcblx0ICAgICAgRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0odm0uc2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBEZXZpY2VzU2VydmljZS5lZGl0SXRlbSh2bS5nY21pZERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5BZG1pbkN0cmwgPSBBZG1pbkN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY2NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdEF1dGhlbnRpY2F0aW9uQ3RybC4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGxvZ1wiLCBcIiRzdGF0ZVwiLCBcIiR0aW1lb3V0XCIsIFwiaWRlbnRpdHlcIiwgXCJzd2VldFwiLCBcIlNlc3Npb25zU2VydmljZVwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIlByb29mUGxheVNlcnZpY2VcIiwgXCJEZXZpY2VzU2VydmljZVwiLCBcIlRlbmFudHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gQXV0aGVudGljYXRpb25DdHJsKCRzY29wZSwgJGxvZywgJHN0YXRlLCAkdGltZW91dCwgaWRlbnRpdHksIHN3ZWV0LCBTZXNzaW9uc1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgUHJvb2ZQbGF5U2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIFRlbmFudHNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHRcblx0ICB2bS5vbkdvb2dsZVBsdXNTaWduSW5TdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50LCBhdXRoUmVzdWx0KSB7XG5cdCAgICBpZiAoIXZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgfVxuXHQgICAgU2Vzc2lvbnNTZXJ2aWNlLnJlbW92ZVVzZXJJbmZvKCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IFNlc3Npb25zU2VydmljZS5sb2dpbihhdXRoUmVzdWx0KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ubG9naW5TdWNjZXNzLCB2bS5sb2dpbkZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uR29vZ2xlUGx1c1NpZ25JbkZhaWx1cmUgPSBmdW5jdGlvbiAoZXZlbnQsIGF1dGhSZXN1bHQpIHtcblx0ICAgIGlmICh2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCkge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIGF1dGhlbnRpY2F0ZSB0byBHb29nbGUrLicsICdlcnJvcicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgICRzY29wZS4kb24oJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1zdWNjZXNzJywgdm0ub25Hb29nbGVQbHVzU2lnbkluU3VjY2Vzcyk7XG5cdCAgJHNjb3BlLiRvbignZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLWZhaWx1cmUnLCB2bS5vbkdvb2dsZVBsdXNTaWduSW5GYWlsdXJlKTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZVNpZ25JbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmNsaWVudElkID0gaWRlbnRpdHkuT0FVVEhfQ0xJRU5UX0lEO1xuXHQgICAgdm0uc3RhdGUgPSBpZGVudGl0eS5TVEFURTtcblx0ICAgIHJldHVybiB2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCA9IGZhbHNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemVTaWduT3V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgU2Vzc2lvbnNTZXJ2aWNlLnJlbW92ZVVzZXJJbmZvKCk7XG5cdCAgICByZXR1cm4gJHRpbWVvdXQodm0ucHJvY2VlZFRvU2lnbmVkT3V0LCA1MCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ubG9naW5TdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmxvZ2luRmFpbHVyZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIGF1dGhlbnRpY2F0ZSB0byBTdG9ybXBhdGguJywgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucHJvY2VlZFRvU2lnbmVkT3V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnc2lnbmVkX291dCcpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnByb2NlZWRUb1NpZ25JbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ3NpZ25faW4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNsaWNrR29vZ2xlUGx1c1NpZ25JbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkID0gdHJ1ZTtcblx0ICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuQXV0aGVudGljYXRpb25DdHJsID0gQXV0aGVudGljYXRpb25DdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NjY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRBcHBDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkbWRTaWRlbmF2XCIsIFwiJHN0YXRlXCIsIFwiJHJvb3RTY29wZVwiLCBcIiR3aW5kb3dcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkFwcENvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2xvZGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oNjY3KTtcblx0XG5cdHZhciBfbG9kYXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZGFzaCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gQXBwQ29udHJvbGxlcigkbWRTaWRlbmF2LCAkc3RhdGUsICRyb290U2NvcGUsICR3aW5kb3csIFNlc3Npb25zU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICAkcm9vdFNjb3BlLnBhdWxzQ3VycmVudERpc3RyaWJ1dG9yTmFtZSA9ICdNYW5hZ2luZyBPcmdhbml6YXRpb24nO1xuXHRcblx0ICB2bS5jdXJyZW50RGlzdHJpYnV0ZXJJbkRpc3RyaWJ1dGVyQWRtaW5MaXN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGN1cnJlbnREaXN0cmlidXRvck5hbWUgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpO1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yc0FzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuXHQgICAgcmV0dXJuICgwLCBfbG9kYXNoMi5kZWZhdWx0KShkaXN0cmlidXRvcnNBc0FkbWluLCBjdXJyZW50RGlzdHJpYnV0b3JOYW1lKTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRJZGVudGl0eSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGtleTogU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSxcblx0ICAgICAgZW1haWw6IFNlc3Npb25zU2VydmljZS5nZXRVc2VyRW1haWwoKSxcblx0ICAgICAgYWRtaW46IFNlc3Npb25zU2VydmljZS5nZXRJc0FkbWluKCksXG5cdCAgICAgIGRpc3RyaWJ1dG9yX2FkbWluOiBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpLFxuXHQgICAgICBhZG1pbl9vZl9jdXJyZW50X2Rpc3RyaWJ1dG9yOiB2bS5jdXJyZW50RGlzdHJpYnV0ZXJJbkRpc3RyaWJ1dGVyQWRtaW5MaXN0KCksXG5cdCAgICAgIGRpc3RyaWJ1dG9yS2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksXG5cdCAgICAgIGRpc3RyaWJ1dG9yTmFtZTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKVxuXHQgICAgfTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0N1cnJlbnRVUkxEaXN0cmlidXRvclNlbGVjdG9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHRlc3QgPSAkd2luZG93LmxvY2F0aW9uLmhyZWYuc2VhcmNoKC9kaXN0cmlidXRvcl9zZWxlY3Rpb24vKTtcblx0ICAgIHZhciByZXN1bHQgPSB0ZXN0ID49IDA7XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdm0uZ2V0SWRlbnRpdHkoKTtcblx0ICB9O1xuXHRcblx0ICB2bS50b2dnbGVTaWRlbmF2ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5nb1RvID0gZnVuY3Rpb24gKHN0YXRlTmFtZSwgaWQpIHtcblx0ICAgICRzdGF0ZS5nbyhzdGF0ZU5hbWUsIHsgaWQ6IGlkIH0pO1xuXHQgICAgaWYgKCRtZFNpZGVuYXYoJ2xlZnQnKS5pc09wZW4oKSkge1xuXHQgICAgICByZXR1cm4gJG1kU2lkZW5hdignbGVmdCcpLmNsb3NlKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSgpO1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuQXBwQ29udHJvbGxlciA9IEFwcENvbnRyb2xsZXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY4OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0RGlzdHJpYnV0b3JTZWxlY3RvckN0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVwiLCBcIiRyb290U2NvcGVcIiwgXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwoJHN0YXRlLCAkcm9vdFNjb3BlLCBEaXN0cmlidXRvcnNTZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ucGF1bHNDdXJyZW50RGlzdHJpYnV0b3JOYW1lID0gJHJvb3RTY29wZS5wYXVsc0N1cnJlbnREaXN0cmlidXRvck5hbWU7XG5cdFxuXHQgIHZtLmRpc3RyaWJ1dG9ycyA9IFtdO1xuXHQgIHZtLmN1cnJlbnREaXN0cmlidXRvciA9IHVuZGVmaW5lZDtcblx0ICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmxvZWFkaW5nID0gdHJ1ZTtcblx0ICAgIHZhciBkaXN0cmlidXRvcnNQcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5mZXRjaEFsbEJ5VXNlcihTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpKTtcblx0ICAgIHJldHVybiBkaXN0cmlidXRvcnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0uZGlzdHJpYnV0b3JzID0gZGF0YTtcblx0ICAgICAgaWYgKHZtLmRpc3RyaWJ1dG9ycy5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgICByZXR1cm4gdm0uc2VsZWN0RGlzdHJpYnV0b3Iodm0uZGlzdHJpYnV0b3JzWzBdKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0ubG9hZGluZyA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5zZWxlY3REaXN0cmlidXRvciA9IGZ1bmN0aW9uIChkaXN0cmlidXRvcikge1xuXHQgICAgcmV0dXJuIERpc3RyaWJ1dG9yc1NlcnZpY2Uuc3dpdGNoRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5EaXN0cmlidXRvclNlbGVjdG9yQ3RybCA9IERpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERpc3RyaWJ1dG9yc0N0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIERpc3RyaWJ1dG9yc0N0cmwoJHN0YXRlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmRpc3RyaWJ1dG9ycyA9IFtdO1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuRGlzdHJpYnV0b3JzQ3RybCA9IERpc3RyaWJ1dG9yc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0RG9tYWluc0N0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVwiLCBcIkRvbWFpbnNTZXJ2aWNlXCIsIFwic3dlZXRcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBEb21haW5zQ3RybCgkc3RhdGUsIERvbWFpbnNTZXJ2aWNlLCBzd2VldCkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5kb21haW5zID0gW107XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmZldGNoQWxsRG9tYWlucygpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0uZG9tYWlucyA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdlZGl0RG9tYWluJywgeyBkb21haW5LZXk6IGl0ZW0ua2V5IH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmRlbGV0ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZGVsZXRlKGl0ZW0pO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdyh7XG5cdCAgICAgIHRpdGxlOiBcIkFyZSB5b3Ugc3VyZT9cIixcblx0ICAgICAgdGV4dDogXCJUaGlzIHdpbGwgcGVybWFuZW50bHkgcmVtb3ZlIHRoZSBkb21haW4gZnJvbSB0aGUgZGlzdHJpYnV0b3IgYW5kIGRpc2Nvbm5lY3QgZnJvbSB0ZW5hbnRzLlwiLFxuXHQgICAgICB0eXBlOiBcIndhcm5pbmdcIixcblx0ICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcblx0ICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcIiNERDZCNTVcIixcblx0ICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwiWWVzLCByZW1vdmUgdGhlIGRvbWFpbiFcIixcblx0ICAgICAgY2xvc2VPbkNvbmZpcm06IHRydWVcblx0ICAgIH0sIGNhbGxiYWNrKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuRG9tYWluc0N0cmwgPSBEb21haW5zQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjkyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0RG9tYWluRGV0YWlsc0N0cmwuJGluamVjdCA9IFtcIiRsb2dcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCJEb21haW5zU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcInN3ZWV0XCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiVG9hc3RzU2VydmljZVwiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIERvbWFpbkRldGFpbHNDdHJsKCRsb2csICRzdGF0ZVBhcmFtcywgRG9tYWluc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmN1cnJlbnREb21haW4gPSB7XG5cdCAgICBrZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5hbWU6IHVuZGVmaW5lZCxcblx0ICAgIGltcGVyc29uYXRpb25fYWRtaW5fZW1haWxfYWRkcmVzczogdW5kZWZpbmVkLFxuXHQgICAgZGlzdHJpYnV0b3Jfa2V5OiB1bmRlZmluZWQsXG5cdCAgICBvcmdhbml6YXRpb25fdW5pdF9wYXRoOiAnL3NreWtpdCcsXG5cdCAgICBhY3RpdmU6IHRydWVcblx0ICB9O1xuXHQgIHZtLmRldmljZXNBY2Nlc3MgPSBmYWxzZTtcblx0ICB2bS5vcmdVbml0c0FjY2VzcyA9IGZhbHNlO1xuXHQgIHZtLnVzZXJzQWNjZXNzID0gZmFsc2U7XG5cdCAgdm0uY3VycmVudERvbWFpbnMgPSBbXTtcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLmRvbWFpbktleTtcblx0XG5cdCAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICB2YXIgZG9tYWluUHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmdldERvbWFpbkJ5S2V5KCRzdGF0ZVBhcmFtcy5kb21haW5LZXkpO1xuXHQgICAgZG9tYWluUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50RG9tYWluID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICB2bS5jdXJyZW50RG9tYWluLmRpc3RyaWJ1dG9yX2tleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcblx0ICB9XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uZWRpdE1vZGUpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICAgIHZhciBjb25uZWN0aXZpdHlQcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZ2V0RGlyZWN0b3J5QXBpQ29ubmVjdGl2aXR5SW5mb3JtYXRpb24oJHN0YXRlUGFyYW1zLmRvbWFpbktleSk7XG5cdCAgICAgIHJldHVybiBjb25uZWN0aXZpdHlQcm9taXNlLnRoZW4odm0ub25TdWNjZXNzRGV0ZXJtaW5pbmdDb25uZWN0aXZpdHksIHZtLm9uRmFpbHVyZURldGVybWluaW5nQ29ubmVjdGl2aXR5KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NEZXRlcm1pbmluZ0Nvbm5lY3Rpdml0eSA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICB2bS5kZXZpY2VzQWNjZXNzID0gZGF0YS5kZXZpY2VzQWNjZXNzO1xuXHQgICAgdm0ub3JnVW5pdHNBY2Nlc3MgPSBkYXRhLm9yZ1VuaXRzQWNjZXNzO1xuXHQgICAgdm0udXNlcnNBY2Nlc3MgPSBkYXRhLnVzZXJzQWNjZXNzO1xuXHQgICAgdm0uZGV2aWNlc0FjY2Vzc0V4Y2VwdGlvbiA9IGRhdGEuZGV2aWNlc0FjY2Vzc0V4Y2VwdGlvbjtcblx0ICAgIHZtLm9yZ1VuaXRzQWNjZXNzRXhjZXB0aW9uID0gZGF0YS5vcmdVbml0c0FjY2Vzc0V4Y2VwdGlvbjtcblx0ICAgIHZtLnVzZXJzQWNjZXNzRXhjZXB0aW9uID0gZGF0YS51c2Vyc0FjY2Vzc0V4Y2VwdGlvbjtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRmFpbHVyZURldGVybWluaW5nQ29ubmVjdGl2aXR5ID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoJ0ZhaWx1cmUgZGV0ZXJtaW5pbmcgZGlyZWN0b3J5IEFQSSBjb25uZWN0aXZpdHk6ICcgKyBlcnJvci5zdGF0dXMgKyAnICcgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSBkZXRlcm1pbmUgeW91ciBkZXZpY2UgY29ubmVjdGl2aXR5IGF0IHRoaXMgdGltZS4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblNhdmVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gRG9tYWluc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RG9tYWluKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzU2F2ZURvbWFpbiwgdm0ub25GYWlsdXJlU2F2ZURvbWFpbik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzU2F2ZURvbWFpbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25GYWlsdXJlU2F2ZURvbWFpbiA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDkpIHtcblx0ICAgICAgJGxvZy5pbmZvKCdGYWlsdXJlIHNhdmluZyBkb21haW4uIERvbWFpbiBhbHJlYWR5IGV4aXN0czogJyArIGVycm9yLnN0YXR1cyArICcgJyArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUaGlzIGRvbWFpbiBuYW1lIGFscmVhZHkgZXhpc3QuIFBsZWFzZSBlbnRlciBhIHVuaXF1ZSBkb21haW4gbmFtZS4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICRsb2cuZXJyb3IoJ0ZhaWx1cmUgc2F2aW5nIGRvbWFpbjogJyArIGVycm9yLnN0YXR1cyArICcgJyArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gc2F2ZSB5b3VyIHVwZGF0ZXMgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2VkaXREb21haW4nLCB7IGRvbWFpbktleTogaXRlbS5rZXkgfSk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRvbWFpbkRldGFpbHNDdHJsID0gRG9tYWluRGV0YWlsc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwuJGluamVjdCA9IFtcIlByb29mUGxheVNlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5MSk7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuXHQgICAgZ3JvdXAxOiAnQnkgRGV2aWNlJyxcblx0ICAgIGdyb3VwMjogJ1N1bW1hcml6ZWQnLFxuXHQgICAgc2VsZWN0aW9uOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG5cdCAgICBzdGFydDogbnVsbCxcblx0ICAgIGVuZDogbnVsbFxuXHQgIH07XG5cdFxuXHQgIHZtLmZvcm1WYWxpZGl0eSA9IHtcblx0ICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuXHQgICAgZW5kX2RhdGU6IGZhbHNlLFxuXHQgICAgbG9jYXRpb25zOiBmYWxzZVxuXHQgIH07XG5cdFxuXHQgIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG5cdCAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zID0gW107XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxMb2NhdGlvbnModm0udGVuYW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgdm0ubG9jYXRpb25zID0gZGF0YS5kYXRhLmxvY2F0aW9ucztcblx0ICAgICAgaWYgKHZtLmxvY2F0aW9ucy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaExvY2F0aW9ucyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuXHQgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMgPSBbXTtcblx0ICAgIHZtLmluaXRpYWxpemUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5hZGRUb1NlbGVjdGVkTG9jYXRpb25zID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIGlmICh2bS5pc0xvY2F0aW9uVmFsaWQoc2VhcmNoVGV4dCkpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zLnB1c2goc2VhcmNoVGV4dCk7XG5cdCAgICAgIHZhciBpbmRleCA9IHZtLmxvY2F0aW9ucy5pbmRleE9mKHNlYXJjaFRleHQpO1xuXHQgICAgICB2bS5sb2NhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgfVxuXHQgICAgdm0uYXJlTG9jYXRpb25zVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucXVlcnlTZWFyY2ggPSBmdW5jdGlvbiAobG9jYXRpb25zLCBzZWFyY2hUZXh0KSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChsb2NhdGlvbnMsIHNlYXJjaFRleHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0xvY2F0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5sb2NhdGlvbnMpKSB7XG5cdCAgICAgIGlmICghX19pbl9fKHNlYXJjaFRleHQsIHZtLnNlbGVjdGVkX2xvY2F0aW9ucykpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5hcmVMb2NhdGlvbnNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5sb2NhdGlvbnMgPSB2bS5zZWxlY3RlZF9sb2NhdGlvbnMubGVuZ3RoID4gMDtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gZW5kX2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWRMb2NhdGlvbiA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICB2YXIgaW5kZXggPSB2bS5zZWxlY3RlZF9sb2NhdGlvbnMuaW5kZXhPZihpdGVtKTtcblx0ICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgdm0ubG9jYXRpb25zLnB1c2goaXRlbSk7XG5cdCAgICB2bS5hcmVMb2NhdGlvbnNWYWxpZCgpO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0Rpc2FibGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkubG9jYXRpb25zICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG5cdCAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgIHJldHVybiB2bS5maW5hbCA9IHtcblx0ICAgICAgICBzdGFydF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuXHQgICAgICAgIGVuZF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcblx0ICAgICAgICBsb2NhdGlvbnM6IHZtLnNlbGVjdGVkX2xvY2F0aW9ucyxcblx0ICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG5cdFxuXHQgICAgICB9O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uZmluYWwudHlwZSA9PT0gXCIxXCIpIHtcblx0ICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwubG9jYXRpb25zLCB2bS50ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5sb2NhdGlvbnMsIHZtLnRlbmFudCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0udGVuYW50cyA9IG51bGw7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG5cdCAgICAgICRzdGF0ZS5nbygncHJvb2ZEZXRhaWwnLCB7XG5cdCAgICAgICAgdGVuYW50OiB0ZW5hbnRcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJyArIHRlbmFudCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgaXMgYWxyZWFkeSBzZXQgdG8gJyArIHRlbmFudCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcblx0ICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG5cdH1cblx0XG5cdGV4cG9ydHMuUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybCA9IFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybC4kaW5qZWN0ID0gW1wiUHJvb2ZQbGF5U2VydmljZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIiRzdGF0ZVwiLCBcIlRvYXN0c1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OTEpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdFxuXHQgIHZtLnJhZGlvQnV0dG9uQ2hvaWNlcyA9IHtcblx0ICAgIGdyb3VwMTogJ0J5IERhdGUnLFxuXHQgICAgZ3JvdXAyOiAnU3VtbWFyaXplZCcsXG5cdCAgICBzZWxlY3Rpb246IG51bGxcblx0ICB9O1xuXHRcblx0ICB2bS5kYXRlVGltZVNlbGVjdGlvbiA9IHtcblx0ICAgIHN0YXJ0OiBudWxsLFxuXHQgICAgZW5kOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZm9ybVZhbGlkaXR5ID0ge1xuXHQgICAgc3RhcnRfZGF0ZTogZmFsc2UsXG5cdCAgICBlbmRfZGF0ZTogZmFsc2UsXG5cdCAgICBkaXNwbGF5czogZmFsc2Vcblx0ICB9O1xuXHRcblx0ICB2bS50ZW5hbnQgPSAkc3RhdGVQYXJhbXMudGVuYW50O1xuXHQgIHZtLm5vX2NhY2hlID0gdHJ1ZTtcblx0ICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuXHQgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzID0gW107XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxEaXNwbGF5cyh2bS50ZW5hbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuXHQgICAgICB2bS5kaXNwbGF5cyA9IGRhdGEuZGF0YS5kZXZpY2VzO1xuXHQgICAgICBpZiAodm0uZGlzcGxheXMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJlZnJlc2hEaXNwbGF5cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuXHQgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZWxlY3RlZF9kaXNwbGF5cyA9IFtdO1xuXHQgICAgdm0uaW5pdGlhbGl6ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmFkZFRvU2VsZWN0ZWREaXNwbGF5cyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAodm0uaXNEaXNwbGF5VmFsaWQoc2VhcmNoVGV4dCkpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRfZGlzcGxheXMucHVzaChzZWFyY2hUZXh0KTtcblx0ICAgICAgdmFyIGluZGV4ID0gdm0uZGlzcGxheXMuaW5kZXhPZihzZWFyY2hUZXh0KTtcblx0ICAgICAgdm0uZGlzcGxheXMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgfVxuXHQgICAgdm0uYXJlRGlzcGxheXNWYWxpZCgpO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5xdWVyeVNlYXJjaCA9IGZ1bmN0aW9uIChkaXNwbGF5cywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2goZGlzcGxheXMsIHNlYXJjaFRleHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0Rpc3BsYXlWYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAoX19pbl9fKHNlYXJjaFRleHQsIHZtLmRpc3BsYXlzKSkge1xuXHQgICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9kaXNwbGF5cykpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5hcmVEaXNwbGF5c1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmRpc3BsYXlzID0gdm0uc2VsZWN0ZWRfZGlzcGxheXMubGVuZ3RoID4gMDtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gZW5kX2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWREaXNwbGF5ID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHZhciBpbmRleCA9IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLmluZGV4T2YoaXRlbSk7XG5cdCAgICB2bS5zZWxlY3RlZF9kaXNwbGF5cy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgdm0uZGlzcGxheXMucHVzaChpdGVtKTtcblx0ICAgIHZtLmFyZURpc3BsYXlzVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmRpc3BsYXlzICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG5cdCAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgIHJldHVybiB2bS5maW5hbCA9IHtcblx0ICAgICAgICBzdGFydF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuXHQgICAgICAgIGVuZF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcblx0ICAgICAgICBkaXNwbGF5czogdm0uc2VsZWN0ZWRfZGlzcGxheXMsXG5cdCAgICAgICAgdHlwZTogdm0ucmFkaW9CdXR0b25DaG9pY2VzLnNlbGVjdGlvblxuXHRcblx0ICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG5cdCAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzQnlEYXRlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwuZGlzcGxheXMsIHZtLnRlbmFudCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5kaXNwbGF5cywgdm0udGVuYW50KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS50ZW5hbnRzID0gbnVsbDtcblx0ICB2bS5jdXJyZW50VGVuYW50ID0gdm0udGVuYW50O1xuXHRcblx0ICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgaWYgKHRlbmFudCAhPT0gdm0uY3VycmVudFRlbmFudCkge1xuXHQgICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuXHQgICAgICAgIHRlbmFudDogdGVuYW50XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuXHQgIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSkgPj0gMDtcblx0fVxuXHRcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwgPSBQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwuJGluamVjdCA9IFtcIlByb29mUGxheVNlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5MSk7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuXHQgICAgZ3JvdXAxOiAnQnkgRGV2aWNlJyxcblx0ICAgIGdyb3VwMjogJ0J5IERhdGUnLFxuXHQgICAgc2VsZWN0aW9uOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG5cdCAgICBzdGFydDogbnVsbCxcblx0ICAgIGVuZDogbnVsbFxuXHQgIH07XG5cdFxuXHQgIHZtLmZvcm1WYWxpZGl0eSA9IHtcblx0ICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuXHQgICAgZW5kX2RhdGU6IGZhbHNlLFxuXHQgICAgcmVzb3VyY2VzOiBmYWxzZVxuXHQgIH07XG5cdFxuXHQgIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG5cdCAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzID0gW107XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxSZXNvdXJjZXModm0udGVuYW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgdm0uZnVsbF9yZXNvdXJjZV9tYXAgPSBkYXRhLmRhdGEucmVzb3VyY2VzO1xuXHQgICAgICB2bS5yZXNvdXJjZXMgPSBbXTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmRhdGEucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHJlc291cmNlID0gZGF0YS5kYXRhLnJlc291cmNlc1tpXTtcblx0ICAgICAgICB2bS5yZXNvdXJjZXMucHVzaChyZXNvdXJjZS5yZXNvdXJjZV9uYW1lKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHZtLnJlc291cmNlcy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaFJlc291cmNlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuXHQgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZWxlY3RlZF9yZXNvdXJjZXMgPSBbXTtcblx0ICAgIHZtLmluaXRpYWxpemUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5hZGRUb1NlbGVjdGVkUmVzb3VyY2VzID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIGlmICh2bS5pc1Jlc291cmNlVmFsaWQoc2VhcmNoVGV4dCkpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLnB1c2goc2VhcmNoVGV4dCk7XG5cdCAgICAgIHZhciBpbmRleCA9IHZtLnJlc291cmNlcy5pbmRleE9mKHNlYXJjaFRleHQpO1xuXHQgICAgICB2bS5yZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgfVxuXHQgICAgdm0uYXJlUmVzb3VyY2VzVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucXVlcnlTZWFyY2ggPSBmdW5jdGlvbiAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5yZXNvdXJjZXMpKSB7XG5cdCAgICAgIGlmICghX19pbl9fKHNlYXJjaFRleHQsIHZtLnNlbGVjdGVkX3Jlc291cmNlcykpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5hcmVSZXNvdXJjZXNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5yZXNvdXJjZXMgPSB2bS5zZWxlY3RlZF9yZXNvdXJjZXMubGVuZ3RoID4gMDtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gZW5kX2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWRSZXNvdXJjZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICB2YXIgaW5kZXggPSB2bS5zZWxlY3RlZF9yZXNvdXJjZXMuaW5kZXhPZihpdGVtKTtcblx0ICAgIHZtLnNlbGVjdGVkX3Jlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgdm0ucmVzb3VyY2VzLnB1c2goaXRlbSk7XG5cdCAgICB2bS5hcmVSZXNvdXJjZXNWYWxpZCgpO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0Rpc2FibGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkucmVzb3VyY2VzICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG5cdCAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgIHJldHVybiB2bS5maW5hbCA9IHtcblx0ICAgICAgICBzdGFydF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuXHQgICAgICAgIGVuZF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcblx0ICAgICAgICByZXNvdXJjZXM6IHZtLnNlbGVjdGVkX3Jlc291cmNlcyxcblx0ICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG5cdCAgICAgIH07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciByZXNvdXJjZXNfYXNfaWRzID0gW107XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLmZpbmFsLnJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgaXRlbSA9IHZtLmZpbmFsLnJlc291cmNlc1tpXTtcblx0ICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2bS5mdWxsX3Jlc291cmNlX21hcC5sZW5ndGg7IGorKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gdm0uZnVsbF9yZXNvdXJjZV9tYXBbal07XG5cdCAgICAgICAgaWYgKGVhY2hbXCJyZXNvdXJjZV9uYW1lXCJdID09PSBpdGVtKSB7XG5cdCAgICAgICAgICByZXNvdXJjZXNfYXNfaWRzLnB1c2goZWFjaFtcInJlc291cmNlX2lkZW50aWZpZXJcIl0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuXHQgICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEZXZpY2Uodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCByZXNvdXJjZXNfYXNfaWRzLCB2bS50ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHJlc291cmNlc19hc19pZHMsIHZtLnRlbmFudCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0udGVuYW50cyA9IG51bGw7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG5cdCAgICAgICRzdGF0ZS5nbygncHJvb2ZEZXRhaWwnLCB7XG5cdCAgICAgICAgdGVuYW50OiB0ZW5hbnRcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIHNldCB0byAnICsgdGVuYW50KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBpcyBhbHJlYWR5IHNldCB0byAnICsgdGVuYW50KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuXHQgIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSkgPj0gMDtcblx0fVxuXHRcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsID0gUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjk2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRQcm9vZk9mUGxheUN0cmwuJGluamVjdCA9IFtcIlByb29mUGxheVNlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gUHJvb2ZPZlBsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnJlc291cmNlID0geyB0aXRsZTogXCJSZXNvdXJjZSBSZXBvcnRcIiB9O1xuXHQgIHZtLmxvY2F0aW9uID0geyB0aXRsZTogXCJMb2NhdGlvbiBSZXBvcnRcIiB9O1xuXHQgIHZtLmRpc3BsYXkgPSB7IHRpdGxlOiBcIkRpc3BsYXkgUmVwb3J0XCIgfTtcblx0XG5cdCAgdm0uY2hvc2VuX3RlbmFudCA9IG51bGw7XG5cdCAgdm0udGVuYW50cyA9IG51bGw7XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICBpZiAodGVuYW50KSB7XG5cdCAgICAgIHZtLmNob3Nlbl90ZW5hbnQgPSB0ZW5hbnQ7XG5cdCAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuXHQgICAgICAgIHRlbmFudDogdm0uY2hvc2VuX3RlbmFudFxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5yZWZyZXNoVGVuYW50cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnRlbmFudHMgPSBudWxsO1xuXHQgICAgdmFyIHVybCA9IFByb29mUGxheVNlcnZpY2UubWFrZUhUVFBVUkwoXCIvcmV0cmlldmVfbXlfdGVuYW50c1wiLCAnJyk7XG5cdCAgICB2bS5pbml0aWFsaXplKCk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcblx0ICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG5cdH1cblx0XG5cdGV4cG9ydHMuUHJvb2ZPZlBsYXlDdHJsID0gUHJvb2ZPZlBsYXlDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oJCkgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OCk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk5KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSW1hZ2VTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIEltYWdlU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdCAgZnVuY3Rpb24gSW1hZ2VTZXJ2aWNlKFJlc3Rhbmd1bGFyLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgSW1hZ2VTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoSW1hZ2VTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnZ2V0SW1hZ2VzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbWFnZXModGVuYW50X3VybHNhZmVfa2V5KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnaW1hZ2UnLCAnL2ludGVybmFsL3YxL2ltYWdlL3RlbmFudC8nICsgdGVuYW50X3VybHNhZmVfa2V5KS5nZXRMaXN0KCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2F2ZUltYWdlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlSW1hZ2UodGVuYW50X3VybHNhZmVfa2V5LCBmb3JtRGF0YSkge1xuXHQgICAgICAvLyBqUXVlcnkgYWpheCB1c2VkIGhlcmUgaW5zdGVhZCBvZiBhbmd1bGFyIC8gUmVzdGFuZ3VsYXIgZHVlIHRvIGFuZ3VsYXIgYnVnIHdpdGggcG9zdGluZyBmb3JtIGRhdGFcblx0ICAgICAgcmV0dXJuICQuYWpheCh7XG5cdCAgICAgICAgdHlwZTogXCJQT1NUXCIsXG5cdCAgICAgICAgdXJsOiAnL2ludGVybmFsL3YxL2ltYWdlL3RlbmFudC8nICsgdGVuYW50X3VybHNhZmVfa2V5LFxuXHQgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxuXHQgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcblx0ICAgICAgICBjb250ZW50VHlwZTogZmFsc2Vcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGVsZXRlSW1hZ2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUltYWdlKGltYWdlX3VybHNhZmVfa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2ltYWdlJywgJy9pbnRlcm5hbC92MS9pbWFnZS8nICsgaW1hZ2VfdXJsc2FmZV9rZXkpLnJlbW92ZSgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEltYWdlU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSW1hZ2VTZXJ2aWNlO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg0MDYpKSlcblxuLyoqKi8gfSxcblxuLyoqKi8gNzAzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTgpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIEFkbWluU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBBZG1pblNlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIEFkbWluU2VydmljZShSZXN0YW5ndWxhcikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBBZG1pblNlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgICAgdGhpcy5VU0VSX1NFUlZJQ0UgPSBcInVzZXJzXCI7XG5cdCAgICB0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UgPSBcImRpc3RyaWJ1dG9yc1wiO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQWRtaW5TZXJ2aWNlLCBbe1xuXHQgICAga2V5OiBcIm1ha2VEaXN0cmlidXRvclwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VEaXN0cmlidXRvcihkaXN0cmlidXRvciwgYWRtaW5fZW1haWwpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgZGlzdHJpYnV0b3I6IGRpc3RyaWJ1dG9yLFxuXHQgICAgICAgIGFkbWluX2VtYWlsOiBhZG1pbl9lbWFpbFxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsICcvaW50ZXJuYWwvdjEvZGlzdHJpYnV0b3JzJykuY3VzdG9tUE9TVChwYXlsb2FkKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImFkZFVzZXJUb0Rpc3RyaWJ1dG9yXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWRkVXNlclRvRGlzdHJpYnV0b3IodXNlckVtYWlsLCBkaXN0cmlidXRvciwgZGlzdHJpYnV0b3JBZG1pbikge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICB1c2VyX2VtYWlsOiB1c2VyRW1haWwsXG5cdCAgICAgICAgZGlzdHJpYnV0b3I6IGRpc3RyaWJ1dG9yLFxuXHQgICAgICAgIGRpc3RyaWJ1dG9yX2FkbWluOiBkaXN0cmlidXRvckFkbWluXG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuVVNFUl9TRVJWSUNFLCBcIi9pbnRlcm5hbC92MS91c2Vyc1wiKS5jdXN0b21QT1NUKHBheWxvYWQpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBcIi9pbnRlcm5hbC92MS9hbmFseXRpY3MvZGlzdHJpYnV0b3JzL1wiICsgZGlzdHJpYnV0b3JLZXkgKyBcIi91c2Vyc1wiKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImdldEFsbERpc3RyaWJ1dG9yc1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbERpc3RyaWJ1dG9ycygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIFwiL2ludGVybmFsL3YxL2Rpc3RyaWJ1dG9yc1wiKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBBZG1pblNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEFkbWluU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTgpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIEF1dGhvcml6YXRpb25TZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIEF1dGhvcml6YXRpb25TZXJ2aWNlLiRpbmplY3QgPSBbXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCIkcVwiLCBcIiR3aW5kb3dcIl07XG5cdCAgZnVuY3Rpb24gQXV0aG9yaXphdGlvblNlcnZpY2UoU2Vzc2lvbnNTZXJ2aWNlLCAkcSwgJHdpbmRvdykge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBBdXRob3JpemF0aW9uU2VydmljZSk7XG5cdCAgICB0aGlzLiRxID0gJHE7XG5cdCAgICB0aGlzLiR3aW5kb3cgPSAkd2luZG93O1xuXHQgICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2U7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShBdXRob3JpemF0aW9uU2VydmljZSwgW3tcblx0ICAgIGtleTogXCJhdXRoZW50aWNhdGVkXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYXV0aGVudGljYXRlZCgpIHtcblx0ICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICB2YXIgdXNlcktleSA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKTtcblx0ICAgICAgdmFyIHVzZXJKV1QgPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRKV1QoKTtcblx0ICAgICAgaWYgKHVzZXJLZXkpIHtcblx0ICAgICAgICBpZiAodXNlcktleSAmJiB1c2VySldUKSB7XG5cdCAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0aGlzLlNlc3Npb25zU2VydmljZS5yZW1vdmVVc2VySW5mbygpO1xuXHQgICAgICAgICAgdGhpcy4kd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIiMvcmVkaXJlY3RcIjtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVqZWN0KFtcImF1dGhFcnJvclwiLCAnc2lnbl9pbiddKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwibm90QXV0aGVudGljYXRlZFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG5vdEF1dGhlbnRpY2F0ZWQoKSB7XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIHVzZXJLZXkgPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCk7XG5cdCAgICAgIGlmICghdXNlcktleSkge1xuXHQgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVqZWN0KFtcImF1dGhFcnJvclwiLCAnaG9tZSddKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiaXNBZG1pbk9yRGlzdHJpYnV0b3JBZG1pblwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4oKSB7XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIGFkbWluID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0SXNBZG1pbigpO1xuXHQgICAgICB2YXIgZGlzdHJpYnV0b3JBZG1pbiA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKTtcblx0ICAgICAgdmFyIGhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluID0gZmFsc2U7XG5cdCAgICAgIGlmIChkaXN0cmlidXRvckFkbWluICYmIGRpc3RyaWJ1dG9yQWRtaW4ubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIGhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgdXNlcktleSA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKTtcblx0ICAgICAgdmFyIHVzZXJKV1QgPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRKV1QoKTtcblx0ICAgICAgaWYgKHVzZXJLZXkpIHtcblx0ICAgICAgICBpZiAoIXVzZXJKV1QpIHtcblx0ICAgICAgICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLnJlbW92ZVVzZXJJbmZvKCk7XG5cdCAgICAgICAgICB0aGlzLiR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiIy9yZWRpcmVjdFwiO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCF1c2VyS2V5KSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVqZWN0KCdzaWduX2luJyk7XG5cdCAgICAgIH0gZWxzZSBpZiAoIWFkbWluICYmICFoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbikge1xuXHQgICAgICAgIGRlZmVycmVkLnJlamVjdChbXCJhdXRoRXJyb3JcIiwgJ2hvbWUnXSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBBdXRob3JpemF0aW9uU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk4KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTkpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDb21tYW5kc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgQ29tbWFuZHNTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblx0ICBmdW5jdGlvbiBDb21tYW5kc1NlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQ29tbWFuZHNTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuU0VSVklDRV9OQU1FID0gJ2RldmljZXMnO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQ29tbWFuZHNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAncGFuZWxTbGVlcCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcGFuZWxTbGVlcChrZXksIF9wYW5lbFNsZWVwKSB7XG5cdCAgICAgIC8qKiBwYW5lbFNsZWVwOiBib29sZWFuICoqL1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICBwYW5lbFNsZWVwOiBfcGFuZWxTbGVlcFxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2ludGVybmFsL3YxL2RldmljZXMvJyArIGtleSArICcvcGFuZWwtc2xlZXAnKS5jdXN0b21QVVQocGF5bG9hZCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Jlc2V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldChrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2ludGVybmFsL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvcmVzZXQnKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbnRlbnREZWxldGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnRlbnREZWxldGUoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdpbnRlcm5hbC92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL2NvbnRlbnQtZGVsZXRlJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb250ZW50VXBkYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb250ZW50VXBkYXRlKGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnaW50ZXJuYWwvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9jb250ZW50LXVwZGF0ZScpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAndXBkYXRlRGV2aWNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVEZXZpY2Uoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdpbnRlcm5hbC92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL3JlZnJlc2gtZGV2aWNlLXJlcHJlc2VudGF0aW9uJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICd0b2dnbGVEaWFnbm9zdGljcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlRGlhZ25vc3RpY3Moa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdpbnRlcm5hbC92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL2RpYWdub3N0aWNzJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZXN0YXJ0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZXN0YXJ0KGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnaW50ZXJuYWwvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9yZXN0YXJ0JykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdwb3N0TG9nJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwb3N0TG9nKGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnaW50ZXJuYWwvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9wb3N0LWxvZycpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncG93ZXJPbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcG93ZXJPbihrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2ludGVybmFsL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvcG93ZXItb24nKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Bvd2VyT2ZmJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwb3dlck9mZihrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2ludGVybmFsL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvcG93ZXItb2ZmJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICd2b2x1bWUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHZvbHVtZShrZXksIF92b2x1bWUpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgdm9sdW1lOiBfdm9sdW1lXG5cdCAgICAgIH07XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdpbnRlcm5hbC92MS9kZXZpY2VzLycgKyBrZXkpLmN1c3RvbVBPU1QocGF5bG9hZCwgJ2NvbW1hbmRzL3ZvbHVtZScpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjdXN0b20nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGN1c3RvbShrZXksIGNvbW1hbmQpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgY29tbWFuZDogY29tbWFuZFxuXHQgICAgICB9O1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnaW50ZXJuYWwvdjEvZGV2aWNlcy8nICsga2V5KS5jdXN0b21QT1NUKHBheWxvYWQsICdjb21tYW5kcy9jdXN0b20nKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBDb21tYW5kc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENvbW1hbmRzU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk4KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTkpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5MSk7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkoZGF0ZSkge1xuXHQgICAgICBpZiAoIV9tb21lbnQyLmRlZmF1bHQuaXNNb21lbnQoZGF0ZSkpIHtcblx0ICAgICAgICByZXR1cm4gKDAsIF9tb21lbnQyLmRlZmF1bHQpKG5ldyBEYXRlKGRhdGUpKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZGF0ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRm9ybWF0dGVkU3RhcnRBbmRFbmREYXRlRnJvbVRvZGF5KGRheXNCYWNrKSB7XG5cdCAgICAgIHZhciBzdGFydFRpbWUgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkoKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcblx0ICAgICAgdmFyIHN0YXJ0VGltZU1pZE5pZ2h0ID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHN0YXJ0VGltZSwgJ1lZWVktTU0tREQnKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW0gQScpO1xuXHQgICAgICB2YXIgc3RhcnRUaW1lRW5kT2ZEYXkgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkoc3RhcnRUaW1lTWlkTmlnaHQsICdZWVlZLU1NLUREIGhoOm1tIEEnKS5hZGQoMSwgJ2RheScpLnN1YnRyYWN0KDYwLCAnc2Vjb25kcycpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJyk7XG5cdFxuXHQgICAgICB2YXIgZW5kVGltZSA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSgpLnN1YnRyYWN0KGRheXNCYWNrLCAnZGF5cycpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuXHQgICAgICB2YXIgZW5kVGltZU1pZE5pZ2h0ID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKGVuZFRpbWUsICdZWVlZLU1NLUREJykuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tIEEnKTtcblx0XG5cdCAgICAgIHJldHVybiBbZW5kVGltZU1pZE5pZ2h0LCBzdGFydFRpbWVFbmRPZkRheV07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2VuZXJhdGVMb2NhbEZyb21VVEMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlTG9jYWxGcm9tVVRDKFVUQ1RpbWUpIHtcblx0ICAgICAgdmFyIGxvY2FsVGltZSA9IF9tb21lbnQyLmRlZmF1bHQudXRjKFVUQ1RpbWUpLnRvRGF0ZSgpO1xuXHQgICAgICByZXR1cm4gKDAsIF9tb21lbnQyLmRlZmF1bHQpKGxvY2FsVGltZSkuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tOnNzIEEnKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk4KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTkpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MDgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBEZXZpY2VzU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBEZXZpY2VzU2VydmljZS4kaW5qZWN0ID0gW1wiJGxvZ1wiLCBcIlJlc3Rhbmd1bGFyXCIsIFwiJHFcIiwgXCIkaHR0cFwiLCBcIiRzdGF0ZVwiXTtcblx0ICBmdW5jdGlvbiBEZXZpY2VzU2VydmljZSgkbG9nLCBSZXN0YW5ndWxhciwgJHEsICRodHRwLCAkc3RhdGUpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGV2aWNlc1NlcnZpY2UpO1xuXHQgICAgdGhpcy4kbG9nID0gJGxvZztcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuJHEgPSAkcTtcblx0ICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcblx0ICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlO1xuXHQgICAgdGhpcy5TRVJWSUNFX05BTUUgPSAnZGV2aWNlcyc7XG5cdCAgICB0aGlzLnVyaUJhc2UgPSAndjEvZGV2aWNlcyc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEZXZpY2VzU2VydmljZSwgW3tcblx0ICAgIGtleTogJ2FkanVzdENvbnRyb2xzTW9kZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWRqdXN0Q29udHJvbHNNb2RlKGRldmljZUtleSwgY29udHJvbHNNb2RlKSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0ge1xuXHQgICAgICAgIGNvbnRyb2xzTW9kZTogY29udHJvbHNNb2RlXG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnL2ludGVybmFsL3YxL2RldmljZXMvJyArIGRldmljZUtleSArICcvY29udHJvbHMtbW9kZScpLmN1c3RvbVBVVChwYXlsb2FkKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGV2aWNlQnlNYWNBZGRyZXNzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXZpY2VCeU1hY0FkZHJlc3MobWFjQWRkcmVzcykge1xuXHQgICAgICB2YXIgdXJsID0gJ2ludGVybmFsL3YxL2RldmljZXM/bWFjX2FkZHJlc3M9JyArIG1hY0FkZHJlc3M7XG5cdCAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnaW50ZXJuYWwvdjEvZGV2aWNlcycsIHVybCkuZ2V0KCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGV2aWNlQnlLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERldmljZUJ5S2V5KGRldmljZUtleSkge1xuXHQgICAgICB2YXIgdXJsID0gJ2ludGVybmFsL3YxL2RldmljZXMvJyArIGRldmljZUtleTtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUoZGljdGlvbmFyeSwgdmFsdWUpIHtcblx0ICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaWN0aW9uYXJ5Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBkaWN0aW9uYXJ5W2ldO1xuXHQgICAgICAgIHJlc3VsdHMucHVzaChlYWNoW3ZhbHVlXSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgaXNNYWMgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgaXNHQ01pZCA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBzZXJpYWxEZXZpY2VzRGljdCA9IF90aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG5cdCAgICAgICAgdmFyIGRldmljZVNlcmlhbHNPbmx5ID0gX3RoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG5cdCAgICAgICAgcmV0dXJuIFtkZXZpY2VTZXJpYWxzT25seSwgc2VyaWFsRGV2aWNlc0RpY3RdO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5RGlzdHJpYnV0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbChkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgaXNNYWMgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgaXNHQ01pZCA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBzZXJpYWxEZXZpY2VzRGljdCA9IF90aGlzMi5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuXHQgICAgICAgIHZhciBzZXJpYWxEZXZpY2VzT25seSA9IF90aGlzMi5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcInNlcmlhbFwiKTtcblx0ICAgICAgICByZXR1cm4gW3NlcmlhbERldmljZXNPbmx5LCBzZXJpYWxEZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsR2xvYmFsbHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEdsb2JhbGx5KHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG5cdCAgICAgICAgdmFyIGlzTWFjID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIGlzR0NNaWQgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgc2VyaWFsRGV2aWNlc0RpY3QgPSBfdGhpczMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcblx0ICAgICAgICB2YXIgc2VyaWFsRGV2aWNlc09ubHkgPSBfdGhpczMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG5cdCAgICAgICAgcmV0dXJuIFtzZXJpYWxEZXZpY2VzT25seSwgc2VyaWFsRGV2aWNlc0RpY3RdO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgbWFjRGV2aWNlc0RpY3QgPSBfdGhpczQuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIHRydWUpO1xuXHQgICAgICAgIHZhciBkZXZpY2VNYWNzT25seSA9IF90aGlzNC5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcIm1hY1wiKTtcblx0ICAgICAgICByZXR1cm4gW2RldmljZU1hY3NPbmx5LCBtYWNEZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuXHQgICAgICAgIHZhciBpc01hYyA9IHRydWU7XG5cdCAgICAgICAgdmFyIGlzR0NNaWQgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgbWFjRGV2aWNlc0RpY3QgPSBfdGhpczUuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcblx0ICAgICAgICB2YXIgbWFjRGV2aWNlcyA9IF90aGlzNS5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcIm1hY1wiKTtcblx0ICAgICAgICByZXR1cm4gW21hY0RldmljZXMsIG1hY0RldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNHbG9iYWxseScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgaXNNYWMgPSB0cnVlO1xuXHQgICAgICAgIHZhciBpc0dDTWlkID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIG1hY0RldmljZXNEaWN0ID0gX3RoaXM2LmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG5cdCAgICAgICAgdmFyIG1hY0RldmljZXMgPSBfdGhpczYucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJtYWNcIik7XG5cdCAgICAgICAgcmV0dXJuIFttYWNEZXZpY2VzLCBtYWNEZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG5cdCAgICAgICAgdmFyIGdjbWlkRGV2aWNlc0RpY3QgPSBfdGhpczcuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcblx0ICAgICAgICB2YXIgZ2NtaWREZXZpY2VzT25seSA9IF90aGlzNy5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcImdjbWlkXCIpO1xuXHQgICAgICAgIHJldHVybiBbZ2NtaWREZXZpY2VzT25seSwgZ2NtaWREZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeURpc3RyaWJ1dG9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG5cdCAgICAgICAgdmFyIEdDTWlkRGV2aWNlc0RpY3QgPSBfdGhpczguY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcblx0ICAgICAgICB2YXIgZ2NtaWREZXZpY2VzT25seSA9IF90aGlzOC5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcImdjbWlkXCIpO1xuXHQgICAgICAgIHJldHVybiBbZ2NtaWREZXZpY2VzT25seSwgR0NNaWREZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRHbG9iYWxseScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEdsb2JhbGx5KHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgX3RoaXM5ID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgR0NNaWREZXZpY2VzRGljdCA9IF90aGlzOS5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuXHQgICAgICAgIHZhciBnY21pZERldmljZXNPbmx5ID0gX3RoaXM5LnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwiZ2NtaWRcIik7XG5cdCAgICAgICAgcmV0dXJuIFtnY21pZERldmljZXNPbmx5LCBHQ01pZERldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVqZWN0ZWRQcm9taXNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZWplY3RlZFByb21pc2UoKSB7XG5cdCAgICAgIHZhciBkZXZpY2VEZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgZGV2aWNlRGVmZXJyZWQucmVqZWN0KCk7XG5cdCAgICAgIHJldHVybiBkZXZpY2VEZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERldmljZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERldmljZXMocGFydGlhbFNlYXJjaCwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCBkaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkLCBnbG9iYWxseSkge1xuXHQgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cdCAgICAgIHZhciBkZXZpY2VzUHJvbWlzZSA9IHZvaWQgMDtcblx0ICAgICAgaWYgKHBhcnRpYWxTZWFyY2gpIHtcblx0ICAgICAgICBpZiAocGFydGlhbFNlYXJjaC5sZW5ndGggPiAyKSB7XG5cdCAgICAgICAgICBpZiAoYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuXHQgICAgICAgICAgICBpZiAoZ2xvYmFsbHkpIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGJ5VGVuYW50KSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uID09PSBcIk1BQ1wiKSB7XG5cdCAgICAgICAgICAgIGlmIChnbG9iYWxseSkge1xuXHQgICAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0dsb2JhbGx5KHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoYnlUZW5hbnQpIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKGdsb2JhbGx5KSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGJ5VGVuYW50KSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5yZWplY3RlZFByb21pc2UoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLnJlamVjdGVkUHJvbWlzZSgpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZXZpY2VzUmVzdWx0KSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG5cdCAgICAgICAgICBcInN1Y2Nlc3NcIjogdHJ1ZSxcblx0ICAgICAgICAgIFwiZGV2aWNlc1wiOiBkZXZpY2VzUmVzdWx0XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgZGV2aWNlc1Byb21pc2UuY2F0Y2goZnVuY3Rpb24gKGRldmljZXNSZXN1bHQpIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcblx0ICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZSxcblx0ICAgICAgICAgIFwiZGV2aWNlc1wiOiBbXVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmonLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoodGhlQXJyYXksIG1hYywgZ2NtKSB7XG5cdCAgICAgIC8qKiBDb252ZXJ0cyBhcnJheSB0byBkaWN0aW9uYXJ5IHdpdGggbWFjLCBnY21pZCwgb3Igc2VyaWFsIGFzIHRoZSBrZXkgKiovXG5cdCAgICAgIHZhciBkZXZpY2VzID0ge307XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhlQXJyYXkubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgaXRlbSA9IHRoZUFycmF5W2ldO1xuXHQgICAgICAgIGlmIChtYWMpIHtcblx0ICAgICAgICAgIGRldmljZXNbaXRlbS5tYWNdID0gaXRlbTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGdjbSkge1xuXHQgICAgICAgICAgZGV2aWNlc1tpdGVtLmdjbWlkXSA9IGl0ZW07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGRldmljZXNbaXRlbS5zZXJpYWxdID0gaXRlbTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGRldmljZXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZWRpdEl0ZW0nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGVkaXRJdGVtKGl0ZW0sIGZyb21EZXZpY2VzKSB7XG5cdCAgICAgIGlmICghZnJvbURldmljZXMpIHtcblx0ICAgICAgICBmcm9tRGV2aWNlcyA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuJHN0YXRlLmdvKCdlZGl0RGV2aWNlJywge1xuXHQgICAgICAgIGRldmljZUtleTogaXRlbS5rZXksXG5cdCAgICAgICAgdGVuYW50S2V5OiBpdGVtLnRlbmFudEtleSxcblx0ICAgICAgICBmcm9tRGV2aWNlczogZnJvbURldmljZXNcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncHJlcHJhdGVGb3JFZGl0VmlldycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcHJlcHJhdGVGb3JFZGl0VmlldyhidXR0b24sIHRlbmFudEtleSwgc2VhcmNoVGV4dCwgbWFjRGV2aWNlcywgc2VyaWFsRGV2aWNlcywgZ2NtaWREZXZpY2VzKSB7XG5cdCAgICAgIHZhciBtYWMgPSB2b2lkIDAsXG5cdCAgICAgICAgICBzZXJpYWwgPSB2b2lkIDAsXG5cdCAgICAgICAgICBnY21pZCA9IHZvaWQgMDtcblx0XG5cdCAgICAgIG1hYyA9IGJ1dHRvbiA9PT0gXCJNQUNcIjtcblx0ICAgICAgc2VyaWFsID0gYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICAgICAgZ2NtaWQgPSBidXR0b24gPT09IFwiR0NNIElEXCI7XG5cdFxuXHQgICAgICBpZiAobWFjKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0obWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0oc2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0oZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldElzc3Vlc0J5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJc3N1ZXNCeUtleShkZXZpY2VLZXksIHN0YXJ0RXBvY2gsIGVuZEVwb2NoLCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuXHQgICAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcblx0ICAgICAgdmFyIHVybCA9ICcvaW50ZXJuYWwvdjEvZGV2aWNlcy8nICsgcHJldiArICcvJyArIG5leHQgKyAnLycgKyBkZXZpY2VLZXkgKyAnL2lzc3Vlcz9zdGFydD0nICsgc3RhcnRFcG9jaCArICcmZW5kPScgKyBlbmRFcG9jaDtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q29tbWFuZEV2ZW50c0J5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb21tYW5kRXZlbnRzQnlLZXkoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuXHQgICAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcblx0ICAgICAgdmFyIHVybCA9ICcvaW50ZXJuYWwvdjEvcGxheWVyLWNvbW1hbmQtZXZlbnRzLycgKyBwcmV2ICsgJy8nICsgbmV4dCArICcvJyArIGRldmljZUtleTtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgICAgLy8gVEVOQU5UIFZJRVdcblx0ICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGV2aWNlc0J5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSB0aGlzLm1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCBmYWxzZSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVbm1hbmFnZWREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgICB2YXIgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5VGVuYW50VVJMKHRlbmFudEtleSwgcHJldiwgbmV4dCwgdHJ1ZSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEJ5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2ludGVybmFsL3YxL3RlbmFudHMvc2VhcmNoLycgKyB0ZW5hbnRLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfc2VyaWFsPScgKyBwYXJ0aWFsX3NlcmlhbDtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0J5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX21hYywgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2ludGVybmFsL3YxL3RlbmFudHMvc2VhcmNoLycgKyB0ZW5hbnRLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfbWFjPScgKyBwYXJ0aWFsX21hYztcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxfZ2NtaWQsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9pbnRlcm5hbC92MS90ZW5hbnRzL3NlYXJjaC8nICsgdGVuYW50S2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX2djbWlkPScgKyBwYXJ0aWFsX2djbWlkO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgICAvLyBERVZJQ0VTIFZJRVdcblx0ICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbChkaXN0cmlidXRvcktleSwgcGFydGlhbF9zZXJpYWwsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2ludGVybmFsL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJyArIGRpc3RyaWJ1dG9yS2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX3NlcmlhbD0nICsgcGFydGlhbF9zZXJpYWw7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERldmljZXNCeVBhcnRpYWxNYWMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERldmljZXNCeVBhcnRpYWxNYWMoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxfbWFjLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9pbnRlcm5hbC92MS9kaXN0cmlidXRvcnMvc2VhcmNoLycgKyBkaXN0cmlidXRvcktleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9tYWM9JyArIHBhcnRpYWxfbWFjO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxfZ2NtaWQsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2ludGVybmFsL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJyArIGRpc3RyaWJ1dG9yS2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX2djbWlkPScgKyBwYXJ0aWFsX2djbWlkO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgICAvLyBTRUFSQ0ggREVWSUNFUyBHTE9CQUxMWVxuXHQgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsR2xvYmFsbHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxHbG9iYWxseShwYXJ0aWFsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciB1cmwgPSAnL2ludGVybmFsL3YxL2RldmljZXMvYW5hbHl0aWNzL3NlYXJjaC1nbG9iYWw/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfc2VyaWFsPScgKyBwYXJ0aWFsX3NlcmlhbDtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybChcImRldmljZXNcIiwgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0dsb2JhbGx5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgdXJsID0gJy9pbnRlcm5hbC92MS9kZXZpY2VzL2FuYWx5dGljcy9zZWFyY2gtZ2xvYmFsP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX21hYz0nICsgcGFydGlhbF9tYWM7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoXCJkZXZpY2VzXCIsIHVybCkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkR2xvYmFsbHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkR2xvYmFsbHkocGFydGlhbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciB1cmwgPSAnL2ludGVybmFsL3YxL2RldmljZXMvYW5hbHl0aWNzL3NlYXJjaC1nbG9iYWw/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfZ2NtaWQ9JyArIHBhcnRpYWxfZ2NtaWQ7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoXCJkZXZpY2VzXCIsIHVybCkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERldmljZXNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9IHRoaXMubWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCBmYWxzZSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5RGlzdHJpYnV0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVubWFuYWdlZERldmljZXNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9IHRoaXMubWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCB0cnVlKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREZXZpY2VzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXZpY2VzKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuU0VSVklDRV9OQU1FKS5nZXRMaXN0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NhdmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmUoZGV2aWNlKSB7XG5cdCAgICAgIGlmIChkZXZpY2Uua2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IGRldmljZS5wdXQoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSgnZGV2aWNlcycpLnBvc3QoZGV2aWNlKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzYXZlT3ZlcmxheVNldHRpbmdzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlT3ZlcmxheVNldHRpbmdzKGRldmljZV91cmxzYWZlX2tleSwgYm90dG9tX2xlZnQsIGJvdHRvbV9yaWdodCwgdG9wX3JpZ2h0LCB0b3BfbGVmdCkge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICBib3R0b21fbGVmdDogYm90dG9tX2xlZnQsXG5cdCAgICAgICAgYm90dG9tX3JpZ2h0OiBib3R0b21fcmlnaHQsXG5cdCAgICAgICAgdG9wX3JpZ2h0OiB0b3BfcmlnaHQsXG5cdCAgICAgICAgdG9wX2xlZnQ6IHRvcF9sZWZ0XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ292ZXJsYXknLCAnL2ludGVybmFsL3YxL292ZXJsYXkvZGV2aWNlLycgKyBkZXZpY2VfdXJsc2FmZV9rZXkpLmN1c3RvbVBPU1QocGF5bG9hZCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGVsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGRldmljZUtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKHRoaXMuU0VSVklDRV9OQU1FLCBkZXZpY2VLZXkpLnJlbW92ZSgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRQYW5lbE1vZGVscycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGFuZWxNb2RlbHMoKSB7XG5cdCAgICAgIHJldHVybiBbe1xuXHQgICAgICAgICdpZCc6ICdOb25lJyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnTm9uZSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdTb255LUZYRDQwTFgyRicsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1NvbnkgRlhENDBMWDJGJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ05FQy1MQ0Q0MjE1Jyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnTkVDIExDRDQyMTUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnUGhpbGxpcHMgQkRMNTU2MEVMJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ1BhbmFzb25pYy1USDU1TEY2VScsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1BhbmFzb25pYyBUSDU1TEY2VSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdMRy00M1NNNUItQicsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ0xHIDQzU001Qi1CJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ1NoYXJwLVBORTUyMScsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1NoYXJwIFBORTUyMSdcblx0ICAgICAgfV07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0UGFuZWxJbnB1dHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhbmVsSW5wdXRzKCkge1xuXHQgICAgICByZXR1cm4gW3tcblx0ICAgICAgICAnaWQnOiAnTm9uZScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ05vbmUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTEnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdMRy00M1NNNUItQidcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1NvbnktRlhENDBMWDJGJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkyJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnU29ueS1GWEQ0MExYMkYnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTEnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTInLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnRFZJJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkxJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkyJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0RWSScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1BhbmFzb25pYy1USDU1TEY2VSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMicsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdEVkknLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdTaGFycC1QTkU1MjEnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnVkdBJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnTkVDLUxDRDQyMTUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnRFZJMScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ05FQy1MQ0Q0MjE1J1xuXHQgICAgICB9XTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdtYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VEZXZpY2VzQnlEaXN0cmlidXRvclVSTChkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciB1cmwgPSAnL2ludGVybmFsL3YxL2Rpc3RyaWJ1dG9ycy8nICsgZGlzdHJpYnV0b3JLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJm5leHRfY3Vyc29yPScgKyBuZXh0ICsgJyZwcmV2X2N1cnNvcj0nICsgcHJldjtcblx0ICAgICAgcmV0dXJuIHVybDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdtYWtlRGV2aWNlc0J5VGVuYW50VVJMJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlRGV2aWNlc0J5VGVuYW50VVJMKHRlbmFudEtleSwgcHJldiwgbmV4dCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciB1cmwgPSAnL2ludGVybmFsL3YxL3RlbmFudHMvJyArIHRlbmFudEtleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmbmV4dF9jdXJzb3I9JyArIG5leHQgKyAnJnByZXZfY3Vyc29yPScgKyBwcmV2O1xuXHQgICAgICByZXR1cm4gdXJsO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gRGV2aWNlc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IERldmljZXNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTgpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIERpc3RyaWJ1dG9yc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgRGlzdHJpYnV0b3JzU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIiwgXCIkc3RhdGVcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdCAgZnVuY3Rpb24gRGlzdHJpYnV0b3JzU2VydmljZShSZXN0YW5ndWxhciwgJHN0YXRlLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGlzdHJpYnV0b3JzU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcblx0ICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXHQgICAgdGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFID0gJ2Rpc3RyaWJ1dG9ycyc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEaXN0cmlidXRvcnNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2F2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZSh0ZW5hbnQpIHtcblx0ICAgICAgaWYgKHRlbmFudC5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGVuYW50LnB1dCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSkucG9zdCh0ZW5hbnQpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZldGNoQWxsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEFsbCgpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLmdldExpc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmV0Y2hBbGxCeVVzZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQWxsQnlVc2VyKHVzZXJLZXkpIHtcblx0ICAgICAgaWYgKHVzZXJLZXkpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKCd1c2VycycsIHVzZXJLZXkpLmRvR0VUKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QnlLZXkoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCAnaW50ZXJuYWwvdjEvZGlzdHJpYnV0b3JzLycgKyBrZXkpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkZWxldGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoZW50aXR5KSB7XG5cdCAgICAgIGlmIChlbnRpdHkua2V5KSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZSh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIGVudGl0eS5rZXkpLnJlbW92ZSgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QnlOYW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCeU5hbWUobmFtZSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSkuZ2V0TGlzdCh7IGRpc3RyaWJ1dG9yTmFtZTogbmFtZSB9KTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RG9tYWluc0J5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREb21haW5zQnlLZXkoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCAnaW50ZXJuYWwvdjEvZGlzdHJpYnV0b3JzLycgKyBrZXkgKyAnL2RvbWFpbnMnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc3dpdGNoRGlzdHJpYnV0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHN3aXRjaERpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yKSB7XG5cdCAgICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLnNldEN1cnJlbnREaXN0cmlidXRvck5hbWUoZGlzdHJpYnV0b3IubmFtZSk7XG5cdCAgICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLnNldEN1cnJlbnREaXN0cmlidXRvcktleShkaXN0cmlidXRvci5rZXkpO1xuXHQgICAgICByZXR1cm4gdGhpcy4kc3RhdGUuZ28oJ3dlbGNvbWUnKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIERpc3RyaWJ1dG9yc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IERpc3RyaWJ1dG9yc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OCk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk5KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRG9tYWluc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgRG9tYWluc1NlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIERvbWFpbnNTZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERvbWFpbnNTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERvbWFpbnNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2F2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZShkb21haW4pIHtcblx0ICAgICAgaWYgKGRvbWFpbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gZG9tYWluLnB1dCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdkb21haW5zJykucG9zdChkb21haW4pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZldGNoQWxsRG9tYWlucycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hBbGxEb21haW5zKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKCdkb21haW5zJykuZ2V0TGlzdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREb21haW5CeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RG9tYWluQnlLZXkoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUoJ2RvbWFpbnMnLCBrZXkpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREaXJlY3RvcnlBcGlDb25uZWN0aXZpdHlJbmZvcm1hdGlvbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGlyZWN0b3J5QXBpQ29ubmVjdGl2aXR5SW5mb3JtYXRpb24oa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2RvbWFpbnMnLCAnL2ludGVybmFsL3YxL2RvbWFpbnMvJyArIGtleSArICcvZGlyZWN0b3J5X2FwaScpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkZWxldGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoZG9tYWluKSB7XG5cdCAgICAgIGlmIChkb21haW4ua2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKCdkb21haW5zJywgZG9tYWluLmtleSkucmVtb3ZlKCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIERvbWFpbnNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBEb21haW5zU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzEwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk4KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTkpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJZGVudGl0eVNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgSWRlbnRpdHlTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblx0ICBmdW5jdGlvbiBJZGVudGl0eVNlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgSWRlbnRpdHlTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKElkZW50aXR5U2VydmljZSwgW3tcblx0ICAgIGtleTogJ2dldElkZW50aXR5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJZGVudGl0eSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdpZGVudGl0eScpLmdldCgpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBJZGVudGl0eVNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OCk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk5KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSW50ZWdyYXRpb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgSW50ZWdyYXRpb25FdmVudHMuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIEludGVncmF0aW9uRXZlbnRzKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEludGVncmF0aW9uRXZlbnRzKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuQ1JFQVRFX1RFTkFOVF9FVkVOVFMgPSAnaW50ZWdyYXRpb25fZXZlbnRzL3RlbmFudF9jcmVhdGUnO1xuXHQgICAgdGhpcy5FTlJPTExNRU5UX0VWRU5UUyA9ICdpbnRlZ3JhdGlvbl9ldmVudHMvZW5yb2xsbWVudCc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShJbnRlZ3JhdGlvbkV2ZW50cywgW3tcblx0ICAgIGtleTogJ2dldFRlbmFudENyZWF0ZUV2ZW50cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGVuYW50Q3JlYXRlRXZlbnRzKHRlbmFudEtleSkge1xuXHQgICAgICB2YXIgcXVlcnkgPSB7XG5cdCAgICAgICAgdGVuYW50S2V5OiB0ZW5hbnRLZXlcblx0ICAgICAgfTtcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuQ1JFQVRFX1RFTkFOVF9FVkVOVFMpLmN1c3RvbUdFVCgnJywgcXVlcnkpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEVucm9sbG1lbnRFdmVudHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVucm9sbG1lbnRFdmVudHMoZGV2aWNlS2V5KSB7XG5cdCAgICAgIHZhciBxdWVyeSA9IHtcblx0ICAgICAgICBkZXZpY2VLZXk6IGRldmljZUtleVxuXHQgICAgICB9O1xuXHQgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5FTlJPTExNRU5UX0VWRU5UUykuY3VzdG9tR0VUKCcnLCBxdWVyeSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBJbnRlZ3JhdGlvbkV2ZW50cztcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSW50ZWdyYXRpb25FdmVudHM7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OCk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk5KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgTG9jYXRpb25zU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBMb2NhdGlvbnNTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblx0ICBmdW5jdGlvbiBMb2NhdGlvbnNTZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIExvY2F0aW9uc1NlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoTG9jYXRpb25zU2VydmljZSwgW3tcblx0ICAgIGtleTogJ3NhdmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmUobG9jYXRpb24pIHtcblx0ICAgICAgaWYgKGxvY2F0aW9uLmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBsb2NhdGlvbi5wdXQoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSgnbG9jYXRpb25zJykucG9zdChsb2NhdGlvbik7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoQWxsVGVuYW50TG9jYXRpb25zQnlOYW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUodGVuYW50S2V5LCBjdXN0b21lcl9sb2NhdGlvbl9uYW1lKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwoJ3RlbmFudHMnKS5jdXN0b21HRVRMSVNUKHRlbmFudEtleSArIFwiL2xvY2F0aW9uc1wiLCB7IGN1c3RvbWVyX2xvY2F0aW9uX25hbWU6IGN1c3RvbWVyX2xvY2F0aW9uX25hbWUgfSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldExvY2F0aW9uc0J5VGVuYW50S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2NhdGlvbnNCeVRlbmFudEtleSh0ZW5hbnRLZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsICdpbnRlcm5hbC92MS90ZW5hbnRzLycgKyB0ZW5hbnRLZXkgKyAnL2xvY2F0aW9ucycpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRMb2NhdGlvbnNCeVRlbmFudEtleVBhZ2luYXRlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXlQYWdpbmF0ZWQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuXHQgICAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsICdpbnRlcm5hbC92MS90ZW5hbnRzLycgKyB0ZW5hbnRLZXkgKyAnLycgKyBwcmV2ICsgJy8nICsgbmV4dCArICcvbG9jYXRpb25zJykuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldExvY2F0aW9uQnlLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvY2F0aW9uQnlLZXkobG9jYXRpb25LZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnbG9jYXRpb25zJywgJ2ludGVybmFsL3YxL2xvY2F0aW9ucy8nICsgbG9jYXRpb25LZXkpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIExvY2F0aW9uc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IExvY2F0aW9uc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OCk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk5KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgUHJvZ3Jlc3NCYXJTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFByb2dyZXNzQmFyU2VydmljZS4kaW5qZWN0ID0gW1wibmdQcm9ncmVzc0ZhY3RvcnlcIl07XG5cdCAgZnVuY3Rpb24gUHJvZ3Jlc3NCYXJTZXJ2aWNlKG5nUHJvZ3Jlc3NGYWN0b3J5KSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFByb2dyZXNzQmFyU2VydmljZSk7XG5cdCAgICB0aGlzLm5nUHJvZ3Jlc3NGYWN0b3J5ID0gbmdQcm9ncmVzc0ZhY3Rvcnk7XG5cdCAgICB0aGlzLnByb2dyZXNzQmFyID0gdGhpcy5uZ1Byb2dyZXNzRmFjdG9yeS5jcmVhdGVJbnN0YW5jZSgpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc3RhcnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuXHQgICAgICB0aGlzLnByb2dyZXNzQmFyLnNldENvbG9yKCcjMDBGQ0ZGJyk7XG5cdCAgICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0SGVpZ2h0KCc0cHgnKTtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NCYXIuc3RhcnQoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wbGV0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcGxldGUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzQmFyLmNvbXBsZXRlKCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFByb2dyZXNzQmFyU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzE0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk4KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTkpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBQcm9vZlBsYXlTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFByb29mUGxheVNlcnZpY2UuJGluamVjdCA9IFtcIiRodHRwXCIsIFwiJHFcIiwgXCIkd2luZG93XCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiJHN0YXRlXCIsIFwiVG9hc3RzU2VydmljZVwiXTtcblx0ICBmdW5jdGlvbiBQcm9vZlBsYXlTZXJ2aWNlKCRodHRwLCAkcSwgJHdpbmRvdywgU2Vzc2lvbnNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgVG9hc3RzU2VydmljZSkge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBQcm9vZlBsYXlTZXJ2aWNlKTtcblx0ICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcblx0ICAgIHRoaXMuJHEgPSAkcTtcblx0ICAgIHRoaXMuJHdpbmRvdyA9ICR3aW5kb3c7XG5cdCAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcblx0ICAgIHRoaXMuJHN0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuXHQgICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG5cdCAgICB0aGlzLlRvYXN0c1NlcnZpY2UgPSBUb2FzdHNTZXJ2aWNlO1xuXHQgICAgdGhpcy5tYWtlSFRUUFJlcXVlc3QgPSB0aGlzLm1ha2VIVFRQUmVxdWVzdC5iaW5kKHRoaXMpO1xuXHQgICAgdGhpcy5vcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgKyAod2luZG93LmxvY2F0aW9uLnBvcnQgPyAnOicgKyB3aW5kb3cubG9jYXRpb24ucG9ydCA6ICcnKTtcblx0ICAgIGlmICh0aGlzLm9yaWdpbiA9PT0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIikge1xuXHQgICAgICB0aGlzLm9yaWdpbiA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwXCI7XG5cdCAgICB9XG5cdCAgICB0aGlzLnVyaUJhc2UgPSAncHJvb2ZwbGF5L2FwaS92MSc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQcm9vZlBsYXlTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnbWFrZUhUVFBVUkwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VIVFRQVVJMKHdoZXJlX3RvX2dvLCB0ZW5hbnQpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudXJpQmFzZSArIHdoZXJlX3RvX2dvICsgdGVuYW50O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ21ha2VIVFRQUmVxdWVzdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZUhUVFBSZXF1ZXN0KHdoZXJlX3RvX2dvLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICB2YXIgdXJsID0gdGhpcy5tYWtlSFRUUFVSTCh3aGVyZV90b19nbywgdGVuYW50KTtcblx0ICAgICAgcmV0dXJuIHRoaXMuJGh0dHAuZ2V0KHVybCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QWxsUmVzb3VyY2VzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxSZXNvdXJjZXModGVuYW50KSB7XG5cdCAgICAgIHZhciByID0gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfYWxsX3Jlc291cmNlcy9cIiwgdGVuYW50KTtcblx0ICAgICAgLy8gdGhlIGNhdGNoIGlzIG9ubHkgZG9uZSBoZXJlIGJlY2F1c2UgMyBwcm9vZiBvZiBwbGF5IHZpZXdzIGFyZSBpbml0aWxpemVkIGF0IHRoZSBzYW1lIHRpbWVcblx0ICAgICAgLy8gc28gdGhpcyBjYXRjaCB3aWxsIGJlIGRvbmUgMyB0aW1lcyB3aXRoIDMgZXJyb3IgbWVzc2FnZXMgaWYgd2UgYWRkIGl0IHRvIGdldEFsbERpc3BsYXlzIGFuZCBnZXRBbGxMb2NhdGlvbnNcblx0ICAgICAgci5jYXRjaChmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG5cdCAgICAgICAgdmFyIHN0YXR1cyA9IGVyci5zdGF0dXM7XG5cdFxuXHQgICAgICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xuXHQgICAgICAgICAgdGhpcy5Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91IGFyZSBub3QgYWxsb3dlZCB0byB2aWV3IHRoaXMgdGVuYW50IVwiKTtcblx0ICAgICAgICAgIHRoaXMuJHN0YXRlLmdvKCdwcm9vZicsIHt9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDA0KSB7XG5cdCAgICAgICAgICB0aGlzLlRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoXCJZb3UgbXVzdCBzZWxlY3QgYSB0ZW5hbnQgZmlyc3QhXCIpO1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlLmdvKCdwcm9vZicsIHt9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIHIudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIHJldHVybiBkYXRhO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRBbGxEaXNwbGF5cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsRGlzcGxheXModGVuYW50KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfZGlzcGxheXMvXCIsIHRlbmFudCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QWxsTG9jYXRpb25zJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxMb2NhdGlvbnModGVuYW50KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfbG9jYXRpb25zL1wiLCB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEFsbFRlbmFudHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbFRlbmFudHMoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9teV90ZW5hbnRzXCIsICcnKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCByZXNvdXJjZXMsIHRlbmFudCkge1xuXHQgICAgICB2YXIgYWxsUmVzb3VyY2VzID0gJyc7XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gcmVzb3VyY2VzW2ldO1xuXHQgICAgICAgIGFsbFJlc291cmNlcyA9IGFsbFJlc291cmNlcyArIFwifFwiICsgZWFjaDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy5vcmlnaW4gKyBcIi9cIiArIHRoaXMudXJpQmFzZSArICcvbXVsdGlfcmVzb3VyY2VfYnlfZGF0ZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsUmVzb3VyY2VzICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEZXZpY2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURldmljZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgcmVzb3VyY2VzLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbFJlc291cmNlcyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IHJlc291cmNlc1tpXTtcblx0ICAgICAgICBhbGxSZXNvdXJjZXMgPSBhbGxSZXNvdXJjZXMgKyBcInxcIiArIGVhY2g7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMub3JpZ2luICsgXCIvXCIgKyB0aGlzLnVyaUJhc2UgKyAnL211bHRpX3Jlc291cmNlX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsUmVzb3VyY2VzICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzU3VtbWFyaXplZChzdGFydF9kYXRlLCBlbmRfZGF0ZSwgZGV2aWNlcywgdGVuYW50KSB7XG5cdCAgICAgIHZhciBhbGxEZXZpY2VzID0gJyc7XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRldmljZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IGRldmljZXNbaV07XG5cdCAgICAgICAgYWxsRGV2aWNlcyA9IGFsbERldmljZXMgKyBcInxcIiArIGVhY2g7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMub3JpZ2luICsgXCIvXCIgKyB0aGlzLnVyaUJhc2UgKyAnL211bHRpX2RldmljZV9zdW1tYXJpemVkLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxEZXZpY2VzICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNCeURhdGUoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGRldmljZXMsIHRlbmFudCkge1xuXHQgICAgICB2YXIgYWxsRGV2aWNlcyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXZpY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBkZXZpY2VzW2ldO1xuXHQgICAgICAgIGFsbERldmljZXMgPSBhbGxEZXZpY2VzICsgXCJ8XCIgKyBlYWNoO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLm9yaWdpbiArIFwiL1wiICsgdGhpcy51cmlCYXNlICsgJy9tdWx0aV9kZXZpY2VfYnlfZGF0ZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsRGV2aWNlcyArICcvJyArIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksICdfYmxhbmsnKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2Uoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGxvY2F0aW9ucywgdGVuYW50KSB7XG5cdCAgICAgIHZhciBhbGxMb2NhdGlvbnMgPSAnJztcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBsb2NhdGlvbnNbaV07XG5cdCAgICAgICAgYWxsTG9jYXRpb25zID0gYWxsTG9jYXRpb25zICsgXCJ8XCIgKyBlYWNoO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLm9yaWdpbiArIFwiL1wiICsgdGhpcy51cmlCYXNlICsgJy9tdWx0aV9sb2NhdGlvbl9ieV9kZXZpY2UvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbExvY2F0aW9ucyArICcvJyArIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksICdfYmxhbmsnKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNTdW1tYXJpemVkKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBsb2NhdGlvbnMsIHRlbmFudCkge1xuXHQgICAgICB2YXIgYWxsTG9jYXRpb25zID0gJyc7XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxvY2F0aW9ucy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gbG9jYXRpb25zW2ldO1xuXHQgICAgICAgIGFsbExvY2F0aW9ucyA9IGFsbExvY2F0aW9ucyArIFwifFwiICsgZWFjaDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy5vcmlnaW4gKyBcIi9cIiArIHRoaXMudXJpQmFzZSArICcvbXVsdGlfbG9jYXRpb25fc3VtbWFyaXplZC8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjcmVhdGVGaWx0ZXJGb3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUZpbHRlckZvcihxdWVyeSkge1xuXHQgICAgICBxdWVyeSA9IGFuZ3VsYXIubG93ZXJjYXNlKHF1ZXJ5KTtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuXHQgICAgICAgIHJlc291cmNlID0gYW5ndWxhci5sb3dlcmNhc2UocmVzb3VyY2UpO1xuXHQgICAgICAgIHJldHVybiByZXNvdXJjZS5pbmRleE9mKHF1ZXJ5KSA9PT0gMDtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdxdWVyeVNlYXJjaCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSB7XG5cdCAgICAgIGlmIChzZWFyY2hUZXh0KSB7XG5cdCAgICAgICAgcmV0dXJuIHJlc291cmNlcy5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXJGb3Ioc2VhcmNoVGV4dCkpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiByZXNvdXJjZXM7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFByb29mUGxheVNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFByb29mUGxheVNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OCk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk5KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfand0RGVjb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTYpO1xuXHRcblx0dmFyIF9qd3REZWNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfand0RGVjb2RlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgU2Vzc2lvbnNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFNlc3Npb25zU2VydmljZS4kaW5qZWN0ID0gW1wiJGh0dHBcIiwgXCIkbG9nXCIsIFwiU3RvcmFnZVNlcnZpY2VcIiwgXCJJZGVudGl0eVNlcnZpY2VcIiwgXCJSZXN0YW5ndWxhclwiLCBcIiRxXCIsIFwic3dlZXRcIl07XG5cdCAgZnVuY3Rpb24gU2Vzc2lvbnNTZXJ2aWNlKCRodHRwLCAkbG9nLCBTdG9yYWdlU2VydmljZSwgSWRlbnRpdHlTZXJ2aWNlLCBSZXN0YW5ndWxhciwgJHEsIHN3ZWV0KSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFNlc3Npb25zU2VydmljZSk7XG5cdCAgICB0aGlzLiRodHRwID0gJGh0dHA7XG5cdCAgICB0aGlzLiRsb2cgPSAkbG9nO1xuXHQgICAgdGhpcy5TdG9yYWdlU2VydmljZSA9IFN0b3JhZ2VTZXJ2aWNlO1xuXHQgICAgdGhpcy5JZGVudGl0eVNlcnZpY2UgPSBJZGVudGl0eVNlcnZpY2U7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLiRxID0gJHE7XG5cdCAgICB0aGlzLnVyaUJhc2UgPSAndjEvc2Vzc2lvbnMnO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoU2Vzc2lvbnNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2V0SldUJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRKV1QoSldUKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldChcIkpXVFwiLCBKV1QpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldERpc3RyaWJ1dG9ycycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGlzdHJpYnV0b3JzKGRpc3RyaWJ1dG9ycykge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2Rpc3RyaWJ1dG9ycycsIGRpc3RyaWJ1dG9ycyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0RGlzdHJpYnV0b3JzQXNBZG1pbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGlzdHJpYnV0b3JzQXNBZG1pbihkaXN0cmlidXRvcnNBc0FkbWluKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnZGlzdHJpYnV0b3JzQXNBZG1pbicsIGRpc3RyaWJ1dG9yc0FzQWRtaW4pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldElzQWRtaW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldElzQWRtaW4oaXNBZG1pbikge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2lzQWRtaW4nLCBpc0FkbWluKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRVc2VyS2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRVc2VyS2V5KHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgndXNlcktleScsIHZhbHVlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRVc2VyRW1haWwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFVzZXJFbWFpbCh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJFbWFpbCcsIHZhbHVlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRDdXJyZW50RGlzdHJpYnV0b3JLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEN1cnJlbnREaXN0cmlidXRvcktleSh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScsIHZhbHVlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnY3VycmVudERpc3RyaWJ1dG9yTmFtZScsIHZhbHVlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRVc2VyS2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVc2VyS2V5KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJLZXknKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRVc2VyRW1haWwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVzZXJFbWFpbCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyRW1haWwnKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREaXN0cmlidXRvcnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERpc3RyaWJ1dG9ycygpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdkaXN0cmlidXRvcnMnKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvck5hbWUnKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRDdXJyZW50RGlzdHJpYnV0b3JLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnREaXN0cmlidXRvcktleSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdjdXJyZW50RGlzdHJpYnV0b3JLZXknKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREaXN0cmlidXRvcnNBc0FkbWluJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREaXN0cmlidXRvcnNBc0FkbWluKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2Rpc3RyaWJ1dG9yc0FzQWRtaW4nKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRJc0FkbWluJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJc0FkbWluKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2lzQWRtaW4nKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRKV1QnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEpXVCgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KFwiSldUXCIpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2xvZ2luJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dpbihjcmVkZW50aWFscykge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgLy8gcmVxdWVzdCBpbnRlcmNlcHRvciBjaGVja3MgdGhpc1xuXHQgICAgICB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnb0F1dGgnLCBjcmVkZW50aWFscy5pZF90b2tlbik7XG5cdFxuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuJGh0dHAoeyB1cmw6ICcvaW50ZXJuYWwvdjEvbG9naW4nLCBtZXRob2Q6ICdHRVQnIH0pO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgZGF0YSA9ICgwLCBfand0RGVjb2RlMi5kZWZhdWx0KShyZXMuZGF0YS50b2tlbik7XG5cdCAgICAgICAgX3RoaXMuc2V0SldUKHJlcy5kYXRhLnRva2VuKTtcblx0ICAgICAgICBfdGhpcy5zZXREaXN0cmlidXRvcnMoZGF0YVsnZGlzdHJpYnV0b3JzJ10pO1xuXHQgICAgICAgIF90aGlzLnNldERpc3RyaWJ1dG9yc0FzQWRtaW4oZGF0YVsnZGlzdHJpYnV0b3JzX2FzX2FkbWluJ10pO1xuXHQgICAgICAgIF90aGlzLnNldElzQWRtaW4oZGF0YVsnaXNfYWRtaW4nXSk7XG5cdCAgICAgICAgX3RoaXMuc2V0VXNlckVtYWlsKGRhdGFbJ2VtYWlsJ10pO1xuXHQgICAgICAgIF90aGlzLnNldFVzZXJLZXkoZGF0YVsna2V5J10pO1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIGNvdWxkbid0IGxvZyB5b3UgaW4gOiguIFBsZWFzZSB0cnkgYWdhaW4gb3IgY29udGFjdCBzdXBwb3J0XCIsICdlcnJvcicpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW1vdmVVc2VySW5mbycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlVXNlckluZm8oKSB7XG5cdCAgICAgIHRoaXMuU3RvcmFnZVNlcnZpY2UucmVtb3ZlQWxsKCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBTZXNzaW9uc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFNlc3Npb25zU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzE5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk4KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTkpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0dmFyIF9sb2NrciA9IF9fd2VicGFja19yZXF1aXJlX18oNzIwKTtcblx0XG5cdHZhciBfbG9ja3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9ja3IpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBTdG9yYWdlU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBTdG9yYWdlU2VydmljZSgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFN0b3JhZ2VTZXJ2aWNlKTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFN0b3JhZ2VTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gX2xvY2tyMi5kZWZhdWx0LnNldChrZXksIHZhbHVlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldChrZXkpIHtcblx0ICAgICAgcmV0dXJuIF9sb2NrcjIuZGVmYXVsdC5nZXQoa2V5KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdybScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcm0oa2V5KSB7XG5cdCAgICAgIHJldHVybiBfbG9ja3IyLmRlZmF1bHQucm0oa2V5KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW1vdmVBbGwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUFsbCgpIHtcblx0ICAgICAgX2xvY2tyMi5kZWZhdWx0LmZsdXNoKCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBTdG9yYWdlU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gU3RvcmFnZVNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OCk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk5KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgVGVuYW50c1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgVGVuYW50c1NlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHQgIGZ1bmN0aW9uIFRlbmFudHNTZXJ2aWNlKFJlc3Rhbmd1bGFyLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVGVuYW50c1NlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2U7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShUZW5hbnRzU2VydmljZSwgW3tcblx0ICAgIGtleTogJ3NhdmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmUodGVuYW50KSB7XG5cdCAgICAgIGlmICh0ZW5hbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRlbmFudC5wdXQoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSgndGVuYW50cycpLnBvc3QodGVuYW50KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzYXZlT3ZlcmxheVNldHRpbmdzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlT3ZlcmxheVNldHRpbmdzKHRlbmFudF91cmxzYWZlX2tleSwgYm90dG9tX2xlZnQsIGJvdHRvbV9yaWdodCwgdG9wX3JpZ2h0LCB0b3BfbGVmdCkge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICBib3R0b21fbGVmdDogYm90dG9tX2xlZnQsXG5cdCAgICAgICAgYm90dG9tX3JpZ2h0OiBib3R0b21fcmlnaHQsXG5cdCAgICAgICAgdG9wX3JpZ2h0OiB0b3BfcmlnaHQsXG5cdCAgICAgICAgdG9wX2xlZnQ6IHRvcF9sZWZ0XG5cdCAgICAgIH07XG5cdCAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnb3ZlcmxheScsICcvaW50ZXJuYWwvdjEvb3ZlcmxheS90ZW5hbnQvJyArIHRlbmFudF91cmxzYWZlX2tleSkuY3VzdG9tUE9TVChwYXlsb2FkKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdvdmVybGF5QXBwbHlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG92ZXJsYXlBcHBseVRlbmFudCh0ZW5hbnRfdXJsc2FmZV9rZXkpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdvdmVybGF5JywgJy9pbnRlcm5hbC92MS9vdmVybGF5L3RlbmFudC8nICsgdGVuYW50X3VybHNhZmVfa2V5ICsgJy9hcHBseScpLnBvc3QoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hBbGxUZW5hbnRzQnlOYW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hBbGxUZW5hbnRzQnlOYW1lKHRlbmFudF9uYW1lLCBhbGxEaXN0cmlidXRvcnMpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgndGVuYW50cycpLmN1c3RvbUdFVExJU1QoXCJcIiwge1xuXHQgICAgICAgIHRlbmFudF9uYW1lOiB0ZW5hbnRfbmFtZSwgYWxsRGlzdHJpYnV0b3JzOiBhbGxEaXN0cmlidXRvcnNcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZldGNoQWxsVGVuYW50cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hBbGxUZW5hbnRzKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKCd0ZW5hbnRzJykuZ2V0TGlzdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdmZXRjaEFsbFRlbmFudHNQYWdpbmF0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQWxsVGVuYW50c1BhZ2luYXRlZChwYWdlX3NpemUsIG9mZnNldCkge1xuXHQgICAgICB2YXIgdXJsID0gJ2ludGVybmFsL3YxL3RlbmFudHMvcGFnaW5hdGVkLycgKyBwYWdlX3NpemUgKyAnLycgKyBvZmZzZXQ7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRUZW5hbnRCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGVuYW50QnlLZXkodGVuYW50S2V5KSB7XG5cdCAgICAgIHZhciB1cmwgPSAnaW50ZXJuYWwvdjEvdGVuYW50cy8nICsgdGVuYW50S2V5O1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGVsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKHRlbmFudCkge1xuXHQgICAgICBpZiAodGVuYW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZSgndGVuYW50cycsIHRlbmFudC5rZXkpLnJlbW92ZSgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBUZW5hbnRzU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVGVuYW50c1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OCk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk5KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgVGltZXpvbmVzU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBUaW1lem9uZXNTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblx0ICBmdW5jdGlvbiBUaW1lem9uZXNTZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFRpbWV6b25lc1NlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVGltZXpvbmVzU2VydmljZSwgW3tcblx0ICAgIGtleTogJ2dldFVzVGltZXpvbmVzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVc1RpbWV6b25lcygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGltZXpvbmVzJywgJ2ludGVybmFsL3YxL3RpbWV6b25lcy91cycpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRBbGxUaW1lem9uZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbFRpbWV6b25lcygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGltZXpvbmVzJywgJ2ludGVybmFsL3YxL3RpbWV6b25lcy9hbGwnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VzdG9tVGltZXpvbmVzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXN0b21UaW1lem9uZXMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RpbWV6b25lcycsICdpbnRlcm5hbC92MS90aW1lem9uZXMvY3VzdG9tJykuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gVGltZXpvbmVzU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVGltZXpvbmVzU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzIzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk4KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTkpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBUb2FzdHNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFRvYXN0c1NlcnZpY2UuJGluamVjdCA9IFtcInRvYXN0clwiXTtcblx0ICBmdW5jdGlvbiBUb2FzdHNTZXJ2aWNlKHRvYXN0cikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBUb2FzdHNTZXJ2aWNlKTtcblx0ICAgIHRoaXMudG9hc3RyID0gdG9hc3RyO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVG9hc3RzU2VydmljZSwgW3tcblx0ICAgIGtleTogJ3Nob3dTdWNjZXNzVG9hc3QnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dTdWNjZXNzVG9hc3QobWVzc2FnZSkge1xuXHQgICAgICB2YXIgdGl0bGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdTdWNjZXNzISc7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy50b2FzdHIuc3VjY2VzcyhtZXNzYWdlLCB0aXRsZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2hvd0Vycm9yVG9hc3QnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dFcnJvclRvYXN0KG1lc3NhZ2UpIHtcblx0ICAgICAgdmFyIHRpdGxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnRXJyb3IhJztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnRvYXN0ci5lcnJvcihtZXNzYWdlLCB0aXRsZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2hvd0luZm9Ub2FzdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0luZm9Ub2FzdChtZXNzYWdlKSB7XG5cdCAgICAgIHZhciB0aXRsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ0luZm9ybWF0aW9uJztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnRvYXN0ci5pbmZvKG1lc3NhZ2UsIHRpdGxlKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFRvYXN0c1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRvYXN0c1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyNDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OCk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk5KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgVmVyc2lvbnNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFZlcnNpb25zU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cdCAgZnVuY3Rpb24gVmVyc2lvbnNTZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFZlcnNpb25zU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShWZXJzaW9uc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdnZXRWZXJzaW9ucycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmVyc2lvbnMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3ZlcnNpb25zJykuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gVmVyc2lvbnNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBWZXJzaW9uc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFRlbmFudExvZ3NDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVQYXJhbXNcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIkludGVncmF0aW9uRXZlbnRzXCIsIFwiJHNjb3BlXCIsIFwiRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBUZW5hbnRMb2dzQ3RybCgkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCAkc3RhdGUsIFByb2dyZXNzQmFyU2VydmljZSwgSW50ZWdyYXRpb25FdmVudHMsICRzY29wZSwgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgJHNjb3BlLnRhYkluZGV4ID0gNTtcblx0ICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHQgIHZhciB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodm0udGVuYW50S2V5KTtcblx0ICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgIHZtLmN1cnJlbnRUZW5hbnQgPSBkYXRhO1xuXHQgIH0pO1xuXHRcblx0ICB2bS5sb2NhbEZyb21VdGMgPSBmdW5jdGlvbiAoZXZlbnRzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZWFjaCA9IGV2ZW50c1tpXTtcblx0ICAgICAgaWYgKGVhY2gudXRjVGltZXN0YW1wKSB7XG5cdCAgICAgICAgZWFjaC51dGNUaW1lc3RhbXAgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnV0Y1RpbWVzdGFtcCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybjtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRUZW5hbnRDcmVhdGVFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBlbnJvbGxtZW50RXZlbnRzUHJvbWlzZSA9IEludGVncmF0aW9uRXZlbnRzLmdldFRlbmFudENyZWF0ZUV2ZW50cyh2bS50ZW5hbnRLZXkpO1xuXHQgICAgZW5yb2xsbWVudEV2ZW50c1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS50ZW5hbnRDcmVhdGVFdmVudHMgPSBkYXRhO1xuXHQgICAgICB2bS5sb2NhbEZyb21VdGMoZGF0YSk7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBTZXR1cFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5nZXRUZW5hbnRDcmVhdGVFdmVudHMoKTtcblx0ICB9O1xuXHRcblx0ICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuXHQgICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgc3dpdGNoICh0b1RhYikge1xuXHQgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDM6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgNTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuVGVuYW50TG9nc0N0cmwgPSBUZW5hbnRMb2dzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzI2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0VGVuYW50T3ZlcmxheXNDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVQYXJhbXNcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIlRvYXN0c1NlcnZpY2VcIiwgXCIkc2NvcGVcIiwgXCJJbWFnZVNlcnZpY2VcIiwgXCIkdGltZW91dFwiLCBcIiRtZERpYWxvZ1wiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVGVuYW50T3ZlcmxheXNDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1Myk7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEl0ZXJhdG9yMik7XG5cdFxuXHR2YXIgX2phdmFzY3JpcHROYXR1cmFsU29ydCA9IF9fd2VicGFja19yZXF1aXJlX18oNjYyKTtcblx0XG5cdHZhciBfamF2YXNjcmlwdE5hdHVyYWxTb3J0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2phdmFzY3JpcHROYXR1cmFsU29ydCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gVGVuYW50T3ZlcmxheXNDdHJsKCRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsICRzdGF0ZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBUb2FzdHNTZXJ2aWNlLCAkc2NvcGUsIEltYWdlU2VydmljZSwgJHRpbWVvdXQsICRtZERpYWxvZykge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICAkc2NvcGUudGFiSW5kZXggPSA0O1xuXHQgIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuXHQgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgdm0uY3VycmVudFRlbmFudCA9IGRhdGE7XG5cdCAgfSk7XG5cdFxuXHQgIHZtLm92ZXJsYXlDaGFuZ2VkID0gZmFsc2U7XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBPdmVybGF5c1xuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS5hZGp1c3RPdmVybGF5U3RhdHVzID0gZnVuY3Rpb24gKHN0YXR1cykge1xuXHQgICAgdm0uY3VycmVudFRlbmFudC5vdmVybGF5U3RhdHVzID0gc3RhdHVzO1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSB0cnVlO1xuXHQgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zYXZlKHZtLmN1cnJlbnRUZW5hbnQpO1xuXHQgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIHZhciB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkoJHN0YXRlUGFyYW1zLnRlbmFudEtleSk7XG5cdCAgICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICAgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gZmFsc2U7XG5cdCAgICAgICAgdm0ub25TdWNjZXNzUmVzb2x2aW5nVGVuYW50KHRlbmFudCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nJyk7XG5cdCAgICAgIGNvbnNvbGUubG9nKGVycik7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBwcm9taXNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLnVwZGF0ZU92ZXJsYXlzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gdHJ1ZTtcblx0ICAgIHZhciB0ZW5hbnRQcm9taXNlID0gdm0uZ2V0VGVuYW50KCk7XG5cdCAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgICB2bS5vdmVybGF5Q2hhbmdlZCA9IGZhbHNlO1xuXHQgICAgICB2bS5jdXJyZW50VGVuYW50Lm92ZXJsYXlzID0gdGVuYW50Lm92ZXJsYXlzO1xuXHQgICAgICB2bS5jdXJyZW50VGVuYW50Q29weS5vdmVybGF5cyA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50VGVuYW50Lm92ZXJsYXlzKTtcblx0ICAgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gZmFsc2U7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiB0ZW5hbnRQcm9taXNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdE92ZXJsYXlTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IHRydWU7XG5cdFxuXHQgICAgdmFyIG92ZXJsYXlTZXR0aW5ncyA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50VGVuYW50Q29weS5vdmVybGF5cyk7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZU92ZXJsYXlTZXR0aW5ncyh2bS50ZW5hbnRLZXksIG92ZXJsYXlTZXR0aW5ncy5ib3R0b21fbGVmdCwgb3ZlcmxheVNldHRpbmdzLmJvdHRvbV9yaWdodCwgb3ZlcmxheVNldHRpbmdzLnRvcF9yaWdodCwgb3ZlcmxheVNldHRpbmdzLnRvcF9sZWZ0KTtcblx0XG5cdCAgICB2YXIgdXBkYXRlT3ZlcmxheVByb21pc2VEZWZlcnJlZCA9IGZ1bmN0aW9uIHVwZGF0ZU92ZXJsYXlQcm9taXNlRGVmZXJyZWQoKSB7XG5cdCAgICAgIHZhciB1cGRhdGVPdmVybGF5UHJvbWlzZSA9IHZtLnVwZGF0ZU92ZXJsYXlzKCk7XG5cdCAgICAgIHVwZGF0ZU92ZXJsYXlQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG5cdCAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gdXBkYXRlT3ZlcmxheVByb21pc2U7XG5cdCAgICB9O1xuXHRcblx0ICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICR0aW1lb3V0KHVwZGF0ZU92ZXJsYXlQcm9taXNlRGVmZXJyZWQsIDEwMDApO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZTtcblx0ICB9O1xuXHRcblx0ICB2bS5hcHBseVRlbmFudE92ZXJsYXkgPSBmdW5jdGlvbiAoZXYpIHtcblx0ICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oe1xuXHQgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLFxuXHQgICAgICB0ZXh0Q29udGVudDogJ0VhY2ggZGV2aWNlIGluIHlvdXIgVGVuYW50IHdpbGwgaGF2ZSB0aGUgY3VycmVudCBPdmVybGF5IFRlbXBsYXRlIGFwcGxpZWQgYXMgaXRzIHNldHRpbmdzLicsXG5cdCAgICAgIHRhcmdldEV2ZW50OiBldixcblx0ICAgICAgYXJpYUxhYmVsOiAnTHVja3kgZGF5Jyxcblx0ICAgICAgb2s6ICdDb25maXJtJyxcblx0ICAgICAgY2FuY2VsOiAnTmV2ZXJtaW5kJ1xuXHQgICAgfSk7XG5cdFxuXHQgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLm92ZXJsYXlBcHBseVRlbmFudCh2bS50ZW5hbnRLZXkpO1xuXHQgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciBtZXNzYWdlID0gJ1lvdXIgVGVuYW50IE92ZXJsYXkgU2V0dGluZ3MgYXJlIGJlaW5nIGFwcGxpZWQgdG8gZWFjaCBkZXZpY2UgaW4geW91ciBUZW5hbnQuIFBsZWFzZSB3YWl0IHBhdGllbnRseSBmb3IgdGhpcyBwcm9jZXNzIHRvIGNvbXBsZXRlLic7XG5cdCAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KG1lc3NhZ2UpO1xuXHQgICAgICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgICAgICAgIHZtLmdldFRlbmFudCgpO1xuXHQgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICB9KTtcblx0ICAgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY2hlY2tGb3JPdmVybGF5Q2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG5cdCAgICB2YXIgY3VycmVudFRlbmFudE92ZXJsYXlzID0gdm0uY3VycmVudFRlbmFudC5vdmVybGF5cztcblx0ICAgIHZhciBjdXJyZW50VGVuYW50Q29weU92ZXJsYXlzID0gdm0uY3VycmVudFRlbmFudENvcHkub3ZlcmxheXM7XG5cdCAgICB2YXIgcG9zaXRpb25zID0gWyd0b3BfbGVmdCcsICd0b3BfcmlnaHQnLCAnYm90dG9tX3JpZ2h0JywgJ2JvdHRvbV9sZWZ0J107XG5cdFxuXHQgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHQgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdCAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkocG9zaXRpb25zKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHQgICAgICAgIHZhciBwb3MgPSBfc3RlcC52YWx1ZTtcblx0XG5cdCAgICAgICAgaWYgKGN1cnJlbnRUZW5hbnRPdmVybGF5c1twb3NdLnNpemUgIT09IGN1cnJlbnRUZW5hbnRDb3B5T3ZlcmxheXNbcG9zXS5zaXplKSB7XG5cdCAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGN1cnJlbnRUZW5hbnRPdmVybGF5c1twb3NdLnR5cGUgIT09IGN1cnJlbnRUZW5hbnRDb3B5T3ZlcmxheXNbcG9zXS50eXBlKSB7XG5cdCAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGN1cnJlbnRUZW5hbnRPdmVybGF5c1twb3NdLnR5cGUgPT09ICdsb2dvJykge1xuXHQgICAgICAgICAgaWYgKGN1cnJlbnRUZW5hbnRPdmVybGF5c1twb3NdLnR5cGUgKyBcIjogXCIgKyBjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS5uYW1lICE9PSBjdXJyZW50VGVuYW50Q29weU92ZXJsYXlzW3Bvc10ubmFtZSkge1xuXHQgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdCAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0ICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZtLm92ZXJsYXlDaGFuZ2VkID0gY2hhbmdlZDtcblx0ICB9O1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gSW1hZ2VzXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZtLnN1Ym1pdEltYWdlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLnNlbGVjdGVkTG9nbyAmJiB2bS5zZWxlY3RlZExvZ29bMF0pIHtcblx0ICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cdCAgICAgIHZhciB2YWxpZEZpbGUgPSB0cnVlO1xuXHQgICAgICBhbmd1bGFyLmZvckVhY2godm0uc2VsZWN0ZWRMb2dvLCBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgICAgaWYgKG9iai5sZkZpbGUuc2l6ZSA8IDE1MDAwMDAwKSB7XG5cdCAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGVzJywgb2JqLmxmRmlsZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZtLmZpbGVBcGkucmVtb3ZlQWxsKCk7XG5cdCAgICAgICAgICB2YWxpZEZpbGUgPSBmYWxzZTtcblx0ICAgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1lvdXIgaW1hZ2UgaXMgbGFyZ2VyIHRoYW4gMTUgTUIuIFBsZWFzZSBjaG9vc2UgYSBzbWFsbGVyIGltYWdlJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIGlmICh2YWxpZEZpbGUpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IEltYWdlU2VydmljZS5zYXZlSW1hZ2Uodm0udGVuYW50S2V5LCBmb3JtRGF0YSk7XG5cdCAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICAgICAgJHRpbWVvdXQodm0uZ2V0VGVuYW50SW1hZ2VzLCAxMDAwKTtcblx0ICAgICAgICAgIHZtLmZpbGVBcGkucmVtb3ZlQWxsKCk7XG5cdCAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHVwbG9hZGVkIHlvdXIgaW1hZ2UuJyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBZb3UgbWF5IGhhdmUgYWxyZWFkeSB1cGxvYWRlZCB0aGlzIGltYWdlLicpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VGVuYW50SW1hZ2VzQW5kUmVsb2FkVGVuYW50QWZ0ZXJEZWxldGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgdGVuYW50SW1hZ2VQcm9taXNlID0gdm0uZ2V0VGVuYW50SW1hZ2VzKCk7XG5cdCAgICB0ZW5hbnRJbWFnZVByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciB1cGRhdGVPdmVybGF5UHJvbWlzZSA9IHZtLnVwZGF0ZU92ZXJsYXlzKCk7XG5cdCAgICAgIHVwZGF0ZU92ZXJsYXlQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgZGVsZXRlZCB5b3VyIGltYWdlLicpO1xuXHQgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmRlbGV0ZUltYWdlID0gZnVuY3Rpb24gKGV2LCBuYW1lLCBrZXkpIHtcblx0ICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oe1xuXHQgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLFxuXHQgICAgICB0ZXh0Q29udGVudDogJ0lmIHlvdSBwcm9jZWVkLCAnICsgbmFtZSArICcgd2lsbCBiZSBkZWxldGVkIGFuZCByZW1vdmVkIGZyb20gYWxsIGRldmljZXMgdGhhdCB1c2UgaXQuJyxcblx0ICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuXHQgICAgICBhcmlhTGFiZWw6ICdMdWNreSBkYXknLFxuXHQgICAgICBvazogJ0NvbmZpcm0nLFxuXHQgICAgICBjYW5jZWw6ICdOZXZlcm1pbmQnXG5cdCAgICB9KTtcblx0XG5cdCAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICAgIHZhciBwcm9taXNlID0gSW1hZ2VTZXJ2aWNlLmRlbGV0ZUltYWdlKGtleSk7XG5cdCAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgJHRpbWVvdXQodm0uZ2V0VGVuYW50SW1hZ2VzQW5kUmVsb2FkVGVuYW50QWZ0ZXJEZWxldGUsIDEwMDApO1xuXHQgICAgICB9KTtcblx0ICAgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgZGVsZXRpbmcgeW91ciBpbWFnZS4nKTtcblx0ICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VGVuYW50SW1hZ2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uT1ZFUkxBWV9UWVBFUyA9IFt7IHNpemU6IG51bGwsIHR5cGU6IG51bGwsIG5hbWU6IFwibm9uZVwiLCByZWFsTmFtZTogXCJub25lXCIsIG5ldzogZmFsc2UsIGltYWdlX2tleTogbnVsbCB9LCB7IHNpemU6IG51bGwsIHR5cGU6IFwiZGF0ZXRpbWVcIiwgbmFtZTogXCJkYXRldGltZVwiLCByZWFsTmFtZTogXCJkYXRldGltZVwiLCBuZXc6IHRydWUsIGltYWdlX2tleTogbnVsbCB9XTtcblx0XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gSW1hZ2VTZXJ2aWNlLmdldEltYWdlcyh2bS50ZW5hbnRLZXkpO1xuXHQgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgdm0udGVuYW50SW1hZ2VzID0gcmVzO1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcblx0ICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuXHQgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkodm0udGVuYW50SW1hZ2VzKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG5cdCAgICAgICAgICB2YXIgdmFsdWUgPSBfc3RlcDIudmFsdWU7XG5cdCAgICAgICAgICB2YXIgX2FyciA9IFtcInNtYWxsXCIsIFwibGFyZ2VcIl07XG5cdFxuXHQgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IF9hcnIubGVuZ3RoOyBfaSsrKSB7XG5cdCAgICAgICAgICAgIHZhciBzaXplT3B0aW9uID0gX2FycltfaV07XG5cdCAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IHtcblx0ICAgICAgICAgICAgICByZWFsTmFtZTogYW5ndWxhci5jb3B5KHZhbHVlLm5hbWUpLFxuXHQgICAgICAgICAgICAgIG5hbWU6IFwibG9nbzogXCIgKyB2YWx1ZS5uYW1lLFxuXHQgICAgICAgICAgICAgIHR5cGU6IFwibG9nb1wiLFxuXHQgICAgICAgICAgICAgIHNpemU6IHNpemVPcHRpb24sXG5cdCAgICAgICAgICAgICAgaW1hZ2Vfa2V5OiB2YWx1ZS5rZXlcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgdm0uT1ZFUkxBWV9UWVBFUy5wdXNoKG5ld1ZhbHVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG5cdCAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuXHQgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG5cdCAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcblx0ICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgdm0uT1ZFUkxBWV9UWVBFUy5zb3J0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyLmRlZmF1bHQpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclN0YXR1cyhcIlNPTUVUSElORyBXRU5UIFdST05HIFJFVFJJRVZJTkcgWU9VUiBJTUFHRVNcIik7XG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gcHJvbWlzZTtcblx0ICB9O1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIFNldHVwXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS5vblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50ID0gdGVuYW50O1xuXHQgICAgdm0uY3VycmVudFRlbmFudENvcHkgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudFRlbmFudCk7XG5cdCAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gdGVuYW50LmRlZmF1bHRfdGltZXpvbmU7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VGVuYW50ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gdHJ1ZTtcblx0ICAgIHZhciB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkoJHN0YXRlUGFyYW1zLnRlbmFudEtleSk7XG5cdCAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgICB2bS5jdXJyZW50VGVuYW50ID0gdGVuYW50O1xuXHQgICAgICBpZiAodm0uY3VycmVudFRlbmFudC5vdmVybGF5c1VwZGF0ZUluUHJvZ3Jlc3MpIHtcblx0ICAgICAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0ICAgICAgICAkdGltZW91dCh2bS5nZXRUZW5hbnQsIDMwMDApO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgfTtcblx0ICAgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gZmFsc2U7XG5cdCAgICAgIHZtLmN1cnJlbnRUZW5hbnRDb3B5ID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnRUZW5hbnQpO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gdGVuYW50UHJvbWlzZTtcblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZ2V0VGVuYW50SW1hZ2VzKCk7XG5cdCAgICB2bS5nZXRUZW5hbnQoKTtcblx0ICB9O1xuXHRcblx0ICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuXHQgICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgc3dpdGNoICh0b1RhYikge1xuXHQgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDM6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgNTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuVGVuYW50T3ZlcmxheXNDdHJsID0gVGVuYW50T3ZlcmxheXNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3Mjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRUZW5hbnRBZGRDdHJsLiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiJGxvY2F0aW9uXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCIsIFwiVGltZXpvbmVzU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcInN3ZWV0XCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gVGVuYW50QWRkQ3RybCgkbG9nLCAkbG9jYXRpb24sIFRlbmFudHNTZXJ2aWNlLCBEaXN0cmlidXRvcnNTZXJ2aWNlLCBUaW1lem9uZXNTZXJ2aWNlLCAkc3RhdGUsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsIFNlc3Npb25zU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5nYW1lU3RvcFNlcnZlciA9ICRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMTtcblx0ICB2bS5jdXJyZW50VGVuYW50ID0ge1xuXHQgICAga2V5OiB1bmRlZmluZWQsXG5cdCAgICBuYW1lOiB1bmRlZmluZWQsXG5cdCAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuXHQgICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG5cdCAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG5cdCAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuXHQgICAgcHJvb2Zfb2ZfcGxheV91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGFjdGl2ZTogdHJ1ZSxcblx0ICAgIG91X2NyZWF0ZTogdHJ1ZVxuXHQgIH07XG5cdCAgdm0uc2VsZWN0ZWREb21haW4gPSB1bmRlZmluZWQ7XG5cdCAgdm0uZGlzdHJpYnV0b3JEb21haW5zID0gW107XG5cdCAgdm0udGltZXpvbmVzID0gW107XG5cdCAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9ICdBbWVyaWNhL0NoaWNhZ28nO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHRpbWV6b25lUHJvbWlzZSA9IFRpbWV6b25lc1NlcnZpY2UuZ2V0Q3VzdG9tVGltZXpvbmVzKCk7XG5cdCAgICB0aW1lem9uZVByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udGltZXpvbmVzID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgICAgdm0uY3VycmVudERpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0QnlLZXkodm0uY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcblx0ICAgIGRpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmN1cnJlbnRUZW5hbnQuY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsID0gZGF0YS5jb250ZW50X21hbmFnZXJfdXJsO1xuXHQgICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudC5jb250ZW50X3NlcnZlcl91cmwgPSBkYXRhLnBsYXllcl9jb250ZW50X3VybDtcblx0ICAgIH0pO1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0RG9tYWluc0J5S2V5KHZtLmN1cnJlbnREaXN0cmlidXRvcktleSk7XG5cdCAgICByZXR1cm4gZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRvbWFpbnMpIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IGRvbWFpbnM7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdm0uY3VycmVudFRlbmFudC5kZWZhdWx0X3RpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcblx0ICAgIHZtLmN1cnJlbnRUZW5hbnQuZG9tYWluX2tleSA9IHZtLnNlbGVjdGVkRG9tYWluLmtleTtcblx0ICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50VGVuYW50KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzVGVuYW50U2F2ZSwgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzVGVuYW50U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50cycpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUgPSBmdW5jdGlvbiAoZXJyb3JPYmplY3QpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgaWYgKGVycm9yT2JqZWN0LnN0YXR1cyA9PT0gNDA5KSB7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1RlbmFudCBjb2RlIHVuYXZhaWxhYmxlIGluIFByb3Zpc2lvbmluZy4gUGxlYXNlIG1vZGlmeSB0ZW5hbnQgbmFtZSB0byBnZW5lcmF0ZSBhIHVuaXF1ZSB0ZW5hbnQgY29kZS4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSBpZiAoZXJyb3JPYmplY3Quc3RhdHVzID09PSA0MTIpIHtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGVuYW50IGNvZGUgdW5hdmFpbGFibGUgaW4gQ2hyb21lIERldmljZSBNYW5hZ2VtZW50LiBNb2RpZnkgdGVuYW50IG5hbWUgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgdGVuYW50IGNvZGUuJywgJ2Vycm9yJyk7XG5cdCAgICB9IGVsc2UgaWYgKGVycm9yT2JqZWN0LnN0YXR1cyA9PT0gNDA2KSB7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBjcmVhdGUgdGVuYW50IE9yZ2FuaXphdGlvbiBVbml0IGluIENocm9tZSBEZXZpY2UgTWFuYWdlbWVudC4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICRsb2cuZXJyb3IoZXJyb3JPYmplY3QpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdOb3QgZXZlcnl0aGluZyBuZWVkZWQgZm9yIHRlbmFudCB3YXMgY3JlYXRlZCBpbiBDb250ZW50IE1hbmFnZXIgb3IgQ0RNLicsICdlcnJvcicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICRzdGF0ZS5nbyhcInRlbmFudHNcIik7XG5cdCAgfTtcblx0XG5cdCAgdm0uYXV0b0dlbmVyYXRlVGVuYW50Q29kZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghdm0uY3VycmVudFRlbmFudC5rZXkpIHtcblx0ICAgICAgdmFyIG5ld1RlbmFudENvZGUgPSAnJztcblx0ICAgICAgaWYgKHZtLmN1cnJlbnRUZW5hbnQubmFtZSkge1xuXHQgICAgICAgIG5ld1RlbmFudENvZGUgPSB2bS5jdXJyZW50VGVuYW50Lm5hbWUudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG5cdCAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHZtLmN1cnJlbnRUZW5hbnQudGVuYW50X2NvZGUgPSBuZXdUZW5hbnRDb2RlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLlRlbmFudEFkZEN0cmwgPSBUZW5hbnRBZGRDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3Mjg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRUZW5hbnREZXRhaWxzQ3RybC4kaW5qZWN0ID0gW1wiJHN0YXRlUGFyYW1zXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJEb21haW5zU2VydmljZVwiLCBcIlRpbWV6b25lc1NlcnZpY2VcIiwgXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwic3dlZXRcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJUb2FzdHNTZXJ2aWNlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiJHNjb3BlXCIsIFwiJGxvY2F0aW9uXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gVGVuYW50RGV0YWlsc0N0cmwoJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgRG9tYWluc1NlcnZpY2UsIFRpbWV6b25lc1NlcnZpY2UsIERpc3RyaWJ1dG9yc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlLCAkc2NvcGUsICRsb2NhdGlvbikge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5nYW1lU3RvcFNlcnZlciA9ICRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMTtcblx0ICB2bS5zaG93Q2RtSW5mbyA9IGZhbHNlO1xuXHQgIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG5cdCAgICBrZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5hbWU6IHVuZGVmaW5lZCxcblx0ICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG5cdCAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcblx0ICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG5cdCAgICBwcm9vZl9vZl9wbGF5X3VybDogdW5kZWZpbmVkLFxuXHQgICAgYWN0aXZlOiB0cnVlXG5cdCAgfTtcblx0ICB2bS5zZWxlY3RlZERvbWFpbiA9IHVuZGVmaW5lZDtcblx0ICB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBbXTtcblx0ICB2bS50aW1lem9uZXMgPSBbXTtcblx0ICB2bS5zZWxlY3RlZFRpbWV6b25lID0gJ0FtZXJpY2EvQ2hpY2Fnbyc7XG5cdCAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdFxuXHQgIGlmICh2bS5lZGl0TW9kZSkge1xuXHQgICAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSgkc3RhdGVQYXJhbXMudGVuYW50S2V5KTtcblx0ICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICAgIHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQ7XG5cdCAgICAgIHJldHVybiB2bS5vblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQodGVuYW50KTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB0aW1lem9uZVByb21pc2UgPSBUaW1lem9uZXNTZXJ2aWNlLmdldEN1c3RvbVRpbWV6b25lcygpO1xuXHQgICAgdGltZXpvbmVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRpbWV6b25lcyA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICAgIHZtLmN1cnJlbnREaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcblx0ICAgIHZhciBkaXN0cmlidXRvckRvbWFpblByb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmdldERvbWFpbnNCeUtleSh2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuXHQgICAgcmV0dXJuIGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkb21haW5zKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBkb21haW5zO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzUmVzb2x2aW5nVGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgdm0uc2hvd0NkbUluZm8gPSB0ZW5hbnQub3JnYW5pemF0aW9uX3VuaXRfcGF0aCAhPSBudWxsICYmIHRlbmFudC5lbnJvbGxtZW50X2VtYWlsICE9IG51bGwgJiYgdGVuYW50LmVucm9sbG1lbnRfcGFzc3dvcmQgIT0gbnVsbDtcblx0ICAgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSB0ZW5hbnQuZGVmYXVsdF90aW1lem9uZTtcblx0ICAgIHZhciBkb21haW5Qcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZ2V0RG9tYWluQnlLZXkodGVuYW50LmRvbWFpbl9rZXkpO1xuXHQgICAgcmV0dXJuIGRvbWFpblByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0uc2VsZWN0ZWREb21haW4gPSBkYXRhO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25DbGlja1NhdmVCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZtLmN1cnJlbnRUZW5hbnQuZGVmYXVsdF90aW1lem9uZSA9IHZtLnNlbGVjdGVkVGltZXpvbmU7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50LmRvbWFpbl9rZXkgPSB2bS5zZWxlY3RlZERvbWFpbi5rZXk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNhdmUodm0uY3VycmVudFRlbmFudCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1RlbmFudFNhdmUsIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uU3VjY2Vzc1RlbmFudFNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdGVuYW50IGluZm9ybWF0aW9uLicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUgPSBmdW5jdGlvbiAoZXJyb3JPYmplY3QpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgaWYgKGVycm9yT2JqZWN0LnN0YXR1cyA9PT0gNDA5KSB7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1RlbmFudCBjb2RlIHVuYXZhaWxhYmxlLiBQbGVhc2UgbW9kaWZ5IHRlbmFudCBuYW1lIHRvIGdlbmVyYXRlIGEgdW5pcXVlIHRlbmFudCBjb2RlLicsICdlcnJvcicpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIHNhdmUgdGhlIHRlbmFudC4nLCAnZXJyb3InKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdlZGl0RGV2aWNlJywgeyBkZXZpY2VLZXk6IGl0ZW0ua2V5LCB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uYXV0b0dlbmVyYXRlVGVuYW50Q29kZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghdm0uY3VycmVudFRlbmFudC5rZXkpIHtcblx0ICAgICAgdmFyIG5ld1RlbmFudENvZGUgPSAnJztcblx0ICAgICAgaWYgKHZtLmN1cnJlbnRUZW5hbnQubmFtZSkge1xuXHQgICAgICAgIG5ld1RlbmFudENvZGUgPSB2bS5jdXJyZW50VGVuYW50Lm5hbWUudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG5cdCAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHZtLmN1cnJlbnRUZW5hbnQudGVuYW50X2NvZGUgPSBuZXdUZW5hbnRDb2RlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgICRzY29wZS50YWJJbmRleCA9IDA7XG5cdFxuXHQgICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG5cdCAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBzd2l0Y2ggKHRvVGFiKSB7XG5cdCAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAyOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgNDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSA1OlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLlRlbmFudERldGFpbHNDdHJsID0gVGVuYW50RGV0YWlsc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFRlbmFudExvY2F0aW9uQ3RybC4kaW5qZWN0ID0gW1wiJHN0YXRlUGFyYW1zXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJMb2NhdGlvbnNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwic3dlZXRcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gVGVuYW50TG9jYXRpb25DdHJsKCRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5sb2NhdGlvbiA9IHtcblx0ICAgIGtleTogdW5kZWZpbmVkXG5cdCAgfTtcblx0ICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHQgIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMubG9jYXRpb25LZXk7XG5cdCAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICB2YXIgbG9jYXRpb25Qcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5nZXRMb2NhdGlvbkJ5S2V5KCRzdGF0ZVBhcmFtcy5sb2NhdGlvbktleSk7XG5cdCAgICBsb2NhdGlvblByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5sb2NhdGlvbiA9IGRhdGE7XG5cdCAgICAgIHZtLnRlbmFudEtleSA9IGRhdGEudGVuYW50S2V5O1xuXHQgICAgICB2bS5sb2NhdGlvbk5hbWUgPSBkYXRhLmN1c3RvbWVyTG9jYXRpb25OYW1lO1xuXHQgICAgICByZXR1cm4gdm0uZmV0Y2hUZW5hbnROYW1lKHZtLnRlbmFudEtleSk7XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIXZtLmVkaXRNb2RlKSB7XG5cdCAgICAgIHZtLmZldGNoVGVuYW50TmFtZSh2bS50ZW5hbnRLZXkpO1xuXHQgICAgICByZXR1cm4gdm0ubG9jYXRpb24gPSB7XG5cdCAgICAgICAgdGVuYW50S2V5OiB2bS50ZW5hbnRLZXksXG5cdCAgICAgICAgYWN0aXZlOiB0cnVlXG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ub25DbGlja1NhdmVCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5zYXZlKHZtLmxvY2F0aW9uKTtcblx0ICAgIGlmICh2bS5lZGl0TW9kZSkge1xuXHQgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1VwZGF0aW5nTG9jYXRpb24odm0udGVuYW50S2V5KSwgdm0ub25GYWlsdXJlU2F2aW5nTG9jYXRpb24pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NTYXZpbmdMb2NhdGlvbiwgdm0ub25GYWlsdXJlU2F2aW5nTG9jYXRpb24pO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgbG9jYXRpb24uJyk7XG5cdCAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH0sIDEwMDApO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uU3VjY2Vzc1VwZGF0aW5nTG9jYXRpb24gPSBmdW5jdGlvbiAodGVuYW50X2tleSkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHVwZGF0ZWQgeW91ciBsb2NhdGlvbi4nKTtcblx0ICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7IHRlbmFudEtleTogdGVuYW50X2tleSB9KTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfSwgMTAwMCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25GYWlsdXJlU2F2aW5nTG9jYXRpb24gPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7XG5cdCAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ0xvY2F0aW9uIGNvZGUgY29uZmxpY3QuIFVuYWJsZSB0byBzYXZlIHlvdXIgbG9jYXRpb24uJyk7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1BsZWFzZSBjaGFuZ2UgeW91ciBjdXN0b21lciBsb2NhdGlvbiBuYW1lLiBMb2NhdGlvbiBuYW1lIG11c3QgZ2VuZXJhdGUgYSB1bmlxdWUgbG9jYXRpb24gY29kZS4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdVbmFibGUgdG8gc2F2ZSB5b3VyIGxvY2F0aW9uLicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmZldGNoVGVuYW50TmFtZSA9IGZ1bmN0aW9uICh0ZW5hbnRLZXkpIHtcblx0ICAgIHZhciB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodGVuYW50S2V5KTtcblx0ICAgIHJldHVybiB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgICByZXR1cm4gdm0udGVuYW50TmFtZSA9IHRlbmFudC5uYW1lO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uYXV0b0dlbmVyYXRlQ3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIXZtLmxvY2F0aW9uLmtleSkge1xuXHQgICAgICB2YXIgbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUgPSAnJztcblx0ICAgICAgaWYgKHZtLmxvY2F0aW9uLmN1c3RvbWVyTG9jYXRpb25OYW1lKSB7XG5cdCAgICAgICAgbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUgPSB2bS5sb2NhdGlvbi5jdXN0b21lckxvY2F0aW9uTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuXHQgICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHZtLmxvY2F0aW9uLmN1c3RvbWVyTG9jYXRpb25Db2RlID0gbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuVGVuYW50TG9jYXRpb25DdHJsID0gVGVuYW50TG9jYXRpb25DdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MzA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRUZW5hbnRMb2NhdGlvbnNDdHJsLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkxvY2F0aW9uc1NlcnZpY2VcIiwgXCIkc3RhdGVcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlRlbmFudExvY2F0aW9uc0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjUzKTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdHZhciBfamF2YXNjcmlwdE5hdHVyYWxTb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NjIpO1xuXHRcblx0dmFyIF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfamF2YXNjcmlwdE5hdHVyYWxTb3J0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBUZW5hbnRMb2NhdGlvbnNDdHJsKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgTG9jYXRpb25zU2VydmljZSwgJHN0YXRlLCBQcm9ncmVzc0JhclNlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdmFyIHRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdFxuXHQgICRzY29wZS50YWJJbmRleCA9IDM7XG5cdCAgdm0ubG9jYXRpb25zID0gW107XG5cdCAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdFxuXHQgIHZhciB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodGVuYW50S2V5KTtcblx0ICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgIHZtLmN1cnJlbnRUZW5hbnQgPSBkYXRhO1xuXHQgIH0pO1xuXHRcblx0ICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuXHQgICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgc3dpdGNoICh0b1RhYikge1xuXHQgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDM6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgNTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICB2bS5nZXRMb2NhdGlvbnMgPSBmdW5jdGlvbiAodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBsb2NhdGlvbnNQcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5nZXRMb2NhdGlvbnNCeVRlbmFudEtleVBhZ2luYXRlZCh0ZW5hbnRLZXksIHByZXYsIG5leHQpO1xuXHQgICAgcmV0dXJuIGxvY2F0aW9uc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5sb2NhdGlvbnMgPSBkYXRhLmxvY2F0aW9ucztcblx0ICAgICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuXHQgICAgICB2bS5wcmV2X2N1cnNvciA9IGRhdGEucHJldl9jdXJzb3I7XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICBpZiAoIW5hbWUgfHwgbmFtZS5sZW5ndGggPCAzKSB7XG5cdCAgICAgIHJldHVybiBbXTtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5zZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUodm0udGVuYW50S2V5LCBuYW1lKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZtLnNlYXJjaGVkVGVuYW50TG9jYXRpb25zID0gcmVzcG9uc2U7XG5cdCAgICAgIGlmICh2bS5zZWFyY2hlZFRlbmFudExvY2F0aW9ucykge1xuXHQgICAgICAgIHJldHVybiB2bS5zZWFyY2hlZFRlbmFudExvY2F0aW9ucy5tYXAoZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICAgIHJldHVybiBpLmN1c3RvbWVyTG9jYXRpb25OYW1lO1xuXHQgICAgICAgIH0pLnNvcnQoX2phdmFzY3JpcHROYXR1cmFsU29ydDIuZGVmYXVsdCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gJ1VuYWJsZSB0byBmZXRjaCBsb2NhdGlvbnMuIEVycm9yOiAnICsgcmVzcG9uc2Uuc3RhdHVzO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1RlbmFudExvY2F0aW9uVmFsaWQgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgaWYgKCFuYW1lIHx8IG5hbWUubGVuZ3RoIDwgMykge1xuXHQgICAgICByZXR1cm4gW107XG5cdCAgICB9XG5cdCAgICB2YXIgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2VhcmNoQWxsVGVuYW50TG9jYXRpb25zQnlOYW1lKHZtLnRlbmFudEtleSwgbmFtZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdmFyIG1hdGNoID0gcmVzcG9uc2U7XG5cdCAgICAgIGlmIChtYXRjaCkge1xuXHQgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShtYXRjaCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcblx0ICAgICAgICAgICAgdmFyIGVhY2hMb2NhdGlvbk5hbWUgPSBfc3RlcC52YWx1ZTtcblx0XG5cdCAgICAgICAgICAgIGlmIChuYW1lID09PSBlYWNoTG9jYXRpb25OYW1lLmN1c3RvbWVyTG9jYXRpb25OYW1lKSB7XG5cdCAgICAgICAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICB2bS5zZWFyY2hNYXRjaCA9IGVhY2hMb2NhdGlvbk5hbWU7XG5cdCAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG5cdCAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG5cdCAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0ICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG5cdCAgICBpZiAoZm9yd2FyZCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0TG9jYXRpb25zKHRlbmFudEtleSwgbnVsbCwgdm0ubmV4dF9jdXJzb3IpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldExvY2F0aW9ucyh0ZW5hbnRLZXksIHZtLnByZXZfY3Vyc29yLCBudWxsKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHZtLmdldExvY2F0aW9ucyh0ZW5hbnRLZXkpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2VkaXRMb2NhdGlvbicsIHsgbG9jYXRpb25LZXk6IGl0ZW0ua2V5IH0pO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5UZW5hbnRMb2NhdGlvbnNDdHJsID0gVGVuYW50TG9jYXRpb25zQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzMxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIlRlbmFudHNTZXJ2aWNlXCIsIFwiRGV2aWNlc1NlcnZpY2VcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCIkc3RhdGVcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTMpO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFRlbmFudE1hbmFnZWREZXZpY2VzQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsICRzdGF0ZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5jdXJyZW50VGVuYW50ID0ge1xuXHQgICAga2V5OiB1bmRlZmluZWQsXG5cdCAgICBuYW1lOiB1bmRlZmluZWQsXG5cdCAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuXHQgICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG5cdCAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG5cdCAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuXHQgICAgYWN0aXZlOiB0cnVlXG5cdCAgfTtcblx0ICB2bS50ZW5hbnREZXZpY2VzID0gW107XG5cdCAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcblx0ICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiU2VyaWFsIE51bWJlclwiO1xuXHQgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuXHQgIHZtLm1hY0RldmljZXMgPSB7fTtcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHRcblx0ICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uICh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgZGV2aWNlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpO1xuXHQgICAgcmV0dXJuIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0uZGV2aWNlc1ByZXYgPSBkYXRhW1wicHJldl9jdXJzb3JcIl07XG5cdCAgICAgIHZtLmRldmljZXNOZXh0ID0gZGF0YVtcIm5leHRfY3Vyc29yXCJdO1xuXHQgICAgICB2bS50ZW5hbnREZXZpY2VzID0gZGF0YVtcImRldmljZXNcIl07XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtKTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZWZyZXNoRGV2aWNlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcblx0ICAgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcblx0ICAgIHZtLnRlbmFudERldmljZXMgPSBudWxsO1xuXHQgICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcblx0ICB9O1xuXHRcblx0ICBpZiAodm0uZWRpdE1vZGUpIHtcblx0ICAgIHZhciB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodm0udGVuYW50S2V5KTtcblx0ICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50ID0gdGVuYW50O1xuXHQgICAgfSk7XG5cdCAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIG51bGwpO1xuXHQgIH1cblx0XG5cdCAgJHNjb3BlLnRhYkluZGV4ID0gMTtcblx0XG5cdCAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcblx0ICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHN3aXRjaCAodG9UYWIpIHtcblx0ICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAzOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSA0OlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50T3ZlcmxheXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDU6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2dzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uIChwYXJ0aWFsKSB7XG5cdCAgICB2YXIgdW5tYW5hZ2VkID0gZmFsc2U7XG5cdCAgICB2YXIgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG5cdCAgICB2YXIgYnlUZW5hbnQgPSB0cnVlO1xuXHQgICAgdmFyIHRlbmFudEtleSA9IHZtLnRlbmFudEtleTtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdmFyIGRldmljZXNUb1JldHVybiA9IHZvaWQgMDtcblx0ICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcblx0ICAgICAgICB2YXIgZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG5cdCAgICAgICAgaWYgKGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcblx0ICAgICAgICAgIHZtLnNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PT0gXCJNQUNcIikge1xuXHQgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IGRldmljZXNUb1JldHVybjtcblx0ICAgICAgICByZXR1cm4gZGV2aWNlc1RvUmV0dXJuO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIHZtLmRldmljZXNOZXh0KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCBudWxsKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnByZXByYXRlRm9yRWRpdFZpZXcodm0uc2VsZWN0ZWRCdXR0b24sIHZtLnRlbmFudEtleSwgc2VhcmNoVGV4dCwgdm0ubWFjRGV2aWNlcywgdm0uc2VyaWFsRGV2aWNlcywgdm0uZ2NtaWREZXZpY2VzKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uIChpc01hdGNoKSB7XG5cdCAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuXHQgICAgcmV0dXJuIHZtLmxvYWRpbmdEaXNhYmxlZCA9IGZhbHNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuXHQgICAgdmFyIGZvdW5kTWF0Y2ggPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHQgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKHZtLmRldmljZXNUb01hdGNoT24pLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTtcblx0XG5cdCAgICAgICAgaWYgKHJlc291cmNlID09PSBpdGVtKSB7XG5cdCAgICAgICAgICBmb3VuZE1hdGNoID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdCAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0ICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZtLmNvbnRyb2xPcGVuQnV0dG9uKGZvdW5kTWF0Y2gpO1xuXHQgICAgcmV0dXJuIGZvdW5kTWF0Y2g7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybCA9IFRlbmFudE1hbmFnZWREZXZpY2VzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzMyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybC4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJEZXZpY2VzU2VydmljZVwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIiRzdGF0ZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjUzKTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsICRzdGF0ZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5jdXJyZW50VGVuYW50ID0ge1xuXHQgICAga2V5OiB1bmRlZmluZWQsXG5cdCAgICBuYW1lOiB1bmRlZmluZWQsXG5cdCAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuXHQgICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG5cdCAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG5cdCAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuXHQgICAgYWN0aXZlOiB0cnVlXG5cdCAgfTtcblx0ICB2bS5nY21pZERldmljZXMgPSBbXTtcblx0ICB2bS50ZW5hbnREZXZpY2VzID0gW107XG5cdCAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcblx0ICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiTUFDXCI7XG5cdCAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuXHQgIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHQgIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdFxuXHQgICRzY29wZS50YWJJbmRleCA9IDI7XG5cdFxuXHQgICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG5cdCAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBzd2l0Y2ggKHRvVGFiKSB7XG5cdCAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAyOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgNDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSA1OlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtKTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBkZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldFVubWFuYWdlZERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcik7XG5cdCAgICByZXR1cm4gZGV2aWNlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5kZXZpY2VzUHJldiA9IGRhdGFbXCJwcmV2X2N1cnNvclwiXTtcblx0ICAgICAgdm0uZGV2aWNlc05leHQgPSBkYXRhW1wibmV4dF9jdXJzb3JcIl07XG5cdCAgICAgIHZtLnRlbmFudERldmljZXMgPSBkYXRhW1wiZGV2aWNlc1wiXTtcblx0ICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHZtLnRlbmFudEtleSk7XG5cdCAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcblx0ICAgIH0pO1xuXHQgICAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIG51bGwpO1xuXHQgIH1cblx0XG5cdCAgdm0ucmVmcmVzaERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgICB2bS50ZW5hbnREZXZpY2VzID0gbnVsbDtcblx0ICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5jaGFuZ2VSYWRpbyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICAgIHZtLm1hY0RldmljZXMgPSB7fTtcblx0ICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBbXTtcblx0ICB9O1xuXHRcblx0ICB2bS5zZWFyY2hEZXZpY2VzID0gZnVuY3Rpb24gKHBhcnRpYWwpIHtcblx0ICAgIHZhciB1bm1hbmFnZWQgPSB0cnVlO1xuXHQgICAgdmFyIGJ5VGVuYW50ID0gdHJ1ZTtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIHZtLnNlbGVjdGVkQnV0dG9uLCBieVRlbmFudCwgdm0udGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2YXIgZGV2aWNlc1RvUmV0dXJuID0gdm9pZCAwO1xuXHQgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuXHQgICAgICAgIHZhciBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcblx0ICAgICAgICBpZiAodm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG5cdCAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgfSBlbHNlIGlmICh2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJNQUNcIikge1xuXHQgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IGRldmljZXNUb1JldHVybjtcblx0ICAgICAgICByZXR1cm4gZGV2aWNlc1RvUmV0dXJuO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgbnVsbCwgdm0uZGV2aWNlc05leHQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ucHJlcGFyZUZvckVkaXRWaWV3ID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5wcmVwcmF0ZUZvckVkaXRWaWV3KHZtLnNlbGVjdGVkQnV0dG9uLCB2bS50ZW5hbnRLZXksIHNlYXJjaFRleHQsIHZtLm1hY0RldmljZXMsIHZtLnNlcmlhbERldmljZXMsIHZtLmdjbWlkRGV2aWNlcyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAoaXNNYXRjaCkge1xuXHQgICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcblx0ICAgIHZtLmxvYWRpbmdEaXNhYmxlZCA9IGZhbHNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuXHQgICAgdmFyIGZvdW5kTWF0Y2ggPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHQgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKHZtLmRldmljZXNUb01hdGNoT24pLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTtcblx0XG5cdCAgICAgICAgaWYgKHJlc291cmNlID09PSBpdGVtKSB7XG5cdCAgICAgICAgICBmb3VuZE1hdGNoID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdCAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0ICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZtLmNvbnRyb2xPcGVuQnV0dG9uKGZvdW5kTWF0Y2gpO1xuXHQgICAgcmV0dXJuIGZvdW5kTWF0Y2g7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwgPSBUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzMzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0VGVuYW50c0N0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVwiLCBcIiRsb2dcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcInN3ZWV0XCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5UZW5hbnRzQ3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTMpO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcjIpO1xuXHRcblx0dmFyIF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2Mik7XG5cdFxuXHR2YXIgX2phdmFzY3JpcHROYXR1cmFsU29ydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFRlbmFudHNDdHJsKCRzdGF0ZSwgJGxvZywgVGVuYW50c1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgc3dlZXQpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdFxuXHQgIC8vIFBhZ2luYXRlZCBUZW5hbnRzXG5cdCAgdm0udGVuYW50cyA9IFtdO1xuXHQgIC8vIEN1cnJlbnQgU2VhcmNoIG9mIFRlbmFudHMgUmVzdWx0c1xuXHQgIHZtLnNlYXJjaGVkVGVuYW50cyA9IFtdO1xuXHQgIHZtLnNlYXJjaE1hdGNoID0gbnVsbDtcblx0ICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG5cdFxuXHQgIHZtLmdldFRlbmFudHNQYWdpbmF0ZWQgPSBmdW5jdGlvbiAocGFnZV9zaXplLCBvZmZzZXQpIHtcblx0ICAgIHZtLm9mZnNldCA9IG9mZnNldDtcblx0ICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmZldGNoQWxsVGVuYW50c1BhZ2luYXRlZChwYWdlX3NpemUsIG9mZnNldCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hTdWNjZXNzKHJlc3BvbnNlKTtcblx0ICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEZldGNoU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgdm0udGVuYW50cyA9IHJlc3BvbnNlLnRlbmFudHM7XG5cdCAgICB2bS50b3RhbCA9IHJlc3BvbnNlLnRvdGFsO1xuXHQgICAgdm0uaXNfZmlyc3RfcGFnZSA9IHJlc3BvbnNlLmlzX2ZpcnN0X3BhZ2U7XG5cdCAgICB2bS5pc19sYXN0X3BhZ2UgPSByZXNwb25zZS5pc19sYXN0X3BhZ2U7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiB2bS5sb2FkaW5nID0gZmFsc2U7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0RmV0Y2hGYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZhciBlcnJvck1lc3NhZ2UgPSAnVW5hYmxlIHRvIGZldGNoIHRlbmFudHMuIEVycm9yOiAnICsgcmVzcG9uc2Uuc3RhdHVzICsgJyAnICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCArICcuJztcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0ub2Zmc2V0ID0gMDtcblx0ICAgIHZtLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUoJ215Jyk7XG5cdCAgICByZXR1cm4gdm0uZ2V0VGVuYW50c1BhZ2luYXRlZCgxMDAsIHZtLm9mZnNldCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VhcmNoQWxsVGVuYW50c0J5TmFtZSA9IGZ1bmN0aW9uICh0ZW5hbnRfbmFtZSkge1xuXHQgICAgaWYgKCF0ZW5hbnRfbmFtZSB8fCB0ZW5hbnRfbmFtZS5sZW5ndGggPCAzKSB7XG5cdCAgICAgIHJldHVybiBbXTtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2VhcmNoQWxsVGVuYW50c0J5TmFtZSh0ZW5hbnRfbmFtZSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2bS5zZWFyY2hlZFRlbmFudHMgPSByZXNwb25zZTtcblx0ICAgICAgaWYgKHZtLnNlYXJjaGVkVGVuYW50cykge1xuXHQgICAgICAgIHJldHVybiB2bS5zZWFyY2hlZFRlbmFudHMubWFwKGZ1bmN0aW9uIChpKSB7XG5cdCAgICAgICAgICByZXR1cm4gaS5uYW1lO1xuXHQgICAgICAgIH0pLnNvcnQoX2phdmFzY3JpcHROYXR1cmFsU29ydDIuZGVmYXVsdCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gJ1VuYWJsZSB0byBmZXRjaCB0ZW5hbnRzLiBFcnJvcjogJyArIHJlc3BvbnNlLnN0YXR1cztcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNUZW5hbnRWYWxpZCA9IGZ1bmN0aW9uICh0ZW5hbnRfbmFtZSkge1xuXHQgICAgaWYgKCF0ZW5hbnRfbmFtZSB8fCB0ZW5hbnRfbmFtZS5sZW5ndGggPCAzKSB7XG5cdCAgICAgIHJldHVybiBbXTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbWF0Y2ggPSB2bS5zZWFyY2hlZFRlbmFudHM7XG5cdCAgICBpZiAobWF0Y2gpIHtcblx0ICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHQgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShtYXRjaCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcblx0ICAgICAgICAgIHZhciBlYWNoTmFtZSA9IF9zdGVwLnZhbHVlO1xuXHRcblx0ICAgICAgICAgIGlmICh0ZW5hbnRfbmFtZSA9PT0gZWFjaE5hbWUubmFtZSkge1xuXHQgICAgICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB2bS5zZWFyY2hNYXRjaCA9IGVhY2hOYW1lO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdCAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG5cdCAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7IHRlbmFudEtleTogaXRlbS5rZXkgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZGVsZXRlSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjaygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5kZWxldGUoaXRlbSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB2bS5pbml0aWFsaXplKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdyh7XG5cdCAgICAgIHRpdGxlOiBcIkFyZSB5b3Ugc3VyZT9cIixcblx0ICAgICAgdGV4dDogXCJUaGlzIHdpbGwgcGVybWFuZW50bHkgcmVtb3ZlIHRoZSB0ZW5hbnQgZnJvbSB0aGUgc3lzdGVtLlwiLFxuXHQgICAgICB0eXBlOiBcIndhcm5pbmdcIixcblx0ICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcblx0ICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcIiNERDZCNTVcIixcblx0ICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwiWWVzLCByZW1vdmUgdGhlIHRlbmFudCFcIixcblx0ICAgICAgY2xvc2VPbkNvbmZpcm06IHRydWVcblx0ICAgIH0sIGNhbGxiYWNrKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5UZW5hbnRzQ3RybCA9IFRlbmFudHNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MzQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRXZWxjb21lQ3RybC4kaW5qZWN0ID0gW1wiVmVyc2lvbnNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwiJHJvb3RTY29wZVwiLCBcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBXZWxjb21lQ3RybChWZXJzaW9uc1NlcnZpY2UsICRzdGF0ZSwgJHJvb3RTY29wZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnBhdWxzQ3VycmVudERpc3RyaWJ1dG9yTmFtZSA9ICRyb290U2NvcGUucGF1bHNDdXJyZW50RGlzdHJpYnV0b3JOYW1lO1xuXHQgIHZtLnZlcnNpb25fZGF0YSA9IFtdO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHRcblx0ICB2bS5wcm9jZWVkVG9TaWduSW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdzaWduX2luJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY2FwaXRhbGl6ZUZpcnN0TGV0dGVyID0gZnVuY3Rpb24gKHN0cmluZykge1xuXHQgICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcblx0ICB9O1xuXHRcblx0ICB2bS5naXZlT3B0aW9uVG9DaGFuZ2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBkaXN0cmlidXRvcnNQcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5mZXRjaEFsbEJ5VXNlcihTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpKTtcblx0ICAgIHJldHVybiBkaXN0cmlidXRvcnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0uaGFzX211bHRpcGxlX2Rpc3RyaWJ1dG9ycyA9IGRhdGEubGVuZ3RoID4gMTtcblx0ICAgICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNoYW5nZURpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnZGlzdHJpYnV0b3Jfc2VsZWN0aW9uJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBwcm9taXNlID0gVmVyc2lvbnNTZXJ2aWNlLmdldFZlcnNpb25zKCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS52ZXJzaW9uX2RhdGEgPSBkYXRhO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmlkZW50aXR5ID0ge1xuXHQgICAgICBrZXk6IFNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCksXG5cdCAgICAgIGVtYWlsOiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCksXG5cdCAgICAgIGRpc3RyaWJ1dG9yS2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksXG5cdCAgICAgIGRpc3RyaWJ1dG9yTmFtZTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKVxuXHQgICAgfTtcblx0XG5cdCAgICB2bS5naXZlT3B0aW9uVG9DaGFuZ2VEaXN0cmlidXRvcigpO1xuXHRcblx0ICAgIGlmICghdm0uaWRlbnRpdHkuZW1haWwpIHtcblx0ICAgICAgcmV0dXJuICRzdGF0ZS5nbyhcInNpZ25faW5cIik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0VmVyc2lvbigpO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuV2VsY29tZUN0cmwgPSBXZWxjb21lQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzM1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5yb3V0ZXMgPSByb3V0ZXM7XG5cdGZ1bmN0aW9uIHJvdXRlcygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCBSZXN0YW5ndWxhclByb3ZpZGVyKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNpZ25faW5cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpZGVudGl0eTogW1wiSWRlbnRpdHlTZXJ2aWNlXCIsIGZ1bmN0aW9uIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgfV0sXG5cdCAgICAgIG5vdEF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIG5vdEF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2Uubm90QXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvc2lnbl9pblwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2F1dGhlbnRpY2F0aW9uL3NpZ25faW4uaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJBdXRoZW50aWNhdGlvbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2F1dGhlbnRpY2F0aW9uQ3RybCdcblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNpZ25lZF9vdXRcIiwge1xuXHQgICAgdXJsOiBcIi9zaWduZWRfb3V0XCIsXG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGlkZW50aXR5OiBbXCJJZGVudGl0eVNlcnZpY2VcIiwgZnVuY3Rpb24gaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuXHQgICAgICB9XSxcblx0ICAgICAgbm90QXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gbm90QXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5ub3RBdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2F1dGhlbnRpY2F0aW9uL3NpZ25lZF9vdXQuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJBdXRoZW50aWNhdGlvbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2F1dGhlbnRpY2F0aW9uQ3RybCdcblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNpZ25fb3V0XCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaWRlbnRpdHk6IFtcIklkZW50aXR5U2VydmljZVwiLCBmdW5jdGlvbiBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG5cdCAgICAgIH1dLFxuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3NpZ25fb3V0XCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYXV0aGVudGljYXRpb24vc2lnbl9vdXQuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJBdXRoZW50aWNhdGlvbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2F1dGhlbnRpY2F0aW9uQ3RybCdcblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImRpc3RyaWJ1dG9yX3NlbGVjdGlvblwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvZGlzdHJpYnV0b3Jfc2VsZWN0aW9uXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3Jfc2VsZWN0b3IuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJEaXN0cmlidXRvclNlbGVjdG9yQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndm0nXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcblx0ICAgIHVybDogXCIvXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvd2VsY29tZS93ZWxjb21lLmh0bWxcIixcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaWRlbnRpdHk6IFtcIklkZW50aXR5U2VydmljZVwiLCBmdW5jdGlvbiBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG5cdCAgICAgIH1dLFxuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICBjb250cm9sbGVyOiBcIldlbGNvbWVDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd3ZWxjb21lQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnU2t5a2l0IFByb3Zpc2lvbmluZydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcIndlbGNvbWVcIiwge1xuXHQgICAgdXJsOiBcIi93ZWxjb21lXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvd2VsY29tZS93ZWxjb21lLmh0bWxcIixcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaWRlbnRpdHk6IFtcIklkZW50aXR5U2VydmljZVwiLCBmdW5jdGlvbiBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG5cdCAgICAgIH1dLFxuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICBjb250cm9sbGVyOiBcIldlbGNvbWVDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd3ZWxjb21lQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnU2t5a2l0IFByb3Zpc2lvbmluZydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImRvbWFpbnNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2RvbWFpbnNcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kb21haW4vZG9tYWlucy1saXN0aW5nLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2RvbWFpbnNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdEb21haW5zJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkRG9tYWluXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9kb21haW5zL2FkZFwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW4tZGV0YWlsLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluRGV0YWlsc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2RvbWFpbkRldGFpbHNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdBZGQgZG9tYWluJyxcblx0ICAgICAgcGFyZW50OiAnZG9tYWlucydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXREb21haW5cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2RvbWFpbnMvOmRvbWFpbktleVwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW4tZGV0YWlsLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluRGV0YWlsc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2RvbWFpbkRldGFpbHNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyBkb21haW5EZXRhaWxzQ3RybC5jdXJyZW50RG9tYWluLm5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICdkb21haW5zJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50c1wiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50c1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnRzLWxpc3RpbmcuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRzQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50c0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ1RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJhZGRUZW5hbnRcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvYWRkXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1hZGQuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRBZGRDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRBZGRDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdBZGQgdGVuYW50Jyxcblx0ICAgICAgcGFyZW50OiAndGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudERldGFpbHNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9kZXRhaWxzXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1kZXRhaWxzLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50RGV0YWlsc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudERldGFpbHNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnREZXRhaWxzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50TWFuYWdlZERldmljZXNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9tYW5hZ2VkXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1tYW5hZ2VkLWRldmljZXMuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudE1hbmFnZWREZXZpY2VzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50TWFuYWdlZERldmljZXNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRVbm1hbmFnZWREZXZpY2VzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvdW5tYW5hZ2VkXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC11bm1hbmFnZWQtZGV2aWNlcy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19Jyxcblx0ICAgICAgcGFyZW50OiAndGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudExvZ3NcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9sb2dzXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2dzLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9nc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvZ3NDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2dzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50T3ZlcmxheXNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9vdmVybGF5c1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtb3ZlcmxheXMuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRPdmVybGF5c0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudE92ZXJsYXlzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50T3ZlcmxheXNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRMb2NhdGlvbnNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9sb2NhdGlvbnNcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9ucy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudExvY2F0aW9uc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvY2F0aW9uc0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IHRlbmFudExvY2F0aW9uc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19Jyxcblx0ICAgICAgcGFyZW50OiAndGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXRMb2NhdGlvblwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvbG9jYXRpb25zLzpsb2NhdGlvbktleVwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvY2F0aW9uQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9jYXRpb25DdHJsLnRlbmFudE5hbWUgfX0gIC8ge3sgdGVuYW50TG9jYXRpb25DdHJsLmxvY2F0aW9uTmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJhZGRMb2NhdGlvblwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2xvY2F0aW9uXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbi5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudExvY2F0aW9uQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50TG9jYXRpb25DdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2NhdGlvbkN0cmwudGVuYW50TmFtZSB9fSAgLyBMb2NhdGlvbicsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkZXZpY2VzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9kZXZpY2VzXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGV2aWNlL2RldmljZXMtbGlzdGluZy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkRldmljZXNMaXN0aW5nQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnZGV2aWNlc0xpc3RpbmdDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdEZXZpY2VzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZWRpdERldmljZVwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGlkZW50aXR5OiBbXCJJZGVudGl0eVNlcnZpY2VcIiwgZnVuY3Rpb24gaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuXHQgICAgICB9XSxcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9kZXZpY2VzLzpkZXZpY2VLZXk/dGVuYW50S2V5P2Zyb21EZXZpY2VzXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGV2aWNlL2RldmljZS1kZXRhaWwuaHRtbFwiLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IGRldmljZURldGFpbHNDdHJsLmN1cnJlbnREZXZpY2Uua2V5IH19Jyxcblx0ICAgICAgcGFyZW50OiAnZGV2aWNlcydcblx0ICAgIH0sXG5cdCAgICBjb250cm9sbGVyOiAnRGV2aWNlRGV0YWlsc0N0cmwnLFxuXHQgICAgZnVuY3Rpb246IGZ1bmN0aW9uIF9mdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xuXHQgICAgICAkc2NvcGUudGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfSxcblx0XG5cdCAgICBjb250cm9sbGVyQXM6ICdkZXZpY2VEZXRhaWxzQ3RybCdcblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInByb29mXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9wcm9vZlwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3Byb29mL21haW4uaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJQcm9vZk9mUGxheUN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdQcm9vZiBvZiBQbGF5J1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwicHJvb2ZEZXRhaWxcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3Byb29mLzp0ZW5hbnRcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wcm9vZi9kZXRhaWwuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJQcm9vZk9mUGxheUN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdQcm9vZiBvZiBQbGF5J1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRtaW5cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpc0FkbWluOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBpc0FkbWluKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4oKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2FkbWluXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYWRtaW4vYWRtaW4uaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJBZG1pbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdBZG1pbidcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInJlZGlyZWN0XCIsIHtcblx0ICAgIHVybDogXCIvcmVkaXJlY3RcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9yZWRpcmVjdC9yZWRpcmVjdC5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlJlZGlyZWN0Q3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndm0nLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ1JlZGlyZWN0J1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvc2lnbl9pbicpO1xuXHRcblx0ICBSZXN0YW5ndWxhclByb3ZpZGVyLnNldEJhc2VVcmwoJy9pbnRlcm5hbC92MScpO1xuXHRcblx0ICBSZXN0YW5ndWxhclByb3ZpZGVyLmFkZFJlc3BvbnNlSW50ZXJjZXB0b3IoZnVuY3Rpb24gKGRhdGEsIG9wZXJhdGlvbiwgcmVzb3VyY2VUeXBlLCB1cmwsIHJlc3BvbnNlLCBkZWZlcnJlZCkge1xuXHQgICAgdmFyIHJlc3VsdCA9IGRhdGE7XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gUmVzdGFuZ3VsYXJQcm92aWRlci5zZXRSZXN0YW5ndWxhckZpZWxkcyh7XG5cdCAgICBpZDogJ2tleSdcblx0ICB9KTtcblx0fVxuXHRcblx0cm91dGVzLiRpbmplY3QgPSBbXCIkc3RhdGVQcm92aWRlclwiLCBcIiR1cmxSb3V0ZXJQcm92aWRlclwiLCBcIlJlc3Rhbmd1bGFyUHJvdmlkZXJcIl07XG5cbi8qKiovIH0sXG5cbi8qKiovIDczNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGFwcFJ1bi4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIiwgXCIkbG9jYXRpb25cIiwgXCIkaW5qZWN0b3JcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJHRpbWVvdXRcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmFwcFJ1biA9IGFwcFJ1bjtcblx0ZnVuY3Rpb24gYXBwUnVuKFJlc3Rhbmd1bGFyLCAkbG9jYXRpb24sICRpbmplY3RvciwgJHJvb3RTY29wZSwgJHRpbWVvdXQpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciBzdGF0ZUNoYW5nZVdhdGNoID0gZnVuY3Rpb24gc3RhdGVDaGFuZ2VXYXRjaCgpIHtcblx0ICAgIHZhciBzdGF0ZSA9ICRpbmplY3Rvci5nZXQoJyRzdGF0ZScpO1xuXHQgICAgcmV0dXJuICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsIGZ1bmN0aW9uIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3IpIHtcblx0ICAgICAgaWYgKGVycm9yWzBdID09PSBcImF1dGhFcnJvclwiKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0YXRlLmdvKGVycm9yWzFdKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgJHRpbWVvdXQoc3RhdGVDaGFuZ2VXYXRjaCwgNTAwKTtcblx0XG5cdCAgdmFyIHJlcXVlc3RJbnRlcmNlcHRvciA9IGZ1bmN0aW9uIHJlcXVlc3RJbnRlcmNlcHRvcigpIHtcblx0ICAgIFJlc3Rhbmd1bGFyLmFkZFJlcXVlc3RJbnRlcmNlcHRvcihmdW5jdGlvbiAoZWxlbSwgb3BlcmF0aW9uLCB3aGF0LCB1cmwpIHtcblx0ICAgICAgdmFyIFN0b3JhZ2VTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnU3RvcmFnZVNlcnZpY2UnKTtcblx0XG5cdCAgICAgIHZhciBhdXRoVG9rZW4gPSAnNkMzNDY1ODhCRDRDNkQ3MjJBMTE2NUI0M0M1MUMnO1xuXHQgICAgICBpZiAoJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xKSB7XG5cdCAgICAgICAgYXV0aFRva2VuID0gJzVYWkhCRjNtT3dxSmxZQWxHMU5lZVdYMENiNzJnJztcblx0ICAgICAgfVxuXHQgICAgICBSZXN0YW5ndWxhci5zZXREZWZhdWx0SGVhZGVycyh7XG5cdCAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcblx0ICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHQgICAgICAgICdBdXRob3JpemF0aW9uJzogYXV0aFRva2VuLFxuXHQgICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5JyksXG5cdCAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLURpc3RyaWJ1dG9yJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCdjdXJyZW50RGlzdHJpYnV0b3JLZXknKVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIGlmIChvcGVyYXRpb24gPT09ICdyZW1vdmUnKSB7XG5cdCAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIGVsZW07XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICAkdGltZW91dChyZXF1ZXN0SW50ZXJjZXB0b3IsIDUwMCk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNzM3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMudG9hc3RyQ29uZmlnID0gdG9hc3RyQ29uZmlnO1xuXHRleHBvcnRzLmJyZWFkY3J1bWJQcm92aWRlciA9IGJyZWFkY3J1bWJQcm92aWRlcjtcblx0XG5cdHZhciBfYW5ndWxhciA9IF9fd2VicGFja19yZXF1aXJlX18oMzY5KTtcblx0XG5cdHZhciBfYW5ndWxhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmd1bGFyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiB0b2FzdHJDb25maWcodG9hc3RyQ29uZmlnKSB7XG5cdCAgX2FuZ3VsYXIyLmRlZmF1bHQuZXh0ZW5kKHRvYXN0ckNvbmZpZywge1xuXHQgICAgcHJvZ3Jlc3NCYXI6IHRydWUsXG5cdCAgICBjbG9zZUJ1dHRvbjogdHJ1ZSxcblx0ICAgIHRhcFRvRGlzbWlzczogdHJ1ZSxcblx0ICAgIG5ld2VzdE9uVG9wOiB0cnVlLFxuXHQgICAgcG9zaXRpb25DbGFzczogJ3RvYXN0LWJvdHRvbS1sZWZ0Jyxcblx0ICAgIHRpbWVPdXQ6IDUwMDBcblx0ICB9KTtcblx0fVxuXHR0b2FzdHJDb25maWcuJGluamVjdCA9IFsndG9hc3RyQ29uZmlnJ107XG5cdFxuXHRmdW5jdGlvbiBicmVhZGNydW1iUHJvdmlkZXIoJGJyZWFkY3J1bWJQcm92aWRlcikge1xuXHQgICRicmVhZGNydW1iUHJvdmlkZXIuc2V0T3B0aW9ucyh7XG5cdCAgICBwcmVmaXhTdGF0ZU5hbWU6ICdob21lJyxcblx0ICAgIHRlbXBsYXRlOiAnYm9vdHN0cmFwMydcblx0ICB9KTtcblx0fVxuXHRcblx0YnJlYWRjcnVtYlByb3ZpZGVyLiRpbmplY3QgPSBbXCIkYnJlYWRjcnVtYlByb3ZpZGVyXCJdO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3Mzg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdFJlZGlyZWN0Q3RybC4kaW5qZWN0ID0gW1wiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwiJHRpbWVvdXRcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBSZWRpcmVjdEN0cmwoU2Vzc2lvbnNTZXJ2aWNlLCAkc3RhdGUsICR0aW1lb3V0KSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHRcblx0ICBTZXNzaW9uc1NlcnZpY2UucmVtb3ZlVXNlckluZm8oKTtcblx0XG5cdCAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgJHN0YXRlLmdvKCdzaWduX2luJyk7XG5cdCAgfSwgODAwMCk7XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLlJlZGlyZWN0Q3RybCA9IFJlZGlyZWN0Q3RybDtcblxuLyoqKi8gfVxuXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwLmJ1bmRsZS5qcyIsImltcG9ydCB7YXBwfSBmcm9tIFwiLi9hcHBcIjtcbmltcG9ydCB7RGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybH0gZnJvbSBcIi4vZGV2aWNlL2RldmljZS1kZXRhaWwtY29tbWFuZFwiO1xuaW1wb3J0IHtEZXZpY2VEZXRhaWxzQ3RybH0gZnJvbSBcIi4vZGV2aWNlL2RldmljZS1kZXRhaWxzLmNvbnRyb2xsZXJcIjtcbmltcG9ydCB7RGV2aWNlc0xpc3RpbmdDdHJsfSBmcm9tIFwiLi9kZXZpY2UvZGV2aWNlcy1saXN0aW5nLmNvbnRyb2xsZXJcIjtcbmltcG9ydCB7QWRtaW5DdHJsfSBmcm9tIFwiLi9hZG1pbi9hZG1pbi1jb250cm9sbGVyXCI7XG5pbXBvcnQge0F1dGhlbnRpY2F0aW9uQ3RybH0gZnJvbSBcIi4vYXV0aGVudGljYXRpb24vYXV0aGVudGljYXRpb24tY29udHJvbGxlclwiO1xuaW1wb3J0IHtBcHBDb250cm9sbGVyfSBmcm9tIFwiLi9hcHAvYXBwLWNvbnRyb2xsZXJcIjtcbmltcG9ydCB7RGlzdHJpYnV0b3JTZWxlY3RvckN0cmx9IGZyb20gXCIuL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9yLXNlbGVjdG9yLWNvbnRyb2xsZXJcIjtcbmltcG9ydCB7RGlzdHJpYnV0b3JzQ3RybH0gZnJvbSBcIi4vZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3JzLWNvbnRyb2xsZXJcIjtcbmltcG9ydCB7RG9tYWluc0N0cmx9IGZyb20gXCIuL2RvbWFpbi9kb21haW5zLmNvbnRyb2xsZXJcIjtcbmltcG9ydCB7RG9tYWluRGV0YWlsc0N0cmx9IGZyb20gXCIuL2RvbWFpbi9kb21haW4tZGV0YWlscy5jb250cm9sbGVyXCI7XG5pbXBvcnQge1Byb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmx9IGZyb20gXCIuL3Byb29mL211bHRpLWxvY2F0aW9uLmNvbnRyb2xsZXJcIjtcbmltcG9ydCB7UHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsfSBmcm9tIFwiLi9wcm9vZi9tdWx0aS1kaXNwbGF5LmNvbnRyb2xsZXJcIjtcbmltcG9ydCB7UHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybH0gZnJvbSBcIi4vcHJvb2YvbXVsdGktcmVzb3VyY2UuY29udHJvbGxlclwiO1xuaW1wb3J0IHtQcm9vZk9mUGxheUN0cmx9IGZyb20gXCIuL3Byb29mL3Byb29mLW9mLXBsYXkuY29udHJvbGxlclwiO1xuaW1wb3J0IEltYWdlU2VydmljZSBmcm9tIFwiLi9zZXJ2aWNlcy9pbWFnZS5zZXJ2aWNlXCI7XG5pbXBvcnQgQWRtaW5TZXJ2aWNlIGZyb20gXCIuL3NlcnZpY2VzL2FkbWluLnNlcnZpY2VcIjtcbmltcG9ydCBBdXRob3JpemF0aW9uU2VydmljZSBmcm9tIFwiLi9zZXJ2aWNlcy9hdXRob3JpemF0aW9uLnNlcnZpY2VcIjtcbmltcG9ydCBDb21tYW5kc1NlcnZpY2UgZnJvbSBcIi4vc2VydmljZXMvY29tbWFuZHMuc2VydmljZVwiO1xuaW1wb3J0IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlIGZyb20gXCIuL3NlcnZpY2VzL2RhdGVtYW5pcHVsYXRpb24uc2VydmljZVwiO1xuaW1wb3J0IERldmljZXNTZXJ2aWNlIGZyb20gXCIuL3NlcnZpY2VzL2RldmljZXMuc2VydmljZVwiO1xuaW1wb3J0IERpc3RyaWJ1dG9yc1NlcnZpY2UgZnJvbSBcIi4vc2VydmljZXMvZGlzdHJpYnV0b3JzLnNlcnZpY2VcIjtcbmltcG9ydCBEb21haW5zU2VydmljZSBmcm9tIFwiLi9zZXJ2aWNlcy9kb21haW5zLnNlcnZpY2VcIjtcbmltcG9ydCBJZGVudGl0eVNlcnZpY2UgZnJvbSBcIi4vc2VydmljZXMvaWRlbnRpdHkuc2VydmljZVwiO1xuaW1wb3J0IEludGVncmF0aW9uRXZlbnRzIGZyb20gXCIuL3NlcnZpY2VzL2ludGVncmF0aW9uLWV2ZW50cy5zZXJ2aWNlXCI7XG5pbXBvcnQgTG9jYXRpb25zU2VydmljZSBmcm9tIFwiLi9zZXJ2aWNlcy9sb2NhdGlvbnMuc2VydmljZVwiO1xuaW1wb3J0IFByb2dyZXNzQmFyU2VydmljZSBmcm9tIFwiLi9zZXJ2aWNlcy9wcm9ncmVzc2Jhci5zZXJ2aWNlXCI7XG5pbXBvcnQgUHJvb2ZQbGF5U2VydmljZSBmcm9tIFwiLi9zZXJ2aWNlcy9wcm9vZnBsYXkuc2VydmljZVwiO1xuaW1wb3J0IFNlc3Npb25zU2VydmljZSBmcm9tIFwiLi9zZXJ2aWNlcy9zZXNzaW9ucy5zZXJ2aWNlXCI7XG5pbXBvcnQgU3RvcmFnZVNlcnZpY2UgZnJvbSBcIi4vc2VydmljZXMvc3RvcmFnZS5zZXJ2aWNlXCI7XG5pbXBvcnQgVGVuYW50c1NlcnZpY2UgZnJvbSBcIi4vc2VydmljZXMvdGVuYW50cy5zZXJ2aWNlXCI7XG5pbXBvcnQgVGltZXpvbmVzU2VydmljZSBmcm9tIFwiLi9zZXJ2aWNlcy90aW1lem9uZXMuc2VydmljZVwiO1xuaW1wb3J0IFRvYXN0c1NlcnZpY2UgZnJvbSBcIi4vc2VydmljZXMvdG9hc3RzLnNlcnZpY2VcIjtcbmltcG9ydCBWZXJzaW9uc1NlcnZpY2UgZnJvbSBcIi4vc2VydmljZXMvdmVyc2lvbnMuc2VydmljZVwiO1xuaW1wb3J0IHtUZW5hbnRMb2dzQ3RybH0gZnJvbSBcIi4vdGVuYW50L3RlbmFudC1sb2dzLmNvbnRyb2xsZXJcIjtcbmltcG9ydCB7VGVuYW50T3ZlcmxheXNDdHJsfSBmcm9tIFwiLi90ZW5hbnQvdGVuYW50LW92ZXJsYXlzLmNvbnRyb2xsZXJcIjtcbmltcG9ydCB7VGVuYW50QWRkQ3RybH0gZnJvbSBcIi4vdGVuYW50L3RlbmFudC1hZGQuY29udHJvbGxlclwiO1xuaW1wb3J0IHtUZW5hbnREZXRhaWxzQ3RybH0gZnJvbSBcIi4vdGVuYW50L3RlbmFudC1kZXRhaWxzLmNvbnRyb2xsZXJcIjtcbmltcG9ydCB7VGVuYW50TG9jYXRpb25DdHJsfSBmcm9tIFwiLi90ZW5hbnQvdGVuYW50LWxvY2F0aW9uLmNvbnRyb2xsZXJcIjtcbmltcG9ydCB7VGVuYW50TG9jYXRpb25zQ3RybH0gZnJvbSBcIi4vdGVuYW50L3RlbmFudC1sb2NhdGlvbnMuY29udHJvbGxlclwiO1xuaW1wb3J0IHtUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmx9IGZyb20gXCIuL3RlbmFudC90ZW5hbnQtbWFuYWdlZC1kZXZpY2VzLmNvbnRyb2xsZXJcIjtcbmltcG9ydCB7VGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmx9IGZyb20gXCIuL3RlbmFudC90ZW5hbnQtdW5tYW5hZ2VkLWRldmljZXMuY29udHJvbGxlclwiO1xuaW1wb3J0IHtUZW5hbnRzQ3RybH0gZnJvbSBcIi4vdGVuYW50L3RlbmFudHMuY29udHJvbGxlclwiO1xuaW1wb3J0IHtXZWxjb21lQ3RybH0gZnJvbSBcIi4vd2VsY29tZS93ZWxjb21lLWNvbnRyb2xsZXJcIjtcbmltcG9ydCB7cm91dGVzfSBmcm9tIFwiLi9hcHAtcm91dGVzXCI7XG5pbXBvcnQge2FwcFJ1bn0gZnJvbSBcIi4vYXBwLXJ1blwiO1xuaW1wb3J0IHt0b2FzdHJDb25maWcsIGJyZWFkY3J1bWJQcm92aWRlcn0gZnJvbSBcIi4vYXBwLWNvbmZpZ1wiO1xuaW1wb3J0IHtSZWRpcmVjdEN0cmx9IGZyb20gXCIuL3JlZGlyZWN0L3JlZGlyZWN0LmNvbnRyb2xsZXJcIjtcbi8vIERldmljZVxuLy8gQWRtaW5cbi8vIEF1dGhlbnRpY2F0aW9uXG4vLyBBcHBcbi8vIERpc3RyaWJ1dG9yc1xuLy8gRG9tYWluc1xuLy8gUHJvb2ZQbGF5XG4vLyBTZXJ2aWNlc1xuLy8gVGVuYW50XG4vLyBXZWxjb21lXG4vLyBDb25maWdcbi8vIFJlZGlyZWN0XG5cblxuYXBwXG4vLyBTZXJ2aWNlc1xuICAuc2VydmljZShcIlN0b3JhZ2VTZXJ2aWNlXCIsIFN0b3JhZ2VTZXJ2aWNlKVxuICAuc2VydmljZShcIkFkbWluU2VydmljZVwiLCBBZG1pblNlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgQXV0aG9yaXphdGlvblNlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiQ29tbWFuZHNTZXJ2aWNlXCIsIENvbW1hbmRzU2VydmljZSlcbiAgLnNlcnZpY2UoXCJEYXRlTWFuaXB1bGF0aW9uU2VydmljZVwiLCBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSlcbiAgLnNlcnZpY2UoXCJEZXZpY2VzU2VydmljZVwiLCBEZXZpY2VzU2VydmljZSlcbiAgLnNlcnZpY2UoXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCIsIERpc3RyaWJ1dG9yc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiRG9tYWluc1NlcnZpY2VcIiwgRG9tYWluc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiSWRlbnRpdHlTZXJ2aWNlXCIsIElkZW50aXR5U2VydmljZSlcbiAgLnNlcnZpY2UoXCJJbnRlZ3JhdGlvbkV2ZW50c1wiLCBJbnRlZ3JhdGlvbkV2ZW50cylcbiAgLnNlcnZpY2UoXCJMb2NhdGlvbnNTZXJ2aWNlXCIsIExvY2F0aW9uc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFByb2dyZXNzQmFyU2VydmljZSlcbiAgLnNlcnZpY2UoXCJQcm9vZlBsYXlTZXJ2aWNlXCIsIFByb29mUGxheVNlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFNlc3Npb25zU2VydmljZSlcbiAgLnNlcnZpY2UoXCJUZW5hbnRzU2VydmljZVwiLCBUZW5hbnRzU2VydmljZSlcbiAgLnNlcnZpY2UoXCJUaW1lem9uZXNTZXJ2aWNlXCIsIFRpbWV6b25lc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiVG9hc3RzU2VydmljZVwiLCBUb2FzdHNTZXJ2aWNlKVxuICAuc2VydmljZShcIlZlcnNpb25zU2VydmljZVwiLCBWZXJzaW9uc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiSW1hZ2VTZXJ2aWNlXCIsIEltYWdlU2VydmljZSlcbiAgLy8gRGV2aWNlXG4gIC5jb250cm9sbGVyKFwiRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybFwiLCBEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsKVxuICAuY29udHJvbGxlcihcIkRldmljZURldGFpbHNDdHJsXCIsIERldmljZURldGFpbHNDdHJsKVxuICAuY29udHJvbGxlcihcIkRldmljZXNMaXN0aW5nQ3RybFwiLCBEZXZpY2VzTGlzdGluZ0N0cmwpXG4gIC8vIEFkbWluXG4gIC5jb250cm9sbGVyKFwiQWRtaW5DdHJsXCIsIEFkbWluQ3RybClcbiAgLy8gQXV0aGVudGljYXRpb25cbiAgLmNvbnRyb2xsZXIoXCJBdXRoZW50aWNhdGlvbkN0cmxcIiwgQXV0aGVudGljYXRpb25DdHJsKVxuICAvLyBBcHBcbiAgLmNvbnRyb2xsZXIoXCJBcHBDb250cm9sbGVyXCIsIEFwcENvbnRyb2xsZXIpXG4gIC8vIERpc3RyaWJ1dG9yc1xuICAuY29udHJvbGxlcihcIkRpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsXCIsIERpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsKVxuICAuY29udHJvbGxlcihcIkRpc3RyaWJ1dG9yc0N0cmxcIiwgRGlzdHJpYnV0b3JzQ3RybClcbiAgLy8gRG9tYWluc1xuICAuY29udHJvbGxlcihcIkRvbWFpbnNDdHJsXCIsIERvbWFpbnNDdHJsKVxuICAuY29udHJvbGxlcihcIkRvbWFpbkRldGFpbHNDdHJsXCIsIERvbWFpbkRldGFpbHNDdHJsKVxuICAvLyBQcm9vZlBsYXlcbiAgLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsXCIsIFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwpXG4gIC5jb250cm9sbGVyKFwiUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsXCIsIFByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybClcbiAgLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsXCIsIFByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwpXG4gIC5jb250cm9sbGVyKFwiUHJvb2ZPZlBsYXlDdHJsXCIsIFByb29mT2ZQbGF5Q3RybClcbiAgLy8gVGVuYW50c1xuICAuY29udHJvbGxlcihcIlRlbmFudExvZ3NDdHJsXCIsIFRlbmFudExvZ3NDdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudE92ZXJsYXlzQ3RybFwiLCBUZW5hbnRPdmVybGF5c0N0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50QWRkQ3RybFwiLCBUZW5hbnRBZGRDdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudERldGFpbHNDdHJsXCIsIFRlbmFudERldGFpbHNDdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudExvY2F0aW9uQ3RybFwiLCBUZW5hbnRMb2NhdGlvbkN0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50TG9jYXRpb25zQ3RybFwiLCBUZW5hbnRMb2NhdGlvbnNDdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybFwiLCBUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmxcIiwgVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50c0N0cmxcIiwgVGVuYW50c0N0cmwpXG4gIC8vIFdlbGNvbWVcbiAgLmNvbnRyb2xsZXIoXCJXZWxjb21lQ3RybFwiLCBXZWxjb21lQ3RybClcbiAgLy8gUmVkaXJlY3RcbiAgLmNvbnRyb2xsZXIoXCJSZWRpcmVjdEN0cmxcIiwgUmVkaXJlY3RDdHJsKVxuICAvLyBhcHBSdW4gQmxvY2tcbiAgLnJ1bihhcHBSdW4pXG4gIC8vIENvbmZpZ1xuICAuY29uZmlnKHJvdXRlcylcbiAgLmNvbmZpZyh0b2FzdHJDb25maWcpXG4gIC5jb25maWcoYnJlYWRjcnVtYlByb3ZpZGVyKVxuXG5hcHAuY29uZmlnKGZ1bmN0aW9uIChSZXN0YW5ndWxhclByb3ZpZGVyKSB7XG5cbiAgLy8gYWRkIGEgcmVzcG9uc2UgaW50ZXJjZXB0b3JcbiAgUmVzdGFuZ3VsYXJQcm92aWRlci5zZXRFcnJvckludGVyY2VwdG9yKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDMwMiB8fCAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDMgJiYgcmVzcG9uc2UuZGF0YS5tZXNzYWdlID09PSBcIkF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIHRvIGFjY2VzcyB0aGlzIHJlc291cmNlXCIpKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiLyMvcmVkaXJlY3RcIlxuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfSlcblxufSlcblxuLy8gUmVxdWVzdCBJbnRlcmNlcHRvclxuYXBwLnNlcnZpY2UoJ1JlcXVlc3RJbnRlcmNlcHRvcicsIGZ1bmN0aW9uIChTdG9yYWdlU2VydmljZSwgJGxvY2F0aW9uKSB7XG4gIFwibmdJbmplY3RcIjtcbiAgbGV0IGludGVyY2VwdG9yID0ge1xuICAgIHJlcXVlc3QoY29uZmlnKSB7XG4gICAgICBsZXQgZ3MgPSAnNVhaSEJGM21Pd3FKbFlBbEcxTmVlV1gwQ2I3MmcnO1xuICAgICAgbGV0IHByb2QgPSAnNkMzNDY1ODhCRDRDNkQ3MjJBMTE2NUI0M0M1MUMnO1xuICAgICAgY29uZmlnLmhlYWRlcnMgPSB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdKV1QnOiBTdG9yYWdlU2VydmljZS5nZXQoJ0pXVCcpLFxuICAgICAgICAnb0F1dGgnOiBTdG9yYWdlU2VydmljZS5nZXQoJ29BdXRoJyksXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5JyksXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyLUlkZW50aWZpZXInOiBTdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJFbWFpbCcpLFxuICAgICAgICAnWC1Qcm92aXNpb25pbmctRGlzdHJpYnV0b3InOiBTdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG4gIH07XG4gIHJldHVybiBpbnRlcmNlcHRvcjtcbn0pO1xuXG5cbmFwcC5jb25maWcoJGh0dHBQcm92aWRlciA9PiAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdSZXF1ZXN0SW50ZXJjZXB0b3InKSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL2luZGV4LmpzIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSBcImFuZ3VsYXJcIjtcbmltcG9ydCB1aVJvdXRlciBmcm9tIFwiYW5ndWxhci11aS1yb3V0ZXJcIjtcbmltcG9ydCBcImFuZ3VsYXItdG9vbHRpcHNcIjtcbmltcG9ydCBcImxmLW5nLW1kLWZpbGUtaW5wdXRcIjtcbmltcG9ydCBcImxmLW5nLW1kLWZpbGUtaW5wdXQvZGlzdC9sZi1uZy1tZC1maWxlLWlucHV0LmNzc1wiO1xuaW1wb3J0IFwiYW5ndWxhci10b29sdGlwcy9kaXN0L2FuZ3VsYXItdG9vbHRpcHMuY3NzXCI7XG5pbXBvcnQgXCJhbmd1bGFyLXRvYXN0ci9kaXN0L2FuZ3VsYXItdG9hc3RyLmNzc1wiO1xuaW1wb3J0IFwiYW5ndWxhci10b2FzdHJcIjtcbmltcG9ydCBcImZvbnQtYXdlc29tZS9jc3MvZm9udC1hd2Vzb21lLmNzc1wiO1xuaW1wb3J0IFwibm9ybWFsaXplLmNzc1wiO1xuaW1wb3J0IFwiYm9vdHN0cmFwLXdlYnBhY2tcIjtcbmltcG9ydCBcIi4vY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3NcIjtcbmltcG9ydCBcIi4vY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuY3NzXCI7XG5pbXBvcnQgXCIuL2NvbXBvbmVudHMvYW5ndWxhckJyZWFkY3J1bWIvYW5ndWxhckJyZWFkY3J1bWJcIjtcbmltcG9ydCBcIi4vY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2pzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXJcIjtcbmltcG9ydCBcIi4vY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2Nzcy9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcIjtcbmltcG9ydCBcIi4vY29tcG9uZW50cy9hbmd1bGFyLWRpcmVjdGl2ZS5nLXNpZ25pbi9nb29nbGUtcGx1cy1zaWduaW5cIjtcbmltcG9ydCBcInJlc3Rhbmd1bGFyXCI7XG5pbXBvcnQgXCJhbmd1bGFyLW1hdGVyaWFsXCI7XG5pbXBvcnQgXCJzd2VldGFsZXJ0XCI7XG5pbXBvcnQgXCJhbmd1bGFyLWgtc3dlZXRhbGVydFwiO1xuaW1wb3J0IFwic3dlZXRhbGVydC9kaXN0L3N3ZWV0YWxlcnQuY3NzXCI7XG5pbXBvcnQgXCJhbmd1bGFyLWNvb2tpZXNcIjtcbmltcG9ydCBcImFuZ3VsYXItc2FuaXRpemVcIjtcbmltcG9ydCBcImFuZ3VsYXItdWktYm9vdHN0cmFwXCI7XG5pbXBvcnQgXCJuZ2NsaXBib2FyZFwiO1xuaW1wb3J0IFwianF1ZXJ5XCI7XG5pbXBvcnQgXCJhbmd1bGFyLWJyZWFkY3J1bWJcIjtcbmltcG9ydCBcImFuZ3VsYXItZGVib3VuY2VcIjtcbmltcG9ydCBcImFuZ3VsYXIvYW5ndWxhci5qc1wiO1xuaW1wb3J0IFwiYW5ndWxhci1tYXRlcmlhbC9hbmd1bGFyLW1hdGVyaWFsLmNzc1wiO1xuaW1wb3J0IFwiLi9zY3NzL3ZlbmRvci5zY3NzXCI7XG5pbXBvcnQgXCIuL3Njc3MvaW5kZXguc2Nzc1wiO1xuaW1wb3J0IF8gZnJvbSBcImxvZGFzaFwiO1xud2luZG93Ll8gPSBfO1xud2luZG93LmFuZ3VsYXIgPSBhbmd1bGFyO1xuXG5cbmV4cG9ydCBsZXQgYXBwID0gYW5ndWxhci5tb2R1bGUoJ3NreWtpdFByb3Zpc2lvbmluZycsIFtcbiAgdWlSb3V0ZXIsXG4gICduZ0FuaW1hdGUnLFxuICAnNzIwa2IudG9vbHRpcHMnLFxuICAnbmdDb29raWVzJyxcbiAgJ25nU2FuaXRpemUnLFxuICAncmVzdGFuZ3VsYXInLFxuICAndWkuYm9vdHN0cmFwJyxcbiAgJ25nTWF0ZXJpYWxEYXRlUGlja2VyJyxcbiAgJ2hTd2VldEFsZXJ0JyxcbiAgJ25jeS1hbmd1bGFyLWJyZWFkY3J1bWInLFxuICAnZGlyZWN0aXZlLmcrc2lnbmluJyxcbiAgJ25nUHJvZ3Jlc3MnLFxuICAncnQuZGVib3VuY2UnLFxuICAnbmdNYXRlcmlhbCcsXG4gICduZ2NsaXBib2FyZCcsXG4gICd0b2FzdHInLFxuICAnbGZOZ01kRmlsZUlucHV0J1xuXSlcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvYXBwLmpzIiwiLypcbiBuZ3Byb2dyZXNzIDEuMS4yIC0gc2xpbSwgc2l0ZS13aWRlIHByb2dyZXNzYmFyIGZvciBBbmd1bGFySlMgXG4gKEMpIDIwMTMgLSBWaWN0b3IgQmplbGtob2xtIFxuIExpY2Vuc2U6IE1JVCBcbiBTb3VyY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9WaWN0b3JCamVsa2hvbG0vbmdQcm9ncmVzcyBcbiBEYXRlIENvbXBpbGVkOiAyMDE1LTA3LTI3IFxuICovXG5hbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3MucHJvdmlkZXJcIiwgW1wibmdQcm9ncmVzcy5kaXJlY3RpdmVcIl0pLnNlcnZpY2UoXCJuZ1Byb2dyZXNzXCIsIGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIHJldHVybiBbXCIkZG9jdW1lbnRcIiwgXCIkd2luZG93XCIsIFwiJGNvbXBpbGVcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJHRpbWVvdXRcIiwgZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHtcbiAgICB0aGlzLmF1dG9TdHlsZSA9ICEwLCB0aGlzLmNvdW50ID0gMCwgdGhpcy5oZWlnaHQgPSBcIjJweFwiLCB0aGlzLiRzY29wZSA9IGQuJG5ldygpLCB0aGlzLmNvbG9yID0gXCJmaXJlYnJpY2tcIiwgdGhpcy5wYXJlbnQgPSBhLmZpbmQoXCJib2R5XCIpWzBdLCB0aGlzLmNvdW50ID0gMCwgdGhpcy5wcm9ncmVzc2JhckVsID0gYyhcIjxuZy1wcm9ncmVzcz48L25nLXByb2dyZXNzPlwiKSh0aGlzLiRzY29wZSksIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSksIHRoaXMuJHNjb3BlLmNvdW50ID0gdGhpcy5jb3VudCwgdm9pZCAwICE9PSB0aGlzLmhlaWdodCAmJiB0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQpLCB2b2lkIDAgIT09IHRoaXMuY29sb3IgJiYgKHRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgdGhpcy5jb2xvciksIHRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImNvbG9yXCIsIHRoaXMuY29sb3IpKSwgdGhpcy5pbnRlcnZhbENvdW50ZXJJZCA9IDAsIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnNob3coKTtcbiAgICAgIHZhciBhID0gdGhpcztcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIHRoaXMuaW50ZXJ2YWxDb3VudGVySWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzTmFOKGEuY291bnQpID8gKGNsZWFySW50ZXJ2YWwoYS5pbnRlcnZhbENvdW50ZXJJZCksIGEuY291bnQgPSAwLCBhLmhpZGUoKSkgOiAoYS5yZW1haW5pbmcgPSAxMDAgLSBhLmNvdW50LCBhLmNvdW50ID0gYS5jb3VudCArIC4xNSAqIE1hdGgucG93KDEgLSBNYXRoLnNxcnQoYS5yZW1haW5pbmcpLCAyKSwgYS51cGRhdGVDb3VudChhLmNvdW50KSlcbiAgICAgIH0sIDIwMClcbiAgICB9LCB0aGlzLnVwZGF0ZUNvdW50ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHRoaXMuJHNjb3BlLmNvdW50ID0gYSwgdGhpcy4kc2NvcGUuJCRwaGFzZSB8fCB0aGlzLiRzY29wZS4kYXBwbHkoKVxuICAgIH0sIHRoaXMuc2V0SGVpZ2h0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGEgJiYgKHRoaXMuaGVpZ2h0ID0gYSwgdGhpcy4kc2NvcGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQsIHRoaXMuJHNjb3BlLiQkcGhhc2UgfHwgdGhpcy4kc2NvcGUuJGFwcGx5KCkpLCB0aGlzLmhlaWdodFxuICAgIH0sIHRoaXMuc2V0Q29sb3IgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gYSAmJiAodGhpcy5jb2xvciA9IGEsIHRoaXMuJHNjb3BlLmNvbG9yID0gdGhpcy5jb2xvciwgdGhpcy4kc2NvcGUuJCRwaGFzZSB8fCB0aGlzLiRzY29wZS4kYXBwbHkoKSksIHRoaXMuY29sb3JcbiAgICB9LCB0aGlzLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJvcGFjaXR5XCIsIFwiMFwiKTtcbiAgICAgIHZhciBhID0gdGhpcztcbiAgICAgIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGEucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIndpZHRoXCIsIFwiMCVcIiksIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYS5zaG93KClcbiAgICAgICAgfSwgNTAwKVxuICAgICAgfSwgNTAwKVxuICAgIH0sIHRoaXMuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhID0gdGhpcztcbiAgICAgIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGEucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIm9wYWNpdHlcIiwgXCIxXCIpXG4gICAgICB9LCAxMDApXG4gICAgfSwgdGhpcy5hbmltYXRlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHZvaWQgMCAhPT0gdGhpcy5hbmltYXRpb24gJiYgZS5jYW5jZWwodGhpcy5hbmltYXRpb24pLCB0aGlzLmFuaW1hdGlvbiA9IGUoYSwgYilcbiAgICB9LCB0aGlzLnN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvdW50XG4gICAgfSwgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKVxuICAgIH0sIHRoaXMuc2V0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLnNob3coKSwgdGhpcy51cGRhdGVDb3VudChhKSwgdGhpcy5jb3VudCA9IGEsIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIHRoaXMuY291bnRcbiAgICB9LCB0aGlzLmNzcyA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKGEpXG4gICAgfSwgdGhpcy5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCB0aGlzLmNvdW50ID0gMCwgdGhpcy51cGRhdGVDb3VudCh0aGlzLmNvdW50KSwgMFxuICAgIH0sIHRoaXMuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNvdW50ID0gMTAwLCB0aGlzLnVwZGF0ZUNvdW50KHRoaXMuY291bnQpO1xuICAgICAgdmFyIGEgPSB0aGlzO1xuICAgICAgcmV0dXJuIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBhLmhpZGUoKSwgZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYS5jb3VudCA9IDAsIGEudXBkYXRlQ291bnQoYS5jb3VudClcbiAgICAgICAgfSwgNTAwKVxuICAgICAgfSwgMWUzKSwgdGhpcy5jb3VudFxuICAgIH0sIHRoaXMuc2V0UGFyZW50ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIGlmIChudWxsID09PSBhIHx8IHZvaWQgMCA9PT0gYSl0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlIGEgdmFsaWQgcGFyZW50IG9mIHR5cGUgSFRNTEVsZW1lbnRcIik7XG4gICAgICBudWxsICE9PSB0aGlzLnBhcmVudCAmJiB2b2lkIDAgIT09IHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSksIHRoaXMucGFyZW50ID0gYSwgdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc2JhckVsWzBdKVxuICAgIH0sIHRoaXMuZ2V0RG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzYmFyRWxcbiAgICB9LCB0aGlzLnNldEFic29sdXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wcm9ncmVzc2JhckVsLmNzcyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIilcbiAgICB9XG4gIH1dXG59KS5mYWN0b3J5KFwibmdQcm9ncmVzc0ZhY3RvcnlcIiwgW1wiJGluamVjdG9yXCIsIFwibmdQcm9ncmVzc1wiLCBmdW5jdGlvbiAoYSwgYikge1xuICB2YXIgYyA9IHtcbiAgICBjcmVhdGVJbnN0YW5jZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEuaW5zdGFudGlhdGUoYilcbiAgICB9XG4gIH07XG4gIHJldHVybiBjXG59XSksIGFuZ3VsYXIubW9kdWxlKFwibmdQcm9ncmVzcy5kaXJlY3RpdmVcIiwgW10pLmRpcmVjdGl2ZShcIm5nUHJvZ3Jlc3NcIiwgW1wiJHdpbmRvd1wiLCBcIiRyb290U2NvcGVcIiwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgdmFyIGMgPSB7XG4gICAgcmVwbGFjZTogITAsIHJlc3RyaWN0OiBcIkVcIiwgbGluazogZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHtcbiAgICAgIGEuJHdhdGNoKFwiY291bnRcIiwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgKHZvaWQgMCAhPT0gYyB8fCBudWxsICE9PSBjKSAmJiAoYS5jb3VudGVyID0gYywgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcIndpZHRoXCIsIGMgKyBcIiVcIikpXG4gICAgICB9KSwgYS4kd2F0Y2goXCJjb2xvclwiLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmNvbG9yID0gYywgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgYyksIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJjb2xvclwiLCBjKSlcbiAgICAgIH0pLCBhLiR3YXRjaChcImhlaWdodFwiLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmhlaWdodCA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJoZWlnaHRcIiwgYykpXG4gICAgICB9KVxuICAgIH0sIHRlbXBsYXRlOiAnPGRpdiBpZD1cIm5nUHJvZ3Jlc3MtY29udGFpbmVyXCI+PGRpdiBpZD1cIm5nUHJvZ3Jlc3NcIj48L2Rpdj48L2Rpdj4nXG4gIH07XG4gIHJldHVybiBjXG59XSksIGFuZ3VsYXIubW9kdWxlKFwibmdQcm9ncmVzc1wiLCBbXCJuZ1Byb2dyZXNzLmRpcmVjdGl2ZVwiLCBcIm5nUHJvZ3Jlc3MucHJvdmlkZXJcIl0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5qcyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmdQcm9ncmVzcy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmdQcm9ncmVzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9uZ1Byb2dyZXNzLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXBwL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzLmNzc1xuLy8gbW9kdWxlIGlkID0gNDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiI25nUHJvZ3Jlc3N7bWFyZ2luOjA7cGFkZGluZzowO3otaW5kZXg6OTk5OTg7YmFja2dyb3VuZC1jb2xvcjpncmVlbjtjb2xvcjpncmVlbjtib3gtc2hhZG93OjAgMCAxMHB4IDA7aGVpZ2h0OjJweDtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuNXMgZWFzZS1pbi1vdXQ7dHJhbnNpdGlvbjphbGwgLjVzIGVhc2UtaW4tb3V0fSNuZ1Byb2dyZXNzLWNvbnRhaW5lcntwb3NpdGlvbjpmaXhlZDttYXJnaW46MDtwYWRkaW5nOjA7dG9wOjA7bGVmdDowO3JpZ2h0OjA7ei1pbmRleDo5OTk5OX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlciEuL3NyYy9hcHAvY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuY3NzXG4vLyBtb2R1bGUgaWQgPSA0MjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyohIGFuZ3VsYXItYnJlYWRjcnVtYiAtIHYwLjQuMC1kZXYtMjAxNS0wOC0wN1xuKiBodHRwOi8vbmN1aWxsZXJ5LmdpdGh1Yi5pby9hbmd1bGFyLWJyZWFkY3J1bWJcbiogQ29weXJpZ2h0IChjKSAyMDE1IE5pY29sYXMgQ3VpbGxlcnk7IExpY2Vuc2VkIE1JVCAqL1xuIWZ1bmN0aW9uKGEsYixjKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBkKGEsYyl7cmV0dXJuIGIuZXF1YWxzKGEubGVuZ3RoLGMubGVuZ3RoKT9hPmM6YS5sZW5ndGg+Yy5sZW5ndGh9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLnJlcGxhY2UoL1xcbi9nLFwiIFwiKS5tYXRjaCgvXihbXihdKz8pXFxzKihcXCgoLiopXFwpKT8kLyk7aWYoIWJ8fDQhPT1iLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0YXRlIHJlZiAnXCIrYStcIidcIik7cmV0dXJue3N0YXRlOmJbMV0scGFyYW1FeHByOmJbM118fG51bGx9fWZ1bmN0aW9uIGYoKXt2YXIgYT17cHJlZml4U3RhdGVOYW1lOm51bGwsdGVtcGxhdGU6XCJib290c3RyYXAzXCIsdGVtcGxhdGVVcmw6bnVsbCxpbmNsdWRlQWJzdHJhY3Q6ITF9O3RoaXMuc2V0T3B0aW9ucz1mdW5jdGlvbihjKXtiLmV4dGVuZChhLGMpfSx0aGlzLiRnZXQ9W1wiJHN0YXRlXCIsXCIkc3RhdGVQYXJhbXNcIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihiLGYsZyl7dmFyIGg9ZztnLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLGZ1bmN0aW9uKGEpeyFhLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmUmJmQoYS50YXJnZXRTY29wZS4kaWQsaC4kaWQpJiYoaD1hLnRhcmdldFNjb3BlKX0pO3ZhciBpPWZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50fHwoL14oLispXFwuW14uXSskLy5leGVjKGEubmFtZSl8fFtdKVsxXSxjPVwib2JqZWN0XCI9PXR5cGVvZiBiO3JldHVybiBjP2IubmFtZTpifSxqPWZ1bmN0aW9uKGMsZCl7Zm9yKHZhciBnLGksaj1lKGQpLGs9ITEsbD0hMSxtPTAsbj1jLmxlbmd0aDtuPm07bSs9MSlpZihjW21dLm5hbWU9PT1qLnN0YXRlKXJldHVybjtnPWIuZ2V0KGouc3RhdGUpLGcubmN5QnJlYWRjcnVtYiYmKGcubmN5QnJlYWRjcnVtYi5mb3JjZSYmKGs9ITApLGcubmN5QnJlYWRjcnVtYi5za2lwJiYobD0hMCkpLGdbXCJhYnN0cmFjdFwiXSYmIWEuaW5jbHVkZUFic3RyYWN0JiYha3x8bHx8KGoucGFyYW1FeHByJiYoaT1oLiRldmFsKGoucGFyYW1FeHByKSksZy5uY3lCcmVhZGNydW1iTGluaz1iLmhyZWYoai5zdGF0ZSxpfHxmfHx7fSksYy51bnNoaWZ0KGcpKX0saz1mdW5jdGlvbihhKXt2YXIgYz1lKGEpLGQ9Yi5nZXQoYy5zdGF0ZSk7aWYoZC5uY3lCcmVhZGNydW1iJiZkLm5jeUJyZWFkY3J1bWIucGFyZW50KXt2YXIgZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBkLm5jeUJyZWFkY3J1bWIucGFyZW50LGc9Zj9kLm5jeUJyZWFkY3J1bWIucGFyZW50KGgpOmQubmN5QnJlYWRjcnVtYi5wYXJlbnQ7aWYoZylyZXR1cm4gZ31yZXR1cm4gaShkKX07cmV0dXJue2dldFRlbXBsYXRlOmZ1bmN0aW9uKGIpe3JldHVybiBhLnRlbXBsYXRlVXJsP251bGw6YlthLnRlbXBsYXRlXT9iW2EudGVtcGxhdGVdOmEudGVtcGxhdGV9LGdldFRlbXBsYXRlVXJsOmZ1bmN0aW9uKCl7cmV0dXJuIGEudGVtcGxhdGVVcmx9LGdldFN0YXRlc0NoYWluOmZ1bmN0aW9uKGMpe2Zvcih2YXIgZD1bXSxlPWIuJGN1cnJlbnQuc2VsZi5uYW1lO2U7ZT1rKGUpKWlmKGooZCxlKSxjJiZkLmxlbmd0aClyZXR1cm4gZDtyZXR1cm4gYS5wcmVmaXhTdGF0ZU5hbWUmJmooZCxhLnByZWZpeFN0YXRlTmFtZSksZH0sZ2V0TGFzdFN0ZXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFN0YXRlc0NoYWluKCEwKTtyZXR1cm4gYS5sZW5ndGg/YVswXTpjfSwkZ2V0TGFzdFZpZXdTY29wZTpmdW5jdGlvbigpe3JldHVybiBofX19XX1mdW5jdGlvbiBnKGEsYyxkKXt2YXIgZT17Ym9vdHN0cmFwMjonPHVsIGNsYXNzPVwiYnJlYWRjcnVtYlwiPjxsaSBuZy1yZXBlYXQ9XCJzdGVwIGluIHN0ZXBzXCIgbmctc3dpdGNoPVwiJGxhc3QgfHwgISFzdGVwLmFic3RyYWN0XCIgbmctY2xhc3M9XCJ7YWN0aXZlOiAkbGFzdH1cIj48YSBuZy1zd2l0Y2gtd2hlbj1cImZhbHNlXCIgaHJlZj1cInt7c3RlcC5uY3lCcmVhZGNydW1iTGlua319XCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9hPjxzcGFuIG5nLXN3aXRjaC13aGVuPVwidHJ1ZVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvc3Bhbj48c3BhbiBjbGFzcz1cImRpdmlkZXJcIiBuZy1oaWRlPVwiJGxhc3RcIj4vPC9zcGFuPjwvbGk+PC91bD4nLGJvb3RzdHJhcDM6JzxvbCBjbGFzcz1cImJyZWFkY3J1bWJcIj48bGkgbmctcmVwZWF0PVwic3RlcCBpbiBzdGVwc1wiIG5nLWNsYXNzPVwie2FjdGl2ZTogJGxhc3R9XCIgbmctc3dpdGNoPVwiJGxhc3QgfHwgISFzdGVwLmFic3RyYWN0XCI+PGEgbmctc3dpdGNoLXdoZW49XCJmYWxzZVwiIGhyZWY9XCJ7e3N0ZXAubmN5QnJlYWRjcnVtYkxpbmt9fVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvYT48c3BhbiBuZy1zd2l0Y2gtd2hlbj1cInRydWVcIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L3NwYW4+PC9saT48L29sPid9O3JldHVybntyZXN0cmljdDpcIkFFXCIscmVwbGFjZTohMCxzY29wZTp7fSx0ZW1wbGF0ZTpjLmdldFRlbXBsYXRlKGUpLHRlbXBsYXRlVXJsOmMuZ2V0VGVtcGxhdGVVcmwoKSxsaW5rOntwb3N0OmZ1bmN0aW9uKGUpe3ZhciBmPVtdLGc9ZnVuY3Rpb24oKXtsKGYpLGY9W107dmFyIGQ9Yy4kZ2V0TGFzdFZpZXdTY29wZSgpO2Uuc3RlcHM9Yy5nZXRTdGF0ZXNDaGFpbigpLGIuZm9yRWFjaChlLnN0ZXBzLGZ1bmN0aW9uKGIpe2lmKGIubmN5QnJlYWRjcnVtYiYmYi5uY3lCcmVhZGNydW1iLmxhYmVsKXt2YXIgYz1hKGIubmN5QnJlYWRjcnVtYi5sYWJlbCk7Yi5uY3lCcmVhZGNydW1iTGFiZWw9YyhkKSxrKGYsYyxkLGIpfWVsc2UgYi5uY3lCcmVhZGNydW1iTGFiZWw9Yi5uYW1lfSl9O2QuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsZnVuY3Rpb24oYSl7YS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlfHxnKCl9KSxnKCl9fX19ZnVuY3Rpb24gaChhLGIsYyl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHNjb3BlOnt9LHRlbXBsYXRlOlwie3tuY3lCcmVhZGNydW1iTGFiZWx9fVwiLGNvbXBpbGU6ZnVuY3Rpb24oZCxlKXt2YXIgZj1kLmF0dHIoZS4kYXR0ci5uY3lCcmVhZGNydW1iTGFzdCk7cmV0dXJuIGYmJmQuaHRtbChmKSx7cG9zdDpmdW5jdGlvbihkKXt2YXIgZT1bXSxmPWZ1bmN0aW9uKCl7bChlKSxlPVtdO3ZhciBjPWIuJGdldExhc3RWaWV3U2NvcGUoKSxmPWIuZ2V0TGFzdFN0ZXAoKTtpZihmKWlmKGQubmN5QnJlYWRjcnVtYkxpbms9Zi5uY3lCcmVhZGNydW1iTGluayxmLm5jeUJyZWFkY3J1bWImJmYubmN5QnJlYWRjcnVtYi5sYWJlbCl7dmFyIGc9YShmLm5jeUJyZWFkY3J1bWIubGFiZWwpO2QubmN5QnJlYWRjcnVtYkxhYmVsPWcoYyksayhlLGcsYyxkKX1lbHNlIGQubmN5QnJlYWRjcnVtYkxhYmVsPWYubmFtZX07Yy4kb24oXCIkdmlld0NvbnRlbnRMb2FkZWRcIixmdW5jdGlvbihhKXthLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmV8fGYoKX0pLGYoKX19fX19ZnVuY3Rpb24gaShhLGMsZCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHNjb3BlOnt9LHRlbXBsYXRlOlwie3tuY3lCcmVhZGNydW1iQ2hhaW59fVwiLGNvbXBpbGU6ZnVuY3Rpb24oZSxmKXt2YXIgZz1lLmF0dHIoZi4kYXR0ci5uY3lCcmVhZGNydW1iVGV4dCk7ZyYmZS5odG1sKGcpO3ZhciBoPWUuYXR0cihmLiRhdHRyLm5jeUJyZWFkY3J1bWJUZXh0U2VwYXJhdG9yKXx8XCIgLyBcIjtyZXR1cm57cG9zdDpmdW5jdGlvbihlKXt2YXIgZj1bXSxnPWZ1bmN0aW9uKGEsYyxkKXtiLmZvckVhY2goaihjKSxmdW5jdGlvbihiKXt2YXIgYz1kLiR3YXRjaChiLGZ1bmN0aW9uKGEsYil7YSE9PWImJmkoKX0pO2EucHVzaChjKX0pfSxpPWZ1bmN0aW9uKCl7bChmKSxmPVtdO3ZhciBkPWMuJGdldExhc3RWaWV3U2NvcGUoKSxpPWMuZ2V0U3RhdGVzQ2hhaW4oKSxqPVtdO2IuZm9yRWFjaChpLGZ1bmN0aW9uKGIpe2lmKGIubmN5QnJlYWRjcnVtYiYmYi5uY3lCcmVhZGNydW1iLmxhYmVsKXt2YXIgYz1hKGIubmN5QnJlYWRjcnVtYi5sYWJlbCk7ai5wdXNoKGMoZCkpLGcoZixjLGQpfWVsc2Ugai5wdXNoKGIubmFtZSl9KSxlLm5jeUJyZWFkY3J1bWJDaGFpbj1qLmpvaW4oaCl9O2QuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsZnVuY3Rpb24oYSl7YS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlfHxpKCl9KSxpKCl9fX19fXZhciBqPWZ1bmN0aW9uKGEpe2lmKGEuZXhwcmVzc2lvbnMpcmV0dXJuIGEuZXhwcmVzc2lvbnM7dmFyIGM9W107cmV0dXJuIGIuZm9yRWFjaChhLnBhcnRzLGZ1bmN0aW9uKGEpe2IuaXNGdW5jdGlvbihhKSYmYy5wdXNoKGEuZXhwKX0pLGN9LGs9ZnVuY3Rpb24oYSxjLGQsZSl7Yi5mb3JFYWNoKGooYyksZnVuY3Rpb24oYil7dmFyIGY9ZC4kd2F0Y2goYixmdW5jdGlvbigpe2UubmN5QnJlYWRjcnVtYkxhYmVsPWMoZCl9KTthLnB1c2goZil9KX0sbD1mdW5jdGlvbihhKXtiLmZvckVhY2goYSxmdW5jdGlvbihhKXthKCl9KX07Zy4kaW5qZWN0PVtcIiRpbnRlcnBvbGF0ZVwiLFwiJGJyZWFkY3J1bWJcIixcIiRyb290U2NvcGVcIl0saC4kaW5qZWN0PVtcIiRpbnRlcnBvbGF0ZVwiLFwiJGJyZWFkY3J1bWJcIixcIiRyb290U2NvcGVcIl0saS4kaW5qZWN0PVtcIiRpbnRlcnBvbGF0ZVwiLFwiJGJyZWFkY3J1bWJcIixcIiRyb290U2NvcGVcIl0sYi5tb2R1bGUoXCJuY3ktYW5ndWxhci1icmVhZGNydW1iXCIsW1widWkucm91dGVyLnN0YXRlXCJdKS5wcm92aWRlcihcIiRicmVhZGNydW1iXCIsZikuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYlwiLGcpLmRpcmVjdGl2ZShcIm5jeUJyZWFkY3J1bWJMYXN0XCIsaCkuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYlRleHRcIixpKX0od2luZG93LHdpbmRvdy5hbmd1bGFyKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvY29tcG9uZW50cy9hbmd1bGFyQnJlYWRjcnVtYi9hbmd1bGFyQnJlYWRjcnVtYi5qcyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuKGZ1bmN0aW9uIChtb21lbnQpIHtcblxuICAndXNlIHN0cmljdCc7XG4gIHZhciBtb2R1bGVOYW1lID0gXCJuZ01hdGVyaWFsRGF0ZVBpY2tlclwiO1xuXG4gIHZhciBWSUVXX1NUQVRFUyA9IHtcbiAgICBEQVRFOiAwLFxuICAgIEhPVVI6IDEsXG4gICAgTUlOVVRFOiAyXG4gIH07XG5cbiAgdmFyIGNzcyA9IGZ1bmN0aW9uIChlbCwgbmFtZSkge1xuICAgIGlmICgnalF1ZXJ5JyBpbiB3aW5kb3cpIHtcbiAgICAgIHJldHVybiBqUXVlcnkoZWwpLmNzcyhuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwgPSBhbmd1bGFyLmVsZW1lbnQoZWwpO1xuICAgICAgcmV0dXJuICgnZ2V0Q29tcHV0ZWRTdHlsZScgaW4gd2luZG93KSA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsWzBdKVtuYW1lXSA6IGVsLmNzcyhuYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHRlbXBsYXRlID0gJzxtZC1kaWFsb2cgY2xhc3M9XCJkdHBcIiBsYXlvdXQ9XCJjb2x1bW5cIiBzdHlsZT1cIndpZHRoOiAzMDBweDtcIj4nXG4gICAgKyAnICAgIDxtZC1kaWFsb2ctY29udGVudCBjbGFzcz1cImR0cC1jb250ZW50XCI+J1xuICAgICsgJyAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1kYXRlLXZpZXdcIj4nXG4gICAgKyAnICAgICAgICAgICAgPGhlYWRlciBjbGFzcz1cImR0cC1oZWFkZXJcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLWRheVwiIG5nLXNob3c9XCJwaWNrZXIuZGF0ZU1vZGVcIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJkZGRkXCIpfX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLWRheVwiIG5nLXNob3c9XCJwaWNrZXIudGltZU1vZGVcIj57e3BpY2tlci5wYXJhbXMuc2hvcnRUaW1lID8gcGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcIkFcIikgOiBcIiBcIn19PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWNsb3NlIHRleHQtcmlnaHRcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBuZy1jbGljaz1cInBpY2tlci5oaWRlKClcIj4mdGltZXM7PC9hPidcbiAgICArICcgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgIDwvaGVhZGVyPidcbiAgICArICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWRhdGVcIiBuZy1zaG93PVwicGlja2VyLnBhcmFtcy5kYXRlXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGxheW91dD1cImNvbHVtblwiPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW1vbnRoXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiTU1NXCIpIHwgdXBwZXJjYXNlfX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbnVtXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiRERcIil9fTwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBsYXlvdXQ9XCJyb3dcIj4nXG4gICAgKyAnIDxkaXYgbmctY2xpY2s9XCJwaWNrZXIuaW5jcmVtZW50WWVhcigtMSlcIiBjbGFzcz1cImR0cC15ZWFyLWJ0biBkdHAteWVhci1idG4tcHJldlwiIGZsZXg9XCIzMFwiPjxzcGFuIG5nLWlmPVwicGlja2VyLmlzUHJldmlvdXNZZWFyVmlzaWJsZSgpXCIgPiYjeDI1QjI7PC9zcGFuPjwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLXllYXJcIiBmbGV4Pnt7cGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcIllZWVlcIil9fTwvZGl2PidcbiAgICArICcgPGRpdiBuZy1jbGljaz1cInBpY2tlci5pbmNyZW1lbnRZZWFyKDEpXCIgY2xhc3M9XCJkdHAteWVhci1idG4gZHRwLXllYXItYnRuLW5leHRcIiBmbGV4PVwiMzBcIj48c3BhbiBuZy1pZj1cInBpY2tlci5pc05leHRZZWFyVmlzaWJsZSgpXCIgPiYjeDI1QkM7PC9zcGFuPjwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgIDwvZGl2PicvL3N0YXJ0IHRpbWVcbiAgICArICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLXRpbWVcIiBuZy1zaG93PVwicGlja2VyLnBhcmFtcy50aW1lICYmICFwaWNrZXIucGFyYW1zLmRhdGVcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW1heHRpbWVcIj57e3BpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKS5mb3JtYXQocGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBcImhoOm1tXCIgOiBcIkhIOm1tXCIpfX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtcGlja2VyXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhciBkYXRlPVwicGlja2VyLmN1cnJlbnREYXRlXCIgcGlja2VyPVwicGlja2VyXCIgY2xhc3M9XCJkdHAtcGlja2VyLWNhbGVuZGFyXCIgbmctc2hvdz1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLkRBVEVcIj48L21kYy1kYXRldGltZS1waWNrZXItY2FsZW5kYXI+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLXBpY2tlci1kYXRldGltZVwiIG5nLXNob3c9XCJwaWNrZXIuY3VycmVudFZpZXcgIT09IHBpY2tlci5WSUVXUy5EQVRFXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbWVyaWRpZW5cIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZnQgcDIwXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImR0cC1tZXJpZGllbi1hbVwiIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwaWNrZXIubWVyaWRpZW4gPT0gXFwnQU1cXCd9XCIgbmctY2xpY2s9XCJwaWNrZXIuc2VsZWN0QU0oKVwiPnt7cGlja2VyLnBhcmFtcy5hbVRleHR9fTwvYT4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctc2hvdz1cIiFwaWNrZXIudGltZU1vZGVcIiBjbGFzcz1cImR0cC1hY3R1YWwtdGltZSBwNjBcIj57e3BpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKS5mb3JtYXQocGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBcImhoOm1tXCIgOiBcIkhIOm1tXCIpfX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0IHAyMFwiPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgY2xhc3M9XCJkdHAtbWVyaWRpZW4tcG1cIiBuZy1jbGFzcz1cIntzZWxlY3RlZDogcGlja2VyLm1lcmlkaWVuID09IFxcJ1BNXFwnfVwiIG5nLWNsaWNrPVwicGlja2VyLnNlbGVjdFBNKClcIj57e3BpY2tlci5wYXJhbXMucG1UZXh0fX08L2E+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jayBtb2RlPVwiaG91cnNcIiBuZy1pZj1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLkhPVVJcIj48L21kYy1kYXRldGltZS1waWNrZXItY2xvY2s+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgPG1kYy1kYXRldGltZS1waWNrZXItY2xvY2sgbW9kZT1cIm1pbnV0ZXNcIiBuZy1pZj1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLk1JTlVURVwiPjwvbWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jaz4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgIDwvbWQtZGlhbG9nLWNvbnRlbnQ+J1xuICAgICsgJyAgICA8bWQtZGlhbG9nLWFjdGlvbnMgY2xhc3M9XCJkdHAtYnV0dG9uc1wiPidcbiAgICArICcgICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwiZHRwLWJ0bi1jYW5jZWwgbWQtYnV0dG9uXCIgbmctY2xpY2s9XCJwaWNrZXIuY2FuY2VsKClcIj4ge3twaWNrZXIucGFyYW1zLmNhbmNlbFRleHR9fTwvbWQtYnV0dG9uPidcbiAgICArICcgICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwiZHRwLWJ0bi1vayBtZC1idXR0b25cIiBuZy1jbGljaz1cInBpY2tlci5vaygpXCI+IHt7cGlja2VyLnBhcmFtcy5va1RleHR9fTwvbWQtYnV0dG9uPidcbiAgICArICcgICAgICA8L21kLWRpYWxvZy1hY3Rpb25zPidcbiAgICArICc8L21kLWRpYWxvZz4nO1xuXG5cbiAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSwgWyduZ01hdGVyaWFsJ10pXG4gICAgLnByb3ZpZGVyKCdtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmxvY2FsZSA9ICdlbic7XG5cbiAgICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5zZXREZWZhdWx0TG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZVN0cmluZykge1xuICAgICAgICB0aGlzLmxvY2FsZSA9IGxvY2FsZVN0cmluZztcbiAgICAgIH07XG4gICAgfSlcbiAgICAuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlcicsIFsnJG1kRGlhbG9nJyxcbiAgICAgIGZ1bmN0aW9uICgkbWREaWFsb2cpIHtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBjdXJyZW50RGF0ZTogJz1uZ01vZGVsJyxcbiAgICAgICAgICAgIHRpbWU6ICc9JyxcbiAgICAgICAgICAgIGRhdGU6ICc9JyxcbiAgICAgICAgICAgIG1pbkRhdGU6ICc9JyxcbiAgICAgICAgICAgIG1heERhdGU6ICc9JyxcbiAgICAgICAgICAgIHNob3J0VGltZTogJz0nLFxuICAgICAgICAgICAgZm9ybWF0OiAnQCcsXG4gICAgICAgICAgICBjYW5jZWxUZXh0OiAnQCcsXG4gICAgICAgICAgICBva1RleHQ6ICdAJyxcbiAgICAgICAgICAgIGxhbmc6ICdAJyxcbiAgICAgICAgICAgIGFtVGV4dDogJ0AnLFxuICAgICAgICAgICAgcG1UZXh0OiAnQCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBpc09uID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIXNjb3BlLmZvcm1hdCkge1xuICAgICAgICAgICAgICBpZiAoc2NvcGUuZGF0ZSAmJiBzY29wZS50aW1lKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ1lZWVktTU0tREQgSEg6bW06c3MnO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNjb3BlLmRhdGUpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JtYXQgPSAnWVlZWS1NTS1ERCc7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ0hIOm1tJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhzY29wZS5jdXJyZW50RGF0ZSkgJiYgc2NvcGUuY3VycmVudERhdGUgIT09ICcnKSB7XG4gICAgICAgICAgICAgIHNjb3BlLmN1cnJlbnREYXRlID0gbW9tZW50KHNjb3BlLmN1cnJlbnREYXRlLCBzY29wZS5mb3JtYXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmdNb2RlbCkge1xuICAgICAgICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG0gPSBtb21lbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtLmlzVmFsaWQoKSA/IG0uZm9ybWF0KHNjb3BlLmZvcm1hdCkgOiAnJztcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cigncmVhZG9ubHknLCAnJyk7XG4gICAgICAgICAgICAvL0BUT0RPIGN1c3RvbSBldmVudCB0byB0cmlnZ2VyIGlucHV0XG4gICAgICAgICAgICBlbGVtZW50Lm9uKCdmb2N1cycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgZWxlbWVudC5ibHVyKCk7XG4gICAgICAgICAgICAgIGlmIChpc09uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlzT24gPSB0cnVlO1xuICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmhhc093blByb3BlcnR5KGkpICYmICFhbmd1bGFyLmlzVW5kZWZpbmVkKHNjb3BlW2ldKSkge1xuICAgICAgICAgICAgICAgICAgb3B0aW9uc1tpXSA9IHNjb3BlW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvcHRpb25zLmN1cnJlbnREYXRlID0gc2NvcGUuY3VycmVudERhdGU7XG4gICAgICAgICAgICAgIHZhciBsb2NhbHMgPSB7b3B0aW9uczogb3B0aW9uc307XG4gICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogUGx1Z2luQ29udHJvbGxlcixcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwaWNrZXInLFxuICAgICAgICAgICAgICAgIGxvY2FsczogbG9jYWxzLFxuICAgICAgICAgICAgICAgIG9wZW5Gcm9tOiBlbGVtZW50LFxuICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxuICAgICAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbDogZmFsc2VcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgc2NvcGUuY3VycmVudERhdGUgPSB2ID8gdi5fZCA6IHY7XG4gICAgICAgICAgICAgICAgICBpc09uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgaXNPbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1dKVxuICA7XG5cbiAgdmFyIFBsdWdpbkNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoJHNjb3BlLCAkbWREaWFsb2csIG1kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSkge1xuICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5EQVRFO1xuICAgIHRoaXMuX2RpYWxvZyA9ICRtZERpYWxvZztcblxuICAgIHRoaXMubWluRGF0ZTtcbiAgICB0aGlzLm1heERhdGU7XG5cbiAgICB0aGlzLl9hdHRhY2hlZEV2ZW50cyA9IFtdO1xuICAgIHRoaXMuVklFV1MgPSBWSUVXX1NUQVRFUztcblxuICAgIHRoaXMucGFyYW1zID0ge1xuICAgICAgZGF0ZTogdHJ1ZSxcbiAgICAgIHRpbWU6IHRydWUsXG4gICAgICBmb3JtYXQ6ICdZWVlZLU1NLUREJyxcbiAgICAgIG1pbkRhdGU6IG51bGwsXG4gICAgICBtYXhEYXRlOiBudWxsLFxuICAgICAgY3VycmVudERhdGU6IG51bGwsXG4gICAgICBsYW5nOiBtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUsXG4gICAgICB3ZWVrU3RhcnQ6IDAsXG4gICAgICBzaG9ydFRpbWU6IGZhbHNlLFxuICAgICAgY2FuY2VsVGV4dDogJ0NhbmNlbCcsXG4gICAgICBva1RleHQ6ICdPSycsXG4gICAgICBhbVRleHQ6ICdBTScsXG4gICAgICBwbVRleHQ6ICdQTSdcbiAgICB9O1xuXG4gICAgdGhpcy5tZXJpZGllbiA9ICdBTSc7XG4gICAgdGhpcy5wYXJhbXMgPSBhbmd1bGFyLmV4dGVuZCh0aGlzLnBhcmFtcywgdGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfTtcbiAgUGx1Z2luQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJG1kRGlhbG9nJywgJ21kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSddO1xuICBQbHVnaW5Db250cm9sbGVyLnByb3RvdHlwZSA9IHtcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnRpbWVNb2RlID0gdGhpcy5wYXJhbXMudGltZSAmJiAhdGhpcy5wYXJhbXMuZGF0ZTtcbiAgICAgIHRoaXMuZGF0ZU1vZGUgPSB0aGlzLnBhcmFtcy5kYXRlO1xuICAgICAgdGhpcy5pbml0RGF0ZXMoKTtcbiAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9LFxuICAgIGN1cnJlbnROZWFyZXN0NU1pbnV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRhdGUgPSB0aGlzLmN1cnJlbnREYXRlIHx8IG1vbWVudCgpO1xuICAgICAgdmFyIG1pbnV0ZXMgPSAoNSAqIE1hdGgucm91bmQoZGF0ZS5taW51dGUoKSAvIDUpKTtcbiAgICAgIGlmIChtaW51dGVzID49IDYwKSB7XG4gICAgICAgIG1pbnV0ZXMgPSA1NTsgLy9hbHdheXMgcHVzaCBkb3duXG4gICAgICB9XG4gICAgICByZXR1cm4gbW9tZW50KGRhdGUpLm1pbnV0ZXMobWludXRlcyk7XG4gICAgfSxcbiAgICBpbml0RGF0ZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHZhciBfZGF0ZVBhcmFtID0gZnVuY3Rpb24gKGlucHV0LCBmYWxsYmFjaykge1xuICAgICAgICB2YXIgcmV0ID0gbnVsbDtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGlucHV0KSAmJiBpbnB1dCAhPT0gbnVsbCAmJiBpbnB1dCAhPT0gJycpIHtcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhpbnB1dCkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YodGhhdC5wYXJhbXMuZm9ybWF0KSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhhdC5wYXJhbXMuZm9ybWF0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHJldCA9IG1vbWVudChpbnB1dCwgdGhhdC5wYXJhbXMuZm9ybWF0KS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0ID0gbW9tZW50KGlucHV0KS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKGlucHV0KSkge1xuICAgICAgICAgICAgICB2YXIgeCA9IGlucHV0LmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgcmV0ID0gbW9tZW50KHgsIFwieFwiKS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0Ll9pc0FNb21lbnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgcmV0ID0gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldCA9IGZhbGxiYWNrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmN1cnJlbnREYXRlID0gX2RhdGVQYXJhbSh0aGlzLnBhcmFtcy5jdXJyZW50RGF0ZSwgbW9tZW50KCkpO1xuICAgICAgdGhpcy5taW5EYXRlID0gX2RhdGVQYXJhbSh0aGlzLnBhcmFtcy5taW5EYXRlKTtcbiAgICAgIHRoaXMubWF4RGF0ZSA9IF9kYXRlUGFyYW0odGhpcy5wYXJhbXMubWF4RGF0ZSk7XG4gICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZSk7XG4gICAgfSxcbiAgICBpbml0RGF0ZTogZnVuY3Rpb24gKGQpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5EQVRFO1xuICAgIH0sXG4gICAgaW5pdEhvdXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuSE9VUjtcbiAgICB9LFxuICAgIGluaXRNaW51dGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuTUlOVVRFO1xuICAgIH0sXG4gICAgaXNBZnRlck1pbkRhdGU6IGZ1bmN0aW9uIChkYXRlLCBjaGVja0hvdXIsIGNoZWNrTWludXRlKSB7XG4gICAgICB2YXIgX3JldHVybiA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YodGhpcy5taW5EYXRlKSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5taW5EYXRlICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBfbWluRGF0ZSA9IG1vbWVudCh0aGlzLm1pbkRhdGUpO1xuICAgICAgICB2YXIgX2RhdGUgPSBtb21lbnQoZGF0ZSk7XG5cbiAgICAgICAgaWYgKCFjaGVja0hvdXIgJiYgIWNoZWNrTWludXRlKSB7XG4gICAgICAgICAgX21pbkRhdGUuaG91cigwKTtcbiAgICAgICAgICBfbWluRGF0ZS5taW51dGUoMCk7XG5cbiAgICAgICAgICBfZGF0ZS5ob3VyKDApO1xuICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9taW5EYXRlLnNlY29uZCgwKTtcbiAgICAgICAgX2RhdGUuc2Vjb25kKDApO1xuICAgICAgICBfbWluRGF0ZS5taWxsaXNlY29uZCgwKTtcbiAgICAgICAgX2RhdGUubWlsbGlzZWNvbmQoMCk7XG5cbiAgICAgICAgaWYgKCFjaGVja01pbnV0ZSkge1xuICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcbiAgICAgICAgICBfbWluRGF0ZS5taW51dGUoMCk7XG5cbiAgICAgICAgICBfcmV0dXJuID0gKHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpID49IHBhcnNlSW50KF9taW5EYXRlLmZvcm1hdChcIlhcIikpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBfcmV0dXJuID0gKHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpID49IHBhcnNlSW50KF9taW5EYXRlLmZvcm1hdChcIlhcIikpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JldHVybjtcbiAgICB9LFxuICAgIGlzQmVmb3JlTWF4RGF0ZTogZnVuY3Rpb24gKGRhdGUsIGNoZWNrVGltZSwgY2hlY2tNaW51dGUpIHtcbiAgICAgIHZhciBfcmV0dXJuID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZih0aGlzLm1heERhdGUpICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm1heERhdGUgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIF9tYXhEYXRlID0gbW9tZW50KHRoaXMubWF4RGF0ZSk7XG4gICAgICAgIHZhciBfZGF0ZSA9IG1vbWVudChkYXRlKTtcblxuICAgICAgICBpZiAoIWNoZWNrVGltZSAmJiAhY2hlY2tNaW51dGUpIHtcbiAgICAgICAgICBfbWF4RGF0ZS5ob3VyKDApO1xuICAgICAgICAgIF9tYXhEYXRlLm1pbnV0ZSgwKTtcblxuICAgICAgICAgIF9kYXRlLmhvdXIoMCk7XG4gICAgICAgICAgX2RhdGUubWludXRlKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgX21heERhdGUuc2Vjb25kKDApO1xuICAgICAgICBfZGF0ZS5zZWNvbmQoMCk7XG4gICAgICAgIF9tYXhEYXRlLm1pbGxpc2Vjb25kKDApO1xuICAgICAgICBfZGF0ZS5taWxsaXNlY29uZCgwKTtcblxuICAgICAgICBpZiAoIWNoZWNrTWludXRlKSB7XG4gICAgICAgICAgX2RhdGUubWludXRlKDApO1xuICAgICAgICAgIF9tYXhEYXRlLm1pbnV0ZSgwKTtcblxuICAgICAgICAgIF9yZXR1cm4gPSAocGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPD0gcGFyc2VJbnQoX21heERhdGUuZm9ybWF0KFwiWFwiKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIF9yZXR1cm4gPSAocGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPD0gcGFyc2VJbnQoX21heERhdGUuZm9ybWF0KFwiWFwiKSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmV0dXJuO1xuICAgIH0sXG4gICAgc2VsZWN0RGF0ZTogZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudERhdGUgPSBtb21lbnQoZGF0ZSk7XG4gICAgICAgIGlmICghdGhpcy5pc0FmdGVyTWluRGF0ZSh0aGlzLmN1cnJlbnREYXRlKSkge1xuICAgICAgICAgIHRoaXMuY3VycmVudERhdGUgPSBtb21lbnQodGhpcy5taW5EYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5pc0JlZm9yZU1heERhdGUodGhpcy5jdXJyZW50RGF0ZSkpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KHRoaXMubWF4RGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50RGF0ZS5sb2NhbGUodGhpcy5wYXJhbXMubGFuZyk7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJTdGFydCA9IG1vbWVudCh0aGlzLmN1cnJlbnREYXRlKTtcbiAgICAgICAgdGhpcy5tZXJpZGllbiA9IHRoaXMuY3VycmVudERhdGUuaG91cigpID49IDEyID8gJ1BNJyA6ICdBTSc7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXROYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGV4dCA9IFwiXCI7XG4gICAgICB2YXIgcG9zc2libGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgIHRleHQgKz0gcG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlLmxlbmd0aCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9LFxuICAgIGlzUE06IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lcmlkaWVuID09PSAnUE0nO1xuICAgIH0sXG4gICAgaW5jcmVtZW50WWVhcjogZnVuY3Rpb24gKGFtb3VudCkge1xuICAgICAgaWYgKGFtb3VudCA9PT0gMSAmJiB0aGlzLmlzTmV4dFllYXJWaXNpYmxlKCkpIHtcbiAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuYWRkKCd5ZWFyJywgYW1vdW50KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbW91bnQgPT09IC0xICYmIHRoaXMuaXNQcmV2aW91c1llYXJWaXNpYmxlKCkpIHtcbiAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuYWRkKCd5ZWFyJywgYW1vdW50KSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc1ByZXZpb3VzTW9udGhWaXNpYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNBZnRlck1pbkRhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuc3RhcnRPZignbW9udGgnKSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9LFxuICAgIGlzTmV4dE1vbnRoVmlzaWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5lbmRPZignbW9udGgnKSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9LFxuICAgIGlzUHJldmlvdXNZZWFyVmlzaWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLnN0YXJ0T2YoJ3llYXInKSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9LFxuICAgIGlzTmV4dFllYXJWaXNpYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLmVuZE9mKCd5ZWFyJyksIGZhbHNlLCBmYWxzZSk7XG4gICAgfSxcbiAgICBpc0hvdXJBdmFpbGFibGU6IGZ1bmN0aW9uIChob3VyKSB7XG4gICAgICB2YXIgX2RhdGUgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG4gICAgICBfZGF0ZS5ob3VyKHRoaXMuY29udmVydEhvdXJzKGhvdXIpKS5taW51dGUoMCkuc2Vjb25kKDApO1xuICAgICAgcmV0dXJuIHRoaXMuaXNBZnRlck1pbkRhdGUoX2RhdGUsIHRydWUsIGZhbHNlKSAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShfZGF0ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgIH0sXG4gICAgaXNNaW51dGVBdmFpbGFibGU6IGZ1bmN0aW9uIChtaW51dGUpIHtcbiAgICAgIHZhciBfZGF0ZSA9IG1vbWVudCh0aGlzLmN1cnJlbnREYXRlKTtcbiAgICAgIF9kYXRlLm1pbnV0ZShtaW51dGUpLnNlY29uZCgwKTtcbiAgICAgIHJldHVybiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKF9kYXRlLCB0cnVlLCB0cnVlKSAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShfZGF0ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBzdGFydDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkRBVEU7XG4gICAgICAvL3RoaXMuaW5pdERhdGVzKCk7XG4gICAgICBpZiAodGhpcy5wYXJhbXMuZGF0ZSkge1xuICAgICAgICB0aGlzLmluaXREYXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMudGltZSkge1xuICAgICAgICAgIHRoaXMuaW5pdEhvdXJzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG9rOiBmdW5jdGlvbiAoKSB7XG4gICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFZpZXcpIHtcbiAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5EQVRFOlxuICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy50aW1lID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVklFV19TVEFURVMuSE9VUjpcbiAgICAgICAgICB0aGlzLmluaXRNaW51dGVzKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVklFV19TVEFURVMuTUlOVVRFOlxuICAgICAgICAgIHRoaXMuaGlkZSh0cnVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRWaWV3KSB7XG4gICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5EQVRFOlxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLkhPVVI6XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMuZGF0ZSkge1xuICAgICAgICAgICAgICB0aGlzLmluaXREYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLk1JTlVURTpcbiAgICAgICAgICAgIHRoaXMuaW5pdEhvdXJzKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2VsZWN0TW9udGhCZWZvcmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5zdWJ0cmFjdCgxLCAnbW9udGhzJyk7XG4gICAgfSxcbiAgICBzZWxlY3RNb250aEFmdGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuYWRkKDEsICdtb250aHMnKTtcbiAgICB9LFxuICAgIHNlbGVjdFllYXJCZWZvcmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5zdWJ0cmFjdCgxLCAneWVhcnMnKTtcbiAgICB9LFxuICAgIHNlbGVjdFllYXJBZnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LmFkZCgxLCAneWVhcnMnKTtcbiAgICB9LFxuICAgIHNlbGVjdEFNOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5pc0hvdXJBdmFpbGFibGUoMCkgfHwgdGhpcy5pc0hvdXJBdmFpbGFibGUoMTIpKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSA+PSAxMikge1xuICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLnN1YnRyYWN0KDEyLCAnaG91cnMnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzSG91ckF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSkpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKHRoaXMubWluRGF0ZS5ob3VyKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNNaW51dGVBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUoKSkpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUodGhpcy5taW5EYXRlLm1pbnV0ZSgpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdFBNOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5pc0hvdXJBdmFpbGFibGUoMTMpIHx8IHRoaXMuaXNIb3VyQXZhaWxhYmxlKDI0KSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkgPCAxMikge1xuICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmFkZCgxMiwgJ2hvdXJzJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0hvdXJBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkpKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuaG91cih0aGlzLm1heERhdGUuaG91cigpKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzTWludXRlQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUubWludXRlKCkpKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUubWludXRlKHRoaXMubWF4RGF0ZS5taW51dGUoKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjb252ZXJ0SG91cnM6IGZ1bmN0aW9uIChoKSB7XG4gICAgICB2YXIgX3JldHVybiA9IGg7XG4gICAgICBpZiAoKGggPCAxMikgJiYgdGhpcy5pc1BNKCkpXG4gICAgICAgIF9yZXR1cm4gKz0gMTI7XG5cbiAgICAgIHJldHVybiBfcmV0dXJuO1xuICAgIH0sXG4gICAgaGlkZTogZnVuY3Rpb24gKG9rQnRuKSB7XG4gICAgICBpZiAob2tCdG4pIHtcbiAgICAgICAgdGhpcy5fZGlhbG9nLmhpZGUodGhpcy5jdXJyZW50RGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9kaWFsb2cuY2FuY2VsKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG5cbiAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSlcbiAgICAuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlckNhbGVuZGFyJywgW1xuICAgICAgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBzdGFydERhdGUgPSBtb21lbnQoKSxcbiAgICAgICAgICBZRUFSX01JTiA9IDE5MDAsXG4gICAgICAgICAgWUVBUl9NQVggPSAyMTAwLFxuICAgICAgICAgIE1PTlRIU19JTl9BTEwgPSAoWUVBUl9NQVggLSBZRUFSX01JTiArIDEpICogMTIsXG4gICAgICAgICAgSVRFTV9IRUlHSFQgPSAyNDAsXG4gICAgICAgICAgTU9OVEhTID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTU9OVEhTX0lOX0FMTDsgaSsrKSB7XG4gICAgICAgICAgTU9OVEhTLnB1c2goaSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VycmVudE1vbnRoSW5kZXggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgIHZhciB5ZWFyID0gZGF0ZS55ZWFyKCk7XG4gICAgICAgICAgdmFyIG1vbnRoID0gZGF0ZS5tb250aCgpO1xuICAgICAgICAgIHJldHVybiAoKHllYXIgLSBZRUFSX01JTikgKiAxMikgKyBtb250aCAtIDE7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBwaWNrZXI6ICc9JyxcbiAgICAgICAgICAgIGRhdGU6ICc9J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgICAgICBjb250cm9sbGVyQXM6ICdjYWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAgICAgICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwaWNrZXIgPSB0aGlzLnBpY2tlcixcbiAgICAgICAgICAgICAgICBkYXlzID0gW107XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHBpY2tlci5wYXJhbXMud2Vla1N0YXJ0OyBkYXlzLmxlbmd0aCA8IDc7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpID4gNikge1xuICAgICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRheXMucHVzaChpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2FsZW5kYXIud2VlayA9IGRheXM7XG4gICAgICAgICAgICAgIGlmICghcGlja2VyLm1heERhdGUgJiYgIXBpY2tlci5taW5EYXRlKSB7XG4gICAgICAgICAgICAgICAgY2FsZW5kYXIubW9udGhzID0gTU9OVEhTO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsb3cgPSBwaWNrZXIubWluRGF0ZSA/IGN1cnJlbnRNb250aEluZGV4KHBpY2tlci5taW5EYXRlKSA6IDA7XG4gICAgICAgICAgICAgICAgdmFyIGhpZ2ggPSBwaWNrZXIubWF4RGF0ZSA/IChjdXJyZW50TW9udGhJbmRleChwaWNrZXIubWF4RGF0ZSkgKyAxKSA6IE1PTlRIU19JTl9BTEw7XG4gICAgICAgICAgICAgICAgY2FsZW5kYXIubW9udGhzID0gTU9OVEhTLnNsaWNlKGxvdywgaGlnaCk7XG4gICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLmdldEl0ZW1BdEluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gKChpbmRleCArIDEpICUgMTIpIHx8IDEyO1xuICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gWUVBUl9NSU4gKyBNYXRoLmZsb29yKGluZGV4IC8gMTIpO1xuICAgICAgICAgICAgICAgIHZhciBtb250aE9iaiA9IG1vbWVudChwaWNrZXIuY3VycmVudERhdGUpXG4gICAgICAgICAgICAgICAgICAueWVhcih5ZWFyKVxuICAgICAgICAgICAgICAgICAgLm1vbnRoKG1vbnRoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVNb250aENhbGVuZGFyKG1vbnRoT2JqKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBjYWxlbmRhci50b3BJbmRleCA9IGN1cnJlbnRNb250aEluZGV4KHBpY2tlci5jdXJyZW50RGF0ZSkgLSBjYWxlbmRhci5tb250aHNbMF07XG5cbiAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlci5jdXJyZW50RGF0ZSA/IHBpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoJ1lZWVktTU0nKSA6ICcnO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodmFsMiwgdmFsMSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWwyICE9IHZhbDEpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBuRGF0ZSA9IG1vbWVudCh2YWwyLCAnWVlZWS1NTScpO1xuICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gY3VycmVudE1vbnRoSW5kZXgobkRhdGUpO1xuICAgICAgICAgICAgICAgICAgaWYgKGNhbGVuZGFyLnRvcEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGVuZGFyLnRvcEluZGV4ID0gaW5kZXggLSBjYWxlbmRhci5tb250aHNbMF07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICB2YXIgZ2VuZXJhdGVNb250aENhbGVuZGFyID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW9udGggPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgbW9udGgubmFtZSA9IGRhdGUuZm9ybWF0KCdNTU1NIFlZWVknKTtcbiAgICAgICAgICAgICAgICAgIHZhciBzdGFydE9mTW9udGggPSBtb21lbnQoZGF0ZSkubG9jYWxlKHBpY2tlci5wYXJhbXMubGFuZykuc3RhcnRPZignbW9udGgnKVxuICAgICAgICAgICAgICAgICAgICAgIC5ob3VyKGRhdGUuaG91cigpKVxuICAgICAgICAgICAgICAgICAgICAgIC5taW51dGUoZGF0ZS5taW51dGUoKSlcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgdmFyIGlOdW1EYXkgPSBzdGFydE9mTW9udGguZm9ybWF0KCdkJyk7XG4gICAgICAgICAgICAgICAgICBtb250aC5kYXlzID0gW107XG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRPZk1vbnRoLmRhdGUoKTsgaSA8PSBzdGFydE9mTW9udGguZGF5c0luTW9udGgoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBzdGFydE9mTW9udGguZGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGlXZWVrID0gY2FsZW5kYXIud2Vlay5pbmRleE9mKGlOdW1EYXkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlXZWVrID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBpV2VlazsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoLmRheXMucHVzaCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbW9udGguZGF5cy5wdXNoKG1vbWVudChzdGFydE9mTW9udGgpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLmRhdGUoaSkpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICB2YXIgZGF5c0luQVdlZWsgPSA3LCBkYXlzVG1wID0gW10sIHNsaWNlcyA9IE1hdGguY2VpbChtb250aC5kYXlzLmxlbmd0aCAvIGRheXNJbkFXZWVrKTtcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2xpY2VzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5c1RtcC5wdXNoKG1vbnRoLmRheXMuc2xpY2UoaiAqIGRheXNJbkFXZWVrLCAoaiArIDEpICogZGF5c0luQVdlZWspKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIG1vbnRoLmRheXMgPSBkYXlzVG1wO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLnRvRGF5ID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KHBhcnNlSW50KGkpLCBcImRcIilcbiAgICAgICAgICAgICAgICAgIC5sb2NhbGUocGlja2VyLnBhcmFtcy5sYW5nKVxuICAgICAgICAgICAgICAgICAgLmZvcm1hdChcImRkXCIpXG4gICAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKDAsIDEpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLmlzSW5SYW5nZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlci5pc0FmdGVyTWluRGF0ZShtb21lbnQoZGF0ZSksIGZhbHNlLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICYmIHBpY2tlci5pc0JlZm9yZU1heERhdGUobW9tZW50KGRhdGUpLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLnNlbGVjdERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY2FsZW5kYXIuaXNTZWxlY3RlZERheShkYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGlja2VyLm9rKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBwaWNrZXIuc2VsZWN0RGF0ZShtb21lbnQoZGF0ZSkuaG91cihjYWxlbmRhci5kYXRlLmhvdXIoKSkubWludXRlKGNhbGVuZGFyLmRhdGUubWludXRlKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgY2FsZW5kYXIuaXNTZWxlY3RlZERheSA9IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG0gJiYgY2FsZW5kYXIuZGF0ZS5kYXRlKCkgPT09IG0uZGF0ZSgpICYmIGNhbGVuZGFyLmRhdGUubW9udGgoKSA9PT0gbS5tb250aCgpICYmIGNhbGVuZGFyLmRhdGUueWVhcigpID09PSBtLnllYXIoKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgdGVtcGxhdGU6ICc8bWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyIG1kLXRvcC1pbmRleD1cImNhbC50b3BJbmRleFwiIGNsYXNzPVwibW9udGhzXCI+JyArXG4gICAgICAgICAgJzxkaXYgbWQtdmlydHVhbC1yZXBlYXQ9XCJpZHggaW4gY2FsLm1vbnRoc1wiIG1kLXN0YXJ0LWluZGV4PVwiY2FsLnRvcEluZGV4XCIgbWQtaXRlbS1zaXplPVwiJyArIElURU1fSEVJR0hUICsgJ1wiPicgK1xuICAgICAgICAgICcgICAgIDxkaXYgbWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhci1tb250aCBpZHg9XCJpZHhcIj48L2Rpdj4nICtcbiAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgJzwvbWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyPidcbiAgICAgICAgfTtcbiAgICAgIH1dKVxuICAgIC5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXJNb250aCcsIFsnJGNvbXBpbGUnLFxuICAgICAgZnVuY3Rpb24gKCRjb21waWxlKSB7XG4gICAgICAgIHZhciBidWlsZENhbGVuZGFyQ29udGVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBzY29wZSkge1xuICAgICAgICAgIHZhciB0Ym9keSA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5JykpO1xuICAgICAgICAgIHZhciBjYWxlbmRhciA9IHNjb3BlLmNhbCwgbW9udGggPSBzY29wZS5tb250aDtcbiAgICAgICAgICB0Ym9keS5odG1sKCcnKTtcbiAgICAgICAgICBtb250aC5kYXlzLmZvckVhY2goZnVuY3Rpb24gKHdlZWtEYXlzLCBpKSB7XG4gICAgICAgICAgICB2YXIgdHIgPSBhbmd1bGFyLmVsZW1lbnQoJzx0cj48L3RyPicpO1xuICAgICAgICAgICAgd2Vla0RheXMuZm9yRWFjaChmdW5jdGlvbiAod2Vla0RheSwgaikge1xuICAgICAgICAgICAgICB2YXIgdGQgPSBhbmd1bGFyLmVsZW1lbnQoJzx0ZD4gPC90ZD4nKTtcbiAgICAgICAgICAgICAgaWYgKHdlZWtEYXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYU9yU3BhbjtcbiAgICAgICAgICAgICAgICBpZiAoY2FsZW5kYXIuaXNJblJhbmdlKHdlZWtEYXkpKSB7XG4gICAgICAgICAgICAgICAgICAvL2J1aWxkIGFcbiAgICAgICAgICAgICAgICAgIHZhciBzY29wZVJlZiA9ICdtb250aFtcImRheXNcIl1bJyArIGkgKyAnXVsnICsgaiArICddJztcbiAgICAgICAgICAgICAgICAgIGFPclNwYW4gPSBhbmd1bGFyLmVsZW1lbnQoXCI8YSBocmVmPScjJyBtZGMtZHRwLW5vY2xpY2s+PC9hPlwiKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignbmctY2xhc3MnLCAne3NlbGVjdGVkOiBjYWwuaXNTZWxlY3RlZERheSgnICsgc2NvcGVSZWYgKyAnKX0nKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignbmctY2xpY2snLCAnY2FsLnNlbGVjdERhdGUoJyArIHNjb3BlUmVmICsgJyknKVxuICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBhT3JTcGFuID0gYW5ndWxhci5lbGVtZW50KCc8c3Bhbj48L3NwYW4+JylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYU9yU3BhblxuICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdkdHAtc2VsZWN0LWRheScpXG4gICAgICAgICAgICAgICAgICAuaHRtbCh3ZWVrRGF5LmZvcm1hdCgnRCcpKTtcbiAgICAgICAgICAgICAgICB0ZC5hcHBlbmQoYU9yU3Bhbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdHIuYXBwZW5kKHRkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGJvZHkuYXBwZW5kKHRyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkY29tcGlsZSh0Ym9keSkoc2NvcGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIGlkeDogJz0nXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXF1aXJlOiAnXm1kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXInLFxuICAgICAgICAgIHJlc3RyaWN0OiAnQUUnLFxuICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImR0cC1waWNrZXItbW9udGhcIj57e21vbnRoLm5hbWV9fTwvZGl2PidcbiAgICAgICAgICArICc8dGFibGUgY2xhc3M9XCJ0YWJsZSBkdHAtcGlja2VyLWRheXNcIj4nXG4gICAgICAgICAgKyAnICAgIDx0aGVhZD4nXG4gICAgICAgICAgKyAnICAgIDx0cj4nXG4gICAgICAgICAgKyAnICAgICAgICA8dGggbmctcmVwZWF0PVwiZGF5IGluIGNhbC53ZWVrXCI+e3tjYWwudG9EYXkoZGF5KX19PC90aD4nXG4gICAgICAgICAgKyAnICAgIDwvdHI+J1xuICAgICAgICAgICsgJyAgICA8L3RoZWFkPidcbiAgICAgICAgICArICcgICAgPHRib2R5PidcbiAgICAgICAgICArICcgICAgPC90Ym9keT4nXG4gICAgICAgICAgKyAnPC90YWJsZT4nLFxuICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNhbGVuZGFyKSB7XG4gICAgICAgICAgICBzY29wZS5jYWwgPSBjYWxlbmRhcjtcbiAgICAgICAgICAgIHNjb3BlLm1vbnRoID0gY2FsZW5kYXIuZ2V0SXRlbUF0SW5kZXgocGFyc2VJbnQoc2NvcGUuaWR4KSk7XG4gICAgICAgICAgICBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSk7XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuaWR4O1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGlkeCwgb2xkSWR4KSB7XG4gICAgICAgICAgICAgIGlmIChpZHggIT0gb2xkSWR4KSB7XG4gICAgICAgICAgICAgICAgc2NvcGUubW9udGggPSBjYWxlbmRhci5nZXRJdGVtQXRJbmRleChwYXJzZUludChzY29wZS5pZHgpKTtcbiAgICAgICAgICAgICAgICBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICBdKVxuICA7XG5cbiAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSlcbiAgICAuZGlyZWN0aXZlKCdtZGNEdHBOb2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCkge1xuICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpXG4gICAgLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDbG9jaycsIFtcbiAgICAgIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgdGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cImR0cC1waWNrZXItY2xvY2tcIj48c3BhbiBuZy1pZj1cIiFwb2ludHMgfHwgcG9pbnRzLmxlbmd0aCA8IDFcIj4mbmJzcDs8L3NwYW4+J1xuICAgICAgICAgICsgJzxkaXYgbmctcmVwZWF0PVwicG9pbnQgaW4gcG9pbnRzXCIgY2xhc3M9XCJkdHAtcGlja2VyLXRpbWVcIiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiB7e3BvaW50LmxlZnR9fXB4OyBtYXJnaW4tdG9wOiB7e3BvaW50LnRvcH19cHg7XCI+J1xuICAgICAgICAgICsgJyAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwb2ludC52YWx1ZT09PWN1cnJlbnRWYWx1ZX1cIiBjbGFzcz1cImR0cC1zZWxlY3QtaG91clwiIG5nLWNsaWNrPVwic2V0VGltZShwb2ludC52YWx1ZSlcIiBuZy1pZj1cInBvaW50QXZhaWxhYmxlKHBvaW50KVwiPnt7cG9pbnQuZGlzcGxheX19PC9hPidcbiAgICAgICAgICArICcgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImRpc2FibGVkIGR0cC1zZWxlY3QtaG91clwiIG5nLWlmPVwiIXBvaW50QXZhaWxhYmxlKHBvaW50KVwiPnt7cG9pbnQuZGlzcGxheX19PC9hPidcbiAgICAgICAgICArICc8L2Rpdj4nXG4gICAgICAgICAgKyAnPGRpdiBjbGFzcz1cImR0cC1oYW5kIGR0cC1ob3VyLWhhbmRcIj48L2Rpdj4nXG4gICAgICAgICAgKyAnPGRpdiBjbGFzcz1cImR0cC1oYW5kIGR0cC1taW51dGUtaGFuZFwiPjwvZGl2PidcbiAgICAgICAgICArICc8ZGl2IGNsYXNzPVwiZHRwLWNsb2NrLWNlbnRlclwiPjwvZGl2PidcbiAgICAgICAgICArICc8L2Rpdj4nO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgdmFyIG1pbnV0ZU1vZGUgPSBhdHRycy5tb2RlID09PSAnbWludXRlcyc7XG4gICAgICAgICAgICB2YXIgcGlja2VyID0gc2NvcGUucGlja2VyO1xuICAgICAgICAgICAgLy9iYW5raW5nIG9uIHRoZSBmYWN0IHRoYXQgdGhlcmUgd2lsbCBvbmx5IGJlIG9uZSBhdCBhIHRpbWVcbiAgICAgICAgICAgIHZhciBjb21wb25lbnRSb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWQtZGlhbG9nLmR0cCcpO1xuICAgICAgICAgICAgdmFyIGV4ZWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBjbG9jayA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtcGlja2VyLWNsb2NrJykpLFxuICAgICAgICAgICAgICAgIHBpY2tlckVsID0gYW5ndWxhci5lbGVtZW50KGNvbXBvbmVudFJvb3QucXVlcnlTZWxlY3RvcignLmR0cC1waWNrZXInKSk7XG5cbiAgICAgICAgICAgICAgdmFyIHcgPSBjb21wb25lbnRSb290LnF1ZXJ5U2VsZWN0b3IoJy5kdHAtY29udGVudCcpLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICB2YXIgcGwgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgcHIgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nUmlnaHQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICAgICAgICAgICAgdmFyIG1sID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgbXIgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5SaWdodCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICAvL3NldCB3aWR0aFxuICAgICAgICAgICAgICB2YXIgY2xvY2tXaWR0aCA9ICh3IC0gKG1sICsgbXIgKyBwbCArIHByKSk7XG4gICAgICAgICAgICAgIGNsb2NrLmNzcygnd2lkdGgnLCAoY2xvY2tXaWR0aCkgKyAncHgnKTtcblxuICAgICAgICAgICAgICB2YXIgcEwgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgcFQgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nVG9wJykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG4gICAgICAgICAgICAgIHZhciBtTCA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpbkxlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICAgICAgICAgICAgdmFyIG1UID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luVG9wJykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cbiAgICAgICAgICAgICAgdmFyIHIgPSAoY2xvY2tXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICB2YXIgaiA9IHIgLyAxLjI7IC8vPz8/XG5cbiAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgMTI7ICsraCkge1xuICAgICAgICAgICAgICAgIHZhciB4ID0gaiAqIE1hdGguc2luKE1hdGguUEkgKiAyICogKGggLyAxMikpO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gaiAqIE1hdGguY29zKE1hdGguUEkgKiAyICogKGggLyAxMikpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGhvdXIgPSB7XG4gICAgICAgICAgICAgICAgICBsZWZ0OiAociArIHggKyBwTCAvIDIpIC0gKHBMICsgbUwpLFxuICAgICAgICAgICAgICAgICAgdG9wOiAociAtIHkgLSBtVCAvIDIpIC0gKHBUICsgbVQpLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IChtaW51dGVNb2RlID8gKGggKiA1KSA6IGgpIC8vNSBmb3IgbWludXRlIDYwLzEyXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChtaW51dGVNb2RlKSB7XG4gICAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBob3VyLnZhbHVlIDwgMTAgPyAoJzAnICsgaG91ci52YWx1ZSkgOiBob3VyLnZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChwaWNrZXIucGFyYW1zLnNob3J0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSAoaCA9PT0gMCkgPyAxMiA6IGg7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBwaWNrZXIuaXNQTSgpID8gaCArIDEyIDogaDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGhvdXIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2NvcGUucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICAgICAgICBzZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgY2xvY2suY3NzKCdoZWlnaHQnLCBjbG9ja1dpZHRoICsgJ3B4Jyk7XG4gICAgICAgICAgICAgIC8vcGlja2VyLmluaXRIYW5kcyh0cnVlKTtcblxuICAgICAgICAgICAgICB2YXIgY2xvY2tDZW50ZXIgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtY2xvY2stY2VudGVyJyk7XG4gICAgICAgICAgICAgIHZhciBjZW50ZXJXaWR0aCA9IChjbG9ja0NlbnRlci5vZmZzZXRXaWR0aCAvIDIpIHx8IDcuNSxcbiAgICAgICAgICAgICAgICBjZW50ZXJIZWlnaHQgPSAoY2xvY2tDZW50ZXIub2Zmc2V0SGVpZ2h0IC8gMikgfHwgNy41O1xuICAgICAgICAgICAgICB2YXIgX2hMID0gciAvIDEuODtcbiAgICAgICAgICAgICAgdmFyIF9tTCA9IHIgLyAxLjU7XG5cbiAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1ob3VyLWhhbmQnKSkuY3NzKHtcbiAgICAgICAgICAgICAgICBsZWZ0OiByICsgKG1MICogMS41KSArICdweCcsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBfaEwgKyAncHgnLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogKHIgLSBfaEwgLSBwTCkgKyAncHgnXG4gICAgICAgICAgICAgIH0pLmFkZENsYXNzKCFtaW51dGVNb2RlID8gJ29uJyA6ICcnKTtcblxuICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLmNzc1xuICAgICAgICAgICAgICAoe1xuICAgICAgICAgICAgICAgIGxlZnQ6IHIgKyAobUwgKiAxLjUpICsgJ3B4JyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IF9tTCArICdweCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAociAtIF9tTCAtIHBMKSArICdweCdcbiAgICAgICAgICAgICAgfSkuYWRkQ2xhc3MobWludXRlTW9kZSA/ICdvbicgOiAnJyk7XG5cbiAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGNsb2NrQ2VudGVyKS5jc3Moe1xuICAgICAgICAgICAgICAgIGxlZnQ6IChyICsgcEwgKyBtTCAtIGNlbnRlcldpZHRoKSArICdweCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAociAtIChtTCAvIDIpKSAtIGNlbnRlckhlaWdodCArICdweCdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGFuaW1hdGVIYW5kcygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGFuaW1hdGVIYW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIF9kYXRlID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuICAgICAgICAgICAgICB2YXIgaCA9IF9kYXRlLmhvdXIoKTtcbiAgICAgICAgICAgICAgdmFyIG0gPSBfZGF0ZS5taW51dGUoKTtcblxuICAgICAgICAgICAgICByb3RhdGVFbGVtZW50KGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtaG91ci1oYW5kJykpLCAoMzYwIC8gMTIpICogaCk7XG4gICAgICAgICAgICAgIHZhciBtZGcgPSAoKDM2MCAvIDYwKSAqICg1ICogTWF0aC5yb3VuZChtIC8gNSkpKTtcbiAgICAgICAgICAgICAgcm90YXRlRWxlbWVudChhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLCBtZGcpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHJvdGF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAoZWwsIGRlZykge1xuICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWwpLmNzcyh7XG4gICAgICAgICAgICAgICAgV2Via2l0VHJhbnNmb3JtOiAncm90YXRlKCcgKyBkZWcgKyAnZGVnKScsXG4gICAgICAgICAgICAgICAgJy1tb3otdHJhbnNmb3JtJzogJ3JvdGF0ZSgnICsgZGVnICsgJ2RlZyknXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICB2YXIgc2V0Q3VycmVudFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgZGF0ZSA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcbiAgICAgICAgICAgICAgc2NvcGUuY3VycmVudFZhbHVlID0gbWludXRlTW9kZSA/IGRhdGUubWludXRlKCkgOiAoZGF0ZS5ob3VyKCkgJSAxMik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgdG1wID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gdG1wID8gdG1wLmZvcm1hdCgnSEg6bW0nKSA6ICcnO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKG5ld1ZhbCkge1xuICAgICAgICAgICAgICBzZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgYW5pbWF0ZUhhbmRzKCk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICB2YXIgc2V0RGlzcGxheVBvaW50cyA9IGZ1bmN0aW9uIChpc1BNLCBwb2ludHMpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwb2ludHNbaV0uZGlzcGxheSA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUE0pIHtcbiAgICAgICAgICAgICAgICAgIHBvaW50c1tpXS5kaXNwbGF5ICs9IDEyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCFwaWNrZXIucGFyYW1zLnNob3J0VGltZSkge1xuICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goJ3BpY2tlci5tZXJpZGllbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1pbnV0ZU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5wb2ludHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IHNldERpc3BsYXlQb2ludHMocGlja2VyLmlzUE0oKSwgYW5ndWxhci5jb3B5KHNjb3BlLnBvaW50cykpO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBzY29wZS5zZXRUaW1lID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICBpZiAodmFsID09PSBzY29wZS5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwaWNrZXIub2soKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghbWludXRlTW9kZSkge1xuICAgICAgICAgICAgICAgIHBpY2tlci5jdXJyZW50RGF0ZS5ob3VyKHBpY2tlci5pc1BNKCkgPyAodmFsICsgMTIpIDogdmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwaWNrZXIuY3VycmVudERhdGUubWludXRlKHZhbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGlja2VyLmN1cnJlbnREYXRlLnNlY29uZCgwKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2NvcGUucG9pbnRBdmFpbGFibGUgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1pbnV0ZU1vZGUgPyBwaWNrZXIuaXNNaW51dGVBdmFpbGFibGUocG9pbnQudmFsdWUpIDogcGlja2VyLmlzSG91ckF2YWlsYWJsZShwb2ludC52YWx1ZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdW53YXRjaGVyID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnZGl2JykubGVuZ3RoO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBleGVjKCk7XG4gICAgICAgICAgICAgIHVud2F0Y2hlcigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XSk7XG5cbn0pKG1vbWVudCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci9qcy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmpzIiwidmFyIG1hcCA9IHtcblx0XCIuL2FmXCI6IDQ5Myxcblx0XCIuL2FmLmpzXCI6IDQ5Myxcblx0XCIuL2FyXCI6IDQ5NCxcblx0XCIuL2FyLWR6XCI6IDQ5NSxcblx0XCIuL2FyLWR6LmpzXCI6IDQ5NSxcblx0XCIuL2FyLWx5XCI6IDQ5Nixcblx0XCIuL2FyLWx5LmpzXCI6IDQ5Nixcblx0XCIuL2FyLW1hXCI6IDQ5Nyxcblx0XCIuL2FyLW1hLmpzXCI6IDQ5Nyxcblx0XCIuL2FyLXNhXCI6IDQ5OCxcblx0XCIuL2FyLXNhLmpzXCI6IDQ5OCxcblx0XCIuL2FyLXRuXCI6IDQ5OSxcblx0XCIuL2FyLXRuLmpzXCI6IDQ5OSxcblx0XCIuL2FyLmpzXCI6IDQ5NCxcblx0XCIuL2F6XCI6IDUwMCxcblx0XCIuL2F6LmpzXCI6IDUwMCxcblx0XCIuL2JlXCI6IDUwMSxcblx0XCIuL2JlLmpzXCI6IDUwMSxcblx0XCIuL2JnXCI6IDUwMixcblx0XCIuL2JnLmpzXCI6IDUwMixcblx0XCIuL2JuXCI6IDUwMyxcblx0XCIuL2JuLmpzXCI6IDUwMyxcblx0XCIuL2JvXCI6IDUwNCxcblx0XCIuL2JvLmpzXCI6IDUwNCxcblx0XCIuL2JyXCI6IDUwNSxcblx0XCIuL2JyLmpzXCI6IDUwNSxcblx0XCIuL2JzXCI6IDUwNixcblx0XCIuL2JzLmpzXCI6IDUwNixcblx0XCIuL2NhXCI6IDUwNyxcblx0XCIuL2NhLmpzXCI6IDUwNyxcblx0XCIuL2NzXCI6IDUwOCxcblx0XCIuL2NzLmpzXCI6IDUwOCxcblx0XCIuL2N2XCI6IDUwOSxcblx0XCIuL2N2LmpzXCI6IDUwOSxcblx0XCIuL2N5XCI6IDUxMCxcblx0XCIuL2N5LmpzXCI6IDUxMCxcblx0XCIuL2RhXCI6IDUxMSxcblx0XCIuL2RhLmpzXCI6IDUxMSxcblx0XCIuL2RlXCI6IDUxMixcblx0XCIuL2RlLWF0XCI6IDUxMyxcblx0XCIuL2RlLWF0LmpzXCI6IDUxMyxcblx0XCIuL2RlLmpzXCI6IDUxMixcblx0XCIuL2R2XCI6IDUxNCxcblx0XCIuL2R2LmpzXCI6IDUxNCxcblx0XCIuL2VsXCI6IDUxNSxcblx0XCIuL2VsLmpzXCI6IDUxNSxcblx0XCIuL2VuLWF1XCI6IDUxNixcblx0XCIuL2VuLWF1LmpzXCI6IDUxNixcblx0XCIuL2VuLWNhXCI6IDUxNyxcblx0XCIuL2VuLWNhLmpzXCI6IDUxNyxcblx0XCIuL2VuLWdiXCI6IDUxOCxcblx0XCIuL2VuLWdiLmpzXCI6IDUxOCxcblx0XCIuL2VuLWllXCI6IDUxOSxcblx0XCIuL2VuLWllLmpzXCI6IDUxOSxcblx0XCIuL2VuLW56XCI6IDUyMCxcblx0XCIuL2VuLW56LmpzXCI6IDUyMCxcblx0XCIuL2VvXCI6IDUyMSxcblx0XCIuL2VvLmpzXCI6IDUyMSxcblx0XCIuL2VzXCI6IDUyMixcblx0XCIuL2VzLWRvXCI6IDUyMyxcblx0XCIuL2VzLWRvLmpzXCI6IDUyMyxcblx0XCIuL2VzLmpzXCI6IDUyMixcblx0XCIuL2V0XCI6IDUyNCxcblx0XCIuL2V0LmpzXCI6IDUyNCxcblx0XCIuL2V1XCI6IDUyNSxcblx0XCIuL2V1LmpzXCI6IDUyNSxcblx0XCIuL2ZhXCI6IDUyNixcblx0XCIuL2ZhLmpzXCI6IDUyNixcblx0XCIuL2ZpXCI6IDUyNyxcblx0XCIuL2ZpLmpzXCI6IDUyNyxcblx0XCIuL2ZvXCI6IDUyOCxcblx0XCIuL2ZvLmpzXCI6IDUyOCxcblx0XCIuL2ZyXCI6IDUyOSxcblx0XCIuL2ZyLWNhXCI6IDUzMCxcblx0XCIuL2ZyLWNhLmpzXCI6IDUzMCxcblx0XCIuL2ZyLWNoXCI6IDUzMSxcblx0XCIuL2ZyLWNoLmpzXCI6IDUzMSxcblx0XCIuL2ZyLmpzXCI6IDUyOSxcblx0XCIuL2Z5XCI6IDUzMixcblx0XCIuL2Z5LmpzXCI6IDUzMixcblx0XCIuL2dkXCI6IDUzMyxcblx0XCIuL2dkLmpzXCI6IDUzMyxcblx0XCIuL2dsXCI6IDUzNCxcblx0XCIuL2dsLmpzXCI6IDUzNCxcblx0XCIuL2hlXCI6IDUzNSxcblx0XCIuL2hlLmpzXCI6IDUzNSxcblx0XCIuL2hpXCI6IDUzNixcblx0XCIuL2hpLmpzXCI6IDUzNixcblx0XCIuL2hyXCI6IDUzNyxcblx0XCIuL2hyLmpzXCI6IDUzNyxcblx0XCIuL2h1XCI6IDUzOCxcblx0XCIuL2h1LmpzXCI6IDUzOCxcblx0XCIuL2h5LWFtXCI6IDUzOSxcblx0XCIuL2h5LWFtLmpzXCI6IDUzOSxcblx0XCIuL2lkXCI6IDU0MCxcblx0XCIuL2lkLmpzXCI6IDU0MCxcblx0XCIuL2lzXCI6IDU0MSxcblx0XCIuL2lzLmpzXCI6IDU0MSxcblx0XCIuL2l0XCI6IDU0Mixcblx0XCIuL2l0LmpzXCI6IDU0Mixcblx0XCIuL2phXCI6IDU0Myxcblx0XCIuL2phLmpzXCI6IDU0Myxcblx0XCIuL2p2XCI6IDU0NCxcblx0XCIuL2p2LmpzXCI6IDU0NCxcblx0XCIuL2thXCI6IDU0NSxcblx0XCIuL2thLmpzXCI6IDU0NSxcblx0XCIuL2trXCI6IDU0Nixcblx0XCIuL2trLmpzXCI6IDU0Nixcblx0XCIuL2ttXCI6IDU0Nyxcblx0XCIuL2ttLmpzXCI6IDU0Nyxcblx0XCIuL2tvXCI6IDU0OCxcblx0XCIuL2tvLmpzXCI6IDU0OCxcblx0XCIuL2t5XCI6IDU0OSxcblx0XCIuL2t5LmpzXCI6IDU0OSxcblx0XCIuL2xiXCI6IDU1MCxcblx0XCIuL2xiLmpzXCI6IDU1MCxcblx0XCIuL2xvXCI6IDU1MSxcblx0XCIuL2xvLmpzXCI6IDU1MSxcblx0XCIuL2x0XCI6IDU1Mixcblx0XCIuL2x0LmpzXCI6IDU1Mixcblx0XCIuL2x2XCI6IDU1Myxcblx0XCIuL2x2LmpzXCI6IDU1Myxcblx0XCIuL21lXCI6IDU1NCxcblx0XCIuL21lLmpzXCI6IDU1NCxcblx0XCIuL21pXCI6IDU1NSxcblx0XCIuL21pLmpzXCI6IDU1NSxcblx0XCIuL21rXCI6IDU1Nixcblx0XCIuL21rLmpzXCI6IDU1Nixcblx0XCIuL21sXCI6IDU1Nyxcblx0XCIuL21sLmpzXCI6IDU1Nyxcblx0XCIuL21yXCI6IDU1OCxcblx0XCIuL21yLmpzXCI6IDU1OCxcblx0XCIuL21zXCI6IDU1OSxcblx0XCIuL21zLW15XCI6IDU2MCxcblx0XCIuL21zLW15LmpzXCI6IDU2MCxcblx0XCIuL21zLmpzXCI6IDU1OSxcblx0XCIuL215XCI6IDU2MSxcblx0XCIuL215LmpzXCI6IDU2MSxcblx0XCIuL25iXCI6IDU2Mixcblx0XCIuL25iLmpzXCI6IDU2Mixcblx0XCIuL25lXCI6IDU2Myxcblx0XCIuL25lLmpzXCI6IDU2Myxcblx0XCIuL25sXCI6IDU2NCxcblx0XCIuL25sLWJlXCI6IDU2NSxcblx0XCIuL25sLWJlLmpzXCI6IDU2NSxcblx0XCIuL25sLmpzXCI6IDU2NCxcblx0XCIuL25uXCI6IDU2Nixcblx0XCIuL25uLmpzXCI6IDU2Nixcblx0XCIuL3BhLWluXCI6IDU2Nyxcblx0XCIuL3BhLWluLmpzXCI6IDU2Nyxcblx0XCIuL3BsXCI6IDU2OCxcblx0XCIuL3BsLmpzXCI6IDU2OCxcblx0XCIuL3B0XCI6IDU2OSxcblx0XCIuL3B0LWJyXCI6IDU3MCxcblx0XCIuL3B0LWJyLmpzXCI6IDU3MCxcblx0XCIuL3B0LmpzXCI6IDU2OSxcblx0XCIuL3JvXCI6IDU3MSxcblx0XCIuL3JvLmpzXCI6IDU3MSxcblx0XCIuL3J1XCI6IDU3Mixcblx0XCIuL3J1LmpzXCI6IDU3Mixcblx0XCIuL3NlXCI6IDU3Myxcblx0XCIuL3NlLmpzXCI6IDU3Myxcblx0XCIuL3NpXCI6IDU3NCxcblx0XCIuL3NpLmpzXCI6IDU3NCxcblx0XCIuL3NrXCI6IDU3NSxcblx0XCIuL3NrLmpzXCI6IDU3NSxcblx0XCIuL3NsXCI6IDU3Nixcblx0XCIuL3NsLmpzXCI6IDU3Nixcblx0XCIuL3NxXCI6IDU3Nyxcblx0XCIuL3NxLmpzXCI6IDU3Nyxcblx0XCIuL3NyXCI6IDU3OCxcblx0XCIuL3NyLWN5cmxcIjogNTc5LFxuXHRcIi4vc3ItY3lybC5qc1wiOiA1NzksXG5cdFwiLi9zci5qc1wiOiA1NzgsXG5cdFwiLi9zc1wiOiA1ODAsXG5cdFwiLi9zcy5qc1wiOiA1ODAsXG5cdFwiLi9zdlwiOiA1ODEsXG5cdFwiLi9zdi5qc1wiOiA1ODEsXG5cdFwiLi9zd1wiOiA1ODIsXG5cdFwiLi9zdy5qc1wiOiA1ODIsXG5cdFwiLi90YVwiOiA1ODMsXG5cdFwiLi90YS5qc1wiOiA1ODMsXG5cdFwiLi90ZVwiOiA1ODQsXG5cdFwiLi90ZS5qc1wiOiA1ODQsXG5cdFwiLi90ZXRcIjogNTg1LFxuXHRcIi4vdGV0LmpzXCI6IDU4NSxcblx0XCIuL3RoXCI6IDU4Nixcblx0XCIuL3RoLmpzXCI6IDU4Nixcblx0XCIuL3RsLXBoXCI6IDU4Nyxcblx0XCIuL3RsLXBoLmpzXCI6IDU4Nyxcblx0XCIuL3RsaFwiOiA1ODgsXG5cdFwiLi90bGguanNcIjogNTg4LFxuXHRcIi4vdHJcIjogNTg5LFxuXHRcIi4vdHIuanNcIjogNTg5LFxuXHRcIi4vdHpsXCI6IDU5MCxcblx0XCIuL3R6bC5qc1wiOiA1OTAsXG5cdFwiLi90em1cIjogNTkxLFxuXHRcIi4vdHptLWxhdG5cIjogNTkyLFxuXHRcIi4vdHptLWxhdG4uanNcIjogNTkyLFxuXHRcIi4vdHptLmpzXCI6IDU5MSxcblx0XCIuL3VrXCI6IDU5Myxcblx0XCIuL3VrLmpzXCI6IDU5Myxcblx0XCIuL3V6XCI6IDU5NCxcblx0XCIuL3V6LmpzXCI6IDU5NCxcblx0XCIuL3ZpXCI6IDU5NSxcblx0XCIuL3ZpLmpzXCI6IDU5NSxcblx0XCIuL3gtcHNldWRvXCI6IDU5Nixcblx0XCIuL3gtcHNldWRvLmpzXCI6IDU5Nixcblx0XCIuL3lvXCI6IDU5Nyxcblx0XCIuL3lvLmpzXCI6IDU5Nyxcblx0XCIuL3poLWNuXCI6IDU5OCxcblx0XCIuL3poLWNuLmpzXCI6IDU5OCxcblx0XCIuL3poLWhrXCI6IDU5OSxcblx0XCIuL3poLWhrLmpzXCI6IDU5OSxcblx0XCIuL3poLXR3XCI6IDYwMCxcblx0XCIuL3poLXR3LmpzXCI6IDYwMFxufTtcbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRyZXR1cm4gbWFwW3JlcV0gfHwgKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKSB9KCkpO1xufTtcbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSA0OTI7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbW9tZW50L2xvY2FsZSBeXFwuXFwvLiokXG4vLyBtb2R1bGUgaWQgPSA0OTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9hcHAvY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2Nzcy9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3Ncbi8vIG1vZHVsZSBpZCA9IDYwMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIm1kLWRpYWxvZy5kdHB7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MS40Mjg1NzE0Mztjb2xvcjojMzMzO2JhY2tncm91bmQtY29sb3I6I2ZmZjttYXgtaGVpZ2h0Om5vbmV9LmR0cCA6Zm9jdXN7b3V0bGluZTpub25lIWltcG9ydGFudH0uZHRwIHRhYmxle2JvcmRlci1zcGFjaW5nOjA7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO3dpZHRoOjEwMCV9LmR0cCAudGFibGU+dGJvZHk+dHI+dGQsLmR0cCAudGFibGU+dGJvZHk+dHI+dGgsLmR0cCAudGFibGU+dGZvb3Q+dHI+dGQsLmR0cCAudGFibGU+dGZvb3Q+dHI+dGgsLmR0cCAudGFibGU+dGhlYWQ+dHI+dGQsLmR0cCAudGFibGU+dGhlYWQ+dHI+dGh7cGFkZGluZzo4cHg7bGluZS1oZWlnaHQ6MS40Mjg1NzE0Mzt2ZXJ0aWNhbC1hbGlnbjp0b3A7Ym9yZGVyLXRvcDoxcHggc29saWQgI2RkZH0uZHRwLC5kdHAgKntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50fS5kdHA+LmR0cC1jb250ZW50e21heC13aWR0aDozMDBweDttYXgtaGVpZ2h0OjUwMHB4fS5kdHA+LmR0cC1jb250ZW50Pi5kdHAtZGF0ZS12aWV3PmhlYWRlci5kdHAtaGVhZGVye2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmO3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6M3B4fS5kdHAgZGl2LmR0cC1kYXRlLC5kdHAgZGl2LmR0cC10aW1le2JhY2tncm91bmQ6IzhiYzM0YTt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojZmZmO3BhZGRpbmc6MTBweH0uZHRwIGRpdi5kdHAtZGF0ZT5kaXZ7cGFkZGluZzowO21hcmdpbjowfS5kdHAgZGl2LmR0cC1hY3R1YWwtbW9udGh7Zm9udC1zaXplOjEuNWVtfS5kdHAgZGl2LmR0cC1hY3R1YWwtbWF4dGltZSwuZHRwIGRpdi5kdHAtYWN0dWFsLW51bXtmb250LXNpemU6M2VtO2xpbmUtaGVpZ2h0Oi45fS5kdHAgZGl2LmR0cC1hY3R1YWwteWVhcntmb250LXNpemU6MS42ZW07Y29sb3I6I2RjZWRjOH0uZHRwIGRpdi5kdHAteWVhci1idG57Zm9udC1zaXplOjEuNGVtO2xpbmUtaGVpZ2h0OjMwcHg7Y3Vyc29yOnBvaW50ZXI7Y29sb3I6I2RjZWRjOH0uZHRwIGRpdi5kdHAteWVhci1idG4tcHJldnt0ZXh0LWFsaWduOnJpZ2h0fS5kdHAgZGl2LmR0cC15ZWFyLWJ0bi1uZXh0e3RleHQtYWxpZ246bGVmdH0uZHRwIGRpdi5kdHAtcGlja2Vye3BhZGRpbmc6MTBweDt0ZXh0LWFsaWduOmNlbnRlcn0uZHRwIGRpdi5kdHAtYWN0dWFsLXRpbWUsLmR0cCBkaXYuZHRwLXBpY2tlci1tb250aHtmb250LXdlaWdodDo1MDA7dGV4dC1hbGlnbjpjZW50ZXJ9LmR0cCAuZHRwLWNsb3Nle3Bvc2l0aW9uOmFic29sdXRlO3RvcDouMjVlbTtyaWdodDo1cHg7Zm9udC1zaXplOjE2cHh9LmR0cCAuZHRwLWNsb3NlPmF7Y29sb3I6I2ZmZjt0ZXh0LWRlY29yYXRpb246bm9uZX0uZHRwIC5kdHAtY2xvc2U+YT5pe2ZvbnQtc2l6ZToxZW19LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXN7bWFyZ2luOjA7bWluLWhlaWdodDoyMjBweH0uZHRwIG1kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lci5tb250aHN7aGVpZ2h0OjI2MHB4fS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRke2JvcmRlcjpub25lfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRke2ZvbnQtc2l6ZToxMXB4O3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6MH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5zcGFuLmR0cC1zZWxlY3QtZGF5e2NvbG9yOiNiZGJkYmQhaW1wb3J0YW50fS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPi5kdHAtc2VsZWN0LWRheXt3aWR0aDozNnB4O2hlaWdodDozNnB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5kdHAgLmR0cC1waWNrZXItdGltZT5hLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPi5kdHAtc2VsZWN0LWRheXtjb2xvcjojMjEyMTIxO3RleHQtZGVjb3JhdGlvbjpub25lO3BhZGRpbmc6MTBweDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnR9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+YS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM4YmMzNGE7Y29sb3I6I2ZmZn0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5hOmhvdmVyOm5vdCguc2VsZWN0ZWQpe2JhY2tncm91bmQ6I2RkZH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50aHtjb2xvcjojNzU3NTc1O3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtd2VpZ2h0OjcwMDtwYWRkaW5nOjRweCAzcHh9LmR0cCAucDEwPmF7Y29sb3I6IzY4OWYzODt0ZXh0LWRlY29yYXRpb246bm9uZX0uZHRwIC5wMTB7d2lkdGg6MTAlfS5kdHAgLnAxMCwuZHRwIC5wMjB7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAucDIwe3dpZHRoOjIwJX0uZHRwIC5wNjB7d2lkdGg6NjAlfS5kdHAgLnA2MCwuZHRwIC5wODB7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAucDgwe3dpZHRoOjgwJX0uZHRwIGEuZHRwLW1lcmlkaWVuLWFtLC5kdHAgYS5kdHAtbWVyaWRpZW4tcG17cG9zaXRpb246cmVsYXRpdmU7dG9wOjEwcHg7Y29sb3I6IzIxMjEyMTtmb250LXdlaWdodDo1MDA7cGFkZGluZzo3cHggNXB4O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudDt0ZXh0LWRlY29yYXRpb246bm9uZTtiYWNrZ3JvdW5kOiNlZWU7Zm9udC1zaXplOjEwcHh9LmR0cCAuZHRwLWFjdHVhbC1tZXJpZGllbiBhLnNlbGVjdGVke2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmfS5kdHAgLmR0cC1waWNrZXItdGltZT5he2Rpc3BsYXk6YmxvY2s7bGluZS1oZWlnaHQ6MjNweDtwYWRkaW5nOjNweH0uZHRwIC5kdHAtcGlja2VyLXRpbWV7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDtmb250LXNpemU6MS4xZW07Ym9yZGVyLXJhZGl1czo1MCU7Y3Vyc29yOnBvaW50ZXI7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50fS5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtaG91ci5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM2ODlmMzg7Y29sb3I6I2ZmZn0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LWhvdXIuZGlzYWJsZWQsLmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1taW51dGUuZGlzYWJsZWR7Y29sb3I6Izc1NzU3NX0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LW1pbnV0ZS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM4YmMzNGE7Y29sb3I6I2ZmZn0uZHRwIGRpdi5kdHAtcGlja2VyLWNsb2Nre21hcmdpbjoxMHB4IDIwcHggMDtwYWRkaW5nOjEwcHg7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O2JhY2tncm91bmQ6I2VlZX0uZHRwLWNsb2NrLWNlbnRlcnt3aWR0aDoxNXB4O2hlaWdodDoxNXB4O2JhY2tncm91bmQ6Izc1NzU3NTtib3JkZXItcmFkaXVzOjUwJTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjUwfS5kdHAgLmR0cC1oYW5kLC5kdHAgLmR0cC1ob3VyLWhhbmR7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NHB4O21hcmdpbi1sZWZ0Oi0ycHg7YmFja2dyb3VuZDojYmRiZGJkOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDBkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpib3R0b207dHJhbnNmb3JtLW9yaWdpbjpib3R0b207ei1pbmRleDoxfS5kdHAgLmR0cC1taW51dGUtaGFuZHt3aWR0aDoycHg7bWFyZ2luLWxlZnQ6LTFweH0uZHRwIC5kdHAtaGFuZC5vbntiYWNrZ3JvdW5kOiM4YmMzNGF9LmR0cCAuZHRwLWJ1dHRvbnN7cGFkZGluZzowIDEwcHggMTBweDt0ZXh0LWFsaWduOnJpZ2h0fS5kdHAuaGlkZGVuLC5kdHAgLmhpZGRlbntkaXNwbGF5Om5vbmV9LmR0cCAuaW52aXNpYmxle3Zpc2liaWxpdHk6aGlkZGVufS5kdHAgLmxlZnR7ZmxvYXQ6bGVmdH0uZHRwIC5yaWdodHtmbG9hdDpyaWdodH0uZHRwIC5jbGVhcmZpeHtjbGVhcjpib3RofS5kdHAgLmNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlcn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlciEuL3NyYy9hcHAvY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2Nzcy9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3Ncbi8vIG1vZHVsZSBpZCA9IDYwMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbi8qXG4gKiBhbmd1bGFyLWdvb2dsZS1wbHVzLWRpcmVjdGl2ZSB2MC4wLjFcbiAqIOKZoSBDb3B5SGVhcnQgMjAxMyBieSBKZXJhZCBCaXRuZXIgaHR0cDovL2plcmFkYml0bmVyLmNvbVxuICogQ29weWluZyBpcyBhbiBhY3Qgb2YgbG92ZS4gUGxlYXNlIGNvcHkuXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ2RpcmVjdGl2ZS5nK3NpZ25pbicsIFtdKS5cbiAgZGlyZWN0aXZlKCdnb29nbGVQbHVzU2lnbmluJywgWyckd2luZG93JywgZnVuY3Rpb24gKCR3aW5kb3cpIHtcbiAgICB2YXIgZW5kaW5nID0gL1xcLmFwcHNcXC5nb29nbGV1c2VyY29udGVudFxcLmNvbSQvO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgdGVtcGxhdGU6ICc8c3Bhbj48L3NwYW4+JyxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCBsaW5rZXIpIHtcbiAgICAgICAgYXR0cnMuY2xpZW50aWQgKz0gKGVuZGluZy50ZXN0KGF0dHJzLmNsaWVudGlkKSA/ICcnIDogJy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbScpO1xuXG4gICAgICAgIGF0dHJzLiRzZXQoJ2RhdGEtY2xpZW50aWQnLCBhdHRycy5jbGllbnRpZCk7XG4gICAgICAgIGF0dHJzLiRzZXQoJ3RoZW1lJywgYXR0cnMudGhlbWUpO1xuXG4gICAgICAgIC8vIFNvbWUgZGVmYXVsdCB2YWx1ZXMsIGJhc2VkIG9uIHByaW9yIHZlcnNpb25zIG9mIHRoaXMgZGlyZWN0aXZlXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICBjYWxsYmFjazogJ3NpZ25pbkNhbGxiYWNrJyxcbiAgICAgICAgICBjb29raWVwb2xpY3k6ICdzaW5nbGVfaG9zdF9vcmlnaW4nLFxuICAgICAgICAgIHJlcXVlc3R2aXNpYmxlYWN0aW9uczogJ2h0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vQWRkQWN0aXZpdHknLFxuICAgICAgICAgIHNjb3BlOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9wbHVzLmxvZ2luIGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvdXNlcmluZm8uZW1haWwnLFxuICAgICAgICAgIGhlaWdodDogJ3N0YW5kYXJkJyxcbiAgICAgICAgICB3aWR0aDogJ3dpZGUnLFxuICAgICAgICAgIHN0YXRlOiAnJ1xuICAgICAgICB9O1xuXG4gICAgICAgIGRlZmF1bHRzLmNsaWVudGlkID0gYXR0cnMuY2xpZW50aWQ7XG4gICAgICAgIGRlZmF1bHRzLnRoZW1lID0gYXR0cnMudGhlbWU7XG5cbiAgICAgICAgLy8gT3ZlcndyaXRlIGRlZmF1bHQgdmFsdWVzIGlmIGV4cGxpY2l0bHkgc2V0XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyksIGZ1bmN0aW9uKHByb3BOYW1lKSB7XG4gICAgICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgZGVmYXVsdHNbcHJvcE5hbWVdID0gYXR0cnNbcHJvcE5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRGVmYXVsdCBsYW5ndWFnZVxuICAgICAgICAvLyBTdXBwb3J0ZWQgbGFuZ3VhZ2VzOiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS8rL3dlYi9hcGkvc3VwcG9ydGVkLWxhbmd1YWdlc1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnbGFuZ3VhZ2UnLCBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgJHdpbmRvdy5fX19nY2ZnID0ge1xuICAgICAgICAgICAgbGFuZzogdmFsdWUgPyB2YWx1ZSA6ICdlbidcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFzeW5jaHJvbm91c2x5IGxvYWQgdGhlIEcrIFNESy5cbiAgICAgICAgdmFyIHBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7IHBvLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsgcG8uYXN5bmMgPSB0cnVlO1xuICAgICAgICBwby5zcmMgPSAnaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvY2xpZW50OnBsdXNvbmUuanMnO1xuICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwbywgcyk7XG5cbiAgICAgICAgbGlua2VyKGZ1bmN0aW9uKGVsLCB0U2NvcGUpe1xuICAgICAgICAgIHBvLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZChlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnYXBpLnNpZ25pbi5yZW5kZXIoZWxlbWVudFswXSwgZGVmYXVsdHMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbn1dKS5cbiAgcnVuKFsnJHdpbmRvdycsJyRyb290U2NvcGUnLGZ1bmN0aW9uKCR3aW5kb3csICRyb290U2NvcGUpIHtcbiAgICAkd2luZG93LnNpZ25pbkNhbGxiYWNrID0gZnVuY3Rpb24gKGF1dGhSZXN1bHQpIHtcbiAgICAgIGlmIChhdXRoUmVzdWx0ICYmIGF1dGhSZXN1bHQuYWNjZXNzX3Rva2VuKXtcbiAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tc3VjY2VzcycsIGF1dGhSZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tZmFpbHVyZScsIGF1dGhSZXN1bHQpO1xuICAgICAgfVxuICAgIH07IFxufV0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItZGlyZWN0aXZlLmctc2lnbmluL2dvb2dsZS1wbHVzLXNpZ25pbi5qcyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vdmVuZG9yLnNjc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vdmVuZG9yLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi92ZW5kb3Iuc2Nzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXBwL3Njc3MvdmVuZG9yLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDY0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyIS4vfi9zYXNzLWxvYWRlciEuL3NyYy9hcHAvc2Nzcy92ZW5kb3Iuc2Nzc1xuLy8gbW9kdWxlIGlkID0gNjQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXBwL3Njc3MvaW5kZXguc2Nzc1xuLy8gbW9kdWxlIGlkID0gNjQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmRpc3RyaWJ1dG9yLXNlbGVjdGlvbntmb250LXNpemU6MTZwdDtwYWRkaW5nOjNweDttYXJnaW46M3B4fWJvZHl7bWFyZ2luLXRvcDoxMDBweDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXtib2R5e21hcmdpbi10b3A6NTBweH19I3dyYXBwZXJ7cGFkZGluZy1sZWZ0OjB9I3BhZ2Utd3JhcHBlcnt3aWR0aDoxMDAlO3BhZGRpbmc6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9Lmh1Z2V7Zm9udC1zaXplOjUwcHg7bGluZS1oZWlnaHQ6bm9ybWFsfUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsjd3JhcHBlcntwYWRkaW5nLWxlZnQ6MjI1cHh9I3BhZ2Utd3JhcHBlcntwYWRkaW5nOjEwcHh9fS5tYXJnaW4tYm90dG9tLTE1e21hcmdpbi1ib3R0b206MS41ZW19Lm1hcmdpbi10b3AtMDV7bWFyZ2luLXRvcDouNWVtfS5tYXJnaW4tdG9wLTE1e21hcmdpbi10b3A6MS41ZW19Lm1hcmdpbi10b3AtMjB7bWFyZ2luLXRvcDoyZW19Lm1hcmdpbi10b3AtMjV7bWFyZ2luLXRvcDoyLjVlbX0ubWFyZ2luLXRvcC01MHttYXJnaW4tdG9wOjVlbX0uaXNzdWUtd2FybmluZy1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6b3JhbmdlfS5pc3N1ZS13YXJuaW5nLXRleHR7Y29sb3I6b3JhbmdlfS5pc3N1ZS1kYW5nZXItYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOnJlZH0uaXNzdWUtZGFuZ2VyLXRleHR7Y29sb3I6cmVkfS5pc3N1ZS1ub3JtYWwtYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVufS5pc3N1ZS1ub3JtYWwtdGV4dHtjb2xvcjpncmVlbn0udXAtdHJ1ZS1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6Z3JlZW59LnVwLWZhbHNlLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpyZWR9Lm5hdmJhci1kZWZhdWx0e2JhY2tncm91bmQtY29sb3I6IzFiNzViYjtib3JkZXItY29sb3I6IzE1NTk4ZX0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZHtjb2xvcjojZmZmfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLWJyYW5kOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLWJyYW5kOmhvdmVye2NvbG9yOiM1NWE3ZTd9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2PmxpPmEsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2PmxpPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2PmxpPmE6aG92ZXJ7Y29sb3I6I2ZmZn0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmFjdGl2ZT5hLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uYWN0aXZlPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5hY3RpdmU+YTpob3Zlcntjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2FmZDVmM30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YSwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpob3Zlcntjb2xvcjojNTU1O2JhY2tncm91bmQtY29sb3I6I2Q1ZDVkNX0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmRyb3Bkb3duPmEgLmNhcmV0e2JvcmRlci10b3AtY29sb3I6Izc3Nztib3JkZXItYm90dG9tLWNvbG9yOiM3Nzd9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hOmZvY3VzIC5jYXJldCwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmRyb3Bkb3duPmE6aG92ZXIgLmNhcmV0e2JvcmRlci10b3AtY29sb3I6IzMzMztib3JkZXItYm90dG9tLWNvbG9yOiMzMzN9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmEgLmNhcmV0LC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hOmZvY3VzIC5jYXJldCwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpob3ZlciAuY2FyZXR7Ym9yZGVyLXRvcC1jb2xvcjojNTU1O2JvcmRlci1ib3R0b20tY29sb3I6IzU1NX0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGV7Ym9yZGVyLWNvbG9yOiNkZGR9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xlOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNkZGR9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xlIC5pY29uLWJhcntiYWNrZ3JvdW5kLWNvbG9yOiNjY2N9QG1lZGlhIChtYXgtd2lkdGg6NzY3cHgpey5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5he2NvbG9yOiM3Nzd9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2IC5vcGVuIC5kcm9wZG93bi1tZW51PmxpPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2IC5vcGVuIC5kcm9wZG93bi1tZW51PmxpPmE6aG92ZXJ7Y29sb3I6IzMzM319LnRvcC1uYXZ7cGFkZGluZzowIDE1cHh9LnRvcC1uYXY+bGl7ZGlzcGxheTppbmxpbmUtYmxvY2s7ZmxvYXQ6bGVmdH0udG9wLW5hdj5saT5he3BhZGRpbmctdG9wOjE1cHg7cGFkZGluZy1ib3R0b206MTVweDtsaW5lLWhlaWdodDoyMHB4O2NvbG9yOiNlZmVmZWZ9LnRvcC1uYXY+Lm9wZW4+YSwudG9wLW5hdj4ub3Blbj5hOmZvY3VzLC50b3AtbmF2Pi5vcGVuPmE6aG92ZXIsLnRvcC1uYXY+bGk+YTpmb2N1cywudG9wLW5hdj5saT5hOmhvdmVye2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojMWI3NWJifS50b3AtbmF2Pi5vcGVuPi5kcm9wZG93bi1tZW51e2Zsb2F0OmxlZnQ7cG9zaXRpb246YWJzb2x1dGU7bWFyZ2luLXRvcDowO2JvcmRlcjoxcHggc29saWQgcmdiYSgwLDAsMCwuMTUpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3gtc2hhZG93OjAgNnB4IDEycHggcmdiYSgwLDAsMCwuMTc1KX0udG9wLW5hdj4ub3Blbj4uZHJvcGRvd24tbWVudT5saT5he3doaXRlLXNwYWNlOm5vcm1hbH11bC5tZXNzYWdlLWRyb3Bkb3due3BhZGRpbmc6MDttYXgtaGVpZ2h0OjI1MHB4O292ZXJmbG93LXg6aGlkZGVuO292ZXJmbG93LXk6YXV0b31saS5tZXNzYWdlLXByZXZpZXd7d2lkdGg6Mjc1cHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSgwLDAsMCwuMTUpfWxpLm1lc3NhZ2UtcHJldmlldz5he3BhZGRpbmctdG9wOjE1cHg7cGFkZGluZy1ib3R0b206MTVweH1saS5tZXNzYWdlLWZvb3RlcnttYXJnaW46NXB4IDB9dWwuYWxlcnQtZHJvcGRvd257d2lkdGg6MjAwcHh9QG1lZGlhIChtaW4td2lkdGg6NzY4cHgpey5zaWRlLW5hdntwb3NpdGlvbjpmaXhlZDt0b3A6NTFweDtsZWZ0OjIyNXB4O21hcmdpbi1sZWZ0Oi0yMjVweDtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjA7b3ZlcmZsb3cteTphdXRvO2JhY2tncm91bmQtY29sb3I6IzFiNzViYjtib3R0b206MDtvdmVyZmxvdy14OmhpZGRlbjtwYWRkaW5nLWJvdHRvbTo0MHB4fS5zaWRlLW5hdiwuc2lkZS1uYXY+bGk+YXt3aWR0aDoyMjVweH0uc2lkZS1uYXYgbGkgYTpmb2N1cywuc2lkZS1uYXYgbGkgYTpob3ZlcntvdXRsaW5lOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojM2Y5Y2UzIWltcG9ydGFudH19LnNpZGUtbmF2PmxpPnVse3BhZGRpbmc6MH0uc2lkZS1uYXY+bGk+dWw+bGk+YXtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6MTBweCAxNXB4IDEwcHggMzhweDt0ZXh0LWRlY29yYXRpb246bm9uZTtjb2xvcjojZDRkNGQ0fS5zaWRlLW5hdj5saT51bD5saT5hOmhvdmVye2NvbG9yOiNmZmZ9LmZsb3QtY2hhcnR7ZGlzcGxheTpibG9jaztoZWlnaHQ6NDAwcHh9LmZsb3QtY2hhcnQtY29udGVudHt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5odWdle2ZvbnQtc2l6ZTo0MHB4fS5wYW5lbC1ncmVlbntib3JkZXItY29sb3I6IzVjYjg1Y30ucGFuZWwtZ3JlZW4+LnBhbmVsLWhlYWRpbmd7Ym9yZGVyLWNvbG9yOiM1Y2I4NWM7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPmF7Y29sb3I6IzVjYjg1Y30ucGFuZWwtZ3JlZW4+YTpob3Zlcntjb2xvcjojM2Q4YjNkfS5wYW5lbC1yZWR7Ym9yZGVyLWNvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD4ucGFuZWwtaGVhZGluZ3tib3JkZXItY29sb3I6I2Q5NTM0Zjtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2Q5NTM0Zn0ucGFuZWwtcmVkPmF7Y29sb3I6I2Q5NTM0Zn0ucGFuZWwtcmVkPmE6aG92ZXJ7Y29sb3I6I2I1MmIyN30ucGFuZWwteWVsbG93e2JvcmRlci1jb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+LnBhbmVsLWhlYWRpbmd7Ym9yZGVyLWNvbG9yOiNmMGFkNGU7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNmMGFkNGV9LnBhbmVsLXllbGxvdz5he2NvbG9yOiNmMGFkNGV9LnBhbmVsLXllbGxvdz5hOmhvdmVye2NvbG9yOiNkZjhhMTN9LnRvb2xiYXJ7bWFyZ2luLWJvdHRvbToxMHB4fS5lbnRpdHkta2V5e2ZvbnQtZmFtaWx5Ok1vbmFjbyxDb25zb2xhcyxMdWNpZGEgQ29uc29sZSxkZWphdnUgc2FucyBtb25vLG1vbm9zcGFjZTtmb250LXNpemU6MTFweH0ucHJvb2Ytb2YtcGxheS1sYWJlbHtwYWRkaW5nLWJvdHRvbToxMHB4O3BhZGRpbmctdG9wOjEwcHh9LmNvcHktcmVhZHktdHJhbnNwYXJlbnR7Y29sb3I6dHJhbnNwYXJlbnR9Lm5vLWRldmljZXN7dGV4dC1hbGlnbjpjZW50ZXJ9LnByb3BlcnRpZXMtd29yZC1icmVha3t3aWR0aDozOTBweDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmJsb2NrfS5jb21tYW5kLWhpc3RvcnktY29tbWFuZHt3aWR0aDozNzVweDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmJsb2NrfS5ob3N0bmFtZS13b3JkLWJyZWFre3dpZHRoOjIwMHB4O3dvcmQtd3JhcDpicmVhay13b3JkO2Rpc3BsYXk6aW5saW5lLWJsb2NrfVtkYXRhLW5nLWNsaWNrXSxbbmctY2xpY2tdLFt4LW5nLWNsaWNrXXtjdXJzb3I6cG9pbnRlcn0jcHJvb2ZwbGF5LXNlbGVjdGVkLWl0ZW1ze21pbi13aWR0aDowIWltcG9ydGFudDttYXJnaW46MCBhdXRvO3BhZGRpbmc6MCBhdXRvfS5yYWRpby1idXR0b257cGFkZGluZzozcHh9Lmhvcml6b250YWwtc3VibWl0e21hcmdpbjouNWVtfS5ob3Jpem9udGFsLXN1Ym1pdCwucmFkaW8taG9yaXpvbnRhbHtkaXNwbGF5OmZsZXg7YWxpZ24tc2VsZjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyOy13ZWJraXQtYWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcn1tZC10b29sYmFyLm1kLWRlZmF1bHQtdGhlbWU6bm90KC5tZC1tZW51LXRvb2xiYXIpLG1kLXRvb2xiYXI6bm90KC5tZC1tZW51LXRvb2xiYXIpe2JhY2tncm91bmQtY29sb3I6IzFiNzViYiFpbXBvcnRhbnQ7bWF4LWhlaWdodDo2NHB4O21pbi1oZWlnaHQ6NjRweH0ubWQtdG9vbGJhci10b29sc3tiYWNrZ3JvdW5kLWNvbG9yOiMwMDAhaW1wb3J0YW50O21heC1oZWlnaHQ6NjRweDttaW4taGVpZ2h0OjY0cHh9LnNreWtpdC1pbWFnZXttYXgtd2lkdGg6MTAwJTtoZWlnaHQ6MzNweH1AbWVkaWEgKG1heC13aWR0aDo3NjdweCl7bWQtdG9vbGJhci5tZC1kZWZhdWx0LXRoZW1lOm5vdCgubWQtbWVudS10b29sYmFyKSxtZC10b29sYmFyOm5vdCgubWQtbWVudS10b29sYmFyKXttYXJnaW4tdG9wOi01MHB4O21hcmdpbi1ib3R0b206NTBweH19LmNlbnRlci1ibG9ja3t0ZXh0LWFsaWduOmNlbnRlcn0uZWxsaXBzaXMtb3ZlcmZsb3csLnByb29mLW9mLXBsYXktc2VsZWN0ZWQtaXRlbXt3aWR0aDoxMDAlO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1hbGlnbjpsZWZ0O3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LnByb29mLW9mLXBsYXktdGVuYW50LW5hbWUtb3B0aW9ue3dpZHRoOjdlbTt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246Y2VudGVyO3Bvc2l0aXRpb246YWJzb2x1dGU7dGV4dC1vdmVyZmxvdzplbGxpcHNpc30ucHJvb2Ytb2YtcGxheS1ob3Jpem9udGFsLXRvcC1iYXJ7YWxpZ24tc2VsZjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyOy13ZWJraXQtYWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOi41ZW07bWFyZ2luLWJvdHRvbTouNWVtO2FsaWduLWl0ZW1zOmNlbnRlcn0ubXktZmxleCwucHJvb2Ytb2YtcGxheS1ob3Jpem9udGFsLXRvcC1iYXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXJ9LmJpZ2dlci1idXR0b25ze3BhZGRpbmc6LjRlbTttaW4td2lkdGg6ODhweDtib3JkZXItcmFkaXVzOjVweDtmb250LXNpemU6MTZweDt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTtib3JkZXI6bm9uZTtvdXRsaW5lOm5vbmV9LmFkbWluLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7YWxpZ24tY29udGVudDpmbGV4LXN0YXJ0fS5yZWdpc3RyYXRpb24tZXZlbnQtY29sdW1ue2hlaWdodDoxMTBweDtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7b3ZlcmZsb3c6c2Nyb2xsfS5wdWxsLWNvbW1hbmQtc2VuZC1idXR0b24tdXB7bWFyZ2luLXRvcDotMnB4fWhlYWRlci5kdHAtaGVhZGVye2JhY2tncm91bmQ6IzFiNzViYiFpbXBvcnRhbnR9LmR0cCBkaXYuZHRwLWRhdGUsLmR0cCBkaXYuZHRwLXRpbWV7YmFja2dyb3VuZDojMDAwfS5kdHAgLmR0cC1hY3R1YWwtbWVyaWRpZW4gYS5zZWxlY3RlZCwuZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LWhvdXIuc2VsZWN0ZWQsLmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+YS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiMxYjc1YmIhaW1wb3J0YW50fS5kdHAgLmR0cC1oYW5kLm9ue2JhY2tncm91bmQ6IzAwMH0uZGV2aWNlLXByb3BlcnRpZXMtc3dpdGNoe21hcmdpbi10b3A6LTFweH0ubWQtY29udGVudC1jb21tYW5kLW92ZXJyaWRlIG1kLWNvbnRlbnR7b3ZlcmZsb3c6dW5zZXR9LnB1bGwtdG9vbHRpcC1sZWZ0e21hcmdpbi1sZWZ0Oi01NXB4fS5jb21tYW5kLWJ1dHRvbi1yaWdodHtmbG9hdDpyaWdodDtmbGV4LWRpcmVjdGlvbjpyb3ctcmV2ZXJzZX1tZC1zZWxlY3R7ZGlzcGxheTpibG9jazttYXJnaW46MTBweCAwIDhweDtwYWRkaW5nLWJvdHRvbToycHg7cG9zaXRpb246cmVsYXRpdmU7bWluLXdpZHRoOjE4MHB4O21heC13aWR0aDoxODBweH0uc21hbGwtZGVsZXRlLWJ1dHRvbntmbG9hdDpyaWdodDttaW4td2lkdGg6MjVweDttYXJnaW4tdG9wOi0xNXB4O21hcmdpbi1yaWdodDotNXB4fS50b29sdGlwLWN1c3RvbS1sYXJnZXttaW4td2lkdGg6MjUwcHh9LnRlbmFudC1pbWFnZS1uYW1lLC51c2VyLWVtYWlsLWVsbGlwc2lze3dpZHRoOjEwZW07d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyIS4vfi9zYXNzLWxvYWRlciEuL3NyYy9hcHAvc2Nzcy9pbmRleC5zY3NzXG4vLyBtb2R1bGUgaWQgPSA2NDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5mdW5jdGlvbiBEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsKCRsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERldmljZXNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21tYW5kc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpbWV6b25lc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3ZWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtZERpYWxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3RzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG4gIHZtLmRldmljZUtleSA9ICRzdGF0ZVBhcmFtcy5kZXZpY2VLZXk7XG4gIHZtLmZyb21EZXZpY2VzID0gJHN0YXRlUGFyYW1zLmZyb21EZXZpY2VzID09PSBcInRydWVcIjtcbiAgdm0uY3VycmVudERldmljZSA9IHt9O1xuICB2bS5jb21tYW5kRXZlbnRzID0gW107XG5cbiAgdm0uZ2VuZXJhdGVMb2NhbEZyb21VVEMgPSBmdW5jdGlvbiAoVVRDVGltZSkge1xuICAgIGxldCBsb2NhbFRpbWUgPSBtb21lbnQudXRjKFVUQ1RpbWUpLnRvRGF0ZSgpO1xuICAgIHJldHVybiBsb2NhbFRpbWUgPSBtb21lbnQobG9jYWxUaW1lKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW06c3MgQScpO1xuICB9O1xuXG4gIHZtLnJlcGxhY2VDb21tYW5kVGltZSA9IGZ1bmN0aW9uIChpc3N1ZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSBpc3N1ZXNbaV07XG4gICAgICBpZiAoZWFjaC5wb3N0ZWRUaW1lKSB7XG4gICAgICAgIGVhY2gucG9zdGVkVGltZSA9IHZtLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gucG9zdGVkVGltZSk7XG4gICAgICB9XG4gICAgICBpZiAoZWFjaC5jb25maXJtZWRUaW1lKSB7XG4gICAgICAgIGVhY2guY29uZmlybWVkVGltZSA9IHZtLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY29uZmlybWVkVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfTtcblxuICB2bS5nZXRFdmVudHMgPSBmdW5jdGlvbiAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGNvbW1hbmRFdmVudHNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0Q29tbWFuZEV2ZW50c0J5S2V5KGRldmljZUtleSwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIGNvbW1hbmRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLnJlcGxhY2VDb21tYW5kVGltZShkYXRhLmV2ZW50cyk7XG4gICAgICB2bS5ldmVudF9uZXh0X2N1cnNvciA9IGRhdGEubmV4dF9jdXJzb3I7XG4gICAgICB2bS5ldmVudF9wcmV2X2N1cnNvciA9IGRhdGEucHJldl9jdXJzb3I7XG4gICAgICB2bS5jb21tYW5kRXZlbnRzID0gZGF0YS5ldmVudHM7XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0uZ2V0RXZlbnRzVGltZU91dCA9IChkZXZpY2VLZXksIHByZXYsIG5leHQpID0+XG4gICAgJHRpbWVvdXQoKCAoKSA9PiB2bS5nZXRFdmVudHMoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSksIDEwMDApXG4gIDtcblxuICB2bS5jb21tYW5kSGlzdG9yeVNlbGVjdGVkID0gKCkgPT4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSk7XG5cbiAgdm0ucGFnaW5hdGVFdmVudENhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgbnVsbCwgdm0uZXZlbnRfbmV4dF9jdXJzb3IpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCB2bS5ldmVudF9wcmV2X2N1cnNvciwgbnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGRldmljZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VCeUtleSh2bS5kZXZpY2VLZXkpO1xuICAgIGRldmljZVByb21pc2UudGhlbigocmVzcG9uc2UgPT4gdm0ub25HZXREZXZpY2VTdWNjZXNzKHJlc3BvbnNlKSksIHJlc3BvbnNlID0+IHZtLm9uR2V0RGV2aWNlRmFpbHVyZShyZXNwb25zZSkpO1xuXG4gICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuICB9O1xuXG4gIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIHZtLmN1cnJlbnREZXZpY2UgPSByZXNwb25zZTtcbiAgICBpZiAocmVzcG9uc2UudGltZXpvbmUgIT09IHZtLnNlbGVjdGVkVGltZXpvbmUpIHtcbiAgICAgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSByZXNwb25zZS50aW1lem9uZTtcbiAgICB9XG4gICAgaWYgKHZtLnRlbmFudEtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2bS50ZW5hbnRLZXkgPSB2bS5jdXJyZW50RGV2aWNlLnRlbmFudEtleTtcbiAgICB9XG4gICAgaWYgKCRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgIHZtLmJhY2tVcmwgPSAnLyMvZGV2aWNlcyc7XG4gICAgICByZXR1cm4gdm0uYmFja1VybFRleHQgPSAnQmFjayB0byBkZXZpY2VzJztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UuaXNVbm1hbmFnZWREZXZpY2UgPT09IHRydWUpIHtcbiAgICAgICAgdm0uYmFja1VybCA9IGAvIy90ZW5hbnRzLyR7dm0udGVuYW50S2V5fS91bm1hbmFnZWRgO1xuICAgICAgICByZXR1cm4gdm0uYmFja1VybFRleHQgPSAnQmFjayB0byB0ZW5hbnQgdW5tYW5hZ2VkIGRldmljZXMnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm0uYmFja1VybCA9IGAvIy90ZW5hbnRzLyR7dm0udGVuYW50S2V5fS9tYW5hZ2VkYDtcbiAgICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IG1hbmFnZWQgZGV2aWNlcyc7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZtLm9uR2V0RGV2aWNlRmFpbHVyZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIGZldGNoIHRoZSBkZXRhaWxzIGZvciB0aGlzIGRldmljZSBhdCB0aGlzIHRpbWUuJyk7XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IGBObyBkZXRhaWwgZm9yIGRldmljZV9rZXkgIyR7dm0uZGV2aWNlS2V5fS4gRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YDtcbiAgICAkbG9nLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgcmV0dXJuICRzdGF0ZS5nbygnZGV2aWNlcycpO1xuICB9O1xuXG4gIHZtLm9uUmVzZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLmNvbnRlbnREZWxldGUodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzZXRDb250ZW50U3VjY2Vzcywgdm0ub25SZXNldENvbnRlbnRGYWlsdXJlKTtcbiAgfTtcblxuICB2bS5vblJlc2V0Q29udGVudFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciByZXNldCBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uUmVzZXRDb250ZW50RmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFJlc2V0IGNvbnRlbnQgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXNldCBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jb250ZW50VXBkYXRlKHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblVwZGF0ZUNvbnRlbnRTdWNjZXNzLCB2bS5vblVwZGF0ZUNvbnRlbnRGYWlsdXJlKTtcbiAgfTtcblxuICB2bS5vblVwZGF0ZUNvbnRlbnRTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgdXBkYXRlIGNvbnRlbnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25VcGRhdGVDb250ZW50RmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYENvbnRlbnQgdXBkYXRlIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgdXBkYXRlIGNvbnRlbnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25SZXNldFBsYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5yZXNldCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25SZXNldFBsYXllclN1Y2Nlc3MsIHZtLm9uUmVzZXRQbGF5ZXJGYWlsdXJlKTtcbiAgfTtcblxuICB2bS5vblJlc2V0UGxheWVyU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc2V0IHBsYXllciBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblJlc2V0UGxheWVyRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFJlc2V0IHBsYXllciBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHJlc2V0IHBsYXllciBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblBhbmVsT24gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucG93ZXJPbih2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25QYW5lbE9uU3VjY2Vzcywgdm0ub25QYW5lbE9uRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25QYW5lbE9uU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHBhbmVsIG9uIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPbkZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBQYW5lbCBvbiBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHBhbmVsIG9uIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPZmYgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucG93ZXJPZmYodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxPZmZTdWNjZXNzLCB2bS5vblBhbmVsT2ZmRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25QYW5lbE9mZlN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBwYW5lbCBvZmYgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25QYW5lbE9mZkZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBQYW5lbCBvZmYgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvZmYgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25VcGRhdGVEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UudXBkYXRlRGV2aWNlKHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblVwZGF0ZURldmljZVN1Y2Nlc3MsIHZtLm9uVXBkYXRlRGV2aWNlRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25VcGRhdGVEZXZpY2VTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgdXBkYXRlIGRldmljZSBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblVwZGF0ZURldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBVcGRhdGUgZGV2aWNlIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgdXBkYXRlIGRldmljZSBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblZvbHVtZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS52b2x1bWUodm0uZGV2aWNlS2V5LCB2bS5jdXJyZW50RGV2aWNlLnZvbHVtZSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblZvbHVtZUNoYW5nZVN1Y2Nlc3Modm0uY3VycmVudERldmljZS52b2x1bWUpLCB2bS5vblZvbHVtZUNoYW5nZUZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uVm9sdW1lQ2hhbmdlU3VjY2VzcyA9IGZ1bmN0aW9uIChsZXZlbCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBXZSBwb3N0ZWQgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgb2YgJHtsZXZlbH0gaW50byB0aGUgcGxheWVyJ3MgcXVldWUuYCk7XG4gIH07XG5cbiAgdm0ub25Wb2x1bWVDaGFuZ2VGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgVm9sdW1lIGNoYW5nZSBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHZvbHVtZSBjaGFuZ2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25DdXN0b21Db21tYW5kID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLmN1c3RvbSh2bS5kZXZpY2VLZXksIHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uQ3VzdG9tQ29tbWFuZFN1Y2Nlc3Modm0uY3VycmVudERldmljZS5jdXN0b20pLCB2bS5vbkN1c3RvbUNvbW1hbmRGYWlsdXJlKTtcbiAgfTtcblxuICB2bS5vbkN1c3RvbUNvbW1hbmRTdWNjZXNzID0gZnVuY3Rpb24gKGNvbW1hbmQpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChgV2UgcG9zdGVkIHlvdXIgY3VzdG9tIGNvbW1hbmQgJyR7Y29tbWFuZH0nIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLmApO1xuICB9O1xuXG4gIHZtLm9uQ3VzdG9tQ29tbWFuZEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBDdXN0b20gY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBjdXN0b20gY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25EaWFnbm9zdGljc1RvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS50b2dnbGVEaWFnbm9zdGljcyh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MsIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlKTtcbiAgfTtcblxuICB2bS5vblRvZ2dsZURpYWdub3N0aWNzU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgZGlhZ25vc3RpY3MgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25Ub2dnbGVEaWFnbm9zdGljc0ZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBEaWFnbm9zdGljcyBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsXG4gICAgICAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblJlc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzdGFydCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25SZXN0YXJ0U3VjY2Vzcywgdm0ub25SZXN0YXJ0RmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25SZXN0YXJ0U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcmVzdGFydCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblJlc3RhcnRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgUmVzdGFydCBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHJlc3RhcnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIixcbiAgICAgICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uUG9zdExvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5wb3N0TG9nKHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBvc3RMb2dTdWNjZXNzLCB2bS5vblBvc3RMb2dGYWlsdXJlKTtcbiAgfTtcblxuICB2bS5vblBvc3RMb2dTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBwb3N0IGxvZyBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblBvc3RMb2dGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgUG9zdCBsb2cgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwb3N0IGxvZyBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLFxuICAgICAgJ2Vycm9yJyk7XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0RldmljZURldGFpbHNDb21tYW5kc0N0cmx9XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL2RldmljZS9kZXZpY2UtZGV0YWlsLWNvbW1hbmQuanMiLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgbmF0dXJhbFNvcnQgZnJvbSAnamF2YXNjcmlwdC1uYXR1cmFsLXNvcnQnO1xuXG5cbmZ1bmN0aW9uIERldmljZURldGFpbHNDdHJsKCRsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlbmFudHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYXRpb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbW1hbmRzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpbWV6b25lc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlZ3JhdGlvbkV2ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3ZWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3RzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBJbWFnZVNlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGNvbnN0IHZtID0gdGhpcztcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0udGVuYW50VXJsID0gYC8jL3RlbmFudHMvJHt2bS50ZW5hbnRLZXl9L2RldGFpbHNgXG4gIHZtLnRlbmFudE92ZXJsYXlVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vb3ZlcmxheXNgXG5cbiAgdm0uZGV2aWNlS2V5ID0gJHN0YXRlUGFyYW1zLmRldmljZUtleTtcbiAgdm0uZnJvbURldmljZXMgPSAkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiO1xuICB2bS5jdXJyZW50RGV2aWNlID0ge307XG4gIHZtLmxvY2F0aW9ucyA9IFtdO1xuICB2bS5jb21tYW5kRXZlbnRzID0gW107XG4gIHZtLmRheVJhbmdlID0gMzA7XG4gIHZtLmlzc3VlcyA9IFtdO1xuICB2bS50aW1lem9uZXMgPSBbXTtcbiAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHVuZGVmaW5lZDtcbiAgW3ZtLnN0YXJ0VGltZSwgdm0uZW5kVGltZV0gPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jcmVhdGVGb3JtYXR0ZWRTdGFydEFuZEVuZERhdGVGcm9tVG9kYXkoMzApO1xuICB2bS5lbnJvbGxtZW50RXZlbnRzID0gW107XG4gIHZtLmxvZ29DaGFuZ2UgPSBmYWxzZTtcbiAgdm0uY29udHJvbHNNb2RlT3B0aW9ucyA9IFtcInZpc2libGVcIiwgXCJpbnZpc2libGVcIiwgXCJkaXNhYmxlZFwiXTtcbiAgdm0ub3JpZW50YXRpb25PcHRpb25zID0gW1wiMFwiLCBcIjkwXCIsIFwiMTgwXCIsIFwiMjcwXCJdO1xuICB2bS5zbGVlcENvbnRyb2xsZXJPcHRpb25zID0gW1wiY2hyb21lLWRlZmF1bHRcIiwgXCJyczIzMlwiXTtcbiAgdm0ub3ZlcmxheUNoYW5nZWQgPSBmYWxzZTtcblxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gT3ZlcmxheVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLmNoZWNrRm9yT3ZlcmxheUNoYW5nZXMgPSAoKSA9PiB7XG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudERldmljZU92ZXJsYXlzID0gdm0uY3VycmVudERldmljZS5vdmVybGF5cztcbiAgICBsZXQgY3VycmVudERldmljZUNvcHlPdmVybGF5cyA9IHZtLmN1cnJlbnREZXZpY2VDb3B5Lm92ZXJsYXlzO1xuICAgIGxldCBwb3NpdGlvbnMgPSBbJ3RvcF9sZWZ0JywgJ3RvcF9yaWdodCcsICdib3R0b21fcmlnaHQnLCAnYm90dG9tX2xlZnQnXTtcblxuICAgIGZvciAobGV0IHBvcyBvZiBwb3NpdGlvbnMpIHtcbiAgICAgIGlmIChjdXJyZW50RGV2aWNlT3ZlcmxheXNbcG9zXS5zaXplICE9PSBjdXJyZW50RGV2aWNlQ29weU92ZXJsYXlzW3Bvc10uc2l6ZSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50RGV2aWNlT3ZlcmxheXNbcG9zXS50eXBlICE9PSBjdXJyZW50RGV2aWNlQ29weU92ZXJsYXlzW3Bvc10udHlwZSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50RGV2aWNlT3ZlcmxheXNbcG9zXS50eXBlID09PSAnbG9nbycpIHtcbiAgICAgICAgaWYgKChjdXJyZW50RGV2aWNlT3ZlcmxheXNbcG9zXS50eXBlICsgXCI6IFwiICsgY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10ubmFtZSkgIT09IGN1cnJlbnREZXZpY2VDb3B5T3ZlcmxheXNbcG9zXS5uYW1lKSB7XG4gICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdm0ub3ZlcmxheUNoYW5nZWQgPSBjaGFuZ2VkO1xuICB9XG5cblxuICB2bS5yZXZlcnRUb1RlbmFudE92ZXJsYXkgPSAoZXYpID0+IHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSB0cnVlO1xuICAgIGxldCB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkoJHN0YXRlUGFyYW1zLnRlbmFudEtleSk7XG4gICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICAgIGxldCBjdXJyZW50VGVuYW50T3ZlcmxheXMgPSB0ZW5hbnQub3ZlcmxheXM7XG4gICAgICBpZiAoY3VycmVudFRlbmFudE92ZXJsYXlzKSB7XG4gICAgICAgIGRlbGV0ZSBjdXJyZW50VGVuYW50T3ZlcmxheXMua2V5O1xuXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBjdXJyZW50VGVuYW50T3ZlcmxheXMpIHtcbiAgICAgICAgICBpZiAoY3VycmVudFRlbmFudE92ZXJsYXlzW2tleV1bXCJ0eXBlXCJdID09PSBcImxvZ29cIikge1xuICAgICAgICAgICAgY3VycmVudFRlbmFudE92ZXJsYXlzW2tleV1bXCJpbWFnZV9rZXlcIl0gPSBjdXJyZW50VGVuYW50T3ZlcmxheXNba2V5XVtcImltYWdlS2V5XCJdW1wia2V5XCJdXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRUZW5hbnRPdmVybGF5c1trZXldW1wiaW1hZ2Vfa2V5XCJdID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgO1xuXG4gICAgICAgIGxldCBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZU92ZXJsYXlTZXR0aW5ncyhcbiAgICAgICAgICB2bS5kZXZpY2VLZXksXG4gICAgICAgICAgY3VycmVudFRlbmFudE92ZXJsYXlzLmJvdHRvbV9sZWZ0LFxuICAgICAgICAgIGN1cnJlbnRUZW5hbnRPdmVybGF5cy5ib3R0b21fcmlnaHQsXG4gICAgICAgICAgY3VycmVudFRlbmFudE92ZXJsYXlzLnRvcF9yaWdodCxcbiAgICAgICAgICBjdXJyZW50VGVuYW50T3ZlcmxheXMudG9wX2xlZnRcbiAgICAgICAgKTtcblxuICAgICAgICBwcm9taXNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGxldCBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcbiAgICAgICAgICBkZXZpY2VQcm9taXNlLnRoZW4oKGN1cnJlbnREZXZpY2UpID0+IHtcbiAgICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheXMgPSBjdXJyZW50RGV2aWNlLm92ZXJsYXlzO1xuICAgICAgICAgICAgdm0uY3VycmVudERldmljZUNvcHkub3ZlcmxheXMgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudERldmljZS5vdmVybGF5cylcbiAgICAgICAgICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IGZhbHNlO1xuICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHByb21pc2UuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nJyk7XG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcbiAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1lvdXIgdGVuYW50IGRvZXMgbm90IGhhdmUgb3ZlcmxheXMgZW5hYmxlZC4gJyArXG4gICAgICAgICAgJ1BsZWFzZSBlbmFibGUgb3ZlcmxheXMgZm9yIHlvdXIgdGVuYW50IGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJldmVydCBkZXZpY2Ugb3ZlcmxheSB0byB0ZW5hbnQgc2V0dGluZ3MuJywgJ2Vycm9yJyk7XG5cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cblxuICB2bS5hZGp1c3RDb250cm9sc01vZGUgPSAoKSA9PiB7XG4gICAgbGV0IGNvbnRyb2xzTW9kZSA9IHZtLmN1cnJlbnREZXZpY2UuY29udHJvbHNNb2RlO1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBjb250cm9sc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5hZGp1c3RDb250cm9sc01vZGUodm0uZGV2aWNlS2V5LCBjb250cm9sc01vZGUpXG4gICAgY29udHJvbHNQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoYFlvdXIgY29udHJvbHMgbW9kZSBzZWxlY3Rpb24gd2FzIHN1Y2Nlc2Z1bGx5IGNoYW5nZWQgdG86ICR7Y29udHJvbHNNb2RlfWApO1xuICAgIH0pXG4gICAgY29udHJvbHNQcm9taXNlLmNhdGNoKCgpID0+IHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgLy9Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91ciBjb250cm9scyBtb2RlIGNoYW5nZSBmYWlsZWQgdG8gc2F2ZS4gUGxlYXNlIGNvbnRhY3Qgc3VwcG9ydC5cIilcbiAgICB9KVxuICB9O1xuXG4gIHZtLmFkanVzdE92ZXJsYXlTdGF0dXMgPSAoc3RhdHVzKSA9PiB7XG4gICAgdm0uY3VycmVudERldmljZS5vdmVybGF5U3RhdHVzID0gc3RhdHVzXG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBEZXZpY2VzU2VydmljZS5zYXZlKHZtLmN1cnJlbnREZXZpY2UpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgbGV0IGRldmljZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VCeUtleSh2bS5kZXZpY2VLZXkpO1xuICAgICAgZGV2aWNlUHJvbWlzZS50aGVuKChyZXNwb25zZSA9PiB7XG4gICAgICAgIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXNwb25zZSlcbiAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICB9KSwgcmVzcG9uc2UgPT4gdm0ub25HZXREZXZpY2VGYWlsdXJlKHJlc3BvbnNlKSk7XG4gICAgfSlcbiAgfVxuXG4gIHZtLnN1Ym1pdE92ZXJsYXlTZXR0aW5ncyA9ICgpID0+IHtcbiAgICBsZXQgb3ZlcmxheVNldHRpbmdzID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnREZXZpY2VDb3B5Lm92ZXJsYXlzKVxuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IHRydWU7XG4gICAgbGV0IHByb21pc2UgPSBEZXZpY2VzU2VydmljZS5zYXZlT3ZlcmxheVNldHRpbmdzKFxuICAgICAgdm0uZGV2aWNlS2V5LFxuICAgICAgb3ZlcmxheVNldHRpbmdzLmJvdHRvbV9sZWZ0LFxuICAgICAgb3ZlcmxheVNldHRpbmdzLmJvdHRvbV9yaWdodCxcbiAgICAgIG92ZXJsYXlTZXR0aW5ncy50b3BfcmlnaHQsXG4gICAgICBvdmVybGF5U2V0dGluZ3MudG9wX2xlZnRcbiAgICApXG4gICAgcHJvbWlzZS50aGVuKChyZXMpID0+IHtcbiAgICAgIGxldCBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcbiAgICAgIGRldmljZVByb21pc2UudGhlbigoY3VycmVudERldmljZSkgPT4ge1xuICAgICAgICB2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXlzID0gY3VycmVudERldmljZS5vdmVybGF5cztcbiAgICAgICAgdm0uY3VycmVudERldmljZUNvcHkub3ZlcmxheXMgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudERldmljZS5vdmVybGF5cylcbiAgICAgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gZmFsc2U7XG4gICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuICAgICAgfSlcbiAgICB9KVxuXG4gICAgcHJvbWlzZS5jYXRjaCgocmVzKSA9PiB7XG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nJyk7XG4gICAgfSlcbiAgfTtcblxuICB2bS5nZXRUZW5hbnRJbWFnZXNBbmRSZWZyZXNoRGV2aWNlID0gKCkgPT4ge1xuICAgIGxldCBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcbiAgICBkZXZpY2VQcm9taXNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdm0ub25HZXREZXZpY2VTdWNjZXNzKHJlcylcbiAgICAgIHZtLmdldFRlbmFudEltYWdlcygpXG5cbiAgICB9KTtcbiAgICBkZXZpY2VQcm9taXNlLmNhdGNoKChyZXMpID0+IHtcbiAgICAgIHZtLm9uR2V0RGV2aWNlRmFpbHVyZShyZXMpXG4gICAgfSlcblxuICB9XG5cbiAgdm0uZ2V0VGVuYW50SW1hZ2VzID0gKCkgPT4ge1xuICAgIHZtLk9WRVJMQVlfVFlQRVMgPSBbXG4gICAgICB7c2l6ZTogbnVsbCwgdHlwZTogbnVsbCwgbmFtZTogXCJub25lXCIsIHJlYWxOYW1lOiBcIm5vbmVcIiwgbmV3OiBmYWxzZSwgaW1hZ2Vfa2V5OiBudWxsfSxcbiAgICAgIHtzaXplOiBudWxsLCB0eXBlOiBcImRhdGV0aW1lXCIsIG5hbWU6IFwiZGF0ZXRpbWVcIiwgcmVhbE5hbWU6IFwiZGF0ZXRpbWVcIiwgbmV3OiB0cnVlLCBpbWFnZV9rZXk6IG51bGx9LFxuICAgIF1cblxuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gSW1hZ2VTZXJ2aWNlLmdldEltYWdlcyh2bS50ZW5hbnRLZXkpO1xuICAgIHByb21pc2UudGhlbigocmVzKSA9PiB7XG4gICAgICB2bS50ZW5hbnRJbWFnZXMgPSByZXNcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgZm9yIChsZXQgdmFsdWUgb2Ygdm0udGVuYW50SW1hZ2VzKSB7XG4gICAgICAgIGZvciAobGV0IHNpemVPcHRpb24gb2YgW1wic21hbGxcIiwgXCJsYXJnZVwiXSkge1xuICAgICAgICAgIGxldCBuZXdWYWx1ZSA9IHtcbiAgICAgICAgICAgIHJlYWxOYW1lOiBhbmd1bGFyLmNvcHkodmFsdWUubmFtZSksXG4gICAgICAgICAgICBuYW1lOiBcImxvZ286IFwiICsgdmFsdWUubmFtZSxcbiAgICAgICAgICAgIHR5cGU6IFwibG9nb1wiLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZU9wdGlvbixcbiAgICAgICAgICAgIGltYWdlX2tleTogdmFsdWUua2V5XG4gICAgICAgICAgfVxuICAgICAgICAgIHZtLk9WRVJMQVlfVFlQRVMucHVzaChuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZtLk9WRVJMQVlfVFlQRVMuc29ydChuYXR1cmFsU29ydCk7XG5cbiAgICB9KTtcblxuICAgIHByb21pc2UuY2F0Y2goKCkgPT4ge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICAvL1RvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoXCJTT01FVEhJTkcgV0VOVCBXUk9ORyBSRVRSSUVWSU5HIFlPVVIgSU1BR0VTXCIpXG4gICAgfSlcbiAgfVxuXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIEV2ZW50cyBhbmQgSXNzdWVzIFRhYlxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdm0ucmVwbGFjZUlzc3VlVGltZSA9IGZ1bmN0aW9uIChpc3N1ZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSBpc3N1ZXNbaV07XG4gICAgICBpZiAoZWFjaC5jcmVhdGVkKSB7XG4gICAgICAgIGVhY2guY3JlYXRlZCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY3JlYXRlZCk7XG4gICAgICB9XG4gICAgICBpZiAoZWFjaC51cGRhdGVkKSB7XG4gICAgICAgIGVhY2gudXBkYXRlZCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gudXBkYXRlZCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZtLnJlcGxhY2VDb21tYW5kVGltZSA9IGZ1bmN0aW9uIChpc3N1ZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSBpc3N1ZXNbaV07XG4gICAgICBpZiAoZWFjaC5wb3N0ZWRUaW1lKSB7XG4gICAgICAgIGVhY2gucG9zdGVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gucG9zdGVkVGltZSk7XG4gICAgICB9XG4gICAgICBpZiAoZWFjaC5jb25maXJtZWRUaW1lKSB7XG4gICAgICAgIGVhY2guY29uZmlybWVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY29uZmlybWVkVGltZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZtLmxvY2FsRnJvbVV0YyA9IGZ1bmN0aW9uIChldmVudHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSBldmVudHNbaV07XG4gICAgICBpZiAoZWFjaC51dGNUaW1lc3RhbXApIHtcbiAgICAgICAgZWFjaC51dGNUaW1lc3RhbXAgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnV0Y1RpbWVzdGFtcCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfTtcblxuICB2bS5jb3B5RGV2aWNlS2V5ID0gKCkgPT4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdEZXZpY2Uga2V5IGNvcGllZCB0byB5b3VyIGNsaXBib2FyZCcpO1xuXG4gIHZtLmNvcHlDb3JyZWxhdGlvbklkZW50aWZpZXIgPSAoKSA9PiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ0NvcnJlbGF0aW9uIElEIGNvcGllZCB0byB5b3VyIGNsaXBib2FyZCcpO1xuXG4gIC8vIGV2ZW50IHRhYlxuICB2bS5nZXRJc3N1ZXMgPSBmdW5jdGlvbiAoZGV2aWNlLCBlcG9jaFN0YXJ0LCBlcG9jaEVuZCwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBpc3N1ZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0SXNzdWVzQnlLZXkoZGV2aWNlLCBlcG9jaFN0YXJ0LCBlcG9jaEVuZCwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIGlzc3Vlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG4gICAgICB2bS5pc3N1ZXMgPSBkYXRhLmlzc3VlcztcbiAgICAgIHZtLnByZXZfY3Vyc29yID0gZGF0YS5wcmV2O1xuICAgICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gY29tbWFuZCBoaXN0b3J5IHRhYlxuICB2bS5nZXRFdmVudHMgPSBmdW5jdGlvbiAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGNvbW1hbmRFdmVudHNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0Q29tbWFuZEV2ZW50c0J5S2V5KGRldmljZUtleSwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIGNvbW1hbmRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLnJlcGxhY2VDb21tYW5kVGltZShkYXRhLmV2ZW50cyk7XG4gICAgICB2bS5ldmVudF9uZXh0X2N1cnNvciA9IGRhdGEubmV4dF9jdXJzb3I7XG4gICAgICB2bS5ldmVudF9wcmV2X2N1cnNvciA9IGRhdGEucHJldl9jdXJzb3I7XG4gICAgICB2bS5jb21tYW5kRXZlbnRzID0gZGF0YS5ldmVudHM7XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gZW5yb2xsbWVudCB0YWJcbiAgdm0uZ2V0RW5yb2xsbWVudEV2ZW50cyA9IGZ1bmN0aW9uIChkZXZpY2VLZXkpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgZW5yb2xsbWVudEV2ZW50c1Byb21pc2UgPSBJbnRlZ3JhdGlvbkV2ZW50cy5nZXRFbnJvbGxtZW50RXZlbnRzKGRldmljZUtleSk7XG4gICAgcmV0dXJuIGVucm9sbG1lbnRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmVucm9sbG1lbnRFdmVudHMgPSBkYXRhO1xuICAgICAgdm0ubG9jYWxGcm9tVXRjKGRhdGEpO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG4gICAgaWYgKGZvcndhcmQpIHtcbiAgICAgIHJldHVybiB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgbnVsbCwgdm0ubmV4dF9jdXJzb3IpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgdm0ucHJldl9jdXJzb3IsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5wYWdpbmF0ZUV2ZW50Q2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG4gICAgaWYgKGZvcndhcmQpIHtcbiAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCBudWxsLCB2bS5ldmVudF9uZXh0X2N1cnNvcik7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIHZtLmV2ZW50X3ByZXZfY3Vyc29yLCBudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5lcG9jaFN0YXJ0ID0gbW9tZW50KHZtLnN0YXJ0VGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcbiAgICB2bS5lcG9jaEVuZCA9IG1vbWVudCh2bS5lbmRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuXG4gICAgbGV0IHRpbWV6b25lUHJvbWlzZSA9IFRpbWV6b25lc1NlcnZpY2UuZ2V0Q3VzdG9tVGltZXpvbmVzKCk7XG4gICAgdGltZXpvbmVQcm9taXNlLnRoZW4oZGF0YSA9PiB2bS50aW1lem9uZXMgPSBkYXRhKTtcblxuICAgIHZtLnBhbmVsTW9kZWxzID0gRGV2aWNlc1NlcnZpY2UuZ2V0UGFuZWxNb2RlbHMoKTtcbiAgICB2bS5wYW5lbElucHV0cyA9IERldmljZXNTZXJ2aWNlLmdldFBhbmVsSW5wdXRzKCk7XG5cbiAgICBsZXQgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG4gICAgZGV2aWNlUHJvbWlzZS50aGVuKChyZXNwb25zZSA9PiB2bS5vbkdldERldmljZVN1Y2Nlc3MocmVzcG9uc2UpKSwgcmVzcG9uc2UgPT4gdm0ub25HZXREZXZpY2VGYWlsdXJlKHJlc3BvbnNlKSk7XG5cbiAgICB2bS5nZXRUZW5hbnRJbWFnZXMoKTtcbiAgICB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5KTtcbiAgICB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCk7XG4gICAgcmV0dXJuIHZtLmdldEVucm9sbG1lbnRFdmVudHModm0uZGV2aWNlS2V5KTtcbiAgfTtcblxuICB2bS5vbkdldERldmljZVN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICB2bS5jdXJyZW50RGV2aWNlID0gcmVzcG9uc2VcbiAgICB2bS5jdXJyZW50RGV2aWNlQ29weSA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50RGV2aWNlKVxuICAgIGlmIChyZXNwb25zZS50aW1lem9uZSAhPT0gdm0uc2VsZWN0ZWRUaW1lem9uZSkge1xuICAgICAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHJlc3BvbnNlLnRpbWV6b25lO1xuICAgIH1cbiAgICBpZiAodm0udGVuYW50S2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHZtLnRlbmFudEtleSA9IHZtLmN1cnJlbnREZXZpY2UudGVuYW50S2V5O1xuICAgIH1cblxuICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG4gICAgICB2bS5iYWNrVXJsID0gJy8jL2RldmljZXMnO1xuICAgICAgdm0uYmFja1VybFRleHQgPSAnQmFjayB0byBkZXZpY2VzJztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UuaXNVbm1hbmFnZWREZXZpY2UgPT09IHRydWUpIHtcbiAgICAgICAgdm0uYmFja1VybCA9IGAvIy90ZW5hbnRzLyR7dm0udGVuYW50S2V5fS91bm1hbmFnZWRgO1xuICAgICAgICB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCB1bm1hbmFnZWQgZGV2aWNlcyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bS5iYWNrVXJsID0gYC8jL3RlbmFudHMvJHt2bS50ZW5hbnRLZXl9L21hbmFnZWRgO1xuICAgICAgICB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBsb2NhdGlvbnNQcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5nZXRMb2NhdGlvbnNCeVRlbmFudEtleSh2bS50ZW5hbnRLZXkpO1xuICAgIHJldHVybiBsb2NhdGlvbnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmxvY2F0aW9ucyA9IGRhdGE7XG4gICAgICByZXR1cm4gdm0uc2V0U2VsZWN0ZWRPcHRpb25zKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0ub25HZXREZXZpY2VGYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gZmV0Y2ggdGhlIGRldGFpbHMgZm9yIHRoaXMgZGV2aWNlIGF0IHRoaXMgdGltZS4nKTtcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gYE5vIGRldGFpbCBmb3IgZGV2aWNlX2tleSAke3ZtLmRldmljZUtleX0uIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWA7XG4gICAgJGxvZy5lcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcbiAgfTtcblxuICB2bS5zZXRTZWxlY3RlZE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCA9PT0gbnVsbCkge1xuICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsID0gdm0ucGFuZWxNb2RlbHNbMF07XG4gICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQgPSB2bS5wYW5lbElucHV0c1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2bS5wYW5lbE1vZGVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcGFuZWxNb2RlbCA9IHZtLnBhbmVsTW9kZWxzW2ldO1xuICAgICAgICBpZiAocGFuZWxNb2RlbC5pZCA9PT0gdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsKSB7XG4gICAgICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsID0gcGFuZWxNb2RlbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2bS5wYW5lbElucHV0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBsZXQgcGFuZWxJbnB1dCA9IHZtLnBhbmVsSW5wdXRzW2pdO1xuICAgICAgICBsZXQgaXNQYXJlbnQgPSBwYW5lbElucHV0LnBhcmVudElkID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQ7XG4gICAgICAgIGlmIChpc1BhcmVudCAmJiBwYW5lbElucHV0LmlkLnRvTG93ZXJDYXNlKCkgPT09IHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dCkge1xuICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dCA9IHBhbmVsSW5wdXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkgIT09IG51bGwpIHtcbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgdm0ubG9jYXRpb25zLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIGxldCBsb2NhdGlvbiA9IHZtLmxvY2F0aW9uc1trXTtcbiAgICAgICAgaWYgKGxvY2F0aW9uLmtleSA9PT0gdm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSkge1xuICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFByb3BlcnRpZXMgVGFiXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdm0ub25TYXZlRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uICE9PSB1bmRlZmluZWQgJiYgdm0uY3VycmVudERldmljZS5sb2NhdGlvbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSA9IHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24ua2V5O1xuICAgIH1cbiAgICBpZiAoKHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCkgJiYgKHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZCAhPT0gdW5kZWZpbmVkICYmIHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZCAhPT0gJ05vbmUnKSkge1xuICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsTnVtYmVyID0gdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsLmlkO1xuICAgIH1cbiAgICBpZiAoKHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dCkgJiYgKHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dC5pZCAhPT0gdW5kZWZpbmVkICYmIHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dC5pZCAhPT0gJ05vbmUnKSkge1xuICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbFNlcmlhbElucHV0ID0gdm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHZtLmN1cnJlbnREZXZpY2UudGltZXpvbmUgPSB2bS5zZWxlY3RlZFRpbWV6b25lO1xuICAgIGxldCBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RGV2aWNlKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc0RldmljZVNhdmUsIHZtLm9uRmFpbHVyZURldmljZVNhdmUpO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc0RldmljZVNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlRGV2aWNlU2F2ZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgJGxvZy5pbmZvKFxuICAgICAgICBgRmFpbHVyZSBzYXZpbmcgZGV2aWNlLiBDdXN0b21lciBkaXNwbGF5IGNvZGUgYWxyZWFkeSBleGlzdHMgZm9yIHRlbmFudDogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUaGlzIGN1c3RvbWVyIGRpc3BsYXkgY29kZSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhpcyB0ZW5hbnQuIFBsZWFzZSBjaG9vc2UgYW5vdGhlci4nLCAnZXJyb3InKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGxvZy5lcnJvcihgRmFpbHVyZSBzYXZpbmcgZGV2aWNlOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBzYXZlIHlvdXIgdXBkYXRlcyB0byB0aGlzIGRldmljZSBhdCB0aGlzIHRpbWUuJyk7XG4gICAgfVxuICB9O1xuXG4gIHZtLm9uUGFuZWxTbGVlcCA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucGFuZWxTbGVlcCh2bS5kZXZpY2VLZXksIGNvbW1hbmQpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25QYW5lbFNsZWVwU3VjY2Vzcywgdm0ub25QYW5lbFNsZWVwRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25QYW5lbFNsZWVwU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgdG9nZ2xlZCB0aGUgcGFuZWwgc2xlZXAgYXR0cmlidXRlLiBUaGUgcGxheWVyIHNob3VsZCBhZGp1c3QgdG8gdGhlc2UgY2hhbmdlcyB3aXRoaW4gMTUgbWludXRlcy5cIik7XG4gIH07XG5cbiAgdm0ub25QYW5lbFNsZWVwRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byB0b2dnbGUgdGhlIHBhbmVsIHNsZWVwIGF0dHJpYnV0ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0uY29uZmlybURldmljZURlbGV0ZSA9IGZ1bmN0aW9uIChldmVudCwga2V5KSB7XG4gICAgbGV0IGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybShcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmUgdG8gZGVsZXRlIHRoaXMgZGV2aWNlPycsXG4gICAgICAgIHRleHRDb250ZW50OiAnUGxlYXNlIHJlbWVtYmVyLCB5b3UgTVVTVCByZW1vdmUgdGhpcyBkZXZpY2UgZnJvbSBDb250ZW50IE1hbmFnZXIgYmVmb3JlIGRlbGV0aW5nIGl0IGZyb20gUHJvdmlzaW9uaW5nLicsXG4gICAgICAgIHRhcmdldEV2ZW50OiBldmVudCxcbiAgICAgICAgb2s6ICdEZWxldGUnLFxuICAgICAgICBjYW5jZWw6ICdDYW5jZWwnXG4gICAgICB9XG4gICAgKTtcbiAgICBsZXQgc2hvd1Byb21pc2UgPSAkbWREaWFsb2cuc2hvdyhjb25maXJtKTtcbiAgICBsZXQgc3VjY2VzcyA9ICgpID0+IHZtLm9uQ29uZmlybURlbGV0ZShrZXkpO1xuICAgIGxldCBmYWlsdXJlID0gKCkgPT4gdm0ub25Db25maXJtQ2FuY2VsKCk7XG4gICAgcmV0dXJuIHNob3dQcm9taXNlLnRoZW4oc3VjY2VzcywgZmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Db25maXJtRGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgIGxldCBzdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBwcm9jZXNzZWQgeW91ciBkZWxldGUgcmVxdWVzdC4nKTtcbiAgICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcbiAgICB9O1xuICAgIGxldCBmYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBsZXQgZnJpZW5kbHlNZXNzYWdlID0gJ1dlIHdlcmUgdW5hYmxlIHRvIGNvbXBsZXRlIHlvdXIgZGVsZXRlIHJlcXVlc3QgYXQgdGhpcyB0aW1lLic7XG4gICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGZyaWVuZGx5TWVzc2FnZSk7XG4gICAgICByZXR1cm4gJGxvZy5lcnJvcihgRGVsZXRlIGRldmljZSBmYWlsdXJlIGZvciBkZXZpY2Vfa2V5ICR7a2V5fTogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgfTtcbiAgICBsZXQgZGVsZXRlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmRlbGV0ZShrZXkpO1xuICAgIHJldHVybiBkZWxldGVQcm9taXNlLnRoZW4oc3VjY2VzcywgZmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Db25maXJtQ2FuY2VsID0gKCkgPT4gVG9hc3RzU2VydmljZS5zaG93SW5mb1RvYXN0KCdXZSBjYW5jZWxlZCB5b3VyIGRlbGV0ZSByZXF1ZXN0LicpO1xuXG4gIHZtLm9uUHJvb2ZPZlBsYXlMb2dnaW5nQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmN1cnJlbnREZXZpY2UucHJvb2ZPZlBsYXlMb2dnaW5nKSB7XG4gICAgICBsZXQgbm9Mb2NhdGlvbiA9IHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkgPT09IG51bGw7XG4gICAgICBsZXQgbm9EaXNwbGF5Q29kZSA9IHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5Q29kZSA9PT0gbnVsbDtcbiAgICAgIGlmIChub0xvY2F0aW9uKSB7XG4gICAgICAgIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIllvdSBtdXN0IGhhdmUgYSBMb2NhdGlvbiB0byBlbmFibGUgUHJvb2Ygb2YgcGxheS5cIiwgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybiB2bS5jdXJyZW50RGV2aWNlLnByb29mT2ZQbGF5TG9nZ2luZyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChub0Rpc3BsYXlDb2RlKSB7XG4gICAgICAgIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIllvdSBtdXN0IGhhdmUgYSBEaXNwbGF5IGNvZGUgdG8gZW5hYmxlIFByb29mIG9mIHBsYXkuXCIsICdlcnJvcicpO1xuICAgICAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2bS5vblNhdmVEZXZpY2UoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLm9uU2F2ZURldmljZSgpO1xuICAgIH1cbiAgfTtcblxuICB2bS5vblVwZGF0ZUxvY2F0aW9uID0gKCkgPT4gdm0ub25TYXZlRGV2aWNlKCk7XG5cbiAgdm0uYXV0b0dlbmVyYXRlQ3VzdG9tZXJEaXNwbGF5Q29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgbmV3RGlzcGxheUNvZGUgPSAnJztcbiAgICBpZiAodm0uY3VycmVudERldmljZS5jdXN0b21lckRpc3BsYXlOYW1lKSB7XG4gICAgICBuZXdEaXNwbGF5Q29kZSA9IHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgbmV3RGlzcGxheUNvZGUgPSBuZXdEaXNwbGF5Q29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG4gICAgICBuZXdEaXNwbGF5Q29kZSA9IG5ld0Rpc3BsYXlDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuICAgIH1cbiAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5jdXN0b21lckRpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGU7XG4gIH07XG5cbiAgdm0ubG9nZ2x5Rm9yVXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgdXNlckRvbWFpbiA9IFNlc3Npb25zU2VydmljZS5nZXRVc2VyRW1haWwoKS5zcGxpdChcIkBcIilbMV07XG4gICAgcmV0dXJuIHVzZXJEb21haW4gPT09IFwiZGVtby5hZ29zdG8uY29tXCIgfHwgdXNlckRvbWFpbiA9PT0gXCJhZ29zdG8uY29tXCI7XG4gIH07XG5cbiAgdm0ub25DbGlja1JlZnJlc2hCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgdm0uc3RhcnRUaW1lID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KHZtLnN0YXJ0VGltZSk7XG4gICAgdm0uZW5kVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmNvbnZlcnRUb01vbWVudElmTm90QWxyZWFkeSh2bS5lbmRUaW1lKTtcbiAgICB2bS5lcG9jaFN0YXJ0ID0gbW9tZW50KHZtLnN0YXJ0VGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcbiAgICB2bS5lcG9jaEVuZCA9IG1vbWVudCh2bS5lbmRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuICAgIHZtLnByZXZfY3Vyc29yID0gbnVsbDtcbiAgICB2bS5uZXh0X2N1cnNvciA9IG51bGw7XG4gICAgbGV0IGlzc3Vlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRJc3N1ZXNCeUtleSh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kLCB2bS5wcmV2X2N1cnNvciwgdm0ubmV4dF9jdXJzb3IpO1xuICAgIHJldHVybiBpc3N1ZXNQcm9taXNlLnRoZW4oKGRhdGEgPT4gdm0ub25SZWZyZXNoSXNzdWVzU3VjY2VzcyhkYXRhKSksIGVycm9yID0+IHZtLm9uUmVmcmVzaElzc3Vlc0ZhaWx1cmUoZXJyb3IpKTtcbiAgfTtcblxuICB2bS5vblJlZnJlc2hJc3N1ZXNTdWNjZXNzID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2bS5yZXBsYWNlSXNzdWVUaW1lKGRhdGEuaXNzdWVzKTtcbiAgICB2bS5pc3N1ZXMgPSBkYXRhLmlzc3VlcztcbiAgICB2bS5wcmV2X2N1cnNvciA9IGRhdGEucHJldjtcbiAgICB2bS5uZXh0X2N1cnNvciA9IGRhdGEubmV4dDtcbiAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gIH07XG5cbiAgdm0ub25SZWZyZXNoSXNzdWVzRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0luZm9Ub2FzdCgnV2Ugd2VyZSB1bmFibGUgdG8gcmVmcmVzaCB0aGUgZGV2aWNlIGlzc3VlcyBsaXN0IGF0IHRoaXMgdGltZS4nKTtcbiAgICByZXR1cm4gJGxvZy5lcnJvcihgRmFpbHVyZSB0byByZWZyZXNoIGRldmljZSBpc3N1ZXM6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEZXZpY2VEZXRhaWxzQ3RybH1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9kZXZpY2UvZGV2aWNlLWRldGFpbHMuY29udHJvbGxlci5qcyIsImZ1bmN0aW9uIERldmljZXNMaXN0aW5nQ3RybCgkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVib3VuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2VldCkge1xuICBcIm5nSW5qZWN0XCI7XG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmRpc3RyaWJ1dG9yS2V5ID0gdW5kZWZpbmVkO1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIE1hbmFnZWRcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5kZXZpY2VzID0gW107XG4gIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiU2VyaWFsIE51bWJlclwiO1xuICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB2bS5nY21pZERldmljZXMgPSB7fTtcbiAgdm0udGhyb3R0bGVkU2VhcmNoID0gbnVsbDtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFVubWFuYWdlZFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID0gXCJNQUNcIjtcbiAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuICB2bS51bm1hbmFnZWREaXNhYmxlZCA9IHRydWU7XG4gIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gbnVsbDtcbiAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSBudWxsO1xuICB2bS51bm1hbmFnZWREZXZpY2VzID0gW107XG4gIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSB7fTtcbiAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0ge307XG4gIHZtLmRldmljZXNUb01hdGNoT25Vbm1hbmFnZWQgPSBbXTtcbiAgdm0uZGV2aWNlc1RvTWF0Y2hPbk1hbmFnZWQgPSBbXTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgdm0ucmVmcmVzaE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuICB9O1xuXG4gIHZtLnJlZnJlc2hVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCk7XG4gIH07XG5cbiAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAodW5tYW5hZ2VkKSB7XG4gICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgdm0udW5tYW5hZ2VkU2VhcmNoVGV4dCA9ICcnO1xuICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuICAgICAgdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IHt9O1xuICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCA9IFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gICAgICB2bS5tYWNEZXZpY2VzID0ge307XG4gICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uTWFuYWdlZCA9IFtdO1xuICAgIH1cbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IChpdGVtKSA9PiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtLCB0cnVlKVxuXG4gIHZtLnByZXBhcmVGb3JFZGl0VmlldyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHNlYXJjaFRleHQpIHtcbiAgICBsZXQgbWFjLCBzZXJpYWwsIGdjbWlkO1xuICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgIG1hYyA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuICAgICAgc2VyaWFsID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuICAgICAgZ2NtaWQgPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIlxuICAgICAgaWYgKG1hYykge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkTWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIG1hYyA9IHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuICAgICAgc2VyaWFsID0gdm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuICAgICAgZ2NtaWQgPSB2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIlxuICAgICAgaWYgKG1hYykge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0ubWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0uc2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0uZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBpc01hdGNoKSB7XG4gICAgaWYgKCF1bm1hbmFnZWQpIHtcbiAgICAgIHZtLmRpc2FibGVkID0gIWlzTWF0Y2g7XG4gICAgICB2bS5kaXNhYmxlZEJ1dHRvbkxvYWRpbmcgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSAhaXNNYXRjaDtcbiAgICAgIHZtLnVubWFuYWdlZERpc2FibGVkQnV0dG9uTG9hZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHJlc291cmNlKSB7XG4gICAgbGV0IGRldmljZXNUb01hdGNoT24gPSB1bm1hbmFnZWQgPyB2bS5kZXZpY2VzVG9NYXRjaE9uVW5tYW5hZ2VkIDogdm0uZGV2aWNlc1RvTWF0Y2hPbk1hbmFnZWRcbiAgICBsZXQgZm91bmRNYXRjaCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGl0ZW0gb2YgZGV2aWNlc1RvTWF0Y2hPbikge1xuICAgICAgaWYgKHJlc291cmNlID09PSBpdGVtKSB7XG4gICAgICAgIGZvdW5kTWF0Y2ggPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICB2bS5jb250cm9sT3BlbkJ1dHRvbih1bm1hbmFnZWQsIGZvdW5kTWF0Y2gpXG4gICAgcmV0dXJuIGZvdW5kTWF0Y2hcbiAgfTtcblxuXG4gIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBwYXJ0aWFsKSB7XG4gICAgbGV0IGRlZmVycmVkID0gJHEuZGVmZXIoKVxuICAgIGxldCBidXR0b247XG4gICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgYnV0dG9uID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b247XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbiA9IHZtLnNlbGVjdGVkQnV0dG9uO1xuICAgIH1cblxuICAgIGxldCBieVRlbmFudCA9IGZhbHNlO1xuICAgIGxldCB0ZW5hbnRLZXkgPSBudWxsO1xuXG4gICAgaWYgKHZtLnRocm90dGxlZFNlYXJjaCkge1xuICAgICAgdm0udGhyb3R0bGVkU2VhcmNoLmNhbmNlbCgpO1xuICAgIH1cblxuICAgIHZtLnRocm90dGxlZFNlYXJjaCA9IGRlYm91bmNlKDc1MCwgZnVuY3Rpb24gKCkge1xuICAgICAgRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIGxldCBkZXZpY2VzVG9SZXR1cm47XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGxldCBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcbiAgICAgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG4gICAgICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICAgICAgICB2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZtLnNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcbiAgICAgICAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgICAgICAgICAgIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICAgICAgICAgICAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZtLmdjbWlkRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICAgICAgICAgIHZtLmRldmljZXNUb01hdGNoT25Vbm1hbmFnZWQgPSBkZXZpY2VzVG9SZXR1cm5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLmRldmljZXNUb01hdGNoT25NYW5hZ2VkID0gZGV2aWNlc1RvUmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRldmljZXNUb1JldHVybilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShbXSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIHZtLnRocm90dGxlZFNlYXJjaCgpO1xuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2VcblxuICB9XG5cbiAgdm0uZ2V0TWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAoa2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3Ioa2V5LCBwcmV2LCBuZXh0KTtcbiAgICByZXR1cm4gZGV2aWNlc1Byb21pc2UudGhlbigoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICB2bS5kZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcbiAgICAgIHZtLmRldmljZXNOZXh0ID0gcmVzcG9uc2UubmV4dF9jdXJzb3I7XG4gICAgICB2bS5kZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuICAgICAgcmV0dXJuIHZtLmdldEZldGNoU3VjY2VzcygpO1xuICAgIH0pLCByZXNwb25zZSA9PiB2bS5nZXRGZXRjaEZhaWx1cmUocmVzcG9uc2UpKTtcbiAgfTtcblxuICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKGtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCB1bm1hbmFnZWREZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldFVubWFuYWdlZERldmljZXNCeURpc3RyaWJ1dG9yKGtleSwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIHVubWFuYWdlZERldmljZXNQcm9taXNlLnRoZW4oKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG4gICAgICB2bS51bm1hbmFnZWREZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSByZXNwb25zZS5uZXh0X2N1cnNvcjtcbiAgICAgIHJldHVybiB2bS5nZXRGZXRjaFN1Y2Nlc3MoKTtcbiAgICB9KSwgcmVzcG9uc2UgPT4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKSk7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5kaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcbiAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcbiAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcbiAgfTtcblxuICB2bS5nZXRGZXRjaFN1Y2Nlc3MgPSAoKSA9PiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblxuICB2bS5nZXRGZXRjaEZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gYFVuYWJsZSB0byBmZXRjaCBkZXZpY2VzLiBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0uYDtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG4gIH07XG5cblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCwgbWFuYWdlZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICBpZiAobWFuYWdlZCkge1xuICAgICAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgbnVsbCwgdm0uZGV2aWNlc05leHQpO1xuICAgICAgfVxuICAgICAgaWYgKCFtYW5hZ2VkKSB7XG4gICAgICAgIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIG51bGwsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1hbmFnZWQpIHtcbiAgICAgICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLmRldmljZXNQcmV2LCBudWxsKTtcbiAgICAgIH1cbiAgICAgIGlmICghbWFuYWdlZCkge1xuICAgICAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge0RldmljZXNMaXN0aW5nQ3RybH1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9kZXZpY2UvZGV2aWNlcy1saXN0aW5nLmNvbnRyb2xsZXIuanMiLCJpbXBvcnQgbmF0dXJhbFNvcnQgZnJvbSAnamF2YXNjcmlwdC1uYXR1cmFsLXNvcnQnO1xuXG5cbmZ1bmN0aW9uIEFkbWluQ3RybChBZG1pblNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgIERldmljZXNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUsXG4gICAgICAgICAgICAgICAgICAgVG9hc3RzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgIFRlbmFudHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgIERpc3RyaWJ1dG9yc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLnBhdWxzQ3VycmVudERpc3RyaWJ1dG9yTmFtZSA9ICRyb290U2NvcGUucGF1bHNDdXJyZW50RGlzdHJpYnV0b3JOYW1lO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBEZXZpY2UgU2VhcmNoIFZhcmlhYmxlc1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIlNlcmlhbCBOdW1iZXJcIjtcbiAgdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPSBcIk1hbmFnZWRcIlxuICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB2bS5nY21pZERldmljZXMgPSB7fTtcbiAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gVGVuYW50IFNlYXJjaCBWYXJpYWJsZXNcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLnNlYXJjaGVkVGVuYW50cyA9IFtdO1xuICB2bS50ZW5hbnRTZWFyY2hNYXRjaCA9IG51bGw7XG4gIHZtLnRlbmFudFNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gRGV2aWNlIFNlYXJjaFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAoaXNNYXRjaCkge1xuICAgIHZtLmRpc2FibGVkID0gIWlzTWF0Y2g7XG4gICAgcmV0dXJuIHZtLmxvYWRpbmdEaXNhYmxlZCA9IGZhbHNlO1xuICB9O1xuXG4gIHZtLmNoYW5nZVJhZGlvID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuICAgIHZtLm1hY0RldmljZXMgPSB7fTtcbiAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG4gIH07XG5cbiAgdm0uaXNSZXNvdXJjZVZhbGlkID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgbGV0IGZvdW5kTWF0Y2ggPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpdGVtIG9mIHZtLmRldmljZXNUb01hdGNoT24pIHtcbiAgICAgIGlmIChyZXNvdXJjZSA9PT0gaXRlbSkge1xuICAgICAgICBmb3VuZE1hdGNoID0gdHJ1ZTtcbiAgICAgICAgdm0ubWF0Y2hEZXZpY2UgPSBpdGVtO1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICB2bS5jb250cm9sT3BlbkJ1dHRvbihmb3VuZE1hdGNoKVxuICAgIHJldHVybiBmb3VuZE1hdGNoXG4gIH07XG5cbiAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHBhcnRpYWwpIHtcbiAgICBsZXQgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG4gICAgbGV0IGJ5VGVuYW50ID0gZmFsc2U7XG4gICAgbGV0IHRlbmFudEtleSA9IG51bGw7XG4gICAgbGV0IGRpc3RyaWJ1dG9yID0gbnVsbDtcbiAgICBsZXQgZ2xvYmFsbHkgPSB0cnVlO1xuXG4gICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnNlYXJjaERldmljZXMocGFydGlhbCwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCBkaXN0cmlidXRvciwgdW5tYW5hZ2VkLCBnbG9iYWxseSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBsZXQgZGV2aWNlc1RvUmV0dXJuO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgIGxldCBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcbiAgICAgICAgICBpZiAoYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuICAgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF1cbiAgICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PT0gXCJNQUNcIikge1xuICAgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBkZXZpY2VzVG9SZXR1cm5cblxuICAgICAgICAgIHJldHVybiBkZXZpY2VzVG9SZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH07XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gVGVuYW50IFNlYXJjaFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICB2bS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lID0gZnVuY3Rpb24gKHRlbmFudF9uYW1lKSB7XG4gICAgaWYgKCF0ZW5hbnRfbmFtZSB8fCB0ZW5hbnRfbmFtZS5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgbGV0IHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lKHRlbmFudF9uYW1lLCB0cnVlKVxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICB2bS5zZWFyY2hlZFRlbmFudHMgPSByZXNwb25zZVxuICAgICAgaWYgKHZtLnNlYXJjaGVkVGVuYW50cykge1xuICAgICAgICByZXR1cm4gdm0uc2VhcmNoZWRUZW5hbnRzLm1hcCgoaSkgPT4gaS5uYW1lKS5zb3J0KG5hdHVyYWxTb3J0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gcHJvbWlzZS5jYXRjaCgocmVzcG9uc2UpID0+IHtcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgVW5hYmxlIHRvIGZldGNoIHRlbmFudHMuIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuICAgIH0pXG4gIH1cblxuXG4gIHZtLmlzVGVuYW50VmFsaWQgPSAodGVuYW50X25hbWUpID0+IHtcbiAgICBpZiAoIXRlbmFudF9uYW1lIHx8IHRlbmFudF9uYW1lLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cblxuICAgIGxldCBtYXRjaCA9IHZtLnNlYXJjaGVkVGVuYW50cztcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGZvciAobGV0IGVhY2hOYW1lIG9mIG1hdGNoKSB7XG4gICAgICAgIGlmICh0ZW5hbnRfbmFtZSA9PT0gZWFjaE5hbWUubmFtZSkge1xuICAgICAgICAgIHZtLnRlbmFudFNlYXJjaERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgdm0uc2VhcmNoTWF0Y2ggPSBlYWNoTmFtZVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bS50ZW5hbnRTZWFyY2hEaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdm0udGVuYW50U2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBEaXN0cmlidXRvciBUYWJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgdm0uZ2V0QWxsRGlzdHJpYnV0b3JzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmxvYWRpbmdBbGxEaXN0cmlidXRvcnMgPSB0cnVlO1xuICAgIGxldCBnZXRBbGxEaXN0cmlidXRvcnNQcm9taXNlID0gQWRtaW5TZXJ2aWNlLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuICAgIHJldHVybiBnZXRBbGxEaXN0cmlidXRvcnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmxvYWRpbmdBbGxEaXN0cmlidXRvcnMgPSBmYWxzZTtcbiAgICAgIHJldHVybiB2bS5hbGxEaXN0cmlidXRvcnMgPSBkYXRhO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLm1ha2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uIChldiwgZGlzdHJpYnV0b3JOYW1lLCBhZG1pbkVtYWlsLCBmb3JtKSB7XG4gICAgbGV0IGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybShcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JyxcbiAgICAgICAgdGV4dENvbnRlbnQ6IGBJZiB5b3UgcHJvY2VlZCwgJHtkaXN0cmlidXRvck5hbWV9IHdpbGwgYmUgY3JlYXRlZC5gLFxuICAgICAgICB0YXJnZXRFdmVudDogZXYsXG4gICAgICAgIGFyaWFMYWJlbDogJ0x1Y2t5IGRheScsXG4gICAgICAgIG9rOiAnWWVhaCEnLFxuICAgICAgICBjYW5jZWw6ICdGb3JnZXQgaXQuJ1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oKGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBtYWtlRGlzdHJpYnV0b3JQcm9taXNlID0gQWRtaW5TZXJ2aWNlLm1ha2VEaXN0cmlidXRvcihkaXN0cmlidXRvck5hbWUsIGFkbWluRW1haWwpO1xuICAgICAgbWFrZURpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZtLmRpc3RyaWJ1dG9yID0ge307XG4gICAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XG4gICAgICAgIGZvcm0uJHNldFVudG91Y2hlZCgpO1xuICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKCgpID0+IHZtLmFsbERpc3RyaWJ1dG9ycyA9IHZtLmdldEFsbERpc3RyaWJ1dG9ycygpKSwgMjAwMCk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG1ha2VEaXN0cmlidXRvclByb21pc2UuY2F0Y2goZGF0YSA9PiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGRhdGEuZGF0YS5tZXNzYWdlKSk7XG4gICAgfSkpO1xuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBVc2VycyBUYWJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgdm0uYWRkVXNlclRvRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoZXYsIHVzZXJFbWFpbCwgZGlzdHJpYnV0b3JBZG1pbiwgd2hpY2hEaXN0cmlidXRvciwgZm9ybSkge1xuICAgIGlmICghZGlzdHJpYnV0b3JBZG1pbikge1xuICAgICAgZGlzdHJpYnV0b3JBZG1pbiA9IGZhbHNlO1xuICAgIH1cbiAgICBsZXQgd2l0aE9yV2l0aG91dCA9IGRpc3RyaWJ1dG9yQWRtaW4gPyBcIndpdGhcIiA6IFwid2l0aG91dFwiO1xuXG4gICAgLy8gbm8gb3B0aW9uIHRvIHNlbGVjdCBkaXN0cmlidXRvciBpcyBnaXZlbiB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIG9wdGlvblxuICAgIGlmICghd2hpY2hEaXN0cmlidXRvcikge1xuICAgICAgd2hpY2hEaXN0cmlidXRvciA9IHZtLmRpc3RyaWJ1dG9yc0FzQWRtaW5bMF07XG4gICAgfVxuXG4gICAgbGV0IGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybShcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JyxcbiAgICAgICAgdGV4dENvbnRlbnQ6IGAke3VzZXJFbWFpbH0gd2lsbCBiZSBhZGRlZCB0byAke3doaWNoRGlzdHJpYnV0b3J9XG4gICAgICAgICR7d2l0aE9yV2l0aG91dH0gYWRtaW5pc3RyYXRvciBwcml2aWxlZ2VzYCxcbiAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuICAgICAgICBvazogJ09mIGNvdXJzZSEnLFxuICAgICAgICBjYW5jZWw6ICdPb3BzLCBuZXZlcm1pbmQuJ1xuICAgICAgfVxuICAgICk7XG5cbiAgICByZXR1cm4gJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlID0gQWRtaW5TZXJ2aWNlLmFkZFVzZXJUb0Rpc3RyaWJ1dG9yKHVzZXJFbWFpbCwgd2hpY2hEaXN0cmlidXRvciwgZGlzdHJpYnV0b3JBZG1pbik7XG4gICAgICBhZGRVc2VyVG9EaXN0cmlidXRvclByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgdm0udXNlciA9IHt9O1xuICAgICAgICBmb3JtLiRzZXRQcmlzdGluZSgpO1xuICAgICAgICBmb3JtLiRzZXRVbnRvdWNoZWQoKTtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKCgpID0+IHZtLmdldFVzZXJzT2ZEaXN0cmlidXRvcigpKSwgMjAwMCk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZS5jYXRjaChkYXRhID0+IFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoZGF0YS5kYXRhLm1lc3NhZ2UpKTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5zd2l0Y2hEaXN0cmlidXRvciA9IGZ1bmN0aW9uIChkaXN0cmlidXRvcikge1xuICAgIERpc3RyaWJ1dG9yc1NlcnZpY2Uuc3dpdGNoRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoYERpc3RyaWJ1dG9yICR7ZGlzdHJpYnV0b3IubmFtZX0gc2VsZWN0ZWQhYCk7XG4gIH07XG5cbiAgdm0uZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmxvYWRpbmdVc2Vyc09mRGlzdHJpYnV0b3IgPSB0cnVlO1xuICAgIGxldCBjdXJyZW50RGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG4gICAgbGV0IHVzZXJzb2ZEaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UuZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKGN1cnJlbnREaXN0cmlidXRvcktleSk7XG4gICAgcmV0dXJuIHVzZXJzb2ZEaXN0cmlidXRvclByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0ubG9hZGluZ1VzZXJzT2ZEaXN0cmlidXRvciA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHZtLnVzZXJzT2ZEaXN0cmlidXRvciA9IGRhdGE7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IoKTtcbiAgICB2bS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcbiAgICB2bS5pc0FkbWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldElzQWRtaW4oKTtcbiAgICB2bS5kaXN0cmlidXRvcnNBc0FkbWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKTtcbiAgICB2bS5jdXJyZW50RGlzdHJpYnV0b3JOYW1lID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKTtcblxuICAgIGlmICh2bS5pc0FkbWluKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0QWxsRGlzdHJpYnV0b3JzKCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmVkaXRUZW5hbnQgPSBpdGVtID0+ICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXk6IGl0ZW0ua2V5fSk7XG5cbiAgdm0uZWRpdEl0ZW0gPSAoc2VhcmNoVGV4dCkgPT4ge1xuICAgIGxldCBtYWMsIHNlcmlhbCwgZ2NtaWQ7XG4gICAgbGV0IGJ1dHRvbiA9IHZtLnNlbGVjdGVkQnV0dG9uO1xuXG4gICAgbWFjID0gYnV0dG9uID09PSBcIk1BQ1wiO1xuICAgIHNlcmlhbCA9IGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG4gICAgZ2NtaWQgPSBidXR0b24gPT09IFwiR0NNIElEXCJcblxuICAgIGlmIChtYWMpIHtcbiAgICAgIERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKHZtLm1hY0RldmljZXNbc2VhcmNoVGV4dF0pO1xuICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG4gICAgICBEZXZpY2VzU2VydmljZS5lZGl0SXRlbSh2bS5zZXJpYWxEZXZpY2VzW3NlYXJjaFRleHRdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0odm0uZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgIH1cbiAgfVxuXG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0FkbWluQ3RybH1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvYWRtaW4vYWRtaW4tY29udHJvbGxlci5qcyIsImZ1bmN0aW9uIEF1dGhlbnRpY2F0aW9uQ3RybCgkc2NvcGUsICRsb2csICRzdGF0ZSwgJHRpbWVvdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dlZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9vZlBsYXlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERldmljZXNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlbmFudHNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuXG4gIHZtLm9uR29vZ2xlUGx1c1NpZ25JblN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQsIGF1dGhSZXN1bHQpIHtcbiAgICBpZiAoIXZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkKSB7XG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICB9XG4gICAgU2Vzc2lvbnNTZXJ2aWNlLnJlbW92ZVVzZXJJbmZvKClcbiAgICBsZXQgcHJvbWlzZSA9IFNlc3Npb25zU2VydmljZS5sb2dpbihhdXRoUmVzdWx0KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLmxvZ2luU3VjY2Vzcywgdm0ubG9naW5GYWlsdXJlKTtcbiAgfTtcblxuXG4gIHZtLm9uR29vZ2xlUGx1c1NpZ25JbkZhaWx1cmUgPSBmdW5jdGlvbiAoZXZlbnQsIGF1dGhSZXN1bHQpIHtcbiAgICBpZiAodm0uZ29vZ2xlUGx1c1NpZ25JbkJ1dHRvbkNsaWNrZWQpIHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIGF1dGhlbnRpY2F0ZSB0byBHb29nbGUrLicsICdlcnJvcicpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuJG9uKCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tc3VjY2VzcycsIHZtLm9uR29vZ2xlUGx1c1NpZ25JblN1Y2Nlc3MpO1xuICAkc2NvcGUuJG9uKCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tZmFpbHVyZScsIHZtLm9uR29vZ2xlUGx1c1NpZ25JbkZhaWx1cmUpO1xuXG4gIHZtLmluaXRpYWxpemVTaWduSW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uY2xpZW50SWQgPSBpZGVudGl0eS5PQVVUSF9DTElFTlRfSUQ7XG4gICAgdm0uc3RhdGUgPSBpZGVudGl0eS5TVEFURTtcbiAgICByZXR1cm4gdm0uZ29vZ2xlUGx1c1NpZ25JbkJ1dHRvbkNsaWNrZWQgPSBmYWxzZTtcbiAgfTtcblxuICB2bS5pbml0aWFsaXplU2lnbk91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBTZXNzaW9uc1NlcnZpY2UucmVtb3ZlVXNlckluZm8oKTtcbiAgICByZXR1cm4gJHRpbWVvdXQodm0ucHJvY2VlZFRvU2lnbmVkT3V0LCA1MCk7XG4gIH07XG5cbiAgdm0ubG9naW5TdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuICRzdGF0ZS5nbygnZGlzdHJpYnV0b3Jfc2VsZWN0aW9uJyk7XG4gIH07XG5cbiAgdm0ubG9naW5GYWlsdXJlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBhdXRoZW50aWNhdGUgdG8gU3Rvcm1wYXRoLicsICdlcnJvcicpO1xuICB9O1xuXG5cbiAgdm0ucHJvY2VlZFRvU2lnbmVkT3V0ID0gKCkgPT4gJHN0YXRlLmdvKCdzaWduZWRfb3V0Jyk7XG5cbiAgdm0ucHJvY2VlZFRvU2lnbkluID0gKCkgPT4gJHN0YXRlLmdvKCdzaWduX2luJyk7XG5cbiAgdm0ub25DbGlja0dvb2dsZVBsdXNTaWduSW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZ29vZ2xlUGx1c1NpZ25JbkJ1dHRvbkNsaWNrZWQgPSB0cnVlO1xuICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7QXV0aGVudGljYXRpb25DdHJsfVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9hdXRoZW50aWNhdGlvbi9hdXRoZW50aWNhdGlvbi1jb250cm9sbGVyLmpzIiwiaW1wb3J0IGNvbnRhaW5zIGZyb20gJ2xvZGFzaC5jb250YWlucyc7XG5cbmZ1bmN0aW9uIEFwcENvbnRyb2xsZXIoXG4gICRtZFNpZGVuYXYsXG4gICRzdGF0ZSxcbiAgJHJvb3RTY29wZSxcbiAgJHdpbmRvdyxcbiAgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICAkcm9vdFNjb3BlLnBhdWxzQ3VycmVudERpc3RyaWJ1dG9yTmFtZSA9ICdNYW5hZ2luZyBPcmdhbml6YXRpb24nXG5cbiAgdm0uY3VycmVudERpc3RyaWJ1dGVySW5EaXN0cmlidXRlckFkbWluTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgY3VycmVudERpc3RyaWJ1dG9yTmFtZSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKCk7XG4gICAgbGV0IGRpc3RyaWJ1dG9yc0FzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuICAgIHJldHVybiBjb250YWlucyhkaXN0cmlidXRvcnNBc0FkbWluLCBjdXJyZW50RGlzdHJpYnV0b3JOYW1lKTtcbiAgfTtcblxuICB2bS5nZXRJZGVudGl0eSA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAga2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpLFxuICAgICAgZW1haWw6IFNlc3Npb25zU2VydmljZS5nZXRVc2VyRW1haWwoKSxcbiAgICAgIGFkbWluOiBTZXNzaW9uc1NlcnZpY2UuZ2V0SXNBZG1pbigpLFxuICAgICAgZGlzdHJpYnV0b3JfYWRtaW46IFNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCksXG4gICAgICBhZG1pbl9vZl9jdXJyZW50X2Rpc3RyaWJ1dG9yOiB2bS5jdXJyZW50RGlzdHJpYnV0ZXJJbkRpc3RyaWJ1dGVyQWRtaW5MaXN0KCksXG4gICAgICBkaXN0cmlidXRvcktleTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLFxuICAgICAgZGlzdHJpYnV0b3JOYW1lOiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpXG4gICAgfVxuICB9O1xuXG4gIHZtLmlzQ3VycmVudFVSTERpc3RyaWJ1dG9yU2VsZWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHRlc3QgPSAkd2luZG93LmxvY2F0aW9uLmhyZWYuc2VhcmNoKC9kaXN0cmlidXRvcl9zZWxlY3Rpb24vKTtcbiAgICBsZXQgcmVzdWx0ID0gdGVzdCA+PSAwO1xuICAgIHJldHVybiByZXN1bHRcbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gKCkgPT4gdm0uZ2V0SWRlbnRpdHkoKTtcblxuICB2bS50b2dnbGVTaWRlbmF2ID0gKCkgPT4gJG1kU2lkZW5hdignbGVmdCcpLnRvZ2dsZSgpO1xuXG4gIHZtLmdvVG8gPSBmdW5jdGlvbiAoc3RhdGVOYW1lLCBpZCkge1xuICAgICRzdGF0ZS5nbyhzdGF0ZU5hbWUsIHtpZH0pO1xuICAgIGlmICgkbWRTaWRlbmF2KCdsZWZ0JykuaXNPcGVuKCkpIHtcbiAgICAgIHJldHVybiAkbWRTaWRlbmF2KCdsZWZ0JykuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSgpXG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0FwcENvbnRyb2xsZXJ9XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL2FwcC9hcHAtY29udHJvbGxlci5qcyIsImZ1bmN0aW9uIERpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsKCRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXN0cmlidXRvcnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcbiAgbGV0IHZtID0gdGhpcztcbiAgdm0ucGF1bHNDdXJyZW50RGlzdHJpYnV0b3JOYW1lID0gJHJvb3RTY29wZS5wYXVsc0N1cnJlbnREaXN0cmlidXRvck5hbWU7XG5cbiAgdm0uZGlzdHJpYnV0b3JzID0gW107XG4gIHZtLmN1cnJlbnREaXN0cmlidXRvciA9IHVuZGVmaW5lZDtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5sb2VhZGluZyA9IHRydWU7XG4gICAgbGV0IGRpc3RyaWJ1dG9yc1Byb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmZldGNoQWxsQnlVc2VyKFNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCkpO1xuICAgIHJldHVybiBkaXN0cmlidXRvcnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmRpc3RyaWJ1dG9ycyA9IGRhdGE7XG4gICAgICBpZiAodm0uZGlzdHJpYnV0b3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gdm0uc2VsZWN0RGlzdHJpYnV0b3Iodm0uZGlzdHJpYnV0b3JzWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdm0uc2VsZWN0RGlzdHJpYnV0b3IgPSAoZGlzdHJpYnV0b3IpID0+IERpc3RyaWJ1dG9yc1NlcnZpY2Uuc3dpdGNoRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IpO1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEaXN0cmlidXRvclNlbGVjdG9yQ3RybH1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3Itc2VsZWN0b3ItY29udHJvbGxlci5qcyIsImZ1bmN0aW9uIERpc3RyaWJ1dG9yc0N0cmwoJHN0YXRlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5kaXN0cmlidXRvcnMgPSBbXTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7RGlzdHJpYnV0b3JzQ3RybH1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3JzLWNvbnRyb2xsZXIuanMiLCJmdW5jdGlvbiBEb21haW5zQ3RybCgkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICBEb21haW5zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgIHN3ZWV0KSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5kb21haW5zID0gW107XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmZldGNoQWxsRG9tYWlucygpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oZGF0YSA9PiB2bS5kb21haW5zID0gZGF0YSk7XG4gIH07XG5cbiAgdm0uZWRpdEl0ZW0gPSBpdGVtID0+ICRzdGF0ZS5nbygnZWRpdERvbWFpbicsIHtkb21haW5LZXk6IGl0ZW0ua2V5fSk7XG5cbiAgdm0uZGVsZXRlSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgbGV0IGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHByb21pc2UgPSBEb21haW5zU2VydmljZS5kZWxldGUoaXRlbSk7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKCgpID0+IHZtLmluaXRpYWxpemUoKSk7XG4gICAgfTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdyh7XG4gICAgICB0aXRsZTogXCJBcmUgeW91IHN1cmU/XCIsXG4gICAgICB0ZXh0OiBcIlRoaXMgd2lsbCBwZXJtYW5lbnRseSByZW1vdmUgdGhlIGRvbWFpbiBmcm9tIHRoZSBkaXN0cmlidXRvciBhbmQgZGlzY29ubmVjdCBmcm9tIHRlbmFudHMuXCIsXG4gICAgICB0eXBlOiBcIndhcm5pbmdcIixcbiAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiI0RENkI1NVwiLFxuICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwiWWVzLCByZW1vdmUgdGhlIGRvbWFpbiFcIixcbiAgICAgIGNsb3NlT25Db25maXJtOiB0cnVlXG4gICAgfSwgY2FsbGJhY2spO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEb21haW5zQ3RybH1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvZG9tYWluL2RvbWFpbnMuY29udHJvbGxlci5qcyIsImZ1bmN0aW9uIERvbWFpbkRldGFpbHNDdHJsKCRsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBEb21haW5zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3ZWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3RzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlc3Npb25zU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uY3VycmVudERvbWFpbiA9IHtcbiAgICBrZXk6IHVuZGVmaW5lZCxcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgaW1wZXJzb25hdGlvbl9hZG1pbl9lbWFpbF9hZGRyZXNzOiB1bmRlZmluZWQsXG4gICAgZGlzdHJpYnV0b3Jfa2V5OiB1bmRlZmluZWQsXG4gICAgb3JnYW5pemF0aW9uX3VuaXRfcGF0aDogJy9za3lraXQnLFxuICAgIGFjdGl2ZTogdHJ1ZVxuICB9O1xuICB2bS5kZXZpY2VzQWNjZXNzID0gZmFsc2U7XG4gIHZtLm9yZ1VuaXRzQWNjZXNzID0gZmFsc2U7XG4gIHZtLnVzZXJzQWNjZXNzID0gZmFsc2U7XG4gIHZtLmN1cnJlbnREb21haW5zID0gW107XG4gIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMuZG9tYWluS2V5O1xuXG4gIGlmICh2bS5lZGl0TW9kZSkge1xuICAgIGxldCBkb21haW5Qcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZ2V0RG9tYWluQnlLZXkoJHN0YXRlUGFyYW1zLmRvbWFpbktleSk7XG4gICAgZG9tYWluUHJvbWlzZS50aGVuKGRhdGEgPT4gdm0uY3VycmVudERvbWFpbiA9IGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHZtLmN1cnJlbnREb21haW4uZGlzdHJpYnV0b3Jfa2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuICB9XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodm0uZWRpdE1vZGUpIHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgICAgbGV0IGNvbm5lY3Rpdml0eVByb21pc2UgPSBEb21haW5zU2VydmljZS5nZXREaXJlY3RvcnlBcGlDb25uZWN0aXZpdHlJbmZvcm1hdGlvbigkc3RhdGVQYXJhbXMuZG9tYWluS2V5KTtcbiAgICAgIHJldHVybiBjb25uZWN0aXZpdHlQcm9taXNlLnRoZW4odm0ub25TdWNjZXNzRGV0ZXJtaW5pbmdDb25uZWN0aXZpdHksIHZtLm9uRmFpbHVyZURldGVybWluaW5nQ29ubmVjdGl2aXR5KTtcbiAgICB9XG4gIH07XG5cbiAgdm0ub25TdWNjZXNzRGV0ZXJtaW5pbmdDb25uZWN0aXZpdHkgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHZtLmRldmljZXNBY2Nlc3MgPSBkYXRhLmRldmljZXNBY2Nlc3M7XG4gICAgdm0ub3JnVW5pdHNBY2Nlc3MgPSBkYXRhLm9yZ1VuaXRzQWNjZXNzO1xuICAgIHZtLnVzZXJzQWNjZXNzID0gZGF0YS51c2Vyc0FjY2VzcztcbiAgICB2bS5kZXZpY2VzQWNjZXNzRXhjZXB0aW9uID0gZGF0YS5kZXZpY2VzQWNjZXNzRXhjZXB0aW9uO1xuICAgIHZtLm9yZ1VuaXRzQWNjZXNzRXhjZXB0aW9uID0gZGF0YS5vcmdVbml0c0FjY2Vzc0V4Y2VwdGlvbjtcbiAgICB2bS51c2Vyc0FjY2Vzc0V4Y2VwdGlvbiA9IGRhdGEudXNlcnNBY2Nlc3NFeGNlcHRpb247XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlRGV0ZXJtaW5pbmdDb25uZWN0aXZpdHkgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBGYWlsdXJlIGRldGVybWluaW5nIGRpcmVjdG9yeSBBUEkgY29ubmVjdGl2aXR5OiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgZGV0ZXJtaW5lIHlvdXIgZGV2aWNlIGNvbm5lY3Rpdml0eSBhdCB0aGlzIHRpbWUuJyk7XG4gIH07XG5cbiAgdm0ub25TYXZlRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gRG9tYWluc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RG9tYWluKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1NhdmVEb21haW4sIHZtLm9uRmFpbHVyZVNhdmVEb21haW4pO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1NhdmVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlU2F2ZURvbWFpbiA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgJGxvZy5pbmZvKGBGYWlsdXJlIHNhdmluZyBkb21haW4uIERvbWFpbiBhbHJlYWR5IGV4aXN0czogJHtlcnJvci5zdGF0dXN9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1RoaXMgZG9tYWluIG5hbWUgYWxyZWFkeSBleGlzdC4gUGxlYXNlIGVudGVyIGEgdW5pcXVlIGRvbWFpbiBuYW1lLicsICdlcnJvcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkbG9nLmVycm9yKGBGYWlsdXJlIHNhdmluZyBkb21haW46ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIHNhdmUgeW91ciB1cGRhdGVzIGF0IHRoaXMgdGltZS4nKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uZWRpdEl0ZW0gPSBpdGVtID0+ICRzdGF0ZS5nbygnZWRpdERvbWFpbicsIHtkb21haW5LZXk6IGl0ZW0ua2V5fSk7XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0RvbWFpbkRldGFpbHNDdHJsfVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9kb21haW4vZG9tYWluLWRldGFpbHMuY29udHJvbGxlci5qcyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybChQcm9vZlBsYXlTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgVG9hc3RzU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuICAgIGdyb3VwMTogJ0J5IERldmljZScsXG4gICAgZ3JvdXAyOiAnU3VtbWFyaXplZCcsXG4gICAgc2VsZWN0aW9uOiBudWxsXG4gIH07XG5cblxuICB2bS5kYXRlVGltZVNlbGVjdGlvbiA9IHtcbiAgICBzdGFydDogbnVsbCxcbiAgICBlbmQ6IG51bGxcbiAgfTtcblxuICB2bS5mb3JtVmFsaWRpdHkgPSB7XG4gICAgc3RhcnRfZGF0ZTogZmFsc2UsXG4gICAgZW5kX2RhdGU6IGZhbHNlLFxuICAgIGxvY2F0aW9uczogZmFsc2UsXG4gIH07XG5cbiAgdm0udGVuYW50ID0gJHN0YXRlUGFyYW1zLnRlbmFudDtcbiAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gIHZtLnNlbGVjdGVkX2xvY2F0aW9ucyA9IFtdO1xuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsTG9jYXRpb25zKHZtLnRlbmFudClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdm0ubG9jYXRpb25zID0gZGF0YS5kYXRhLmxvY2F0aW9ucztcbiAgICAgICAgaWYgKHZtLmxvY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgO1xuXG4gIHZtLnJlZnJlc2hMb2NhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMgPSBbXTtcbiAgICB2bS5pbml0aWFsaXplKCk7XG4gIH07XG5cbiAgdm0uYWRkVG9TZWxlY3RlZExvY2F0aW9ucyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKHZtLmlzTG9jYXRpb25WYWxpZChzZWFyY2hUZXh0KSkge1xuICAgICAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zLnB1c2goc2VhcmNoVGV4dCk7XG4gICAgICBsZXQgaW5kZXggPSB2bS5sb2NhdGlvbnMuaW5kZXhPZihzZWFyY2hUZXh0KTtcbiAgICAgIHZtLmxvY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuICAgIH1cbiAgICB2bS5hcmVMb2NhdGlvbnNWYWxpZCgpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0ucXVlcnlTZWFyY2ggPSAobG9jYXRpb25zLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKGxvY2F0aW9ucywgc2VhcmNoVGV4dCk7XG5cblxuICB2bS5pc1JhZGlvVmFsaWQgPSBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LnR5cGUgPSBzZWxlY3Rpb247XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzTG9jYXRpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5sb2NhdGlvbnMpKSB7XG4gICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9sb2NhdGlvbnMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG5cbiAgdm0uYXJlTG9jYXRpb25zVmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LmxvY2F0aW9ucyA9ICh2bS5zZWxlY3RlZF9sb2NhdGlvbnMubGVuZ3RoID4gMCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5pc1N0YXJ0RGF0ZVZhbGlkID0gZnVuY3Rpb24gKHN0YXJ0X2RhdGUpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IChzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRW5kRGF0ZVZhbGlkID0gZnVuY3Rpb24gKGVuZF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gKGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWRMb2NhdGlvbiA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgbGV0IGluZGV4ID0gdm0uc2VsZWN0ZWRfbG9jYXRpb25zLmluZGV4T2YoaXRlbSk7XG4gICAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgdm0ubG9jYXRpb25zLnB1c2goaXRlbSk7XG4gICAgdm0uYXJlTG9jYXRpb25zVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5sb2NhdGlvbnMgJiYgdm0uZm9ybVZhbGlkaXR5LnR5cGUpIHtcbiAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG4gICAgICAgIHN0YXJ0X2RhdGVfdW5peDogbW9tZW50KHZtLmRhdGVUaW1lU2VsZWN0aW9uLnN0YXJ0KS51bml4KCksXG4gICAgICAgIGVuZF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcbiAgICAgICAgbG9jYXRpb25zOiB2bS5zZWxlY3RlZF9sb2NhdGlvbnMsXG4gICAgICAgIHR5cGU6IHZtLnJhZGlvQnV0dG9uQ2hvaWNlcy5zZWxlY3Rpb25cblxuICAgICAgfTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICB2bS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2Uodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5sb2NhdGlvbnMsIHZtLnRlbmFudCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5sb2NhdGlvbnMsIHZtLnRlbmFudCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLnRlbmFudHMgPSBudWxsO1xuICB2bS5jdXJyZW50VGVuYW50ID0gdm0udGVuYW50O1xuXG4gIHZtLmluaXRpYWxpemVfdGVuYW50X3NlbGVjdCA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKClcbiAgICAgIC50aGVuKGRhdGEgPT4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzKVxuICA7XG5cbiAgdm0ucXVlcnlTZWFyY2ggPSAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cbiAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcbiAgICBpZiAoX19pbl9fKHNlYXJjaCwgdm0udGVuYW50cykpIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG4gICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuICAgICAgICB0ZW5hbnRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJHt0ZW5hbnR9YCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoYFByb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICR7dGVuYW50fWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdm07XG59O1xuXG5mdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG59XG5cbmV4cG9ydCB7UHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybH1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvcHJvb2YvbXVsdGktbG9jYXRpb24uY29udHJvbGxlci5qcyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuXG4gIHZtLnJhZGlvQnV0dG9uQ2hvaWNlcyA9IHtcbiAgICBncm91cDE6ICdCeSBEYXRlJyxcbiAgICBncm91cDI6ICdTdW1tYXJpemVkJyxcbiAgICBzZWxlY3Rpb246IG51bGxcbiAgfTtcblxuXG4gIHZtLmRhdGVUaW1lU2VsZWN0aW9uID0ge1xuICAgIHN0YXJ0OiBudWxsLFxuICAgIGVuZDogbnVsbFxuICB9O1xuXG4gIHZtLmZvcm1WYWxpZGl0eSA9IHtcbiAgICBzdGFydF9kYXRlOiBmYWxzZSxcbiAgICBlbmRfZGF0ZTogZmFsc2UsXG4gICAgZGlzcGxheXM6IGZhbHNlLFxuICB9O1xuXG4gIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG4gIHZtLm5vX2NhY2hlID0gdHJ1ZTtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuICB2bS5zZWxlY3RlZF9kaXNwbGF5cyA9IFtdO1xuXG5cbiAgdm0uaW5pdGlhbGl6ZSA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxEaXNwbGF5cyh2bS50ZW5hbnQpXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHZtLmRpc3BsYXlzID0gZGF0YS5kYXRhLmRldmljZXM7XG4gICAgICAgIGlmICh2bS5kaXNwbGF5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgO1xuXG4gIHZtLnJlZnJlc2hEaXNwbGF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgdm0uc2VsZWN0ZWRJdGVtID0gJyc7XG4gICAgdm0ubG9hZGluZyA9IHRydWU7XG4gICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzID0gW107XG4gICAgdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG4gIHZtLmFkZFRvU2VsZWN0ZWREaXNwbGF5cyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKHZtLmlzRGlzcGxheVZhbGlkKHNlYXJjaFRleHQpKSB7XG4gICAgICB2bS5zZWxlY3RlZF9kaXNwbGF5cy5wdXNoKHNlYXJjaFRleHQpO1xuICAgICAgbGV0IGluZGV4ID0gdm0uZGlzcGxheXMuaW5kZXhPZihzZWFyY2hUZXh0KTtcbiAgICAgIHZtLmRpc3BsYXlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgfVxuICAgIHZtLmFyZURpc3BsYXlzVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKGRpc3BsYXlzLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKGRpc3BsYXlzLCBzZWFyY2hUZXh0KTtcblxuXG4gIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkudHlwZSA9IHNlbGVjdGlvbjtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNEaXNwbGF5VmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0uZGlzcGxheXMpKSB7XG4gICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9kaXNwbGF5cykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgdm0uYXJlRGlzcGxheXNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuZGlzcGxheXMgPSAodm0uc2VsZWN0ZWRfZGlzcGxheXMubGVuZ3RoID4gMCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5pc1N0YXJ0RGF0ZVZhbGlkID0gZnVuY3Rpb24gKHN0YXJ0X2RhdGUpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IChzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRW5kRGF0ZVZhbGlkID0gZnVuY3Rpb24gKGVuZF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gKGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWREaXNwbGF5ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBsZXQgaW5kZXggPSB2bS5zZWxlY3RlZF9kaXNwbGF5cy5pbmRleE9mKGl0ZW0pO1xuICAgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgdm0uZGlzcGxheXMucHVzaChpdGVtKTtcbiAgICB2bS5hcmVEaXNwbGF5c1ZhbGlkKCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkuZGlzcGxheXMgJiYgdm0uZm9ybVZhbGlkaXR5LnR5cGUpIHtcbiAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG4gICAgICAgIHN0YXJ0X2RhdGVfdW5peDogbW9tZW50KHZtLmRhdGVUaW1lU2VsZWN0aW9uLnN0YXJ0KS51bml4KCksXG4gICAgICAgIGVuZF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcbiAgICAgICAgZGlzcGxheXM6IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLFxuICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG5cbiAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNCeURhdGUodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5kaXNwbGF5cywgdm0udGVuYW50KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5kaXNwbGF5cywgdm0udGVuYW50KTtcbiAgICB9XG4gIH07XG5cblxuICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblxuICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpXG4gICAgICAudGhlbihkYXRhID0+IHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cylcbiAgO1xuXG4gIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG4gICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuICAgICAgICB0ZW5hbnRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJHt0ZW5hbnR9YCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoYFByb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICR7dGVuYW50fWApO1xuICAgIH1cbiAgfTtcblxuICB2bS5xdWVyeVNlYXJjaCA9IChyZXNvdXJjZXMsIHNlYXJjaFRleHQpID0+IFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblxuICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG5cbiAgcmV0dXJuIHZtO1xufTtcblxuZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcbiAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xufVxuXG5leHBvcnQge1Byb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybH1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvcHJvb2YvbXVsdGktZGlzcGxheS5jb250cm9sbGVyLmpzIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5cbmZ1bmN0aW9uIFByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLnJhZGlvQnV0dG9uQ2hvaWNlcyA9IHtcbiAgICBncm91cDE6ICdCeSBEZXZpY2UnLFxuICAgIGdyb3VwMjogJ0J5IERhdGUnLFxuICAgIHNlbGVjdGlvbjogbnVsbFxuICB9O1xuXG5cbiAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG4gICAgc3RhcnQ6IG51bGwsXG4gICAgZW5kOiBudWxsXG4gIH07XG5cbiAgdm0uZm9ybVZhbGlkaXR5ID0ge1xuICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuICAgIGVuZF9kYXRlOiBmYWxzZSxcbiAgICByZXNvdXJjZXM6IGZhbHNlLFxuICB9O1xuXG4gIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG4gIHZtLm5vX2NhY2hlID0gdHJ1ZTtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuICB2bS5zZWxlY3RlZF9yZXNvdXJjZXMgPSBbXTtcblxuICB2bS5pbml0aWFsaXplID0gKCkgPT5cbiAgICBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbFJlc291cmNlcyh2bS50ZW5hbnQpXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHZtLmZ1bGxfcmVzb3VyY2VfbWFwID0gZGF0YS5kYXRhLnJlc291cmNlcztcbiAgICAgICAgdm0ucmVzb3VyY2VzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5kYXRhLnJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCByZXNvdXJjZSA9IGRhdGEuZGF0YS5yZXNvdXJjZXNbaV07XG4gICAgICAgICAgdm0ucmVzb3VyY2VzLnB1c2gocmVzb3VyY2UucmVzb3VyY2VfbmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodm0ucmVzb3VyY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KVxuICA7XG5cbiAgdm0ucmVmcmVzaFJlc291cmNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgdm0uc2VsZWN0ZWRJdGVtID0gJyc7XG4gICAgdm0ubG9hZGluZyA9IHRydWU7XG4gICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHZtLnNlbGVjdGVkX3Jlc291cmNlcyA9IFtdO1xuICAgIHZtLmluaXRpYWxpemUoKTtcbiAgfTtcblxuICB2bS5hZGRUb1NlbGVjdGVkUmVzb3VyY2VzID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcbiAgICBpZiAodm0uaXNSZXNvdXJjZVZhbGlkKHNlYXJjaFRleHQpKSB7XG4gICAgICB2bS5zZWxlY3RlZF9yZXNvdXJjZXMucHVzaChzZWFyY2hUZXh0KTtcbiAgICAgIGxldCBpbmRleCA9IHZtLnJlc291cmNlcy5pbmRleE9mKHNlYXJjaFRleHQpO1xuICAgICAgdm0ucmVzb3VyY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgfVxuICAgIHZtLmFyZVJlc291cmNlc1ZhbGlkKCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5xdWVyeVNlYXJjaCA9IChyZXNvdXJjZXMsIHNlYXJjaFRleHQpID0+IFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblxuXG4gIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkudHlwZSA9IHNlbGVjdGlvbjtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNSZXNvdXJjZVZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcbiAgICBpZiAoX19pbl9fKHNlYXJjaFRleHQsIHZtLnJlc291cmNlcykpIHtcbiAgICAgIGlmICghX19pbl9fKHNlYXJjaFRleHQsIHZtLnNlbGVjdGVkX3Jlc291cmNlcykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cblxuICB2bS5hcmVSZXNvdXJjZXNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkucmVzb3VyY2VzID0gKHZtLnNlbGVjdGVkX3Jlc291cmNlcy5sZW5ndGggPiAwKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLmlzU3RhcnREYXRlVmFsaWQgPSBmdW5jdGlvbiAoc3RhcnRfZGF0ZSkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlID0gKHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBEYXRlKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNFbmREYXRlVmFsaWQgPSBmdW5jdGlvbiAoZW5kX2RhdGUpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgPSAoZW5kX2RhdGUgaW5zdGFuY2VvZiBEYXRlKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnJlbW92ZUZyb21TZWxlY3RlZFJlc291cmNlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBsZXQgaW5kZXggPSB2bS5zZWxlY3RlZF9yZXNvdXJjZXMuaW5kZXhPZihpdGVtKTtcbiAgICB2bS5zZWxlY3RlZF9yZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB2bS5yZXNvdXJjZXMucHVzaChpdGVtKTtcbiAgICB2bS5hcmVSZXNvdXJjZXNWYWxpZCgpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc0Rpc2FibGVkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LnJlc291cmNlcyAmJiB2bS5mb3JtVmFsaWRpdHkudHlwZSkge1xuICAgICAgdm0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiB2bS5maW5hbCA9IHtcbiAgICAgICAgc3RhcnRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uc3RhcnQpLnVuaXgoKSxcbiAgICAgICAgZW5kX2RhdGVfdW5peDogbW9tZW50KHZtLmRhdGVUaW1lU2VsZWN0aW9uLmVuZCkudW5peCgpLFxuICAgICAgICByZXNvdXJjZXM6IHZtLnNlbGVjdGVkX3Jlc291cmNlcyxcbiAgICAgICAgdHlwZTogdm0ucmFkaW9CdXR0b25DaG9pY2VzLnNlbGVjdGlvblxuICAgICAgfTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICB2bS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHJlc291cmNlc19hc19pZHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZtLmZpbmFsLnJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGl0ZW0gPSB2bS5maW5hbC5yZXNvdXJjZXNbaV07XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZtLmZ1bGxfcmVzb3VyY2VfbWFwLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBlYWNoID0gdm0uZnVsbF9yZXNvdXJjZV9tYXBbal07XG4gICAgICAgIGlmIChlYWNoW1wicmVzb3VyY2VfbmFtZVwiXSA9PT0gaXRlbSkge1xuICAgICAgICAgIHJlc291cmNlc19hc19pZHMucHVzaChlYWNoW1wicmVzb3VyY2VfaWRlbnRpZmllclwiXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodm0uZmluYWwudHlwZSA9PT0gXCIxXCIpIHtcbiAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURldmljZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHJlc291cmNlc19hc19pZHMsIHZtLnRlbmFudCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHJlc291cmNlc19hc19pZHMsIHZtLnRlbmFudCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLnRlbmFudHMgPSBudWxsO1xuICB2bS5jdXJyZW50VGVuYW50ID0gdm0udGVuYW50O1xuXG4gIHZtLmluaXRpYWxpemVfdGVuYW50X3NlbGVjdCA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKClcbiAgICAgIC50aGVuKGRhdGEgPT4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzKVxuICA7XG5cbiAgdm0ucXVlcnlTZWFyY2ggPSAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cbiAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcbiAgICBpZiAoX19pbl9fKHNlYXJjaCwgdm0udGVuYW50cykpIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG4gICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuICAgICAgICB0ZW5hbnRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChgUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgc2V0IHRvICR7dGVuYW50fWApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChgUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgaXMgYWxyZWFkeSBzZXQgdG8gJHt0ZW5hbnR9YCk7XG4gICAgfVxuICB9O1xuXG5cbiAgcmV0dXJuIHZtO1xufTtcblxuZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcbiAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xufVxuXG5leHBvcnQge1Byb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmx9XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL3Byb29mL211bHRpLXJlc291cmNlLmNvbnRyb2xsZXIuanMiLCJmdW5jdGlvbiBQcm9vZk9mUGxheUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLnJlc291cmNlID0ge3RpdGxlOiBcIlJlc291cmNlIFJlcG9ydFwifTtcbiAgdm0ubG9jYXRpb24gPSB7dGl0bGU6IFwiTG9jYXRpb24gUmVwb3J0XCJ9O1xuICB2bS5kaXNwbGF5ID0ge3RpdGxlOiBcIkRpc3BsYXkgUmVwb3J0XCJ9O1xuXG4gIHZtLmNob3Nlbl90ZW5hbnQgPSBudWxsO1xuICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXG5cbiAgdm0uaW5pdGlhbGl6ZSA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKClcbiAgICAgIC50aGVuKGRhdGEgPT4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzKVxuICA7XG5cbiAgdm0ucXVlcnlTZWFyY2ggPSAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cblxuICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG5cbiAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQpIHtcbiAgICAgIHZtLmNob3Nlbl90ZW5hbnQgPSAodGVuYW50KTtcbiAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuICAgICAgICB0ZW5hbnQ6IHZtLmNob3Nlbl90ZW5hbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2bS5yZWZyZXNoVGVuYW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgICBsZXQgdXJsID0gUHJvb2ZQbGF5U2VydmljZS5tYWtlSFRUUFVSTChcIi9yZXRyaWV2ZV9teV90ZW5hbnRzXCIsICcnKTtcbiAgICB2bS5pbml0aWFsaXplKCk7XG4gIH07XG5cblxuICByZXR1cm4gdm07XG59O1xuXG5mdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG59XG5cbmV4cG9ydCB7UHJvb2ZPZlBsYXlDdHJsfVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9wcm9vZi9wcm9vZi1vZi1wbGF5LmNvbnRyb2xsZXIuanMiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyLCBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcbiAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcbiAgfVxuXG4gIGdldEltYWdlcyh0ZW5hbnRfdXJsc2FmZV9rZXkpIHtcbiAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2ltYWdlJywgYC9pbnRlcm5hbC92MS9pbWFnZS90ZW5hbnQvJHt0ZW5hbnRfdXJsc2FmZV9rZXl9YCkuZ2V0TGlzdCgpXG4gIH1cblxuICBzYXZlSW1hZ2UodGVuYW50X3VybHNhZmVfa2V5LCBmb3JtRGF0YSkge1xuICAgIC8vIGpRdWVyeSBhamF4IHVzZWQgaGVyZSBpbnN0ZWFkIG9mIGFuZ3VsYXIgLyBSZXN0YW5ndWxhciBkdWUgdG8gYW5ndWxhciBidWcgd2l0aCBwb3N0aW5nIGZvcm0gZGF0YVxuICAgIHJldHVybiAkLmFqYXgoe1xuICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICB1cmw6IGAvaW50ZXJuYWwvdjEvaW1hZ2UvdGVuYW50LyR7dGVuYW50X3VybHNhZmVfa2V5fWAsXG4gICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcbiAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlSW1hZ2UoaW1hZ2VfdXJsc2FmZV9rZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdpbWFnZScsIGAvaW50ZXJuYWwvdjEvaW1hZ2UvJHtpbWFnZV91cmxzYWZlX2tleX1gKS5yZW1vdmUoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG5cbn1cblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL3NlcnZpY2VzL2ltYWdlLnNlcnZpY2UuanMiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBZG1pblNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy5VU0VSX1NFUlZJQ0UgPSBcInVzZXJzXCI7XG4gICAgdGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFID0gXCJkaXN0cmlidXRvcnNcIjtcbiAgfVxuXG4gIG1ha2VEaXN0cmlidXRvcihkaXN0cmlidXRvciwgYWRtaW5fZW1haWwpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIGRpc3RyaWJ1dG9yLFxuICAgICAgYWRtaW5fZW1haWxcbiAgICB9O1xuXG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsICcvaW50ZXJuYWwvdjEvZGlzdHJpYnV0b3JzJykuY3VzdG9tUE9TVChwYXlsb2FkKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yKHVzZXJFbWFpbCwgZGlzdHJpYnV0b3IsIGRpc3RyaWJ1dG9yQWRtaW4pIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIHVzZXJfZW1haWw6IHVzZXJFbWFpbCxcbiAgICAgIGRpc3RyaWJ1dG9yLFxuICAgICAgZGlzdHJpYnV0b3JfYWRtaW46IGRpc3RyaWJ1dG9yQWRtaW5cbiAgICB9O1xuXG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlVTRVJfU0VSVklDRSwgXCIvaW50ZXJuYWwvdjEvdXNlcnNcIikuY3VzdG9tUE9TVChwYXlsb2FkKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldFVzZXJzT2ZEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLFxuICAgICAgYC9pbnRlcm5hbC92MS9hbmFseXRpY3MvZGlzdHJpYnV0b3JzLyR7ZGlzdHJpYnV0b3JLZXl9L3VzZXJzYCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRBbGxEaXN0cmlidXRvcnMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIFwiL2ludGVybmFsL3YxL2Rpc3RyaWJ1dG9yc1wiKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvc2VydmljZXMvYWRtaW4uc2VydmljZS5qcyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dGhvcml6YXRpb25TZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihTZXNzaW9uc1NlcnZpY2UsICRxLCAkd2luZG93KSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRxID0gJHFcbiAgICB0aGlzLiR3aW5kb3cgPSAkd2luZG93XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2VcbiAgfVxuXG4gIGF1dGhlbnRpY2F0ZWQoKSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuICAgIGxldCB1c2VySldUID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0SldUKCk7XG4gICAgaWYgKHVzZXJLZXkpIHtcbiAgICAgIGlmICh1c2VyS2V5ICYmIHVzZXJKV1QpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLnJlbW92ZVVzZXJJbmZvKCk7XG4gICAgICAgIHRoaXMuJHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIjL3JlZGlyZWN0XCJcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KFtcImF1dGhFcnJvclwiLCAnc2lnbl9pbiddKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICBub3RBdXRoZW50aWNhdGVkKCkge1xuICAgIGxldCBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICBsZXQgdXNlcktleSA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKTtcbiAgICBpZiAoIXVzZXJLZXkpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlZmVycmVkLnJlamVjdChbXCJhdXRoRXJyb3JcIiwgJ2hvbWUnXSk7XG4gICAgfVxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9XG5cbiAgaXNBZG1pbk9yRGlzdHJpYnV0b3JBZG1pbigpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgbGV0IGFkbWluID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0SXNBZG1pbigpO1xuICAgIGxldCBkaXN0cmlidXRvckFkbWluID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuICAgIGxldCBoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbiA9IGZhbHNlO1xuICAgIGlmIChkaXN0cmlidXRvckFkbWluICYmIGRpc3RyaWJ1dG9yQWRtaW4ubGVuZ3RoID4gMCkge1xuICAgICAgaGFzQXRMZWFzdE9uZURpc3RyaWJ1dG9yQWRtaW4gPSB0cnVlO1xuICAgIH1cbiAgICBsZXQgdXNlcktleSA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKTtcbiAgICBsZXQgdXNlckpXVCA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEpXVCgpO1xuICAgIGlmICh1c2VyS2V5KSB7XG4gICAgICBpZiAoIXVzZXJKV1QpIHtcbiAgICAgICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UucmVtb3ZlVXNlckluZm8oKTtcbiAgICAgICAgdGhpcy4kd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIiMvcmVkaXJlY3RcIlxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdXNlcktleSkge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KCdzaWduX2luJyk7XG4gICAgfSBlbHNlIGlmICghYWRtaW4gJiYgIWhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluKSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdob21lJ10pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxufVxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL3NlcnZpY2VzL2F1dGhvcml6YXRpb24uc2VydmljZS5qcyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1hbmRzU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICAgIHRoaXMuU0VSVklDRV9OQU1FID0gJ2RldmljZXMnO1xuICB9XG5cbiAgcGFuZWxTbGVlcChrZXksIHBhbmVsU2xlZXApIHtcbiAgICAvKiogcGFuZWxTbGVlcDogYm9vbGVhbiAqKi9cbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIHBhbmVsU2xlZXBcbiAgICB9O1xuXG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSxcbiAgICAgIGBpbnRlcm5hbC92MS9kZXZpY2VzLyR7a2V5fS9wYW5lbC1zbGVlcGApLmN1c3RvbVBVVChwYXlsb2FkKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHJlc2V0KGtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIGBpbnRlcm5hbC92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9yZXNldGApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGNvbnRlbnREZWxldGUoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSxcbiAgICAgIGBpbnRlcm5hbC92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9jb250ZW50LWRlbGV0ZWApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGNvbnRlbnRVcGRhdGUoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSxcbiAgICAgIGBpbnRlcm5hbC92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9jb250ZW50LXVwZGF0ZWApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHVwZGF0ZURldmljZShrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLFxuICAgICAgYGludGVybmFsL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL3JlZnJlc2gtZGV2aWNlLXJlcHJlc2VudGF0aW9uYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdG9nZ2xlRGlhZ25vc3RpY3Moa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGludGVybmFsL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL2RpYWdub3N0aWNzYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcmVzdGFydChrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgaW50ZXJuYWwvdjEvZGV2aWNlcy8ke2tleX0vY29tbWFuZHMvcmVzdGFydGApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHBvc3RMb2coa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGludGVybmFsL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL3Bvc3QtbG9nYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcG93ZXJPbihrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgaW50ZXJuYWwvdjEvZGV2aWNlcy8ke2tleX0vY29tbWFuZHMvcG93ZXItb25gKS5wb3N0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBwb3dlck9mZihrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgaW50ZXJuYWwvdjEvZGV2aWNlcy8ke2tleX0vY29tbWFuZHMvcG93ZXItb2ZmYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdm9sdW1lKGtleSwgdm9sdW1lKSB7XG4gICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICB2b2x1bWVcbiAgICB9O1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsXG4gICAgICBgaW50ZXJuYWwvdjEvZGV2aWNlcy8ke2tleX1gKS5jdXN0b21QT1NUKHBheWxvYWQsICdjb21tYW5kcy92b2x1bWUnKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGN1c3RvbShrZXksIGNvbW1hbmQpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIGNvbW1hbmRcbiAgICB9O1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsXG4gICAgICBgaW50ZXJuYWwvdjEvZGV2aWNlcy8ke2tleX1gKS5jdXN0b21QT1NUKHBheWxvYWQsICdjb21tYW5kcy9jdXN0b20nKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuXG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9zZXJ2aWNlcy9jb21tYW5kcy5zZXJ2aWNlLmpzIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gIH1cblxuICBjb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkoZGF0ZSkge1xuICAgIGlmICghbW9tZW50LmlzTW9tZW50KGRhdGUpKSB7XG4gICAgICByZXR1cm4gbW9tZW50KG5ldyBEYXRlKGRhdGUpKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGF0ZVxuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheShkYXlzQmFjaykge1xuICAgIGxldCBzdGFydFRpbWUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxuICAgIGxldCBzdGFydFRpbWVNaWROaWdodCA9IG1vbWVudChzdGFydFRpbWUsICdZWVlZLU1NLUREJykuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tIEEnKVxuICAgIGxldCBzdGFydFRpbWVFbmRPZkRheSA9IG1vbWVudChzdGFydFRpbWVNaWROaWdodCwgJ1lZWVktTU0tREQgaGg6bW0gQScpLmFkZCgxLCAnZGF5Jykuc3VidHJhY3QoNjAsICdzZWNvbmRzJykuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tIEEnKVxuXG4gICAgbGV0IGVuZFRpbWUgPSBtb21lbnQoKS5zdWJ0cmFjdChkYXlzQmFjaywgJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxuICAgIGxldCBlbmRUaW1lTWlkTmlnaHQgPSBtb21lbnQoZW5kVGltZSwgJ1lZWVktTU0tREQnKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW0gQScpXG5cbiAgICByZXR1cm4gW2VuZFRpbWVNaWROaWdodCwgc3RhcnRUaW1lRW5kT2ZEYXldXG4gIH1cblxuICBnZW5lcmF0ZUxvY2FsRnJvbVVUQyhVVENUaW1lKSB7XG4gICAgbGV0IGxvY2FsVGltZSA9IG1vbWVudC51dGMoVVRDVGltZSkudG9EYXRlKCk7XG4gICAgcmV0dXJuIG1vbWVudChsb2NhbFRpbWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbTpzcyBBJyk7XG4gIH07XG5cblxufVxuXG5cblxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvc2VydmljZXMvZGF0ZW1hbmlwdWxhdGlvbi5zZXJ2aWNlLmpzIiwiaW1wb3J0ICdyZXN0YW5ndWxhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERldmljZXNTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJGxvZywgUmVzdGFuZ3VsYXIsICRxLCAkaHR0cCwgJHN0YXRlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRsb2cgPSAkbG9nXG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy4kcSA9ICRxXG4gICAgdGhpcy4kaHR0cCA9ICRodHRwXG4gICAgdGhpcy4kc3RhdGUgPSAkc3RhdGVcbiAgICB0aGlzLlNFUlZJQ0VfTkFNRSA9ICdkZXZpY2VzJztcbiAgICB0aGlzLnVyaUJhc2UgPSAndjEvZGV2aWNlcyc7XG4gIH1cblxuICBhZGp1c3RDb250cm9sc01vZGUoZGV2aWNlS2V5LCBjb250cm9sc01vZGUpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIGNvbnRyb2xzTW9kZVxuICAgIH07XG5cbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLFxuICAgICAgYC9pbnRlcm5hbC92MS9kZXZpY2VzLyR7ZGV2aWNlS2V5fS9jb250cm9scy1tb2RlYCkuY3VzdG9tUFVUKHBheWxvYWQpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0RGV2aWNlQnlNYWNBZGRyZXNzKG1hY0FkZHJlc3MpIHtcbiAgICBsZXQgdXJsID0gYGludGVybmFsL3YxL2RldmljZXM/bWFjX2FkZHJlc3M9JHttYWNBZGRyZXNzfWA7XG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdpbnRlcm5hbC92MS9kZXZpY2VzJywgdXJsKS5nZXQoKTtcbiAgfVxuXG4gIGdldERldmljZUJ5S2V5KGRldmljZUtleSkge1xuICAgIGxldCB1cmwgPSBgaW50ZXJuYWwvdjEvZGV2aWNlcy8ke2RldmljZUtleX1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICByZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUoZGljdGlvbmFyeSwgdmFsdWUpIHtcbiAgICBsZXQgcmVzdWx0cyA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWN0aW9uYXJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGRpY3Rpb25hcnlbaV07XG4gICAgICByZXN1bHRzLnB1c2goZWFjaFt2YWx1ZV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0c1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBpc01hYyA9IGZhbHNlXG4gICAgICAgIGxldCBpc0dDTWlkID0gZmFsc2VcbiAgICAgICAgbGV0IHNlcmlhbERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuICAgICAgICBsZXQgZGV2aWNlU2VyaWFsc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwic2VyaWFsXCIpO1xuICAgICAgICByZXR1cm4gW2RldmljZVNlcmlhbHNPbmx5LCBzZXJpYWxEZXZpY2VzRGljdF07XG4gICAgICB9KTtcbiAgfVxuXG4gIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbChkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcbiAgICAgICAgbGV0IGlzTWFjID0gZmFsc2VcbiAgICAgICAgbGV0IGlzR0NNaWQgPSBmYWxzZVxuICAgICAgICBsZXQgc2VyaWFsRGV2aWNlc0RpY3QgPSB0aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG4gICAgICAgIGxldCBzZXJpYWxEZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG4gICAgICAgIHJldHVybiBbc2VyaWFsRGV2aWNlc09ubHksIHNlcmlhbERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcbiAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcbiAgICAgICAgbGV0IGlzTWFjID0gZmFsc2VcbiAgICAgICAgbGV0IGlzR0NNaWQgPSBmYWxzZVxuICAgICAgICBsZXQgc2VyaWFsRGV2aWNlc0RpY3QgPSB0aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG4gICAgICAgIGxldCBzZXJpYWxEZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG4gICAgICAgIHJldHVybiBbc2VyaWFsRGV2aWNlc09ubHksIHNlcmlhbERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBtYWNEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIHRydWUpO1xuICAgICAgICBsZXQgZGV2aWNlTWFjc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwibWFjXCIpO1xuICAgICAgICByZXR1cm4gW2RldmljZU1hY3NPbmx5LCBtYWNEZXZpY2VzRGljdF07XG4gICAgICB9KVxuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcbiAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgICAgbGV0IGlzTWFjID0gdHJ1ZTtcbiAgICAgICAgICBsZXQgaXNHQ01pZCA9IGZhbHNlO1xuICAgICAgICAgIGxldCBtYWNEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcbiAgICAgICAgICBsZXQgbWFjRGV2aWNlcyA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJtYWNcIilcbiAgICAgICAgICByZXR1cm4gW21hY0RldmljZXMsIG1hY0RldmljZXNEaWN0XTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgfVxuXG4gIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0dsb2JhbGx5KHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcbiAgICAgICAgICBsZXQgaXNNYWMgPSB0cnVlO1xuICAgICAgICAgIGxldCBpc0dDTWlkID0gZmFsc2U7XG4gICAgICAgICAgbGV0IG1hY0RldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuICAgICAgICAgIGxldCBtYWNEZXZpY2VzID0gdGhpcy5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcIm1hY1wiKVxuICAgICAgICAgIHJldHVybiBbbWFjRGV2aWNlcywgbWFjRGV2aWNlc0RpY3RdO1xuICAgICAgICB9XG4gICAgICApO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBnY21pZERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuICAgICAgICBsZXQgZ2NtaWREZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJnY21pZFwiKVxuICAgICAgICByZXR1cm4gW2djbWlkRGV2aWNlc09ubHksIGdjbWlkRGV2aWNlc0RpY3RdO1xuICAgICAgfSk7XG4gIH1cblxuICBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBHQ01pZERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuICAgICAgICBsZXQgZ2NtaWREZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJnY21pZFwiKVxuICAgICAgICByZXR1cm4gW2djbWlkRGV2aWNlc09ubHksIEdDTWlkRGV2aWNlc0RpY3RdO1xuICAgICAgfSk7XG4gIH1cblxuICBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuICAgICAgICBsZXQgR0NNaWREZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgbGV0IGdjbWlkRGV2aWNlc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwiZ2NtaWRcIilcbiAgICAgICAgcmV0dXJuIFtnY21pZERldmljZXNPbmx5LCBHQ01pZERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVqZWN0ZWRQcm9taXNlKCkge1xuICAgIGxldCBkZXZpY2VEZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICBkZXZpY2VEZWZlcnJlZC5yZWplY3QoKVxuICAgIHJldHVybiBkZXZpY2VEZWZlcnJlZC5wcm9taXNlXG4gIH07XG5cblxuICBzZWFyY2hEZXZpY2VzKHBhcnRpYWxTZWFyY2gsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCwgZ2xvYmFsbHkpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgbGV0IGRldmljZXNQcm9taXNlO1xuICAgIGlmIChwYXJ0aWFsU2VhcmNoKSB7XG4gICAgICBpZiAocGFydGlhbFNlYXJjaC5sZW5ndGggPiAyKSB7XG4gICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG4gICAgICAgICAgaWYgKGdsb2JhbGx5KSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYnlUZW5hbnQpIHtcbiAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PT0gXCJNQUNcIikge1xuICAgICAgICAgIGlmIChnbG9iYWxseSkge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGJ5VGVuYW50KSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZ2xvYmFsbHkpIHtcbiAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGJ5VGVuYW50KSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5yZWplY3RlZFByb21pc2UoKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMucmVqZWN0ZWRQcm9taXNlKClcbiAgICB9XG5cbiAgICBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZXZpY2VzUmVzdWx0KSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcbiAgICAgICAgXCJzdWNjZXNzXCI6IHRydWUsXG4gICAgICAgIFwiZGV2aWNlc1wiOiBkZXZpY2VzUmVzdWx0XG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXZpY2VzUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZGV2aWNlc1Jlc3VsdCkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZSxcbiAgICAgICAgXCJkZXZpY2VzXCI6IFtdXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZVxuICB9XG5cbiAgY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaih0aGVBcnJheSwgbWFjLCBnY20pIHtcbiAgICAvKiogQ29udmVydHMgYXJyYXkgdG8gZGljdGlvbmFyeSB3aXRoIG1hYywgZ2NtaWQsIG9yIHNlcmlhbCBhcyB0aGUga2V5ICoqL1xuICAgIGxldCBkZXZpY2VzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGl0ZW0gPSB0aGVBcnJheVtpXTtcbiAgICAgIGlmIChtYWMpIHtcbiAgICAgICAgZGV2aWNlc1tpdGVtLm1hY10gPSBpdGVtO1xuICAgICAgfSBlbHNlIGlmIChnY20pIHtcbiAgICAgICAgZGV2aWNlc1tpdGVtLmdjbWlkXSA9IGl0ZW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXZpY2VzW2l0ZW0uc2VyaWFsXSA9IGl0ZW07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZXZpY2VzO1xuICB9O1xuXG4gIGVkaXRJdGVtKGl0ZW0sIGZyb21EZXZpY2VzKSB7XG4gICAgaWYgKCFmcm9tRGV2aWNlcykge1xuICAgICAgZnJvbURldmljZXMgPSBmYWxzZVxuICAgIH1cbiAgICB0aGlzLiRzdGF0ZS5nbygnZWRpdERldmljZScsIHtcbiAgICAgIGRldmljZUtleTogaXRlbS5rZXksXG4gICAgICB0ZW5hbnRLZXk6IGl0ZW0udGVuYW50S2V5LFxuICAgICAgZnJvbURldmljZXM6IGZyb21EZXZpY2VzXG4gICAgfSk7XG4gIH1cblxuICBwcmVwcmF0ZUZvckVkaXRWaWV3KGJ1dHRvbiwgdGVuYW50S2V5LCBzZWFyY2hUZXh0LCBtYWNEZXZpY2VzLCBzZXJpYWxEZXZpY2VzLCBnY21pZERldmljZXMpIHtcbiAgICBsZXQgbWFjLCBzZXJpYWwsIGdjbWlkO1xuXG4gICAgbWFjID0gYnV0dG9uID09PSBcIk1BQ1wiO1xuICAgIHNlcmlhbCA9IGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG4gICAgZ2NtaWQgPSBidXR0b24gPT09IFwiR0NNIElEXCJcblxuICAgIGlmIChtYWMpIHtcbiAgICAgIHJldHVybiB0aGlzLmVkaXRJdGVtKG1hY0RldmljZXNbc2VhcmNoVGV4dF0pO1xuICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG4gICAgICByZXR1cm4gdGhpcy5lZGl0SXRlbShzZXJpYWxEZXZpY2VzW3NlYXJjaFRleHRdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0oZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgIH1cblxuICB9XG5cbiAgZ2V0SXNzdWVzQnlLZXkoZGV2aWNlS2V5LCBzdGFydEVwb2NoLCBlbmRFcG9jaCwgcHJldiwgbmV4dCkge1xuICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuICAgIG5leHQgPSBuZXh0ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBuZXh0O1xuICAgIGxldCB1cmwgPSBgL2ludGVybmFsL3YxL2RldmljZXMvJHtwcmV2fS8ke25leHR9LyR7ZGV2aWNlS2V5fS9pc3N1ZXM/c3RhcnQ9JHtzdGFydEVwb2NofSZlbmQ9JHtlbmRFcG9jaH1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRDb21tYW5kRXZlbnRzQnlLZXkoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgcHJldiA9IHByZXYgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IHByZXY7XG4gICAgbmV4dCA9IG5leHQgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IG5leHQ7XG4gICAgbGV0IHVybCA9IGAvaW50ZXJuYWwvdjEvcGxheWVyLWNvbW1hbmQtZXZlbnRzLyR7cHJldn0vJHtuZXh0fS8ke2RldmljZUtleX1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFRFTkFOVCBWSUVXXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgZ2V0RGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldiwgbmV4dCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IHRoaXMubWFrZURldmljZXNCeVRlbmFudFVSTCh0ZW5hbnRLZXksIHByZXYsIG5leHQsIGZhbHNlKTtcbiAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICB9XG4gIH1cblxuICBnZXRVbm1hbmFnZWREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgICBsZXQgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5VGVuYW50VVJMKHRlbmFudEtleSwgcHJldiwgbmV4dCwgdHJ1ZSk7XG4gICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbF9zZXJpYWwsIHVubWFuYWdlZCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvaW50ZXJuYWwvdjEvdGVuYW50cy9zZWFyY2gvJHt0ZW5hbnRLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX3NlcmlhbD0ke3BhcnRpYWxfc2VyaWFsfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvaW50ZXJuYWwvdjEvdGVuYW50cy9zZWFyY2gvJHt0ZW5hbnRLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX21hYz0ke3BhcnRpYWxfbWFjfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxfZ2NtaWQsIHVubWFuYWdlZCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvaW50ZXJuYWwvdjEvdGVuYW50cy9zZWFyY2gvJHt0ZW5hbnRLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX2djbWlkPSR7cGFydGlhbF9nY21pZH1gO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBERVZJQ0VTIFZJRVdcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPVxuICAgICAgICBgL2ludGVybmFsL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJHtkaXN0cmlidXRvcktleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfc2VyaWFsPSR7cGFydGlhbF9zZXJpYWx9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsX21hYywgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPVxuICAgICAgICBgL2ludGVybmFsL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJHtkaXN0cmlidXRvcktleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfbWFjPSR7cGFydGlhbF9tYWN9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZChkaXN0cmlidXRvcktleSwgcGFydGlhbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPVxuICAgICAgICBgL2ludGVybmFsL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJHtkaXN0cmlidXRvcktleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfZ2NtaWQ9JHtwYXJ0aWFsX2djbWlkfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBTRUFSQ0ggREVWSUNFUyBHTE9CQUxMWVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxHbG9iYWxseShwYXJ0aWFsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG4gICAgbGV0IHVybCA9IGAvaW50ZXJuYWwvdjEvZGV2aWNlcy9hbmFseXRpY3Mvc2VhcmNoLWdsb2JhbD91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfc2VyaWFsPSR7cGFydGlhbF9zZXJpYWx9YDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKFwiZGV2aWNlc1wiLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuXG4gIH1cblxuICBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuICAgIGxldCB1cmwgPSBgL2ludGVybmFsL3YxL2RldmljZXMvYW5hbHl0aWNzL3NlYXJjaC1nbG9iYWw/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX21hYz0ke3BhcnRpYWxfbWFjfWA7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybChcImRldmljZXNcIiwgdXJsKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcblxuICB9XG5cbiAgc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRHbG9iYWxseShwYXJ0aWFsX2djbWlkLCB1bm1hbmFnZWQpIHtcbiAgICBsZXQgdXJsID0gYC9pbnRlcm5hbC92MS9kZXZpY2VzL2FuYWx5dGljcy9zZWFyY2gtZ2xvYmFsP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mcGFydGlhbF9nY21pZD0ke3BhcnRpYWxfZ2NtaWR9YDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKFwiZGV2aWNlc1wiLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQpIHtcbiAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IHRoaXMubWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCBmYWxzZSk7XG4gICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQpIHtcbiAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IHRoaXMubWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCB0cnVlKTtcbiAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICB9XG4gIH1cblxuICBnZXREZXZpY2VzKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5TRVJWSUNFX05BTUUpLmdldExpc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHNhdmUoZGV2aWNlKSB7XG4gICAgaWYgKGRldmljZS5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByb21pc2UgPSBkZXZpY2UucHV0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdkZXZpY2VzJykucG9zdChkZXZpY2UpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHNhdmVPdmVybGF5U2V0dGluZ3MoZGV2aWNlX3VybHNhZmVfa2V5LCBib3R0b21fbGVmdCwgYm90dG9tX3JpZ2h0LCB0b3BfcmlnaHQsIHRvcF9sZWZ0KSB7XG4gICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICBib3R0b21fbGVmdCxcbiAgICAgIGJvdHRvbV9yaWdodCxcbiAgICAgIHRvcF9yaWdodCxcbiAgICAgIHRvcF9sZWZ0LFxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnb3ZlcmxheScsIGAvaW50ZXJuYWwvdjEvb3ZlcmxheS9kZXZpY2UvJHtkZXZpY2VfdXJsc2FmZV9rZXl9YCkuY3VzdG9tUE9TVChwYXlsb2FkKTtcbiAgfVxuXG4gIGRlbGV0ZShkZXZpY2VLZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKHRoaXMuU0VSVklDRV9OQU1FLCBkZXZpY2VLZXkpLnJlbW92ZSgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0UGFuZWxNb2RlbHMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ05vbmUnLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnTm9uZSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdTb255LUZYRDQwTFgyRicsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdTb255IEZYRDQwTFgyRidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdORUMtTENENDIxNScsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdORUMgTENENDIxNSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnUGhpbGxpcHMgQkRMNTU2MEVMJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ1BhbmFzb25pYy1USDU1TEY2VScsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdQYW5hc29uaWMgVEg1NUxGNlUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnTEctNDNTTTVCLUInLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnTEcgNDNTTTVCLUInXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnU2hhcnAtUE5FNTIxJyxcbiAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1NoYXJwIFBORTUyMSdcbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgZ2V0UGFuZWxJbnB1dHMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ05vbmUnLFxuICAgICAgICAncGFyZW50SWQnOiAnTm9uZSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdMRy00M1NNNUItQidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTb255LUZYRDQwTFgyRidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMicsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTb255LUZYRDQwTFgyRidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTInLFxuICAgICAgICAncGFyZW50SWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0RWSScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTEnLFxuICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkyJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1BhbmFzb25pYy1USDU1TEY2VSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdEVkknLFxuICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkxJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMicsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTaGFycC1QTkU1MjEnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnRFZJJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdWR0EnLFxuICAgICAgICAncGFyZW50SWQnOiAnTkVDLUxDRDQyMTUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnRFZJMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdORUMtTENENDIxNSdcbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgbWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCB1bm1hbmFnZWQpIHtcbiAgICBsZXQgdXJsID1cbiAgICAgIGAvaW50ZXJuYWwvdjEvZGlzdHJpYnV0b3JzLyR7ZGlzdHJpYnV0b3JLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZuZXh0X2N1cnNvcj0ke25leHR9JnByZXZfY3Vyc29yPSR7cHJldn1gO1xuICAgIHJldHVybiB1cmxcbiAgfVxuXG4gIG1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCB1bm1hbmFnZWQpIHtcbiAgICBsZXQgdXJsID0gYC9pbnRlcm5hbC92MS90ZW5hbnRzLyR7dGVuYW50S2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mbmV4dF9jdXJzb3I9JHtuZXh0fSZwcmV2X2N1cnNvcj0ke3ByZXZ9YDtcbiAgICByZXR1cm4gdXJsXG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvc2VydmljZXMvZGV2aWNlcy5zZXJ2aWNlLmpzIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlzdHJpYnV0b3JzU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIsICRzdGF0ZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG4gICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2U7XG4gICAgdGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFID0gJ2Rpc3RyaWJ1dG9ycyc7XG4gIH1cblxuICBzYXZlKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGVuYW50LnB1dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLnBvc3QodGVuYW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmZXRjaEFsbCgpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSkuZ2V0TGlzdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZmV0Y2hBbGxCeVVzZXIodXNlcktleSkge1xuICAgIGlmICh1c2VyS2V5KSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKCd1c2VycycsIHVzZXJLZXkpLmRvR0VUKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBnZXRCeUtleShrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgYGludGVybmFsL3YxL2Rpc3RyaWJ1dG9ycy8ke2tleX1gKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGRlbGV0ZShlbnRpdHkpIHtcbiAgICBpZiAoZW50aXR5LmtleSkge1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZSh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIGVudGl0eS5rZXkpLnJlbW92ZSgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgZ2V0QnlOYW1lKG5hbWUpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSkuZ2V0TGlzdCh7ZGlzdHJpYnV0b3JOYW1lOiBuYW1lfSk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXREb21haW5zQnlLZXkoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIGBpbnRlcm5hbC92MS9kaXN0cmlidXRvcnMvJHtrZXl9L2RvbWFpbnNgKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHN3aXRjaERpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yKSB7XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2Uuc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZShkaXN0cmlidXRvci5uYW1lKTtcbiAgICB0aGlzLlNlc3Npb25zU2VydmljZS5zZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoZGlzdHJpYnV0b3Iua2V5KTtcbiAgICByZXR1cm4gdGhpcy4kc3RhdGUuZ28oJ3dlbGNvbWUnKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9zZXJ2aWNlcy9kaXN0cmlidXRvcnMuc2VydmljZS5qcyIsImV4cG9ydCBkZWZhdWx0ICBjbGFzcyBEb21haW5zU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICB9XG5cbiAgc2F2ZShkb21haW4pIHtcbiAgICBpZiAoZG9tYWluLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IGRvbWFpbi5wdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2RvbWFpbnMnKS5wb3N0KGRvbWFpbik7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZmV0Y2hBbGxEb21haW5zKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwoJ2RvbWFpbnMnKS5nZXRMaXN0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXREb21haW5CeUtleShrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKCdkb21haW5zJywga2V5KS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldERpcmVjdG9yeUFwaUNvbm5lY3Rpdml0eUluZm9ybWF0aW9uKGtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2RvbWFpbnMnLCBgL2ludGVybmFsL3YxL2RvbWFpbnMvJHtrZXl9L2RpcmVjdG9yeV9hcGlgKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGRlbGV0ZShkb21haW4pIHtcbiAgICBpZiAoZG9tYWluLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKCdkb21haW5zJywgZG9tYWluLmtleSkucmVtb3ZlKCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL3NlcnZpY2VzL2RvbWFpbnMuc2VydmljZS5qcyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIElkZW50aXR5U2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcbiAgfVxuXG4gIGdldElkZW50aXR5KCkge1xuICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnaWRlbnRpdHknKS5nZXQoKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9zZXJ2aWNlcy9pZGVudGl0eS5zZXJ2aWNlLmpzIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZWdyYXRpb25FdmVudHMge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgICB0aGlzLkNSRUFURV9URU5BTlRfRVZFTlRTID0gJ2ludGVncmF0aW9uX2V2ZW50cy90ZW5hbnRfY3JlYXRlJztcbiAgICB0aGlzLkVOUk9MTE1FTlRfRVZFTlRTID0gJ2ludGVncmF0aW9uX2V2ZW50cy9lbnJvbGxtZW50JztcbiAgfVxuXG4gICBnZXRUZW5hbnRDcmVhdGVFdmVudHModGVuYW50S2V5KSB7XG4gICAgbGV0IHF1ZXJ5ID0ge1xuICAgICAgdGVuYW50S2V5XG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5DUkVBVEVfVEVOQU5UX0VWRU5UUykuY3VzdG9tR0VUKCcnLCBxdWVyeSk7XG4gIH1cblxuICBnZXRFbnJvbGxtZW50RXZlbnRzKGRldmljZUtleSkge1xuICAgIGxldCBxdWVyeSA9IHtcbiAgICAgIGRldmljZUtleVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRU5ST0xMTUVOVF9FVkVOVFMpLmN1c3RvbUdFVCgnJywgcXVlcnkpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL3NlcnZpY2VzL2ludGVncmF0aW9uLWV2ZW50cy5zZXJ2aWNlLmpzIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9jYXRpb25zU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcbiAgfVxuXG4gIHNhdmUobG9jYXRpb24pIHtcbiAgICBpZiAobG9jYXRpb24ua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBwcm9taXNlID0gbG9jYXRpb24ucHV0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdsb2NhdGlvbnMnKS5wb3N0KGxvY2F0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBzZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUodGVuYW50S2V5LCBjdXN0b21lcl9sb2NhdGlvbl9uYW1lKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgndGVuYW50cycpLmN1c3RvbUdFVExJU1QodGVuYW50S2V5ICsgXCIvbG9jYXRpb25zXCIsIHtjdXN0b21lcl9sb2NhdGlvbl9uYW1lOiBjdXN0b21lcl9sb2NhdGlvbl9uYW1lfSlcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldExvY2F0aW9uc0J5VGVuYW50S2V5KHRlbmFudEtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCBgaW50ZXJuYWwvdjEvdGVuYW50cy8ke3RlbmFudEtleX0vbG9jYXRpb25zYCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRMb2NhdGlvbnNCeVRlbmFudEtleVBhZ2luYXRlZCh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcbiAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcbiAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgYGludGVybmFsL3YxL3RlbmFudHMvJHt0ZW5hbnRLZXl9LyR7cHJldn0vJHtuZXh0fS9sb2NhdGlvbnNgKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldExvY2F0aW9uQnlLZXkobG9jYXRpb25LZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdsb2NhdGlvbnMnLCBgaW50ZXJuYWwvdjEvbG9jYXRpb25zLyR7bG9jYXRpb25LZXl9YCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvc2VydmljZXMvbG9jYXRpb25zLnNlcnZpY2UuanMiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9ncmVzc0JhclNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKG5nUHJvZ3Jlc3NGYWN0b3J5KSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLm5nUHJvZ3Jlc3NGYWN0b3J5ID0gbmdQcm9ncmVzc0ZhY3RvcnlcbiAgICB0aGlzLnByb2dyZXNzQmFyID0gdGhpcy5uZ1Byb2dyZXNzRmFjdG9yeS5jcmVhdGVJbnN0YW5jZSgpO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRDb2xvcignIzAwRkNGRicpO1xuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0SGVpZ2h0KCc0cHgnKTtcbiAgICByZXR1cm4gdGhpcy5wcm9ncmVzc0Jhci5zdGFydCgpO1xuICB9XG5cbiAgY29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NCYXIuY29tcGxldGUoKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9zZXJ2aWNlcy9wcm9ncmVzc2Jhci5zZXJ2aWNlLmpzIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvb2ZQbGF5U2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoJGh0dHAsXG4gICAgICAgICAgICAgICRxLFxuICAgICAgICAgICAgICAkd2luZG93LFxuICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRodHRwID0gJGh0dHBcbiAgICB0aGlzLiRxID0gJHFcbiAgICB0aGlzLiR3aW5kb3cgPSAkd2luZG93XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2VcbiAgICB0aGlzLiRzdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtc1xuICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlXG4gICAgdGhpcy5Ub2FzdHNTZXJ2aWNlID0gVG9hc3RzU2VydmljZVxuICAgIHRoaXMubWFrZUhUVFBSZXF1ZXN0ID0gdGhpcy5tYWtlSFRUUFJlcXVlc3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSArICh3aW5kb3cubG9jYXRpb24ucG9ydCA/ICc6JyArIHdpbmRvdy5sb2NhdGlvbi5wb3J0OiAnJyk7XG4gICAgaWYgKHRoaXMub3JpZ2luID09PSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiKSB7XG4gICAgICB0aGlzLm9yaWdpbiA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwXCJcbiAgICB9XG4gICAgdGhpcy51cmlCYXNlID0gJ3Byb29mcGxheS9hcGkvdjEnO1xuICB9XG5cbiAgbWFrZUhUVFBVUkwod2hlcmVfdG9fZ28sIHRlbmFudCkge1xuICAgIHJldHVybiB0aGlzLnVyaUJhc2UgKyB3aGVyZV90b19nbyArIHRlbmFudDtcbiAgfVxuXG4gIG1ha2VIVFRQUmVxdWVzdCh3aGVyZV90b19nbywgdGVuYW50KSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCB1cmwgPSB0aGlzLm1ha2VIVFRQVVJMKHdoZXJlX3RvX2dvLCB0ZW5hbnQpO1xuICAgIHJldHVybiB0aGlzLiRodHRwLmdldCh1cmwpO1xuICB9XG5cbiAgZ2V0QWxsUmVzb3VyY2VzKHRlbmFudCkge1xuICAgIGxldCByID0gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfYWxsX3Jlc291cmNlcy9cIiwgdGVuYW50KTtcbiAgICAvLyB0aGUgY2F0Y2ggaXMgb25seSBkb25lIGhlcmUgYmVjYXVzZSAzIHByb29mIG9mIHBsYXkgdmlld3MgYXJlIGluaXRpbGl6ZWQgYXQgdGhlIHNhbWUgdGltZVxuICAgIC8vIHNvIHRoaXMgY2F0Y2ggd2lsbCBiZSBkb25lIDMgdGltZXMgd2l0aCAzIGVycm9yIG1lc3NhZ2VzIGlmIHdlIGFkZCBpdCB0byBnZXRBbGxEaXNwbGF5cyBhbmQgZ2V0QWxsTG9jYXRpb25zXG4gICAgci5jYXRjaChmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICBsZXQge3N0YXR1c30gPSBlcnI7XG4gICAgICBpZiAoc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgdGhpcy5Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91IGFyZSBub3QgYWxsb3dlZCB0byB2aWV3IHRoaXMgdGVuYW50IVwiKTtcbiAgICAgICAgdGhpcy4kc3RhdGUuZ28oJ3Byb29mJywge30pO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHRoaXMuVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChcIllvdSBtdXN0IHNlbGVjdCBhIHRlbmFudCBmaXJzdCFcIik7XG4gICAgICAgIHJldHVybiB0aGlzLiRzdGF0ZS5nbygncHJvb2YnLCB7fSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gci50aGVuKGRhdGEgPT4gZGF0YSk7XG4gIH1cblxuXG4gIGdldEFsbERpc3BsYXlzKHRlbmFudCkge1xuICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfZGlzcGxheXMvXCIsIHRlbmFudCk7XG4gIH1cblxuXG4gIGdldEFsbExvY2F0aW9ucyh0ZW5hbnQpIHtcbiAgICByZXR1cm4gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfYWxsX2xvY2F0aW9ucy9cIiwgdGVuYW50KTtcbiAgfVxuXG5cbiAgZ2V0QWxsVGVuYW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfbXlfdGVuYW50c1wiLCAnJyk7XG4gIH1cblxuXG4gIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURhdGUoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIHJlc291cmNlcywgdGVuYW50KSB7XG4gICAgbGV0IGFsbFJlc291cmNlcyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gcmVzb3VyY2VzW2ldO1xuICAgICAgYWxsUmVzb3VyY2VzID0gYWxsUmVzb3VyY2VzICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMub3JpZ2luICsgXCIvXCIgKyB0aGlzLnVyaUJhc2UgKyAnL211bHRpX3Jlc291cmNlX2J5X2RhdGUvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbFJlc291cmNlcyArICcvJyArXG4gICAgICB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpXG5cbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cblxuICBkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEZXZpY2Uoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIHJlc291cmNlcywgdGVuYW50KSB7XG4gICAgbGV0IGFsbFJlc291cmNlcyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gcmVzb3VyY2VzW2ldO1xuICAgICAgYWxsUmVzb3VyY2VzID0gYWxsUmVzb3VyY2VzICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMub3JpZ2luICsgXCIvXCIgKyB0aGlzLnVyaUJhc2UgKyAnL211bHRpX3Jlc291cmNlX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsUmVzb3VyY2VzICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cblxuICBkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGRldmljZXMsIHRlbmFudCkge1xuICAgIGxldCBhbGxEZXZpY2VzID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRldmljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gZGV2aWNlc1tpXTtcbiAgICAgIGFsbERldmljZXMgPSBhbGxEZXZpY2VzICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMub3JpZ2luICsgXCIvXCIgKyB0aGlzLnVyaUJhc2UgKyAnL211bHRpX2RldmljZV9zdW1tYXJpemVkLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxEZXZpY2VzICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cblxuICBkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgZGV2aWNlcywgdGVuYW50KSB7XG4gICAgbGV0IGFsbERldmljZXMgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGV2aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSBkZXZpY2VzW2ldO1xuICAgICAgYWxsRGV2aWNlcyA9IGFsbERldmljZXMgKyBcInxcIiArIGVhY2g7XG4gICAgfVxuXG4gICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy5vcmlnaW4gKyBcIi9cIiArIHRoaXMudXJpQmFzZSArICcvbXVsdGlfZGV2aWNlX2J5X2RhdGUvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbERldmljZXMgKyAnLycgK1xuICAgICAgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKVxuICAgICAgLCAnX2JsYW5rJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2Uoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGxvY2F0aW9ucywgdGVuYW50KSB7XG4gICAgbGV0IGFsbExvY2F0aW9ucyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gbG9jYXRpb25zW2ldO1xuICAgICAgYWxsTG9jYXRpb25zID0gYWxsTG9jYXRpb25zICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMub3JpZ2luICsgXCIvXCIgKyB0aGlzLnVyaUJhc2UgKyAnL211bHRpX2xvY2F0aW9uX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGxvY2F0aW9ucywgdGVuYW50KSB7XG4gICAgbGV0IGFsbExvY2F0aW9ucyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gbG9jYXRpb25zW2ldO1xuICAgICAgYWxsTG9jYXRpb25zID0gYWxsTG9jYXRpb25zICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMub3JpZ2luICsgXCIvXCIgKyB0aGlzLnVyaUJhc2UgKyAnL211bHRpX2xvY2F0aW9uX3N1bW1hcml6ZWQvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbExvY2F0aW9ucyArICcvJyArXG4gICAgICB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpXG4gICAgICAsICdfYmxhbmsnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGNyZWF0ZUZpbHRlckZvcihxdWVyeSkge1xuICAgIHF1ZXJ5ID0gYW5ndWxhci5sb3dlcmNhc2UocXVlcnkpO1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICAgIHJlc291cmNlID0gYW5ndWxhci5sb3dlcmNhc2UocmVzb3VyY2UpO1xuICAgICAgcmV0dXJuIChyZXNvdXJjZS5pbmRleE9mKHF1ZXJ5KSA9PT0gMCk7XG4gICAgfTtcbiAgfVxuXG4gIHF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuICAgIGlmIChzZWFyY2hUZXh0KSB7XG4gICAgICByZXR1cm4gcmVzb3VyY2VzLmZpbHRlcih0aGlzLmNyZWF0ZUZpbHRlckZvcihzZWFyY2hUZXh0KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXNvdXJjZXM7XG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL3NlcnZpY2VzL3Byb29mcGxheS5zZXJ2aWNlLmpzIiwiaW1wb3J0IGp3dF9kZWNvZGUgZnJvbSAnand0LWRlY29kZSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2Vzc2lvbnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcigkaHR0cCwgJGxvZywgU3RvcmFnZVNlcnZpY2UsIElkZW50aXR5U2VydmljZSwgUmVzdGFuZ3VsYXIsICRxLCBzd2VldCkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy4kaHR0cCA9ICRodHRwXG4gICAgdGhpcy4kbG9nID0gJGxvZ1xuICAgIHRoaXMuU3RvcmFnZVNlcnZpY2UgPSBTdG9yYWdlU2VydmljZVxuICAgIHRoaXMuSWRlbnRpdHlTZXJ2aWNlID0gSWRlbnRpdHlTZXJ2aWNlXG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy4kcSA9ICRxXG4gICAgdGhpcy51cmlCYXNlID0gJ3YxL3Nlc3Npb25zJztcbiAgfVxuXG4gIHNldEpXVChKV1Qpe1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldChcIkpXVFwiLCBKV1QpXG4gIH1cblxuICBzZXREaXN0cmlidXRvcnMoZGlzdHJpYnV0b3JzKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnMnLCBkaXN0cmlidXRvcnMpO1xuICB9XG5cbiAgc2V0RGlzdHJpYnV0b3JzQXNBZG1pbihkaXN0cmlidXRvcnNBc0FkbWluKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnNBc0FkbWluJywgZGlzdHJpYnV0b3JzQXNBZG1pbik7XG4gIH1cblxuICBzZXRJc0FkbWluKGlzQWRtaW4pIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2lzQWRtaW4nLCBpc0FkbWluKTtcbiAgfVxuXG4gIHNldFVzZXJLZXkodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJLZXknLCB2YWx1ZSk7XG4gIH1cblxuICBzZXRVc2VyRW1haWwodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJFbWFpbCcsIHZhbHVlKTtcbiAgfVxuXG4gIHNldEN1cnJlbnREaXN0cmlidXRvcktleSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5JywgdmFsdWUpO1xuICB9XG5cbiAgc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnY3VycmVudERpc3RyaWJ1dG9yTmFtZScsIHZhbHVlKTtcbiAgfVxuXG4gIGdldFVzZXJLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5Jyk7XG4gIH1cblxuICBnZXRVc2VyRW1haWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyRW1haWwnKTtcbiAgfVxuXG4gIGdldERpc3RyaWJ1dG9ycygpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2Rpc3RyaWJ1dG9ycycpO1xuICB9XG5cbiAgZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvck5hbWUnKTtcbiAgfVxuXG4gIGdldEN1cnJlbnREaXN0cmlidXRvcktleSgpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScpO1xuICB9XG5cbiAgZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2Rpc3RyaWJ1dG9yc0FzQWRtaW4nKTtcbiAgfVxuXG4gIGdldElzQWRtaW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdpc0FkbWluJyk7XG4gIH1cblxuICBnZXRKV1QoKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KFwiSldUXCIpXG4gIH1cblxuICBsb2dpbihjcmVkZW50aWFscykge1xuICAgIC8vIHJlcXVlc3QgaW50ZXJjZXB0b3IgY2hlY2tzIHRoaXNcbiAgICB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnb0F1dGgnLCBjcmVkZW50aWFscy5pZF90b2tlbilcblxuICAgIGxldCBwcm9taXNlID0gdGhpcy4kaHR0cCh7dXJsOiAnL2ludGVybmFsL3YxL2xvZ2luJywgbWV0aG9kOiAnR0VUJ30pXG4gICAgcmV0dXJuIHByb21pc2UudGhlbigocmVzKSA9PiB7XG4gICAgICBsZXQgZGF0YSA9IGp3dF9kZWNvZGUocmVzLmRhdGEudG9rZW4pO1xuICAgICAgdGhpcy5zZXRKV1QocmVzLmRhdGEudG9rZW4pXG4gICAgICB0aGlzLnNldERpc3RyaWJ1dG9ycyhkYXRhWydkaXN0cmlidXRvcnMnXSk7XG4gICAgICB0aGlzLnNldERpc3RyaWJ1dG9yc0FzQWRtaW4oZGF0YVsnZGlzdHJpYnV0b3JzX2FzX2FkbWluJ10pO1xuICAgICAgdGhpcy5zZXRJc0FkbWluKGRhdGFbJ2lzX2FkbWluJ10pO1xuICAgICAgdGhpcy5zZXRVc2VyRW1haWwoZGF0YVsnZW1haWwnXSk7XG4gICAgICB0aGlzLnNldFVzZXJLZXkoZGF0YVsna2V5J10pO1xuICAgIH0pXG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2UgY291bGRuJ3QgbG9nIHlvdSBpbiA6KC4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnRcIiwgJ2Vycm9yJyk7XG4gICAgfSlcbiAgfVxuXG4gIHJlbW92ZVVzZXJJbmZvKCkge1xuICAgIHRoaXMuU3RvcmFnZVNlcnZpY2UucmVtb3ZlQWxsKCk7XG4gIH1cbn1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9zZXJ2aWNlcy9zZXNzaW9ucy5zZXJ2aWNlLmpzIiwiaW1wb3J0IExvY2tyIGZyb20gJ2xvY2tyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmFnZVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gTG9ja3Iuc2V0KGtleSwgdmFsdWUpO1xuICB9XG5cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiBMb2Nrci5nZXQoa2V5KTtcbiAgfVxuXG4gIHJtKGtleSkge1xuICAgIHJldHVybiBMb2Nrci5ybShrZXkpO1xuICB9XG5cbiAgcmVtb3ZlQWxsKCkge1xuICAgIExvY2tyLmZsdXNoKCk7XG4gIH1cblxufVxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL3NlcnZpY2VzL3N0b3JhZ2Uuc2VydmljZS5qcyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlbmFudHNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhciwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2U7XG4gIH1cblxuICBzYXZlKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGVuYW50LnB1dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSgndGVuYW50cycpLnBvc3QodGVuYW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBzYXZlT3ZlcmxheVNldHRpbmdzKHRlbmFudF91cmxzYWZlX2tleSwgYm90dG9tX2xlZnQsIGJvdHRvbV9yaWdodCwgdG9wX3JpZ2h0LCB0b3BfbGVmdCkge1xuICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgYm90dG9tX2xlZnQsXG4gICAgICBib3R0b21fcmlnaHQsXG4gICAgICB0b3BfcmlnaHQsXG4gICAgICB0b3BfbGVmdCxcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdvdmVybGF5JywgYC9pbnRlcm5hbC92MS9vdmVybGF5L3RlbmFudC8ke3RlbmFudF91cmxzYWZlX2tleX1gKS5jdXN0b21QT1NUKHBheWxvYWQpO1xuICB9XG5cbiAgb3ZlcmxheUFwcGx5VGVuYW50KHRlbmFudF91cmxzYWZlX2tleSkge1xuICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnb3ZlcmxheScsIGAvaW50ZXJuYWwvdjEvb3ZlcmxheS90ZW5hbnQvJHt0ZW5hbnRfdXJsc2FmZV9rZXl9L2FwcGx5YCkucG9zdCgpO1xuICB9XG5cbiAgc2VhcmNoQWxsVGVuYW50c0J5TmFtZSh0ZW5hbnRfbmFtZSwgYWxsRGlzdHJpYnV0b3JzKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgndGVuYW50cycpLmN1c3RvbUdFVExJU1QoXCJcIiwge1xuICAgICAgdGVuYW50X25hbWU6IHRlbmFudF9uYW1lLCBhbGxEaXN0cmlidXRvcnM6IGFsbERpc3RyaWJ1dG9yc1xuICAgIH0pXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmZXRjaEFsbFRlbmFudHMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgndGVuYW50cycpLmdldExpc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGZldGNoQWxsVGVuYW50c1BhZ2luYXRlZChwYWdlX3NpemUsIG9mZnNldCkge1xuICAgIGxldCB1cmwgPSBgaW50ZXJuYWwvdjEvdGVuYW50cy9wYWdpbmF0ZWQvJHtwYWdlX3NpemV9LyR7b2Zmc2V0fWA7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRUZW5hbnRCeUtleSh0ZW5hbnRLZXkpIHtcbiAgICBsZXQgdXJsID0gYGludGVybmFsL3YxL3RlbmFudHMvJHt0ZW5hbnRLZXl9YDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgdXJsKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGRlbGV0ZSh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKCd0ZW5hbnRzJywgdGVuYW50LmtleSkucmVtb3ZlKCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cbn1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9zZXJ2aWNlcy90ZW5hbnRzLnNlcnZpY2UuanMiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUaW1lem9uZXNTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICB9XG5cbiAgZ2V0VXNUaW1lem9uZXMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGltZXpvbmVzJywgJ2ludGVybmFsL3YxL3RpbWV6b25lcy91cycpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0QWxsVGltZXpvbmVzKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RpbWV6b25lcycsICdpbnRlcm5hbC92MS90aW1lem9uZXMvYWxsJykuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRDdXN0b21UaW1lem9uZXMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGltZXpvbmVzJywgJ2ludGVybmFsL3YxL3RpbWV6b25lcy9jdXN0b20nKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvc2VydmljZXMvdGltZXpvbmVzLnNlcnZpY2UuanMiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUb2FzdHNTZXJ2aWNlIHtcbiAgXG4gIGNvbnN0cnVjdG9yKHRvYXN0cikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy50b2FzdHIgPSB0b2FzdHI7XG4gIH1cblxuICBzaG93U3VjY2Vzc1RvYXN0KG1lc3NhZ2UsIHRpdGxlID0gJ1N1Y2Nlc3MhJykge1xuICAgIHJldHVybiB0aGlzLnRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UsIHRpdGxlKTtcbiAgfVxuXG4gIHNob3dFcnJvclRvYXN0KG1lc3NhZ2UsIHRpdGxlID0gJ0Vycm9yIScpIHtcbiAgICByZXR1cm4gdGhpcy50b2FzdHIuZXJyb3IobWVzc2FnZSwgdGl0bGUpO1xuICB9XG5cbiAgc2hvd0luZm9Ub2FzdChtZXNzYWdlLCB0aXRsZSA9ICdJbmZvcm1hdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy50b2FzdHIuaW5mbyhtZXNzYWdlLCB0aXRsZSk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvc2VydmljZXMvdG9hc3RzLnNlcnZpY2UuanMiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWZXJzaW9uc1NlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgfVxuXG4gIGdldFZlcnNpb25zKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3ZlcnNpb25zJykuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvc2VydmljZXMvdmVyc2lvbnMuc2VydmljZS5qcyIsImZ1bmN0aW9uIFRlbmFudExvZ3NDdHJsKCRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFRlbmFudHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgSW50ZWdyYXRpb25FdmVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgJHNjb3BlLnRhYkluZGV4ID0gNTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuICB0ZW5hbnRQcm9taXNlLnRoZW4oZGF0YSA9PiB7XG4gICAgdm0uY3VycmVudFRlbmFudCA9IGRhdGFcbiAgfSk7XG5cbiAgdm0ubG9jYWxGcm9tVXRjID0gZnVuY3Rpb24gKGV2ZW50cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGV2ZW50c1tpXTtcbiAgICAgIGlmIChlYWNoLnV0Y1RpbWVzdGFtcCkge1xuICAgICAgICBlYWNoLnV0Y1RpbWVzdGFtcCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gudXRjVGltZXN0YW1wKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9O1xuXG4gIHZtLmdldFRlbmFudENyZWF0ZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgZW5yb2xsbWVudEV2ZW50c1Byb21pc2UgPSBJbnRlZ3JhdGlvbkV2ZW50cy5nZXRUZW5hbnRDcmVhdGVFdmVudHModm0udGVuYW50S2V5KTtcbiAgICBlbnJvbGxtZW50RXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS50ZW5hbnRDcmVhdGVFdmVudHMgPSBkYXRhO1xuICAgICAgdm0ubG9jYWxGcm9tVXRjKGRhdGEpO1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBTZXR1cFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PiB7XG4gICAgdm0uZ2V0VGVuYW50Q3JlYXRlRXZlbnRzKClcbiAgfVxuXG4gICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG4gICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN3aXRjaCAodG9UYWIpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7VGVuYW50TG9nc0N0cmx9XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9ncy5jb250cm9sbGVyLmpzIiwiaW1wb3J0IG5hdHVyYWxTb3J0IGZyb20gJ2phdmFzY3JpcHQtbmF0dXJhbC1zb3J0JztcblxuXG5mdW5jdGlvbiBUZW5hbnRPdmVybGF5c0N0cmwoJHN0YXRlUGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlbmFudHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3RzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSW1hZ2VTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtZERpYWxvZykge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgJHNjb3BlLnRhYkluZGV4ID0gNDtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG4gIGxldCB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodm0udGVuYW50S2V5KTtcbiAgdGVuYW50UHJvbWlzZS50aGVuKGRhdGEgPT4ge1xuICAgIHZtLmN1cnJlbnRUZW5hbnQgPSBkYXRhXG4gIH0pO1xuXG4gIHZtLm92ZXJsYXlDaGFuZ2VkID0gZmFsc2U7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBPdmVybGF5c1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLmFkanVzdE92ZXJsYXlTdGF0dXMgPSAoc3RhdHVzKSA9PiB7XG4gICAgdm0uY3VycmVudFRlbmFudC5vdmVybGF5U3RhdHVzID0gc3RhdHVzXG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgdm0ubG9hZGluZ092ZXJsYXlzID0gdHJ1ZTtcbiAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNhdmUodm0uY3VycmVudFRlbmFudCk7XG4gICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpXG4gICAgICBsZXQgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KCRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkpO1xuICAgICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICAgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gZmFsc2U7XG4gICAgICAgIHZtLm9uU3VjY2Vzc1Jlc29sdmluZ1RlbmFudCh0ZW5hbnQpO1xuICAgICAgfSk7XG4gICAgfSlcbiAgICBwcm9taXNlLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcbiAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICB9KVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdm0udXBkYXRlT3ZlcmxheXMgPSAoKSA9PiB7XG4gICAgdm0ubG9hZGluZ092ZXJsYXlzID0gdHJ1ZTtcbiAgICBsZXQgdGVuYW50UHJvbWlzZSA9IHZtLmdldFRlbmFudCgpO1xuICAgIHRlbmFudFByb21pc2UudGhlbigodGVuYW50KSA9PiB7XG4gICAgICB2bS5vdmVybGF5Q2hhbmdlZCA9IGZhbHNlO1xuICAgICAgdm0uY3VycmVudFRlbmFudC5vdmVybGF5cyA9IHRlbmFudC5vdmVybGF5cztcbiAgICAgIHZtLmN1cnJlbnRUZW5hbnRDb3B5Lm92ZXJsYXlzID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnRUZW5hbnQub3ZlcmxheXMpO1xuICAgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gZmFsc2U7XG4gICAgfSlcbiAgICByZXR1cm4gdGVuYW50UHJvbWlzZTtcbiAgfVxuXG4gIHZtLnN1Ym1pdE92ZXJsYXlTZXR0aW5ncyA9ICgpID0+IHtcbiAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSB0cnVlO1xuXG4gICAgbGV0IG92ZXJsYXlTZXR0aW5ncyA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50VGVuYW50Q29weS5vdmVybGF5cylcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNhdmVPdmVybGF5U2V0dGluZ3MoXG4gICAgICB2bS50ZW5hbnRLZXksXG4gICAgICBvdmVybGF5U2V0dGluZ3MuYm90dG9tX2xlZnQsXG4gICAgICBvdmVybGF5U2V0dGluZ3MuYm90dG9tX3JpZ2h0LFxuICAgICAgb3ZlcmxheVNldHRpbmdzLnRvcF9yaWdodCxcbiAgICAgIG92ZXJsYXlTZXR0aW5ncy50b3BfbGVmdFxuICAgICk7XG5cbiAgICBsZXQgdXBkYXRlT3ZlcmxheVByb21pc2VEZWZlcnJlZCA9ICgpID0+IHtcbiAgICAgIGxldCB1cGRhdGVPdmVybGF5UHJvbWlzZSA9IHZtLnVwZGF0ZU92ZXJsYXlzKCk7XG4gICAgICB1cGRhdGVPdmVybGF5UHJvbWlzZS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcbiAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB1cGRhdGVPdmVybGF5UHJvbWlzZTtcbiAgICB9O1xuXG4gICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICR0aW1lb3V0KHVwZGF0ZU92ZXJsYXlQcm9taXNlRGVmZXJyZWQsIDEwMDApXG4gICAgfSlcblxuICAgIHByb21pc2UuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuICAgIH0pXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH07XG5cbiAgdm0uYXBwbHlUZW5hbnRPdmVybGF5ID0gKGV2KSA9PiB7XG4gICAgbGV0IGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybShcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6IGBBcmUgeW91IHN1cmU/YCxcbiAgICAgICAgdGV4dENvbnRlbnQ6IGBFYWNoIGRldmljZSBpbiB5b3VyIFRlbmFudCB3aWxsIGhhdmUgdGhlIGN1cnJlbnQgT3ZlcmxheSBUZW1wbGF0ZSBhcHBsaWVkIGFzIGl0cyBzZXR0aW5ncy5gLFxuICAgICAgICB0YXJnZXRFdmVudDogZXYsXG4gICAgICAgIGFyaWFMYWJlbDogJ0x1Y2t5IGRheScsXG4gICAgICAgIG9rOiAnQ29uZmlybScsXG4gICAgICAgIGNhbmNlbDogJ05ldmVybWluZCdcbiAgICAgIH1cbiAgICApO1xuXG4gICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbigoZnVuY3Rpb24gKCkge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLm92ZXJsYXlBcHBseVRlbmFudCh2bS50ZW5hbnRLZXkpXG4gICAgICBwcm9taXNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBsZXQgbWVzc2FnZSA9ICdZb3VyIFRlbmFudCBPdmVybGF5IFNldHRpbmdzIGFyZSBiZWluZyBhcHBsaWVkIHRvIGVhY2ggZGV2aWNlIGluIHlvdXIgVGVuYW50LiBQbGVhc2Ugd2FpdCBwYXRpZW50bHkgZm9yIHRoaXMgcHJvY2VzcyB0byBjb21wbGV0ZS4nXG4gICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChtZXNzYWdlKTtcbiAgICAgICAgdm0ubG9hZGluZyA9IHRydWU7XG4gICAgICAgIHZtLmdldFRlbmFudCgpO1xuICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKVxuICAgICAgfSlcbiAgICAgIHByb21pc2UuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKVxuICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfSkpXG5cbiAgfVxuXG4gIHZtLmNoZWNrRm9yT3ZlcmxheUNoYW5nZXMgPSAoKSA9PiB7XG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudFRlbmFudE92ZXJsYXlzID0gdm0uY3VycmVudFRlbmFudC5vdmVybGF5cztcbiAgICBsZXQgY3VycmVudFRlbmFudENvcHlPdmVybGF5cyA9IHZtLmN1cnJlbnRUZW5hbnRDb3B5Lm92ZXJsYXlzO1xuICAgIGxldCBwb3NpdGlvbnMgPSBbJ3RvcF9sZWZ0JywgJ3RvcF9yaWdodCcsICdib3R0b21fcmlnaHQnLCAnYm90dG9tX2xlZnQnXTtcblxuICAgIGZvciAobGV0IHBvcyBvZiBwb3NpdGlvbnMpIHtcbiAgICAgIGlmIChjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS5zaXplICE9PSBjdXJyZW50VGVuYW50Q29weU92ZXJsYXlzW3Bvc10uc2l6ZSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS50eXBlICE9PSBjdXJyZW50VGVuYW50Q29weU92ZXJsYXlzW3Bvc10udHlwZSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS50eXBlID09PSAnbG9nbycpIHtcbiAgICAgICAgaWYgKChjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS50eXBlICsgXCI6IFwiICsgY3VycmVudFRlbmFudE92ZXJsYXlzW3Bvc10ubmFtZSkgIT09IGN1cnJlbnRUZW5hbnRDb3B5T3ZlcmxheXNbcG9zXS5uYW1lKSB7XG4gICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2bS5vdmVybGF5Q2hhbmdlZCA9IGNoYW5nZWQ7XG5cbiAgfVxuXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBJbWFnZXNcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5zdWJtaXRJbWFnZSA9ICgpID0+IHtcbiAgICBpZiAodm0uc2VsZWN0ZWRMb2dvICYmIHZtLnNlbGVjdGVkTG9nb1swXSkge1xuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBsZXQgdmFsaWRGaWxlID0gdHJ1ZTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2bS5zZWxlY3RlZExvZ28sIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgaWYgKG9iai5sZkZpbGUuc2l6ZSA8IDE1MDAwMDAwKSB7XG4gICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlcycsIG9iai5sZkZpbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZtLmZpbGVBcGkucmVtb3ZlQWxsKClcbiAgICAgICAgICB2YWxpZEZpbGUgPSBmYWxzZTtcbiAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdZb3VyIGltYWdlIGlzIGxhcmdlciB0aGFuIDE1IE1CLiBQbGVhc2UgY2hvb3NlIGEgc21hbGxlciBpbWFnZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKHZhbGlkRmlsZSkge1xuICAgICAgICBsZXQgcHJvbWlzZSA9IEltYWdlU2VydmljZS5zYXZlSW1hZ2Uodm0udGVuYW50S2V5LCBmb3JtRGF0YSlcbiAgICAgICAgcHJvbWlzZS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgICAgICAkdGltZW91dCh2bS5nZXRUZW5hbnRJbWFnZXMsIDEwMDApO1xuICAgICAgICAgIHZtLmZpbGVBcGkucmVtb3ZlQWxsKClcbiAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHVwbG9hZGVkIHlvdXIgaW1hZ2UuJyk7XG4gICAgICAgIH0pXG4gICAgICAgIHByb21pc2UuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBZb3UgbWF5IGhhdmUgYWxyZWFkeSB1cGxvYWRlZCB0aGlzIGltYWdlLicpO1xuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2bS5nZXRUZW5hbnRJbWFnZXNBbmRSZWxvYWRUZW5hbnRBZnRlckRlbGV0ZSA9ICgpID0+IHtcbiAgICBsZXQgdGVuYW50SW1hZ2VQcm9taXNlID0gdm0uZ2V0VGVuYW50SW1hZ2VzKCk7XG4gICAgdGVuYW50SW1hZ2VQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgbGV0IHVwZGF0ZU92ZXJsYXlQcm9taXNlID0gdm0udXBkYXRlT3ZlcmxheXMoKTtcbiAgICAgIHVwZGF0ZU92ZXJsYXlQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIGRlbGV0ZWQgeW91ciBpbWFnZS4nKTtcbiAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICB2bS5kZWxldGVJbWFnZSA9IChldiwgbmFtZSwga2V5KSA9PiB7XG4gICAgbGV0IGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybShcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6IGBBcmUgeW91IHN1cmU/YCxcbiAgICAgICAgdGV4dENvbnRlbnQ6IGBJZiB5b3UgcHJvY2VlZCwgJHtuYW1lfSB3aWxsIGJlIGRlbGV0ZWQgYW5kIHJlbW92ZWQgZnJvbSBhbGwgZGV2aWNlcyB0aGF0IHVzZSBpdC5gLFxuICAgICAgICB0YXJnZXRFdmVudDogZXYsXG4gICAgICAgIGFyaWFMYWJlbDogJ0x1Y2t5IGRheScsXG4gICAgICAgIG9rOiAnQ29uZmlybScsXG4gICAgICAgIGNhbmNlbDogJ05ldmVybWluZCdcbiAgICAgIH1cbiAgICApO1xuXG4gICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbigoZnVuY3Rpb24gKCkge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgICBsZXQgcHJvbWlzZSA9IEltYWdlU2VydmljZS5kZWxldGVJbWFnZShrZXkpXG4gICAgICBwcm9taXNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAkdGltZW91dCh2bS5nZXRUZW5hbnRJbWFnZXNBbmRSZWxvYWRUZW5hbnRBZnRlckRlbGV0ZSwgMTAwMCk7XG4gICAgICB9KVxuICAgICAgcHJvbWlzZS5jYXRjaCgocmVzKSA9PiB7XG4gICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIGRlbGV0aW5nIHlvdXIgaW1hZ2UuJyk7XG4gICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgfSlcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH0pKVxuICB9O1xuXG4gIHZtLmdldFRlbmFudEltYWdlcyA9ICgpID0+IHtcbiAgICB2bS5PVkVSTEFZX1RZUEVTID0gW1xuICAgICAge3NpemU6IG51bGwsIHR5cGU6IG51bGwsIG5hbWU6IFwibm9uZVwiLCByZWFsTmFtZTogXCJub25lXCIsIG5ldzogZmFsc2UsIGltYWdlX2tleTogbnVsbH0sXG4gICAgICB7c2l6ZTogbnVsbCwgdHlwZTogXCJkYXRldGltZVwiLCBuYW1lOiBcImRhdGV0aW1lXCIsIHJlYWxOYW1lOiBcImRhdGV0aW1lXCIsIG5ldzogdHJ1ZSwgaW1hZ2Vfa2V5OiBudWxsfSxcbiAgICBdXG5cbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IEltYWdlU2VydmljZS5nZXRJbWFnZXModm0udGVuYW50S2V5KTtcbiAgICBwcm9taXNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdm0udGVuYW50SW1hZ2VzID0gcmVzXG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIGZvciAobGV0IHZhbHVlIG9mIHZtLnRlbmFudEltYWdlcykge1xuICAgICAgICBmb3IgKGxldCBzaXplT3B0aW9uIG9mIFtcInNtYWxsXCIsIFwibGFyZ2VcIl0pIHtcbiAgICAgICAgICBsZXQgbmV3VmFsdWUgPSB7XG4gICAgICAgICAgICByZWFsTmFtZTogYW5ndWxhci5jb3B5KHZhbHVlLm5hbWUpLFxuICAgICAgICAgICAgbmFtZTogXCJsb2dvOiBcIiArIHZhbHVlLm5hbWUsXG4gICAgICAgICAgICB0eXBlOiBcImxvZ29cIixcbiAgICAgICAgICAgIHNpemU6IHNpemVPcHRpb24sXG4gICAgICAgICAgICBpbWFnZV9rZXk6IHZhbHVlLmtleVxuICAgICAgICAgIH1cbiAgICAgICAgICB2bS5PVkVSTEFZX1RZUEVTLnB1c2gobmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2bS5PVkVSTEFZX1RZUEVTLnNvcnQobmF0dXJhbFNvcnQpO1xuXG4gICAgfSk7XG5cbiAgICBwcm9taXNlLmNhdGNoKCgpID0+IHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JTdGF0dXMoXCJTT01FVEhJTkcgV0VOVCBXUk9ORyBSRVRSSUVWSU5HIFlPVVIgSU1BR0VTXCIpXG4gICAgfSlcblxuICAgIHJldHVybiBwcm9taXNlXG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gU2V0dXBcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdm0ub25TdWNjZXNzUmVzb2x2aW5nVGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuICAgIHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQ7XG4gICAgdm0uY3VycmVudFRlbmFudENvcHkgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudFRlbmFudCk7XG4gICAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHRlbmFudC5kZWZhdWx0X3RpbWV6b25lO1xuXG4gIH07XG5cbiAgdm0uZ2V0VGVuYW50ID0gKCkgPT4ge1xuICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IHRydWU7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSgkc3RhdGVQYXJhbXMudGVuYW50S2V5KTtcbiAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuICAgICAgdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcbiAgICAgIGlmICh2bS5jdXJyZW50VGVuYW50Lm92ZXJsYXlzVXBkYXRlSW5Qcm9ncmVzcykge1xuICAgICAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgJHRpbWVvdXQodm0uZ2V0VGVuYW50LCAzMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH07XG4gICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcbiAgICAgIHZtLmN1cnJlbnRUZW5hbnRDb3B5ID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnRUZW5hbnQpO1xuICAgIH0pXG4gICAgcmV0dXJuIHRlbmFudFByb21pc2VcbiAgfVxuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PiB7XG4gICAgdm0uZ2V0VGVuYW50SW1hZ2VzKClcbiAgICB2bS5nZXRUZW5hbnQoKVxuICB9XG5cbiAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcbiAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoICh0b1RhYikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtUZW5hbnRPdmVybGF5c0N0cmx9XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtb3ZlcmxheXMuY29udHJvbGxlci5qcyIsImZ1bmN0aW9uIFRlbmFudEFkZEN0cmwoJGxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICBUZW5hbnRzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgRGlzdHJpYnV0b3JzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgVGltZXpvbmVzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmdhbWVTdG9wU2VydmVyID0gJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xO1xuICB2bS5jdXJyZW50VGVuYW50ID0ge1xuICAgIGtleTogdW5kZWZpbmVkLFxuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG4gICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcbiAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuICAgIHByb29mX29mX3BsYXlfdXJsOiB1bmRlZmluZWQsXG4gICAgYWN0aXZlOiB0cnVlLFxuICAgIG91X2NyZWF0ZTogdHJ1ZVxuICB9O1xuICB2bS5zZWxlY3RlZERvbWFpbiA9IHVuZGVmaW5lZDtcbiAgdm0uZGlzdHJpYnV0b3JEb21haW5zID0gW107XG4gIHZtLnRpbWV6b25lcyA9IFtdO1xuICB2bS5zZWxlY3RlZFRpbWV6b25lID0gJ0FtZXJpY2EvQ2hpY2Fnbyc7XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgdGltZXpvbmVQcm9taXNlID0gVGltZXpvbmVzU2VydmljZS5nZXRDdXN0b21UaW1lem9uZXMoKTtcbiAgICB0aW1lem9uZVByb21pc2UudGhlbihkYXRhID0+IHZtLnRpbWV6b25lcyA9IGRhdGEpO1xuICAgIHZtLmN1cnJlbnREaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcbiAgICBsZXQgZGlzdHJpYnV0b3JQcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5nZXRCeUtleSh2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuICAgIGRpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5jdXJyZW50VGVuYW50LmNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybCA9IGRhdGEuY29udGVudF9tYW5hZ2VyX3VybDtcbiAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50LmNvbnRlbnRfc2VydmVyX3VybCA9IGRhdGEucGxheWVyX2NvbnRlbnRfdXJsO1xuICAgIH0pO1xuICAgIGxldCBkaXN0cmlidXRvckRvbWFpblByb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmdldERvbWFpbnNCeUtleSh2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuICAgIHJldHVybiBkaXN0cmlidXRvckRvbWFpblByb21pc2UudGhlbihkb21haW5zID0+IHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IGRvbWFpbnMpO1xuICB9O1xuXG4gIHZtLm9uQ2xpY2tTYXZlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIHZtLmN1cnJlbnRUZW5hbnQuZGVmYXVsdF90aW1lem9uZSA9IHZtLnNlbGVjdGVkVGltZXpvbmU7XG4gICAgdm0uY3VycmVudFRlbmFudC5kb21haW5fa2V5ID0gdm0uc2VsZWN0ZWREb21haW4ua2V5O1xuICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50VGVuYW50KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1RlbmFudFNhdmUsIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUpO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1RlbmFudFNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50cycpO1xuICB9O1xuXG4gIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUgPSBmdW5jdGlvbiAoZXJyb3JPYmplY3QpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBpZihlcnJvck9iamVjdC5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLFxuICAgICAgICAnVGVuYW50IGNvZGUgdW5hdmFpbGFibGUgaW4gUHJvdmlzaW9uaW5nLiBQbGVhc2UgbW9kaWZ5IHRlbmFudCBuYW1lIHRvIGdlbmVyYXRlIGEgdW5pcXVlIHRlbmFudCBjb2RlLicsXG4gICAgICAgICdlcnJvcicpO1xuICAgIH1cbiAgICBlbHNlIGlmKGVycm9yT2JqZWN0LnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsXG4gICAgICAgICdUZW5hbnQgY29kZSB1bmF2YWlsYWJsZSBpbiBDaHJvbWUgRGV2aWNlIE1hbmFnZW1lbnQuIE1vZGlmeSB0ZW5hbnQgbmFtZSB0byBnZW5lcmF0ZSBhIHVuaXF1ZSB0ZW5hbnQgY29kZS4nLFxuICAgICAgICAnZXJyb3InKTtcbiAgICB9XG4gICAgZWxzZSBpZihlcnJvck9iamVjdC5zdGF0dXMgPT09IDQwNikge1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLFxuICAgICAgICAnVW5hYmxlIHRvIGNyZWF0ZSB0ZW5hbnQgT3JnYW5pemF0aW9uIFVuaXQgaW4gQ2hyb21lIERldmljZSBNYW5hZ2VtZW50LicsXG4gICAgICAgICdlcnJvcicpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICRsb2cuZXJyb3IoZXJyb3JPYmplY3QpO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnTm90IGV2ZXJ5dGhpbmcgbmVlZGVkIGZvciB0ZW5hbnQgd2FzIGNyZWF0ZWQgaW4gQ29udGVudCBNYW5hZ2VyIG9yIENETS4nLCAnZXJyb3InKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uY2FuY2VsID0gKCkgPT4ge1xuICAgICRzdGF0ZS5nbyhcInRlbmFudHNcIilcbiAgfVxuXG4gIHZtLmF1dG9HZW5lcmF0ZVRlbmFudENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF2bS5jdXJyZW50VGVuYW50LmtleSkge1xuICAgICAgbGV0IG5ld1RlbmFudENvZGUgPSAnJztcbiAgICAgIGlmICh2bS5jdXJyZW50VGVuYW50Lm5hbWUpIHtcbiAgICAgICAgbmV3VGVuYW50Q29kZSA9IHZtLmN1cnJlbnRUZW5hbnQubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG4gICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZtLmN1cnJlbnRUZW5hbnQudGVuYW50X2NvZGUgPSBuZXdUZW5hbnRDb2RlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge1RlbmFudEFkZEN0cmx9XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtYWRkLmNvbnRyb2xsZXIuanMiLCJmdW5jdGlvbiBUZW5hbnREZXRhaWxzQ3RybCgkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBEb21haW5zU2VydmljZSwgVGltZXpvbmVzU2VydmljZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgJHN0YXRlLCBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlLCAkc2NvcGUsICRsb2NhdGlvbikge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uZ2FtZVN0b3BTZXJ2ZXIgPSAkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTE7XG4gIHZtLnNob3dDZG1JbmZvID0gZmFsc2U7XG4gIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG4gICAga2V5OiB1bmRlZmluZWQsXG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG4gICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcbiAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG4gICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG4gICAgcHJvb2Zfb2ZfcGxheV91cmw6IHVuZGVmaW5lZCxcbiAgICBhY3RpdmU6IHRydWVcbiAgfTtcbiAgdm0uc2VsZWN0ZWREb21haW4gPSB1bmRlZmluZWQ7XG4gIHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IFtdO1xuICB2bS50aW1lem9uZXMgPSBbXTtcbiAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9ICdBbWVyaWNhL0NoaWNhZ28nO1xuICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblxuICBpZiAodm0uZWRpdE1vZGUpIHtcbiAgICBsZXQgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KCRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkpO1xuICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG4gICAgICB2bS5jdXJyZW50VGVuYW50ID0gdGVuYW50O1xuICAgICAgcmV0dXJuIHZtLm9uU3VjY2Vzc1Jlc29sdmluZ1RlbmFudCh0ZW5hbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgdGltZXpvbmVQcm9taXNlID0gVGltZXpvbmVzU2VydmljZS5nZXRDdXN0b21UaW1lem9uZXMoKTtcbiAgICB0aW1lem9uZVByb21pc2UudGhlbihkYXRhID0+IHZtLnRpbWV6b25lcyA9IGRhdGEpO1xuICAgIHZtLmN1cnJlbnREaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcbiAgICBsZXQgZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5nZXREb21haW5zQnlLZXkodm0uY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcbiAgICByZXR1cm4gZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlLnRoZW4oZG9tYWlucyA9PiB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBkb21haW5zKTtcbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG4gICAgdm0uc2hvd0NkbUluZm8gPSB0ZW5hbnQub3JnYW5pemF0aW9uX3VuaXRfcGF0aCAhPSBudWxsICYmIHRlbmFudC5lbnJvbGxtZW50X2VtYWlsICE9IG51bGwgJiZcbiAgICAgIHRlbmFudC5lbnJvbGxtZW50X3Bhc3N3b3JkICE9IG51bGw7XG4gICAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHRlbmFudC5kZWZhdWx0X3RpbWV6b25lO1xuICAgIGxldCBkb21haW5Qcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZ2V0RG9tYWluQnlLZXkodGVuYW50LmRvbWFpbl9rZXkpO1xuICAgIHJldHVybiBkb21haW5Qcm9taXNlLnRoZW4oZGF0YSA9PiB2bS5zZWxlY3RlZERvbWFpbiA9IGRhdGEpO1xuICB9O1xuXG4gIHZtLm9uQ2xpY2tTYXZlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIHZtLmN1cnJlbnRUZW5hbnQuZGVmYXVsdF90aW1lem9uZSA9IHZtLnNlbGVjdGVkVGltZXpvbmU7XG4gICAgdm0uY3VycmVudFRlbmFudC5kb21haW5fa2V5ID0gdm0uc2VsZWN0ZWREb21haW4ua2V5O1xuICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50VGVuYW50KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1RlbmFudFNhdmUsIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUpO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1RlbmFudFNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB0ZW5hbnQgaW5mb3JtYXRpb24uJyk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSA9IGZ1bmN0aW9uIChlcnJvck9iamVjdCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIGlmIChlcnJvck9iamVjdC5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLFxuICAgICAgICAnVGVuYW50IGNvZGUgdW5hdmFpbGFibGUuIFBsZWFzZSBtb2RpZnkgdGVuYW50IG5hbWUgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgdGVuYW50IGNvZGUuJywgJ2Vycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBzYXZlIHRoZSB0ZW5hbnQuJywgJ2Vycm9yJyk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmVkaXRJdGVtID0gaXRlbSA9PiAkc3RhdGUuZ28oJ2VkaXREZXZpY2UnLCB7ZGV2aWNlS2V5OiBpdGVtLmtleSwgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG5cbiAgdm0uYXV0b0dlbmVyYXRlVGVuYW50Q29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXZtLmN1cnJlbnRUZW5hbnQua2V5KSB7XG4gICAgICBsZXQgbmV3VGVuYW50Q29kZSA9ICcnO1xuICAgICAgaWYgKHZtLmN1cnJlbnRUZW5hbnQubmFtZSkge1xuICAgICAgICBuZXdUZW5hbnRDb2RlID0gdm0uY3VycmVudFRlbmFudC5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xccysvZywgJ18nKTtcbiAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudC50ZW5hbnRfY29kZSA9IG5ld1RlbmFudENvZGU7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS50YWJJbmRleCA9IDA7XG5cbiAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcbiAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoICh0b1RhYikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB2bTtcbn1cbmV4cG9ydCB7VGVuYW50RGV0YWlsc0N0cmx9XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtZGV0YWlscy5jb250cm9sbGVyLmpzIiwiZnVuY3Rpb24gVGVuYW50TG9jYXRpb25DdHJsKCRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0ubG9jYXRpb24gPSB7XG4gICAga2V5OiB1bmRlZmluZWRcbiAgfTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy5sb2NhdGlvbktleTtcbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IGxvY2F0aW9uUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25CeUtleSgkc3RhdGVQYXJhbXMubG9jYXRpb25LZXkpO1xuICAgIGxvY2F0aW9uUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5sb2NhdGlvbiA9IGRhdGE7XG4gICAgICB2bS50ZW5hbnRLZXkgPSBkYXRhLnRlbmFudEtleTtcbiAgICAgIHZtLmxvY2F0aW9uTmFtZSA9IGRhdGEuY3VzdG9tZXJMb2NhdGlvbk5hbWU7XG4gICAgICByZXR1cm4gdm0uZmV0Y2hUZW5hbnROYW1lKHZtLnRlbmFudEtleSk7XG4gICAgfSk7XG4gIH1cblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdm0uZWRpdE1vZGUpIHtcbiAgICAgIHZtLmZldGNoVGVuYW50TmFtZSh2bS50ZW5hbnRLZXkpO1xuICAgICAgcmV0dXJuIHZtLmxvY2F0aW9uID0ge1xuICAgICAgICB0ZW5hbnRLZXk6IHZtLnRlbmFudEtleSxcbiAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2F2ZSh2bS5sb2NhdGlvbik7XG4gICAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1VwZGF0aW5nTG9jYXRpb24odm0udGVuYW50S2V5KSwgdm0ub25GYWlsdXJlU2F2aW5nTG9jYXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uLCB2bS5vbkZhaWx1cmVTYXZpbmdMb2NhdGlvbik7XG4gICAgfVxuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciBsb2NhdGlvbi4nKTtcbiAgICByZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24gKCkge1xuICAgICAgJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICByZXR1cm47XG4gICAgfSksIDEwMDApO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1VwZGF0aW5nTG9jYXRpb24gPSBmdW5jdGlvbiAodGVuYW50X2tleSkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgdXBkYXRlZCB5b3VyIGxvY2F0aW9uLicpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbiAoKSB7XG4gICAgICAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6IHRlbmFudF9rZXl9KTtcbiAgICAgIHJldHVybjtcbiAgICB9KSwgMTAwMCk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlU2F2aW5nTG9jYXRpb24gPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ0xvY2F0aW9uIGNvZGUgY29uZmxpY3QuIFVuYWJsZSB0byBzYXZlIHlvdXIgbG9jYXRpb24uJyk7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsXG4gICAgICAgICdQbGVhc2UgY2hhbmdlIHlvdXIgY3VzdG9tZXIgbG9jYXRpb24gbmFtZS4gTG9jYXRpb24gbmFtZSBtdXN0IGdlbmVyYXRlIGEgdW5pcXVlIGxvY2F0aW9uIGNvZGUuJyxcbiAgICAgICAgJ2Vycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdVbmFibGUgdG8gc2F2ZSB5b3VyIGxvY2F0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICB2bS5mZXRjaFRlbmFudE5hbWUgPSBmdW5jdGlvbiAodGVuYW50S2V5KSB7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh0ZW5hbnRLZXkpO1xuICAgIHJldHVybiB0ZW5hbnRQcm9taXNlLnRoZW4odGVuYW50ID0+IHZtLnRlbmFudE5hbWUgPSB0ZW5hbnQubmFtZSk7XG4gIH07XG5cbiAgdm0uYXV0b0dlbmVyYXRlQ3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF2bS5sb2NhdGlvbi5rZXkpIHtcbiAgICAgIGxldCBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9ICcnO1xuICAgICAgaWYgKHZtLmxvY2F0aW9uLmN1c3RvbWVyTG9jYXRpb25OYW1lKSB7XG4gICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gdm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbk5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG4gICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtUZW5hbnRMb2NhdGlvbkN0cmx9XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uY29udHJvbGxlci5qcyIsImltcG9ydCBuYXR1cmFsU29ydCBmcm9tICdqYXZhc2NyaXB0LW5hdHVyYWwtc29ydCc7XG5cblxuZnVuY3Rpb24gVGVuYW50TG9jYXRpb25zQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsICRzdGF0ZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICBsZXQge3RlbmFudEtleX0gPSAkc3RhdGVQYXJhbXM7XG4gICRzY29wZS50YWJJbmRleCA9IDM7XG4gIHZtLmxvY2F0aW9ucyA9IFtdO1xuICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG4gIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cbiAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh0ZW5hbnRLZXkpO1xuICB0ZW5hbnRQcm9taXNlLnRoZW4oZGF0YSA9PiB7XG4gICAgdm0uY3VycmVudFRlbmFudCA9IGRhdGFcbiAgfSk7XG5cbiAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcbiAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoICh0b1RhYikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZtLmdldExvY2F0aW9ucyA9IGZ1bmN0aW9uICh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgbG9jYXRpb25zUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXlQYWdpbmF0ZWQodGVuYW50S2V5LCBwcmV2LCBuZXh0KTtcbiAgICByZXR1cm4gbG9jYXRpb25zUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5sb2NhdGlvbnMgPSBkYXRhLmxvY2F0aW9ucztcbiAgICAgIHZtLm5leHRfY3Vyc29yID0gZGF0YS5uZXh0X2N1cnNvcjtcbiAgICAgIHZtLnByZXZfY3Vyc29yID0gZGF0YS5wcmV2X2N1cnNvcjtcbiAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5zZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUgPSAobmFtZSkgPT4ge1xuICAgIGlmICghbmFtZSB8fCBuYW1lLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICBsZXQgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2VhcmNoQWxsVGVuYW50TG9jYXRpb25zQnlOYW1lKHZtLnRlbmFudEtleSwgbmFtZSlcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgdm0uc2VhcmNoZWRUZW5hbnRMb2NhdGlvbnMgPSByZXNwb25zZVxuICAgICAgaWYgKHZtLnNlYXJjaGVkVGVuYW50TG9jYXRpb25zKSB7XG4gICAgICAgIHJldHVybiB2bS5zZWFyY2hlZFRlbmFudExvY2F0aW9ucy5tYXAoKGkpID0+IGkuY3VzdG9tZXJMb2NhdGlvbk5hbWUpLnNvcnQobmF0dXJhbFNvcnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW11cbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBwcm9taXNlLmNhdGNoKChyZXNwb25zZSkgPT4ge1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGBVbmFibGUgdG8gZmV0Y2ggbG9jYXRpb25zLiBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YDtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcbiAgICB9KVxuICB9O1xuXG4gIHZtLmlzVGVuYW50TG9jYXRpb25WYWxpZCA9IChuYW1lKSA9PiB7XG4gICAgaWYgKCFuYW1lIHx8IG5hbWUubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIGxldCBwcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5zZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUodm0udGVuYW50S2V5LCBuYW1lKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGxldCBtYXRjaCA9IHJlc3BvbnNlXG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgIGZvciAobGV0IGVhY2hMb2NhdGlvbk5hbWUgb2YgbWF0Y2gpIHtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBlYWNoTG9jYXRpb25OYW1lLmN1c3RvbWVyTG9jYXRpb25OYW1lKSB7XG4gICAgICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIHZtLnNlYXJjaE1hdGNoID0gZWFjaExvY2F0aW9uTmFtZVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgfTtcblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0TG9jYXRpb25zKHRlbmFudEtleSwgbnVsbCwgdm0ubmV4dF9jdXJzb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0TG9jYXRpb25zKHRlbmFudEtleSwgdm0ucHJldl9jdXJzb3IsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB2bS5nZXRMb2NhdGlvbnModGVuYW50S2V5KTtcbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IGl0ZW0gPT4gJHN0YXRlLmdvKCdlZGl0TG9jYXRpb24nLCB7bG9jYXRpb25LZXk6IGl0ZW0ua2V5fSk7XG5cblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7VGVuYW50TG9jYXRpb25zQ3RybH1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbnMuY29udHJvbGxlci5qcyIsImZ1bmN0aW9uIFRlbmFudE1hbmFnZWREZXZpY2VzQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsICRzdGF0ZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uY3VycmVudFRlbmFudCA9IHtcbiAgICBrZXk6IHVuZGVmaW5lZCxcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcbiAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcbiAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG4gICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcbiAgICBhY3RpdmU6IHRydWVcbiAgfTtcbiAgdm0udGVuYW50RGV2aWNlcyA9IFtdO1xuICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG4gIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcbiAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIlNlcmlhbCBOdW1iZXJcIjtcbiAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gIHZtLmRldmljZXNUb01hdGNoT24gPSBbXTtcbiAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblxuICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uICh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBkZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcik7XG4gICAgcmV0dXJuIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmRldmljZXNQcmV2ID0gZGF0YVtcInByZXZfY3Vyc29yXCJdO1xuICAgICAgdm0uZGV2aWNlc05leHQgPSBkYXRhW1wibmV4dF9jdXJzb3JcIl07XG4gICAgICB2bS50ZW5hbnREZXZpY2VzID0gZGF0YVtcImRldmljZXNcIl07XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0uZWRpdEl0ZW0gPSAoaXRlbSkgPT4gRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0oaXRlbSlcblxuICB2bS5yZWZyZXNoRGV2aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG4gICAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuICAgIHZtLnRlbmFudERldmljZXMgPSBudWxsO1xuICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG4gIH07XG5cbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuICAgIHRlbmFudFByb21pc2UudGhlbih0ZW5hbnQgPT4gdm0uY3VycmVudFRlbmFudCA9IHRlbmFudCk7XG4gICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCBudWxsKTtcbiAgfVxuXG4gICRzY29wZS50YWJJbmRleCA9IDE7XG5cbiAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcbiAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoICh0b1RhYikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZtLmNoYW5nZVJhZGlvID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuICAgIHZtLm1hY0RldmljZXMgPSB7fTtcbiAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG4gIH07XG5cbiAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uIChwYXJ0aWFsKSB7XG4gICAgbGV0IHVubWFuYWdlZCA9IGZhbHNlO1xuICAgIGxldCBidXR0b24gPSB2bS5zZWxlY3RlZEJ1dHRvbjtcbiAgICBsZXQgYnlUZW5hbnQgPSB0cnVlO1xuICAgIGxldCB0ZW5hbnRLZXkgPSB2bS50ZW5hbnRLZXk7XG4gICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnNlYXJjaERldmljZXMocGFydGlhbCwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGxldCBkZXZpY2VzVG9SZXR1cm47XG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgbGV0IGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzXG4gICAgICAgICAgaWYgKGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHZtLnNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcbiAgICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZtLmdjbWlkRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF1cbiAgICAgICAgICB9XG4gICAgICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IGRldmljZXNUb1JldHVyblxuICAgICAgICAgIHJldHVybiBkZXZpY2VzVG9SZXR1cm5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gW11cbiAgICAgICAgfVxuICAgICAgfSlcbiAgfTtcblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSAoc2VhcmNoVGV4dCkgPT4gRGV2aWNlc1NlcnZpY2UucHJlcHJhdGVGb3JFZGl0VmlldyhcbiAgICB2bS5zZWxlY3RlZEJ1dHRvbixcbiAgICB2bS50ZW5hbnRLZXksXG4gICAgc2VhcmNoVGV4dCxcbiAgICB2bS5tYWNEZXZpY2VzLFxuICAgIHZtLnNlcmlhbERldmljZXMsXG4gICAgdm0uZ2NtaWREZXZpY2VzXG4gIClcblxuICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uIChpc01hdGNoKSB7XG4gICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcbiAgICByZXR1cm4gdm0ubG9hZGluZ0Rpc2FibGVkID0gZmFsc2U7XG4gIH07XG5cbiAgdm0uaXNSZXNvdXJjZVZhbGlkID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgbGV0IGZvdW5kTWF0Y2ggPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpdGVtIG9mIHZtLmRldmljZXNUb01hdGNoT24pIHtcbiAgICAgIGlmIChyZXNvdXJjZSA9PT0gaXRlbSkge1xuICAgICAgICBmb3VuZE1hdGNoID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdm0uY29udHJvbE9wZW5CdXR0b24oZm91bmRNYXRjaClcbiAgICByZXR1cm4gZm91bmRNYXRjaFxuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmx9XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbWFuYWdlZC1kZXZpY2VzLmNvbnRyb2xsZXIuanMiLCJmdW5jdGlvbiBUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsICRzdGF0ZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uY3VycmVudFRlbmFudCA9IHtcbiAgICBrZXk6IHVuZGVmaW5lZCxcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcbiAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcbiAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG4gICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcbiAgICBhY3RpdmU6IHRydWVcbiAgfTtcbiAgdm0uZ2NtaWREZXZpY2VzID0gW107XG4gIHZtLnRlbmFudERldmljZXMgPSBbXTtcbiAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gIHZtLnNlbGVjdGVkQnV0dG9uID0gXCJNQUNcIjtcbiAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gIHZtLm1hY0RldmljZXMgPSB7fTtcbiAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblxuICAkc2NvcGUudGFiSW5kZXggPSAyO1xuXG4gICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG4gICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN3aXRjaCAodG9UYWIpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2bS5lZGl0SXRlbSA9IChpdGVtKSA9PiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtKVxuXG4gIHZtLmdldFVubWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgZGV2aWNlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRVbm1hbmFnZWREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpO1xuICAgIHJldHVybiBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5kZXZpY2VzUHJldiA9IGRhdGFbXCJwcmV2X2N1cnNvclwiXTtcbiAgICAgIHZtLmRldmljZXNOZXh0ID0gZGF0YVtcIm5leHRfY3Vyc29yXCJdO1xuICAgICAgdm0udGVuYW50RGV2aWNlcyA9IGRhdGFbXCJkZXZpY2VzXCJdO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIGlmICh2bS5lZGl0TW9kZSkge1xuICAgIGxldCB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodm0udGVuYW50S2V5KTtcbiAgICB0ZW5hbnRQcm9taXNlLnRoZW4odGVuYW50ID0+IHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQpO1xuICAgIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCBudWxsKTtcbiAgfVxuXG4gIHZtLnJlZnJlc2hEZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgdm0udGVuYW50RGV2aWNlcyA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuICB9O1xuXG4gIHZtLmNoYW5nZVJhZGlvID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuICAgIHZtLm1hY0RldmljZXMgPSB7fTtcbiAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG4gIH07XG5cbiAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uIChwYXJ0aWFsKSB7XG4gICAgbGV0IHVubWFuYWdlZCA9IHRydWU7XG4gICAgbGV0IGJ5VGVuYW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCB2bS5zZWxlY3RlZEJ1dHRvbiwgYnlUZW5hbnQsIHZtLnRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBsZXQgZGV2aWNlc1RvUmV0dXJuO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgIGxldCBkZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlc1xuICAgICAgICAgIGlmICh2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHZtLnNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIGlmICh2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJNQUNcIikge1xuICAgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH1cbiAgICAgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gZGV2aWNlc1RvUmV0dXJuXG4gICAgICAgICAgcmV0dXJuIGRldmljZXNUb1JldHVyblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbXVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gIH07XG5cbiAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSAoc2VhcmNoVGV4dCkgPT4gRGV2aWNlc1NlcnZpY2UucHJlcHJhdGVGb3JFZGl0VmlldyhcbiAgICB2bS5zZWxlY3RlZEJ1dHRvbixcbiAgICB2bS50ZW5hbnRLZXksXG4gICAgc2VhcmNoVGV4dCxcbiAgICB2bS5tYWNEZXZpY2VzLFxuICAgIHZtLnNlcmlhbERldmljZXMsXG4gICAgdm0uZ2NtaWREZXZpY2VzXG4gIClcblxuICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uIChpc01hdGNoKSB7XG4gICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcbiAgICB2bS5sb2FkaW5nRGlzYWJsZWQgPSBmYWxzZTtcbiAgfTtcblxuICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICBsZXQgZm91bmRNYXRjaCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGl0ZW0gb2Ygdm0uZGV2aWNlc1RvTWF0Y2hPbikge1xuICAgICAgaWYgKHJlc291cmNlID09PSBpdGVtKSB7XG4gICAgICAgIGZvdW5kTWF0Y2ggPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICB2bS5jb250cm9sT3BlbkJ1dHRvbihmb3VuZE1hdGNoKVxuICAgIHJldHVybiBmb3VuZE1hdGNoXG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybH1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvdGVuYW50L3RlbmFudC11bm1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyLmpzIiwiaW1wb3J0IG5hdHVyYWxTb3J0IGZyb20gJ2phdmFzY3JpcHQtbmF0dXJhbC1zb3J0JztcblxuZnVuY3Rpb24gVGVuYW50c0N0cmwoJHN0YXRlLCAkbG9nLCBUZW5hbnRzU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBzd2VldCkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcblxuICAvLyBQYWdpbmF0ZWQgVGVuYW50c1xuICB2bS50ZW5hbnRzID0gW107XG4gIC8vIEN1cnJlbnQgU2VhcmNoIG9mIFRlbmFudHMgUmVzdWx0c1xuICB2bS5zZWFyY2hlZFRlbmFudHMgPSBbXTtcbiAgdm0uc2VhcmNoTWF0Y2ggPSBudWxsO1xuICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG5cbiAgdm0uZ2V0VGVuYW50c1BhZ2luYXRlZCA9IGZ1bmN0aW9uIChwYWdlX3NpemUsIG9mZnNldCkge1xuICAgIHZtLm9mZnNldCA9IG9mZnNldDtcbiAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmZldGNoQWxsVGVuYW50c1BhZ2luYXRlZChwYWdlX3NpemUsIG9mZnNldCk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbigocmVzcG9uc2UgPT4gdm0uZ2V0RmV0Y2hTdWNjZXNzKHJlc3BvbnNlKSksIHJlc3BvbnNlID0+IHZtLmdldEZldGNoRmFpbHVyZShyZXNwb25zZSkpO1xuICB9O1xuXG4gIHZtLmdldEZldGNoU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIHZtLnRlbmFudHMgPSByZXNwb25zZS50ZW5hbnRzO1xuICAgIHZtLnRvdGFsID0gcmVzcG9uc2UudG90YWw7XG4gICAgdm0uaXNfZmlyc3RfcGFnZSA9IHJlc3BvbnNlLmlzX2ZpcnN0X3BhZ2U7XG4gICAgdm0uaXNfbGFzdF9wYWdlID0gcmVzcG9uc2UuaXNfbGFzdF9wYWdlO1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiB2bS5sb2FkaW5nID0gZmFsc2U7XG4gIH07XG5cbiAgdm0uZ2V0RmV0Y2hGYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IGBVbmFibGUgdG8gZmV0Y2ggdGVuYW50cy4gRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9LmA7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuICB9O1xuXG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5vZmZzZXQgPSAwO1xuICAgIHZtLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUoJ215JylcbiAgICByZXR1cm4gdm0uZ2V0VGVuYW50c1BhZ2luYXRlZCgxMDAsIHZtLm9mZnNldCk7XG4gIH07XG5cbiAgdm0uc2VhcmNoQWxsVGVuYW50c0J5TmFtZSA9IGZ1bmN0aW9uICh0ZW5hbnRfbmFtZSkge1xuICAgIGlmICghdGVuYW50X25hbWUgfHwgdGVuYW50X25hbWUubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2VhcmNoQWxsVGVuYW50c0J5TmFtZSh0ZW5hbnRfbmFtZSlcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgdm0uc2VhcmNoZWRUZW5hbnRzID0gcmVzcG9uc2VcbiAgICAgIGlmICh2bS5zZWFyY2hlZFRlbmFudHMpIHtcbiAgICAgICAgcmV0dXJuIHZtLnNlYXJjaGVkVGVuYW50cy5tYXAoKGkpID0+IGkubmFtZSkuc29ydChuYXR1cmFsU29ydClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbXVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2goKHJlc3BvbnNlKSA9PiB7XG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gYFVuYWJsZSB0byBmZXRjaCB0ZW5hbnRzLiBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YDtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcbiAgICB9KVxuICB9XG5cblxuICB2bS5pc1RlbmFudFZhbGlkID0gKHRlbmFudF9uYW1lKSA9PiB7XG4gICAgaWYgKCF0ZW5hbnRfbmFtZSB8fCB0ZW5hbnRfbmFtZS5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG5cbiAgICBsZXQgbWF0Y2ggPSB2bS5zZWFyY2hlZFRlbmFudHM7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBmb3IgKGxldCBlYWNoTmFtZSBvZiBtYXRjaCkge1xuICAgICAgICBpZiAodGVuYW50X25hbWUgPT09IGVhY2hOYW1lLm5hbWUpIHtcbiAgICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIHZtLnNlYXJjaE1hdGNoID0gZWFjaE5hbWVcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2bS5lZGl0SXRlbSA9IGl0ZW0gPT4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywge3RlbmFudEtleTogaXRlbS5rZXl9KTtcblxuICB2bS5kZWxldGVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBsZXQgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmRlbGV0ZShpdGVtKTtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oKCkgPT4gdm0uaW5pdGlhbGl6ZSgpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHN3ZWV0LnNob3coe1xuICAgICAgdGl0bGU6IFwiQXJlIHlvdSBzdXJlP1wiLFxuICAgICAgdGV4dDogXCJUaGlzIHdpbGwgcGVybWFuZW50bHkgcmVtb3ZlIHRoZSB0ZW5hbnQgZnJvbSB0aGUgc3lzdGVtLlwiLFxuICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG4gICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcIiNERDZCNTVcIixcbiAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIlllcywgcmVtb3ZlIHRoZSB0ZW5hbnQhXCIsXG4gICAgICBjbG9zZU9uQ29uZmlybTogdHJ1ZVxuICAgIH0sIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge1RlbmFudHNDdHJsfVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC90ZW5hbnQvdGVuYW50cy5jb250cm9sbGVyLmpzIiwiZnVuY3Rpb24gV2VsY29tZUN0cmwoXG4gIFZlcnNpb25zU2VydmljZSxcbiAgJHN0YXRlLFxuICAkcm9vdFNjb3BlLFxuICBEaXN0cmlidXRvcnNTZXJ2aWNlLFxuICBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLnBhdWxzQ3VycmVudERpc3RyaWJ1dG9yTmFtZSA9ICRyb290U2NvcGUucGF1bHNDdXJyZW50RGlzdHJpYnV0b3JOYW1lO1xuICB2bS52ZXJzaW9uX2RhdGEgPSBbXTtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG5cbiAgdm0ucHJvY2VlZFRvU2lnbkluID0gKCkgPT4gJHN0YXRlLmdvKCdzaWduX2luJyk7XG5cbiAgdm0uY2FwaXRhbGl6ZUZpcnN0TGV0dGVyID0gc3RyaW5nID0+IHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcblxuICB2bS5naXZlT3B0aW9uVG9DaGFuZ2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgZGlzdHJpYnV0b3JzUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZmV0Y2hBbGxCeVVzZXIoU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSk7XG4gICAgcmV0dXJuIGRpc3RyaWJ1dG9yc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uaGFzX211bHRpcGxlX2Rpc3RyaWJ1dG9ycyA9IGRhdGEubGVuZ3RoID4gMTtcbiAgICAgIHJldHVybiB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0uY2hhbmdlRGlzdHJpYnV0b3IgPSAoKSA9PiAkc3RhdGUuZ28oJ2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbicpO1xuXG4gIHZtLmdldFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHByb21pc2UgPSBWZXJzaW9uc1NlcnZpY2UuZ2V0VmVyc2lvbnMoKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKGRhdGEgPT4gdm0udmVyc2lvbl9kYXRhID0gZGF0YSk7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5pZGVudGl0eSA9IHtcbiAgICAgIGtleTogU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSxcbiAgICAgIGVtYWlsOiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCksXG4gICAgICBkaXN0cmlidXRvcktleTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLFxuICAgICAgZGlzdHJpYnV0b3JOYW1lOiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpXG4gICAgfTtcblxuICAgIHZtLmdpdmVPcHRpb25Ub0NoYW5nZURpc3RyaWJ1dG9yKCk7XG5cbiAgICBpZiAoIXZtLmlkZW50aXR5LmVtYWlsKSB7XG4gICAgICByZXR1cm4gJHN0YXRlLmdvKFwic2lnbl9pblwiKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0VmVyc2lvbigpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtXZWxjb21lQ3RybH1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvd2VsY29tZS93ZWxjb21lLWNvbnRyb2xsZXIuanMiLCJleHBvcnQgZnVuY3Rpb24gcm91dGVzKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsIFJlc3Rhbmd1bGFyUHJvdmlkZXIpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwic2lnbl9pblwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcbiAgICAgIH0sXG4gICAgICBub3RBdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5ub3RBdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3NpZ25faW5cIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYXV0aGVudGljYXRpb24vc2lnbl9pbi5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJBdXRoZW50aWNhdGlvbkN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnLFxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduZWRfb3V0XCIsIHtcbiAgICB1cmw6IFwiL3NpZ25lZF9vdXRcIixcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIG5vdEF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLm5vdEF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduZWRfb3V0Lmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkF1dGhlbnRpY2F0aW9uQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ2F1dGhlbnRpY2F0aW9uQ3RybCcsXG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNpZ25fb3V0XCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvc2lnbl9vdXRcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYXV0aGVudGljYXRpb24vc2lnbl9vdXQuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnYXV0aGVudGljYXRpb25DdHJsJyxcbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZGlzdHJpYnV0b3Jfc2VsZWN0aW9uXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2Rpc3RyaWJ1dG9yX3NlbGVjdGlvblwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kaXN0cmlidXRvci9kaXN0cmlidXRvcl9zZWxlY3Rvci5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJEaXN0cmlidXRvclNlbGVjdG9yQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiaG9tZVwiLCB7XG4gICAgdXJsOiBcIi9cIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvd2VsY29tZS93ZWxjb21lLmh0bWxcIixcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IFwiV2VsY29tZUN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd3ZWxjb21lQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdTa3lraXQgUHJvdmlzaW9uaW5nJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwid2VsY29tZVwiLCB7XG4gICAgdXJsOiBcIi93ZWxjb21lXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3dlbGNvbWUvd2VsY29tZS5odG1sXCIsXG4gICAgcmVzb2x2ZToge1xuICAgICAgaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcbiAgICAgIH0sXG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjb250cm9sbGVyOiBcIldlbGNvbWVDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnd2VsY29tZUN0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnU2t5a2l0IFByb3Zpc2lvbmluZydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImRvbWFpbnNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvZG9tYWluc1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kb21haW4vZG9tYWlucy1saXN0aW5nLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkRvbWFpbnNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnZG9tYWluc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnRG9tYWlucydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkZERvbWFpblwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kb21haW5zL2FkZFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kb21haW4vZG9tYWluLWRldGFpbC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJEb21haW5EZXRhaWxzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ2RvbWFpbkRldGFpbHNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ0FkZCBkb21haW4nLFxuICAgICAgcGFyZW50OiAnZG9tYWlucydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXREb21haW5cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvZG9tYWlucy86ZG9tYWluS2V5XCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW4tZGV0YWlsLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkRvbWFpbkRldGFpbHNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnZG9tYWluRGV0YWlsc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgZG9tYWluRGV0YWlsc0N0cmwuY3VycmVudERvbWFpbi5uYW1lIH19JyxcbiAgICAgIHBhcmVudDogJ2RvbWFpbnMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHNcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudHMtbGlzdGluZy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudHNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ1RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJhZGRUZW5hbnRcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy9hZGRcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1hZGQuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50QWRkQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudEFkZEN0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnQWRkIHRlbmFudCcsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50RGV0YWlsc1wiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvZGV0YWlsc1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWRldGFpbHMuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50RGV0YWlsc0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnREZXRhaWxzQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyB0ZW5hbnREZXRhaWxzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudE1hbmFnZWREZXZpY2VzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9tYW5hZ2VkXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbWFuYWdlZC1kZXZpY2VzLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudE1hbmFnZWREZXZpY2VzQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19JyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRVbm1hbmFnZWREZXZpY2VzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS91bm1hbmFnZWRcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC11bm1hbmFnZWQtZGV2aWNlcy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudFVubWFuYWdlZERldmljZXNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudFVubWFuYWdlZERldmljZXNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50TG9nc1wiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvbG9nc1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWxvZ3MuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9nc0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRMb2dzQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2dzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudE92ZXJsYXlzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9vdmVybGF5c1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LW92ZXJsYXlzLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudE92ZXJsYXlzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudE92ZXJsYXlzQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRPdmVybGF5c0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19JyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRMb2NhdGlvbnNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2xvY2F0aW9uc1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9ucy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbnNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50TG9jYXRpb25zQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2NhdGlvbnNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZWRpdExvY2F0aW9uXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2xvY2F0aW9ucy86bG9jYXRpb25LZXlcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbi5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbkN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRMb2NhdGlvbkN0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9jYXRpb25DdHJsLnRlbmFudE5hbWUgfX0gIC8ge3sgdGVuYW50TG9jYXRpb25DdHJsLmxvY2F0aW9uTmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkTG9jYXRpb25cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2xvY2F0aW9uXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9jYXRpb25DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50TG9jYXRpb25DdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudExvY2F0aW9uQ3RybC50ZW5hbnROYW1lIH19ICAvIExvY2F0aW9uJyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkZXZpY2VzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2RldmljZXNcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGV2aWNlL2RldmljZXMtbGlzdGluZy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJEZXZpY2VzTGlzdGluZ0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdkZXZpY2VzTGlzdGluZ0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnRGV2aWNlcydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXREZXZpY2VcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kZXZpY2VzLzpkZXZpY2VLZXk/dGVuYW50S2V5P2Zyb21EZXZpY2VzXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RldmljZS9kZXZpY2UtZGV0YWlsLmh0bWxcIixcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IGRldmljZURldGFpbHNDdHJsLmN1cnJlbnREZXZpY2Uua2V5IH19JyxcbiAgICAgIHBhcmVudDogJ2RldmljZXMnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnRGV2aWNlRGV0YWlsc0N0cmwnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XG4gICAgICAkc2NvcGUudGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgICAgIHJldHVybjtcbiAgICB9LFxuICAgIGNvbnRyb2xsZXJBczogJ2RldmljZURldGFpbHNDdHJsJ1xuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJwcm9vZlwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9wcm9vZlwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wcm9vZi9tYWluLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlByb29mT2ZQbGF5Q3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ1Byb29mIG9mIFBsYXknXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJwcm9vZkRldGFpbFwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9wcm9vZi86dGVuYW50XCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3Byb29mL2RldGFpbC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJQcm9vZk9mUGxheUN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdQcm9vZiBvZiBQbGF5J1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRtaW5cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGlzQWRtaW4oQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4oKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvYWRtaW5cIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYWRtaW4vYWRtaW4uaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiQWRtaW5DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnQWRtaW4nXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJyZWRpcmVjdFwiLCB7XG4gICAgdXJsOiBcIi9yZWRpcmVjdFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9yZWRpcmVjdC9yZWRpcmVjdC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJSZWRpcmVjdEN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdSZWRpcmVjdCdcbiAgICB9XG4gIH0pO1xuXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9zaWduX2luJyk7XG5cbiAgUmVzdGFuZ3VsYXJQcm92aWRlci5zZXRCYXNlVXJsKCcvaW50ZXJuYWwvdjEnKTtcblxuICBSZXN0YW5ndWxhclByb3ZpZGVyLmFkZFJlc3BvbnNlSW50ZXJjZXB0b3IoZnVuY3Rpb24gKGRhdGEsIG9wZXJhdGlvbiwgcmVzb3VyY2VUeXBlLCB1cmwsIHJlc3BvbnNlLCBkZWZlcnJlZCkge1xuICAgIGxldCByZXN1bHQgPSBkYXRhO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0pO1xuXG4gIHJldHVybiBSZXN0YW5ndWxhclByb3ZpZGVyLnNldFJlc3Rhbmd1bGFyRmllbGRzKHtcbiAgICBpZDogJ2tleSdcbiAgfSk7XG59XG5cbnJvdXRlcy4kaW5qZWN0ID0gW1wiJHN0YXRlUHJvdmlkZXJcIiwgXCIkdXJsUm91dGVyUHJvdmlkZXJcIiwgXCJSZXN0YW5ndWxhclByb3ZpZGVyXCJdXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYXBwL2FwcC1yb3V0ZXMuanMiLCJleHBvcnQgZnVuY3Rpb24gYXBwUnVuKFJlc3Rhbmd1bGFyLCAkbG9jYXRpb24sICRpbmplY3RvciwgJHJvb3RTY29wZSwgJHRpbWVvdXQpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCBzdGF0ZUNoYW5nZVdhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBzdGF0ZSA9ICRpbmplY3Rvci5nZXQoJyRzdGF0ZScpO1xuICAgIHJldHVybiAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3JbMF0gPT09IFwiYXV0aEVycm9yXCIpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmdvKGVycm9yWzFdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAkdGltZW91dChzdGF0ZUNoYW5nZVdhdGNoLCA1MDApO1xuXG4gIGxldCByZXF1ZXN0SW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgUmVzdGFuZ3VsYXIuYWRkUmVxdWVzdEludGVyY2VwdG9yKGZ1bmN0aW9uIChlbGVtLCBvcGVyYXRpb24sIHdoYXQsIHVybCkge1xuICAgICAgbGV0IFN0b3JhZ2VTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnU3RvcmFnZVNlcnZpY2UnKVxuXG4gICAgICBsZXQgYXV0aFRva2VuID0gJzZDMzQ2NTg4QkQ0QzZENzIyQTExNjVCNDNDNTFDJztcbiAgICAgIGlmICgkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTEpIHtcbiAgICAgICAgYXV0aFRva2VuID0gJzVYWkhCRjNtT3dxSmxZQWxHMU5lZVdYMENiNzJnJztcbiAgICAgIH1cbiAgICAgIFJlc3Rhbmd1bGFyLnNldERlZmF1bHRIZWFkZXJzKHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBhdXRoVG9rZW4sXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5JyksXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1EaXN0cmlidXRvcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5JylcbiAgICAgIH0pO1xuXG4gICAgICBpZiAob3BlcmF0aW9uID09PSAncmVtb3ZlJykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWxlbTtcbiAgICB9KVxuICB9XG5cbiAgJHRpbWVvdXQocmVxdWVzdEludGVyY2VwdG9yLCA1MDApO1xuXG59XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FwcC9hcHAtcnVuLmpzIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2FzdHJDb25maWcodG9hc3RyQ29uZmlnKSB7XG4gIGFuZ3VsYXIuZXh0ZW5kKHRvYXN0ckNvbmZpZywge1xuICAgIHByb2dyZXNzQmFyOiB0cnVlLFxuICAgIGNsb3NlQnV0dG9uOiB0cnVlLFxuICAgIHRhcFRvRGlzbWlzczogdHJ1ZSxcbiAgICBuZXdlc3RPblRvcDogdHJ1ZSxcbiAgICBwb3NpdGlvbkNsYXNzOiAndG9hc3QtYm90dG9tLWxlZnQnLFxuICAgIHRpbWVPdXQ6IDUwMDBcbiAgfSlcbn1cbnRvYXN0ckNvbmZpZy4kaW5qZWN0ID0gWyd0b2FzdHJDb25maWcnXTtcblxuXG5leHBvcnQgZnVuY3Rpb24gYnJlYWRjcnVtYlByb3ZpZGVyKCRicmVhZGNydW1iUHJvdmlkZXIpIHtcbiAgJGJyZWFkY3J1bWJQcm92aWRlci5zZXRPcHRpb25zKHtcbiAgICBwcmVmaXhTdGF0ZU5hbWU6ICdob21lJyxcbiAgICB0ZW1wbGF0ZTogJ2Jvb3RzdHJhcDMnXG4gIH0pXG59XG5cbmJyZWFkY3J1bWJQcm92aWRlci4kaW5qZWN0ID0gW1wiJGJyZWFkY3J1bWJQcm92aWRlclwiXVxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvYXBwLWNvbmZpZy5qcyIsImZ1bmN0aW9uIFJlZGlyZWN0Q3RybChTZXNzaW9uc1NlcnZpY2UsICRzdGF0ZSwgJHRpbWVvdXQpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG5cbiAgU2Vzc2lvbnNTZXJ2aWNlLnJlbW92ZVVzZXJJbmZvKCk7XG5cbiAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICRzdGF0ZS5nbygnc2lnbl9pbicpXG4gIH0sIDgwMDApXG5cblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge1JlZGlyZWN0Q3RybH1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hcHAvcmVkaXJlY3QvcmVkaXJlY3QuY29udHJvbGxlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=