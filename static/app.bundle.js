webpackJsonp([0],{0:function(e,exports,t){t(70),e.exports=t(367)},367:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(368),i=t(640),a=t(641),o=t(651),s=t(652),c=t(653),u=t(654),l=t(677),d=t(678),v=t(679),p=t(680),f=t(681),m=t(682),h=t(683),g=t(684),y=t(685),b=n(y),D=t(691),S=n(D),_=t(692),k=n(_),T=t(693),x=n(T),C=t(694),w=n(C),M=t(695),I=n(M),P=t(696),E=n(P),A=t(697),B=n(A),j=t(698),R=n(j),U=t(699),K=n(U),O=t(700),V=n(O),L=t(701),N=n(L),F=t(702),z=n(F),Y=t(703),q=n(Y),H=t(705),W=n(H),G=t(706),X=n(G),J=t(707),Z=n(J),Q=t(708),ee=n(Q),te=t(709),ne=t(710),re=t(711),ie=t(712),ae=t(713),oe=t(714),se=t(715),ce=t(716),ue=t(717),le=t(718);r.app.service("StorageService",q["default"]).service("AdminService",b["default"]).service("AuthorizationService",S["default"]).service("CommandsService",k["default"]).service("DateManipulationService",x["default"]).service("DevicesService",w["default"]).service("DistributorsService",I["default"]).service("DomainsService",E["default"]).service("IdentityService",B["default"]).service("IntegrationEvents",R["default"]).service("LocationsService",K["default"]).service("ProgressBarService",V["default"]).service("ProofPlayService",N["default"]).service("SessionsService",z["default"]).service("TenantsService",W["default"]).service("TimezonesService",X["default"]).service("ToastsService",Z["default"]).service("VersionsService",ee["default"]).controller("DeviceDetailsCommandsCtrl",i.DeviceDetailsCommandsCtrl).controller("DeviceDetailsCtrl",a.DeviceDetailsCtrl).controller("DevicesListingCtrl",o.DevicesListingCtrl).controller("AdminCtrl",s.AdminCtrl).controller("AuthenticationCtrl",c.AuthenticationCtrl).controller("AppController",u.AppController).controller("DistributorSelectorCtrl",l.DistributorSelectorCtrl).controller("DistributorsCtrl",d.DistributorsCtrl).controller("DomainsCtrl",v.DomainsCtrl).controller("DomainDetailsCtrl",p.DomainDetailsCtrl).controller("ProofOfPlayMultiLocationCtrl",f.ProofOfPlayMultiLocationCtrl).controller("ProofOfPlayMultiDisplayCtrl",m.ProofOfPlayMultiDisplayCtrl).controller("ProofOfPlayMultiResourceCtrl",h.ProofOfPlayMultiResourceCtrl).controller("ProofOfPlayCtrl",g.ProofOfPlayCtrl).controller("TenantAddCtrl",te.TenantAddCtrl).controller("TenantDetailsCtrl",ne.TenantDetailsCtrl).controller("TenantLocationCtrl",re.TenantLocationCtrl).controller("TenantManagedDevicesCtrl",ie.TenantManagedDevicesCtrl).controller("TenantUnmanagedDevicesCtrl",ae.TenantUnmanagedDevicesCtrl).controller("TenantsCtrl",oe.TenantsCtrl).controller("WelcomeCtrl",se.WelcomeCtrl).run(ue.appRun).config(ce.routes).config(le.toastrConfig).config(le.breadcrumbProvider),r.app.service("RequestInterceptor",["StorageService","$location",function(e,t){"ngInject";var n={request:function(n){var r="5XZHBF3mOwqJlYAlG1NeeWX0Cb72g",i="6C346588BD4C6D722A1165B43C51C";return n.headers={"Content-Type":"application/json",Accept:"application/json",Authorization:t.host().indexOf("provisioning-gamestop")>-1?r:i,"X-Provisioning-User":e.get("userKey"),"X-Provisioning-User-Identifier":e.get("userEmail"),"X-Provisioning-Distributor":e.get("currentDistributorKey")},n}};return n}]),r.app.config(["$httpProvider",function(e){return e.interceptors.push("RequestInterceptor")}])},368:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.app=void 0;var r=t(369),i=n(r),a=t(371),o=n(a),s=t(372);n(s);t(476),t(478),t(482),t(484),t(486),t(494),t(496),t(518),t(519),t(521),t(590),t(591),t(593),t(598),t(608),t(609),t(599),t(615),t(616),t(618),t(620),t(622),t(506),t(632),t(370),t(633),t(635),t(637);var c=t(639),u=n(c);window._=u["default"],window.angular=i["default"];exports.app=i["default"].module("skykitProvisioning",[o["default"],"ngAnimate","720kb.tooltips","ngCookies","ngSanitize","restangular","hSweetAlert","ui.bootstrap","ngMaterialDatePicker","hSweetAlert","ncy-angular-breadcrumb","directive.g+signin","ngProgress","ngMaterial","ngclipboard","toastr"])},374:function(e,exports,t){function n(e){return t(r(e))}function r(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./af":375,"./af.js":375,"./ar":376,"./ar-ma":377,"./ar-ma.js":377,"./ar-sa":378,"./ar-sa.js":378,"./ar-tn":379,"./ar-tn.js":379,"./ar.js":376,"./az":380,"./az.js":380,"./be":381,"./be.js":381,"./bg":382,"./bg.js":382,"./bn":383,"./bn.js":383,"./bo":384,"./bo.js":384,"./br":385,"./br.js":385,"./bs":386,"./bs.js":386,"./ca":387,"./ca.js":387,"./cs":388,"./cs.js":388,"./cv":389,"./cv.js":389,"./cy":390,"./cy.js":390,"./da":391,"./da.js":391,"./de":392,"./de-at":393,"./de-at.js":393,"./de.js":392,"./dv":394,"./dv.js":394,"./el":395,"./el.js":395,"./en-au":396,"./en-au.js":396,"./en-ca":397,"./en-ca.js":397,"./en-gb":398,"./en-gb.js":398,"./en-ie":399,"./en-ie.js":399,"./en-nz":400,"./en-nz.js":400,"./eo":401,"./eo.js":401,"./es":402,"./es-do":403,"./es-do.js":403,"./es.js":402,"./et":404,"./et.js":404,"./eu":405,"./eu.js":405,"./fa":406,"./fa.js":406,"./fi":407,"./fi.js":407,"./fo":408,"./fo.js":408,"./fr":409,"./fr-ca":410,"./fr-ca.js":410,"./fr-ch":411,"./fr-ch.js":411,"./fr.js":409,"./fy":412,"./fy.js":412,"./gd":413,"./gd.js":413,"./gl":414,"./gl.js":414,"./he":415,"./he.js":415,"./hi":416,"./hi.js":416,"./hr":417,"./hr.js":417,"./hu":418,"./hu.js":418,"./hy-am":419,"./hy-am.js":419,"./id":420,"./id.js":420,"./is":421,"./is.js":421,"./it":422,"./it.js":422,"./ja":423,"./ja.js":423,"./jv":424,"./jv.js":424,"./ka":425,"./ka.js":425,"./kk":426,"./kk.js":426,"./km":427,"./km.js":427,"./ko":428,"./ko.js":428,"./ky":429,"./ky.js":429,"./lb":430,"./lb.js":430,"./lo":431,"./lo.js":431,"./lt":432,"./lt.js":432,"./lv":433,"./lv.js":433,"./me":434,"./me.js":434,"./mk":435,"./mk.js":435,"./ml":436,"./ml.js":436,"./mr":437,"./mr.js":437,"./ms":438,"./ms-my":439,"./ms-my.js":439,"./ms.js":438,"./my":440,"./my.js":440,"./nb":441,"./nb.js":441,"./ne":442,"./ne.js":442,"./nl":443,"./nl.js":443,"./nn":444,"./nn.js":444,"./pa-in":445,"./pa-in.js":445,"./pl":446,"./pl.js":446,"./pt":447,"./pt-br":448,"./pt-br.js":448,"./pt.js":447,"./ro":449,"./ro.js":449,"./ru":450,"./ru.js":450,"./se":451,"./se.js":451,"./si":452,"./si.js":452,"./sk":453,"./sk.js":453,"./sl":454,"./sl.js":454,"./sq":455,"./sq.js":455,"./sr":456,"./sr-cyrl":457,"./sr-cyrl.js":457,"./sr.js":456,"./ss":458,"./ss.js":458,"./sv":459,"./sv.js":459,"./sw":460,"./sw.js":460,"./ta":461,"./ta.js":461,"./te":462,"./te.js":462,"./th":463,"./th.js":463,"./tl-ph":464,"./tl-ph.js":464,"./tlh":465,"./tlh.js":465,"./tr":466,"./tr.js":466,"./tzl":467,"./tzl.js":467,"./tzm":468,"./tzm-latn":469,"./tzm-latn.js":469,"./tzm.js":468,"./uk":470,"./uk.js":470,"./uz":471,"./uz.js":471,"./vi":472,"./vi.js":472,"./x-pseudo":473,"./x-pseudo.js":473,"./zh-cn":474,"./zh-cn.js":474,"./zh-tw":475,"./zh-tw.js":475};n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id=374},518:function(e,exports){"use strict";angular.module("ngProgress.provider",["ngProgress.directive"]).service("ngProgress",function(){return["$document","$window","$compile","$rootScope","$timeout",function(e,t,n,r,i){this.autoStyle=!0,this.count=0,this.height="2px",this.$scope=r.$new(),this.color="firebrick",this.parent=e.find("body")[0],this.count=0,this.progressbarEl=n("<ng-progress></ng-progress>")(this.$scope),this.parent.appendChild(this.progressbarEl[0]),this.$scope.count=this.count,void 0!==this.height&&this.progressbarEl.eq(0).children().css("height",this.height),void 0!==this.color&&(this.progressbarEl.eq(0).children().css("background-color",this.color),this.progressbarEl.eq(0).children().css("color",this.color)),this.intervalCounterId=0,this.start=function(){this.show();var e=this;clearInterval(this.intervalCounterId),this.intervalCounterId=setInterval(function(){isNaN(e.count)?(clearInterval(e.intervalCounterId),e.count=0,e.hide()):(e.remaining=100-e.count,e.count=e.count+.15*Math.pow(1-Math.sqrt(e.remaining),2),e.updateCount(e.count))},200)},this.updateCount=function(e){this.$scope.count=e,this.$scope.$$phase||this.$scope.$apply()},this.setHeight=function(e){return void 0!==e&&(this.height=e,this.$scope.height=this.height,this.$scope.$$phase||this.$scope.$apply()),this.height},this.setColor=function(e){return void 0!==e&&(this.color=e,this.$scope.color=this.color,this.$scope.$$phase||this.$scope.$apply()),this.color},this.hide=function(){this.progressbarEl.children().css("opacity","0");var e=this;e.animate(function(){e.progressbarEl.children().css("width","0%"),e.animate(function(){e.show()},500)},500)},this.show=function(){var e=this;e.animate(function(){e.progressbarEl.children().css("opacity","1")},100)},this.animate=function(e,t){void 0!==this.animation&&i.cancel(this.animation),this.animation=i(e,t)},this.status=function(){return this.count},this.stop=function(){clearInterval(this.intervalCounterId)},this.set=function(e){return this.show(),this.updateCount(e),this.count=e,clearInterval(this.intervalCounterId),this.count},this.css=function(e){return this.progressbarEl.children().css(e)},this.reset=function(){return clearInterval(this.intervalCounterId),this.count=0,this.updateCount(this.count),0},this.complete=function(){this.count=100,this.updateCount(this.count);var e=this;return clearInterval(this.intervalCounterId),i(function(){e.hide(),i(function(){e.count=0,e.updateCount(e.count)},500)},1e3),this.count},this.setParent=function(e){if(null===e||void 0===e)throw new Error("Provide a valid parent of type HTMLElement");null!==this.parent&&void 0!==this.parent&&this.parent.removeChild(this.progressbarEl[0]),this.parent=e,this.parent.appendChild(this.progressbarEl[0])},this.getDomElement=function(){return this.progressbarEl},this.setAbsolute=function(){this.progressbarEl.css("position","absolute")}}]}).factory("ngProgressFactory",["$injector","ngProgress",function(e,t){var n={createInstance:function(){return e.instantiate(t)}};return n}]),angular.module("ngProgress.directive",[]).directive("ngProgress",["$window","$rootScope",function(e,t){var n={replace:!0,restrict:"E",link:function(e,t,n,r){e.$watch("count",function(n){(void 0!==n||null!==n)&&(e.counter=n,t.eq(0).children().css("width",n+"%"))}),e.$watch("color",function(n){(void 0!==n||null!==n)&&(e.color=n,t.eq(0).children().css("background-color",n),t.eq(0).children().css("color",n))}),e.$watch("height",function(n){(void 0!==n||null!==n)&&(e.height=n,t.eq(0).children().css("height",n))})},template:'<div id="ngProgress-container"><div id="ngProgress"></div></div>'};return n}]),angular.module("ngProgress",["ngProgress.directive","ngProgress.provider"])},519:function(e,exports,t){var n=t(520);"string"==typeof n&&(n=[[e.id,n,""]]);t(481)(n,{});n.locals&&(e.exports=n.locals)},520:function(e,exports,t){exports=e.exports=t(480)(),exports.push([e.id,"#ngProgress{margin:0;padding:0;z-index:99998;background-color:green;color:green;box-shadow:0 0 10px 0;height:2px;opacity:0;-webkit-transition:all .5s ease-in-out;transition:all .5s ease-in-out}#ngProgress-container{position:fixed;margin:0;padding:0;top:0;left:0;right:0;z-index:99999}",""])},521:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(522),i=n(r);/*! angular-breadcrumb - v0.4.0-dev-2015-08-07
	* http://ncuillery.github.io/angular-breadcrumb
	* Copyright (c) 2015 Nicolas Cuillery; Licensed MIT */
!function(e,t,n){function r(e,n){return t.equals(e.length,n.length)?e>n:e.length>n.length}function a(e){var t=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}function o(){var e={prefixStateName:null,template:"bootstrap3",templateUrl:null,includeAbstract:!1};this.setOptions=function(n){t.extend(e,n)},this.$get=["$state","$stateParams","$rootScope",function(t,o,s){var c=s;s.$on("$viewContentLoaded",function(e){!e.targetScope.ncyBreadcrumbIgnore&&r(e.targetScope.$id,c.$id)&&(c=e.targetScope)});var u=function(e){var t=e.parent||(/^(.+)\.[^.]+$/.exec(e.name)||[])[1],n="object"==("undefined"==typeof t?"undefined":(0,i["default"])(t));return n?t.name:t},l=function v(n,r){for(var i,s,v=a(r),u=!1,l=!1,d=0,p=n.length;p>d;d+=1)if(n[d].name===v.state)return;i=t.get(v.state),i.ncyBreadcrumb&&(i.ncyBreadcrumb.force&&(u=!0),i.ncyBreadcrumb.skip&&(l=!0)),i["abstract"]&&!e.includeAbstract&&!u||l||(v.paramExpr&&(s=c.$eval(v.paramExpr)),i.ncyBreadcrumbLink=t.href(v.state,s||o||{}),n.unshift(i))},d=function(e){var n=a(e),r=t.get(n.state);if(r.ncyBreadcrumb&&r.ncyBreadcrumb.parent){var i="function"==typeof r.ncyBreadcrumb.parent,o=i?r.ncyBreadcrumb.parent(c):r.ncyBreadcrumb.parent;if(o)return o}return u(r)};return{getTemplate:function(t){return e.templateUrl?null:t[e.template]?t[e.template]:e.template},getTemplateUrl:function(){return e.templateUrl},getStatesChain:function(n){for(var r=[],i=t.$current.self.name;i;i=d(i))if(l(r,i),n&&r.length)return r;return e.prefixStateName&&l(r,e.prefixStateName),r},getLastStep:function(){var e=this.getStatesChain(!0);return e.length?e[0]:n},$getLastViewScope:function(){return c}}}]}function s(e,n,r){var i={bootstrap2:'<ul class="breadcrumb"><li ng-repeat="step in steps" ng-switch="$last || !!step.abstract" ng-class="{active: $last}"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span><span class="divider" ng-hide="$last">/</span></li></ul>',bootstrap3:'<ol class="breadcrumb"><li ng-repeat="step in steps" ng-class="{active: $last}" ng-switch="$last || !!step.abstract"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span></li></ol>'};return{restrict:"AE",replace:!0,scope:{},template:n.getTemplate(i),templateUrl:n.getTemplateUrl(),link:{post:function(i){var a=[],o=function(){v(a),a=[];var r=n.$getLastViewScope();i.steps=n.getStatesChain(),t.forEach(i.steps,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);t.ncyBreadcrumbLabel=n(r),d(a,n,r,t)}else t.ncyBreadcrumbLabel=t.name})};r.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||o()}),o()}}}}function c(e,t,n){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbLabel}}",compile:function(r,i){var a=r.attr(i.$attr.ncyBreadcrumbLast);return a&&r.html(a),{post:function(r){var i=[],a=function o(){v(i),i=[];var n=t.$getLastViewScope(),o=t.getLastStep();if(o)if(r.ncyBreadcrumbLink=o.ncyBreadcrumbLink,o.ncyBreadcrumb&&o.ncyBreadcrumb.label){var a=e(o.ncyBreadcrumb.label);r.ncyBreadcrumbLabel=a(n),d(i,a,n,r)}else r.ncyBreadcrumbLabel=o.name};n.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||a()}),a()}}}}}function u(e,n,r){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbChain}}",compile:function(i,a){var o=i.attr(a.$attr.ncyBreadcrumbText);o&&i.html(o);var s=i.attr(a.$attr.ncyBreadcrumbTextSeparator)||" / ";return{post:function(i){var a=[],o=function(e,n,r){t.forEach(l(n),function(t){var n=r.$watch(t,function(e,t){e!==t&&c()});e.push(n)})},c=function u(){v(a),a=[];var r=n.$getLastViewScope(),u=n.getStatesChain(),c=[];t.forEach(u,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);c.push(n(r)),o(a,n,r)}else c.push(t.name)}),i.ncyBreadcrumbChain=c.join(s)};r.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||c()}),c()}}}}}var l=function(e){if(e.expressions)return e.expressions;var n=[];return t.forEach(e.parts,function(e){t.isFunction(e)&&n.push(e.exp)}),n},d=function(e,n,r,i){t.forEach(l(n),function(t){var a=r.$watch(t,function(){i.ncyBreadcrumbLabel=n(r)});e.push(a)})},v=function(e){t.forEach(e,function(e){e()})};s.$inject=["$interpolate","$breadcrumb","$rootScope"],c.$inject=["$interpolate","$breadcrumb","$rootScope"],u.$inject=["$interpolate","$breadcrumb","$rootScope"],t.module("ncy-angular-breadcrumb",["ui.router.state"]).provider("$breadcrumb",o).directive("ncyBreadcrumb",s).directive("ncyBreadcrumbLast",c).directive("ncyBreadcrumbText",u)}(window,window.angular)},590:function(e,exports,t){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(372),i=n(r);!function(t){var n="ngMaterialDatePicker",r={DATE:0,HOUR:1,MINUTE:2},i=function(t,n){return"jQuery"in window?e(t).css(n):(t=angular.element(t),"getComputedStyle"in window?window.getComputedStyle(t[0])[n]:t.css(n))},a='<md-dialog class="dtp" layout="column" style="width: 300px;">    <md-dialog-content class="dtp-content">        <div class="dtp-date-view">            <header class="dtp-header">                <div class="dtp-actual-day" ng-show="picker.dateMode">{{picker.currentDate.format("dddd")}}</div>                <div class="dtp-actual-day" ng-show="picker.timeMode">{{picker.params.shortTime ? picker.currentDate.format("A") : " "}}</div>                <div class="dtp-close text-right">                    <a href="#" mdc-dtp-noclick ng-click="picker.hide()">&times;</a>                </div>            </header>            <div class="dtp-date" ng-show="picker.params.date">                <div layout="column">                    <div class="dtp-actual-month">{{picker.currentDate.format("MMM") | uppercase}}</div>                </div>                <div class="dtp-actual-num">{{picker.currentDate.format("DD")}}</div>                <div layout="row"> <div ng-click="picker.incrementYear(-1)" class="dtp-year-btn dtp-year-btn-prev" flex="30"><span ng-if="picker.isPreviousYearVisible()" >&#x25B2;</span></div>                    <div class="dtp-actual-year" flex>{{picker.currentDate.format("YYYY")}}</div> <div ng-click="picker.incrementYear(1)" class="dtp-year-btn dtp-year-btn-next" flex="30"><span ng-if="picker.isNextYearVisible()" >&#x25BC;</span></div>                </div>            </div>            <div class="dtp-time" ng-show="picker.params.time && !picker.params.date">                <div class="dtp-actual-maxtime">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>            </div>            <div class="dtp-picker">                <mdc-datetime-picker-calendar date="picker.currentDate" picker="picker" class="dtp-picker-calendar" ng-show="picker.currentView === picker.VIEWS.DATE"></mdc-datetime-picker-calendar>                <div class="dtp-picker-datetime" ng-show="picker.currentView !== picker.VIEWS.DATE">                    <div class="dtp-actual-meridien">                        <div class="left p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-am" ng-class="{selected: picker.meridien == \'AM\'}" ng-click="picker.selectAM()">{{picker.params.amText}}</a>                        </div>                        <div ng-show="!picker.timeMode" class="dtp-actual-time p60">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>                        <div class="right p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-pm" ng-class="{selected: picker.meridien == \'PM\'}" ng-click="picker.selectPM()">{{picker.params.pmText}}</a>                        </div>                        <div class="clearfix"></div>                    </div>                    <mdc-datetime-picker-clock mode="hours" ng-if="picker.currentView === picker.VIEWS.HOUR"></mdc-datetime-picker-clock>                    <mdc-datetime-picker-clock mode="minutes" ng-if="picker.currentView === picker.VIEWS.MINUTE"></mdc-datetime-picker-clock>                </div>            </div>        </div>    </md-dialog-content>    <md-dialog-actions class="dtp-buttons">            <md-button class="dtp-btn-cancel md-button" ng-click="picker.cancel()"> {{picker.params.cancelText}}</md-button>            <md-button class="dtp-btn-ok md-button" ng-click="picker.ok()"> {{picker.params.okText}}</md-button>      </md-dialog-actions></md-dialog>';angular.module(n,["ngMaterial"]).provider("mdcDatetimePickerDefaultLocale",function(){this.locale="en",this.$get=function(){return this.locale},this.setDefaultLocale=function(e){this.locale=e}}).directive("mdcDatetimePicker",["$mdDialog",function(e){return{restrict:"A",require:"ngModel",scope:{currentDate:"=ngModel",time:"=",date:"=",minDate:"=",maxDate:"=",shortTime:"=",format:"@",cancelText:"@",okText:"@",lang:"@",amText:"@",pmText:"@"},link:function(n,r,i,s){var c=!1;n.format||(n.date&&n.time?n.format="YYYY-MM-DD HH:mm:ss":n.date?n.format="YYYY-MM-DD":n.format="HH:mm"),angular.isString(n.currentDate)&&""!==n.currentDate&&(n.currentDate=t(n.currentDate,n.format)),s&&s.$formatters.push(function(e){if("undefined"!=typeof e){var r=t(e);return r.isValid()?r.format(n.format):""}}),r.attr("readonly",""),r.on("focus",function(t){if(t.preventDefault(),r.blur(),!c){c=!0;var s={};for(var u in i)n.hasOwnProperty(u)&&!angular.isUndefined(n[u])&&(s[u]=n[u]);s.currentDate=n.currentDate;var l={options:s};e.show({template:a,controller:o,controllerAs:"picker",locals:l,openFrom:r,parent:angular.element(document.body),bindToController:!0,disableParentScroll:!1}).then(function(e){n.currentDate=e?e._d:e,c=!1},function(){c=!1})}})}}}]);var o=function(e,t,n){this.currentView=r.DATE,this._dialog=t,this.minDate,this.maxDate,this._attachedEvents=[],this.VIEWS=r,this.params={date:!0,time:!0,format:"YYYY-MM-DD",minDate:null,maxDate:null,currentDate:null,lang:n,weekStart:0,shortTime:!1,cancelText:"Cancel",okText:"OK",amText:"AM",pmText:"PM"},this.meridien="AM",this.params=angular.extend(this.params,this.options),this.init()};o.$inject=["$scope","$mdDialog","mdcDatetimePickerDefaultLocale"],o.prototype={init:function(){this.timeMode=this.params.time&&!this.params.date,this.dateMode=this.params.date,this.initDates(),this.start()},currentNearest5Minute:function(){var e=this.currentDate||t(),n=5*Math.round(e.minute()/5);return n>=60&&(n=55),t(e).minutes(n)},initDates:function(){var e=this,n=function(n,r){var i=null;if(angular.isDefined(n)&&null!==n&&""!==n)if(angular.isString(n))i="undefined"!=typeof e.params.format&&null!==e.params.format?t(n,e.params.format).locale(e.params.lang):t(n).locale(e.params.lang);else if(angular.isDate(n)){var a=n.getTime();i=t(a,"x").locale(e.params.lang)}else n._isAMomentObject&&(i=n);else i=r;return i};this.currentDate=n(this.params.currentDate,t()),this.minDate=n(this.params.minDate),this.maxDate=n(this.params.maxDate),this.selectDate(this.currentDate)},initDate:function(e){this.currentView=r.DATE},initHours:function(){this.currentView=r.HOUR},initMinutes:function(){this.currentView=r.MINUTE},isAfterMinDate:function(e,n,r){var i=!0;if("undefined"!=typeof this.minDate&&null!==this.minDate){var a=t(this.minDate),o=t(e);n||r||(a.hour(0),a.minute(0),o.hour(0),o.minute(0)),a.second(0),o.second(0),a.millisecond(0),o.millisecond(0),r?i=parseInt(o.format("X"))>=parseInt(a.format("X")):(o.minute(0),a.minute(0),i=parseInt(o.format("X"))>=parseInt(a.format("X")))}return i},isBeforeMaxDate:function(e,n,r){var i=!0;if("undefined"!=typeof this.maxDate&&null!==this.maxDate){var a=t(this.maxDate),o=t(e);n||r||(a.hour(0),a.minute(0),o.hour(0),o.minute(0)),a.second(0),o.second(0),a.millisecond(0),o.millisecond(0),r?i=parseInt(o.format("X"))<=parseInt(a.format("X")):(o.minute(0),a.minute(0),i=parseInt(o.format("X"))<=parseInt(a.format("X")))}return i},selectDate:function(e){e&&(this.currentDate=t(e),this.isAfterMinDate(this.currentDate)||(this.currentDate=t(this.minDate)),this.isBeforeMaxDate(this.currentDate)||(this.currentDate=t(this.maxDate)),this.currentDate.locale(this.params.lang),this.calendarStart=t(this.currentDate),this.meridien=this.currentDate.hour()>=12?"PM":"AM")},setName:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},isPM:function(){return"PM"===this.meridien},incrementYear:function(e){1===e&&this.isNextYearVisible()&&this.selectDate(this.currentDate.add("year",e)),e===-1&&this.isPreviousYearVisible()&&this.selectDate(this.currentDate.add("year",e))},isPreviousMonthVisible:function(){return this.calendarStart&&this.isAfterMinDate(t(this.calendarStart).startOf("month"),!1,!1)},isNextMonthVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(t(this.calendarStart).endOf("month"),!1,!1)},isPreviousYearVisible:function(){return this.calendarStart&&this.isAfterMinDate(t(this.calendarStart).startOf("year"),!1,!1)},isNextYearVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(t(this.calendarStart).endOf("year"),!1,!1)},isHourAvailable:function(e){var n=t(this.currentDate);return n.hour(this.convertHours(e)).minute(0).second(0),this.isAfterMinDate(n,!0,!1)&&this.isBeforeMaxDate(n,!0,!1)},isMinuteAvailable:function(e){var n=t(this.currentDate);return n.minute(e).second(0),this.isAfterMinDate(n,!0,!0)&&this.isBeforeMaxDate(n,!0,!0)},start:function(){this.currentView=r.DATE,this.params.date?this.initDate():this.params.time&&this.initHours()},ok:function(){switch(this.currentView){case r.DATE:this.params.time===!0?this.initHours():this.hide(!0);break;case r.HOUR:this.initMinutes();break;case r.MINUTE:this.hide(!0)}},cancel:function(){if(this.params.time)switch(this.currentView){case r.DATE:this.hide();break;case r.HOUR:this.params.date?this.initDate():this.hide();break;case r.MINUTE:this.initHours()}else this.hide()},selectMonthBefore:function(){this.calendarStart.subtract(1,"months")},selectMonthAfter:function(){this.calendarStart.add(1,"months")},selectYearBefore:function(){this.calendarStart.subtract(1,"years")},selectYearAfter:function(){this.calendarStart.add(1,"years")},selectAM:function(){(this.isHourAvailable(0)||this.isHourAvailable(12))&&(this.currentDate.hour()>=12&&this.selectDate(this.currentDate.subtract(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.minDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.minDate.minute())))},selectPM:function(){(this.isHourAvailable(13)||this.isHourAvailable(24))&&(this.currentDate.hour()<12&&this.selectDate(this.currentDate.add(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.maxDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.maxDate.minute())))},convertHours:function(e){var t=e;return e<12&&this.isPM()&&(t+=12),t},hide:function(e){e?this._dialog.hide(this.currentDate):this._dialog.cancel()}},angular.module(n).directive("mdcDatetimePickerCalendar",[function(){for(var e=(t(),1900),n=2100,r=12*(n-e+1),i=240,a=[],o=0;o<r;o++)a.push(o);var s=function(t){var n=t.year(),r=t.month();return 12*(n-e)+r-1};return{restrict:"E",scope:{picker:"=",date:"="},bindToController:!0,controllerAs:"cal",controller:["$scope",function(n){for(var i=this,o=this.picker,c=[],u=o.params.weekStart;c.length<7;u++)u>6&&(u=0),c.push(u.toString());if(i.week=c,o.maxDate||o.minDate){var l=o.minDate?s(o.minDate):0,d=o.maxDate?s(o.maxDate)+1:r;i.months=a.slice(l,d)}else i.months=a;i.getItemAtIndex=function(n){var r=(n+1)%12||12,i=e+Math.floor(n/12),a=t(o.currentDate).year(i).month(r);return v(a)},i.topIndex=s(o.currentDate)-i.months[0],n.$watch(function(){return o.currentDate?o.currentDate.format("YYYY-MM"):""},function(e,n){if(e!=n){var r=t(e,"YYYY-MM"),a=s(r);i.topIndex!=a&&(i.topIndex=a-i.months[0])}});var v=function(e){var n={};if(null!==e){n.name=e.format("MMMM YYYY");var r=t(e).locale(o.params.lang).startOf("month").hour(e.hour()).minute(e.minute()),a=r.format("d");n.days=[];for(var s=r.date();s<=r.daysInMonth();s++){if(s===r.date()){var c=i.week.indexOf(a.toString());if(c>0)for(var u=0;u<c;u++)n.days.push(0)}n.days.push(t(r).locale(o.params.lang).date(s))}for(var l=7,d=[],v=Math.ceil(n.days.length/l),p=0;p<v;p++)d.push(n.days.slice(p*l,(p+1)*l));return n.days=d,n}};i.toDay=function(e){return t(parseInt(e),"d").locale(o.params.lang).format("dd").substring(0,1)},i.isInRange=function(e){return o.isAfterMinDate(t(e),!1,!1)&&o.isBeforeMaxDate(t(e),!1,!1)},i.selectDate=function(e){if(e){if(i.isSelectedDay(e))return o.ok();o.selectDate(t(e).hour(i.date.hour()).minute(i.date.minute()))}},i.isSelectedDay=function(e){return e&&i.date.date()===e.date()&&i.date.month()===e.month()&&i.date.year()===e.year()}}],template:'<md-virtual-repeat-container md-top-index="cal.topIndex" class="months"><div md-virtual-repeat="idx in cal.months" md-start-index="cal.topIndex" md-item-size="'+i+'">     <div mdc-datetime-picker-calendar-month idx="idx"></div></div></md-virtual-repeat-container>'}}]).directive("mdcDatetimePickerCalendarMonth",["$compile",function(e){var t=function(t,n){var r=angular.element(t[0].querySelector("tbody")),i=n.cal,a=n.month;r.html(""),a.days.forEach(function(e,t){var n=angular.element("<tr></tr>");e.forEach(function(e,r){var a=angular.element("<td> </td>");if(e){var o;if(i.isInRange(e)){var s='month["days"]['+t+"]["+r+"]";o=angular.element("<a href='#' mdc-dtp-noclick></a>").attr("ng-class","{selected: cal.isSelectedDay("+s+")}").attr("ng-click","cal.selectDate("+s+")")}else o=angular.element("<span></span>");o.addClass("dtp-select-day").html(e.format("D")),a.append(o)}n.append(a)}),r.append(n)}),e(r)(n)};return{scope:{idx:"="},require:"^mdcDatetimePickerCalendar",restrict:"AE",template:'<div class="dtp-picker-month">{{month.name}}</div><table class="table dtp-picker-days">    <thead>    <tr>        <th ng-repeat="day in cal.week">{{cal.toDay(day)}}</th>    </tr>    </thead>    <tbody>    </tbody></table>',link:function(e,n,r,i){e.cal=i,e.month=i.getItemAtIndex(parseInt(e.idx)),t(n,e),e.$watch(function(){return e.idx},function(r,a){r!=a&&(e.month=i.getItemAtIndex(parseInt(e.idx)),t(n,e))})}}}]),angular.module(n).directive("mdcDtpNoclick",function(){return{link:function(e,t){t.on("click",function(e){e.preventDefault()})}}}),angular.module(n).directive("mdcDatetimePickerClock",[function(){var e='<div class="dtp-picker-clock"><span ng-if="!points || points.length < 1">&nbsp;</span><div ng-repeat="point in points" class="dtp-picker-time" style="margin-left: {{point.left}}px; margin-top: {{point.top}}px;">   <a href="#" mdc-dtp-noclick ng-class="{selected: point.value===currentValue}" class="dtp-select-hour" ng-click="setTime(point.value)" ng-if="pointAvailable(point)">{{point.display}}</a>   <a href="#" mdc-dtp-noclick class="disabled dtp-select-hour" ng-if="!pointAvailable(point)">{{point.display}}</a></div><div class="dtp-hand dtp-hour-hand"></div><div class="dtp-hand dtp-minute-hand"></div><div class="dtp-clock-center"></div></div>';return{restrict:"E",template:e,link:function(e,t,n){var r="minutes"===n.mode,a=e.picker,o=document.querySelector("md-dialog.dtp"),s=function(){var n=angular.element(t[0].querySelector(".dtp-picker-clock")),s=angular.element(o.querySelector(".dtp-picker")),u=o.querySelector(".dtp-content").offsetWidth,d=parseInt(i(s,"paddingLeft").replace("px",""))||0,v=parseInt(i(s,"paddingRight").replace("px",""))||0,p=parseInt(i(n,"marginLeft").replace("px",""))||0,f=parseInt(i(n,"marginRight").replace("px",""))||0,m=u-(p+f+d+v);n.css("width",m+"px");for(var h=parseInt(i(s,"paddingLeft").replace("px",""))||0,g=parseInt(i(s,"paddingTop").replace("px",""))||0,y=parseInt(i(n,"marginLeft").replace("px",""))||0,b=parseInt(i(n,"marginTop").replace("px",""))||0,D=m/2,S=D/1.2,_=[],k=0;k<12;++k){var T=S*Math.sin(2*Math.PI*(k/12)),x=S*Math.cos(2*Math.PI*(k/12)),C={left:D+T+h/2-(h+y),top:D-x-b/2-(g+b),value:r?5*k:k};r?C.display=C.value<10?"0"+C.value:C.value:a.params.shortTime?C.display=0===k?12:k:C.display=a.isPM()?k+12:k,_.push(C)}e.points=_,l(),n.css("height",m+"px");var w=t[0].querySelector(".dtp-clock-center"),M=w.offsetWidth/2||7.5,I=w.offsetHeight/2||7.5,P=D/1.8,E=D/1.5;angular.element(t[0].querySelector(".dtp-hour-hand")).css({left:D+1.5*y+"px",height:P+"px",marginTop:D-P-h+"px"}).addClass(r?"":"on"),angular.element(t[0].querySelector(".dtp-minute-hand")).css({left:D+1.5*y+"px",height:E+"px",marginTop:D-E-h+"px"}).addClass(r?"on":""),angular.element(w).css({left:D+h+y-M+"px",marginTop:D-y/2-I+"px"}),c()},c=function(){var e=a.currentNearest5Minute(),n=e.hour(),r=e.minute();u(angular.element(t[0].querySelector(".dtp-hour-hand")),30*n);var i=6*(5*Math.round(r/5));u(angular.element(t[0].querySelector(".dtp-minute-hand")),i)},u=function(e,t){angular.element(e).css({WebkitTransform:"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)"})},l=function(){var t=a.currentNearest5Minute();e.currentValue=r?t.minute():t.hour()%12};e.$watch(function(){var e=a.currentNearest5Minute();return e?e.format("HH:mm"):""},function(e){l(),c()});var d=function(e,t){for(var n=0;n<t.length;n++)t[n].display=n,e&&(t[n].display+=12);return t};a.params.shortTime||e.$watch("picker.meridien",function(){if(!r&&e.points){var t=d(a.isPM(),angular.copy(e.points));e.points=t}}),e.setTime=function(t){t===e.currentValue&&a.ok(),r?a.currentDate.minute(t):a.currentDate.hour(a.isPM()?t+12:t),a.currentDate.second(0)},e.pointAvailable=function(e){return r?a.isMinuteAvailable(e.value):a.isHourAvailable(e.value)};var v=e.$watch(function(){return t[0].querySelectorAll("div").length},function(){s(),v()})}}}])}(i["default"])}).call(exports,t(506))},591:function(e,exports,t){var n=t(592);"string"==typeof n&&(n=[[e.id,n,""]]);t(481)(n,{});n.locals&&(e.exports=n.locals)},592:function(e,exports,t){exports=e.exports=t(480)(),exports.push([e.id,"md-dialog.dtp{font-size:14px;line-height:1.42857143;color:#333;background-color:#fff;max-height:none}.dtp :focus{outline:none!important}.dtp table{border-spacing:0;border-collapse:collapse;width:100%}.dtp .table>tbody>tr>td,.dtp .table>tbody>tr>th,.dtp .table>tfoot>tr>td,.dtp .table>tfoot>tr>th,.dtp .table>thead>tr>td,.dtp .table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}.dtp,.dtp *{box-sizing:border-box!important}.dtp>.dtp-content{max-width:300px;max-height:500px}.dtp>.dtp-content>.dtp-date-view>header.dtp-header{background:#689f38;color:#fff;text-align:center;padding:3px}.dtp div.dtp-date,.dtp div.dtp-time{background:#8bc34a;text-align:center;color:#fff;padding:10px}.dtp div.dtp-date>div{padding:0;margin:0}.dtp div.dtp-actual-month{font-size:1.5em}.dtp div.dtp-actual-maxtime,.dtp div.dtp-actual-num{font-size:3em;line-height:.9}.dtp div.dtp-actual-year{font-size:1.6em;color:#dcedc8}.dtp div.dtp-year-btn{font-size:1.4em;line-height:30px;cursor:pointer;color:#dcedc8}.dtp div.dtp-year-btn-prev{text-align:right}.dtp div.dtp-year-btn-next{text-align:left}.dtp div.dtp-picker{padding:10px;text-align:center}.dtp div.dtp-actual-time,.dtp div.dtp-picker-month{font-weight:500;text-align:center}.dtp .dtp-close{position:absolute;top:.25em;right:5px;font-size:16px}.dtp .dtp-close>a{color:#fff;text-decoration:none}.dtp .dtp-close>a>i{font-size:1em}.dtp table.dtp-picker-days{margin:0;min-height:220px}.dtp md-virtual-repeat-container.months{height:260px}.dtp table.dtp-picker-days,.dtp table.dtp-picker-days tr,.dtp table.dtp-picker-days tr>td{border:none}.dtp table.dtp-picker-days tr>td{font-size:11px;text-align:center;padding:0}.dtp table.dtp-picker-days tr>td>span.dtp-select-day{color:#bdbdbd!important}.dtp table.dtp-picker-days tr>td>.dtp-select-day{width:36px;height:36px;display:inline-block}.dtp .dtp-picker-time>a,.dtp table.dtp-picker-days tr>td>.dtp-select-day{color:#212121;text-decoration:none;padding:10px;border-radius:50%!important}.dtp table.dtp-picker-days tr>td>a.selected{background:#8bc34a;color:#fff}.dtp table.dtp-picker-days tr>td>a:hover:not(.selected){background:#ddd}.dtp table.dtp-picker-days tr>th{color:#757575;text-align:center;font-weight:700;padding:4px 3px}.dtp .p10>a{color:#689f38;text-decoration:none}.dtp .p10{width:10%}.dtp .p10,.dtp .p20{display:inline-block}.dtp .p20{width:20%}.dtp .p60{width:60%}.dtp .p60,.dtp .p80{display:inline-block}.dtp .p80{width:80%}.dtp a.dtp-meridien-am,.dtp a.dtp-meridien-pm{position:relative;top:10px;color:#212121;font-weight:500;padding:7px 5px;border-radius:50%!important;text-decoration:none;background:#eee;font-size:10px}.dtp .dtp-actual-meridien a.selected{background:#689f38;color:#fff}.dtp .dtp-picker-time>a{display:block;line-height:23px;padding:3px}.dtp .dtp-picker-time{position:absolute;width:30px;height:30px;font-size:1.1em;border-radius:50%;cursor:pointer;text-align:center!important}.dtp .dtp-picker-time>a.dtp-select-hour.selected{background:#689f38;color:#fff}.dtp .dtp-picker-time>a.dtp-select-hour.disabled,.dtp .dtp-picker-time>a.dtp-select-minute.disabled{color:#757575}.dtp .dtp-picker-time>a.dtp-select-minute.selected{background:#8bc34a;color:#fff}.dtp div.dtp-picker-clock{margin:10px 20px 0;padding:10px;border-radius:50%!important;background:#eee}.dtp-clock-center{width:15px;height:15px;background:#757575;border-radius:50%;position:absolute;z-index:50}.dtp .dtp-hand,.dtp .dtp-hour-hand{position:absolute;width:4px;margin-left:-2px;background:#bdbdbd;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:bottom;transform-origin:bottom;z-index:1}.dtp .dtp-minute-hand{width:2px;margin-left:-1px}.dtp .dtp-hand.on{background:#8bc34a}.dtp .dtp-buttons{padding:0 10px 10px;text-align:right}.dtp.hidden,.dtp .hidden{display:none}.dtp .invisible{visibility:hidden}.dtp .left{float:left}.dtp .right{float:right}.dtp .clearfix{clear:both}.dtp .center{text-align:center}",""])},593:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(594),i=n(r);angular.module("directive.g+signin",[]).directive("googlePlusSignin",["$window",function(e){var t=/\.apps\.googleusercontent\.com$/;return{restrict:"E",transclude:!0,template:"<span></span>",replace:!0,link:function(n,r,a,o,s){a.clientid+=t.test(a.clientid)?"":".apps.googleusercontent.com",a.$set("data-clientid",a.clientid),a.$set("theme",a.theme);var c={callback:"signinCallback",cookiepolicy:"single_host_origin",requestvisibleactions:"http://schemas.google.com/AddActivity",scope:"https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/userinfo.email",height:"standard",width:"wide",state:""};c.clientid=a.clientid,c.theme=a.theme,angular.forEach((0,i["default"])(c),function(e){a.hasOwnProperty(e)&&(c[e]=a[e])}),a.$observe("language",function(t){e.___gcfg={lang:t?t:"en"}});var u=document.createElement("script");u.type="text/javascript",u.async=!0,u.src="https://apis.google.com/js/client:plusone.js";var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(u,l),s(function(e,t){u.onload=function(){e.length&&r.append(e),gapi.signin.render(r[0],c)}})}}}]).run(["$window","$rootScope",function(e,t){e.signinCallback=function(e){e&&e.access_token?t.$broadcast("event:google-plus-signin-success",e):t.$broadcast("event:google-plus-signin-failure",e)}}])},598:function(e,exports,t){function n(e){return e&&e.__esModule?e:{"default":e}}var r,i,a=t(522);n(a);!function(n,a){"use strict";r=[t(369),t(599)],i=function(e,t){return a(e,t)}.apply(exports,r),!(void 0!==i&&(e.exports=i))}(void 0,function(e,t){"use strict";var n=function(){this.show=function(){var e=[].slice.call(arguments,0);t.apply(void 0,e)},e.forEach(["showInputError","close"],function(e){this[e]=function(){var n=[].slice.call(arguments,0);t[e].apply(void 0,n)}},this),this.isShown=function(){var t;return e.forEach(document.getElementsByClassName("sweet-alert"),function(n){t=e.element(n)}),t&&t.hasClass("visible")}},r="hSweetAlert";return e.module(r,[]).service("sweet",[n]),r})},635:function(e,exports,t){var n=t(636);"string"==typeof n&&(n=[[e.id,n,""]]);t(481)(n,{});n.locals&&(e.exports=n.locals)},636:function(e,exports,t){exports=e.exports=t(480)(),exports.push([e.id,"",""])},637:function(e,exports,t){var n=t(638);"string"==typeof n&&(n=[[e.id,n,""]]);t(481)(n,{});n.locals&&(e.exports=n.locals)},638:function(e,exports,t){exports=e.exports=t(480)(),exports.push([e.id,".distributor-selection{font-size:16pt;padding:3px;margin:3px}body{margin-top:100px;background-color:transparent}@media (min-width:768px){body{margin-top:50px}}#wrapper{padding-left:0}#page-wrapper{width:100%;padding:0;background-color:#fff}.huge{font-size:50px;line-height:normal}@media (min-width:768px){#wrapper{padding-left:225px}#page-wrapper{padding:10px}}.margin-top-05{margin-top:.5em}.margin-top-15{margin-top:1.5em}.margin-top-20{margin-top:2em}.margin-top-25{margin-top:2.5em}.margin-top-50{margin-top:5em}.issue-warning-background{background-color:orange}.issue-warning-text{color:orange}.issue-danger-background{background-color:red}.issue-danger-text{color:red}.issue-normal-background{background-color:green}.issue-normal-text{color:green}.up-true-background{background-color:green}.up-false-background{background-color:red}.navbar-default{background-color:#1b75bb;border-color:#15598e}.navbar-default .navbar-brand{color:#fff}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#55a7e7}.navbar-default .navbar-nav>li>a,.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#fff}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#fff;background-color:#afd5f3}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{color:#555;background-color:#d5d5d5}.navbar-default .navbar-nav>.dropdown>a .caret{border-top-color:#777;border-bottom-color:#777}.navbar-default .navbar-nav>.dropdown>a:focus .caret,.navbar-default .navbar-nav>.dropdown>a:hover .caret{border-top-color:#333;border-bottom-color:#333}.navbar-default .navbar-nav>.open>a .caret,.navbar-default .navbar-nav>.open>a:focus .caret,.navbar-default .navbar-nav>.open>a:hover .caret{border-top-color:#555;border-bottom-color:#555}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#ccc}@media (max-width:767px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333}}.top-nav{padding:0 15px}.top-nav>li{display:inline-block;float:left}.top-nav>li>a{padding-top:15px;padding-bottom:15px;line-height:20px;color:#efefef}.top-nav>.open>a,.top-nav>.open>a:focus,.top-nav>.open>a:hover,.top-nav>li>a:focus,.top-nav>li>a:hover{color:#fff;background-color:#1b75bb}.top-nav>.open>.dropdown-menu{float:left;position:absolute;margin-top:0;border:1px solid rgba(0,0,0,.15);border-top-left-radius:0;border-top-right-radius:0;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.top-nav>.open>.dropdown-menu>li>a{white-space:normal}ul.message-dropdown{padding:0;max-height:250px;overflow-x:hidden;overflow-y:auto}li.message-preview{width:275px;border-bottom:1px solid rgba(0,0,0,.15)}li.message-preview>a{padding-top:15px;padding-bottom:15px}li.message-footer{margin:5px 0}ul.alert-dropdown{width:200px}@media (min-width:768px){.side-nav{position:fixed;top:51px;left:225px;margin-left:-225px;border:none;border-radius:0;overflow-y:auto;background-color:#1b75bb;bottom:0;overflow-x:hidden;padding-bottom:40px}.side-nav,.side-nav>li>a{width:225px}.side-nav li a:focus,.side-nav li a:hover{outline:none;background-color:#3f9ce3!important}}.side-nav>li>ul{padding:0}.side-nav>li>ul>li>a{display:block;padding:10px 15px 10px 38px;text-decoration:none;color:#d4d4d4}.side-nav>li>ul>li>a:hover{color:#fff}.flot-chart{display:block;height:400px}.flot-chart-content{width:100%;height:100%}.huge{font-size:40px}.panel-green{border-color:#5cb85c}.panel-green>.panel-heading{border-color:#5cb85c;color:#fff;background-color:#5cb85c}.panel-green>a{color:#5cb85c}.panel-green>a:hover{color:#3d8b3d}.panel-red{border-color:#d9534f}.panel-red>.panel-heading{border-color:#d9534f;color:#fff;background-color:#d9534f}.panel-red>a{color:#d9534f}.panel-red>a:hover{color:#b52b27}.panel-yellow{border-color:#f0ad4e}.panel-yellow>.panel-heading{border-color:#f0ad4e;color:#fff;background-color:#f0ad4e}.panel-yellow>a{color:#f0ad4e}.panel-yellow>a:hover{color:#df8a13}.toolbar{margin-bottom:10px}.entity-key{font-family:Monaco,Consolas,Lucida Console,dejavu sans mono,monospace;font-size:11px}.proof-of-play-label{padding-bottom:10px;padding-top:10px}.copy-ready-transparent{color:transparent}.no-devices{text-align:center}.properties-word-break{width:390px;word-wrap:break-word;display:block}.command-history-command{width:375px;word-wrap:break-word;display:block}.hostname-word-break{width:200px;word-wrap:break-word;display:inline-block}[data-ng-click],[ng-click],[x-ng-click]{cursor:pointer}#proofplay-selected-items{min-width:0!important;margin:0 auto;padding:0 auto}.radio-button{padding:3px}.horizontal-submit{margin:.5em}.horizontal-submit,.radio-horizontal{display:flex;align-self:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center}md-toolbar.md-default-theme:not(.md-menu-toolbar),md-toolbar:not(.md-menu-toolbar){background-color:#1b75bb!important;max-height:64px;min-height:64px}.md-toolbar-tools{background-color:#000!important;max-height:64px;min-height:64px}.skykit-image{max-width:100%;height:33px}@media (max-width:767px){md-toolbar.md-default-theme:not(.md-menu-toolbar),md-toolbar:not(.md-menu-toolbar){margin-top:-50px;margin-bottom:50px}}.center-block{text-align:center}.ellipsis-overflow,.proof-of-play-selected-item{width:100%;white-space:nowrap;overflow:hidden;text-align:left;text-overflow:ellipsis}.proof-of-play-tenant-name-option{width:7em;white-space:nowrap;overflow:hidden;text-align:center;positition:absolute;text-overflow:ellipsis}.proof-of-play-horizontal-top-bar{align-self:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;margin-top:.5em;margin-bottom:.5em;align-items:center}.my-flex,.proof-of-play-horizontal-top-bar{display:flex;justify-content:center}.bigger-buttons{padding:.4em;min-width:88px;border-radius:5px;font-size:16px;text-align:center;text-decoration:none;border:none;outline:none}.admin-container{display:flex;align-content:flex-start}.registration-event-column{height:110px;display:inline-block;vertical-align:top;overflow:scroll}.pull-command-send-button-up{margin-top:-2px}header.dtp-header{background:#1b75bb!important}.dtp div.dtp-date,.dtp div.dtp-time{background:#000}.dtp .dtp-actual-meridien a.selected,.dtp .dtp-picker-time>a.dtp-select-hour.selected,.dtp table.dtp-picker-days tr>td>a.selected{background:#1b75bb!important}.dtp .dtp-hand.on{background:#000}.device-properties-switch{margin-top:-1px}.md-content-command-override md-content{overflow:unset}.pull-tooltip-left{margin-left:-55px}.command-button-right{float:right;flex-direction:row-reverse}",""]);
},640:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,i,o,s,c,u,l,d,v,p){"ngInject";var f=this;return f.tenantKey=t.tenantKey,f.deviceKey=t.deviceKey,f.fromDevices="true"===t.fromDevices,f.currentDevice={},f.commandEvents=[],f.generateLocalFromUTC=function(e){var t=a["default"].utc(e).toDate();return t=(0,a["default"])(t).format("YYYY-MM-DD hh:mm:ss A")},f.replaceCommandTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.postedTime&&(n.postedTime=f.generateLocalFromUTC(n.postedTime)),n.confirmedTime&&(n.confirmedTime=f.generateLocalFromUTC(n.confirmedTime))}},f.getEvents=function(e,t,n){l.start();var r=i.getCommandEventsByKey(e,t,n);return r.then(function(e){return f.replaceCommandTime(e.events),f.event_next_cursor=e.next_cursor,f.event_prev_cursor=e.prev_cursor,f.commandEvents=e.events,l.complete()})},f.getEventsTimeOut=function(e,t,n){return p(function(){return f.getEvents(e,t,n)},1e3)},f.commandHistorySelected=function(){return f.getEvents(f.deviceKey)},f.paginateEventCall=function(e){return e?f.getEvents(f.deviceKey,null,f.event_next_cursor):f.getEvents(f.deviceKey,f.event_prev_cursor,null)},f.initialize=function(){var e=i.getDeviceByKey(f.deviceKey);return e.then(function(e){return f.onGetDeviceSuccess(e)},function(e){return f.onGetDeviceFailure(e)}),f.getEvents(f.deviceKey)},f.onGetDeviceSuccess=function(e){return f.currentDevice=e,e.timezone!==f.selectedTimezone&&(f.selectedTimezone=e.timezone),void 0===f.tenantKey&&(f.tenantKey=f.currentDevice.tenantKey),"true"===t.fromDevices?(f.backUrl="/#/devices",f.backUrlText="Back to devices"):f.currentDevice.isUnmanagedDevice===!0?(f.backUrl="/#/tenants/"+f.tenantKey+"/unmanaged",f.backUrlText="Back to tenant unmanaged devices"):(f.backUrl="/#/tenants/"+f.tenantKey+"/managed",f.backUrlText="Back to tenant managed devices")},f.onGetDeviceFailure=function(t){v.showErrorToast("Oops. We were unable to fetch the details for this device at this time.");var r="No detail for device_key #"+f.deviceKey+". Error: "+t.status+" "+t.statusText;return e.error(r),n.go("devices")},f.onResetContent=function(){l.start();var e=s.contentDelete(f.deviceKey);return e.then(f.onResetContentSuccess,f.onResetContentFailure)},f.onResetContentSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your reset content command into the player's queue.")},f.onResetContentFailure=function(t){return l.complete(),e.error("Reset content command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your reset content command into the player's queue.","error")},f.onUpdateContent=function(){l.start();var e=s.contentUpdate(f.deviceKey);return e.then(f.onUpdateContentSuccess,f.onUpdateContentFailure)},f.onUpdateContentSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your update content command into the player's queue.")},f.onUpdateContentFailure=function(t){return l.complete(),e.error("Content update command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your update content command into the player's queue.","error")},f.onResetPlayer=function(){l.start();var e=s.reset(f.deviceKey);return e.then(f.onResetPlayerSuccess,f.onResetPlayerFailure)},f.onResetPlayerSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your reset player command into the player's queue.")},f.onResetPlayerFailure=function(t){return l.complete(),e.error("Reset player command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your reset player command into the player's queue.","error")},f.onPanelOn=function(){l.start();var e=s.powerOn(f.deviceKey);return e.then(f.onPanelOnSuccess,f.onPanelOnFailure)},f.onPanelOnSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your panel on command into the player's queue.")},f.onPanelOnFailure=function(t){return l.complete(),e.error("Panel on command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your panel on command into the player's queue.","error")},f.onPanelOff=function(){l.start();var e=s.powerOff(f.deviceKey);return e.then(f.onPanelOffSuccess,f.onPanelOffFailure)},f.onPanelOffSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your panel off command into the player's queue.")},f.onPanelOffFailure=function(t){return l.complete(),e.error("Panel off command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your panel off command into the player's queue.","error")},f.onUpdateDevice=function(){l.start();var e=s.updateDevice(f.deviceKey);return e.then(f.onUpdateDeviceSuccess,f.onUpdateDeviceFailure)},f.onUpdateDeviceSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your update device command into the player's queue.")},f.onUpdateDeviceFailure=function(t){return l.complete(),e.error("Update device command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your update device command into the player's queue.","error")},f.onVolumeChange=function(){l.start();var e=s.volume(f.deviceKey,f.currentDevice.volume);return e.then(f.onVolumeChangeSuccess(f.currentDevice.volume),f.onVolumeChangeFailure)},f.onVolumeChangeSuccess=function(e){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your volume change command of "+e+" into the player's queue.")},f.onVolumeChangeFailure=function(t){return l.complete(),e.error("Volume change command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your volume change command into the player's queue.","error")},f.onCustomCommand=function(){l.start();var e=s.custom(f.deviceKey,f.currentDevice.custom);return e.then(f.onCustomCommandSuccess(f.currentDevice.custom),f.onCustomCommandFailure)},f.onCustomCommandSuccess=function(e){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your custom command '"+e+"' into the player's queue.")},f.onCustomCommandFailure=function(t){return l.complete(),e.error("Custom command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your custom command into the player's queue.","error")},f.onDiagnosticsToggle=function(){l.start();var e=s.toggleDiagnostics(f.deviceKey);return e.then(f.onToggleDiagnosticsSuccess,f.onToggleDiagnosticsFailure)},f.onToggleDiagnosticsSuccess=function(){return l.complete(),v.showSuccessToast("We posted your diagnostics command into the player's queue.")},f.onToggleDiagnosticsFailure=function(t){return l.complete(),e.error("Diagnostics command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your diagnostics command into the player's queue.","error")},f.onRestart=function(){l.start();var e=s.restart(f.deviceKey);return e.then(f.onRestartSuccess,f.onRestartFailure)},f.onRestartSuccess=function(){return l.complete(),v.showSuccessToast("We posted your restart command into the player's queue.")},f.onRestartFailure=function(t){return l.complete(),e.error("Restart command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your restart command into the player's queue.","error")},f.onPostLog=function(){l.start();var e=s.postLog(f.deviceKey);return e.then(f.onPostLogSuccess,f.onPostLogFailure)},f.onPostLogSuccess=function(){return l.complete(),v.showSuccessToast("We posted your post log command into the player's queue.")},f.onPostLogFailure=function(t){return l.complete(),e.error("Post log command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your post log command into the player's queue.","error")},f}r.$inject=["$log","$stateParams","$state","SessionsService","DevicesService","LocationsService","CommandsService","TimezonesService","sweet","ProgressBarService","$mdDialog","ToastsService","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceDetailsCommandsCtrl=void 0;var i=t(372),a=n(i);exports.DeviceDetailsCommandsCtrl=r},641:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,i,o,c,u,l,d,v,p,f,m){"ngInject";var h=this;h.tenantKey=t.tenantKey,h.deviceKey=t.deviceKey,h.fromDevices="true"===t.fromDevices,h.currentDevice={},h.locations=[],h.commandEvents=[],h.dayRange=30,h.issues=[],h.timezones=[],h.selectedTimezone=void 0;var g=m.createFormattedStartAndEndDateFromToday(30),y=(0,a["default"])(g,2);return h.startTime=y[0],h.endTime=y[1],h.enrollmentEvents=[],h.replaceIssueTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.created&&(n.created=m.generateLocalFromUTC(n.created)),n.updated&&(n.updated=m.generateLocalFromUTC(n.updated))}},h.replaceCommandTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.postedTime&&(n.postedTime=m.generateLocalFromUTC(n.postedTime)),n.confirmedTime&&(n.confirmedTime=m.generateLocalFromUTC(n.confirmedTime))}},h.copyDeviceKey=function(){return f.showSuccessToast("Device key copied to your clipboard")},h.copyCorrelationIdentifier=function(){return f.showSuccessToast("Correlation ID copied to your clipboard")},h.getIssues=function(e,t,n,r,a){v.start();var o=i.getIssuesByKey(e,t,n,r,a);return o.then(function(e){return h.replaceIssueTime(e.issues),h.issues=e.issues,h.prev_cursor=e.prev,h.next_cursor=e.next,v.complete()})},h.getEvents=function(e,t,n){v.start();var r=i.getCommandEventsByKey(e,t,n);return r.then(function(e){return h.replaceCommandTime(e.events),h.event_next_cursor=e.next_cursor,h.event_prev_cursor=e.prev_cursor,h.commandEvents=e.events,v.complete()})},h.getEnrollmentEvents=function(e){v.start();var t=l.getEnrollmentEvents(e);return t.then(function(e){return h.enrollmentEvents=e,v.complete()})},h.paginateCall=function(e){return e?h.getIssues(h.deviceKey,h.epochStart,h.epochEnd,null,h.next_cursor):h.getIssues(h.deviceKey,h.epochStart,h.epochEnd,h.prev_cursor,null)},h.paginateEventCall=function(e){return e?h.getEvents(h.deviceKey,null,h.event_next_cursor):h.getEvents(h.deviceKey,h.event_prev_cursor,null)},h.initialize=function(){h.epochStart=(0,s["default"])(h.startTime,"YYYY-MM-DD hh:mm A").unix(),h.epochEnd=(0,s["default"])(h.endTime,"YYYY-MM-DD hh:mm A").unix();var e=u.getCustomTimezones();e.then(function(e){return h.timezones=e}),h.panelModels=i.getPanelModels(),h.panelInputs=i.getPanelInputs();var t=i.getDeviceByKey(h.deviceKey);return t.then(function(e){return h.onGetDeviceSuccess(e)},function(e){return h.onGetDeviceFailure(e)}),h.getEvents(h.deviceKey),h.getIssues(h.deviceKey,h.epochStart,h.epochEnd),h.getEnrollmentEvents(h.deviceKey)},h.onGetDeviceSuccess=function(e){h.currentDevice=e,e.timezone!==h.selectedTimezone&&(h.selectedTimezone=e.timezone),void 0===h.tenantKey&&(h.tenantKey=h.currentDevice.tenantKey),"true"===t.fromDevices?(h.backUrl="/#/devices",h.backUrlText="Back to devices"):h.currentDevice.isUnmanagedDevice===!0?(h.backUrl="/#/tenants/"+h.tenantKey+"/unmanaged",h.backUrlText="Back to tenant unmanaged devices"):(h.backUrl="/#/tenants/"+h.tenantKey+"/managed",h.backUrlText="Back to tenant managed devices");var n=o.getLocationsByTenantKey(h.tenantKey);return n.then(function(e){return h.locations=e,h.setSelectedOptions()})},h.onGetDeviceFailure=function(t){f.showErrorToast("Oops. We were unable to fetch the details for this device at this time.");var r="No detail for device_key #"+h.deviceKey+". Error: "+t.status+" "+t.statusText;return e.error(r),n.go("devices")},h.setSelectedOptions=function(){if(null===h.currentDevice.panelModel)h.currentDevice.panelModel=h.panelModels[0],h.currentDevice.panelInput=h.panelInputs[0];else{for(var e=0;e<h.panelModels.length;e++){var t=h.panelModels[e];t.id===h.currentDevice.panelModel&&(h.currentDevice.panelModel=t)}for(var n=0;n<h.panelInputs.length;n++){var r=h.panelInputs[n],i=r.parentId===h.currentDevice.panelModel.id;i&&r.id.toLowerCase()===h.currentDevice.panelInput&&(h.currentDevice.panelInput=r)}}if(null===h.currentDevice.locationKey);else for(var a=0;a<h.locations.length;a++){var o=h.locations[a];o.key===h.currentDevice.locationKey&&(h.currentDevice.location=o)}},h.onSaveDevice=function(){v.start(),void 0!==h.currentDevice.location&&void 0!==h.currentDevice.location.key&&(h.currentDevice.locationKey=h.currentDevice.location.key),void 0!==h.currentDevice.panelModel.id&&"None"!==h.currentDevice.panelModel.id&&(h.currentDevice.panelModelNumber=h.currentDevice.panelModel.id),void 0!==h.currentDevice.panelInput.id&&"None"!==h.currentDevice.panelInput.id&&(h.currentDevice.panelSerialInput=h.currentDevice.panelInput.id.toLowerCase()),h.currentDevice.timezone=h.selectedTimezone;var e=i.save(h.currentDevice);return e.then(h.onSuccessDeviceSave,h.onFailureDeviceSave)},h.onSuccessDeviceSave=function(){return v.complete(),f.showSuccessToast("We saved your update.")},h.onFailureDeviceSave=function(t){return v.complete(),409===t.status?(e.info("Failure saving device. Customer display code already exists for tenant: "+t.status+" "+t.statusText),d.show("Oops...","This customer display code already exists for this tenant. Please choose another.","error")):(e.error("Failure saving device: "+t.status+" "+t.statusText),f.showErrorToast("Oops. We were unable to save your updates to this device at this time."))},h.onPanelSleep=function(e){v.start();var t=c.panelSleep(h.deviceKey,e);return t.then(h.onPanelSleepSuccess,h.onPanelSleepFailure)},h.onPanelSleepSuccess=function(){return v.complete(),f.showSuccessToast("We toggled the panel sleep attribute. The player should adjust to these changes within 15 minutes.")},h.onPanelSleepFailure=function(e){return v.complete(),d.show("Oops...","We were unable to toggle the panel sleep attribute.","error")},h.confirmDeviceDelete=function(e,t){var n=p.confirm({title:"Are you sure to delete this device?",textContent:"Please remember, you MUST remove this device from Content Manager before deleting it from Provisioning.",targetEvent:e,ok:"Delete",cancel:"Cancel"}),r=p.show(n),i=function(){return h.onConfirmDelete(t)},a=function(){return h.onConfirmCancel()};return r.then(i,a)},h.onConfirmDelete=function(t){var r=function(){return f.showSuccessToast("We processed your delete request."),n.go("devices")},a=function(n){var r="We were unable to complete your delete request at this time.";return f.showErrorToast(r),e.error("Delete device failure for device_key "+t+": "+n.status+" "+n.statusText)},o=i["delete"](t);return o.then(r,a)},h.onConfirmCancel=function(){return f.showInfoToast("We canceled your delete request.")},h.onProofOfPlayLoggingCheck=function(){if(h.currentDevice.proofOfPlayLogging){var e=null===h.currentDevice.locationKey,t=null===h.currentDevice.customerDisplayCode;return e?(d.show("Oops...","You must have a Location to enable Proof of play.","error"),h.currentDevice.proofOfPlayLogging=!1):t?(d.show("Oops...","You must have a Display code to enable Proof of play.","error"),h.currentDevice.proofOfPlayLogging=!1):h.onSaveDevice()}return h.onSaveDevice()},h.onUpdateLocation=function(){return h.onSaveDevice()},h.autoGenerateCustomerDisplayCode=function(){var e="";return h.currentDevice.customerDisplayName&&(e=h.currentDevice.customerDisplayName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),h.currentDevice.customerDisplayCode=e},h.logglyForUser=function(){var e=r.getUserEmail().split("@")[1];return"demo.agosto.com"===e||"agosto.com"===e},h.onClickRefreshButton=function(){v.start(),h.startTime=m.convertToMomentIfNotAlready(h.startTime),h.endTime=m.convertToMomentIfNotAlready(h.endTime),h.epochStart=(0,s["default"])(h.startTime,"YYYY-MM-DD hh:mm A").unix(),h.epochEnd=(0,s["default"])(h.endTime,"YYYY-MM-DD hh:mm A").unix(),h.prev_cursor=null,h.next_cursor=null;var e=i.getIssuesByKey(h.deviceKey,h.epochStart,h.epochEnd,h.prev_cursor,h.next_cursor);return e.then(function(e){return h.onRefreshIssuesSuccess(e)},function(e){return h.onRefreshIssuesFailure(e)})},h.onRefreshIssuesSuccess=function(e){return h.replaceIssueTime(e.issues),h.issues=e.issues,h.prev_cursor=e.prev,h.next_cursor=e.next,v.complete()},h.onRefreshIssuesFailure=function(t){return v.complete(),f.showInfoToast("We were unable to refresh the device issues list at this time."),e.error("Failure to refresh device issues: "+t.status+" "+t.statusText)},h}r.$inject=["$log","$stateParams","$state","SessionsService","DevicesService","LocationsService","CommandsService","TimezonesService","IntegrationEvents","sweet","ProgressBarService","$mdDialog","ToastsService","DateManipulationService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceDetailsCtrl=void 0;var i=t(642),a=n(i),o=t(372),s=n(o);exports.DeviceDetailsCtrl=r},651:function(e,exports){"use strict";function t(e,t,n,r,i,a,o){"ngInject";var s=this;return s.distributorKey=void 0,s.devices=[],s.devicesPrev=null,s.devicesNext=null,s.selectedButton="Serial Number",s.serialDevices={},s.disabled=!0,s.macDevices={},s.gcmidDevices={},s.unmanagedSelectedButton="MAC",s.unmanagedSerialDevices={},s.unmanagedDisabled=!0,s.unmanagedDevicesPrev=null,s.unmanagedDevicesNext=null,s.unmanagedDevices=[],s.unmanagedMacDevices={},s.unmanagedGCMidDevices={},s.refreshManagedDevices=function(){return s.devicesPrev=null,s.devicesNext=null,s.getManagedDevices(s.distributorKey,s.devicesPrev,s.devicesNext)},s.refreshUnmanagedDevices=function(){return s.unmanagedDevicesPrev=null,s.unmanagedDevicesNext=null,s.getUnmanagedDevices(s.distributorKey,s.unmanagedDevicesPrev,s.unmanagedDevicesNext)},s.changeRadio=function(e){return e?(s.unmanagedSearchText="",s.unmanagedDisabled=!0,s.unmanagedSerialDevices={},s.unmanagedMacDevices={}):(s.searchText="",s.disabled=!0,s.serialDevices={},s.macDevices={})},s.editItem=function(e){return n.editItem(e,!0)},s.prepareForEditView=function(e,t){var n=void 0,r=void 0,i=void 0;return e?(n="MAC"===s.unmanagedSelectedButton,r="Serial Number"===s.unmanagedSelectedButton,i="GCM ID"===s.unmanagedSelectedButton,n?s.editItem(s.unmanagedMacDevices[t]):r?s.editItem(s.unmanagedSerialDevices[t]):s.editItem(s.unmanagedGCMidDevices[t])):(n="MAC"===s.selectedButton,r="Serial Number"===s.selectedButton,i="GCM ID"===s.selectedButton,n?s.editItem(s.macDevices[t]):r?s.editItem(s.serialDevices[t]):s.editItem(s.gcmidDevices[t]))},s.controlOpenButton=function(e,t){return e?(s.unmanagedDisabled=!t,s.unmanagedDisabledButtonLoading=!1):(s.disabled=!t,s.disabledButtonLoading=!1)},s.isResourceValid=function(e,t){var r=!1,i=null,a=void 0;a=e?s.unmanagedSelectedButton:s.selectedButton,n.isResourceValid(t,a,r,i,s.distributorKey,e).then(function(t){return s.controlOpenButton(e,t.is_match)})},s.searchDevices=function(e,t){var r=void 0;r=e?s.unmanagedSelectedButton:s.selectedButton;var i=!1,a=null;return n.searchDevices(t,r,i,a,s.distributorKey,e).then(function(t){if(t.success){var n=t.devices;return"Serial Number"===r?(e?s.unmanagedSerialDevices=n[1]:s.serialDevices=n[1],n[0]):"MAC"===r?(e?s.unmanagedMacDevices=n[1]:s.macDevices=n[1],n[0]):(e?s.unmanagedGCMidDevices=n[1]:s.gcmidDevices=n[1],n[0])}return[]})},s.getManagedDevices=function(e,t,r){a.start();var i=n.getDevicesByDistributor(e,t,r);return i.then(function(e){return s.devices=e.devices,s.devicesNext=e.next_cursor,s.devicesPrev=e.prev_cursor,s.getFetchSuccess()},function(e){return s.getFetchFailure(e)})},s.getUnmanagedDevices=function(e,t,r){a.start();var i=n.getUnmanagedDevicesByDistributor(e,t,r);return i.then(function(e){return s.unmanagedDevices=e.devices,s.unmanagedDevicesPrev=e.prev_cursor,s.unmanagedDevicesNext=e.next_cursor,s.getFetchSuccess()},function(e){return s.getFetchFailure(e)})},s.initialize=function(){return s.distributorKey=i.getCurrentDistributorKey(),s.getManagedDevices(s.distributorKey,s.devicesPrev,s.devicesNext),s.getUnmanagedDevices(s.distributorKey,s.unmanagedDevicesPrev,s.unmanagedDevicesNext)},s.getFetchSuccess=function(){return a.complete()},s.getFetchFailure=function(e){a.complete();var t="Unable to fetch devices. Error: "+e.status+" "+e.statusText+".";return o.show("Oops...",t,"error")},s.paginateCall=function(e,t){if(e&&(t&&s.getManagedDevices(s.distributorKey,null,s.devicesNext),t||s.getUnmanagedDevices(s.distributorKey,null,s.unmanagedDevicesNext)),!e&&(t&&s.getManagedDevices(s.distributorKey,s.devicesPrev,null),!t))return s.getUnmanagedDevices(s.distributorKey,s.unmanagedDevicesPrev,null)},s}t.$inject=["$stateParams","$log","DevicesService","$state","SessionsService","ProgressBarService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DevicesListingCtrl=t},652:function(e,exports){"use strict";function t(e,t,n,r,i){"ngInject";var a=this;return a.getAllDistributors=function(){a.loadingAllDistributors=!0;var t=e.getAllDistributors();return t.then(function(e){return a.loadingAllDistributors=!1,a.allDistributors=e})},a.addUserToDistributor=function(t,i,o,s,c){o||(o=!1);var u=o?"with":"without";s||(s=a.distributorsAsAdmin[0]);var l=r.confirm({title:"Are you sure?",textContent:i+" will be added to "+s+"\n        "+u+" administrator privileges",targetEvent:t,ok:"Of course!",cancel:"Oops, nevermind."});return r.show(l).then(function(){var t=e.addUserToDistributor(i,s,o);return t.then(function(e){return n.showSuccessToast(e.message),a.user={},c.$setPristine(),c.$setUntouched(),setTimeout(function(){return a.getUsersOfDistributor()},2e3)}),t["catch"](function(e){return n.showErrorToast(e.data.message)})})},a.makeDistributor=function(t,i,o,s){var c=r.confirm({title:"Are you sure?",textContent:"If you proceed, "+i+" will be created.",targetEvent:t,ariaLabel:"Lucky day",ok:"Yeah!",cancel:"Forget it."});return r.show(c).then(function(){var t=e.makeDistributor(i,o);return t.then(function(e){return a.distributor={},s.$setPristine(),s.$setUntouched(),n.showSuccessToast(e.message),setTimeout(function(){return a.allDistributors=a.getAllDistributors()},2e3)}),t["catch"](function(e){return n.showErrorToast(e.data.message)})})},a.getUsersOfDistributor=function(){a.loadingUsersOfDistributor=!0;var n=t.getCurrentDistributorKey(),r=e.getUsersOfDistributor(n);return r.then(function(e){return a.loadingUsersOfDistributor=!1,a.usersOfDistributor=e})},a.switchDistributor=function(e){return i.switchDistributor(e),n.showSuccessToast("Distributor "+e.name+" selected!")},a.initialize=function(){if(a.getUsersOfDistributor(),a.getAllDistributors(),a.isAdmin=t.getIsAdmin(),a.distributorsAsAdmin=t.getDistributorsAsAdmin(),a.currentDistributorName=t.getCurrentDistributorName(),a.isAdmin)return a.getAllDistributors()},a}t.$inject=["AdminService","SessionsService","ToastsService","$mdDialog","DistributorsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdminCtrl=t},653:function(e,exports){"use strict";function t(e,t,n,r,i,a,o,s,c,u,l){"ngInject";var d=this;return d.onGooglePlusSignInSuccess=function(e,t){d.googlePlusSignInButtonClicked||s.start(),o.removeUserInfo();var n=o.login(t);return n.then(d.loginSuccess,d.loginFailure)},d.onGooglePlusSignInFailure=function(e,t){if(d.googlePlusSignInButtonClicked)return s.complete(),a.show("Oops...","Unable to authenticate to Google+.","error")},e.$on("event:google-plus-signin-success",d.onGooglePlusSignInSuccess),e.$on("event:google-plus-signin-failure",d.onGooglePlusSignInFailure),d.initializeSignIn=function(){return d.clientId=i.OAUTH_CLIENT_ID,d.state=i.STATE,d.googlePlusSignInButtonClicked=!1},d.initializeSignOut=function(){return o.removeUserInfo(),r(d.proceedToSignedOut,50)},d.loginSuccess=function(e){return s.complete(),n.go("distributor_selection")},d.loginFailure=function(){return s.complete(),a.show("Oops...","Unable to authenticate to Stormpath.","error")},d.proceedToSignedOut=function(){return n.go("signed_out")},d.proceedToSignIn=function(){return n.go("sign_in")},d.onClickGooglePlusSignIn=function(){return d.googlePlusSignInButtonClicked=!0,s.start()},d}t.$inject=["$scope","$log","$state","$timeout","identity","sweet","SessionsService","ProgressBarService","ProofPlayService","DevicesService","TenantsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthenticationCtrl=t},654:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var i=this;return i.currentDistributerInDistributerAdminList=function(){var e=r.getCurrentDistributorName(),t=r.getDistributorsAsAdmin();return(0,a["default"])(t,e)},i.getIdentity=function(){return{key:r.getUserKey(),email:r.getUserEmail(),admin:r.getIsAdmin(),distributor_admin:r.getDistributorsAsAdmin(),admin_of_current_distributor:i.currentDistributerInDistributerAdminList(),distributorKey:r.getCurrentDistributorKey(),distributorName:r.getCurrentDistributorName()}},i.isCurrentURLDistributorSelector=function(){var e=n.location.href.search(/distributor_selection/),t=e>=0;return t},i.initialize=function(){return i.getIdentity()},i.toggleSidenav=function(){return e("left").toggle()},i.goTo=function(n,r){if(t.go(n,{id:r}),e("left").isOpen())return e("left").close()},i.initialize(),i}r.$inject=["$mdSidenav","$state","$window","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppController=void 0;var i=t(655),a=n(i);exports.AppController=r},677:function(e,exports){"use strict";function t(e,t,n){"ngInject";var r=this;return r.distributors=[],r.currentDistributor=void 0,r.loading=!0,r.initialize=function(){r.loeading=!0;var e=t.fetchAllByUser(n.getUserKey());return e.then(function(e){return r.distributors=e,1===r.distributors.length?r.selectDistributor(r.distributors[0]):r.loading=!1})},r.selectDistributor=function(e){return t.switchDistributor(e)},r}t.$inject=["$state","DistributorsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DistributorSelectorCtrl=t},678:function(e,exports){"use strict";function t(e){"ngInject";var t=this;return t.distributors=[],t}t.$inject=["$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DistributorsCtrl=t},679:function(e,exports){"use strict";function t(e,t,n){"ngInject";var r=this;return r.domains=[],r.initialize=function(){var e=t.fetchAllDomains();return e.then(function(e){return r.domains=e})},r.editItem=function(t){return e.go("editDomain",{domainKey:t.key})},r.deleteItem=function(e){var i=function(){var n=t["delete"](e);return n.then(function(){return r.initialize()})};return n.show({title:"Are you sure?",text:"This will permanently remove the domain from the distributor and disconnect from tenants.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the domain!",closeOnConfirm:!0},i)},r}t.$inject=["$state","DomainsService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomainsCtrl=t},680:function(e,exports){"use strict";function t(e,t,n,r,i,a,o,s,c){"ngInject";var u=this;if(u.currentDomain={key:void 0,name:void 0,impersonation_admin_email_address:void 0,distributor_key:void 0,active:!0},u.currentDomains=[],u.editMode=!!t.domainKey,u.editMode){var l=r.getDomainByKey(t.domainKey);l.then(function(e){return u.currentDomain=e})}else u.currentDomain.distributor_key=c.getCurrentDistributorKey();return u.onSaveDomain=function(){o.start();var e=r.save(u.currentDomain);return e.then(u.onSuccessSaveDomain,u.onFailureSaveDomain)},u.onSuccessSaveDomain=function(){return o.complete(),s.showSuccessToast("We saved your update.")},u.onFailureSaveDomain=function(t){return o.complete(),409===t.status?(e.info("Failure saving domain. Domain already exists: "+t.status+" "+t.statusText),a.show("Oops...","This domain name already exist. Please enter a unique domain name.","error")):(e.error("Failure saving domain: "+t.status+" "+t.statusText),s.showErrorToast("Oops. We were unable to save your updates at this time."))},u.editItem=function(e){return i.go("editDomain",{domainKey:e.key})},u}t.$inject=["$log","$stateParams","DistributorsService","DomainsService","$state","sweet","ProgressBarService","ToastsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomainDetailsCtrl=t},681:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var a=this;return a.radioButtonChoices={group1:"By Device",group2:"Summarized",selection:null},a.dateTimeSelection={start:null,end:null},a.formValidity={start_date:!1,end_date:!1,locations:!1},a.tenant=t.tenant,a.no_cache=!0,a.loading=!0,a.disabled=!0,a.disabledTenant=!0,a.selected_locations=[],a.initialize=function(){return e.getAllLocations(a.tenant).then(function(e){return a.loading=!1,a.locations=e.data.locations,a.locations.length>0?a.had_some_items=!0:a.had_some_items=!1})},a.refreshLocations=function(){return a.searchText="",a.selectedItem="",a.loading=!0,a.disabled=!0,a.selected_locations=[],e.proofplayCache.removeAll(),a.initialize()},a.addToSelectedLocations=function(e){if(a.isLocationValid(e)){a.selected_locations.push(e);var t=a.locations.indexOf(e);a.locations.splice(t,1),a.searchText=""}return a.areLocationsValid(),a.isDisabled()},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isRadioValid=function(e){return a.formValidity.type=e,a.isDisabled()},a.isLocationValid=function(e){return!!i(e,a.locations)&&!i(e,a.selected_locations)},a.areLocationsValid=function(){return a.formValidity.locations=a.selected_locations.length>0,a.isDisabled()},a.isStartDateValid=function(e){return a.formValidity.start_date=e instanceof Date,a.isDisabled()},a.isEndDateValid=function(e){return a.formValidity.end_date=e instanceof Date,a.isDisabled()},a.removeFromSelectedLocation=function(e){var t=a.selected_locations.indexOf(e);return a.selected_locations.splice(t,1),a.locations.push(e),a.areLocationsValid(),a.isDisabled()},a.isDisabled=function(){return a.formValidity.start_date&&a.formValidity.end_date&&a.formValidity.locations&&a.formValidity.type?(a.disabled=!1,a["final"]={start_date_unix:(0,o["default"])(a.dateTimeSelection.start).unix(),end_date_unix:(0,o["default"])(a.dateTimeSelection.end).unix(),locations:a.selected_locations,type:a.radioButtonChoices.selection}):a.disabled=!0},a.submit=function(){return"1"===a["final"].type?e.downloadCSVForMultipleLocationsByDevice(a["final"].start_date_unix,a["final"].end_date_unix,a["final"].locations,a.tenant):e.downloadCSVForMultipleLocationsSummarized(a["final"].start_date_unix,a["final"].end_date_unix,a["final"].locations,a.tenant)},a.tenants=null,a.currentTenant=a.tenant,a.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return a.tenants=e.data.tenants})},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isSelectionValid=function(e){return i(e,a.tenants)?a.disabledTenant=!1:a.disabledTenant=!0},a.submitTenant=function(e){return e!==a.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},a}function i(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiLocationCtrl=void 0;var a=t(372),o=n(a);exports.ProofOfPlayMultiLocationCtrl=r},682:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var a=this;return a.radioButtonChoices={group1:"By Date",group2:"Summarized",selection:null},a.dateTimeSelection={start:null,end:null},a.formValidity={start_date:!1,end_date:!1,displays:!1},a.tenant=t.tenant,a.no_cache=!0,a.loading=!0,a.disabled=!0,a.disabledTenant=!0,a.selected_displays=[],a.initialize=function(){return e.getAllDisplays(a.tenant).then(function(e){return a.loading=!1,a.displays=e.data.devices,a.displays.length>0?a.had_some_items=!0:a.had_some_items=!1})},a.refreshDisplays=function(){return a.searchText="",a.selectedItem="",a.loading=!0,a.disabled=!0,
a.selected_displays=[],e.proofplayCache.removeAll(),a.initialize()},a.addToSelectedDisplays=function(e){if(a.isDisplayValid(e)){a.selected_displays.push(e);var t=a.displays.indexOf(e);a.displays.splice(t,1),a.searchText=""}return a.areDisplaysValid(),a.isDisabled()},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isRadioValid=function(e){return a.formValidity.type=e,a.isDisabled()},a.isDisplayValid=function(e){return!!i(e,a.displays)&&!i(e,a.selected_displays)},a.areDisplaysValid=function(){return a.formValidity.displays=a.selected_displays.length>0,a.isDisabled()},a.isStartDateValid=function(e){return a.formValidity.start_date=e instanceof Date,a.isDisabled()},a.isEndDateValid=function(e){return a.formValidity.end_date=e instanceof Date,a.isDisabled()},a.removeFromSelectedDisplay=function(e){var t=a.selected_displays.indexOf(e);return a.selected_displays.splice(t,1),a.displays.push(e),a.areDisplaysValid(),a.isDisabled()},a.isDisabled=function(){return a.formValidity.start_date&&a.formValidity.end_date&&a.formValidity.displays&&a.formValidity.type?(a.disabled=!1,a["final"]={start_date_unix:(0,o["default"])(a.dateTimeSelection.start).unix(),end_date_unix:(0,o["default"])(a.dateTimeSelection.end).unix(),displays:a.selected_displays,type:a.radioButtonChoices.selection}):a.disabled=!0},a.submit=function(){return"1"===a["final"].type?e.downloadCSVForMultipleDevicesByDate(a["final"].start_date_unix,a["final"].end_date_unix,a["final"].displays,a.tenant):e.downloadCSVForMultipleDevicesSummarized(a["final"].start_date_unix,a["final"].end_date_unix,a["final"].displays,a.tenant)},a.tenants=null,a.currentTenant=a.tenant,a.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return a.tenants=e.data.tenants})},a.submitTenant=function(e){return e!==a.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isSelectionValid=function(e){return i(e,a.tenants)?a.disabledTenant=!1:a.disabledTenant=!0},a}function i(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiDisplayCtrl=void 0;var a=t(372),o=n(a);exports.ProofOfPlayMultiDisplayCtrl=r},683:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var a=this;return a.radioButtonChoices={group1:"By Device",group2:"By Date",selection:null},a.dateTimeSelection={start:null,end:null},a.formValidity={start_date:!1,end_date:!1,resources:!1},a.tenant=t.tenant,a.no_cache=!0,a.loading=!0,a.disabled=!0,a.disabledTenant=!0,a.selected_resources=[],a.initialize=function(){return e.getAllResources(a.tenant).then(function(e){a.loading=!1,a.full_resource_map=e.data.resources,a.resources=[];for(var t=0;t<e.data.resources.length;t++){var n=e.data.resources[t];a.resources.push(n.resource_name)}return a.resources.length>0?a.had_some_items=!0:a.had_some_items=!1})},a.refreshResources=function(){return a.searchText="",a.selectedItem="",a.loading=!0,a.disabled=!0,a.selected_resources=[],e.proofplayCache.removeAll(),a.initialize()},a.addToSelectedResources=function(e){if(a.isResourceValid(e)){a.selected_resources.push(e);var t=a.resources.indexOf(e);a.resources.splice(t,1),a.searchText=""}return a.areResourcesValid(),a.isDisabled()},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isRadioValid=function(e){return a.formValidity.type=e,a.isDisabled()},a.isResourceValid=function(e){return!!i(e,a.resources)&&!i(e,a.selected_resources)},a.areResourcesValid=function(){return a.formValidity.resources=a.selected_resources.length>0,a.isDisabled()},a.isStartDateValid=function(e){return a.formValidity.start_date=e instanceof Date,a.isDisabled()},a.isEndDateValid=function(e){return a.formValidity.end_date=e instanceof Date,a.isDisabled()},a.removeFromSelectedResource=function(e){var t=a.selected_resources.indexOf(e);return a.selected_resources.splice(t,1),a.resources.push(e),a.areResourcesValid(),a.isDisabled()},a.isDisabled=function(){return a.formValidity.start_date&&a.formValidity.end_date&&a.formValidity.resources&&a.formValidity.type?(a.disabled=!1,a["final"]={start_date_unix:(0,o["default"])(a.dateTimeSelection.start).unix(),end_date_unix:(0,o["default"])(a.dateTimeSelection.end).unix(),resources:a.selected_resources,type:a.radioButtonChoices.selection}):a.disabled=!0},a.submit=function(){for(var t=[],n=0;n<a["final"].resources.length;n++)for(var r=a["final"].resources[n],i=0;i<a.full_resource_map.length;i++){var o=a.full_resource_map[i];o.resource_name===r&&t.push(o.resource_identifier)}return"1"===a["final"].type?e.downloadCSVForMultipleResourcesByDevice(a["final"].start_date_unix,a["final"].end_date_unix,t,a.tenant):e.downloadCSVForMultipleResourcesByDate(a["final"].start_date_unix,a["final"].end_date_unix,t,a.tenant)},a.tenants=null,a.currentTenant=a.tenant,a.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return a.tenants=e.data.tenants})},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isSelectionValid=function(e){return i(e,a.tenants)?a.disabledTenant=!1:a.disabledTenant=!0},a.submitTenant=function(e){return e!==a.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},a}function i(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiResourceCtrl=void 0;var a=t(372),o=n(a);exports.ProofOfPlayMultiResourceCtrl=r},684:function(e,exports){"use strict";function t(e,t,r,i){"ngInject";var a=this;return a.resource={title:"Resource Report"},a.location={title:"Location Report"},a.display={title:"Display Report"},a.chosen_tenant=null,a.tenants=null,a.disabled=!0,a.initialize=function(){return e.getAllTenants().then(function(e){return a.tenants=e.data.tenants})},a.querySearch=function(t,n){return e.querySearch(t,n)},a.isSelectionValid=function(e){return n(e,a.tenants)?a.disabled=!1:a.disabled=!0},a.submitTenant=function(e){if(e)return a.chosen_tenant=e,r.go("proofDetail",{tenant:a.chosen_tenant})},a.refreshTenants=function(){a.tenants=null;var t=e.makeHTTPURL("/retrieve_my_tenants","");return e.proofplayCache.remove(t),a.initialize()},a}function n(e,t){return t.indexOf(e)>=0}t.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayCtrl=t},685:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t,this.USER_SERVICE="users",this.DISTRIBUTOR_SERVICE="distributors"}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"makeDistributor",value:function(e,t){var n={distributor:e,admin_email:t},r=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/distributors").customPOST(n);return r}},{key:"addUserToDistributor",value:function(e,t,n){var r={user_email:e,distributor:t,distributor_admin:n},i=this.Restangular.oneUrl(this.USER_SERVICE,"/api/v1/users").customPOST(r);return i}},{key:"getUsersOfDistributor",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/analytics/distributors/"+e+"/users").get();return t}},{key:"getAllDistributors",value:function(){var e=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/distributors").get();return e}}]),e}();exports["default"]=s},691:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t,n){"ngInject";(0,i["default"])(this,e),this.$q=n,this.SessionsService=t}return e.$inject=["SessionsService","$q"],(0,o["default"])(e,[{key:"authenticated",value:function(){var e=this.$q.defer(),t=this.SessionsService.getUserKey();return t?e.resolve(!0):e.reject(["authError","sign_in"]),e.promise}},{key:"notAuthenticated",value:function(){var e=this.$q.defer(),t=this.SessionsService.getUserKey();return t?e.reject(["authError","home"]):e.resolve(!0),e.promise}},{key:"isAdminOrDistributorAdmin",value:function(){var e=this.$q.defer(),t=this.SessionsService.getIsAdmin(),n=this.SessionsService.getDistributorsAsAdmin(),r=!1;n&&n.length>0&&(r=!0);var i=this.SessionsService.getUserKey();return i?t||r?e.resolve(!0):e.reject(["authError","home"]):e.reject("sign_in"),e.promise}}]),e}();exports["default"]=s},692:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t,this.SERVICE_NAME="devices"}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"panelSleep",value:function(e,t){var n={panelSleep:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/panel-sleep").customPUT(n);return r}},{key:"reset",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/reset").post();return t}},{key:"contentDelete",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/content-delete").post();return t}},{key:"contentUpdate",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/content-update").post();return t}},{key:"updateDevice",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/refresh-device-representation").post();return t}},{key:"toggleDiagnostics",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/diagnostics").post();return t}},{key:"restart",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/restart").post();return t}},{key:"postLog",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/post-log").post();return t}},{key:"powerOn",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/power-on").post();return t}},{key:"powerOff",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/power-off").post();return t}},{key:"volume",value:function(e,t){var n={volume:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e).customPOST(n,"commands/volume");return r}},{key:"custom",value:function(e,t){var n={command:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e).customPOST(n,"commands/custom");return r}}]),e}();exports["default"]=s},693:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=t(372),c=n(s),u=function(){function e(){(0,i["default"])(this,e)}return(0,o["default"])(e,[{key:"convertToMomentIfNotAlready",value:function(e){return c["default"].isMoment(e)?e:(0,c["default"])(new Date(e))}},{key:"createFormattedStartAndEndDateFromToday",value:function(e){var t=(0,c["default"])().format("YYYY-MM-DD"),n=(0,c["default"])(t,"YYYY-MM-DD").format("YYYY-MM-DD hh:mm A"),r=(0,c["default"])(n,"YYYY-MM-DD hh:mm A").add(1,"day").subtract(60,"seconds").format("YYYY-MM-DD hh:mm A"),i=(0,c["default"])().subtract(30,"days").format("YYYY-MM-DD"),a=(0,c["default"])(i,"YYYY-MM-DD").format("YYYY-MM-DD hh:mm A");return[a,r]}},{key:"generateLocalFromUTC",value:function(e){var t=c["default"].utc(e).toDate();return(0,c["default"])(t).format("YYYY-MM-DD hh:mm:ss A")}}]),e}();exports["default"]=u},694:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a);t(608);var s=function(){function e(t,n,r,a,o){"ngInject";(0,i["default"])(this,e),this.$log=t,this.Restangular=n,this.$q=r,this.$http=a,this.$state=o,this.SERVICE_NAME="devices",this.uriBase="v1/devices"}return e.$inject=["$log","Restangular","$q","$http","$state"],(0,o["default"])(e,[{key:"getDeviceByMacAddress",value:function(e){var t="api/v1/devices?mac_address="+e;return this.Restangular.oneUrl("api/v1/devices",t).get()}},{key:"getDeviceByKey",value:function(e){var t="api/v1/devices/"+e,n=this.Restangular.oneUrl(this.SERVICE_NAME,t).get();return n}},{key:"retriveFilteredDictionaryValue",value:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];n.push(i[t])}return n}},{key:"executeSearchingPartialSerialByTenant",value:function(e,t,n){var r=this;return this.searchDevicesByPartialSerialByTenant(e,t,n).then(function(e){var t=e.matches,n=!1,i=!1,a=r.convertDevicesArrayToDictionaryObj(t,n,i),o=r.retriveFilteredDictionaryValue(t,"serial");return[o,a]})}},{key:"executeSearchingPartialSerialByDistributor",value:function(e,t,n){var r=this;return this.searchDevicesByPartialSerial(e,t,n).then(function(e){var t=e.matches,i=void 0,a=!1,o=!1;i=n?r.convertDevicesArrayToDictionaryObj(t,a,o):r.convertDevicesArrayToDictionaryObj(t,a,o);var s=r.retriveFilteredDictionaryValue(t,"serial");return[s,i]})}},{key:"executeSearchingPartialMacByTenant",value:function(e,t,n){var r=this;return this.searchDevicesByPartialMacByTenant(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!0),i=r.retriveFilteredDictionaryValue(t,"mac");return[i,n]})}},{key:"executeSearchingPartialMacByDistributor",value:function(e,t,n){var r=this;return this.searchDevicesByPartialMac(e,t,n).then(function(e){var t=e.matches,i=void 0,a=!0,o=!1;i=n?r.convertDevicesArrayToDictionaryObj(t,a,o):r.convertDevicesArrayToDictionaryObj(t,a,o);var s=r.retriveFilteredDictionaryValue(t,"mac");return[s,i]})}},{key:"executeSearchingPartialGCMidByTenant",value:function(e,t,n){var r=this;return this.searchDistributorDevicesByPartialGCMidByTenant(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!1,!0),i=r.retriveFilteredDictionaryValue(t,"gcmid");return[i,n]})}},{key:"executeSearchingPartialGCMidByDistributor",value:function(e,t,n){var r=this;return this.searchDistributorDevicesByPartialGCMid(e,t,n).then(function(e){var t=e.matches,i=void 0;i=n?r.convertDevicesArrayToDictionaryObj(t,!1,!0):r.convertDevicesArrayToDictionaryObj(t,!1,!0);var a=r.retriveFilteredDictionaryValue(t,"gcmid");return[a,i]})}},{key:"rejectedPromise",value:function(){var e=this.$q.defer();return e.reject(),e.promise}},{key:"searchDevices",value:function(e,t,n,r,i,a){var o=this.$q.defer(),s=void 0;return s=e&&e.length>2?"Serial Number"===t?n?this.executeSearchingPartialSerialByTenant(r,e,a):this.executeSearchingPartialSerialByDistributor(i,e,a):"MAC"===t?n?this.executeSearchingPartialMacByTenant(r,e,a):this.executeSearchingPartialMacByDistributor(i,e,a):n?this.executeSearchingPartialGCMidByTenant(r,e,a):this.executeSearchingPartialGCMidByDistributor(i,e,a):this.rejectedPromise(),s.then(function(e){o.resolve({success:!0,devices:e})}),s["catch"](function(e){o.resolve({success:!1,devices:[]})}),o.promise}},{key:"isResourceValid",value:function(e,t,n,r,i,a){var o=void 0,s=void 0,c=void 0,u=this.$q.defer();return e&&e.length>2?(o="MAC"===t,s="Serial Number"===t,c="GCM ID"===t,n?o?u.resolve(this.matchDevicesByFullMacByTenant(r,e,a)):s?u.resolve(this.matchDevicesByFullSerialByTenant(r,e,a)):u.resolve(this.matchDevicesByFullGCMidByTenant(r,e,a)):o?u.resolve(this.matchDevicesByFullMac(i,e,a)):s?u.resolve(this.matchDevicesByFullSerial(i,e,a)):u.resolve(this.matchDevicesByFullGCMid(i,e,a))):u.resolve({is_match:!1}),u.promise}},{key:"convertDevicesArrayToDictionaryObj",value:function(e,t,n){for(var r={},i=0;i<e.length;i++){var a=e[i];t?r[a.mac]=a:n?r[a.gcmid]=a:r[a.serial]=a}return r}},{key:"editItem",value:function(e,t){t||(t=!1),this.$state.go("editDevice",{deviceKey:e.key,tenantKey:e.tenantKey,fromDevices:t})}},{key:"preprateForEditView",value:function(e,t,n,r,i,a){var o=void 0,s=void 0,c=void 0;return o="MAC"===e,s="Serial Number"===e,c="GCM ID"===e,o?this.editItem(r[n]):s?this.editItem(i[n]):this.editItem(a[n])}},{key:"getIssuesByKey",value:function(e,t,n,r,i){r=void 0===r?null:r,i=void 0===i?null:i;var a="/api/v1/devices/"+r+"/"+i+"/"+e+"/issues?start="+t+"&end="+n,o=this.Restangular.oneUrl(this.SERVICE_NAME,a).get();return o}},{key:"getCommandEventsByKey",value:function(e,t,n){t=void 0===t?null:t,n=void 0===n?null:n;var r="/api/v1/player-command-events/"+t+"/"+n+"/"+e,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}},{key:"getDevicesByTenant",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByTenantURL(e,t,n,!1);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getUnmanagedDevicesByTenant",value:function(e,t,n){if(void 0!==e){var r=(this.$q.defer(),this.makeDevicesByTenantURL(e,t,n,!0));return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"searchDevicesByPartialSerialByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_serial="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDevicesByPartialMacByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_mac="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDistributorDevicesByPartialGCMidByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_gcmid="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"matchDevicesByFullSerialByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/match/"+e+"/devices?unmanaged="+n+"&full_serial="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"matchDevicesByFullMacByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/match/"+e+"/devices?unmanaged="+n+"&full_mac="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"matchDevicesByFullGCMidByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/match/"+e+"/devices?unmanaged="+n+"&full_gcmid="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDevicesByPartialSerial",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_serial="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDevicesByPartialMac",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_mac="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"searchDistributorDevicesByPartialGCMid",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_gcmid="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"matchDevicesByFullSerial",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/match/"+e+"/devices?unmanaged="+n+"&full_serial="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"matchDevicesByFullMac",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/match/"+e+"/devices?unmanaged="+n+"&full_mac="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"matchDevicesByFullGCMid",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/match/"+e+"/devices?unmanaged="+n+"&full_gcmid="+t,i=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return i}}},{key:"getDevicesByDistributor",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByDistributorURL(e,t,n,!1);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getUnmanagedDevicesByDistributor",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByDistributorURL(e,t,n,!0);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getDevices",value:function(){var e=this.Restangular.all(this.SERVICE_NAME).getList();return e}},{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("devices").post(e);return t}},{key:"delete",value:function(e){var t=this.Restangular.one(this.SERVICE_NAME,e).remove();return t}},{key:"getPanelModels",value:function(){return[{id:"None",displayName:"None"},{id:"Sony-FXD40LX2F",displayName:"Sony FXD40LX2F"},{id:"NEC-LCD4215",displayName:"NEC LCD4215"},{id:"Phillips-BDL5560EL",displayName:"Phillips BDL5560EL"},{id:"Panasonic-TH55LF6U",displayName:"Panasonic TH55LF6U"},{id:"Sharp-PNE521",displayName:"Sharp PNE521"}]}},{key:"getPanelInputs",value:function(){return[{id:"None",parentId:"None"},{id:"HDMI1",parentId:"Sony-FXD40LX2F"},{id:"HDMI2",parentId:"Sony-FXD40LX2F"},{id:"HDMI1",parentId:"Phillips-BDL5560EL"},{id:"HDMI2",parentId:"Phillips-BDL5560EL"},{id:"DVI",parentId:"Phillips-BDL5560EL"},{id:"HDMI1",parentId:"Panasonic-TH55LF6U"},{id:"HDMI2",parentId:"Panasonic-TH55LF6U"},{id:"DVI",parentId:"Panasonic-TH55LF6U"},{id:"HDMI1",parentId:"Sharp-PNE521"},{id:"HDMI2",parentId:"Sharp-PNE521"},{id:"DVI",parentId:"Sharp-PNE521"},{id:"VGA",parentId:"NEC-LCD4215"},{id:"DVI1",parentId:"NEC-LCD4215"}]}},{key:"makeDevicesByDistributorURL",value:function(e,t,n,r){var i="/api/v1/distributors/"+e+"/devices?unmanaged="+r+"&next_cursor="+n+"&prev_cursor="+t;return i}},{key:"makeDevicesByTenantURL",value:function(e,t,n,r){var i="/api/v1/tenants/"+e+"/devices?unmanaged="+r+"&next_cursor="+n+"&prev_cursor="+t;return i}}]),e}();exports["default"]=s},695:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t,n,r){"ngInject";(0,i["default"])(this,e),this.Restangular=t,this.$state=n,this.SessionsService=r,this.DISTRIBUTOR_SERVICE="distributors"}return e.$inject=["Restangular","$state","SessionsService"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service(this.DISTRIBUTOR_SERVICE).post(e);return t}},{key:"fetchAll",value:function(){var e=this.Restangular.all(this.DISTRIBUTOR_SERVICE).getList();return e}},{key:"fetchAllByUser",value:function(e){if(e){var t=this.Restangular.one("users",e).doGET(this.DISTRIBUTOR_SERVICE);return t}}},{key:"getByKey",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"api/v1/distributors/"+e).get();return t}},{key:"delete",value:function(e){if(e.key){var t=this.Restangular.one(this.DISTRIBUTOR_SERVICE,e.key).remove();return t}}},{key:"getByName",value:function(e){var t=this.Restangular.all(this.DISTRIBUTOR_SERVICE).getList({distributorName:e});return t}},{key:"getDomainsByKey",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"api/v1/distributors/"+e+"/domains").get();return t}},{key:"switchDistributor",value:function(e){return this.SessionsService.setCurrentDistributorName(e.name),this.SessionsService.setCurrentDistributorKey(e.key),this.$state.go("welcome")}}]),e}();exports["default"]=s},696:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("domains").post(e);return t}},{key:"fetchAllDomains",value:function(){var e=this.Restangular.all("domains").getList();return e}},{key:"getDomainByKey",value:function(e){var t=this.Restangular.oneUrl("domains","api/v1/domains/"+e).get();return t}},{key:"delete",value:function(e){if(void 0!==e.key){var t=this.Restangular.one("domains",e.key).remove();return t}}}]),e}();exports["default"]=s},697:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getIdentity",value:function(){return this.Restangular.oneUrl("identity").get()}}]),e}();exports["default"]=s},698:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t,this.ENROLLMENT_EVENTS="integration_events/enrollment"}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getEnrollmentEvents",value:function(e){var t={deviceKey:e};return this.Restangular.all(this.ENROLLMENT_EVENTS).customGET("",t)}}]),e}();exports["default"]=s},699:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("locations").post(e);return t}},{key:"getLocationsByTenantKey",value:function(e){var t=this.Restangular.oneUrl("tenants","api/v1/tenants/"+e+"/locations").get();return t}},{key:"getLocationsByTenantKeyPaginated",value:function(e,t,n){t=void 0===t?null:t,n=void 0===n?null:n;var r=this.Restangular.oneUrl("tenants","api/v1/tenants/"+e+"/"+t+"/"+n+"/locations").get();return r}},{key:"getLocationByKey",value:function(e){var t=this.Restangular.oneUrl("locations","api/v1/locations/"+e).get();return t}}]),e}();exports["default"]=s},700:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.ngProgressFactory=t,this.progressBar=this.ngProgressFactory.createInstance()}return e.$inject=["ngProgressFactory"],(0,o["default"])(e,[{key:"start",value:function(){return this.progressBar.setColor("#00FCFF"),this.progressBar.setHeight("4px"),this.progressBar.start()}},{key:"complete",value:function(){return this.progressBar.complete()}}]),e}();exports["default"]=s},701:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t,n,r,a,o,s,c){"ngInject";(0,i["default"])(this,e),this.$http=t,this.$q=n,this.$window=r,this.SessionsService=a,this.$stateParams=o,this.$state=s,this.ToastsService=c,this.makeHTTPRequest=this.makeHTTPRequest.bind(this),this.uriBase="proofplay/api/v1"}return e.$inject=["$http","$q","$window","SessionsService","$stateParams","$state","ToastsService"],(0,o["default"])(e,[{key:"makeHTTPURL",value:function(e,t){return this.uriBase+e+t}},{key:"makeHTTPRequest",value:function(e,t){var n=(this.$q.defer(),this.makeHTTPURL(e,t));return this.$http.get(n)}},{key:"getAllResources",value:function(e){var t=this.makeHTTPRequest("/retrieve_all_resources/",e);return t["catch"](function(e,t){var n=e.status;if(403===n&&(this.ToastsService.showErrorToast("You are not allowed to view this tenant!"),this.$state.go("proof",{})),404===n)return this.ToastsService.showErrorToast("You must select a tenant first!"),this.$state.go("proof",{})}),t.then(function(e){return e})}},{key:"getAllDisplays",value:function(e){return this.makeHTTPRequest("/retrieve_all_displays/",e)}},{key:"getAllLocations",value:function(e){return this.makeHTTPRequest("/retrieve_all_locations/",e)}},{key:"getAllTenants",value:function(){return this.makeHTTPRequest("/retrieve_my_tenants","")}},{key:"downloadCSVForMultipleResourcesByDate",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_resource_by_date/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleResourcesByDevice",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_resource_by_device/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleDevicesSummarized",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_device_summarized/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleDevicesByDate",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_device_by_date/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleLocationsByDevice",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_location_by_device/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleLocationsSummarized",value:function(e,t,n,r){for(var i="",a=0;a<n.length;a++){var o=n[a];i=i+"|"+o}return this.$window.open(this.uriBase+"/multi_location_summarized/"+e+"/"+t+"/"+i+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"createFilterFor",value:function(e){return e=angular.lowercase(e),function(t){return t=angular.lowercase(t),0===t.indexOf(e)}}},{key:"querySearch",value:function(e,t){return t?e.filter(this.createFilterFor(t)):e}}]),e}();exports["default"]=s},702:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t,n,r,a,o,s){"ngInject";(0,i["default"])(this,e),this.$http=t,this.$log=n,this.StorageService=r,this.IdentityService=a,this.Restangular=o,this.$q=s,this.setIdentity=this.setIdentity.bind(this),this.uriBase="v1/sessions"}return e.$inject=["$http","$log","StorageService","IdentityService","Restangular","$q"],(0,o["default"])(e,[{key:"setDistributors",value:function(e){return this.StorageService.set("distributors",e)}},{key:"setDistributorsAsAdmin",value:function(e){return this.StorageService.set("distributorsAsAdmin",e)}},{key:"setIsAdmin",value:function(e){return this.StorageService.set("isAdmin",e)}},{key:"setUserKey",value:function(e){return this.StorageService.set("userKey",e)}},{key:"setUserEmail",value:function(e){return this.StorageService.set("userEmail",e)}},{key:"setCurrentDistributorKey",value:function(e){return this.StorageService.set("currentDistributorKey",e)}},{key:"setCurrentDistributorName",value:function(e){return this.StorageService.set("currentDistributorName",e)}},{key:"getUserKey",value:function(){return this.StorageService.get("userKey")}},{key:"getUserEmail",value:function(){return this.StorageService.get("userEmail")}},{key:"getDistributors",value:function(){return this.StorageService.get("distributors")}},{key:"getCurrentDistributorName",value:function(){return this.StorageService.get("currentDistributorName")}},{key:"getCurrentDistributorKey",value:function(){return this.StorageService.get("currentDistributorKey")}},{key:"getDistributorsAsAdmin",value:function(){return this.StorageService.get("distributorsAsAdmin")}},{key:"getIsAdmin",value:function(){return this.StorageService.get("isAdmin")}},{key:"login",value:function(e){var t=this,n={access_token:_.clone(e.access_token),
authuser:_.clone(e.authuser),client_id:_.clone(e.client_id),code:_.clone(e.code),id_token:_.clone(e.id_token),scope:_.clone(e.scope),session_state:_.clone(e.session_state),state:_.clone(e.state),status:_.clone(e.status)};e.email&&e.password&&(n=e);var r=this.$http.post("/login",n);return r.success(function(e){return t.setUserKey(e.user.key),t.setIdentity().then(function(){return e})})}},{key:"setIdentity",value:function(){var e=this,t=this.$q.defer(),n=this.IdentityService.getIdentity();return n.then(function(n){return e.setDistributors(n.distributors),e.setDistributorsAsAdmin(n.distributors_as_admin),e.setIsAdmin(n.is_admin),e.setUserEmail(n.email),e.setIsAdmin(n.is_admin),t.resolve()}),t.promise}},{key:"removeUserInfo",value:function(){this.StorageService.removeAll()}}]),e}();exports["default"]=s},703:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=t(704),c=n(s),u=function(){function e(){(0,i["default"])(this,e)}return(0,o["default"])(e,[{key:"set",value:function(e,t){return c["default"].set(e,t)}},{key:"get",value:function(e){return c["default"].get(e)}},{key:"rm",value:function(e){return c["default"].rm(e)}},{key:"removeAll",value:function(){c["default"].flush()}}]),e}();exports["default"]=u},705:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t,n){"ngInject";(0,i["default"])(this,e),this.Restangular=t,this.SessionsService=n}return e.$inject=["Restangular","SessionsService"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("tenants").post(e);return t}},{key:"searchAllTenantsByName",value:function(e){var t="/api/v1/tenants?tenant_name="+e,n=this.Restangular.oneUrl("tenants",t).get();return n}},{key:"fetchAllTenants",value:function(){var e=this.Restangular.all("tenants").getList();return e}},{key:"fetchAllTenantsPaginated",value:function(e,t){var n="api/v1/tenants/paginated/"+e+"/"+t,r=this.Restangular.oneUrl("tenants",n).get();return r}},{key:"getTenantByKey",value:function(e){var t="api/v1/tenants/"+e,n=this.Restangular.oneUrl("tenants",t).get();return n}},{key:"delete",value:function(e){if(void 0!==e.key){var t=this.Restangular.one("tenants",e.key).remove();return t}}}]),e}();exports["default"]=s},706:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getUsTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/us").get();return e}},{key:"getAllTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/all").get();return e}},{key:"getCustomTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/custom").get();return e}}]),e}();exports["default"]=s},707:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.toastr=t}return e.$inject=["toastr"],(0,o["default"])(e,[{key:"showSuccessToast",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"Success!":arguments[1];return this.toastr.success(e,t)}},{key:"showErrorToast",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"Error!":arguments[1];return this.toastr.error(e,t)}},{key:"showInfoToast",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"Information":arguments[1];return this.toastr.info(e,t)}}]),e}();exports["default"]=s},708:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(686),i=n(r),a=t(687),o=n(a),s=function(){function e(t){"ngInject";(0,i["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getVersions",value:function(){var e=this.Restangular.oneUrl("versions").get();return e}}]),e}();exports["default"]=s},709:function(e,exports){"use strict";function t(e,t,n,r,i,a,o,s,c){"ngInject";var u=this;return u.gameStopServer=t.host().indexOf("provisioning-gamestop")>-1,u.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,proof_of_play_url:void 0,active:!0},u.selectedDomain=void 0,u.distributorDomains=[],u.timezones=[],u.selectedTimezone="America/Chicago",u.initialize=function(){var e=i.getCustomTimezones();e.then(function(e){return u.timezones=e}),u.currentDistributorKey=c.getCurrentDistributorKey();var t=r.getByKey(u.currentDistributorKey);t.then(function(e){return u.currentTenant.content_manager_base_url=e.content_manager_url,u.currentTenant.content_server_url=e.player_content_url});var n=r.getDomainsByKey(u.currentDistributorKey);return n.then(function(e){return u.distributorDomains=e})},u.onClickSaveButton=function(){s.start(),u.currentTenant.default_timezone=u.selectedTimezone,u.currentTenant.domain_key=u.selectedDomain.key;var e=n.save(u.currentTenant);return e.then(u.onSuccessTenantSave,u.onFailureTenantSave)},u.onSuccessTenantSave=function(){return s.complete(),a.go("tenants")},u.onFailureTenantSave=function(t){return s.complete(),409===t.status?o.show("Oops...","Tenant code unavailable. Please modify tenant name to generate a unique tenant code.","error"):(e.error(t),o.show("Oops...","Unable to save the tenant.","error"))},u.autoGenerateTenantCode=function(){if(!u.currentTenant.key){var e="";return u.currentTenant.name&&(e=u.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),u.currentTenant.tenant_code=e}},u}t.$inject=["$log","$location","TenantsService","DistributorsService","TimezonesService","$state","sweet","ProgressBarService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantAddCtrl=t},710:function(e,exports){"use strict";function t(e,t,n,r,i,a,o,s,c,u,l,d){"ngInject";var v=this;if(v.gameStopServer=d.host().indexOf("provisioning-gamestop")>-1,v.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,proof_of_play_url:void 0,active:!0},v.selectedDomain=void 0,v.distributorDomains=[],v.timezones=[],v.selectedTimezone="America/Chicago",v.editMode=!!e.tenantKey,v.editMode){var p=t.getTenantByKey(e.tenantKey);p.then(function(e){return v.currentTenant=e,v.onSuccessResolvingTenant(e)})}return v.initialize=function(){var e=r.getCustomTimezones();e.then(function(e){return v.timezones=e}),v.currentDistributorKey=u.getCurrentDistributorKey();var t=i.getDomainsByKey(v.currentDistributorKey);return t.then(function(e){return v.distributorDomains=e})},v.onSuccessResolvingTenant=function(e){v.selectedTimezone=e.default_timezone;var t=n.getDomainByKey(e.domain_key);return t.then(function(e){return v.selectedDomain=e})},v.onClickSaveButton=function(){s.start(),v.currentTenant.default_timezone=v.selectedTimezone,v.currentTenant.domain_key=v.selectedDomain.key;var e=t.save(v.currentTenant);return e.then(v.onSuccessTenantSave,v.onFailureTenantSave)},v.onSuccessTenantSave=function(){return s.complete(),c.showSuccessToast("We saved your tenant information.")},v.onFailureTenantSave=function(e){return s.complete(),409===e.status?o.show("Oops...","Tenant code unavailable. Please modify tenant name to generate a unique tenant code.","error"):o.show("Oops...","Unable to save the tenant.","error")},v.editItem=function(t){return a.go("editDevice",{deviceKey:t.key,tenantKey:e.tenantKey})},v.autoGenerateTenantCode=function(){if(!v.currentTenant.key){var e="";return v.currentTenant.name&&(e=v.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),v.currentTenant.tenant_code=e}},l.tabIndex=0,l.$watch("tabIndex",function(t,n){if(void 0!==t)switch(t){case 0:return a.go("tenantDetails",{tenantKey:e.tenantKey});case 1:return a.go("tenantManagedDevices",{tenantKey:e.tenantKey});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:e.tenantKey});case 3:return a.go("tenantLocations",{tenantKey:e.tenantKey})}}),v}t.$inject=["$stateParams","TenantsService","DomainsService","TimezonesService","DistributorsService","$state","sweet","ProgressBarService","ToastsService","SessionsService","$scope","$location"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantDetailsCtrl=t},711:function(e,exports){"use strict";function t(e,t,n,r,i,a,o){"ngInject";var s=this;if(s.location={key:void 0},s.tenantKey=e.tenantKey,s.editMode=!!e.locationKey,s.editMode){var c=n.getLocationByKey(e.locationKey);c.then(function(e){return s.location=e,s.tenantKey=e.tenantKey,s.locationName=e.customerLocationName,s.fetchTenantName(s.tenantKey)})}return s.initialize=function(){if(!s.editMode)return s.fetchTenantName(s.tenantKey),s.location={tenantKey:s.tenantKey,active:!0}},s.onClickSaveButton=function(){a.start();var e=n.save(s.location);return s.editMode?e.then(s.onSuccessUpdatingLocation(s.tenantKey),s.onFailureSavingLocation):e.then(s.onSuccessSavingLocation,s.onFailureSavingLocation)},s.onSuccessSavingLocation=function(){return a.complete(),o.showSuccessToast("We saved your location."),setTimeout(function(){r.go("tenantLocations",{tenantKey:e.tenantKey})},1e3)},s.onSuccessUpdatingLocation=function(e){return a.complete(),o.showSuccessToast("We updated your location."),setTimeout(function(){r.go("tenantLocations",{tenantKey:e})},1e3)},s.onFailureSavingLocation=function(e){return a.complete(),409===e.status?(o.showErrorToast("Location code conflict. Unable to save your location."),i.show("Oops...","Please change your customer location name. Location name must generate a unique location code.","error")):o.showErrorToast("Unable to save your location.")},s.fetchTenantName=function(e){var n=t.getTenantByKey(e);return n.then(function(e){return s.tenantName=e.name})},s.autoGenerateCustomerLocationCode=function(){if(!s.location.key){var e="";return s.location.customerLocationName&&(e=s.location.customerLocationName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),s.location.customerLocationCode=e}},s}t.$inject=["$stateParams","TenantsService","LocationsService","$state","sweet","ProgressBarService","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantLocationCtrl=t},712:function(e,exports){"use strict";function t(e,t,n,r,i,a){"ngInject";var o=this;if(o.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},o.tenantDevices=[],o.devicesPrev=null,o.devicesNext=null,o.selectedButton="Serial Number",o.serialDevices={},o.disabled=!0,o.macDevices={},o.editMode=!!t.tenantKey,o.tenantKey=t.tenantKey,o.getManagedDevices=function(e,t,n){i.start();var a=r.getDevicesByTenant(e,t,n);return a.then(function(e){return o.devicesPrev=e.prev_cursor,o.devicesNext=e.next_cursor,o.tenantDevices=e.devices,i.complete()})},o.editItem=function(e){return r.editItem(e)},o.refreshDevices=function(){return o.devicesPrev=null,o.devicesNext=null,o.tenantDevices=null,o.getManagedDevices(o.tenantKey,o.devicesPrev,o.devicesNext)},o.editMode){var s=n.getTenantByKey(o.tenantKey);s.then(function(e){return o.currentTenant=e}),o.getManagedDevices(o.tenantKey,null,null)}return e.tabIndex=1,e.$watch("tabIndex",function(e,t){if(void 0!==e)switch(e){case 0:return a.go("tenantDetails",{tenantKey:o.tenantKey});case 1:return a.go("tenantManagedDevices",{tenantKey:o.tenantKey});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:o.tenantKey});case 3:return a.go("tenantLocations",{tenantKey:o.tenantKey})}}),o.changeRadio=function(){return o.searchText="",o.disabled=!0,o.serialDevices={},o.macDevices={}},o.searchDevices=function(e){var t=!1,n=o.selectedButton,i=!0,a=o.tenantKey;return r.searchDevices(e,n,i,a,o.distributorKey,t).then(function(e){if(e.success){var t=e.devices;return"Serial Number"===n?(o.serialDevices=t[1],t[0]):"MAC"===n?(o.macDevices=t[1],t[0]):(o.gcmidDevices=t[1],t[0])}return[]})},o.paginateCall=function(e){return e?o.getManagedDevices(o.tenantKey,null,o.devicesNext):o.getManagedDevices(o.tenantKey,o.devicesPrev,null)},o.prepareForEditView=function(e){return r.preprateForEditView(o.selectedButton,o.tenantKey,e,o.macDevices,o.serialDevices,o.gcmidDevices)},o.controlOpenButton=function(e){return o.disabled=!e,o.loadingDisabled=!1},o.isResourceValid=function(e){var t=!1,n=!0;return r.isResourceValid(e,o.selectedButton,n,o.tenantKey,o.distributorKey,t).then(function(e){return o.controlOpenButton(e.is_match)})},o}t.$inject=["$scope","$stateParams","TenantsService","DevicesService","ProgressBarService","$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantManagedDevicesCtrl=t},713:function(e,exports){"use strict";function t(e,t,n,r,i,a){"ngInject";var o=this;if(o.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},o.gcmidDevices=[],o.tenantDevices=[],o.devicesPrev=null,o.devicesNext=null,o.selectedButton="MAC",o.serialDevices={},o.disabled=!0,o.macDevices={},o.editMode=!!t.tenantKey,o.tenantKey=t.tenantKey,e.tabIndex=2,e.$watch("tabIndex",function(e,t){if(void 0!==e)switch(e){case 0:return a.go("tenantDetails",{tenantKey:o.tenantKey});case 1:return a.go("tenantManagedDevices",{tenantKey:o.tenantKey});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:o.tenantKey});case 3:return a.go("tenantLocations",{tenantKey:o.tenantKey})}}),o.editItem=function(e){return r.editItem(e)},o.getUnmanagedDevices=function(e,t,n){i.start();var a=r.getUnmanagedDevicesByTenant(e,t,n);return a.then(function(e){return o.devicesPrev=e.prev_cursor,o.devicesNext=e.next_cursor,o.tenantDevices=e.devices,i.complete()})},o.editMode){var s=n.getTenantByKey(o.tenantKey);s.then(function(e){return o.currentTenant=e}),o.getUnmanagedDevices(o.tenantKey,null,null)}return o.refreshDevices=function(){return o.devicesPrev=null,o.devicesNext=null,o.tenantDevices=null,o.getUnmanagedDevices(o.tenantKey,o.devicesPrev,o.devicesNext)},o.changeRadio=function(){return o.searchText="",o.disabled=!0,o.serialDevices={},o.macDevices={}},o.searchDevices=function(e){var t=!0,n=!0;return r.searchDevices(e,o.selectedButton,n,o.tenantKey,o.distributorKey,t).then(function(e){if(e.success){var t=e.devices;return"Serial Number"===o.selectedButton?(o.serialDevices=t[1],t[0]):"MAC"===o.selectedButton?(o.macDevices=t[1],t[0]):(o.gcmidDevices=t[1],t[0])}return[]})},o.paginateCall=function(e){return e?o.getUnmanagedDevices(o.tenantKey,null,o.devicesNext):o.getUnmanagedDevices(o.tenantKey,o.devicesPrev,null)},o.prepareForEditView=function(e){return r.preprateForEditView(o.selectedButton,o.tenantKey,e,o.macDevices,o.serialDevices,o.gcmidDevices)},o.controlOpenButton=function(e){return o.disabled=!e,o.loadingDisabled=!1},o.isResourceValid=function(e){var t=!0,n=!0;return r.isResourceValid(e,o.selectedButton,n,o.tenantKey,o.distributorKey,t).then(function(e){return o.controlOpenButton(e.is_match)})},o}t.$inject=["$scope","$stateParams","TenantsService","DevicesService","ProgressBarService","$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantUnmanagedDevicesCtrl=t},714:function(e,exports){"use strict";function t(e,t,n,r,i){"ngInject";var a=this;return a.tenants=[],a.searchedTenants=[],a.searchMatch=null,a.searchDisabled=!0,a.getTenantsPaginated=function(e,t){a.offset=t,a.loading=!0,r.start();var i=n.fetchAllTenantsPaginated(e,t);return i.then(function(e){return a.getFetchSuccess(e)},function(e){return a.getFetchFailure(e)})},a.getFetchSuccess=function(e){return a.tenants=e.tenants,a.total=e.total,a.is_first_page=e.is_first_page,a.is_last_page=e.is_last_page,r.complete(),a.loading=!1},a.getFetchFailure=function(e){r.complete();var t="Unable to fetch tenants. Error: "+e.status+" "+e.statusText+".";return i.show("Oops...",t,"error")},a.initialize=function(){return a.offset=0,a.searchAllTenantsByName("my"),a.getTenantsPaginated(100,a.offset)},a.searchAllTenantsByName=function(e){if(!e||e.length<3)return[];var t=n.searchAllTenantsByName(e);return t.then(function(e){return a.searchedTenants=e.matches,a.searchedTenants?a.searchedTenants.map(function(e){return e.name}):[]})},a.isTenantValid=function(e){if(!e||e.length<3)return[];n.searchAllTenantsByName(e).then(function(t){var n=t.matches[0];n?(a.searchMatch=n,a.searchDisabled=!(e===n.name)):a.searchDisabled=!0})},a.editItem=function(t){return e.go("tenantDetails",{tenantKey:t.key})},a.deleteItem=function(e){var t=function(){var t=n["delete"](e);return t.then(function(){return a.initialize()})};return i.show({title:"Are you sure?",text:"This will permanently remove the tenant from the system.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the tenant!",closeOnConfirm:!0},t)},a}t.$inject=["$state","$log","TenantsService","ProgressBarService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantsCtrl=t},715:function(e,exports){"use strict";function t(e,t,n,r){"ngInject";var i=this;return i.version_data=[],i.loading=!0,i.proceedToSignIn=function(){return t.go("sign_in")},i.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},i.giveOptionToChangeDistributor=function(){var e=n.fetchAllByUser(r.getUserKey());return e.then(function(e){return i.has_multiple_distributors=e.length>1,i.loading=!1})},i.changeDistributor=function(){return t.go("distributor_selection")},i.getVersion=function(){var t=e.getVersions();return t.then(function(e){return i.version_data=e})},i.initialize=function(){return i.identity={key:r.getUserKey(),email:r.getUserEmail(),distributorKey:r.getCurrentDistributorKey(),distributorName:r.getCurrentDistributorName()},i.giveOptionToChangeDistributor(),i.identity.email?i.getVersion():t.go("sign_in")},i}t.$inject=["VersionsService","$state","DistributorsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.WelcomeCtrl=t},716:function(e,exports){"use strict";function t(e,t,n){"ngInject";return e.state("sign_in",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],notAuthenticated:["AuthorizationService",function(e){return e.notAuthenticated()}]},url:"/sign_in",templateUrl:"app/authentication/sign_in.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("signed_out",{url:"/signed_out",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],notAuthenticated:["AuthorizationService",function(e){return e.notAuthenticated()}]},templateUrl:"app/authentication/signed_out.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("sign_out",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/sign_out",templateUrl:"app/authentication/sign_out.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("distributor_selection",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/distributor_selection",templateUrl:"app/distributor/distributor_selector.html",controller:"DistributorSelectorCtrl",controllerAs:"vm"}),e.state("home",{url:"/",templateUrl:"app/welcome/welcome.html",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("welcome",{url:"/welcome",templateUrl:"app/welcome/welcome.html",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("domains",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains",templateUrl:"app/domain/domains-listing.html",controller:"DomainsCtrl",controllerAs:"domainsCtrl",ncyBreadcrumb:{label:"Domains"}}),e.state("addDomain",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains/add",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"Add domain",parent:"domains"}}),e.state("editDomain",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains/:domainKey",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"{{ domainDetailsCtrl.currentDomain.name }}",parent:"domains"}}),e.state("tenants",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants",templateUrl:"app/tenant/tenants-listing.html",controller:"TenantsCtrl",controllerAs:"tenantsCtrl",ncyBreadcrumb:{label:"Tenants"}}),e.state("addTenant",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/add",templateUrl:"app/tenant/tenant-add.html",controller:"TenantAddCtrl",controllerAs:"tenantAddCtrl",ncyBreadcrumb:{label:"Add tenant",parent:"tenants"}}),e.state("tenantDetails",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/details",templateUrl:"app/tenant/tenant-details.html",controller:"TenantDetailsCtrl",controllerAs:"tenantDetailsCtrl",ncyBreadcrumb:{label:"{{ tenantDetailsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantManagedDevices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/managed",templateUrl:"app/tenant/tenant-managed-devices.html",controller:"TenantManagedDevicesCtrl",controllerAs:"tenantManagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantManagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantUnmanagedDevices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/unmanaged",templateUrl:"app/tenant/tenant-unmanaged-devices.html",controller:"TenantUnmanagedDevicesCtrl",controllerAs:"tenantUnmanagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantUnmanagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantLocations",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/locations",templateUrl:"app/tenant/tenant-locations.html",controller:"TenantLocationsCtrl",controllerAs:"tenantLocationsCtrl",ncyBreadcrumb:{label:"{{ tenantLocationsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("editLocation",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/locations/:locationKey",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / {{ tenantLocationCtrl.locationName }}",parent:"tenants"}}),e.state("addLocation",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/location",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / Location",parent:"tenants"}}),e.state("devices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/devices",templateUrl:"app/device/devices-listing.html",controller:"DevicesListingCtrl",controllerAs:"devicesListingCtrl",ncyBreadcrumb:{label:"Devices"}}),e.state("editDevice",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/devices/:deviceKey?tenantKey?fromDevices",templateUrl:"app/device/device-detail.html",ncyBreadcrumb:{label:"{{ deviceDetailsCtrl.currentDevice.key }}",parent:"devices"},controller:"DeviceDetailsCtrl","function":function(e,t){e.tenantKey=t.tenantKey},controllerAs:"deviceDetailsCtrl"}),e.state("proof",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/proof",templateUrl:"app/proof/main.html",controller:"ProofOfPlayCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Proof of Play"}}),e.state("proofDetail",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/proof/:tenant",templateUrl:"app/proof/detail.html",controller:"ProofOfPlayCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Proof of Play"}}),e.state("admin",{resolve:{isAdmin:["AuthorizationService",function(e){return e.isAdminOrDistributorAdmin()}]},url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Admin"}}),t.otherwise("/sign_in"),n.setBaseUrl("/api/v1"),n.addResponseInterceptor(function(e,t,n,r,i,a){var o=e;return o}),n.setRestangularFields({id:"key"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.routes=t,t.$inject=["$stateProvider","$urlRouterProvider","RestangularProvider"]},717:function(e,exports){"use strict";function t(e,t,n,r,i){"ngInject";var a=function(){var e=n.get("$state");return r.$on("$stateChangeError",function(t,n,r,i,a,o){if("authError"===o[0])return e.go(o[1])})};i(a,500);var o=function(){e.addRequestInterceptor(function(r,i,a,o){var s=n.get("StorageService"),c="6C346588BD4C6D722A1165B43C51C";if(t.host().indexOf("provisioning-gamestop")>-1&&(c="5XZHBF3mOwqJlYAlG1NeeWX0Cb72g"),e.setDefaultHeaders({"Content-Type":"application/json",Accept:"application/json",Authorization:c,"X-Provisioning-User":s.get("userKey"),"X-Provisioning-Distributor":s.get("currentDistributorKey")}),"remove"!==i)return r})};i(o,500)}t.$inject=["Restangular","$location","$injector","$rootScope","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.appRun=t},718:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){o["default"].extend(e,{progressBar:!0,closeButton:!0,tapToDismiss:!0,newestOnTop:!0,positionClass:"toast-bottom-left",timeOut:5e3})}function i(e){e.setOptions({prefixStateName:"home",template:"bootstrap3"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toastrConfig=r,exports.breadcrumbProvider=i;var a=t(369),o=n(a);r.$inject=["toastrConfig"],i.$inject=["$breadcrumbProvider"]}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXBwLmJ1bmRsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYXBwLmpzIiwid2VicGFjazovLy8uL34vbW9tZW50L2xvY2FsZSBeXFwuXFwvLiokIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5jc3M/ZDE1NiIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhckJyZWFkY3J1bWIvYW5ndWxhckJyZWFkY3J1bWIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvanMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci9jc3MvbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzP2M0MTMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvY3NzL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1kaXJlY3RpdmUuZy1zaWduaW4vZ29vZ2xlLXBsdXMtc2lnbmluLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy9hbmd1bGFyLWgtc3dlZXRhbGVydC9uZ1N3ZWV0QWxlcnQubWluLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy92ZW5kb3Iuc2Nzcz8yNmEwIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy92ZW5kb3Iuc2NzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3Njc3MvaW5kZXguc2Nzcz83Njk3Iiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy9pbmRleC5zY3NzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGV2aWNlL2RldmljZS1kZXRhaWwtY29tbWFuZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2RldmljZS9kZXZpY2UtZGV0YWlscy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGV2aWNlL2RldmljZXMtbGlzdGluZy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYWRtaW4vYWRtaW4tY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2F1dGhlbnRpY2F0aW9uL2F1dGhlbnRpY2F0aW9uLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hcHAvYXBwLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9kaXN0cmlidXRvci9kaXN0cmlidXRvci1zZWxlY3Rvci1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3JzLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9kb21haW4vZG9tYWlucy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZG9tYWluL2RvbWFpbi1kZXRhaWxzLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wcm9vZi9tdWx0aS1sb2NhdGlvbi5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvcHJvb2YvbXVsdGktZGlzcGxheS5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvcHJvb2YvbXVsdGktcmVzb3VyY2UuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3Byb29mL3Byb29mLW9mLXBsYXkuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2FkbWluLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9hdXRob3JpemF0aW9uLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9jb21tYW5kcy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvZGF0ZW1hbmlwdWxhdGlvbi5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvZGV2aWNlcy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvZGlzdHJpYnV0b3JzLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9kb21haW5zLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9pZGVudGl0eS5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvaW50ZWdyYXRpb24tZXZlbnRzLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9sb2NhdGlvbnMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL3Byb2dyZXNzYmFyLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9wcm9vZnBsYXkuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL3Nlc3Npb25zLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9zdG9yYWdlLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy90ZW5hbnRzLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy90aW1lem9uZXMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL3RvYXN0cy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvdmVyc2lvbnMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtYWRkLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LWRldGFpbHMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbWFuYWdlZC1kZXZpY2VzLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LXVubWFuYWdlZC1kZXZpY2VzLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50cy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvd2VsY29tZS93ZWxjb21lLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hcHAtcm91dGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYXBwLXJ1bi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2FwcC1jb25maWcuanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwiMCIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiMzY3IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2FwcCIsIl9kZXZpY2VEZXRhaWxDb21tYW5kIiwiX2RldmljZURldGFpbHMiLCJfZGV2aWNlc0xpc3RpbmciLCJfYWRtaW5Db250cm9sbGVyIiwiX2F1dGhlbnRpY2F0aW9uQ29udHJvbGxlciIsIl9hcHBDb250cm9sbGVyIiwiX2Rpc3RyaWJ1dG9yU2VsZWN0b3JDb250cm9sbGVyIiwiX2Rpc3RyaWJ1dG9yc0NvbnRyb2xsZXIiLCJfZG9tYWlucyIsIl9kb21haW5EZXRhaWxzIiwiX211bHRpTG9jYXRpb24iLCJfbXVsdGlEaXNwbGF5IiwiX211bHRpUmVzb3VyY2UiLCJfcHJvb2ZPZlBsYXkiLCJfYWRtaW4iLCJfYWRtaW4yIiwiX2F1dGhvcml6YXRpb24iLCJfYXV0aG9yaXphdGlvbjIiLCJfY29tbWFuZHMiLCJfY29tbWFuZHMyIiwiX2RhdGVtYW5pcHVsYXRpb24iLCJfZGF0ZW1hbmlwdWxhdGlvbjIiLCJfZGV2aWNlcyIsIl9kZXZpY2VzMiIsIl9kaXN0cmlidXRvcnMiLCJfZGlzdHJpYnV0b3JzMiIsIl9kb21haW5zMiIsIl9kb21haW5zMyIsIl9pZGVudGl0eSIsIl9pZGVudGl0eTIiLCJfaW50ZWdyYXRpb25FdmVudHMiLCJfaW50ZWdyYXRpb25FdmVudHMyIiwiX2xvY2F0aW9ucyIsIl9sb2NhdGlvbnMyIiwiX3Byb2dyZXNzYmFyIiwiX3Byb2dyZXNzYmFyMiIsIl9wcm9vZnBsYXkiLCJfcHJvb2ZwbGF5MiIsIl9zZXNzaW9ucyIsIl9zZXNzaW9uczIiLCJfc3RvcmFnZSIsIl9zdG9yYWdlMiIsIl90ZW5hbnRzIiwiX3RlbmFudHMyIiwiX3RpbWV6b25lcyIsIl90aW1lem9uZXMyIiwiX3RvYXN0cyIsIl90b2FzdHMyIiwiX3ZlcnNpb25zIiwiX3ZlcnNpb25zMiIsIl90ZW5hbnRBZGQiLCJfdGVuYW50RGV0YWlscyIsIl90ZW5hbnRMb2NhdGlvbiIsIl90ZW5hbnRNYW5hZ2VkRGV2aWNlcyIsIl90ZW5hbnRVbm1hbmFnZWREZXZpY2VzIiwiX3RlbmFudHMzIiwiX3dlbGNvbWVDb250cm9sbGVyIiwiX2FwcFJvdXRlcyIsIl9hcHBSdW4iLCJfYXBwQ29uZmlnIiwiYXBwIiwic2VydmljZSIsImNvbnRyb2xsZXIiLCJEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsIiwiRGV2aWNlRGV0YWlsc0N0cmwiLCJEZXZpY2VzTGlzdGluZ0N0cmwiLCJBZG1pbkN0cmwiLCJBdXRoZW50aWNhdGlvbkN0cmwiLCJBcHBDb250cm9sbGVyIiwiRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwiLCJEaXN0cmlidXRvcnNDdHJsIiwiRG9tYWluc0N0cmwiLCJEb21haW5EZXRhaWxzQ3RybCIsIlByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwiLCJQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwiLCJQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsIiwiUHJvb2ZPZlBsYXlDdHJsIiwiVGVuYW50QWRkQ3RybCIsIlRlbmFudERldGFpbHNDdHJsIiwiVGVuYW50TG9jYXRpb25DdHJsIiwiVGVuYW50TWFuYWdlZERldmljZXNDdHJsIiwiVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwiLCJUZW5hbnRzQ3RybCIsIldlbGNvbWVDdHJsIiwicnVuIiwiYXBwUnVuIiwiY29uZmlnIiwicm91dGVzIiwidG9hc3RyQ29uZmlnIiwiYnJlYWRjcnVtYlByb3ZpZGVyIiwiU3RvcmFnZVNlcnZpY2UiLCIkbG9jYXRpb24iLCJpbnRlcmNlcHRvciIsInJlcXVlc3QiLCJncyIsInByb2QiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwiQWNjZXB0IiwiQXV0aG9yaXphdGlvbiIsImhvc3QiLCJpbmRleE9mIiwiWC1Qcm92aXNpb25pbmctVXNlciIsImdldCIsIlgtUHJvdmlzaW9uaW5nLVVzZXItSWRlbnRpZmllciIsIlgtUHJvdmlzaW9uaW5nLURpc3RyaWJ1dG9yIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giLCIzNjgiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwidW5kZWZpbmVkIiwiX2FuZ3VsYXIiLCJfYW5ndWxhcjIiLCJfYW5ndWxhclVpUm91dGVyIiwiX2FuZ3VsYXJVaVJvdXRlcjIiLCJfbW9tZW50IiwiX2xvZGFzaCIsIl9sb2Rhc2gyIiwid2luZG93IiwiXyIsImFuZ3VsYXIiLCIzNzQiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsIndlYnBhY2tDb250ZXh0UmVzb2x2ZSIsIm1hcCIsIkVycm9yIiwiLi9hZiIsIi4vYWYuanMiLCIuL2FyIiwiLi9hci1tYSIsIi4vYXItbWEuanMiLCIuL2FyLXNhIiwiLi9hci1zYS5qcyIsIi4vYXItdG4iLCIuL2FyLXRuLmpzIiwiLi9hci5qcyIsIi4vYXoiLCIuL2F6LmpzIiwiLi9iZSIsIi4vYmUuanMiLCIuL2JnIiwiLi9iZy5qcyIsIi4vYm4iLCIuL2JuLmpzIiwiLi9ibyIsIi4vYm8uanMiLCIuL2JyIiwiLi9ici5qcyIsIi4vYnMiLCIuL2JzLmpzIiwiLi9jYSIsIi4vY2EuanMiLCIuL2NzIiwiLi9jcy5qcyIsIi4vY3YiLCIuL2N2LmpzIiwiLi9jeSIsIi4vY3kuanMiLCIuL2RhIiwiLi9kYS5qcyIsIi4vZGUiLCIuL2RlLWF0IiwiLi9kZS1hdC5qcyIsIi4vZGUuanMiLCIuL2R2IiwiLi9kdi5qcyIsIi4vZWwiLCIuL2VsLmpzIiwiLi9lbi1hdSIsIi4vZW4tYXUuanMiLCIuL2VuLWNhIiwiLi9lbi1jYS5qcyIsIi4vZW4tZ2IiLCIuL2VuLWdiLmpzIiwiLi9lbi1pZSIsIi4vZW4taWUuanMiLCIuL2VuLW56IiwiLi9lbi1uei5qcyIsIi4vZW8iLCIuL2VvLmpzIiwiLi9lcyIsIi4vZXMtZG8iLCIuL2VzLWRvLmpzIiwiLi9lcy5qcyIsIi4vZXQiLCIuL2V0LmpzIiwiLi9ldSIsIi4vZXUuanMiLCIuL2ZhIiwiLi9mYS5qcyIsIi4vZmkiLCIuL2ZpLmpzIiwiLi9mbyIsIi4vZm8uanMiLCIuL2ZyIiwiLi9mci1jYSIsIi4vZnItY2EuanMiLCIuL2ZyLWNoIiwiLi9mci1jaC5qcyIsIi4vZnIuanMiLCIuL2Z5IiwiLi9meS5qcyIsIi4vZ2QiLCIuL2dkLmpzIiwiLi9nbCIsIi4vZ2wuanMiLCIuL2hlIiwiLi9oZS5qcyIsIi4vaGkiLCIuL2hpLmpzIiwiLi9ociIsIi4vaHIuanMiLCIuL2h1IiwiLi9odS5qcyIsIi4vaHktYW0iLCIuL2h5LWFtLmpzIiwiLi9pZCIsIi4vaWQuanMiLCIuL2lzIiwiLi9pcy5qcyIsIi4vaXQiLCIuL2l0LmpzIiwiLi9qYSIsIi4vamEuanMiLCIuL2p2IiwiLi9qdi5qcyIsIi4va2EiLCIuL2thLmpzIiwiLi9rayIsIi4va2suanMiLCIuL2ttIiwiLi9rbS5qcyIsIi4va28iLCIuL2tvLmpzIiwiLi9reSIsIi4va3kuanMiLCIuL2xiIiwiLi9sYi5qcyIsIi4vbG8iLCIuL2xvLmpzIiwiLi9sdCIsIi4vbHQuanMiLCIuL2x2IiwiLi9sdi5qcyIsIi4vbWUiLCIuL21lLmpzIiwiLi9tayIsIi4vbWsuanMiLCIuL21sIiwiLi9tbC5qcyIsIi4vbXIiLCIuL21yLmpzIiwiLi9tcyIsIi4vbXMtbXkiLCIuL21zLW15LmpzIiwiLi9tcy5qcyIsIi4vbXkiLCIuL215LmpzIiwiLi9uYiIsIi4vbmIuanMiLCIuL25lIiwiLi9uZS5qcyIsIi4vbmwiLCIuL25sLmpzIiwiLi9ubiIsIi4vbm4uanMiLCIuL3BhLWluIiwiLi9wYS1pbi5qcyIsIi4vcGwiLCIuL3BsLmpzIiwiLi9wdCIsIi4vcHQtYnIiLCIuL3B0LWJyLmpzIiwiLi9wdC5qcyIsIi4vcm8iLCIuL3JvLmpzIiwiLi9ydSIsIi4vcnUuanMiLCIuL3NlIiwiLi9zZS5qcyIsIi4vc2kiLCIuL3NpLmpzIiwiLi9zayIsIi4vc2suanMiLCIuL3NsIiwiLi9zbC5qcyIsIi4vc3EiLCIuL3NxLmpzIiwiLi9zciIsIi4vc3ItY3lybCIsIi4vc3ItY3lybC5qcyIsIi4vc3IuanMiLCIuL3NzIiwiLi9zcy5qcyIsIi4vc3YiLCIuL3N2LmpzIiwiLi9zdyIsIi4vc3cuanMiLCIuL3RhIiwiLi90YS5qcyIsIi4vdGUiLCIuL3RlLmpzIiwiLi90aCIsIi4vdGguanMiLCIuL3RsLXBoIiwiLi90bC1waC5qcyIsIi4vdGxoIiwiLi90bGguanMiLCIuL3RyIiwiLi90ci5qcyIsIi4vdHpsIiwiLi90emwuanMiLCIuL3R6bSIsIi4vdHptLWxhdG4iLCIuL3R6bS1sYXRuLmpzIiwiLi90em0uanMiLCIuL3VrIiwiLi91ay5qcyIsIi4vdXoiLCIuL3V6LmpzIiwiLi92aSIsIi4vdmkuanMiLCIuL3gtcHNldWRvIiwiLi94LXBzZXVkby5qcyIsIi4vemgtY24iLCIuL3poLWNuLmpzIiwiLi96aC10dyIsIi4vemgtdHcuanMiLCJrZXlzIiwicmVzb2x2ZSIsImlkIiwiNTE4IiwiYSIsImIiLCJjIiwiZCIsImUiLCJ0aGlzIiwiYXV0b1N0eWxlIiwiY291bnQiLCJoZWlnaHQiLCIkc2NvcGUiLCIkbmV3IiwiY29sb3IiLCJwYXJlbnQiLCJmaW5kIiwicHJvZ3Jlc3NiYXJFbCIsImFwcGVuZENoaWxkIiwiZXEiLCJjaGlsZHJlbiIsImNzcyIsImludGVydmFsQ291bnRlcklkIiwic3RhcnQiLCJzaG93IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiaXNOYU4iLCJoaWRlIiwicmVtYWluaW5nIiwiTWF0aCIsInBvdyIsInNxcnQiLCJ1cGRhdGVDb3VudCIsIiQkcGhhc2UiLCIkYXBwbHkiLCJzZXRIZWlnaHQiLCJzZXRDb2xvciIsImFuaW1hdGUiLCJhbmltYXRpb24iLCJjYW5jZWwiLCJzdGF0dXMiLCJzdG9wIiwic2V0IiwicmVzZXQiLCJjb21wbGV0ZSIsInNldFBhcmVudCIsInJlbW92ZUNoaWxkIiwiZ2V0RG9tRWxlbWVudCIsInNldEFic29sdXRlIiwiZmFjdG9yeSIsImNyZWF0ZUluc3RhbmNlIiwiaW5zdGFudGlhdGUiLCJkaXJlY3RpdmUiLCJyZXBsYWNlIiwicmVzdHJpY3QiLCJsaW5rIiwiJHdhdGNoIiwiY291bnRlciIsInRlbXBsYXRlIiwiNTE5IiwiY29udGVudCIsImxvY2FscyIsIjUyMCIsIjUyMSIsIl90eXBlb2YyIiwiX3R5cGVvZjMiLCJlcXVhbHMiLCJsZW5ndGgiLCJtYXRjaCIsInN0YXRlIiwicGFyYW1FeHByIiwiZiIsInByZWZpeFN0YXRlTmFtZSIsInRlbXBsYXRlVXJsIiwiaW5jbHVkZUFic3RyYWN0Iiwic2V0T3B0aW9ucyIsImV4dGVuZCIsIiRnZXQiLCJnIiwiaCIsIiRvbiIsInRhcmdldFNjb3BlIiwibmN5QnJlYWRjcnVtYklnbm9yZSIsIiRpZCIsImkiLCJleGVjIiwibmFtZSIsImoiLCJrIiwibCIsIm0iLCJuIiwibmN5QnJlYWRjcnVtYiIsImZvcmNlIiwic2tpcCIsIiRldmFsIiwibmN5QnJlYWRjcnVtYkxpbmsiLCJocmVmIiwidW5zaGlmdCIsImdldFRlbXBsYXRlIiwiZ2V0VGVtcGxhdGVVcmwiLCJnZXRTdGF0ZXNDaGFpbiIsIiRjdXJyZW50Iiwic2VsZiIsImdldExhc3RTdGVwIiwiJGdldExhc3RWaWV3U2NvcGUiLCJib290c3RyYXAyIiwiYm9vdHN0cmFwMyIsInNjb3BlIiwicG9zdCIsInN0ZXBzIiwiZm9yRWFjaCIsImxhYmVsIiwibmN5QnJlYWRjcnVtYkxhYmVsIiwiY29tcGlsZSIsImF0dHIiLCIkYXR0ciIsIm5jeUJyZWFkY3J1bWJMYXN0IiwiaHRtbCIsIm5jeUJyZWFkY3J1bWJUZXh0IiwibmN5QnJlYWRjcnVtYlRleHRTZXBhcmF0b3IiLCJuY3lCcmVhZGNydW1iQ2hhaW4iLCJqb2luIiwiZXhwcmVzc2lvbnMiLCJwYXJ0cyIsImlzRnVuY3Rpb24iLCJleHAiLCIkaW5qZWN0IiwicHJvdmlkZXIiLCI1OTAiLCJqUXVlcnkiLCJfbW9tZW50MiIsIm1vbWVudCIsIm1vZHVsZU5hbWUiLCJWSUVXX1NUQVRFUyIsIkRBVEUiLCJIT1VSIiwiTUlOVVRFIiwiZWwiLCJlbGVtZW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImxvY2FsZSIsInNldERlZmF1bHRMb2NhbGUiLCJsb2NhbGVTdHJpbmciLCIkbWREaWFsb2ciLCJyZXF1aXJlIiwiY3VycmVudERhdGUiLCJ0aW1lIiwiZGF0ZSIsIm1pbkRhdGUiLCJtYXhEYXRlIiwic2hvcnRUaW1lIiwiZm9ybWF0IiwiY2FuY2VsVGV4dCIsIm9rVGV4dCIsImxhbmciLCJhbVRleHQiLCJwbVRleHQiLCJhdHRycyIsIm5nTW9kZWwiLCJpc09uIiwiaXNTdHJpbmciLCIkZm9ybWF0dGVycyIsImlzVmFsaWQiLCJvbiIsInByZXZlbnREZWZhdWx0IiwiYmx1ciIsIm9wdGlvbnMiLCJoYXNPd25Qcm9wZXJ0eSIsImlzVW5kZWZpbmVkIiwiUGx1Z2luQ29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsIm9wZW5Gcm9tIiwiZG9jdW1lbnQiLCJib2R5IiwiYmluZFRvQ29udHJvbGxlciIsImRpc2FibGVQYXJlbnRTY3JvbGwiLCJ0aGVuIiwidiIsIl9kIiwibWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlIiwiY3VycmVudFZpZXciLCJfZGlhbG9nIiwiX2F0dGFjaGVkRXZlbnRzIiwiVklFV1MiLCJwYXJhbXMiLCJ3ZWVrU3RhcnQiLCJtZXJpZGllbiIsImluaXQiLCJwcm90b3R5cGUiLCJ0aW1lTW9kZSIsImRhdGVNb2RlIiwiaW5pdERhdGVzIiwiY3VycmVudE5lYXJlc3Q1TWludXRlIiwibWludXRlcyIsInJvdW5kIiwibWludXRlIiwidGhhdCIsIl9kYXRlUGFyYW0iLCJpbnB1dCIsImZhbGxiYWNrIiwicmV0IiwiaXNEZWZpbmVkIiwiaXNEYXRlIiwieCIsImdldFRpbWUiLCJfaXNBTW9tZW50T2JqZWN0Iiwic2VsZWN0RGF0ZSIsImluaXREYXRlIiwiaW5pdEhvdXJzIiwiaW5pdE1pbnV0ZXMiLCJpc0FmdGVyTWluRGF0ZSIsImNoZWNrSG91ciIsImNoZWNrTWludXRlIiwiX3JldHVybiIsIl9taW5EYXRlIiwiX2RhdGUiLCJob3VyIiwic2Vjb25kIiwibWlsbGlzZWNvbmQiLCJwYXJzZUludCIsImlzQmVmb3JlTWF4RGF0ZSIsImNoZWNrVGltZSIsIl9tYXhEYXRlIiwiY2FsZW5kYXJTdGFydCIsInNldE5hbWUiLCJ0ZXh0IiwicG9zc2libGUiLCJjaGFyQXQiLCJmbG9vciIsInJhbmRvbSIsImlzUE0iLCJpbmNyZW1lbnRZZWFyIiwiYW1vdW50IiwiaXNOZXh0WWVhclZpc2libGUiLCJhZGQiLCJpc1ByZXZpb3VzWWVhclZpc2libGUiLCJpc1ByZXZpb3VzTW9udGhWaXNpYmxlIiwic3RhcnRPZiIsImlzTmV4dE1vbnRoVmlzaWJsZSIsImVuZE9mIiwiaXNIb3VyQXZhaWxhYmxlIiwiY29udmVydEhvdXJzIiwiaXNNaW51dGVBdmFpbGFibGUiLCJvayIsInNlbGVjdE1vbnRoQmVmb3JlIiwic3VidHJhY3QiLCJzZWxlY3RNb250aEFmdGVyIiwic2VsZWN0WWVhckJlZm9yZSIsInNlbGVjdFllYXJBZnRlciIsInNlbGVjdEFNIiwic2VsZWN0UE0iLCJva0J0biIsIllFQVJfTUlOIiwiWUVBUl9NQVgiLCJNT05USFNfSU5fQUxMIiwiSVRFTV9IRUlHSFQiLCJNT05USFMiLCJjdXJyZW50TW9udGhJbmRleCIsInllYXIiLCJtb250aCIsInBpY2tlciIsImNhbGVuZGFyIiwiZGF5cyIsInRvU3RyaW5nIiwid2VlayIsImxvdyIsImhpZ2giLCJtb250aHMiLCJzbGljZSIsImdldEl0ZW1BdEluZGV4IiwiaW5kZXgiLCJtb250aE9iaiIsImdlbmVyYXRlTW9udGhDYWxlbmRhciIsInRvcEluZGV4IiwidmFsMiIsInZhbDEiLCJuRGF0ZSIsInN0YXJ0T2ZNb250aCIsImlOdW1EYXkiLCJkYXlzSW5Nb250aCIsImlXZWVrIiwiZGF5c0luQVdlZWsiLCJkYXlzVG1wIiwic2xpY2VzIiwiY2VpbCIsInRvRGF5Iiwic3Vic3RyaW5nIiwiaXNJblJhbmdlIiwiaXNTZWxlY3RlZERheSIsIiRjb21waWxlIiwiYnVpbGRDYWxlbmRhckNvbnRlbnQiLCJ0Ym9keSIsInF1ZXJ5U2VsZWN0b3IiLCJjYWwiLCJ3ZWVrRGF5cyIsInRyIiwid2Vla0RheSIsInRkIiwiYU9yU3BhbiIsInNjb3BlUmVmIiwiYWRkQ2xhc3MiLCJhcHBlbmQiLCJpZHgiLCJvbGRJZHgiLCJtaW51dGVNb2RlIiwibW9kZSIsImNvbXBvbmVudFJvb3QiLCJjbG9jayIsInBpY2tlckVsIiwidyIsIm9mZnNldFdpZHRoIiwicGwiLCJwciIsIm1sIiwibXIiLCJjbG9ja1dpZHRoIiwicEwiLCJwVCIsIm1MIiwibVQiLCJyIiwicG9pbnRzIiwic2luIiwiUEkiLCJ5IiwiY29zIiwibGVmdCIsInRvcCIsImRpc3BsYXkiLCJzZXRDdXJyZW50VmFsdWUiLCJjbG9ja0NlbnRlciIsImNlbnRlcldpZHRoIiwiY2VudGVySGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiX2hMIiwiX21MIiwibWFyZ2luVG9wIiwiYW5pbWF0ZUhhbmRzIiwicm90YXRlRWxlbWVudCIsIm1kZyIsImRlZyIsIldlYmtpdFRyYW5zZm9ybSIsIi1tb3otdHJhbnNmb3JtIiwiY3VycmVudFZhbHVlIiwidG1wIiwibmV3VmFsIiwic2V0RGlzcGxheVBvaW50cyIsImNvcHkiLCJzZXRUaW1lIiwidmFsIiwicG9pbnRBdmFpbGFibGUiLCJwb2ludCIsInVud2F0Y2hlciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjYWxsIiwiNTkxIiwiNTkyIiwiNTkzIiwiX2dldE93blByb3BlcnR5TmFtZXMiLCJfZ2V0T3duUHJvcGVydHlOYW1lczIiLCIkd2luZG93IiwiZW5kaW5nIiwidHJhbnNjbHVkZSIsImN0cmwiLCJsaW5rZXIiLCJjbGllbnRpZCIsInRlc3QiLCIkc2V0IiwidGhlbWUiLCJkZWZhdWx0cyIsImNhbGxiYWNrIiwiY29va2llcG9saWN5IiwicmVxdWVzdHZpc2libGVhY3Rpb25zIiwid2lkdGgiLCJwcm9wTmFtZSIsIiRvYnNlcnZlIiwiX19fZ2NmZyIsInBvIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJhc3luYyIsInNyYyIsInMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJ0U2NvcGUiLCJvbmxvYWQiLCJnYXBpIiwic2lnbmluIiwicmVuZGVyIiwiJHJvb3RTY29wZSIsInNpZ25pbkNhbGxiYWNrIiwiYXV0aFJlc3VsdCIsImFjY2Vzc190b2tlbiIsIiRicm9hZGNhc3QiLCI1OTgiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJ0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJpc1Nob3duIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImhhc0NsYXNzIiwiNjM1IiwiNjM2IiwiNjM3IiwiNjM4IiwiNjQwIiwiJGxvZyIsIiRzdGF0ZVBhcmFtcyIsIiRzdGF0ZSIsIlNlc3Npb25zU2VydmljZSIsIkRldmljZXNTZXJ2aWNlIiwiTG9jYXRpb25zU2VydmljZSIsIkNvbW1hbmRzU2VydmljZSIsIlRpbWV6b25lc1NlcnZpY2UiLCJzd2VldCIsIlByb2dyZXNzQmFyU2VydmljZSIsIlRvYXN0c1NlcnZpY2UiLCIkdGltZW91dCIsInZtIiwidGVuYW50S2V5IiwiZGV2aWNlS2V5IiwiZnJvbURldmljZXMiLCJjdXJyZW50RGV2aWNlIiwiY29tbWFuZEV2ZW50cyIsImdlbmVyYXRlTG9jYWxGcm9tVVRDIiwiVVRDVGltZSIsImxvY2FsVGltZSIsInV0YyIsInRvRGF0ZSIsInJlcGxhY2VDb21tYW5kVGltZSIsImlzc3VlcyIsImVhY2giLCJwb3N0ZWRUaW1lIiwiY29uZmlybWVkVGltZSIsImdldEV2ZW50cyIsInByZXYiLCJuZXh0IiwiY29tbWFuZEV2ZW50c1Byb21pc2UiLCJnZXRDb21tYW5kRXZlbnRzQnlLZXkiLCJkYXRhIiwiZXZlbnRzIiwiZXZlbnRfbmV4dF9jdXJzb3IiLCJuZXh0X2N1cnNvciIsImV2ZW50X3ByZXZfY3Vyc29yIiwicHJldl9jdXJzb3IiLCJnZXRFdmVudHNUaW1lT3V0IiwiY29tbWFuZEhpc3RvcnlTZWxlY3RlZCIsInBhZ2luYXRlRXZlbnRDYWxsIiwiZm9yd2FyZCIsImluaXRpYWxpemUiLCJkZXZpY2VQcm9taXNlIiwiZ2V0RGV2aWNlQnlLZXkiLCJyZXNwb25zZSIsIm9uR2V0RGV2aWNlU3VjY2VzcyIsIm9uR2V0RGV2aWNlRmFpbHVyZSIsInRpbWV6b25lIiwic2VsZWN0ZWRUaW1lem9uZSIsImJhY2tVcmwiLCJiYWNrVXJsVGV4dCIsImlzVW5tYW5hZ2VkRGV2aWNlIiwic2hvd0Vycm9yVG9hc3QiLCJlcnJvck1lc3NhZ2UiLCJzdGF0dXNUZXh0IiwiZXJyb3IiLCJnbyIsIm9uUmVzZXRDb250ZW50IiwicHJvbWlzZSIsImNvbnRlbnREZWxldGUiLCJvblJlc2V0Q29udGVudFN1Y2Nlc3MiLCJvblJlc2V0Q29udGVudEZhaWx1cmUiLCJzaG93U3VjY2Vzc1RvYXN0Iiwib25VcGRhdGVDb250ZW50IiwiY29udGVudFVwZGF0ZSIsIm9uVXBkYXRlQ29udGVudFN1Y2Nlc3MiLCJvblVwZGF0ZUNvbnRlbnRGYWlsdXJlIiwib25SZXNldFBsYXllciIsIm9uUmVzZXRQbGF5ZXJTdWNjZXNzIiwib25SZXNldFBsYXllckZhaWx1cmUiLCJvblBhbmVsT24iLCJwb3dlck9uIiwib25QYW5lbE9uU3VjY2VzcyIsIm9uUGFuZWxPbkZhaWx1cmUiLCJvblBhbmVsT2ZmIiwicG93ZXJPZmYiLCJvblBhbmVsT2ZmU3VjY2VzcyIsIm9uUGFuZWxPZmZGYWlsdXJlIiwib25VcGRhdGVEZXZpY2UiLCJ1cGRhdGVEZXZpY2UiLCJvblVwZGF0ZURldmljZVN1Y2Nlc3MiLCJvblVwZGF0ZURldmljZUZhaWx1cmUiLCJvblZvbHVtZUNoYW5nZSIsInZvbHVtZSIsIm9uVm9sdW1lQ2hhbmdlU3VjY2VzcyIsIm9uVm9sdW1lQ2hhbmdlRmFpbHVyZSIsImxldmVsIiwib25DdXN0b21Db21tYW5kIiwiY3VzdG9tIiwib25DdXN0b21Db21tYW5kU3VjY2VzcyIsIm9uQ3VzdG9tQ29tbWFuZEZhaWx1cmUiLCJjb21tYW5kIiwib25EaWFnbm9zdGljc1RvZ2dsZSIsInRvZ2dsZURpYWdub3N0aWNzIiwib25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MiLCJvblRvZ2dsZURpYWdub3N0aWNzRmFpbHVyZSIsIm9uUmVzdGFydCIsInJlc3RhcnQiLCJvblJlc3RhcnRTdWNjZXNzIiwib25SZXN0YXJ0RmFpbHVyZSIsIm9uUG9zdExvZyIsInBvc3RMb2ciLCJvblBvc3RMb2dTdWNjZXNzIiwib25Qb3N0TG9nRmFpbHVyZSIsIjY0MSIsIkludGVncmF0aW9uRXZlbnRzIiwiRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UiLCJsb2NhdGlvbnMiLCJkYXlSYW5nZSIsInRpbWV6b25lcyIsIl9EYXRlTWFuaXB1bGF0aW9uU2VydiIsImNyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheSIsIl9EYXRlTWFuaXB1bGF0aW9uU2VydjIiLCJfc2xpY2VkVG9BcnJheTMiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiZW5yb2xsbWVudEV2ZW50cyIsInJlcGxhY2VJc3N1ZVRpbWUiLCJjcmVhdGVkIiwidXBkYXRlZCIsImNvcHlEZXZpY2VLZXkiLCJjb3B5Q29ycmVsYXRpb25JZGVudGlmaWVyIiwiZ2V0SXNzdWVzIiwiZGV2aWNlIiwiZXBvY2hTdGFydCIsImVwb2NoRW5kIiwiaXNzdWVzUHJvbWlzZSIsImdldElzc3Vlc0J5S2V5IiwiZ2V0RW5yb2xsbWVudEV2ZW50cyIsInBhZ2luYXRlQ2FsbCIsInVuaXgiLCJ0aW1lem9uZVByb21pc2UiLCJnZXRDdXN0b21UaW1lem9uZXMiLCJwYW5lbE1vZGVscyIsImdldFBhbmVsTW9kZWxzIiwicGFuZWxJbnB1dHMiLCJnZXRQYW5lbElucHV0cyIsImxvY2F0aW9uc1Byb21pc2UiLCJnZXRMb2NhdGlvbnNCeVRlbmFudEtleSIsInNldFNlbGVjdGVkT3B0aW9ucyIsInBhbmVsTW9kZWwiLCJwYW5lbElucHV0IiwiaXNQYXJlbnQiLCJwYXJlbnRJZCIsInRvTG93ZXJDYXNlIiwibG9jYXRpb25LZXkiLCJsb2NhdGlvbiIsImtleSIsIm9uU2F2ZURldmljZSIsInBhbmVsTW9kZWxOdW1iZXIiLCJwYW5lbFNlcmlhbElucHV0Iiwic2F2ZSIsIm9uU3VjY2Vzc0RldmljZVNhdmUiLCJvbkZhaWx1cmVEZXZpY2VTYXZlIiwiaW5mbyIsIm9uUGFuZWxTbGVlcCIsInBhbmVsU2xlZXAiLCJvblBhbmVsU2xlZXBTdWNjZXNzIiwib25QYW5lbFNsZWVwRmFpbHVyZSIsImNvbmZpcm1EZXZpY2VEZWxldGUiLCJldmVudCIsImNvbmZpcm0iLCJ0aXRsZSIsInRleHRDb250ZW50IiwidGFyZ2V0RXZlbnQiLCJzaG93UHJvbWlzZSIsInN1Y2Nlc3MiLCJvbkNvbmZpcm1EZWxldGUiLCJmYWlsdXJlIiwib25Db25maXJtQ2FuY2VsIiwiZnJpZW5kbHlNZXNzYWdlIiwiZGVsZXRlUHJvbWlzZSIsInNob3dJbmZvVG9hc3QiLCJvblByb29mT2ZQbGF5TG9nZ2luZ0NoZWNrIiwicHJvb2ZPZlBsYXlMb2dnaW5nIiwibm9Mb2NhdGlvbiIsIm5vRGlzcGxheUNvZGUiLCJjdXN0b21lckRpc3BsYXlDb2RlIiwib25VcGRhdGVMb2NhdGlvbiIsImF1dG9HZW5lcmF0ZUN1c3RvbWVyRGlzcGxheUNvZGUiLCJuZXdEaXNwbGF5Q29kZSIsImN1c3RvbWVyRGlzcGxheU5hbWUiLCJsb2dnbHlGb3JVc2VyIiwidXNlckRvbWFpbiIsImdldFVzZXJFbWFpbCIsInNwbGl0Iiwib25DbGlja1JlZnJlc2hCdXR0b24iLCJjb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkiLCJvblJlZnJlc2hJc3N1ZXNTdWNjZXNzIiwib25SZWZyZXNoSXNzdWVzRmFpbHVyZSIsIl9zbGljZWRUb0FycmF5MiIsIjY1MSIsImRpc3RyaWJ1dG9yS2V5IiwiZGV2aWNlcyIsImRldmljZXNQcmV2IiwiZGV2aWNlc05leHQiLCJzZWxlY3RlZEJ1dHRvbiIsInNlcmlhbERldmljZXMiLCJkaXNhYmxlZCIsIm1hY0RldmljZXMiLCJnY21pZERldmljZXMiLCJ1bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiIsInVubWFuYWdlZFNlcmlhbERldmljZXMiLCJ1bm1hbmFnZWREaXNhYmxlZCIsInVubWFuYWdlZERldmljZXNQcmV2IiwidW5tYW5hZ2VkRGV2aWNlc05leHQiLCJ1bm1hbmFnZWREZXZpY2VzIiwidW5tYW5hZ2VkTWFjRGV2aWNlcyIsInVubWFuYWdlZEdDTWlkRGV2aWNlcyIsInJlZnJlc2hNYW5hZ2VkRGV2aWNlcyIsImdldE1hbmFnZWREZXZpY2VzIiwicmVmcmVzaFVubWFuYWdlZERldmljZXMiLCJnZXRVbm1hbmFnZWREZXZpY2VzIiwiY2hhbmdlUmFkaW8iLCJ1bm1hbmFnZWQiLCJ1bm1hbmFnZWRTZWFyY2hUZXh0Iiwic2VhcmNoVGV4dCIsImVkaXRJdGVtIiwiaXRlbSIsInByZXBhcmVGb3JFZGl0VmlldyIsIm1hYyIsInNlcmlhbCIsImdjbWlkIiwiY29udHJvbE9wZW5CdXR0b24iLCJpc01hdGNoIiwidW5tYW5hZ2VkRGlzYWJsZWRCdXR0b25Mb2FkaW5nIiwiZGlzYWJsZWRCdXR0b25Mb2FkaW5nIiwiaXNSZXNvdXJjZVZhbGlkIiwicmVzb3VyY2UiLCJieVRlbmFudCIsImJ1dHRvbiIsInJlcyIsInNlYXJjaERldmljZXMiLCJwYXJ0aWFsIiwiZGV2aWNlc1Byb21pc2UiLCJnZXREZXZpY2VzQnlEaXN0cmlidXRvciIsImdldEZldGNoU3VjY2VzcyIsImdldEZldGNoRmFpbHVyZSIsInVubWFuYWdlZERldmljZXNQcm9taXNlIiwiZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5RGlzdHJpYnV0b3IiLCJnZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkiLCJtYW5hZ2VkIiwiNjUyIiwiQWRtaW5TZXJ2aWNlIiwiRGlzdHJpYnV0b3JzU2VydmljZSIsImdldEFsbERpc3RyaWJ1dG9ycyIsImxvYWRpbmdBbGxEaXN0cmlidXRvcnMiLCJnZXRBbGxEaXN0cmlidXRvcnNQcm9taXNlIiwiYWxsRGlzdHJpYnV0b3JzIiwiYWRkVXNlclRvRGlzdHJpYnV0b3IiLCJldiIsInVzZXJFbWFpbCIsImRpc3RyaWJ1dG9yQWRtaW4iLCJ3aGljaERpc3RyaWJ1dG9yIiwiZm9ybSIsIndpdGhPcldpdGhvdXQiLCJkaXN0cmlidXRvcnNBc0FkbWluIiwiYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlIiwibWVzc2FnZSIsInVzZXIiLCIkc2V0UHJpc3RpbmUiLCIkc2V0VW50b3VjaGVkIiwic2V0VGltZW91dCIsImdldFVzZXJzT2ZEaXN0cmlidXRvciIsIm1ha2VEaXN0cmlidXRvciIsImRpc3RyaWJ1dG9yTmFtZSIsImFkbWluRW1haWwiLCJhcmlhTGFiZWwiLCJtYWtlRGlzdHJpYnV0b3JQcm9taXNlIiwiZGlzdHJpYnV0b3IiLCJsb2FkaW5nVXNlcnNPZkRpc3RyaWJ1dG9yIiwiY3VycmVudERpc3RyaWJ1dG9yS2V5IiwidXNlcnNvZkRpc3RyaWJ1dG9yUHJvbWlzZSIsInVzZXJzT2ZEaXN0cmlidXRvciIsInN3aXRjaERpc3RyaWJ1dG9yIiwiaXNBZG1pbiIsImdldElzQWRtaW4iLCJnZXREaXN0cmlidXRvcnNBc0FkbWluIiwiY3VycmVudERpc3RyaWJ1dG9yTmFtZSIsImdldEN1cnJlbnREaXN0cmlidXRvck5hbWUiLCI2NTMiLCJpZGVudGl0eSIsIlByb29mUGxheVNlcnZpY2UiLCJUZW5hbnRzU2VydmljZSIsIm9uR29vZ2xlUGx1c1NpZ25JblN1Y2Nlc3MiLCJnb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCIsInJlbW92ZVVzZXJJbmZvIiwibG9naW4iLCJsb2dpblN1Y2Nlc3MiLCJsb2dpbkZhaWx1cmUiLCJvbkdvb2dsZVBsdXNTaWduSW5GYWlsdXJlIiwiaW5pdGlhbGl6ZVNpZ25JbiIsImNsaWVudElkIiwiT0FVVEhfQ0xJRU5UX0lEIiwiU1RBVEUiLCJpbml0aWFsaXplU2lnbk91dCIsInByb2NlZWRUb1NpZ25lZE91dCIsInByb2NlZWRUb1NpZ25JbiIsIm9uQ2xpY2tHb29nbGVQbHVzU2lnbkluIiwiNjU0IiwiJG1kU2lkZW5hdiIsImN1cnJlbnREaXN0cmlidXRlckluRGlzdHJpYnV0ZXJBZG1pbkxpc3QiLCJnZXRJZGVudGl0eSIsImdldFVzZXJLZXkiLCJlbWFpbCIsImFkbWluIiwiZGlzdHJpYnV0b3JfYWRtaW4iLCJhZG1pbl9vZl9jdXJyZW50X2Rpc3RyaWJ1dG9yIiwiaXNDdXJyZW50VVJMRGlzdHJpYnV0b3JTZWxlY3RvciIsInNlYXJjaCIsInJlc3VsdCIsInRvZ2dsZVNpZGVuYXYiLCJ0b2dnbGUiLCJnb1RvIiwic3RhdGVOYW1lIiwiaXNPcGVuIiwiY2xvc2UiLCI2NzciLCJkaXN0cmlidXRvcnMiLCJjdXJyZW50RGlzdHJpYnV0b3IiLCJsb2FkaW5nIiwibG9lYWRpbmciLCJkaXN0cmlidXRvcnNQcm9taXNlIiwiZmV0Y2hBbGxCeVVzZXIiLCJzZWxlY3REaXN0cmlidXRvciIsIjY3OCIsIjY3OSIsIkRvbWFpbnNTZXJ2aWNlIiwiZG9tYWlucyIsImZldGNoQWxsRG9tYWlucyIsImRvbWFpbktleSIsImRlbGV0ZUl0ZW0iLCJzaG93Q2FuY2VsQnV0dG9uIiwiY29uZmlybUJ1dHRvbkNvbG9yIiwiY29uZmlybUJ1dHRvblRleHQiLCJjbG9zZU9uQ29uZmlybSIsIjY4MCIsImN1cnJlbnREb21haW4iLCJpbXBlcnNvbmF0aW9uX2FkbWluX2VtYWlsX2FkZHJlc3MiLCJkaXN0cmlidXRvcl9rZXkiLCJhY3RpdmUiLCJjdXJyZW50RG9tYWlucyIsImVkaXRNb2RlIiwiZG9tYWluUHJvbWlzZSIsImdldERvbWFpbkJ5S2V5Iiwib25TYXZlRG9tYWluIiwib25TdWNjZXNzU2F2ZURvbWFpbiIsIm9uRmFpbHVyZVNhdmVEb21haW4iLCI2ODEiLCJyYWRpb0J1dHRvbkNob2ljZXMiLCJncm91cDEiLCJncm91cDIiLCJzZWxlY3Rpb24iLCJkYXRlVGltZVNlbGVjdGlvbiIsImVuZCIsImZvcm1WYWxpZGl0eSIsInN0YXJ0X2RhdGUiLCJlbmRfZGF0ZSIsInRlbmFudCIsIm5vX2NhY2hlIiwiZGlzYWJsZWRUZW5hbnQiLCJzZWxlY3RlZF9sb2NhdGlvbnMiLCJnZXRBbGxMb2NhdGlvbnMiLCJoYWRfc29tZV9pdGVtcyIsInJlZnJlc2hMb2NhdGlvbnMiLCJzZWxlY3RlZEl0ZW0iLCJwcm9vZnBsYXlDYWNoZSIsInJlbW92ZUFsbCIsImFkZFRvU2VsZWN0ZWRMb2NhdGlvbnMiLCJpc0xvY2F0aW9uVmFsaWQiLCJzcGxpY2UiLCJhcmVMb2NhdGlvbnNWYWxpZCIsImlzRGlzYWJsZWQiLCJxdWVyeVNlYXJjaCIsImlzUmFkaW9WYWxpZCIsIl9faW5fXyIsImlzU3RhcnREYXRlVmFsaWQiLCJEYXRlIiwiaXNFbmREYXRlVmFsaWQiLCJyZW1vdmVGcm9tU2VsZWN0ZWRMb2NhdGlvbiIsInN0YXJ0X2RhdGVfdW5peCIsImVuZF9kYXRlX3VuaXgiLCJzdWJtaXQiLCJkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2UiLCJkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zU3VtbWFyaXplZCIsInRlbmFudHMiLCJjdXJyZW50VGVuYW50IiwiaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0IiwiZ2V0QWxsVGVuYW50cyIsInJlc291cmNlcyIsImlzU2VsZWN0aW9uVmFsaWQiLCJzdWJtaXRUZW5hbnQiLCJuZWVkbGUiLCJoYXlzdGFjayIsIjY4MiIsImRpc3BsYXlzIiwic2VsZWN0ZWRfZGlzcGxheXMiLCJnZXRBbGxEaXNwbGF5cyIsInJlZnJlc2hEaXNwbGF5cyIsImFkZFRvU2VsZWN0ZWREaXNwbGF5cyIsImlzRGlzcGxheVZhbGlkIiwiYXJlRGlzcGxheXNWYWxpZCIsInJlbW92ZUZyb21TZWxlY3RlZERpc3BsYXkiLCJkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZSIsImRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzU3VtbWFyaXplZCIsIjY4MyIsInNlbGVjdGVkX3Jlc291cmNlcyIsImdldEFsbFJlc291cmNlcyIsImZ1bGxfcmVzb3VyY2VfbWFwIiwicmVzb3VyY2VfbmFtZSIsInJlZnJlc2hSZXNvdXJjZXMiLCJhZGRUb1NlbGVjdGVkUmVzb3VyY2VzIiwiYXJlUmVzb3VyY2VzVmFsaWQiLCJyZW1vdmVGcm9tU2VsZWN0ZWRSZXNvdXJjZSIsInJlc291cmNlc19hc19pZHMiLCJkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEZXZpY2UiLCJkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlIiwiNjg0IiwiY2hvc2VuX3RlbmFudCIsInJlZnJlc2hUZW5hbnRzIiwidXJsIiwibWFrZUhUVFBVUkwiLCJyZW1vdmUiLCI2ODUiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NsYXNzQ2FsbENoZWNrMyIsIl9jcmVhdGVDbGFzczIiLCJfY3JlYXRlQ2xhc3MzIiwiUmVzdGFuZ3VsYXIiLCJVU0VSX1NFUlZJQ0UiLCJESVNUUklCVVRPUl9TRVJWSUNFIiwiYWRtaW5fZW1haWwiLCJwYXlsb2FkIiwib25lVXJsIiwiY3VzdG9tUE9TVCIsInVzZXJfZW1haWwiLCI2OTEiLCJBdXRob3JpemF0aW9uU2VydmljZSIsIiRxIiwiZGVmZXJyZWQiLCJkZWZlciIsInVzZXJLZXkiLCJyZWplY3QiLCJoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbiIsIjY5MiIsIlNFUlZJQ0VfTkFNRSIsIl9wYW5lbFNsZWVwIiwiY3VzdG9tUFVUIiwiX3ZvbHVtZSIsIjY5MyIsImlzTW9tZW50IiwiZGF5c0JhY2siLCJzdGFydFRpbWVNaWROaWdodCIsInN0YXJ0VGltZUVuZE9mRGF5IiwiZW5kVGltZU1pZE5pZ2h0IiwiNjk0IiwiJGh0dHAiLCJ1cmlCYXNlIiwibWFjQWRkcmVzcyIsImRpY3Rpb25hcnkiLCJyZXN1bHRzIiwicGFydGlhbFNlYXJjaCIsIl90aGlzIiwic2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEJ5VGVuYW50IiwiaXNNYWMiLCJpc0dDTWlkIiwic2VyaWFsRGV2aWNlc0RpY3QiLCJjb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqIiwiZGV2aWNlU2VyaWFsc09ubHkiLCJyZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUiLCJfdGhpczIiLCJzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsIiwic2VyaWFsRGV2aWNlc09ubHkiLCJfdGhpczMiLCJzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjQnlUZW5hbnQiLCJtYWNEZXZpY2VzRGljdCIsImRldmljZU1hY3NPbmx5IiwiX3RoaXM0Iiwic2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hYyIsIl90aGlzNSIsInNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkQnlUZW5hbnQiLCJnY21pZERldmljZXNEaWN0IiwiZ2NtaWREZXZpY2VzT25seSIsIl90aGlzNiIsInNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkIiwiR0NNaWREZXZpY2VzRGljdCIsImRldmljZURlZmVycmVkIiwiZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvciIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlUZW5hbnQiLCJleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5RGlzdHJpYnV0b3IiLCJleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlUZW5hbnQiLCJleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlEaXN0cmlidXRvciIsInJlamVjdGVkUHJvbWlzZSIsImRldmljZXNSZXN1bHQiLCJtYXRjaERldmljZXNCeUZ1bGxNYWNCeVRlbmFudCIsIm1hdGNoRGV2aWNlc0J5RnVsbFNlcmlhbEJ5VGVuYW50IiwibWF0Y2hEZXZpY2VzQnlGdWxsR0NNaWRCeVRlbmFudCIsIm1hdGNoRGV2aWNlc0J5RnVsbE1hYyIsIm1hdGNoRGV2aWNlc0J5RnVsbFNlcmlhbCIsIm1hdGNoRGV2aWNlc0J5RnVsbEdDTWlkIiwiaXNfbWF0Y2giLCJ0aGVBcnJheSIsImdjbSIsInN0YXJ0RXBvY2giLCJlbmRFcG9jaCIsIm1ha2VEZXZpY2VzQnlUZW5hbnRVUkwiLCJwYXJ0aWFsX3NlcmlhbCIsInBhcnRpYWxfbWFjIiwicGFydGlhbF9nY21pZCIsImZ1bGxfc2VyaWFsIiwiZnVsbF9tYWMiLCJmdWxsX2djbWlkIiwibWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMIiwiYWxsIiwiZ2V0TGlzdCIsInB1dCIsIm9uZSIsImRpc3BsYXlOYW1lIiwiNjk1IiwiZG9HRVQiLCJlbnRpdHkiLCJzZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lIiwic2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5IiwiNjk2IiwiZG9tYWluIiwiNjk3IiwiSWRlbnRpdHlTZXJ2aWNlIiwiNjk4IiwiRU5ST0xMTUVOVF9FVkVOVFMiLCJxdWVyeSIsImN1c3RvbUdFVCIsIjY5OSIsIjcwMCIsIm5nUHJvZ3Jlc3NGYWN0b3J5IiwicHJvZ3Jlc3NCYXIiLCI3MDEiLCJtYWtlSFRUUFJlcXVlc3QiLCJiaW5kIiwid2hlcmVfdG9fZ28iLCJlcnIiLCJhbGxSZXNvdXJjZXMiLCJvcGVuIiwiYWxsRGV2aWNlcyIsImFsbExvY2F0aW9ucyIsImxvd2VyY2FzZSIsImZpbHRlciIsImNyZWF0ZUZpbHRlckZvciIsIjcwMiIsInNldElkZW50aXR5IiwiY3JlZGVudGlhbHMiLCJhdXRoZW50aWNhdGlvblBheWxvYWQiLCJjbG9uZSIsImF1dGh1c2VyIiwiY2xpZW50X2lkIiwiY29kZSIsImlkX3Rva2VuIiwic2Vzc2lvbl9zdGF0ZSIsInBhc3N3b3JkIiwic2V0VXNlcktleSIsImlkZW50aXR5UHJvbWlzZSIsInNldERpc3RyaWJ1dG9ycyIsInNldERpc3RyaWJ1dG9yc0FzQWRtaW4iLCJzZXRJc0FkbWluIiwic2V0VXNlckVtYWlsIiwiNzAzIiwiX2xvY2tyIiwiX2xvY2tyMiIsInJtIiwiZmx1c2giLCI3MDUiLCJ0ZW5hbnRfbmFtZSIsInBhZ2Vfc2l6ZSIsIm9mZnNldCIsIjcwNiIsIjcwNyIsInRvYXN0ciIsIjcwOCIsIlZlcnNpb25zU2VydmljZSIsIjcwOSIsImdhbWVTdG9wU2VydmVyIiwidGVuYW50X2NvZGUiLCJjb250ZW50X3NlcnZlcl91cmwiLCJjb250ZW50X21hbmFnZXJfYmFzZV91cmwiLCJkb21haW5fa2V5Iiwibm90aWZpY2F0aW9uX2VtYWlscyIsInByb29mX29mX3BsYXlfbG9nZ2luZyIsInByb29mX29mX3BsYXlfdXJsIiwic2VsZWN0ZWREb21haW4iLCJkaXN0cmlidXRvckRvbWFpbnMiLCJkaXN0cmlidXRvclByb21pc2UiLCJnZXRCeUtleSIsImNvbnRlbnRfbWFuYWdlcl91cmwiLCJwbGF5ZXJfY29udGVudF91cmwiLCJkaXN0cmlidXRvckRvbWFpblByb21pc2UiLCJnZXREb21haW5zQnlLZXkiLCJvbkNsaWNrU2F2ZUJ1dHRvbiIsImRlZmF1bHRfdGltZXpvbmUiLCJvblN1Y2Nlc3NUZW5hbnRTYXZlIiwib25GYWlsdXJlVGVuYW50U2F2ZSIsImVycm9yT2JqZWN0IiwiYXV0b0dlbmVyYXRlVGVuYW50Q29kZSIsIm5ld1RlbmFudENvZGUiLCI3MTAiLCJ0ZW5hbnRQcm9taXNlIiwiZ2V0VGVuYW50QnlLZXkiLCJvblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQiLCJ0YWJJbmRleCIsInRvVGFiIiwiZnJvbVRhYiIsIjcxMSIsImxvY2F0aW9uUHJvbWlzZSIsImdldExvY2F0aW9uQnlLZXkiLCJsb2NhdGlvbk5hbWUiLCJjdXN0b21lckxvY2F0aW9uTmFtZSIsImZldGNoVGVuYW50TmFtZSIsIm9uU3VjY2Vzc1VwZGF0aW5nTG9jYXRpb24iLCJvbkZhaWx1cmVTYXZpbmdMb2NhdGlvbiIsIm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uIiwidGVuYW50X2tleSIsInRlbmFudE5hbWUiLCJhdXRvR2VuZXJhdGVDdXN0b21lckxvY2F0aW9uQ29kZSIsIm5ld0N1c3RvbWVyTG9jYXRpb25Db2RlIiwiY3VzdG9tZXJMb2NhdGlvbkNvZGUiLCI3MTIiLCJ0ZW5hbnREZXZpY2VzIiwiZ2V0RGV2aWNlc0J5VGVuYW50IiwicmVmcmVzaERldmljZXMiLCJwcmVwcmF0ZUZvckVkaXRWaWV3IiwibG9hZGluZ0Rpc2FibGVkIiwiNzEzIiwiZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5VGVuYW50IiwiNzE0Iiwic2VhcmNoZWRUZW5hbnRzIiwic2VhcmNoTWF0Y2giLCJzZWFyY2hEaXNhYmxlZCIsImdldFRlbmFudHNQYWdpbmF0ZWQiLCJmZXRjaEFsbFRlbmFudHNQYWdpbmF0ZWQiLCJ0b3RhbCIsImlzX2ZpcnN0X3BhZ2UiLCJpc19sYXN0X3BhZ2UiLCJzZWFyY2hBbGxUZW5hbnRzQnlOYW1lIiwiaXNUZW5hbnRWYWxpZCIsIjcxNSIsInZlcnNpb25fZGF0YSIsImNhcGl0YWxpemVGaXJzdExldHRlciIsInN0cmluZyIsInRvVXBwZXJDYXNlIiwiZ2l2ZU9wdGlvblRvQ2hhbmdlRGlzdHJpYnV0b3IiLCJoYXNfbXVsdGlwbGVfZGlzdHJpYnV0b3JzIiwiY2hhbmdlRGlzdHJpYnV0b3IiLCJnZXRWZXJzaW9uIiwiZ2V0VmVyc2lvbnMiLCI3MTYiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIlJlc3Rhbmd1bGFyUHJvdmlkZXIiLCJub3RBdXRoZW50aWNhdGVkIiwiYXV0aGVudGljYXRlZCIsImZ1bmN0aW9uIiwiaXNBZG1pbk9yRGlzdHJpYnV0b3JBZG1pbiIsIm90aGVyd2lzZSIsInNldEJhc2VVcmwiLCJhZGRSZXNwb25zZUludGVyY2VwdG9yIiwib3BlcmF0aW9uIiwicmVzb3VyY2VUeXBlIiwic2V0UmVzdGFuZ3VsYXJGaWVsZHMiLCI3MTciLCIkaW5qZWN0b3IiLCJzdGF0ZUNoYW5nZVdhdGNoIiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsInJlcXVlc3RJbnRlcmNlcHRvciIsImFkZFJlcXVlc3RJbnRlcmNlcHRvciIsImVsZW0iLCJ3aGF0IiwiYXV0aFRva2VuIiwic2V0RGVmYXVsdEhlYWRlcnMiLCI3MTgiLCJjbG9zZUJ1dHRvbiIsInRhcFRvRGlzbWlzcyIsIm5ld2VzdE9uVG9wIiwicG9zaXRpb25DbGFzcyIsInRpbWVPdXQiLCIkYnJlYWRjcnVtYlByb3ZpZGVyIl0sIm1hcHBpbmdzIjoiQUFBQUEsY0FBYyxJQUVSQyxFQUNBLFNBQVNDLEVBQVFDLFFBQVNDLEdBRS9CQSxFQUFvQixJQUNwQkYsRUFBT0MsUUFBVUMsRUFBb0IsTUFLaENDLElBQ0EsU0FBU0gsRUFBUUMsUUFBU0MsR0NaaEMsWUE0SEEsU0FBU0UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0E1SHZGLEdBQUFHLEdBQUFOLEVBQUEs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T0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxZQUFBLElB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bnRlbnQiOlsid2VicGFja0pzb25wKFswXSx7XG5cbi8qKiovIDA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2Nyk7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMzY3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9hcHAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2OCk7XG5cdFxuXHR2YXIgX2RldmljZURldGFpbENvbW1hbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0MCk7XG5cdFxuXHR2YXIgX2RldmljZURldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0MSk7XG5cdFxuXHR2YXIgX2RldmljZXNMaXN0aW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTEpO1xuXHRcblx0dmFyIF9hZG1pbkNvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1Mik7XG5cdFxuXHR2YXIgX2F1dGhlbnRpY2F0aW9uQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjUzKTtcblx0XG5cdHZhciBfYXBwQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjU0KTtcblx0XG5cdHZhciBfZGlzdHJpYnV0b3JTZWxlY3RvckNvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3Nyk7XG5cdFxuXHR2YXIgX2Rpc3RyaWJ1dG9yc0NvbnRyb2xsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3OCk7XG5cdFxuXHR2YXIgX2RvbWFpbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3OSk7XG5cdFxuXHR2YXIgX2RvbWFpbkRldGFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4MCk7XG5cdFxuXHR2YXIgX211bHRpTG9jYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4MSk7XG5cdFxuXHR2YXIgX211bHRpRGlzcGxheSA9IF9fd2VicGFja19yZXF1aXJlX18oNjgyKTtcblx0XG5cdHZhciBfbXVsdGlSZXNvdXJjZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjgzKTtcblx0XG5cdHZhciBfcHJvb2ZPZlBsYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4NCk7XG5cdFxuXHR2YXIgX2FkbWluID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODUpO1xuXHRcblx0dmFyIF9hZG1pbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hZG1pbik7XG5cdFxuXHR2YXIgX2F1dGhvcml6YXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5MSk7XG5cdFxuXHR2YXIgX2F1dGhvcml6YXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXV0aG9yaXphdGlvbik7XG5cdFxuXHR2YXIgX2NvbW1hbmRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTIpO1xuXHRcblx0dmFyIF9jb21tYW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tYW5kcyk7XG5cdFxuXHR2YXIgX2RhdGVtYW5pcHVsYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Myk7XG5cdFxuXHR2YXIgX2RhdGVtYW5pcHVsYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGF0ZW1hbmlwdWxhdGlvbik7XG5cdFxuXHR2YXIgX2RldmljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5NCk7XG5cdFxuXHR2YXIgX2RldmljZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGV2aWNlcyk7XG5cdFxuXHR2YXIgX2Rpc3RyaWJ1dG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oNjk1KTtcblx0XG5cdHZhciBfZGlzdHJpYnV0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Rpc3RyaWJ1dG9ycyk7XG5cdFxuXHR2YXIgX2RvbWFpbnMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTYpO1xuXHRcblx0dmFyIF9kb21haW5zMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvbWFpbnMyKTtcblx0XG5cdHZhciBfaWRlbnRpdHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nyk7XG5cdFxuXHR2YXIgX2lkZW50aXR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lkZW50aXR5KTtcblx0XG5cdHZhciBfaW50ZWdyYXRpb25FdmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OCk7XG5cdFxuXHR2YXIgX2ludGVncmF0aW9uRXZlbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludGVncmF0aW9uRXZlbnRzKTtcblx0XG5cdHZhciBfbG9jYXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTkpO1xuXHRcblx0dmFyIF9sb2NhdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9jYXRpb25zKTtcblx0XG5cdHZhciBfcHJvZ3Jlc3NiYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMCk7XG5cdFxuXHR2YXIgX3Byb2dyZXNzYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb2dyZXNzYmFyKTtcblx0XG5cdHZhciBfcHJvb2ZwbGF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDEpO1xuXHRcblx0dmFyIF9wcm9vZnBsYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvb2ZwbGF5KTtcblx0XG5cdHZhciBfc2Vzc2lvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMik7XG5cdFxuXHR2YXIgX3Nlc3Npb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Nlc3Npb25zKTtcblx0XG5cdHZhciBfc3RvcmFnZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzAzKTtcblx0XG5cdHZhciBfc3RvcmFnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdG9yYWdlKTtcblx0XG5cdHZhciBfdGVuYW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzA1KTtcblx0XG5cdHZhciBfdGVuYW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZW5hbnRzKTtcblx0XG5cdHZhciBfdGltZXpvbmVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDYpO1xuXHRcblx0dmFyIF90aW1lem9uZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGltZXpvbmVzKTtcblx0XG5cdHZhciBfdG9hc3RzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDcpO1xuXHRcblx0dmFyIF90b2FzdHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9hc3RzKTtcblx0XG5cdHZhciBfdmVyc2lvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwOCk7XG5cdFxuXHR2YXIgX3ZlcnNpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZlcnNpb25zKTtcblx0XG5cdHZhciBfdGVuYW50QWRkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDkpO1xuXHRcblx0dmFyIF90ZW5hbnREZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTApO1xuXHRcblx0dmFyIF90ZW5hbnRMb2NhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzExKTtcblx0XG5cdHZhciBfdGVuYW50TWFuYWdlZERldmljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxMik7XG5cdFxuXHR2YXIgX3RlbmFudFVubWFuYWdlZERldmljZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxMyk7XG5cdFxuXHR2YXIgX3RlbmFudHMzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTQpO1xuXHRcblx0dmFyIF93ZWxjb21lQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzE1KTtcblx0XG5cdHZhciBfYXBwUm91dGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTYpO1xuXHRcblx0dmFyIF9hcHBSdW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNyk7XG5cdFxuXHR2YXIgX2FwcENvbmZpZyA9IF9fd2VicGFja19yZXF1aXJlX18oNzE4KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyBXZWxjb21lXG5cdFxuXHQvLyBUZW5hbnRcblx0XG5cdC8vIFNlcnZpY2VzXG5cdFxuXHQvLyBQcm9vZlBsYXlcblx0XG5cdC8vIERvbWFpbnNcblx0XG5cdC8vIERpc3RyaWJ1dG9yc1xuXHRcblx0Ly8gQXV0aGVudGljYXRpb25cblx0XG5cdC8vIERldmljZVxuXHRfYXBwLmFwcFxuXHQvLyBTZXJ2aWNlc1xuXHQuc2VydmljZShcIlN0b3JhZ2VTZXJ2aWNlXCIsIF9zdG9yYWdlMi5kZWZhdWx0KS5zZXJ2aWNlKFwiQWRtaW5TZXJ2aWNlXCIsIF9hZG1pbjIuZGVmYXVsdCkuc2VydmljZShcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIF9hdXRob3JpemF0aW9uMi5kZWZhdWx0KS5zZXJ2aWNlKFwiQ29tbWFuZHNTZXJ2aWNlXCIsIF9jb21tYW5kczIuZGVmYXVsdCkuc2VydmljZShcIkRhdGVNYW5pcHVsYXRpb25TZXJ2aWNlXCIsIF9kYXRlbWFuaXB1bGF0aW9uMi5kZWZhdWx0KS5zZXJ2aWNlKFwiRGV2aWNlc1NlcnZpY2VcIiwgX2RldmljZXMyLmRlZmF1bHQpLnNlcnZpY2UoXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCIsIF9kaXN0cmlidXRvcnMyLmRlZmF1bHQpLnNlcnZpY2UoXCJEb21haW5zU2VydmljZVwiLCBfZG9tYWluczMuZGVmYXVsdCkuc2VydmljZShcIklkZW50aXR5U2VydmljZVwiLCBfaWRlbnRpdHkyLmRlZmF1bHQpLnNlcnZpY2UoXCJJbnRlZ3JhdGlvbkV2ZW50c1wiLCBfaW50ZWdyYXRpb25FdmVudHMyLmRlZmF1bHQpLnNlcnZpY2UoXCJMb2NhdGlvbnNTZXJ2aWNlXCIsIF9sb2NhdGlvbnMyLmRlZmF1bHQpLnNlcnZpY2UoXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgX3Byb2dyZXNzYmFyMi5kZWZhdWx0KS5zZXJ2aWNlKFwiUHJvb2ZQbGF5U2VydmljZVwiLCBfcHJvb2ZwbGF5Mi5kZWZhdWx0KS5zZXJ2aWNlKFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIF9zZXNzaW9uczIuZGVmYXVsdCkuc2VydmljZShcIlRlbmFudHNTZXJ2aWNlXCIsIF90ZW5hbnRzMi5kZWZhdWx0KS5zZXJ2aWNlKFwiVGltZXpvbmVzU2VydmljZVwiLCBfdGltZXpvbmVzMi5kZWZhdWx0KS5zZXJ2aWNlKFwiVG9hc3RzU2VydmljZVwiLCBfdG9hc3RzMi5kZWZhdWx0KS5zZXJ2aWNlKFwiVmVyc2lvbnNTZXJ2aWNlXCIsIF92ZXJzaW9uczIuZGVmYXVsdClcblx0Ly8gRGV2aWNlXG5cdC5jb250cm9sbGVyKFwiRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybFwiLCBfZGV2aWNlRGV0YWlsQ29tbWFuZC5EZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsKS5jb250cm9sbGVyKFwiRGV2aWNlRGV0YWlsc0N0cmxcIiwgX2RldmljZURldGFpbHMuRGV2aWNlRGV0YWlsc0N0cmwpLmNvbnRyb2xsZXIoXCJEZXZpY2VzTGlzdGluZ0N0cmxcIiwgX2RldmljZXNMaXN0aW5nLkRldmljZXNMaXN0aW5nQ3RybClcblx0Ly8gQWRtaW5cblx0LmNvbnRyb2xsZXIoXCJBZG1pbkN0cmxcIiwgX2FkbWluQ29udHJvbGxlci5BZG1pbkN0cmwpXG5cdC8vIEF1dGhlbnRpY2F0aW9uXG5cdC5jb250cm9sbGVyKFwiQXV0aGVudGljYXRpb25DdHJsXCIsIF9hdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIuQXV0aGVudGljYXRpb25DdHJsKVxuXHQvLyBBcHBcblx0LmNvbnRyb2xsZXIoXCJBcHBDb250cm9sbGVyXCIsIF9hcHBDb250cm9sbGVyLkFwcENvbnRyb2xsZXIpXG5cdC8vIERpc3RyaWJ1dG9yc1xuXHQuY29udHJvbGxlcihcIkRpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsXCIsIF9kaXN0cmlidXRvclNlbGVjdG9yQ29udHJvbGxlci5EaXN0cmlidXRvclNlbGVjdG9yQ3RybCkuY29udHJvbGxlcihcIkRpc3RyaWJ1dG9yc0N0cmxcIiwgX2Rpc3RyaWJ1dG9yc0NvbnRyb2xsZXIuRGlzdHJpYnV0b3JzQ3RybClcblx0Ly8gRG9tYWluc1xuXHQuY29udHJvbGxlcihcIkRvbWFpbnNDdHJsXCIsIF9kb21haW5zLkRvbWFpbnNDdHJsKS5jb250cm9sbGVyKFwiRG9tYWluRGV0YWlsc0N0cmxcIiwgX2RvbWFpbkRldGFpbHMuRG9tYWluRGV0YWlsc0N0cmwpXG5cdC8vIFByb29mUGxheVxuXHQuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmxcIiwgX211bHRpTG9jYXRpb24uUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybCkuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybFwiLCBfbXVsdGlEaXNwbGF5LlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybCkuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmxcIiwgX211bHRpUmVzb3VyY2UuUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybCkuY29udHJvbGxlcihcIlByb29mT2ZQbGF5Q3RybFwiLCBfcHJvb2ZPZlBsYXkuUHJvb2ZPZlBsYXlDdHJsKVxuXHQvLyBUZW5hbnRzXG5cdC5jb250cm9sbGVyKFwiVGVuYW50QWRkQ3RybFwiLCBfdGVuYW50QWRkLlRlbmFudEFkZEN0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnREZXRhaWxzQ3RybFwiLCBfdGVuYW50RGV0YWlscy5UZW5hbnREZXRhaWxzQ3RybCkuY29udHJvbGxlcihcIlRlbmFudExvY2F0aW9uQ3RybFwiLCBfdGVuYW50TG9jYXRpb24uVGVuYW50TG9jYXRpb25DdHJsKS5jb250cm9sbGVyKFwiVGVuYW50TWFuYWdlZERldmljZXNDdHJsXCIsIF90ZW5hbnRNYW5hZ2VkRGV2aWNlcy5UZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybFwiLCBfdGVuYW50VW5tYW5hZ2VkRGV2aWNlcy5UZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCkuY29udHJvbGxlcihcIlRlbmFudHNDdHJsXCIsIF90ZW5hbnRzMy5UZW5hbnRzQ3RybClcblx0Ly8gV2VsY29tZVxuXHQuY29udHJvbGxlcihcIldlbGNvbWVDdHJsXCIsIF93ZWxjb21lQ29udHJvbGxlci5XZWxjb21lQ3RybClcblx0Ly8gYXBwUnVuIEJsb2NrXG5cdC5ydW4oX2FwcFJ1bi5hcHBSdW4pXG5cdC8vIENvbmZpZ1xuXHQuY29uZmlnKF9hcHBSb3V0ZXMucm91dGVzKS5jb25maWcoX2FwcENvbmZpZy50b2FzdHJDb25maWcpLmNvbmZpZyhfYXBwQ29uZmlnLmJyZWFkY3J1bWJQcm92aWRlcik7XG5cdFxuXHQvLyBSZXF1ZXN0IEludGVyY2VwdG9yXG5cdFxuXHQvLyBDb25maWdcblx0XG5cdC8vIEFwcFxuXHRcblx0Ly8gQWRtaW5cblx0X2FwcC5hcHAuc2VydmljZSgnUmVxdWVzdEludGVyY2VwdG9yJywgW1wiU3RvcmFnZVNlcnZpY2VcIiwgXCIkbG9jYXRpb25cIiwgZnVuY3Rpb24gKFN0b3JhZ2VTZXJ2aWNlLCAkbG9jYXRpb24pIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciBpbnRlcmNlcHRvciA9IHtcblx0ICAgIHJlcXVlc3Q6IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG5cdCAgICAgIHZhciBncyA9ICc1WFpIQkYzbU93cUpsWUFsRzFOZWVXWDBDYjcyZyc7XG5cdCAgICAgIHZhciBwcm9kID0gJzZDMzQ2NTg4QkQ0QzZENzIyQTExNjVCNDNDNTFDJztcblx0ICAgICAgY29uZmlnLmhlYWRlcnMgPSB7XG5cdCAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcblx0ICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHQgICAgICAgICdBdXRob3JpemF0aW9uJzogJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xID8gZ3MgOiBwcm9kLFxuXHQgICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5JyksXG5cdCAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLVVzZXItSWRlbnRpZmllcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlckVtYWlsJyksXG5cdCAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLURpc3RyaWJ1dG9yJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCdjdXJyZW50RGlzdHJpYnV0b3JLZXknKVxuXHQgICAgICB9O1xuXHQgICAgICByZXR1cm4gY29uZmlnO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgcmV0dXJuIGludGVyY2VwdG9yO1xuXHR9XSk7XG5cdFxuXHRfYXBwLmFwcC5jb25maWcoW1wiJGh0dHBQcm92aWRlclwiLCBmdW5jdGlvbiAoJGh0dHBQcm92aWRlcikge1xuXHQgIHJldHVybiAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdSZXF1ZXN0SW50ZXJjZXB0b3InKTtcblx0fV0pO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzNjg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5hcHAgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2FuZ3VsYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2OSk7XG5cdFxuXHR2YXIgX2FuZ3VsYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5ndWxhcik7XG5cdFxuXHR2YXIgX2FuZ3VsYXJVaVJvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzcxKTtcblx0XG5cdHZhciBfYW5ndWxhclVpUm91dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZ3VsYXJVaVJvdXRlcik7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3Nik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3OCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4Mik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4NCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4Nik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5NCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5Nik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUxOCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUxOSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUyMSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU5MCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU5MSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU5Myk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU5OCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYwOSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU5OSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYxNSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYxNik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYxOCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYyMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYyMik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUwNik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYzMik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDM3MCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYzMyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYzNSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYzNyk7XG5cdFxuXHR2YXIgX2xvZGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oNjM5KTtcblx0XG5cdHZhciBfbG9kYXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZGFzaCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0Ly8gTWF0ZXJpYWwgZGVzaWduIGNzc1xuXHR3aW5kb3cuXyA9IF9sb2Rhc2gyLmRlZmF1bHQ7XG5cdC8vIEltcG9ydCBhbmd1bGFyXG5cdFxuXHR3aW5kb3cuYW5ndWxhciA9IF9hbmd1bGFyMi5kZWZhdWx0O1xuXHRcblx0dmFyIGFwcCA9IGV4cG9ydHMuYXBwID0gX2FuZ3VsYXIyLmRlZmF1bHQubW9kdWxlKCdza3lraXRQcm92aXNpb25pbmcnLCBbX2FuZ3VsYXJVaVJvdXRlcjIuZGVmYXVsdCwgJ25nQW5pbWF0ZScsICc3MjBrYi50b29sdGlwcycsICduZ0Nvb2tpZXMnLCAnbmdTYW5pdGl6ZScsICdyZXN0YW5ndWxhcicsICdoU3dlZXRBbGVydCcsICd1aS5ib290c3RyYXAnLCAnbmdNYXRlcmlhbERhdGVQaWNrZXInLCAnaFN3ZWV0QWxlcnQnLCAnbmN5LWFuZ3VsYXItYnJlYWRjcnVtYicsICdkaXJlY3RpdmUuZytzaWduaW4nLCAnbmdQcm9ncmVzcycsICduZ01hdGVyaWFsJywgJ25nY2xpcGJvYXJkJywgJ3RvYXN0ciddKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzc0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG1hcCA9IHtcblx0XHRcIi4vYWZcIjogMzc1LFxuXHRcdFwiLi9hZi5qc1wiOiAzNzUsXG5cdFx0XCIuL2FyXCI6IDM3Nixcblx0XHRcIi4vYXItbWFcIjogMzc3LFxuXHRcdFwiLi9hci1tYS5qc1wiOiAzNzcsXG5cdFx0XCIuL2FyLXNhXCI6IDM3OCxcblx0XHRcIi4vYXItc2EuanNcIjogMzc4LFxuXHRcdFwiLi9hci10blwiOiAzNzksXG5cdFx0XCIuL2FyLXRuLmpzXCI6IDM3OSxcblx0XHRcIi4vYXIuanNcIjogMzc2LFxuXHRcdFwiLi9helwiOiAzODAsXG5cdFx0XCIuL2F6LmpzXCI6IDM4MCxcblx0XHRcIi4vYmVcIjogMzgxLFxuXHRcdFwiLi9iZS5qc1wiOiAzODEsXG5cdFx0XCIuL2JnXCI6IDM4Mixcblx0XHRcIi4vYmcuanNcIjogMzgyLFxuXHRcdFwiLi9iblwiOiAzODMsXG5cdFx0XCIuL2JuLmpzXCI6IDM4Myxcblx0XHRcIi4vYm9cIjogMzg0LFxuXHRcdFwiLi9iby5qc1wiOiAzODQsXG5cdFx0XCIuL2JyXCI6IDM4NSxcblx0XHRcIi4vYnIuanNcIjogMzg1LFxuXHRcdFwiLi9ic1wiOiAzODYsXG5cdFx0XCIuL2JzLmpzXCI6IDM4Nixcblx0XHRcIi4vY2FcIjogMzg3LFxuXHRcdFwiLi9jYS5qc1wiOiAzODcsXG5cdFx0XCIuL2NzXCI6IDM4OCxcblx0XHRcIi4vY3MuanNcIjogMzg4LFxuXHRcdFwiLi9jdlwiOiAzODksXG5cdFx0XCIuL2N2LmpzXCI6IDM4OSxcblx0XHRcIi4vY3lcIjogMzkwLFxuXHRcdFwiLi9jeS5qc1wiOiAzOTAsXG5cdFx0XCIuL2RhXCI6IDM5MSxcblx0XHRcIi4vZGEuanNcIjogMzkxLFxuXHRcdFwiLi9kZVwiOiAzOTIsXG5cdFx0XCIuL2RlLWF0XCI6IDM5Myxcblx0XHRcIi4vZGUtYXQuanNcIjogMzkzLFxuXHRcdFwiLi9kZS5qc1wiOiAzOTIsXG5cdFx0XCIuL2R2XCI6IDM5NCxcblx0XHRcIi4vZHYuanNcIjogMzk0LFxuXHRcdFwiLi9lbFwiOiAzOTUsXG5cdFx0XCIuL2VsLmpzXCI6IDM5NSxcblx0XHRcIi4vZW4tYXVcIjogMzk2LFxuXHRcdFwiLi9lbi1hdS5qc1wiOiAzOTYsXG5cdFx0XCIuL2VuLWNhXCI6IDM5Nyxcblx0XHRcIi4vZW4tY2EuanNcIjogMzk3LFxuXHRcdFwiLi9lbi1nYlwiOiAzOTgsXG5cdFx0XCIuL2VuLWdiLmpzXCI6IDM5OCxcblx0XHRcIi4vZW4taWVcIjogMzk5LFxuXHRcdFwiLi9lbi1pZS5qc1wiOiAzOTksXG5cdFx0XCIuL2VuLW56XCI6IDQwMCxcblx0XHRcIi4vZW4tbnouanNcIjogNDAwLFxuXHRcdFwiLi9lb1wiOiA0MDEsXG5cdFx0XCIuL2VvLmpzXCI6IDQwMSxcblx0XHRcIi4vZXNcIjogNDAyLFxuXHRcdFwiLi9lcy1kb1wiOiA0MDMsXG5cdFx0XCIuL2VzLWRvLmpzXCI6IDQwMyxcblx0XHRcIi4vZXMuanNcIjogNDAyLFxuXHRcdFwiLi9ldFwiOiA0MDQsXG5cdFx0XCIuL2V0LmpzXCI6IDQwNCxcblx0XHRcIi4vZXVcIjogNDA1LFxuXHRcdFwiLi9ldS5qc1wiOiA0MDUsXG5cdFx0XCIuL2ZhXCI6IDQwNixcblx0XHRcIi4vZmEuanNcIjogNDA2LFxuXHRcdFwiLi9maVwiOiA0MDcsXG5cdFx0XCIuL2ZpLmpzXCI6IDQwNyxcblx0XHRcIi4vZm9cIjogNDA4LFxuXHRcdFwiLi9mby5qc1wiOiA0MDgsXG5cdFx0XCIuL2ZyXCI6IDQwOSxcblx0XHRcIi4vZnItY2FcIjogNDEwLFxuXHRcdFwiLi9mci1jYS5qc1wiOiA0MTAsXG5cdFx0XCIuL2ZyLWNoXCI6IDQxMSxcblx0XHRcIi4vZnItY2guanNcIjogNDExLFxuXHRcdFwiLi9mci5qc1wiOiA0MDksXG5cdFx0XCIuL2Z5XCI6IDQxMixcblx0XHRcIi4vZnkuanNcIjogNDEyLFxuXHRcdFwiLi9nZFwiOiA0MTMsXG5cdFx0XCIuL2dkLmpzXCI6IDQxMyxcblx0XHRcIi4vZ2xcIjogNDE0LFxuXHRcdFwiLi9nbC5qc1wiOiA0MTQsXG5cdFx0XCIuL2hlXCI6IDQxNSxcblx0XHRcIi4vaGUuanNcIjogNDE1LFxuXHRcdFwiLi9oaVwiOiA0MTYsXG5cdFx0XCIuL2hpLmpzXCI6IDQxNixcblx0XHRcIi4vaHJcIjogNDE3LFxuXHRcdFwiLi9oci5qc1wiOiA0MTcsXG5cdFx0XCIuL2h1XCI6IDQxOCxcblx0XHRcIi4vaHUuanNcIjogNDE4LFxuXHRcdFwiLi9oeS1hbVwiOiA0MTksXG5cdFx0XCIuL2h5LWFtLmpzXCI6IDQxOSxcblx0XHRcIi4vaWRcIjogNDIwLFxuXHRcdFwiLi9pZC5qc1wiOiA0MjAsXG5cdFx0XCIuL2lzXCI6IDQyMSxcblx0XHRcIi4vaXMuanNcIjogNDIxLFxuXHRcdFwiLi9pdFwiOiA0MjIsXG5cdFx0XCIuL2l0LmpzXCI6IDQyMixcblx0XHRcIi4vamFcIjogNDIzLFxuXHRcdFwiLi9qYS5qc1wiOiA0MjMsXG5cdFx0XCIuL2p2XCI6IDQyNCxcblx0XHRcIi4vanYuanNcIjogNDI0LFxuXHRcdFwiLi9rYVwiOiA0MjUsXG5cdFx0XCIuL2thLmpzXCI6IDQyNSxcblx0XHRcIi4va2tcIjogNDI2LFxuXHRcdFwiLi9ray5qc1wiOiA0MjYsXG5cdFx0XCIuL2ttXCI6IDQyNyxcblx0XHRcIi4va20uanNcIjogNDI3LFxuXHRcdFwiLi9rb1wiOiA0MjgsXG5cdFx0XCIuL2tvLmpzXCI6IDQyOCxcblx0XHRcIi4va3lcIjogNDI5LFxuXHRcdFwiLi9reS5qc1wiOiA0MjksXG5cdFx0XCIuL2xiXCI6IDQzMCxcblx0XHRcIi4vbGIuanNcIjogNDMwLFxuXHRcdFwiLi9sb1wiOiA0MzEsXG5cdFx0XCIuL2xvLmpzXCI6IDQzMSxcblx0XHRcIi4vbHRcIjogNDMyLFxuXHRcdFwiLi9sdC5qc1wiOiA0MzIsXG5cdFx0XCIuL2x2XCI6IDQzMyxcblx0XHRcIi4vbHYuanNcIjogNDMzLFxuXHRcdFwiLi9tZVwiOiA0MzQsXG5cdFx0XCIuL21lLmpzXCI6IDQzNCxcblx0XHRcIi4vbWtcIjogNDM1LFxuXHRcdFwiLi9tay5qc1wiOiA0MzUsXG5cdFx0XCIuL21sXCI6IDQzNixcblx0XHRcIi4vbWwuanNcIjogNDM2LFxuXHRcdFwiLi9tclwiOiA0MzcsXG5cdFx0XCIuL21yLmpzXCI6IDQzNyxcblx0XHRcIi4vbXNcIjogNDM4LFxuXHRcdFwiLi9tcy1teVwiOiA0MzksXG5cdFx0XCIuL21zLW15LmpzXCI6IDQzOSxcblx0XHRcIi4vbXMuanNcIjogNDM4LFxuXHRcdFwiLi9teVwiOiA0NDAsXG5cdFx0XCIuL215LmpzXCI6IDQ0MCxcblx0XHRcIi4vbmJcIjogNDQxLFxuXHRcdFwiLi9uYi5qc1wiOiA0NDEsXG5cdFx0XCIuL25lXCI6IDQ0Mixcblx0XHRcIi4vbmUuanNcIjogNDQyLFxuXHRcdFwiLi9ubFwiOiA0NDMsXG5cdFx0XCIuL25sLmpzXCI6IDQ0Myxcblx0XHRcIi4vbm5cIjogNDQ0LFxuXHRcdFwiLi9ubi5qc1wiOiA0NDQsXG5cdFx0XCIuL3BhLWluXCI6IDQ0NSxcblx0XHRcIi4vcGEtaW4uanNcIjogNDQ1LFxuXHRcdFwiLi9wbFwiOiA0NDYsXG5cdFx0XCIuL3BsLmpzXCI6IDQ0Nixcblx0XHRcIi4vcHRcIjogNDQ3LFxuXHRcdFwiLi9wdC1iclwiOiA0NDgsXG5cdFx0XCIuL3B0LWJyLmpzXCI6IDQ0OCxcblx0XHRcIi4vcHQuanNcIjogNDQ3LFxuXHRcdFwiLi9yb1wiOiA0NDksXG5cdFx0XCIuL3JvLmpzXCI6IDQ0OSxcblx0XHRcIi4vcnVcIjogNDUwLFxuXHRcdFwiLi9ydS5qc1wiOiA0NTAsXG5cdFx0XCIuL3NlXCI6IDQ1MSxcblx0XHRcIi4vc2UuanNcIjogNDUxLFxuXHRcdFwiLi9zaVwiOiA0NTIsXG5cdFx0XCIuL3NpLmpzXCI6IDQ1Mixcblx0XHRcIi4vc2tcIjogNDUzLFxuXHRcdFwiLi9zay5qc1wiOiA0NTMsXG5cdFx0XCIuL3NsXCI6IDQ1NCxcblx0XHRcIi4vc2wuanNcIjogNDU0LFxuXHRcdFwiLi9zcVwiOiA0NTUsXG5cdFx0XCIuL3NxLmpzXCI6IDQ1NSxcblx0XHRcIi4vc3JcIjogNDU2LFxuXHRcdFwiLi9zci1jeXJsXCI6IDQ1Nyxcblx0XHRcIi4vc3ItY3lybC5qc1wiOiA0NTcsXG5cdFx0XCIuL3NyLmpzXCI6IDQ1Nixcblx0XHRcIi4vc3NcIjogNDU4LFxuXHRcdFwiLi9zcy5qc1wiOiA0NTgsXG5cdFx0XCIuL3N2XCI6IDQ1OSxcblx0XHRcIi4vc3YuanNcIjogNDU5LFxuXHRcdFwiLi9zd1wiOiA0NjAsXG5cdFx0XCIuL3N3LmpzXCI6IDQ2MCxcblx0XHRcIi4vdGFcIjogNDYxLFxuXHRcdFwiLi90YS5qc1wiOiA0NjEsXG5cdFx0XCIuL3RlXCI6IDQ2Mixcblx0XHRcIi4vdGUuanNcIjogNDYyLFxuXHRcdFwiLi90aFwiOiA0NjMsXG5cdFx0XCIuL3RoLmpzXCI6IDQ2Myxcblx0XHRcIi4vdGwtcGhcIjogNDY0LFxuXHRcdFwiLi90bC1waC5qc1wiOiA0NjQsXG5cdFx0XCIuL3RsaFwiOiA0NjUsXG5cdFx0XCIuL3RsaC5qc1wiOiA0NjUsXG5cdFx0XCIuL3RyXCI6IDQ2Nixcblx0XHRcIi4vdHIuanNcIjogNDY2LFxuXHRcdFwiLi90emxcIjogNDY3LFxuXHRcdFwiLi90emwuanNcIjogNDY3LFxuXHRcdFwiLi90em1cIjogNDY4LFxuXHRcdFwiLi90em0tbGF0blwiOiA0NjksXG5cdFx0XCIuL3R6bS1sYXRuLmpzXCI6IDQ2OSxcblx0XHRcIi4vdHptLmpzXCI6IDQ2OCxcblx0XHRcIi4vdWtcIjogNDcwLFxuXHRcdFwiLi91ay5qc1wiOiA0NzAsXG5cdFx0XCIuL3V6XCI6IDQ3MSxcblx0XHRcIi4vdXouanNcIjogNDcxLFxuXHRcdFwiLi92aVwiOiA0NzIsXG5cdFx0XCIuL3ZpLmpzXCI6IDQ3Mixcblx0XHRcIi4veC1wc2V1ZG9cIjogNDczLFxuXHRcdFwiLi94LXBzZXVkby5qc1wiOiA0NzMsXG5cdFx0XCIuL3poLWNuXCI6IDQ3NCxcblx0XHRcIi4vemgtY24uanNcIjogNDc0LFxuXHRcdFwiLi96aC10d1wiOiA0NzUsXG5cdFx0XCIuL3poLXR3LmpzXCI6IDQ3NVxuXHR9O1xuXHRmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG5cdH07XG5cdGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0XHRyZXR1cm4gbWFwW3JlcV0gfHwgKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKSB9KCkpO1xuXHR9O1xuXHR3ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRcdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xuXHR9O1xuXHR3ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xuXHR3ZWJwYWNrQ29udGV4dC5pZCA9IDM3NDtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA1MTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdC8qXG5cdCBuZ3Byb2dyZXNzIDEuMS4yIC0gc2xpbSwgc2l0ZS13aWRlIHByb2dyZXNzYmFyIGZvciBBbmd1bGFySlMgXG5cdCAoQykgMjAxMyAtIFZpY3RvciBCamVsa2hvbG0gXG5cdCBMaWNlbnNlOiBNSVQgXG5cdCBTb3VyY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9WaWN0b3JCamVsa2hvbG0vbmdQcm9ncmVzcyBcblx0IERhdGUgQ29tcGlsZWQ6IDIwMTUtMDctMjcgXG5cdCAqL1xuXHRhbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3MucHJvdmlkZXJcIiwgW1wibmdQcm9ncmVzcy5kaXJlY3RpdmVcIl0pLnNlcnZpY2UoXCJuZ1Byb2dyZXNzXCIsIGZ1bmN0aW9uICgpIHtcblx0ICBcInVzZSBzdHJpY3RcIjtcblx0XG5cdCAgcmV0dXJuIFtcIiRkb2N1bWVudFwiLCBcIiR3aW5kb3dcIiwgXCIkY29tcGlsZVwiLCBcIiRyb290U2NvcGVcIiwgXCIkdGltZW91dFwiLCBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkge1xuXHQgICAgdGhpcy5hdXRvU3R5bGUgPSAhMCwgdGhpcy5jb3VudCA9IDAsIHRoaXMuaGVpZ2h0ID0gXCIycHhcIiwgdGhpcy4kc2NvcGUgPSBkLiRuZXcoKSwgdGhpcy5jb2xvciA9IFwiZmlyZWJyaWNrXCIsIHRoaXMucGFyZW50ID0gYS5maW5kKFwiYm9keVwiKVswXSwgdGhpcy5jb3VudCA9IDAsIHRoaXMucHJvZ3Jlc3NiYXJFbCA9IGMoXCI8bmctcHJvZ3Jlc3M+PC9uZy1wcm9ncmVzcz5cIikodGhpcy4kc2NvcGUpLCB0aGlzLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pLCB0aGlzLiRzY29wZS5jb3VudCA9IHRoaXMuY291bnQsIHZvaWQgMCAhPT0gdGhpcy5oZWlnaHQgJiYgdGhpcy5wcm9ncmVzc2JhckVsLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiaGVpZ2h0XCIsIHRoaXMuaGVpZ2h0KSwgdm9pZCAwICE9PSB0aGlzLmNvbG9yICYmICh0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIHRoaXMuY29sb3IpLCB0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJjb2xvclwiLCB0aGlzLmNvbG9yKSksIHRoaXMuaW50ZXJ2YWxDb3VudGVySWQgPSAwLCB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aGlzLnNob3coKTtcblx0ICAgICAgdmFyIGEgPSB0aGlzO1xuXHQgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCB0aGlzLmludGVydmFsQ291bnRlcklkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlzTmFOKGEuY291bnQpID8gKGNsZWFySW50ZXJ2YWwoYS5pbnRlcnZhbENvdW50ZXJJZCksIGEuY291bnQgPSAwLCBhLmhpZGUoKSkgOiAoYS5yZW1haW5pbmcgPSAxMDAgLSBhLmNvdW50LCBhLmNvdW50ID0gYS5jb3VudCArIC4xNSAqIE1hdGgucG93KDEgLSBNYXRoLnNxcnQoYS5yZW1haW5pbmcpLCAyKSwgYS51cGRhdGVDb3VudChhLmNvdW50KSk7XG5cdCAgICAgIH0sIDIwMCk7XG5cdCAgICB9LCB0aGlzLnVwZGF0ZUNvdW50ID0gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgdGhpcy4kc2NvcGUuY291bnQgPSBhLCB0aGlzLiRzY29wZS4kJHBoYXNlIHx8IHRoaXMuJHNjb3BlLiRhcHBseSgpO1xuXHQgICAgfSwgdGhpcy5zZXRIZWlnaHQgPSBmdW5jdGlvbiAoYSkge1xuXHQgICAgICByZXR1cm4gdm9pZCAwICE9PSBhICYmICh0aGlzLmhlaWdodCA9IGEsIHRoaXMuJHNjb3BlLmhlaWdodCA9IHRoaXMuaGVpZ2h0LCB0aGlzLiRzY29wZS4kJHBoYXNlIHx8IHRoaXMuJHNjb3BlLiRhcHBseSgpKSwgdGhpcy5oZWlnaHQ7XG5cdCAgICB9LCB0aGlzLnNldENvbG9yID0gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gYSAmJiAodGhpcy5jb2xvciA9IGEsIHRoaXMuJHNjb3BlLmNvbG9yID0gdGhpcy5jb2xvciwgdGhpcy4kc2NvcGUuJCRwaGFzZSB8fCB0aGlzLiRzY29wZS4kYXBwbHkoKSksIHRoaXMuY29sb3I7XG5cdCAgICB9LCB0aGlzLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRoaXMucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIm9wYWNpdHlcIiwgXCIwXCIpO1xuXHQgICAgICB2YXIgYSA9IHRoaXM7XG5cdCAgICAgIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgYS5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKFwid2lkdGhcIiwgXCIwJVwiKSwgYS5hbmltYXRlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIGEuc2hvdygpO1xuXHQgICAgICAgIH0sIDUwMCk7XG5cdCAgICAgIH0sIDUwMCk7XG5cdCAgICB9LCB0aGlzLnNob3cgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBhID0gdGhpcztcblx0ICAgICAgYS5hbmltYXRlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBhLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJvcGFjaXR5XCIsIFwiMVwiKTtcblx0ICAgICAgfSwgMTAwKTtcblx0ICAgIH0sIHRoaXMuYW5pbWF0ZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgIHZvaWQgMCAhPT0gdGhpcy5hbmltYXRpb24gJiYgZS5jYW5jZWwodGhpcy5hbmltYXRpb24pLCB0aGlzLmFuaW1hdGlvbiA9IGUoYSwgYik7XG5cdCAgICB9LCB0aGlzLnN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY291bnQ7XG5cdCAgICB9LCB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCk7XG5cdCAgICB9LCB0aGlzLnNldCA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnNob3coKSwgdGhpcy51cGRhdGVDb3VudChhKSwgdGhpcy5jb3VudCA9IGEsIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIHRoaXMuY291bnQ7XG5cdCAgICB9LCB0aGlzLmNzcyA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoYSk7XG5cdCAgICB9LCB0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSwgdGhpcy5jb3VudCA9IDAsIHRoaXMudXBkYXRlQ291bnQodGhpcy5jb3VudCksIDA7XG5cdCAgICB9LCB0aGlzLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aGlzLmNvdW50ID0gMTAwLCB0aGlzLnVwZGF0ZUNvdW50KHRoaXMuY291bnQpO1xuXHQgICAgICB2YXIgYSA9IHRoaXM7XG5cdCAgICAgIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCBlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBhLmhpZGUoKSwgZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBhLmNvdW50ID0gMCwgYS51cGRhdGVDb3VudChhLmNvdW50KTtcblx0ICAgICAgICB9LCA1MDApO1xuXHQgICAgICB9LCAxZTMpLCB0aGlzLmNvdW50O1xuXHQgICAgfSwgdGhpcy5zZXRQYXJlbnQgPSBmdW5jdGlvbiAoYSkge1xuXHQgICAgICBpZiAobnVsbCA9PT0gYSB8fCB2b2lkIDAgPT09IGEpIHRocm93IG5ldyBFcnJvcihcIlByb3ZpZGUgYSB2YWxpZCBwYXJlbnQgb2YgdHlwZSBIVE1MRWxlbWVudFwiKTtcblx0ICAgICAgbnVsbCAhPT0gdGhpcy5wYXJlbnQgJiYgdm9pZCAwICE9PSB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pLCB0aGlzLnBhcmVudCA9IGEsIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSk7XG5cdCAgICB9LCB0aGlzLmdldERvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzYmFyRWw7XG5cdCAgICB9LCB0aGlzLnNldEFic29sdXRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB0aGlzLnByb2dyZXNzYmFyRWwuY3NzKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKTtcblx0ICAgIH07XG5cdCAgfV07XG5cdH0pLmZhY3RvcnkoXCJuZ1Byb2dyZXNzRmFjdG9yeVwiLCBbXCIkaW5qZWN0b3JcIiwgXCJuZ1Byb2dyZXNzXCIsIGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgdmFyIGMgPSB7XG5cdCAgICBjcmVhdGVJbnN0YW5jZTogZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoKSB7XG5cdCAgICAgIHJldHVybiBhLmluc3RhbnRpYXRlKGIpO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgcmV0dXJuIGM7XG5cdH1dKSwgYW5ndWxhci5tb2R1bGUoXCJuZ1Byb2dyZXNzLmRpcmVjdGl2ZVwiLCBbXSkuZGlyZWN0aXZlKFwibmdQcm9ncmVzc1wiLCBbXCIkd2luZG93XCIsIFwiJHJvb3RTY29wZVwiLCBmdW5jdGlvbiAoYSwgYikge1xuXHQgIHZhciBjID0ge1xuXHQgICAgcmVwbGFjZTogITAsIHJlc3RyaWN0OiBcIkVcIiwgbGluazogZnVuY3Rpb24gbGluayhhLCBiLCBjLCBkKSB7XG5cdCAgICAgIGEuJHdhdGNoKFwiY291bnRcIiwgZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmNvdW50ZXIgPSBjLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwid2lkdGhcIiwgYyArIFwiJVwiKSk7XG5cdCAgICAgIH0pLCBhLiR3YXRjaChcImNvbG9yXCIsIGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgICAgKHZvaWQgMCAhPT0gYyB8fCBudWxsICE9PSBjKSAmJiAoYS5jb2xvciA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIGMpLCBiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiY29sb3JcIiwgYykpO1xuXHQgICAgICB9KSwgYS4kd2F0Y2goXCJoZWlnaHRcIiwgZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmhlaWdodCA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJoZWlnaHRcIiwgYykpO1xuXHQgICAgICB9KTtcblx0ICAgIH0sIHRlbXBsYXRlOiAnPGRpdiBpZD1cIm5nUHJvZ3Jlc3MtY29udGFpbmVyXCI+PGRpdiBpZD1cIm5nUHJvZ3Jlc3NcIj48L2Rpdj48L2Rpdj4nXG5cdCAgfTtcblx0ICByZXR1cm4gYztcblx0fV0pLCBhbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3NcIiwgW1wibmdQcm9ncmVzcy5kaXJlY3RpdmVcIiwgXCJuZ1Byb2dyZXNzLnByb3ZpZGVyXCJdKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNTE5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTIwKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDgxKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmdQcm9ncmVzcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL25nUHJvZ3Jlc3MuY3NzXCIpO1xuXHRcdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA1MjA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4MCkoKTtcblx0Ly8gaW1wb3J0c1xuXHRcblx0XG5cdC8vIG1vZHVsZVxuXHRleHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIjbmdQcm9ncmVzc3ttYXJnaW46MDtwYWRkaW5nOjA7ei1pbmRleDo5OTk5ODtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVuO2NvbG9yOmdyZWVuO2JveC1zaGFkb3c6MCAwIDEwcHggMDtoZWlnaHQ6MnB4O29wYWNpdHk6MDstd2Via2l0LXRyYW5zaXRpb246YWxsIC41cyBlYXNlLWluLW91dDt0cmFuc2l0aW9uOmFsbCAuNXMgZWFzZS1pbi1vdXR9I25nUHJvZ3Jlc3MtY29udGFpbmVye3Bvc2l0aW9uOmZpeGVkO21hcmdpbjowO3BhZGRpbmc6MDt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDt6LWluZGV4Ojk5OTk5fVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTIxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyMik7XG5cdFxuXHR2YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvKiEgYW5ndWxhci1icmVhZGNydW1iIC0gdjAuNC4wLWRldi0yMDE1LTA4LTA3XG5cdCogaHR0cDovL25jdWlsbGVyeS5naXRodWIuaW8vYW5ndWxhci1icmVhZGNydW1iXG5cdCogQ29weXJpZ2h0IChjKSAyMDE1IE5pY29sYXMgQ3VpbGxlcnk7IExpY2Vuc2VkIE1JVCAqL1xuXHQhZnVuY3Rpb24gKGEsIGIsIGMpIHtcblx0ICBcInVzZSBzdHJpY3RcIjtcblx0ICBmdW5jdGlvbiBkKGEsIGMpIHtcblx0ICAgIHJldHVybiBiLmVxdWFscyhhLmxlbmd0aCwgYy5sZW5ndGgpID8gYSA+IGMgOiBhLmxlbmd0aCA+IGMubGVuZ3RoO1xuXHQgIH1mdW5jdGlvbiBlKGEpIHtcblx0ICAgIHZhciBiID0gYS5yZXBsYWNlKC9cXG4vZywgXCIgXCIpLm1hdGNoKC9eKFteKF0rPylcXHMqKFxcKCguKilcXCkpPyQvKTtpZiAoIWIgfHwgNCAhPT0gYi5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgcmVmICdcIiArIGEgKyBcIidcIik7cmV0dXJuIHsgc3RhdGU6IGJbMV0sIHBhcmFtRXhwcjogYlszXSB8fCBudWxsIH07XG5cdCAgfWZ1bmN0aW9uIGYoKSB7XG5cdCAgICB2YXIgYSA9IHsgcHJlZml4U3RhdGVOYW1lOiBudWxsLCB0ZW1wbGF0ZTogXCJib290c3RyYXAzXCIsIHRlbXBsYXRlVXJsOiBudWxsLCBpbmNsdWRlQWJzdHJhY3Q6ICExIH07dGhpcy5zZXRPcHRpb25zID0gZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgYi5leHRlbmQoYSwgYyk7XG5cdCAgICB9LCB0aGlzLiRnZXQgPSBbXCIkc3RhdGVcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkcm9vdFNjb3BlXCIsIGZ1bmN0aW9uIChiLCBmLCBnKSB7XG5cdCAgICAgIHZhciBoID0gZztnLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgICFhLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmUgJiYgZChhLnRhcmdldFNjb3BlLiRpZCwgaC4kaWQpICYmIChoID0gYS50YXJnZXRTY29wZSk7XG5cdCAgICAgIH0pO3ZhciBpID0gZnVuY3Rpb24gaShhKSB7XG5cdCAgICAgICAgdmFyIGIgPSBhLnBhcmVudCB8fCAoL14oLispXFwuW14uXSskLy5leGVjKGEubmFtZSkgfHwgW10pWzFdLFxuXHQgICAgICAgICAgICBjID0gXCJvYmplY3RcIiA9PSAodHlwZW9mIGIgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKGIpKTtyZXR1cm4gYyA/IGIubmFtZSA6IGI7XG5cdCAgICAgIH0sXG5cdCAgICAgICAgICBqID0gZnVuY3Rpb24gaihjLCBkKSB7XG5cdCAgICAgICAgZm9yICh2YXIgZywgaSwgaiA9IGUoZCksIGsgPSAhMSwgbCA9ICExLCBtID0gMCwgbiA9IGMubGVuZ3RoOyBuID4gbTsgbSArPSAxKSB7XG5cdCAgICAgICAgICBpZiAoY1ttXS5uYW1lID09PSBqLnN0YXRlKSByZXR1cm47XG5cdCAgICAgICAgfWcgPSBiLmdldChqLnN0YXRlKSwgZy5uY3lCcmVhZGNydW1iICYmIChnLm5jeUJyZWFkY3J1bWIuZm9yY2UgJiYgKGsgPSAhMCksIGcubmN5QnJlYWRjcnVtYi5za2lwICYmIChsID0gITApKSwgZ1tcImFic3RyYWN0XCJdICYmICFhLmluY2x1ZGVBYnN0cmFjdCAmJiAhayB8fCBsIHx8IChqLnBhcmFtRXhwciAmJiAoaSA9IGguJGV2YWwoai5wYXJhbUV4cHIpKSwgZy5uY3lCcmVhZGNydW1iTGluayA9IGIuaHJlZihqLnN0YXRlLCBpIHx8IGYgfHwge30pLCBjLnVuc2hpZnQoZykpO1xuXHQgICAgICB9LFxuXHQgICAgICAgICAgayA9IGZ1bmN0aW9uIGsoYSkge1xuXHQgICAgICAgIHZhciBjID0gZShhKSxcblx0ICAgICAgICAgICAgZCA9IGIuZ2V0KGMuc3RhdGUpO2lmIChkLm5jeUJyZWFkY3J1bWIgJiYgZC5uY3lCcmVhZGNydW1iLnBhcmVudCkge1xuXHQgICAgICAgICAgdmFyIGYgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGQubmN5QnJlYWRjcnVtYi5wYXJlbnQsXG5cdCAgICAgICAgICAgICAgZyA9IGYgPyBkLm5jeUJyZWFkY3J1bWIucGFyZW50KGgpIDogZC5uY3lCcmVhZGNydW1iLnBhcmVudDtpZiAoZykgcmV0dXJuIGc7XG5cdCAgICAgICAgfXJldHVybiBpKGQpO1xuXHQgICAgICB9O3JldHVybiB7IGdldFRlbXBsYXRlOiBmdW5jdGlvbiBnZXRUZW1wbGF0ZShiKSB7XG5cdCAgICAgICAgICByZXR1cm4gYS50ZW1wbGF0ZVVybCA/IG51bGwgOiBiW2EudGVtcGxhdGVdID8gYlthLnRlbXBsYXRlXSA6IGEudGVtcGxhdGU7XG5cdCAgICAgICAgfSwgZ2V0VGVtcGxhdGVVcmw6IGZ1bmN0aW9uIGdldFRlbXBsYXRlVXJsKCkge1xuXHQgICAgICAgICAgcmV0dXJuIGEudGVtcGxhdGVVcmw7XG5cdCAgICAgICAgfSwgZ2V0U3RhdGVzQ2hhaW46IGZ1bmN0aW9uIGdldFN0YXRlc0NoYWluKGMpIHtcblx0ICAgICAgICAgIGZvciAodmFyIGQgPSBbXSwgZSA9IGIuJGN1cnJlbnQuc2VsZi5uYW1lOyBlOyBlID0gayhlKSkge1xuXHQgICAgICAgICAgICBpZiAoaihkLCBlKSwgYyAmJiBkLmxlbmd0aCkgcmV0dXJuIGQ7XG5cdCAgICAgICAgICB9cmV0dXJuIGEucHJlZml4U3RhdGVOYW1lICYmIGooZCwgYS5wcmVmaXhTdGF0ZU5hbWUpLCBkO1xuXHQgICAgICAgIH0sIGdldExhc3RTdGVwOiBmdW5jdGlvbiBnZXRMYXN0U3RlcCgpIHtcblx0ICAgICAgICAgIHZhciBhID0gdGhpcy5nZXRTdGF0ZXNDaGFpbighMCk7cmV0dXJuIGEubGVuZ3RoID8gYVswXSA6IGM7XG5cdCAgICAgICAgfSwgJGdldExhc3RWaWV3U2NvcGU6IGZ1bmN0aW9uICRnZXRMYXN0Vmlld1Njb3BlKCkge1xuXHQgICAgICAgICAgcmV0dXJuIGg7XG5cdCAgICAgICAgfSB9O1xuXHQgICAgfV07XG5cdCAgfWZ1bmN0aW9uIGcoYSwgYywgZCkge1xuXHQgICAgdmFyIGUgPSB7IGJvb3RzdHJhcDI6ICc8dWwgY2xhc3M9XCJicmVhZGNydW1iXCI+PGxpIG5nLXJlcGVhdD1cInN0ZXAgaW4gc3RlcHNcIiBuZy1zd2l0Y2g9XCIkbGFzdCB8fCAhIXN0ZXAuYWJzdHJhY3RcIiBuZy1jbGFzcz1cInthY3RpdmU6ICRsYXN0fVwiPjxhIG5nLXN3aXRjaC13aGVuPVwiZmFsc2VcIiBocmVmPVwie3tzdGVwLm5jeUJyZWFkY3J1bWJMaW5rfX1cIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L2E+PHNwYW4gbmctc3dpdGNoLXdoZW49XCJ0cnVlXCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9zcGFuPjxzcGFuIGNsYXNzPVwiZGl2aWRlclwiIG5nLWhpZGU9XCIkbGFzdFwiPi88L3NwYW4+PC9saT48L3VsPicsIGJvb3RzdHJhcDM6ICc8b2wgY2xhc3M9XCJicmVhZGNydW1iXCI+PGxpIG5nLXJlcGVhdD1cInN0ZXAgaW4gc3RlcHNcIiBuZy1jbGFzcz1cInthY3RpdmU6ICRsYXN0fVwiIG5nLXN3aXRjaD1cIiRsYXN0IHx8ICEhc3RlcC5hYnN0cmFjdFwiPjxhIG5nLXN3aXRjaC13aGVuPVwiZmFsc2VcIiBocmVmPVwie3tzdGVwLm5jeUJyZWFkY3J1bWJMaW5rfX1cIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L2E+PHNwYW4gbmctc3dpdGNoLXdoZW49XCJ0cnVlXCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9zcGFuPjwvbGk+PC9vbD4nIH07cmV0dXJuIHsgcmVzdHJpY3Q6IFwiQUVcIiwgcmVwbGFjZTogITAsIHNjb3BlOiB7fSwgdGVtcGxhdGU6IGMuZ2V0VGVtcGxhdGUoZSksIHRlbXBsYXRlVXJsOiBjLmdldFRlbXBsYXRlVXJsKCksIGxpbms6IHsgcG9zdDogZnVuY3Rpb24gcG9zdChlKSB7XG5cdCAgICAgICAgICB2YXIgZiA9IFtdLFxuXHQgICAgICAgICAgICAgIGcgPSBmdW5jdGlvbiBnKCkge1xuXHQgICAgICAgICAgICBsKGYpLCBmID0gW107dmFyIGQgPSBjLiRnZXRMYXN0Vmlld1Njb3BlKCk7ZS5zdGVwcyA9IGMuZ2V0U3RhdGVzQ2hhaW4oKSwgYi5mb3JFYWNoKGUuc3RlcHMsIGZ1bmN0aW9uIChiKSB7XG5cdCAgICAgICAgICAgICAgaWYgKGIubmN5QnJlYWRjcnVtYiAmJiBiLm5jeUJyZWFkY3J1bWIubGFiZWwpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjID0gYShiLm5jeUJyZWFkY3J1bWIubGFiZWwpO2IubmN5QnJlYWRjcnVtYkxhYmVsID0gYyhkKSwgayhmLCBjLCBkLCBiKTtcblx0ICAgICAgICAgICAgICB9IGVsc2UgYi5uY3lCcmVhZGNydW1iTGFiZWwgPSBiLm5hbWU7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfTtkLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgICAgICBhLnRhcmdldFNjb3BlLm5jeUJyZWFkY3J1bWJJZ25vcmUgfHwgZygpO1xuXHQgICAgICAgICAgfSksIGcoKTtcblx0ICAgICAgICB9IH0gfTtcblx0ICB9ZnVuY3Rpb24gaChhLCBiLCBjKSB7XG5cdCAgICByZXR1cm4geyByZXN0cmljdDogXCJBXCIsIHNjb3BlOiB7fSwgdGVtcGxhdGU6IFwie3tuY3lCcmVhZGNydW1iTGFiZWx9fVwiLCBjb21waWxlOiBmdW5jdGlvbiBjb21waWxlKGQsIGUpIHtcblx0ICAgICAgICB2YXIgZiA9IGQuYXR0cihlLiRhdHRyLm5jeUJyZWFkY3J1bWJMYXN0KTtyZXR1cm4gZiAmJiBkLmh0bWwoZiksIHsgcG9zdDogZnVuY3Rpb24gcG9zdChkKSB7XG5cdCAgICAgICAgICAgIHZhciBlID0gW10sXG5cdCAgICAgICAgICAgICAgICBmID0gZnVuY3Rpb24gZigpIHtcblx0ICAgICAgICAgICAgICBsKGUpLCBlID0gW107dmFyIGMgPSBiLiRnZXRMYXN0Vmlld1Njb3BlKCksXG5cdCAgICAgICAgICAgICAgICAgIGYgPSBiLmdldExhc3RTdGVwKCk7aWYgKGYpIGlmIChkLm5jeUJyZWFkY3J1bWJMaW5rID0gZi5uY3lCcmVhZGNydW1iTGluaywgZi5uY3lCcmVhZGNydW1iICYmIGYubmN5QnJlYWRjcnVtYi5sYWJlbCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGcgPSBhKGYubmN5QnJlYWRjcnVtYi5sYWJlbCk7ZC5uY3lCcmVhZGNydW1iTGFiZWwgPSBnKGMpLCBrKGUsIGcsIGMsIGQpO1xuXHQgICAgICAgICAgICAgIH0gZWxzZSBkLm5jeUJyZWFkY3J1bWJMYWJlbCA9IGYubmFtZTtcblx0ICAgICAgICAgICAgfTtjLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgICAgICAgIGEudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSB8fCBmKCk7XG5cdCAgICAgICAgICAgIH0pLCBmKCk7XG5cdCAgICAgICAgICB9IH07XG5cdCAgICAgIH0gfTtcblx0ICB9ZnVuY3Rpb24gaShhLCBjLCBkKSB7XG5cdCAgICByZXR1cm4geyByZXN0cmljdDogXCJBXCIsIHNjb3BlOiB7fSwgdGVtcGxhdGU6IFwie3tuY3lCcmVhZGNydW1iQ2hhaW59fVwiLCBjb21waWxlOiBmdW5jdGlvbiBjb21waWxlKGUsIGYpIHtcblx0ICAgICAgICB2YXIgZyA9IGUuYXR0cihmLiRhdHRyLm5jeUJyZWFkY3J1bWJUZXh0KTtnICYmIGUuaHRtbChnKTt2YXIgaCA9IGUuYXR0cihmLiRhdHRyLm5jeUJyZWFkY3J1bWJUZXh0U2VwYXJhdG9yKSB8fCBcIiAvIFwiO3JldHVybiB7IHBvc3Q6IGZ1bmN0aW9uIHBvc3QoZSkge1xuXHQgICAgICAgICAgICB2YXIgZiA9IFtdLFxuXHQgICAgICAgICAgICAgICAgZyA9IGZ1bmN0aW9uIGcoYSwgYywgZCkge1xuXHQgICAgICAgICAgICAgIGIuZm9yRWFjaChqKGMpLCBmdW5jdGlvbiAoYikge1xuXHQgICAgICAgICAgICAgICAgdmFyIGMgPSBkLiR3YXRjaChiLCBmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgICAgICAgICAgICAgICBhICE9PSBiICYmIGkoKTtcblx0ICAgICAgICAgICAgICAgIH0pO2EucHVzaChjKTtcblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICAgIGkgPSBmdW5jdGlvbiBpKCkge1xuXHQgICAgICAgICAgICAgIGwoZiksIGYgPSBbXTt2YXIgZCA9IGMuJGdldExhc3RWaWV3U2NvcGUoKSxcblx0ICAgICAgICAgICAgICAgICAgaSA9IGMuZ2V0U3RhdGVzQ2hhaW4oKSxcblx0ICAgICAgICAgICAgICAgICAgaiA9IFtdO2IuZm9yRWFjaChpLCBmdW5jdGlvbiAoYikge1xuXHQgICAgICAgICAgICAgICAgaWYgKGIubmN5QnJlYWRjcnVtYiAmJiBiLm5jeUJyZWFkY3J1bWIubGFiZWwpIHtcblx0ICAgICAgICAgICAgICAgICAgdmFyIGMgPSBhKGIubmN5QnJlYWRjcnVtYi5sYWJlbCk7ai5wdXNoKGMoZCkpLCBnKGYsIGMsIGQpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGoucHVzaChiLm5hbWUpO1xuXHQgICAgICAgICAgICAgIH0pLCBlLm5jeUJyZWFkY3J1bWJDaGFpbiA9IGouam9pbihoKTtcblx0ICAgICAgICAgICAgfTtkLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICAgICAgICAgIGEudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSB8fCBpKCk7XG5cdCAgICAgICAgICAgIH0pLCBpKCk7XG5cdCAgICAgICAgICB9IH07XG5cdCAgICAgIH0gfTtcblx0ICB9dmFyIGogPSBmdW5jdGlvbiBqKGEpIHtcblx0ICAgIGlmIChhLmV4cHJlc3Npb25zKSByZXR1cm4gYS5leHByZXNzaW9uczt2YXIgYyA9IFtdO3JldHVybiBiLmZvckVhY2goYS5wYXJ0cywgZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgYi5pc0Z1bmN0aW9uKGEpICYmIGMucHVzaChhLmV4cCk7XG5cdCAgICB9KSwgYztcblx0ICB9LFxuXHQgICAgICBrID0gZnVuY3Rpb24gayhhLCBjLCBkLCBlKSB7XG5cdCAgICBiLmZvckVhY2goaihjKSwgZnVuY3Rpb24gKGIpIHtcblx0ICAgICAgdmFyIGYgPSBkLiR3YXRjaChiLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgZS5uY3lCcmVhZGNydW1iTGFiZWwgPSBjKGQpO1xuXHQgICAgICB9KTthLnB1c2goZik7XG5cdCAgICB9KTtcblx0ICB9LFxuXHQgICAgICBsID0gZnVuY3Rpb24gbChhKSB7XG5cdCAgICBiLmZvckVhY2goYSwgZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgYSgpO1xuXHQgICAgfSk7XG5cdCAgfTtnLiRpbmplY3QgPSBbXCIkaW50ZXJwb2xhdGVcIiwgXCIkYnJlYWRjcnVtYlwiLCBcIiRyb290U2NvcGVcIl0sIGguJGluamVjdCA9IFtcIiRpbnRlcnBvbGF0ZVwiLCBcIiRicmVhZGNydW1iXCIsIFwiJHJvb3RTY29wZVwiXSwgaS4kaW5qZWN0ID0gW1wiJGludGVycG9sYXRlXCIsIFwiJGJyZWFkY3J1bWJcIiwgXCIkcm9vdFNjb3BlXCJdLCBiLm1vZHVsZShcIm5jeS1hbmd1bGFyLWJyZWFkY3J1bWJcIiwgW1widWkucm91dGVyLnN0YXRlXCJdKS5wcm92aWRlcihcIiRicmVhZGNydW1iXCIsIGYpLmRpcmVjdGl2ZShcIm5jeUJyZWFkY3J1bWJcIiwgZykuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYkxhc3RcIiwgaCkuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYlRleHRcIiwgaSk7XG5cdH0od2luZG93LCB3aW5kb3cuYW5ndWxhcik7XG5cbi8qKiovIH0sXG5cbi8qKiovIDU5MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihqUXVlcnkpIHsndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0KGZ1bmN0aW9uIChtb21lbnQpIHtcblx0XG5cdCAgJ3VzZSBzdHJpY3QnO1xuXHRcblx0ICB2YXIgbW9kdWxlTmFtZSA9IFwibmdNYXRlcmlhbERhdGVQaWNrZXJcIjtcblx0XG5cdCAgdmFyIFZJRVdfU1RBVEVTID0ge1xuXHQgICAgREFURTogMCxcblx0ICAgIEhPVVI6IDEsXG5cdCAgICBNSU5VVEU6IDJcblx0ICB9O1xuXHRcblx0ICB2YXIgY3NzID0gZnVuY3Rpb24gY3NzKGVsLCBuYW1lKSB7XG5cdCAgICBpZiAoJ2pRdWVyeScgaW4gd2luZG93KSB7XG5cdCAgICAgIHJldHVybiBqUXVlcnkoZWwpLmNzcyhuYW1lKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVsID0gYW5ndWxhci5lbGVtZW50KGVsKTtcblx0ICAgICAgcmV0dXJuICdnZXRDb21wdXRlZFN0eWxlJyBpbiB3aW5kb3cgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbFswXSlbbmFtZV0gOiBlbC5jc3MobmFtZSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdmFyIHRlbXBsYXRlID0gJzxtZC1kaWFsb2cgY2xhc3M9XCJkdHBcIiBsYXlvdXQ9XCJjb2x1bW5cIiBzdHlsZT1cIndpZHRoOiAzMDBweDtcIj4nICsgJyAgICA8bWQtZGlhbG9nLWNvbnRlbnQgY2xhc3M9XCJkdHAtY29udGVudFwiPicgKyAnICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWRhdGUtdmlld1wiPicgKyAnICAgICAgICAgICAgPGhlYWRlciBjbGFzcz1cImR0cC1oZWFkZXJcIj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1kYXlcIiBuZy1zaG93PVwicGlja2VyLmRhdGVNb2RlXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiZGRkZFwiKX19PC9kaXY+JyArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtZGF5XCIgbmctc2hvdz1cInBpY2tlci50aW1lTW9kZVwiPnt7cGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBwaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiQVwiKSA6IFwiIFwifX08L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWNsb3NlIHRleHQtcmlnaHRcIj4nICsgJyAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgbmctY2xpY2s9XCJwaWNrZXIuaGlkZSgpXCI+JnRpbWVzOzwvYT4nICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgIDwvaGVhZGVyPicgKyAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1kYXRlXCIgbmctc2hvdz1cInBpY2tlci5wYXJhbXMuZGF0ZVwiPicgKyAnICAgICAgICAgICAgICAgIDxkaXYgbGF5b3V0PVwiY29sdW1uXCI+JyArICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW1vbnRoXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiTU1NXCIpIHwgdXBwZXJjYXNlfX08L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1udW1cIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJERFwiKX19PC9kaXY+JyArICcgICAgICAgICAgICAgICAgPGRpdiBsYXlvdXQ9XCJyb3dcIj4nICsgJyA8ZGl2IG5nLWNsaWNrPVwicGlja2VyLmluY3JlbWVudFllYXIoLTEpXCIgY2xhc3M9XCJkdHAteWVhci1idG4gZHRwLXllYXItYnRuLXByZXZcIiBmbGV4PVwiMzBcIj48c3BhbiBuZy1pZj1cInBpY2tlci5pc1ByZXZpb3VzWWVhclZpc2libGUoKVwiID4mI3gyNUIyOzwvc3Bhbj48L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwteWVhclwiIGZsZXg+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiWVlZWVwiKX19PC9kaXY+JyArICcgPGRpdiBuZy1jbGljaz1cInBpY2tlci5pbmNyZW1lbnRZZWFyKDEpXCIgY2xhc3M9XCJkdHAteWVhci1idG4gZHRwLXllYXItYnRuLW5leHRcIiBmbGV4PVwiMzBcIj48c3BhbiBuZy1pZj1cInBpY2tlci5pc05leHRZZWFyVmlzaWJsZSgpXCIgPiYjeDI1QkM7PC9zcGFuPjwvZGl2PicgKyAnICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgPC9kaXY+JyAvL3N0YXJ0IHRpbWVcblx0ICArICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLXRpbWVcIiBuZy1zaG93PVwicGlja2VyLnBhcmFtcy50aW1lICYmICFwaWNrZXIucGFyYW1zLmRhdGVcIj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1tYXh0aW1lXCI+e3twaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCkuZm9ybWF0KHBpY2tlci5wYXJhbXMuc2hvcnRUaW1lID8gXCJoaDptbVwiIDogXCJISDptbVwiKX19PC9kaXY+JyArICcgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtcGlja2VyXCI+JyArICcgICAgICAgICAgICAgICAgPG1kYy1kYXRldGltZS1waWNrZXItY2FsZW5kYXIgZGF0ZT1cInBpY2tlci5jdXJyZW50RGF0ZVwiIHBpY2tlcj1cInBpY2tlclwiIGNsYXNzPVwiZHRwLXBpY2tlci1jYWxlbmRhclwiIG5nLXNob3c9XCJwaWNrZXIuY3VycmVudFZpZXcgPT09IHBpY2tlci5WSUVXUy5EQVRFXCI+PC9tZGMtZGF0ZXRpbWUtcGlja2VyLWNhbGVuZGFyPicgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtcGlja2VyLWRhdGV0aW1lXCIgbmctc2hvdz1cInBpY2tlci5jdXJyZW50VmlldyAhPT0gcGlja2VyLlZJRVdTLkRBVEVcIj4nICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbWVyaWRpZW5cIj4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0IHAyMFwiPicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIGNsYXNzPVwiZHRwLW1lcmlkaWVuLWFtXCIgbmctY2xhc3M9XCJ7c2VsZWN0ZWQ6IHBpY2tlci5tZXJpZGllbiA9PSBcXCdBTVxcJ31cIiBuZy1jbGljaz1cInBpY2tlci5zZWxlY3RBTSgpXCI+e3twaWNrZXIucGFyYW1zLmFtVGV4dH19PC9hPicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLXNob3c9XCIhcGlja2VyLnRpbWVNb2RlXCIgY2xhc3M9XCJkdHAtYWN0dWFsLXRpbWUgcDYwXCI+e3twaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCkuZm9ybWF0KHBpY2tlci5wYXJhbXMuc2hvcnRUaW1lID8gXCJoaDptbVwiIDogXCJISDptbVwiKX19PC9kaXY+JyArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQgcDIwXCI+JyArICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgY2xhc3M9XCJkdHAtbWVyaWRpZW4tcG1cIiBuZy1jbGFzcz1cIntzZWxlY3RlZDogcGlja2VyLm1lcmlkaWVuID09IFxcJ1BNXFwnfVwiIG5nLWNsaWNrPVwicGlja2VyLnNlbGVjdFBNKClcIj57e3BpY2tlci5wYXJhbXMucG1UZXh0fX08L2E+JyArICcgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PicgKyAnICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgPG1kYy1kYXRldGltZS1waWNrZXItY2xvY2sgbW9kZT1cImhvdXJzXCIgbmctaWY9XCJwaWNrZXIuY3VycmVudFZpZXcgPT09IHBpY2tlci5WSUVXUy5IT1VSXCI+PC9tZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrPicgKyAnICAgICAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jayBtb2RlPVwibWludXRlc1wiIG5nLWlmPVwicGlja2VyLmN1cnJlbnRWaWV3ID09PSBwaWNrZXIuVklFV1MuTUlOVVRFXCI+PC9tZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrPicgKyAnICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgIDwvZGl2PicgKyAnICAgIDwvbWQtZGlhbG9nLWNvbnRlbnQ+JyArICcgICAgPG1kLWRpYWxvZy1hY3Rpb25zIGNsYXNzPVwiZHRwLWJ1dHRvbnNcIj4nICsgJyAgICAgICAgICAgIDxtZC1idXR0b24gY2xhc3M9XCJkdHAtYnRuLWNhbmNlbCBtZC1idXR0b25cIiBuZy1jbGljaz1cInBpY2tlci5jYW5jZWwoKVwiPiB7e3BpY2tlci5wYXJhbXMuY2FuY2VsVGV4dH19PC9tZC1idXR0b24+JyArICcgICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwiZHRwLWJ0bi1vayBtZC1idXR0b25cIiBuZy1jbGljaz1cInBpY2tlci5vaygpXCI+IHt7cGlja2VyLnBhcmFtcy5va1RleHR9fTwvbWQtYnV0dG9uPicgKyAnICAgICAgPC9tZC1kaWFsb2ctYWN0aW9ucz4nICsgJzwvbWQtZGlhbG9nPic7XG5cdFxuXHQgIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUsIFsnbmdNYXRlcmlhbCddKS5wcm92aWRlcignbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlJywgZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5sb2NhbGUgPSAnZW4nO1xuXHRcblx0ICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMubG9jYWxlO1xuXHQgICAgfTtcblx0XG5cdCAgICB0aGlzLnNldERlZmF1bHRMb2NhbGUgPSBmdW5jdGlvbiAobG9jYWxlU3RyaW5nKSB7XG5cdCAgICAgIHRoaXMubG9jYWxlID0gbG9jYWxlU3RyaW5nO1xuXHQgICAgfTtcblx0ICB9KS5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyJywgWyckbWREaWFsb2cnLCBmdW5jdGlvbiAoJG1kRGlhbG9nKSB7XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVzdHJpY3Q6ICdBJyxcblx0ICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuXHQgICAgICBzY29wZToge1xuXHQgICAgICAgIGN1cnJlbnREYXRlOiAnPW5nTW9kZWwnLFxuXHQgICAgICAgIHRpbWU6ICc9Jyxcblx0ICAgICAgICBkYXRlOiAnPScsXG5cdCAgICAgICAgbWluRGF0ZTogJz0nLFxuXHQgICAgICAgIG1heERhdGU6ICc9Jyxcblx0ICAgICAgICBzaG9ydFRpbWU6ICc9Jyxcblx0ICAgICAgICBmb3JtYXQ6ICdAJyxcblx0ICAgICAgICBjYW5jZWxUZXh0OiAnQCcsXG5cdCAgICAgICAgb2tUZXh0OiAnQCcsXG5cdCAgICAgICAgbGFuZzogJ0AnLFxuXHQgICAgICAgIGFtVGV4dDogJ0AnLFxuXHQgICAgICAgIHBtVGV4dDogJ0AnXG5cdCAgICAgIH0sXG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG5cdCAgICAgICAgdmFyIGlzT24gPSBmYWxzZTtcblx0ICAgICAgICBpZiAoIXNjb3BlLmZvcm1hdCkge1xuXHQgICAgICAgICAgaWYgKHNjb3BlLmRhdGUgJiYgc2NvcGUudGltZSkge1xuXHQgICAgICAgICAgICBzY29wZS5mb3JtYXQgPSAnWVlZWS1NTS1ERCBISDptbTpzcyc7XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKHNjb3BlLmRhdGUpIHtcblx0ICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ1lZWVktTU0tREQnO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ0hIOm1tJztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHNjb3BlLmN1cnJlbnREYXRlKSAmJiBzY29wZS5jdXJyZW50RGF0ZSAhPT0gJycpIHtcblx0ICAgICAgICAgIHNjb3BlLmN1cnJlbnREYXRlID0gbW9tZW50KHNjb3BlLmN1cnJlbnREYXRlLCBzY29wZS5mb3JtYXQpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKG5nTW9kZWwpIHtcblx0ICAgICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIG0gPSBtb21lbnQodmFsdWUpO1xuXHQgICAgICAgICAgICByZXR1cm4gbS5pc1ZhbGlkKCkgPyBtLmZvcm1hdChzY29wZS5mb3JtYXQpIDogJyc7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGVsZW1lbnQuYXR0cigncmVhZG9ubHknLCAnJyk7XG5cdCAgICAgICAgLy9AVE9ETyBjdXN0b20gZXZlbnQgdG8gdHJpZ2dlciBpbnB1dFxuXHQgICAgICAgIGVsZW1lbnQub24oJ2ZvY3VzJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICAgIGVsZW1lbnQuYmx1cigpO1xuXHQgICAgICAgICAgaWYgKGlzT24pIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgaXNPbiA9IHRydWU7XG5cdCAgICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuXHQgICAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRycykge1xuXHQgICAgICAgICAgICBpZiAoc2NvcGUuaGFzT3duUHJvcGVydHkoaSkgJiYgIWFuZ3VsYXIuaXNVbmRlZmluZWQoc2NvcGVbaV0pKSB7XG5cdCAgICAgICAgICAgICAgb3B0aW9uc1tpXSA9IHNjb3BlW2ldO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBvcHRpb25zLmN1cnJlbnREYXRlID0gc2NvcGUuY3VycmVudERhdGU7XG5cdCAgICAgICAgICB2YXIgbG9jYWxzID0geyBvcHRpb25zOiBvcHRpb25zIH07XG5cdCAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG5cdCAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcblx0ICAgICAgICAgICAgY29udHJvbGxlcjogUGx1Z2luQ29udHJvbGxlcixcblx0ICAgICAgICAgICAgY29udHJvbGxlckFzOiAncGlja2VyJyxcblx0ICAgICAgICAgICAgbG9jYWxzOiBsb2NhbHMsXG5cdCAgICAgICAgICAgIG9wZW5Gcm9tOiBlbGVtZW50LFxuXHQgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcblx0ICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcblx0ICAgICAgICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbDogZmFsc2Vcblx0ICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgICAgc2NvcGUuY3VycmVudERhdGUgPSB2ID8gdi5fZCA6IHY7XG5cdCAgICAgICAgICAgIGlzT24gPSBmYWxzZTtcblx0ICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgaXNPbiA9IGZhbHNlO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfV0pO1xuXHRcblx0ICB2YXIgUGx1Z2luQ29udHJvbGxlciA9IGZ1bmN0aW9uIFBsdWdpbkNvbnRyb2xsZXIoJHNjb3BlLCAkbWREaWFsb2csIG1kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSkge1xuXHQgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkRBVEU7XG5cdCAgICB0aGlzLl9kaWFsb2cgPSAkbWREaWFsb2c7XG5cdFxuXHQgICAgdGhpcy5taW5EYXRlO1xuXHQgICAgdGhpcy5tYXhEYXRlO1xuXHRcblx0ICAgIHRoaXMuX2F0dGFjaGVkRXZlbnRzID0gW107XG5cdCAgICB0aGlzLlZJRVdTID0gVklFV19TVEFURVM7XG5cdFxuXHQgICAgdGhpcy5wYXJhbXMgPSB7XG5cdCAgICAgIGRhdGU6IHRydWUsXG5cdCAgICAgIHRpbWU6IHRydWUsXG5cdCAgICAgIGZvcm1hdDogJ1lZWVktTU0tREQnLFxuXHQgICAgICBtaW5EYXRlOiBudWxsLFxuXHQgICAgICBtYXhEYXRlOiBudWxsLFxuXHQgICAgICBjdXJyZW50RGF0ZTogbnVsbCxcblx0ICAgICAgbGFuZzogbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlLFxuXHQgICAgICB3ZWVrU3RhcnQ6IDAsXG5cdCAgICAgIHNob3J0VGltZTogZmFsc2UsXG5cdCAgICAgIGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxuXHQgICAgICBva1RleHQ6ICdPSycsXG5cdCAgICAgIGFtVGV4dDogJ0FNJyxcblx0ICAgICAgcG1UZXh0OiAnUE0nXG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMubWVyaWRpZW4gPSAnQU0nO1xuXHQgICAgdGhpcy5wYXJhbXMgPSBhbmd1bGFyLmV4dGVuZCh0aGlzLnBhcmFtcywgdGhpcy5vcHRpb25zKTtcblx0ICAgIHRoaXMuaW5pdCgpO1xuXHQgIH07XG5cdCAgUGx1Z2luQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJG1kRGlhbG9nJywgJ21kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSddO1xuXHQgIFBsdWdpbkNvbnRyb2xsZXIucHJvdG90eXBlID0ge1xuXHQgICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcblx0ICAgICAgdGhpcy50aW1lTW9kZSA9IHRoaXMucGFyYW1zLnRpbWUgJiYgIXRoaXMucGFyYW1zLmRhdGU7XG5cdCAgICAgIHRoaXMuZGF0ZU1vZGUgPSB0aGlzLnBhcmFtcy5kYXRlO1xuXHQgICAgICB0aGlzLmluaXREYXRlcygpO1xuXHQgICAgICB0aGlzLnN0YXJ0KCk7XG5cdCAgICB9LFxuXHQgICAgY3VycmVudE5lYXJlc3Q1TWludXRlOiBmdW5jdGlvbiBjdXJyZW50TmVhcmVzdDVNaW51dGUoKSB7XG5cdCAgICAgIHZhciBkYXRlID0gdGhpcy5jdXJyZW50RGF0ZSB8fCBtb21lbnQoKTtcblx0ICAgICAgdmFyIG1pbnV0ZXMgPSA1ICogTWF0aC5yb3VuZChkYXRlLm1pbnV0ZSgpIC8gNSk7XG5cdCAgICAgIGlmIChtaW51dGVzID49IDYwKSB7XG5cdCAgICAgICAgbWludXRlcyA9IDU1OyAvL2Fsd2F5cyBwdXNoIGRvd25cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbW9tZW50KGRhdGUpLm1pbnV0ZXMobWludXRlcyk7XG5cdCAgICB9LFxuXHQgICAgaW5pdERhdGVzOiBmdW5jdGlvbiBpbml0RGF0ZXMoKSB7XG5cdCAgICAgIHZhciB0aGF0ID0gdGhpcztcblx0ICAgICAgdmFyIF9kYXRlUGFyYW0gPSBmdW5jdGlvbiBfZGF0ZVBhcmFtKGlucHV0LCBmYWxsYmFjaykge1xuXHQgICAgICAgIHZhciByZXQgPSBudWxsO1xuXHQgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnB1dCkgJiYgaW5wdXQgIT09IG51bGwgJiYgaW5wdXQgIT09ICcnKSB7XG5cdCAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhpbnB1dCkpIHtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGF0LnBhcmFtcy5mb3JtYXQgIT09ICd1bmRlZmluZWQnICYmIHRoYXQucGFyYW1zLmZvcm1hdCAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgIHJldCA9IG1vbWVudChpbnB1dCwgdGhhdC5wYXJhbXMuZm9ybWF0KS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgcmV0ID0gbW9tZW50KGlucHV0KS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZShpbnB1dCkpIHtcblx0ICAgICAgICAgICAgICB2YXIgeCA9IGlucHV0LmdldFRpbWUoKTtcblx0ICAgICAgICAgICAgICByZXQgPSBtb21lbnQoeCwgXCJ4XCIpLmxvY2FsZSh0aGF0LnBhcmFtcy5sYW5nKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5faXNBTW9tZW50T2JqZWN0KSB7XG5cdCAgICAgICAgICAgICAgcmV0ID0gaW5wdXQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0ID0gZmFsbGJhY2s7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXQ7XG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB0aGlzLmN1cnJlbnREYXRlID0gX2RhdGVQYXJhbSh0aGlzLnBhcmFtcy5jdXJyZW50RGF0ZSwgbW9tZW50KCkpO1xuXHQgICAgICB0aGlzLm1pbkRhdGUgPSBfZGF0ZVBhcmFtKHRoaXMucGFyYW1zLm1pbkRhdGUpO1xuXHQgICAgICB0aGlzLm1heERhdGUgPSBfZGF0ZVBhcmFtKHRoaXMucGFyYW1zLm1heERhdGUpO1xuXHQgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZSk7XG5cdCAgICB9LFxuXHQgICAgaW5pdERhdGU6IGZ1bmN0aW9uIGluaXREYXRlKGQpIHtcblx0ICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkRBVEU7XG5cdCAgICB9LFxuXHQgICAgaW5pdEhvdXJzOiBmdW5jdGlvbiBpbml0SG91cnMoKSB7XG5cdCAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5IT1VSO1xuXHQgICAgfSxcblx0ICAgIGluaXRNaW51dGVzOiBmdW5jdGlvbiBpbml0TWludXRlcygpIHtcblx0ICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLk1JTlVURTtcblx0ICAgIH0sXG5cdCAgICBpc0FmdGVyTWluRGF0ZTogZnVuY3Rpb24gaXNBZnRlck1pbkRhdGUoZGF0ZSwgY2hlY2tIb3VyLCBjaGVja01pbnV0ZSkge1xuXHQgICAgICB2YXIgX3JldHVybiA9IHRydWU7XG5cdFxuXHQgICAgICBpZiAodHlwZW9mIHRoaXMubWluRGF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5taW5EYXRlICE9PSBudWxsKSB7XG5cdCAgICAgICAgdmFyIF9taW5EYXRlID0gbW9tZW50KHRoaXMubWluRGF0ZSk7XG5cdCAgICAgICAgdmFyIF9kYXRlID0gbW9tZW50KGRhdGUpO1xuXHRcblx0ICAgICAgICBpZiAoIWNoZWNrSG91ciAmJiAhY2hlY2tNaW51dGUpIHtcblx0ICAgICAgICAgIF9taW5EYXRlLmhvdXIoMCk7XG5cdCAgICAgICAgICBfbWluRGF0ZS5taW51dGUoMCk7XG5cdFxuXHQgICAgICAgICAgX2RhdGUuaG91cigwKTtcblx0ICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIF9taW5EYXRlLnNlY29uZCgwKTtcblx0ICAgICAgICBfZGF0ZS5zZWNvbmQoMCk7XG5cdCAgICAgICAgX21pbkRhdGUubWlsbGlzZWNvbmQoMCk7XG5cdCAgICAgICAgX2RhdGUubWlsbGlzZWNvbmQoMCk7XG5cdFxuXHQgICAgICAgIGlmICghY2hlY2tNaW51dGUpIHtcblx0ICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcblx0ICAgICAgICAgIF9taW5EYXRlLm1pbnV0ZSgwKTtcblx0XG5cdCAgICAgICAgICBfcmV0dXJuID0gcGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPj0gcGFyc2VJbnQoX21pbkRhdGUuZm9ybWF0KFwiWFwiKSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIF9yZXR1cm4gPSBwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA+PSBwYXJzZUludChfbWluRGF0ZS5mb3JtYXQoXCJYXCIpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmV0dXJuO1xuXHQgICAgfSxcblx0ICAgIGlzQmVmb3JlTWF4RGF0ZTogZnVuY3Rpb24gaXNCZWZvcmVNYXhEYXRlKGRhdGUsIGNoZWNrVGltZSwgY2hlY2tNaW51dGUpIHtcblx0ICAgICAgdmFyIF9yZXR1cm4gPSB0cnVlO1xuXHRcblx0ICAgICAgaWYgKHR5cGVvZiB0aGlzLm1heERhdGUgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubWF4RGF0ZSAhPT0gbnVsbCkge1xuXHQgICAgICAgIHZhciBfbWF4RGF0ZSA9IG1vbWVudCh0aGlzLm1heERhdGUpO1xuXHQgICAgICAgIHZhciBfZGF0ZSA9IG1vbWVudChkYXRlKTtcblx0XG5cdCAgICAgICAgaWYgKCFjaGVja1RpbWUgJiYgIWNoZWNrTWludXRlKSB7XG5cdCAgICAgICAgICBfbWF4RGF0ZS5ob3VyKDApO1xuXHQgICAgICAgICAgX21heERhdGUubWludXRlKDApO1xuXHRcblx0ICAgICAgICAgIF9kYXRlLmhvdXIoMCk7XG5cdCAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBfbWF4RGF0ZS5zZWNvbmQoMCk7XG5cdCAgICAgICAgX2RhdGUuc2Vjb25kKDApO1xuXHQgICAgICAgIF9tYXhEYXRlLm1pbGxpc2Vjb25kKDApO1xuXHQgICAgICAgIF9kYXRlLm1pbGxpc2Vjb25kKDApO1xuXHRcblx0ICAgICAgICBpZiAoIWNoZWNrTWludXRlKSB7XG5cdCAgICAgICAgICBfZGF0ZS5taW51dGUoMCk7XG5cdCAgICAgICAgICBfbWF4RGF0ZS5taW51dGUoMCk7XG5cdFxuXHQgICAgICAgICAgX3JldHVybiA9IHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpIDw9IHBhcnNlSW50KF9tYXhEYXRlLmZvcm1hdChcIlhcIikpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfcmV0dXJuID0gcGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPD0gcGFyc2VJbnQoX21heERhdGUuZm9ybWF0KFwiWFwiKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JldHVybjtcblx0ICAgIH0sXG5cdCAgICBzZWxlY3REYXRlOiBmdW5jdGlvbiBzZWxlY3REYXRlKGRhdGUpIHtcblx0ICAgICAgaWYgKGRhdGUpIHtcblx0ICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KGRhdGUpO1xuXHQgICAgICAgIGlmICghdGhpcy5pc0FmdGVyTWluRGF0ZSh0aGlzLmN1cnJlbnREYXRlKSkge1xuXHQgICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG1vbWVudCh0aGlzLm1pbkRhdGUpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKCF0aGlzLmlzQmVmb3JlTWF4RGF0ZSh0aGlzLmN1cnJlbnREYXRlKSkge1xuXHQgICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG1vbWVudCh0aGlzLm1heERhdGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLmN1cnJlbnREYXRlLmxvY2FsZSh0aGlzLnBhcmFtcy5sYW5nKTtcblx0ICAgICAgICB0aGlzLmNhbGVuZGFyU3RhcnQgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG5cdCAgICAgICAgdGhpcy5tZXJpZGllbiA9IHRoaXMuY3VycmVudERhdGUuaG91cigpID49IDEyID8gJ1BNJyA6ICdBTSc7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBzZXROYW1lOiBmdW5jdGlvbiBzZXROYW1lKCkge1xuXHQgICAgICB2YXIgdGV4dCA9IFwiXCI7XG5cdCAgICAgIHZhciBwb3NzaWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjtcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG5cdCAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiB0ZXh0O1xuXHQgICAgfSxcblx0ICAgIGlzUE06IGZ1bmN0aW9uIGlzUE0oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1lcmlkaWVuID09PSAnUE0nO1xuXHQgICAgfSxcblx0ICAgIGluY3JlbWVudFllYXI6IGZ1bmN0aW9uIGluY3JlbWVudFllYXIoYW1vdW50KSB7XG5cdCAgICAgIGlmIChhbW91bnQgPT09IDEgJiYgdGhpcy5pc05leHRZZWFyVmlzaWJsZSgpKSB7XG5cdCAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuYWRkKCd5ZWFyJywgYW1vdW50KSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChhbW91bnQgPT09IC0xICYmIHRoaXMuaXNQcmV2aW91c1llYXJWaXNpYmxlKCkpIHtcblx0ICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5hZGQoJ3llYXInLCBhbW91bnQpKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIGlzUHJldmlvdXNNb250aFZpc2libGU6IGZ1bmN0aW9uIGlzUHJldmlvdXNNb250aFZpc2libGUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0FmdGVyTWluRGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5zdGFydE9mKCdtb250aCcpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgfSxcblx0ICAgIGlzTmV4dE1vbnRoVmlzaWJsZTogZnVuY3Rpb24gaXNOZXh0TW9udGhWaXNpYmxlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLmVuZE9mKCdtb250aCcpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgfSxcblx0ICAgIGlzUHJldmlvdXNZZWFyVmlzaWJsZTogZnVuY3Rpb24gaXNQcmV2aW91c1llYXJWaXNpYmxlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNBZnRlck1pbkRhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuc3RhcnRPZigneWVhcicpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgfSxcblx0ICAgIGlzTmV4dFllYXJWaXNpYmxlOiBmdW5jdGlvbiBpc05leHRZZWFyVmlzaWJsZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5lbmRPZigneWVhcicpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgfSxcblx0ICAgIGlzSG91ckF2YWlsYWJsZTogZnVuY3Rpb24gaXNIb3VyQXZhaWxhYmxlKGhvdXIpIHtcblx0ICAgICAgdmFyIF9kYXRlID0gbW9tZW50KHRoaXMuY3VycmVudERhdGUpO1xuXHQgICAgICBfZGF0ZS5ob3VyKHRoaXMuY29udmVydEhvdXJzKGhvdXIpKS5taW51dGUoMCkuc2Vjb25kKDApO1xuXHQgICAgICByZXR1cm4gdGhpcy5pc0FmdGVyTWluRGF0ZShfZGF0ZSwgdHJ1ZSwgZmFsc2UpICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKF9kYXRlLCB0cnVlLCBmYWxzZSk7XG5cdCAgICB9LFxuXHQgICAgaXNNaW51dGVBdmFpbGFibGU6IGZ1bmN0aW9uIGlzTWludXRlQXZhaWxhYmxlKG1pbnV0ZSkge1xuXHQgICAgICB2YXIgX2RhdGUgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG5cdCAgICAgIF9kYXRlLm1pbnV0ZShtaW51dGUpLnNlY29uZCgwKTtcblx0ICAgICAgcmV0dXJuIHRoaXMuaXNBZnRlck1pbkRhdGUoX2RhdGUsIHRydWUsIHRydWUpICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKF9kYXRlLCB0cnVlLCB0cnVlKTtcblx0ICAgIH0sXG5cdCAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7XG5cdCAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5EQVRFO1xuXHQgICAgICAvL3RoaXMuaW5pdERhdGVzKCk7XG5cdCAgICAgIGlmICh0aGlzLnBhcmFtcy5kYXRlKSB7XG5cdCAgICAgICAgdGhpcy5pbml0RGF0ZSgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICh0aGlzLnBhcmFtcy50aW1lKSB7XG5cdCAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIG9rOiBmdW5jdGlvbiBvaygpIHtcblx0ICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRWaWV3KSB7XG5cdCAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5EQVRFOlxuXHQgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUgPT09IHRydWUpIHtcblx0ICAgICAgICAgICAgdGhpcy5pbml0SG91cnMoKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuaGlkZSh0cnVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgVklFV19TVEFURVMuSE9VUjpcblx0ICAgICAgICAgIHRoaXMuaW5pdE1pbnV0ZXMoKTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIGNhc2UgVklFV19TVEFURVMuTUlOVVRFOlxuXHQgICAgICAgICAgdGhpcy5oaWRlKHRydWUpO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHtcblx0ICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUpIHtcblx0ICAgICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFZpZXcpIHtcblx0ICAgICAgICAgIGNhc2UgVklFV19TVEFURVMuREFURTpcblx0ICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5IT1VSOlxuXHQgICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMuZGF0ZSkge1xuXHQgICAgICAgICAgICAgIHRoaXMuaW5pdERhdGUoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgIGNhc2UgVklFV19TVEFURVMuTUlOVVRFOlxuXHQgICAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuXHQgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5oaWRlKCk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBzZWxlY3RNb250aEJlZm9yZTogZnVuY3Rpb24gc2VsZWN0TW9udGhCZWZvcmUoKSB7XG5cdCAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5zdWJ0cmFjdCgxLCAnbW9udGhzJyk7XG5cdCAgICB9LFxuXHQgICAgc2VsZWN0TW9udGhBZnRlcjogZnVuY3Rpb24gc2VsZWN0TW9udGhBZnRlcigpIHtcblx0ICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LmFkZCgxLCAnbW9udGhzJyk7XG5cdCAgICB9LFxuXHQgICAgc2VsZWN0WWVhckJlZm9yZTogZnVuY3Rpb24gc2VsZWN0WWVhckJlZm9yZSgpIHtcblx0ICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LnN1YnRyYWN0KDEsICd5ZWFycycpO1xuXHQgICAgfSxcblx0ICAgIHNlbGVjdFllYXJBZnRlcjogZnVuY3Rpb24gc2VsZWN0WWVhckFmdGVyKCkge1xuXHQgICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuYWRkKDEsICd5ZWFycycpO1xuXHQgICAgfSxcblx0ICAgIHNlbGVjdEFNOiBmdW5jdGlvbiBzZWxlY3RBTSgpIHtcblx0ICAgICAgaWYgKHRoaXMuaXNIb3VyQXZhaWxhYmxlKDApIHx8IHRoaXMuaXNIb3VyQXZhaWxhYmxlKDEyKSkge1xuXHQgICAgICAgIGlmICh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSA+PSAxMikge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuc3VidHJhY3QoMTIsICdob3VycycpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCF0aGlzLmlzSG91ckF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSkpIHtcblx0ICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIodGhpcy5taW5EYXRlLmhvdXIoKSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuaXNNaW51dGVBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUoKSkpIHtcblx0ICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSh0aGlzLm1pbkRhdGUubWludXRlKCkpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBzZWxlY3RQTTogZnVuY3Rpb24gc2VsZWN0UE0oKSB7XG5cdCAgICAgIGlmICh0aGlzLmlzSG91ckF2YWlsYWJsZSgxMykgfHwgdGhpcy5pc0hvdXJBdmFpbGFibGUoMjQpKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuY3VycmVudERhdGUuaG91cigpIDwgMTIpIHtcblx0ICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmFkZCgxMiwgJ2hvdXJzJykpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuaXNIb3VyQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUuaG91cigpKSkge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuaG91cih0aGlzLm1heERhdGUuaG91cigpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghdGhpcy5pc01pbnV0ZUF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSgpKSkge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUubWludXRlKHRoaXMubWF4RGF0ZS5taW51dGUoKSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIGNvbnZlcnRIb3VyczogZnVuY3Rpb24gY29udmVydEhvdXJzKGgpIHtcblx0ICAgICAgdmFyIF9yZXR1cm4gPSBoO1xuXHQgICAgICBpZiAoaCA8IDEyICYmIHRoaXMuaXNQTSgpKSBfcmV0dXJuICs9IDEyO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZXR1cm47XG5cdCAgICB9LFxuXHQgICAgaGlkZTogZnVuY3Rpb24gaGlkZShva0J0bikge1xuXHQgICAgICBpZiAob2tCdG4pIHtcblx0ICAgICAgICB0aGlzLl9kaWFsb2cuaGlkZSh0aGlzLmN1cnJlbnREYXRlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLl9kaWFsb2cuY2FuY2VsKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBhbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lKS5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXInLCBbZnVuY3Rpb24gKCkge1xuXHRcblx0ICAgIHZhciBzdGFydERhdGUgPSBtb21lbnQoKSxcblx0ICAgICAgICBZRUFSX01JTiA9IDE5MDAsXG5cdCAgICAgICAgWUVBUl9NQVggPSAyMTAwLFxuXHQgICAgICAgIE1PTlRIU19JTl9BTEwgPSAoWUVBUl9NQVggLSBZRUFSX01JTiArIDEpICogMTIsXG5cdCAgICAgICAgSVRFTV9IRUlHSFQgPSAyNDAsXG5cdCAgICAgICAgTU9OVEhTID0gW107XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1PTlRIU19JTl9BTEw7IGkrKykge1xuXHQgICAgICBNT05USFMucHVzaChpKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY3VycmVudE1vbnRoSW5kZXggPSBmdW5jdGlvbiBjdXJyZW50TW9udGhJbmRleChkYXRlKSB7XG5cdCAgICAgIHZhciB5ZWFyID0gZGF0ZS55ZWFyKCk7XG5cdCAgICAgIHZhciBtb250aCA9IGRhdGUubW9udGgoKTtcblx0ICAgICAgcmV0dXJuICh5ZWFyIC0gWUVBUl9NSU4pICogMTIgKyBtb250aCAtIDE7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJlc3RyaWN0OiAnRScsXG5cdCAgICAgIHNjb3BlOiB7XG5cdCAgICAgICAgcGlja2VyOiAnPScsXG5cdCAgICAgICAgZGF0ZTogJz0nXG5cdCAgICAgIH0sXG5cdCAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG5cdCAgICAgIGNvbnRyb2xsZXJBczogJ2NhbCcsXG5cdCAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSkge1xuXHQgICAgICAgIHZhciBjYWxlbmRhciA9IHRoaXMsXG5cdCAgICAgICAgICAgIHBpY2tlciA9IHRoaXMucGlja2VyLFxuXHQgICAgICAgICAgICBkYXlzID0gW107XG5cdFxuXHQgICAgICAgIGZvciAodmFyIGkgPSBwaWNrZXIucGFyYW1zLndlZWtTdGFydDsgZGF5cy5sZW5ndGggPCA3OyBpKyspIHtcblx0ICAgICAgICAgIGlmIChpID4gNikge1xuXHQgICAgICAgICAgICBpID0gMDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGRheXMucHVzaChpLnRvU3RyaW5nKCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgY2FsZW5kYXIud2VlayA9IGRheXM7XG5cdCAgICAgICAgaWYgKCFwaWNrZXIubWF4RGF0ZSAmJiAhcGlja2VyLm1pbkRhdGUpIHtcblx0ICAgICAgICAgIGNhbGVuZGFyLm1vbnRocyA9IE1PTlRIUztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdmFyIGxvdyA9IHBpY2tlci5taW5EYXRlID8gY3VycmVudE1vbnRoSW5kZXgocGlja2VyLm1pbkRhdGUpIDogMDtcblx0ICAgICAgICAgIHZhciBoaWdoID0gcGlja2VyLm1heERhdGUgPyBjdXJyZW50TW9udGhJbmRleChwaWNrZXIubWF4RGF0ZSkgKyAxIDogTU9OVEhTX0lOX0FMTDtcblx0ICAgICAgICAgIGNhbGVuZGFyLm1vbnRocyA9IE1PTlRIUy5zbGljZShsb3csIGhpZ2gpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgY2FsZW5kYXIuZ2V0SXRlbUF0SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcblx0ICAgICAgICAgIHZhciBtb250aCA9IChpbmRleCArIDEpICUgMTIgfHwgMTI7XG5cdCAgICAgICAgICB2YXIgeWVhciA9IFlFQVJfTUlOICsgTWF0aC5mbG9vcihpbmRleCAvIDEyKTtcblx0ICAgICAgICAgIHZhciBtb250aE9iaiA9IG1vbWVudChwaWNrZXIuY3VycmVudERhdGUpLnllYXIoeWVhcikubW9udGgobW9udGgpO1xuXHQgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlTW9udGhDYWxlbmRhcihtb250aE9iaik7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY2FsZW5kYXIudG9wSW5kZXggPSBjdXJyZW50TW9udGhJbmRleChwaWNrZXIuY3VycmVudERhdGUpIC0gY2FsZW5kYXIubW9udGhzWzBdO1xuXHRcblx0ICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHJldHVybiBwaWNrZXIuY3VycmVudERhdGUgPyBwaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KCdZWVlZLU1NJykgOiAnJztcblx0ICAgICAgICB9LCBmdW5jdGlvbiAodmFsMiwgdmFsMSkge1xuXHQgICAgICAgICAgaWYgKHZhbDIgIT0gdmFsMSkge1xuXHQgICAgICAgICAgICB2YXIgbkRhdGUgPSBtb21lbnQodmFsMiwgJ1lZWVktTU0nKTtcblx0ICAgICAgICAgICAgdmFyIGluZGV4ID0gY3VycmVudE1vbnRoSW5kZXgobkRhdGUpO1xuXHQgICAgICAgICAgICBpZiAoY2FsZW5kYXIudG9wSW5kZXggIT0gaW5kZXgpIHtcblx0ICAgICAgICAgICAgICBjYWxlbmRhci50b3BJbmRleCA9IGluZGV4IC0gY2FsZW5kYXIubW9udGhzWzBdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHZhciBnZW5lcmF0ZU1vbnRoQ2FsZW5kYXIgPSBmdW5jdGlvbiBnZW5lcmF0ZU1vbnRoQ2FsZW5kYXIoZGF0ZSkge1xuXHQgICAgICAgICAgdmFyIG1vbnRoID0ge307XG5cdCAgICAgICAgICBpZiAoZGF0ZSAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgICBtb250aC5uYW1lID0gZGF0ZS5mb3JtYXQoJ01NTU0gWVlZWScpO1xuXHQgICAgICAgICAgICB2YXIgc3RhcnRPZk1vbnRoID0gbW9tZW50KGRhdGUpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLnN0YXJ0T2YoJ21vbnRoJykuaG91cihkYXRlLmhvdXIoKSkubWludXRlKGRhdGUubWludXRlKCkpO1xuXHQgICAgICAgICAgICB2YXIgaU51bURheSA9IHN0YXJ0T2ZNb250aC5mb3JtYXQoJ2QnKTtcblx0ICAgICAgICAgICAgbW9udGguZGF5cyA9IFtdO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRPZk1vbnRoLmRhdGUoKTsgaSA8PSBzdGFydE9mTW9udGguZGF5c0luTW9udGgoKTsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgaWYgKGkgPT09IHN0YXJ0T2ZNb250aC5kYXRlKCkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpV2VlayA9IGNhbGVuZGFyLndlZWsuaW5kZXhPZihpTnVtRGF5LnRvU3RyaW5nKCkpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGlXZWVrID4gMCkge1xuXHQgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGlXZWVrOyB4KyspIHtcblx0ICAgICAgICAgICAgICAgICAgICBtb250aC5kYXlzLnB1c2goMCk7XG5cdCAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgbW9udGguZGF5cy5wdXNoKG1vbWVudChzdGFydE9mTW9udGgpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLmRhdGUoaSkpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB2YXIgZGF5c0luQVdlZWsgPSA3LFxuXHQgICAgICAgICAgICAgICAgZGF5c1RtcCA9IFtdLFxuXHQgICAgICAgICAgICAgICAgc2xpY2VzID0gTWF0aC5jZWlsKG1vbnRoLmRheXMubGVuZ3RoIC8gZGF5c0luQVdlZWspO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNsaWNlczsgaisrKSB7XG5cdCAgICAgICAgICAgICAgZGF5c1RtcC5wdXNoKG1vbnRoLmRheXMuc2xpY2UoaiAqIGRheXNJbkFXZWVrLCAoaiArIDEpICogZGF5c0luQVdlZWspKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBtb250aC5kYXlzID0gZGF5c1RtcDtcblx0ICAgICAgICAgICAgcmV0dXJuIG1vbnRoO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGNhbGVuZGFyLnRvRGF5ID0gZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICAgIHJldHVybiBtb21lbnQocGFyc2VJbnQoaSksIFwiZFwiKS5sb2NhbGUocGlja2VyLnBhcmFtcy5sYW5nKS5mb3JtYXQoXCJkZFwiKS5zdWJzdHJpbmcoMCwgMSk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY2FsZW5kYXIuaXNJblJhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcblx0ICAgICAgICAgIHJldHVybiBwaWNrZXIuaXNBZnRlck1pbkRhdGUobW9tZW50KGRhdGUpLCBmYWxzZSwgZmFsc2UpICYmIHBpY2tlci5pc0JlZm9yZU1heERhdGUobW9tZW50KGRhdGUpLCBmYWxzZSwgZmFsc2UpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGNhbGVuZGFyLnNlbGVjdERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuXHQgICAgICAgICAgaWYgKGRhdGUpIHtcblx0ICAgICAgICAgICAgaWYgKGNhbGVuZGFyLmlzU2VsZWN0ZWREYXkoZGF0ZSkpIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gcGlja2VyLm9rKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcGlja2VyLnNlbGVjdERhdGUobW9tZW50KGRhdGUpLmhvdXIoY2FsZW5kYXIuZGF0ZS5ob3VyKCkpLm1pbnV0ZShjYWxlbmRhci5kYXRlLm1pbnV0ZSgpKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY2FsZW5kYXIuaXNTZWxlY3RlZERheSA9IGZ1bmN0aW9uIChtKSB7XG5cdCAgICAgICAgICByZXR1cm4gbSAmJiBjYWxlbmRhci5kYXRlLmRhdGUoKSA9PT0gbS5kYXRlKCkgJiYgY2FsZW5kYXIuZGF0ZS5tb250aCgpID09PSBtLm1vbnRoKCkgJiYgY2FsZW5kYXIuZGF0ZS55ZWFyKCkgPT09IG0ueWVhcigpO1xuXHQgICAgICAgIH07XG5cdCAgICAgIH1dLFxuXHQgICAgICB0ZW1wbGF0ZTogJzxtZC12aXJ0dWFsLXJlcGVhdC1jb250YWluZXIgbWQtdG9wLWluZGV4PVwiY2FsLnRvcEluZGV4XCIgY2xhc3M9XCJtb250aHNcIj4nICsgJzxkaXYgbWQtdmlydHVhbC1yZXBlYXQ9XCJpZHggaW4gY2FsLm1vbnRoc1wiIG1kLXN0YXJ0LWluZGV4PVwiY2FsLnRvcEluZGV4XCIgbWQtaXRlbS1zaXplPVwiJyArIElURU1fSEVJR0hUICsgJ1wiPicgKyAnICAgICA8ZGl2IG1kYy1kYXRldGltZS1waWNrZXItY2FsZW5kYXItbW9udGggaWR4PVwiaWR4XCI+PC9kaXY+JyArICc8L2Rpdj4nICsgJzwvbWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyPidcblx0ICAgIH07XG5cdCAgfV0pLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDYWxlbmRhck1vbnRoJywgWyckY29tcGlsZScsIGZ1bmN0aW9uICgkY29tcGlsZSkge1xuXHQgICAgdmFyIGJ1aWxkQ2FsZW5kYXJDb250ZW50ID0gZnVuY3Rpb24gYnVpbGRDYWxlbmRhckNvbnRlbnQoZWxlbWVudCwgc2NvcGUpIHtcblx0ICAgICAgdmFyIHRib2R5ID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcigndGJvZHknKSk7XG5cdCAgICAgIHZhciBjYWxlbmRhciA9IHNjb3BlLmNhbCxcblx0ICAgICAgICAgIG1vbnRoID0gc2NvcGUubW9udGg7XG5cdCAgICAgIHRib2R5Lmh0bWwoJycpO1xuXHQgICAgICBtb250aC5kYXlzLmZvckVhY2goZnVuY3Rpb24gKHdlZWtEYXlzLCBpKSB7XG5cdCAgICAgICAgdmFyIHRyID0gYW5ndWxhci5lbGVtZW50KCc8dHI+PC90cj4nKTtcblx0ICAgICAgICB3ZWVrRGF5cy5mb3JFYWNoKGZ1bmN0aW9uICh3ZWVrRGF5LCBqKSB7XG5cdCAgICAgICAgICB2YXIgdGQgPSBhbmd1bGFyLmVsZW1lbnQoJzx0ZD4gPC90ZD4nKTtcblx0ICAgICAgICAgIGlmICh3ZWVrRGF5KSB7XG5cdCAgICAgICAgICAgIHZhciBhT3JTcGFuO1xuXHQgICAgICAgICAgICBpZiAoY2FsZW5kYXIuaXNJblJhbmdlKHdlZWtEYXkpKSB7XG5cdCAgICAgICAgICAgICAgLy9idWlsZCBhXG5cdCAgICAgICAgICAgICAgdmFyIHNjb3BlUmVmID0gJ21vbnRoW1wiZGF5c1wiXVsnICsgaSArICddWycgKyBqICsgJ10nO1xuXHQgICAgICAgICAgICAgIGFPclNwYW4gPSBhbmd1bGFyLmVsZW1lbnQoXCI8YSBocmVmPScjJyBtZGMtZHRwLW5vY2xpY2s+PC9hPlwiKS5hdHRyKCduZy1jbGFzcycsICd7c2VsZWN0ZWQ6IGNhbC5pc1NlbGVjdGVkRGF5KCcgKyBzY29wZVJlZiArICcpfScpLmF0dHIoJ25nLWNsaWNrJywgJ2NhbC5zZWxlY3REYXRlKCcgKyBzY29wZVJlZiArICcpJyk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgYU9yU3BhbiA9IGFuZ3VsYXIuZWxlbWVudCgnPHNwYW4+PC9zcGFuPicpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGFPclNwYW4uYWRkQ2xhc3MoJ2R0cC1zZWxlY3QtZGF5JykuaHRtbCh3ZWVrRGF5LmZvcm1hdCgnRCcpKTtcblx0ICAgICAgICAgICAgdGQuYXBwZW5kKGFPclNwYW4pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgdHIuYXBwZW5kKHRkKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB0Ym9keS5hcHBlbmQodHIpO1xuXHQgICAgICB9KTtcblx0ICAgICAgJGNvbXBpbGUodGJvZHkpKHNjb3BlKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgc2NvcGU6IHtcblx0ICAgICAgICBpZHg6ICc9J1xuXHQgICAgICB9LFxuXHQgICAgICByZXF1aXJlOiAnXm1kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXInLFxuXHQgICAgICByZXN0cmljdDogJ0FFJyxcblx0ICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwiZHRwLXBpY2tlci1tb250aFwiPnt7bW9udGgubmFtZX19PC9kaXY+JyArICc8dGFibGUgY2xhc3M9XCJ0YWJsZSBkdHAtcGlja2VyLWRheXNcIj4nICsgJyAgICA8dGhlYWQ+JyArICcgICAgPHRyPicgKyAnICAgICAgICA8dGggbmctcmVwZWF0PVwiZGF5IGluIGNhbC53ZWVrXCI+e3tjYWwudG9EYXkoZGF5KX19PC90aD4nICsgJyAgICA8L3RyPicgKyAnICAgIDwvdGhlYWQ+JyArICcgICAgPHRib2R5PicgKyAnICAgIDwvdGJvZHk+JyArICc8L3RhYmxlPicsXG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjYWxlbmRhcikge1xuXHQgICAgICAgIHNjb3BlLmNhbCA9IGNhbGVuZGFyO1xuXHQgICAgICAgIHNjb3BlLm1vbnRoID0gY2FsZW5kYXIuZ2V0SXRlbUF0SW5kZXgocGFyc2VJbnQoc2NvcGUuaWR4KSk7XG5cdCAgICAgICAgYnVpbGRDYWxlbmRhckNvbnRlbnQoZWxlbWVudCwgc2NvcGUpO1xuXHQgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gc2NvcGUuaWR4O1xuXHQgICAgICAgIH0sIGZ1bmN0aW9uIChpZHgsIG9sZElkeCkge1xuXHQgICAgICAgICAgaWYgKGlkeCAhPSBvbGRJZHgpIHtcblx0ICAgICAgICAgICAgc2NvcGUubW9udGggPSBjYWxlbmRhci5nZXRJdGVtQXRJbmRleChwYXJzZUludChzY29wZS5pZHgpKTtcblx0ICAgICAgICAgICAgYnVpbGRDYWxlbmRhckNvbnRlbnQoZWxlbWVudCwgc2NvcGUpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1dKTtcblx0XG5cdCAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSkuZGlyZWN0aXZlKCdtZGNEdHBOb2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWwpIHtcblx0ICAgICAgICBlbC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH0pO1xuXHQgIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDbG9jaycsIFtmdW5jdGlvbiAoKSB7XG5cdFxuXHQgICAgdmFyIHRlbXBsYXRlID0gJzxkaXYgY2xhc3M9XCJkdHAtcGlja2VyLWNsb2NrXCI+PHNwYW4gbmctaWY9XCIhcG9pbnRzIHx8IHBvaW50cy5sZW5ndGggPCAxXCI+Jm5ic3A7PC9zcGFuPicgKyAnPGRpdiBuZy1yZXBlYXQ9XCJwb2ludCBpbiBwb2ludHNcIiBjbGFzcz1cImR0cC1waWNrZXItdGltZVwiIHN0eWxlPVwibWFyZ2luLWxlZnQ6IHt7cG9pbnQubGVmdH19cHg7IG1hcmdpbi10b3A6IHt7cG9pbnQudG9wfX1weDtcIj4nICsgJyAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwb2ludC52YWx1ZT09PWN1cnJlbnRWYWx1ZX1cIiBjbGFzcz1cImR0cC1zZWxlY3QtaG91clwiIG5nLWNsaWNrPVwic2V0VGltZShwb2ludC52YWx1ZSlcIiBuZy1pZj1cInBvaW50QXZhaWxhYmxlKHBvaW50KVwiPnt7cG9pbnQuZGlzcGxheX19PC9hPicgKyAnICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgY2xhc3M9XCJkaXNhYmxlZCBkdHAtc2VsZWN0LWhvdXJcIiBuZy1pZj1cIiFwb2ludEF2YWlsYWJsZShwb2ludClcIj57e3BvaW50LmRpc3BsYXl9fTwvYT4nICsgJzwvZGl2PicgKyAnPGRpdiBjbGFzcz1cImR0cC1oYW5kIGR0cC1ob3VyLWhhbmRcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJkdHAtaGFuZCBkdHAtbWludXRlLWhhbmRcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJkdHAtY2xvY2stY2VudGVyXCI+PC9kaXY+JyArICc8L2Rpdj4nO1xuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHJlc3RyaWN0OiAnRScsXG5cdCAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcblx0ICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblx0ICAgICAgICB2YXIgbWludXRlTW9kZSA9IGF0dHJzLm1vZGUgPT09ICdtaW51dGVzJztcblx0ICAgICAgICB2YXIgcGlja2VyID0gc2NvcGUucGlja2VyO1xuXHQgICAgICAgIC8vYmFua2luZyBvbiB0aGUgZmFjdCB0aGF0IHRoZXJlIHdpbGwgb25seSBiZSBvbmUgYXQgYSB0aW1lXG5cdCAgICAgICAgdmFyIGNvbXBvbmVudFJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZC1kaWFsb2cuZHRwJyk7XG5cdCAgICAgICAgdmFyIGV4ZWMgPSBmdW5jdGlvbiBleGVjKCkge1xuXHQgICAgICAgICAgdmFyIGNsb2NrID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1waWNrZXItY2xvY2snKSksXG5cdCAgICAgICAgICAgICAgcGlja2VyRWwgPSBhbmd1bGFyLmVsZW1lbnQoY29tcG9uZW50Um9vdC5xdWVyeVNlbGVjdG9yKCcuZHRwLXBpY2tlcicpKTtcblx0XG5cdCAgICAgICAgICB2YXIgdyA9IGNvbXBvbmVudFJvb3QucXVlcnlTZWxlY3RvcignLmR0cC1jb250ZW50Jykub2Zmc2V0V2lkdGg7XG5cdCAgICAgICAgICB2YXIgcGwgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXHQgICAgICAgICAgdmFyIHByID0gcGFyc2VJbnQoY3NzKHBpY2tlckVsLCAncGFkZGluZ1JpZ2h0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgbWwgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5MZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgbXIgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5SaWdodCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXHQgICAgICAgICAgLy9zZXQgd2lkdGhcblx0ICAgICAgICAgIHZhciBjbG9ja1dpZHRoID0gdyAtIChtbCArIG1yICsgcGwgKyBwcik7XG5cdCAgICAgICAgICBjbG9jay5jc3MoJ3dpZHRoJywgY2xvY2tXaWR0aCArICdweCcpO1xuXHRcblx0ICAgICAgICAgIHZhciBwTCA9IHBhcnNlSW50KGNzcyhwaWNrZXJFbCwgJ3BhZGRpbmdMZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgcFQgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nVG9wJykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgbUwgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5MZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgbVQgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5Ub3AnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0XG5cdCAgICAgICAgICB2YXIgciA9IGNsb2NrV2lkdGggLyAyO1xuXHQgICAgICAgICAgdmFyIGogPSByIC8gMS4yOyAvLz8/P1xuXHRcblx0ICAgICAgICAgIHZhciBwb2ludHMgPSBbXTtcblx0XG5cdCAgICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8IDEyOyArK2gpIHtcblx0ICAgICAgICAgICAgdmFyIHggPSBqICogTWF0aC5zaW4oTWF0aC5QSSAqIDIgKiAoaCAvIDEyKSk7XG5cdCAgICAgICAgICAgIHZhciB5ID0gaiAqIE1hdGguY29zKE1hdGguUEkgKiAyICogKGggLyAxMikpO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGhvdXIgPSB7XG5cdCAgICAgICAgICAgICAgbGVmdDogciArIHggKyBwTCAvIDIgLSAocEwgKyBtTCksXG5cdCAgICAgICAgICAgICAgdG9wOiByIC0geSAtIG1UIC8gMiAtIChwVCArIG1UKSxcblx0ICAgICAgICAgICAgICB2YWx1ZTogbWludXRlTW9kZSA/IGggKiA1IDogaCAvLzUgZm9yIG1pbnV0ZSA2MC8xMlxuXHQgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgaWYgKG1pbnV0ZU1vZGUpIHtcblx0ICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBob3VyLnZhbHVlIDwgMTAgPyAnMCcgKyBob3VyLnZhbHVlIDogaG91ci52YWx1ZTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0XG5cdCAgICAgICAgICAgICAgaWYgKHBpY2tlci5wYXJhbXMuc2hvcnRUaW1lKSB7XG5cdCAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBoID09PSAwID8gMTIgOiBoO1xuXHQgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBwaWNrZXIuaXNQTSgpID8gaCArIDEyIDogaDtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHBvaW50cy5wdXNoKGhvdXIpO1xuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIHNjb3BlLnBvaW50cyA9IHBvaW50cztcblx0ICAgICAgICAgIHNldEN1cnJlbnRWYWx1ZSgpO1xuXHQgICAgICAgICAgY2xvY2suY3NzKCdoZWlnaHQnLCBjbG9ja1dpZHRoICsgJ3B4Jyk7XG5cdCAgICAgICAgICAvL3BpY2tlci5pbml0SGFuZHModHJ1ZSk7XG5cdFxuXHQgICAgICAgICAgdmFyIGNsb2NrQ2VudGVyID0gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLWNsb2NrLWNlbnRlcicpO1xuXHQgICAgICAgICAgdmFyIGNlbnRlcldpZHRoID0gY2xvY2tDZW50ZXIub2Zmc2V0V2lkdGggLyAyIHx8IDcuNSxcblx0ICAgICAgICAgICAgICBjZW50ZXJIZWlnaHQgPSBjbG9ja0NlbnRlci5vZmZzZXRIZWlnaHQgLyAyIHx8IDcuNTtcblx0ICAgICAgICAgIHZhciBfaEwgPSByIC8gMS44O1xuXHQgICAgICAgICAgdmFyIF9tTCA9IHIgLyAxLjU7XG5cdFxuXHQgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1ob3VyLWhhbmQnKSkuY3NzKHtcblx0ICAgICAgICAgICAgbGVmdDogciArIG1MICogMS41ICsgJ3B4Jyxcblx0ICAgICAgICAgICAgaGVpZ2h0OiBfaEwgKyAncHgnLFxuXHQgICAgICAgICAgICBtYXJnaW5Ub3A6IHIgLSBfaEwgLSBwTCArICdweCdcblx0ICAgICAgICAgIH0pLmFkZENsYXNzKCFtaW51dGVNb2RlID8gJ29uJyA6ICcnKTtcblx0XG5cdCAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLmNzcyh7XG5cdCAgICAgICAgICAgIGxlZnQ6IHIgKyBtTCAqIDEuNSArICdweCcsXG5cdCAgICAgICAgICAgIGhlaWdodDogX21MICsgJ3B4Jyxcblx0ICAgICAgICAgICAgbWFyZ2luVG9wOiByIC0gX21MIC0gcEwgKyAncHgnXG5cdCAgICAgICAgICB9KS5hZGRDbGFzcyhtaW51dGVNb2RlID8gJ29uJyA6ICcnKTtcblx0XG5cdCAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoY2xvY2tDZW50ZXIpLmNzcyh7XG5cdCAgICAgICAgICAgIGxlZnQ6IHIgKyBwTCArIG1MIC0gY2VudGVyV2lkdGggKyAncHgnLFxuXHQgICAgICAgICAgICBtYXJnaW5Ub3A6IHIgLSBtTCAvIDIgLSBjZW50ZXJIZWlnaHQgKyAncHgnXG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIGFuaW1hdGVIYW5kcygpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciBhbmltYXRlSGFuZHMgPSBmdW5jdGlvbiBhbmltYXRlSGFuZHMoKSB7XG5cdCAgICAgICAgICB2YXIgX2RhdGUgPSBwaWNrZXIuY3VycmVudE5lYXJlc3Q1TWludXRlKCk7XG5cdCAgICAgICAgICB2YXIgaCA9IF9kYXRlLmhvdXIoKTtcblx0ICAgICAgICAgIHZhciBtID0gX2RhdGUubWludXRlKCk7XG5cdFxuXHQgICAgICAgICAgcm90YXRlRWxlbWVudChhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLWhvdXItaGFuZCcpKSwgMzYwIC8gMTIgKiBoKTtcblx0ICAgICAgICAgIHZhciBtZGcgPSAzNjAgLyA2MCAqICg1ICogTWF0aC5yb3VuZChtIC8gNSkpO1xuXHQgICAgICAgICAgcm90YXRlRWxlbWVudChhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLCBtZGcpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciByb3RhdGVFbGVtZW50ID0gZnVuY3Rpb24gcm90YXRlRWxlbWVudChlbCwgZGVnKSB7XG5cdCAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWwpLmNzcyh7XG5cdCAgICAgICAgICAgIFdlYmtpdFRyYW5zZm9ybTogJ3JvdGF0ZSgnICsgZGVnICsgJ2RlZyknLFxuXHQgICAgICAgICAgICAnLW1vei10cmFuc2Zvcm0nOiAncm90YXRlKCcgKyBkZWcgKyAnZGVnKSdcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciBzZXRDdXJyZW50VmFsdWUgPSBmdW5jdGlvbiBzZXRDdXJyZW50VmFsdWUoKSB7XG5cdCAgICAgICAgICB2YXIgZGF0ZSA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcblx0ICAgICAgICAgIHNjb3BlLmN1cnJlbnRWYWx1ZSA9IG1pbnV0ZU1vZGUgPyBkYXRlLm1pbnV0ZSgpIDogZGF0ZS5ob3VyKCkgJSAxMjtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgdmFyIHRtcCA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcblx0ICAgICAgICAgIHJldHVybiB0bXAgPyB0bXAuZm9ybWF0KCdISDptbScpIDogJyc7XG5cdCAgICAgICAgfSwgZnVuY3Rpb24gKG5ld1ZhbCkge1xuXHQgICAgICAgICAgc2V0Q3VycmVudFZhbHVlKCk7XG5cdCAgICAgICAgICBhbmltYXRlSGFuZHMoKTtcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgdmFyIHNldERpc3BsYXlQb2ludHMgPSBmdW5jdGlvbiBzZXREaXNwbGF5UG9pbnRzKGlzUE0sIHBvaW50cykge1xuXHQgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgcG9pbnRzW2ldLmRpc3BsYXkgPSBpO1xuXHQgICAgICAgICAgICBpZiAoaXNQTSkge1xuXHQgICAgICAgICAgICAgIHBvaW50c1tpXS5kaXNwbGF5ICs9IDEyO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gcG9pbnRzO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGlmICghcGlja2VyLnBhcmFtcy5zaG9ydFRpbWUpIHtcblx0ICAgICAgICAgIHNjb3BlLiR3YXRjaCgncGlja2VyLm1lcmlkaWVuJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBpZiAoIW1pbnV0ZU1vZGUpIHtcblx0ICAgICAgICAgICAgICBpZiAoc2NvcGUucG9pbnRzKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gc2V0RGlzcGxheVBvaW50cyhwaWNrZXIuaXNQTSgpLCBhbmd1bGFyLmNvcHkoc2NvcGUucG9pbnRzKSk7XG5cdCAgICAgICAgICAgICAgICBzY29wZS5wb2ludHMgPSBwb2ludHM7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHNjb3BlLnNldFRpbWUgPSBmdW5jdGlvbiAodmFsKSB7XG5cdCAgICAgICAgICBpZiAodmFsID09PSBzY29wZS5jdXJyZW50VmFsdWUpIHtcblx0ICAgICAgICAgICAgcGlja2VyLm9rKCk7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgaWYgKCFtaW51dGVNb2RlKSB7XG5cdCAgICAgICAgICAgIHBpY2tlci5jdXJyZW50RGF0ZS5ob3VyKHBpY2tlci5pc1BNKCkgPyB2YWwgKyAxMiA6IHZhbCk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBwaWNrZXIuY3VycmVudERhdGUubWludXRlKHZhbCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBwaWNrZXIuY3VycmVudERhdGUuc2Vjb25kKDApO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHNjb3BlLnBvaW50QXZhaWxhYmxlID0gZnVuY3Rpb24gKHBvaW50KSB7XG5cdCAgICAgICAgICByZXR1cm4gbWludXRlTW9kZSA/IHBpY2tlci5pc01pbnV0ZUF2YWlsYWJsZShwb2ludC52YWx1ZSkgOiBwaWNrZXIuaXNIb3VyQXZhaWxhYmxlKHBvaW50LnZhbHVlKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB2YXIgdW53YXRjaGVyID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHJldHVybiBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpLmxlbmd0aDtcblx0ICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBleGVjKCk7XG5cdCAgICAgICAgICB1bndhdGNoZXIoKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XSk7XG5cdH0pKF9tb21lbnQyLmRlZmF1bHQpO1xuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyg1MDYpKSlcblxuLyoqKi8gfSxcblxuLyoqKi8gNTkxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTkyKTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDgxKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDU5Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDgwKSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIm1kLWRpYWxvZy5kdHB7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MS40Mjg1NzE0Mztjb2xvcjojMzMzO2JhY2tncm91bmQtY29sb3I6I2ZmZjttYXgtaGVpZ2h0Om5vbmV9LmR0cCA6Zm9jdXN7b3V0bGluZTpub25lIWltcG9ydGFudH0uZHRwIHRhYmxle2JvcmRlci1zcGFjaW5nOjA7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO3dpZHRoOjEwMCV9LmR0cCAudGFibGU+dGJvZHk+dHI+dGQsLmR0cCAudGFibGU+dGJvZHk+dHI+dGgsLmR0cCAudGFibGU+dGZvb3Q+dHI+dGQsLmR0cCAudGFibGU+dGZvb3Q+dHI+dGgsLmR0cCAudGFibGU+dGhlYWQ+dHI+dGQsLmR0cCAudGFibGU+dGhlYWQ+dHI+dGh7cGFkZGluZzo4cHg7bGluZS1oZWlnaHQ6MS40Mjg1NzE0Mzt2ZXJ0aWNhbC1hbGlnbjp0b3A7Ym9yZGVyLXRvcDoxcHggc29saWQgI2RkZH0uZHRwLC5kdHAgKntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50fS5kdHA+LmR0cC1jb250ZW50e21heC13aWR0aDozMDBweDttYXgtaGVpZ2h0OjUwMHB4fS5kdHA+LmR0cC1jb250ZW50Pi5kdHAtZGF0ZS12aWV3PmhlYWRlci5kdHAtaGVhZGVye2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmO3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6M3B4fS5kdHAgZGl2LmR0cC1kYXRlLC5kdHAgZGl2LmR0cC10aW1le2JhY2tncm91bmQ6IzhiYzM0YTt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojZmZmO3BhZGRpbmc6MTBweH0uZHRwIGRpdi5kdHAtZGF0ZT5kaXZ7cGFkZGluZzowO21hcmdpbjowfS5kdHAgZGl2LmR0cC1hY3R1YWwtbW9udGh7Zm9udC1zaXplOjEuNWVtfS5kdHAgZGl2LmR0cC1hY3R1YWwtbWF4dGltZSwuZHRwIGRpdi5kdHAtYWN0dWFsLW51bXtmb250LXNpemU6M2VtO2xpbmUtaGVpZ2h0Oi45fS5kdHAgZGl2LmR0cC1hY3R1YWwteWVhcntmb250LXNpemU6MS42ZW07Y29sb3I6I2RjZWRjOH0uZHRwIGRpdi5kdHAteWVhci1idG57Zm9udC1zaXplOjEuNGVtO2xpbmUtaGVpZ2h0OjMwcHg7Y3Vyc29yOnBvaW50ZXI7Y29sb3I6I2RjZWRjOH0uZHRwIGRpdi5kdHAteWVhci1idG4tcHJldnt0ZXh0LWFsaWduOnJpZ2h0fS5kdHAgZGl2LmR0cC15ZWFyLWJ0bi1uZXh0e3RleHQtYWxpZ246bGVmdH0uZHRwIGRpdi5kdHAtcGlja2Vye3BhZGRpbmc6MTBweDt0ZXh0LWFsaWduOmNlbnRlcn0uZHRwIGRpdi5kdHAtYWN0dWFsLXRpbWUsLmR0cCBkaXYuZHRwLXBpY2tlci1tb250aHtmb250LXdlaWdodDo1MDA7dGV4dC1hbGlnbjpjZW50ZXJ9LmR0cCAuZHRwLWNsb3Nle3Bvc2l0aW9uOmFic29sdXRlO3RvcDouMjVlbTtyaWdodDo1cHg7Zm9udC1zaXplOjE2cHh9LmR0cCAuZHRwLWNsb3NlPmF7Y29sb3I6I2ZmZjt0ZXh0LWRlY29yYXRpb246bm9uZX0uZHRwIC5kdHAtY2xvc2U+YT5pe2ZvbnQtc2l6ZToxZW19LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXN7bWFyZ2luOjA7bWluLWhlaWdodDoyMjBweH0uZHRwIG1kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lci5tb250aHN7aGVpZ2h0OjI2MHB4fS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRke2JvcmRlcjpub25lfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRke2ZvbnQtc2l6ZToxMXB4O3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6MH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5zcGFuLmR0cC1zZWxlY3QtZGF5e2NvbG9yOiNiZGJkYmQhaW1wb3J0YW50fS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPi5kdHAtc2VsZWN0LWRheXt3aWR0aDozNnB4O2hlaWdodDozNnB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5kdHAgLmR0cC1waWNrZXItdGltZT5hLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPi5kdHAtc2VsZWN0LWRheXtjb2xvcjojMjEyMTIxO3RleHQtZGVjb3JhdGlvbjpub25lO3BhZGRpbmc6MTBweDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnR9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+YS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM4YmMzNGE7Y29sb3I6I2ZmZn0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5hOmhvdmVyOm5vdCguc2VsZWN0ZWQpe2JhY2tncm91bmQ6I2RkZH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50aHtjb2xvcjojNzU3NTc1O3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtd2VpZ2h0OjcwMDtwYWRkaW5nOjRweCAzcHh9LmR0cCAucDEwPmF7Y29sb3I6IzY4OWYzODt0ZXh0LWRlY29yYXRpb246bm9uZX0uZHRwIC5wMTB7d2lkdGg6MTAlfS5kdHAgLnAxMCwuZHRwIC5wMjB7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAucDIwe3dpZHRoOjIwJX0uZHRwIC5wNjB7d2lkdGg6NjAlfS5kdHAgLnA2MCwuZHRwIC5wODB7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAucDgwe3dpZHRoOjgwJX0uZHRwIGEuZHRwLW1lcmlkaWVuLWFtLC5kdHAgYS5kdHAtbWVyaWRpZW4tcG17cG9zaXRpb246cmVsYXRpdmU7dG9wOjEwcHg7Y29sb3I6IzIxMjEyMTtmb250LXdlaWdodDo1MDA7cGFkZGluZzo3cHggNXB4O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudDt0ZXh0LWRlY29yYXRpb246bm9uZTtiYWNrZ3JvdW5kOiNlZWU7Zm9udC1zaXplOjEwcHh9LmR0cCAuZHRwLWFjdHVhbC1tZXJpZGllbiBhLnNlbGVjdGVke2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmfS5kdHAgLmR0cC1waWNrZXItdGltZT5he2Rpc3BsYXk6YmxvY2s7bGluZS1oZWlnaHQ6MjNweDtwYWRkaW5nOjNweH0uZHRwIC5kdHAtcGlja2VyLXRpbWV7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDtmb250LXNpemU6MS4xZW07Ym9yZGVyLXJhZGl1czo1MCU7Y3Vyc29yOnBvaW50ZXI7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50fS5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtaG91ci5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM2ODlmMzg7Y29sb3I6I2ZmZn0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LWhvdXIuZGlzYWJsZWQsLmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1taW51dGUuZGlzYWJsZWR7Y29sb3I6Izc1NzU3NX0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LW1pbnV0ZS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM4YmMzNGE7Y29sb3I6I2ZmZn0uZHRwIGRpdi5kdHAtcGlja2VyLWNsb2Nre21hcmdpbjoxMHB4IDIwcHggMDtwYWRkaW5nOjEwcHg7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O2JhY2tncm91bmQ6I2VlZX0uZHRwLWNsb2NrLWNlbnRlcnt3aWR0aDoxNXB4O2hlaWdodDoxNXB4O2JhY2tncm91bmQ6Izc1NzU3NTtib3JkZXItcmFkaXVzOjUwJTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjUwfS5kdHAgLmR0cC1oYW5kLC5kdHAgLmR0cC1ob3VyLWhhbmR7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NHB4O21hcmdpbi1sZWZ0Oi0ycHg7YmFja2dyb3VuZDojYmRiZGJkOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDBkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpib3R0b207dHJhbnNmb3JtLW9yaWdpbjpib3R0b207ei1pbmRleDoxfS5kdHAgLmR0cC1taW51dGUtaGFuZHt3aWR0aDoycHg7bWFyZ2luLWxlZnQ6LTFweH0uZHRwIC5kdHAtaGFuZC5vbntiYWNrZ3JvdW5kOiM4YmMzNGF9LmR0cCAuZHRwLWJ1dHRvbnN7cGFkZGluZzowIDEwcHggMTBweDt0ZXh0LWFsaWduOnJpZ2h0fS5kdHAuaGlkZGVuLC5kdHAgLmhpZGRlbntkaXNwbGF5Om5vbmV9LmR0cCAuaW52aXNpYmxle3Zpc2liaWxpdHk6aGlkZGVufS5kdHAgLmxlZnR7ZmxvYXQ6bGVmdH0uZHRwIC5yaWdodHtmbG9hdDpyaWdodH0uZHRwIC5jbGVhcmZpeHtjbGVhcjpib3RofS5kdHAgLmNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlcn1cIiwgXCJcIl0pO1xuXHRcblx0Ly8gZXhwb3J0c1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDU5Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qXG5cdCAqIGFuZ3VsYXItZ29vZ2xlLXBsdXMtZGlyZWN0aXZlIHYwLjAuMVxuXHQgKiDimaEgQ29weUhlYXJ0IDIwMTMgYnkgSmVyYWQgQml0bmVyIGh0dHA6Ly9qZXJhZGJpdG5lci5jb21cblx0ICogQ29weWluZyBpcyBhbiBhY3Qgb2YgbG92ZS4gUGxlYXNlIGNvcHkuXG5cdCAqL1xuXHRcblx0dmFyIF9nZXRPd25Qcm9wZXJ0eU5hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OTQpO1xuXHRcblx0dmFyIF9nZXRPd25Qcm9wZXJ0eU5hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldE93blByb3BlcnR5TmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGFuZ3VsYXIubW9kdWxlKCdkaXJlY3RpdmUuZytzaWduaW4nLCBbXSkuZGlyZWN0aXZlKCdnb29nbGVQbHVzU2lnbmluJywgWyckd2luZG93JywgZnVuY3Rpb24gKCR3aW5kb3cpIHtcblx0ICB2YXIgZW5kaW5nID0gL1xcLmFwcHNcXC5nb29nbGV1c2VyY29udGVudFxcLmNvbSQvO1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgcmVzdHJpY3Q6ICdFJyxcblx0ICAgIHRyYW5zY2x1ZGU6IHRydWUsXG5cdCAgICB0ZW1wbGF0ZTogJzxzcGFuPjwvc3Bhbj4nLFxuXHQgICAgcmVwbGFjZTogdHJ1ZSxcblx0ICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCBsaW5rZXIpIHtcblx0ICAgICAgYXR0cnMuY2xpZW50aWQgKz0gZW5kaW5nLnRlc3QoYXR0cnMuY2xpZW50aWQpID8gJycgOiAnLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJztcblx0XG5cdCAgICAgIGF0dHJzLiRzZXQoJ2RhdGEtY2xpZW50aWQnLCBhdHRycy5jbGllbnRpZCk7XG5cdCAgICAgIGF0dHJzLiRzZXQoJ3RoZW1lJywgYXR0cnMudGhlbWUpO1xuXHRcblx0ICAgICAgLy8gU29tZSBkZWZhdWx0IHZhbHVlcywgYmFzZWQgb24gcHJpb3IgdmVyc2lvbnMgb2YgdGhpcyBkaXJlY3RpdmVcblx0ICAgICAgdmFyIGRlZmF1bHRzID0ge1xuXHQgICAgICAgIGNhbGxiYWNrOiAnc2lnbmluQ2FsbGJhY2snLFxuXHQgICAgICAgIGNvb2tpZXBvbGljeTogJ3NpbmdsZV9ob3N0X29yaWdpbicsXG5cdCAgICAgICAgcmVxdWVzdHZpc2libGVhY3Rpb25zOiAnaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9BZGRBY3Rpdml0eScsXG5cdCAgICAgICAgc2NvcGU6ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3BsdXMubG9naW4gaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC91c2VyaW5mby5lbWFpbCcsXG5cdCAgICAgICAgaGVpZ2h0OiAnc3RhbmRhcmQnLFxuXHQgICAgICAgIHdpZHRoOiAnd2lkZScsXG5cdCAgICAgICAgc3RhdGU6ICcnXG5cdCAgICAgIH07XG5cdFxuXHQgICAgICBkZWZhdWx0cy5jbGllbnRpZCA9IGF0dHJzLmNsaWVudGlkO1xuXHQgICAgICBkZWZhdWx0cy50aGVtZSA9IGF0dHJzLnRoZW1lO1xuXHRcblx0ICAgICAgLy8gT3ZlcndyaXRlIGRlZmF1bHQgdmFsdWVzIGlmIGV4cGxpY2l0bHkgc2V0XG5cdCAgICAgIGFuZ3VsYXIuZm9yRWFjaCgoMCwgX2dldE93blByb3BlcnR5TmFtZXMyLmRlZmF1bHQpKGRlZmF1bHRzKSwgZnVuY3Rpb24gKHByb3BOYW1lKSB7XG5cdCAgICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuXHQgICAgICAgICAgZGVmYXVsdHNbcHJvcE5hbWVdID0gYXR0cnNbcHJvcE5hbWVdO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICAvLyBEZWZhdWx0IGxhbmd1YWdlXG5cdCAgICAgIC8vIFN1cHBvcnRlZCBsYW5ndWFnZXM6IGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tLysvd2ViL2FwaS9zdXBwb3J0ZWQtbGFuZ3VhZ2VzXG5cdCAgICAgIGF0dHJzLiRvYnNlcnZlKCdsYW5ndWFnZScsIGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICR3aW5kb3cuX19fZ2NmZyA9IHtcblx0ICAgICAgICAgIGxhbmc6IHZhbHVlID8gdmFsdWUgOiAnZW4nXG5cdCAgICAgICAgfTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICAvLyBBc3luY2hyb25vdXNseSBsb2FkIHRoZSBHKyBTREsuXG5cdCAgICAgIHZhciBwbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO3BvLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0Jztwby5hc3luYyA9IHRydWU7XG5cdCAgICAgIHBvLnNyYyA9ICdodHRwczovL2FwaXMuZ29vZ2xlLmNvbS9qcy9jbGllbnQ6cGx1c29uZS5qcyc7XG5cdCAgICAgIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO3MucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocG8sIHMpO1xuXHRcblx0ICAgICAgbGlua2VyKGZ1bmN0aW9uIChlbCwgdFNjb3BlKSB7XG5cdCAgICAgICAgcG8ub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgaWYgKGVsLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBlbGVtZW50LmFwcGVuZChlbCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBnYXBpLnNpZ25pbi5yZW5kZXIoZWxlbWVudFswXSwgZGVmYXVsdHMpO1xuXHQgICAgICAgIH07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH07XG5cdH1dKS5ydW4oWyckd2luZG93JywgJyRyb290U2NvcGUnLCBmdW5jdGlvbiAoJHdpbmRvdywgJHJvb3RTY29wZSkge1xuXHQgICR3aW5kb3cuc2lnbmluQ2FsbGJhY2sgPSBmdW5jdGlvbiAoYXV0aFJlc3VsdCkge1xuXHQgICAgaWYgKGF1dGhSZXN1bHQgJiYgYXV0aFJlc3VsdC5hY2Nlc3NfdG9rZW4pIHtcblx0ICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tc3VjY2VzcycsIGF1dGhSZXN1bHQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tZmFpbHVyZScsIGF1dGhSZXN1bHQpO1xuXHQgICAgfVxuXHQgIH07XG5cdH1dKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNTk4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fO1widXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIF90eXBlb2YyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MjIpO1xuXHRcblx0dmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0IWZ1bmN0aW9uIChlLCB0KSB7XG5cdCAgXCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHQgICB0cnVlID8gIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW19fd2VicGFja19yZXF1aXJlX18oMzY5KSwgX193ZWJwYWNrX3JlcXVpcmVfXyg1OTkpXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbiAoZSwgbikge1xuXHQgICAgcmV0dXJuIHQoZSwgbik7XG5cdCAgfS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpIDogXCJvYmplY3RcIiA9PSAodHlwZW9mIG1vZHVsZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkobW9kdWxlKSkgJiYgbW9kdWxlLmV4cG9ydHMgPyBtb2R1bGUuZXhwb3J0cyA9IHQocmVxdWlyZShcImFuZ3VsYXJcIiksIHJlcXVpcmUoXCJzd2VldGFsZXJ0XCIpKSA6IHQoZS5hbmd1bGFyLCBlLnN3ZWV0QWxlcnQpO1xuXHR9KHVuZGVmaW5lZCwgZnVuY3Rpb24gKGUsIHQpIHtcblx0ICBcInVzZSBzdHJpY3RcIjtcblx0XG5cdCAgdmFyIG4gPSBmdW5jdGlvbiBuKCkge1xuXHQgICAgdGhpcy5zaG93ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgZSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblx0ICAgICAgdC5hcHBseSh2b2lkIDAsIGUpO1xuXHQgICAgfSwgZS5mb3JFYWNoKFtcInNob3dJbnB1dEVycm9yXCIsIFwiY2xvc2VcIl0sIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIHRoaXNbZV0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIG4gPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cdCAgICAgICAgdFtlXS5hcHBseSh2b2lkIDAsIG4pO1xuXHQgICAgICB9O1xuXHQgICAgfSwgdGhpcyksIHRoaXMuaXNTaG93biA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIHQ7XG5cdCAgICAgIHJldHVybiBlLmZvckVhY2goZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInN3ZWV0LWFsZXJ0XCIpLCBmdW5jdGlvbiAobikge1xuXHQgICAgICAgIHQgPSBlLmVsZW1lbnQobik7XG5cdCAgICAgIH0pLCB0ICYmIHQuaGFzQ2xhc3MoXCJ2aXNpYmxlXCIpO1xuXHQgICAgfTtcblx0ICB9LFxuXHQgICAgICByID0gXCJoU3dlZXRBbGVydFwiO1xuXHQgIHJldHVybiBlLm1vZHVsZShyLCBbXSkuc2VydmljZShcInN3ZWV0XCIsIFtuXSksIHI7XG5cdH0pO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2MzU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MzYpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODEpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi92ZW5kb3Iuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vdmVuZG9yLnNjc3NcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDYzNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDgwKSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNjM3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNjM4KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDgxKShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNjM4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODApKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmRpc3RyaWJ1dG9yLXNlbGVjdGlvbntmb250LXNpemU6MTZwdDtwYWRkaW5nOjNweDttYXJnaW46M3B4fWJvZHl7bWFyZ2luLXRvcDoxMDBweDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXtib2R5e21hcmdpbi10b3A6NTBweH19I3dyYXBwZXJ7cGFkZGluZy1sZWZ0OjB9I3BhZ2Utd3JhcHBlcnt3aWR0aDoxMDAlO3BhZGRpbmc6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9Lmh1Z2V7Zm9udC1zaXplOjUwcHg7bGluZS1oZWlnaHQ6bm9ybWFsfUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsjd3JhcHBlcntwYWRkaW5nLWxlZnQ6MjI1cHh9I3BhZ2Utd3JhcHBlcntwYWRkaW5nOjEwcHh9fS5tYXJnaW4tdG9wLTA1e21hcmdpbi10b3A6LjVlbX0ubWFyZ2luLXRvcC0xNXttYXJnaW4tdG9wOjEuNWVtfS5tYXJnaW4tdG9wLTIwe21hcmdpbi10b3A6MmVtfS5tYXJnaW4tdG9wLTI1e21hcmdpbi10b3A6Mi41ZW19Lm1hcmdpbi10b3AtNTB7bWFyZ2luLXRvcDo1ZW19Lmlzc3VlLXdhcm5pbmctYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOm9yYW5nZX0uaXNzdWUtd2FybmluZy10ZXh0e2NvbG9yOm9yYW5nZX0uaXNzdWUtZGFuZ2VyLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpyZWR9Lmlzc3VlLWRhbmdlci10ZXh0e2NvbG9yOnJlZH0uaXNzdWUtbm9ybWFsLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpncmVlbn0uaXNzdWUtbm9ybWFsLXRleHR7Y29sb3I6Z3JlZW59LnVwLXRydWUtYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVufS51cC1mYWxzZS1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6cmVkfS5uYXZiYXItZGVmYXVsdHtiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmI7Ym9yZGVyLWNvbG9yOiMxNTU5OGV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItYnJhbmR7Y29sb3I6I2ZmZn0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZDpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZDpob3Zlcntjb2xvcjojNTVhN2U3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj5saT5hOmhvdmVye2NvbG9yOiNmZmZ9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5hY3RpdmU+YSwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmFjdGl2ZT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uYWN0aXZlPmE6aG92ZXJ7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNhZmQ1ZjN9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmEsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6aG92ZXJ7Y29sb3I6IzU1NTtiYWNrZ3JvdW5kLWNvbG9yOiNkNWQ1ZDV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hIC5jYXJldHtib3JkZXItdG9wLWNvbG9yOiM3Nzc7Ym9yZGVyLWJvdHRvbS1jb2xvcjojNzc3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uZHJvcGRvd24+YTpmb2N1cyAuY2FyZXQsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hOmhvdmVyIC5jYXJldHtib3JkZXItdG9wLWNvbG9yOiMzMzM7Ym9yZGVyLWJvdHRvbS1jb2xvcjojMzMzfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hIC5jYXJldCwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpmb2N1cyAuY2FyZXQsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6aG92ZXIgLmNhcmV0e2JvcmRlci10b3AtY29sb3I6IzU1NTtib3JkZXItYm90dG9tLWNvbG9yOiM1NTV9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xle2JvcmRlci1jb2xvcjojZGRkfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGU6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZGRkfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZSAuaWNvbi1iYXJ7YmFja2dyb3VuZC1jb2xvcjojY2NjfUBtZWRpYSAobWF4LXdpZHRoOjc2N3B4KXsubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXYgLm9wZW4gLmRyb3Bkb3duLW1lbnU+bGk+YXtjb2xvcjojNzc3fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5hOmhvdmVye2NvbG9yOiMzMzN9fS50b3AtbmF2e3BhZGRpbmc6MCAxNXB4fS50b3AtbmF2Pmxpe2Rpc3BsYXk6aW5saW5lLWJsb2NrO2Zsb2F0OmxlZnR9LnRvcC1uYXY+bGk+YXtwYWRkaW5nLXRvcDoxNXB4O3BhZGRpbmctYm90dG9tOjE1cHg7bGluZS1oZWlnaHQ6MjBweDtjb2xvcjojZWZlZmVmfS50b3AtbmF2Pi5vcGVuPmEsLnRvcC1uYXY+Lm9wZW4+YTpmb2N1cywudG9wLW5hdj4ub3Blbj5hOmhvdmVyLC50b3AtbmF2PmxpPmE6Zm9jdXMsLnRvcC1uYXY+bGk+YTpob3Zlcntjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzFiNzViYn0udG9wLW5hdj4ub3Blbj4uZHJvcGRvd24tbWVudXtmbG9hdDpsZWZ0O3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi10b3A6MDtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjE1KTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym94LXNoYWRvdzowIDZweCAxMnB4IHJnYmEoMCwwLDAsLjE3NSl9LnRvcC1uYXY+Lm9wZW4+LmRyb3Bkb3duLW1lbnU+bGk+YXt3aGl0ZS1zcGFjZTpub3JtYWx9dWwubWVzc2FnZS1kcm9wZG93bntwYWRkaW5nOjA7bWF4LWhlaWdodDoyNTBweDtvdmVyZmxvdy14OmhpZGRlbjtvdmVyZmxvdy15OmF1dG99bGkubWVzc2FnZS1wcmV2aWV3e3dpZHRoOjI3NXB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjE1KX1saS5tZXNzYWdlLXByZXZpZXc+YXtwYWRkaW5nLXRvcDoxNXB4O3BhZGRpbmctYm90dG9tOjE1cHh9bGkubWVzc2FnZS1mb290ZXJ7bWFyZ2luOjVweCAwfXVsLmFsZXJ0LWRyb3Bkb3due3dpZHRoOjIwMHB4fUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsuc2lkZS1uYXZ7cG9zaXRpb246Zml4ZWQ7dG9wOjUxcHg7bGVmdDoyMjVweDttYXJnaW4tbGVmdDotMjI1cHg7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czowO292ZXJmbG93LXk6YXV0bztiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmI7Ym90dG9tOjA7b3ZlcmZsb3cteDpoaWRkZW47cGFkZGluZy1ib3R0b206NDBweH0uc2lkZS1uYXYsLnNpZGUtbmF2PmxpPmF7d2lkdGg6MjI1cHh9LnNpZGUtbmF2IGxpIGE6Zm9jdXMsLnNpZGUtbmF2IGxpIGE6aG92ZXJ7b3V0bGluZTpub25lO2JhY2tncm91bmQtY29sb3I6IzNmOWNlMyFpbXBvcnRhbnR9fS5zaWRlLW5hdj5saT51bHtwYWRkaW5nOjB9LnNpZGUtbmF2PmxpPnVsPmxpPmF7ZGlzcGxheTpibG9jaztwYWRkaW5nOjEwcHggMTVweCAxMHB4IDM4cHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y29sb3I6I2Q0ZDRkNH0uc2lkZS1uYXY+bGk+dWw+bGk+YTpob3Zlcntjb2xvcjojZmZmfS5mbG90LWNoYXJ0e2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjQwMHB4fS5mbG90LWNoYXJ0LWNvbnRlbnR7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uaHVnZXtmb250LXNpemU6NDBweH0ucGFuZWwtZ3JlZW57Ym9yZGVyLWNvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPi5wYW5lbC1oZWFkaW5ne2JvcmRlci1jb2xvcjojNWNiODVjO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojNWNiODVjfS5wYW5lbC1ncmVlbj5he2NvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPmE6aG92ZXJ7Y29sb3I6IzNkOGIzZH0ucGFuZWwtcmVke2JvcmRlci1jb2xvcjojZDk1MzRmfS5wYW5lbC1yZWQ+LnBhbmVsLWhlYWRpbmd7Ym9yZGVyLWNvbG9yOiNkOTUzNGY7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD5he2NvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD5hOmhvdmVye2NvbG9yOiNiNTJiMjd9LnBhbmVsLXllbGxvd3tib3JkZXItY29sb3I6I2YwYWQ0ZX0ucGFuZWwteWVsbG93Pi5wYW5lbC1oZWFkaW5ne2JvcmRlci1jb2xvcjojZjBhZDRlO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+YXtjb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+YTpob3Zlcntjb2xvcjojZGY4YTEzfS50b29sYmFye21hcmdpbi1ib3R0b206MTBweH0uZW50aXR5LWtleXtmb250LWZhbWlseTpNb25hY28sQ29uc29sYXMsTHVjaWRhIENvbnNvbGUsZGVqYXZ1IHNhbnMgbW9ubyxtb25vc3BhY2U7Zm9udC1zaXplOjExcHh9LnByb29mLW9mLXBsYXktbGFiZWx7cGFkZGluZy1ib3R0b206MTBweDtwYWRkaW5nLXRvcDoxMHB4fS5jb3B5LXJlYWR5LXRyYW5zcGFyZW50e2NvbG9yOnRyYW5zcGFyZW50fS5uby1kZXZpY2Vze3RleHQtYWxpZ246Y2VudGVyfS5wcm9wZXJ0aWVzLXdvcmQtYnJlYWt7d2lkdGg6MzkwcHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7ZGlzcGxheTpibG9ja30uY29tbWFuZC1oaXN0b3J5LWNvbW1hbmR7d2lkdGg6Mzc1cHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7ZGlzcGxheTpibG9ja30uaG9zdG5hbWUtd29yZC1icmVha3t3aWR0aDoyMDBweDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmlubGluZS1ibG9ja31bZGF0YS1uZy1jbGlja10sW25nLWNsaWNrXSxbeC1uZy1jbGlja117Y3Vyc29yOnBvaW50ZXJ9I3Byb29mcGxheS1zZWxlY3RlZC1pdGVtc3ttaW4td2lkdGg6MCFpbXBvcnRhbnQ7bWFyZ2luOjAgYXV0bztwYWRkaW5nOjAgYXV0b30ucmFkaW8tYnV0dG9ue3BhZGRpbmc6M3B4fS5ob3Jpem9udGFsLXN1Ym1pdHttYXJnaW46LjVlbX0uaG9yaXpvbnRhbC1zdWJtaXQsLnJhZGlvLWhvcml6b250YWx7ZGlzcGxheTpmbGV4O2FsaWduLXNlbGY6Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXJ9bWQtdG9vbGJhci5tZC1kZWZhdWx0LXRoZW1lOm5vdCgubWQtbWVudS10b29sYmFyKSxtZC10b29sYmFyOm5vdCgubWQtbWVudS10b29sYmFyKXtiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmIhaW1wb3J0YW50O21heC1oZWlnaHQ6NjRweDttaW4taGVpZ2h0OjY0cHh9Lm1kLXRvb2xiYXItdG9vbHN7YmFja2dyb3VuZC1jb2xvcjojMDAwIWltcG9ydGFudDttYXgtaGVpZ2h0OjY0cHg7bWluLWhlaWdodDo2NHB4fS5za3lraXQtaW1hZ2V7bWF4LXdpZHRoOjEwMCU7aGVpZ2h0OjMzcHh9QG1lZGlhIChtYXgtd2lkdGg6NzY3cHgpe21kLXRvb2xiYXIubWQtZGVmYXVsdC10aGVtZTpub3QoLm1kLW1lbnUtdG9vbGJhciksbWQtdG9vbGJhcjpub3QoLm1kLW1lbnUtdG9vbGJhcil7bWFyZ2luLXRvcDotNTBweDttYXJnaW4tYm90dG9tOjUwcHh9fS5jZW50ZXItYmxvY2t7dGV4dC1hbGlnbjpjZW50ZXJ9LmVsbGlwc2lzLW92ZXJmbG93LC5wcm9vZi1vZi1wbGF5LXNlbGVjdGVkLWl0ZW17d2lkdGg6MTAwJTt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246bGVmdDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5wcm9vZi1vZi1wbGF5LXRlbmFudC1uYW1lLW9wdGlvbnt3aWR0aDo3ZW07d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmNlbnRlcjtwb3NpdGl0aW9uOmFic29sdXRlO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LnByb29mLW9mLXBsYXktaG9yaXpvbnRhbC10b3AtYmFye2FsaWduLXNlbGY6Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7bWFyZ2luLXRvcDouNWVtO21hcmdpbi1ib3R0b206LjVlbTthbGlnbi1pdGVtczpjZW50ZXJ9Lm15LWZsZXgsLnByb29mLW9mLXBsYXktaG9yaXpvbnRhbC10b3AtYmFye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5iaWdnZXItYnV0dG9uc3twYWRkaW5nOi40ZW07bWluLXdpZHRoOjg4cHg7Ym9yZGVyLXJhZGl1czo1cHg7Zm9udC1zaXplOjE2cHg7dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lfS5hZG1pbi1jb250YWluZXJ7ZGlzcGxheTpmbGV4O2FsaWduLWNvbnRlbnQ6ZmxleC1zdGFydH0ucmVnaXN0cmF0aW9uLWV2ZW50LWNvbHVtbntoZWlnaHQ6MTEwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246dG9wO292ZXJmbG93OnNjcm9sbH0ucHVsbC1jb21tYW5kLXNlbmQtYnV0dG9uLXVwe21hcmdpbi10b3A6LTJweH1oZWFkZXIuZHRwLWhlYWRlcntiYWNrZ3JvdW5kOiMxYjc1YmIhaW1wb3J0YW50fS5kdHAgZGl2LmR0cC1kYXRlLC5kdHAgZGl2LmR0cC10aW1le2JhY2tncm91bmQ6IzAwMH0uZHRwIC5kdHAtYWN0dWFsLW1lcmlkaWVuIGEuc2VsZWN0ZWQsLmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1ob3VyLnNlbGVjdGVkLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPmEuc2VsZWN0ZWR7YmFja2dyb3VuZDojMWI3NWJiIWltcG9ydGFudH0uZHRwIC5kdHAtaGFuZC5vbntiYWNrZ3JvdW5kOiMwMDB9LmRldmljZS1wcm9wZXJ0aWVzLXN3aXRjaHttYXJnaW4tdG9wOi0xcHh9Lm1kLWNvbnRlbnQtY29tbWFuZC1vdmVycmlkZSBtZC1jb250ZW50e292ZXJmbG93OnVuc2V0fS5wdWxsLXRvb2x0aXAtbGVmdHttYXJnaW4tbGVmdDotNTVweH0uY29tbWFuZC1idXR0b24tcmlnaHR7ZmxvYXQ6cmlnaHQ7ZmxleC1kaXJlY3Rpb246cm93LXJldmVyc2V9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuXG4vKioqLyA2NDA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERldmljZURldGFpbHNDb21tYW5kc0N0cmwuJGluamVjdCA9IFtcIiRsb2dcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCJEZXZpY2VzU2VydmljZVwiLCBcIkxvY2F0aW9uc1NlcnZpY2VcIiwgXCJDb21tYW5kc1NlcnZpY2VcIiwgXCJUaW1lem9uZXNTZXJ2aWNlXCIsIFwic3dlZXRcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCIkbWREaWFsb2dcIiwgXCJUb2FzdHNTZXJ2aWNlXCIsIFwiJHRpbWVvdXRcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkRldmljZURldGFpbHNDb21tYW5kc0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybCgkbG9nLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgU2Vzc2lvbnNTZXJ2aWNlLCBEZXZpY2VzU2VydmljZSwgTG9jYXRpb25zU2VydmljZSwgQ29tbWFuZHNTZXJ2aWNlLCBUaW1lem9uZXNTZXJ2aWNlLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCAkbWREaWFsb2csIFRvYXN0c1NlcnZpY2UsICR0aW1lb3V0KSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgdm0uZGV2aWNlS2V5ID0gJHN0YXRlUGFyYW1zLmRldmljZUtleTtcblx0ICB2bS5mcm9tRGV2aWNlcyA9ICRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCI7XG5cdCAgdm0uY3VycmVudERldmljZSA9IHt9O1xuXHQgIHZtLmNvbW1hbmRFdmVudHMgPSBbXTtcblx0XG5cdCAgdm0uZ2VuZXJhdGVMb2NhbEZyb21VVEMgPSBmdW5jdGlvbiAoVVRDVGltZSkge1xuXHQgICAgdmFyIGxvY2FsVGltZSA9IF9tb21lbnQyLmRlZmF1bHQudXRjKFVUQ1RpbWUpLnRvRGF0ZSgpO1xuXHQgICAgcmV0dXJuIGxvY2FsVGltZSA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KShsb2NhbFRpbWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbTpzcyBBJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVwbGFjZUNvbW1hbmRUaW1lID0gZnVuY3Rpb24gKGlzc3Vlcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGVhY2ggPSBpc3N1ZXNbaV07XG5cdCAgICAgIGlmIChlYWNoLnBvc3RlZFRpbWUpIHtcblx0ICAgICAgICBlYWNoLnBvc3RlZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnBvc3RlZFRpbWUpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChlYWNoLmNvbmZpcm1lZFRpbWUpIHtcblx0ICAgICAgICBlYWNoLmNvbmZpcm1lZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNvbmZpcm1lZFRpbWUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm47XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgY29tbWFuZEV2ZW50c1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRDb21tYW5kRXZlbnRzQnlLZXkoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBjb21tYW5kRXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLnJlcGxhY2VDb21tYW5kVGltZShkYXRhLmV2ZW50cyk7XG5cdCAgICAgIHZtLmV2ZW50X25leHRfY3Vyc29yID0gZGF0YS5uZXh0X2N1cnNvcjtcblx0ICAgICAgdm0uZXZlbnRfcHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuXHQgICAgICB2bS5jb21tYW5kRXZlbnRzID0gZGF0YS5ldmVudHM7XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEV2ZW50c1RpbWVPdXQgPSBmdW5jdGlvbiAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICByZXR1cm4gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKGRldmljZUtleSwgcHJldiwgbmV4dCk7XG5cdCAgICB9LCAxMDAwKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb21tYW5kSGlzdG9yeVNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlRXZlbnRDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCBudWxsLCB2bS5ldmVudF9uZXh0X2N1cnNvcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgdm0uZXZlbnRfcHJldl9jdXJzb3IsIG51bGwpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG5cdCAgICBkZXZpY2VQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkdldERldmljZVN1Y2Nlc3MocmVzcG9uc2UpO1xuXHQgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgdm0uY3VycmVudERldmljZSA9IHJlc3BvbnNlO1xuXHQgICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG5cdCAgICAgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSByZXNwb25zZS50aW1lem9uZTtcblx0ICAgIH1cblx0ICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB2bS50ZW5hbnRLZXkgPSB2bS5jdXJyZW50RGV2aWNlLnRlbmFudEtleTtcblx0ICAgIH1cblx0ICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG5cdCAgICAgIHZtLmJhY2tVcmwgPSAnLyMvZGV2aWNlcyc7XG5cdCAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIGRldmljZXMnO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UuaXNVbm1hbmFnZWREZXZpY2UgPT09IHRydWUpIHtcblx0ICAgICAgICB2bS5iYWNrVXJsID0gXCIvIy90ZW5hbnRzL1wiICsgdm0udGVuYW50S2V5ICsgXCIvdW5tYW5hZ2VkXCI7XG5cdCAgICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2bS5iYWNrVXJsID0gXCIvIy90ZW5hbnRzL1wiICsgdm0udGVuYW50S2V5ICsgXCIvbWFuYWdlZFwiO1xuXHQgICAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ub25HZXREZXZpY2VGYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBmZXRjaCB0aGUgZGV0YWlscyBmb3IgdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiTm8gZGV0YWlsIGZvciBkZXZpY2Vfa2V5ICNcIiArIHZtLmRldmljZUtleSArIFwiLiBFcnJvcjogXCIgKyByZXNwb25zZS5zdGF0dXMgKyBcIiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQ7XG5cdCAgICAkbG9nLmVycm9yKGVycm9yTWVzc2FnZSk7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLmNvbnRlbnREZWxldGUodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25SZXNldENvbnRlbnRTdWNjZXNzLCB2bS5vblJlc2V0Q29udGVudEZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzZXRDb250ZW50U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc2V0IGNvbnRlbnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldENvbnRlbnRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJSZXNldCBjb250ZW50IGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLmNvbnRlbnRVcGRhdGUodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVDb250ZW50U3VjY2Vzcywgdm0ub25VcGRhdGVDb250ZW50RmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVDb250ZW50U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVXBkYXRlQ29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIkNvbnRlbnQgdXBkYXRlIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgdXBkYXRlIGNvbnRlbnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldFBsYXllciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzZXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25SZXNldFBsYXllclN1Y2Nlc3MsIHZtLm9uUmVzZXRQbGF5ZXJGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc2V0UGxheWVyU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc2V0IHBsYXllciBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc2V0UGxheWVyRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiUmVzZXQgcGxheWVyIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzZXQgcGxheWVyIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucG93ZXJPbih2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBhbmVsT25TdWNjZXNzLCB2bS5vblBhbmVsT25GYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsT25TdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcGFuZWwgb24gY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25QYW5lbE9uRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiUGFuZWwgb24gY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsT2ZmID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5wb3dlck9mZih2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBhbmVsT2ZmU3VjY2Vzcywgdm0ub25QYW5lbE9mZkZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPZmZTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPZmZGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJQYW5lbCBvZmYgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvZmYgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnVwZGF0ZURldmljZSh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblVwZGF0ZURldmljZVN1Y2Nlc3MsIHZtLm9uVXBkYXRlRGV2aWNlRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVEZXZpY2VTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgdXBkYXRlIGRldmljZSBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZURldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlVwZGF0ZSBkZXZpY2UgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB1cGRhdGUgZGV2aWNlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVm9sdW1lQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS52b2x1bWUodm0uZGV2aWNlS2V5LCB2bS5jdXJyZW50RGV2aWNlLnZvbHVtZSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uVm9sdW1lQ2hhbmdlU3VjY2Vzcyh2bS5jdXJyZW50RGV2aWNlLnZvbHVtZSksIHZtLm9uVm9sdW1lQ2hhbmdlRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Wb2x1bWVDaGFuZ2VTdWNjZXNzID0gZnVuY3Rpb24gKGxldmVsKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgb2YgXCIgKyBsZXZlbCArIFwiIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblZvbHVtZUNoYW5nZUZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlZvbHVtZSBjaGFuZ2UgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ3VzdG9tQ29tbWFuZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UuY3VzdG9tKHZtLmRldmljZUtleSwgdm0uY3VycmVudERldmljZS5jdXN0b20pO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vbkN1c3RvbUNvbW1hbmRTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tKSwgdm0ub25DdXN0b21Db21tYW5kRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25DdXN0b21Db21tYW5kU3VjY2VzcyA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBjdXN0b20gY29tbWFuZCAnXCIgKyBjb21tYW5kICsgXCInIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkN1c3RvbUNvbW1hbmRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJDdXN0b20gY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBjdXN0b20gY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25EaWFnbm9zdGljc1RvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UudG9nZ2xlRGlhZ25vc3RpY3Modm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MsIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblRvZ2dsZURpYWdub3N0aWNzU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJEaWFnbm9zdGljcyBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzdGFydCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzdGFydCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblJlc3RhcnRTdWNjZXNzLCB2bS5vblJlc3RhcnRGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc3RhcnRTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcmVzdGFydCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc3RhcnRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJSZXN0YXJ0IGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzdGFydCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBvc3RMb2cgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvc3RMb2codm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Qb3N0TG9nU3VjY2Vzcywgdm0ub25Qb3N0TG9nRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Qb3N0TG9nU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHBvc3QgbG9nIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUG9zdExvZ0ZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlBvc3QgbG9nIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRldmljZURldGFpbHNDb21tYW5kc0N0cmwgPSBEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NDE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERldmljZURldGFpbHNDdHJsLiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiJHN0YXRlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiRGV2aWNlc1NlcnZpY2VcIiwgXCJMb2NhdGlvbnNTZXJ2aWNlXCIsIFwiQ29tbWFuZHNTZXJ2aWNlXCIsIFwiVGltZXpvbmVzU2VydmljZVwiLCBcIkludGVncmF0aW9uRXZlbnRzXCIsIFwic3dlZXRcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCIkbWREaWFsb2dcIiwgXCJUb2FzdHNTZXJ2aWNlXCIsIFwiRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkRldmljZURldGFpbHNDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9zbGljZWRUb0FycmF5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNjQyKTtcblx0XG5cdHZhciBfc2xpY2VkVG9BcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zbGljZWRUb0FycmF5Mik7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gRGV2aWNlRGV0YWlsc0N0cmwoJGxvZywgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsIENvbW1hbmRzU2VydmljZSwgVGltZXpvbmVzU2VydmljZSwgSW50ZWdyYXRpb25FdmVudHMsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsICRtZERpYWxvZywgVG9hc3RzU2VydmljZSwgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2bS5kZXZpY2VLZXkgPSAkc3RhdGVQYXJhbXMuZGV2aWNlS2V5O1xuXHQgIHZtLmZyb21EZXZpY2VzID0gJHN0YXRlUGFyYW1zLmZyb21EZXZpY2VzID09PSBcInRydWVcIjtcblx0ICB2bS5jdXJyZW50RGV2aWNlID0ge307XG5cdCAgdm0ubG9jYXRpb25zID0gW107XG5cdCAgdm0uY29tbWFuZEV2ZW50cyA9IFtdO1xuXHQgIHZtLmRheVJhbmdlID0gMzA7XG5cdCAgdm0uaXNzdWVzID0gW107XG5cdCAgdm0udGltZXpvbmVzID0gW107XG5cdCAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHVuZGVmaW5lZDtcblx0XG5cdCAgdmFyIF9EYXRlTWFuaXB1bGF0aW9uU2VydiA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmNyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheSgzMCk7XG5cdFxuXHQgIHZhciBfRGF0ZU1hbmlwdWxhdGlvblNlcnYyID0gKDAsIF9zbGljZWRUb0FycmF5My5kZWZhdWx0KShfRGF0ZU1hbmlwdWxhdGlvblNlcnYsIDIpO1xuXHRcblx0ICB2bS5zdGFydFRpbWUgPSBfRGF0ZU1hbmlwdWxhdGlvblNlcnYyWzBdO1xuXHQgIHZtLmVuZFRpbWUgPSBfRGF0ZU1hbmlwdWxhdGlvblNlcnYyWzFdO1xuXHRcblx0ICB2bS5lbnJvbGxtZW50RXZlbnRzID0gW107XG5cdFxuXHQgIHZtLnJlcGxhY2VJc3N1ZVRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZWFjaCA9IGlzc3Vlc1tpXTtcblx0ICAgICAgaWYgKGVhY2guY3JlYXRlZCkge1xuXHQgICAgICAgIGVhY2guY3JlYXRlZCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY3JlYXRlZCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGVhY2gudXBkYXRlZCkge1xuXHQgICAgICAgIGVhY2gudXBkYXRlZCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gudXBkYXRlZCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybjtcblx0ICB9O1xuXHRcblx0ICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZWFjaCA9IGlzc3Vlc1tpXTtcblx0ICAgICAgaWYgKGVhY2gucG9zdGVkVGltZSkge1xuXHQgICAgICAgIGVhY2gucG9zdGVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gucG9zdGVkVGltZSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGVhY2guY29uZmlybWVkVGltZSkge1xuXHQgICAgICAgIGVhY2guY29uZmlybWVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY29uZmlybWVkVGltZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybjtcblx0ICB9O1xuXHRcblx0ICB2bS5jb3B5RGV2aWNlS2V5ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnRGV2aWNlIGtleSBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmQnKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb3B5Q29ycmVsYXRpb25JZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnQ29ycmVsYXRpb24gSUQgY29waWVkIHRvIHlvdXIgY2xpcGJvYXJkJyk7XG5cdCAgfTtcblx0XG5cdCAgLy8gZXZlbnQgdGFiXG5cdCAgdm0uZ2V0SXNzdWVzID0gZnVuY3Rpb24gKGRldmljZSwgZXBvY2hTdGFydCwgZXBvY2hFbmQsIHByZXYsIG5leHQpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGlzc3Vlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRJc3N1ZXNCeUtleShkZXZpY2UsIGVwb2NoU3RhcnQsIGVwb2NoRW5kLCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBpc3N1ZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG5cdCAgICAgIHZtLmlzc3VlcyA9IGRhdGEuaXNzdWVzO1xuXHQgICAgICB2bS5wcmV2X2N1cnNvciA9IGRhdGEucHJldjtcblx0ICAgICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIC8vIGNvbW1hbmQgaGlzdG9yeSB0YWJcblx0ICB2bS5nZXRFdmVudHMgPSBmdW5jdGlvbiAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBjb21tYW5kRXZlbnRzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpO1xuXHQgICAgcmV0dXJuIGNvbW1hbmRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ucmVwbGFjZUNvbW1hbmRUaW1lKGRhdGEuZXZlbnRzKTtcblx0ICAgICAgdm0uZXZlbnRfbmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuXHQgICAgICB2bS5ldmVudF9wcmV2X2N1cnNvciA9IGRhdGEucHJldl9jdXJzb3I7XG5cdCAgICAgIHZtLmNvbW1hbmRFdmVudHMgPSBkYXRhLmV2ZW50cztcblx0ICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgLy8gZW5yb2xsbWVudCB0YWJcblx0ICB2bS5nZXRFbnJvbGxtZW50RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgY29tbWFuZEV2ZW50c1Byb21pc2UgPSBJbnRlZ3JhdGlvbkV2ZW50cy5nZXRFbnJvbGxtZW50RXZlbnRzKGRldmljZUtleSk7XG5cdCAgICByZXR1cm4gY29tbWFuZEV2ZW50c1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5lbnJvbGxtZW50RXZlbnRzID0gZGF0YTtcblx0ICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgbnVsbCwgdm0ubmV4dF9jdXJzb3IpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldElzc3Vlcyh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kLCB2bS5wcmV2X2N1cnNvciwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ucGFnaW5hdGVFdmVudENhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuXHQgICAgaWYgKGZvcndhcmQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIG51bGwsIHZtLmV2ZW50X25leHRfY3Vyc29yKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCB2bS5ldmVudF9wcmV2X2N1cnNvciwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmVwb2NoU3RhcnQgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uc3RhcnRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuXHQgICAgdm0uZXBvY2hFbmQgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uZW5kVGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcblx0XG5cdCAgICB2YXIgdGltZXpvbmVQcm9taXNlID0gVGltZXpvbmVzU2VydmljZS5nZXRDdXN0b21UaW1lem9uZXMoKTtcblx0ICAgIHRpbWV6b25lUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS50aW1lem9uZXMgPSBkYXRhO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgdm0ucGFuZWxNb2RlbHMgPSBEZXZpY2VzU2VydmljZS5nZXRQYW5lbE1vZGVscygpO1xuXHQgICAgdm0ucGFuZWxJbnB1dHMgPSBEZXZpY2VzU2VydmljZS5nZXRQYW5lbElucHV0cygpO1xuXHRcblx0ICAgIHZhciBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcblx0ICAgIGRldmljZVByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXNwb25zZSk7XG5cdCAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLm9uR2V0RGV2aWNlRmFpbHVyZShyZXNwb25zZSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5KTtcblx0ICAgIHZtLmdldElzc3Vlcyh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kKTtcblx0ICAgIHJldHVybiB2bS5nZXRFbnJvbGxtZW50RXZlbnRzKHZtLmRldmljZUtleSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25HZXREZXZpY2VTdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICB2bS5jdXJyZW50RGV2aWNlID0gcmVzcG9uc2U7XG5cdCAgICBpZiAocmVzcG9uc2UudGltZXpvbmUgIT09IHZtLnNlbGVjdGVkVGltZXpvbmUpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHJlc3BvbnNlLnRpbWV6b25lO1xuXHQgICAgfVxuXHQgICAgaWYgKHZtLnRlbmFudEtleSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHZtLnRlbmFudEtleSA9IHZtLmN1cnJlbnREZXZpY2UudGVuYW50S2V5O1xuXHQgICAgfVxuXHQgICAgaWYgKCRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCIpIHtcblx0ICAgICAgdm0uYmFja1VybCA9ICcvIy9kZXZpY2VzJztcblx0ICAgICAgdm0uYmFja1VybFRleHQgPSAnQmFjayB0byBkZXZpY2VzJztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmlzVW5tYW5hZ2VkRGV2aWNlID09PSB0cnVlKSB7XG5cdCAgICAgICAgdm0uYmFja1VybCA9IFwiLyMvdGVuYW50cy9cIiArIHZtLnRlbmFudEtleSArIFwiL3VubWFuYWdlZFwiO1xuXHQgICAgICAgIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2bS5iYWNrVXJsID0gXCIvIy90ZW5hbnRzL1wiICsgdm0udGVuYW50S2V5ICsgXCIvbWFuYWdlZFwiO1xuXHQgICAgICAgIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IG1hbmFnZWQgZGV2aWNlcyc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHZhciBsb2NhdGlvbnNQcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5nZXRMb2NhdGlvbnNCeVRlbmFudEtleSh2bS50ZW5hbnRLZXkpO1xuXHQgICAgcmV0dXJuIGxvY2F0aW9uc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5sb2NhdGlvbnMgPSBkYXRhO1xuXHQgICAgICByZXR1cm4gdm0uc2V0U2VsZWN0ZWRPcHRpb25zKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkdldERldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIGZldGNoIHRoZSBkZXRhaWxzIGZvciB0aGlzIGRldmljZSBhdCB0aGlzIHRpbWUuJyk7XG5cdCAgICB2YXIgZXJyb3JNZXNzYWdlID0gXCJObyBkZXRhaWwgZm9yIGRldmljZV9rZXkgI1wiICsgdm0uZGV2aWNlS2V5ICsgXCIuIEVycm9yOiBcIiArIHJlc3BvbnNlLnN0YXR1cyArIFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dDtcblx0ICAgICRsb2cuZXJyb3IoZXJyb3JNZXNzYWdlKTtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcblx0ICB9O1xuXHRcblx0ICB2bS5zZXRTZWxlY3RlZE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsID09PSBudWxsKSB7XG5cdCAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCA9IHZtLnBhbmVsTW9kZWxzWzBdO1xuXHQgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQgPSB2bS5wYW5lbElucHV0c1swXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0ucGFuZWxNb2RlbHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgcGFuZWxNb2RlbCA9IHZtLnBhbmVsTW9kZWxzW2ldO1xuXHQgICAgICAgIGlmIChwYW5lbE1vZGVsLmlkID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwpIHtcblx0ICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCA9IHBhbmVsTW9kZWw7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdm0ucGFuZWxJbnB1dHMubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICB2YXIgcGFuZWxJbnB1dCA9IHZtLnBhbmVsSW5wdXRzW2pdO1xuXHQgICAgICAgIHZhciBpc1BhcmVudCA9IHBhbmVsSW5wdXQucGFyZW50SWQgPT09IHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZDtcblx0ICAgICAgICBpZiAoaXNQYXJlbnQgJiYgcGFuZWxJbnB1dC5pZC50b0xvd2VyQ2FzZSgpID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQpIHtcblx0ICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dCA9IHBhbmVsSW5wdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSAhPT0gbnVsbCkge1xuXHQgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHZtLmxvY2F0aW9ucy5sZW5ndGg7IGsrKykge1xuXHQgICAgICAgIHZhciBsb2NhdGlvbiA9IHZtLmxvY2F0aW9uc1trXTtcblx0ICAgICAgICBpZiAobG9jYXRpb24ua2V5ID09PSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5KSB7XG5cdCAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uID0gbG9jYXRpb247XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICAvLyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cdCAgLy8gUHJvcGVydGllcyBUYWJcblx0ICAvLyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cdFxuXHQgIHZtLm9uU2F2ZURldmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24gIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uLmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkgPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uLmtleTtcblx0ICAgIH1cblx0ICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09ICdOb25lJykge1xuXHQgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWxOdW1iZXIgPSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQ7XG5cdCAgICB9XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkICE9PSB1bmRlZmluZWQgJiYgdm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkICE9PSAnTm9uZScpIHtcblx0ICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbFNlcmlhbElucHV0ID0gdm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkLnRvTG93ZXJDYXNlKCk7XG5cdCAgICB9XG5cdCAgICB2bS5jdXJyZW50RGV2aWNlLnRpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcblx0ICAgIHZhciBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RGV2aWNlKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzRGV2aWNlU2F2ZSwgdm0ub25GYWlsdXJlRGV2aWNlU2F2ZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzRGV2aWNlU2F2ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25GYWlsdXJlRGV2aWNlU2F2ZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDkpIHtcblx0ICAgICAgJGxvZy5pbmZvKFwiRmFpbHVyZSBzYXZpbmcgZGV2aWNlLiBDdXN0b21lciBkaXNwbGF5IGNvZGUgYWxyZWFkeSBleGlzdHMgZm9yIHRlbmFudDogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUaGlzIGN1c3RvbWVyIGRpc3BsYXkgY29kZSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhpcyB0ZW5hbnQuIFBsZWFzZSBjaG9vc2UgYW5vdGhlci4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICRsb2cuZXJyb3IoXCJGYWlsdXJlIHNhdmluZyBkZXZpY2U6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIHNhdmUgeW91ciB1cGRhdGVzIHRvIHRoaXMgZGV2aWNlIGF0IHRoaXMgdGltZS4nKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsU2xlZXAgPSBmdW5jdGlvbiAoY29tbWFuZCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5wYW5lbFNsZWVwKHZtLmRldmljZUtleSwgY29tbWFuZCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxTbGVlcFN1Y2Nlc3MsIHZtLm9uUGFuZWxTbGVlcEZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxTbGVlcFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSB0b2dnbGVkIHRoZSBwYW5lbCBzbGVlcCBhdHRyaWJ1dGUuIFRoZSBwbGF5ZXIgc2hvdWxkIGFkanVzdCB0byB0aGVzZSBjaGFuZ2VzIHdpdGhpbiAxNSBtaW51dGVzLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsU2xlZXBGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byB0b2dnbGUgdGhlIHBhbmVsIHNsZWVwIGF0dHJpYnV0ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY29uZmlybURldmljZURlbGV0ZSA9IGZ1bmN0aW9uIChldmVudCwga2V5KSB7XG5cdCAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKHtcblx0ICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmUgdG8gZGVsZXRlIHRoaXMgZGV2aWNlPycsXG5cdCAgICAgIHRleHRDb250ZW50OiAnUGxlYXNlIHJlbWVtYmVyLCB5b3UgTVVTVCByZW1vdmUgdGhpcyBkZXZpY2UgZnJvbSBDb250ZW50IE1hbmFnZXIgYmVmb3JlIGRlbGV0aW5nIGl0IGZyb20gUHJvdmlzaW9uaW5nLicsXG5cdCAgICAgIHRhcmdldEV2ZW50OiBldmVudCxcblx0ICAgICAgb2s6ICdEZWxldGUnLFxuXHQgICAgICBjYW5jZWw6ICdDYW5jZWwnXG5cdCAgICB9KTtcblx0ICAgIHZhciBzaG93UHJvbWlzZSA9ICRtZERpYWxvZy5zaG93KGNvbmZpcm0pO1xuXHQgICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiBzdWNjZXNzKCkge1xuXHQgICAgICByZXR1cm4gdm0ub25Db25maXJtRGVsZXRlKGtleSk7XG5cdCAgICB9O1xuXHQgICAgdmFyIGZhaWx1cmUgPSBmdW5jdGlvbiBmYWlsdXJlKCkge1xuXHQgICAgICByZXR1cm4gdm0ub25Db25maXJtQ2FuY2VsKCk7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIHNob3dQcm9taXNlLnRoZW4oc3VjY2VzcywgZmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Db25maXJtRGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuXHQgICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiBzdWNjZXNzKCkge1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHByb2Nlc3NlZCB5b3VyIGRlbGV0ZSByZXF1ZXN0LicpO1xuXHQgICAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG5cdCAgICB9O1xuXHQgICAgdmFyIGZhaWx1cmUgPSBmdW5jdGlvbiBmYWlsdXJlKGVycm9yKSB7XG5cdCAgICAgIHZhciBmcmllbmRseU1lc3NhZ2UgPSAnV2Ugd2VyZSB1bmFibGUgdG8gY29tcGxldGUgeW91ciBkZWxldGUgcmVxdWVzdCBhdCB0aGlzIHRpbWUuJztcblx0ICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChmcmllbmRseU1lc3NhZ2UpO1xuXHQgICAgICByZXR1cm4gJGxvZy5lcnJvcihcIkRlbGV0ZSBkZXZpY2UgZmFpbHVyZSBmb3IgZGV2aWNlX2tleSBcIiArIGtleSArIFwiOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICB9O1xuXHQgICAgdmFyIGRlbGV0ZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5kZWxldGUoa2V5KTtcblx0ICAgIHJldHVybiBkZWxldGVQcm9taXNlLnRoZW4oc3VjY2VzcywgZmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Db25maXJtQ2FuY2VsID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0luZm9Ub2FzdCgnV2UgY2FuY2VsZWQgeW91ciBkZWxldGUgcmVxdWVzdC4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblByb29mT2ZQbGF5TG9nZ2luZ0NoZWNrID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UucHJvb2ZPZlBsYXlMb2dnaW5nKSB7XG5cdCAgICAgIHZhciBub0xvY2F0aW9uID0gdm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSA9PT0gbnVsbDtcblx0ICAgICAgdmFyIG5vRGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheUNvZGUgPT09IG51bGw7XG5cdCAgICAgIGlmIChub0xvY2F0aW9uKSB7XG5cdCAgICAgICAgc3dlZXQuc2hvdygnT29wcy4uLicsIFwiWW91IG11c3QgaGF2ZSBhIExvY2F0aW9uIHRvIGVuYWJsZSBQcm9vZiBvZiBwbGF5LlwiLCAnZXJyb3InKTtcblx0ICAgICAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcgPSBmYWxzZTtcblx0ICAgICAgfSBlbHNlIGlmIChub0Rpc3BsYXlDb2RlKSB7XG5cdCAgICAgICAgc3dlZXQuc2hvdygnT29wcy4uLicsIFwiWW91IG11c3QgaGF2ZSBhIERpc3BsYXkgY29kZSB0byBlbmFibGUgUHJvb2Ygb2YgcGxheS5cIiwgJ2Vycm9yJyk7XG5cdCAgICAgICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UucHJvb2ZPZlBsYXlMb2dnaW5nID0gZmFsc2U7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLm9uU2F2ZURldmljZSgpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0ub25TYXZlRGV2aWNlKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVMb2NhdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB2bS5vblNhdmVEZXZpY2UoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5hdXRvR2VuZXJhdGVDdXN0b21lckRpc3BsYXlDb2RlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIG5ld0Rpc3BsYXlDb2RlID0gJyc7XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5jdXN0b21lckRpc3BsYXlOYW1lKSB7XG5cdCAgICAgIG5ld0Rpc3BsYXlDb2RlID0gdm0uY3VycmVudERldmljZS5jdXN0b21lckRpc3BsYXlOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgIG5ld0Rpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuXHQgICAgICBuZXdEaXNwbGF5Q29kZSA9IG5ld0Rpc3BsYXlDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5Q29kZSA9IG5ld0Rpc3BsYXlDb2RlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmxvZ2dseUZvclVzZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgdXNlckRvbWFpbiA9IFNlc3Npb25zU2VydmljZS5nZXRVc2VyRW1haWwoKS5zcGxpdChcIkBcIilbMV07XG5cdCAgICByZXR1cm4gdXNlckRvbWFpbiA9PT0gXCJkZW1vLmFnb3N0by5jb21cIiB8fCB1c2VyRG9tYWluID09PSBcImFnb3N0by5jb21cIjtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNsaWNrUmVmcmVzaEJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdm0uc3RhcnRUaW1lID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KHZtLnN0YXJ0VGltZSk7XG5cdCAgICB2bS5lbmRUaW1lID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KHZtLmVuZFRpbWUpO1xuXHQgICAgdm0uZXBvY2hTdGFydCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5zdGFydFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG5cdCAgICB2bS5lcG9jaEVuZCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5lbmRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuXHQgICAgdm0ucHJldl9jdXJzb3IgPSBudWxsO1xuXHQgICAgdm0ubmV4dF9jdXJzb3IgPSBudWxsO1xuXHQgICAgdmFyIGlzc3Vlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRJc3N1ZXNCeUtleSh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kLCB2bS5wcmV2X2N1cnNvciwgdm0ubmV4dF9jdXJzb3IpO1xuXHQgICAgcmV0dXJuIGlzc3Vlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0ub25SZWZyZXNoSXNzdWVzU3VjY2VzcyhkYXRhKTtcblx0ICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgICByZXR1cm4gdm0ub25SZWZyZXNoSXNzdWVzRmFpbHVyZShlcnJvcik7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlZnJlc2hJc3N1ZXNTdWNjZXNzID0gZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgIHZtLnJlcGxhY2VJc3N1ZVRpbWUoZGF0YS5pc3N1ZXMpO1xuXHQgICAgdm0uaXNzdWVzID0gZGF0YS5pc3N1ZXM7XG5cdCAgICB2bS5wcmV2X2N1cnNvciA9IGRhdGEucHJldjtcblx0ICAgIHZtLm5leHRfY3Vyc29yID0gZGF0YS5uZXh0O1xuXHQgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVmcmVzaElzc3Vlc0ZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgVG9hc3RzU2VydmljZS5zaG93SW5mb1RvYXN0KCdXZSB3ZXJlIHVuYWJsZSB0byByZWZyZXNoIHRoZSBkZXZpY2UgaXNzdWVzIGxpc3QgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgcmV0dXJuICRsb2cuZXJyb3IoXCJGYWlsdXJlIHRvIHJlZnJlc2ggZGV2aWNlIGlzc3VlczogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5EZXZpY2VEZXRhaWxzQ3RybCA9IERldmljZURldGFpbHNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NTE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERldmljZXNMaXN0aW5nQ3RybC4kaW5qZWN0ID0gW1wiJHN0YXRlUGFyYW1zXCIsIFwiJGxvZ1wiLCBcIkRldmljZXNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwic3dlZXRcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBEZXZpY2VzTGlzdGluZ0N0cmwoJHN0YXRlUGFyYW1zLCAkbG9nLCBEZXZpY2VzU2VydmljZSwgJHN0YXRlLCBTZXNzaW9uc1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgc3dlZXQpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uZGlzdHJpYnV0b3JLZXkgPSB1bmRlZmluZWQ7XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIE1hbmFnZWRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgdm0uZGV2aWNlcyA9IFtdO1xuXHQgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcblx0ICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLm1hY0RldmljZXMgPSB7fTtcblx0ICB2bS5nY21pZERldmljZXMgPSB7fTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIFVubWFuYWdlZFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9IFwiTUFDXCI7XG5cdCAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgIHZtLnVubWFuYWdlZERpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS51bm1hbmFnZWREZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSBudWxsO1xuXHQgIHZtLnVubWFuYWdlZERldmljZXMgPSBbXTtcblx0ICB2bS51bm1hbmFnZWRNYWNEZXZpY2VzID0ge307XG5cdCAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0ge307XG5cdFxuXHQgIHZtLnJlZnJlc2hNYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcblx0ICAgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcblx0ICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZWZyZXNoVW5tYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gbnVsbDtcblx0ICAgIHZtLnVubWFuYWdlZERldmljZXNOZXh0ID0gbnVsbDtcblx0ICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS51bm1hbmFnZWREZXZpY2VzUHJldiwgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNoYW5nZVJhZGlvID0gZnVuY3Rpb24gKHVubWFuYWdlZCkge1xuXHQgICAgaWYgKHVubWFuYWdlZCkge1xuXHQgICAgICB2bS51bm1hbmFnZWRTZWFyY2hUZXh0ID0gJyc7XG5cdCAgICAgIHZtLnVubWFuYWdlZERpc2FibGVkID0gdHJ1ZTtcblx0ICAgICAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgICAgICByZXR1cm4gdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IHt9O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICAgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICAgICAgcmV0dXJuIHZtLm1hY0RldmljZXMgPSB7fTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0oaXRlbSwgdHJ1ZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucHJlcGFyZUZvckVkaXRWaWV3ID0gZnVuY3Rpb24gKHVubWFuYWdlZCwgc2VhcmNoVGV4dCkge1xuXHQgICAgdmFyIG1hYyA9IHZvaWQgMCxcblx0ICAgICAgICBzZXJpYWwgPSB2b2lkIDAsXG5cdCAgICAgICAgZ2NtaWQgPSB2b2lkIDA7XG5cdCAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgIG1hYyA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuXHQgICAgICBzZXJpYWwgPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG5cdCAgICAgIGdjbWlkID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPT09IFwiR0NNIElEXCI7XG5cdCAgICAgIGlmIChtYWMpIHtcblx0ICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkTWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmVkaXRJdGVtKHZtLnVubWFuYWdlZFNlcmlhbERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS51bm1hbmFnZWRHQ01pZERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBtYWMgPSB2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJNQUNcIjtcblx0ICAgICAgc2VyaWFsID0gdm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuXHQgICAgICBnY21pZCA9IHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIkdDTSBJRFwiO1xuXHQgICAgICBpZiAobWFjKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmVkaXRJdGVtKHZtLm1hY0RldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuXHQgICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS5zZXJpYWxEZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0uZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmNvbnRyb2xPcGVuQnV0dG9uID0gZnVuY3Rpb24gKHVubWFuYWdlZCwgaXNNYXRjaCkge1xuXHQgICAgaWYgKCF1bm1hbmFnZWQpIHtcblx0ICAgICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkQnV0dG9uTG9hZGluZyA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSAhaXNNYXRjaDtcblx0ICAgICAgcmV0dXJuIHZtLnVubWFuYWdlZERpc2FibGVkQnV0dG9uTG9hZGluZyA9IGZhbHNlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHJlc291cmNlKSB7XG5cdCAgICB2YXIgYnlUZW5hbnQgPSBmYWxzZTtcblx0ICAgIHZhciB0ZW5hbnRLZXkgPSBudWxsO1xuXHQgICAgdmFyIGJ1dHRvbiA9IHZvaWQgMDtcblx0XG5cdCAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgIGJ1dHRvbiA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG5cdCAgICB9XG5cdFxuXHQgICAgRGV2aWNlc1NlcnZpY2UuaXNSZXNvdXJjZVZhbGlkKHJlc291cmNlLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICByZXR1cm4gdm0uY29udHJvbE9wZW5CdXR0b24odW5tYW5hZ2VkLCByZXNbXCJpc19tYXRjaFwiXSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5zZWFyY2hEZXZpY2VzID0gZnVuY3Rpb24gKHVubWFuYWdlZCwgcGFydGlhbCkge1xuXHQgICAgdmFyIGJ1dHRvbiA9IHZvaWQgMDtcblx0ICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgYnV0dG9uID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b247XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBidXR0b24gPSB2bS5zZWxlY3RlZEJ1dHRvbjtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgYnlUZW5hbnQgPSBmYWxzZTtcblx0ICAgIHZhciB0ZW5hbnRLZXkgPSBudWxsO1xuXHRcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcblx0ICAgICAgICB2YXIgZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG5cdCAgICAgICAgaWYgKGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcblx0ICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgICAgICAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uID09PSBcIk1BQ1wiKSB7XG5cdCAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICAgIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gZGV2aWNlc1swXTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuXHQgICAgICAgICAgICB2bS51bm1hbmFnZWRHQ01pZERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKGtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgZGV2aWNlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VzQnlEaXN0cmlidXRvcihrZXksIHByZXYsIG5leHQpO1xuXHQgICAgcmV0dXJuIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZtLmRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuXHQgICAgICB2bS5kZXZpY2VzTmV4dCA9IHJlc3BvbnNlLm5leHRfY3Vyc29yO1xuXHQgICAgICB2bS5kZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hTdWNjZXNzKCk7XG5cdCAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoRmFpbHVyZShyZXNwb25zZSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKGtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgdW5tYW5hZ2VkRGV2aWNlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRVbm1hbmFnZWREZXZpY2VzQnlEaXN0cmlidXRvcihrZXksIHByZXYsIG5leHQpO1xuXHQgICAgcmV0dXJuIHVubWFuYWdlZERldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZtLnVubWFuYWdlZERldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuXHQgICAgICB2bS51bm1hbmFnZWREZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuXHQgICAgICB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCA9IHJlc3BvbnNlLm5leHRfY3Vyc29yO1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hTdWNjZXNzKCk7XG5cdCAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoRmFpbHVyZShyZXNwb25zZSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG5cdCAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcblx0ICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS51bm1hbmFnZWREZXZpY2VzUHJldiwgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEZldGNoU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRGZXRjaEZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiVW5hYmxlIHRvIGZldGNoIGRldmljZXMuIEVycm9yOiBcIiArIHJlc3BvbnNlLnN0YXR1cyArIFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCArIFwiLlwiO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkLCBtYW5hZ2VkKSB7XG5cdCAgICBpZiAoZm9yd2FyZCkge1xuXHQgICAgICBpZiAobWFuYWdlZCkge1xuXHQgICAgICAgIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCFtYW5hZ2VkKSB7XG5cdCAgICAgICAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgbnVsbCwgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAoIWZvcndhcmQpIHtcblx0ICAgICAgaWYgKG1hbmFnZWQpIHtcblx0ICAgICAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0uZGV2aWNlc1ByZXYsIG51bGwpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIW1hbmFnZWQpIHtcblx0ICAgICAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIG51bGwpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuRGV2aWNlc0xpc3RpbmdDdHJsID0gRGV2aWNlc0xpc3RpbmdDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NTI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdEFkbWluQ3RybC4kaW5qZWN0ID0gW1wiQWRtaW5TZXJ2aWNlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiVG9hc3RzU2VydmljZVwiLCBcIiRtZERpYWxvZ1wiLCBcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBBZG1pbkN0cmwoQWRtaW5TZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UsIFRvYXN0c1NlcnZpY2UsICRtZERpYWxvZywgRGlzdHJpYnV0b3JzU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0XG5cdCAgdm0uZ2V0QWxsRGlzdHJpYnV0b3JzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0ubG9hZGluZ0FsbERpc3RyaWJ1dG9ycyA9IHRydWU7XG5cdCAgICB2YXIgZ2V0QWxsRGlzdHJpYnV0b3JzUHJvbWlzZSA9IEFkbWluU2VydmljZS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcblx0ICAgIHJldHVybiBnZXRBbGxEaXN0cmlidXRvcnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9hZGluZ0FsbERpc3RyaWJ1dG9ycyA9IGZhbHNlO1xuXHQgICAgICByZXR1cm4gdm0uYWxsRGlzdHJpYnV0b3JzID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmFkZFVzZXJUb0Rpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGV2LCB1c2VyRW1haWwsIGRpc3RyaWJ1dG9yQWRtaW4sIHdoaWNoRGlzdHJpYnV0b3IsIGZvcm0pIHtcblx0ICAgIGlmICghZGlzdHJpYnV0b3JBZG1pbikge1xuXHQgICAgICBkaXN0cmlidXRvckFkbWluID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB2YXIgd2l0aE9yV2l0aG91dCA9IGRpc3RyaWJ1dG9yQWRtaW4gPyBcIndpdGhcIiA6IFwid2l0aG91dFwiO1xuXHRcblx0ICAgIC8vIG5vIG9wdGlvbiB0byBzZWxlY3QgZGlzdHJpYnV0b3IgaXMgZ2l2ZW4gd2hlbiB0aGVyZSBpcyBvbmx5IG9uZSBvcHRpb25cblx0ICAgIGlmICghd2hpY2hEaXN0cmlidXRvcikge1xuXHQgICAgICB3aGljaERpc3RyaWJ1dG9yID0gdm0uZGlzdHJpYnV0b3JzQXNBZG1pblswXTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKHtcblx0ICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/Jyxcblx0ICAgICAgdGV4dENvbnRlbnQ6IHVzZXJFbWFpbCArIFwiIHdpbGwgYmUgYWRkZWQgdG8gXCIgKyB3aGljaERpc3RyaWJ1dG9yICsgXCJcXG4gICAgICAgIFwiICsgd2l0aE9yV2l0aG91dCArIFwiIGFkbWluaXN0cmF0b3IgcHJpdmlsZWdlc1wiLFxuXHQgICAgICB0YXJnZXRFdmVudDogZXYsXG5cdCAgICAgIG9rOiAnT2YgY291cnNlIScsXG5cdCAgICAgIGNhbmNlbDogJ09vcHMsIG5ldmVybWluZC4nXG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBhZGRVc2VyVG9EaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UuYWRkVXNlclRvRGlzdHJpYnV0b3IodXNlckVtYWlsLCB3aGljaERpc3RyaWJ1dG9yLCBkaXN0cmlidXRvckFkbWluKTtcblx0ICAgICAgYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoZGF0YS5tZXNzYWdlKTtcblx0ICAgICAgICB2bS51c2VyID0ge307XG5cdCAgICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcblx0ICAgICAgICBmb3JtLiRzZXRVbnRvdWNoZWQoKTtcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gdm0uZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKCk7XG5cdCAgICAgICAgfSwgMjAwMCk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGRhdGEuZGF0YS5tZXNzYWdlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5tYWtlRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoZXYsIGRpc3RyaWJ1dG9yTmFtZSwgYWRtaW5FbWFpbCwgZm9ybSkge1xuXHQgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSh7XG5cdCAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlPycsXG5cdCAgICAgIHRleHRDb250ZW50OiBcIklmIHlvdSBwcm9jZWVkLCBcIiArIGRpc3RyaWJ1dG9yTmFtZSArIFwiIHdpbGwgYmUgY3JlYXRlZC5cIixcblx0ICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuXHQgICAgICBhcmlhTGFiZWw6ICdMdWNreSBkYXknLFxuXHQgICAgICBvazogJ1llYWghJyxcblx0ICAgICAgY2FuY2VsOiAnRm9yZ2V0IGl0Lidcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgbWFrZURpc3RyaWJ1dG9yUHJvbWlzZSA9IEFkbWluU2VydmljZS5tYWtlRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JOYW1lLCBhZG1pbkVtYWlsKTtcblx0ICAgICAgbWFrZURpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgdm0uZGlzdHJpYnV0b3IgPSB7fTtcblx0ICAgICAgICBmb3JtLiRzZXRQcmlzdGluZSgpO1xuXHQgICAgICAgIGZvcm0uJHNldFVudG91Y2hlZCgpO1xuXHQgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChkYXRhLm1lc3NhZ2UpO1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHJldHVybiB2bS5hbGxEaXN0cmlidXRvcnMgPSB2bS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcblx0ICAgICAgICB9LCAyMDAwKTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICByZXR1cm4gbWFrZURpc3RyaWJ1dG9yUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGRhdGEuZGF0YS5tZXNzYWdlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5sb2FkaW5nVXNlcnNPZkRpc3RyaWJ1dG9yID0gdHJ1ZTtcblx0ICAgIHZhciBjdXJyZW50RGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG5cdCAgICB2YXIgdXNlcnNvZkRpc3RyaWJ1dG9yUHJvbWlzZSA9IEFkbWluU2VydmljZS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IoY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcblx0ICAgIHJldHVybiB1c2Vyc29mRGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9hZGluZ1VzZXJzT2ZEaXN0cmlidXRvciA9IGZhbHNlO1xuXHQgICAgICByZXR1cm4gdm0udXNlcnNPZkRpc3RyaWJ1dG9yID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnN3aXRjaERpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGRpc3RyaWJ1dG9yKSB7XG5cdCAgICBEaXN0cmlidXRvcnNTZXJ2aWNlLnN3aXRjaERpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yKTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJEaXN0cmlidXRvciBcIiArIGRpc3RyaWJ1dG9yLm5hbWUgKyBcIiBzZWxlY3RlZCFcIik7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmdldFVzZXJzT2ZEaXN0cmlidXRvcigpO1xuXHQgICAgdm0uZ2V0QWxsRGlzdHJpYnV0b3JzKCk7XG5cdCAgICB2bS5pc0FkbWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldElzQWRtaW4oKTtcblx0ICAgIHZtLmRpc3RyaWJ1dG9yc0FzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuXHQgICAgdm0uY3VycmVudERpc3RyaWJ1dG9yTmFtZSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKCk7XG5cdFxuXHQgICAgaWYgKHZtLmlzQWRtaW4pIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5BZG1pbkN0cmwgPSBBZG1pbkN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY1Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdEF1dGhlbnRpY2F0aW9uQ3RybC4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGxvZ1wiLCBcIiRzdGF0ZVwiLCBcIiR0aW1lb3V0XCIsIFwiaWRlbnRpdHlcIiwgXCJzd2VldFwiLCBcIlNlc3Npb25zU2VydmljZVwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIlByb29mUGxheVNlcnZpY2VcIiwgXCJEZXZpY2VzU2VydmljZVwiLCBcIlRlbmFudHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gQXV0aGVudGljYXRpb25DdHJsKCRzY29wZSwgJGxvZywgJHN0YXRlLCAkdGltZW91dCwgaWRlbnRpdHksIHN3ZWV0LCBTZXNzaW9uc1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgUHJvb2ZQbGF5U2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIFRlbmFudHNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHRcblx0ICB2bS5vbkdvb2dsZVBsdXNTaWduSW5TdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50LCBhdXRoUmVzdWx0KSB7XG5cdCAgICBpZiAoIXZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgfVxuXHQgICAgU2Vzc2lvbnNTZXJ2aWNlLnJlbW92ZVVzZXJJbmZvKCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IFNlc3Npb25zU2VydmljZS5sb2dpbihhdXRoUmVzdWx0KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ubG9naW5TdWNjZXNzLCB2bS5sb2dpbkZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uR29vZ2xlUGx1c1NpZ25JbkZhaWx1cmUgPSBmdW5jdGlvbiAoZXZlbnQsIGF1dGhSZXN1bHQpIHtcblx0ICAgIGlmICh2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCkge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIGF1dGhlbnRpY2F0ZSB0byBHb29nbGUrLicsICdlcnJvcicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgICRzY29wZS4kb24oJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1zdWNjZXNzJywgdm0ub25Hb29nbGVQbHVzU2lnbkluU3VjY2Vzcyk7XG5cdCAgJHNjb3BlLiRvbignZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLWZhaWx1cmUnLCB2bS5vbkdvb2dsZVBsdXNTaWduSW5GYWlsdXJlKTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZVNpZ25JbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmNsaWVudElkID0gaWRlbnRpdHkuT0FVVEhfQ0xJRU5UX0lEO1xuXHQgICAgdm0uc3RhdGUgPSBpZGVudGl0eS5TVEFURTtcblx0ICAgIHJldHVybiB2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCA9IGZhbHNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemVTaWduT3V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgU2Vzc2lvbnNTZXJ2aWNlLnJlbW92ZVVzZXJJbmZvKCk7XG5cdCAgICByZXR1cm4gJHRpbWVvdXQodm0ucHJvY2VlZFRvU2lnbmVkT3V0LCA1MCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ubG9naW5TdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmxvZ2luRmFpbHVyZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIGF1dGhlbnRpY2F0ZSB0byBTdG9ybXBhdGguJywgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucHJvY2VlZFRvU2lnbmVkT3V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnc2lnbmVkX291dCcpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnByb2NlZWRUb1NpZ25JbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ3NpZ25faW4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNsaWNrR29vZ2xlUGx1c1NpZ25JbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkID0gdHJ1ZTtcblx0ICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuQXV0aGVudGljYXRpb25DdHJsID0gQXV0aGVudGljYXRpb25DdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NTQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRBcHBDb250cm9sbGVyLiRpbmplY3QgPSBbXCIkbWRTaWRlbmF2XCIsIFwiJHN0YXRlXCIsIFwiJHdpbmRvd1wiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuQXBwQ29udHJvbGxlciA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTUpO1xuXHRcblx0dmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBBcHBDb250cm9sbGVyKCRtZFNpZGVuYXYsICRzdGF0ZSwgJHdpbmRvdywgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHRcblx0ICB2bS5jdXJyZW50RGlzdHJpYnV0ZXJJbkRpc3RyaWJ1dGVyQWRtaW5MaXN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGN1cnJlbnREaXN0cmlidXRvck5hbWUgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpO1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yc0FzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuXHQgICAgcmV0dXJuICgwLCBfbG9kYXNoMi5kZWZhdWx0KShkaXN0cmlidXRvcnNBc0FkbWluLCBjdXJyZW50RGlzdHJpYnV0b3JOYW1lKTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRJZGVudGl0eSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGtleTogU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSxcblx0ICAgICAgZW1haWw6IFNlc3Npb25zU2VydmljZS5nZXRVc2VyRW1haWwoKSxcblx0ICAgICAgYWRtaW46IFNlc3Npb25zU2VydmljZS5nZXRJc0FkbWluKCksXG5cdCAgICAgIGRpc3RyaWJ1dG9yX2FkbWluOiBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpLFxuXHQgICAgICBhZG1pbl9vZl9jdXJyZW50X2Rpc3RyaWJ1dG9yOiB2bS5jdXJyZW50RGlzdHJpYnV0ZXJJbkRpc3RyaWJ1dGVyQWRtaW5MaXN0KCksXG5cdCAgICAgIGRpc3RyaWJ1dG9yS2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksXG5cdCAgICAgIGRpc3RyaWJ1dG9yTmFtZTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKVxuXHQgICAgfTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0N1cnJlbnRVUkxEaXN0cmlidXRvclNlbGVjdG9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHRlc3QgPSAkd2luZG93LmxvY2F0aW9uLmhyZWYuc2VhcmNoKC9kaXN0cmlidXRvcl9zZWxlY3Rpb24vKTtcblx0ICAgIHZhciByZXN1bHQgPSB0ZXN0ID49IDA7XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdm0uZ2V0SWRlbnRpdHkoKTtcblx0ICB9O1xuXHRcblx0ICB2bS50b2dnbGVTaWRlbmF2ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5nb1RvID0gZnVuY3Rpb24gKHN0YXRlTmFtZSwgaWQpIHtcblx0ICAgICRzdGF0ZS5nbyhzdGF0ZU5hbWUsIHsgaWQ6IGlkIH0pO1xuXHQgICAgaWYgKCRtZFNpZGVuYXYoJ2xlZnQnKS5pc09wZW4oKSkge1xuXHQgICAgICByZXR1cm4gJG1kU2lkZW5hdignbGVmdCcpLmNsb3NlKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSgpO1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuQXBwQ29udHJvbGxlciA9IEFwcENvbnRyb2xsZXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY3Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0RGlzdHJpYnV0b3JTZWxlY3RvckN0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVwiLCBcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBEaXN0cmlidXRvclNlbGVjdG9yQ3RybCgkc3RhdGUsIERpc3RyaWJ1dG9yc1NlcnZpY2UsIFNlc3Npb25zU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5kaXN0cmlidXRvcnMgPSBbXTtcblx0ICB2bS5jdXJyZW50RGlzdHJpYnV0b3IgPSB1bmRlZmluZWQ7XG5cdCAgdm0ubG9hZGluZyA9IHRydWU7XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5sb2VhZGluZyA9IHRydWU7XG5cdCAgICB2YXIgZGlzdHJpYnV0b3JzUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZmV0Y2hBbGxCeVVzZXIoU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSk7XG5cdCAgICByZXR1cm4gZGlzdHJpYnV0b3JzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmRpc3RyaWJ1dG9ycyA9IGRhdGE7XG5cdCAgICAgIGlmICh2bS5kaXN0cmlidXRvcnMubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLnNlbGVjdERpc3RyaWJ1dG9yKHZtLmRpc3RyaWJ1dG9yc1swXSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VsZWN0RGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoZGlzdHJpYnV0b3IpIHtcblx0ICAgIHJldHVybiBEaXN0cmlidXRvcnNTZXJ2aWNlLnN3aXRjaERpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwgPSBEaXN0cmlidXRvclNlbGVjdG9yQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjc4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHREaXN0cmlidXRvcnNDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBEaXN0cmlidXRvcnNDdHJsKCRzdGF0ZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5kaXN0cmlidXRvcnMgPSBbXTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRpc3RyaWJ1dG9yc0N0cmwgPSBEaXN0cmlidXRvcnNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2Nzk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERvbWFpbnNDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVcIiwgXCJEb21haW5zU2VydmljZVwiLCBcInN3ZWV0XCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gRG9tYWluc0N0cmwoJHN0YXRlLCBEb21haW5zU2VydmljZSwgc3dlZXQpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uZG9tYWlucyA9IFtdO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHByb21pc2UgPSBEb21haW5zU2VydmljZS5mZXRjaEFsbERvbWFpbnMoKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLmRvbWFpbnMgPSBkYXRhO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZWRpdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnZWRpdERvbWFpbicsIHsgZG9tYWluS2V5OiBpdGVtLmtleSB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5kZWxldGVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmRlbGV0ZShpdGVtKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmluaXRpYWxpemUoKTtcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coe1xuXHQgICAgICB0aXRsZTogXCJBcmUgeW91IHN1cmU/XCIsXG5cdCAgICAgIHRleHQ6IFwiVGhpcyB3aWxsIHBlcm1hbmVudGx5IHJlbW92ZSB0aGUgZG9tYWluIGZyb20gdGhlIGRpc3RyaWJ1dG9yIGFuZCBkaXNjb25uZWN0IGZyb20gdGVuYW50cy5cIixcblx0ICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG5cdCAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG5cdCAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogXCIjREQ2QjU1XCIsXG5cdCAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIlllcywgcmVtb3ZlIHRoZSBkb21haW4hXCIsXG5cdCAgICAgIGNsb3NlT25Db25maXJtOiB0cnVlXG5cdCAgICB9LCBjYWxsYmFjayk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRvbWFpbnNDdHJsID0gRG9tYWluc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY4MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdERvbWFpbkRldGFpbHNDdHJsLiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiRGlzdHJpYnV0b3JzU2VydmljZVwiLCBcIkRvbWFpbnNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwic3dlZXRcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJUb2FzdHNTZXJ2aWNlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gRG9tYWluRGV0YWlsc0N0cmwoJGxvZywgJHN0YXRlUGFyYW1zLCBEaXN0cmlidXRvcnNTZXJ2aWNlLCBEb21haW5zU2VydmljZSwgJHN0YXRlLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBUb2FzdHNTZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uY3VycmVudERvbWFpbiA9IHtcblx0ICAgIGtleTogdW5kZWZpbmVkLFxuXHQgICAgbmFtZTogdW5kZWZpbmVkLFxuXHQgICAgaW1wZXJzb25hdGlvbl9hZG1pbl9lbWFpbF9hZGRyZXNzOiB1bmRlZmluZWQsXG5cdCAgICBkaXN0cmlidXRvcl9rZXk6IHVuZGVmaW5lZCxcblx0ICAgIGFjdGl2ZTogdHJ1ZVxuXHQgIH07XG5cdCAgdm0uY3VycmVudERvbWFpbnMgPSBbXTtcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLmRvbWFpbktleTtcblx0XG5cdCAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICB2YXIgZG9tYWluUHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmdldERvbWFpbkJ5S2V5KCRzdGF0ZVBhcmFtcy5kb21haW5LZXkpO1xuXHQgICAgZG9tYWluUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50RG9tYWluID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICB2bS5jdXJyZW50RG9tYWluLmRpc3RyaWJ1dG9yX2tleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcblx0ICB9XG5cdFxuXHQgIHZtLm9uU2F2ZURvbWFpbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBEb21haW5zU2VydmljZS5zYXZlKHZtLmN1cnJlbnREb21haW4pO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NTYXZlRG9tYWluLCB2bS5vbkZhaWx1cmVTYXZlRG9tYWluKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NTYXZlRG9tYWluID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkZhaWx1cmVTYXZlRG9tYWluID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwOSkge1xuXHQgICAgICAkbG9nLmluZm8oJ0ZhaWx1cmUgc2F2aW5nIGRvbWFpbi4gRG9tYWluIGFscmVhZHkgZXhpc3RzOiAnICsgZXJyb3Iuc3RhdHVzICsgJyAnICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1RoaXMgZG9tYWluIG5hbWUgYWxyZWFkeSBleGlzdC4gUGxlYXNlIGVudGVyIGEgdW5pcXVlIGRvbWFpbiBuYW1lLicsICdlcnJvcicpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgJGxvZy5lcnJvcignRmFpbHVyZSBzYXZpbmcgZG9tYWluOiAnICsgZXJyb3Iuc3RhdHVzICsgJyAnICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBzYXZlIHlvdXIgdXBkYXRlcyBhdCB0aGlzIHRpbWUuJyk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uZWRpdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnZWRpdERvbWFpbicsIHsgZG9tYWluS2V5OiBpdGVtLmtleSB9KTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuRG9tYWluRGV0YWlsc0N0cmwgPSBEb21haW5EZXRhaWxzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjgxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0UHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybC4kaW5qZWN0ID0gW1wiUHJvb2ZQbGF5U2VydmljZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIiRzdGF0ZVwiLCBcIlRvYXN0c1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybChQcm9vZlBsYXlTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgVG9hc3RzU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5yYWRpb0J1dHRvbkNob2ljZXMgPSB7XG5cdCAgICBncm91cDE6ICdCeSBEZXZpY2UnLFxuXHQgICAgZ3JvdXAyOiAnU3VtbWFyaXplZCcsXG5cdCAgICBzZWxlY3Rpb246IG51bGxcblx0ICB9O1xuXHRcblx0ICB2bS5kYXRlVGltZVNlbGVjdGlvbiA9IHtcblx0ICAgIHN0YXJ0OiBudWxsLFxuXHQgICAgZW5kOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZm9ybVZhbGlkaXR5ID0ge1xuXHQgICAgc3RhcnRfZGF0ZTogZmFsc2UsXG5cdCAgICBlbmRfZGF0ZTogZmFsc2UsXG5cdCAgICBsb2NhdGlvbnM6IGZhbHNlXG5cdCAgfTtcblx0XG5cdCAgdm0udGVuYW50ID0gJHN0YXRlUGFyYW1zLnRlbmFudDtcblx0ICB2bS5ub19jYWNoZSA9IHRydWU7XG5cdCAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMgPSBbXTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbExvY2F0aW9ucyh2bS50ZW5hbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuXHQgICAgICB2bS5sb2NhdGlvbnMgPSBkYXRhLmRhdGEubG9jYXRpb25zO1xuXHQgICAgICBpZiAodm0ubG9jYXRpb25zLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSB0cnVlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZWZyZXNoTG9jYXRpb25zID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgdm0uc2VsZWN0ZWRJdGVtID0gJyc7XG5cdCAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0ICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucyA9IFtdO1xuXHQgICAgUHJvb2ZQbGF5U2VydmljZS5wcm9vZnBsYXlDYWNoZS5yZW1vdmVBbGwoKTtcblx0ICAgIHJldHVybiB2bS5pbml0aWFsaXplKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uYWRkVG9TZWxlY3RlZExvY2F0aW9ucyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAodm0uaXNMb2NhdGlvblZhbGlkKHNlYXJjaFRleHQpKSB7XG5cdCAgICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5wdXNoKHNlYXJjaFRleHQpO1xuXHQgICAgICB2YXIgaW5kZXggPSB2bS5sb2NhdGlvbnMuaW5kZXhPZihzZWFyY2hUZXh0KTtcblx0ICAgICAgdm0ubG9jYXRpb25zLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIH1cblx0ICAgIHZtLmFyZUxvY2F0aW9uc1ZhbGlkKCk7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKGxvY2F0aW9ucywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gobG9jYXRpb25zLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1JhZGlvVmFsaWQgPSBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkudHlwZSA9IHNlbGVjdGlvbjtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNMb2NhdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0ubG9jYXRpb25zKSkge1xuXHQgICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9sb2NhdGlvbnMpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uYXJlTG9jYXRpb25zVmFsaWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkubG9jYXRpb25zID0gdm0uc2VsZWN0ZWRfbG9jYXRpb25zLmxlbmd0aCA+IDA7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzU3RhcnREYXRlVmFsaWQgPSBmdW5jdGlvbiAoc3RhcnRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgPSBzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNFbmREYXRlVmFsaWQgPSBmdW5jdGlvbiAoZW5kX2RhdGUpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSA9IGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVtb3ZlRnJvbVNlbGVjdGVkTG9jYXRpb24gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgdmFyIGluZGV4ID0gdm0uc2VsZWN0ZWRfbG9jYXRpb25zLmluZGV4T2YoaXRlbSk7XG5cdCAgICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgIHZtLmxvY2F0aW9ucy5wdXNoKGl0ZW0pO1xuXHQgICAgdm0uYXJlTG9jYXRpb25zVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmxvY2F0aW9ucyAmJiB2bS5mb3JtVmFsaWRpdHkudHlwZSkge1xuXHQgICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG5cdCAgICAgICAgc3RhcnRfZGF0ZV91bml4OiAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uZGF0ZVRpbWVTZWxlY3Rpb24uc3RhcnQpLnVuaXgoKSxcblx0ICAgICAgICBlbmRfZGF0ZV91bml4OiAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uZGF0ZVRpbWVTZWxlY3Rpb24uZW5kKS51bml4KCksXG5cdCAgICAgICAgbG9jYXRpb25zOiB2bS5zZWxlY3RlZF9sb2NhdGlvbnMsXG5cdCAgICAgICAgdHlwZTogdm0ucmFkaW9CdXR0b25DaG9pY2VzLnNlbGVjdGlvblxuXHRcblx0ICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG5cdCAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNCeURldmljZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHZtLmZpbmFsLmxvY2F0aW9ucywgdm0udGVuYW50KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNTdW1tYXJpemVkKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwubG9jYXRpb25zLCB2bS50ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnRlbmFudHMgPSBudWxsO1xuXHQgIHZtLmN1cnJlbnRUZW5hbnQgPSB2bS50ZW5hbnQ7XG5cdFxuXHQgIHZtLmluaXRpYWxpemVfdGVuYW50X3NlbGVjdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbFRlbmFudHMoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS50ZW5hbnRzID0gZGF0YS5kYXRhLnRlbmFudHM7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5xdWVyeVNlYXJjaCA9IGZ1bmN0aW9uIChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcblx0ICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSBmYWxzZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgaWYgKHRlbmFudCAhPT0gdm0uY3VycmVudFRlbmFudCkge1xuXHQgICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuXHQgICAgICAgIHRlbmFudDogdGVuYW50XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIF9faW5fXyhuZWVkbGUsIGhheXN0YWNrKSB7XG5cdCAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xuXHR9XG5cdFxuXHRleHBvcnRzLlByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwgPSBQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2ODI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwuJGluamVjdCA9IFtcIlByb29mUGxheVNlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHRcblx0ICB2bS5yYWRpb0J1dHRvbkNob2ljZXMgPSB7XG5cdCAgICBncm91cDE6ICdCeSBEYXRlJyxcblx0ICAgIGdyb3VwMjogJ1N1bW1hcml6ZWQnLFxuXHQgICAgc2VsZWN0aW9uOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG5cdCAgICBzdGFydDogbnVsbCxcblx0ICAgIGVuZDogbnVsbFxuXHQgIH07XG5cdFxuXHQgIHZtLmZvcm1WYWxpZGl0eSA9IHtcblx0ICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuXHQgICAgZW5kX2RhdGU6IGZhbHNlLFxuXHQgICAgZGlzcGxheXM6IGZhbHNlXG5cdCAgfTtcblx0XG5cdCAgdm0udGVuYW50ID0gJHN0YXRlUGFyYW1zLnRlbmFudDtcblx0ICB2bS5ub19jYWNoZSA9IHRydWU7XG5cdCAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICB2bS5zZWxlY3RlZF9kaXNwbGF5cyA9IFtdO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsRGlzcGxheXModm0udGVuYW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgdm0uZGlzcGxheXMgPSBkYXRhLmRhdGEuZGV2aWNlcztcblx0ICAgICAgaWYgKHZtLmRpc3BsYXlzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSB0cnVlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZWZyZXNoRGlzcGxheXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICB2bS5zZWxlY3RlZEl0ZW0gPSAnJztcblx0ICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgdm0uc2VsZWN0ZWRfZGlzcGxheXMgPSBbXTtcblx0ICAgIFByb29mUGxheVNlcnZpY2UucHJvb2ZwbGF5Q2FjaGUucmVtb3ZlQWxsKCk7XG5cdCAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmFkZFRvU2VsZWN0ZWREaXNwbGF5cyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAodm0uaXNEaXNwbGF5VmFsaWQoc2VhcmNoVGV4dCkpIHtcblx0ICAgICAgdm0uc2VsZWN0ZWRfZGlzcGxheXMucHVzaChzZWFyY2hUZXh0KTtcblx0ICAgICAgdmFyIGluZGV4ID0gdm0uZGlzcGxheXMuaW5kZXhPZihzZWFyY2hUZXh0KTtcblx0ICAgICAgdm0uZGlzcGxheXMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgfVxuXHQgICAgdm0uYXJlRGlzcGxheXNWYWxpZCgpO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5xdWVyeVNlYXJjaCA9IGZ1bmN0aW9uIChkaXNwbGF5cywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2goZGlzcGxheXMsIHNlYXJjaFRleHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0Rpc3BsYXlWYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAoX19pbl9fKHNlYXJjaFRleHQsIHZtLmRpc3BsYXlzKSkge1xuXHQgICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9kaXNwbGF5cykpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5hcmVEaXNwbGF5c1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmRpc3BsYXlzID0gdm0uc2VsZWN0ZWRfZGlzcGxheXMubGVuZ3RoID4gMDtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IHN0YXJ0X2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gZW5kX2RhdGUgaW5zdGFuY2VvZiBEYXRlO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWREaXNwbGF5ID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHZhciBpbmRleCA9IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLmluZGV4T2YoaXRlbSk7XG5cdCAgICB2bS5zZWxlY3RlZF9kaXNwbGF5cy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgdm0uZGlzcGxheXMucHVzaChpdGVtKTtcblx0ICAgIHZtLmFyZURpc3BsYXlzVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmRpc3BsYXlzICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG5cdCAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgIHJldHVybiB2bS5maW5hbCA9IHtcblx0ICAgICAgICBzdGFydF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuXHQgICAgICAgIGVuZF9kYXRlX3VuaXg6ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcblx0ICAgICAgICBkaXNwbGF5czogdm0uc2VsZWN0ZWRfZGlzcGxheXMsXG5cdCAgICAgICAgdHlwZTogdm0ucmFkaW9CdXR0b25DaG9pY2VzLnNlbGVjdGlvblxuXHRcblx0ICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG5cdCAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzQnlEYXRlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwuZGlzcGxheXMsIHZtLnRlbmFudCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5kaXNwbGF5cywgdm0udGVuYW50KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS50ZW5hbnRzID0gbnVsbDtcblx0ICB2bS5jdXJyZW50VGVuYW50ID0gdm0udGVuYW50O1xuXHRcblx0ICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgaWYgKHRlbmFudCAhPT0gdm0uY3VycmVudFRlbmFudCkge1xuXHQgICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuXHQgICAgICAgIHRlbmFudDogdGVuYW50XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuXHQgIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSkgPj0gMDtcblx0fVxuXHRcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwgPSBQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY4Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwuJGluamVjdCA9IFtcIlByb29mUGxheVNlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Mik7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuXHQgICAgZ3JvdXAxOiAnQnkgRGV2aWNlJyxcblx0ICAgIGdyb3VwMjogJ0J5IERhdGUnLFxuXHQgICAgc2VsZWN0aW9uOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG5cdCAgICBzdGFydDogbnVsbCxcblx0ICAgIGVuZDogbnVsbFxuXHQgIH07XG5cdFxuXHQgIHZtLmZvcm1WYWxpZGl0eSA9IHtcblx0ICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuXHQgICAgZW5kX2RhdGU6IGZhbHNlLFxuXHQgICAgcmVzb3VyY2VzOiBmYWxzZVxuXHQgIH07XG5cdFxuXHQgIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG5cdCAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuXHQgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzID0gW107XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxSZXNvdXJjZXModm0udGVuYW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgdm0uZnVsbF9yZXNvdXJjZV9tYXAgPSBkYXRhLmRhdGEucmVzb3VyY2VzO1xuXHQgICAgICB2bS5yZXNvdXJjZXMgPSBbXTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmRhdGEucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHJlc291cmNlID0gZGF0YS5kYXRhLnJlc291cmNlc1tpXTtcblx0ICAgICAgICB2bS5yZXNvdXJjZXMucHVzaChyZXNvdXJjZS5yZXNvdXJjZV9uYW1lKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHZtLnJlc291cmNlcy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaFJlc291cmNlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLnNlbGVjdGVkSXRlbSA9ICcnO1xuXHQgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZWxlY3RlZF9yZXNvdXJjZXMgPSBbXTtcblx0ICAgIFByb29mUGxheVNlcnZpY2UucHJvb2ZwbGF5Q2FjaGUucmVtb3ZlQWxsKCk7XG5cdCAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmFkZFRvU2VsZWN0ZWRSZXNvdXJjZXMgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgaWYgKHZtLmlzUmVzb3VyY2VWYWxpZChzZWFyY2hUZXh0KSkge1xuXHQgICAgICB2bS5zZWxlY3RlZF9yZXNvdXJjZXMucHVzaChzZWFyY2hUZXh0KTtcblx0ICAgICAgdmFyIGluZGV4ID0gdm0ucmVzb3VyY2VzLmluZGV4T2Yoc2VhcmNoVGV4dCk7XG5cdCAgICAgIHZtLnJlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICB9XG5cdCAgICB2bS5hcmVSZXNvdXJjZXNWYWxpZCgpO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5xdWVyeVNlYXJjaCA9IGZ1bmN0aW9uIChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNSYWRpb1ZhbGlkID0gZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LnR5cGUgPSBzZWxlY3Rpb247XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAoX19pbl9fKHNlYXJjaFRleHQsIHZtLnJlc291cmNlcykpIHtcblx0ICAgICAgaWYgKCFfX2luX18oc2VhcmNoVGV4dCwgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzKSkge1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmFyZVJlc291cmNlc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LnJlc291cmNlcyA9IHZtLnNlbGVjdGVkX3Jlc291cmNlcy5sZW5ndGggPiAwO1xuXHQgICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1N0YXJ0RGF0ZVZhbGlkID0gZnVuY3Rpb24gKHN0YXJ0X2RhdGUpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlID0gc3RhcnRfZGF0ZSBpbnN0YW5jZW9mIERhdGU7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzRW5kRGF0ZVZhbGlkID0gZnVuY3Rpb24gKGVuZF9kYXRlKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgPSBlbmRfZGF0ZSBpbnN0YW5jZW9mIERhdGU7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJlbW92ZUZyb21TZWxlY3RlZFJlc291cmNlID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHZhciBpbmRleCA9IHZtLnNlbGVjdGVkX3Jlc291cmNlcy5pbmRleE9mKGl0ZW0pO1xuXHQgICAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICB2bS5yZXNvdXJjZXMucHVzaChpdGVtKTtcblx0ICAgIHZtLmFyZVJlc291cmNlc1ZhbGlkKCk7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5yZXNvdXJjZXMgJiYgdm0uZm9ybVZhbGlkaXR5LnR5cGUpIHtcblx0ICAgICAgdm0uZGlzYWJsZWQgPSBmYWxzZTtcblx0ICAgICAgcmV0dXJuIHZtLmZpbmFsID0ge1xuXHQgICAgICAgIHN0YXJ0X2RhdGVfdW5peDogKDAsIF9tb21lbnQyLmRlZmF1bHQpKHZtLmRhdGVUaW1lU2VsZWN0aW9uLnN0YXJ0KS51bml4KCksXG5cdCAgICAgICAgZW5kX2RhdGVfdW5peDogKDAsIF9tb21lbnQyLmRlZmF1bHQpKHZtLmRhdGVUaW1lU2VsZWN0aW9uLmVuZCkudW5peCgpLFxuXHQgICAgICAgIHJlc291cmNlczogdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLFxuXHQgICAgICAgIHR5cGU6IHZtLnJhZGlvQnV0dG9uQ2hvaWNlcy5zZWxlY3Rpb25cblx0ICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHJlc291cmNlc19hc19pZHMgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uZmluYWwucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBpdGVtID0gdm0uZmluYWwucmVzb3VyY2VzW2ldO1xuXHQgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZtLmZ1bGxfcmVzb3VyY2VfbWFwLmxlbmd0aDsgaisrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSB2bS5mdWxsX3Jlc291cmNlX21hcFtqXTtcblx0ICAgICAgICBpZiAoZWFjaFtcInJlc291cmNlX25hbWVcIl0gPT09IGl0ZW0pIHtcblx0ICAgICAgICAgIHJlc291cmNlc19hc19pZHMucHVzaChlYWNoW1wicmVzb3VyY2VfaWRlbnRpZmllclwiXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG5cdCAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURldmljZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHJlc291cmNlc19hc19pZHMsIHZtLnRlbmFudCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgcmVzb3VyY2VzX2FzX2lkcywgdm0udGVuYW50KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS50ZW5hbnRzID0gbnVsbDtcblx0ICB2bS5jdXJyZW50VGVuYW50ID0gdm0udGVuYW50O1xuXHRcblx0ICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucXVlcnlTZWFyY2ggPSBmdW5jdGlvbiAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzU2VsZWN0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoKSB7XG5cdCAgICBpZiAoX19pbl9fKHNlYXJjaCwgdm0udGVuYW50cykpIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gZmFsc2U7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgIGlmICh0ZW5hbnQgIT09IHZtLmN1cnJlbnRUZW5hbnQpIHtcblx0ICAgICAgJHN0YXRlLmdvKCdwcm9vZkRldGFpbCcsIHtcblx0ICAgICAgICB0ZW5hbnQ6IHRlbmFudFxuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIF9faW5fXyhuZWVkbGUsIGhheXN0YWNrKSB7XG5cdCAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xuXHR9XG5cdFxuXHRleHBvcnRzLlByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwgPSBQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2ODQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdFByb29mT2ZQbGF5Q3RybC4kaW5qZWN0ID0gW1wiUHJvb2ZQbGF5U2VydmljZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIiRzdGF0ZVwiLCBcIlRvYXN0c1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBQcm9vZk9mUGxheUN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ucmVzb3VyY2UgPSB7IHRpdGxlOiBcIlJlc291cmNlIFJlcG9ydFwiIH07XG5cdCAgdm0ubG9jYXRpb24gPSB7IHRpdGxlOiBcIkxvY2F0aW9uIFJlcG9ydFwiIH07XG5cdCAgdm0uZGlzcGxheSA9IHsgdGl0bGU6IFwiRGlzcGxheSBSZXBvcnRcIiB9O1xuXHRcblx0ICB2bS5jaG9zZW5fdGVuYW50ID0gbnVsbDtcblx0ICB2bS50ZW5hbnRzID0gbnVsbDtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxUZW5hbnRzKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udGVuYW50cyA9IGRhdGEuZGF0YS50ZW5hbnRzO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucXVlcnlTZWFyY2ggPSBmdW5jdGlvbiAocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSB7XG5cdCAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzU2VsZWN0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoKSB7XG5cdCAgICBpZiAoX19pbl9fKHNlYXJjaCwgdm0udGVuYW50cykpIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gZmFsc2U7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgIGlmICh0ZW5hbnQpIHtcblx0ICAgICAgdm0uY2hvc2VuX3RlbmFudCA9IHRlbmFudDtcblx0ICAgICAgcmV0dXJuICRzdGF0ZS5nbygncHJvb2ZEZXRhaWwnLCB7XG5cdCAgICAgICAgdGVuYW50OiB2bS5jaG9zZW5fdGVuYW50XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnJlZnJlc2hUZW5hbnRzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0udGVuYW50cyA9IG51bGw7XG5cdCAgICB2YXIgdXJsID0gUHJvb2ZQbGF5U2VydmljZS5tYWtlSFRUUFVSTChcIi9yZXRyaWV2ZV9teV90ZW5hbnRzXCIsICcnKTtcblx0ICAgIFByb29mUGxheVNlcnZpY2UucHJvb2ZwbGF5Q2FjaGUucmVtb3ZlKHVybCk7XG5cdCAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIF9faW5fXyhuZWVkbGUsIGhheXN0YWNrKSB7XG5cdCAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xuXHR9XG5cdFxuXHRleHBvcnRzLlByb29mT2ZQbGF5Q3RybCA9IFByb29mT2ZQbGF5Q3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjg1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODYpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Nyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIEFkbWluU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBBZG1pblNlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIEFkbWluU2VydmljZShSZXN0YW5ndWxhcikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBBZG1pblNlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgICAgdGhpcy5VU0VSX1NFUlZJQ0UgPSBcInVzZXJzXCI7XG5cdCAgICB0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UgPSBcImRpc3RyaWJ1dG9yc1wiO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQWRtaW5TZXJ2aWNlLCBbe1xuXHQgICAga2V5OiBcIm1ha2VEaXN0cmlidXRvclwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VEaXN0cmlidXRvcihkaXN0cmlidXRvciwgYWRtaW5fZW1haWwpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgZGlzdHJpYnV0b3I6IGRpc3RyaWJ1dG9yLFxuXHQgICAgICAgIGFkbWluX2VtYWlsOiBhZG1pbl9lbWFpbFxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsICcvYXBpL3YxL2Rpc3RyaWJ1dG9ycycpLmN1c3RvbVBPU1QocGF5bG9hZCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJhZGRVc2VyVG9EaXN0cmlidXRvclwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yKHVzZXJFbWFpbCwgZGlzdHJpYnV0b3IsIGRpc3RyaWJ1dG9yQWRtaW4pIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgdXNlcl9lbWFpbDogdXNlckVtYWlsLFxuXHQgICAgICAgIGRpc3RyaWJ1dG9yOiBkaXN0cmlidXRvcixcblx0ICAgICAgICBkaXN0cmlidXRvcl9hZG1pbjogZGlzdHJpYnV0b3JBZG1pblxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlVTRVJfU0VSVklDRSwgXCIvYXBpL3YxL3VzZXJzXCIpLmN1c3RvbVBPU1QocGF5bG9hZCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJnZXRVc2Vyc09mRGlzdHJpYnV0b3JcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVc2Vyc09mRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIFwiL2FwaS92MS9hbmFseXRpY3MvZGlzdHJpYnV0b3JzL1wiICsgZGlzdHJpYnV0b3JLZXkgKyBcIi91c2Vyc1wiKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImdldEFsbERpc3RyaWJ1dG9yc1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbERpc3RyaWJ1dG9ycygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIFwiL2FwaS92MS9kaXN0cmlidXRvcnNcIikuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gQWRtaW5TZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBBZG1pblNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Nik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjg3KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQXV0aG9yaXphdGlvblNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgQXV0aG9yaXphdGlvblNlcnZpY2UuJGluamVjdCA9IFtcIlNlc3Npb25zU2VydmljZVwiLCBcIiRxXCJdO1xuXHQgIGZ1bmN0aW9uIEF1dGhvcml6YXRpb25TZXJ2aWNlKFNlc3Npb25zU2VydmljZSwgJHEpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQXV0aG9yaXphdGlvblNlcnZpY2UpO1xuXHQgICAgdGhpcy4kcSA9ICRxO1xuXHQgICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2U7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShBdXRob3JpemF0aW9uU2VydmljZSwgW3tcblx0ICAgIGtleTogJ2F1dGhlbnRpY2F0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoKSB7XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIHVzZXJLZXkgPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCk7XG5cdCAgICAgIGlmICh1c2VyS2V5KSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdzaWduX2luJ10pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ25vdEF1dGhlbnRpY2F0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG5vdEF1dGhlbnRpY2F0ZWQoKSB7XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIHVzZXJLZXkgPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCk7XG5cdCAgICAgIGlmICghdXNlcktleSkge1xuXHQgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVqZWN0KFtcImF1dGhFcnJvclwiLCAnaG9tZSddKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdpc0FkbWluT3JEaXN0cmlidXRvckFkbWluJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpc0FkbWluT3JEaXN0cmlidXRvckFkbWluKCkge1xuXHQgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cdCAgICAgIHZhciBhZG1pbiA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldElzQWRtaW4oKTtcblx0ICAgICAgdmFyIGRpc3RyaWJ1dG9yQWRtaW4gPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCk7XG5cdCAgICAgIHZhciBoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbiA9IGZhbHNlO1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JBZG1pbiAmJiBkaXN0cmlidXRvckFkbWluLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICBoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbiA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHVzZXJLZXkgPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCk7XG5cdCAgICAgIGlmICghdXNlcktleSkge1xuXHQgICAgICAgIGRlZmVycmVkLnJlamVjdCgnc2lnbl9pbicpO1xuXHQgICAgICB9IGVsc2UgaWYgKCFhZG1pbiAmJiAhaGFzQXRMZWFzdE9uZURpc3RyaWJ1dG9yQWRtaW4pIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdob21lJ10pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQXV0aG9yaXphdGlvblNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Nik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjg3KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ29tbWFuZHNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIENvbW1hbmRzU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cdCAgZnVuY3Rpb24gQ29tbWFuZHNTZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENvbW1hbmRzU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLlNFUlZJQ0VfTkFNRSA9ICdkZXZpY2VzJztcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENvbW1hbmRzU2VydmljZSwgW3tcblx0ICAgIGtleTogJ3BhbmVsU2xlZXAnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBhbmVsU2xlZXAoa2V5LCBfcGFuZWxTbGVlcCkge1xuXHQgICAgICAvKiogcGFuZWxTbGVlcDogYm9vbGVhbiAqKi9cblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgcGFuZWxTbGVlcDogX3BhbmVsU2xlZXBcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9wYW5lbC1zbGVlcCcpLmN1c3RvbVBVVChwYXlsb2FkKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVzZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvcmVzZXQnKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbnRlbnREZWxldGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnRlbnREZWxldGUoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9jb250ZW50LWRlbGV0ZScpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29udGVudFVwZGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29udGVudFVwZGF0ZShrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL2NvbnRlbnQtdXBkYXRlJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICd1cGRhdGVEZXZpY2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZURldmljZShrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL3JlZnJlc2gtZGV2aWNlLXJlcHJlc2VudGF0aW9uJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICd0b2dnbGVEaWFnbm9zdGljcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlRGlhZ25vc3RpY3Moa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9kaWFnbm9zdGljcycpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVzdGFydCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVzdGFydChrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL3Jlc3RhcnQnKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Bvc3RMb2cnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBvc3RMb2coa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9wb3N0LWxvZycpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncG93ZXJPbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcG93ZXJPbihrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL3Bvd2VyLW9uJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdwb3dlck9mZicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcG93ZXJPZmYoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9wb3dlci1vZmYnKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3ZvbHVtZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdm9sdW1lKGtleSwgX3ZvbHVtZSkge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IHtcblx0ICAgICAgICB2b2x1bWU6IF92b2x1bWVcblx0ICAgICAgfTtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkpLmN1c3RvbVBPU1QocGF5bG9hZCwgJ2NvbW1hbmRzL3ZvbHVtZScpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjdXN0b20nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGN1c3RvbShrZXksIGNvbW1hbmQpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgY29tbWFuZDogY29tbWFuZFxuXHQgICAgICB9O1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSkuY3VzdG9tUE9TVChwYXlsb2FkLCAnY29tbWFuZHMvY3VzdG9tJyk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gQ29tbWFuZHNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDb21tYW5kc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Nik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjg3KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzIpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEYXRlTWFuaXB1bGF0aW9uU2VydmljZSwgW3tcblx0ICAgIGtleTogJ2NvbnZlcnRUb01vbWVudElmTm90QWxyZWFkeScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KGRhdGUpIHtcblx0ICAgICAgaWYgKCFfbW9tZW50Mi5kZWZhdWx0LmlzTW9tZW50KGRhdGUpKSB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfbW9tZW50Mi5kZWZhdWx0KShuZXcgRGF0ZShkYXRlKSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGRhdGU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjcmVhdGVGb3JtYXR0ZWRTdGFydEFuZEVuZERhdGVGcm9tVG9kYXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheShkYXlzQmFjaykge1xuXHQgICAgICB2YXIgc3RhcnRUaW1lID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG5cdCAgICAgIHZhciBzdGFydFRpbWVNaWROaWdodCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KShzdGFydFRpbWUsICdZWVlZLU1NLUREJykuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tIEEnKTtcblx0ICAgICAgdmFyIHN0YXJ0VGltZUVuZE9mRGF5ID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHN0YXJ0VGltZU1pZE5pZ2h0LCAnWVlZWS1NTS1ERCBoaDptbSBBJykuYWRkKDEsICdkYXknKS5zdWJ0cmFjdCg2MCwgJ3NlY29uZHMnKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW0gQScpO1xuXHRcblx0ICAgICAgdmFyIGVuZFRpbWUgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkoKS5zdWJ0cmFjdCgzMCwgJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcblx0ICAgICAgdmFyIGVuZFRpbWVNaWROaWdodCA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KShlbmRUaW1lLCAnWVlZWS1NTS1ERCcpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJyk7XG5cdFxuXHQgICAgICByZXR1cm4gW2VuZFRpbWVNaWROaWdodCwgc3RhcnRUaW1lRW5kT2ZEYXldO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dlbmVyYXRlTG9jYWxGcm9tVVRDJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUxvY2FsRnJvbVVUQyhVVENUaW1lKSB7XG5cdCAgICAgIHZhciBsb2NhbFRpbWUgPSBfbW9tZW50Mi5kZWZhdWx0LnV0YyhVVENUaW1lKS50b0RhdGUoKTtcblx0ICAgICAgcmV0dXJuICgwLCBfbW9tZW50Mi5kZWZhdWx0KShsb2NhbFRpbWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbTpzcyBBJyk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBEYXRlTWFuaXB1bGF0aW9uU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Nik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjg3KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjA4KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRGV2aWNlc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgRGV2aWNlc1NlcnZpY2UuJGluamVjdCA9IFtcIiRsb2dcIiwgXCJSZXN0YW5ndWxhclwiLCBcIiRxXCIsIFwiJGh0dHBcIiwgXCIkc3RhdGVcIl07XG5cdCAgZnVuY3Rpb24gRGV2aWNlc1NlcnZpY2UoJGxvZywgUmVzdGFuZ3VsYXIsICRxLCAkaHR0cCwgJHN0YXRlKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIERldmljZXNTZXJ2aWNlKTtcblx0ICAgIHRoaXMuJGxvZyA9ICRsb2c7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLiRxID0gJHE7XG5cdCAgICB0aGlzLiRodHRwID0gJGh0dHA7XG5cdCAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcblx0ICAgIHRoaXMuU0VSVklDRV9OQU1FID0gJ2RldmljZXMnO1xuXHQgICAgdGhpcy51cmlCYXNlID0gJ3YxL2RldmljZXMnO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGV2aWNlc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdnZXREZXZpY2VCeU1hY0FkZHJlc3MnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERldmljZUJ5TWFjQWRkcmVzcyhtYWNBZGRyZXNzKSB7XG5cdCAgICAgIHZhciB1cmwgPSAnYXBpL3YxL2RldmljZXM/bWFjX2FkZHJlc3M9JyArIG1hY0FkZHJlc3M7XG5cdCAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnYXBpL3YxL2RldmljZXMnLCB1cmwpLmdldCgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERldmljZUJ5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXZpY2VCeUtleShkZXZpY2VLZXkpIHtcblx0ICAgICAgdmFyIHVybCA9ICdhcGkvdjEvZGV2aWNlcy8nICsgZGV2aWNlS2V5O1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShkaWN0aW9uYXJ5LCB2YWx1ZSkge1xuXHQgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpY3Rpb25hcnkubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IGRpY3Rpb25hcnlbaV07XG5cdCAgICAgICAgcmVzdWx0cy5wdXNoKGVhY2hbdmFsdWVdKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0cztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuXHQgICAgICAgIHZhciBpc01hYyA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBpc0dDTWlkID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIHNlcmlhbERldmljZXNEaWN0ID0gX3RoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcblx0ICAgICAgICB2YXIgZGV2aWNlU2VyaWFsc09ubHkgPSBfdGhpcy5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcInNlcmlhbFwiKTtcblx0ICAgICAgICByZXR1cm4gW2RldmljZVNlcmlhbHNPbmx5LCBzZXJpYWxEZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuXHQgICAgICAgIHZhciBzZXJpYWxEZXZpY2VzRGljdCA9IHZvaWQgMDtcblx0ICAgICAgICB2YXIgaXNNYWMgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgaXNHQ01pZCA9IGZhbHNlO1xuXHQgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgICAgIHNlcmlhbERldmljZXNEaWN0ID0gX3RoaXMyLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHNlcmlhbERldmljZXNEaWN0ID0gX3RoaXMyLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBzZXJpYWxEZXZpY2VzT25seSA9IF90aGlzMi5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcInNlcmlhbFwiKTtcblx0ICAgICAgICByZXR1cm4gW3NlcmlhbERldmljZXNPbmx5LCBzZXJpYWxEZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuXHQgICAgICAgIHZhciBtYWNEZXZpY2VzRGljdCA9IF90aGlzMy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgdHJ1ZSk7XG5cdCAgICAgICAgdmFyIGRldmljZU1hY3NPbmx5ID0gX3RoaXMzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwibWFjXCIpO1xuXHQgICAgICAgIHJldHVybiBbZGV2aWNlTWFjc09ubHksIG1hY0RldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxNYWMoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG5cdCAgICAgICAgdmFyIG1hY0RldmljZXNEaWN0ID0gdm9pZCAwO1xuXHQgICAgICAgIHZhciBpc01hYyA9IHRydWU7XG5cdCAgICAgICAgdmFyIGlzR0NNaWQgPSBmYWxzZTtcblx0ICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICBtYWNEZXZpY2VzRGljdCA9IF90aGlzNC5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBtYWNEZXZpY2VzRGljdCA9IF90aGlzNC5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgbWFjRGV2aWNlcyA9IF90aGlzNC5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcIm1hY1wiKTtcblx0ICAgICAgICByZXR1cm4gW21hY0RldmljZXMsIG1hY0RldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgZ2NtaWREZXZpY2VzRGljdCA9IF90aGlzNS5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuXHQgICAgICAgIHZhciBnY21pZERldmljZXNPbmx5ID0gX3RoaXM1LnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwiZ2NtaWRcIik7XG5cdCAgICAgICAgcmV0dXJuIFtnY21pZERldmljZXNPbmx5LCBnY21pZERldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5RGlzdHJpYnV0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZChkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgR0NNaWREZXZpY2VzRGljdCA9IHZvaWQgMDtcblx0ICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICBHQ01pZERldmljZXNEaWN0ID0gX3RoaXM2LmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBmYWxzZSwgdHJ1ZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIEdDTWlkRGV2aWNlc0RpY3QgPSBfdGhpczYuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGdjbWlkRGV2aWNlc09ubHkgPSBfdGhpczYucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJnY21pZFwiKTtcblx0ICAgICAgICByZXR1cm4gW2djbWlkRGV2aWNlc09ubHksIEdDTWlkRGV2aWNlc0RpY3RdO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZWplY3RlZFByb21pc2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlamVjdGVkUHJvbWlzZSgpIHtcblx0ICAgICAgdmFyIGRldmljZURlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICBkZXZpY2VEZWZlcnJlZC5yZWplY3QoKTtcblx0ICAgICAgcmV0dXJuIGRldmljZURlZmVycmVkLnByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGV2aWNlcyhwYXJ0aWFsU2VhcmNoLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIGRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICB2YXIgZGV2aWNlc1Byb21pc2UgPSB2b2lkIDA7XG5cdCAgICAgIGlmIChwYXJ0aWFsU2VhcmNoKSB7XG5cdCAgICAgICAgaWYgKHBhcnRpYWxTZWFyY2gubGVuZ3RoID4gMikge1xuXHQgICAgICAgICAgaWYgKGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcblx0ICAgICAgICAgICAgaWYgKGJ5VGVuYW50KSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uID09PSBcIk1BQ1wiKSB7XG5cdCAgICAgICAgICAgIGlmIChieVRlbmFudCkge1xuXHQgICAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoYnlUZW5hbnQpIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLnJlamVjdGVkUHJvbWlzZSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMucmVqZWN0ZWRQcm9taXNlKCk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRldmljZXNSZXN1bHQpIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcblx0ICAgICAgICAgIFwic3VjY2Vzc1wiOiB0cnVlLFxuXHQgICAgICAgICAgXCJkZXZpY2VzXCI6IGRldmljZXNSZXN1bHRcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICBkZXZpY2VzUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZGV2aWNlc1Jlc3VsdCkge1xuXHQgICAgICAgIGRlZmVycmVkLnJlc29sdmUoe1xuXHQgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlLFxuXHQgICAgICAgICAgXCJkZXZpY2VzXCI6IFtdXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaXNSZXNvdXJjZVZhbGlkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpc1Jlc291cmNlVmFsaWQocmVzb3VyY2UsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgbWFjID0gdm9pZCAwLFxuXHQgICAgICAgICAgc2VyaWFsID0gdm9pZCAwLFxuXHQgICAgICAgICAgZ2NtaWQgPSB2b2lkIDA7XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgaWYgKHJlc291cmNlKSB7XG5cdCAgICAgICAgaWYgKHJlc291cmNlLmxlbmd0aCA+IDIpIHtcblx0ICAgICAgICAgIG1hYyA9IGJ1dHRvbiA9PT0gXCJNQUNcIjtcblx0ICAgICAgICAgIHNlcmlhbCA9IGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG5cdCAgICAgICAgICBnY21pZCA9IGJ1dHRvbiA9PT0gXCJHQ00gSURcIjtcblx0ICAgICAgICAgIGlmIChieVRlbmFudCkge1xuXHQgICAgICAgICAgICBpZiAobWFjKSB7XG5cdCAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0aGlzLm1hdGNoRGV2aWNlc0J5RnVsbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcmVzb3VyY2UsIHVubWFuYWdlZCkpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuXHQgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodGhpcy5tYXRjaERldmljZXNCeUZ1bGxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHJlc291cmNlLCB1bm1hbmFnZWQpKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRoaXMubWF0Y2hEZXZpY2VzQnlGdWxsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHJlc291cmNlLCB1bm1hbmFnZWQpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKG1hYykge1xuXHQgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodGhpcy5tYXRjaERldmljZXNCeUZ1bGxNYWMoZGlzdHJpYnV0b3JLZXksIHJlc291cmNlLCB1bm1hbmFnZWQpKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChzZXJpYWwpIHtcblx0ICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRoaXMubWF0Y2hEZXZpY2VzQnlGdWxsU2VyaWFsKGRpc3RyaWJ1dG9yS2V5LCByZXNvdXJjZSwgdW5tYW5hZ2VkKSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0aGlzLm1hdGNoRGV2aWNlc0J5RnVsbEdDTWlkKGRpc3RyaWJ1dG9yS2V5LCByZXNvdXJjZSwgdW5tYW5hZ2VkKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7IFwiaXNfbWF0Y2hcIjogZmFsc2UgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlZmVycmVkLnJlc29sdmUoeyBcImlzX21hdGNoXCI6IGZhbHNlIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmonLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoodGhlQXJyYXksIG1hYywgZ2NtKSB7XG5cdCAgICAgIC8qKiBDb252ZXJ0cyBhcnJheSB0byBkaWN0aW9uYXJ5IHdpdGggbWFjLCBnY21pZCwgb3Igc2VyaWFsIGFzIHRoZSBrZXkgKiovXG5cdCAgICAgIHZhciBkZXZpY2VzID0ge307XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhlQXJyYXkubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgaXRlbSA9IHRoZUFycmF5W2ldO1xuXHQgICAgICAgIGlmIChtYWMpIHtcblx0ICAgICAgICAgIGRldmljZXNbaXRlbS5tYWNdID0gaXRlbTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGdjbSkge1xuXHQgICAgICAgICAgZGV2aWNlc1tpdGVtLmdjbWlkXSA9IGl0ZW07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGRldmljZXNbaXRlbS5zZXJpYWxdID0gaXRlbTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGRldmljZXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZWRpdEl0ZW0nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGVkaXRJdGVtKGl0ZW0sIGZyb21EZXZpY2VzKSB7XG5cdCAgICAgIGlmICghZnJvbURldmljZXMpIHtcblx0ICAgICAgICBmcm9tRGV2aWNlcyA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuJHN0YXRlLmdvKCdlZGl0RGV2aWNlJywge1xuXHQgICAgICAgIGRldmljZUtleTogaXRlbS5rZXksXG5cdCAgICAgICAgdGVuYW50S2V5OiBpdGVtLnRlbmFudEtleSxcblx0ICAgICAgICBmcm9tRGV2aWNlczogZnJvbURldmljZXNcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncHJlcHJhdGVGb3JFZGl0VmlldycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcHJlcHJhdGVGb3JFZGl0VmlldyhidXR0b24sIHRlbmFudEtleSwgc2VhcmNoVGV4dCwgbWFjRGV2aWNlcywgc2VyaWFsRGV2aWNlcywgZ2NtaWREZXZpY2VzKSB7XG5cdCAgICAgIHZhciBtYWMgPSB2b2lkIDAsXG5cdCAgICAgICAgICBzZXJpYWwgPSB2b2lkIDAsXG5cdCAgICAgICAgICBnY21pZCA9IHZvaWQgMDtcblx0XG5cdCAgICAgIG1hYyA9IGJ1dHRvbiA9PT0gXCJNQUNcIjtcblx0ICAgICAgc2VyaWFsID0gYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICAgICAgZ2NtaWQgPSBidXR0b24gPT09IFwiR0NNIElEXCI7XG5cdFxuXHQgICAgICBpZiAobWFjKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0obWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0oc2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0oZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldElzc3Vlc0J5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJc3N1ZXNCeUtleShkZXZpY2VLZXksIHN0YXJ0RXBvY2gsIGVuZEVwb2NoLCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuXHQgICAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcblx0ICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL2RldmljZXMvJyArIHByZXYgKyAnLycgKyBuZXh0ICsgJy8nICsgZGV2aWNlS2V5ICsgJy9pc3N1ZXM/c3RhcnQ9JyArIHN0YXJ0RXBvY2ggKyAnJmVuZD0nICsgZW5kRXBvY2g7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldENvbW1hbmRFdmVudHNCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29tbWFuZEV2ZW50c0J5S2V5KGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcblx0ICAgICAgbmV4dCA9IG5leHQgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IG5leHQ7XG5cdCAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9wbGF5ZXItY29tbWFuZC1ldmVudHMvJyArIHByZXYgKyAnLycgKyBuZXh0ICsgJy8nICsgZGV2aWNlS2V5O1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgICAvLyBURU5BTlQgVklFV1xuXHQgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREZXZpY2VzQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcblx0ICAgICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9IHRoaXMubWFrZURldmljZXNCeVRlbmFudFVSTCh0ZW5hbnRLZXksIHByZXYsIG5leHQsIGZhbHNlKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRVbm1hbmFnZWREZXZpY2VzQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVubWFuYWdlZERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcblx0ICAgICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICAgIHZhciB1cmwgPSB0aGlzLm1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCB0cnVlKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxfc2VyaWFsLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL3RlbmFudHMvc2VhcmNoLycgKyB0ZW5hbnRLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfc2VyaWFsPScgKyBwYXJ0aWFsX3NlcmlhbDtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0J5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX21hYywgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS90ZW5hbnRzL3NlYXJjaC8nICsgdGVuYW50S2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX21hYz0nICsgcGFydGlhbF9tYWM7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX2djbWlkLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL3RlbmFudHMvc2VhcmNoLycgKyB0ZW5hbnRLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfZ2NtaWQ9JyArIHBhcnRpYWxfZ2NtaWQ7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ21hdGNoRGV2aWNlc0J5RnVsbFNlcmlhbEJ5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYXRjaERldmljZXNCeUZ1bGxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIGZ1bGxfc2VyaWFsLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL3RlbmFudHMvbWF0Y2gvJyArIHRlbmFudEtleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmZnVsbF9zZXJpYWw9JyArIGZ1bGxfc2VyaWFsO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdtYXRjaERldmljZXNCeUZ1bGxNYWNCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWF0Y2hEZXZpY2VzQnlGdWxsTWFjQnlUZW5hbnQodGVuYW50S2V5LCBmdWxsX21hYywgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS90ZW5hbnRzL21hdGNoLycgKyB0ZW5hbnRLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJmZ1bGxfbWFjPScgKyBmdWxsX21hYztcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnbWF0Y2hEZXZpY2VzQnlGdWxsR0NNaWRCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWF0Y2hEZXZpY2VzQnlGdWxsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIGZ1bGxfZ2NtaWQsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvdGVuYW50cy9tYXRjaC8nICsgdGVuYW50S2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZmdWxsX2djbWlkPScgKyBmdWxsX2djbWlkO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgICAvLyBERVZJQ0VTIFZJRVdcblx0ICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbChkaXN0cmlidXRvcktleSwgcGFydGlhbF9zZXJpYWwsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9kaXN0cmlidXRvcnMvc2VhcmNoLycgKyBkaXN0cmlidXRvcktleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9zZXJpYWw9JyArIHBhcnRpYWxfc2VyaWFsO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsX21hYywgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJyArIGRpc3RyaWJ1dG9yS2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX21hYz0nICsgcGFydGlhbF9tYWM7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZChkaXN0cmlidXRvcktleSwgcGFydGlhbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJyArIGRpc3RyaWJ1dG9yS2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX2djbWlkPScgKyBwYXJ0aWFsX2djbWlkO1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdtYXRjaERldmljZXNCeUZ1bGxTZXJpYWwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1hdGNoRGV2aWNlc0J5RnVsbFNlcmlhbChkaXN0cmlidXRvcktleSwgZnVsbF9zZXJpYWwsIHVubWFuYWdlZCkge1xuXHQgICAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9kaXN0cmlidXRvcnMvbWF0Y2gvJyArIGRpc3RyaWJ1dG9yS2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZmdWxsX3NlcmlhbD0nICsgZnVsbF9zZXJpYWw7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ21hdGNoRGV2aWNlc0J5RnVsbE1hYycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWF0Y2hEZXZpY2VzQnlGdWxsTWFjKGRpc3RyaWJ1dG9yS2V5LCBmdWxsX21hYywgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9tYXRjaC8nICsgZGlzdHJpYnV0b3JLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJmZ1bGxfbWFjPScgKyBmdWxsX21hYztcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnbWF0Y2hEZXZpY2VzQnlGdWxsR0NNaWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1hdGNoRGV2aWNlc0J5RnVsbEdDTWlkKGRpc3RyaWJ1dG9yS2V5LCBmdWxsX2djbWlkLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvZGlzdHJpYnV0b3JzL21hdGNoLycgKyBkaXN0cmlidXRvcktleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmZnVsbF9nY21pZD0nICsgZnVsbF9nY21pZDtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERldmljZXNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9IHRoaXMubWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCBmYWxzZSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5RGlzdHJpYnV0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVubWFuYWdlZERldmljZXNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9IHRoaXMubWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCB0cnVlKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREZXZpY2VzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXZpY2VzKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuU0VSVklDRV9OQU1FKS5nZXRMaXN0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NhdmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmUoZGV2aWNlKSB7XG5cdCAgICAgIGlmIChkZXZpY2Uua2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IGRldmljZS5wdXQoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSgnZGV2aWNlcycpLnBvc3QoZGV2aWNlKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkZWxldGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoZGV2aWNlS2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUodGhpcy5TRVJWSUNFX05BTUUsIGRldmljZUtleSkucmVtb3ZlKCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFBhbmVsTW9kZWxzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYW5lbE1vZGVscygpIHtcblx0ICAgICAgcmV0dXJuIFt7XG5cdCAgICAgICAgJ2lkJzogJ05vbmUnLFxuXHQgICAgICAgICdkaXNwbGF5TmFtZSc6ICdOb25lJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ1NvbnktRlhENDBMWDJGJyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnU29ueSBGWEQ0MExYMkYnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnTkVDLUxDRDQyMTUnLFxuXHQgICAgICAgICdkaXNwbGF5TmFtZSc6ICdORUMgTENENDIxNSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnLFxuXHQgICAgICAgICdkaXNwbGF5TmFtZSc6ICdQaGlsbGlwcyBCREw1NTYwRUwnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnUGFuYXNvbmljIFRINTVMRjZVJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ1NoYXJwLVBORTUyMScsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1NoYXJwIFBORTUyMSdcblx0ICAgICAgfV07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0UGFuZWxJbnB1dHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhbmVsSW5wdXRzKCkge1xuXHQgICAgICByZXR1cm4gW3tcblx0ICAgICAgICAnaWQnOiAnTm9uZScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ05vbmUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTEnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdTb255LUZYRDQwTFgyRidcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMicsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1NvbnktRlhENDBMWDJGJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkxJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkyJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0RWSScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1BoaWxsaXBzLUJETDU1NjBFTCdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1BhbmFzb25pYy1USDU1TEY2VSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMicsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1BhbmFzb25pYy1USDU1TEY2VSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdEVkknLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdQYW5hc29uaWMtVEg1NUxGNlUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTEnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdTaGFycC1QTkU1MjEnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTInLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdTaGFycC1QTkU1MjEnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnRFZJJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnU2hhcnAtUE5FNTIxJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ1ZHQScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ05FQy1MQ0Q0MjE1J1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0RWSTEnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdORUMtTENENDIxNSdcblx0ICAgICAgfV07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnbWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvZGlzdHJpYnV0b3JzLycgKyBkaXN0cmlidXRvcktleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmbmV4dF9jdXJzb3I9JyArIG5leHQgKyAnJnByZXZfY3Vyc29yPScgKyBwcmV2O1xuXHQgICAgICByZXR1cm4gdXJsO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ21ha2VEZXZpY2VzQnlUZW5hbnRVUkwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL3RlbmFudHMvJyArIHRlbmFudEtleSArICcvZGV2aWNlcz91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmbmV4dF9jdXJzb3I9JyArIG5leHQgKyAnJnByZXZfY3Vyc29yPScgKyBwcmV2O1xuXHQgICAgICByZXR1cm4gdXJsO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gRGV2aWNlc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IERldmljZXNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODYpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Nyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIERpc3RyaWJ1dG9yc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgRGlzdHJpYnV0b3JzU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIiwgXCIkc3RhdGVcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdCAgZnVuY3Rpb24gRGlzdHJpYnV0b3JzU2VydmljZShSZXN0YW5ndWxhciwgJHN0YXRlLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGlzdHJpYnV0b3JzU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcblx0ICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXHQgICAgdGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFID0gJ2Rpc3RyaWJ1dG9ycyc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEaXN0cmlidXRvcnNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2F2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZSh0ZW5hbnQpIHtcblx0ICAgICAgaWYgKHRlbmFudC5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGVuYW50LnB1dCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSkucG9zdCh0ZW5hbnQpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZldGNoQWxsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEFsbCgpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLmdldExpc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmV0Y2hBbGxCeVVzZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQWxsQnlVc2VyKHVzZXJLZXkpIHtcblx0ICAgICAgaWYgKHVzZXJLZXkpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKCd1c2VycycsIHVzZXJLZXkpLmRvR0VUKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QnlLZXkoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCAnYXBpL3YxL2Rpc3RyaWJ1dG9ycy8nICsga2V5KS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGVsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGVudGl0eSkge1xuXHQgICAgICBpZiAoZW50aXR5LmtleSkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBlbnRpdHkua2V5KS5yZW1vdmUoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEJ5TmFtZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QnlOYW1lKG5hbWUpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLmdldExpc3QoeyBkaXN0cmlidXRvck5hbWU6IG5hbWUgfSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERvbWFpbnNCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RG9tYWluc0J5S2V5KGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgJ2FwaS92MS9kaXN0cmlidXRvcnMvJyArIGtleSArICcvZG9tYWlucycpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzd2l0Y2hEaXN0cmlidXRvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc3dpdGNoRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IpIHtcblx0ICAgICAgdGhpcy5TZXNzaW9uc1NlcnZpY2Uuc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZShkaXN0cmlidXRvci5uYW1lKTtcblx0ICAgICAgdGhpcy5TZXNzaW9uc1NlcnZpY2Uuc2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KGRpc3RyaWJ1dG9yLmtleSk7XG5cdCAgICAgIHJldHVybiB0aGlzLiRzdGF0ZS5nbygnd2VsY29tZScpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gRGlzdHJpYnV0b3JzU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRGlzdHJpYnV0b3JzU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjk2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjg2KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODcpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBEb21haW5zU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBEb21haW5zU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cdCAgZnVuY3Rpb24gRG9tYWluc1NlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRG9tYWluc1NlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRG9tYWluc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKGRvbWFpbikge1xuXHQgICAgICBpZiAoZG9tYWluLmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBkb21haW4ucHV0KCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2RvbWFpbnMnKS5wb3N0KGRvbWFpbik7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmV0Y2hBbGxEb21haW5zJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEFsbERvbWFpbnMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwoJ2RvbWFpbnMnKS5nZXRMaXN0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERvbWFpbkJ5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREb21haW5CeUtleShkb21haW5LZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnZG9tYWlucycsICdhcGkvdjEvZG9tYWlucy8nICsgZG9tYWluS2V5KS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGVsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGRvbWFpbikge1xuXHQgICAgICBpZiAoZG9tYWluLmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZShcImRvbWFpbnNcIiwgZG9tYWluLmtleSkucmVtb3ZlKCk7XG5cdCAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIERvbWFpbnNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBEb21haW5zU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjk3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjg2KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODcpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJZGVudGl0eVNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgSWRlbnRpdHlTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblx0ICBmdW5jdGlvbiBJZGVudGl0eVNlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgSWRlbnRpdHlTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKElkZW50aXR5U2VydmljZSwgW3tcblx0ICAgIGtleTogJ2dldElkZW50aXR5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJZGVudGl0eSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdpZGVudGl0eScpLmdldCgpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBJZGVudGl0eVNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Nik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjg3KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSW50ZWdyYXRpb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgSW50ZWdyYXRpb25FdmVudHMuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIEludGVncmF0aW9uRXZlbnRzKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEludGVncmF0aW9uRXZlbnRzKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuRU5ST0xMTUVOVF9FVkVOVFMgPSAnaW50ZWdyYXRpb25fZXZlbnRzL2Vucm9sbG1lbnQnO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoSW50ZWdyYXRpb25FdmVudHMsIFt7XG5cdCAgICBrZXk6ICdnZXRFbnJvbGxtZW50RXZlbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFbnJvbGxtZW50RXZlbnRzKGRldmljZUtleSkge1xuXHQgICAgICB2YXIgcXVlcnkgPSB7XG5cdCAgICAgICAgZGV2aWNlS2V5OiBkZXZpY2VLZXlcblx0ICAgICAgfTtcblx0ICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRU5ST0xMTUVOVF9FVkVOVFMpLmN1c3RvbUdFVCgnJywgcXVlcnkpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gSW50ZWdyYXRpb25FdmVudHM7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEludGVncmF0aW9uRXZlbnRzO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODYpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Nyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIExvY2F0aW9uc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgTG9jYXRpb25zU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cdCAgZnVuY3Rpb24gTG9jYXRpb25zU2VydmljZShSZXN0YW5ndWxhcikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBMb2NhdGlvbnNTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKExvY2F0aW9uc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKGxvY2F0aW9uKSB7XG5cdCAgICAgIGlmIChsb2NhdGlvbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gbG9jYXRpb24ucHV0KCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2xvY2F0aW9ucycpLnBvc3QobG9jYXRpb24pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldExvY2F0aW9uc0J5VGVuYW50S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2NhdGlvbnNCeVRlbmFudEtleSh0ZW5hbnRLZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsICdhcGkvdjEvdGVuYW50cy8nICsgdGVuYW50S2V5ICsgJy9sb2NhdGlvbnMnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXlQYWdpbmF0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvY2F0aW9uc0J5VGVuYW50S2V5UGFnaW5hdGVkKHRlbmFudEtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcblx0ICAgICAgbmV4dCA9IG5leHQgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IG5leHQ7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCAnYXBpL3YxL3RlbmFudHMvJyArIHRlbmFudEtleSArICcvJyArIHByZXYgKyAnLycgKyBuZXh0ICsgJy9sb2NhdGlvbnMnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0TG9jYXRpb25CeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TG9jYXRpb25CeUtleShsb2NhdGlvbktleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdsb2NhdGlvbnMnLCAnYXBpL3YxL2xvY2F0aW9ucy8nICsgbG9jYXRpb25LZXkpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIExvY2F0aW9uc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IExvY2F0aW9uc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Nik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjg3KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgUHJvZ3Jlc3NCYXJTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFByb2dyZXNzQmFyU2VydmljZS4kaW5qZWN0ID0gW1wibmdQcm9ncmVzc0ZhY3RvcnlcIl07XG5cdCAgZnVuY3Rpb24gUHJvZ3Jlc3NCYXJTZXJ2aWNlKG5nUHJvZ3Jlc3NGYWN0b3J5KSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFByb2dyZXNzQmFyU2VydmljZSk7XG5cdCAgICB0aGlzLm5nUHJvZ3Jlc3NGYWN0b3J5ID0gbmdQcm9ncmVzc0ZhY3Rvcnk7XG5cdCAgICB0aGlzLnByb2dyZXNzQmFyID0gdGhpcy5uZ1Byb2dyZXNzRmFjdG9yeS5jcmVhdGVJbnN0YW5jZSgpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc3RhcnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuXHQgICAgICB0aGlzLnByb2dyZXNzQmFyLnNldENvbG9yKCcjMDBGQ0ZGJyk7XG5cdCAgICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0SGVpZ2h0KCc0cHgnKTtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NCYXIuc3RhcnQoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wbGV0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29tcGxldGUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzQmFyLmNvbXBsZXRlKCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFByb2dyZXNzQmFyU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzAxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjg2KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODcpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBQcm9vZlBsYXlTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFByb29mUGxheVNlcnZpY2UuJGluamVjdCA9IFtcIiRodHRwXCIsIFwiJHFcIiwgXCIkd2luZG93XCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiJHN0YXRlXCIsIFwiVG9hc3RzU2VydmljZVwiXTtcblx0ICBmdW5jdGlvbiBQcm9vZlBsYXlTZXJ2aWNlKCRodHRwLCAkcSwgJHdpbmRvdywgU2Vzc2lvbnNTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgVG9hc3RzU2VydmljZSkge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBQcm9vZlBsYXlTZXJ2aWNlKTtcblx0ICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcblx0ICAgIHRoaXMuJHEgPSAkcTtcblx0ICAgIHRoaXMuJHdpbmRvdyA9ICR3aW5kb3c7XG5cdCAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcblx0ICAgIHRoaXMuJHN0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuXHQgICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG5cdCAgICB0aGlzLlRvYXN0c1NlcnZpY2UgPSBUb2FzdHNTZXJ2aWNlO1xuXHQgICAgdGhpcy5tYWtlSFRUUFJlcXVlc3QgPSB0aGlzLm1ha2VIVFRQUmVxdWVzdC5iaW5kKHRoaXMpO1xuXHQgICAgdGhpcy51cmlCYXNlID0gJ3Byb29mcGxheS9hcGkvdjEnO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoUHJvb2ZQbGF5U2VydmljZSwgW3tcblx0ICAgIGtleTogJ21ha2VIVFRQVVJMJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlSFRUUFVSTCh3aGVyZV90b19nbywgdGVuYW50KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnVyaUJhc2UgKyB3aGVyZV90b19nbyArIHRlbmFudDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdtYWtlSFRUUFJlcXVlc3QnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VIVFRQUmVxdWVzdCh3aGVyZV90b19nbywgdGVuYW50KSB7XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIHVybCA9IHRoaXMubWFrZUhUVFBVUkwod2hlcmVfdG9fZ28sIHRlbmFudCk7XG5cdCAgICAgIHJldHVybiB0aGlzLiRodHRwLmdldCh1cmwpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEFsbFJlc291cmNlcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsUmVzb3VyY2VzKHRlbmFudCkge1xuXHQgICAgICB2YXIgciA9IHRoaXMubWFrZUhUVFBSZXF1ZXN0KFwiL3JldHJpZXZlX2FsbF9yZXNvdXJjZXMvXCIsIHRlbmFudCk7XG5cdCAgICAgIC8vIHRoZSBjYXRjaCBpcyBvbmx5IGRvbmUgaGVyZSBiZWNhdXNlIDMgcHJvb2Ygb2YgcGxheSB2aWV3cyBhcmUgaW5pdGlsaXplZCBhdCB0aGUgc2FtZSB0aW1lXG5cdCAgICAgIC8vIHNvIHRoaXMgY2F0Y2ggd2lsbCBiZSBkb25lIDMgdGltZXMgd2l0aCAzIGVycm9yIG1lc3NhZ2VzIGlmIHdlIGFkZCBpdCB0byBnZXRBbGxEaXNwbGF5cyBhbmQgZ2V0QWxsTG9jYXRpb25zXG5cdCAgICAgIHIuY2F0Y2goZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuXHQgICAgICAgIHZhciBzdGF0dXMgPSBlcnIuc3RhdHVzO1xuXHRcblx0ICAgICAgICBpZiAoc3RhdHVzID09PSA0MDMpIHtcblx0ICAgICAgICAgIHRoaXMuVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChcIllvdSBhcmUgbm90IGFsbG93ZWQgdG8gdmlldyB0aGlzIHRlbmFudCFcIik7XG5cdCAgICAgICAgICB0aGlzLiRzdGF0ZS5nbygncHJvb2YnLCB7fSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChzdGF0dXMgPT09IDQwNCkge1xuXHQgICAgICAgICAgdGhpcy5Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91IG11c3Qgc2VsZWN0IGEgdGVuYW50IGZpcnN0IVwiKTtcblx0ICAgICAgICAgIHJldHVybiB0aGlzLiRzdGF0ZS5nbygncHJvb2YnLCB7fSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiByLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICByZXR1cm4gZGF0YTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QWxsRGlzcGxheXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbERpc3BsYXlzKHRlbmFudCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfYWxsX2Rpc3BsYXlzL1wiLCB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEFsbExvY2F0aW9ucycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsTG9jYXRpb25zKHRlbmFudCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfYWxsX2xvY2F0aW9ucy9cIiwgdGVuYW50KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRBbGxUZW5hbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxUZW5hbnRzKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfbXlfdGVuYW50c1wiLCAnJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgcmVzb3VyY2VzLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbFJlc291cmNlcyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IHJlc291cmNlc1tpXTtcblx0ICAgICAgICBhbGxSZXNvdXJjZXMgPSBhbGxSZXNvdXJjZXMgKyBcInxcIiArIGVhY2g7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfcmVzb3VyY2VfYnlfZGF0ZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsUmVzb3VyY2VzICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEZXZpY2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURldmljZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgcmVzb3VyY2VzLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbFJlc291cmNlcyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IHJlc291cmNlc1tpXTtcblx0ICAgICAgICBhbGxSZXNvdXJjZXMgPSBhbGxSZXNvdXJjZXMgKyBcInxcIiArIGVhY2g7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfcmVzb3VyY2VfYnlfZGV2aWNlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxSZXNvdXJjZXMgKyAnLycgKyB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLCAnX2JsYW5rJyk7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Rvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzU3VtbWFyaXplZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNTdW1tYXJpemVkKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBkZXZpY2VzLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbERldmljZXMgPSAnJztcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGV2aWNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gZGV2aWNlc1tpXTtcblx0ICAgICAgICBhbGxEZXZpY2VzID0gYWxsRGV2aWNlcyArIFwifFwiICsgZWFjaDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9kZXZpY2Vfc3VtbWFyaXplZC8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsRGV2aWNlcyArICcvJyArIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksICdfYmxhbmsnKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNCeURhdGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzQnlEYXRlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBkZXZpY2VzLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbERldmljZXMgPSAnJztcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGV2aWNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gZGV2aWNlc1tpXTtcblx0ICAgICAgICBhbGxEZXZpY2VzID0gYWxsRGV2aWNlcyArIFwifFwiICsgZWFjaDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9kZXZpY2VfYnlfZGF0ZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsRGV2aWNlcyArICcvJyArIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksICdfYmxhbmsnKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2Uoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGxvY2F0aW9ucywgdGVuYW50KSB7XG5cdCAgICAgIHZhciBhbGxMb2NhdGlvbnMgPSAnJztcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBsb2NhdGlvbnNbaV07XG5cdCAgICAgICAgYWxsTG9jYXRpb25zID0gYWxsTG9jYXRpb25zICsgXCJ8XCIgKyBlYWNoO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2xvY2F0aW9uX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zU3VtbWFyaXplZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGxvY2F0aW9ucywgdGVuYW50KSB7XG5cdCAgICAgIHZhciBhbGxMb2NhdGlvbnMgPSAnJztcblx0XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBsb2NhdGlvbnNbaV07XG5cdCAgICAgICAgYWxsTG9jYXRpb25zID0gYWxsTG9jYXRpb25zICsgXCJ8XCIgKyBlYWNoO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2xvY2F0aW9uX3N1bW1hcml6ZWQvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbExvY2F0aW9ucyArICcvJyArIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksICdfYmxhbmsnKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY3JlYXRlRmlsdGVyRm9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVGaWx0ZXJGb3IocXVlcnkpIHtcblx0ICAgICAgcXVlcnkgPSBhbmd1bGFyLmxvd2VyY2FzZShxdWVyeSk7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiAocmVzb3VyY2UpIHtcblx0ICAgICAgICByZXNvdXJjZSA9IGFuZ3VsYXIubG93ZXJjYXNlKHJlc291cmNlKTtcblx0ICAgICAgICByZXR1cm4gcmVzb3VyY2UuaW5kZXhPZihxdWVyeSkgPT09IDA7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncXVlcnlTZWFyY2gnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgICBpZiAoc2VhcmNoVGV4dCkge1xuXHQgICAgICAgIHJldHVybiByZXNvdXJjZXMuZmlsdGVyKHRoaXMuY3JlYXRlRmlsdGVyRm9yKHNlYXJjaFRleHQpKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gcmVzb3VyY2VzO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQcm9vZlBsYXlTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODYpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Nyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFNlc3Npb25zU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBTZXNzaW9uc1NlcnZpY2UuJGluamVjdCA9IFtcIiRodHRwXCIsIFwiJGxvZ1wiLCBcIlN0b3JhZ2VTZXJ2aWNlXCIsIFwiSWRlbnRpdHlTZXJ2aWNlXCIsIFwiUmVzdGFuZ3VsYXJcIiwgXCIkcVwiXTtcblx0ICBmdW5jdGlvbiBTZXNzaW9uc1NlcnZpY2UoJGh0dHAsICRsb2csIFN0b3JhZ2VTZXJ2aWNlLCBJZGVudGl0eVNlcnZpY2UsIFJlc3Rhbmd1bGFyLCAkcSkge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTZXNzaW9uc1NlcnZpY2UpO1xuXHQgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuXHQgICAgdGhpcy4kbG9nID0gJGxvZztcblx0ICAgIHRoaXMuU3RvcmFnZVNlcnZpY2UgPSBTdG9yYWdlU2VydmljZTtcblx0ICAgIHRoaXMuSWRlbnRpdHlTZXJ2aWNlID0gSWRlbnRpdHlTZXJ2aWNlO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgICAgdGhpcy4kcSA9ICRxO1xuXHQgICAgdGhpcy5zZXRJZGVudGl0eSA9IHRoaXMuc2V0SWRlbnRpdHkuYmluZCh0aGlzKTtcblx0ICAgIHRoaXMudXJpQmFzZSA9ICd2MS9zZXNzaW9ucyc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShTZXNzaW9uc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzZXREaXN0cmlidXRvcnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERpc3RyaWJ1dG9ycyhkaXN0cmlidXRvcnMpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnMnLCBkaXN0cmlidXRvcnMpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldERpc3RyaWJ1dG9yc0FzQWRtaW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERpc3RyaWJ1dG9yc0FzQWRtaW4oZGlzdHJpYnV0b3JzQXNBZG1pbikge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2Rpc3RyaWJ1dG9yc0FzQWRtaW4nLCBkaXN0cmlidXRvcnNBc0FkbWluKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRJc0FkbWluJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRJc0FkbWluKGlzQWRtaW4pIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdpc0FkbWluJywgaXNBZG1pbik7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0VXNlcktleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VXNlcktleSh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJLZXknLCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0VXNlckVtYWlsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRVc2VyRW1haWwodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCd1c2VyRW1haWwnLCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdjdXJyZW50RGlzdHJpYnV0b3JLZXknLCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSh2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2N1cnJlbnREaXN0cmlidXRvck5hbWUnLCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VXNlcktleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNlcktleSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5Jyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VXNlckVtYWlsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVc2VyRW1haWwoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlckVtYWlsJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGlzdHJpYnV0b3JzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREaXN0cmlidXRvcnMoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgnZGlzdHJpYnV0b3JzJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdjdXJyZW50RGlzdHJpYnV0b3JOYW1lJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5Jyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdkaXN0cmlidXRvcnNBc0FkbWluJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0SXNBZG1pbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXNBZG1pbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdpc0FkbWluJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnbG9naW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luKGNyZWRlbnRpYWxzKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICB2YXIgYXV0aGVudGljYXRpb25QYXlsb2FkID0ge1xuXHQgICAgICAgIGFjY2Vzc190b2tlbjogXy5jbG9uZShjcmVkZW50aWFscy5hY2Nlc3NfdG9rZW4pLFxuXHQgICAgICAgIGF1dGh1c2VyOiBfLmNsb25lKGNyZWRlbnRpYWxzLmF1dGh1c2VyKSxcblx0ICAgICAgICBjbGllbnRfaWQ6IF8uY2xvbmUoY3JlZGVudGlhbHMuY2xpZW50X2lkKSxcblx0ICAgICAgICBjb2RlOiBfLmNsb25lKGNyZWRlbnRpYWxzLmNvZGUpLFxuXHQgICAgICAgIGlkX3Rva2VuOiBfLmNsb25lKGNyZWRlbnRpYWxzLmlkX3Rva2VuKSxcblx0ICAgICAgICBzY29wZTogXy5jbG9uZShjcmVkZW50aWFscy5zY29wZSksXG5cdCAgICAgICAgc2Vzc2lvbl9zdGF0ZTogXy5jbG9uZShjcmVkZW50aWFscy5zZXNzaW9uX3N0YXRlKSxcblx0ICAgICAgICBzdGF0ZTogXy5jbG9uZShjcmVkZW50aWFscy5zdGF0ZSksXG5cdCAgICAgICAgc3RhdHVzOiBfLmNsb25lKGNyZWRlbnRpYWxzLnN0YXR1cylcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIGlmIChjcmVkZW50aWFscy5lbWFpbCAmJiBjcmVkZW50aWFscy5wYXNzd29yZCkge1xuXHQgICAgICAgIGF1dGhlbnRpY2F0aW9uUGF5bG9hZCA9IGNyZWRlbnRpYWxzO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuJGh0dHAucG9zdCgnL2xvZ2luJywgYXV0aGVudGljYXRpb25QYXlsb2FkKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2Uuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIF90aGlzLnNldFVzZXJLZXkoZGF0YS51c2VyLmtleSk7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzLnNldElkZW50aXR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gZGF0YTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0SWRlbnRpdHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldElkZW50aXR5KCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgdmFyIGlkZW50aXR5UHJvbWlzZSA9IHRoaXMuSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG5cdCAgICAgIGlkZW50aXR5UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgX3RoaXMyLnNldERpc3RyaWJ1dG9ycyhkYXRhWydkaXN0cmlidXRvcnMnXSk7XG5cdCAgICAgICAgX3RoaXMyLnNldERpc3RyaWJ1dG9yc0FzQWRtaW4oZGF0YVsnZGlzdHJpYnV0b3JzX2FzX2FkbWluJ10pO1xuXHQgICAgICAgIF90aGlzMi5zZXRJc0FkbWluKGRhdGFbJ2lzX2FkbWluJ10pO1xuXHQgICAgICAgIF90aGlzMi5zZXRVc2VyRW1haWwoZGF0YVsnZW1haWwnXSk7XG5cdCAgICAgICAgX3RoaXMyLnNldElzQWRtaW4oZGF0YVtcImlzX2FkbWluXCJdKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGRlZmVycmVkLnJlc29sdmUoKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbW92ZVVzZXJJbmZvJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVVc2VySW5mbygpIHtcblx0ICAgICAgdGhpcy5TdG9yYWdlU2VydmljZS5yZW1vdmVBbGwoKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFNlc3Npb25zU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODYpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Nyk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX2xvY2tyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDQpO1xuXHRcblx0dmFyIF9sb2NrcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Nrcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFN0b3JhZ2VTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIFN0b3JhZ2VTZXJ2aWNlKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgU3RvcmFnZVNlcnZpY2UpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoU3RvcmFnZVNlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBfbG9ja3IyLmRlZmF1bHQuc2V0KGtleSwgdmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KGtleSkge1xuXHQgICAgICByZXR1cm4gX2xvY2tyMi5kZWZhdWx0LmdldChrZXkpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JtJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBybShrZXkpIHtcblx0ICAgICAgcmV0dXJuIF9sb2NrcjIuZGVmYXVsdC5ybShrZXkpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbW92ZUFsbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQWxsKCkge1xuXHQgICAgICBfbG9ja3IyLmRlZmF1bHQuZmx1c2goKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFN0b3JhZ2VTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBTdG9yYWdlU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjg2KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODcpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBUZW5hbnRzU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBUZW5hbnRzU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdCAgZnVuY3Rpb24gVGVuYW50c1NlcnZpY2UoUmVzdGFuZ3VsYXIsIFNlc3Npb25zU2VydmljZSkge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBUZW5hbnRzU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRlbmFudHNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2F2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZSh0ZW5hbnQpIHtcblx0ICAgICAgaWYgKHRlbmFudC5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGVuYW50LnB1dCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCd0ZW5hbnRzJykucG9zdCh0ZW5hbnQpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaEFsbFRlbmFudHNCeU5hbWUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaEFsbFRlbmFudHNCeU5hbWUodGVuYW50X25hbWUpIHtcblx0ICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL3RlbmFudHM/dGVuYW50X25hbWU9JyArIHRlbmFudF9uYW1lO1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmV0Y2hBbGxUZW5hbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEFsbFRlbmFudHMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwoJ3RlbmFudHMnKS5nZXRMaXN0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZldGNoQWxsVGVuYW50c1BhZ2luYXRlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hBbGxUZW5hbnRzUGFnaW5hdGVkKHBhZ2Vfc2l6ZSwgb2Zmc2V0KSB7XG5cdCAgICAgIHZhciB1cmwgPSAnYXBpL3YxL3RlbmFudHMvcGFnaW5hdGVkLycgKyBwYWdlX3NpemUgKyAnLycgKyBvZmZzZXQ7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRUZW5hbnRCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGVuYW50QnlLZXkodGVuYW50S2V5KSB7XG5cdCAgICAgIHZhciB1cmwgPSAnYXBpL3YxL3RlbmFudHMvJyArIHRlbmFudEtleTtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsIHVybCkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2RlbGV0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZSh0ZW5hbnQpIHtcblx0ICAgICAgaWYgKHRlbmFudC5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUoXCJ0ZW5hbnRzXCIsIHRlbmFudC5rZXkpLnJlbW92ZSgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBUZW5hbnRzU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVGVuYW50c1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Nik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjg3KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgVGltZXpvbmVzU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBUaW1lem9uZXNTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblx0ICBmdW5jdGlvbiBUaW1lem9uZXNTZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFRpbWV6b25lc1NlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVGltZXpvbmVzU2VydmljZSwgW3tcblx0ICAgIGtleTogJ2dldFVzVGltZXpvbmVzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVc1RpbWV6b25lcygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGltZXpvbmVzJywgJ2FwaS92MS90aW1lem9uZXMvdXMnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QWxsVGltZXpvbmVzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxUaW1lem9uZXMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RpbWV6b25lcycsICdhcGkvdjEvdGltZXpvbmVzL2FsbCcpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRDdXN0b21UaW1lem9uZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1c3RvbVRpbWV6b25lcygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGltZXpvbmVzJywgJ2FwaS92MS90aW1lem9uZXMvY3VzdG9tJykuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gVGltZXpvbmVzU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVGltZXpvbmVzU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjg2KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2ODcpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBUb2FzdHNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFRvYXN0c1NlcnZpY2UuJGluamVjdCA9IFtcInRvYXN0clwiXTtcblx0ICBmdW5jdGlvbiBUb2FzdHNTZXJ2aWNlKHRvYXN0cikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBUb2FzdHNTZXJ2aWNlKTtcblx0ICAgIHRoaXMudG9hc3RyID0gdG9hc3RyO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVG9hc3RzU2VydmljZSwgW3tcblx0ICAgIGtleTogJ3Nob3dTdWNjZXNzVG9hc3QnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dTdWNjZXNzVG9hc3QobWVzc2FnZSkge1xuXHQgICAgICB2YXIgdGl0bGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAnU3VjY2VzcyEnIDogYXJndW1lbnRzWzFdO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMudG9hc3RyLnN1Y2Nlc3MobWVzc2FnZSwgdGl0bGUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Nob3dFcnJvclRvYXN0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93RXJyb3JUb2FzdChtZXNzYWdlKSB7XG5cdCAgICAgIHZhciB0aXRsZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/ICdFcnJvciEnIDogYXJndW1lbnRzWzFdO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMudG9hc3RyLmVycm9yKG1lc3NhZ2UsIHRpdGxlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzaG93SW5mb1RvYXN0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93SW5mb1RvYXN0KG1lc3NhZ2UpIHtcblx0ICAgICAgdmFyIHRpdGxlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gJ0luZm9ybWF0aW9uJyA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnRvYXN0ci5pbmZvKG1lc3NhZ2UsIHRpdGxlKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFRvYXN0c1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRvYXN0c1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4Nik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjg3KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgVmVyc2lvbnNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFZlcnNpb25zU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cdCAgZnVuY3Rpb24gVmVyc2lvbnNTZXJ2aWNlKFJlc3Rhbmd1bGFyKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFZlcnNpb25zU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShWZXJzaW9uc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdnZXRWZXJzaW9ucycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmVyc2lvbnMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3ZlcnNpb25zJykuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gVmVyc2lvbnNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBWZXJzaW9uc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFRlbmFudEFkZEN0cmwuJGluamVjdCA9IFtcIiRsb2dcIiwgXCIkbG9jYXRpb25cIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIiwgXCJUaW1lem9uZXNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwic3dlZXRcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBUZW5hbnRBZGRDdHJsKCRsb2csICRsb2NhdGlvbiwgVGVuYW50c1NlcnZpY2UsIERpc3RyaWJ1dG9yc1NlcnZpY2UsIFRpbWV6b25lc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmdhbWVTdG9wU2VydmVyID0gJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xO1xuXHQgIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG5cdCAgICBrZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5hbWU6IHVuZGVmaW5lZCxcblx0ICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG5cdCAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcblx0ICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG5cdCAgICBwcm9vZl9vZl9wbGF5X3VybDogdW5kZWZpbmVkLFxuXHQgICAgYWN0aXZlOiB0cnVlXG5cdCAgfTtcblx0ICB2bS5zZWxlY3RlZERvbWFpbiA9IHVuZGVmaW5lZDtcblx0ICB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBbXTtcblx0ICB2bS50aW1lem9uZXMgPSBbXTtcblx0ICB2bS5zZWxlY3RlZFRpbWV6b25lID0gJ0FtZXJpY2EvQ2hpY2Fnbyc7XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgdGltZXpvbmVQcm9taXNlID0gVGltZXpvbmVzU2VydmljZS5nZXRDdXN0b21UaW1lem9uZXMoKTtcblx0ICAgIHRpbWV6b25lUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS50aW1lem9uZXMgPSBkYXRhO1xuXHQgICAgfSk7XG5cdCAgICB2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG5cdCAgICB2YXIgZGlzdHJpYnV0b3JQcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5nZXRCeUtleSh2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuXHQgICAgZGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0uY3VycmVudFRlbmFudC5jb250ZW50X21hbmFnZXJfYmFzZV91cmwgPSBkYXRhLmNvbnRlbnRfbWFuYWdlcl91cmw7XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50LmNvbnRlbnRfc2VydmVyX3VybCA9IGRhdGEucGxheWVyX2NvbnRlbnRfdXJsO1xuXHQgICAgfSk7XG5cdCAgICB2YXIgZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5nZXREb21haW5zQnlLZXkodm0uY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcblx0ICAgIHJldHVybiBkaXN0cmlidXRvckRvbWFpblByb21pc2UudGhlbihmdW5jdGlvbiAoZG9tYWlucykge1xuXHQgICAgICByZXR1cm4gdm0uZGlzdHJpYnV0b3JEb21haW5zID0gZG9tYWlucztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ2xpY2tTYXZlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50LmRlZmF1bHRfdGltZXpvbmUgPSB2bS5zZWxlY3RlZFRpbWV6b25lO1xuXHQgICAgdm0uY3VycmVudFRlbmFudC5kb21haW5fa2V5ID0gdm0uc2VsZWN0ZWREb21haW4ua2V5O1xuXHQgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zYXZlKHZtLmN1cnJlbnRUZW5hbnQpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlLCB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRzJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSA9IGZ1bmN0aW9uIChlcnJvck9iamVjdCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBpZiAoZXJyb3JPYmplY3Quc3RhdHVzID09PSA0MDkpIHtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGVuYW50IGNvZGUgdW5hdmFpbGFibGUuIFBsZWFzZSBtb2RpZnkgdGVuYW50IG5hbWUgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgdGVuYW50IGNvZGUuJywgJ2Vycm9yJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAkbG9nLmVycm9yKGVycm9yT2JqZWN0KTtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIHNhdmUgdGhlIHRlbmFudC4nLCAnZXJyb3InKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5hdXRvR2VuZXJhdGVUZW5hbnRDb2RlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF2bS5jdXJyZW50VGVuYW50LmtleSkge1xuXHQgICAgICB2YXIgbmV3VGVuYW50Q29kZSA9ICcnO1xuXHQgICAgICBpZiAodm0uY3VycmVudFRlbmFudC5uYW1lKSB7XG5cdCAgICAgICAgbmV3VGVuYW50Q29kZSA9IHZtLmN1cnJlbnRUZW5hbnQubmFtZS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xccysvZywgJ18nKTtcblx0ICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudC50ZW5hbnRfY29kZSA9IG5ld1RlbmFudENvZGU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuVGVuYW50QWRkQ3RybCA9IFRlbmFudEFkZEN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFRlbmFudERldGFpbHNDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVQYXJhbXNcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkRvbWFpbnNTZXJ2aWNlXCIsIFwiVGltZXpvbmVzU2VydmljZVwiLCBcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIiwgXCIkc3RhdGVcIiwgXCJzd2VldFwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIlRvYXN0c1NlcnZpY2VcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCIkc2NvcGVcIiwgXCIkbG9jYXRpb25cIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBUZW5hbnREZXRhaWxzQ3RybCgkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBEb21haW5zU2VydmljZSwgVGltZXpvbmVzU2VydmljZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgJHN0YXRlLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBUb2FzdHNTZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UsICRzY29wZSwgJGxvY2F0aW9uKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmdhbWVTdG9wU2VydmVyID0gJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xO1xuXHQgIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG5cdCAgICBrZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5hbWU6IHVuZGVmaW5lZCxcblx0ICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG5cdCAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcblx0ICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG5cdCAgICBwcm9vZl9vZl9wbGF5X3VybDogdW5kZWZpbmVkLFxuXHQgICAgYWN0aXZlOiB0cnVlXG5cdCAgfTtcblx0ICB2bS5zZWxlY3RlZERvbWFpbiA9IHVuZGVmaW5lZDtcblx0ICB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBbXTtcblx0ICB2bS50aW1lem9uZXMgPSBbXTtcblx0ICB2bS5zZWxlY3RlZFRpbWV6b25lID0gJ0FtZXJpY2EvQ2hpY2Fnbyc7XG5cdCAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdFxuXHQgIGlmICh2bS5lZGl0TW9kZSkge1xuXHQgICAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSgkc3RhdGVQYXJhbXMudGVuYW50S2V5KTtcblx0ICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICAgIHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQ7XG5cdCAgICAgIHJldHVybiB2bS5vblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQodGVuYW50KTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB0aW1lem9uZVByb21pc2UgPSBUaW1lem9uZXNTZXJ2aWNlLmdldEN1c3RvbVRpbWV6b25lcygpO1xuXHQgICAgdGltZXpvbmVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRpbWV6b25lcyA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICAgIHZtLmN1cnJlbnREaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcblx0ICAgIHZhciBkaXN0cmlidXRvckRvbWFpblByb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmdldERvbWFpbnNCeUtleSh2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuXHQgICAgcmV0dXJuIGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkb21haW5zKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBkb21haW5zO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzUmVzb2x2aW5nVGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHRlbmFudC5kZWZhdWx0X3RpbWV6b25lO1xuXHQgICAgdmFyIGRvbWFpblByb21pc2UgPSBEb21haW5zU2VydmljZS5nZXREb21haW5CeUtleSh0ZW5hbnQuZG9tYWluX2tleSk7XG5cdCAgICByZXR1cm4gZG9tYWluUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS5zZWxlY3RlZERvbWFpbiA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdm0uY3VycmVudFRlbmFudC5kZWZhdWx0X3RpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcblx0ICAgIHZtLmN1cnJlbnRUZW5hbnQuZG9tYWluX2tleSA9IHZtLnNlbGVjdGVkRG9tYWluLmtleTtcblx0ICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50VGVuYW50KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzVGVuYW50U2F2ZSwgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzVGVuYW50U2F2ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB0ZW5hbnQgaW5mb3JtYXRpb24uJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSA9IGZ1bmN0aW9uIChlcnJvck9iamVjdCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBpZiAoZXJyb3JPYmplY3Quc3RhdHVzID09PSA0MDkpIHtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGVuYW50IGNvZGUgdW5hdmFpbGFibGUuIFBsZWFzZSBtb2RpZnkgdGVuYW50IG5hbWUgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgdGVuYW50IGNvZGUuJywgJ2Vycm9yJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gc2F2ZSB0aGUgdGVuYW50LicsICdlcnJvcicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2VkaXREZXZpY2UnLCB7IGRldmljZUtleTogaXRlbS5rZXksIHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5hdXRvR2VuZXJhdGVUZW5hbnRDb2RlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF2bS5jdXJyZW50VGVuYW50LmtleSkge1xuXHQgICAgICB2YXIgbmV3VGVuYW50Q29kZSA9ICcnO1xuXHQgICAgICBpZiAodm0uY3VycmVudFRlbmFudC5uYW1lKSB7XG5cdCAgICAgICAgbmV3VGVuYW50Q29kZSA9IHZtLmN1cnJlbnRUZW5hbnQubmFtZS50b0xvd2VyQ2FzZSgpO1xuXHQgICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xccysvZywgJ18nKTtcblx0ICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudC50ZW5hbnRfY29kZSA9IG5ld1RlbmFudENvZGU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgJHNjb3BlLnRhYkluZGV4ID0gMDtcblx0XG5cdCAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcblx0ICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHN3aXRjaCAodG9UYWIpIHtcblx0ICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAzOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuVGVuYW50RGV0YWlsc0N0cmwgPSBUZW5hbnREZXRhaWxzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzExOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0VGVuYW50TG9jYXRpb25DdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVQYXJhbXNcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkxvY2F0aW9uc1NlcnZpY2VcIiwgXCIkc3RhdGVcIiwgXCJzd2VldFwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIlRvYXN0c1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBUZW5hbnRMb2NhdGlvbkN0cmwoJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgTG9jYXRpb25zU2VydmljZSwgJHN0YXRlLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBUb2FzdHNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmxvY2F0aW9uID0ge1xuXHQgICAga2V5OiB1bmRlZmluZWRcblx0ICB9O1xuXHQgIHZtLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy5sb2NhdGlvbktleTtcblx0ICBpZiAodm0uZWRpdE1vZGUpIHtcblx0ICAgIHZhciBsb2NhdGlvblByb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLmdldExvY2F0aW9uQnlLZXkoJHN0YXRlUGFyYW1zLmxvY2F0aW9uS2V5KTtcblx0ICAgIGxvY2F0aW9uUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvY2F0aW9uID0gZGF0YTtcblx0ICAgICAgdm0udGVuYW50S2V5ID0gZGF0YS50ZW5hbnRLZXk7XG5cdCAgICAgIHZtLmxvY2F0aW9uTmFtZSA9IGRhdGEuY3VzdG9tZXJMb2NhdGlvbk5hbWU7XG5cdCAgICAgIHJldHVybiB2bS5mZXRjaFRlbmFudE5hbWUodm0udGVuYW50S2V5KTtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghdm0uZWRpdE1vZGUpIHtcblx0ICAgICAgdm0uZmV0Y2hUZW5hbnROYW1lKHZtLnRlbmFudEtleSk7XG5cdCAgICAgIHJldHVybiB2bS5sb2NhdGlvbiA9IHtcblx0ICAgICAgICB0ZW5hbnRLZXk6IHZtLnRlbmFudEtleSxcblx0ICAgICAgICBhY3RpdmU6IHRydWVcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLnNhdmUodm0ubG9jYXRpb24pO1xuXHQgICAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzVXBkYXRpbmdMb2NhdGlvbih2bS50ZW5hbnRLZXkpLCB2bS5vbkZhaWx1cmVTYXZpbmdMb2NhdGlvbik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uLCB2bS5vbkZhaWx1cmVTYXZpbmdMb2NhdGlvbik7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzU2F2aW5nTG9jYXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciBsb2NhdGlvbi4nKTtcblx0ICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfSwgMTAwMCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzVXBkYXRpbmdMb2NhdGlvbiA9IGZ1bmN0aW9uICh0ZW5hbnRfa2V5KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgdXBkYXRlZCB5b3VyIGxvY2F0aW9uLicpO1xuXHQgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiB0ZW5hbnRfa2V5IH0pO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9LCAxMDAwKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkZhaWx1cmVTYXZpbmdMb2NhdGlvbiA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcblx0ICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnTG9jYXRpb24gY29kZSBjb25mbGljdC4gVW5hYmxlIHRvIHNhdmUgeW91ciBsb2NhdGlvbi4nKTtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnUGxlYXNlIGNoYW5nZSB5b3VyIGN1c3RvbWVyIGxvY2F0aW9uIG5hbWUuIExvY2F0aW9uIG5hbWUgbXVzdCBnZW5lcmF0ZSBhIHVuaXF1ZSBsb2NhdGlvbiBjb2RlLicsICdlcnJvcicpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1VuYWJsZSB0byBzYXZlIHlvdXIgbG9jYXRpb24uJyk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uZmV0Y2hUZW5hbnROYW1lID0gZnVuY3Rpb24gKHRlbmFudEtleSkge1xuXHQgICAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh0ZW5hbnRLZXkpO1xuXHQgICAgcmV0dXJuIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG5cdCAgICAgIHJldHVybiB2bS50ZW5hbnROYW1lID0gdGVuYW50Lm5hbWU7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5hdXRvR2VuZXJhdGVDdXN0b21lckxvY2F0aW9uQ29kZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICghdm0ubG9jYXRpb24ua2V5KSB7XG5cdCAgICAgIHZhciBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9ICcnO1xuXHQgICAgICBpZiAodm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbk5hbWUpIHtcblx0ICAgICAgICBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9IHZtLmxvY2F0aW9uLmN1c3RvbWVyTG9jYXRpb25OYW1lLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG5cdCAgICAgICAgbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5UZW5hbnRMb2NhdGlvbkN0cmwgPSBUZW5hbnRMb2NhdGlvbkN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0VGVuYW50TWFuYWdlZERldmljZXNDdHJsLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkRldmljZXNTZXJ2aWNlXCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiJHN0YXRlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gVGVuYW50TWFuYWdlZERldmljZXNDdHJsKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgJHN0YXRlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG5cdCAgICBrZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5hbWU6IHVuZGVmaW5lZCxcblx0ICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG5cdCAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcblx0ICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG5cdCAgICBhY3RpdmU6IHRydWVcblx0ICB9O1xuXHQgIHZtLnRlbmFudERldmljZXMgPSBbXTtcblx0ICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuXHQgIHZtLnNlbGVjdGVkQnV0dG9uID0gXCJTZXJpYWwgTnVtYmVyXCI7XG5cdCAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0XG5cdCAgdm0uZ2V0TWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKTtcblx0ICAgIHJldHVybiBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmRldmljZXNQcmV2ID0gZGF0YVtcInByZXZfY3Vyc29yXCJdO1xuXHQgICAgICB2bS5kZXZpY2VzTmV4dCA9IGRhdGFbXCJuZXh0X2N1cnNvclwiXTtcblx0ICAgICAgdm0udGVuYW50RGV2aWNlcyA9IGRhdGFbXCJkZXZpY2VzXCJdO1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0oaXRlbSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgICB2bS50ZW5hbnREZXZpY2VzID0gbnVsbDtcblx0ICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgfTtcblx0XG5cdCAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHZtLnRlbmFudEtleSk7XG5cdCAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcblx0ICAgIH0pO1xuXHQgICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCBudWxsKTtcblx0ICB9XG5cdFxuXHQgICRzY29wZS50YWJJbmRleCA9IDE7XG5cdFxuXHQgICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG5cdCAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBzd2l0Y2ggKHRvVGFiKSB7XG5cdCAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHsgdGVuYW50S2V5OiB2bS50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogdm0udGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogdm0udGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiB2bS50ZW5hbnRLZXkgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgICByZXR1cm4gdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgIH07XG5cdFxuXHQgIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAocGFydGlhbCkge1xuXHQgICAgdmFyIHVubWFuYWdlZCA9IGZhbHNlO1xuXHQgICAgdmFyIGJ1dHRvbiA9IHZtLnNlbGVjdGVkQnV0dG9uO1xuXHQgICAgdmFyIGJ5VGVuYW50ID0gdHJ1ZTtcblx0ICAgIHZhciB0ZW5hbnRLZXkgPSB2bS50ZW5hbnRLZXk7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG5cdCAgICAgICAgdmFyIGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuXHQgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG5cdCAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uID09PSBcIk1BQ1wiKSB7XG5cdCAgICAgICAgICB2bS5tYWNEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgcmV0dXJuIGRldmljZXNbMF07XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIHZtLmRldmljZXNOZXh0KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCBudWxsKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnByZXByYXRlRm9yRWRpdFZpZXcodm0uc2VsZWN0ZWRCdXR0b24sIHZtLnRlbmFudEtleSwgc2VhcmNoVGV4dCwgdm0ubWFjRGV2aWNlcywgdm0uc2VyaWFsRGV2aWNlcywgdm0uZ2NtaWREZXZpY2VzKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uIChpc01hdGNoKSB7XG5cdCAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuXHQgICAgcmV0dXJuIHZtLmxvYWRpbmdEaXNhYmxlZCA9IGZhbHNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuXHQgICAgdmFyIHVubWFuYWdlZCA9IGZhbHNlO1xuXHQgICAgdmFyIGJ5VGVuYW50ID0gdHJ1ZTtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5pc1Jlc291cmNlVmFsaWQocmVzb3VyY2UsIHZtLnNlbGVjdGVkQnV0dG9uLCBieVRlbmFudCwgdm0udGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgcmV0dXJuIHZtLmNvbnRyb2xPcGVuQnV0dG9uKHJlc1tcImlzX21hdGNoXCJdKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybCA9IFRlbmFudE1hbmFnZWREZXZpY2VzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzEzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybC4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJEZXZpY2VzU2VydmljZVwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIiRzdGF0ZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIFRlbmFudFVubWFuYWdlZERldmljZXNDdHJsKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgJHN0YXRlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG5cdCAgICBrZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5hbWU6IHVuZGVmaW5lZCxcblx0ICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG5cdCAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcblx0ICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcblx0ICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG5cdCAgICBhY3RpdmU6IHRydWVcblx0ICB9O1xuXHQgIHZtLmdjbWlkRGV2aWNlcyA9IFtdO1xuXHQgIHZtLnRlbmFudERldmljZXMgPSBbXTtcblx0ICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuXHQgIHZtLnNlbGVjdGVkQnV0dG9uID0gXCJNQUNcIjtcblx0ICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLm1hY0RldmljZXMgPSB7fTtcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHRcblx0ICAkc2NvcGUudGFiSW5kZXggPSAyO1xuXHRcblx0ICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuXHQgICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgc3dpdGNoICh0b1RhYikge1xuXHQgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7IHRlbmFudEtleTogdm0udGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6IHZtLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6IHZtLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDM6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7IHRlbmFudEtleTogdm0udGVuYW50S2V5IH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtKTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBkZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldFVubWFuYWdlZERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcik7XG5cdCAgICByZXR1cm4gZGV2aWNlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5kZXZpY2VzUHJldiA9IGRhdGFbXCJwcmV2X2N1cnNvclwiXTtcblx0ICAgICAgdm0uZGV2aWNlc05leHQgPSBkYXRhW1wibmV4dF9jdXJzb3JcIl07XG5cdCAgICAgIHZtLnRlbmFudERldmljZXMgPSBkYXRhW1wiZGV2aWNlc1wiXTtcblx0ICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHZtLnRlbmFudEtleSk7XG5cdCAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcblx0ICAgIH0pO1xuXHQgICAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIG51bGwpO1xuXHQgIH1cblx0XG5cdCAgdm0ucmVmcmVzaERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgICB2bS50ZW5hbnREZXZpY2VzID0gbnVsbDtcblx0ICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5jaGFuZ2VSYWRpbyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICAgIHJldHVybiB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uIChwYXJ0aWFsKSB7XG5cdCAgICB2YXIgdW5tYW5hZ2VkID0gdHJ1ZTtcblx0ICAgIHZhciBieVRlbmFudCA9IHRydWU7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCB2bS5zZWxlY3RlZEJ1dHRvbiwgYnlUZW5hbnQsIHZtLnRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcblx0ICAgICAgICB2YXIgZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG5cdCAgICAgICAgaWYgKHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuXHQgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICByZXR1cm4gZGV2aWNlc1swXTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiKSB7XG5cdCAgICAgICAgICB2bS5tYWNEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgcmV0dXJuIGRldmljZXNbMF07XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgbnVsbCwgdm0uZGV2aWNlc05leHQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ucHJlcGFyZUZvckVkaXRWaWV3ID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5wcmVwcmF0ZUZvckVkaXRWaWV3KHZtLnNlbGVjdGVkQnV0dG9uLCB2bS50ZW5hbnRLZXksIHNlYXJjaFRleHQsIHZtLm1hY0RldmljZXMsIHZtLnNlcmlhbERldmljZXMsIHZtLmdjbWlkRGV2aWNlcyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAoaXNNYXRjaCkge1xuXHQgICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcblx0ICAgIHJldHVybiB2bS5sb2FkaW5nRGlzYWJsZWQgPSBmYWxzZTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcblx0ICAgIHZhciB1bm1hbmFnZWQgPSB0cnVlO1xuXHQgICAgdmFyIGJ5VGVuYW50ID0gdHJ1ZTtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5pc1Jlc291cmNlVmFsaWQocmVzb3VyY2UsIHZtLnNlbGVjdGVkQnV0dG9uLCBieVRlbmFudCwgdm0udGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgcmV0dXJuIHZtLmNvbnRyb2xPcGVuQnV0dG9uKHJlc1tcImlzX21hdGNoXCJdKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsID0gVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxNDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFRlbmFudHNDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVcIiwgXCIkbG9nXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJzd2VldFwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIFRlbmFudHNDdHJsKCRzdGF0ZSwgJGxvZywgVGVuYW50c1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgc3dlZXQpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdFxuXHQgIC8vIFBhZ2luYXRlZCBUZW5hbnRzXG5cdCAgdm0udGVuYW50cyA9IFtdO1xuXHQgIC8vIEN1cnJlbnQgU2VhcmNoIG9mIFRlbmFudHMgUmVzdWx0c1xuXHQgIHZtLnNlYXJjaGVkVGVuYW50cyA9IFtdO1xuXHQgIHZtLnNlYXJjaE1hdGNoID0gbnVsbDtcblx0ICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG5cdFxuXHQgIHZtLmdldFRlbmFudHNQYWdpbmF0ZWQgPSBmdW5jdGlvbiAocGFnZV9zaXplLCBvZmZzZXQpIHtcblx0ICAgIHZtLm9mZnNldCA9IG9mZnNldDtcblx0ICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmZldGNoQWxsVGVuYW50c1BhZ2luYXRlZChwYWdlX3NpemUsIG9mZnNldCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hTdWNjZXNzKHJlc3BvbnNlKTtcblx0ICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEZldGNoU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgdm0udGVuYW50cyA9IHJlc3BvbnNlLnRlbmFudHM7XG5cdCAgICB2bS50b3RhbCA9IHJlc3BvbnNlLnRvdGFsO1xuXHQgICAgdm0uaXNfZmlyc3RfcGFnZSA9IHJlc3BvbnNlLmlzX2ZpcnN0X3BhZ2U7XG5cdCAgICB2bS5pc19sYXN0X3BhZ2UgPSByZXNwb25zZS5pc19sYXN0X3BhZ2U7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiB2bS5sb2FkaW5nID0gZmFsc2U7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0RmV0Y2hGYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZhciBlcnJvck1lc3NhZ2UgPSAnVW5hYmxlIHRvIGZldGNoIHRlbmFudHMuIEVycm9yOiAnICsgcmVzcG9uc2Uuc3RhdHVzICsgJyAnICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCArICcuJztcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0ub2Zmc2V0ID0gMDtcblx0ICAgIHZtLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUoJ215Jyk7XG5cdCAgICByZXR1cm4gdm0uZ2V0VGVuYW50c1BhZ2luYXRlZCgxMDAsIHZtLm9mZnNldCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VhcmNoQWxsVGVuYW50c0J5TmFtZSA9IGZ1bmN0aW9uICh0ZW5hbnRfbmFtZSkge1xuXHQgICAgaWYgKCF0ZW5hbnRfbmFtZSB8fCB0ZW5hbnRfbmFtZS5sZW5ndGggPCAzKSB7XG5cdCAgICAgIHJldHVybiBbXTtcblx0ICAgIH1cblx0ICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2VhcmNoQWxsVGVuYW50c0J5TmFtZSh0ZW5hbnRfbmFtZSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2bS5zZWFyY2hlZFRlbmFudHMgPSByZXNwb25zZVtcIm1hdGNoZXNcIl07XG5cdCAgICAgIGlmICh2bS5zZWFyY2hlZFRlbmFudHMpIHtcblx0ICAgICAgICByZXR1cm4gdm0uc2VhcmNoZWRUZW5hbnRzLm1hcChmdW5jdGlvbiAoaSkge1xuXHQgICAgICAgICAgcmV0dXJuIGkubmFtZTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSAnVW5hYmxlIHRvIGZldGNoIHRlbmFudHMuIEVycm9yOiAnICsgcmVzcG9uc2Uuc3RhdHVzO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1RlbmFudFZhbGlkID0gZnVuY3Rpb24gKHRlbmFudF9uYW1lKSB7XG5cdCAgICBpZiAoIXRlbmFudF9uYW1lIHx8IHRlbmFudF9uYW1lLmxlbmd0aCA8IDMpIHtcblx0ICAgICAgcmV0dXJuIFtdO1xuXHQgICAgfVxuXHQgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lKHRlbmFudF9uYW1lKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2YXIgbWF0Y2ggPSByZXNwb25zZVtcIm1hdGNoZXNcIl1bMF07XG5cdCAgICAgIGlmIChtYXRjaCkge1xuXHQgICAgICAgIHZtLnNlYXJjaE1hdGNoID0gbWF0Y2g7XG5cdCAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSAhKHRlbmFudF9uYW1lID09PSBtYXRjaC5uYW1lKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7IHRlbmFudEtleTogaXRlbS5rZXkgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZGVsZXRlSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjaygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5kZWxldGUoaXRlbSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB2bS5pbml0aWFsaXplKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdyh7XG5cdCAgICAgIHRpdGxlOiBcIkFyZSB5b3Ugc3VyZT9cIixcblx0ICAgICAgdGV4dDogXCJUaGlzIHdpbGwgcGVybWFuZW50bHkgcmVtb3ZlIHRoZSB0ZW5hbnQgZnJvbSB0aGUgc3lzdGVtLlwiLFxuXHQgICAgICB0eXBlOiBcIndhcm5pbmdcIixcblx0ICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcblx0ICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcIiNERDZCNTVcIixcblx0ICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwiWWVzLCByZW1vdmUgdGhlIHRlbmFudCFcIixcblx0ICAgICAgY2xvc2VPbkNvbmZpcm06IHRydWVcblx0ICAgIH0sIGNhbGxiYWNrKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5UZW5hbnRzQ3RybCA9IFRlbmFudHNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRXZWxjb21lQ3RybC4kaW5qZWN0ID0gW1wiVmVyc2lvbnNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwiRGlzdHJpYnV0b3JzU2VydmljZVwiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIFdlbGNvbWVDdHJsKFZlcnNpb25zU2VydmljZSwgJHN0YXRlLCBEaXN0cmlidXRvcnNTZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0udmVyc2lvbl9kYXRhID0gW107XG5cdCAgdm0ubG9hZGluZyA9IHRydWU7XG5cdFxuXHQgIHZtLnByb2NlZWRUb1NpZ25JbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ3NpZ25faW4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jYXBpdGFsaXplRmlyc3RMZXR0ZXIgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG5cdCAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdpdmVPcHRpb25Ub0NoYW5nZURpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGRpc3RyaWJ1dG9yc1Byb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmZldGNoQWxsQnlVc2VyKFNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCkpO1xuXHQgICAgcmV0dXJuIGRpc3RyaWJ1dG9yc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5oYXNfbXVsdGlwbGVfZGlzdHJpYnV0b3JzID0gZGF0YS5sZW5ndGggPiAxO1xuXHQgICAgICByZXR1cm4gdm0ubG9hZGluZyA9IGZhbHNlO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY2hhbmdlRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdkaXN0cmlidXRvcl9zZWxlY3Rpb24nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRWZXJzaW9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHByb21pc2UgPSBWZXJzaW9uc1NlcnZpY2UuZ2V0VmVyc2lvbnMoKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnZlcnNpb25fZGF0YSA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uaWRlbnRpdHkgPSB7XG5cdCAgICAgIGtleTogU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSxcblx0ICAgICAgZW1haWw6IFNlc3Npb25zU2VydmljZS5nZXRVc2VyRW1haWwoKSxcblx0ICAgICAgZGlzdHJpYnV0b3JLZXk6IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSxcblx0ICAgICAgZGlzdHJpYnV0b3JOYW1lOiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpXG5cdCAgICB9O1xuXHRcblx0ICAgIHZtLmdpdmVPcHRpb25Ub0NoYW5nZURpc3RyaWJ1dG9yKCk7XG5cdFxuXHQgICAgaWYgKCF2bS5pZGVudGl0eS5lbWFpbCkge1xuXHQgICAgICByZXR1cm4gJHN0YXRlLmdvKFwic2lnbl9pblwiKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRWZXJzaW9uKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5XZWxjb21lQ3RybCA9IFdlbGNvbWVDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnJvdXRlcyA9IHJvdXRlcztcblx0ZnVuY3Rpb24gcm91dGVzKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsIFJlc3Rhbmd1bGFyUHJvdmlkZXIpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwic2lnbl9pblwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGlkZW50aXR5OiBbXCJJZGVudGl0eVNlcnZpY2VcIiwgZnVuY3Rpb24gaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuXHQgICAgICB9XSxcblx0ICAgICAgbm90QXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gbm90QXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5ub3RBdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9zaWduX2luXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYXV0aGVudGljYXRpb24vc2lnbl9pbi5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkF1dGhlbnRpY2F0aW9uQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnYXV0aGVudGljYXRpb25DdHJsJ1xuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwic2lnbmVkX291dFwiLCB7XG5cdCAgICB1cmw6IFwiL3NpZ25lZF9vdXRcIixcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaWRlbnRpdHk6IFtcIklkZW50aXR5U2VydmljZVwiLCBmdW5jdGlvbiBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG5cdCAgICAgIH1dLFxuXHQgICAgICBub3RBdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBub3RBdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLm5vdEF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYXV0aGVudGljYXRpb24vc2lnbmVkX291dC5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkF1dGhlbnRpY2F0aW9uQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnYXV0aGVudGljYXRpb25DdHJsJ1xuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwic2lnbl9vdXRcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpZGVudGl0eTogW1wiSWRlbnRpdHlTZXJ2aWNlXCIsIGZ1bmN0aW9uIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgfV0sXG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvc2lnbl9vdXRcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduX291dC5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkF1dGhlbnRpY2F0aW9uQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnYXV0aGVudGljYXRpb25DdHJsJ1xuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZGlzdHJpYnV0b3Jfc2VsZWN0aW9uXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9kaXN0cmlidXRvcl9zZWxlY3Rpb25cIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kaXN0cmlidXRvci9kaXN0cmlidXRvcl9zZWxlY3Rvci5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkRpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd2bSdcblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImhvbWVcIiwge1xuXHQgICAgdXJsOiBcIi9cIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC93ZWxjb21lL3dlbGNvbWUuaHRtbFwiLFxuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpZGVudGl0eTogW1wiSWRlbnRpdHlTZXJ2aWNlXCIsIGZ1bmN0aW9uIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgfV0sXG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIGNvbnRyb2xsZXI6IFwiV2VsY29tZUN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3dlbGNvbWVDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdTa3lraXQgUHJvdmlzaW9uaW5nJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwid2VsY29tZVwiLCB7XG5cdCAgICB1cmw6IFwiL3dlbGNvbWVcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC93ZWxjb21lL3dlbGNvbWUuaHRtbFwiLFxuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpZGVudGl0eTogW1wiSWRlbnRpdHlTZXJ2aWNlXCIsIGZ1bmN0aW9uIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgfV0sXG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIGNvbnRyb2xsZXI6IFwiV2VsY29tZUN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3dlbGNvbWVDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdTa3lraXQgUHJvdmlzaW9uaW5nJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZG9tYWluc1wiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvZG9tYWluc1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW5zLWxpc3RpbmcuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJEb21haW5zQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnZG9tYWluc0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ0RvbWFpbnMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJhZGREb21haW5cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2RvbWFpbnMvYWRkXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZG9tYWluL2RvbWFpbi1kZXRhaWwuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJEb21haW5EZXRhaWxzQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnZG9tYWluRGV0YWlsc0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ0FkZCBkb21haW4nLFxuXHQgICAgICBwYXJlbnQ6ICdkb21haW5zJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZWRpdERvbWFpblwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvZG9tYWlucy86ZG9tYWluS2V5XCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZG9tYWluL2RvbWFpbi1kZXRhaWwuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJEb21haW5EZXRhaWxzQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnZG9tYWluRGV0YWlsc0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IGRvbWFpbkRldGFpbHNDdHJsLmN1cnJlbnREb21haW4ubmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ2RvbWFpbnMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudHMtbGlzdGluZy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudHNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnVGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkZFRlbmFudFwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50cy9hZGRcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWFkZC5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudEFkZEN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudEFkZEN0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ0FkZCB0ZW5hbnQnLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50RGV0YWlsc1wiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2RldGFpbHNcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWRldGFpbHMuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnREZXRhaWxzQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50RGV0YWlsc0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IHRlbmFudERldGFpbHNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRNYW5hZ2VkRGV2aWNlc1wiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L21hbmFnZWRcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LW1hbmFnZWQtZGV2aWNlcy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50TWFuYWdlZERldmljZXNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19Jyxcblx0ICAgICAgcGFyZW50OiAndGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudFVubWFuYWdlZERldmljZXNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS91bm1hbmFnZWRcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LXVubWFuYWdlZC1kZXZpY2VzLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudFVubWFuYWdlZERldmljZXNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50TG9jYXRpb25zXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvbG9jYXRpb25zXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbnMuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbnNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRMb2NhdGlvbnNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2NhdGlvbnNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlZGl0TG9jYXRpb25cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2xvY2F0aW9ucy86bG9jYXRpb25LZXlcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9uLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9jYXRpb25DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRMb2NhdGlvbkN0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IHRlbmFudExvY2F0aW9uQ3RybC50ZW5hbnROYW1lIH19ICAvIHt7IHRlbmFudExvY2F0aW9uQ3RybC5sb2NhdGlvbk5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkTG9jYXRpb25cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9sb2NhdGlvblwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvY2F0aW9uQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9jYXRpb25DdHJsLnRlbmFudE5hbWUgfX0gIC8gTG9jYXRpb24nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZGV2aWNlc1wiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvZGV2aWNlc1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RldmljZS9kZXZpY2VzLWxpc3RpbmcuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJEZXZpY2VzTGlzdGluZ0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2RldmljZXNMaXN0aW5nQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnRGV2aWNlcydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXREZXZpY2VcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpZGVudGl0eTogW1wiSWRlbnRpdHlTZXJ2aWNlXCIsIGZ1bmN0aW9uIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgfV0sXG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvZGV2aWNlcy86ZGV2aWNlS2V5P3RlbmFudEtleT9mcm9tRGV2aWNlc1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RldmljZS9kZXZpY2UtZGV0YWlsLmh0bWxcIixcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyBkZXZpY2VEZXRhaWxzQ3RybC5jdXJyZW50RGV2aWNlLmtleSB9fScsXG5cdCAgICAgIHBhcmVudDogJ2RldmljZXMnXG5cdCAgICB9LFxuXHQgICAgY29udHJvbGxlcjogJ0RldmljZURldGFpbHNDdHJsJyxcblx0ICAgIGZ1bmN0aW9uOiBmdW5jdGlvbiBfZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcblx0ICAgICAgJHNjb3BlLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH0sXG5cdFxuXHQgICAgY29udHJvbGxlckFzOiAnZGV2aWNlRGV0YWlsc0N0cmwnXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJwcm9vZlwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvcHJvb2ZcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wcm9vZi9tYWluLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiUHJvb2ZPZlBsYXlDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd2bScsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnUHJvb2Ygb2YgUGxheSdcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInByb29mRGV0YWlsXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9wcm9vZi86dGVuYW50XCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcHJvb2YvZGV0YWlsLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiUHJvb2ZPZlBsYXlDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd2bScsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnUHJvb2Ygb2YgUGxheSdcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkbWluXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaXNBZG1pbjogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gaXNBZG1pbihBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5pc0FkbWluT3JEaXN0cmlidXRvckFkbWluKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9hZG1pblwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2FkbWluL2FkbWluLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiQWRtaW5DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd2bScsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnQWRtaW4nXG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9zaWduX2luJyk7XG5cdFxuXHQgIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0QmFzZVVybCgnL2FwaS92MScpO1xuXHRcblx0ICBSZXN0YW5ndWxhclByb3ZpZGVyLmFkZFJlc3BvbnNlSW50ZXJjZXB0b3IoZnVuY3Rpb24gKGRhdGEsIG9wZXJhdGlvbiwgcmVzb3VyY2VUeXBlLCB1cmwsIHJlc3BvbnNlLCBkZWZlcnJlZCkge1xuXHQgICAgdmFyIHJlc3VsdCA9IGRhdGE7XG5cdCAgICAvLyBVbmNvbW1lbnQgdGhpcyBmb3IgcGFnaW5hdGlvbiBzdXBwb3J0IHdoZW4gdXNpbmcgUGFnaW5nTGlzdEhhbmRsZXJNaXhpbiBvbiB0aGUgUHl0aG9uIHNpZGUuXG5cdCAgICAvLyAgICBpZiByZXNvdXJjZVR5cGUgPT0gJ2RldmljZXMnIGFuZCBvcGVyYXRpb24gPSAnZ2V0TGlzdCcgYW5kIHVybCA9PSAnL2FwaS92MS9kZXZpY2VzJ1xuXHQgICAgLy8gICAgICByZXN1bHQgPSBkYXRhLm9iamVjdHNcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiBSZXN0YW5ndWxhclByb3ZpZGVyLnNldFJlc3Rhbmd1bGFyRmllbGRzKHtcblx0ICAgIGlkOiAna2V5J1xuXHQgIH0pO1xuXHR9XG5cdFxuXHRyb3V0ZXMuJGluamVjdCA9IFtcIiRzdGF0ZVByb3ZpZGVyXCIsIFwiJHVybFJvdXRlclByb3ZpZGVyXCIsIFwiUmVzdGFuZ3VsYXJQcm92aWRlclwiXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzE3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0YXBwUnVuLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiLCBcIiRsb2NhdGlvblwiLCBcIiRpbmplY3RvclwiLCBcIiRyb290U2NvcGVcIiwgXCIkdGltZW91dFwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuYXBwUnVuID0gYXBwUnVuO1xuXHRmdW5jdGlvbiBhcHBSdW4oUmVzdGFuZ3VsYXIsICRsb2NhdGlvbiwgJGluamVjdG9yLCAkcm9vdFNjb3BlLCAkdGltZW91dCkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHN0YXRlQ2hhbmdlV2F0Y2ggPSBmdW5jdGlvbiBzdGF0ZUNoYW5nZVdhdGNoKCkge1xuXHQgICAgdmFyIHN0YXRlID0gJGluamVjdG9yLmdldCgnJHN0YXRlJyk7XG5cdCAgICByZXR1cm4gJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgZnVuY3Rpb24gKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikge1xuXHQgICAgICBpZiAoZXJyb3JbMF0gPT09IFwiYXV0aEVycm9yXCIpIHtcblx0ICAgICAgICByZXR1cm4gc3RhdGUuZ28oZXJyb3JbMV0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICAkdGltZW91dChzdGF0ZUNoYW5nZVdhdGNoLCA1MDApO1xuXHRcblx0ICB2YXIgcmVxdWVzdEludGVyY2VwdG9yID0gZnVuY3Rpb24gcmVxdWVzdEludGVyY2VwdG9yKCkge1xuXHQgICAgUmVzdGFuZ3VsYXIuYWRkUmVxdWVzdEludGVyY2VwdG9yKGZ1bmN0aW9uIChlbGVtLCBvcGVyYXRpb24sIHdoYXQsIHVybCkge1xuXHQgICAgICB2YXIgU3RvcmFnZVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdTdG9yYWdlU2VydmljZScpO1xuXHRcblx0ICAgICAgdmFyIGF1dGhUb2tlbiA9ICc2QzM0NjU4OEJENEM2RDcyMkExMTY1QjQzQzUxQyc7XG5cdCAgICAgIGlmICgkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTEpIHtcblx0ICAgICAgICBhdXRoVG9rZW4gPSAnNVhaSEJGM21Pd3FKbFlBbEcxTmVlV1gwQ2I3MmcnO1xuXHQgICAgICB9XG5cdCAgICAgIFJlc3Rhbmd1bGFyLnNldERlZmF1bHRIZWFkZXJzKHtcblx0ICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHQgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdCAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBhdXRoVG9rZW4sXG5cdCAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLVVzZXInOiBTdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJLZXknKSxcblx0ICAgICAgICAnWC1Qcm92aXNpb25pbmctRGlzdHJpYnV0b3InOiBTdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScpXG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ3JlbW92ZScpIHtcblx0ICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gZWxlbTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgICR0aW1lb3V0KHJlcXVlc3RJbnRlcmNlcHRvciwgNTAwKTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA3MTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy50b2FzdHJDb25maWcgPSB0b2FzdHJDb25maWc7XG5cdGV4cG9ydHMuYnJlYWRjcnVtYlByb3ZpZGVyID0gYnJlYWRjcnVtYlByb3ZpZGVyO1xuXHRcblx0dmFyIF9hbmd1bGFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjkpO1xuXHRcblx0dmFyIF9hbmd1bGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZ3VsYXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIHRvYXN0ckNvbmZpZyh0b2FzdHJDb25maWcpIHtcblx0ICBfYW5ndWxhcjIuZGVmYXVsdC5leHRlbmQodG9hc3RyQ29uZmlnLCB7XG5cdCAgICBwcm9ncmVzc0JhcjogdHJ1ZSxcblx0ICAgIGNsb3NlQnV0dG9uOiB0cnVlLFxuXHQgICAgdGFwVG9EaXNtaXNzOiB0cnVlLFxuXHQgICAgbmV3ZXN0T25Ub3A6IHRydWUsXG5cdCAgICBwb3NpdGlvbkNsYXNzOiAndG9hc3QtYm90dG9tLWxlZnQnLFxuXHQgICAgdGltZU91dDogNTAwMFxuXHQgIH0pO1xuXHR9XG5cdHRvYXN0ckNvbmZpZy4kaW5qZWN0ID0gWyd0b2FzdHJDb25maWcnXTtcblx0XG5cdGZ1bmN0aW9uIGJyZWFkY3J1bWJQcm92aWRlcigkYnJlYWRjcnVtYlByb3ZpZGVyKSB7XG5cdCAgJGJyZWFkY3J1bWJQcm92aWRlci5zZXRPcHRpb25zKHtcblx0ICAgIHByZWZpeFN0YXRlTmFtZTogJ2hvbWUnLFxuXHQgICAgdGVtcGxhdGU6ICdib290c3RyYXAzJ1xuXHQgIH0pO1xuXHR9XG5cdFxuXHRicmVhZGNydW1iUHJvdmlkZXIuJGluamVjdCA9IFtcIiRicmVhZGNydW1iUHJvdmlkZXJcIl07XG5cbi8qKiovIH1cblxufSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogYXBwLmJ1bmRsZS5qc1xuICoqLyIsImltcG9ydCB7YXBwfSBmcm9tICcuL2FwcCdcbi8vIERldmljZVxuaW1wb3J0IHtEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsfSBmcm9tICcuL2RldmljZS9kZXZpY2UtZGV0YWlsLWNvbW1hbmQnXG5pbXBvcnQge0RldmljZURldGFpbHNDdHJsfSBmcm9tICcuL2RldmljZS9kZXZpY2UtZGV0YWlscy5jb250cm9sbGVyJ1xuaW1wb3J0IHtEZXZpY2VzTGlzdGluZ0N0cmx9IGZyb20gJy4vZGV2aWNlL2RldmljZXMtbGlzdGluZy5jb250cm9sbGVyJ1xuLy8gQWRtaW5cbmltcG9ydCB7QWRtaW5DdHJsfSBmcm9tICcuL2FkbWluL2FkbWluLWNvbnRyb2xsZXInXG4vLyBBdXRoZW50aWNhdGlvblxuaW1wb3J0IHtBdXRoZW50aWNhdGlvbkN0cmx9IGZyb20gJy4vYXV0aGVudGljYXRpb24vYXV0aGVudGljYXRpb24tY29udHJvbGxlcidcbi8vIEFwcFxuaW1wb3J0IHtBcHBDb250cm9sbGVyfSBmcm9tICcuL2FwcC9hcHAtY29udHJvbGxlcidcbi8vIERpc3RyaWJ1dG9yc1xuaW1wb3J0IHtEaXN0cmlidXRvclNlbGVjdG9yQ3RybH0gZnJvbSAnLi9kaXN0cmlidXRvci9kaXN0cmlidXRvci1zZWxlY3Rvci1jb250cm9sbGVyJ1xuaW1wb3J0IHtEaXN0cmlidXRvcnNDdHJsfSBmcm9tICcuL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9ycy1jb250cm9sbGVyJ1xuLy8gRG9tYWluc1xuaW1wb3J0IHtEb21haW5zQ3RybH0gZnJvbSAnLi9kb21haW4vZG9tYWlucy5jb250cm9sbGVyJ1xuaW1wb3J0IHtEb21haW5EZXRhaWxzQ3RybH0gZnJvbSAnLi9kb21haW4vZG9tYWluLWRldGFpbHMuY29udHJvbGxlcidcbi8vIFByb29mUGxheVxuaW1wb3J0IHtQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsfSBmcm9tICcuL3Byb29mL211bHRpLWxvY2F0aW9uLmNvbnRyb2xsZXInXG5pbXBvcnQge1Byb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybH0gZnJvbSAnLi9wcm9vZi9tdWx0aS1kaXNwbGF5LmNvbnRyb2xsZXInXG5pbXBvcnQge1Byb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmx9IGZyb20gJy4vcHJvb2YvbXVsdGktcmVzb3VyY2UuY29udHJvbGxlcidcbmltcG9ydCB7UHJvb2ZPZlBsYXlDdHJsfSBmcm9tICcuL3Byb29mL3Byb29mLW9mLXBsYXkuY29udHJvbGxlcidcbi8vIFNlcnZpY2VzXG5pbXBvcnQgQWRtaW5TZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvYWRtaW4uc2VydmljZSdcbmltcG9ydCBBdXRob3JpemF0aW9uU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2F1dGhvcml6YXRpb24uc2VydmljZSdcbmltcG9ydCBDb21tYW5kc1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9jb21tYW5kcy5zZXJ2aWNlJ1xuaW1wb3J0IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvZGF0ZW1hbmlwdWxhdGlvbi5zZXJ2aWNlJ1xuaW1wb3J0IERldmljZXNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvZGV2aWNlcy5zZXJ2aWNlJ1xuaW1wb3J0IERpc3RyaWJ1dG9yc1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9kaXN0cmlidXRvcnMuc2VydmljZSdcbmltcG9ydCBEb21haW5zU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2RvbWFpbnMuc2VydmljZSdcbmltcG9ydCBJZGVudGl0eVNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9pZGVudGl0eS5zZXJ2aWNlJ1xuaW1wb3J0IEludGVncmF0aW9uRXZlbnRzIGZyb20gJy4vc2VydmljZXMvaW50ZWdyYXRpb24tZXZlbnRzLnNlcnZpY2UnXG5pbXBvcnQgTG9jYXRpb25zU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2xvY2F0aW9ucy5zZXJ2aWNlJ1xuaW1wb3J0IFByb2dyZXNzQmFyU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3Byb2dyZXNzYmFyLnNlcnZpY2UnXG5pbXBvcnQgUHJvb2ZQbGF5U2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3Byb29mcGxheS5zZXJ2aWNlJ1xuaW1wb3J0IFNlc3Npb25zU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3Nlc3Npb25zLnNlcnZpY2UnXG5pbXBvcnQgU3RvcmFnZVNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9zdG9yYWdlLnNlcnZpY2UnXG5pbXBvcnQgVGVuYW50c1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy90ZW5hbnRzLnNlcnZpY2UnXG5pbXBvcnQgVGltZXpvbmVzU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3RpbWV6b25lcy5zZXJ2aWNlJ1xuaW1wb3J0IFRvYXN0c1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy90b2FzdHMuc2VydmljZSdcbmltcG9ydCBWZXJzaW9uc1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy92ZXJzaW9ucy5zZXJ2aWNlJ1xuLy8gVGVuYW50XG5pbXBvcnQge1RlbmFudEFkZEN0cmx9IGZyb20gJy4vdGVuYW50L3RlbmFudC1hZGQuY29udHJvbGxlcidcbmltcG9ydCB7VGVuYW50RGV0YWlsc0N0cmx9IGZyb20gJy4vdGVuYW50L3RlbmFudC1kZXRhaWxzLmNvbnRyb2xsZXInXG5pbXBvcnQge1RlbmFudExvY2F0aW9uQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LWxvY2F0aW9uLmNvbnRyb2xsZXInXG5pbXBvcnQge1RlbmFudE1hbmFnZWREZXZpY2VzQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LW1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyJ1xuaW1wb3J0IHtUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LXVubWFuYWdlZC1kZXZpY2VzLmNvbnRyb2xsZXInXG5pbXBvcnQge1RlbmFudHNDdHJsfSBmcm9tICcuL3RlbmFudC90ZW5hbnRzLmNvbnRyb2xsZXInXG4vLyBXZWxjb21lXG5pbXBvcnQge1dlbGNvbWVDdHJsfSBmcm9tICcuL3dlbGNvbWUvd2VsY29tZS1jb250cm9sbGVyJ1xuLy8gQ29uZmlnXG5pbXBvcnQge3JvdXRlc30gZnJvbSAnLi9hcHAtcm91dGVzJ1xuaW1wb3J0IHthcHBSdW59IGZyb20gJy4vYXBwLXJ1bic7XG5pbXBvcnQge3RvYXN0ckNvbmZpZywgYnJlYWRjcnVtYlByb3ZpZGVyfSBmcm9tICcuL2FwcC1jb25maWcnXG5cblxuYXBwXG4vLyBTZXJ2aWNlc1xuICAuc2VydmljZShcIlN0b3JhZ2VTZXJ2aWNlXCIsIFN0b3JhZ2VTZXJ2aWNlKVxuICAuc2VydmljZShcIkFkbWluU2VydmljZVwiLCBBZG1pblNlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgQXV0aG9yaXphdGlvblNlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiQ29tbWFuZHNTZXJ2aWNlXCIsIENvbW1hbmRzU2VydmljZSlcbiAgLnNlcnZpY2UoXCJEYXRlTWFuaXB1bGF0aW9uU2VydmljZVwiLCBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSlcbiAgLnNlcnZpY2UoXCJEZXZpY2VzU2VydmljZVwiLCBEZXZpY2VzU2VydmljZSlcbiAgLnNlcnZpY2UoXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCIsIERpc3RyaWJ1dG9yc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiRG9tYWluc1NlcnZpY2VcIiwgRG9tYWluc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiSWRlbnRpdHlTZXJ2aWNlXCIsIElkZW50aXR5U2VydmljZSlcbiAgLnNlcnZpY2UoXCJJbnRlZ3JhdGlvbkV2ZW50c1wiLCBJbnRlZ3JhdGlvbkV2ZW50cylcbiAgLnNlcnZpY2UoXCJMb2NhdGlvbnNTZXJ2aWNlXCIsIExvY2F0aW9uc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFByb2dyZXNzQmFyU2VydmljZSlcbiAgLnNlcnZpY2UoXCJQcm9vZlBsYXlTZXJ2aWNlXCIsIFByb29mUGxheVNlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFNlc3Npb25zU2VydmljZSlcbiAgLnNlcnZpY2UoXCJUZW5hbnRzU2VydmljZVwiLCBUZW5hbnRzU2VydmljZSlcbiAgLnNlcnZpY2UoXCJUaW1lem9uZXNTZXJ2aWNlXCIsIFRpbWV6b25lc1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiVG9hc3RzU2VydmljZVwiLCBUb2FzdHNTZXJ2aWNlKVxuICAuc2VydmljZShcIlZlcnNpb25zU2VydmljZVwiLCBWZXJzaW9uc1NlcnZpY2UpXG4gIC8vIERldmljZVxuICAuY29udHJvbGxlcihcIkRldmljZURldGFpbHNDb21tYW5kc0N0cmxcIiwgRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJEZXZpY2VEZXRhaWxzQ3RybFwiLCBEZXZpY2VEZXRhaWxzQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJEZXZpY2VzTGlzdGluZ0N0cmxcIiwgRGV2aWNlc0xpc3RpbmdDdHJsKVxuICAvLyBBZG1pblxuICAuY29udHJvbGxlcihcIkFkbWluQ3RybFwiLCBBZG1pbkN0cmwpXG4gIC8vIEF1dGhlbnRpY2F0aW9uXG4gIC5jb250cm9sbGVyKFwiQXV0aGVudGljYXRpb25DdHJsXCIsIEF1dGhlbnRpY2F0aW9uQ3RybClcbiAgLy8gQXBwXG4gIC5jb250cm9sbGVyKFwiQXBwQ29udHJvbGxlclwiLCBBcHBDb250cm9sbGVyKVxuICAvLyBEaXN0cmlidXRvcnNcbiAgLmNvbnRyb2xsZXIoXCJEaXN0cmlidXRvclNlbGVjdG9yQ3RybFwiLCBEaXN0cmlidXRvclNlbGVjdG9yQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJEaXN0cmlidXRvcnNDdHJsXCIsIERpc3RyaWJ1dG9yc0N0cmwpXG4gIC8vIERvbWFpbnNcbiAgLmNvbnRyb2xsZXIoXCJEb21haW5zQ3RybFwiLCBEb21haW5zQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJEb21haW5EZXRhaWxzQ3RybFwiLCBEb21haW5EZXRhaWxzQ3RybClcbiAgLy8gUHJvb2ZQbGF5XG4gIC5jb250cm9sbGVyKFwiUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybFwiLCBQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsKVxuICAuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybFwiLCBQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwpXG4gIC5jb250cm9sbGVyKFwiUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybFwiLCBQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsKVxuICAuY29udHJvbGxlcihcIlByb29mT2ZQbGF5Q3RybFwiLCBQcm9vZk9mUGxheUN0cmwpXG4gIC8vIFRlbmFudHNcbiAgLmNvbnRyb2xsZXIoXCJUZW5hbnRBZGRDdHJsXCIsIFRlbmFudEFkZEN0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50RGV0YWlsc0N0cmxcIiwgVGVuYW50RGV0YWlsc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50TG9jYXRpb25DdHJsXCIsIFRlbmFudExvY2F0aW9uQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmxcIiwgVGVuYW50TWFuYWdlZERldmljZXNDdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsXCIsIFRlbmFudFVubWFuYWdlZERldmljZXNDdHJsKVxuICAuY29udHJvbGxlcihcIlRlbmFudHNDdHJsXCIsIFRlbmFudHNDdHJsKVxuICAvLyBXZWxjb21lXG4gIC5jb250cm9sbGVyKFwiV2VsY29tZUN0cmxcIiwgV2VsY29tZUN0cmwpXG4gIC8vIGFwcFJ1biBCbG9ja1xuICAucnVuKGFwcFJ1bilcbiAgLy8gQ29uZmlnXG4gIC5jb25maWcocm91dGVzKVxuICAuY29uZmlnKHRvYXN0ckNvbmZpZylcbiAgLmNvbmZpZyhicmVhZGNydW1iUHJvdmlkZXIpXG5cbi8vIFJlcXVlc3QgSW50ZXJjZXB0b3JcbmFwcC5zZXJ2aWNlKCdSZXF1ZXN0SW50ZXJjZXB0b3InLCBmdW5jdGlvbiAoU3RvcmFnZVNlcnZpY2UsICRsb2NhdGlvbikge1xuICBcIm5nSW5qZWN0XCI7XG4gIGxldCBpbnRlcmNlcHRvciA9IHtcbiAgICByZXF1ZXN0KGNvbmZpZykge1xuICAgICAgbGV0IGdzID0gJzVYWkhCRjNtT3dxSmxZQWxHMU5lZVdYMENiNzJnJztcbiAgICAgIGxldCBwcm9kID0gJzZDMzQ2NTg4QkQ0QzZENzIyQTExNjVCNDNDNTFDJztcbiAgICAgIGNvbmZpZy5oZWFkZXJzID0ge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQXV0aG9yaXphdGlvbic6ICRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMSA/IGdzIDogcHJvZCxcbiAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLVVzZXInOiBTdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJLZXknKSxcbiAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLVVzZXItSWRlbnRpZmllcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlckVtYWlsJyksXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1EaXN0cmlidXRvcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5JylcbiAgICAgIH07XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGludGVyY2VwdG9yO1xufSk7XG5cblxuYXBwLmNvbmZpZygkaHR0cFByb3ZpZGVyID0+ICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ1JlcXVlc3RJbnRlcmNlcHRvcicpKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9pbmRleC5qc1xuICoqLyIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IHVpUm91dGVyIGZyb20gJ2FuZ3VsYXItdWktcm91dGVyJztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCAnYW5ndWxhci10b29sdGlwcyc7XG5pbXBvcnQgJ2FuZ3VsYXItdG9vbHRpcHMvZGlzdC9hbmd1bGFyLXRvb2x0aXBzLmNzcydcbmltcG9ydCAnYW5ndWxhci10b2FzdHIvZGlzdC9hbmd1bGFyLXRvYXN0ci5jc3MnXG5pbXBvcnQgJ2FuZ3VsYXItdG9hc3RyJztcbmltcG9ydCBcImZvbnQtYXdlc29tZS9jc3MvZm9udC1hd2Vzb21lLmNzc1wiO1xuaW1wb3J0ICdub3JtYWxpemUuY3NzJztcbmltcG9ydCBcImJvb3RzdHJhcC13ZWJwYWNrXCI7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MnO1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzLmNzcyc7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9hbmd1bGFyQnJlYWRjcnVtYi9hbmd1bGFyQnJlYWRjcnVtYic7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2pzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXInXG5pbXBvcnQgJy4vY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2Nzcy9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3MnXG5pbXBvcnQgJy4vY29tcG9uZW50cy9hbmd1bGFyLWRpcmVjdGl2ZS5nLXNpZ25pbi9nb29nbGUtcGx1cy1zaWduaW4nXG5pbXBvcnQgJy4vY29tcG9uZW50cy9hbmd1bGFyLWgtc3dlZXRhbGVydC9uZ1N3ZWV0QWxlcnQubWluJ1xuaW1wb3J0ICdyZXN0YW5ndWxhcic7XG5pbXBvcnQgJ2FuZ3VsYXItbWF0ZXJpYWwnXG5pbXBvcnQgJ3N3ZWV0YWxlcnQnO1xuaW1wb3J0ICdhbmd1bGFyLWgtc3dlZXRhbGVydCc7XG5pbXBvcnQgJ2FuZ3VsYXItdG9hc3RyJztcbmltcG9ydCAnYW5ndWxhci1jb29raWVzJztcbmltcG9ydCAnYW5ndWxhci1zYW5pdGl6ZSc7XG5pbXBvcnQgJ2FuZ3VsYXItdWktYm9vdHN0cmFwJztcbmltcG9ydCAnbmdjbGlwYm9hcmQnO1xuaW1wb3J0ICdqcXVlcnknO1xuaW1wb3J0ICdhbmd1bGFyLWJyZWFkY3J1bWInXG5pbXBvcnQgJ2FuZ3VsYXItbWF0ZXJpYWwnO1xuLy8gSW1wb3J0IGFuZ3VsYXJcbmltcG9ydCAnYW5ndWxhci9hbmd1bGFyLmpzJztcbi8vIE1hdGVyaWFsIGRlc2lnbiBjc3NcbmltcG9ydCAnYW5ndWxhci1tYXRlcmlhbC9hbmd1bGFyLW1hdGVyaWFsLmNzcyc7XG5pbXBvcnQgJy4vc2Nzcy92ZW5kb3Iuc2NzcydcbmltcG9ydCAnLi9zY3NzL2luZGV4LnNjc3MnXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xud2luZG93Ll8gPSBfO1xud2luZG93LmFuZ3VsYXIgPSBhbmd1bGFyO1xuXG5cbmV4cG9ydCBsZXQgYXBwID0gYW5ndWxhci5tb2R1bGUoJ3NreWtpdFByb3Zpc2lvbmluZycsIFtcbiAgdWlSb3V0ZXIsXG4gICduZ0FuaW1hdGUnLFxuICAnNzIwa2IudG9vbHRpcHMnLFxuICAnbmdDb29raWVzJyxcbiAgJ25nU2FuaXRpemUnLFxuICAncmVzdGFuZ3VsYXInLFxuICAnaFN3ZWV0QWxlcnQnLFxuICAndWkuYm9vdHN0cmFwJyxcbiAgJ25nTWF0ZXJpYWxEYXRlUGlja2VyJyxcbiAgJ2hTd2VldEFsZXJ0JyxcbiAgJ25jeS1hbmd1bGFyLWJyZWFkY3J1bWInLFxuICAnZGlyZWN0aXZlLmcrc2lnbmluJyxcbiAgJ25nUHJvZ3Jlc3MnLFxuICAnbmdNYXRlcmlhbCcsXG4gICduZ2NsaXBib2FyZCcsXG4gICd0b2FzdHInXG5dKVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2FwcC5qc1xuICoqLyIsInZhciBtYXAgPSB7XG5cdFwiLi9hZlwiOiAzNzUsXG5cdFwiLi9hZi5qc1wiOiAzNzUsXG5cdFwiLi9hclwiOiAzNzYsXG5cdFwiLi9hci1tYVwiOiAzNzcsXG5cdFwiLi9hci1tYS5qc1wiOiAzNzcsXG5cdFwiLi9hci1zYVwiOiAzNzgsXG5cdFwiLi9hci1zYS5qc1wiOiAzNzgsXG5cdFwiLi9hci10blwiOiAzNzksXG5cdFwiLi9hci10bi5qc1wiOiAzNzksXG5cdFwiLi9hci5qc1wiOiAzNzYsXG5cdFwiLi9helwiOiAzODAsXG5cdFwiLi9hei5qc1wiOiAzODAsXG5cdFwiLi9iZVwiOiAzODEsXG5cdFwiLi9iZS5qc1wiOiAzODEsXG5cdFwiLi9iZ1wiOiAzODIsXG5cdFwiLi9iZy5qc1wiOiAzODIsXG5cdFwiLi9iblwiOiAzODMsXG5cdFwiLi9ibi5qc1wiOiAzODMsXG5cdFwiLi9ib1wiOiAzODQsXG5cdFwiLi9iby5qc1wiOiAzODQsXG5cdFwiLi9iclwiOiAzODUsXG5cdFwiLi9ici5qc1wiOiAzODUsXG5cdFwiLi9ic1wiOiAzODYsXG5cdFwiLi9icy5qc1wiOiAzODYsXG5cdFwiLi9jYVwiOiAzODcsXG5cdFwiLi9jYS5qc1wiOiAzODcsXG5cdFwiLi9jc1wiOiAzODgsXG5cdFwiLi9jcy5qc1wiOiAzODgsXG5cdFwiLi9jdlwiOiAzODksXG5cdFwiLi9jdi5qc1wiOiAzODksXG5cdFwiLi9jeVwiOiAzOTAsXG5cdFwiLi9jeS5qc1wiOiAzOTAsXG5cdFwiLi9kYVwiOiAzOTEsXG5cdFwiLi9kYS5qc1wiOiAzOTEsXG5cdFwiLi9kZVwiOiAzOTIsXG5cdFwiLi9kZS1hdFwiOiAzOTMsXG5cdFwiLi9kZS1hdC5qc1wiOiAzOTMsXG5cdFwiLi9kZS5qc1wiOiAzOTIsXG5cdFwiLi9kdlwiOiAzOTQsXG5cdFwiLi9kdi5qc1wiOiAzOTQsXG5cdFwiLi9lbFwiOiAzOTUsXG5cdFwiLi9lbC5qc1wiOiAzOTUsXG5cdFwiLi9lbi1hdVwiOiAzOTYsXG5cdFwiLi9lbi1hdS5qc1wiOiAzOTYsXG5cdFwiLi9lbi1jYVwiOiAzOTcsXG5cdFwiLi9lbi1jYS5qc1wiOiAzOTcsXG5cdFwiLi9lbi1nYlwiOiAzOTgsXG5cdFwiLi9lbi1nYi5qc1wiOiAzOTgsXG5cdFwiLi9lbi1pZVwiOiAzOTksXG5cdFwiLi9lbi1pZS5qc1wiOiAzOTksXG5cdFwiLi9lbi1uelwiOiA0MDAsXG5cdFwiLi9lbi1uei5qc1wiOiA0MDAsXG5cdFwiLi9lb1wiOiA0MDEsXG5cdFwiLi9lby5qc1wiOiA0MDEsXG5cdFwiLi9lc1wiOiA0MDIsXG5cdFwiLi9lcy1kb1wiOiA0MDMsXG5cdFwiLi9lcy1kby5qc1wiOiA0MDMsXG5cdFwiLi9lcy5qc1wiOiA0MDIsXG5cdFwiLi9ldFwiOiA0MDQsXG5cdFwiLi9ldC5qc1wiOiA0MDQsXG5cdFwiLi9ldVwiOiA0MDUsXG5cdFwiLi9ldS5qc1wiOiA0MDUsXG5cdFwiLi9mYVwiOiA0MDYsXG5cdFwiLi9mYS5qc1wiOiA0MDYsXG5cdFwiLi9maVwiOiA0MDcsXG5cdFwiLi9maS5qc1wiOiA0MDcsXG5cdFwiLi9mb1wiOiA0MDgsXG5cdFwiLi9mby5qc1wiOiA0MDgsXG5cdFwiLi9mclwiOiA0MDksXG5cdFwiLi9mci1jYVwiOiA0MTAsXG5cdFwiLi9mci1jYS5qc1wiOiA0MTAsXG5cdFwiLi9mci1jaFwiOiA0MTEsXG5cdFwiLi9mci1jaC5qc1wiOiA0MTEsXG5cdFwiLi9mci5qc1wiOiA0MDksXG5cdFwiLi9meVwiOiA0MTIsXG5cdFwiLi9meS5qc1wiOiA0MTIsXG5cdFwiLi9nZFwiOiA0MTMsXG5cdFwiLi9nZC5qc1wiOiA0MTMsXG5cdFwiLi9nbFwiOiA0MTQsXG5cdFwiLi9nbC5qc1wiOiA0MTQsXG5cdFwiLi9oZVwiOiA0MTUsXG5cdFwiLi9oZS5qc1wiOiA0MTUsXG5cdFwiLi9oaVwiOiA0MTYsXG5cdFwiLi9oaS5qc1wiOiA0MTYsXG5cdFwiLi9oclwiOiA0MTcsXG5cdFwiLi9oci5qc1wiOiA0MTcsXG5cdFwiLi9odVwiOiA0MTgsXG5cdFwiLi9odS5qc1wiOiA0MTgsXG5cdFwiLi9oeS1hbVwiOiA0MTksXG5cdFwiLi9oeS1hbS5qc1wiOiA0MTksXG5cdFwiLi9pZFwiOiA0MjAsXG5cdFwiLi9pZC5qc1wiOiA0MjAsXG5cdFwiLi9pc1wiOiA0MjEsXG5cdFwiLi9pcy5qc1wiOiA0MjEsXG5cdFwiLi9pdFwiOiA0MjIsXG5cdFwiLi9pdC5qc1wiOiA0MjIsXG5cdFwiLi9qYVwiOiA0MjMsXG5cdFwiLi9qYS5qc1wiOiA0MjMsXG5cdFwiLi9qdlwiOiA0MjQsXG5cdFwiLi9qdi5qc1wiOiA0MjQsXG5cdFwiLi9rYVwiOiA0MjUsXG5cdFwiLi9rYS5qc1wiOiA0MjUsXG5cdFwiLi9ra1wiOiA0MjYsXG5cdFwiLi9ray5qc1wiOiA0MjYsXG5cdFwiLi9rbVwiOiA0MjcsXG5cdFwiLi9rbS5qc1wiOiA0MjcsXG5cdFwiLi9rb1wiOiA0MjgsXG5cdFwiLi9rby5qc1wiOiA0MjgsXG5cdFwiLi9reVwiOiA0MjksXG5cdFwiLi9reS5qc1wiOiA0MjksXG5cdFwiLi9sYlwiOiA0MzAsXG5cdFwiLi9sYi5qc1wiOiA0MzAsXG5cdFwiLi9sb1wiOiA0MzEsXG5cdFwiLi9sby5qc1wiOiA0MzEsXG5cdFwiLi9sdFwiOiA0MzIsXG5cdFwiLi9sdC5qc1wiOiA0MzIsXG5cdFwiLi9sdlwiOiA0MzMsXG5cdFwiLi9sdi5qc1wiOiA0MzMsXG5cdFwiLi9tZVwiOiA0MzQsXG5cdFwiLi9tZS5qc1wiOiA0MzQsXG5cdFwiLi9ta1wiOiA0MzUsXG5cdFwiLi9tay5qc1wiOiA0MzUsXG5cdFwiLi9tbFwiOiA0MzYsXG5cdFwiLi9tbC5qc1wiOiA0MzYsXG5cdFwiLi9tclwiOiA0MzcsXG5cdFwiLi9tci5qc1wiOiA0MzcsXG5cdFwiLi9tc1wiOiA0MzgsXG5cdFwiLi9tcy1teVwiOiA0MzksXG5cdFwiLi9tcy1teS5qc1wiOiA0MzksXG5cdFwiLi9tcy5qc1wiOiA0MzgsXG5cdFwiLi9teVwiOiA0NDAsXG5cdFwiLi9teS5qc1wiOiA0NDAsXG5cdFwiLi9uYlwiOiA0NDEsXG5cdFwiLi9uYi5qc1wiOiA0NDEsXG5cdFwiLi9uZVwiOiA0NDIsXG5cdFwiLi9uZS5qc1wiOiA0NDIsXG5cdFwiLi9ubFwiOiA0NDMsXG5cdFwiLi9ubC5qc1wiOiA0NDMsXG5cdFwiLi9ublwiOiA0NDQsXG5cdFwiLi9ubi5qc1wiOiA0NDQsXG5cdFwiLi9wYS1pblwiOiA0NDUsXG5cdFwiLi9wYS1pbi5qc1wiOiA0NDUsXG5cdFwiLi9wbFwiOiA0NDYsXG5cdFwiLi9wbC5qc1wiOiA0NDYsXG5cdFwiLi9wdFwiOiA0NDcsXG5cdFwiLi9wdC1iclwiOiA0NDgsXG5cdFwiLi9wdC1ici5qc1wiOiA0NDgsXG5cdFwiLi9wdC5qc1wiOiA0NDcsXG5cdFwiLi9yb1wiOiA0NDksXG5cdFwiLi9yby5qc1wiOiA0NDksXG5cdFwiLi9ydVwiOiA0NTAsXG5cdFwiLi9ydS5qc1wiOiA0NTAsXG5cdFwiLi9zZVwiOiA0NTEsXG5cdFwiLi9zZS5qc1wiOiA0NTEsXG5cdFwiLi9zaVwiOiA0NTIsXG5cdFwiLi9zaS5qc1wiOiA0NTIsXG5cdFwiLi9za1wiOiA0NTMsXG5cdFwiLi9zay5qc1wiOiA0NTMsXG5cdFwiLi9zbFwiOiA0NTQsXG5cdFwiLi9zbC5qc1wiOiA0NTQsXG5cdFwiLi9zcVwiOiA0NTUsXG5cdFwiLi9zcS5qc1wiOiA0NTUsXG5cdFwiLi9zclwiOiA0NTYsXG5cdFwiLi9zci1jeXJsXCI6IDQ1Nyxcblx0XCIuL3NyLWN5cmwuanNcIjogNDU3LFxuXHRcIi4vc3IuanNcIjogNDU2LFxuXHRcIi4vc3NcIjogNDU4LFxuXHRcIi4vc3MuanNcIjogNDU4LFxuXHRcIi4vc3ZcIjogNDU5LFxuXHRcIi4vc3YuanNcIjogNDU5LFxuXHRcIi4vc3dcIjogNDYwLFxuXHRcIi4vc3cuanNcIjogNDYwLFxuXHRcIi4vdGFcIjogNDYxLFxuXHRcIi4vdGEuanNcIjogNDYxLFxuXHRcIi4vdGVcIjogNDYyLFxuXHRcIi4vdGUuanNcIjogNDYyLFxuXHRcIi4vdGhcIjogNDYzLFxuXHRcIi4vdGguanNcIjogNDYzLFxuXHRcIi4vdGwtcGhcIjogNDY0LFxuXHRcIi4vdGwtcGguanNcIjogNDY0LFxuXHRcIi4vdGxoXCI6IDQ2NSxcblx0XCIuL3RsaC5qc1wiOiA0NjUsXG5cdFwiLi90clwiOiA0NjYsXG5cdFwiLi90ci5qc1wiOiA0NjYsXG5cdFwiLi90emxcIjogNDY3LFxuXHRcIi4vdHpsLmpzXCI6IDQ2Nyxcblx0XCIuL3R6bVwiOiA0NjgsXG5cdFwiLi90em0tbGF0blwiOiA0NjksXG5cdFwiLi90em0tbGF0bi5qc1wiOiA0NjksXG5cdFwiLi90em0uanNcIjogNDY4LFxuXHRcIi4vdWtcIjogNDcwLFxuXHRcIi4vdWsuanNcIjogNDcwLFxuXHRcIi4vdXpcIjogNDcxLFxuXHRcIi4vdXouanNcIjogNDcxLFxuXHRcIi4vdmlcIjogNDcyLFxuXHRcIi4vdmkuanNcIjogNDcyLFxuXHRcIi4veC1wc2V1ZG9cIjogNDczLFxuXHRcIi4veC1wc2V1ZG8uanNcIjogNDczLFxuXHRcIi4vemgtY25cIjogNDc0LFxuXHRcIi4vemgtY24uanNcIjogNDc0LFxuXHRcIi4vemgtdHdcIjogNDc1LFxuXHRcIi4vemgtdHcuanNcIjogNDc1XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdHJldHVybiBtYXBbcmVxXSB8fCAoZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpIH0oKSk7XG59O1xud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDM3NDtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L21vbWVudC9sb2NhbGUgXlxcLlxcLy4qJFxuICoqIG1vZHVsZSBpZCA9IDM3NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcbiBuZ3Byb2dyZXNzIDEuMS4yIC0gc2xpbSwgc2l0ZS13aWRlIHByb2dyZXNzYmFyIGZvciBBbmd1bGFySlMgXG4gKEMpIDIwMTMgLSBWaWN0b3IgQmplbGtob2xtIFxuIExpY2Vuc2U6IE1JVCBcbiBTb3VyY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9WaWN0b3JCamVsa2hvbG0vbmdQcm9ncmVzcyBcbiBEYXRlIENvbXBpbGVkOiAyMDE1LTA3LTI3IFxuICovXG5hbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3MucHJvdmlkZXJcIiwgW1wibmdQcm9ncmVzcy5kaXJlY3RpdmVcIl0pLnNlcnZpY2UoXCJuZ1Byb2dyZXNzXCIsIGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIHJldHVybiBbXCIkZG9jdW1lbnRcIiwgXCIkd2luZG93XCIsIFwiJGNvbXBpbGVcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJHRpbWVvdXRcIiwgZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHtcbiAgICB0aGlzLmF1dG9TdHlsZSA9ICEwLCB0aGlzLmNvdW50ID0gMCwgdGhpcy5oZWlnaHQgPSBcIjJweFwiLCB0aGlzLiRzY29wZSA9IGQuJG5ldygpLCB0aGlzLmNvbG9yID0gXCJmaXJlYnJpY2tcIiwgdGhpcy5wYXJlbnQgPSBhLmZpbmQoXCJib2R5XCIpWzBdLCB0aGlzLmNvdW50ID0gMCwgdGhpcy5wcm9ncmVzc2JhckVsID0gYyhcIjxuZy1wcm9ncmVzcz48L25nLXByb2dyZXNzPlwiKSh0aGlzLiRzY29wZSksIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSksIHRoaXMuJHNjb3BlLmNvdW50ID0gdGhpcy5jb3VudCwgdm9pZCAwICE9PSB0aGlzLmhlaWdodCAmJiB0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQpLCB2b2lkIDAgIT09IHRoaXMuY29sb3IgJiYgKHRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgdGhpcy5jb2xvciksIHRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImNvbG9yXCIsIHRoaXMuY29sb3IpKSwgdGhpcy5pbnRlcnZhbENvdW50ZXJJZCA9IDAsIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnNob3coKTtcbiAgICAgIHZhciBhID0gdGhpcztcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIHRoaXMuaW50ZXJ2YWxDb3VudGVySWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzTmFOKGEuY291bnQpID8gKGNsZWFySW50ZXJ2YWwoYS5pbnRlcnZhbENvdW50ZXJJZCksIGEuY291bnQgPSAwLCBhLmhpZGUoKSkgOiAoYS5yZW1haW5pbmcgPSAxMDAgLSBhLmNvdW50LCBhLmNvdW50ID0gYS5jb3VudCArIC4xNSAqIE1hdGgucG93KDEgLSBNYXRoLnNxcnQoYS5yZW1haW5pbmcpLCAyKSwgYS51cGRhdGVDb3VudChhLmNvdW50KSlcbiAgICAgIH0sIDIwMClcbiAgICB9LCB0aGlzLnVwZGF0ZUNvdW50ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHRoaXMuJHNjb3BlLmNvdW50ID0gYSwgdGhpcy4kc2NvcGUuJCRwaGFzZSB8fCB0aGlzLiRzY29wZS4kYXBwbHkoKVxuICAgIH0sIHRoaXMuc2V0SGVpZ2h0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGEgJiYgKHRoaXMuaGVpZ2h0ID0gYSwgdGhpcy4kc2NvcGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQsIHRoaXMuJHNjb3BlLiQkcGhhc2UgfHwgdGhpcy4kc2NvcGUuJGFwcGx5KCkpLCB0aGlzLmhlaWdodFxuICAgIH0sIHRoaXMuc2V0Q29sb3IgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gYSAmJiAodGhpcy5jb2xvciA9IGEsIHRoaXMuJHNjb3BlLmNvbG9yID0gdGhpcy5jb2xvciwgdGhpcy4kc2NvcGUuJCRwaGFzZSB8fCB0aGlzLiRzY29wZS4kYXBwbHkoKSksIHRoaXMuY29sb3JcbiAgICB9LCB0aGlzLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJvcGFjaXR5XCIsIFwiMFwiKTtcbiAgICAgIHZhciBhID0gdGhpcztcbiAgICAgIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGEucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIndpZHRoXCIsIFwiMCVcIiksIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYS5zaG93KClcbiAgICAgICAgfSwgNTAwKVxuICAgICAgfSwgNTAwKVxuICAgIH0sIHRoaXMuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhID0gdGhpcztcbiAgICAgIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGEucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIm9wYWNpdHlcIiwgXCIxXCIpXG4gICAgICB9LCAxMDApXG4gICAgfSwgdGhpcy5hbmltYXRlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHZvaWQgMCAhPT0gdGhpcy5hbmltYXRpb24gJiYgZS5jYW5jZWwodGhpcy5hbmltYXRpb24pLCB0aGlzLmFuaW1hdGlvbiA9IGUoYSwgYilcbiAgICB9LCB0aGlzLnN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvdW50XG4gICAgfSwgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKVxuICAgIH0sIHRoaXMuc2V0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLnNob3coKSwgdGhpcy51cGRhdGVDb3VudChhKSwgdGhpcy5jb3VudCA9IGEsIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIHRoaXMuY291bnRcbiAgICB9LCB0aGlzLmNzcyA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKGEpXG4gICAgfSwgdGhpcy5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCB0aGlzLmNvdW50ID0gMCwgdGhpcy51cGRhdGVDb3VudCh0aGlzLmNvdW50KSwgMFxuICAgIH0sIHRoaXMuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNvdW50ID0gMTAwLCB0aGlzLnVwZGF0ZUNvdW50KHRoaXMuY291bnQpO1xuICAgICAgdmFyIGEgPSB0aGlzO1xuICAgICAgcmV0dXJuIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBhLmhpZGUoKSwgZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYS5jb3VudCA9IDAsIGEudXBkYXRlQ291bnQoYS5jb3VudClcbiAgICAgICAgfSwgNTAwKVxuICAgICAgfSwgMWUzKSwgdGhpcy5jb3VudFxuICAgIH0sIHRoaXMuc2V0UGFyZW50ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIGlmIChudWxsID09PSBhIHx8IHZvaWQgMCA9PT0gYSl0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlIGEgdmFsaWQgcGFyZW50IG9mIHR5cGUgSFRNTEVsZW1lbnRcIik7XG4gICAgICBudWxsICE9PSB0aGlzLnBhcmVudCAmJiB2b2lkIDAgIT09IHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSksIHRoaXMucGFyZW50ID0gYSwgdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc2JhckVsWzBdKVxuICAgIH0sIHRoaXMuZ2V0RG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzYmFyRWxcbiAgICB9LCB0aGlzLnNldEFic29sdXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wcm9ncmVzc2JhckVsLmNzcyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIilcbiAgICB9XG4gIH1dXG59KS5mYWN0b3J5KFwibmdQcm9ncmVzc0ZhY3RvcnlcIiwgW1wiJGluamVjdG9yXCIsIFwibmdQcm9ncmVzc1wiLCBmdW5jdGlvbiAoYSwgYikge1xuICB2YXIgYyA9IHtcbiAgICBjcmVhdGVJbnN0YW5jZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEuaW5zdGFudGlhdGUoYilcbiAgICB9XG4gIH07XG4gIHJldHVybiBjXG59XSksIGFuZ3VsYXIubW9kdWxlKFwibmdQcm9ncmVzcy5kaXJlY3RpdmVcIiwgW10pLmRpcmVjdGl2ZShcIm5nUHJvZ3Jlc3NcIiwgW1wiJHdpbmRvd1wiLCBcIiRyb290U2NvcGVcIiwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgdmFyIGMgPSB7XG4gICAgcmVwbGFjZTogITAsIHJlc3RyaWN0OiBcIkVcIiwgbGluazogZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHtcbiAgICAgIGEuJHdhdGNoKFwiY291bnRcIiwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgKHZvaWQgMCAhPT0gYyB8fCBudWxsICE9PSBjKSAmJiAoYS5jb3VudGVyID0gYywgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcIndpZHRoXCIsIGMgKyBcIiVcIikpXG4gICAgICB9KSwgYS4kd2F0Y2goXCJjb2xvclwiLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmNvbG9yID0gYywgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgYyksIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJjb2xvclwiLCBjKSlcbiAgICAgIH0pLCBhLiR3YXRjaChcImhlaWdodFwiLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmhlaWdodCA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJoZWlnaHRcIiwgYykpXG4gICAgICB9KVxuICAgIH0sIHRlbXBsYXRlOiAnPGRpdiBpZD1cIm5nUHJvZ3Jlc3MtY29udGFpbmVyXCI+PGRpdiBpZD1cIm5nUHJvZ3Jlc3NcIj48L2Rpdj48L2Rpdj4nXG4gIH07XG4gIHJldHVybiBjXG59XSksIGFuZ3VsYXIubW9kdWxlKFwibmdQcm9ncmVzc1wiLCBbXCJuZ1Byb2dyZXNzLmRpcmVjdGl2ZVwiLCBcIm5nUHJvZ3Jlc3MucHJvdmlkZXJcIl0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzLmpzXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9uZ1Byb2dyZXNzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9uZ1Byb2dyZXNzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL25nUHJvZ3Jlc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2FwcC9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSA1MTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiI25nUHJvZ3Jlc3N7bWFyZ2luOjA7cGFkZGluZzowO3otaW5kZXg6OTk5OTg7YmFja2dyb3VuZC1jb2xvcjpncmVlbjtjb2xvcjpncmVlbjtib3gtc2hhZG93OjAgMCAxMHB4IDA7aGVpZ2h0OjJweDtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuNXMgZWFzZS1pbi1vdXQ7dHJhbnNpdGlvbjphbGwgLjVzIGVhc2UtaW4tb3V0fSNuZ1Byb2dyZXNzLWNvbnRhaW5lcntwb3NpdGlvbjpmaXhlZDttYXJnaW46MDtwYWRkaW5nOjA7dG9wOjA7bGVmdDowO3JpZ2h0OjA7ei1pbmRleDo5OTk5OX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vc3JjL2FwcC9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSA1MjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qISBhbmd1bGFyLWJyZWFkY3J1bWIgLSB2MC40LjAtZGV2LTIwMTUtMDgtMDdcbiogaHR0cDovL25jdWlsbGVyeS5naXRodWIuaW8vYW5ndWxhci1icmVhZGNydW1iXG4qIENvcHlyaWdodCAoYykgMjAxNSBOaWNvbGFzIEN1aWxsZXJ5OyBMaWNlbnNlZCBNSVQgKi9cbiFmdW5jdGlvbihhLGIsYyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZChhLGMpe3JldHVybiBiLmVxdWFscyhhLmxlbmd0aCxjLmxlbmd0aCk/YT5jOmEubGVuZ3RoPmMubGVuZ3RofWZ1bmN0aW9uIGUoYSl7dmFyIGI9YS5yZXBsYWNlKC9cXG4vZyxcIiBcIikubWF0Y2goL14oW14oXSs/KVxccyooXFwoKC4qKVxcKSk/JC8pO2lmKCFifHw0IT09Yi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSByZWYgJ1wiK2ErXCInXCIpO3JldHVybntzdGF0ZTpiWzFdLHBhcmFtRXhwcjpiWzNdfHxudWxsfX1mdW5jdGlvbiBmKCl7dmFyIGE9e3ByZWZpeFN0YXRlTmFtZTpudWxsLHRlbXBsYXRlOlwiYm9vdHN0cmFwM1wiLHRlbXBsYXRlVXJsOm51bGwsaW5jbHVkZUFic3RyYWN0OiExfTt0aGlzLnNldE9wdGlvbnM9ZnVuY3Rpb24oYyl7Yi5leHRlbmQoYSxjKX0sdGhpcy4kZ2V0PVtcIiRzdGF0ZVwiLFwiJHN0YXRlUGFyYW1zXCIsXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24oYixmLGcpe3ZhciBoPWc7Zy4kb24oXCIkdmlld0NvbnRlbnRMb2FkZWRcIixmdW5jdGlvbihhKXshYS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlJiZkKGEudGFyZ2V0U2NvcGUuJGlkLGguJGlkKSYmKGg9YS50YXJnZXRTY29wZSl9KTt2YXIgaT1mdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudHx8KC9eKC4rKVxcLlteLl0rJC8uZXhlYyhhLm5hbWUpfHxbXSlbMV0sYz1cIm9iamVjdFwiPT10eXBlb2YgYjtyZXR1cm4gYz9iLm5hbWU6Yn0saj1mdW5jdGlvbihjLGQpe2Zvcih2YXIgZyxpLGo9ZShkKSxrPSExLGw9ITEsbT0wLG49Yy5sZW5ndGg7bj5tO20rPTEpaWYoY1ttXS5uYW1lPT09ai5zdGF0ZSlyZXR1cm47Zz1iLmdldChqLnN0YXRlKSxnLm5jeUJyZWFkY3J1bWImJihnLm5jeUJyZWFkY3J1bWIuZm9yY2UmJihrPSEwKSxnLm5jeUJyZWFkY3J1bWIuc2tpcCYmKGw9ITApKSxnW1wiYWJzdHJhY3RcIl0mJiFhLmluY2x1ZGVBYnN0cmFjdCYmIWt8fGx8fChqLnBhcmFtRXhwciYmKGk9aC4kZXZhbChqLnBhcmFtRXhwcikpLGcubmN5QnJlYWRjcnVtYkxpbms9Yi5ocmVmKGouc3RhdGUsaXx8Znx8e30pLGMudW5zaGlmdChnKSl9LGs9ZnVuY3Rpb24oYSl7dmFyIGM9ZShhKSxkPWIuZ2V0KGMuc3RhdGUpO2lmKGQubmN5QnJlYWRjcnVtYiYmZC5uY3lCcmVhZGNydW1iLnBhcmVudCl7dmFyIGY9XCJmdW5jdGlvblwiPT10eXBlb2YgZC5uY3lCcmVhZGNydW1iLnBhcmVudCxnPWY/ZC5uY3lCcmVhZGNydW1iLnBhcmVudChoKTpkLm5jeUJyZWFkY3J1bWIucGFyZW50O2lmKGcpcmV0dXJuIGd9cmV0dXJuIGkoZCl9O3JldHVybntnZXRUZW1wbGF0ZTpmdW5jdGlvbihiKXtyZXR1cm4gYS50ZW1wbGF0ZVVybD9udWxsOmJbYS50ZW1wbGF0ZV0/YlthLnRlbXBsYXRlXTphLnRlbXBsYXRlfSxnZXRUZW1wbGF0ZVVybDpmdW5jdGlvbigpe3JldHVybiBhLnRlbXBsYXRlVXJsfSxnZXRTdGF0ZXNDaGFpbjpmdW5jdGlvbihjKXtmb3IodmFyIGQ9W10sZT1iLiRjdXJyZW50LnNlbGYubmFtZTtlO2U9ayhlKSlpZihqKGQsZSksYyYmZC5sZW5ndGgpcmV0dXJuIGQ7cmV0dXJuIGEucHJlZml4U3RhdGVOYW1lJiZqKGQsYS5wcmVmaXhTdGF0ZU5hbWUpLGR9LGdldExhc3RTdGVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRTdGF0ZXNDaGFpbighMCk7cmV0dXJuIGEubGVuZ3RoP2FbMF06Y30sJGdldExhc3RWaWV3U2NvcGU6ZnVuY3Rpb24oKXtyZXR1cm4gaH19fV19ZnVuY3Rpb24gZyhhLGMsZCl7dmFyIGU9e2Jvb3RzdHJhcDI6Jzx1bCBjbGFzcz1cImJyZWFkY3J1bWJcIj48bGkgbmctcmVwZWF0PVwic3RlcCBpbiBzdGVwc1wiIG5nLXN3aXRjaD1cIiRsYXN0IHx8ICEhc3RlcC5hYnN0cmFjdFwiIG5nLWNsYXNzPVwie2FjdGl2ZTogJGxhc3R9XCI+PGEgbmctc3dpdGNoLXdoZW49XCJmYWxzZVwiIGhyZWY9XCJ7e3N0ZXAubmN5QnJlYWRjcnVtYkxpbmt9fVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvYT48c3BhbiBuZy1zd2l0Y2gtd2hlbj1cInRydWVcIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L3NwYW4+PHNwYW4gY2xhc3M9XCJkaXZpZGVyXCIgbmctaGlkZT1cIiRsYXN0XCI+Lzwvc3Bhbj48L2xpPjwvdWw+Jyxib290c3RyYXAzOic8b2wgY2xhc3M9XCJicmVhZGNydW1iXCI+PGxpIG5nLXJlcGVhdD1cInN0ZXAgaW4gc3RlcHNcIiBuZy1jbGFzcz1cInthY3RpdmU6ICRsYXN0fVwiIG5nLXN3aXRjaD1cIiRsYXN0IHx8ICEhc3RlcC5hYnN0cmFjdFwiPjxhIG5nLXN3aXRjaC13aGVuPVwiZmFsc2VcIiBocmVmPVwie3tzdGVwLm5jeUJyZWFkY3J1bWJMaW5rfX1cIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L2E+PHNwYW4gbmctc3dpdGNoLXdoZW49XCJ0cnVlXCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9zcGFuPjwvbGk+PC9vbD4nfTtyZXR1cm57cmVzdHJpY3Q6XCJBRVwiLHJlcGxhY2U6ITAsc2NvcGU6e30sdGVtcGxhdGU6Yy5nZXRUZW1wbGF0ZShlKSx0ZW1wbGF0ZVVybDpjLmdldFRlbXBsYXRlVXJsKCksbGluazp7cG9zdDpmdW5jdGlvbihlKXt2YXIgZj1bXSxnPWZ1bmN0aW9uKCl7bChmKSxmPVtdO3ZhciBkPWMuJGdldExhc3RWaWV3U2NvcGUoKTtlLnN0ZXBzPWMuZ2V0U3RhdGVzQ2hhaW4oKSxiLmZvckVhY2goZS5zdGVwcyxmdW5jdGlvbihiKXtpZihiLm5jeUJyZWFkY3J1bWImJmIubmN5QnJlYWRjcnVtYi5sYWJlbCl7dmFyIGM9YShiLm5jeUJyZWFkY3J1bWIubGFiZWwpO2IubmN5QnJlYWRjcnVtYkxhYmVsPWMoZCksayhmLGMsZCxiKX1lbHNlIGIubmN5QnJlYWRjcnVtYkxhYmVsPWIubmFtZX0pfTtkLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLGZ1bmN0aW9uKGEpe2EudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZXx8ZygpfSksZygpfX19fWZ1bmN0aW9uIGgoYSxiLGMpe3JldHVybntyZXN0cmljdDpcIkFcIixzY29wZTp7fSx0ZW1wbGF0ZTpcInt7bmN5QnJlYWRjcnVtYkxhYmVsfX1cIixjb21waWxlOmZ1bmN0aW9uKGQsZSl7dmFyIGY9ZC5hdHRyKGUuJGF0dHIubmN5QnJlYWRjcnVtYkxhc3QpO3JldHVybiBmJiZkLmh0bWwoZikse3Bvc3Q6ZnVuY3Rpb24oZCl7dmFyIGU9W10sZj1mdW5jdGlvbigpe2woZSksZT1bXTt2YXIgYz1iLiRnZXRMYXN0Vmlld1Njb3BlKCksZj1iLmdldExhc3RTdGVwKCk7aWYoZilpZihkLm5jeUJyZWFkY3J1bWJMaW5rPWYubmN5QnJlYWRjcnVtYkxpbmssZi5uY3lCcmVhZGNydW1iJiZmLm5jeUJyZWFkY3J1bWIubGFiZWwpe3ZhciBnPWEoZi5uY3lCcmVhZGNydW1iLmxhYmVsKTtkLm5jeUJyZWFkY3J1bWJMYWJlbD1nKGMpLGsoZSxnLGMsZCl9ZWxzZSBkLm5jeUJyZWFkY3J1bWJMYWJlbD1mLm5hbWV9O2MuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsZnVuY3Rpb24oYSl7YS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlfHxmKCl9KSxmKCl9fX19fWZ1bmN0aW9uIGkoYSxjLGQpe3JldHVybntyZXN0cmljdDpcIkFcIixzY29wZTp7fSx0ZW1wbGF0ZTpcInt7bmN5QnJlYWRjcnVtYkNoYWlufX1cIixjb21waWxlOmZ1bmN0aW9uKGUsZil7dmFyIGc9ZS5hdHRyKGYuJGF0dHIubmN5QnJlYWRjcnVtYlRleHQpO2cmJmUuaHRtbChnKTt2YXIgaD1lLmF0dHIoZi4kYXR0ci5uY3lCcmVhZGNydW1iVGV4dFNlcGFyYXRvcil8fFwiIC8gXCI7cmV0dXJue3Bvc3Q6ZnVuY3Rpb24oZSl7dmFyIGY9W10sZz1mdW5jdGlvbihhLGMsZCl7Yi5mb3JFYWNoKGooYyksZnVuY3Rpb24oYil7dmFyIGM9ZC4kd2F0Y2goYixmdW5jdGlvbihhLGIpe2EhPT1iJiZpKCl9KTthLnB1c2goYyl9KX0saT1mdW5jdGlvbigpe2woZiksZj1bXTt2YXIgZD1jLiRnZXRMYXN0Vmlld1Njb3BlKCksaT1jLmdldFN0YXRlc0NoYWluKCksaj1bXTtiLmZvckVhY2goaSxmdW5jdGlvbihiKXtpZihiLm5jeUJyZWFkY3J1bWImJmIubmN5QnJlYWRjcnVtYi5sYWJlbCl7dmFyIGM9YShiLm5jeUJyZWFkY3J1bWIubGFiZWwpO2oucHVzaChjKGQpKSxnKGYsYyxkKX1lbHNlIGoucHVzaChiLm5hbWUpfSksZS5uY3lCcmVhZGNydW1iQ2hhaW49ai5qb2luKGgpfTtkLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLGZ1bmN0aW9uKGEpe2EudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZXx8aSgpfSksaSgpfX19fX12YXIgaj1mdW5jdGlvbihhKXtpZihhLmV4cHJlc3Npb25zKXJldHVybiBhLmV4cHJlc3Npb25zO3ZhciBjPVtdO3JldHVybiBiLmZvckVhY2goYS5wYXJ0cyxmdW5jdGlvbihhKXtiLmlzRnVuY3Rpb24oYSkmJmMucHVzaChhLmV4cCl9KSxjfSxrPWZ1bmN0aW9uKGEsYyxkLGUpe2IuZm9yRWFjaChqKGMpLGZ1bmN0aW9uKGIpe3ZhciBmPWQuJHdhdGNoKGIsZnVuY3Rpb24oKXtlLm5jeUJyZWFkY3J1bWJMYWJlbD1jKGQpfSk7YS5wdXNoKGYpfSl9LGw9ZnVuY3Rpb24oYSl7Yi5mb3JFYWNoKGEsZnVuY3Rpb24oYSl7YSgpfSl9O2cuJGluamVjdD1bXCIkaW50ZXJwb2xhdGVcIixcIiRicmVhZGNydW1iXCIsXCIkcm9vdFNjb3BlXCJdLGguJGluamVjdD1bXCIkaW50ZXJwb2xhdGVcIixcIiRicmVhZGNydW1iXCIsXCIkcm9vdFNjb3BlXCJdLGkuJGluamVjdD1bXCIkaW50ZXJwb2xhdGVcIixcIiRicmVhZGNydW1iXCIsXCIkcm9vdFNjb3BlXCJdLGIubW9kdWxlKFwibmN5LWFuZ3VsYXItYnJlYWRjcnVtYlwiLFtcInVpLnJvdXRlci5zdGF0ZVwiXSkucHJvdmlkZXIoXCIkYnJlYWRjcnVtYlwiLGYpLmRpcmVjdGl2ZShcIm5jeUJyZWFkY3J1bWJcIixnKS5kaXJlY3RpdmUoXCJuY3lCcmVhZGNydW1iTGFzdFwiLGgpLmRpcmVjdGl2ZShcIm5jeUJyZWFkY3J1bWJUZXh0XCIsaSl9KHdpbmRvdyx3aW5kb3cuYW5ndWxhcik7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvY29tcG9uZW50cy9hbmd1bGFyQnJlYWRjcnVtYi9hbmd1bGFyQnJlYWRjcnVtYi5qc1xuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuKGZ1bmN0aW9uIChtb21lbnQpIHtcblxuICAndXNlIHN0cmljdCc7XG4gIHZhciBtb2R1bGVOYW1lID0gXCJuZ01hdGVyaWFsRGF0ZVBpY2tlclwiO1xuXG4gIHZhciBWSUVXX1NUQVRFUyA9IHtcbiAgICBEQVRFOiAwLFxuICAgIEhPVVI6IDEsXG4gICAgTUlOVVRFOiAyXG4gIH07XG5cbiAgdmFyIGNzcyA9IGZ1bmN0aW9uIChlbCwgbmFtZSkge1xuICAgIGlmICgnalF1ZXJ5JyBpbiB3aW5kb3cpIHtcbiAgICAgIHJldHVybiBqUXVlcnkoZWwpLmNzcyhuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwgPSBhbmd1bGFyLmVsZW1lbnQoZWwpO1xuICAgICAgcmV0dXJuICgnZ2V0Q29tcHV0ZWRTdHlsZScgaW4gd2luZG93KSA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsWzBdKVtuYW1lXSA6IGVsLmNzcyhuYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHRlbXBsYXRlID0gJzxtZC1kaWFsb2cgY2xhc3M9XCJkdHBcIiBsYXlvdXQ9XCJjb2x1bW5cIiBzdHlsZT1cIndpZHRoOiAzMDBweDtcIj4nXG4gICAgKyAnICAgIDxtZC1kaWFsb2ctY29udGVudCBjbGFzcz1cImR0cC1jb250ZW50XCI+J1xuICAgICsgJyAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1kYXRlLXZpZXdcIj4nXG4gICAgKyAnICAgICAgICAgICAgPGhlYWRlciBjbGFzcz1cImR0cC1oZWFkZXJcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLWRheVwiIG5nLXNob3c9XCJwaWNrZXIuZGF0ZU1vZGVcIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJkZGRkXCIpfX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLWRheVwiIG5nLXNob3c9XCJwaWNrZXIudGltZU1vZGVcIj57e3BpY2tlci5wYXJhbXMuc2hvcnRUaW1lID8gcGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcIkFcIikgOiBcIiBcIn19PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWNsb3NlIHRleHQtcmlnaHRcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBuZy1jbGljaz1cInBpY2tlci5oaWRlKClcIj4mdGltZXM7PC9hPidcbiAgICArICcgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgIDwvaGVhZGVyPidcbiAgICArICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWRhdGVcIiBuZy1zaG93PVwicGlja2VyLnBhcmFtcy5kYXRlXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGxheW91dD1cImNvbHVtblwiPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW1vbnRoXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiTU1NXCIpIHwgdXBwZXJjYXNlfX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbnVtXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiRERcIil9fTwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBsYXlvdXQ9XCJyb3dcIj4nXG4gICAgKyAnIDxkaXYgbmctY2xpY2s9XCJwaWNrZXIuaW5jcmVtZW50WWVhcigtMSlcIiBjbGFzcz1cImR0cC15ZWFyLWJ0biBkdHAteWVhci1idG4tcHJldlwiIGZsZXg9XCIzMFwiPjxzcGFuIG5nLWlmPVwicGlja2VyLmlzUHJldmlvdXNZZWFyVmlzaWJsZSgpXCIgPiYjeDI1QjI7PC9zcGFuPjwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLXllYXJcIiBmbGV4Pnt7cGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcIllZWVlcIil9fTwvZGl2PidcbiAgICArICcgPGRpdiBuZy1jbGljaz1cInBpY2tlci5pbmNyZW1lbnRZZWFyKDEpXCIgY2xhc3M9XCJkdHAteWVhci1idG4gZHRwLXllYXItYnRuLW5leHRcIiBmbGV4PVwiMzBcIj48c3BhbiBuZy1pZj1cInBpY2tlci5pc05leHRZZWFyVmlzaWJsZSgpXCIgPiYjeDI1QkM7PC9zcGFuPjwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgIDwvZGl2PicvL3N0YXJ0IHRpbWVcbiAgICArICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLXRpbWVcIiBuZy1zaG93PVwicGlja2VyLnBhcmFtcy50aW1lICYmICFwaWNrZXIucGFyYW1zLmRhdGVcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW1heHRpbWVcIj57e3BpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKS5mb3JtYXQocGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBcImhoOm1tXCIgOiBcIkhIOm1tXCIpfX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtcGlja2VyXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhciBkYXRlPVwicGlja2VyLmN1cnJlbnREYXRlXCIgcGlja2VyPVwicGlja2VyXCIgY2xhc3M9XCJkdHAtcGlja2VyLWNhbGVuZGFyXCIgbmctc2hvdz1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLkRBVEVcIj48L21kYy1kYXRldGltZS1waWNrZXItY2FsZW5kYXI+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLXBpY2tlci1kYXRldGltZVwiIG5nLXNob3c9XCJwaWNrZXIuY3VycmVudFZpZXcgIT09IHBpY2tlci5WSUVXUy5EQVRFXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbWVyaWRpZW5cIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZnQgcDIwXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImR0cC1tZXJpZGllbi1hbVwiIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwaWNrZXIubWVyaWRpZW4gPT0gXFwnQU1cXCd9XCIgbmctY2xpY2s9XCJwaWNrZXIuc2VsZWN0QU0oKVwiPnt7cGlja2VyLnBhcmFtcy5hbVRleHR9fTwvYT4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctc2hvdz1cIiFwaWNrZXIudGltZU1vZGVcIiBjbGFzcz1cImR0cC1hY3R1YWwtdGltZSBwNjBcIj57e3BpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKS5mb3JtYXQocGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBcImhoOm1tXCIgOiBcIkhIOm1tXCIpfX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0IHAyMFwiPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgY2xhc3M9XCJkdHAtbWVyaWRpZW4tcG1cIiBuZy1jbGFzcz1cIntzZWxlY3RlZDogcGlja2VyLm1lcmlkaWVuID09IFxcJ1BNXFwnfVwiIG5nLWNsaWNrPVwicGlja2VyLnNlbGVjdFBNKClcIj57e3BpY2tlci5wYXJhbXMucG1UZXh0fX08L2E+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jayBtb2RlPVwiaG91cnNcIiBuZy1pZj1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLkhPVVJcIj48L21kYy1kYXRldGltZS1waWNrZXItY2xvY2s+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgPG1kYy1kYXRldGltZS1waWNrZXItY2xvY2sgbW9kZT1cIm1pbnV0ZXNcIiBuZy1pZj1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLk1JTlVURVwiPjwvbWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jaz4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgIDwvbWQtZGlhbG9nLWNvbnRlbnQ+J1xuICAgICsgJyAgICA8bWQtZGlhbG9nLWFjdGlvbnMgY2xhc3M9XCJkdHAtYnV0dG9uc1wiPidcbiAgICArICcgICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwiZHRwLWJ0bi1jYW5jZWwgbWQtYnV0dG9uXCIgbmctY2xpY2s9XCJwaWNrZXIuY2FuY2VsKClcIj4ge3twaWNrZXIucGFyYW1zLmNhbmNlbFRleHR9fTwvbWQtYnV0dG9uPidcbiAgICArICcgICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwiZHRwLWJ0bi1vayBtZC1idXR0b25cIiBuZy1jbGljaz1cInBpY2tlci5vaygpXCI+IHt7cGlja2VyLnBhcmFtcy5va1RleHR9fTwvbWQtYnV0dG9uPidcbiAgICArICcgICAgICA8L21kLWRpYWxvZy1hY3Rpb25zPidcbiAgICArICc8L21kLWRpYWxvZz4nO1xuXG5cbiAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSwgWyduZ01hdGVyaWFsJ10pXG4gICAgLnByb3ZpZGVyKCdtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmxvY2FsZSA9ICdlbic7XG5cbiAgICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5zZXREZWZhdWx0TG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZVN0cmluZykge1xuICAgICAgICB0aGlzLmxvY2FsZSA9IGxvY2FsZVN0cmluZztcbiAgICAgIH07XG4gICAgfSlcbiAgICAuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlcicsIFsnJG1kRGlhbG9nJyxcbiAgICAgIGZ1bmN0aW9uICgkbWREaWFsb2cpIHtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBjdXJyZW50RGF0ZTogJz1uZ01vZGVsJyxcbiAgICAgICAgICAgIHRpbWU6ICc9JyxcbiAgICAgICAgICAgIGRhdGU6ICc9JyxcbiAgICAgICAgICAgIG1pbkRhdGU6ICc9JyxcbiAgICAgICAgICAgIG1heERhdGU6ICc9JyxcbiAgICAgICAgICAgIHNob3J0VGltZTogJz0nLFxuICAgICAgICAgICAgZm9ybWF0OiAnQCcsXG4gICAgICAgICAgICBjYW5jZWxUZXh0OiAnQCcsXG4gICAgICAgICAgICBva1RleHQ6ICdAJyxcbiAgICAgICAgICAgIGxhbmc6ICdAJyxcbiAgICAgICAgICAgIGFtVGV4dDogJ0AnLFxuICAgICAgICAgICAgcG1UZXh0OiAnQCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBpc09uID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIXNjb3BlLmZvcm1hdCkge1xuICAgICAgICAgICAgICBpZiAoc2NvcGUuZGF0ZSAmJiBzY29wZS50aW1lKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ1lZWVktTU0tREQgSEg6bW06c3MnO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNjb3BlLmRhdGUpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JtYXQgPSAnWVlZWS1NTS1ERCc7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ0hIOm1tJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhzY29wZS5jdXJyZW50RGF0ZSkgJiYgc2NvcGUuY3VycmVudERhdGUgIT09ICcnKSB7XG4gICAgICAgICAgICAgIHNjb3BlLmN1cnJlbnREYXRlID0gbW9tZW50KHNjb3BlLmN1cnJlbnREYXRlLCBzY29wZS5mb3JtYXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmdNb2RlbCkge1xuICAgICAgICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG0gPSBtb21lbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtLmlzVmFsaWQoKSA/IG0uZm9ybWF0KHNjb3BlLmZvcm1hdCkgOiAnJztcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cigncmVhZG9ubHknLCAnJyk7XG4gICAgICAgICAgICAvL0BUT0RPIGN1c3RvbSBldmVudCB0byB0cmlnZ2VyIGlucHV0XG4gICAgICAgICAgICBlbGVtZW50Lm9uKCdmb2N1cycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgZWxlbWVudC5ibHVyKCk7XG4gICAgICAgICAgICAgIGlmIChpc09uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlzT24gPSB0cnVlO1xuICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmhhc093blByb3BlcnR5KGkpICYmICFhbmd1bGFyLmlzVW5kZWZpbmVkKHNjb3BlW2ldKSkge1xuICAgICAgICAgICAgICAgICAgb3B0aW9uc1tpXSA9IHNjb3BlW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvcHRpb25zLmN1cnJlbnREYXRlID0gc2NvcGUuY3VycmVudERhdGU7XG4gICAgICAgICAgICAgIHZhciBsb2NhbHMgPSB7b3B0aW9uczogb3B0aW9uc307XG4gICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogUGx1Z2luQ29udHJvbGxlcixcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwaWNrZXInLFxuICAgICAgICAgICAgICAgIGxvY2FsczogbG9jYWxzLFxuICAgICAgICAgICAgICAgIG9wZW5Gcm9tOiBlbGVtZW50LFxuICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxuICAgICAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbDogZmFsc2VcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgc2NvcGUuY3VycmVudERhdGUgPSB2ID8gdi5fZCA6IHY7XG4gICAgICAgICAgICAgICAgICBpc09uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgaXNPbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1dKVxuICA7XG5cbiAgdmFyIFBsdWdpbkNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoJHNjb3BlLCAkbWREaWFsb2csIG1kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSkge1xuICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5EQVRFO1xuICAgIHRoaXMuX2RpYWxvZyA9ICRtZERpYWxvZztcblxuICAgIHRoaXMubWluRGF0ZTtcbiAgICB0aGlzLm1heERhdGU7XG5cbiAgICB0aGlzLl9hdHRhY2hlZEV2ZW50cyA9IFtdO1xuICAgIHRoaXMuVklFV1MgPSBWSUVXX1NUQVRFUztcblxuICAgIHRoaXMucGFyYW1zID0ge1xuICAgICAgZGF0ZTogdHJ1ZSxcbiAgICAgIHRpbWU6IHRydWUsXG4gICAgICBmb3JtYXQ6ICdZWVlZLU1NLUREJyxcbiAgICAgIG1pbkRhdGU6IG51bGwsXG4gICAgICBtYXhEYXRlOiBudWxsLFxuICAgICAgY3VycmVudERhdGU6IG51bGwsXG4gICAgICBsYW5nOiBtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUsXG4gICAgICB3ZWVrU3RhcnQ6IDAsXG4gICAgICBzaG9ydFRpbWU6IGZhbHNlLFxuICAgICAgY2FuY2VsVGV4dDogJ0NhbmNlbCcsXG4gICAgICBva1RleHQ6ICdPSycsXG4gICAgICBhbVRleHQ6ICdBTScsXG4gICAgICBwbVRleHQ6ICdQTSdcbiAgICB9O1xuXG4gICAgdGhpcy5tZXJpZGllbiA9ICdBTSc7XG4gICAgdGhpcy5wYXJhbXMgPSBhbmd1bGFyLmV4dGVuZCh0aGlzLnBhcmFtcywgdGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfTtcbiAgUGx1Z2luQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJG1kRGlhbG9nJywgJ21kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSddO1xuICBQbHVnaW5Db250cm9sbGVyLnByb3RvdHlwZSA9IHtcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnRpbWVNb2RlID0gdGhpcy5wYXJhbXMudGltZSAmJiAhdGhpcy5wYXJhbXMuZGF0ZTtcbiAgICAgIHRoaXMuZGF0ZU1vZGUgPSB0aGlzLnBhcmFtcy5kYXRlO1xuICAgICAgdGhpcy5pbml0RGF0ZXMoKTtcbiAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9LFxuICAgIGN1cnJlbnROZWFyZXN0NU1pbnV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRhdGUgPSB0aGlzLmN1cnJlbnREYXRlIHx8IG1vbWVudCgpO1xuICAgICAgdmFyIG1pbnV0ZXMgPSAoNSAqIE1hdGgucm91bmQoZGF0ZS5taW51dGUoKSAvIDUpKTtcbiAgICAgIGlmIChtaW51dGVzID49IDYwKSB7XG4gICAgICAgIG1pbnV0ZXMgPSA1NTsgLy9hbHdheXMgcHVzaCBkb3duXG4gICAgICB9XG4gICAgICByZXR1cm4gbW9tZW50KGRhdGUpLm1pbnV0ZXMobWludXRlcyk7XG4gICAgfSxcbiAgICBpbml0RGF0ZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHZhciBfZGF0ZVBhcmFtID0gZnVuY3Rpb24gKGlucHV0LCBmYWxsYmFjaykge1xuICAgICAgICB2YXIgcmV0ID0gbnVsbDtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGlucHV0KSAmJiBpbnB1dCAhPT0gbnVsbCAmJiBpbnB1dCAhPT0gJycpIHtcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhpbnB1dCkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YodGhhdC5wYXJhbXMuZm9ybWF0KSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhhdC5wYXJhbXMuZm9ybWF0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHJldCA9IG1vbWVudChpbnB1dCwgdGhhdC5wYXJhbXMuZm9ybWF0KS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0ID0gbW9tZW50KGlucHV0KS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKGlucHV0KSkge1xuICAgICAgICAgICAgICB2YXIgeCA9IGlucHV0LmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgcmV0ID0gbW9tZW50KHgsIFwieFwiKS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0Ll9pc0FNb21lbnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgcmV0ID0gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldCA9IGZhbGxiYWNrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmN1cnJlbnREYXRlID0gX2RhdGVQYXJhbSh0aGlzLnBhcmFtcy5jdXJyZW50RGF0ZSwgbW9tZW50KCkpO1xuICAgICAgdGhpcy5taW5EYXRlID0gX2RhdGVQYXJhbSh0aGlzLnBhcmFtcy5taW5EYXRlKTtcbiAgICAgIHRoaXMubWF4RGF0ZSA9IF9kYXRlUGFyYW0odGhpcy5wYXJhbXMubWF4RGF0ZSk7XG4gICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZSk7XG4gICAgfSxcbiAgICBpbml0RGF0ZTogZnVuY3Rpb24gKGQpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5EQVRFO1xuICAgIH0sXG4gICAgaW5pdEhvdXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuSE9VUjtcbiAgICB9LFxuICAgIGluaXRNaW51dGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuTUlOVVRFO1xuICAgIH0sXG4gICAgaXNBZnRlck1pbkRhdGU6IGZ1bmN0aW9uIChkYXRlLCBjaGVja0hvdXIsIGNoZWNrTWludXRlKSB7XG4gICAgICB2YXIgX3JldHVybiA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YodGhpcy5taW5EYXRlKSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5taW5EYXRlICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBfbWluRGF0ZSA9IG1vbWVudCh0aGlzLm1pbkRhdGUpO1xuICAgICAgICB2YXIgX2RhdGUgPSBtb21lbnQoZGF0ZSk7XG5cbiAgICAgICAgaWYgKCFjaGVja0hvdXIgJiYgIWNoZWNrTWludXRlKSB7XG4gICAgICAgICAgX21pbkRhdGUuaG91cigwKTtcbiAgICAgICAgICBfbWluRGF0ZS5taW51dGUoMCk7XG5cbiAgICAgICAgICBfZGF0ZS5ob3VyKDApO1xuICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9taW5EYXRlLnNlY29uZCgwKTtcbiAgICAgICAgX2RhdGUuc2Vjb25kKDApO1xuICAgICAgICBfbWluRGF0ZS5taWxsaXNlY29uZCgwKTtcbiAgICAgICAgX2RhdGUubWlsbGlzZWNvbmQoMCk7XG5cbiAgICAgICAgaWYgKCFjaGVja01pbnV0ZSkge1xuICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcbiAgICAgICAgICBfbWluRGF0ZS5taW51dGUoMCk7XG5cbiAgICAgICAgICBfcmV0dXJuID0gKHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpID49IHBhcnNlSW50KF9taW5EYXRlLmZvcm1hdChcIlhcIikpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBfcmV0dXJuID0gKHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpID49IHBhcnNlSW50KF9taW5EYXRlLmZvcm1hdChcIlhcIikpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JldHVybjtcbiAgICB9LFxuICAgIGlzQmVmb3JlTWF4RGF0ZTogZnVuY3Rpb24gKGRhdGUsIGNoZWNrVGltZSwgY2hlY2tNaW51dGUpIHtcbiAgICAgIHZhciBfcmV0dXJuID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZih0aGlzLm1heERhdGUpICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm1heERhdGUgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIF9tYXhEYXRlID0gbW9tZW50KHRoaXMubWF4RGF0ZSk7XG4gICAgICAgIHZhciBfZGF0ZSA9IG1vbWVudChkYXRlKTtcblxuICAgICAgICBpZiAoIWNoZWNrVGltZSAmJiAhY2hlY2tNaW51dGUpIHtcbiAgICAgICAgICBfbWF4RGF0ZS5ob3VyKDApO1xuICAgICAgICAgIF9tYXhEYXRlLm1pbnV0ZSgwKTtcblxuICAgICAgICAgIF9kYXRlLmhvdXIoMCk7XG4gICAgICAgICAgX2RhdGUubWludXRlKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgX21heERhdGUuc2Vjb25kKDApO1xuICAgICAgICBfZGF0ZS5zZWNvbmQoMCk7XG4gICAgICAgIF9tYXhEYXRlLm1pbGxpc2Vjb25kKDApO1xuICAgICAgICBfZGF0ZS5taWxsaXNlY29uZCgwKTtcblxuICAgICAgICBpZiAoIWNoZWNrTWludXRlKSB7XG4gICAgICAgICAgX2RhdGUubWludXRlKDApO1xuICAgICAgICAgIF9tYXhEYXRlLm1pbnV0ZSgwKTtcblxuICAgICAgICAgIF9yZXR1cm4gPSAocGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPD0gcGFyc2VJbnQoX21heERhdGUuZm9ybWF0KFwiWFwiKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIF9yZXR1cm4gPSAocGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPD0gcGFyc2VJbnQoX21heERhdGUuZm9ybWF0KFwiWFwiKSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmV0dXJuO1xuICAgIH0sXG4gICAgc2VsZWN0RGF0ZTogZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudERhdGUgPSBtb21lbnQoZGF0ZSk7XG4gICAgICAgIGlmICghdGhpcy5pc0FmdGVyTWluRGF0ZSh0aGlzLmN1cnJlbnREYXRlKSkge1xuICAgICAgICAgIHRoaXMuY3VycmVudERhdGUgPSBtb21lbnQodGhpcy5taW5EYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5pc0JlZm9yZU1heERhdGUodGhpcy5jdXJyZW50RGF0ZSkpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KHRoaXMubWF4RGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50RGF0ZS5sb2NhbGUodGhpcy5wYXJhbXMubGFuZyk7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJTdGFydCA9IG1vbWVudCh0aGlzLmN1cnJlbnREYXRlKTtcbiAgICAgICAgdGhpcy5tZXJpZGllbiA9IHRoaXMuY3VycmVudERhdGUuaG91cigpID49IDEyID8gJ1BNJyA6ICdBTSc7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXROYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGV4dCA9IFwiXCI7XG4gICAgICB2YXIgcG9zc2libGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgIHRleHQgKz0gcG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlLmxlbmd0aCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9LFxuICAgIGlzUE06IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lcmlkaWVuID09PSAnUE0nO1xuICAgIH0sXG4gICAgaW5jcmVtZW50WWVhcjogZnVuY3Rpb24gKGFtb3VudCkge1xuICAgICAgaWYgKGFtb3VudCA9PT0gMSAmJiB0aGlzLmlzTmV4dFllYXJWaXNpYmxlKCkpIHtcbiAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuYWRkKCd5ZWFyJywgYW1vdW50KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbW91bnQgPT09IC0xICYmIHRoaXMuaXNQcmV2aW91c1llYXJWaXNpYmxlKCkpIHtcbiAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuYWRkKCd5ZWFyJywgYW1vdW50KSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc1ByZXZpb3VzTW9udGhWaXNpYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNBZnRlck1pbkRhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuc3RhcnRPZignbW9udGgnKSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9LFxuICAgIGlzTmV4dE1vbnRoVmlzaWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5lbmRPZignbW9udGgnKSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9LFxuICAgIGlzUHJldmlvdXNZZWFyVmlzaWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLnN0YXJ0T2YoJ3llYXInKSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9LFxuICAgIGlzTmV4dFllYXJWaXNpYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLmVuZE9mKCd5ZWFyJyksIGZhbHNlLCBmYWxzZSk7XG4gICAgfSxcbiAgICBpc0hvdXJBdmFpbGFibGU6IGZ1bmN0aW9uIChob3VyKSB7XG4gICAgICB2YXIgX2RhdGUgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG4gICAgICBfZGF0ZS5ob3VyKHRoaXMuY29udmVydEhvdXJzKGhvdXIpKS5taW51dGUoMCkuc2Vjb25kKDApO1xuICAgICAgcmV0dXJuIHRoaXMuaXNBZnRlck1pbkRhdGUoX2RhdGUsIHRydWUsIGZhbHNlKSAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShfZGF0ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgIH0sXG4gICAgaXNNaW51dGVBdmFpbGFibGU6IGZ1bmN0aW9uIChtaW51dGUpIHtcbiAgICAgIHZhciBfZGF0ZSA9IG1vbWVudCh0aGlzLmN1cnJlbnREYXRlKTtcbiAgICAgIF9kYXRlLm1pbnV0ZShtaW51dGUpLnNlY29uZCgwKTtcbiAgICAgIHJldHVybiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKF9kYXRlLCB0cnVlLCB0cnVlKSAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShfZGF0ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBzdGFydDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkRBVEU7XG4gICAgICAvL3RoaXMuaW5pdERhdGVzKCk7XG4gICAgICBpZiAodGhpcy5wYXJhbXMuZGF0ZSkge1xuICAgICAgICB0aGlzLmluaXREYXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMudGltZSkge1xuICAgICAgICAgIHRoaXMuaW5pdEhvdXJzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG9rOiBmdW5jdGlvbiAoKSB7XG4gICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFZpZXcpIHtcbiAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5EQVRFOlxuICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy50aW1lID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVklFV19TVEFURVMuSE9VUjpcbiAgICAgICAgICB0aGlzLmluaXRNaW51dGVzKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVklFV19TVEFURVMuTUlOVVRFOlxuICAgICAgICAgIHRoaXMuaGlkZSh0cnVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRWaWV3KSB7XG4gICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5EQVRFOlxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLkhPVVI6XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMuZGF0ZSkge1xuICAgICAgICAgICAgICB0aGlzLmluaXREYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLk1JTlVURTpcbiAgICAgICAgICAgIHRoaXMuaW5pdEhvdXJzKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2VsZWN0TW9udGhCZWZvcmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5zdWJ0cmFjdCgxLCAnbW9udGhzJyk7XG4gICAgfSxcbiAgICBzZWxlY3RNb250aEFmdGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuYWRkKDEsICdtb250aHMnKTtcbiAgICB9LFxuICAgIHNlbGVjdFllYXJCZWZvcmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5zdWJ0cmFjdCgxLCAneWVhcnMnKTtcbiAgICB9LFxuICAgIHNlbGVjdFllYXJBZnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LmFkZCgxLCAneWVhcnMnKTtcbiAgICB9LFxuICAgIHNlbGVjdEFNOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5pc0hvdXJBdmFpbGFibGUoMCkgfHwgdGhpcy5pc0hvdXJBdmFpbGFibGUoMTIpKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSA+PSAxMikge1xuICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLnN1YnRyYWN0KDEyLCAnaG91cnMnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzSG91ckF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSkpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKHRoaXMubWluRGF0ZS5ob3VyKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNNaW51dGVBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUoKSkpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUodGhpcy5taW5EYXRlLm1pbnV0ZSgpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdFBNOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5pc0hvdXJBdmFpbGFibGUoMTMpIHx8IHRoaXMuaXNIb3VyQXZhaWxhYmxlKDI0KSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkgPCAxMikge1xuICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmFkZCgxMiwgJ2hvdXJzJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0hvdXJBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkpKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuaG91cih0aGlzLm1heERhdGUuaG91cigpKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzTWludXRlQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUubWludXRlKCkpKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUubWludXRlKHRoaXMubWF4RGF0ZS5taW51dGUoKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjb252ZXJ0SG91cnM6IGZ1bmN0aW9uIChoKSB7XG4gICAgICB2YXIgX3JldHVybiA9IGg7XG4gICAgICBpZiAoKGggPCAxMikgJiYgdGhpcy5pc1BNKCkpXG4gICAgICAgIF9yZXR1cm4gKz0gMTI7XG5cbiAgICAgIHJldHVybiBfcmV0dXJuO1xuICAgIH0sXG4gICAgaGlkZTogZnVuY3Rpb24gKG9rQnRuKSB7XG4gICAgICBpZiAob2tCdG4pIHtcbiAgICAgICAgdGhpcy5fZGlhbG9nLmhpZGUodGhpcy5jdXJyZW50RGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9kaWFsb2cuY2FuY2VsKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG5cbiAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSlcbiAgICAuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlckNhbGVuZGFyJywgW1xuICAgICAgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBzdGFydERhdGUgPSBtb21lbnQoKSxcbiAgICAgICAgICBZRUFSX01JTiA9IDE5MDAsXG4gICAgICAgICAgWUVBUl9NQVggPSAyMTAwLFxuICAgICAgICAgIE1PTlRIU19JTl9BTEwgPSAoWUVBUl9NQVggLSBZRUFSX01JTiArIDEpICogMTIsXG4gICAgICAgICAgSVRFTV9IRUlHSFQgPSAyNDAsXG4gICAgICAgICAgTU9OVEhTID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTU9OVEhTX0lOX0FMTDsgaSsrKSB7XG4gICAgICAgICAgTU9OVEhTLnB1c2goaSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VycmVudE1vbnRoSW5kZXggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgIHZhciB5ZWFyID0gZGF0ZS55ZWFyKCk7XG4gICAgICAgICAgdmFyIG1vbnRoID0gZGF0ZS5tb250aCgpO1xuICAgICAgICAgIHJldHVybiAoKHllYXIgLSBZRUFSX01JTikgKiAxMikgKyBtb250aCAtIDE7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBwaWNrZXI6ICc9JyxcbiAgICAgICAgICAgIGRhdGU6ICc9J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgICAgICBjb250cm9sbGVyQXM6ICdjYWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAgICAgICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwaWNrZXIgPSB0aGlzLnBpY2tlcixcbiAgICAgICAgICAgICAgICBkYXlzID0gW107XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHBpY2tlci5wYXJhbXMud2Vla1N0YXJ0OyBkYXlzLmxlbmd0aCA8IDc7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpID4gNikge1xuICAgICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRheXMucHVzaChpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2FsZW5kYXIud2VlayA9IGRheXM7XG4gICAgICAgICAgICAgIGlmICghcGlja2VyLm1heERhdGUgJiYgIXBpY2tlci5taW5EYXRlKSB7XG4gICAgICAgICAgICAgICAgY2FsZW5kYXIubW9udGhzID0gTU9OVEhTO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsb3cgPSBwaWNrZXIubWluRGF0ZSA/IGN1cnJlbnRNb250aEluZGV4KHBpY2tlci5taW5EYXRlKSA6IDA7XG4gICAgICAgICAgICAgICAgdmFyIGhpZ2ggPSBwaWNrZXIubWF4RGF0ZSA/IChjdXJyZW50TW9udGhJbmRleChwaWNrZXIubWF4RGF0ZSkgKyAxKSA6IE1PTlRIU19JTl9BTEw7XG4gICAgICAgICAgICAgICAgY2FsZW5kYXIubW9udGhzID0gTU9OVEhTLnNsaWNlKGxvdywgaGlnaCk7XG4gICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLmdldEl0ZW1BdEluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gKChpbmRleCArIDEpICUgMTIpIHx8IDEyO1xuICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gWUVBUl9NSU4gKyBNYXRoLmZsb29yKGluZGV4IC8gMTIpO1xuICAgICAgICAgICAgICAgIHZhciBtb250aE9iaiA9IG1vbWVudChwaWNrZXIuY3VycmVudERhdGUpXG4gICAgICAgICAgICAgICAgICAueWVhcih5ZWFyKVxuICAgICAgICAgICAgICAgICAgLm1vbnRoKG1vbnRoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVNb250aENhbGVuZGFyKG1vbnRoT2JqKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBjYWxlbmRhci50b3BJbmRleCA9IGN1cnJlbnRNb250aEluZGV4KHBpY2tlci5jdXJyZW50RGF0ZSkgLSBjYWxlbmRhci5tb250aHNbMF07XG5cbiAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlci5jdXJyZW50RGF0ZSA/IHBpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoJ1lZWVktTU0nKSA6ICcnO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodmFsMiwgdmFsMSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWwyICE9IHZhbDEpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBuRGF0ZSA9IG1vbWVudCh2YWwyLCAnWVlZWS1NTScpO1xuICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gY3VycmVudE1vbnRoSW5kZXgobkRhdGUpO1xuICAgICAgICAgICAgICAgICAgaWYgKGNhbGVuZGFyLnRvcEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGVuZGFyLnRvcEluZGV4ID0gaW5kZXggLSBjYWxlbmRhci5tb250aHNbMF07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICB2YXIgZ2VuZXJhdGVNb250aENhbGVuZGFyID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW9udGggPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgbW9udGgubmFtZSA9IGRhdGUuZm9ybWF0KCdNTU1NIFlZWVknKTtcbiAgICAgICAgICAgICAgICAgIHZhciBzdGFydE9mTW9udGggPSBtb21lbnQoZGF0ZSkubG9jYWxlKHBpY2tlci5wYXJhbXMubGFuZykuc3RhcnRPZignbW9udGgnKVxuICAgICAgICAgICAgICAgICAgICAgIC5ob3VyKGRhdGUuaG91cigpKVxuICAgICAgICAgICAgICAgICAgICAgIC5taW51dGUoZGF0ZS5taW51dGUoKSlcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgdmFyIGlOdW1EYXkgPSBzdGFydE9mTW9udGguZm9ybWF0KCdkJyk7XG4gICAgICAgICAgICAgICAgICBtb250aC5kYXlzID0gW107XG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRPZk1vbnRoLmRhdGUoKTsgaSA8PSBzdGFydE9mTW9udGguZGF5c0luTW9udGgoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBzdGFydE9mTW9udGguZGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGlXZWVrID0gY2FsZW5kYXIud2Vlay5pbmRleE9mKGlOdW1EYXkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlXZWVrID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBpV2VlazsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoLmRheXMucHVzaCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbW9udGguZGF5cy5wdXNoKG1vbWVudChzdGFydE9mTW9udGgpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLmRhdGUoaSkpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICB2YXIgZGF5c0luQVdlZWsgPSA3LCBkYXlzVG1wID0gW10sIHNsaWNlcyA9IE1hdGguY2VpbChtb250aC5kYXlzLmxlbmd0aCAvIGRheXNJbkFXZWVrKTtcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2xpY2VzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5c1RtcC5wdXNoKG1vbnRoLmRheXMuc2xpY2UoaiAqIGRheXNJbkFXZWVrLCAoaiArIDEpICogZGF5c0luQVdlZWspKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIG1vbnRoLmRheXMgPSBkYXlzVG1wO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLnRvRGF5ID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KHBhcnNlSW50KGkpLCBcImRcIilcbiAgICAgICAgICAgICAgICAgIC5sb2NhbGUocGlja2VyLnBhcmFtcy5sYW5nKVxuICAgICAgICAgICAgICAgICAgLmZvcm1hdChcImRkXCIpXG4gICAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKDAsIDEpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLmlzSW5SYW5nZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlci5pc0FmdGVyTWluRGF0ZShtb21lbnQoZGF0ZSksIGZhbHNlLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICYmIHBpY2tlci5pc0JlZm9yZU1heERhdGUobW9tZW50KGRhdGUpLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLnNlbGVjdERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY2FsZW5kYXIuaXNTZWxlY3RlZERheShkYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGlja2VyLm9rKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBwaWNrZXIuc2VsZWN0RGF0ZShtb21lbnQoZGF0ZSkuaG91cihjYWxlbmRhci5kYXRlLmhvdXIoKSkubWludXRlKGNhbGVuZGFyLmRhdGUubWludXRlKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgY2FsZW5kYXIuaXNTZWxlY3RlZERheSA9IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG0gJiYgY2FsZW5kYXIuZGF0ZS5kYXRlKCkgPT09IG0uZGF0ZSgpICYmIGNhbGVuZGFyLmRhdGUubW9udGgoKSA9PT0gbS5tb250aCgpICYmIGNhbGVuZGFyLmRhdGUueWVhcigpID09PSBtLnllYXIoKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgdGVtcGxhdGU6ICc8bWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyIG1kLXRvcC1pbmRleD1cImNhbC50b3BJbmRleFwiIGNsYXNzPVwibW9udGhzXCI+JyArXG4gICAgICAgICAgJzxkaXYgbWQtdmlydHVhbC1yZXBlYXQ9XCJpZHggaW4gY2FsLm1vbnRoc1wiIG1kLXN0YXJ0LWluZGV4PVwiY2FsLnRvcEluZGV4XCIgbWQtaXRlbS1zaXplPVwiJyArIElURU1fSEVJR0hUICsgJ1wiPicgK1xuICAgICAgICAgICcgICAgIDxkaXYgbWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhci1tb250aCBpZHg9XCJpZHhcIj48L2Rpdj4nICtcbiAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgJzwvbWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyPidcbiAgICAgICAgfTtcbiAgICAgIH1dKVxuICAgIC5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXJNb250aCcsIFsnJGNvbXBpbGUnLFxuICAgICAgZnVuY3Rpb24gKCRjb21waWxlKSB7XG4gICAgICAgIHZhciBidWlsZENhbGVuZGFyQ29udGVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBzY29wZSkge1xuICAgICAgICAgIHZhciB0Ym9keSA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5JykpO1xuICAgICAgICAgIHZhciBjYWxlbmRhciA9IHNjb3BlLmNhbCwgbW9udGggPSBzY29wZS5tb250aDtcbiAgICAgICAgICB0Ym9keS5odG1sKCcnKTtcbiAgICAgICAgICBtb250aC5kYXlzLmZvckVhY2goZnVuY3Rpb24gKHdlZWtEYXlzLCBpKSB7XG4gICAgICAgICAgICB2YXIgdHIgPSBhbmd1bGFyLmVsZW1lbnQoJzx0cj48L3RyPicpO1xuICAgICAgICAgICAgd2Vla0RheXMuZm9yRWFjaChmdW5jdGlvbiAod2Vla0RheSwgaikge1xuICAgICAgICAgICAgICB2YXIgdGQgPSBhbmd1bGFyLmVsZW1lbnQoJzx0ZD4gPC90ZD4nKTtcbiAgICAgICAgICAgICAgaWYgKHdlZWtEYXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYU9yU3BhbjtcbiAgICAgICAgICAgICAgICBpZiAoY2FsZW5kYXIuaXNJblJhbmdlKHdlZWtEYXkpKSB7XG4gICAgICAgICAgICAgICAgICAvL2J1aWxkIGFcbiAgICAgICAgICAgICAgICAgIHZhciBzY29wZVJlZiA9ICdtb250aFtcImRheXNcIl1bJyArIGkgKyAnXVsnICsgaiArICddJztcbiAgICAgICAgICAgICAgICAgIGFPclNwYW4gPSBhbmd1bGFyLmVsZW1lbnQoXCI8YSBocmVmPScjJyBtZGMtZHRwLW5vY2xpY2s+PC9hPlwiKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignbmctY2xhc3MnLCAne3NlbGVjdGVkOiBjYWwuaXNTZWxlY3RlZERheSgnICsgc2NvcGVSZWYgKyAnKX0nKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignbmctY2xpY2snLCAnY2FsLnNlbGVjdERhdGUoJyArIHNjb3BlUmVmICsgJyknKVxuICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBhT3JTcGFuID0gYW5ndWxhci5lbGVtZW50KCc8c3Bhbj48L3NwYW4+JylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYU9yU3BhblxuICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdkdHAtc2VsZWN0LWRheScpXG4gICAgICAgICAgICAgICAgICAuaHRtbCh3ZWVrRGF5LmZvcm1hdCgnRCcpKTtcbiAgICAgICAgICAgICAgICB0ZC5hcHBlbmQoYU9yU3Bhbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdHIuYXBwZW5kKHRkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGJvZHkuYXBwZW5kKHRyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkY29tcGlsZSh0Ym9keSkoc2NvcGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIGlkeDogJz0nXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXF1aXJlOiAnXm1kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXInLFxuICAgICAgICAgIHJlc3RyaWN0OiAnQUUnLFxuICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImR0cC1waWNrZXItbW9udGhcIj57e21vbnRoLm5hbWV9fTwvZGl2PidcbiAgICAgICAgICArICc8dGFibGUgY2xhc3M9XCJ0YWJsZSBkdHAtcGlja2VyLWRheXNcIj4nXG4gICAgICAgICAgKyAnICAgIDx0aGVhZD4nXG4gICAgICAgICAgKyAnICAgIDx0cj4nXG4gICAgICAgICAgKyAnICAgICAgICA8dGggbmctcmVwZWF0PVwiZGF5IGluIGNhbC53ZWVrXCI+e3tjYWwudG9EYXkoZGF5KX19PC90aD4nXG4gICAgICAgICAgKyAnICAgIDwvdHI+J1xuICAgICAgICAgICsgJyAgICA8L3RoZWFkPidcbiAgICAgICAgICArICcgICAgPHRib2R5PidcbiAgICAgICAgICArICcgICAgPC90Ym9keT4nXG4gICAgICAgICAgKyAnPC90YWJsZT4nLFxuICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNhbGVuZGFyKSB7XG4gICAgICAgICAgICBzY29wZS5jYWwgPSBjYWxlbmRhcjtcbiAgICAgICAgICAgIHNjb3BlLm1vbnRoID0gY2FsZW5kYXIuZ2V0SXRlbUF0SW5kZXgocGFyc2VJbnQoc2NvcGUuaWR4KSk7XG4gICAgICAgICAgICBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSk7XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuaWR4O1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGlkeCwgb2xkSWR4KSB7XG4gICAgICAgICAgICAgIGlmIChpZHggIT0gb2xkSWR4KSB7XG4gICAgICAgICAgICAgICAgc2NvcGUubW9udGggPSBjYWxlbmRhci5nZXRJdGVtQXRJbmRleChwYXJzZUludChzY29wZS5pZHgpKTtcbiAgICAgICAgICAgICAgICBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICBdKVxuICA7XG5cbiAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSlcbiAgICAuZGlyZWN0aXZlKCdtZGNEdHBOb2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCkge1xuICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpXG4gICAgLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDbG9jaycsIFtcbiAgICAgIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgdGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cImR0cC1waWNrZXItY2xvY2tcIj48c3BhbiBuZy1pZj1cIiFwb2ludHMgfHwgcG9pbnRzLmxlbmd0aCA8IDFcIj4mbmJzcDs8L3NwYW4+J1xuICAgICAgICAgICsgJzxkaXYgbmctcmVwZWF0PVwicG9pbnQgaW4gcG9pbnRzXCIgY2xhc3M9XCJkdHAtcGlja2VyLXRpbWVcIiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiB7e3BvaW50LmxlZnR9fXB4OyBtYXJnaW4tdG9wOiB7e3BvaW50LnRvcH19cHg7XCI+J1xuICAgICAgICAgICsgJyAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwb2ludC52YWx1ZT09PWN1cnJlbnRWYWx1ZX1cIiBjbGFzcz1cImR0cC1zZWxlY3QtaG91clwiIG5nLWNsaWNrPVwic2V0VGltZShwb2ludC52YWx1ZSlcIiBuZy1pZj1cInBvaW50QXZhaWxhYmxlKHBvaW50KVwiPnt7cG9pbnQuZGlzcGxheX19PC9hPidcbiAgICAgICAgICArICcgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImRpc2FibGVkIGR0cC1zZWxlY3QtaG91clwiIG5nLWlmPVwiIXBvaW50QXZhaWxhYmxlKHBvaW50KVwiPnt7cG9pbnQuZGlzcGxheX19PC9hPidcbiAgICAgICAgICArICc8L2Rpdj4nXG4gICAgICAgICAgKyAnPGRpdiBjbGFzcz1cImR0cC1oYW5kIGR0cC1ob3VyLWhhbmRcIj48L2Rpdj4nXG4gICAgICAgICAgKyAnPGRpdiBjbGFzcz1cImR0cC1oYW5kIGR0cC1taW51dGUtaGFuZFwiPjwvZGl2PidcbiAgICAgICAgICArICc8ZGl2IGNsYXNzPVwiZHRwLWNsb2NrLWNlbnRlclwiPjwvZGl2PidcbiAgICAgICAgICArICc8L2Rpdj4nO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgdmFyIG1pbnV0ZU1vZGUgPSBhdHRycy5tb2RlID09PSAnbWludXRlcyc7XG4gICAgICAgICAgICB2YXIgcGlja2VyID0gc2NvcGUucGlja2VyO1xuICAgICAgICAgICAgLy9iYW5raW5nIG9uIHRoZSBmYWN0IHRoYXQgdGhlcmUgd2lsbCBvbmx5IGJlIG9uZSBhdCBhIHRpbWVcbiAgICAgICAgICAgIHZhciBjb21wb25lbnRSb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWQtZGlhbG9nLmR0cCcpO1xuICAgICAgICAgICAgdmFyIGV4ZWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBjbG9jayA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtcGlja2VyLWNsb2NrJykpLFxuICAgICAgICAgICAgICAgIHBpY2tlckVsID0gYW5ndWxhci5lbGVtZW50KGNvbXBvbmVudFJvb3QucXVlcnlTZWxlY3RvcignLmR0cC1waWNrZXInKSk7XG5cbiAgICAgICAgICAgICAgdmFyIHcgPSBjb21wb25lbnRSb290LnF1ZXJ5U2VsZWN0b3IoJy5kdHAtY29udGVudCcpLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICB2YXIgcGwgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgcHIgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nUmlnaHQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICAgICAgICAgICAgdmFyIG1sID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgbXIgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5SaWdodCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICAvL3NldCB3aWR0aFxuICAgICAgICAgICAgICB2YXIgY2xvY2tXaWR0aCA9ICh3IC0gKG1sICsgbXIgKyBwbCArIHByKSk7XG4gICAgICAgICAgICAgIGNsb2NrLmNzcygnd2lkdGgnLCAoY2xvY2tXaWR0aCkgKyAncHgnKTtcblxuICAgICAgICAgICAgICB2YXIgcEwgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgcFQgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nVG9wJykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG4gICAgICAgICAgICAgIHZhciBtTCA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpbkxlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICAgICAgICAgICAgdmFyIG1UID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luVG9wJykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cbiAgICAgICAgICAgICAgdmFyIHIgPSAoY2xvY2tXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICB2YXIgaiA9IHIgLyAxLjI7IC8vPz8/XG5cbiAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgMTI7ICsraCkge1xuICAgICAgICAgICAgICAgIHZhciB4ID0gaiAqIE1hdGguc2luKE1hdGguUEkgKiAyICogKGggLyAxMikpO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gaiAqIE1hdGguY29zKE1hdGguUEkgKiAyICogKGggLyAxMikpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGhvdXIgPSB7XG4gICAgICAgICAgICAgICAgICBsZWZ0OiAociArIHggKyBwTCAvIDIpIC0gKHBMICsgbUwpLFxuICAgICAgICAgICAgICAgICAgdG9wOiAociAtIHkgLSBtVCAvIDIpIC0gKHBUICsgbVQpLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IChtaW51dGVNb2RlID8gKGggKiA1KSA6IGgpIC8vNSBmb3IgbWludXRlIDYwLzEyXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChtaW51dGVNb2RlKSB7XG4gICAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBob3VyLnZhbHVlIDwgMTAgPyAoJzAnICsgaG91ci52YWx1ZSkgOiBob3VyLnZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChwaWNrZXIucGFyYW1zLnNob3J0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSAoaCA9PT0gMCkgPyAxMiA6IGg7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBwaWNrZXIuaXNQTSgpID8gaCArIDEyIDogaDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGhvdXIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2NvcGUucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICAgICAgICBzZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgY2xvY2suY3NzKCdoZWlnaHQnLCBjbG9ja1dpZHRoICsgJ3B4Jyk7XG4gICAgICAgICAgICAgIC8vcGlja2VyLmluaXRIYW5kcyh0cnVlKTtcblxuICAgICAgICAgICAgICB2YXIgY2xvY2tDZW50ZXIgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtY2xvY2stY2VudGVyJyk7XG4gICAgICAgICAgICAgIHZhciBjZW50ZXJXaWR0aCA9IChjbG9ja0NlbnRlci5vZmZzZXRXaWR0aCAvIDIpIHx8IDcuNSxcbiAgICAgICAgICAgICAgICBjZW50ZXJIZWlnaHQgPSAoY2xvY2tDZW50ZXIub2Zmc2V0SGVpZ2h0IC8gMikgfHwgNy41O1xuICAgICAgICAgICAgICB2YXIgX2hMID0gciAvIDEuODtcbiAgICAgICAgICAgICAgdmFyIF9tTCA9IHIgLyAxLjU7XG5cbiAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1ob3VyLWhhbmQnKSkuY3NzKHtcbiAgICAgICAgICAgICAgICBsZWZ0OiByICsgKG1MICogMS41KSArICdweCcsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBfaEwgKyAncHgnLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogKHIgLSBfaEwgLSBwTCkgKyAncHgnXG4gICAgICAgICAgICAgIH0pLmFkZENsYXNzKCFtaW51dGVNb2RlID8gJ29uJyA6ICcnKTtcblxuICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLmNzc1xuICAgICAgICAgICAgICAoe1xuICAgICAgICAgICAgICAgIGxlZnQ6IHIgKyAobUwgKiAxLjUpICsgJ3B4JyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IF9tTCArICdweCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAociAtIF9tTCAtIHBMKSArICdweCdcbiAgICAgICAgICAgICAgfSkuYWRkQ2xhc3MobWludXRlTW9kZSA/ICdvbicgOiAnJyk7XG5cbiAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGNsb2NrQ2VudGVyKS5jc3Moe1xuICAgICAgICAgICAgICAgIGxlZnQ6IChyICsgcEwgKyBtTCAtIGNlbnRlcldpZHRoKSArICdweCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAociAtIChtTCAvIDIpKSAtIGNlbnRlckhlaWdodCArICdweCdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGFuaW1hdGVIYW5kcygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGFuaW1hdGVIYW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIF9kYXRlID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuICAgICAgICAgICAgICB2YXIgaCA9IF9kYXRlLmhvdXIoKTtcbiAgICAgICAgICAgICAgdmFyIG0gPSBfZGF0ZS5taW51dGUoKTtcblxuICAgICAgICAgICAgICByb3RhdGVFbGVtZW50KGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtaG91ci1oYW5kJykpLCAoMzYwIC8gMTIpICogaCk7XG4gICAgICAgICAgICAgIHZhciBtZGcgPSAoKDM2MCAvIDYwKSAqICg1ICogTWF0aC5yb3VuZChtIC8gNSkpKTtcbiAgICAgICAgICAgICAgcm90YXRlRWxlbWVudChhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLCBtZGcpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHJvdGF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAoZWwsIGRlZykge1xuICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWwpLmNzcyh7XG4gICAgICAgICAgICAgICAgV2Via2l0VHJhbnNmb3JtOiAncm90YXRlKCcgKyBkZWcgKyAnZGVnKScsXG4gICAgICAgICAgICAgICAgJy1tb3otdHJhbnNmb3JtJzogJ3JvdGF0ZSgnICsgZGVnICsgJ2RlZyknXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICB2YXIgc2V0Q3VycmVudFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgZGF0ZSA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcbiAgICAgICAgICAgICAgc2NvcGUuY3VycmVudFZhbHVlID0gbWludXRlTW9kZSA/IGRhdGUubWludXRlKCkgOiAoZGF0ZS5ob3VyKCkgJSAxMik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgdG1wID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gdG1wID8gdG1wLmZvcm1hdCgnSEg6bW0nKSA6ICcnO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKG5ld1ZhbCkge1xuICAgICAgICAgICAgICBzZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgYW5pbWF0ZUhhbmRzKCk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICB2YXIgc2V0RGlzcGxheVBvaW50cyA9IGZ1bmN0aW9uIChpc1BNLCBwb2ludHMpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwb2ludHNbaV0uZGlzcGxheSA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUE0pIHtcbiAgICAgICAgICAgICAgICAgIHBvaW50c1tpXS5kaXNwbGF5ICs9IDEyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCFwaWNrZXIucGFyYW1zLnNob3J0VGltZSkge1xuICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goJ3BpY2tlci5tZXJpZGllbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1pbnV0ZU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5wb2ludHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IHNldERpc3BsYXlQb2ludHMocGlja2VyLmlzUE0oKSwgYW5ndWxhci5jb3B5KHNjb3BlLnBvaW50cykpO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBzY29wZS5zZXRUaW1lID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICBpZiAodmFsID09PSBzY29wZS5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwaWNrZXIub2soKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghbWludXRlTW9kZSkge1xuICAgICAgICAgICAgICAgIHBpY2tlci5jdXJyZW50RGF0ZS5ob3VyKHBpY2tlci5pc1BNKCkgPyAodmFsICsgMTIpIDogdmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwaWNrZXIuY3VycmVudERhdGUubWludXRlKHZhbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGlja2VyLmN1cnJlbnREYXRlLnNlY29uZCgwKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2NvcGUucG9pbnRBdmFpbGFibGUgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1pbnV0ZU1vZGUgPyBwaWNrZXIuaXNNaW51dGVBdmFpbGFibGUocG9pbnQudmFsdWUpIDogcGlja2VyLmlzSG91ckF2YWlsYWJsZShwb2ludC52YWx1ZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdW53YXRjaGVyID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnZGl2JykubGVuZ3RoO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBleGVjKCk7XG4gICAgICAgICAgICAgIHVud2F0Y2hlcigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XSk7XG5cbn0pKG1vbWVudCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2pzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuanNcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci9jc3MvbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzXG4gKiogbW9kdWxlIGlkID0gNTkxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIm1kLWRpYWxvZy5kdHB7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MS40Mjg1NzE0Mztjb2xvcjojMzMzO2JhY2tncm91bmQtY29sb3I6I2ZmZjttYXgtaGVpZ2h0Om5vbmV9LmR0cCA6Zm9jdXN7b3V0bGluZTpub25lIWltcG9ydGFudH0uZHRwIHRhYmxle2JvcmRlci1zcGFjaW5nOjA7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO3dpZHRoOjEwMCV9LmR0cCAudGFibGU+dGJvZHk+dHI+dGQsLmR0cCAudGFibGU+dGJvZHk+dHI+dGgsLmR0cCAudGFibGU+dGZvb3Q+dHI+dGQsLmR0cCAudGFibGU+dGZvb3Q+dHI+dGgsLmR0cCAudGFibGU+dGhlYWQ+dHI+dGQsLmR0cCAudGFibGU+dGhlYWQ+dHI+dGh7cGFkZGluZzo4cHg7bGluZS1oZWlnaHQ6MS40Mjg1NzE0Mzt2ZXJ0aWNhbC1hbGlnbjp0b3A7Ym9yZGVyLXRvcDoxcHggc29saWQgI2RkZH0uZHRwLC5kdHAgKntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50fS5kdHA+LmR0cC1jb250ZW50e21heC13aWR0aDozMDBweDttYXgtaGVpZ2h0OjUwMHB4fS5kdHA+LmR0cC1jb250ZW50Pi5kdHAtZGF0ZS12aWV3PmhlYWRlci5kdHAtaGVhZGVye2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmO3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6M3B4fS5kdHAgZGl2LmR0cC1kYXRlLC5kdHAgZGl2LmR0cC10aW1le2JhY2tncm91bmQ6IzhiYzM0YTt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojZmZmO3BhZGRpbmc6MTBweH0uZHRwIGRpdi5kdHAtZGF0ZT5kaXZ7cGFkZGluZzowO21hcmdpbjowfS5kdHAgZGl2LmR0cC1hY3R1YWwtbW9udGh7Zm9udC1zaXplOjEuNWVtfS5kdHAgZGl2LmR0cC1hY3R1YWwtbWF4dGltZSwuZHRwIGRpdi5kdHAtYWN0dWFsLW51bXtmb250LXNpemU6M2VtO2xpbmUtaGVpZ2h0Oi45fS5kdHAgZGl2LmR0cC1hY3R1YWwteWVhcntmb250LXNpemU6MS42ZW07Y29sb3I6I2RjZWRjOH0uZHRwIGRpdi5kdHAteWVhci1idG57Zm9udC1zaXplOjEuNGVtO2xpbmUtaGVpZ2h0OjMwcHg7Y3Vyc29yOnBvaW50ZXI7Y29sb3I6I2RjZWRjOH0uZHRwIGRpdi5kdHAteWVhci1idG4tcHJldnt0ZXh0LWFsaWduOnJpZ2h0fS5kdHAgZGl2LmR0cC15ZWFyLWJ0bi1uZXh0e3RleHQtYWxpZ246bGVmdH0uZHRwIGRpdi5kdHAtcGlja2Vye3BhZGRpbmc6MTBweDt0ZXh0LWFsaWduOmNlbnRlcn0uZHRwIGRpdi5kdHAtYWN0dWFsLXRpbWUsLmR0cCBkaXYuZHRwLXBpY2tlci1tb250aHtmb250LXdlaWdodDo1MDA7dGV4dC1hbGlnbjpjZW50ZXJ9LmR0cCAuZHRwLWNsb3Nle3Bvc2l0aW9uOmFic29sdXRlO3RvcDouMjVlbTtyaWdodDo1cHg7Zm9udC1zaXplOjE2cHh9LmR0cCAuZHRwLWNsb3NlPmF7Y29sb3I6I2ZmZjt0ZXh0LWRlY29yYXRpb246bm9uZX0uZHRwIC5kdHAtY2xvc2U+YT5pe2ZvbnQtc2l6ZToxZW19LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXN7bWFyZ2luOjA7bWluLWhlaWdodDoyMjBweH0uZHRwIG1kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lci5tb250aHN7aGVpZ2h0OjI2MHB4fS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRke2JvcmRlcjpub25lfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRke2ZvbnQtc2l6ZToxMXB4O3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6MH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5zcGFuLmR0cC1zZWxlY3QtZGF5e2NvbG9yOiNiZGJkYmQhaW1wb3J0YW50fS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPi5kdHAtc2VsZWN0LWRheXt3aWR0aDozNnB4O2hlaWdodDozNnB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5kdHAgLmR0cC1waWNrZXItdGltZT5hLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPi5kdHAtc2VsZWN0LWRheXtjb2xvcjojMjEyMTIxO3RleHQtZGVjb3JhdGlvbjpub25lO3BhZGRpbmc6MTBweDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnR9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+YS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM4YmMzNGE7Y29sb3I6I2ZmZn0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5hOmhvdmVyOm5vdCguc2VsZWN0ZWQpe2JhY2tncm91bmQ6I2RkZH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50aHtjb2xvcjojNzU3NTc1O3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtd2VpZ2h0OjcwMDtwYWRkaW5nOjRweCAzcHh9LmR0cCAucDEwPmF7Y29sb3I6IzY4OWYzODt0ZXh0LWRlY29yYXRpb246bm9uZX0uZHRwIC5wMTB7d2lkdGg6MTAlfS5kdHAgLnAxMCwuZHRwIC5wMjB7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAucDIwe3dpZHRoOjIwJX0uZHRwIC5wNjB7d2lkdGg6NjAlfS5kdHAgLnA2MCwuZHRwIC5wODB7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAucDgwe3dpZHRoOjgwJX0uZHRwIGEuZHRwLW1lcmlkaWVuLWFtLC5kdHAgYS5kdHAtbWVyaWRpZW4tcG17cG9zaXRpb246cmVsYXRpdmU7dG9wOjEwcHg7Y29sb3I6IzIxMjEyMTtmb250LXdlaWdodDo1MDA7cGFkZGluZzo3cHggNXB4O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudDt0ZXh0LWRlY29yYXRpb246bm9uZTtiYWNrZ3JvdW5kOiNlZWU7Zm9udC1zaXplOjEwcHh9LmR0cCAuZHRwLWFjdHVhbC1tZXJpZGllbiBhLnNlbGVjdGVke2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmfS5kdHAgLmR0cC1waWNrZXItdGltZT5he2Rpc3BsYXk6YmxvY2s7bGluZS1oZWlnaHQ6MjNweDtwYWRkaW5nOjNweH0uZHRwIC5kdHAtcGlja2VyLXRpbWV7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDtmb250LXNpemU6MS4xZW07Ym9yZGVyLXJhZGl1czo1MCU7Y3Vyc29yOnBvaW50ZXI7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50fS5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtaG91ci5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM2ODlmMzg7Y29sb3I6I2ZmZn0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LWhvdXIuZGlzYWJsZWQsLmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1taW51dGUuZGlzYWJsZWR7Y29sb3I6Izc1NzU3NX0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LW1pbnV0ZS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM4YmMzNGE7Y29sb3I6I2ZmZn0uZHRwIGRpdi5kdHAtcGlja2VyLWNsb2Nre21hcmdpbjoxMHB4IDIwcHggMDtwYWRkaW5nOjEwcHg7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O2JhY2tncm91bmQ6I2VlZX0uZHRwLWNsb2NrLWNlbnRlcnt3aWR0aDoxNXB4O2hlaWdodDoxNXB4O2JhY2tncm91bmQ6Izc1NzU3NTtib3JkZXItcmFkaXVzOjUwJTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjUwfS5kdHAgLmR0cC1oYW5kLC5kdHAgLmR0cC1ob3VyLWhhbmR7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NHB4O21hcmdpbi1sZWZ0Oi0ycHg7YmFja2dyb3VuZDojYmRiZGJkOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDBkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpib3R0b207dHJhbnNmb3JtLW9yaWdpbjpib3R0b207ei1pbmRleDoxfS5kdHAgLmR0cC1taW51dGUtaGFuZHt3aWR0aDoycHg7bWFyZ2luLWxlZnQ6LTFweH0uZHRwIC5kdHAtaGFuZC5vbntiYWNrZ3JvdW5kOiM4YmMzNGF9LmR0cCAuZHRwLWJ1dHRvbnN7cGFkZGluZzowIDEwcHggMTBweDt0ZXh0LWFsaWduOnJpZ2h0fS5kdHAuaGlkZGVuLC5kdHAgLmhpZGRlbntkaXNwbGF5Om5vbmV9LmR0cCAuaW52aXNpYmxle3Zpc2liaWxpdHk6aGlkZGVufS5kdHAgLmxlZnR7ZmxvYXQ6bGVmdH0uZHRwIC5yaWdodHtmbG9hdDpyaWdodH0uZHRwIC5jbGVhcmZpeHtjbGVhcjpib3RofS5kdHAgLmNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlcn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvY3NzL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzc1xuICoqIG1vZHVsZSBpZCA9IDU5MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKlxuICogYW5ndWxhci1nb29nbGUtcGx1cy1kaXJlY3RpdmUgdjAuMC4xXG4gKiDimaEgQ29weUhlYXJ0IDIwMTMgYnkgSmVyYWQgQml0bmVyIGh0dHA6Ly9qZXJhZGJpdG5lci5jb21cbiAqIENvcHlpbmcgaXMgYW4gYWN0IG9mIGxvdmUuIFBsZWFzZSBjb3B5LlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCdkaXJlY3RpdmUuZytzaWduaW4nLCBbXSkuXG4gIGRpcmVjdGl2ZSgnZ29vZ2xlUGx1c1NpZ25pbicsIFsnJHdpbmRvdycsIGZ1bmN0aW9uICgkd2luZG93KSB7XG4gICAgdmFyIGVuZGluZyA9IC9cXC5hcHBzXFwuZ29vZ2xldXNlcmNvbnRlbnRcXC5jb20kLztcblxuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlOiAnPHNwYW4+PC9zcGFuPicsXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCwgbGlua2VyKSB7XG4gICAgICAgIGF0dHJzLmNsaWVudGlkICs9IChlbmRpbmcudGVzdChhdHRycy5jbGllbnRpZCkgPyAnJyA6ICcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nKTtcblxuICAgICAgICBhdHRycy4kc2V0KCdkYXRhLWNsaWVudGlkJywgYXR0cnMuY2xpZW50aWQpO1xuICAgICAgICBhdHRycy4kc2V0KCd0aGVtZScsIGF0dHJzLnRoZW1lKTtcblxuICAgICAgICAvLyBTb21lIGRlZmF1bHQgdmFsdWVzLCBiYXNlZCBvbiBwcmlvciB2ZXJzaW9ucyBvZiB0aGlzIGRpcmVjdGl2ZVxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgY2FsbGJhY2s6ICdzaWduaW5DYWxsYmFjaycsXG4gICAgICAgICAgY29va2llcG9saWN5OiAnc2luZ2xlX2hvc3Rfb3JpZ2luJyxcbiAgICAgICAgICByZXF1ZXN0dmlzaWJsZWFjdGlvbnM6ICdodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL0FkZEFjdGl2aXR5JyxcbiAgICAgICAgICBzY29wZTogJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvcGx1cy5sb2dpbiBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3VzZXJpbmZvLmVtYWlsJyxcbiAgICAgICAgICBoZWlnaHQ6ICdzdGFuZGFyZCcsXG4gICAgICAgICAgd2lkdGg6ICd3aWRlJyxcbiAgICAgICAgICBzdGF0ZTogJydcbiAgICAgICAgfTtcblxuICAgICAgICBkZWZhdWx0cy5jbGllbnRpZCA9IGF0dHJzLmNsaWVudGlkO1xuICAgICAgICBkZWZhdWx0cy50aGVtZSA9IGF0dHJzLnRoZW1lO1xuXG4gICAgICAgIC8vIE92ZXJ3cml0ZSBkZWZhdWx0IHZhbHVlcyBpZiBleHBsaWNpdGx5IHNldFxuICAgICAgICBhbmd1bGFyLmZvckVhY2goT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpLCBmdW5jdGlvbihwcm9wTmFtZSkge1xuICAgICAgICAgIGlmIChhdHRycy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIGRlZmF1bHRzW3Byb3BOYW1lXSA9IGF0dHJzW3Byb3BOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERlZmF1bHQgbGFuZ3VhZ2VcbiAgICAgICAgLy8gU3VwcG9ydGVkIGxhbmd1YWdlczogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vKy93ZWIvYXBpL3N1cHBvcnRlZC1sYW5ndWFnZXNcbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2xhbmd1YWdlJywgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICR3aW5kb3cuX19fZ2NmZyA9IHtcbiAgICAgICAgICAgIGxhbmc6IHZhbHVlID8gdmFsdWUgOiAnZW4nXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBc3luY2hyb25vdXNseSBsb2FkIHRoZSBHKyBTREsuXG4gICAgICAgIHZhciBwbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOyBwby50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7IHBvLmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgcG8uc3JjID0gJ2h0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2NsaWVudDpwbHVzb25lLmpzJztcbiAgICAgICAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocG8sIHMpO1xuXG4gICAgICAgIGxpbmtlcihmdW5jdGlvbihlbCwgdFNjb3BlKXtcbiAgICAgICAgICBwby5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2FwaS5zaWduaW4ucmVuZGVyKGVsZW1lbnRbMF0sIGRlZmF1bHRzKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG59XSkuXG4gIHJ1bihbJyR3aW5kb3cnLCckcm9vdFNjb3BlJyxmdW5jdGlvbigkd2luZG93LCAkcm9vdFNjb3BlKSB7XG4gICAgJHdpbmRvdy5zaWduaW5DYWxsYmFjayA9IGZ1bmN0aW9uIChhdXRoUmVzdWx0KSB7XG4gICAgICBpZiAoYXV0aFJlc3VsdCAmJiBhdXRoUmVzdWx0LmFjY2Vzc190b2tlbil7XG4gICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLXN1Y2Nlc3MnLCBhdXRoUmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLWZhaWx1cmUnLCBhdXRoUmVzdWx0KTtcbiAgICAgIH1cbiAgICB9OyBcbn1dKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItZGlyZWN0aXZlLmctc2lnbmluL2dvb2dsZS1wbHVzLXNpZ25pbi5qc1xuICoqLyIsIiFmdW5jdGlvbiAoZSwgdCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgXCJmdW5jdGlvblwiID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbXCJhbmd1bGFyXCIsIFwic3dlZXRhbGVydFwiXSwgZnVuY3Rpb24gKGUsIG4pIHtcbiAgICByZXR1cm4gdChlLCBuKVxuICB9KSA6IFwib2JqZWN0XCIgPT0gdHlwZW9mIG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cyA/IG1vZHVsZS5leHBvcnRzID0gdChyZXF1aXJlKFwiYW5ndWxhclwiKSwgcmVxdWlyZShcInN3ZWV0YWxlcnRcIikpIDogdChlLmFuZ3VsYXIsIGUuc3dlZXRBbGVydClcbn0odGhpcywgZnVuY3Rpb24gKGUsIHQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIHZhciBuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBlID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgdC5hcHBseSh2b2lkIDAsIGUpXG4gICAgfSwgZS5mb3JFYWNoKFtcInNob3dJbnB1dEVycm9yXCIsIFwiY2xvc2VcIl0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzW2VdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbiA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAgICAgdFtlXS5hcHBseSh2b2lkIDAsIG4pXG4gICAgICB9XG4gICAgfSwgdGhpcyksIHRoaXMuaXNTaG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0O1xuICAgICAgcmV0dXJuIGUuZm9yRWFjaChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic3dlZXQtYWxlcnRcIiksIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIHQgPSBlLmVsZW1lbnQobilcbiAgICAgIH0pLCB0ICYmIHQuaGFzQ2xhc3MoXCJ2aXNpYmxlXCIpXG4gICAgfVxuICB9LCByID0gXCJoU3dlZXRBbGVydFwiO1xuICByZXR1cm4gZS5tb2R1bGUociwgW10pLnNlcnZpY2UoXCJzd2VldFwiLCBbbl0pLCByXG59KTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItaC1zd2VldGFsZXJ0L25nU3dlZXRBbGVydC5taW4uanNcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL3ZlbmRvci5zY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL3ZlbmRvci5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vdmVuZG9yLnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvYXBwL3Njc3MvdmVuZG9yLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSA2MzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL34vc2Fzcy1sb2FkZXIhLi9zcmMvYXBwL3Njc3MvdmVuZG9yLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSA2MzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9hcHAvc2Nzcy9pbmRleC5zY3NzXG4gKiogbW9kdWxlIGlkID0gNjM3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5kaXN0cmlidXRvci1zZWxlY3Rpb257Zm9udC1zaXplOjE2cHQ7cGFkZGluZzozcHg7bWFyZ2luOjNweH1ib2R5e21hcmdpbi10b3A6MTAwcHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH1AbWVkaWEgKG1pbi13aWR0aDo3NjhweCl7Ym9keXttYXJnaW4tdG9wOjUwcHh9fSN3cmFwcGVye3BhZGRpbmctbGVmdDowfSNwYWdlLXdyYXBwZXJ7d2lkdGg6MTAwJTtwYWRkaW5nOjA7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5odWdle2ZvbnQtc2l6ZTo1MHB4O2xpbmUtaGVpZ2h0Om5vcm1hbH1AbWVkaWEgKG1pbi13aWR0aDo3NjhweCl7I3dyYXBwZXJ7cGFkZGluZy1sZWZ0OjIyNXB4fSNwYWdlLXdyYXBwZXJ7cGFkZGluZzoxMHB4fX0ubWFyZ2luLXRvcC0wNXttYXJnaW4tdG9wOi41ZW19Lm1hcmdpbi10b3AtMTV7bWFyZ2luLXRvcDoxLjVlbX0ubWFyZ2luLXRvcC0yMHttYXJnaW4tdG9wOjJlbX0ubWFyZ2luLXRvcC0yNXttYXJnaW4tdG9wOjIuNWVtfS5tYXJnaW4tdG9wLTUwe21hcmdpbi10b3A6NWVtfS5pc3N1ZS13YXJuaW5nLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpvcmFuZ2V9Lmlzc3VlLXdhcm5pbmctdGV4dHtjb2xvcjpvcmFuZ2V9Lmlzc3VlLWRhbmdlci1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6cmVkfS5pc3N1ZS1kYW5nZXItdGV4dHtjb2xvcjpyZWR9Lmlzc3VlLW5vcm1hbC1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6Z3JlZW59Lmlzc3VlLW5vcm1hbC10ZXh0e2NvbG9yOmdyZWVufS51cC10cnVlLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpncmVlbn0udXAtZmFsc2UtYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOnJlZH0ubmF2YmFyLWRlZmF1bHR7YmFja2dyb3VuZC1jb2xvcjojMWI3NWJiO2JvcmRlci1jb2xvcjojMTU1OThlfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLWJyYW5ke2NvbG9yOiNmZmZ9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItYnJhbmQ6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItYnJhbmQ6aG92ZXJ7Y29sb3I6IzU1YTdlN30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+bGk+YSwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+bGk+YTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+bGk+YTpob3Zlcntjb2xvcjojZmZmfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uYWN0aXZlPmEsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5hY3RpdmU+YTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmFjdGl2ZT5hOmhvdmVye2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojYWZkNWYzfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hOmhvdmVye2NvbG9yOiM1NTU7YmFja2dyb3VuZC1jb2xvcjojZDVkNWQ1fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uZHJvcGRvd24+YSAuY2FyZXR7Ym9yZGVyLXRvcC1jb2xvcjojNzc3O2JvcmRlci1ib3R0b20tY29sb3I6Izc3N30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmRyb3Bkb3duPmE6Zm9jdXMgLmNhcmV0LC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uZHJvcGRvd24+YTpob3ZlciAuY2FyZXR7Ym9yZGVyLXRvcC1jb2xvcjojMzMzO2JvcmRlci1ib3R0b20tY29sb3I6IzMzM30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YSAuY2FyZXQsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmE6Zm9jdXMgLmNhcmV0LC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hOmhvdmVyIC5jYXJldHtib3JkZXItdG9wLWNvbG9yOiM1NTU7Ym9yZGVyLWJvdHRvbS1jb2xvcjojNTU1fS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZXtib3JkZXItY29sb3I6I2RkZH0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGU6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xlOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2RkZH0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGUgLmljb24tYmFye2JhY2tncm91bmQtY29sb3I6I2NjY31AbWVkaWEgKG1heC13aWR0aDo3NjdweCl7Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2IC5vcGVuIC5kcm9wZG93bi1tZW51PmxpPmF7Y29sb3I6Izc3N30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXYgLm9wZW4gLmRyb3Bkb3duLW1lbnU+bGk+YTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXYgLm9wZW4gLmRyb3Bkb3duLW1lbnU+bGk+YTpob3Zlcntjb2xvcjojMzMzfX0udG9wLW5hdntwYWRkaW5nOjAgMTVweH0udG9wLW5hdj5saXtkaXNwbGF5OmlubGluZS1ibG9jaztmbG9hdDpsZWZ0fS50b3AtbmF2PmxpPmF7cGFkZGluZy10b3A6MTVweDtwYWRkaW5nLWJvdHRvbToxNXB4O2xpbmUtaGVpZ2h0OjIwcHg7Y29sb3I6I2VmZWZlZn0udG9wLW5hdj4ub3Blbj5hLC50b3AtbmF2Pi5vcGVuPmE6Zm9jdXMsLnRvcC1uYXY+Lm9wZW4+YTpob3ZlciwudG9wLW5hdj5saT5hOmZvY3VzLC50b3AtbmF2PmxpPmE6aG92ZXJ7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiMxYjc1YmJ9LnRvcC1uYXY+Lm9wZW4+LmRyb3Bkb3duLW1lbnV7ZmxvYXQ6bGVmdDtwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tdG9wOjA7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDAsMCwwLC4xNSk7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjA7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JveC1zaGFkb3c6MCA2cHggMTJweCByZ2JhKDAsMCwwLC4xNzUpfS50b3AtbmF2Pi5vcGVuPi5kcm9wZG93bi1tZW51PmxpPmF7d2hpdGUtc3BhY2U6bm9ybWFsfXVsLm1lc3NhZ2UtZHJvcGRvd257cGFkZGluZzowO21heC1oZWlnaHQ6MjUwcHg7b3ZlcmZsb3cteDpoaWRkZW47b3ZlcmZsb3cteTphdXRvfWxpLm1lc3NhZ2UtcHJldmlld3t3aWR0aDoyNzVweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCByZ2JhKDAsMCwwLC4xNSl9bGkubWVzc2FnZS1wcmV2aWV3PmF7cGFkZGluZy10b3A6MTVweDtwYWRkaW5nLWJvdHRvbToxNXB4fWxpLm1lc3NhZ2UtZm9vdGVye21hcmdpbjo1cHggMH11bC5hbGVydC1kcm9wZG93bnt3aWR0aDoyMDBweH1AbWVkaWEgKG1pbi13aWR0aDo3NjhweCl7LnNpZGUtbmF2e3Bvc2l0aW9uOmZpeGVkO3RvcDo1MXB4O2xlZnQ6MjI1cHg7bWFyZ2luLWxlZnQ6LTIyNXB4O2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6MDtvdmVyZmxvdy15OmF1dG87YmFja2dyb3VuZC1jb2xvcjojMWI3NWJiO2JvdHRvbTowO292ZXJmbG93LXg6aGlkZGVuO3BhZGRpbmctYm90dG9tOjQwcHh9LnNpZGUtbmF2LC5zaWRlLW5hdj5saT5he3dpZHRoOjIyNXB4fS5zaWRlLW5hdiBsaSBhOmZvY3VzLC5zaWRlLW5hdiBsaSBhOmhvdmVye291dGxpbmU6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiMzZjljZTMhaW1wb3J0YW50fX0uc2lkZS1uYXY+bGk+dWx7cGFkZGluZzowfS5zaWRlLW5hdj5saT51bD5saT5he2Rpc3BsYXk6YmxvY2s7cGFkZGluZzoxMHB4IDE1cHggMTBweCAzOHB4O3RleHQtZGVjb3JhdGlvbjpub25lO2NvbG9yOiNkNGQ0ZDR9LnNpZGUtbmF2PmxpPnVsPmxpPmE6aG92ZXJ7Y29sb3I6I2ZmZn0uZmxvdC1jaGFydHtkaXNwbGF5OmJsb2NrO2hlaWdodDo0MDBweH0uZmxvdC1jaGFydC1jb250ZW50e3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9Lmh1Z2V7Zm9udC1zaXplOjQwcHh9LnBhbmVsLWdyZWVue2JvcmRlci1jb2xvcjojNWNiODVjfS5wYW5lbC1ncmVlbj4ucGFuZWwtaGVhZGluZ3tib3JkZXItY29sb3I6IzVjYjg1Yztjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6IzVjYjg1Y30ucGFuZWwtZ3JlZW4+YXtjb2xvcjojNWNiODVjfS5wYW5lbC1ncmVlbj5hOmhvdmVye2NvbG9yOiMzZDhiM2R9LnBhbmVsLXJlZHtib3JkZXItY29sb3I6I2Q5NTM0Zn0ucGFuZWwtcmVkPi5wYW5lbC1oZWFkaW5ne2JvcmRlci1jb2xvcjojZDk1MzRmO2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojZDk1MzRmfS5wYW5lbC1yZWQ+YXtjb2xvcjojZDk1MzRmfS5wYW5lbC1yZWQ+YTpob3Zlcntjb2xvcjojYjUyYjI3fS5wYW5lbC15ZWxsb3d7Ym9yZGVyLWNvbG9yOiNmMGFkNGV9LnBhbmVsLXllbGxvdz4ucGFuZWwtaGVhZGluZ3tib3JkZXItY29sb3I6I2YwYWQ0ZTtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2YwYWQ0ZX0ucGFuZWwteWVsbG93PmF7Y29sb3I6I2YwYWQ0ZX0ucGFuZWwteWVsbG93PmE6aG92ZXJ7Y29sb3I6I2RmOGExM30udG9vbGJhcnttYXJnaW4tYm90dG9tOjEwcHh9LmVudGl0eS1rZXl7Zm9udC1mYW1pbHk6TW9uYWNvLENvbnNvbGFzLEx1Y2lkYSBDb25zb2xlLGRlamF2dSBzYW5zIG1vbm8sbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMXB4fS5wcm9vZi1vZi1wbGF5LWxhYmVse3BhZGRpbmctYm90dG9tOjEwcHg7cGFkZGluZy10b3A6MTBweH0uY29weS1yZWFkeS10cmFuc3BhcmVudHtjb2xvcjp0cmFuc3BhcmVudH0ubm8tZGV2aWNlc3t0ZXh0LWFsaWduOmNlbnRlcn0ucHJvcGVydGllcy13b3JkLWJyZWFre3dpZHRoOjM5MHB4O3dvcmQtd3JhcDpicmVhay13b3JkO2Rpc3BsYXk6YmxvY2t9LmNvbW1hbmQtaGlzdG9yeS1jb21tYW5ke3dpZHRoOjM3NXB4O3dvcmQtd3JhcDpicmVhay13b3JkO2Rpc3BsYXk6YmxvY2t9Lmhvc3RuYW1lLXdvcmQtYnJlYWt7d2lkdGg6MjAwcHg7d29yZC13cmFwOmJyZWFrLXdvcmQ7ZGlzcGxheTppbmxpbmUtYmxvY2t9W2RhdGEtbmctY2xpY2tdLFtuZy1jbGlja10sW3gtbmctY2xpY2tde2N1cnNvcjpwb2ludGVyfSNwcm9vZnBsYXktc2VsZWN0ZWQtaXRlbXN7bWluLXdpZHRoOjAhaW1wb3J0YW50O21hcmdpbjowIGF1dG87cGFkZGluZzowIGF1dG99LnJhZGlvLWJ1dHRvbntwYWRkaW5nOjNweH0uaG9yaXpvbnRhbC1zdWJtaXR7bWFyZ2luOi41ZW19Lmhvcml6b250YWwtc3VibWl0LC5yYWRpby1ob3Jpem9udGFse2Rpc3BsYXk6ZmxleDthbGlnbi1zZWxmOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7LXdlYmtpdC1hbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyfW1kLXRvb2xiYXIubWQtZGVmYXVsdC10aGVtZTpub3QoLm1kLW1lbnUtdG9vbGJhciksbWQtdG9vbGJhcjpub3QoLm1kLW1lbnUtdG9vbGJhcil7YmFja2dyb3VuZC1jb2xvcjojMWI3NWJiIWltcG9ydGFudDttYXgtaGVpZ2h0OjY0cHg7bWluLWhlaWdodDo2NHB4fS5tZC10b29sYmFyLXRvb2xze2JhY2tncm91bmQtY29sb3I6IzAwMCFpbXBvcnRhbnQ7bWF4LWhlaWdodDo2NHB4O21pbi1oZWlnaHQ6NjRweH0uc2t5a2l0LWltYWdle21heC13aWR0aDoxMDAlO2hlaWdodDozM3B4fUBtZWRpYSAobWF4LXdpZHRoOjc2N3B4KXttZC10b29sYmFyLm1kLWRlZmF1bHQtdGhlbWU6bm90KC5tZC1tZW51LXRvb2xiYXIpLG1kLXRvb2xiYXI6bm90KC5tZC1tZW51LXRvb2xiYXIpe21hcmdpbi10b3A6LTUwcHg7bWFyZ2luLWJvdHRvbTo1MHB4fX0uY2VudGVyLWJsb2Nre3RleHQtYWxpZ246Y2VudGVyfS5lbGxpcHNpcy1vdmVyZmxvdywucHJvb2Ytb2YtcGxheS1zZWxlY3RlZC1pdGVte3dpZHRoOjEwMCU7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmxlZnQ7dGV4dC1vdmVyZmxvdzplbGxpcHNpc30ucHJvb2Ytb2YtcGxheS10ZW5hbnQtbmFtZS1vcHRpb257d2lkdGg6N2VtO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1hbGlnbjpjZW50ZXI7cG9zaXRpdGlvbjphYnNvbHV0ZTt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5wcm9vZi1vZi1wbGF5LWhvcml6b250YWwtdG9wLWJhcnthbGlnbi1zZWxmOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7LXdlYmtpdC1hbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyO21hcmdpbi10b3A6LjVlbTttYXJnaW4tYm90dG9tOi41ZW07YWxpZ24taXRlbXM6Y2VudGVyfS5teS1mbGV4LC5wcm9vZi1vZi1wbGF5LWhvcml6b250YWwtdG9wLWJhcntkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uYmlnZ2VyLWJ1dHRvbnN7cGFkZGluZzouNGVtO21pbi13aWR0aDo4OHB4O2JvcmRlci1yYWRpdXM6NXB4O2ZvbnQtc2l6ZToxNnB4O3RleHQtYWxpZ246Y2VudGVyO3RleHQtZGVjb3JhdGlvbjpub25lO2JvcmRlcjpub25lO291dGxpbmU6bm9uZX0uYWRtaW4tY29udGFpbmVye2Rpc3BsYXk6ZmxleDthbGlnbi1jb250ZW50OmZsZXgtc3RhcnR9LnJlZ2lzdHJhdGlvbi1ldmVudC1jb2x1bW57aGVpZ2h0OjExMHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOnRvcDtvdmVyZmxvdzpzY3JvbGx9LnB1bGwtY29tbWFuZC1zZW5kLWJ1dHRvbi11cHttYXJnaW4tdG9wOi0ycHh9aGVhZGVyLmR0cC1oZWFkZXJ7YmFja2dyb3VuZDojMWI3NWJiIWltcG9ydGFudH0uZHRwIGRpdi5kdHAtZGF0ZSwuZHRwIGRpdi5kdHAtdGltZXtiYWNrZ3JvdW5kOiMwMDB9LmR0cCAuZHRwLWFjdHVhbC1tZXJpZGllbiBhLnNlbGVjdGVkLC5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtaG91ci5zZWxlY3RlZCwuZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5hLnNlbGVjdGVke2JhY2tncm91bmQ6IzFiNzViYiFpbXBvcnRhbnR9LmR0cCAuZHRwLWhhbmQub257YmFja2dyb3VuZDojMDAwfS5kZXZpY2UtcHJvcGVydGllcy1zd2l0Y2h7bWFyZ2luLXRvcDotMXB4fS5tZC1jb250ZW50LWNvbW1hbmQtb3ZlcnJpZGUgbWQtY29udGVudHtvdmVyZmxvdzp1bnNldH0ucHVsbC10b29sdGlwLWxlZnR7bWFyZ2luLWxlZnQ6LTU1cHh9LmNvbW1hbmQtYnV0dG9uLXJpZ2h0e2Zsb2F0OnJpZ2h0O2ZsZXgtZGlyZWN0aW9uOnJvdy1yZXZlcnNlfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Nhc3MtbG9hZGVyIS4vc3JjL2FwcC9zY3NzL2luZGV4LnNjc3NcbiAqKiBtb2R1bGUgaWQgPSA2MzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZnVuY3Rpb24gRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybCgkbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYXRpb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tbWFuZHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaW1lem9uZXNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0c1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICB2bS5kZXZpY2VLZXkgPSAkc3RhdGVQYXJhbXMuZGV2aWNlS2V5O1xuICB2bS5mcm9tRGV2aWNlcyA9ICRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCI7XG4gIHZtLmN1cnJlbnREZXZpY2UgPSB7fTtcbiAgdm0uY29tbWFuZEV2ZW50cyA9IFtdO1xuXG4gIHZtLmdlbmVyYXRlTG9jYWxGcm9tVVRDID0gZnVuY3Rpb24gKFVUQ1RpbWUpIHtcbiAgICBsZXQgbG9jYWxUaW1lID0gbW9tZW50LnV0YyhVVENUaW1lKS50b0RhdGUoKTtcbiAgICByZXR1cm4gbG9jYWxUaW1lID0gbW9tZW50KGxvY2FsVGltZSkuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tOnNzIEEnKTtcbiAgfTtcblxuICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gaXNzdWVzW2ldO1xuICAgICAgaWYgKGVhY2gucG9zdGVkVGltZSkge1xuICAgICAgICBlYWNoLnBvc3RlZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnBvc3RlZFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKGVhY2guY29uZmlybWVkVGltZSkge1xuICAgICAgICBlYWNoLmNvbmZpcm1lZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNvbmZpcm1lZFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH07XG5cbiAgdm0uZ2V0RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBjb21tYW5kRXZlbnRzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpO1xuICAgIHJldHVybiBjb21tYW5kRXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUoZGF0YS5ldmVudHMpO1xuICAgICAgdm0uZXZlbnRfbmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuICAgICAgdm0uZXZlbnRfcHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuICAgICAgdm0uY29tbWFuZEV2ZW50cyA9IGRhdGEuZXZlbnRzO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLmdldEV2ZW50c1RpbWVPdXQgPSAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSA9PlxuICAgICR0aW1lb3V0KCggKCkgPT4gdm0uZ2V0RXZlbnRzKGRldmljZUtleSwgcHJldiwgbmV4dCkpLCAxMDAwKVxuICA7XG5cbiAgdm0uY29tbWFuZEhpc3RvcnlTZWxlY3RlZCA9ICgpID0+IHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXG4gIHZtLnBhZ2luYXRlRXZlbnRDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIG51bGwsIHZtLmV2ZW50X25leHRfY3Vyc29yKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgdm0uZXZlbnRfcHJldl9jdXJzb3IsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcbiAgICBkZXZpY2VQcm9taXNlLnRoZW4oKHJlc3BvbnNlID0+IHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXNwb25zZSkpLCByZXNwb25zZSA9PiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpKTtcblxuICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5KTtcbiAgfTtcblxuICB2bS5vbkdldERldmljZVN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICB2bS5jdXJyZW50RGV2aWNlID0gcmVzcG9uc2U7XG4gICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG4gICAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gcmVzcG9uc2UudGltZXpvbmU7XG4gICAgfVxuICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdm0udGVuYW50S2V5ID0gdm0uY3VycmVudERldmljZS50ZW5hbnRLZXk7XG4gICAgfVxuICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG4gICAgICB2bS5iYWNrVXJsID0gJy8jL2RldmljZXMnO1xuICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gZGV2aWNlcyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmlzVW5tYW5hZ2VkRGV2aWNlID09PSB0cnVlKSB7XG4gICAgICAgIHZtLmJhY2tVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vdW5tYW5hZ2VkYDtcbiAgICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZtLmJhY2tVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vbWFuYWdlZGA7XG4gICAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2bS5vbkdldERldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBmZXRjaCB0aGUgZGV0YWlscyBmb3IgdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgTm8gZGV0YWlsIGZvciBkZXZpY2Vfa2V5ICMke3ZtLmRldmljZUtleX0uIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWA7XG4gICAgJGxvZy5lcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcbiAgfTtcblxuICB2bS5vblJlc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jb250ZW50RGVsZXRlKHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblJlc2V0Q29udGVudFN1Y2Nlc3MsIHZtLm9uUmVzZXRDb250ZW50RmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25SZXNldENvbnRlbnRTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblJlc2V0Q29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBSZXNldCBjb250ZW50IGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblVwZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UuY29udGVudFVwZGF0ZSh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVDb250ZW50U3VjY2Vzcywgdm0ub25VcGRhdGVDb250ZW50RmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25VcGRhdGVDb250ZW50U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlQ29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBDb250ZW50IHVwZGF0ZSBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uUmVzZXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzZXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzZXRQbGF5ZXJTdWNjZXNzLCB2bS5vblJlc2V0UGxheWVyRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25SZXNldFBsYXllclN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciByZXNldCBwbGF5ZXIgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25SZXNldFBsYXllckZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBSZXNldCBwbGF5ZXIgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXNldCBwbGF5ZXIgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25QYW5lbE9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvd2VyT24odm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxPblN1Y2Nlc3MsIHZtLm9uUGFuZWxPbkZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPblN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblBhbmVsT25GYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgUGFuZWwgb24gY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblBhbmVsT2ZmID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvd2VyT2ZmKHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBhbmVsT2ZmU3VjY2Vzcywgdm0ub25QYW5lbE9mZkZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPZmZTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPZmZGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgUGFuZWwgb2ZmIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnVwZGF0ZURldmljZSh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVEZXZpY2VTdWNjZXNzLCB2bS5vblVwZGF0ZURldmljZUZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlRGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBkZXZpY2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25VcGRhdGVEZXZpY2VGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgVXBkYXRlIGRldmljZSBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHVwZGF0ZSBkZXZpY2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25Wb2x1bWVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2Uudm9sdW1lKHZtLmRldmljZUtleSwgdm0uY3VycmVudERldmljZS52b2x1bWUpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Wb2x1bWVDaGFuZ2VTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2Uudm9sdW1lKSwgdm0ub25Wb2x1bWVDaGFuZ2VGYWlsdXJlKTtcbiAgfTtcblxuICB2bS5vblZvbHVtZUNoYW5nZVN1Y2Nlc3MgPSBmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChgV2UgcG9zdGVkIHlvdXIgdm9sdW1lIGNoYW5nZSBjb21tYW5kIG9mICR7bGV2ZWx9IGludG8gdGhlIHBsYXllcidzIHF1ZXVlLmApO1xuICB9O1xuXG4gIHZtLm9uVm9sdW1lQ2hhbmdlRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFZvbHVtZSBjaGFuZ2UgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uQ3VzdG9tQ29tbWFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jdXN0b20odm0uZGV2aWNlS2V5LCB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vbkN1c3RvbUNvbW1hbmRTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tKSwgdm0ub25DdXN0b21Db21tYW5kRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25DdXN0b21Db21tYW5kU3VjY2VzcyA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoYFdlIHBvc3RlZCB5b3VyIGN1c3RvbSBjb21tYW5kICcke2NvbW1hbmR9JyBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5gKTtcbiAgfTtcblxuICB2bS5vbkN1c3RvbUNvbW1hbmRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgQ3VzdG9tIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgY3VzdG9tIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uRGlhZ25vc3RpY3NUb2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UudG9nZ2xlRGlhZ25vc3RpY3Modm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NTdWNjZXNzLCB2bS5vblRvZ2dsZURpYWdub3N0aWNzRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgRGlhZ25vc3RpY3MgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBkaWFnbm9zdGljcyBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLFxuICAgICAgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25SZXN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnJlc3RhcnQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzdGFydFN1Y2Nlc3MsIHZtLm9uUmVzdGFydEZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUmVzdGFydFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc3RhcnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25SZXN0YXJ0RmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFJlc3RhcnQgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXN0YXJ0IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsXG4gICAgICAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblBvc3RMb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucG9zdExvZyh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Qb3N0TG9nU3VjY2Vzcywgdm0ub25Qb3N0TG9nRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Qb3N0TG9nU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25Qb3N0TG9nRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFBvc3QgbG9nIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIixcbiAgICAgICdlcnJvcicpO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2RldmljZS9kZXZpY2UtZGV0YWlsLWNvbW1hbmQuanNcbiAqKi8iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmZ1bmN0aW9uIERldmljZURldGFpbHNDdHJsKCRsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBDb21tYW5kc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBUaW1lem9uZXNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgSW50ZWdyYXRpb25FdmVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICRtZERpYWxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0c1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICB2bS5kZXZpY2VLZXkgPSAkc3RhdGVQYXJhbXMuZGV2aWNlS2V5O1xuICB2bS5mcm9tRGV2aWNlcyA9ICRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCI7XG4gIHZtLmN1cnJlbnREZXZpY2UgPSB7fTtcbiAgdm0ubG9jYXRpb25zID0gW107XG4gIHZtLmNvbW1hbmRFdmVudHMgPSBbXTtcbiAgdm0uZGF5UmFuZ2UgPSAzMDtcbiAgdm0uaXNzdWVzID0gW107XG4gIHZtLnRpbWV6b25lcyA9IFtdO1xuICB2bS5zZWxlY3RlZFRpbWV6b25lID0gdW5kZWZpbmVkO1xuICBbdm0uc3RhcnRUaW1lLCB2bS5lbmRUaW1lXSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmNyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheSgzMCk7XG4gIHZtLmVucm9sbG1lbnRFdmVudHMgPSBbXTtcblxuICB2bS5yZXBsYWNlSXNzdWVUaW1lID0gZnVuY3Rpb24gKGlzc3Vlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXNzdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGlzc3Vlc1tpXTtcbiAgICAgIGlmIChlYWNoLmNyZWF0ZWQpIHtcbiAgICAgICAgZWFjaC5jcmVhdGVkID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC5jcmVhdGVkKTtcbiAgICAgIH1cbiAgICAgIGlmIChlYWNoLnVwZGF0ZWQpIHtcbiAgICAgICAgZWFjaC51cGRhdGVkID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC51cGRhdGVkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9O1xuXG4gIHZtLnJlcGxhY2VDb21tYW5kVGltZSA9IGZ1bmN0aW9uIChpc3N1ZXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlzc3Vlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSBpc3N1ZXNbaV07XG4gICAgICBpZiAoZWFjaC5wb3N0ZWRUaW1lKSB7XG4gICAgICAgIGVhY2gucG9zdGVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gucG9zdGVkVGltZSk7XG4gICAgICB9XG4gICAgICBpZiAoZWFjaC5jb25maXJtZWRUaW1lKSB7XG4gICAgICAgIGVhY2guY29uZmlybWVkVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2guY29uZmlybWVkVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfTtcblxuICB2bS5jb3B5RGV2aWNlS2V5ID0gKCkgPT4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdEZXZpY2Uga2V5IGNvcGllZCB0byB5b3VyIGNsaXBib2FyZCcpO1xuXG4gIHZtLmNvcHlDb3JyZWxhdGlvbklkZW50aWZpZXIgPSAoKSA9PiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ0NvcnJlbGF0aW9uIElEIGNvcGllZCB0byB5b3VyIGNsaXBib2FyZCcpO1xuXG4gIC8vIGV2ZW50IHRhYlxuICB2bS5nZXRJc3N1ZXMgPSBmdW5jdGlvbiAoZGV2aWNlLCBlcG9jaFN0YXJ0LCBlcG9jaEVuZCwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBpc3N1ZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0SXNzdWVzQnlLZXkoZGV2aWNlLCBlcG9jaFN0YXJ0LCBlcG9jaEVuZCwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIGlzc3Vlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG4gICAgICB2bS5pc3N1ZXMgPSBkYXRhLmlzc3VlcztcbiAgICAgIHZtLnByZXZfY3Vyc29yID0gZGF0YS5wcmV2O1xuICAgICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gY29tbWFuZCBoaXN0b3J5IHRhYlxuICB2bS5nZXRFdmVudHMgPSBmdW5jdGlvbiAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGNvbW1hbmRFdmVudHNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0Q29tbWFuZEV2ZW50c0J5S2V5KGRldmljZUtleSwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIGNvbW1hbmRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLnJlcGxhY2VDb21tYW5kVGltZShkYXRhLmV2ZW50cyk7XG4gICAgICB2bS5ldmVudF9uZXh0X2N1cnNvciA9IGRhdGEubmV4dF9jdXJzb3I7XG4gICAgICB2bS5ldmVudF9wcmV2X2N1cnNvciA9IGRhdGEucHJldl9jdXJzb3I7XG4gICAgICB2bS5jb21tYW5kRXZlbnRzID0gZGF0YS5ldmVudHM7XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gZW5yb2xsbWVudCB0YWJcbiAgdm0uZ2V0RW5yb2xsbWVudEV2ZW50cyA9IGZ1bmN0aW9uIChkZXZpY2VLZXkpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgY29tbWFuZEV2ZW50c1Byb21pc2UgPSBJbnRlZ3JhdGlvbkV2ZW50cy5nZXRFbnJvbGxtZW50RXZlbnRzKGRldmljZUtleSk7XG4gICAgcmV0dXJuIGNvbW1hbmRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmVucm9sbG1lbnRFdmVudHMgPSBkYXRhO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG4gICAgaWYgKGZvcndhcmQpIHtcbiAgICAgIHJldHVybiB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgbnVsbCwgdm0ubmV4dF9jdXJzb3IpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgdm0ucHJldl9jdXJzb3IsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5wYWdpbmF0ZUV2ZW50Q2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG4gICAgaWYgKGZvcndhcmQpIHtcbiAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCBudWxsLCB2bS5ldmVudF9uZXh0X2N1cnNvcik7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIHZtLmV2ZW50X3ByZXZfY3Vyc29yLCBudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5lcG9jaFN0YXJ0ID0gbW9tZW50KHZtLnN0YXJ0VGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcbiAgICB2bS5lcG9jaEVuZCA9IG1vbWVudCh2bS5lbmRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuXG4gICAgbGV0IHRpbWV6b25lUHJvbWlzZSA9IFRpbWV6b25lc1NlcnZpY2UuZ2V0Q3VzdG9tVGltZXpvbmVzKCk7XG4gICAgdGltZXpvbmVQcm9taXNlLnRoZW4oZGF0YSA9PiB2bS50aW1lem9uZXMgPSBkYXRhKTtcblxuICAgIHZtLnBhbmVsTW9kZWxzID0gRGV2aWNlc1NlcnZpY2UuZ2V0UGFuZWxNb2RlbHMoKTtcbiAgICB2bS5wYW5lbElucHV0cyA9IERldmljZXNTZXJ2aWNlLmdldFBhbmVsSW5wdXRzKCk7XG5cbiAgICBsZXQgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG4gICAgZGV2aWNlUHJvbWlzZS50aGVuKChyZXNwb25zZSA9PiB2bS5vbkdldERldmljZVN1Y2Nlc3MocmVzcG9uc2UpKSwgcmVzcG9uc2UgPT4gdm0ub25HZXREZXZpY2VGYWlsdXJlKHJlc3BvbnNlKSk7XG5cbiAgICB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5KTtcbiAgICB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCk7XG4gICAgcmV0dXJuIHZtLmdldEVucm9sbG1lbnRFdmVudHModm0uZGV2aWNlS2V5KTtcbiAgfTtcblxuICB2bS5vbkdldERldmljZVN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICB2bS5jdXJyZW50RGV2aWNlID0gcmVzcG9uc2U7XG4gICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG4gICAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gcmVzcG9uc2UudGltZXpvbmU7XG4gICAgfVxuICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdm0udGVuYW50S2V5ID0gdm0uY3VycmVudERldmljZS50ZW5hbnRLZXk7XG4gICAgfVxuICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG4gICAgICB2bS5iYWNrVXJsID0gJy8jL2RldmljZXMnO1xuICAgICAgdm0uYmFja1VybFRleHQgPSAnQmFjayB0byBkZXZpY2VzJztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UuaXNVbm1hbmFnZWREZXZpY2UgPT09IHRydWUpIHtcbiAgICAgICAgdm0uYmFja1VybCA9IGAvIy90ZW5hbnRzLyR7dm0udGVuYW50S2V5fS91bm1hbmFnZWRgO1xuICAgICAgICB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCB1bm1hbmFnZWQgZGV2aWNlcyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bS5iYWNrVXJsID0gYC8jL3RlbmFudHMvJHt2bS50ZW5hbnRLZXl9L21hbmFnZWRgO1xuICAgICAgICB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbG9jYXRpb25zUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXkodm0udGVuYW50S2V5KTtcbiAgICByZXR1cm4gbG9jYXRpb25zUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5sb2NhdGlvbnMgPSBkYXRhO1xuICAgICAgcmV0dXJuIHZtLnNldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLm9uR2V0RGV2aWNlRmFpbHVyZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIGZldGNoIHRoZSBkZXRhaWxzIGZvciB0aGlzIGRldmljZSBhdCB0aGlzIHRpbWUuJyk7XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IGBObyBkZXRhaWwgZm9yIGRldmljZV9rZXkgIyR7dm0uZGV2aWNlS2V5fS4gRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YDtcbiAgICAkbG9nLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgcmV0dXJuICRzdGF0ZS5nbygnZGV2aWNlcycpO1xuICB9O1xuXG4gIHZtLnNldFNlbGVjdGVkT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsID09PSBudWxsKSB7XG4gICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPSB2bS5wYW5lbE1vZGVsc1swXTtcbiAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dCA9IHZtLnBhbmVsSW5wdXRzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZtLnBhbmVsTW9kZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBwYW5lbE1vZGVsID0gdm0ucGFuZWxNb2RlbHNbaV07XG4gICAgICAgIGlmIChwYW5lbE1vZGVsLmlkID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwpIHtcbiAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPSBwYW5lbE1vZGVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZtLnBhbmVsSW5wdXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBwYW5lbElucHV0ID0gdm0ucGFuZWxJbnB1dHNbal07XG4gICAgICAgIGxldCBpc1BhcmVudCA9IHBhbmVsSW5wdXQucGFyZW50SWQgPT09IHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZDtcbiAgICAgICAgaWYgKGlzUGFyZW50ICYmIHBhbmVsSW5wdXQuaWQudG9Mb3dlckNhc2UoKSA9PT0gdm0uY3VycmVudERldmljZS5wYW5lbElucHV0KSB7XG4gICAgICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbElucHV0ID0gcGFuZWxJbnB1dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSAhPT0gbnVsbCkge1xuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB2bS5sb2NhdGlvbnMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgbGV0IGxvY2F0aW9uID0gdm0ubG9jYXRpb25zW2tdO1xuICAgICAgICBpZiAobG9jYXRpb24ua2V5ID09PSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5KSB7XG4gICAgICAgICAgdm0uY3VycmVudERldmljZS5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIC8vIyMjIyMjIyMjIyMjIyMjIyMjIyNcbiAgLy8gUHJvcGVydGllcyBUYWJcbiAgLy8jIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4gIHZtLm9uU2F2ZURldmljZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBpZiAodm0uY3VycmVudERldmljZS5sb2NhdGlvbiAhPT0gdW5kZWZpbmVkICYmIHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24ua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkgPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uLmtleTtcbiAgICB9XG4gICAgaWYgKHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZCAhPT0gdW5kZWZpbmVkICYmIHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZCAhPT0gJ05vbmUnKSB7XG4gICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWxOdW1iZXIgPSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQ7XG4gICAgfVxuICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQuaWQgIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQuaWQgIT09ICdOb25lJykge1xuICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbFNlcmlhbElucHV0ID0gdm0uY3VycmVudERldmljZS5wYW5lbElucHV0LmlkLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHZtLmN1cnJlbnREZXZpY2UudGltZXpvbmUgPSB2bS5zZWxlY3RlZFRpbWV6b25lO1xuICAgIGxldCBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RGV2aWNlKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc0RldmljZVNhdmUsIHZtLm9uRmFpbHVyZURldmljZVNhdmUpO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc0RldmljZVNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlRGV2aWNlU2F2ZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgJGxvZy5pbmZvKFxuICAgICAgICBgRmFpbHVyZSBzYXZpbmcgZGV2aWNlLiBDdXN0b21lciBkaXNwbGF5IGNvZGUgYWxyZWFkeSBleGlzdHMgZm9yIHRlbmFudDogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUaGlzIGN1c3RvbWVyIGRpc3BsYXkgY29kZSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhpcyB0ZW5hbnQuIFBsZWFzZSBjaG9vc2UgYW5vdGhlci4nLCAnZXJyb3InKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGxvZy5lcnJvcihgRmFpbHVyZSBzYXZpbmcgZGV2aWNlOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBzYXZlIHlvdXIgdXBkYXRlcyB0byB0aGlzIGRldmljZSBhdCB0aGlzIHRpbWUuJyk7XG4gICAgfVxuICB9O1xuXG4gIHZtLm9uUGFuZWxTbGVlcCA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucGFuZWxTbGVlcCh2bS5kZXZpY2VLZXksIGNvbW1hbmQpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25QYW5lbFNsZWVwU3VjY2Vzcywgdm0ub25QYW5lbFNsZWVwRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25QYW5lbFNsZWVwU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgdG9nZ2xlZCB0aGUgcGFuZWwgc2xlZXAgYXR0cmlidXRlLiBUaGUgcGxheWVyIHNob3VsZCBhZGp1c3QgdG8gdGhlc2UgY2hhbmdlcyB3aXRoaW4gMTUgbWludXRlcy5cIik7XG4gIH07XG5cbiAgdm0ub25QYW5lbFNsZWVwRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byB0b2dnbGUgdGhlIHBhbmVsIHNsZWVwIGF0dHJpYnV0ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0uY29uZmlybURldmljZURlbGV0ZSA9IGZ1bmN0aW9uIChldmVudCwga2V5KSB7XG4gICAgbGV0IGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybShcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmUgdG8gZGVsZXRlIHRoaXMgZGV2aWNlPycsXG4gICAgICAgIHRleHRDb250ZW50OiAnUGxlYXNlIHJlbWVtYmVyLCB5b3UgTVVTVCByZW1vdmUgdGhpcyBkZXZpY2UgZnJvbSBDb250ZW50IE1hbmFnZXIgYmVmb3JlIGRlbGV0aW5nIGl0IGZyb20gUHJvdmlzaW9uaW5nLicsXG4gICAgICAgIHRhcmdldEV2ZW50OiBldmVudCxcbiAgICAgICAgb2s6ICdEZWxldGUnLFxuICAgICAgICBjYW5jZWw6ICdDYW5jZWwnXG4gICAgICB9XG4gICAgKTtcbiAgICBsZXQgc2hvd1Byb21pc2UgPSAkbWREaWFsb2cuc2hvdyhjb25maXJtKTtcbiAgICBsZXQgc3VjY2VzcyA9ICgpID0+IHZtLm9uQ29uZmlybURlbGV0ZShrZXkpO1xuICAgIGxldCBmYWlsdXJlID0gKCkgPT4gdm0ub25Db25maXJtQ2FuY2VsKCk7XG4gICAgcmV0dXJuIHNob3dQcm9taXNlLnRoZW4oc3VjY2VzcywgZmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Db25maXJtRGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgIGxldCBzdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBwcm9jZXNzZWQgeW91ciBkZWxldGUgcmVxdWVzdC4nKTtcbiAgICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcbiAgICB9O1xuICAgIGxldCBmYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBsZXQgZnJpZW5kbHlNZXNzYWdlID0gJ1dlIHdlcmUgdW5hYmxlIHRvIGNvbXBsZXRlIHlvdXIgZGVsZXRlIHJlcXVlc3QgYXQgdGhpcyB0aW1lLic7XG4gICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGZyaWVuZGx5TWVzc2FnZSk7XG4gICAgICByZXR1cm4gJGxvZy5lcnJvcihgRGVsZXRlIGRldmljZSBmYWlsdXJlIGZvciBkZXZpY2Vfa2V5ICR7a2V5fTogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgfTtcbiAgICBsZXQgZGVsZXRlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmRlbGV0ZShrZXkpO1xuICAgIHJldHVybiBkZWxldGVQcm9taXNlLnRoZW4oc3VjY2VzcywgZmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Db25maXJtQ2FuY2VsID0gKCkgPT4gVG9hc3RzU2VydmljZS5zaG93SW5mb1RvYXN0KCdXZSBjYW5jZWxlZCB5b3VyIGRlbGV0ZSByZXF1ZXN0LicpO1xuXG4gIHZtLm9uUHJvb2ZPZlBsYXlMb2dnaW5nQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmN1cnJlbnREZXZpY2UucHJvb2ZPZlBsYXlMb2dnaW5nKSB7XG4gICAgICBsZXQgbm9Mb2NhdGlvbiA9IHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkgPT09IG51bGw7XG4gICAgICBsZXQgbm9EaXNwbGF5Q29kZSA9IHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5Q29kZSA9PT0gbnVsbDtcbiAgICAgIGlmIChub0xvY2F0aW9uKSB7XG4gICAgICAgIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIllvdSBtdXN0IGhhdmUgYSBMb2NhdGlvbiB0byBlbmFibGUgUHJvb2Ygb2YgcGxheS5cIiwgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybiB2bS5jdXJyZW50RGV2aWNlLnByb29mT2ZQbGF5TG9nZ2luZyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChub0Rpc3BsYXlDb2RlKSB7XG4gICAgICAgIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIllvdSBtdXN0IGhhdmUgYSBEaXNwbGF5IGNvZGUgdG8gZW5hYmxlIFByb29mIG9mIHBsYXkuXCIsICdlcnJvcicpO1xuICAgICAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2bS5vblNhdmVEZXZpY2UoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLm9uU2F2ZURldmljZSgpO1xuICAgIH1cbiAgfTtcblxuICB2bS5vblVwZGF0ZUxvY2F0aW9uID0gKCkgPT4gdm0ub25TYXZlRGV2aWNlKCk7XG5cbiAgdm0uYXV0b0dlbmVyYXRlQ3VzdG9tZXJEaXNwbGF5Q29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgbmV3RGlzcGxheUNvZGUgPSAnJztcbiAgICBpZiAodm0uY3VycmVudERldmljZS5jdXN0b21lckRpc3BsYXlOYW1lKSB7XG4gICAgICBuZXdEaXNwbGF5Q29kZSA9IHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgbmV3RGlzcGxheUNvZGUgPSBuZXdEaXNwbGF5Q29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG4gICAgICBuZXdEaXNwbGF5Q29kZSA9IG5ld0Rpc3BsYXlDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuICAgIH1cbiAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5jdXN0b21lckRpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGU7XG4gIH07XG5cbiAgdm0ubG9nZ2x5Rm9yVXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgdXNlckRvbWFpbiA9IFNlc3Npb25zU2VydmljZS5nZXRVc2VyRW1haWwoKS5zcGxpdChcIkBcIilbMV07XG4gICAgcmV0dXJuIHVzZXJEb21haW4gPT09IFwiZGVtby5hZ29zdG8uY29tXCIgfHwgdXNlckRvbWFpbiA9PT0gXCJhZ29zdG8uY29tXCI7XG4gIH07XG5cbiAgdm0ub25DbGlja1JlZnJlc2hCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgdm0uc3RhcnRUaW1lID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KHZtLnN0YXJ0VGltZSk7XG4gICAgdm0uZW5kVGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmNvbnZlcnRUb01vbWVudElmTm90QWxyZWFkeSh2bS5lbmRUaW1lKTtcbiAgICB2bS5lcG9jaFN0YXJ0ID0gbW9tZW50KHZtLnN0YXJ0VGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcbiAgICB2bS5lcG9jaEVuZCA9IG1vbWVudCh2bS5lbmRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuICAgIHZtLnByZXZfY3Vyc29yID0gbnVsbDtcbiAgICB2bS5uZXh0X2N1cnNvciA9IG51bGw7XG4gICAgbGV0IGlzc3Vlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRJc3N1ZXNCeUtleSh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kLCB2bS5wcmV2X2N1cnNvciwgdm0ubmV4dF9jdXJzb3IpO1xuICAgIHJldHVybiBpc3N1ZXNQcm9taXNlLnRoZW4oKGRhdGEgPT4gdm0ub25SZWZyZXNoSXNzdWVzU3VjY2VzcyhkYXRhKSksIGVycm9yID0+IHZtLm9uUmVmcmVzaElzc3Vlc0ZhaWx1cmUoZXJyb3IpKTtcbiAgfTtcblxuICB2bS5vblJlZnJlc2hJc3N1ZXNTdWNjZXNzID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2bS5yZXBsYWNlSXNzdWVUaW1lKGRhdGEuaXNzdWVzKTtcbiAgICB2bS5pc3N1ZXMgPSBkYXRhLmlzc3VlcztcbiAgICB2bS5wcmV2X2N1cnNvciA9IGRhdGEucHJldjtcbiAgICB2bS5uZXh0X2N1cnNvciA9IGRhdGEubmV4dDtcbiAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gIH07XG5cbiAgdm0ub25SZWZyZXNoSXNzdWVzRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0luZm9Ub2FzdCgnV2Ugd2VyZSB1bmFibGUgdG8gcmVmcmVzaCB0aGUgZGV2aWNlIGlzc3VlcyBsaXN0IGF0IHRoaXMgdGltZS4nKTtcbiAgICByZXR1cm4gJGxvZy5lcnJvcihgRmFpbHVyZSB0byByZWZyZXNoIGRldmljZSBpc3N1ZXM6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEZXZpY2VEZXRhaWxzQ3RybH1cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2RldmljZS9kZXZpY2UtZGV0YWlscy5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gRGV2aWNlc0xpc3RpbmdDdHJsKCRzdGF0ZVBhcmFtcywgJGxvZywgRGV2aWNlc1NlcnZpY2UsICRzdGF0ZSwgU2Vzc2lvbnNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsIHN3ZWV0KSB7XG4gIFwibmdJbmplY3RcIjtcbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uZGlzdHJpYnV0b3JLZXkgPSB1bmRlZmluZWQ7XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gTWFuYWdlZFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLmRldmljZXMgPSBbXTtcbiAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gIHZtLnNlbGVjdGVkQnV0dG9uID0gXCJTZXJpYWwgTnVtYmVyXCI7XG4gIHZtLnNlcmlhbERldmljZXMgPSB7fTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5tYWNEZXZpY2VzID0ge307XG4gIHZtLmdjbWlkRGV2aWNlcyA9IHt9O1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gVW5tYW5hZ2VkXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPSBcIk1BQ1wiO1xuICB2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzID0ge307XG4gIHZtLnVubWFuYWdlZERpc2FibGVkID0gdHJ1ZTtcbiAgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYgPSBudWxsO1xuICB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCA9IG51bGw7XG4gIHZtLnVubWFuYWdlZERldmljZXMgPSBbXTtcbiAgdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IHt9O1xuICB2bS51bm1hbmFnZWRHQ01pZERldmljZXMgPSB7fTtcblxuICB2bS5yZWZyZXNoTWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuICAgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcbiAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG4gIH07XG5cbiAgdm0ucmVmcmVzaFVubWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYgPSBudWxsO1xuICAgIHZtLnVubWFuYWdlZERldmljZXNOZXh0ID0gbnVsbDtcbiAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcbiAgfTtcblxuICB2bS5jaGFuZ2VSYWRpbyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQpIHtcbiAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICB2bS51bm1hbmFnZWRTZWFyY2hUZXh0ID0gJyc7XG4gICAgICB2bS51bm1hbmFnZWREaXNhYmxlZCA9IHRydWU7XG4gICAgICB2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzID0ge307XG4gICAgICByZXR1cm4gdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IHt9O1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcbiAgICAgIHJldHVybiB2bS5tYWNEZXZpY2VzID0ge307XG4gICAgfVxuICB9O1xuXG4gIHZtLmVkaXRJdGVtID0gKGl0ZW0pID0+IERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKGl0ZW0sIHRydWUpXG5cbiAgdm0ucHJlcGFyZUZvckVkaXRWaWV3ID0gZnVuY3Rpb24gKHVubWFuYWdlZCwgc2VhcmNoVGV4dCkge1xuICAgIGxldCBtYWMsIHNlcmlhbCwgZ2NtaWQ7XG4gICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgbWFjID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPT09IFwiTUFDXCI7XG4gICAgICBzZXJpYWwgPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG4gICAgICBnY21pZCA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID09PSBcIkdDTSBJRFwiXG4gICAgICBpZiAobWFjKSB7XG4gICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS51bm1hbmFnZWRNYWNEZXZpY2VzW3NlYXJjaFRleHRdKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG4gICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzW3NlYXJjaFRleHRdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS51bm1hbmFnZWRHQ01pZERldmljZXNbc2VhcmNoVGV4dF0pXG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgbWFjID0gdm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiTUFDXCI7XG4gICAgICBzZXJpYWwgPSB2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG4gICAgICBnY21pZCA9IHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIkdDTSBJRFwiXG4gICAgICBpZiAobWFjKSB7XG4gICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS5tYWNEZXZpY2VzW3NlYXJjaFRleHRdKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG4gICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS5zZXJpYWxEZXZpY2VzW3NlYXJjaFRleHRdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS5nY21pZERldmljZXNbc2VhcmNoVGV4dF0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIGlzTWF0Y2gpIHtcbiAgICBpZiAoIXVubWFuYWdlZCkge1xuICAgICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZEJ1dHRvbkxvYWRpbmcgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSAhaXNNYXRjaDtcbiAgICAgIHJldHVybiB2bS51bm1hbmFnZWREaXNhYmxlZEJ1dHRvbkxvYWRpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cblxuICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCByZXNvdXJjZSkge1xuICAgIGxldCBieVRlbmFudCA9IGZhbHNlO1xuICAgIGxldCB0ZW5hbnRLZXkgPSBudWxsO1xuICAgIGxldCBidXR0b247XG5cbiAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICBidXR0b24gPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG4gICAgfVxuXG5cbiAgICBEZXZpY2VzU2VydmljZS5pc1Jlc291cmNlVmFsaWQocmVzb3VyY2UsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZClcbiAgICAgIC50aGVuKHJlcyA9PiB2bS5jb250cm9sT3BlbkJ1dHRvbih1bm1hbmFnZWQsIHJlc1tcImlzX21hdGNoXCJdKSk7XG4gIH07XG5cblxuICB2bS5zZWFyY2hEZXZpY2VzID0gZnVuY3Rpb24gKHVubWFuYWdlZCwgcGFydGlhbCkge1xuICAgIGxldCBidXR0b247XG4gICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgYnV0dG9uID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b247XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbiA9IHZtLnNlbGVjdGVkQnV0dG9uO1xuICAgIH1cblxuICAgIGxldCBieVRlbmFudCA9IGZhbHNlO1xuICAgIGxldCB0ZW5hbnRLZXkgPSBudWxsO1xuXG4gICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnNlYXJjaERldmljZXMocGFydGlhbCwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgbGV0IGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuICAgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG4gICAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICAgICAgICAgIHZtLnVubWFuYWdlZFNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRldmljZXNbMF1cbiAgICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PT0gXCJNQUNcIikge1xuICAgICAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgICAgICAgICB2bS51bm1hbmFnZWRNYWNEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICAgICAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRldmljZXNbMF1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH07XG5cbiAgdm0uZ2V0TWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAoa2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3Ioa2V5LCBwcmV2LCBuZXh0KTtcbiAgICByZXR1cm4gZGV2aWNlc1Byb21pc2UudGhlbigoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICB2bS5kZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcbiAgICAgIHZtLmRldmljZXNOZXh0ID0gcmVzcG9uc2UubmV4dF9jdXJzb3I7XG4gICAgICB2bS5kZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuICAgICAgcmV0dXJuIHZtLmdldEZldGNoU3VjY2VzcygpO1xuICAgIH0pLCByZXNwb25zZSA9PiB2bS5nZXRGZXRjaEZhaWx1cmUocmVzcG9uc2UpKTtcbiAgfTtcblxuICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKGtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCB1bm1hbmFnZWREZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldFVubWFuYWdlZERldmljZXNCeURpc3RyaWJ1dG9yKGtleSwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIHVubWFuYWdlZERldmljZXNQcm9taXNlLnRoZW4oKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG4gICAgICB2bS51bm1hbmFnZWREZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSByZXNwb25zZS5uZXh0X2N1cnNvcjtcbiAgICAgIHJldHVybiB2bS5nZXRGZXRjaFN1Y2Nlc3MoKTtcbiAgICB9KSwgcmVzcG9uc2UgPT4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKSk7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5kaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcbiAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcbiAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcbiAgfTtcblxuICB2bS5nZXRGZXRjaFN1Y2Nlc3MgPSAoKSA9PiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblxuICB2bS5nZXRGZXRjaEZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gYFVuYWJsZSB0byBmZXRjaCBkZXZpY2VzLiBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0uYDtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG4gIH07XG5cblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCwgbWFuYWdlZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICBpZiAobWFuYWdlZCkge1xuICAgICAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgbnVsbCwgdm0uZGV2aWNlc05leHQpO1xuICAgICAgfVxuICAgICAgaWYgKCFtYW5hZ2VkKSB7XG4gICAgICAgIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIG51bGwsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFmb3J3YXJkKSB7XG4gICAgICBpZiAobWFuYWdlZCkge1xuICAgICAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0uZGV2aWNlc1ByZXYsIG51bGwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW1hbmFnZWQpIHtcbiAgICAgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCBudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtEZXZpY2VzTGlzdGluZ0N0cmx9XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9kZXZpY2UvZGV2aWNlcy1saXN0aW5nLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBBZG1pbkN0cmwoQWRtaW5TZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgIFNlc3Npb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICRtZERpYWxvZyxcbiAgICAgICAgICAgICAgICAgICBEaXN0cmlidXRvcnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuXG4gIHZtLmdldEFsbERpc3RyaWJ1dG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5sb2FkaW5nQWxsRGlzdHJpYnV0b3JzID0gdHJ1ZTtcbiAgICBsZXQgZ2V0QWxsRGlzdHJpYnV0b3JzUHJvbWlzZSA9IEFkbWluU2VydmljZS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcbiAgICByZXR1cm4gZ2V0QWxsRGlzdHJpYnV0b3JzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5sb2FkaW5nQWxsRGlzdHJpYnV0b3JzID0gZmFsc2U7XG4gICAgICByZXR1cm4gdm0uYWxsRGlzdHJpYnV0b3JzID0gZGF0YTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5hZGRVc2VyVG9EaXN0cmlidXRvciA9IGZ1bmN0aW9uIChldiwgdXNlckVtYWlsLCBkaXN0cmlidXRvckFkbWluLCB3aGljaERpc3RyaWJ1dG9yLCBmb3JtKSB7XG4gICAgaWYgKCFkaXN0cmlidXRvckFkbWluKSB7XG4gICAgICBkaXN0cmlidXRvckFkbWluID0gZmFsc2U7XG4gICAgfVxuICAgIGxldCB3aXRoT3JXaXRob3V0ID0gZGlzdHJpYnV0b3JBZG1pbiA/IFwid2l0aFwiIDogXCJ3aXRob3V0XCI7XG5cbiAgICAvLyBubyBvcHRpb24gdG8gc2VsZWN0IGRpc3RyaWJ1dG9yIGlzIGdpdmVuIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgb3B0aW9uXG4gICAgaWYgKCF3aGljaERpc3RyaWJ1dG9yKSB7XG4gICAgICB3aGljaERpc3RyaWJ1dG9yID0gdm0uZGlzdHJpYnV0b3JzQXNBZG1pblswXTtcbiAgICB9XG5cbiAgICBsZXQgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKFxuICAgICAge1xuICAgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLFxuICAgICAgICB0ZXh0Q29udGVudDogYCR7dXNlckVtYWlsfSB3aWxsIGJlIGFkZGVkIHRvICR7d2hpY2hEaXN0cmlidXRvcn1cbiAgICAgICAgJHt3aXRoT3JXaXRob3V0fSBhZG1pbmlzdHJhdG9yIHByaXZpbGVnZXNgLFxuICAgICAgICB0YXJnZXRFdmVudDogZXYsXG4gICAgICAgIG9rOiAnT2YgY291cnNlIScsXG4gICAgICAgIGNhbmNlbDogJ09vcHMsIG5ldmVybWluZC4nXG4gICAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBhZGRVc2VyVG9EaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UuYWRkVXNlclRvRGlzdHJpYnV0b3IodXNlckVtYWlsLCB3aGljaERpc3RyaWJ1dG9yLCBkaXN0cmlidXRvckFkbWluKTtcbiAgICAgIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICB2bS51c2VyID0ge307XG4gICAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XG4gICAgICAgIGZvcm0uJHNldFVudG91Y2hlZCgpO1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKCkgPT4gdm0uZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKCkpLCAyMDAwKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlLmNhdGNoKGRhdGEgPT4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChkYXRhLmRhdGEubWVzc2FnZSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLm1ha2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uIChldiwgZGlzdHJpYnV0b3JOYW1lLCBhZG1pbkVtYWlsLCBmb3JtKSB7XG4gICAgbGV0IGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybShcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JyxcbiAgICAgICAgdGV4dENvbnRlbnQ6IGBJZiB5b3UgcHJvY2VlZCwgJHtkaXN0cmlidXRvck5hbWV9IHdpbGwgYmUgY3JlYXRlZC5gLFxuICAgICAgICB0YXJnZXRFdmVudDogZXYsXG4gICAgICAgIGFyaWFMYWJlbDogJ0x1Y2t5IGRheScsXG4gICAgICAgIG9rOiAnWWVhaCEnLFxuICAgICAgICBjYW5jZWw6ICdGb3JnZXQgaXQuJ1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oKGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBtYWtlRGlzdHJpYnV0b3JQcm9taXNlID0gQWRtaW5TZXJ2aWNlLm1ha2VEaXN0cmlidXRvcihkaXN0cmlidXRvck5hbWUsIGFkbWluRW1haWwpO1xuICAgICAgbWFrZURpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZtLmRpc3RyaWJ1dG9yID0ge307XG4gICAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XG4gICAgICAgIGZvcm0uJHNldFVudG91Y2hlZCgpO1xuICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKCgpID0+IHZtLmFsbERpc3RyaWJ1dG9ycyA9IHZtLmdldEFsbERpc3RyaWJ1dG9ycygpKSwgMjAwMCk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG1ha2VEaXN0cmlidXRvclByb21pc2UuY2F0Y2goZGF0YSA9PiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGRhdGEuZGF0YS5tZXNzYWdlKSk7XG4gICAgfSkpO1xuICB9O1xuXG4gIHZtLmdldFVzZXJzT2ZEaXN0cmlidXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5sb2FkaW5nVXNlcnNPZkRpc3RyaWJ1dG9yID0gdHJ1ZTtcbiAgICBsZXQgY3VycmVudERpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuICAgIGxldCB1c2Vyc29mRGlzdHJpYnV0b3JQcm9taXNlID0gQWRtaW5TZXJ2aWNlLmdldFVzZXJzT2ZEaXN0cmlidXRvcihjdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuICAgIHJldHVybiB1c2Vyc29mRGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmxvYWRpbmdVc2Vyc09mRGlzdHJpYnV0b3IgPSBmYWxzZTtcbiAgICAgIHJldHVybiB2bS51c2Vyc09mRGlzdHJpYnV0b3IgPSBkYXRhO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLnN3aXRjaERpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGRpc3RyaWJ1dG9yKSB7XG4gICAgRGlzdHJpYnV0b3JzU2VydmljZS5zd2l0Y2hEaXN0cmlidXRvcihkaXN0cmlidXRvcik7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChgRGlzdHJpYnV0b3IgJHtkaXN0cmlidXRvci5uYW1lfSBzZWxlY3RlZCFgKTtcbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmdldFVzZXJzT2ZEaXN0cmlidXRvcigpO1xuICAgIHZtLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuICAgIHZtLmlzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0SXNBZG1pbigpO1xuICAgIHZtLmRpc3RyaWJ1dG9yc0FzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuICAgIHZtLmN1cnJlbnREaXN0cmlidXRvck5hbWUgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpO1xuXG4gICAgaWYgKHZtLmlzQWRtaW4pIHtcbiAgICAgIHJldHVybiB2bS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0FkbWluQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9hZG1pbi9hZG1pbi1jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gQXV0aGVudGljYXRpb25DdHJsKCRzY29wZSwgJGxvZywgJHN0YXRlLCAkdGltZW91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb29mUGxheVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGV2aWNlc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGVuYW50c1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG5cbiAgdm0ub25Hb29nbGVQbHVzU2lnbkluU3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCwgYXV0aFJlc3VsdCkge1xuICAgIGlmICghdm0uZ29vZ2xlUGx1c1NpZ25JbkJ1dHRvbkNsaWNrZWQpIHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIH1cbiAgICBTZXNzaW9uc1NlcnZpY2UucmVtb3ZlVXNlckluZm8oKVxuICAgIGxldCBwcm9taXNlID0gU2Vzc2lvbnNTZXJ2aWNlLmxvZ2luKGF1dGhSZXN1bHQpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ubG9naW5TdWNjZXNzLCB2bS5sb2dpbkZhaWx1cmUpO1xuICB9O1xuXG5cbiAgdm0ub25Hb29nbGVQbHVzU2lnbkluRmFpbHVyZSA9IGZ1bmN0aW9uIChldmVudCwgYXV0aFJlc3VsdCkge1xuICAgIGlmICh2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCkge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gYXV0aGVudGljYXRlIHRvIEdvb2dsZSsuJywgJ2Vycm9yJyk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS4kb24oJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1zdWNjZXNzJywgdm0ub25Hb29nbGVQbHVzU2lnbkluU3VjY2Vzcyk7XG4gICRzY29wZS4kb24oJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1mYWlsdXJlJywgdm0ub25Hb29nbGVQbHVzU2lnbkluRmFpbHVyZSk7XG5cbiAgdm0uaW5pdGlhbGl6ZVNpZ25JbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5jbGllbnRJZCA9IGlkZW50aXR5Lk9BVVRIX0NMSUVOVF9JRDtcbiAgICB2bS5zdGF0ZSA9IGlkZW50aXR5LlNUQVRFO1xuICAgIHJldHVybiB2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCA9IGZhbHNlO1xuICB9O1xuXG4gIHZtLmluaXRpYWxpemVTaWduT3V0ID0gZnVuY3Rpb24gKCkge1xuICAgIFNlc3Npb25zU2VydmljZS5yZW1vdmVVc2VySW5mbygpO1xuICAgIHJldHVybiAkdGltZW91dCh2bS5wcm9jZWVkVG9TaWduZWRPdXQsIDUwKTtcbiAgfTtcblxuICB2bS5sb2dpblN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gJHN0YXRlLmdvKCdkaXN0cmlidXRvcl9zZWxlY3Rpb24nKTtcbiAgfTtcblxuICB2bS5sb2dpbkZhaWx1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIGF1dGhlbnRpY2F0ZSB0byBTdG9ybXBhdGguJywgJ2Vycm9yJyk7XG4gIH07XG5cblxuICB2bS5wcm9jZWVkVG9TaWduZWRPdXQgPSAoKSA9PiAkc3RhdGUuZ28oJ3NpZ25lZF9vdXQnKTtcblxuICB2bS5wcm9jZWVkVG9TaWduSW4gPSAoKSA9PiAkc3RhdGUuZ28oJ3NpZ25faW4nKTtcblxuICB2bS5vbkNsaWNrR29vZ2xlUGx1c1NpZ25JbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCA9IHRydWU7XG4gICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtBdXRoZW50aWNhdGlvbkN0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvYXV0aGVudGljYXRpb24vYXV0aGVudGljYXRpb24tY29udHJvbGxlci5qc1xuICoqLyIsImltcG9ydCBjb250YWlucyBmcm9tICdsb2Rhc2guY29udGFpbnMnO1xuXG5mdW5jdGlvbiBBcHBDb250cm9sbGVyKCRtZFNpZGVuYXYsICRzdGF0ZSwgJHdpbmRvdywgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuXG4gIHZtLmN1cnJlbnREaXN0cmlidXRlckluRGlzdHJpYnV0ZXJBZG1pbkxpc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGN1cnJlbnREaXN0cmlidXRvck5hbWUgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpO1xuICAgIGxldCBkaXN0cmlidXRvcnNBc0FkbWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKTtcbiAgICByZXR1cm4gY29udGFpbnMoZGlzdHJpYnV0b3JzQXNBZG1pbiwgY3VycmVudERpc3RyaWJ1dG9yTmFtZSk7XG4gIH07XG5cbiAgdm0uZ2V0SWRlbnRpdHkgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleTogU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSxcbiAgICAgIGVtYWlsOiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCksXG4gICAgICBhZG1pbjogU2Vzc2lvbnNTZXJ2aWNlLmdldElzQWRtaW4oKSxcbiAgICAgIGRpc3RyaWJ1dG9yX2FkbWluOiBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpLFxuICAgICAgYWRtaW5fb2ZfY3VycmVudF9kaXN0cmlidXRvcjogdm0uY3VycmVudERpc3RyaWJ1dGVySW5EaXN0cmlidXRlckFkbWluTGlzdCgpLFxuICAgICAgZGlzdHJpYnV0b3JLZXk6IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSxcbiAgICAgIGRpc3RyaWJ1dG9yTmFtZTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKVxuICAgIH1cbiAgfTtcblxuICB2bS5pc0N1cnJlbnRVUkxEaXN0cmlidXRvclNlbGVjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCB0ZXN0ID0gJHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNlYXJjaCgvZGlzdHJpYnV0b3Jfc2VsZWN0aW9uLyk7XG4gICAgbGV0IHJlc3VsdCA9IHRlc3QgPj0gMDtcbiAgICByZXR1cm4gcmVzdWx0XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9ICgpID0+IHZtLmdldElkZW50aXR5KCk7XG5cbiAgdm0udG9nZ2xlU2lkZW5hdiA9ICgpID0+ICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcblxuICB2bS5nb1RvID0gZnVuY3Rpb24gKHN0YXRlTmFtZSwgaWQpIHtcbiAgICAkc3RhdGUuZ28oc3RhdGVOYW1lLCB7aWR9KTtcbiAgICBpZiAoJG1kU2lkZW5hdignbGVmdCcpLmlzT3BlbigpKSB7XG4gICAgICByZXR1cm4gJG1kU2lkZW5hdignbGVmdCcpLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmluaXRpYWxpemUoKVxuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtBcHBDb250cm9sbGVyfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2FwcC9hcHAtY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIERpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsKCRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc3RyaWJ1dG9yc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5kaXN0cmlidXRvcnMgPSBbXTtcbiAgdm0uY3VycmVudERpc3RyaWJ1dG9yID0gdW5kZWZpbmVkO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmxvZWFkaW5nID0gdHJ1ZTtcbiAgICBsZXQgZGlzdHJpYnV0b3JzUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZmV0Y2hBbGxCeVVzZXIoU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSk7XG4gICAgcmV0dXJuIGRpc3RyaWJ1dG9yc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uZGlzdHJpYnV0b3JzID0gZGF0YTtcbiAgICAgIGlmICh2bS5kaXN0cmlidXRvcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB2bS5zZWxlY3REaXN0cmlidXRvcih2bS5kaXN0cmlidXRvcnNbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2bS5zZWxlY3REaXN0cmlidXRvciA9IChkaXN0cmlidXRvcikgPT4gRGlzdHJpYnV0b3JzU2VydmljZS5zd2l0Y2hEaXN0cmlidXRvcihkaXN0cmlidXRvcik7XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0Rpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9yLXNlbGVjdG9yLWNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBEaXN0cmlidXRvcnNDdHJsKCRzdGF0ZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uZGlzdHJpYnV0b3JzID0gW107XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0Rpc3RyaWJ1dG9yc0N0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3JzLWNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBEb21haW5zQ3RybCgkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICBEb21haW5zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgIHN3ZWV0KSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5kb21haW5zID0gW107XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmZldGNoQWxsRG9tYWlucygpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oZGF0YSA9PiB2bS5kb21haW5zID0gZGF0YSk7XG4gIH07XG5cbiAgdm0uZWRpdEl0ZW0gPSBpdGVtID0+ICRzdGF0ZS5nbygnZWRpdERvbWFpbicsIHtkb21haW5LZXk6IGl0ZW0ua2V5fSk7XG5cbiAgdm0uZGVsZXRlSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgbGV0IGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHByb21pc2UgPSBEb21haW5zU2VydmljZS5kZWxldGUoaXRlbSk7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKCgpID0+IHZtLmluaXRpYWxpemUoKSk7XG4gICAgfTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdyh7XG4gICAgICB0aXRsZTogXCJBcmUgeW91IHN1cmU/XCIsXG4gICAgICB0ZXh0OiBcIlRoaXMgd2lsbCBwZXJtYW5lbnRseSByZW1vdmUgdGhlIGRvbWFpbiBmcm9tIHRoZSBkaXN0cmlidXRvciBhbmQgZGlzY29ubmVjdCBmcm9tIHRlbmFudHMuXCIsXG4gICAgICB0eXBlOiBcIndhcm5pbmdcIixcbiAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiI0RENkI1NVwiLFxuICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwiWWVzLCByZW1vdmUgdGhlIGRvbWFpbiFcIixcbiAgICAgIGNsb3NlT25Db25maXJtOiB0cnVlXG4gICAgfSwgY2FsbGJhY2spO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEb21haW5zQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9kb21haW4vZG9tYWlucy5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gRG9tYWluRGV0YWlsc0N0cmwoJGxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc3RyaWJ1dG9yc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBEb21haW5zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3ZWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3RzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlc3Npb25zU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uY3VycmVudERvbWFpbiA9IHtcbiAgICBrZXk6IHVuZGVmaW5lZCxcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgaW1wZXJzb25hdGlvbl9hZG1pbl9lbWFpbF9hZGRyZXNzOiB1bmRlZmluZWQsXG4gICAgZGlzdHJpYnV0b3Jfa2V5OiB1bmRlZmluZWQsXG4gICAgYWN0aXZlOiB0cnVlXG4gIH07XG4gIHZtLmN1cnJlbnREb21haW5zID0gW107XG4gIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMuZG9tYWluS2V5O1xuXG4gIGlmICh2bS5lZGl0TW9kZSkge1xuICAgIGxldCBkb21haW5Qcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZ2V0RG9tYWluQnlLZXkoJHN0YXRlUGFyYW1zLmRvbWFpbktleSk7XG4gICAgZG9tYWluUHJvbWlzZS50aGVuKGRhdGEgPT4gdm0uY3VycmVudERvbWFpbiA9IGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHZtLmN1cnJlbnREb21haW4uZGlzdHJpYnV0b3Jfa2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuICB9XG5cbiAgdm0ub25TYXZlRG9tYWluID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gRG9tYWluc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RG9tYWluKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1NhdmVEb21haW4sIHZtLm9uRmFpbHVyZVNhdmVEb21haW4pO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1NhdmVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlU2F2ZURvbWFpbiA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgJGxvZy5pbmZvKGBGYWlsdXJlIHNhdmluZyBkb21haW4uIERvbWFpbiBhbHJlYWR5IGV4aXN0czogJHtlcnJvci5zdGF0dXN9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1RoaXMgZG9tYWluIG5hbWUgYWxyZWFkeSBleGlzdC4gUGxlYXNlIGVudGVyIGEgdW5pcXVlIGRvbWFpbiBuYW1lLicsICdlcnJvcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkbG9nLmVycm9yKGBGYWlsdXJlIHNhdmluZyBkb21haW46ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIHNhdmUgeW91ciB1cGRhdGVzIGF0IHRoaXMgdGltZS4nKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uZWRpdEl0ZW0gPSBpdGVtID0+ICRzdGF0ZS5nbygnZWRpdERvbWFpbicsIHtkb21haW5LZXk6IGl0ZW0ua2V5fSk7XG5cblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7RG9tYWluRGV0YWlsc0N0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvZG9tYWluL2RvbWFpbi1kZXRhaWxzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmZ1bmN0aW9uIFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLnJhZGlvQnV0dG9uQ2hvaWNlcyA9IHtcbiAgICBncm91cDE6ICdCeSBEZXZpY2UnLFxuICAgIGdyb3VwMjogJ1N1bW1hcml6ZWQnLFxuICAgIHNlbGVjdGlvbjogbnVsbFxuICB9O1xuXG5cbiAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG4gICAgc3RhcnQ6IG51bGwsXG4gICAgZW5kOiBudWxsXG4gIH07XG5cbiAgdm0uZm9ybVZhbGlkaXR5ID0ge1xuICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuICAgIGVuZF9kYXRlOiBmYWxzZSxcbiAgICBsb2NhdGlvbnM6IGZhbHNlLFxuICB9O1xuXG4gIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG4gIHZtLm5vX2NhY2hlID0gdHJ1ZTtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMgPSBbXTtcblxuICB2bS5pbml0aWFsaXplID0gKCkgPT5cbiAgICBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbExvY2F0aW9ucyh2bS50ZW5hbnQpXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHZtLmxvY2F0aW9ucyA9IGRhdGEuZGF0YS5sb2NhdGlvbnM7XG4gICAgICAgIGlmICh2bS5sb2NhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIDtcblxuICB2bS5yZWZyZXNoTG9jYXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5zZWxlY3RlZEl0ZW0gPSAnJztcbiAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zID0gW107XG4gICAgUHJvb2ZQbGF5U2VydmljZS5wcm9vZnBsYXlDYWNoZS5yZW1vdmVBbGwoKTtcbiAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG4gIHZtLmFkZFRvU2VsZWN0ZWRMb2NhdGlvbnMgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmICh2bS5pc0xvY2F0aW9uVmFsaWQoc2VhcmNoVGV4dCkpIHtcbiAgICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5wdXNoKHNlYXJjaFRleHQpO1xuICAgICAgbGV0IGluZGV4ID0gdm0ubG9jYXRpb25zLmluZGV4T2Yoc2VhcmNoVGV4dCk7XG4gICAgICB2bS5sb2NhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB9XG4gICAgdm0uYXJlTG9jYXRpb25zVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKGxvY2F0aW9ucywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChsb2NhdGlvbnMsIHNlYXJjaFRleHQpO1xuXG5cbiAgdm0uaXNSYWRpb1ZhbGlkID0gZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc0xvY2F0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0ubG9jYXRpb25zKSkge1xuICAgICAgaWYgKCFfX2luX18oc2VhcmNoVGV4dCwgdm0uc2VsZWN0ZWRfbG9jYXRpb25zKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLmFyZUxvY2F0aW9uc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5sb2NhdGlvbnMgPSAodm0uc2VsZWN0ZWRfbG9jYXRpb25zLmxlbmd0aCA+IDApO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgPSAoc3RhcnRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSA9IChlbmRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0ucmVtb3ZlRnJvbVNlbGVjdGVkTG9jYXRpb24gPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGxldCBpbmRleCA9IHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5pbmRleE9mKGl0ZW0pO1xuICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHZtLmxvY2F0aW9ucy5wdXNoKGl0ZW0pO1xuICAgIHZtLmFyZUxvY2F0aW9uc1ZhbGlkKCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkubG9jYXRpb25zICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG4gICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHZtLmZpbmFsID0ge1xuICAgICAgICBzdGFydF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuICAgICAgICBlbmRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uZW5kKS51bml4KCksXG4gICAgICAgIGxvY2F0aW9uczogdm0uc2VsZWN0ZWRfbG9jYXRpb25zLFxuICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG5cbiAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwubG9jYXRpb25zLCB2bS50ZW5hbnQpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNTdW1tYXJpemVkKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwubG9jYXRpb25zLCB2bS50ZW5hbnQpO1xuICAgIH1cbiAgfTtcblxuICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblxuICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpXG4gICAgICAudGhlbihkYXRhID0+IHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cylcbiAgO1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKHJlc291cmNlcywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXG4gIHZtLmlzU2VsZWN0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoKSB7XG4gICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cblxuICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG4gICAgaWYgKHRlbmFudCAhPT0gdm0uY3VycmVudFRlbmFudCkge1xuICAgICAgJHN0YXRlLmdvKCdwcm9vZkRldGFpbCcsIHtcbiAgICAgICAgdGVuYW50XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChgUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgc2V0IHRvICR7dGVuYW50fWApO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBpcyBhbHJlYWR5IHNldCB0byAke3RlbmFudH1gKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufTtcblxuZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcbiAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xufVxuXG5leHBvcnQge1Byb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvcHJvb2YvbXVsdGktbG9jYXRpb24uY29udHJvbGxlci5qc1xuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuXG4gIHZtLnJhZGlvQnV0dG9uQ2hvaWNlcyA9IHtcbiAgICBncm91cDE6ICdCeSBEYXRlJyxcbiAgICBncm91cDI6ICdTdW1tYXJpemVkJyxcbiAgICBzZWxlY3Rpb246IG51bGxcbiAgfTtcblxuXG4gIHZtLmRhdGVUaW1lU2VsZWN0aW9uID0ge1xuICAgIHN0YXJ0OiBudWxsLFxuICAgIGVuZDogbnVsbFxuICB9O1xuXG4gIHZtLmZvcm1WYWxpZGl0eSA9IHtcbiAgICBzdGFydF9kYXRlOiBmYWxzZSxcbiAgICBlbmRfZGF0ZTogZmFsc2UsXG4gICAgZGlzcGxheXM6IGZhbHNlLFxuICB9O1xuXG4gIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG4gIHZtLm5vX2NhY2hlID0gdHJ1ZTtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuICB2bS5zZWxlY3RlZF9kaXNwbGF5cyA9IFtdO1xuXG5cbiAgdm0uaW5pdGlhbGl6ZSA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxEaXNwbGF5cyh2bS50ZW5hbnQpXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHZtLmRpc3BsYXlzID0gZGF0YS5kYXRhLmRldmljZXM7XG4gICAgICAgIGlmICh2bS5kaXNwbGF5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgO1xuXG4gIHZtLnJlZnJlc2hEaXNwbGF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgdm0uc2VsZWN0ZWRJdGVtID0gJyc7XG4gICAgdm0ubG9hZGluZyA9IHRydWU7XG4gICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzID0gW107XG4gICAgUHJvb2ZQbGF5U2VydmljZS5wcm9vZnBsYXlDYWNoZS5yZW1vdmVBbGwoKTtcbiAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG4gIHZtLmFkZFRvU2VsZWN0ZWREaXNwbGF5cyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKHZtLmlzRGlzcGxheVZhbGlkKHNlYXJjaFRleHQpKSB7XG4gICAgICB2bS5zZWxlY3RlZF9kaXNwbGF5cy5wdXNoKHNlYXJjaFRleHQpO1xuICAgICAgbGV0IGluZGV4ID0gdm0uZGlzcGxheXMuaW5kZXhPZihzZWFyY2hUZXh0KTtcbiAgICAgIHZtLmRpc3BsYXlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgfVxuICAgIHZtLmFyZURpc3BsYXlzVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKGRpc3BsYXlzLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKGRpc3BsYXlzLCBzZWFyY2hUZXh0KTtcblxuXG4gIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkudHlwZSA9IHNlbGVjdGlvbjtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNEaXNwbGF5VmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0uZGlzcGxheXMpKSB7XG4gICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9kaXNwbGF5cykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgdm0uYXJlRGlzcGxheXNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuZGlzcGxheXMgPSAodm0uc2VsZWN0ZWRfZGlzcGxheXMubGVuZ3RoID4gMCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5pc1N0YXJ0RGF0ZVZhbGlkID0gZnVuY3Rpb24gKHN0YXJ0X2RhdGUpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IChzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRW5kRGF0ZVZhbGlkID0gZnVuY3Rpb24gKGVuZF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gKGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWREaXNwbGF5ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBsZXQgaW5kZXggPSB2bS5zZWxlY3RlZF9kaXNwbGF5cy5pbmRleE9mKGl0ZW0pO1xuICAgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgdm0uZGlzcGxheXMucHVzaChpdGVtKTtcbiAgICB2bS5hcmVEaXNwbGF5c1ZhbGlkKCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkuZGlzcGxheXMgJiYgdm0uZm9ybVZhbGlkaXR5LnR5cGUpIHtcbiAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG4gICAgICAgIHN0YXJ0X2RhdGVfdW5peDogbW9tZW50KHZtLmRhdGVUaW1lU2VsZWN0aW9uLnN0YXJ0KS51bml4KCksXG4gICAgICAgIGVuZF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcbiAgICAgICAgZGlzcGxheXM6IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLFxuICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG5cbiAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNCeURhdGUodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5kaXNwbGF5cywgdm0udGVuYW50KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5kaXNwbGF5cywgdm0udGVuYW50KTtcbiAgICB9XG4gIH07XG5cblxuICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblxuICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpXG4gICAgICAudGhlbihkYXRhID0+IHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cylcbiAgO1xuXG4gIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG4gICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuICAgICAgICB0ZW5hbnRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJHt0ZW5hbnR9YCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoYFByb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICR7dGVuYW50fWApO1xuICAgIH1cbiAgfTtcblxuICB2bS5xdWVyeVNlYXJjaCA9IChyZXNvdXJjZXMsIHNlYXJjaFRleHQpID0+IFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblxuICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG5cbiAgcmV0dXJuIHZtO1xufTtcblxuZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcbiAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xufVxuXG5leHBvcnQge1Byb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9wcm9vZi9tdWx0aS1kaXNwbGF5LmNvbnRyb2xsZXIuanNcbiAqKi8iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cblxuZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybChQcm9vZlBsYXlTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgVG9hc3RzU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuICAgIGdyb3VwMTogJ0J5IERldmljZScsXG4gICAgZ3JvdXAyOiAnQnkgRGF0ZScsXG4gICAgc2VsZWN0aW9uOiBudWxsXG4gIH07XG5cblxuICB2bS5kYXRlVGltZVNlbGVjdGlvbiA9IHtcbiAgICBzdGFydDogbnVsbCxcbiAgICBlbmQ6IG51bGxcbiAgfTtcblxuICB2bS5mb3JtVmFsaWRpdHkgPSB7XG4gICAgc3RhcnRfZGF0ZTogZmFsc2UsXG4gICAgZW5kX2RhdGU6IGZhbHNlLFxuICAgIHJlc291cmNlczogZmFsc2UsXG4gIH07XG5cbiAgdm0udGVuYW50ID0gJHN0YXRlUGFyYW1zLnRlbmFudDtcbiAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gIHZtLnNlbGVjdGVkX3Jlc291cmNlcyA9IFtdO1xuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsUmVzb3VyY2VzKHZtLnRlbmFudClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdm0uZnVsbF9yZXNvdXJjZV9tYXAgPSBkYXRhLmRhdGEucmVzb3VyY2VzO1xuICAgICAgICB2bS5yZXNvdXJjZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmRhdGEucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IHJlc291cmNlID0gZGF0YS5kYXRhLnJlc291cmNlc1tpXTtcbiAgICAgICAgICB2bS5yZXNvdXJjZXMucHVzaChyZXNvdXJjZS5yZXNvdXJjZV9uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2bS5yZXNvdXJjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIDtcblxuICB2bS5yZWZyZXNoUmVzb3VyY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5zZWxlY3RlZEl0ZW0gPSAnJztcbiAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzID0gW107XG4gICAgUHJvb2ZQbGF5U2VydmljZS5wcm9vZnBsYXlDYWNoZS5yZW1vdmVBbGwoKTtcbiAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG4gIHZtLmFkZFRvU2VsZWN0ZWRSZXNvdXJjZXMgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmICh2bS5pc1Jlc291cmNlVmFsaWQoc2VhcmNoVGV4dCkpIHtcbiAgICAgIHZtLnNlbGVjdGVkX3Jlc291cmNlcy5wdXNoKHNlYXJjaFRleHQpO1xuICAgICAgbGV0IGluZGV4ID0gdm0ucmVzb3VyY2VzLmluZGV4T2Yoc2VhcmNoVGV4dCk7XG4gICAgICB2bS5yZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB9XG4gICAgdm0uYXJlUmVzb3VyY2VzVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKHJlc291cmNlcywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXG5cbiAgdm0uaXNSYWRpb1ZhbGlkID0gZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0ucmVzb3VyY2VzKSkge1xuICAgICAgaWYgKCFfX2luX18oc2VhcmNoVGV4dCwgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLmFyZVJlc291cmNlc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5yZXNvdXJjZXMgPSAodm0uc2VsZWN0ZWRfcmVzb3VyY2VzLmxlbmd0aCA+IDApO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgPSAoc3RhcnRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSA9IChlbmRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0ucmVtb3ZlRnJvbVNlbGVjdGVkUmVzb3VyY2UgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGxldCBpbmRleCA9IHZtLnNlbGVjdGVkX3Jlc291cmNlcy5pbmRleE9mKGl0ZW0pO1xuICAgIHZtLnNlbGVjdGVkX3Jlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHZtLnJlc291cmNlcy5wdXNoKGl0ZW0pO1xuICAgIHZtLmFyZVJlc291cmNlc1ZhbGlkKCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkucmVzb3VyY2VzICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG4gICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHZtLmZpbmFsID0ge1xuICAgICAgICBzdGFydF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuICAgICAgICBlbmRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uZW5kKS51bml4KCksXG4gICAgICAgIHJlc291cmNlczogdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLFxuICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG4gICAgICB9O1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIHZtLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcmVzb3VyY2VzX2FzX2lkcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm0uZmluYWwucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaXRlbSA9IHZtLmZpbmFsLnJlc291cmNlc1tpXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdm0uZnVsbF9yZXNvdXJjZV9tYXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IGVhY2ggPSB2bS5mdWxsX3Jlc291cmNlX21hcFtqXTtcbiAgICAgICAgaWYgKGVhY2hbXCJyZXNvdXJjZV9uYW1lXCJdID09PSBpdGVtKSB7XG4gICAgICAgICAgcmVzb3VyY2VzX2FzX2lkcy5wdXNoKGVhY2hbXCJyZXNvdXJjZV9pZGVudGlmaWVyXCJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGV2aWNlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgcmVzb3VyY2VzX2FzX2lkcywgdm0udGVuYW50KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgcmVzb3VyY2VzX2FzX2lkcywgdm0udGVuYW50KTtcbiAgICB9XG4gIH07XG5cbiAgdm0udGVuYW50cyA9IG51bGw7XG4gIHZtLmN1cnJlbnRUZW5hbnQgPSB2bS50ZW5hbnQ7XG5cbiAgdm0uaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0ID0gKCkgPT5cbiAgICBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbFRlbmFudHMoKVxuICAgICAgLnRoZW4oZGF0YSA9PiB2bS50ZW5hbnRzID0gZGF0YS5kYXRhLnRlbmFudHMpXG4gIDtcblxuICB2bS5xdWVyeVNlYXJjaCA9IChyZXNvdXJjZXMsIHNlYXJjaFRleHQpID0+IFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblxuICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG5cbiAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQgIT09IHZtLmN1cnJlbnRUZW5hbnQpIHtcbiAgICAgICRzdGF0ZS5nbygncHJvb2ZEZXRhaWwnLCB7XG4gICAgICAgIHRlbmFudFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJHt0ZW5hbnR9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBpcyBhbHJlYWR5IHNldCB0byAke3RlbmFudH1gKTtcbiAgICB9XG4gIH07XG5cblxuICByZXR1cm4gdm07XG59O1xuXG5mdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG59XG5cbmV4cG9ydCB7UHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9wcm9vZi9tdWx0aS1yZXNvdXJjZS5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gUHJvb2ZPZlBsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5yZXNvdXJjZSA9IHt0aXRsZTogXCJSZXNvdXJjZSBSZXBvcnRcIn07XG4gIHZtLmxvY2F0aW9uID0ge3RpdGxlOiBcIkxvY2F0aW9uIFJlcG9ydFwifTtcbiAgdm0uZGlzcGxheSA9IHt0aXRsZTogXCJEaXNwbGF5IFJlcG9ydFwifTtcblxuICB2bS5jaG9zZW5fdGVuYW50ID0gbnVsbDtcbiAgdm0udGVuYW50cyA9IG51bGw7XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcblxuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpXG4gICAgICAudGhlbihkYXRhID0+IHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cylcbiAgO1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKHJlc291cmNlcywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXG5cbiAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcbiAgICBpZiAoX19pbl9fKHNlYXJjaCwgdm0udGVuYW50cykpIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50KSB7XG4gICAgICB2bS5jaG9zZW5fdGVuYW50ID0gKHRlbmFudCk7XG4gICAgICByZXR1cm4gJHN0YXRlLmdvKCdwcm9vZkRldGFpbCcsIHtcbiAgICAgICAgdGVuYW50OiB2bS5jaG9zZW5fdGVuYW50XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdm0ucmVmcmVzaFRlbmFudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0udGVuYW50cyA9IG51bGw7XG4gICAgbGV0IHVybCA9IFByb29mUGxheVNlcnZpY2UubWFrZUhUVFBVUkwoXCIvcmV0cmlldmVfbXlfdGVuYW50c1wiLCAnJyk7XG4gICAgUHJvb2ZQbGF5U2VydmljZS5wcm9vZnBsYXlDYWNoZS5yZW1vdmUodXJsKTtcbiAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG5cbiAgcmV0dXJuIHZtO1xufTtcblxuZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcbiAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xufVxuXG5leHBvcnQge1Byb29mT2ZQbGF5Q3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9wcm9vZi9wcm9vZi1vZi1wbGF5LmNvbnRyb2xsZXIuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBZG1pblNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy5VU0VSX1NFUlZJQ0UgPSBcInVzZXJzXCI7XG4gICAgdGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFID0gXCJkaXN0cmlidXRvcnNcIjtcbiAgfVxuXG4gIG1ha2VEaXN0cmlidXRvcihkaXN0cmlidXRvciwgYWRtaW5fZW1haWwpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIGRpc3RyaWJ1dG9yLFxuICAgICAgYWRtaW5fZW1haWxcbiAgICB9O1xuXG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsICcvYXBpL3YxL2Rpc3RyaWJ1dG9ycycpLmN1c3RvbVBPU1QocGF5bG9hZCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBhZGRVc2VyVG9EaXN0cmlidXRvcih1c2VyRW1haWwsIGRpc3RyaWJ1dG9yLCBkaXN0cmlidXRvckFkbWluKSB7XG4gICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICB1c2VyX2VtYWlsOiB1c2VyRW1haWwsXG4gICAgICBkaXN0cmlidXRvcixcbiAgICAgIGRpc3RyaWJ1dG9yX2FkbWluOiBkaXN0cmlidXRvckFkbWluXG4gICAgfTtcblxuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5VU0VSX1NFUlZJQ0UsIFwiL2FwaS92MS91c2Vyc1wiKS5jdXN0b21QT1NUKHBheWxvYWQpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIGAvYXBpL3YxL2FuYWx5dGljcy9kaXN0cmlidXRvcnMvJHtkaXN0cmlidXRvcktleX0vdXNlcnNgKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldEFsbERpc3RyaWJ1dG9ycygpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgXCIvYXBpL3YxL2Rpc3RyaWJ1dG9yc1wiKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9hZG1pbi5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXV0aG9yaXphdGlvblNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFNlc3Npb25zU2VydmljZSwgJHEpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuJHEgPSAkcVxuICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlXG4gIH1cblxuICBhdXRoZW50aWNhdGVkKCkge1xuICAgIGxldCBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICBsZXQgdXNlcktleSA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKTtcbiAgICBpZiAodXNlcktleSkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KFtcImF1dGhFcnJvclwiLCAnc2lnbl9pbiddKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICBub3RBdXRoZW50aWNhdGVkKCkge1xuICAgIGxldCBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICBsZXQgdXNlcktleSA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKTtcbiAgICBpZiAoIXVzZXJLZXkpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlZmVycmVkLnJlamVjdChbXCJhdXRoRXJyb3JcIiwgJ2hvbWUnXSk7XG4gICAgfVxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9XG5cbiAgaXNBZG1pbk9yRGlzdHJpYnV0b3JBZG1pbigpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgbGV0IGFkbWluID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0SXNBZG1pbigpO1xuICAgIGxldCBkaXN0cmlidXRvckFkbWluID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuICAgIGxldCBoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbiA9IGZhbHNlO1xuICAgIGlmIChkaXN0cmlidXRvckFkbWluICYmIGRpc3RyaWJ1dG9yQWRtaW4ubGVuZ3RoID4gMCkge1xuICAgICAgaGFzQXRMZWFzdE9uZURpc3RyaWJ1dG9yQWRtaW4gPSB0cnVlO1xuICAgIH1cbiAgICBsZXQgdXNlcktleSA9IHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKTtcbiAgICBpZiAoIXVzZXJLZXkpIHtcbiAgICAgIGRlZmVycmVkLnJlamVjdCgnc2lnbl9pbicpO1xuICAgIH0gZWxzZSBpZiAoIWFkbWluICYmICFoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbikge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KFtcImF1dGhFcnJvclwiLCAnaG9tZSddKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cbn1cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL2F1dGhvcml6YXRpb24uc2VydmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1hbmRzU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICAgIHRoaXMuU0VSVklDRV9OQU1FID0gJ2RldmljZXMnO1xuICB9XG5cbiAgcGFuZWxTbGVlcChrZXksIHBhbmVsU2xlZXApIHtcbiAgICAvKiogcGFuZWxTbGVlcDogYm9vbGVhbiAqKi9cbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIHBhbmVsU2xlZXBcbiAgICB9O1xuXG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9wYW5lbC1zbGVlcGApLmN1c3RvbVBVVChwYXlsb2FkKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHJlc2V0KGtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIGBhcGkvdjEvZGV2aWNlcy8ke2tleX0vY29tbWFuZHMvcmVzZXRgKS5wb3N0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBjb250ZW50RGVsZXRlKGtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIGBhcGkvdjEvZGV2aWNlcy8ke2tleX0vY29tbWFuZHMvY29udGVudC1kZWxldGVgKS5wb3N0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBjb250ZW50VXBkYXRlKGtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIGBhcGkvdjEvZGV2aWNlcy8ke2tleX0vY29tbWFuZHMvY29udGVudC11cGRhdGVgKS5wb3N0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB1cGRhdGVEZXZpY2Uoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9yZWZyZXNoLWRldmljZS1yZXByZXNlbnRhdGlvbmApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHRvZ2dsZURpYWdub3N0aWNzKGtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIGBhcGkvdjEvZGV2aWNlcy8ke2tleX0vY29tbWFuZHMvZGlhZ25vc3RpY3NgKS5wb3N0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICByZXN0YXJ0KGtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIGBhcGkvdjEvZGV2aWNlcy8ke2tleX0vY29tbWFuZHMvcmVzdGFydGApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHBvc3RMb2coa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9wb3N0LWxvZ2ApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHBvd2VyT24oa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9wb3dlci1vbmApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHBvd2VyT2ZmKGtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIGBhcGkvdjEvZGV2aWNlcy8ke2tleX0vY29tbWFuZHMvcG93ZXItb2ZmYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdm9sdW1lKGtleSwgdm9sdW1lKSB7XG4gICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICB2b2x1bWVcbiAgICB9O1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIGBhcGkvdjEvZGV2aWNlcy8ke2tleX1gKS5jdXN0b21QT1NUKHBheWxvYWQsICdjb21tYW5kcy92b2x1bWUnKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGN1c3RvbShrZXksIGNvbW1hbmQpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIGNvbW1hbmRcbiAgICB9O1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIGBhcGkvdjEvZGV2aWNlcy8ke2tleX1gKS5jdXN0b21QT1NUKHBheWxvYWQsICdjb21tYW5kcy9jdXN0b20nKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuXG5cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL2NvbW1hbmRzLnNlcnZpY2UuanNcbiAqKi8iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCdcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgfVxuXG4gIGNvbnZlcnRUb01vbWVudElmTm90QWxyZWFkeShkYXRlKSB7XG4gICAgaWYgKCFtb21lbnQuaXNNb21lbnQoZGF0ZSkpIHtcbiAgICAgIHJldHVybiBtb21lbnQobmV3IERhdGUoZGF0ZSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkYXRlXG4gICAgfVxuICB9XG5cbiAgY3JlYXRlRm9ybWF0dGVkU3RhcnRBbmRFbmREYXRlRnJvbVRvZGF5KGRheXNCYWNrKSB7XG4gICAgbGV0IHN0YXJ0VGltZSA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXG4gICAgbGV0IHN0YXJ0VGltZU1pZE5pZ2h0ID0gbW9tZW50KHN0YXJ0VGltZSwgJ1lZWVktTU0tREQnKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW0gQScpXG4gICAgbGV0IHN0YXJ0VGltZUVuZE9mRGF5ID0gbW9tZW50KHN0YXJ0VGltZU1pZE5pZ2h0LCAnWVlZWS1NTS1ERCBoaDptbSBBJykuYWRkKDEsICdkYXknKS5zdWJ0cmFjdCg2MCwgJ3NlY29uZHMnKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW0gQScpXG5cbiAgICBsZXQgZW5kVGltZSA9IG1vbWVudCgpLnN1YnRyYWN0KDMwLCAnZGF5cycpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXG4gICAgbGV0IGVuZFRpbWVNaWROaWdodCA9IG1vbWVudChlbmRUaW1lLCAnWVlZWS1NTS1ERCcpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJylcblxuICAgIHJldHVybiBbZW5kVGltZU1pZE5pZ2h0LCBzdGFydFRpbWVFbmRPZkRheV1cbiAgfVxuXG4gIGdlbmVyYXRlTG9jYWxGcm9tVVRDKFVUQ1RpbWUpIHtcbiAgICBsZXQgbG9jYWxUaW1lID0gbW9tZW50LnV0YyhVVENUaW1lKS50b0RhdGUoKTtcbiAgICByZXR1cm4gbW9tZW50KGxvY2FsVGltZSkuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tOnNzIEEnKTtcbiAgfTtcblxuXG59XG5cblxuXG5cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL2RhdGVtYW5pcHVsYXRpb24uc2VydmljZS5qc1xuICoqLyIsImltcG9ydCAncmVzdGFuZ3VsYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZXZpY2VzU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCRsb2csIFJlc3Rhbmd1bGFyLCAkcSwgJGh0dHAsICRzdGF0ZSkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy4kbG9nID0gJGxvZ1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICAgIHRoaXMuJHEgPSAkcVxuICAgIHRoaXMuJGh0dHAgPSAkaHR0cFxuICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlXG4gICAgdGhpcy5TRVJWSUNFX05BTUUgPSAnZGV2aWNlcyc7XG4gICAgdGhpcy51cmlCYXNlID0gJ3YxL2RldmljZXMnO1xuICB9XG5cbiAgZ2V0RGV2aWNlQnlNYWNBZGRyZXNzKG1hY0FkZHJlc3MpIHtcbiAgICBsZXQgdXJsID0gYGFwaS92MS9kZXZpY2VzP21hY19hZGRyZXNzPSR7bWFjQWRkcmVzc31gO1xuICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnYXBpL3YxL2RldmljZXMnLCB1cmwpLmdldCgpO1xuICB9XG5cbiAgZ2V0RGV2aWNlQnlLZXkoZGV2aWNlS2V5KSB7XG4gICAgbGV0IHVybCA9IGBhcGkvdjEvZGV2aWNlcy8ke2RldmljZUtleX1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICByZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUoZGljdGlvbmFyeSwgdmFsdWUpIHtcbiAgICBsZXQgcmVzdWx0cyA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWN0aW9uYXJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGRpY3Rpb25hcnlbaV07XG4gICAgICByZXN1bHRzLnB1c2goZWFjaFt2YWx1ZV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0c1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBpc01hYyA9IGZhbHNlXG4gICAgICAgIGxldCBpc0dDTWlkID0gZmFsc2VcbiAgICAgICAgbGV0IHNlcmlhbERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuICAgICAgICBsZXQgZGV2aWNlU2VyaWFsc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwic2VyaWFsXCIpO1xuICAgICAgICByZXR1cm4gW2RldmljZVNlcmlhbHNPbmx5LCBzZXJpYWxEZXZpY2VzRGljdF07XG4gICAgICB9KTtcbiAgfVxuXG4gIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbChkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcbiAgICAgICAgbGV0IHNlcmlhbERldmljZXNEaWN0O1xuICAgICAgICBsZXQgaXNNYWMgPSBmYWxzZVxuICAgICAgICBsZXQgaXNHQ01pZCA9IGZhbHNlXG4gICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICBzZXJpYWxEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXJpYWxEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2VyaWFsRGV2aWNlc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwic2VyaWFsXCIpO1xuICAgICAgICByZXR1cm4gW3NlcmlhbERldmljZXNPbmx5LCBzZXJpYWxEZXZpY2VzRGljdF07XG4gICAgICB9KTtcbiAgfVxuXG4gIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcbiAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuICAgICAgICBsZXQgbWFjRGV2aWNlc0RpY3QgPSB0aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCB0cnVlKTtcbiAgICAgICAgbGV0IGRldmljZU1hY3NPbmx5ID0gdGhpcy5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcIm1hY1wiKTtcbiAgICAgICAgcmV0dXJuIFtkZXZpY2VNYWNzT25seSwgbWFjRGV2aWNlc0RpY3RdO1xuICAgICAgfSlcbiAgfVxuXG4gIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hYyhkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcbiAgICAgICAgbGV0IG1hY0RldmljZXNEaWN0O1xuICAgICAgICBsZXQgaXNNYWMgPSB0cnVlO1xuICAgICAgICBsZXQgaXNHQ01pZCA9IGZhbHNlO1xuICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICAgICAgbWFjRGV2aWNlc0RpY3QgPSB0aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWFjRGV2aWNlc0RpY3QgPSB0aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1hY0RldmljZXMgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwibWFjXCIpXG4gICAgICAgIHJldHVybiBbbWFjRGV2aWNlcywgbWFjRGV2aWNlc0RpY3RdO1xuICAgICAgfSk7XG5cbiAgfVxuXG4gIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuICAgICAgICBsZXQgZ2NtaWREZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgbGV0IGdjbWlkRGV2aWNlc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwiZ2NtaWRcIilcbiAgICAgICAgcmV0dXJuIFtnY21pZERldmljZXNPbmx5LCBnY21pZERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuICAgICAgICBsZXQgR0NNaWREZXZpY2VzRGljdDtcbiAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgICAgIEdDTWlkRGV2aWNlc0RpY3QgPSB0aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgR0NNaWREZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZ2NtaWREZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJnY21pZFwiKVxuICAgICAgICByZXR1cm4gW2djbWlkRGV2aWNlc09ubHksIEdDTWlkRGV2aWNlc0RpY3RdO1xuICAgICAgfSk7XG4gIH1cblxuICByZWplY3RlZFByb21pc2UoKSB7XG4gICAgbGV0IGRldmljZURlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGRldmljZURlZmVycmVkLnJlamVjdCgpXG4gICAgcmV0dXJuIGRldmljZURlZmVycmVkLnByb21pc2VcbiAgfTtcblxuXG4gIHNlYXJjaERldmljZXMocGFydGlhbFNlYXJjaCwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCBkaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCBkZXZpY2VzUHJvbWlzZTtcbiAgICBpZiAocGFydGlhbFNlYXJjaCkge1xuICAgICAgaWYgKHBhcnRpYWxTZWFyY2gubGVuZ3RoID4gMikge1xuICAgICAgICBpZiAoYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuICAgICAgICAgIGlmIChieVRlbmFudCkge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uID09PSBcIk1BQ1wiKSB7XG4gICAgICAgICAgaWYgKGJ5VGVuYW50KSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoYnlUZW5hbnQpIHtcbiAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLnJlamVjdGVkUHJvbWlzZSgpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5yZWplY3RlZFByb21pc2UoKVxuICAgIH1cblxuICAgIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRldmljZXNSZXN1bHQpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoe1xuICAgICAgICBcInN1Y2Nlc3NcIjogdHJ1ZSxcbiAgICAgICAgXCJkZXZpY2VzXCI6IGRldmljZXNSZXN1bHRcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGRldmljZXNQcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChkZXZpY2VzUmVzdWx0KSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlLFxuICAgICAgICBcImRldmljZXNcIjogW11cbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlXG4gIH1cblxuICBpc1Jlc291cmNlVmFsaWQocmVzb3VyY2UsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCkge1xuICAgIGxldCBtYWMsIHNlcmlhbCwgZ2NtaWQ7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGlmIChyZXNvdXJjZSkge1xuICAgICAgaWYgKHJlc291cmNlLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgbWFjID0gYnV0dG9uID09PSBcIk1BQ1wiO1xuICAgICAgICBzZXJpYWwgPSBidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuICAgICAgICBnY21pZCA9IGJ1dHRvbiA9PT0gXCJHQ00gSURcIjtcbiAgICAgICAgaWYgKGJ5VGVuYW50KSB7XG4gICAgICAgICAgaWYgKG1hYykge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0aGlzLm1hdGNoRGV2aWNlc0J5RnVsbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcmVzb3VyY2UsIHVubWFuYWdlZCkpXG4gICAgICAgICAgfSBlbHNlIGlmIChzZXJpYWwpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodGhpcy5tYXRjaERldmljZXNCeUZ1bGxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHJlc291cmNlLCB1bm1hbmFnZWQpKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRoaXMubWF0Y2hEZXZpY2VzQnlGdWxsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHJlc291cmNlLCB1bm1hbmFnZWQpKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobWFjKSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRoaXMubWF0Y2hEZXZpY2VzQnlGdWxsTWFjKGRpc3RyaWJ1dG9yS2V5LCByZXNvdXJjZSwgdW5tYW5hZ2VkKSlcbiAgICAgICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0aGlzLm1hdGNoRGV2aWNlc0J5RnVsbFNlcmlhbChkaXN0cmlidXRvcktleSwgcmVzb3VyY2UsIHVubWFuYWdlZCkpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodGhpcy5tYXRjaERldmljZXNCeUZ1bGxHQ01pZChkaXN0cmlidXRvcktleSwgcmVzb3VyY2UsIHVubWFuYWdlZCkpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcImlzX21hdGNoXCI6IGZhbHNlfSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XCJpc19tYXRjaFwiOiBmYWxzZX0pXG4gICAgfVxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlXG4gIH07XG5cbiAgY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaih0aGVBcnJheSwgbWFjLCBnY20pIHtcbiAgICAvKiogQ29udmVydHMgYXJyYXkgdG8gZGljdGlvbmFyeSB3aXRoIG1hYywgZ2NtaWQsIG9yIHNlcmlhbCBhcyB0aGUga2V5ICoqL1xuICAgIGxldCBkZXZpY2VzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGl0ZW0gPSB0aGVBcnJheVtpXTtcbiAgICAgIGlmIChtYWMpIHtcbiAgICAgICAgZGV2aWNlc1tpdGVtLm1hY10gPSBpdGVtO1xuICAgICAgfSBlbHNlIGlmIChnY20pIHtcbiAgICAgICAgZGV2aWNlc1tpdGVtLmdjbWlkXSA9IGl0ZW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXZpY2VzW2l0ZW0uc2VyaWFsXSA9IGl0ZW07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZXZpY2VzO1xuICB9O1xuXG4gIGVkaXRJdGVtKGl0ZW0sIGZyb21EZXZpY2VzKSB7XG4gICAgaWYgKCFmcm9tRGV2aWNlcykge1xuICAgICAgZnJvbURldmljZXMgPSBmYWxzZVxuICAgIH1cbiAgICB0aGlzLiRzdGF0ZS5nbygnZWRpdERldmljZScsIHtcbiAgICAgIGRldmljZUtleTogaXRlbS5rZXksXG4gICAgICB0ZW5hbnRLZXk6IGl0ZW0udGVuYW50S2V5LFxuICAgICAgZnJvbURldmljZXM6IGZyb21EZXZpY2VzXG4gICAgfSk7XG4gIH1cblxuICBwcmVwcmF0ZUZvckVkaXRWaWV3KGJ1dHRvbiwgdGVuYW50S2V5LCBzZWFyY2hUZXh0LCBtYWNEZXZpY2VzLCBzZXJpYWxEZXZpY2VzLCBnY21pZERldmljZXMpIHtcbiAgICBsZXQgbWFjLCBzZXJpYWwsIGdjbWlkO1xuXG4gICAgbWFjID0gYnV0dG9uID09PSBcIk1BQ1wiO1xuICAgIHNlcmlhbCA9IGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG4gICAgZ2NtaWQgPSBidXR0b24gPT09IFwiR0NNIElEXCJcblxuICAgIGlmIChtYWMpIHtcbiAgICAgIHJldHVybiB0aGlzLmVkaXRJdGVtKG1hY0RldmljZXNbc2VhcmNoVGV4dF0pO1xuICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG4gICAgICByZXR1cm4gdGhpcy5lZGl0SXRlbShzZXJpYWxEZXZpY2VzW3NlYXJjaFRleHRdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0oZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgIH1cblxuICB9XG5cbiAgZ2V0SXNzdWVzQnlLZXkoZGV2aWNlS2V5LCBzdGFydEVwb2NoLCBlbmRFcG9jaCwgcHJldiwgbmV4dCkge1xuICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuICAgIG5leHQgPSBuZXh0ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBuZXh0O1xuICAgIGxldCB1cmwgPSBgL2FwaS92MS9kZXZpY2VzLyR7cHJldn0vJHtuZXh0fS8ke2RldmljZUtleX0vaXNzdWVzP3N0YXJ0PSR7c3RhcnRFcG9jaH0mZW5kPSR7ZW5kRXBvY2h9YDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0Q29tbWFuZEV2ZW50c0J5S2V5KGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuICAgIG5leHQgPSBuZXh0ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBuZXh0O1xuICAgIGxldCB1cmwgPSBgL2FwaS92MS9wbGF5ZXItY29tbWFuZC1ldmVudHMvJHtwcmV2fS8ke25leHR9LyR7ZGV2aWNlS2V5fWA7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gVEVOQU5UIFZJRVdcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBnZXREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5VGVuYW50VVJMKHRlbmFudEtleSwgcHJldiwgbmV4dCwgZmFsc2UpO1xuICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldFVubWFuYWdlZERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcbiAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICAgIGxldCB1cmwgPSB0aGlzLm1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCB0cnVlKTtcbiAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICB9XG4gIH1cblxuICBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gYC9hcGkvdjEvdGVuYW50cy9zZWFyY2gvJHt0ZW5hbnRLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX3NlcmlhbD0ke3BhcnRpYWxfc2VyaWFsfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL3RlbmFudHMvc2VhcmNoLyR7dGVuYW50S2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mcGFydGlhbF9tYWM9JHtwYXJ0aWFsX21hY31gO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIHNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX2djbWlkLCB1bm1hbmFnZWQpIHtcbiAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS90ZW5hbnRzL3NlYXJjaC8ke3RlbmFudEtleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfZ2NtaWQ9JHtwYXJ0aWFsX2djbWlkfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cblxuICBtYXRjaERldmljZXNCeUZ1bGxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIGZ1bGxfc2VyaWFsLCB1bm1hbmFnZWQpIHtcbiAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS90ZW5hbnRzL21hdGNoLyR7dGVuYW50S2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mZnVsbF9zZXJpYWw9JHtmdWxsX3NlcmlhbH1gO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIG1hdGNoRGV2aWNlc0J5RnVsbE1hY0J5VGVuYW50KHRlbmFudEtleSwgZnVsbF9tYWMsIHVubWFuYWdlZCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL3RlbmFudHMvbWF0Y2gvJHt0ZW5hbnRLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZmdWxsX21hYz0ke2Z1bGxfbWFjfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgbWF0Y2hEZXZpY2VzQnlGdWxsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIGZ1bGxfZ2NtaWQsIHVubWFuYWdlZCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL3RlbmFudHMvbWF0Y2gvJHt0ZW5hbnRLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZmdWxsX2djbWlkPSR7ZnVsbF9nY21pZH1gO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gREVWSUNFUyBWSUVXXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbChkaXN0cmlidXRvcktleSwgcGFydGlhbF9zZXJpYWwsIHVubWFuYWdlZCkge1xuICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gYC9hcGkvdjEvZGlzdHJpYnV0b3JzL3NlYXJjaC8ke2Rpc3RyaWJ1dG9yS2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mcGFydGlhbF9zZXJpYWw9JHtwYXJ0aWFsX3NlcmlhbH1gO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIHNlYXJjaERldmljZXNCeVBhcnRpYWxNYWMoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxfbWFjLCB1bm1hbmFnZWQpIHtcbiAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJHtkaXN0cmlidXRvcktleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfbWFjPSR7cGFydGlhbF9tYWN9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZChkaXN0cmlidXRvcktleSwgcGFydGlhbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS9kaXN0cmlidXRvcnMvc2VhcmNoLyR7ZGlzdHJpYnV0b3JLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX2djbWlkPSR7cGFydGlhbF9nY21pZH1gO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIG1hdGNoRGV2aWNlc0J5RnVsbFNlcmlhbChkaXN0cmlidXRvcktleSwgZnVsbF9zZXJpYWwsIHVubWFuYWdlZCkge1xuICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gYC9hcGkvdjEvZGlzdHJpYnV0b3JzL21hdGNoLyR7ZGlzdHJpYnV0b3JLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZmdWxsX3NlcmlhbD0ke2Z1bGxfc2VyaWFsfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgbWF0Y2hEZXZpY2VzQnlGdWxsTWFjKGRpc3RyaWJ1dG9yS2V5LCBmdWxsX21hYywgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS9kaXN0cmlidXRvcnMvbWF0Y2gvJHtkaXN0cmlidXRvcktleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JmZ1bGxfbWFjPSR7ZnVsbF9tYWN9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBtYXRjaERldmljZXNCeUZ1bGxHQ01pZChkaXN0cmlidXRvcktleSwgZnVsbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS9kaXN0cmlidXRvcnMvbWF0Y2gvJHtkaXN0cmlidXRvcktleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JmZ1bGxfZ2NtaWQ9JHtmdWxsX2djbWlkfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQpIHtcbiAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IHRoaXMubWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCBmYWxzZSk7XG4gICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQpIHtcbiAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IHRoaXMubWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCB0cnVlKTtcbiAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICB9XG4gIH1cblxuICBnZXREZXZpY2VzKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5TRVJWSUNFX05BTUUpLmdldExpc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHNhdmUoZGV2aWNlKSB7XG4gICAgaWYgKGRldmljZS5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByb21pc2UgPSBkZXZpY2UucHV0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdkZXZpY2VzJykucG9zdChkZXZpY2UpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGRlbGV0ZShkZXZpY2VLZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKHRoaXMuU0VSVklDRV9OQU1FLCBkZXZpY2VLZXkpLnJlbW92ZSgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0UGFuZWxNb2RlbHMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ05vbmUnLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnTm9uZSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdTb255LUZYRDQwTFgyRicsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdTb255IEZYRDQwTFgyRidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdORUMtTENENDIxNScsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdORUMgTENENDIxNSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnUGhpbGxpcHMgQkRMNTU2MEVMJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ1BhbmFzb25pYy1USDU1TEY2VScsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdQYW5hc29uaWMgVEg1NUxGNlUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnU2hhcnAtUE5FNTIxJyxcbiAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1NoYXJwIFBORTUyMSdcbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgZ2V0UGFuZWxJbnB1dHMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ05vbmUnLFxuICAgICAgICAncGFyZW50SWQnOiAnTm9uZSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTb255LUZYRDQwTFgyRidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMicsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTb255LUZYRDQwTFgyRidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTInLFxuICAgICAgICAncGFyZW50SWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0RWSScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTEnLFxuICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkyJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1BhbmFzb25pYy1USDU1TEY2VSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdEVkknLFxuICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkxJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMicsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTaGFycC1QTkU1MjEnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnRFZJJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdWR0EnLFxuICAgICAgICAncGFyZW50SWQnOiAnTkVDLUxDRDQyMTUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnRFZJMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdORUMtTENENDIxNSdcbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgbWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCB1bm1hbmFnZWQpIHtcbiAgICBsZXQgdXJsID0gYC9hcGkvdjEvZGlzdHJpYnV0b3JzLyR7ZGlzdHJpYnV0b3JLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZuZXh0X2N1cnNvcj0ke25leHR9JnByZXZfY3Vyc29yPSR7cHJldn1gO1xuICAgIHJldHVybiB1cmxcbiAgfVxuXG4gIG1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCB1bm1hbmFnZWQpIHtcbiAgICBsZXQgdXJsID0gYC9hcGkvdjEvdGVuYW50cy8ke3RlbmFudEtleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9Jm5leHRfY3Vyc29yPSR7bmV4dH0mcHJldl9jdXJzb3I9JHtwcmV2fWA7XG4gICAgcmV0dXJuIHVybFxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvZGV2aWNlcy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlzdHJpYnV0b3JzU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIsICRzdGF0ZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG4gICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2U7XG4gICAgdGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFID0gJ2Rpc3RyaWJ1dG9ycyc7XG4gIH1cblxuICBzYXZlKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGVuYW50LnB1dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLnBvc3QodGVuYW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmZXRjaEFsbCgpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSkuZ2V0TGlzdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZmV0Y2hBbGxCeVVzZXIodXNlcktleSkge1xuICAgIGlmICh1c2VyS2V5KSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKCd1c2VycycsIHVzZXJLZXkpLmRvR0VUKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBnZXRCeUtleShrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgYGFwaS92MS9kaXN0cmlidXRvcnMvJHtrZXl9YCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBkZWxldGUoZW50aXR5KSB7XG4gICAgaWYgKGVudGl0eS5rZXkpIHtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBlbnRpdHkua2V5KS5yZW1vdmUoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIGdldEJ5TmFtZShuYW1lKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLmdldExpc3Qoe2Rpc3RyaWJ1dG9yTmFtZTogbmFtZX0pO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0RG9tYWluc0J5S2V5KGtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBgYXBpL3YxL2Rpc3RyaWJ1dG9ycy8ke2tleX0vZG9tYWluc2ApLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgc3dpdGNoRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IpIHtcbiAgICB0aGlzLlNlc3Npb25zU2VydmljZS5zZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKGRpc3RyaWJ1dG9yLm5hbWUpO1xuICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLnNldEN1cnJlbnREaXN0cmlidXRvcktleShkaXN0cmlidXRvci5rZXkpO1xuICAgIHJldHVybiB0aGlzLiRzdGF0ZS5nbygnd2VsY29tZScpO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvZGlzdHJpYnV0b3JzLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCAgY2xhc3MgRG9tYWluc1NlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgfVxuXG4gIHNhdmUoZG9tYWluKSB7XG4gICAgaWYgKGRvbWFpbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByb21pc2UgPSBkb21haW4ucHV0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdkb21haW5zJykucG9zdChkb21haW4pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGZldGNoQWxsRG9tYWlucygpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKCdkb21haW5zJykuZ2V0TGlzdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0RG9tYWluQnlLZXkoZG9tYWluS2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnZG9tYWlucycsIGBhcGkvdjEvZG9tYWlucy8ke2RvbWFpbktleX1gKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGRlbGV0ZShkb21haW4pIHtcbiAgICBpZiAoZG9tYWluLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKFwiZG9tYWluc1wiLCBkb21haW4ua2V5KS5yZW1vdmUoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9kb21haW5zLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJZGVudGl0eVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG4gIH1cblxuICBnZXRJZGVudGl0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2lkZW50aXR5JykuZ2V0KCk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9pZGVudGl0eS5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZWdyYXRpb25FdmVudHMge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgICB0aGlzLkVOUk9MTE1FTlRfRVZFTlRTID0gJ2ludGVncmF0aW9uX2V2ZW50cy9lbnJvbGxtZW50JztcbiAgfVxuXG4gIGdldEVucm9sbG1lbnRFdmVudHMoZGV2aWNlS2V5KSB7XG4gICAgbGV0IHF1ZXJ5ID0ge1xuICAgICAgZGV2aWNlS2V5XG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5FTlJPTExNRU5UX0VWRU5UUykuY3VzdG9tR0VUKCcnLCBxdWVyeSk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9pbnRlZ3JhdGlvbi1ldmVudHMuc2VydmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIExvY2F0aW9uc1NlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG4gIH1cblxuICBzYXZlKGxvY2F0aW9uKSB7XG4gICAgaWYgKGxvY2F0aW9uLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IGxvY2F0aW9uLnB1dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSgnbG9jYXRpb25zJykucG9zdChsb2NhdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXkodGVuYW50S2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsIGBhcGkvdjEvdGVuYW50cy8ke3RlbmFudEtleX0vbG9jYXRpb25zYCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRMb2NhdGlvbnNCeVRlbmFudEtleVBhZ2luYXRlZCh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcbiAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcbiAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgYGFwaS92MS90ZW5hbnRzLyR7dGVuYW50S2V5fS8ke3ByZXZ9LyR7bmV4dH0vbG9jYXRpb25zYCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRMb2NhdGlvbkJ5S2V5KGxvY2F0aW9uS2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnbG9jYXRpb25zJywgYGFwaS92MS9sb2NhdGlvbnMvJHtsb2NhdGlvbktleX1gKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL2xvY2F0aW9ucy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZ3Jlc3NCYXJTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihuZ1Byb2dyZXNzRmFjdG9yeSkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5uZ1Byb2dyZXNzRmFjdG9yeSA9IG5nUHJvZ3Jlc3NGYWN0b3J5XG4gICAgdGhpcy5wcm9ncmVzc0JhciA9IHRoaXMubmdQcm9ncmVzc0ZhY3RvcnkuY3JlYXRlSW5zdGFuY2UoKTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0Q29sb3IoJyMwMEZDRkYnKTtcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldEhlaWdodCgnNHB4Jyk7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NCYXIuc3RhcnQoKTtcbiAgfVxuXG4gIGNvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLnByb2dyZXNzQmFyLmNvbXBsZXRlKCk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9wcm9ncmVzc2Jhci5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvb2ZQbGF5U2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoJGh0dHAsXG4gICAgICAgICAgICAgICRxLFxuICAgICAgICAgICAgICAkd2luZG93LFxuICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRodHRwID0gJGh0dHBcbiAgICB0aGlzLiRxID0gJHFcbiAgICB0aGlzLiR3aW5kb3cgPSAkd2luZG93XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2VcbiAgICB0aGlzLiRzdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtc1xuICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlXG4gICAgdGhpcy5Ub2FzdHNTZXJ2aWNlID0gVG9hc3RzU2VydmljZVxuICAgIHRoaXMubWFrZUhUVFBSZXF1ZXN0ID0gdGhpcy5tYWtlSFRUUFJlcXVlc3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVyaUJhc2UgPSAncHJvb2ZwbGF5L2FwaS92MSc7XG4gIH1cblxuICBtYWtlSFRUUFVSTCh3aGVyZV90b19nbywgdGVuYW50KSB7XG4gICAgcmV0dXJuIHRoaXMudXJpQmFzZSArIHdoZXJlX3RvX2dvICsgdGVuYW50O1xuICB9XG5cbiAgbWFrZUhUVFBSZXF1ZXN0KHdoZXJlX3RvX2dvLCB0ZW5hbnQpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgbGV0IHVybCA9IHRoaXMubWFrZUhUVFBVUkwod2hlcmVfdG9fZ28sIHRlbmFudCk7XG4gICAgcmV0dXJuIHRoaXMuJGh0dHAuZ2V0KHVybCk7XG4gIH1cblxuICBnZXRBbGxSZXNvdXJjZXModGVuYW50KSB7XG4gICAgbGV0IHIgPSB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfcmVzb3VyY2VzL1wiLCB0ZW5hbnQpO1xuICAgIC8vIHRoZSBjYXRjaCBpcyBvbmx5IGRvbmUgaGVyZSBiZWNhdXNlIDMgcHJvb2Ygb2YgcGxheSB2aWV3cyBhcmUgaW5pdGlsaXplZCBhdCB0aGUgc2FtZSB0aW1lXG4gICAgLy8gc28gdGhpcyBjYXRjaCB3aWxsIGJlIGRvbmUgMyB0aW1lcyB3aXRoIDMgZXJyb3IgbWVzc2FnZXMgaWYgd2UgYWRkIGl0IHRvIGdldEFsbERpc3BsYXlzIGFuZCBnZXRBbGxMb2NhdGlvbnNcbiAgICByLmNhdGNoKGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgIGxldCB7c3RhdHVzfSA9IGVycjtcbiAgICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xuICAgICAgICB0aGlzLlRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoXCJZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHZpZXcgdGhpcyB0ZW5hbnQhXCIpO1xuICAgICAgICB0aGlzLiRzdGF0ZS5nbygncHJvb2YnLCB7fSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgdGhpcy5Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91IG11c3Qgc2VsZWN0IGEgdGVuYW50IGZpcnN0IVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlLmdvKCdwcm9vZicsIHt9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByLnRoZW4oZGF0YSA9PiBkYXRhKTtcbiAgfVxuXG5cbiAgZ2V0QWxsRGlzcGxheXModGVuYW50KSB7XG4gICAgcmV0dXJuIHRoaXMubWFrZUhUVFBSZXF1ZXN0KFwiL3JldHJpZXZlX2FsbF9kaXNwbGF5cy9cIiwgdGVuYW50KTtcbiAgfVxuXG5cbiAgZ2V0QWxsTG9jYXRpb25zKHRlbmFudCkge1xuICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfbG9jYXRpb25zL1wiLCB0ZW5hbnQpO1xuICB9XG5cblxuICBnZXRBbGxUZW5hbnRzKCkge1xuICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9teV90ZW5hbnRzXCIsICcnKTtcbiAgfVxuXG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgcmVzb3VyY2VzLCB0ZW5hbnQpIHtcbiAgICBsZXQgYWxsUmVzb3VyY2VzID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSByZXNvdXJjZXNbaV07XG4gICAgICBhbGxSZXNvdXJjZXMgPSBhbGxSZXNvdXJjZXMgKyBcInxcIiArIGVhY2g7XG4gICAgfVxuXG4gICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9yZXNvdXJjZV9ieV9kYXRlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxSZXNvdXJjZXMgKyAnLycgK1xuICAgICAgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKVxuXG4gICAgICAsICdfYmxhbmsnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGV2aWNlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCByZXNvdXJjZXMsIHRlbmFudCkge1xuICAgIGxldCBhbGxSZXNvdXJjZXMgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IHJlc291cmNlc1tpXTtcbiAgICAgIGFsbFJlc291cmNlcyA9IGFsbFJlc291cmNlcyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX3Jlc291cmNlX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsUmVzb3VyY2VzICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cblxuICBkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGRldmljZXMsIHRlbmFudCkge1xuICAgIGxldCBhbGxEZXZpY2VzID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRldmljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gZGV2aWNlc1tpXTtcbiAgICAgIGFsbERldmljZXMgPSBhbGxEZXZpY2VzICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfZGV2aWNlX3N1bW1hcml6ZWQvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbERldmljZXMgKyAnLycgK1xuICAgICAgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKVxuICAgICAgLCAnX2JsYW5rJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuXG4gIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzQnlEYXRlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBkZXZpY2VzLCB0ZW5hbnQpIHtcbiAgICBsZXQgYWxsRGV2aWNlcyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGRldmljZXNbaV07XG4gICAgICBhbGxEZXZpY2VzID0gYWxsRGV2aWNlcyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2RldmljZV9ieV9kYXRlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxEZXZpY2VzICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBsb2NhdGlvbnMsIHRlbmFudCkge1xuICAgIGxldCBhbGxMb2NhdGlvbnMgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGxvY2F0aW9uc1tpXTtcbiAgICAgIGFsbExvY2F0aW9ucyA9IGFsbExvY2F0aW9ucyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2xvY2F0aW9uX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGxvY2F0aW9ucywgdGVuYW50KSB7XG4gICAgbGV0IGFsbExvY2F0aW9ucyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gbG9jYXRpb25zW2ldO1xuICAgICAgYWxsTG9jYXRpb25zID0gYWxsTG9jYXRpb25zICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfbG9jYXRpb25fc3VtbWFyaXplZC8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY3JlYXRlRmlsdGVyRm9yKHF1ZXJ5KSB7XG4gICAgcXVlcnkgPSBhbmd1bGFyLmxvd2VyY2FzZShxdWVyeSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgICAgcmVzb3VyY2UgPSBhbmd1bGFyLmxvd2VyY2FzZShyZXNvdXJjZSk7XG4gICAgICByZXR1cm4gKHJlc291cmNlLmluZGV4T2YocXVlcnkpID09PSAwKTtcbiAgICB9O1xuICB9XG4gIFxuICBxdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcbiAgICBpZiAoc2VhcmNoVGV4dCkge1xuICAgICAgcmV0dXJuIHJlc291cmNlcy5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXJGb3Ioc2VhcmNoVGV4dCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzb3VyY2VzO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL3Byb29mcGxheS5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2Vzc2lvbnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcigkaHR0cCwgJGxvZywgU3RvcmFnZVNlcnZpY2UsIElkZW50aXR5U2VydmljZSwgUmVzdGFuZ3VsYXIsICRxKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRodHRwID0gJGh0dHBcbiAgICB0aGlzLiRsb2cgPSAkbG9nXG4gICAgdGhpcy5TdG9yYWdlU2VydmljZSA9IFN0b3JhZ2VTZXJ2aWNlXG4gICAgdGhpcy5JZGVudGl0eVNlcnZpY2UgPSBJZGVudGl0eVNlcnZpY2VcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgICB0aGlzLiRxID0gJHFcbiAgICB0aGlzLnNldElkZW50aXR5ID0gdGhpcy5zZXRJZGVudGl0eS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXJpQmFzZSA9ICd2MS9zZXNzaW9ucyc7XG4gIH1cblxuICBzZXREaXN0cmlidXRvcnMoZGlzdHJpYnV0b3JzKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnMnLCBkaXN0cmlidXRvcnMpO1xuICB9XG5cbiAgc2V0RGlzdHJpYnV0b3JzQXNBZG1pbihkaXN0cmlidXRvcnNBc0FkbWluKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnNBc0FkbWluJywgZGlzdHJpYnV0b3JzQXNBZG1pbik7XG4gIH1cblxuICBzZXRJc0FkbWluKGlzQWRtaW4pIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2lzQWRtaW4nLCBpc0FkbWluKTtcbiAgfVxuXG4gIHNldFVzZXJLZXkodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJLZXknLCB2YWx1ZSk7XG4gIH1cblxuICBzZXRVc2VyRW1haWwodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ3VzZXJFbWFpbCcsIHZhbHVlKTtcbiAgfVxuXG4gIHNldEN1cnJlbnREaXN0cmlidXRvcktleSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5JywgdmFsdWUpO1xuICB9XG5cbiAgc2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnY3VycmVudERpc3RyaWJ1dG9yTmFtZScsIHZhbHVlKTtcbiAgfVxuXG4gIGdldFVzZXJLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5Jyk7XG4gIH1cblxuICBnZXRVc2VyRW1haWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyRW1haWwnKTtcbiAgfVxuXG4gIGdldERpc3RyaWJ1dG9ycygpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2Rpc3RyaWJ1dG9ycycpO1xuICB9XG5cbiAgZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvck5hbWUnKTtcbiAgfVxuXG4gIGdldEN1cnJlbnREaXN0cmlidXRvcktleSgpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScpO1xuICB9XG5cbiAgZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2Rpc3RyaWJ1dG9yc0FzQWRtaW4nKTtcbiAgfVxuXG4gIGdldElzQWRtaW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2UuZ2V0KCdpc0FkbWluJyk7XG4gIH1cblxuICBsb2dpbihjcmVkZW50aWFscykge1xuICAgIGxldCBhdXRoZW50aWNhdGlvblBheWxvYWQgPSB7XG4gICAgICBhY2Nlc3NfdG9rZW46IF8uY2xvbmUoY3JlZGVudGlhbHMuYWNjZXNzX3Rva2VuKSxcbiAgICAgIGF1dGh1c2VyOiBfLmNsb25lKGNyZWRlbnRpYWxzLmF1dGh1c2VyKSxcbiAgICAgIGNsaWVudF9pZDogXy5jbG9uZShjcmVkZW50aWFscy5jbGllbnRfaWQpLFxuICAgICAgY29kZTogXy5jbG9uZShjcmVkZW50aWFscy5jb2RlKSxcbiAgICAgIGlkX3Rva2VuOiBfLmNsb25lKGNyZWRlbnRpYWxzLmlkX3Rva2VuKSxcbiAgICAgIHNjb3BlOiBfLmNsb25lKGNyZWRlbnRpYWxzLnNjb3BlKSxcbiAgICAgIHNlc3Npb25fc3RhdGU6IF8uY2xvbmUoY3JlZGVudGlhbHMuc2Vzc2lvbl9zdGF0ZSksXG4gICAgICBzdGF0ZTogXy5jbG9uZShjcmVkZW50aWFscy5zdGF0ZSksXG4gICAgICBzdGF0dXM6IF8uY2xvbmUoY3JlZGVudGlhbHMuc3RhdHVzKVxuICAgIH07XG5cbiAgICBpZiAoY3JlZGVudGlhbHMuZW1haWwgJiYgY3JlZGVudGlhbHMucGFzc3dvcmQpIHtcbiAgICAgIGF1dGhlbnRpY2F0aW9uUGF5bG9hZCA9IGNyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIGxldCBwcm9taXNlID0gdGhpcy4kaHR0cC5wb3N0KCcvbG9naW4nLCBhdXRoZW50aWNhdGlvblBheWxvYWQpO1xuICAgIHJldHVybiBwcm9taXNlLnN1Y2Nlc3MoZGF0YSA9PiB7XG4gICAgICB0aGlzLnNldFVzZXJLZXkoZGF0YS51c2VyLmtleSk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRJZGVudGl0eSgpXG4gICAgICAgIC50aGVuKCgpID0+IGRhdGEpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0SWRlbnRpdHkoKSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCBpZGVudGl0eVByb21pc2UgPSB0aGlzLklkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgIGlkZW50aXR5UHJvbWlzZS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5zZXREaXN0cmlidXRvcnMoZGF0YVsnZGlzdHJpYnV0b3JzJ10pO1xuICAgICAgdGhpcy5zZXREaXN0cmlidXRvcnNBc0FkbWluKGRhdGFbJ2Rpc3RyaWJ1dG9yc19hc19hZG1pbiddKTtcbiAgICAgIHRoaXMuc2V0SXNBZG1pbihkYXRhWydpc19hZG1pbiddKTtcbiAgICAgIHRoaXMuc2V0VXNlckVtYWlsKGRhdGFbJ2VtYWlsJ10pO1xuICAgICAgdGhpcy5zZXRJc0FkbWluKGRhdGFbXCJpc19hZG1pblwiXSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICByZW1vdmVVc2VySW5mbygpIHtcbiAgICB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnJlbW92ZUFsbCgpO1xuICB9XG59XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9zZXNzaW9ucy5zZXJ2aWNlLmpzXG4gKiovIiwiaW1wb3J0IExvY2tyIGZyb20gJ2xvY2tyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmFnZVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gTG9ja3Iuc2V0KGtleSwgdmFsdWUpO1xuICB9XG5cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiBMb2Nrci5nZXQoa2V5KTtcbiAgfVxuXG4gIHJtKGtleSkge1xuICAgIHJldHVybiBMb2Nrci5ybShrZXkpO1xuICB9XG5cbiAgcmVtb3ZlQWxsKCkge1xuICAgIExvY2tyLmZsdXNoKCk7XG4gIH1cblxufVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvc3RvcmFnZS5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVuYW50c1NlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyLCBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcbiAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcbiAgfVxuXG4gIHNhdmUodGVuYW50KSB7XG4gICAgaWYgKHRlbmFudC5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByb21pc2UgPSB0ZW5hbnQucHV0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCd0ZW5hbnRzJykucG9zdCh0ZW5hbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHNlYXJjaEFsbFRlbmFudHNCeU5hbWUodGVuYW50X25hbWUpIHtcbiAgICBsZXQgdXJsID0gYC9hcGkvdjEvdGVuYW50cz90ZW5hbnRfbmFtZT0ke3RlbmFudF9uYW1lfWA7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmZXRjaEFsbFRlbmFudHMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgndGVuYW50cycpLmdldExpc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGZldGNoQWxsVGVuYW50c1BhZ2luYXRlZChwYWdlX3NpemUsIG9mZnNldCkge1xuICAgIGxldCB1cmwgPSBgYXBpL3YxL3RlbmFudHMvcGFnaW5hdGVkLyR7cGFnZV9zaXplfS8ke29mZnNldH1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0VGVuYW50QnlLZXkodGVuYW50S2V5KSB7XG4gICAgbGV0IHVybCA9IGBhcGkvdjEvdGVuYW50cy8ke3RlbmFudEtleX1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZGVsZXRlKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUoXCJ0ZW5hbnRzXCIsIHRlbmFudC5rZXkpLnJlbW92ZSgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG59XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy90ZW5hbnRzLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUaW1lem9uZXNTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICB9XG5cbiAgZ2V0VXNUaW1lem9uZXMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGltZXpvbmVzJywgJ2FwaS92MS90aW1lem9uZXMvdXMnKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldEFsbFRpbWV6b25lcygpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0aW1lem9uZXMnLCAnYXBpL3YxL3RpbWV6b25lcy9hbGwnKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldEN1c3RvbVRpbWV6b25lcygpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0aW1lem9uZXMnLCAnYXBpL3YxL3RpbWV6b25lcy9jdXN0b20nKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy90aW1lem9uZXMuc2VydmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvYXN0c1NlcnZpY2Uge1xuICBcbiAgY29uc3RydWN0b3IodG9hc3RyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLnRvYXN0ciA9IHRvYXN0cjtcbiAgfVxuXG4gIHNob3dTdWNjZXNzVG9hc3QobWVzc2FnZSwgdGl0bGUgPSAnU3VjY2VzcyEnKSB7XG4gICAgcmV0dXJuIHRoaXMudG9hc3RyLnN1Y2Nlc3MobWVzc2FnZSwgdGl0bGUpO1xuICB9XG5cbiAgc2hvd0Vycm9yVG9hc3QobWVzc2FnZSwgdGl0bGUgPSAnRXJyb3IhJykge1xuICAgIHJldHVybiB0aGlzLnRvYXN0ci5lcnJvcihtZXNzYWdlLCB0aXRsZSk7XG4gIH1cblxuICBzaG93SW5mb1RvYXN0KG1lc3NhZ2UsIHRpdGxlID0gJ0luZm9ybWF0aW9uJykge1xuICAgIHJldHVybiB0aGlzLnRvYXN0ci5pbmZvKG1lc3NhZ2UsIHRpdGxlKTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL3RvYXN0cy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVyc2lvbnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gIH1cblxuICBnZXRWZXJzaW9ucygpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd2ZXJzaW9ucycpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvdmVyc2lvbnMuc2VydmljZS5qc1xuICoqLyIsImZ1bmN0aW9uIFRlbmFudEFkZEN0cmwoJGxvZywgJGxvY2F0aW9uLCBUZW5hbnRzU2VydmljZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgVGltZXpvbmVzU2VydmljZSwgJHN0YXRlLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmdhbWVTdG9wU2VydmVyID0gJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xO1xuICB2bS5jdXJyZW50VGVuYW50ID0ge1xuICAgIGtleTogdW5kZWZpbmVkLFxuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG4gICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcbiAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuICAgIHByb29mX29mX3BsYXlfdXJsOiB1bmRlZmluZWQsXG4gICAgYWN0aXZlOiB0cnVlXG4gIH07XG4gIHZtLnNlbGVjdGVkRG9tYWluID0gdW5kZWZpbmVkO1xuICB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBbXTtcbiAgdm0udGltZXpvbmVzID0gW107XG4gIHZtLnNlbGVjdGVkVGltZXpvbmUgPSAnQW1lcmljYS9DaGljYWdvJztcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCB0aW1lem9uZVByb21pc2UgPSBUaW1lem9uZXNTZXJ2aWNlLmdldEN1c3RvbVRpbWV6b25lcygpO1xuICAgIHRpbWV6b25lUHJvbWlzZS50aGVuKGRhdGEgPT4gdm0udGltZXpvbmVzID0gZGF0YSk7XG4gICAgdm0uY3VycmVudERpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuICAgIGxldCBkaXN0cmlidXRvclByb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmdldEJ5S2V5KHZtLmN1cnJlbnREaXN0cmlidXRvcktleSk7XG4gICAgZGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmN1cnJlbnRUZW5hbnQuY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsID0gZGF0YS5jb250ZW50X21hbmFnZXJfdXJsO1xuICAgICAgcmV0dXJuIHZtLmN1cnJlbnRUZW5hbnQuY29udGVudF9zZXJ2ZXJfdXJsID0gZGF0YS5wbGF5ZXJfY29udGVudF91cmw7XG4gICAgfSk7XG4gICAgbGV0IGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0RG9tYWluc0J5S2V5KHZtLmN1cnJlbnREaXN0cmlidXRvcktleSk7XG4gICAgcmV0dXJuIGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZS50aGVuKGRvbWFpbnMgPT4gdm0uZGlzdHJpYnV0b3JEb21haW5zID0gZG9tYWlucyk7XG4gIH07XG5cbiAgdm0ub25DbGlja1NhdmVCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgdm0uY3VycmVudFRlbmFudC5kZWZhdWx0X3RpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcbiAgICB2bS5jdXJyZW50VGVuYW50LmRvbWFpbl9rZXkgPSB2bS5zZWxlY3RlZERvbWFpbi5rZXk7XG4gICAgbGV0IHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zYXZlKHZtLmN1cnJlbnRUZW5hbnQpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzVGVuYW50U2F2ZSwgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSk7XG4gIH07XG5cbiAgdm0ub25TdWNjZXNzVGVuYW50U2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRzJyk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSA9IGZ1bmN0aW9uIChlcnJvck9iamVjdCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIGlmIChlcnJvck9iamVjdC5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLFxuICAgICAgICAnVGVuYW50IGNvZGUgdW5hdmFpbGFibGUuIFBsZWFzZSBtb2RpZnkgdGVuYW50IG5hbWUgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgdGVuYW50IGNvZGUuJywgJ2Vycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRsb2cuZXJyb3IoZXJyb3JPYmplY3QpO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVW5hYmxlIHRvIHNhdmUgdGhlIHRlbmFudC4nLCAnZXJyb3InKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uYXV0b0dlbmVyYXRlVGVuYW50Q29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXZtLmN1cnJlbnRUZW5hbnQua2V5KSB7XG4gICAgICBsZXQgbmV3VGVuYW50Q29kZSA9ICcnO1xuICAgICAgaWYgKHZtLmN1cnJlbnRUZW5hbnQubmFtZSkge1xuICAgICAgICBuZXdUZW5hbnRDb2RlID0gdm0uY3VycmVudFRlbmFudC5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xccysvZywgJ18nKTtcbiAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudC50ZW5hbnRfY29kZSA9IG5ld1RlbmFudENvZGU7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cbmV4cG9ydCB7VGVuYW50QWRkQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LWFkZC5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gVGVuYW50RGV0YWlsc0N0cmwoJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgRG9tYWluc1NlcnZpY2UsIFRpbWV6b25lc1NlcnZpY2UsIERpc3RyaWJ1dG9yc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UsIFRvYXN0c1NlcnZpY2UsIFNlc3Npb25zU2VydmljZSwgJHNjb3BlLCAkbG9jYXRpb24pIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmdhbWVTdG9wU2VydmVyID0gJGxvY2F0aW9uLmhvc3QoKS5pbmRleE9mKCdwcm92aXNpb25pbmctZ2FtZXN0b3AnKSA+IC0xO1xuICB2bS5jdXJyZW50VGVuYW50ID0ge1xuICAgIGtleTogdW5kZWZpbmVkLFxuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG4gICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcbiAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuICAgIHByb29mX29mX3BsYXlfdXJsOiB1bmRlZmluZWQsXG4gICAgYWN0aXZlOiB0cnVlXG4gIH07XG4gIHZtLnNlbGVjdGVkRG9tYWluID0gdW5kZWZpbmVkO1xuICB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBbXTtcbiAgdm0udGltZXpvbmVzID0gW107XG4gIHZtLnNlbGVjdGVkVGltZXpvbmUgPSAnQW1lcmljYS9DaGljYWdvJztcbiAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSgkc3RhdGVQYXJhbXMudGVuYW50S2V5KTtcbiAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuICAgICAgdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcbiAgICAgIHJldHVybiB2bS5vblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQodGVuYW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHRpbWV6b25lUHJvbWlzZSA9IFRpbWV6b25lc1NlcnZpY2UuZ2V0Q3VzdG9tVGltZXpvbmVzKCk7XG4gICAgdGltZXpvbmVQcm9taXNlLnRoZW4oZGF0YSA9PiB2bS50aW1lem9uZXMgPSBkYXRhKTtcbiAgICB2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG4gICAgbGV0IGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0RG9tYWluc0J5S2V5KHZtLmN1cnJlbnREaXN0cmlidXRvcktleSk7XG4gICAgcmV0dXJuIGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZS50aGVuKGRvbWFpbnMgPT4gdm0uZGlzdHJpYnV0b3JEb21haW5zID0gZG9tYWlucyk7XG4gIH07XG5cbiAgdm0ub25TdWNjZXNzUmVzb2x2aW5nVGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuICAgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSB0ZW5hbnQuZGVmYXVsdF90aW1lem9uZTtcbiAgICBsZXQgZG9tYWluUHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmdldERvbWFpbkJ5S2V5KHRlbmFudC5kb21haW5fa2V5KTtcbiAgICByZXR1cm4gZG9tYWluUHJvbWlzZS50aGVuKGRhdGEgPT4gdm0uc2VsZWN0ZWREb21haW4gPSBkYXRhKTtcbiAgfTtcblxuICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICB2bS5jdXJyZW50VGVuYW50LmRlZmF1bHRfdGltZXpvbmUgPSB2bS5zZWxlY3RlZFRpbWV6b25lO1xuICAgIHZtLmN1cnJlbnRUZW5hbnQuZG9tYWluX2tleSA9IHZtLnNlbGVjdGVkRG9tYWluLmtleTtcbiAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNhdmUodm0uY3VycmVudFRlbmFudCk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlLCB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlKTtcbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdGVuYW50IGluZm9ybWF0aW9uLicpO1xuICB9O1xuXG4gIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUgPSBmdW5jdGlvbiAoZXJyb3JPYmplY3QpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBpZiAoZXJyb3JPYmplY3Quc3RhdHVzID09PSA0MDkpIHtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJyxcbiAgICAgICAgJ1RlbmFudCBjb2RlIHVuYXZhaWxhYmxlLiBQbGVhc2UgbW9kaWZ5IHRlbmFudCBuYW1lIHRvIGdlbmVyYXRlIGEgdW5pcXVlIHRlbmFudCBjb2RlLicsICdlcnJvcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gc2F2ZSB0aGUgdGVuYW50LicsICdlcnJvcicpO1xuICAgIH1cbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IGl0ZW0gPT4gJHN0YXRlLmdvKCdlZGl0RGV2aWNlJywge2RldmljZUtleTogaXRlbS5rZXksIHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuXG4gIHZtLmF1dG9HZW5lcmF0ZVRlbmFudENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF2bS5jdXJyZW50VGVuYW50LmtleSkge1xuICAgICAgbGV0IG5ld1RlbmFudENvZGUgPSAnJztcbiAgICAgIGlmICh2bS5jdXJyZW50VGVuYW50Lm5hbWUpIHtcbiAgICAgICAgbmV3VGVuYW50Q29kZSA9IHZtLmN1cnJlbnRUZW5hbnQubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG4gICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZtLmN1cnJlbnRUZW5hbnQudGVuYW50X2NvZGUgPSBuZXdUZW5hbnRDb2RlO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUudGFiSW5kZXggPSAwO1xuXG4gICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG4gICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN3aXRjaCAodG9UYWIpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge1RlbmFudERldGFpbHNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtZGV0YWlscy5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gVGVuYW50TG9jYXRpb25DdHJsKCRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsICRzdGF0ZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0ubG9jYXRpb24gPSB7XG4gICAga2V5OiB1bmRlZmluZWRcbiAgfTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy5sb2NhdGlvbktleTtcbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IGxvY2F0aW9uUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25CeUtleSgkc3RhdGVQYXJhbXMubG9jYXRpb25LZXkpO1xuICAgIGxvY2F0aW9uUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5sb2NhdGlvbiA9IGRhdGE7XG4gICAgICB2bS50ZW5hbnRLZXkgPSBkYXRhLnRlbmFudEtleTtcbiAgICAgIHZtLmxvY2F0aW9uTmFtZSA9IGRhdGEuY3VzdG9tZXJMb2NhdGlvbk5hbWU7XG4gICAgICByZXR1cm4gdm0uZmV0Y2hUZW5hbnROYW1lKHZtLnRlbmFudEtleSk7XG4gICAgfSk7XG4gIH1cblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdm0uZWRpdE1vZGUpIHtcbiAgICAgIHZtLmZldGNoVGVuYW50TmFtZSh2bS50ZW5hbnRLZXkpO1xuICAgICAgcmV0dXJuIHZtLmxvY2F0aW9uID0ge1xuICAgICAgICB0ZW5hbnRLZXk6IHZtLnRlbmFudEtleSxcbiAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2F2ZSh2bS5sb2NhdGlvbik7XG4gICAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1VwZGF0aW5nTG9jYXRpb24odm0udGVuYW50S2V5KSwgdm0ub25GYWlsdXJlU2F2aW5nTG9jYXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uLCB2bS5vbkZhaWx1cmVTYXZpbmdMb2NhdGlvbik7XG4gICAgfVxuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciBsb2NhdGlvbi4nKTtcbiAgICByZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24gKCkge1xuICAgICAgJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICByZXR1cm47XG4gICAgfSksIDEwMDApO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1VwZGF0aW5nTG9jYXRpb24gPSBmdW5jdGlvbiAodGVuYW50X2tleSkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgdXBkYXRlZCB5b3VyIGxvY2F0aW9uLicpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbiAoKSB7XG4gICAgICAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6IHRlbmFudF9rZXl9KTtcbiAgICAgIHJldHVybjtcbiAgICB9KSwgMTAwMCk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlU2F2aW5nTG9jYXRpb24gPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ0xvY2F0aW9uIGNvZGUgY29uZmxpY3QuIFVuYWJsZSB0byBzYXZlIHlvdXIgbG9jYXRpb24uJyk7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsXG4gICAgICAgICdQbGVhc2UgY2hhbmdlIHlvdXIgY3VzdG9tZXIgbG9jYXRpb24gbmFtZS4gTG9jYXRpb24gbmFtZSBtdXN0IGdlbmVyYXRlIGEgdW5pcXVlIGxvY2F0aW9uIGNvZGUuJyxcbiAgICAgICAgJ2Vycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdVbmFibGUgdG8gc2F2ZSB5b3VyIGxvY2F0aW9uLicpO1xuICAgIH1cbiAgfTtcblxuICB2bS5mZXRjaFRlbmFudE5hbWUgPSBmdW5jdGlvbiAodGVuYW50S2V5KSB7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh0ZW5hbnRLZXkpO1xuICAgIHJldHVybiB0ZW5hbnRQcm9taXNlLnRoZW4odGVuYW50ID0+IHZtLnRlbmFudE5hbWUgPSB0ZW5hbnQubmFtZSk7XG4gIH07XG5cbiAgdm0uYXV0b0dlbmVyYXRlQ3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF2bS5sb2NhdGlvbi5rZXkpIHtcbiAgICAgIGxldCBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9ICcnO1xuICAgICAgaWYgKHZtLmxvY2F0aW9uLmN1c3RvbWVyTG9jYXRpb25OYW1lKSB7XG4gICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gdm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbk5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG4gICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtUZW5hbnRMb2NhdGlvbkN0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbi5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gVGVuYW50TWFuYWdlZERldmljZXNDdHJsKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgJHN0YXRlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5jdXJyZW50VGVuYW50ID0ge1xuICAgIGtleTogdW5kZWZpbmVkLFxuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG4gICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcbiAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuICAgIGFjdGl2ZTogdHJ1ZVxuICB9O1xuICB2bS50ZW5hbnREZXZpY2VzID0gW107XG4gIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiU2VyaWFsIE51bWJlclwiO1xuICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblxuICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uICh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBkZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcik7XG4gICAgcmV0dXJuIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmRldmljZXNQcmV2ID0gZGF0YVtcInByZXZfY3Vyc29yXCJdO1xuICAgICAgdm0uZGV2aWNlc05leHQgPSBkYXRhW1wibmV4dF9jdXJzb3JcIl07XG4gICAgICB2bS50ZW5hbnREZXZpY2VzID0gZGF0YVtcImRldmljZXNcIl07XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0uZWRpdEl0ZW0gPSAoaXRlbSkgPT4gRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0oaXRlbSlcblxuICB2bS5yZWZyZXNoRGV2aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG4gICAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuICAgIHZtLnRlbmFudERldmljZXMgPSBudWxsO1xuICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG4gIH07XG5cbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuICAgIHRlbmFudFByb21pc2UudGhlbih0ZW5hbnQgPT4gdm0uY3VycmVudFRlbmFudCA9IHRlbmFudCk7XG4gICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCBudWxsKTtcbiAgfVxuXG4gICRzY29wZS50YWJJbmRleCA9IDE7XG5cbiAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcbiAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoICh0b1RhYikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXk6IHZtLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiB2bS50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiB2bS50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6IHZtLnRlbmFudEtleX0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gICAgcmV0dXJuIHZtLm1hY0RldmljZXMgPSB7fTtcbiAgfTtcblxuICB2bS5zZWFyY2hEZXZpY2VzID0gZnVuY3Rpb24gKHBhcnRpYWwpIHtcbiAgICBsZXQgdW5tYW5hZ2VkID0gZmFsc2U7XG4gICAgbGV0IGJ1dHRvbiA9IHZtLnNlbGVjdGVkQnV0dG9uO1xuICAgIGxldCBieVRlbmFudCA9IHRydWU7XG4gICAgbGV0IHRlbmFudEtleSA9IHZtLnRlbmFudEtleTtcbiAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBsZXQgZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXNcbiAgICAgICAgICBpZiAoYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuICAgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcbiAgICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlc1swXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlc1swXVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gW11cbiAgICAgICAgfVxuICAgICAgfSlcbiAgfTtcblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSAoc2VhcmNoVGV4dCkgPT4gRGV2aWNlc1NlcnZpY2UucHJlcHJhdGVGb3JFZGl0VmlldyhcbiAgICB2bS5zZWxlY3RlZEJ1dHRvbixcbiAgICB2bS50ZW5hbnRLZXksXG4gICAgc2VhcmNoVGV4dCxcbiAgICB2bS5tYWNEZXZpY2VzLFxuICAgIHZtLnNlcmlhbERldmljZXMsXG4gICAgdm0uZ2NtaWREZXZpY2VzXG4gIClcblxuICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uIChpc01hdGNoKSB7XG4gICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcbiAgICByZXR1cm4gdm0ubG9hZGluZ0Rpc2FibGVkID0gZmFsc2U7XG4gIH07XG5cbiAgdm0uaXNSZXNvdXJjZVZhbGlkID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgbGV0IHVubWFuYWdlZCA9IGZhbHNlO1xuICAgIGxldCBieVRlbmFudCA9IHRydWU7XG4gICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLmlzUmVzb3VyY2VWYWxpZChyZXNvdXJjZSwgdm0uc2VsZWN0ZWRCdXR0b24sIGJ5VGVuYW50LCB2bS50ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpXG4gICAgICAudGhlbihyZXMgPT4gdm0uY29udHJvbE9wZW5CdXR0b24ocmVzW1wiaXNfbWF0Y2hcIl0pKTtcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge1RlbmFudE1hbmFnZWREZXZpY2VzQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LW1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwoJHNjb3BlLCAkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBEZXZpY2VzU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCAkc3RhdGUpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG4gICAga2V5OiB1bmRlZmluZWQsXG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG4gICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcbiAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG4gICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG4gICAgYWN0aXZlOiB0cnVlXG4gIH07XG4gIHZtLmdjbWlkRGV2aWNlcyA9IFtdO1xuICB2bS50ZW5hbnREZXZpY2VzID0gW107XG4gIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiTUFDXCI7XG4gIHZtLnNlcmlhbERldmljZXMgPSB7fTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5tYWNEZXZpY2VzID0ge307XG4gIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXG4gICRzY29wZS50YWJJbmRleCA9IDI7XG5cbiAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcbiAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoICh0b1RhYikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXk6IHZtLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiB2bS50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiB2bS50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6IHZtLnRlbmFudEtleX0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdm0uZWRpdEl0ZW0gPSAoaXRlbSkgPT4gRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0oaXRlbSlcblxuICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKTtcbiAgICByZXR1cm4gZGV2aWNlc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uZGV2aWNlc1ByZXYgPSBkYXRhW1wicHJldl9jdXJzb3JcIl07XG4gICAgICB2bS5kZXZpY2VzTmV4dCA9IGRhdGFbXCJuZXh0X2N1cnNvclwiXTtcbiAgICAgIHZtLnRlbmFudERldmljZXMgPSBkYXRhW1wiZGV2aWNlc1wiXTtcbiAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgfTtcblxuICBpZiAodm0uZWRpdE1vZGUpIHtcbiAgICBsZXQgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHZtLnRlbmFudEtleSk7XG4gICAgdGVuYW50UHJvbWlzZS50aGVuKHRlbmFudCA9PiB2bS5jdXJyZW50VGVuYW50ID0gdGVuYW50KTtcbiAgICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgbnVsbCwgbnVsbCk7XG4gIH1cblxuICB2bS5yZWZyZXNoRGV2aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG4gICAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuICAgIHZtLnRlbmFudERldmljZXMgPSBudWxsO1xuICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcbiAgfTtcblxuICB2bS5jaGFuZ2VSYWRpbyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcbiAgICByZXR1cm4gdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB9O1xuXG4gIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAocGFydGlhbCkge1xuICAgIGxldCB1bm1hbmFnZWQgPSB0cnVlO1xuICAgIGxldCBieVRlbmFudCA9IHRydWU7XG4gICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnNlYXJjaERldmljZXMocGFydGlhbCwgdm0uc2VsZWN0ZWRCdXR0b24sIGJ5VGVuYW50LCB2bS50ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBsZXQgZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXNcbiAgICAgICAgICBpZiAodm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG4gICAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgcmV0dXJuIGRldmljZXNbMF1cbiAgICAgICAgICB9IGVsc2UgaWYgKHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiKSB7XG4gICAgICAgICAgICB2bS5tYWNEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgcmV0dXJuIGRldmljZXNbMF1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgcmV0dXJuIGRldmljZXNbMF1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgfTtcblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIHZtLmRldmljZXNOZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgbnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLnByZXBhcmVGb3JFZGl0VmlldyA9IChzZWFyY2hUZXh0KSA9PiBEZXZpY2VzU2VydmljZS5wcmVwcmF0ZUZvckVkaXRWaWV3KFxuICAgIHZtLnNlbGVjdGVkQnV0dG9uLFxuICAgIHZtLnRlbmFudEtleSxcbiAgICBzZWFyY2hUZXh0LFxuICAgIHZtLm1hY0RldmljZXMsXG4gICAgdm0uc2VyaWFsRGV2aWNlcyxcbiAgICB2bS5nY21pZERldmljZXNcbiAgKVxuXG4gIHZtLmNvbnRyb2xPcGVuQnV0dG9uID0gZnVuY3Rpb24gKGlzTWF0Y2gpIHtcbiAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuICAgIHJldHVybiB2bS5sb2FkaW5nRGlzYWJsZWQgPSBmYWxzZTtcbiAgfTtcblxuICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICBsZXQgdW5tYW5hZ2VkID0gdHJ1ZTtcbiAgICBsZXQgYnlUZW5hbnQgPSB0cnVlO1xuICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5pc1Jlc291cmNlVmFsaWQocmVzb3VyY2UsIHZtLnNlbGVjdGVkQnV0dG9uLCBieVRlbmFudCwgdm0udGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4ocmVzID0+IHZtLmNvbnRyb2xPcGVuQnV0dG9uKHJlc1tcImlzX21hdGNoXCJdKSk7XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LXVubWFuYWdlZC1kZXZpY2VzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBUZW5hbnRzQ3RybCgkc3RhdGUsICRsb2csIFRlbmFudHNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsIHN3ZWV0KSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuXG4gIC8vIFBhZ2luYXRlZCBUZW5hbnRzXG4gIHZtLnRlbmFudHMgPSBbXTtcbiAgLy8gQ3VycmVudCBTZWFyY2ggb2YgVGVuYW50cyBSZXN1bHRzXG4gIHZtLnNlYXJjaGVkVGVuYW50cyA9IFtdO1xuICB2bS5zZWFyY2hNYXRjaCA9IG51bGw7XG4gIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblxuICB2bS5nZXRUZW5hbnRzUGFnaW5hdGVkID0gZnVuY3Rpb24gKHBhZ2Vfc2l6ZSwgb2Zmc2V0KSB7XG4gICAgdm0ub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZmV0Y2hBbGxUZW5hbnRzUGFnaW5hdGVkKHBhZ2Vfc2l6ZSwgb2Zmc2V0KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKChyZXNwb25zZSA9PiB2bS5nZXRGZXRjaFN1Y2Nlc3MocmVzcG9uc2UpKSwgcmVzcG9uc2UgPT4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKSk7XG4gIH07XG5cbiAgdm0uZ2V0RmV0Y2hTdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgdm0udGVuYW50cyA9IHJlc3BvbnNlLnRlbmFudHM7XG4gICAgdm0udG90YWwgPSByZXNwb25zZS50b3RhbDtcbiAgICB2bS5pc19maXJzdF9wYWdlID0gcmVzcG9uc2UuaXNfZmlyc3RfcGFnZTtcbiAgICB2bS5pc19sYXN0X3BhZ2UgPSByZXNwb25zZS5pc19sYXN0X3BhZ2U7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgfTtcblxuICB2bS5nZXRGZXRjaEZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gYFVuYWJsZSB0byBmZXRjaCB0ZW5hbnRzLiBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0uYDtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG4gIH07XG5cblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLm9mZnNldCA9IDA7XG4gICAgdm0uc2VhcmNoQWxsVGVuYW50c0J5TmFtZSgnbXknKVxuICAgIHJldHVybiB2bS5nZXRUZW5hbnRzUGFnaW5hdGVkKDEwMCwgdm0ub2Zmc2V0KTtcbiAgfTtcblxuICB2bS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lID0gZnVuY3Rpb24gKHRlbmFudF9uYW1lKSB7XG4gICAgaWYgKCF0ZW5hbnRfbmFtZSB8fCB0ZW5hbnRfbmFtZS5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgbGV0IHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lKHRlbmFudF9uYW1lKVxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICB2bS5zZWFyY2hlZFRlbmFudHMgPSByZXNwb25zZVtcIm1hdGNoZXNcIl1cbiAgICAgIGlmICh2bS5zZWFyY2hlZFRlbmFudHMpIHtcbiAgICAgICAgcmV0dXJuIHZtLnNlYXJjaGVkVGVuYW50cy5tYXAoKGkpID0+IGkubmFtZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbXVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2goKHJlc3BvbnNlKSA9PiB7XG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gYFVuYWJsZSB0byBmZXRjaCB0ZW5hbnRzLiBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YDtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcbiAgICB9KVxuICB9XG5cbiAgdm0uaXNUZW5hbnRWYWxpZCA9ICh0ZW5hbnRfbmFtZSkgPT4ge1xuICAgIGlmICghdGVuYW50X25hbWUgfHwgdGVuYW50X25hbWUubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2VhcmNoQWxsVGVuYW50c0J5TmFtZSh0ZW5hbnRfbmFtZSlcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBsZXQgbWF0Y2ggPSByZXNwb25zZVtcIm1hdGNoZXNcIl1bMF1cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgdm0uc2VhcmNoTWF0Y2ggPSBtYXRjaFxuICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gISh0ZW5hbnRfbmFtZSA9PT0gbWF0Y2gubmFtZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH1cblxuICB2bS5lZGl0SXRlbSA9IGl0ZW0gPT4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywge3RlbmFudEtleTogaXRlbS5rZXl9KTtcblxuICB2bS5kZWxldGVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBsZXQgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmRlbGV0ZShpdGVtKTtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oKCkgPT4gdm0uaW5pdGlhbGl6ZSgpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHN3ZWV0LnNob3coe1xuICAgICAgdGl0bGU6IFwiQXJlIHlvdSBzdXJlP1wiLFxuICAgICAgdGV4dDogXCJUaGlzIHdpbGwgcGVybWFuZW50bHkgcmVtb3ZlIHRoZSB0ZW5hbnQgZnJvbSB0aGUgc3lzdGVtLlwiLFxuICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG4gICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcIiNERDZCNTVcIixcbiAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIlllcywgcmVtb3ZlIHRoZSB0ZW5hbnQhXCIsXG4gICAgICBjbG9zZU9uQ29uZmlybTogdHJ1ZVxuICAgIH0sIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge1RlbmFudHNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3RlbmFudC90ZW5hbnRzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBXZWxjb21lQ3RybChWZXJzaW9uc1NlcnZpY2UsICRzdGF0ZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS52ZXJzaW9uX2RhdGEgPSBbXTtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG5cbiAgdm0ucHJvY2VlZFRvU2lnbkluID0gKCkgPT4gJHN0YXRlLmdvKCdzaWduX2luJyk7XG5cbiAgdm0uY2FwaXRhbGl6ZUZpcnN0TGV0dGVyID0gc3RyaW5nID0+IHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcblxuICB2bS5naXZlT3B0aW9uVG9DaGFuZ2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgZGlzdHJpYnV0b3JzUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZmV0Y2hBbGxCeVVzZXIoU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSk7XG4gICAgcmV0dXJuIGRpc3RyaWJ1dG9yc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uaGFzX211bHRpcGxlX2Rpc3RyaWJ1dG9ycyA9IGRhdGEubGVuZ3RoID4gMTtcbiAgICAgIHJldHVybiB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0uY2hhbmdlRGlzdHJpYnV0b3IgPSAoKSA9PiAkc3RhdGUuZ28oJ2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbicpO1xuXG4gIHZtLmdldFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHByb21pc2UgPSBWZXJzaW9uc1NlcnZpY2UuZ2V0VmVyc2lvbnMoKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKGRhdGEgPT4gdm0udmVyc2lvbl9kYXRhID0gZGF0YSk7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5pZGVudGl0eSA9IHtcbiAgICAgIGtleTogU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSxcbiAgICAgIGVtYWlsOiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCksXG4gICAgICBkaXN0cmlidXRvcktleTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLFxuICAgICAgZGlzdHJpYnV0b3JOYW1lOiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpXG4gICAgfTtcblxuICAgIHZtLmdpdmVPcHRpb25Ub0NoYW5nZURpc3RyaWJ1dG9yKCk7XG5cbiAgICBpZiAoIXZtLmlkZW50aXR5LmVtYWlsKSB7XG4gICAgICByZXR1cm4gJHN0YXRlLmdvKFwic2lnbl9pblwiKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0VmVyc2lvbigpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtXZWxjb21lQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC93ZWxjb21lL3dlbGNvbWUtY29udHJvbGxlci5qc1xuICoqLyIsImV4cG9ydCBmdW5jdGlvbiByb3V0ZXMoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgUmVzdGFuZ3VsYXJQcm92aWRlcikge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduX2luXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIG5vdEF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLm5vdEF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvc2lnbl9pblwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduX2luLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkF1dGhlbnRpY2F0aW9uQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ2F1dGhlbnRpY2F0aW9uQ3RybCcsXG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNpZ25lZF9vdXRcIiwge1xuICAgIHVybDogXCIvc2lnbmVkX291dFwiLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgbm90QXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2Uubm90QXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2F1dGhlbnRpY2F0aW9uL3NpZ25lZF9vdXQuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnYXV0aGVudGljYXRpb25DdHJsJyxcbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwic2lnbl9vdXRcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9zaWduX291dFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduX291dC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJBdXRoZW50aWNhdGlvbkN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnLFxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkaXN0cmlidXRvcl9zZWxlY3Rpb25cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvZGlzdHJpYnV0b3Jfc2VsZWN0aW9uXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9yX3NlbGVjdG9yLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkRpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndm0nLFxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcbiAgICB1cmw6IFwiL1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC93ZWxjb21lL3dlbGNvbWUuaHRtbFwiLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY29udHJvbGxlcjogXCJXZWxjb21lQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3dlbGNvbWVDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ1NreWtpdCBQcm92aXNpb25pbmcnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ3ZWxjb21lXCIsIHtcbiAgICB1cmw6IFwiL3dlbGNvbWVcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvd2VsY29tZS93ZWxjb21lLmh0bWxcIixcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IFwiV2VsY29tZUN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd3ZWxjb21lQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdTa3lraXQgUHJvdmlzaW9uaW5nJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZG9tYWluc1wiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kb21haW5zXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW5zLWxpc3RpbmcuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluc0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdkb21haW5zQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdEb21haW5zJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkRG9tYWluXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2RvbWFpbnMvYWRkXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW4tZGV0YWlsLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkRvbWFpbkRldGFpbHNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnZG9tYWluRGV0YWlsc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnQWRkIGRvbWFpbicsXG4gICAgICBwYXJlbnQ6ICdkb21haW5zJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZWRpdERvbWFpblwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kb21haW5zLzpkb21haW5LZXlcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZG9tYWluL2RvbWFpbi1kZXRhaWwuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluRGV0YWlsc0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdkb21haW5EZXRhaWxzQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyBkb21haW5EZXRhaWxzQ3RybC5jdXJyZW50RG9tYWluLm5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAnZG9tYWlucydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudHNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50c1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50cy1saXN0aW5nLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudHNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50c0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnVGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkZFRlbmFudFwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi90ZW5hbnRzL2FkZFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWFkZC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRBZGRDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50QWRkQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdBZGQgdGVuYW50JyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnREZXRhaWxzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9kZXRhaWxzXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtZGV0YWlscy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnREZXRhaWxzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudERldGFpbHNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudERldGFpbHNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50TWFuYWdlZERldmljZXNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L21hbmFnZWRcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1tYW5hZ2VkLWRldmljZXMuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TWFuYWdlZERldmljZXNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50TWFuYWdlZERldmljZXNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudE1hbmFnZWREZXZpY2VzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudFVubWFuYWdlZERldmljZXNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L3VubWFuYWdlZFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LXVubWFuYWdlZC1kZXZpY2VzLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgdGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19JyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRMb2NhdGlvbnNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2xvY2F0aW9uc1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9ucy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbnNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50TG9jYXRpb25zQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2NhdGlvbnNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZWRpdExvY2F0aW9uXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2xvY2F0aW9ucy86bG9jYXRpb25LZXlcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbi5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbkN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRMb2NhdGlvbkN0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9jYXRpb25DdHJsLnRlbmFudE5hbWUgfX0gIC8ge3sgdGVuYW50TG9jYXRpb25DdHJsLmxvY2F0aW9uTmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkTG9jYXRpb25cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L2xvY2F0aW9uXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9jYXRpb25DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50TG9jYXRpb25DdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudExvY2F0aW9uQ3RybC50ZW5hbnROYW1lIH19ICAvIExvY2F0aW9uJyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkZXZpY2VzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2RldmljZXNcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGV2aWNlL2RldmljZXMtbGlzdGluZy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJEZXZpY2VzTGlzdGluZ0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdkZXZpY2VzTGlzdGluZ0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnRGV2aWNlcydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXREZXZpY2VcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kZXZpY2VzLzpkZXZpY2VLZXk/dGVuYW50S2V5P2Zyb21EZXZpY2VzXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RldmljZS9kZXZpY2UtZGV0YWlsLmh0bWxcIixcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IGRldmljZURldGFpbHNDdHJsLmN1cnJlbnREZXZpY2Uua2V5IH19JyxcbiAgICAgIHBhcmVudDogJ2RldmljZXMnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnRGV2aWNlRGV0YWlsc0N0cmwnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XG4gICAgICAkc2NvcGUudGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgICAgIHJldHVybjtcbiAgICB9LFxuICAgIGNvbnRyb2xsZXJBczogJ2RldmljZURldGFpbHNDdHJsJ1xuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJwcm9vZlwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9wcm9vZlwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wcm9vZi9tYWluLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlByb29mT2ZQbGF5Q3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ1Byb29mIG9mIFBsYXknXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJwcm9vZkRldGFpbFwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9wcm9vZi86dGVuYW50XCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3Byb29mL2RldGFpbC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJQcm9vZk9mUGxheUN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdQcm9vZiBvZiBQbGF5J1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRtaW5cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGlzQWRtaW4oQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4oKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvYWRtaW5cIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvYWRtaW4vYWRtaW4uaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiQWRtaW5DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnQWRtaW4nXG4gICAgfVxuICB9KTtcblxuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvc2lnbl9pbicpO1xuXG4gIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0QmFzZVVybCgnL2FwaS92MScpO1xuXG4gIFJlc3Rhbmd1bGFyUHJvdmlkZXIuYWRkUmVzcG9uc2VJbnRlcmNlcHRvcihmdW5jdGlvbiAoZGF0YSwgb3BlcmF0aW9uLCByZXNvdXJjZVR5cGUsIHVybCwgcmVzcG9uc2UsIGRlZmVycmVkKSB7XG4gICAgbGV0IHJlc3VsdCA9IGRhdGE7XG4gICAgLy8gVW5jb21tZW50IHRoaXMgZm9yIHBhZ2luYXRpb24gc3VwcG9ydCB3aGVuIHVzaW5nIFBhZ2luZ0xpc3RIYW5kbGVyTWl4aW4gb24gdGhlIFB5dGhvbiBzaWRlLlxuICAgIC8vICAgIGlmIHJlc291cmNlVHlwZSA9PSAnZGV2aWNlcycgYW5kIG9wZXJhdGlvbiA9ICdnZXRMaXN0JyBhbmQgdXJsID09ICcvYXBpL3YxL2RldmljZXMnXG4gICAgLy8gICAgICByZXN1bHQgPSBkYXRhLm9iamVjdHNcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KTtcblxuICByZXR1cm4gUmVzdGFuZ3VsYXJQcm92aWRlci5zZXRSZXN0YW5ndWxhckZpZWxkcyh7XG4gICAgaWQ6ICdrZXknXG4gIH0pO1xufVxuXG5yb3V0ZXMuJGluamVjdCA9IFtcIiRzdGF0ZVByb3ZpZGVyXCIsIFwiJHVybFJvdXRlclByb3ZpZGVyXCIsIFwiUmVzdGFuZ3VsYXJQcm92aWRlclwiXVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2FwcC1yb3V0ZXMuanNcbiAqKi8iLCJleHBvcnQgZnVuY3Rpb24gYXBwUnVuKFJlc3Rhbmd1bGFyLCAkbG9jYXRpb24sICRpbmplY3RvciwgJHJvb3RTY29wZSwgJHRpbWVvdXQpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCBzdGF0ZUNoYW5nZVdhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBzdGF0ZSA9ICRpbmplY3Rvci5nZXQoJyRzdGF0ZScpO1xuICAgIHJldHVybiAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3JbMF0gPT09IFwiYXV0aEVycm9yXCIpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmdvKGVycm9yWzFdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAkdGltZW91dChzdGF0ZUNoYW5nZVdhdGNoLCA1MDApO1xuXG4gIGxldCByZXF1ZXN0SW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgUmVzdGFuZ3VsYXIuYWRkUmVxdWVzdEludGVyY2VwdG9yKGZ1bmN0aW9uIChlbGVtLCBvcGVyYXRpb24sIHdoYXQsIHVybCkge1xuICAgICAgbGV0IFN0b3JhZ2VTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnU3RvcmFnZVNlcnZpY2UnKVxuXG4gICAgICBsZXQgYXV0aFRva2VuID0gJzZDMzQ2NTg4QkQ0QzZENzIyQTExNjVCNDNDNTFDJztcbiAgICAgIGlmICgkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTEpIHtcbiAgICAgICAgYXV0aFRva2VuID0gJzVYWkhCRjNtT3dxSmxZQWxHMU5lZVdYMENiNzJnJztcbiAgICAgIH1cbiAgICAgIFJlc3Rhbmd1bGFyLnNldERlZmF1bHRIZWFkZXJzKHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBhdXRoVG9rZW4sXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5JyksXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1EaXN0cmlidXRvcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5JylcbiAgICAgIH0pO1xuXG4gICAgICBpZiAob3BlcmF0aW9uID09PSAncmVtb3ZlJykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWxlbTtcbiAgICB9KVxuICB9XG5cbiAgJHRpbWVvdXQocmVxdWVzdEludGVyY2VwdG9yLCA1MDApO1xuXG59XG5cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2FwcC1ydW4uanNcbiAqKi8iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRvYXN0ckNvbmZpZyh0b2FzdHJDb25maWcpIHtcbiAgYW5ndWxhci5leHRlbmQodG9hc3RyQ29uZmlnLCB7XG4gICAgcHJvZ3Jlc3NCYXI6IHRydWUsXG4gICAgY2xvc2VCdXR0b246IHRydWUsXG4gICAgdGFwVG9EaXNtaXNzOiB0cnVlLFxuICAgIG5ld2VzdE9uVG9wOiB0cnVlLFxuICAgIHBvc2l0aW9uQ2xhc3M6ICd0b2FzdC1ib3R0b20tbGVmdCcsXG4gICAgdGltZU91dDogNTAwMFxuICB9KVxufVxudG9hc3RyQ29uZmlnLiRpbmplY3QgPSBbJ3RvYXN0ckNvbmZpZyddO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBicmVhZGNydW1iUHJvdmlkZXIoJGJyZWFkY3J1bWJQcm92aWRlcikge1xuICAkYnJlYWRjcnVtYlByb3ZpZGVyLnNldE9wdGlvbnMoe1xuICAgIHByZWZpeFN0YXRlTmFtZTogJ2hvbWUnLFxuICAgIHRlbXBsYXRlOiAnYm9vdHN0cmFwMydcbiAgfSlcbn1cblxuYnJlYWRjcnVtYlByb3ZpZGVyLiRpbmplY3QgPSBbXCIkYnJlYWRjcnVtYlByb3ZpZGVyXCJdXG5cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2FwcC1jb25maWcuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9