webpackJsonp([0],{0:function(e,exports,t){t(70),e.exports=t(367)},367:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(368),a=t(648),i=t(649),o=t(660),s=t(661),c=t(662),u=t(663),l=t(686),d=t(687),v=t(688),m=t(689),f=t(690),p=t(691),h=t(692),g=t(693),y=t(694),b=n(y),D=t(700),S=n(D),T=t(701),_=n(T),k=t(702),C=n(k),x=t(703),w=n(x),M=t(704),I=n(M),P=t(705),E=n(P),A=t(706),K=n(A),B=t(707),O=n(B),j=t(708),R=n(j),U=t(709),L=n(U),V=t(710),N=n(V),z=t(711),F=n(z),Y=t(712),q=n(Y),G=t(716),W=n(G),H=t(718),X=n(H),J=t(719),Z=n(J),Q=t(720),ee=n(Q),te=t(721),ne=n(te),re=t(722),ae=t(723),ie=t(724),oe=t(725),se=t(726),ce=t(727),ue=t(728),le=t(729),de=t(730),ve=t(731),me=t(732),fe=t(733),pe=t(734);r.app.service("StorageService",W["default"]).service("AdminService",S["default"]).service("AuthorizationService",_["default"]).service("CommandsService",C["default"]).service("DateManipulationService",w["default"]).service("DevicesService",I["default"]).service("DistributorsService",E["default"]).service("DomainsService",K["default"]).service("IdentityService",O["default"]).service("IntegrationEvents",R["default"]).service("LocationsService",L["default"]).service("ProgressBarService",N["default"]).service("ProofPlayService",F["default"]).service("SessionsService",q["default"]).service("TenantsService",X["default"]).service("TimezonesService",Z["default"]).service("ToastsService",ee["default"]).service("VersionsService",ne["default"]).service("ImageService",b["default"]).controller("DeviceDetailsCommandsCtrl",a.DeviceDetailsCommandsCtrl).controller("DeviceDetailsCtrl",i.DeviceDetailsCtrl).controller("DevicesListingCtrl",o.DevicesListingCtrl).controller("AdminCtrl",s.AdminCtrl).controller("AuthenticationCtrl",c.AuthenticationCtrl).controller("AppController",u.AppController).controller("DistributorSelectorCtrl",l.DistributorSelectorCtrl).controller("DistributorsCtrl",d.DistributorsCtrl).controller("DomainsCtrl",v.DomainsCtrl).controller("DomainDetailsCtrl",m.DomainDetailsCtrl).controller("ProofOfPlayMultiLocationCtrl",f.ProofOfPlayMultiLocationCtrl).controller("ProofOfPlayMultiDisplayCtrl",p.ProofOfPlayMultiDisplayCtrl).controller("ProofOfPlayMultiResourceCtrl",h.ProofOfPlayMultiResourceCtrl).controller("ProofOfPlayCtrl",g.ProofOfPlayCtrl).controller("TenantLogsCtrl",re.TenantLogsCtrl).controller("TenantOverlaysCtrl",ae.TenantOverlaysCtrl).controller("TenantAddCtrl",ie.TenantAddCtrl).controller("TenantDetailsCtrl",oe.TenantDetailsCtrl).controller("TenantLocationCtrl",se.TenantLocationCtrl).controller("TenantLocationsCtrl",ce.TenantLocationsCtrl).controller("TenantManagedDevicesCtrl",ue.TenantManagedDevicesCtrl).controller("TenantUnmanagedDevicesCtrl",le.TenantUnmanagedDevicesCtrl).controller("TenantsCtrl",de.TenantsCtrl).controller("WelcomeCtrl",ve.WelcomeCtrl).run(fe.appRun).config(me.routes).config(pe.toastrConfig).config(pe.breadcrumbProvider),r.app.service("RequestInterceptor",["StorageService","$location",function(e,t){"ngInject";var n={request:function(n){var r="5XZHBF3mOwqJlYAlG1NeeWX0Cb72g",a="6C346588BD4C6D722A1165B43C51C";return n.headers={"Content-Type":"application/json",Accept:"application/json",JWT:e.get("JWT"),oAuth:e.get("oAuth"),Authorization:t.host().indexOf("provisioning-gamestop")>-1?r:a,"X-Provisioning-User":e.get("userKey"),"X-Provisioning-User-Identifier":e.get("userEmail"),"X-Provisioning-Distributor":e.get("currentDistributorKey")},n}};return n}]),r.app.config(["$httpProvider",function(e){return e.interceptors.push("RequestInterceptor")}])},368:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.app=void 0;var r=t(369),a=n(r),i=t(371),o=n(i),s=t(372);n(s);t(479),t(481),t(482),t(486),t(488),t(490),t(492),t(500),t(502),t(524),t(525),t(527),t(596),t(597),t(599),t(604),t(605),t(611),t(620),t(621),t(623),t(625),t(627),t(629),t(512),t(640),t(370),t(641),t(643),t(645);var c=t(647),u=n(c);window._=u["default"],window.angular=a["default"];exports.app=a["default"].module("skykitProvisioning",[o["default"],"ngAnimate","720kb.tooltips","ngCookies","ngSanitize","restangular","ui.bootstrap","ngMaterialDatePicker","hSweetAlert","ncy-angular-breadcrumb","directive.g+signin","ngProgress","ngMaterial","ngclipboard","toastr","lfNgMdFileInput"])},374:function(e,exports,t){function n(e){return t(r(e))}function r(e){return a[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var a={"./af":375,"./af.js":375,"./ar":376,"./ar-ly":377,"./ar-ly.js":377,"./ar-ma":378,"./ar-ma.js":378,"./ar-sa":379,"./ar-sa.js":379,"./ar-tn":380,"./ar-tn.js":380,"./ar.js":376,"./az":381,"./az.js":381,"./be":382,"./be.js":382,"./bg":383,"./bg.js":383,"./bn":384,"./bn.js":384,"./bo":385,"./bo.js":385,"./br":386,"./br.js":386,"./bs":387,"./bs.js":387,"./ca":388,"./ca.js":388,"./cs":389,"./cs.js":389,"./cv":390,"./cv.js":390,"./cy":391,"./cy.js":391,"./da":392,"./da.js":392,"./de":393,"./de-at":394,"./de-at.js":394,"./de.js":393,"./dv":395,"./dv.js":395,"./el":396,"./el.js":396,"./en-au":397,"./en-au.js":397,"./en-ca":398,"./en-ca.js":398,"./en-gb":399,"./en-gb.js":399,"./en-ie":400,"./en-ie.js":400,"./en-nz":401,"./en-nz.js":401,"./eo":402,"./eo.js":402,"./es":403,"./es-do":404,"./es-do.js":404,"./es.js":403,"./et":405,"./et.js":405,"./eu":406,"./eu.js":406,"./fa":407,"./fa.js":407,"./fi":408,"./fi.js":408,"./fo":409,"./fo.js":409,"./fr":410,"./fr-ca":411,"./fr-ca.js":411,"./fr-ch":412,"./fr-ch.js":412,"./fr.js":410,"./fy":413,"./fy.js":413,"./gd":414,"./gd.js":414,"./gl":415,"./gl.js":415,"./he":416,"./he.js":416,"./hi":417,"./hi.js":417,"./hr":418,"./hr.js":418,"./hu":419,"./hu.js":419,"./hy-am":420,"./hy-am.js":420,"./id":421,"./id.js":421,"./is":422,"./is.js":422,"./it":423,"./it.js":423,"./ja":424,"./ja.js":424,"./jv":425,"./jv.js":425,"./ka":426,"./ka.js":426,"./kk":427,"./kk.js":427,"./km":428,"./km.js":428,"./ko":429,"./ko.js":429,"./ky":430,"./ky.js":430,"./lb":431,"./lb.js":431,"./lo":432,"./lo.js":432,"./lt":433,"./lt.js":433,"./lv":434,"./lv.js":434,"./me":435,"./me.js":435,"./mi":436,"./mi.js":436,"./mk":437,"./mk.js":437,"./ml":438,"./ml.js":438,"./mr":439,"./mr.js":439,"./ms":440,"./ms-my":441,"./ms-my.js":441,"./ms.js":440,"./my":442,"./my.js":442,"./nb":443,"./nb.js":443,"./ne":444,"./ne.js":444,"./nl":445,"./nl.js":445,"./nn":446,"./nn.js":446,"./pa-in":447,"./pa-in.js":447,"./pl":448,"./pl.js":448,"./pt":449,"./pt-br":450,"./pt-br.js":450,"./pt.js":449,"./ro":451,"./ro.js":451,"./ru":452,"./ru.js":452,"./se":453,"./se.js":453,"./si":454,"./si.js":454,"./sk":455,"./sk.js":455,"./sl":456,"./sl.js":456,"./sq":457,"./sq.js":457,"./sr":458,"./sr-cyrl":459,"./sr-cyrl.js":459,"./sr.js":458,"./ss":460,"./ss.js":460,"./sv":461,"./sv.js":461,"./sw":462,"./sw.js":462,"./ta":463,"./ta.js":463,"./te":464,"./te.js":464,"./th":465,"./th.js":465,"./tl-ph":466,"./tl-ph.js":466,"./tlh":467,"./tlh.js":467,"./tr":468,"./tr.js":468,"./tzl":469,"./tzl.js":469,"./tzm":470,"./tzm-latn":471,"./tzm-latn.js":471,"./tzm.js":470,"./uk":472,"./uk.js":472,"./uz":473,"./uz.js":473,"./vi":474,"./vi.js":474,"./x-pseudo":475,"./x-pseudo.js":475,"./zh-cn":476,"./zh-cn.js":476,"./zh-hk":477,"./zh-hk.js":477,"./zh-tw":478,"./zh-tw.js":478};n.keys=function(){return Object.keys(a)},n.resolve=r,e.exports=n,n.id=374},524:function(e,exports){"use strict";angular.module("ngProgress.provider",["ngProgress.directive"]).service("ngProgress",function(){return["$document","$window","$compile","$rootScope","$timeout",function(e,t,n,r,a){this.autoStyle=!0,this.count=0,this.height="2px",this.$scope=r.$new(),this.color="firebrick",this.parent=e.find("body")[0],this.count=0,this.progressbarEl=n("<ng-progress></ng-progress>")(this.$scope),this.parent.appendChild(this.progressbarEl[0]),this.$scope.count=this.count,void 0!==this.height&&this.progressbarEl.eq(0).children().css("height",this.height),void 0!==this.color&&(this.progressbarEl.eq(0).children().css("background-color",this.color),this.progressbarEl.eq(0).children().css("color",this.color)),this.intervalCounterId=0,this.start=function(){this.show();var e=this;clearInterval(this.intervalCounterId),this.intervalCounterId=setInterval(function(){isNaN(e.count)?(clearInterval(e.intervalCounterId),e.count=0,e.hide()):(e.remaining=100-e.count,e.count=e.count+.15*Math.pow(1-Math.sqrt(e.remaining),2),e.updateCount(e.count))},200)},this.updateCount=function(e){this.$scope.count=e,this.$scope.$$phase||this.$scope.$apply()},this.setHeight=function(e){return void 0!==e&&(this.height=e,this.$scope.height=this.height,this.$scope.$$phase||this.$scope.$apply()),this.height},this.setColor=function(e){return void 0!==e&&(this.color=e,this.$scope.color=this.color,this.$scope.$$phase||this.$scope.$apply()),this.color},this.hide=function(){this.progressbarEl.children().css("opacity","0");var e=this;e.animate(function(){e.progressbarEl.children().css("width","0%"),e.animate(function(){e.show()},500)},500)},this.show=function(){var e=this;e.animate(function(){e.progressbarEl.children().css("opacity","1")},100)},this.animate=function(e,t){void 0!==this.animation&&a.cancel(this.animation),this.animation=a(e,t)},this.status=function(){return this.count},this.stop=function(){clearInterval(this.intervalCounterId)},this.set=function(e){return this.show(),this.updateCount(e),this.count=e,clearInterval(this.intervalCounterId),this.count},this.css=function(e){return this.progressbarEl.children().css(e)},this.reset=function(){return clearInterval(this.intervalCounterId),this.count=0,this.updateCount(this.count),0},this.complete=function(){this.count=100,this.updateCount(this.count);var e=this;return clearInterval(this.intervalCounterId),a(function(){e.hide(),a(function(){e.count=0,e.updateCount(e.count)},500)},1e3),this.count},this.setParent=function(e){if(null===e||void 0===e)throw new Error("Provide a valid parent of type HTMLElement");null!==this.parent&&void 0!==this.parent&&this.parent.removeChild(this.progressbarEl[0]),this.parent=e,this.parent.appendChild(this.progressbarEl[0])},this.getDomElement=function(){return this.progressbarEl},this.setAbsolute=function(){this.progressbarEl.css("position","absolute")}}]}).factory("ngProgressFactory",["$injector","ngProgress",function(e,t){var n={createInstance:function(){return e.instantiate(t)}};return n}]),angular.module("ngProgress.directive",[]).directive("ngProgress",["$window","$rootScope",function(e,t){var n={replace:!0,restrict:"E",link:function(e,t,n,r){e.$watch("count",function(n){(void 0!==n||null!==n)&&(e.counter=n,t.eq(0).children().css("width",n+"%"))}),e.$watch("color",function(n){(void 0!==n||null!==n)&&(e.color=n,t.eq(0).children().css("background-color",n),t.eq(0).children().css("color",n))}),e.$watch("height",function(n){(void 0!==n||null!==n)&&(e.height=n,t.eq(0).children().css("height",n))})},template:'<div id="ngProgress-container"><div id="ngProgress"></div></div>'};return n}]),angular.module("ngProgress",["ngProgress.directive","ngProgress.provider"])},525:function(e,exports,t){var n=t(526);"string"==typeof n&&(n=[[e.id,n,""]]);t(485)(n,{});n.locals&&(e.exports=n.locals)},526:function(e,exports,t){exports=e.exports=t(484)(),exports.push([e.id,"#ngProgress{margin:0;padding:0;z-index:99998;background-color:green;color:green;box-shadow:0 0 10px 0;height:2px;opacity:0;-webkit-transition:all .5s ease-in-out;transition:all .5s ease-in-out}#ngProgress-container{position:fixed;margin:0;padding:0;top:0;left:0;right:0;z-index:99999}",""])},527:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(528),a=n(r);/*! angular-breadcrumb - v0.4.0-dev-2015-08-07
	* http://ncuillery.github.io/angular-breadcrumb
	* Copyright (c) 2015 Nicolas Cuillery; Licensed MIT */
!function(e,t,n){function r(e,n){return t.equals(e.length,n.length)?e>n:e.length>n.length}function i(e){var t=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}function o(){var e={prefixStateName:null,template:"bootstrap3",templateUrl:null,includeAbstract:!1};this.setOptions=function(n){t.extend(e,n)},this.$get=["$state","$stateParams","$rootScope",function(t,o,s){var c=s;s.$on("$viewContentLoaded",function(e){!e.targetScope.ncyBreadcrumbIgnore&&r(e.targetScope.$id,c.$id)&&(c=e.targetScope)});var u=function(e){var t=e.parent||(/^(.+)\.[^.]+$/.exec(e.name)||[])[1],n="object"==("undefined"==typeof t?"undefined":(0,a["default"])(t));return n?t.name:t},l=function v(n,r){for(var a,s,v=i(r),u=!1,l=!1,d=0,m=n.length;m>d;d+=1)if(n[d].name===v.state)return;a=t.get(v.state),a.ncyBreadcrumb&&(a.ncyBreadcrumb.force&&(u=!0),a.ncyBreadcrumb.skip&&(l=!0)),a["abstract"]&&!e.includeAbstract&&!u||l||(v.paramExpr&&(s=c.$eval(v.paramExpr)),a.ncyBreadcrumbLink=t.href(v.state,s||o||{}),n.unshift(a))},d=function(e){var n=i(e),r=t.get(n.state);if(r.ncyBreadcrumb&&r.ncyBreadcrumb.parent){var a="function"==typeof r.ncyBreadcrumb.parent,o=a?r.ncyBreadcrumb.parent(c):r.ncyBreadcrumb.parent;if(o)return o}return u(r)};return{getTemplate:function(t){return e.templateUrl?null:t[e.template]?t[e.template]:e.template},getTemplateUrl:function(){return e.templateUrl},getStatesChain:function(n){for(var r=[],a=t.$current.self.name;a;a=d(a))if(l(r,a),n&&r.length)return r;return e.prefixStateName&&l(r,e.prefixStateName),r},getLastStep:function(){var e=this.getStatesChain(!0);return e.length?e[0]:n},$getLastViewScope:function(){return c}}}]}function s(e,n,r){var a={bootstrap2:'<ul class="breadcrumb"><li ng-repeat="step in steps" ng-switch="$last || !!step.abstract" ng-class="{active: $last}"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span><span class="divider" ng-hide="$last">/</span></li></ul>',bootstrap3:'<ol class="breadcrumb"><li ng-repeat="step in steps" ng-class="{active: $last}" ng-switch="$last || !!step.abstract"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span></li></ol>'};return{restrict:"AE",replace:!0,scope:{},template:n.getTemplate(a),templateUrl:n.getTemplateUrl(),link:{post:function(a){var i=[],o=function(){v(i),i=[];var r=n.$getLastViewScope();a.steps=n.getStatesChain(),t.forEach(a.steps,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);t.ncyBreadcrumbLabel=n(r),d(i,n,r,t)}else t.ncyBreadcrumbLabel=t.name})};r.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||o()}),o()}}}}function c(e,t,n){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbLabel}}",compile:function(r,a){var i=r.attr(a.$attr.ncyBreadcrumbLast);return i&&r.html(i),{post:function(r){var a=[],i=function o(){v(a),a=[];var n=t.$getLastViewScope(),o=t.getLastStep();if(o)if(r.ncyBreadcrumbLink=o.ncyBreadcrumbLink,o.ncyBreadcrumb&&o.ncyBreadcrumb.label){var i=e(o.ncyBreadcrumb.label);r.ncyBreadcrumbLabel=i(n),d(a,i,n,r)}else r.ncyBreadcrumbLabel=o.name};n.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||i()}),i()}}}}}function u(e,n,r){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbChain}}",compile:function(a,i){var o=a.attr(i.$attr.ncyBreadcrumbText);o&&a.html(o);var s=a.attr(i.$attr.ncyBreadcrumbTextSeparator)||" / ";return{post:function(a){var i=[],o=function(e,n,r){t.forEach(l(n),function(t){var n=r.$watch(t,function(e,t){e!==t&&c()});e.push(n)})},c=function u(){v(i),i=[];var r=n.$getLastViewScope(),u=n.getStatesChain(),c=[];t.forEach(u,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);c.push(n(r)),o(i,n,r)}else c.push(t.name)}),a.ncyBreadcrumbChain=c.join(s)};r.$on("$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||c()}),c()}}}}}var l=function(e){if(e.expressions)return e.expressions;var n=[];return t.forEach(e.parts,function(e){t.isFunction(e)&&n.push(e.exp)}),n},d=function(e,n,r,a){t.forEach(l(n),function(t){var i=r.$watch(t,function(){a.ncyBreadcrumbLabel=n(r)});e.push(i)})},v=function(e){t.forEach(e,function(e){e()})};s.$inject=["$interpolate","$breadcrumb","$rootScope"],c.$inject=["$interpolate","$breadcrumb","$rootScope"],u.$inject=["$interpolate","$breadcrumb","$rootScope"],t.module("ncy-angular-breadcrumb",["ui.router.state"]).provider("$breadcrumb",o).directive("ncyBreadcrumb",s).directive("ncyBreadcrumbLast",c).directive("ncyBreadcrumbText",u)}(window,window.angular)},596:function(e,exports,t){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(372),a=n(r);!function(t){var n="ngMaterialDatePicker",r={DATE:0,HOUR:1,MINUTE:2},a=function(t,n){return"jQuery"in window?e(t).css(n):(t=angular.element(t),"getComputedStyle"in window?window.getComputedStyle(t[0])[n]:t.css(n))},i='<md-dialog class="dtp" layout="column" style="width: 300px;">    <md-dialog-content class="dtp-content">        <div class="dtp-date-view">            <header class="dtp-header">                <div class="dtp-actual-day" ng-show="picker.dateMode">{{picker.currentDate.format("dddd")}}</div>                <div class="dtp-actual-day" ng-show="picker.timeMode">{{picker.params.shortTime ? picker.currentDate.format("A") : " "}}</div>                <div class="dtp-close text-right">                    <a href="#" mdc-dtp-noclick ng-click="picker.hide()">&times;</a>                </div>            </header>            <div class="dtp-date" ng-show="picker.params.date">                <div layout="column">                    <div class="dtp-actual-month">{{picker.currentDate.format("MMM") | uppercase}}</div>                </div>                <div class="dtp-actual-num">{{picker.currentDate.format("DD")}}</div>                <div layout="row"> <div ng-click="picker.incrementYear(-1)" class="dtp-year-btn dtp-year-btn-prev" flex="30"><span ng-if="picker.isPreviousYearVisible()" >&#x25B2;</span></div>                    <div class="dtp-actual-year" flex>{{picker.currentDate.format("YYYY")}}</div> <div ng-click="picker.incrementYear(1)" class="dtp-year-btn dtp-year-btn-next" flex="30"><span ng-if="picker.isNextYearVisible()" >&#x25BC;</span></div>                </div>            </div>            <div class="dtp-time" ng-show="picker.params.time && !picker.params.date">                <div class="dtp-actual-maxtime">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>            </div>            <div class="dtp-picker">                <mdc-datetime-picker-calendar date="picker.currentDate" picker="picker" class="dtp-picker-calendar" ng-show="picker.currentView === picker.VIEWS.DATE"></mdc-datetime-picker-calendar>                <div class="dtp-picker-datetime" ng-show="picker.currentView !== picker.VIEWS.DATE">                    <div class="dtp-actual-meridien">                        <div class="left p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-am" ng-class="{selected: picker.meridien == \'AM\'}" ng-click="picker.selectAM()">{{picker.params.amText}}</a>                        </div>                        <div ng-show="!picker.timeMode" class="dtp-actual-time p60">{{picker.currentNearest5Minute().format(picker.params.shortTime ? "hh:mm" : "HH:mm")}}</div>                        <div class="right p20">                            <a href="#" mdc-dtp-noclick class="dtp-meridien-pm" ng-class="{selected: picker.meridien == \'PM\'}" ng-click="picker.selectPM()">{{picker.params.pmText}}</a>                        </div>                        <div class="clearfix"></div>                    </div>                    <mdc-datetime-picker-clock mode="hours" ng-if="picker.currentView === picker.VIEWS.HOUR"></mdc-datetime-picker-clock>                    <mdc-datetime-picker-clock mode="minutes" ng-if="picker.currentView === picker.VIEWS.MINUTE"></mdc-datetime-picker-clock>                </div>            </div>        </div>    </md-dialog-content>    <md-dialog-actions class="dtp-buttons">            <md-button class="dtp-btn-cancel md-button" ng-click="picker.cancel()"> {{picker.params.cancelText}}</md-button>            <md-button class="dtp-btn-ok md-button" ng-click="picker.ok()"> {{picker.params.okText}}</md-button>      </md-dialog-actions></md-dialog>';angular.module(n,["ngMaterial"]).provider("mdcDatetimePickerDefaultLocale",function(){this.locale="en",this.$get=function(){return this.locale},this.setDefaultLocale=function(e){this.locale=e}}).directive("mdcDatetimePicker",["$mdDialog",function(e){return{restrict:"A",require:"ngModel",scope:{currentDate:"=ngModel",time:"=",date:"=",minDate:"=",maxDate:"=",shortTime:"=",format:"@",cancelText:"@",okText:"@",lang:"@",amText:"@",pmText:"@"},link:function(n,r,a,s){var c=!1;n.format||(n.date&&n.time?n.format="YYYY-MM-DD HH:mm:ss":n.date?n.format="YYYY-MM-DD":n.format="HH:mm"),angular.isString(n.currentDate)&&""!==n.currentDate&&(n.currentDate=t(n.currentDate,n.format)),s&&s.$formatters.push(function(e){if("undefined"!=typeof e){var r=t(e);return r.isValid()?r.format(n.format):""}}),r.attr("readonly",""),r.on("focus",function(t){if(t.preventDefault(),r.blur(),!c){c=!0;var s={};for(var u in a)n.hasOwnProperty(u)&&!angular.isUndefined(n[u])&&(s[u]=n[u]);s.currentDate=n.currentDate;var l={options:s};e.show({template:i,controller:o,controllerAs:"picker",locals:l,openFrom:r,parent:angular.element(document.body),bindToController:!0,disableParentScroll:!1}).then(function(e){n.currentDate=e?e._d:e,c=!1},function(){c=!1})}})}}}]);var o=function(e,t,n){this.currentView=r.DATE,this._dialog=t,this.minDate,this.maxDate,this._attachedEvents=[],this.VIEWS=r,this.params={date:!0,time:!0,format:"YYYY-MM-DD",minDate:null,maxDate:null,currentDate:null,lang:n,weekStart:0,shortTime:!1,cancelText:"Cancel",okText:"OK",amText:"AM",pmText:"PM"},this.meridien="AM",this.params=angular.extend(this.params,this.options),this.init()};o.$inject=["$scope","$mdDialog","mdcDatetimePickerDefaultLocale"],o.prototype={init:function(){this.timeMode=this.params.time&&!this.params.date,this.dateMode=this.params.date,this.initDates(),this.start()},currentNearest5Minute:function(){var e=this.currentDate||t(),n=5*Math.round(e.minute()/5);return n>=60&&(n=55),t(e).minutes(n)},initDates:function(){var e=this,n=function(n,r){var a=null;if(angular.isDefined(n)&&null!==n&&""!==n)if(angular.isString(n))a="undefined"!=typeof e.params.format&&null!==e.params.format?t(n,e.params.format).locale(e.params.lang):t(n).locale(e.params.lang);else if(angular.isDate(n)){var i=n.getTime();a=t(i,"x").locale(e.params.lang)}else n._isAMomentObject&&(a=n);else a=r;return a};this.currentDate=n(this.params.currentDate,t()),this.minDate=n(this.params.minDate),this.maxDate=n(this.params.maxDate),this.selectDate(this.currentDate)},initDate:function(e){this.currentView=r.DATE},initHours:function(){this.currentView=r.HOUR},initMinutes:function(){this.currentView=r.MINUTE},isAfterMinDate:function(e,n,r){var a=!0;if("undefined"!=typeof this.minDate&&null!==this.minDate){var i=t(this.minDate),o=t(e);n||r||(i.hour(0),i.minute(0),o.hour(0),o.minute(0)),i.second(0),o.second(0),i.millisecond(0),o.millisecond(0),r?a=parseInt(o.format("X"))>=parseInt(i.format("X")):(o.minute(0),i.minute(0),a=parseInt(o.format("X"))>=parseInt(i.format("X")))}return a},isBeforeMaxDate:function(e,n,r){var a=!0;if("undefined"!=typeof this.maxDate&&null!==this.maxDate){var i=t(this.maxDate),o=t(e);n||r||(i.hour(0),i.minute(0),o.hour(0),o.minute(0)),i.second(0),o.second(0),i.millisecond(0),o.millisecond(0),r?a=parseInt(o.format("X"))<=parseInt(i.format("X")):(o.minute(0),i.minute(0),a=parseInt(o.format("X"))<=parseInt(i.format("X")))}return a},selectDate:function(e){e&&(this.currentDate=t(e),this.isAfterMinDate(this.currentDate)||(this.currentDate=t(this.minDate)),this.isBeforeMaxDate(this.currentDate)||(this.currentDate=t(this.maxDate)),this.currentDate.locale(this.params.lang),this.calendarStart=t(this.currentDate),this.meridien=this.currentDate.hour()>=12?"PM":"AM")},setName:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},isPM:function(){return"PM"===this.meridien},incrementYear:function(e){1===e&&this.isNextYearVisible()&&this.selectDate(this.currentDate.add("year",e)),e===-1&&this.isPreviousYearVisible()&&this.selectDate(this.currentDate.add("year",e))},isPreviousMonthVisible:function(){return this.calendarStart&&this.isAfterMinDate(t(this.calendarStart).startOf("month"),!1,!1)},isNextMonthVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(t(this.calendarStart).endOf("month"),!1,!1)},isPreviousYearVisible:function(){return this.calendarStart&&this.isAfterMinDate(t(this.calendarStart).startOf("year"),!1,!1)},isNextYearVisible:function(){return this.calendarStart&&this.isBeforeMaxDate(t(this.calendarStart).endOf("year"),!1,!1)},isHourAvailable:function(e){var n=t(this.currentDate);return n.hour(this.convertHours(e)).minute(0).second(0),this.isAfterMinDate(n,!0,!1)&&this.isBeforeMaxDate(n,!0,!1)},isMinuteAvailable:function(e){var n=t(this.currentDate);return n.minute(e).second(0),this.isAfterMinDate(n,!0,!0)&&this.isBeforeMaxDate(n,!0,!0)},start:function(){this.currentView=r.DATE,this.params.date?this.initDate():this.params.time&&this.initHours()},ok:function(){switch(this.currentView){case r.DATE:this.params.time===!0?this.initHours():this.hide(!0);break;case r.HOUR:this.initMinutes();break;case r.MINUTE:this.hide(!0)}},cancel:function(){if(this.params.time)switch(this.currentView){case r.DATE:this.hide();break;case r.HOUR:this.params.date?this.initDate():this.hide();break;case r.MINUTE:this.initHours()}else this.hide()},selectMonthBefore:function(){this.calendarStart.subtract(1,"months")},selectMonthAfter:function(){this.calendarStart.add(1,"months")},selectYearBefore:function(){this.calendarStart.subtract(1,"years")},selectYearAfter:function(){this.calendarStart.add(1,"years")},selectAM:function(){(this.isHourAvailable(0)||this.isHourAvailable(12))&&(this.currentDate.hour()>=12&&this.selectDate(this.currentDate.subtract(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.minDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.minDate.minute())))},selectPM:function(){(this.isHourAvailable(13)||this.isHourAvailable(24))&&(this.currentDate.hour()<12&&this.selectDate(this.currentDate.add(12,"hours")),this.isHourAvailable(this.currentDate.hour())||this.selectDate(this.currentDate.hour(this.maxDate.hour())),this.isMinuteAvailable(this.currentDate.minute())||this.selectDate(this.currentDate.minute(this.maxDate.minute())))},convertHours:function(e){var t=e;return e<12&&this.isPM()&&(t+=12),t},hide:function(e){e?this._dialog.hide(this.currentDate):this._dialog.cancel()}},angular.module(n).directive("mdcDatetimePickerCalendar",[function(){for(var e=(t(),1900),n=2100,r=12*(n-e+1),a=240,i=[],o=0;o<r;o++)i.push(o);var s=function(t){var n=t.year(),r=t.month();return 12*(n-e)+r-1};return{restrict:"E",scope:{picker:"=",date:"="},bindToController:!0,controllerAs:"cal",controller:["$scope",function(n){for(var a=this,o=this.picker,c=[],u=o.params.weekStart;c.length<7;u++)u>6&&(u=0),c.push(u.toString());if(a.week=c,o.maxDate||o.minDate){var l=o.minDate?s(o.minDate):0,d=o.maxDate?s(o.maxDate)+1:r;a.months=i.slice(l,d)}else a.months=i;a.getItemAtIndex=function(n){var r=(n+1)%12||12,a=e+Math.floor(n/12),i=t(o.currentDate).year(a).month(r);return v(i)},a.topIndex=s(o.currentDate)-a.months[0],n.$watch(function(){return o.currentDate?o.currentDate.format("YYYY-MM"):""},function(e,n){if(e!=n){var r=t(e,"YYYY-MM"),i=s(r);a.topIndex!=i&&(a.topIndex=i-a.months[0])}});var v=function(e){var n={};if(null!==e){n.name=e.format("MMMM YYYY");var r=t(e).locale(o.params.lang).startOf("month").hour(e.hour()).minute(e.minute()),i=r.format("d");n.days=[];for(var s=r.date();s<=r.daysInMonth();s++){if(s===r.date()){var c=a.week.indexOf(i.toString());if(c>0)for(var u=0;u<c;u++)n.days.push(0)}n.days.push(t(r).locale(o.params.lang).date(s))}for(var l=7,d=[],v=Math.ceil(n.days.length/l),m=0;m<v;m++)d.push(n.days.slice(m*l,(m+1)*l));return n.days=d,n}};a.toDay=function(e){return t(parseInt(e),"d").locale(o.params.lang).format("dd").substring(0,1)},a.isInRange=function(e){return o.isAfterMinDate(t(e),!1,!1)&&o.isBeforeMaxDate(t(e),!1,!1)},a.selectDate=function(e){if(e){if(a.isSelectedDay(e))return o.ok();o.selectDate(t(e).hour(a.date.hour()).minute(a.date.minute()))}},a.isSelectedDay=function(e){return e&&a.date.date()===e.date()&&a.date.month()===e.month()&&a.date.year()===e.year()}}],template:'<md-virtual-repeat-container md-top-index="cal.topIndex" class="months"><div md-virtual-repeat="idx in cal.months" md-start-index="cal.topIndex" md-item-size="'+a+'">     <div mdc-datetime-picker-calendar-month idx="idx"></div></div></md-virtual-repeat-container>'}}]).directive("mdcDatetimePickerCalendarMonth",["$compile",function(e){var t=function(t,n){var r=angular.element(t[0].querySelector("tbody")),a=n.cal,i=n.month;r.html(""),i.days.forEach(function(e,t){var n=angular.element("<tr></tr>");e.forEach(function(e,r){var i=angular.element("<td> </td>");if(e){var o;if(a.isInRange(e)){var s='month["days"]['+t+"]["+r+"]";o=angular.element("<a href='#' mdc-dtp-noclick></a>").attr("ng-class","{selected: cal.isSelectedDay("+s+")}").attr("ng-click","cal.selectDate("+s+")")}else o=angular.element("<span></span>");o.addClass("dtp-select-day").html(e.format("D")),i.append(o)}n.append(i)}),r.append(n)}),e(r)(n)};return{scope:{idx:"="},require:"^mdcDatetimePickerCalendar",restrict:"AE",template:'<div class="dtp-picker-month">{{month.name}}</div><table class="table dtp-picker-days">    <thead>    <tr>        <th ng-repeat="day in cal.week">{{cal.toDay(day)}}</th>    </tr>    </thead>    <tbody>    </tbody></table>',link:function(e,n,r,a){e.cal=a,e.month=a.getItemAtIndex(parseInt(e.idx)),t(n,e),e.$watch(function(){return e.idx},function(r,i){r!=i&&(e.month=a.getItemAtIndex(parseInt(e.idx)),t(n,e))})}}}]),angular.module(n).directive("mdcDtpNoclick",function(){return{link:function(e,t){t.on("click",function(e){e.preventDefault()})}}}),angular.module(n).directive("mdcDatetimePickerClock",[function(){var e='<div class="dtp-picker-clock"><span ng-if="!points || points.length < 1">&nbsp;</span><div ng-repeat="point in points" class="dtp-picker-time" style="margin-left: {{point.left}}px; margin-top: {{point.top}}px;">   <a href="#" mdc-dtp-noclick ng-class="{selected: point.value===currentValue}" class="dtp-select-hour" ng-click="setTime(point.value)" ng-if="pointAvailable(point)">{{point.display}}</a>   <a href="#" mdc-dtp-noclick class="disabled dtp-select-hour" ng-if="!pointAvailable(point)">{{point.display}}</a></div><div class="dtp-hand dtp-hour-hand"></div><div class="dtp-hand dtp-minute-hand"></div><div class="dtp-clock-center"></div></div>';return{restrict:"E",template:e,link:function(e,t,n){var r="minutes"===n.mode,i=e.picker,o=document.querySelector("md-dialog.dtp"),s=function(){var n=angular.element(t[0].querySelector(".dtp-picker-clock")),s=angular.element(o.querySelector(".dtp-picker")),u=o.querySelector(".dtp-content").offsetWidth,d=parseInt(a(s,"paddingLeft").replace("px",""))||0,v=parseInt(a(s,"paddingRight").replace("px",""))||0,m=parseInt(a(n,"marginLeft").replace("px",""))||0,f=parseInt(a(n,"marginRight").replace("px",""))||0,p=u-(m+f+d+v);n.css("width",p+"px");for(var h=parseInt(a(s,"paddingLeft").replace("px",""))||0,g=parseInt(a(s,"paddingTop").replace("px",""))||0,y=parseInt(a(n,"marginLeft").replace("px",""))||0,b=parseInt(a(n,"marginTop").replace("px",""))||0,D=p/2,S=D/1.2,T=[],_=0;_<12;++_){var k=S*Math.sin(2*Math.PI*(_/12)),C=S*Math.cos(2*Math.PI*(_/12)),x={left:D+k+h/2-(h+y),top:D-C-b/2-(g+b),value:r?5*_:_};r?x.display=x.value<10?"0"+x.value:x.value:i.params.shortTime?x.display=0===_?12:_:x.display=i.isPM()?_+12:_,T.push(x)}e.points=T,l(),n.css("height",p+"px");var w=t[0].querySelector(".dtp-clock-center"),M=w.offsetWidth/2||7.5,I=w.offsetHeight/2||7.5,P=D/1.8,E=D/1.5;angular.element(t[0].querySelector(".dtp-hour-hand")).css({left:D+1.5*y+"px",height:P+"px",marginTop:D-P-h+"px"}).addClass(r?"":"on"),angular.element(t[0].querySelector(".dtp-minute-hand")).css({left:D+1.5*y+"px",height:E+"px",marginTop:D-E-h+"px"}).addClass(r?"on":""),angular.element(w).css({left:D+h+y-M+"px",marginTop:D-y/2-I+"px"}),c()},c=function(){var e=i.currentNearest5Minute(),n=e.hour(),r=e.minute();u(angular.element(t[0].querySelector(".dtp-hour-hand")),30*n);var a=6*(5*Math.round(r/5));u(angular.element(t[0].querySelector(".dtp-minute-hand")),a)},u=function(e,t){angular.element(e).css({WebkitTransform:"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)"})},l=function(){var t=i.currentNearest5Minute();e.currentValue=r?t.minute():t.hour()%12};e.$watch(function(){var e=i.currentNearest5Minute();return e?e.format("HH:mm"):""},function(e){l(),c()});var d=function(e,t){for(var n=0;n<t.length;n++)t[n].display=n,e&&(t[n].display+=12);return t};i.params.shortTime||e.$watch("picker.meridien",function(){if(!r&&e.points){var t=d(i.isPM(),angular.copy(e.points));e.points=t}}),e.setTime=function(t){t===e.currentValue&&i.ok(),r?i.currentDate.minute(t):i.currentDate.hour(i.isPM()?t+12:t),i.currentDate.second(0)},e.pointAvailable=function(e){return r?i.isMinuteAvailable(e.value):i.isHourAvailable(e.value)};var v=e.$watch(function(){return t[0].querySelectorAll("div").length},function(){s(),v()})}}}])}(a["default"])}).call(exports,t(512))},597:function(e,exports,t){var n=t(598);"string"==typeof n&&(n=[[e.id,n,""]]);t(485)(n,{});n.locals&&(e.exports=n.locals)},598:function(e,exports,t){exports=e.exports=t(484)(),exports.push([e.id,"md-dialog.dtp{font-size:14px;line-height:1.42857143;color:#333;background-color:#fff;max-height:none}.dtp :focus{outline:none!important}.dtp table{border-spacing:0;border-collapse:collapse;width:100%}.dtp .table>tbody>tr>td,.dtp .table>tbody>tr>th,.dtp .table>tfoot>tr>td,.dtp .table>tfoot>tr>th,.dtp .table>thead>tr>td,.dtp .table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}.dtp,.dtp *{box-sizing:border-box!important}.dtp>.dtp-content{max-width:300px;max-height:500px}.dtp>.dtp-content>.dtp-date-view>header.dtp-header{background:#689f38;color:#fff;text-align:center;padding:3px}.dtp div.dtp-date,.dtp div.dtp-time{background:#8bc34a;text-align:center;color:#fff;padding:10px}.dtp div.dtp-date>div{padding:0;margin:0}.dtp div.dtp-actual-month{font-size:1.5em}.dtp div.dtp-actual-maxtime,.dtp div.dtp-actual-num{font-size:3em;line-height:.9}.dtp div.dtp-actual-year{font-size:1.6em;color:#dcedc8}.dtp div.dtp-year-btn{font-size:1.4em;line-height:30px;cursor:pointer;color:#dcedc8}.dtp div.dtp-year-btn-prev{text-align:right}.dtp div.dtp-year-btn-next{text-align:left}.dtp div.dtp-picker{padding:10px;text-align:center}.dtp div.dtp-actual-time,.dtp div.dtp-picker-month{font-weight:500;text-align:center}.dtp .dtp-close{position:absolute;top:.25em;right:5px;font-size:16px}.dtp .dtp-close>a{color:#fff;text-decoration:none}.dtp .dtp-close>a>i{font-size:1em}.dtp table.dtp-picker-days{margin:0;min-height:220px}.dtp md-virtual-repeat-container.months{height:260px}.dtp table.dtp-picker-days,.dtp table.dtp-picker-days tr,.dtp table.dtp-picker-days tr>td{border:none}.dtp table.dtp-picker-days tr>td{font-size:11px;text-align:center;padding:0}.dtp table.dtp-picker-days tr>td>span.dtp-select-day{color:#bdbdbd!important}.dtp table.dtp-picker-days tr>td>.dtp-select-day{width:36px;height:36px;display:inline-block}.dtp .dtp-picker-time>a,.dtp table.dtp-picker-days tr>td>.dtp-select-day{color:#212121;text-decoration:none;padding:10px;border-radius:50%!important}.dtp table.dtp-picker-days tr>td>a.selected{background:#8bc34a;color:#fff}.dtp table.dtp-picker-days tr>td>a:hover:not(.selected){background:#ddd}.dtp table.dtp-picker-days tr>th{color:#757575;text-align:center;font-weight:700;padding:4px 3px}.dtp .p10>a{color:#689f38;text-decoration:none}.dtp .p10{width:10%}.dtp .p10,.dtp .p20{display:inline-block}.dtp .p20{width:20%}.dtp .p60{width:60%}.dtp .p60,.dtp .p80{display:inline-block}.dtp .p80{width:80%}.dtp a.dtp-meridien-am,.dtp a.dtp-meridien-pm{position:relative;top:10px;color:#212121;font-weight:500;padding:7px 5px;border-radius:50%!important;text-decoration:none;background:#eee;font-size:10px}.dtp .dtp-actual-meridien a.selected{background:#689f38;color:#fff}.dtp .dtp-picker-time>a{display:block;line-height:23px;padding:3px}.dtp .dtp-picker-time{position:absolute;width:30px;height:30px;font-size:1.1em;border-radius:50%;cursor:pointer;text-align:center!important}.dtp .dtp-picker-time>a.dtp-select-hour.selected{background:#689f38;color:#fff}.dtp .dtp-picker-time>a.dtp-select-hour.disabled,.dtp .dtp-picker-time>a.dtp-select-minute.disabled{color:#757575}.dtp .dtp-picker-time>a.dtp-select-minute.selected{background:#8bc34a;color:#fff}.dtp div.dtp-picker-clock{margin:10px 20px 0;padding:10px;border-radius:50%!important;background:#eee}.dtp-clock-center{width:15px;height:15px;background:#757575;border-radius:50%;position:absolute;z-index:50}.dtp .dtp-hand,.dtp .dtp-hour-hand{position:absolute;width:4px;margin-left:-2px;background:#bdbdbd;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:bottom;transform-origin:bottom;z-index:1}.dtp .dtp-minute-hand{width:2px;margin-left:-1px}.dtp .dtp-hand.on{background:#8bc34a}.dtp .dtp-buttons{padding:0 10px 10px;text-align:right}.dtp.hidden,.dtp .hidden{display:none}.dtp .invisible{visibility:hidden}.dtp .left{float:left}.dtp .right{float:right}.dtp .clearfix{clear:both}.dtp .center{text-align:center}",""])},599:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t(600),a=n(r);angular.module("directive.g+signin",[]).directive("googlePlusSignin",["$window",function(e){var t=/\.apps\.googleusercontent\.com$/;return{restrict:"E",transclude:!0,template:"<span></span>",replace:!0,link:function(n,r,i,o,s){i.clientid+=t.test(i.clientid)?"":".apps.googleusercontent.com",i.$set("data-clientid",i.clientid),i.$set("theme",i.theme);var c={callback:"signinCallback",cookiepolicy:"single_host_origin",requestvisibleactions:"http://schemas.google.com/AddActivity",scope:"https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/userinfo.email",height:"standard",width:"wide",state:""};c.clientid=i.clientid,c.theme=i.theme,angular.forEach((0,a["default"])(c),function(e){i.hasOwnProperty(e)&&(c[e]=i[e])}),i.$observe("language",function(t){e.___gcfg={lang:t?t:"en"}});var u=document.createElement("script");u.type="text/javascript",u.async=!0,u.src="https://apis.google.com/js/client:plusone.js";var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(u,l),s(function(e,t){u.onload=function(){e.length&&r.append(e),gapi.signin.render(r[0],c)}})}}}]).run(["$window","$rootScope",function(e,t){e.signinCallback=function(e){e&&e.access_token?t.$broadcast("event:google-plus-signin-success",e):t.$broadcast("event:google-plus-signin-failure",e)}}])},643:function(e,exports,t){var n=t(644);"string"==typeof n&&(n=[[e.id,n,""]]);t(485)(n,{});n.locals&&(e.exports=n.locals)},644:function(e,exports,t){exports=e.exports=t(484)(),exports.push([e.id,"",""])},645:function(e,exports,t){var n=t(646);"string"==typeof n&&(n=[[e.id,n,""]]);t(485)(n,{});n.locals&&(e.exports=n.locals)},646:function(e,exports,t){exports=e.exports=t(484)(),exports.push([e.id,".distributor-selection{font-size:16pt;padding:3px;margin:3px}body{margin-top:100px;background-color:transparent}@media (min-width:768px){body{margin-top:50px}}#wrapper{padding-left:0}#page-wrapper{width:100%;padding:0;background-color:#fff}.huge{font-size:50px;line-height:normal}@media (min-width:768px){#wrapper{padding-left:225px}#page-wrapper{padding:10px}}.margin-bottom-15{margin-bottom:1.5em}.margin-top-05{margin-top:.5em}.margin-top-15{margin-top:1.5em}.margin-top-20{margin-top:2em}.margin-top-25{margin-top:2.5em}.margin-top-50{margin-top:5em}.issue-warning-background{background-color:orange}.issue-warning-text{color:orange}.issue-danger-background{background-color:red}.issue-danger-text{color:red}.issue-normal-background{background-color:green}.issue-normal-text{color:green}.up-true-background{background-color:green}.up-false-background{background-color:red}.navbar-default{background-color:#1b75bb;border-color:#15598e}.navbar-default .navbar-brand{color:#fff}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#55a7e7}.navbar-default .navbar-nav>li>a,.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#fff}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#fff;background-color:#afd5f3}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{color:#555;background-color:#d5d5d5}.navbar-default .navbar-nav>.dropdown>a .caret{border-top-color:#777;border-bottom-color:#777}.navbar-default .navbar-nav>.dropdown>a:focus .caret,.navbar-default .navbar-nav>.dropdown>a:hover .caret{border-top-color:#333;border-bottom-color:#333}.navbar-default .navbar-nav>.open>a .caret,.navbar-default .navbar-nav>.open>a:focus .caret,.navbar-default .navbar-nav>.open>a:hover .caret{border-top-color:#555;border-bottom-color:#555}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#ccc}@media (max-width:767px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333}}.top-nav{padding:0 15px}.top-nav>li{display:inline-block;float:left}.top-nav>li>a{padding-top:15px;padding-bottom:15px;line-height:20px;color:#efefef}.top-nav>.open>a,.top-nav>.open>a:focus,.top-nav>.open>a:hover,.top-nav>li>a:focus,.top-nav>li>a:hover{color:#fff;background-color:#1b75bb}.top-nav>.open>.dropdown-menu{float:left;position:absolute;margin-top:0;border:1px solid rgba(0,0,0,.15);border-top-left-radius:0;border-top-right-radius:0;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.top-nav>.open>.dropdown-menu>li>a{white-space:normal}ul.message-dropdown{padding:0;max-height:250px;overflow-x:hidden;overflow-y:auto}li.message-preview{width:275px;border-bottom:1px solid rgba(0,0,0,.15)}li.message-preview>a{padding-top:15px;padding-bottom:15px}li.message-footer{margin:5px 0}ul.alert-dropdown{width:200px}@media (min-width:768px){.side-nav{position:fixed;top:51px;left:225px;margin-left:-225px;border:none;border-radius:0;overflow-y:auto;background-color:#1b75bb;bottom:0;overflow-x:hidden;padding-bottom:40px}.side-nav,.side-nav>li>a{width:225px}.side-nav li a:focus,.side-nav li a:hover{outline:none;background-color:#3f9ce3!important}}.side-nav>li>ul{padding:0}.side-nav>li>ul>li>a{display:block;padding:10px 15px 10px 38px;text-decoration:none;color:#d4d4d4}.side-nav>li>ul>li>a:hover{color:#fff}.flot-chart{display:block;height:400px}.flot-chart-content{width:100%;height:100%}.huge{font-size:40px}.panel-green{border-color:#5cb85c}.panel-green>.panel-heading{border-color:#5cb85c;color:#fff;background-color:#5cb85c}.panel-green>a{color:#5cb85c}.panel-green>a:hover{color:#3d8b3d}.panel-red{border-color:#d9534f}.panel-red>.panel-heading{border-color:#d9534f;color:#fff;background-color:#d9534f}.panel-red>a{color:#d9534f}.panel-red>a:hover{color:#b52b27}.panel-yellow{border-color:#f0ad4e}.panel-yellow>.panel-heading{border-color:#f0ad4e;color:#fff;background-color:#f0ad4e}.panel-yellow>a{color:#f0ad4e}.panel-yellow>a:hover{color:#df8a13}.toolbar{margin-bottom:10px}.entity-key{font-family:Monaco,Consolas,Lucida Console,dejavu sans mono,monospace;font-size:11px}.proof-of-play-label{padding-bottom:10px;padding-top:10px}.copy-ready-transparent{color:transparent}.no-devices{text-align:center}.properties-word-break{width:390px;word-wrap:break-word;display:block}.command-history-command{width:375px;word-wrap:break-word;display:block}.hostname-word-break{width:200px;word-wrap:break-word;display:inline-block}[data-ng-click],[ng-click],[x-ng-click]{cursor:pointer}#proofplay-selected-items{min-width:0!important;margin:0 auto;padding:0 auto}.radio-button{padding:3px}.horizontal-submit{margin:.5em}.horizontal-submit,.radio-horizontal{display:flex;align-self:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center}md-toolbar.md-default-theme:not(.md-menu-toolbar),md-toolbar:not(.md-menu-toolbar){background-color:#1b75bb!important;max-height:64px;min-height:64px}.md-toolbar-tools{background-color:#000!important;max-height:64px;min-height:64px}.skykit-image{max-width:100%;height:33px}@media (max-width:767px){md-toolbar.md-default-theme:not(.md-menu-toolbar),md-toolbar:not(.md-menu-toolbar){margin-top:-50px;margin-bottom:50px}}.center-block{text-align:center}.ellipsis-overflow,.proof-of-play-selected-item{width:100%;white-space:nowrap;overflow:hidden;text-align:left;text-overflow:ellipsis}.proof-of-play-tenant-name-option{width:7em;white-space:nowrap;overflow:hidden;text-align:center;positition:absolute;text-overflow:ellipsis}.proof-of-play-horizontal-top-bar{align-self:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;margin-top:.5em;margin-bottom:.5em;align-items:center}.my-flex,.proof-of-play-horizontal-top-bar{display:flex;justify-content:center}.bigger-buttons{padding:.4em;min-width:88px;border-radius:5px;font-size:16px;text-align:center;text-decoration:none;border:none;outline:none}.admin-container{display:flex;align-content:flex-start}.registration-event-column{height:110px;display:inline-block;vertical-align:top;overflow:scroll}.pull-command-send-button-up{margin-top:-2px}header.dtp-header{background:#1b75bb!important}.dtp div.dtp-date,.dtp div.dtp-time{background:#000}.dtp .dtp-actual-meridien a.selected,.dtp .dtp-picker-time>a.dtp-select-hour.selected,.dtp table.dtp-picker-days tr>td>a.selected{background:#1b75bb!important}.dtp .dtp-hand.on{background:#000}.device-properties-switch{margin-top:-1px}.md-content-command-override md-content{overflow:unset}.pull-tooltip-left{margin-left:-55px}.command-button-right{float:right;flex-direction:row-reverse}md-select{display:block;margin:10px 0 8px;padding-bottom:2px;position:relative;min-width:180px;max-width:180px}.small-delete-button{float:right;min-width:25px;margin-top:-15px;margin-right:-5px}.tooltip-custom-large{min-width:250px}.tenant-image-name,.user-email-ellipsis{width:10em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}",""]);
},648:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o,s,c,u,l,d,v,m){"ngInject";var f=this;return f.tenantKey=t.tenantKey,f.deviceKey=t.deviceKey,f.fromDevices="true"===t.fromDevices,f.currentDevice={},f.commandEvents=[],f.generateLocalFromUTC=function(e){var t=i["default"].utc(e).toDate();return t=(0,i["default"])(t).format("YYYY-MM-DD hh:mm:ss A")},f.replaceCommandTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.postedTime&&(n.postedTime=f.generateLocalFromUTC(n.postedTime)),n.confirmedTime&&(n.confirmedTime=f.generateLocalFromUTC(n.confirmedTime))}},f.getEvents=function(e,t,n){l.start();var r=a.getCommandEventsByKey(e,t,n);return r.then(function(e){return f.replaceCommandTime(e.events),f.event_next_cursor=e.next_cursor,f.event_prev_cursor=e.prev_cursor,f.commandEvents=e.events,l.complete()})},f.getEventsTimeOut=function(e,t,n){return m(function(){return f.getEvents(e,t,n)},1e3)},f.commandHistorySelected=function(){return f.getEvents(f.deviceKey)},f.paginateEventCall=function(e){return e?f.getEvents(f.deviceKey,null,f.event_next_cursor):f.getEvents(f.deviceKey,f.event_prev_cursor,null)},f.initialize=function(){var e=a.getDeviceByKey(f.deviceKey);return e.then(function(e){return f.onGetDeviceSuccess(e)},function(e){return f.onGetDeviceFailure(e)}),f.getEvents(f.deviceKey)},f.onGetDeviceSuccess=function(e){return f.currentDevice=e,e.timezone!==f.selectedTimezone&&(f.selectedTimezone=e.timezone),void 0===f.tenantKey&&(f.tenantKey=f.currentDevice.tenantKey),"true"===t.fromDevices?(f.backUrl="/#/devices",f.backUrlText="Back to devices"):f.currentDevice.isUnmanagedDevice===!0?(f.backUrl="/#/tenants/"+f.tenantKey+"/unmanaged",f.backUrlText="Back to tenant unmanaged devices"):(f.backUrl="/#/tenants/"+f.tenantKey+"/managed",f.backUrlText="Back to tenant managed devices")},f.onGetDeviceFailure=function(t){v.showErrorToast("Oops. We were unable to fetch the details for this device at this time.");var r="No detail for device_key #"+f.deviceKey+". Error: "+t.status+" "+t.statusText;return e.error(r),n.go("devices")},f.onResetContent=function(){l.start();var e=s.contentDelete(f.deviceKey);return e.then(f.onResetContentSuccess,f.onResetContentFailure)},f.onResetContentSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your reset content command into the player's queue.")},f.onResetContentFailure=function(t){return l.complete(),e.error("Reset content command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your reset content command into the player's queue.","error")},f.onUpdateContent=function(){l.start();var e=s.contentUpdate(f.deviceKey);return e.then(f.onUpdateContentSuccess,f.onUpdateContentFailure)},f.onUpdateContentSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your update content command into the player's queue.")},f.onUpdateContentFailure=function(t){return l.complete(),e.error("Content update command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your update content command into the player's queue.","error")},f.onResetPlayer=function(){l.start();var e=s.reset(f.deviceKey);return e.then(f.onResetPlayerSuccess,f.onResetPlayerFailure)},f.onResetPlayerSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your reset player command into the player's queue.")},f.onResetPlayerFailure=function(t){return l.complete(),e.error("Reset player command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your reset player command into the player's queue.","error")},f.onPanelOn=function(){l.start();var e=s.powerOn(f.deviceKey);return e.then(f.onPanelOnSuccess,f.onPanelOnFailure)},f.onPanelOnSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your panel on command into the player's queue.")},f.onPanelOnFailure=function(t){return l.complete(),e.error("Panel on command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your panel on command into the player's queue.","error")},f.onPanelOff=function(){l.start();var e=s.powerOff(f.deviceKey);return e.then(f.onPanelOffSuccess,f.onPanelOffFailure)},f.onPanelOffSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your panel off command into the player's queue.")},f.onPanelOffFailure=function(t){return l.complete(),e.error("Panel off command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your panel off command into the player's queue.","error")},f.onUpdateDevice=function(){l.start();var e=s.updateDevice(f.deviceKey);return e.then(f.onUpdateDeviceSuccess,f.onUpdateDeviceFailure)},f.onUpdateDeviceSuccess=function(){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your update device command into the player's queue.")},f.onUpdateDeviceFailure=function(t){return l.complete(),e.error("Update device command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your update device command into the player's queue.","error")},f.onVolumeChange=function(){l.start();var e=s.volume(f.deviceKey,f.currentDevice.volume);return e.then(f.onVolumeChangeSuccess(f.currentDevice.volume),f.onVolumeChangeFailure)},f.onVolumeChangeSuccess=function(e){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your volume change command of "+e+" into the player's queue.")},f.onVolumeChangeFailure=function(t){return l.complete(),e.error("Volume change command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your volume change command into the player's queue.","error")},f.onCustomCommand=function(){l.start();var e=s.custom(f.deviceKey,f.currentDevice.custom);return e.then(f.onCustomCommandSuccess(f.currentDevice.custom),f.onCustomCommandFailure)},f.onCustomCommandSuccess=function(e){return l.complete(),f.getEventsTimeOut(f.deviceKey),v.showSuccessToast("We posted your custom command '"+e+"' into the player's queue.")},f.onCustomCommandFailure=function(t){return l.complete(),e.error("Custom command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your custom command into the player's queue.","error")},f.onDiagnosticsToggle=function(){l.start();var e=s.toggleDiagnostics(f.deviceKey);return e.then(f.onToggleDiagnosticsSuccess,f.onToggleDiagnosticsFailure)},f.onToggleDiagnosticsSuccess=function(){return l.complete(),v.showSuccessToast("We posted your diagnostics command into the player's queue.")},f.onToggleDiagnosticsFailure=function(t){return l.complete(),e.error("Diagnostics command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your diagnostics command into the player's queue.","error")},f.onRestart=function(){l.start();var e=s.restart(f.deviceKey);return e.then(f.onRestartSuccess,f.onRestartFailure)},f.onRestartSuccess=function(){return l.complete(),v.showSuccessToast("We posted your restart command into the player's queue.")},f.onRestartFailure=function(t){return l.complete(),e.error("Restart command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your restart command into the player's queue.","error")},f.onPostLog=function(){l.start();var e=s.postLog(f.deviceKey);return e.then(f.onPostLogSuccess,f.onPostLogFailure)},f.onPostLogSuccess=function(){return l.complete(),v.showSuccessToast("We posted your post log command into the player's queue.")},f.onPostLogFailure=function(t){return l.complete(),e.error("Post log command error: "+t.status+" "+t.statusText),u.show("Oops...","We were unable to post your post log command into the player's queue.","error")},f}r.$inject=["$log","$stateParams","$state","SessionsService","DevicesService","LocationsService","CommandsService","TimezonesService","sweet","ProgressBarService","$mdDialog","ToastsService","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceDetailsCommandsCtrl=void 0;var a=t(372),i=n(a);exports.DeviceDetailsCommandsCtrl=r},649:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o,c,l,v,m,f,p,h,g,y,b,D){"ngInject";var S=this;S.tenantKey=t.tenantKey,S.tenantUrl="/#/tenants/"+S.tenantKey+"/details",S.deviceKey=t.deviceKey,S.fromDevices="true"===t.fromDevices,S.currentDevice={},S.locations=[],S.commandEvents=[],S.dayRange=30,S.issues=[],S.timezones=[],S.selectedTimezone=void 0;var T=y.createFormattedStartAndEndDateFromToday(30),_=(0,s["default"])(T,2);return S.startTime=_[0],S.endTime=_[1],S.enrollmentEvents=[],S.logoChange=!1,S.controlsModeOptions=["visible","invisible","disabled"],S.orientationOptions=["0","90","180","270"],S.sleepControllerOptions=["chrome-default","rs232"],S.overlayChanged=!1,S.checkForOverlayChanges=function(){var e=!1,t=S.currentDevice.overlays,n=S.currentDeviceCopy.overlays,r=["top_left","top_right","bottom_right","bottom_left"],a=!0,o=!1,s=void 0;try{for(var c,u=(0,i["default"])(r);!(a=(c=u.next()).done);a=!0){var l=c.value;t[l].size!==n[l].size&&(e=!0),t[l].type!==n[l].type&&(e=!0),"logo"===t[l].type&&t[l].type+": "+t[l].name!==n[l].name&&(e=!0)}}catch(d){o=!0,s=d}finally{try{!a&&u["return"]&&u["return"]()}finally{if(o)throw s}}S.overlayChanged=e},S.revertToTenantOverlay=function(e){p.start(),S.loadingOverlays=!0;var n=o.getTenantByKey(t.tenantKey);n.then(function(e){var t=e.overlays;if(!t)return S.loadingOverlays=!1,p.complete(),f.show("Oops...","Your tenant does not have overlays enabled. Please enable overlays for your tenant before attempting to revert device overlay to tenant settings.","error");delete t.key;for(var n in t)"logo"===t[n].type?t[n].image_key=t[n].imageKey.key:t[n].image_key=null;var r=a.saveOverlaySettings(S.deviceKey,t.bottom_left,t.bottom_right,t.top_right,t.top_left);r.then(function(e){var t=a.getDeviceByKey(S.deviceKey);t.then(function(e){S.currentDevice.overlays=e.overlays,S.currentDeviceCopy.overlays=angular.copy(S.currentDevice.overlays),S.loadingOverlays=!1,p.complete(),g.showSuccessToast("We saved your update.")})}),r["catch"](function(e){p.complete(),g.showErrorToast("Something went wrong")})})},S.adjustControlsMode=function(){var e=S.currentDevice.controlsMode;p.start();var t=a.adjustControlsMode(S.deviceKey,e);t.then(function(){p.complete(),g.showSuccessToast("Your controls mode selection was succesfully changed to: "+e)}),t["catch"](function(){p.complete()})},S.adjustOverlayStatus=function(e){S.currentDevice.overlayStatus=e,p.start();var t=a.save(S.currentDevice);return t.then(function(){var e=a.getDeviceByKey(S.deviceKey);e.then(function(e){S.onGetDeviceSuccess(e),p.complete()},function(e){return S.onGetDeviceFailure(e)})})},S.submitOverlaySettings=function(){var e=angular.copy(S.currentDeviceCopy.overlays);p.start(),S.loadingOverlays=!0;var t=a.saveOverlaySettings(S.deviceKey,e.bottom_left,e.bottom_right,e.top_right,e.top_left);t.then(function(e){var t=a.getDeviceByKey(S.deviceKey);t.then(function(e){S.currentDevice.overlays=e.overlays,S.currentDeviceCopy.overlays=angular.copy(S.currentDevice.overlays),S.loadingOverlays=!1,p.complete(),g.showSuccessToast("We saved your update.")})}),t["catch"](function(e){p.complete(),g.showErrorToast("Something went wrong")})},S.getTenantImagesAndRefreshDevice=function(){var e=a.getDeviceByKey(S.deviceKey);e.then(function(e){S.onGetDeviceSuccess(e),S.getTenantImages()}),e["catch"](function(e){S.onGetDeviceFailure(e)})},S.getTenantImages=function(){S.OVERLAY_TYPES=[{size:null,type:null,name:"none",realName:"none","new":!1,image_key:null},{size:null,type:"datetime",name:"datetime",realName:"datetime","new":!0,image_key:null}],p.start();var e=D.getImages(S.tenantKey);e.then(function(e){S.tenantImages=e,p.complete();var t=!0,n=!1,r=void 0;try{for(var a,o=(0,i["default"])(S.tenantImages);!(t=(a=o.next()).done);t=!0)for(var s=a.value,c=["small","large"],u=0;u<c.length;u++){var l=c[u],v={realName:angular.copy(s.name),name:"logo: "+s.name,type:"logo",size:l,image_key:s.key};S.OVERLAY_TYPES.push(v)}}catch(m){n=!0,r=m}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}S.OVERLAY_TYPES.sort(d["default"])}),e["catch"](function(){p.complete()})},S.replaceIssueTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.created&&(n.created=y.generateLocalFromUTC(n.created)),n.updated&&(n.updated=y.generateLocalFromUTC(n.updated))}},S.replaceCommandTime=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.postedTime&&(n.postedTime=y.generateLocalFromUTC(n.postedTime)),n.confirmedTime&&(n.confirmedTime=y.generateLocalFromUTC(n.confirmedTime))}},S.localFromUtc=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.utcTimestamp&&(n.utcTimestamp=y.generateLocalFromUTC(n.utcTimestamp))}},S.copyDeviceKey=function(){return g.showSuccessToast("Device key copied to your clipboard")},S.copyCorrelationIdentifier=function(){return g.showSuccessToast("Correlation ID copied to your clipboard")},S.getIssues=function(e,t,n,r,i){p.start();var o=a.getIssuesByKey(e,t,n,r,i);return o.then(function(e){return S.replaceIssueTime(e.issues),S.issues=e.issues,S.prev_cursor=e.prev,S.next_cursor=e.next,p.complete()})},S.getEvents=function(e,t,n){p.start();var r=a.getCommandEventsByKey(e,t,n);return r.then(function(e){return S.replaceCommandTime(e.events),S.event_next_cursor=e.next_cursor,S.event_prev_cursor=e.prev_cursor,S.commandEvents=e.events,p.complete()})},S.getEnrollmentEvents=function(e){p.start();var t=m.getEnrollmentEvents(e);return t.then(function(e){return S.enrollmentEvents=e,S.localFromUtc(e),p.complete()})},S.paginateCall=function(e){return e?S.getIssues(S.deviceKey,S.epochStart,S.epochEnd,null,S.next_cursor):S.getIssues(S.deviceKey,S.epochStart,S.epochEnd,S.prev_cursor,null)},S.paginateEventCall=function(e){return e?S.getEvents(S.deviceKey,null,S.event_next_cursor):S.getEvents(S.deviceKey,S.event_prev_cursor,null)},S.initialize=function(){S.epochStart=(0,u["default"])(S.startTime,"YYYY-MM-DD hh:mm A").unix(),S.epochEnd=(0,u["default"])(S.endTime,"YYYY-MM-DD hh:mm A").unix();var e=v.getCustomTimezones();e.then(function(e){return S.timezones=e}),S.panelModels=a.getPanelModels(),S.panelInputs=a.getPanelInputs();var t=a.getDeviceByKey(S.deviceKey);return t.then(function(e){return S.onGetDeviceSuccess(e)},function(e){return S.onGetDeviceFailure(e)}),S.getTenantImages(),S.getEvents(S.deviceKey),S.getIssues(S.deviceKey,S.epochStart,S.epochEnd),S.getEnrollmentEvents(S.deviceKey)},S.onGetDeviceSuccess=function(e){S.currentDevice=e,S.currentDeviceCopy=angular.copy(S.currentDevice),e.timezone!==S.selectedTimezone&&(S.selectedTimezone=e.timezone),void 0===S.tenantKey&&(S.tenantKey=S.currentDevice.tenantKey),"true"===t.fromDevices?(S.backUrl="/#/devices",S.backUrlText="Back to devices"):S.currentDevice.isUnmanagedDevice===!0?(S.backUrl="/#/tenants/"+S.tenantKey+"/unmanaged",S.backUrlText="Back to tenant unmanaged devices"):(S.backUrl="/#/tenants/"+S.tenantKey+"/managed",S.backUrlText="Back to tenant managed devices");var n=c.getLocationsByTenantKey(S.tenantKey);return n.then(function(e){return S.locations=e,S.setSelectedOptions()})},S.onGetDeviceFailure=function(t){g.showErrorToast("Oops. We were unable to fetch the details for this device at this time.");var r="No detail for device_key "+S.deviceKey+". Error: "+t.status+" "+t.statusText;return e.error(r),n.go("devices")},S.setSelectedOptions=function(){if(null===S.currentDevice.panelModel)S.currentDevice.panelModel=S.panelModels[0],S.currentDevice.panelInput=S.panelInputs[0];else{for(var e=0;e<S.panelModels.length;e++){var t=S.panelModels[e];t.id===S.currentDevice.panelModel&&(S.currentDevice.panelModel=t)}for(var n=0;n<S.panelInputs.length;n++){var r=S.panelInputs[n],a=r.parentId===S.currentDevice.panelModel.id;a&&r.id.toLowerCase()===S.currentDevice.panelInput&&(S.currentDevice.panelInput=r)}}if(null===S.currentDevice.locationKey);else for(var i=0;i<S.locations.length;i++){var o=S.locations[i];o.key===S.currentDevice.locationKey&&(S.currentDevice.location=o)}},S.onSaveDevice=function(){p.start(),void 0!==S.currentDevice.location&&void 0!==S.currentDevice.location.key&&(S.currentDevice.locationKey=S.currentDevice.location.key),S.currentDevice.panelModel&&void 0!==S.currentDevice.panelModel.id&&"None"!==S.currentDevice.panelModel.id&&(S.currentDevice.panelModelNumber=S.currentDevice.panelModel.id),S.currentDevice.panelInput&&void 0!==S.currentDevice.panelInput.id&&"None"!==S.currentDevice.panelInput.id&&(S.currentDevice.panelSerialInput=S.currentDevice.panelInput.id.toLowerCase()),S.currentDevice.timezone=S.selectedTimezone;var e=a.save(S.currentDevice);return e.then(S.onSuccessDeviceSave,S.onFailureDeviceSave)},S.onSuccessDeviceSave=function(){return p.complete(),g.showSuccessToast("We saved your update.")},S.onFailureDeviceSave=function(t){return p.complete(),409===t.status?(e.info("Failure saving device. Customer display code already exists for tenant: "+t.status+" "+t.statusText),f.show("Oops...","This customer display code already exists for this tenant. Please choose another.","error")):(e.error("Failure saving device: "+t.status+" "+t.statusText),g.showErrorToast("Oops. We were unable to save your updates to this device at this time."))},S.onPanelSleep=function(e){p.start();var t=l.panelSleep(S.deviceKey,e);return t.then(S.onPanelSleepSuccess,S.onPanelSleepFailure)},S.onPanelSleepSuccess=function(){return p.complete(),g.showSuccessToast("We toggled the panel sleep attribute. The player should adjust to these changes within 15 minutes.")},S.onPanelSleepFailure=function(e){return p.complete(),f.show("Oops...","We were unable to toggle the panel sleep attribute.","error")},S.confirmDeviceDelete=function(e,t){var n=h.confirm({title:"Are you sure to delete this device?",textContent:"Please remember, you MUST remove this device from Content Manager before deleting it from Provisioning.",targetEvent:e,ok:"Delete",cancel:"Cancel"}),r=h.show(n),a=function(){return S.onConfirmDelete(t)},i=function(){return S.onConfirmCancel()};return r.then(a,i)},S.onConfirmDelete=function(t){var r=function(){return g.showSuccessToast("We processed your delete request."),n.go("devices")},i=function(n){var r="We were unable to complete your delete request at this time.";return g.showErrorToast(r),e.error("Delete device failure for device_key "+t+": "+n.status+" "+n.statusText)},o=a["delete"](t);return o.then(r,i)},S.onConfirmCancel=function(){return g.showInfoToast("We canceled your delete request.")},S.onProofOfPlayLoggingCheck=function(){if(S.currentDevice.proofOfPlayLogging){var e=null===S.currentDevice.locationKey,t=null===S.currentDevice.customerDisplayCode;return e?(f.show("Oops...","You must have a Location to enable Proof of play.","error"),S.currentDevice.proofOfPlayLogging=!1):t?(f.show("Oops...","You must have a Display code to enable Proof of play.","error"),S.currentDevice.proofOfPlayLogging=!1):S.onSaveDevice()}return S.onSaveDevice()},S.onUpdateLocation=function(){return S.onSaveDevice()},S.autoGenerateCustomerDisplayCode=function(){var e="";return S.currentDevice.customerDisplayName&&(e=S.currentDevice.customerDisplayName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),S.currentDevice.customerDisplayCode=e},S.logglyForUser=function(){var e=r.getUserEmail().split("@")[1];return"demo.agosto.com"===e||"agosto.com"===e},S.onClickRefreshButton=function(){p.start(),S.startTime=y.convertToMomentIfNotAlready(S.startTime),S.endTime=y.convertToMomentIfNotAlready(S.endTime),S.epochStart=(0,u["default"])(S.startTime,"YYYY-MM-DD hh:mm A").unix(),S.epochEnd=(0,u["default"])(S.endTime,"YYYY-MM-DD hh:mm A").unix(),S.prev_cursor=null,S.next_cursor=null;var e=a.getIssuesByKey(S.deviceKey,S.epochStart,S.epochEnd,S.prev_cursor,S.next_cursor);return e.then(function(e){return S.onRefreshIssuesSuccess(e)},function(e){return S.onRefreshIssuesFailure(e)})},S.onRefreshIssuesSuccess=function(e){return S.replaceIssueTime(e.issues),S.issues=e.issues,S.prev_cursor=e.prev,S.next_cursor=e.next,p.complete()},S.onRefreshIssuesFailure=function(t){return p.complete(),g.showInfoToast("We were unable to refresh the device issues list at this time."),e.error("Failure to refresh device issues: "+t.status+" "+t.statusText)},S}r.$inject=["$log","$stateParams","$state","SessionsService","DevicesService","TenantsService","LocationsService","CommandsService","TimezonesService","IntegrationEvents","sweet","ProgressBarService","$mdDialog","ToastsService","DateManipulationService","$timeout","ImageService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceDetailsCtrl=void 0;var a=t(650),i=n(a),o=t(655),s=n(o),c=t(372),u=n(c),l=t(659),d=n(l);exports.DeviceDetailsCtrl=r},660:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o,s){"ngInject";var c=this;return c.distributorKey=void 0,c.devices=[],c.devicesPrev=null,c.devicesNext=null,c.selectedButton="Serial Number",c.serialDevices={},c.disabled=!0,c.macDevices={},c.gcmidDevices={},c.unmanagedSelectedButton="MAC",c.unmanagedSerialDevices={},c.unmanagedDisabled=!0,c.unmanagedDevicesPrev=null,c.unmanagedDevicesNext=null,c.unmanagedDevices=[],c.unmanagedMacDevices={},c.unmanagedGCMidDevices={},c.devicesToMatchOnUnmanaged=[],c.devicesToMatchOnManaged=[],c.refreshManagedDevices=function(){return c.devicesPrev=null,c.devicesNext=null,c.getManagedDevices(c.distributorKey,c.devicesPrev,c.devicesNext)},c.refreshUnmanagedDevices=function(){return c.unmanagedDevicesPrev=null,c.unmanagedDevicesNext=null,c.getUnmanagedDevices(c.distributorKey,c.unmanagedDevicesPrev,c.unmanagedDevicesNext)},c.changeRadio=function(e){e?(c.unmanagedSearchText="",c.unmanagedDisabled=!0,c.unmanagedSerialDevices={},c.unmanagedMacDevices={},c.devicesToMatchOnUnmanaged=[]):(c.searchText="",c.disabled=!0,c.serialDevices={},c.macDevices={},c.devicesToMatchOnManaged=[])},c.editItem=function(e){return n.editItem(e,!0)},c.prepareForEditView=function(e,t){var n=void 0,r=void 0,a=void 0;return e?(n="MAC"===c.unmanagedSelectedButton,r="Serial Number"===c.unmanagedSelectedButton,a="GCM ID"===c.unmanagedSelectedButton,n?c.editItem(c.unmanagedMacDevices[t]):r?c.editItem(c.unmanagedSerialDevices[t]):c.editItem(c.unmanagedGCMidDevices[t])):(n="MAC"===c.selectedButton,r="Serial Number"===c.selectedButton,a="GCM ID"===c.selectedButton,n?c.editItem(c.macDevices[t]):r?c.editItem(c.serialDevices[t]):c.editItem(c.gcmidDevices[t]))},c.controlOpenButton=function(e,t){e?(c.unmanagedDisabled=!t,c.unmanagedDisabledButtonLoading=!1):(c.disabled=!t,c.disabledButtonLoading=!1)},c.isResourceValid=function(e,t){var n=e?c.devicesToMatchOnUnmanaged:c.devicesToMatchOnManaged,r=!1,a=!0,o=!1,s=void 0;try{for(var u,l=(0,i["default"])(n);!(a=(u=l.next()).done);a=!0){var d=u.value;t===d&&(r=!0)}}catch(v){o=!0,s=v}finally{try{!a&&l["return"]&&l["return"]()}finally{if(o)throw s}}return c.controlOpenButton(e,r),r},c.searchDevices=function(e,t){var r=void 0;r=e?c.unmanagedSelectedButton:c.selectedButton;var a=!1,i=null;return n.searchDevices(t,r,a,i,c.distributorKey,e).then(function(t){var n=void 0;if(t.success){var a=t.devices;return"Serial Number"===r?(e?c.unmanagedSerialDevices=a[1]:c.serialDevices=a[1],n=a[0]):"MAC"===r?(e?c.unmanagedMacDevices=a[1]:c.macDevices=a[1],n=a[0]):(e?c.unmanagedGCMidDevices=a[1]:c.gcmidDevices=a[1],n=a[0]),e?c.devicesToMatchOnUnmanaged=n:c.devicesToMatchOnManaged=n,n}return[]})},c.getManagedDevices=function(e,t,r){o.start();var a=n.getDevicesByDistributor(e,t,r);return a.then(function(e){return c.devices=e.devices,c.devicesNext=e.next_cursor,c.devicesPrev=e.prev_cursor,c.getFetchSuccess()},function(e){return c.getFetchFailure(e)})},c.getUnmanagedDevices=function(e,t,r){o.start();var a=n.getUnmanagedDevicesByDistributor(e,t,r);return a.then(function(e){return c.unmanagedDevices=e.devices,c.unmanagedDevicesPrev=e.prev_cursor,c.unmanagedDevicesNext=e.next_cursor,c.getFetchSuccess()},function(e){return c.getFetchFailure(e)})},c.initialize=function(){return c.distributorKey=a.getCurrentDistributorKey(),c.getManagedDevices(c.distributorKey,c.devicesPrev,c.devicesNext),c.getUnmanagedDevices(c.distributorKey,c.unmanagedDevicesPrev,c.unmanagedDevicesNext)},c.getFetchSuccess=function(){return o.complete()},c.getFetchFailure=function(e){o.complete();var t="Unable to fetch devices. Error: "+e.status+" "+e.statusText+".";return s.show("Oops...",t,"error")},c.paginateCall=function(e,t){if(e)t&&c.getManagedDevices(c.distributorKey,null,c.devicesNext),t||c.getUnmanagedDevices(c.distributorKey,null,c.unmanagedDevicesNext);else if(t&&c.getManagedDevices(c.distributorKey,c.devicesPrev,null),!t)return c.getUnmanagedDevices(c.distributorKey,c.unmanagedDevicesPrev,null)},c}r.$inject=["$stateParams","$log","DevicesService","$state","SessionsService","ProgressBarService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DevicesListingCtrl=void 0;var a=t(650),i=n(a);exports.DevicesListingCtrl=r},661:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o,c,u,l){"ngInject";var d=this;return d.paulsCurrentDistributorName=r.paulsCurrentDistributorName,d.selectedButton="Serial Number",d.unmanagedSelectedButton="Managed",d.serialDevices={},d.disabled=!0,d.macDevices={},d.gcmidDevices={},d.devicesToMatchOn=[],d.searchedTenants=[],d.tenantSearchMatch=null,d.tenantSearchDisabled=!0,d.controlOpenButton=function(e){return d.disabled=!e,d.loadingDisabled=!1},d.changeRadio=function(){d.searchText="",d.disabled=!0,d.serialDevices={},d.macDevices={},d.devicesToMatchOn=[]},d.isResourceValid=function(e){var t=!1,n=!0,r=!1,a=void 0;try{for(var o,s=(0,i["default"])(d.devicesToMatchOn);!(n=(o=s.next()).done);n=!0){var c=o.value;if(e===c){t=!0,d.matchDevice=c;break}}}catch(u){r=!0,a=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw a}}return d.controlOpenButton(t),t},d.searchDevices=function(e,t){var r=d.selectedButton,a=!1,i=null,o=null,s=!0;return n.searchDevices(t,r,a,i,o,e,s).then(function(e){var t=void 0;if(e.success){var n=e.devices;return"Serial Number"===r?(d.serialDevices=n[1],t=n[0]):"MAC"===r?(d.macDevices=n[1],t=n[0]):(d.gcmidDevices=n[1],t=n[0]),d.devicesToMatchOn=t,t}return[]})},d.searchAllTenantsByName=function(e){if(!e||e.length<3)return[];var t=u.searchAllTenantsByName(e,!0);return t.then(function(e){return d.searchedTenants=e,d.searchedTenants?d.searchedTenants.map(function(e){return e.name}).sort(s["default"]):[]})},d.isTenantValid=function(e){if(!e||e.length<3)return[];var t=d.searchedTenants;if(t){var n=!0,r=!1,a=void 0;try{for(var o,s=(0,i["default"])(t);!(n=(o=s.next()).done);n=!0){var c=o.value;if(e===c.name)return d.tenantSearchDisabled=!1,void(d.searchMatch=c);d.tenantSearchDisabled=!0}}catch(u){r=!0,a=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw a}}}else d.tenantSearchDisabled=!0},d.getAllDistributors=function(){d.loadingAllDistributors=!0;var t=e.getAllDistributors();return t.then(function(e){return d.loadingAllDistributors=!1,d.allDistributors=e})},d.makeDistributor=function(t,n,r,i){var o=c.confirm({title:"Are you sure?",textContent:"If you proceed, "+n+" will be created.",targetEvent:t,ariaLabel:"Lucky day",ok:"Yeah!",cancel:"Forget it."});return c.show(o).then(function(){var t=e.makeDistributor(n,r);return t.then(function(e){return d.distributor={},i.$setPristine(),i.$setUntouched(),a.showSuccessToast(e.message),setTimeout(function(){return d.allDistributors=d.getAllDistributors()},2e3)}),t["catch"](function(e){return a.showErrorToast(e.data.message)})})},d.addUserToDistributor=function(t,n,r,i,o){r||(r=!1);var s=r?"with":"without";i||(i=d.distributorsAsAdmin[0]);var u=c.confirm({title:"Are you sure?",textContent:n+" will be added to "+i+"\n        "+s+" administrator privileges",targetEvent:t,ok:"Of course!",cancel:"Oops, nevermind."});return c.show(u).then(function(){var t=e.addUserToDistributor(n,i,r);return t.then(function(e){return a.showSuccessToast(e.message),d.user={},o.$setPristine(),o.$setUntouched(),setTimeout(function(){return d.getUsersOfDistributor()},2e3)}),t["catch"](function(e){return a.showErrorToast(e.data.message)})})},d.switchDistributor=function(e){return l.switchDistributor(e),a.showSuccessToast("Distributor "+e.name+" selected!")},d.getUsersOfDistributor=function(){d.loadingUsersOfDistributor=!0;var n=t.getCurrentDistributorKey(),r=e.getUsersOfDistributor(n);return r.then(function(e){return d.loadingUsersOfDistributor=!1,d.usersOfDistributor=e})},d.initialize=function(){if(d.getUsersOfDistributor(),d.getAllDistributors(),d.isAdmin=t.getIsAdmin(),d.distributorsAsAdmin=t.getDistributorsAsAdmin(),d.currentDistributorName=t.getCurrentDistributorName(),d.isAdmin)return d.getAllDistributors()},d.editTenant=function(e){return o.go("tenantDetails",{tenantKey:e.key})},d.editItem=function(e){var t=void 0,r=void 0,a=void 0,i=d.selectedButton;t="MAC"===i,r="Serial Number"===i,a="GCM ID"===i,t?n.editItem(d.macDevices[e]):r?n.editItem(d.serialDevices[e]):n.editItem(d.gcmidDevices[e])},d}r.$inject=["AdminService","SessionsService","DevicesService","$rootScope","ToastsService","$state","$mdDialog","TenantsService","DistributorsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdminCtrl=void 0;var a=t(650),i=n(a),o=t(659),s=n(o);exports.AdminCtrl=r},662:function(e,exports){"use strict";function t(e,t,n,r,a,i,o,s,c,u,l){"ngInject";var d=this;return d.onGooglePlusSignInSuccess=function(e,t){d.googlePlusSignInButtonClicked||s.start(),o.removeUserInfo();var n=o.login(t);return n.then(d.loginSuccess,d.loginFailure)},d.onGooglePlusSignInFailure=function(e,t){if(d.googlePlusSignInButtonClicked)return s.complete(),i.show("Oops...","Unable to authenticate to Google+.","error")},e.$on("event:google-plus-signin-success",d.onGooglePlusSignInSuccess),e.$on("event:google-plus-signin-failure",d.onGooglePlusSignInFailure),d.initializeSignIn=function(){return d.clientId=a.OAUTH_CLIENT_ID,d.state=a.STATE,d.googlePlusSignInButtonClicked=!1},d.initializeSignOut=function(){return o.removeUserInfo(),r(d.proceedToSignedOut,50)},d.loginSuccess=function(e){return s.complete(),n.go("distributor_selection")},d.loginFailure=function(){return s.complete(),i.show("Oops...","Unable to authenticate to Stormpath.","error")},d.proceedToSignedOut=function(){return n.go("signed_out")},d.proceedToSignIn=function(){return n.go("sign_in")},d.onClickGooglePlusSignIn=function(){return d.googlePlusSignInButtonClicked=!0,s.start()},d}t.$inject=["$scope","$log","$state","$timeout","identity","sweet","SessionsService","ProgressBarService","ProofPlayService","DevicesService","TenantsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthenticationCtrl=t},663:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a){"ngInject";var o=this;return n.paulsCurrentDistributorName="Managing Organization",o.currentDistributerInDistributerAdminList=function(){var e=a.getCurrentDistributorName(),t=a.getDistributorsAsAdmin();return(0,i["default"])(t,e)},o.getIdentity=function(){return{key:a.getUserKey(),email:a.getUserEmail(),admin:a.getIsAdmin(),distributor_admin:a.getDistributorsAsAdmin(),admin_of_current_distributor:o.currentDistributerInDistributerAdminList(),distributorKey:a.getCurrentDistributorKey(),distributorName:a.getCurrentDistributorName()}},o.isCurrentURLDistributorSelector=function(){var e=r.location.href.search(/distributor_selection/),t=e>=0;return t},o.initialize=function(){return o.getIdentity()},o.toggleSidenav=function(){return e("left").toggle()},o.goTo=function(n,r){if(t.go(n,{id:r}),e("left").isOpen())return e("left").close()},o.initialize(),o}r.$inject=["$mdSidenav","$state","$rootScope","$window","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppController=void 0;var a=t(664),i=n(a);
exports.AppController=r},686:function(e,exports){"use strict";function t(e,t,n,r){"ngInject";var a=this;return a.paulsCurrentDistributorName=t.paulsCurrentDistributorName,a.distributors=[],a.currentDistributor=void 0,a.loading=!0,a.initialize=function(){a.loeading=!0;var e=n.fetchAllByUser(r.getUserKey());return e.then(function(e){return a.distributors=e,1===a.distributors.length?a.selectDistributor(a.distributors[0]):a.loading=!1})},a.selectDistributor=function(e){return n.switchDistributor(e)},a}t.$inject=["$state","$rootScope","DistributorsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DistributorSelectorCtrl=t},687:function(e,exports){"use strict";function t(e){"ngInject";var t=this;return t.distributors=[],t}t.$inject=["$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DistributorsCtrl=t},688:function(e,exports){"use strict";function t(e,t,n){"ngInject";var r=this;return r.domains=[],r.initialize=function(){var e=t.fetchAllDomains();return e.then(function(e){return r.domains=e})},r.editItem=function(t){return e.go("editDomain",{domainKey:t.key})},r.deleteItem=function(e){var a=function(){var n=t["delete"](e);return n.then(function(){return r.initialize()})};return n.show({title:"Are you sure?",text:"This will permanently remove the domain from the distributor and disconnect from tenants.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the domain!",closeOnConfirm:!0},a)},r}t.$inject=["$state","DomainsService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomainsCtrl=t},689:function(e,exports){"use strict";function t(e,t,n,r,a,i,o,s){"ngInject";var c=this;if(c.currentDomain={key:void 0,name:void 0,impersonation_admin_email_address:void 0,distributor_key:void 0,organization_unit_path:"/skykit",active:!0},c.devicesAccess=!1,c.orgUnitsAccess=!1,c.usersAccess=!1,c.currentDomains=[],c.editMode=!!t.domainKey,c.editMode){var u=n.getDomainByKey(t.domainKey);u.then(function(e){return c.currentDomain=e})}else c.currentDomain.distributor_key=s.getCurrentDistributorKey();return c.initialize=function(){if(c.editMode){i.start();var e=n.getDirectoryApiConnectivityInformation(t.domainKey);return e.then(c.onSuccessDeterminingConnectivity,c.onFailureDeterminingConnectivity)}},c.onSuccessDeterminingConnectivity=function(e){c.devicesAccess=e.devicesAccess,c.orgUnitsAccess=e.orgUnitsAccess,c.usersAccess=e.usersAccess,c.devicesAccessException=e.devicesAccessException,c.orgUnitsAccessException=e.orgUnitsAccessException,c.usersAccessException=e.usersAccessException,i.complete()},c.onFailureDeterminingConnectivity=function(t){return i.complete(),e.error("Failure determining directory API connectivity: "+t.status+" "+t.statusText),o.showErrorToast("Oops. We were unable determine your device connectivity at this time.")},c.onSaveDomain=function(){i.start();var e=n.save(c.currentDomain);return e.then(c.onSuccessSaveDomain,c.onFailureSaveDomain)},c.onSuccessSaveDomain=function(){return i.complete(),o.showSuccessToast("We saved your update.")},c.onFailureSaveDomain=function(t){return i.complete(),409===t.status?(e.info("Failure saving domain. Domain already exists: "+t.status+" "+t.statusText),a.show("Oops...","This domain name already exist. Please enter a unique domain name.","error")):(e.error("Failure saving domain: "+t.status+" "+t.statusText),o.showErrorToast("Oops. We were unable to save your updates at this time."))},c.editItem=function(e){return r.go("editDomain",{domainKey:e.key})},c}t.$inject=["$log","$stateParams","DomainsService","$state","sweet","ProgressBarService","ToastsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomainDetailsCtrl=t},690:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var i=this;return i.radioButtonChoices={group1:"By Device",group2:"Summarized",selection:null},i.dateTimeSelection={start:null,end:null},i.formValidity={start_date:!1,end_date:!1,locations:!1},i.tenant=t.tenant,i.no_cache=!0,i.loading=!0,i.disabled=!0,i.disabledTenant=!0,i.selected_locations=[],i.initialize=function(){return e.getAllLocations(i.tenant).then(function(e){return i.loading=!1,i.locations=e.data.locations,i.locations.length>0?i.had_some_items=!0:i.had_some_items=!1})},i.refreshLocations=function(){i.searchText="",i.selectedItem="",i.loading=!0,i.disabled=!0,i.selected_locations=[],i.initialize()},i.addToSelectedLocations=function(e){if(i.isLocationValid(e)){i.selected_locations.push(e);var t=i.locations.indexOf(e);i.locations.splice(t,1),i.searchText=""}return i.areLocationsValid(),i.isDisabled()},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isRadioValid=function(e){return i.formValidity.type=e,i.isDisabled()},i.isLocationValid=function(e){return!!a(e,i.locations)&&!a(e,i.selected_locations)},i.areLocationsValid=function(){return i.formValidity.locations=i.selected_locations.length>0,i.isDisabled()},i.isStartDateValid=function(e){return i.formValidity.start_date=e instanceof Date,i.isDisabled()},i.isEndDateValid=function(e){return i.formValidity.end_date=e instanceof Date,i.isDisabled()},i.removeFromSelectedLocation=function(e){var t=i.selected_locations.indexOf(e);return i.selected_locations.splice(t,1),i.locations.push(e),i.areLocationsValid(),i.isDisabled()},i.isDisabled=function(){return i.formValidity.start_date&&i.formValidity.end_date&&i.formValidity.locations&&i.formValidity.type?(i.disabled=!1,i["final"]={start_date_unix:(0,o["default"])(i.dateTimeSelection.start).unix(),end_date_unix:(0,o["default"])(i.dateTimeSelection.end).unix(),locations:i.selected_locations,type:i.radioButtonChoices.selection}):i.disabled=!0},i.submit=function(){return"1"===i["final"].type?e.downloadCSVForMultipleLocationsByDevice(i["final"].start_date_unix,i["final"].end_date_unix,i["final"].locations,i.tenant):e.downloadCSVForMultipleLocationsSummarized(i["final"].start_date_unix,i["final"].end_date_unix,i["final"].locations,i.tenant)},i.tenants=null,i.currentTenant=i.tenant,i.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return i.tenants=e.data.tenants})},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isSelectionValid=function(e){return a(e,i.tenants)?i.disabledTenant=!1:i.disabledTenant=!0},i.submitTenant=function(e){return e!==i.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},i}function a(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiLocationCtrl=void 0;var i=t(372),o=n(i);exports.ProofOfPlayMultiLocationCtrl=r},691:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var i=this;return i.radioButtonChoices={group1:"By Date",group2:"Summarized",selection:null},i.dateTimeSelection={start:null,end:null},i.formValidity={start_date:!1,end_date:!1,displays:!1},i.tenant=t.tenant,i.no_cache=!0,i.loading=!0,i.disabled=!0,i.disabledTenant=!0,i.selected_displays=[],i.initialize=function(){return e.getAllDisplays(i.tenant).then(function(e){return i.loading=!1,i.displays=e.data.devices,i.displays.length>0?i.had_some_items=!0:i.had_some_items=!1})},i.refreshDisplays=function(){i.searchText="",i.selectedItem="",i.loading=!0,i.disabled=!0,i.selected_displays=[],i.initialize()},i.addToSelectedDisplays=function(e){if(i.isDisplayValid(e)){i.selected_displays.push(e);var t=i.displays.indexOf(e);i.displays.splice(t,1),i.searchText=""}return i.areDisplaysValid(),i.isDisabled()},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isRadioValid=function(e){return i.formValidity.type=e,i.isDisabled()},i.isDisplayValid=function(e){return!!a(e,i.displays)&&!a(e,i.selected_displays)},i.areDisplaysValid=function(){return i.formValidity.displays=i.selected_displays.length>0,i.isDisabled()},i.isStartDateValid=function(e){return i.formValidity.start_date=e instanceof Date,i.isDisabled()},i.isEndDateValid=function(e){return i.formValidity.end_date=e instanceof Date,i.isDisabled()},i.removeFromSelectedDisplay=function(e){var t=i.selected_displays.indexOf(e);return i.selected_displays.splice(t,1),i.displays.push(e),i.areDisplaysValid(),i.isDisabled()},i.isDisabled=function(){return i.formValidity.start_date&&i.formValidity.end_date&&i.formValidity.displays&&i.formValidity.type?(i.disabled=!1,i["final"]={start_date_unix:(0,o["default"])(i.dateTimeSelection.start).unix(),end_date_unix:(0,o["default"])(i.dateTimeSelection.end).unix(),displays:i.selected_displays,type:i.radioButtonChoices.selection}):i.disabled=!0},i.submit=function(){return"1"===i["final"].type?e.downloadCSVForMultipleDevicesByDate(i["final"].start_date_unix,i["final"].end_date_unix,i["final"].displays,i.tenant):e.downloadCSVForMultipleDevicesSummarized(i["final"].start_date_unix,i["final"].end_date_unix,i["final"].displays,i.tenant)},i.tenants=null,i.currentTenant=i.tenant,i.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return i.tenants=e.data.tenants})},i.submitTenant=function(e){return e!==i.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isSelectionValid=function(e){return a(e,i.tenants)?i.disabledTenant=!1:i.disabledTenant=!0},i}function a(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiDisplayCtrl=void 0;var i=t(372),o=n(i);exports.ProofOfPlayMultiDisplayCtrl=r},692:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){"ngInject";var i=this;return i.radioButtonChoices={group1:"By Device",group2:"By Date",selection:null},i.dateTimeSelection={start:null,end:null},i.formValidity={start_date:!1,end_date:!1,resources:!1},i.tenant=t.tenant,i.no_cache=!0,i.loading=!0,i.disabled=!0,i.disabledTenant=!0,i.selected_resources=[],i.initialize=function(){return e.getAllResources(i.tenant).then(function(e){i.loading=!1,i.full_resource_map=e.data.resources,i.resources=[];for(var t=0;t<e.data.resources.length;t++){var n=e.data.resources[t];i.resources.push(n.resource_name)}return i.resources.length>0?i.had_some_items=!0:i.had_some_items=!1})},i.refreshResources=function(){i.searchText="",i.selectedItem="",i.loading=!0,i.disabled=!0,i.selected_resources=[],i.initialize()},i.addToSelectedResources=function(e){if(i.isResourceValid(e)){i.selected_resources.push(e);var t=i.resources.indexOf(e);i.resources.splice(t,1),i.searchText=""}return i.areResourcesValid(),i.isDisabled()},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isRadioValid=function(e){return i.formValidity.type=e,i.isDisabled()},i.isResourceValid=function(e){return!!a(e,i.resources)&&!a(e,i.selected_resources)},i.areResourcesValid=function(){return i.formValidity.resources=i.selected_resources.length>0,i.isDisabled()},i.isStartDateValid=function(e){return i.formValidity.start_date=e instanceof Date,i.isDisabled()},i.isEndDateValid=function(e){return i.formValidity.end_date=e instanceof Date,i.isDisabled()},i.removeFromSelectedResource=function(e){var t=i.selected_resources.indexOf(e);return i.selected_resources.splice(t,1),i.resources.push(e),i.areResourcesValid(),i.isDisabled()},i.isDisabled=function(){return i.formValidity.start_date&&i.formValidity.end_date&&i.formValidity.resources&&i.formValidity.type?(i.disabled=!1,i["final"]={start_date_unix:(0,o["default"])(i.dateTimeSelection.start).unix(),end_date_unix:(0,o["default"])(i.dateTimeSelection.end).unix(),resources:i.selected_resources,type:i.radioButtonChoices.selection}):i.disabled=!0},i.submit=function(){for(var t=[],n=0;n<i["final"].resources.length;n++)for(var r=i["final"].resources[n],a=0;a<i.full_resource_map.length;a++){var o=i.full_resource_map[a];o.resource_name===r&&t.push(o.resource_identifier)}return"1"===i["final"].type?e.downloadCSVForMultipleResourcesByDevice(i["final"].start_date_unix,i["final"].end_date_unix,t,i.tenant):e.downloadCSVForMultipleResourcesByDate(i["final"].start_date_unix,i["final"].end_date_unix,t,i.tenant)},i.tenants=null,i.currentTenant=i.tenant,i.initialize_tenant_select=function(){return e.getAllTenants().then(function(e){return i.tenants=e.data.tenants})},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isSelectionValid=function(e){return a(e,i.tenants)?i.disabledTenant=!1:i.disabledTenant=!0},i.submitTenant=function(e){return e!==i.currentTenant?(n.go("proofDetail",{tenant:e}),r.showSuccessToast("Proof of Play reporting set to "+e)):r.showErrorToast("Proof of Play reporting is already set to "+e)},i}function a(e,t){return t.indexOf(e)>=0}r.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayMultiResourceCtrl=void 0;var i=t(372),o=n(i);exports.ProofOfPlayMultiResourceCtrl=r},693:function(e,exports){"use strict";function t(e,t,r,a){"ngInject";var i=this;return i.resource={title:"Resource Report"},i.location={title:"Location Report"},i.display={title:"Display Report"},i.chosen_tenant=null,i.tenants=null,i.disabled=!0,i.initialize=function(){return e.getAllTenants().then(function(e){return i.tenants=e.data.tenants})},i.querySearch=function(t,n){return e.querySearch(t,n)},i.isSelectionValid=function(e){return n(e,i.tenants)?i.disabled=!1:i.disabled=!0},i.submitTenant=function(e){if(e)return i.chosen_tenant=e,r.go("proofDetail",{tenant:i.chosen_tenant})},i.refreshTenants=function(){i.tenants=null;e.makeHTTPURL("/retrieve_my_tenants","");i.initialize()},i}function n(e,t){return t.indexOf(e)>=0}t.$inject=["ProofPlayService","$stateParams","$state","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofOfPlayCtrl=t},694:function(e,exports,t){(function($){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(695),r=e(n),a=t(696),i=e(a),o=function(){function e(t,n){"ngInject";(0,r["default"])(this,e),this.Restangular=t,this.SessionsService=n}return e.$inject=["Restangular","SessionsService"],(0,i["default"])(e,[{key:"getImages",value:function(e){return this.Restangular.oneUrl("image","/api/v1/image/tenant/"+e).getList()}},{key:"saveImage",value:function(e,t){return $.ajax({type:"POST",url:"/api/v1/image/tenant/"+e,data:t,processData:!1,contentType:!1})}},{key:"deleteImage",value:function(e){var t=this.Restangular.oneUrl("image","/api/v1/image/"+e).remove();return t}}]),e}();exports["default"]=o}).call(exports,t(512))},700:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t,this.USER_SERVICE="users",this.DISTRIBUTOR_SERVICE="distributors"}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"makeDistributor",value:function(e,t){var n={distributor:e,admin_email:t},r=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/distributors").customPOST(n);return r}},{key:"addUserToDistributor",value:function(e,t,n){var r={user_email:e,distributor:t,distributor_admin:n},a=this.Restangular.oneUrl(this.USER_SERVICE,"/api/v1/users").customPOST(r);return a}},{key:"getUsersOfDistributor",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/analytics/distributors/"+e+"/users").get();return t}},{key:"getAllDistributors",value:function(){var e=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"/api/v1/distributors").get();return e}}]),e}();exports["default"]=s},701:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t,n){"ngInject";(0,a["default"])(this,e),this.$q=n,this.SessionsService=t}return e.$inject=["SessionsService","$q"],(0,o["default"])(e,[{key:"authenticated",value:function(){var e=this.$q.defer(),t=this.SessionsService.getUserKey();return t?e.resolve(!0):e.reject(["authError","sign_in"]),e.promise}},{key:"notAuthenticated",value:function(){var e=this.$q.defer(),t=this.SessionsService.getUserKey();return t?e.reject(["authError","home"]):e.resolve(!0),e.promise}},{key:"isAdminOrDistributorAdmin",value:function(){var e=this.$q.defer(),t=this.SessionsService.getIsAdmin(),n=this.SessionsService.getDistributorsAsAdmin(),r=!1;n&&n.length>0&&(r=!0);var a=this.SessionsService.getUserKey();return a?t||r?e.resolve(!0):e.reject(["authError","home"]):e.reject("sign_in"),e.promise}}]),e}();exports["default"]=s},702:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t,this.SERVICE_NAME="devices"}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"panelSleep",value:function(e,t){var n={panelSleep:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/panel-sleep").customPUT(n);return r}},{key:"reset",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/reset").post();return t}},{key:"contentDelete",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/content-delete").post();return t}},{key:"contentUpdate",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/content-update").post();return t}},{key:"updateDevice",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/refresh-device-representation").post();return t}},{key:"toggleDiagnostics",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/diagnostics").post();return t}},{key:"restart",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/restart").post();return t}},{key:"postLog",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/post-log").post();return t}},{key:"powerOn",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/power-on").post();return t}},{key:"powerOff",value:function(e){var t=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e+"/commands/power-off").post();return t}},{key:"volume",value:function(e,t){var n={volume:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e).customPOST(n,"commands/volume");return r}},{key:"custom",value:function(e,t){var n={command:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"api/v1/devices/"+e).customPOST(n,"commands/custom");return r}}]),e}();exports["default"]=s},703:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=t(372),c=n(s),u=function(){function e(){(0,a["default"])(this,e)}return(0,o["default"])(e,[{key:"convertToMomentIfNotAlready",value:function(e){return c["default"].isMoment(e)?e:(0,c["default"])(new Date(e))}},{key:"createFormattedStartAndEndDateFromToday",value:function(e){var t=(0,c["default"])().format("YYYY-MM-DD"),n=(0,c["default"])(t,"YYYY-MM-DD").format("YYYY-MM-DD hh:mm A"),r=(0,c["default"])(n,"YYYY-MM-DD hh:mm A").add(1,"day").subtract(60,"seconds").format("YYYY-MM-DD hh:mm A"),a=(0,c["default"])().subtract(e,"days").format("YYYY-MM-DD"),i=(0,c["default"])(a,"YYYY-MM-DD").format("YYYY-MM-DD hh:mm A");return[i,r]}},{key:"generateLocalFromUTC",value:function(e){var t=c["default"].utc(e).toDate();return(0,c["default"])(t).format("YYYY-MM-DD hh:mm:ss A")}}]),e}();exports["default"]=u},704:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i);t(604);var s=function(){function e(t,n,r,i,o){"ngInject";(0,a["default"])(this,e),this.$log=t,this.Restangular=n,this.$q=r,this.$http=i,this.$state=o,this.SERVICE_NAME="devices",this.uriBase="v1/devices"}return e.$inject=["$log","Restangular","$q","$http","$state"],(0,o["default"])(e,[{key:"adjustControlsMode",value:function(e,t){var n={controlsMode:t},r=this.Restangular.oneUrl(this.SERVICE_NAME,"/api/v1/devices/"+e+"/controls-mode").customPUT(n);return r}},{key:"getDeviceByMacAddress",value:function(e){var t="api/v1/devices?mac_address="+e;return this.Restangular.oneUrl("api/v1/devices",t).get()}},{key:"getDeviceByKey",value:function(e){var t="api/v1/devices/"+e,n=this.Restangular.oneUrl(this.SERVICE_NAME,t).get();return n}},{key:"retriveFilteredDictionaryValue",value:function(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r];n.push(a[t])}return n}},{key:"executeSearchingPartialSerialByTenant",value:function(e,t,n){var r=this;return this.searchDevicesByPartialSerialByTenant(e,t,n).then(function(e){var t=e.matches,n=!1,a=!1,i=r.convertDevicesArrayToDictionaryObj(t,n,a),o=r.retriveFilteredDictionaryValue(t,"serial");return[o,i]})}},{key:"executeSearchingPartialSerialByDistributor",value:function(e,t,n){var r=this;return this.searchDevicesByPartialSerial(e,t,n).then(function(e){var t=e.matches,n=!1,a=!1,i=r.convertDevicesArrayToDictionaryObj(t,n,a),o=r.retriveFilteredDictionaryValue(t,"serial");return[o,i]})}},{key:"executeSearchingPartialSerialGlobally",value:function(e,t){var n=this;return this.searchDevicesByPartialSerialGlobally(e,t).then(function(e){var t=e.matches,r=!1,a=!1,i=n.convertDevicesArrayToDictionaryObj(t,r,a),o=n.retriveFilteredDictionaryValue(t,"serial");return[o,i]})}},{key:"executeSearchingPartialMacByTenant",value:function(e,t,n){var r=this;return this.searchDevicesByPartialMacByTenant(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!0),a=r.retriveFilteredDictionaryValue(t,"mac");return[a,n]})}},{key:"executeSearchingPartialMacByDistributor",value:function(e,t,n){var r=this;return this.searchDevicesByPartialMac(e,t,n).then(function(e){var t=e.matches,n=!0,a=!1,i=r.convertDevicesArrayToDictionaryObj(t,n,a),o=r.retriveFilteredDictionaryValue(t,"mac");return[o,i]})}},{key:"executeSearchingPartialMacGlobally",value:function(e,t){var n=this;return this.searchDevicesByPartialMacGlobally(e,t).then(function(e){var t=e.matches,r=!0,a=!1,i=n.convertDevicesArrayToDictionaryObj(t,r,a),o=n.retriveFilteredDictionaryValue(t,"mac");return[o,i]})}},{key:"executeSearchingPartialGCMidByTenant",value:function(e,t,n){var r=this;return this.searchDistributorDevicesByPartialGCMidByTenant(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!1,!0),a=r.retriveFilteredDictionaryValue(t,"gcmid");return[a,n]})}},{key:"executeSearchingPartialGCMidByDistributor",value:function(e,t,n){var r=this;return this.searchDistributorDevicesByPartialGCMid(e,t,n).then(function(e){var t=e.matches,n=r.convertDevicesArrayToDictionaryObj(t,!1,!0),a=r.retriveFilteredDictionaryValue(t,"gcmid");return[a,n]})}},{key:"executeSearchingPartialGCMidGlobally",value:function(e,t){var n=this;return this.searchDistributorDevicesByPartialGCMidGlobally(e,t).then(function(e){var t=e.matches,r=n.convertDevicesArrayToDictionaryObj(t,!1,!0),a=n.retriveFilteredDictionaryValue(t,"gcmid");return[a,r]})}},{key:"rejectedPromise",value:function(){var e=this.$q.defer();return e.reject(),e.promise}},{key:"searchDevices",value:function(e,t,n,r,a,i,o){var s=this.$q.defer(),c=void 0;return c=e&&e.length>2?"Serial Number"===t?o?this.executeSearchingPartialSerialGlobally(e,i):n?this.executeSearchingPartialSerialByTenant(r,e,i):this.executeSearchingPartialSerialByDistributor(a,e,i):"MAC"===t?o?this.executeSearchingPartialMacGlobally(e,i):n?this.executeSearchingPartialMacByTenant(r,e,i):this.executeSearchingPartialMacByDistributor(a,e,i):o?this.executeSearchingPartialGCMidGlobally(e,i):n?this.executeSearchingPartialGCMidByTenant(r,e,i):this.executeSearchingPartialGCMidByDistributor(a,e,i):this.rejectedPromise(),c.then(function(e){s.resolve({success:!0,devices:e})}),c["catch"](function(e){s.resolve({success:!1,devices:[]})}),s.promise}},{key:"convertDevicesArrayToDictionaryObj",value:function(e,t,n){for(var r={},a=0;a<e.length;a++){var i=e[a];t?r[i.mac]=i:n?r[i.gcmid]=i:r[i.serial]=i}return r}},{key:"editItem",value:function(e,t){t||(t=!1),this.$state.go("editDevice",{deviceKey:e.key,tenantKey:e.tenantKey,fromDevices:t})}},{key:"preprateForEditView",value:function(e,t,n,r,a,i){var o=void 0,s=void 0,c=void 0;return o="MAC"===e,s="Serial Number"===e,c="GCM ID"===e,o?this.editItem(r[n]):s?this.editItem(a[n]):this.editItem(i[n])}},{key:"getIssuesByKey",value:function(e,t,n,r,a){r=void 0===r?null:r,a=void 0===a?null:a;var i="/api/v1/devices/"+r+"/"+a+"/"+e+"/issues?start="+t+"&end="+n,o=this.Restangular.oneUrl(this.SERVICE_NAME,i).get();return o}},{key:"getCommandEventsByKey",value:function(e,t,n){t=void 0===t?null:t,n=void 0===n?null:n;var r="/api/v1/player-command-events/"+t+"/"+n+"/"+e,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}},{key:"getDevicesByTenant",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByTenantURL(e,t,n,!1);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getUnmanagedDevicesByTenant",value:function(e,t,n){if(void 0!==e){var r=(this.$q.defer(),this.makeDevicesByTenantURL(e,t,n,!0));return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"searchDevicesByPartialSerialByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_serial="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDevicesByPartialMacByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_mac="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDistributorDevicesByPartialGCMidByTenant",value:function(e,t,n){if(void 0!==e){var r="/api/v1/tenants/search/"+e+"/devices?unmanaged="+n+"&partial_gcmid="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDevicesByPartialSerial",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_serial="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDevicesByPartialMac",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_mac="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDistributorDevicesByPartialGCMid",value:function(e,t,n){if(void 0!==e){var r="/api/v1/distributors/search/"+e+"/devices?unmanaged="+n+"&partial_gcmid="+t,a=this.Restangular.oneUrl(this.SERVICE_NAME,r).get();return a}}},{key:"searchDevicesByPartialSerialGlobally",value:function(e,t){var n="/api/v1/devices/analytics/search-global?unmanaged="+t+"&partial_serial="+e,r=this.Restangular.oneUrl("devices",n).get();return r}},{key:"searchDevicesByPartialMacGlobally",value:function(e,t){var n="/api/v1/devices/analytics/search-global?unmanaged="+t+"&partial_mac="+e,r=this.Restangular.oneUrl("devices",n).get();return r}},{key:"searchDistributorDevicesByPartialGCMidGlobally",value:function(e,t){var n="/api/v1/devices/analytics/search-global?unmanaged="+t+"&partial_gcmid="+e,r=this.Restangular.oneUrl("devices",n).get();return r}},{key:"getDevicesByDistributor",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByDistributorURL(e,t,n,!1);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getUnmanagedDevicesByDistributor",value:function(e,t,n){if(void 0!==e){var r=this.makeDevicesByDistributorURL(e,t,n,!0);return this.Restangular.oneUrl(this.SERVICE_NAME,r).get()}}},{key:"getDevices",value:function(){var e=this.Restangular.all(this.SERVICE_NAME).getList();return e}},{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("devices").post(e);return t}},{key:"saveOverlaySettings",value:function(e,t,n,r,a){var i={bottom_left:t,bottom_right:n,top_right:r,top_left:a};return this.Restangular.oneUrl("overlay","/api/v1/overlay/device/"+e).customPOST(i)}},{key:"delete",value:function(e){var t=this.Restangular.one(this.SERVICE_NAME,e).remove();return t}},{key:"getPanelModels",value:function(){return[{id:"None",displayName:"None"},{id:"Sony-FXD40LX2F",displayName:"Sony FXD40LX2F"},{id:"NEC-LCD4215",displayName:"NEC LCD4215"},{id:"Phillips-BDL5560EL",displayName:"Phillips BDL5560EL"},{id:"Panasonic-TH55LF6U",displayName:"Panasonic TH55LF6U"},{id:"LG-43SM5B-B",displayName:"LG 43SM5B-B"},{id:"Sharp-PNE521",displayName:"Sharp PNE521"}]}},{key:"getPanelInputs",value:function(){return[{id:"None",parentId:"None"},{id:"HDMI1",parentId:"LG-43SM5B-B"},{id:"HDMI1",parentId:"Sony-FXD40LX2F"},{id:"HDMI2",parentId:"Sony-FXD40LX2F"},{id:"HDMI1",parentId:"Phillips-BDL5560EL"},{id:"HDMI2",parentId:"Phillips-BDL5560EL"},{id:"DVI",parentId:"Phillips-BDL5560EL"},{id:"HDMI1",parentId:"Panasonic-TH55LF6U"},{id:"HDMI2",parentId:"Panasonic-TH55LF6U"},{id:"DVI",parentId:"Panasonic-TH55LF6U"},{id:"HDMI1",parentId:"Sharp-PNE521"},{id:"HDMI2",parentId:"Sharp-PNE521"},{id:"DVI",parentId:"Sharp-PNE521"},{id:"VGA",parentId:"NEC-LCD4215"},{id:"DVI1",parentId:"NEC-LCD4215"}]}},{key:"makeDevicesByDistributorURL",value:function(e,t,n,r){var a="/api/v1/distributors/"+e+"/devices?unmanaged="+r+"&next_cursor="+n+"&prev_cursor="+t;return a}},{key:"makeDevicesByTenantURL",value:function(e,t,n,r){var a="/api/v1/tenants/"+e+"/devices?unmanaged="+r+"&next_cursor="+n+"&prev_cursor="+t;return a}}]),e}();exports["default"]=s},705:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t,n,r){"ngInject";(0,a["default"])(this,e),this.Restangular=t,this.$state=n,this.SessionsService=r,this.DISTRIBUTOR_SERVICE="distributors"}return e.$inject=["Restangular","$state","SessionsService"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service(this.DISTRIBUTOR_SERVICE).post(e);return t}},{key:"fetchAll",value:function(){var e=this.Restangular.all(this.DISTRIBUTOR_SERVICE).getList();return e}},{key:"fetchAllByUser",value:function(e){if(e){var t=this.Restangular.one("users",e).doGET(this.DISTRIBUTOR_SERVICE);return t}}},{key:"getByKey",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"api/v1/distributors/"+e).get();return t}},{key:"delete",value:function(e){if(e.key){var t=this.Restangular.one(this.DISTRIBUTOR_SERVICE,e.key).remove();return t}}},{key:"getByName",value:function(e){var t=this.Restangular.all(this.DISTRIBUTOR_SERVICE).getList({distributorName:e});return t}},{key:"getDomainsByKey",value:function(e){var t=this.Restangular.oneUrl(this.DISTRIBUTOR_SERVICE,"api/v1/distributors/"+e+"/domains").get();return t}},{key:"switchDistributor",value:function(e){return this.SessionsService.setCurrentDistributorName(e.name),this.SessionsService.setCurrentDistributorKey(e.key),this.$state.go("welcome")}}]),e}();exports["default"]=s},706:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"save",value:function(e){
if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("domains").post(e);return t}},{key:"fetchAllDomains",value:function(){var e=this.Restangular.all("domains").getList();return e}},{key:"getDomainByKey",value:function(e){var t=this.Restangular.oneUrl("domains","api/v1/domains/"+e).get();return t}},{key:"getDirectoryApiConnectivityInformation",value:function(e){var t=this.Restangular.oneUrl("domains","api/v1/domains/"+e+"/directory_api").get();return t}},{key:"delete",value:function(e){if(void 0!==e.key){var t=this.Restangular.one("domains",e.key).remove();return t}}}]),e}();exports["default"]=s},707:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getIdentity",value:function(){return this.Restangular.oneUrl("identity").get()}}]),e}();exports["default"]=s},708:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t,this.CREATE_TENANT_EVENTS="integration_events/tenant_create",this.ENROLLMENT_EVENTS="integration_events/enrollment"}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getTenantCreateEvents",value:function(e){var t={tenantKey:e};return this.Restangular.all(this.CREATE_TENANT_EVENTS).customGET("",t)}},{key:"getEnrollmentEvents",value:function(e){var t={deviceKey:e};return this.Restangular.all(this.ENROLLMENT_EVENTS).customGET("",t)}}]),e}();exports["default"]=s},709:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("locations").post(e);return t}},{key:"searchAllTenantLocationsByName",value:function(e,t){var n=this.Restangular.all("tenants").customGETLIST(e+"/locations",{customer_location_name:t});return n}},{key:"getLocationsByTenantKey",value:function(e){var t=this.Restangular.oneUrl("tenants","api/v1/tenants/"+e+"/locations").get();return t}},{key:"getLocationsByTenantKeyPaginated",value:function(e,t,n){t=void 0===t?null:t,n=void 0===n?null:n;var r=this.Restangular.oneUrl("tenants","api/v1/tenants/"+e+"/"+t+"/"+n+"/locations").get();return r}},{key:"getLocationByKey",value:function(e){var t=this.Restangular.oneUrl("locations","api/v1/locations/"+e).get();return t}}]),e}();exports["default"]=s},710:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.ngProgressFactory=t,this.progressBar=this.ngProgressFactory.createInstance()}return e.$inject=["ngProgressFactory"],(0,o["default"])(e,[{key:"start",value:function(){return this.progressBar.setColor("#00FCFF"),this.progressBar.setHeight("4px"),this.progressBar.start()}},{key:"complete",value:function(){return this.progressBar.complete()}}]),e}();exports["default"]=s},711:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t,n,r,i,o,s,c){"ngInject";(0,a["default"])(this,e),this.$http=t,this.$q=n,this.$window=r,this.SessionsService=i,this.$stateParams=o,this.$state=s,this.ToastsService=c,this.makeHTTPRequest=this.makeHTTPRequest.bind(this),this.uriBase="proofplay/api/v1"}return e.$inject=["$http","$q","$window","SessionsService","$stateParams","$state","ToastsService"],(0,o["default"])(e,[{key:"makeHTTPURL",value:function(e,t){return this.uriBase+e+t}},{key:"makeHTTPRequest",value:function(e,t){var n=(this.$q.defer(),this.makeHTTPURL(e,t));return this.$http.get(n)}},{key:"getAllResources",value:function(e){var t=this.makeHTTPRequest("/retrieve_all_resources/",e);return t["catch"](function(e,t){var n=e.status;if(403===n&&(this.ToastsService.showErrorToast("You are not allowed to view this tenant!"),this.$state.go("proof",{})),404===n)return this.ToastsService.showErrorToast("You must select a tenant first!"),this.$state.go("proof",{})}),t.then(function(e){return e})}},{key:"getAllDisplays",value:function(e){return this.makeHTTPRequest("/retrieve_all_displays/",e)}},{key:"getAllLocations",value:function(e){return this.makeHTTPRequest("/retrieve_all_locations/",e)}},{key:"getAllTenants",value:function(){return this.makeHTTPRequest("/retrieve_my_tenants","")}},{key:"downloadCSVForMultipleResourcesByDate",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.uriBase+"/multi_resource_by_date/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleResourcesByDevice",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.uriBase+"/multi_resource_by_device/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleDevicesSummarized",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.uriBase+"/multi_device_summarized/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleDevicesByDate",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.uriBase+"/multi_device_by_date/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleLocationsByDevice",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.uriBase+"/multi_location_by_device/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"downloadCSVForMultipleLocationsSummarized",value:function(e,t,n,r){for(var a="",i=0;i<n.length;i++){var o=n[i];a=a+"|"+o}return this.$window.open(this.uriBase+"/multi_location_summarized/"+e+"/"+t+"/"+a+"/"+r+"/"+this.SessionsService.getCurrentDistributorKey(),"_blank"),!0}},{key:"createFilterFor",value:function(e){return e=angular.lowercase(e),function(t){return t=angular.lowercase(t),0===t.indexOf(e)}}},{key:"querySearch",value:function(e,t){return t?e.filter(this.createFilterFor(t)):e}}]),e}();exports["default"]=s},712:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=t(713),c=n(s),u=function(){function e(t,n,r,i,o,s,c){"ngInject";(0,a["default"])(this,e),this.$http=t,this.$log=n,this.StorageService=r,this.IdentityService=i,this.Restangular=o,this.$q=s,this.uriBase="v1/sessions"}return e.$inject=["$http","$log","StorageService","IdentityService","Restangular","$q","sweet"],(0,o["default"])(e,[{key:"setDistributors",value:function(e){return this.StorageService.set("distributors",e)}},{key:"setDistributorsAsAdmin",value:function(e){return this.StorageService.set("distributorsAsAdmin",e)}},{key:"setIsAdmin",value:function(e){return this.StorageService.set("isAdmin",e)}},{key:"setUserKey",value:function(e){return this.StorageService.set("userKey",e)}},{key:"setUserEmail",value:function(e){return this.StorageService.set("userEmail",e)}},{key:"setCurrentDistributorKey",value:function(e){return this.StorageService.set("currentDistributorKey",e)}},{key:"setCurrentDistributorName",value:function(e){return this.StorageService.set("currentDistributorName",e)}},{key:"getUserKey",value:function(){return this.StorageService.get("userKey")}},{key:"getUserEmail",value:function(){return this.StorageService.get("userEmail")}},{key:"getDistributors",value:function(){return this.StorageService.get("distributors")}},{key:"getCurrentDistributorName",value:function(){return this.StorageService.get("currentDistributorName")}},{key:"getCurrentDistributorKey",value:function(){return this.StorageService.get("currentDistributorKey")}},{key:"getDistributorsAsAdmin",value:function(){return this.StorageService.get("distributorsAsAdmin")}},{key:"getIsAdmin",value:function(){return this.StorageService.get("isAdmin")}},{key:"login",value:function(e){var t=this;this.StorageService.set("oAuth",e.id_token);var n=this.$http({url:"/api/v1/login",method:"GET"});return n.then(function(e){var n=(0,c["default"])(e.data.token);t.StorageService.set("JWT",e.data.token),t.setDistributors(n.distributors),t.setDistributorsAsAdmin(n.distributors_as_admin),t.setIsAdmin(n.is_admin),t.setUserEmail(n.email),t.setUserKey(n.key)})}},{key:"removeUserInfo",value:function(){this.StorageService.removeAll()}}]),e}();exports["default"]=u},716:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=t(717),c=n(s),u=function(){function e(){(0,a["default"])(this,e)}return(0,o["default"])(e,[{key:"set",value:function(e,t){return c["default"].set(e,t)}},{key:"get",value:function(e){return c["default"].get(e)}},{key:"rm",value:function(e){return c["default"].rm(e)}},{key:"removeAll",value:function(){c["default"].flush()}}]),e}();exports["default"]=u},718:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t,n){"ngInject";(0,a["default"])(this,e),this.Restangular=t,this.SessionsService=n}return e.$inject=["Restangular","SessionsService"],(0,o["default"])(e,[{key:"save",value:function(e){if(void 0!==e.key)var t=e.put();else var t=this.Restangular.service("tenants").post(e);return t}},{key:"saveOverlaySettings",value:function(e,t,n,r,a){var i={bottom_left:t,bottom_right:n,top_right:r,top_left:a};return this.Restangular.oneUrl("overlay","/api/v1/overlay/tenant/"+e).customPOST(i)}},{key:"overlayApplyTenant",value:function(e){return this.Restangular.oneUrl("overlay","/api/v1/overlay/tenant/"+e+"/apply").post()}},{key:"searchAllTenantsByName",value:function(e,t){var n=this.Restangular.all("tenants").customGETLIST("",{tenant_name:e,allDistributors:t});return n}},{key:"fetchAllTenants",value:function(){var e=this.Restangular.all("tenants").getList();return e}},{key:"fetchAllTenantsPaginated",value:function(e,t){var n="api/v1/tenants/paginated/"+e+"/"+t,r=this.Restangular.oneUrl("tenants",n).get();return r}},{key:"getTenantByKey",value:function(e){var t="api/v1/tenants/"+e,n=this.Restangular.oneUrl("tenants",t).get();return n}},{key:"delete",value:function(e){if(void 0!==e.key){var t=this.Restangular.one("tenants",e.key).remove();return t}}}]),e}();exports["default"]=s},719:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getUsTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/us").get();return e}},{key:"getAllTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/all").get();return e}},{key:"getCustomTimezones",value:function(){var e=this.Restangular.oneUrl("timezones","api/v1/timezones/custom").get();return e}}]),e}();exports["default"]=s},720:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.toastr=t}return e.$inject=["toastr"],(0,o["default"])(e,[{key:"showSuccessToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success!";return this.toastr.success(e,t)}},{key:"showErrorToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error!";return this.toastr.error(e,t)}},{key:"showInfoToast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Information";return this.toastr.info(e,t)}}]),e}();exports["default"]=s},721:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(695),a=n(r),i=t(696),o=n(i),s=function(){function e(t){"ngInject";(0,a["default"])(this,e),this.Restangular=t}return e.$inject=["Restangular"],(0,o["default"])(e,[{key:"getVersions",value:function(){var e=this.Restangular.oneUrl("versions").get();return e}}]),e}();exports["default"]=s},722:function(e,exports){"use strict";function t(e,t,n,r,a,i,o){"ngInject";var s=this;i.tabIndex=5,s.tenantKey=e.tenantKey;var c=t.getTenantByKey(s.tenantKey);return c.then(function(e){s.currentTenant=e}),s.localFromUtc=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.utcTimestamp&&(n.utcTimestamp=o.generateLocalFromUTC(n.utcTimestamp))}},s.getTenantCreateEvents=function(){r.start();var e=a.getTenantCreateEvents(s.tenantKey);e.then(function(e){s.tenantCreateEvents=e,s.localFromUtc(e),r.complete()})},s.initialize=function(){s.getTenantCreateEvents()},i.$watch("tabIndex",function(t,r){if(void 0!==t)switch(t){case 0:return n.go("tenantDetails",{tenantKey:e.tenantKey});case 1:return n.go("tenantManagedDevices",{tenantKey:e.tenantKey});case 2:return n.go("tenantUnmanagedDevices",{tenantKey:e.tenantKey});case 3:return n.go("tenantLocations",{tenantKey:e.tenantKey});case 4:return n.go("tenantOverlays",{tenantKey:e.tenantKey});case 5:return n.go("tenantLogs",{tenantKey:e.tenantKey})}}),s}t.$inject=["$stateParams","TenantsService","$state","ProgressBarService","IntegrationEvents","$scope","DateManipulationService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantLogsCtrl=t},723:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o,c,u,l){"ngInject";var d=this;o.tabIndex=4,d.tenantKey=e.tenantKey,d.editMode=!!e.tenantKey;var v=t.getTenantByKey(d.tenantKey);return v.then(function(e){d.currentTenant=e}),d.overlayChanged=!1,d.adjustOverlayStatus=function(n){d.currentTenant.overlayStatus=n,r.start(),d.loadingOverlays=!0;var i=t.save(d.currentTenant);return i.then(function(){r.complete();var n=t.getTenantByKey(e.tenantKey);n.then(function(e){d.loadingOverlays=!1,d.onSuccessResolvingTenant(e)})}),i["catch"](function(e){r.complete(),a.showErrorToast("Something went wrong"),console.log(e)}),i},d.updateOverlays=function(){d.loadingOverlays=!0;var e=d.getTenant();return e.then(function(e){d.overlayChanged=!1,d.currentTenant.overlays=e.overlays,d.currentTenantCopy.overlays=angular.copy(d.currentTenant.overlays),d.loadingOverlays=!1}),e},d.submitOverlaySettings=function(){d.loadingOverlays=!0;var e=angular.copy(d.currentTenantCopy.overlays);r.start();var n=t.saveOverlaySettings(d.tenantKey,e.bottom_left,e.bottom_right,e.top_right,e.top_left),i=function(){var e=d.updateOverlays();return e.then(function(e){a.showSuccessToast("We saved your update."),r.complete()}),e};return n.then(function(){u(i,1e3)}),n["catch"](function(e){r.complete(),a.showErrorToast("Something went wrong")}),n},d.applyTenantOverlay=function(e){var n=l.confirm({title:"Are you sure?",textContent:"Each device in your Tenant will have the current Overlay Template applied as its settings.",targetEvent:e,ariaLabel:"Lucky day",ok:"Confirm",cancel:"Nevermind"});l.show(n).then(function(){r.start();var e=t.overlayApplyTenant(d.tenantKey);return e.then(function(e){var t="Your Tenant Overlay Settings are being applied to each device in your Tenant. Please wait patiently for this process to complete.";a.showSuccessToast(t),d.loading=!0,d.getTenant(),r.complete()}),e["catch"](function(e){r.complete(),a.showErrorToast("Something went wrong")}),e})},d.checkForOverlayChanges=function(){var e=!1,t=d.currentTenant.overlays,n=d.currentTenantCopy.overlays,r=["top_left","top_right","bottom_right","bottom_left"],a=!0,o=!1,s=void 0;try{for(var c,u=(0,i["default"])(r);!(a=(c=u.next()).done);a=!0){var l=c.value;t[l].size!==n[l].size&&(e=!0),t[l].type!==n[l].type&&(e=!0),"logo"===t[l].type&&t[l].type+": "+t[l].name!==n[l].name&&(e=!0)}}catch(v){o=!0,s=v}finally{try{!a&&u["return"]&&u["return"]()}finally{if(o)throw s}}d.overlayChanged=e},d.submitImage=function(){if(d.selectedLogo&&d.selectedLogo[0]){var e=new FormData,t=!0;if(angular.forEach(d.selectedLogo,function(n){n.lfFile.size<15e6?e.append("files",n.lfFile):(d.fileApi.removeAll(),t=!1,a.showErrorToast("Your image is larger than 15 MB. Please choose a smaller image"))}),t){var n=c.saveImage(d.tenantKey,e);return n.then(function(e){r.complete(),u(d.getTenantImages,1e3),d.fileApi.removeAll(),a.showSuccessToast("We uploaded your image.")}),n["catch"](function(e){r.complete(),a.showErrorToast("Something went wrong. You may have already uploaded this image.")}),n}}},d.getTenantImagesAndReloadTenantAfterDelete=function(){var e=d.getTenantImages();e.then(function(){var e=d.updateOverlays();e.then(function(){a.showSuccessToast("We deleted your image."),r.complete()})})},d.deleteImage=function(e,t,n){var i=l.confirm({title:"Are you sure?",textContent:"If you proceed, "+t+" will be deleted and removed from all devices that use it.",targetEvent:e,ariaLabel:"Lucky day",ok:"Confirm",cancel:"Nevermind"});l.show(i).then(function(){r.start();var e=c.deleteImage(n);return e.then(function(e){u(d.getTenantImagesAndReloadTenantAfterDelete,1e3)}),e["catch"](function(e){a.showErrorToast("Something went wrong while deleting your image."),r.complete()}),e})},d.getTenantImages=function(){d.OVERLAY_TYPES=[{size:null,type:null,name:"none",realName:"none","new":!1,image_key:null},{size:null,type:"datetime",name:"datetime",realName:"datetime","new":!0,image_key:null}],r.start();var e=c.getImages(d.tenantKey);return e.then(function(e){d.tenantImages=e,r.complete();var t=!0,n=!1,a=void 0;try{for(var o,c=(0,i["default"])(d.tenantImages);!(t=(o=c.next()).done);t=!0)for(var u=o.value,l=["small","large"],v=0;v<l.length;v++){var m=l[v],f={realName:angular.copy(u.name),name:"logo: "+u.name,type:"logo",size:m,image_key:u.key};d.OVERLAY_TYPES.push(f)}}catch(p){n=!0,a=p}finally{try{!t&&c["return"]&&c["return"]()}finally{if(n)throw a}}d.OVERLAY_TYPES.sort(s["default"])}),e["catch"](function(){r.complete(),a.showErrorStatus("SOMETHING WENT WRONG RETRIEVING YOUR IMAGES")}),e},d.onSuccessResolvingTenant=function(e){d.currentTenant=e,d.currentTenantCopy=angular.copy(d.currentTenant),d.selectedTimezone=e.default_timezone},d.getTenant=function(){d.loadingOverlays=!0;var n=t.getTenantByKey(e.tenantKey);return n.then(function(e){d.currentTenant=e,d.currentTenant.overlaysUpdateInProgress?(d.loading=!0,u(d.getTenant,3e3)):d.loading=!1,d.loadingOverlays=!1,d.currentTenantCopy=angular.copy(d.currentTenant)}),n},d.initialize=function(){d.getTenantImages(),d.getTenant()},o.$watch("tabIndex",function(t,r){if(void 0!==t)switch(t){case 0:return n.go("tenantDetails",{tenantKey:e.tenantKey});case 1:return n.go("tenantManagedDevices",{tenantKey:e.tenantKey});case 2:return n.go("tenantUnmanagedDevices",{tenantKey:e.tenantKey});case 3:return n.go("tenantLocations",{tenantKey:e.tenantKey});case 4:return n.go("tenantOverlays",{tenantKey:e.tenantKey});case 5:return n.go("tenantLogs",{tenantKey:e.tenantKey})}}),d}r.$inject=["$stateParams","TenantsService","$state","ProgressBarService","ToastsService","$scope","ImageService","$timeout","$mdDialog"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantOverlaysCtrl=void 0;var a=t(650),i=n(a),o=t(659),s=n(o);exports.TenantOverlaysCtrl=r},724:function(e,exports){"use strict";function t(e,t,n,r,a,i,o,s,c){"ngInject";var u=this;return u.gameStopServer=t.host().indexOf("provisioning-gamestop")>-1,u.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,proof_of_play_url:void 0,active:!0,ou_create:!0},u.selectedDomain=void 0,u.distributorDomains=[],u.timezones=[],u.selectedTimezone="America/Chicago",u.initialize=function(){var e=a.getCustomTimezones();e.then(function(e){return u.timezones=e}),u.currentDistributorKey=c.getCurrentDistributorKey();var t=r.getByKey(u.currentDistributorKey);t.then(function(e){return u.currentTenant.content_manager_base_url=e.content_manager_url,u.currentTenant.content_server_url=e.player_content_url});var n=r.getDomainsByKey(u.currentDistributorKey);return n.then(function(e){return u.distributorDomains=e})},u.onClickSaveButton=function(){s.start(),u.currentTenant.default_timezone=u.selectedTimezone,u.currentTenant.domain_key=u.selectedDomain.key;var e=n.save(u.currentTenant);return e.then(u.onSuccessTenantSave,u.onFailureTenantSave)},u.onSuccessTenantSave=function(){return s.complete(),i.go("tenants")},u.onFailureTenantSave=function(t){return s.complete(),409===t.status?o.show("Oops...","Tenant code unavailable in Provisioning. Please modify tenant name to generate a unique tenant code.","error"):412===t.status?o.show("Oops...","Tenant code unavailable in Chrome Device Management. Modify tenant name to generate a unique tenant code.","error"):406===t.status?o.show("Oops...","Unable to create tenant Organization Unit in Chrome Device Management.","error"):(e.error(t),o.show("Oops...","Not everything needed for tenant was created in Content Manager or CDM.","error"))},u.cancel=function(){i.go("tenants")},u.autoGenerateTenantCode=function(){if(!u.currentTenant.key){var e="";return u.currentTenant.name&&(e=u.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),u.currentTenant.tenant_code=e}},u}t.$inject=["$log","$location","TenantsService","DistributorsService","TimezonesService","$state","sweet","ProgressBarService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantAddCtrl=t},725:function(e,exports){"use strict";function t(e,t,n,r,a,i,o,s,c,u,l,d){"ngInject";var v=this;if(v.gameStopServer=d.host().indexOf("provisioning-gamestop")>-1,v.showCdmInfo=!1,v.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,proof_of_play_url:void 0,active:!0},v.selectedDomain=void 0,v.distributorDomains=[],v.timezones=[],v.selectedTimezone="America/Chicago",v.editMode=!!e.tenantKey,v.editMode){var m=t.getTenantByKey(e.tenantKey);m.then(function(e){return v.currentTenant=e,v.onSuccessResolvingTenant(e)})}return v.initialize=function(){var e=r.getCustomTimezones();e.then(function(e){return v.timezones=e}),v.currentDistributorKey=u.getCurrentDistributorKey();var t=a.getDomainsByKey(v.currentDistributorKey);return t.then(function(e){return v.distributorDomains=e})},v.onSuccessResolvingTenant=function(e){v.showCdmInfo=null!=e.organization_unit_path&&null!=e.enrollment_email&&null!=e.enrollment_password,v.selectedTimezone=e.default_timezone;var t=n.getDomainByKey(e.domain_key);return t.then(function(e){return v.selectedDomain=e})},v.onClickSaveButton=function(){s.start(),v.currentTenant.default_timezone=v.selectedTimezone,v.currentTenant.domain_key=v.selectedDomain.key;var e=t.save(v.currentTenant);return e.then(v.onSuccessTenantSave,v.onFailureTenantSave)},v.onSuccessTenantSave=function(){return s.complete(),c.showSuccessToast("We saved your tenant information.")},v.onFailureTenantSave=function(e){return s.complete(),409===e.status?o.show("Oops...","Tenant code unavailable. Please modify tenant name to generate a unique tenant code.","error"):o.show("Oops...","Unable to save the tenant.","error")},v.editItem=function(t){return i.go("editDevice",{deviceKey:t.key,tenantKey:e.tenantKey})},v.autoGenerateTenantCode=function(){if(!v.currentTenant.key){var e="";return v.currentTenant.name&&(e=v.currentTenant.name.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),v.currentTenant.tenant_code=e}},l.tabIndex=0,l.$watch("tabIndex",function(t,n){if(void 0!==t)switch(t){case 0:return i.go("tenantDetails",{tenantKey:e.tenantKey});case 1:return i.go("tenantManagedDevices",{tenantKey:e.tenantKey});case 2:return i.go("tenantUnmanagedDevices",{tenantKey:e.tenantKey});case 3:return i.go("tenantLocations",{tenantKey:e.tenantKey});case 4:return i.go("tenantOverlays",{tenantKey:e.tenantKey});case 5:return i.go("tenantLogs",{tenantKey:e.tenantKey})}}),v}t.$inject=["$stateParams","TenantsService","DomainsService","TimezonesService","DistributorsService","$state","sweet","ProgressBarService","ToastsService","SessionsService","$scope","$location"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantDetailsCtrl=t},726:function(e,exports){"use strict";function t(e,t,n,r,a,i,o){"ngInject";var s=this;if(s.location={key:void 0},s.tenantKey=e.tenantKey,s.editMode=!!e.locationKey,s.editMode){var c=n.getLocationByKey(e.locationKey);c.then(function(e){return s.location=e,s.tenantKey=e.tenantKey,s.locationName=e.customerLocationName,s.fetchTenantName(s.tenantKey)})}return s.initialize=function(){if(!s.editMode)return s.fetchTenantName(s.tenantKey),s.location={tenantKey:s.tenantKey,active:!0}},s.onClickSaveButton=function(){i.start();var e=n.save(s.location);return s.editMode?e.then(s.onSuccessUpdatingLocation(s.tenantKey),s.onFailureSavingLocation):e.then(s.onSuccessSavingLocation,s.onFailureSavingLocation)},s.onSuccessSavingLocation=function(){return i.complete(),o.showSuccessToast("We saved your location."),setTimeout(function(){r.go("tenantLocations",{tenantKey:e.tenantKey})},1e3)},s.onSuccessUpdatingLocation=function(e){return i.complete(),o.showSuccessToast("We updated your location."),setTimeout(function(){r.go("tenantLocations",{tenantKey:e})},1e3)},s.onFailureSavingLocation=function(e){return i.complete(),409===e.status?(o.showErrorToast("Location code conflict. Unable to save your location."),a.show("Oops...","Please change your customer location name. Location name must generate a unique location code.","error")):o.showErrorToast("Unable to save your location.")},s.fetchTenantName=function(e){var n=t.getTenantByKey(e);return n.then(function(e){return s.tenantName=e.name})},s.autoGenerateCustomerLocationCode=function(){if(!s.location.key){var e="";return s.location.customerLocationName&&(e=s.location.customerLocationName.toLowerCase(),e=e.replace(/\s+/g,"_"),e=e.replace(/\W+/g,"")),s.location.customerLocationCode=e}},s}t.$inject=["$stateParams","TenantsService","LocationsService","$state","sweet","ProgressBarService","ToastsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantLocationCtrl=t},727:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o){"ngInject";var c=this,u=t.tenantKey;e.tabIndex=3,c.locations=[],c.searchDisabled=!0,c.tenantKey=t.tenantKey;var l=n.getTenantByKey(u);return l.then(function(e){c.currentTenant=e}),e.$watch("tabIndex",function(e,n){if(void 0!==e)switch(e){case 0:return a.go("tenantDetails",{tenantKey:t.tenantKey});case 1:return a.go("tenantManagedDevices",{tenantKey:t.tenantKey});case 2:return a.go("tenantUnmanagedDevices",{tenantKey:t.tenantKey});case 3:return a.go("tenantLocations",{tenantKey:t.tenantKey});case 4:return a.go("tenantOverlays",{tenantKey:t.tenantKey});case 5:return a.go("tenantLogs",{tenantKey:t.tenantKey})}}),c.getLocations=function(e,t,n){o.start();var a=r.getLocationsByTenantKeyPaginated(e,t,n);return a.then(function(e){return c.locations=e.locations,c.next_cursor=e.next_cursor,c.prev_cursor=e.prev_cursor,o.complete()})},c.searchAllTenantLocationsByName=function(e){if(!e||e.length<3)return[];var t=r.searchAllTenantLocationsByName(c.tenantKey,e);return t.then(function(e){return c.searchedTenantLocations=e,c.searchedTenantLocations?c.searchedTenantLocations.map(function(e){return e.customerLocationName}).sort(s["default"]):[]})},c.isTenantLocationValid=function(e){if(!e||e.length<3)return[];r.searchAllTenantLocationsByName(c.tenantKey,e).then(function(t){var n=t;if(n){var r=!0,a=!1,o=void 0;try{for(var s,u=(0,i["default"])(n);!(r=(s=u.next()).done);r=!0){var l=s.value;if(e===l.customerLocationName)return c.searchDisabled=!1,void(c.searchMatch=l);c.searchDisabled=!0}}catch(d){a=!0,o=d}finally{try{!r&&u["return"]&&u["return"]()}finally{if(a)throw o}}}else c.searchDisabled=!0})},c.paginateCall=function(e){return e?c.getLocations(u,null,c.next_cursor):c.getLocations(u,c.prev_cursor,null)},c.initialize=function(){return c.getLocations(u)},c.editItem=function(e){return a.go("editLocation",{locationKey:e.key})},c}r.$inject=["$scope","$stateParams","TenantsService","LocationsService","$state","ProgressBarService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantLocationsCtrl=void 0;var a=t(650),i=n(a),o=t(659),s=n(o);exports.TenantLocationsCtrl=r},728:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o){"ngInject";var s=this;if(s.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},s.tenantDevices=[],s.devicesPrev=null,s.devicesNext=null,s.selectedButton="Serial Number",s.serialDevices={},s.disabled=!0,s.devicesToMatchOn=[],s.macDevices={},s.editMode=!!t.tenantKey,s.tenantKey=t.tenantKey,s.getManagedDevices=function(e,t,n){a.start();var i=r.getDevicesByTenant(e,t,n);return i.then(function(e){return s.devicesPrev=e.prev_cursor,s.devicesNext=e.next_cursor,s.tenantDevices=e.devices,a.complete()})},s.editItem=function(e){return r.editItem(e)},s.refreshDevices=function(){return s.devicesPrev=null,s.devicesNext=null,s.tenantDevices=null,s.getManagedDevices(s.tenantKey,s.devicesPrev,s.devicesNext)},s.editMode){var c=n.getTenantByKey(s.tenantKey);c.then(function(e){return s.currentTenant=e}),s.getManagedDevices(s.tenantKey,null,null)}return e.tabIndex=1,e.$watch("tabIndex",function(e,n){if(void 0!==e)switch(e){case 0:return o.go("tenantDetails",{tenantKey:t.tenantKey});case 1:return o.go("tenantManagedDevices",{tenantKey:t.tenantKey});case 2:return o.go("tenantUnmanagedDevices",{tenantKey:t.tenantKey});case 3:return o.go("tenantLocations",{tenantKey:t.tenantKey});case 4:return o.go("tenantOverlays",{tenantKey:t.tenantKey});case 5:return o.go("tenantLogs",{tenantKey:t.tenantKey})}}),s.changeRadio=function(){s.searchText="",s.disabled=!0,s.serialDevices={},s.macDevices={},s.devicesToMatchOn=[]},s.searchDevices=function(e){var t=!1,n=s.selectedButton,a=!0,i=s.tenantKey;return r.searchDevices(e,n,a,i,s.distributorKey,t).then(function(e){var t=void 0;if(e.success){var r=e.devices;return"Serial Number"===n?(s.serialDevices=r[1],t=r[0]):"MAC"===n?(s.macDevices=r[1],t=r[0]):(s.gcmidDevices=r[1],t=r[0]),s.devicesToMatchOn=t,t}return[]})},s.paginateCall=function(e){return e?s.getManagedDevices(s.tenantKey,null,s.devicesNext):s.getManagedDevices(s.tenantKey,s.devicesPrev,null)},s.prepareForEditView=function(e){return r.preprateForEditView(s.selectedButton,s.tenantKey,e,s.macDevices,s.serialDevices,s.gcmidDevices)},s.controlOpenButton=function(e){return s.disabled=!e,s.loadingDisabled=!1},s.isResourceValid=function(e){var t=!1,n=!0,r=!1,a=void 0;try{for(var o,c=(0,i["default"])(s.devicesToMatchOn);!(n=(o=c.next()).done);n=!0){
var u=o.value;e===u&&(t=!0)}}catch(l){r=!0,a=l}finally{try{!n&&c["return"]&&c["return"]()}finally{if(r)throw a}}return s.controlOpenButton(t),t},s}r.$inject=["$scope","$stateParams","TenantsService","DevicesService","ProgressBarService","$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantManagedDevicesCtrl=void 0;var a=t(650),i=n(a);exports.TenantManagedDevicesCtrl=r},729:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a,o){"ngInject";var s=this;if(s.currentTenant={key:void 0,name:void 0,tenant_code:void 0,admin_email:void 0,content_server_url:void 0,content_manager_base_url:void 0,domain_key:void 0,notification_emails:void 0,proof_of_play_logging:!1,active:!0},s.gcmidDevices=[],s.tenantDevices=[],s.devicesPrev=null,s.devicesNext=null,s.selectedButton="MAC",s.serialDevices={},s.disabled=!0,s.macDevices={},s.devicesToMatchOn=[],s.editMode=!!t.tenantKey,s.tenantKey=t.tenantKey,e.tabIndex=2,e.$watch("tabIndex",function(e,n){if(void 0!==e)switch(e){case 0:return o.go("tenantDetails",{tenantKey:t.tenantKey});case 1:return o.go("tenantManagedDevices",{tenantKey:t.tenantKey});case 2:return o.go("tenantUnmanagedDevices",{tenantKey:t.tenantKey});case 3:return o.go("tenantLocations",{tenantKey:t.tenantKey});case 4:return o.go("tenantOverlays",{tenantKey:t.tenantKey});case 5:return o.go("tenantLogs",{tenantKey:t.tenantKey})}}),s.editItem=function(e){return r.editItem(e)},s.getUnmanagedDevices=function(e,t,n){a.start();var i=r.getUnmanagedDevicesByTenant(e,t,n);return i.then(function(e){return s.devicesPrev=e.prev_cursor,s.devicesNext=e.next_cursor,s.tenantDevices=e.devices,a.complete()})},s.editMode){var c=n.getTenantByKey(s.tenantKey);c.then(function(e){return s.currentTenant=e}),s.getUnmanagedDevices(s.tenantKey,null,null)}return s.refreshDevices=function(){return s.devicesPrev=null,s.devicesNext=null,s.tenantDevices=null,s.getUnmanagedDevices(s.tenantKey,s.devicesPrev,s.devicesNext)},s.changeRadio=function(){s.searchText="",s.disabled=!0,s.serialDevices={},s.macDevices={},s.devicesToMatchOn=[]},s.searchDevices=function(e){var t=!0,n=!0;return r.searchDevices(e,s.selectedButton,n,s.tenantKey,s.distributorKey,t).then(function(e){var t=void 0;if(e.success){var n=e.devices;return"Serial Number"===s.selectedButton?(s.serialDevices=n[1],t=n[0]):"MAC"===s.selectedButton?(s.macDevices=n[1],t=n[0]):(s.gcmidDevices=n[1],t=n[0]),s.devicesToMatchOn=t,t}return[]})},s.paginateCall=function(e){return e?s.getUnmanagedDevices(s.tenantKey,null,s.devicesNext):s.getUnmanagedDevices(s.tenantKey,s.devicesPrev,null)},s.prepareForEditView=function(e){return r.preprateForEditView(s.selectedButton,s.tenantKey,e,s.macDevices,s.serialDevices,s.gcmidDevices)},s.controlOpenButton=function(e){s.disabled=!e,s.loadingDisabled=!1},s.isResourceValid=function(e){var t=!1,n=!0,r=!1,a=void 0;try{for(var o,c=(0,i["default"])(s.devicesToMatchOn);!(n=(o=c.next()).done);n=!0){var u=o.value;e===u&&(t=!0)}}catch(l){r=!0,a=l}finally{try{!n&&c["return"]&&c["return"]()}finally{if(r)throw a}}return s.controlOpenButton(t),t},s}r.$inject=["$scope","$stateParams","TenantsService","DevicesService","ProgressBarService","$state"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantUnmanagedDevicesCtrl=void 0;var a=t(650),i=n(a);exports.TenantUnmanagedDevicesCtrl=r},730:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a){"ngInject";var o=this;return o.tenants=[],o.searchedTenants=[],o.searchMatch=null,o.searchDisabled=!0,o.getTenantsPaginated=function(e,t){o.offset=t,o.loading=!0,r.start();var a=n.fetchAllTenantsPaginated(e,t);return a.then(function(e){return o.getFetchSuccess(e)},function(e){return o.getFetchFailure(e)})},o.getFetchSuccess=function(e){return o.tenants=e.tenants,o.total=e.total,o.is_first_page=e.is_first_page,o.is_last_page=e.is_last_page,r.complete(),o.loading=!1},o.getFetchFailure=function(e){r.complete();var t="Unable to fetch tenants. Error: "+e.status+" "+e.statusText+".";return a.show("Oops...",t,"error")},o.initialize=function(){return o.offset=0,o.searchAllTenantsByName("my"),o.getTenantsPaginated(100,o.offset)},o.searchAllTenantsByName=function(e){if(!e||e.length<3)return[];var t=n.searchAllTenantsByName(e);return t.then(function(e){return o.searchedTenants=e,o.searchedTenants?o.searchedTenants.map(function(e){return e.name}).sort(s["default"]):[]})},o.isTenantValid=function(e){if(!e||e.length<3)return[];var t=o.searchedTenants;if(t){var n=!0,r=!1,a=void 0;try{for(var s,c=(0,i["default"])(t);!(n=(s=c.next()).done);n=!0){var u=s.value;if(e===u.name)return o.searchDisabled=!1,void(o.searchMatch=u);o.searchDisabled=!0}}catch(l){r=!0,a=l}finally{try{!n&&c["return"]&&c["return"]()}finally{if(r)throw a}}}else o.searchDisabled=!0},o.editItem=function(t){return e.go("tenantDetails",{tenantKey:t.key})},o.deleteItem=function(e){var t=function(){var t=n["delete"](e);return t.then(function(){return o.initialize()})};return a.show({title:"Are you sure?",text:"This will permanently remove the tenant from the system.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, remove the tenant!",closeOnConfirm:!0},t)},o}r.$inject=["$state","$log","TenantsService","ProgressBarService","sweet"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.TenantsCtrl=void 0;var a=t(650),i=n(a),o=t(659),s=n(o);exports.TenantsCtrl=r},731:function(e,exports){"use strict";function t(e,t,n,r,a){"ngInject";var i=this;return i.paulsCurrentDistributorName=n.paulsCurrentDistributorName,i.version_data=[],i.loading=!0,i.proceedToSignIn=function(){return t.go("sign_in")},i.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},i.giveOptionToChangeDistributor=function(){var e=r.fetchAllByUser(a.getUserKey());return e.then(function(e){return i.has_multiple_distributors=e.length>1,i.loading=!1})},i.changeDistributor=function(){return t.go("distributor_selection")},i.getVersion=function(){var t=e.getVersions();return t.then(function(e){return i.version_data=e})},i.initialize=function(){return i.identity={key:a.getUserKey(),email:a.getUserEmail(),distributorKey:a.getCurrentDistributorKey(),distributorName:a.getCurrentDistributorName()},i.giveOptionToChangeDistributor(),i.identity.email?i.getVersion():t.go("sign_in")},i}t.$inject=["VersionsService","$state","$rootScope","DistributorsService","SessionsService"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.WelcomeCtrl=t},732:function(e,exports){"use strict";function t(e,t,n){"ngInject";return e.state("sign_in",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],notAuthenticated:["AuthorizationService",function(e){return e.notAuthenticated()}]},url:"/sign_in",templateUrl:"app/authentication/sign_in.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("signed_out",{url:"/signed_out",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],notAuthenticated:["AuthorizationService",function(e){return e.notAuthenticated()}]},templateUrl:"app/authentication/signed_out.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("sign_out",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/sign_out",templateUrl:"app/authentication/sign_out.html",controller:"AuthenticationCtrl",controllerAs:"authenticationCtrl"}),e.state("distributor_selection",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/distributor_selection",templateUrl:"app/distributor/distributor_selector.html",controller:"DistributorSelectorCtrl",controllerAs:"vm"}),e.state("home",{url:"/",templateUrl:"app/welcome/welcome.html",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("welcome",{url:"/welcome",templateUrl:"app/welcome/welcome.html",resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},controller:"WelcomeCtrl",controllerAs:"welcomeCtrl",ncyBreadcrumb:{label:"Skykit Provisioning"}}),e.state("domains",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains",templateUrl:"app/domain/domains-listing.html",controller:"DomainsCtrl",controllerAs:"domainsCtrl",ncyBreadcrumb:{label:"Domains"}}),e.state("addDomain",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains/add",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"Add domain",parent:"domains"}}),e.state("editDomain",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/domains/:domainKey",templateUrl:"app/domain/domain-detail.html",controller:"DomainDetailsCtrl",controllerAs:"domainDetailsCtrl",ncyBreadcrumb:{label:"{{ domainDetailsCtrl.currentDomain.name }}",parent:"domains"}}),e.state("tenants",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants",templateUrl:"app/tenant/tenants-listing.html",controller:"TenantsCtrl",controllerAs:"tenantsCtrl",ncyBreadcrumb:{label:"Tenants"}}),e.state("addTenant",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/add",templateUrl:"app/tenant/tenant-add.html",controller:"TenantAddCtrl",controllerAs:"tenantAddCtrl",ncyBreadcrumb:{label:"Add tenant",parent:"tenants"}}),e.state("tenantDetails",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/details",templateUrl:"app/tenant/tenant-details.html",controller:"TenantDetailsCtrl",controllerAs:"tenantDetailsCtrl",ncyBreadcrumb:{label:"{{ tenantDetailsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantManagedDevices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/managed",templateUrl:"app/tenant/tenant-managed-devices.html",controller:"TenantManagedDevicesCtrl",controllerAs:"tenantManagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantManagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantUnmanagedDevices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/unmanaged",templateUrl:"app/tenant/tenant-unmanaged-devices.html",controller:"TenantUnmanagedDevicesCtrl",controllerAs:"tenantUnmanagedDevicesCtrl",ncyBreadcrumb:{label:"{{ tenantUnmanagedDevicesCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantLogs",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/logs",templateUrl:"app/tenant/tenant-logs.html",controller:"TenantLogsCtrl",controllerAs:"tenantLogsCtrl",ncyBreadcrumb:{label:"{{ tenantLogsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantOverlays",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/overlays",templateUrl:"app/tenant/tenant-overlays.html",controller:"TenantOverlaysCtrl",controllerAs:"tenantOverlaysCtrl",ncyBreadcrumb:{label:"{{ tenantOverlaysCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("tenantLocations",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/locations",templateUrl:"app/tenant/tenant-locations.html",controller:"TenantLocationsCtrl",controllerAs:"tenantLocationsCtrl",ncyBreadcrumb:{label:"{{ tenantLocationsCtrl.currentTenant.name }}",parent:"tenants"}}),e.state("editLocation",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/locations/:locationKey",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / {{ tenantLocationCtrl.locationName }}",parent:"tenants"}}),e.state("addLocation",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/tenants/:tenantKey/location",templateUrl:"app/tenant/tenant-location.html",controller:"TenantLocationCtrl",controllerAs:"tenantLocationCtrl",ncyBreadcrumb:{label:"{{ tenantLocationCtrl.tenantName }}  / Location",parent:"tenants"}}),e.state("devices",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/devices",templateUrl:"app/device/devices-listing.html",controller:"DevicesListingCtrl",controllerAs:"devicesListingCtrl",ncyBreadcrumb:{label:"Devices"}}),e.state("editDevice",{resolve:{identity:["IdentityService",function(e){return e.getIdentity()}],authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/devices/:deviceKey?tenantKey?fromDevices",templateUrl:"app/device/device-detail.html",ncyBreadcrumb:{label:"{{ deviceDetailsCtrl.currentDevice.key }}",parent:"devices"},controller:"DeviceDetailsCtrl","function":function(e,t){e.tenantKey=t.tenantKey},controllerAs:"deviceDetailsCtrl"}),e.state("proof",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/proof",templateUrl:"app/proof/main.html",controller:"ProofOfPlayCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Proof of Play"}}),e.state("proofDetail",{resolve:{authenticated:["AuthorizationService",function(e){return e.authenticated()}]},url:"/proof/:tenant",templateUrl:"app/proof/detail.html",controller:"ProofOfPlayCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Proof of Play"}}),e.state("admin",{resolve:{isAdmin:["AuthorizationService",function(e){return e.isAdminOrDistributorAdmin()}]},url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl",controllerAs:"vm",ncyBreadcrumb:{label:"Admin"}}),t.otherwise("/sign_in"),n.setBaseUrl("/api/v1"),n.addResponseInterceptor(function(e,t,n,r,a,i){var o=e;return o}),n.setRestangularFields({id:"key"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.routes=t,t.$inject=["$stateProvider","$urlRouterProvider","RestangularProvider"]},733:function(e,exports){"use strict";function t(e,t,n,r,a){"ngInject";var i=function(){var e=n.get("$state");return r.$on("$stateChangeError",function(t,n,r,a,i,o){if("authError"===o[0])return e.go(o[1])})};a(i,500);var o=function(){e.addRequestInterceptor(function(r,a,i,o){var s=n.get("StorageService"),c="6C346588BD4C6D722A1165B43C51C";if(t.host().indexOf("provisioning-gamestop")>-1&&(c="5XZHBF3mOwqJlYAlG1NeeWX0Cb72g"),e.setDefaultHeaders({"Content-Type":"application/json",Accept:"application/json",Authorization:c,"X-Provisioning-User":s.get("userKey"),"X-Provisioning-Distributor":s.get("currentDistributorKey")}),"remove"!==a)return r})};a(o,500)}t.$inject=["Restangular","$location","$injector","$rootScope","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0}),exports.appRun=t},734:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){o["default"].extend(e,{progressBar:!0,closeButton:!0,tapToDismiss:!0,newestOnTop:!0,positionClass:"toast-bottom-left",timeOut:5e3})}function a(e){e.setOptions({prefixStateName:"home",template:"bootstrap3"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toastrConfig=r,exports.breadcrumbProvider=a;var i=t(369),o=n(i);r.$inject=["toastrConfig"],a.$inject=["$breadcrumbProvider"]}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXBwLmJ1bmRsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYXBwLmpzIiwid2VicGFjazovLy8uL34vbW9tZW50L2xvY2FsZSBeXFwuXFwvLiokIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5jc3M/ZDE1NiIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhckJyZWFkY3J1bWIvYW5ndWxhckJyZWFkY3J1bWIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvanMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci9jc3MvbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzP2M0MTMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvY3NzL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1kaXJlY3RpdmUuZy1zaWduaW4vZ29vZ2xlLXBsdXMtc2lnbmluLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy92ZW5kb3Iuc2Nzcz8yNmEwIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy92ZW5kb3Iuc2NzcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3Njc3MvaW5kZXguc2Nzcz83Njk3Iiwid2VicGFjazovLy8uL3NyYy9hcHAvc2Nzcy9pbmRleC5zY3NzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGV2aWNlL2RldmljZS1kZXRhaWwtY29tbWFuZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2RldmljZS9kZXZpY2UtZGV0YWlscy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGV2aWNlL2RldmljZXMtbGlzdGluZy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYWRtaW4vYWRtaW4tY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2F1dGhlbnRpY2F0aW9uL2F1dGhlbnRpY2F0aW9uLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hcHAvYXBwLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9kaXN0cmlidXRvci9kaXN0cmlidXRvci1zZWxlY3Rvci1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3JzLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9kb21haW4vZG9tYWlucy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvZG9tYWluL2RvbWFpbi1kZXRhaWxzLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9wcm9vZi9tdWx0aS1sb2NhdGlvbi5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvcHJvb2YvbXVsdGktZGlzcGxheS5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvcHJvb2YvbXVsdGktcmVzb3VyY2UuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3Byb29mL3Byb29mLW9mLXBsYXkuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2ltYWdlLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9hZG1pbi5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvYXV0aG9yaXphdGlvbi5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvY29tbWFuZHMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2RhdGVtYW5pcHVsYXRpb24uc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2RldmljZXMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2Rpc3RyaWJ1dG9ycy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvZG9tYWlucy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvaWRlbnRpdHkuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL2ludGVncmF0aW9uLWV2ZW50cy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvbG9jYXRpb25zLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9wcm9ncmVzc2Jhci5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvcHJvb2ZwbGF5LnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy9zZXNzaW9ucy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvc3RvcmFnZS5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvdGVuYW50cy5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc2VydmljZXMvdGltZXpvbmVzLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zZXJ2aWNlcy90b2FzdHMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3NlcnZpY2VzL3ZlcnNpb25zLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LWxvZ3MuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtb3ZlcmxheXMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtYWRkLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LWRldGFpbHMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb25zLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LW1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvdGVuYW50L3RlbmFudC11bm1hbmFnZWQtZGV2aWNlcy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvdGVuYW50L3RlbmFudHMuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3dlbGNvbWUvd2VsY29tZS1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvYXBwLXJvdXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2FwcC1ydW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hcHAtY29uZmlnLmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsIjAiLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIjM2NyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9hcHAiLCJfZGV2aWNlRGV0YWlsQ29tbWFuZCIsIl9kZXZpY2VEZXRhaWxzIiwiX2RldmljZXNMaXN0aW5nIiwiX2FkbWluQ29udHJvbGxlciIsIl9hdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIiLCJfYXBwQ29udHJvbGxlciIsIl9kaXN0cmlidXRvclNlbGVjdG9yQ29udHJvbGxlciIsIl9kaXN0cmlidXRvcnNDb250cm9sbGVyIiwiX2RvbWFpbnMiLCJfZG9tYWluRGV0YWlscyIsIl9tdWx0aUxvY2F0aW9uIiwiX211bHRpRGlzcGxheSIsIl9tdWx0aVJlc291cmNlIiwiX3Byb29mT2ZQbGF5IiwiX2ltYWdlIiwiX2ltYWdlMiIsIl9hZG1pbiIsIl9hZG1pbjIiLCJfYXV0aG9yaXphdGlvbiIsIl9hdXRob3JpemF0aW9uMiIsIl9jb21tYW5kcyIsIl9jb21tYW5kczIiLCJfZGF0ZW1hbmlwdWxhdGlvbiIsIl9kYXRlbWFuaXB1bGF0aW9uMiIsIl9kZXZpY2VzIiwiX2RldmljZXMyIiwiX2Rpc3RyaWJ1dG9ycyIsIl9kaXN0cmlidXRvcnMyIiwiX2RvbWFpbnMyIiwiX2RvbWFpbnMzIiwiX2lkZW50aXR5IiwiX2lkZW50aXR5MiIsIl9pbnRlZ3JhdGlvbkV2ZW50cyIsIl9pbnRlZ3JhdGlvbkV2ZW50czIiLCJfbG9jYXRpb25zIiwiX2xvY2F0aW9uczIiLCJfcHJvZ3Jlc3NiYXIiLCJfcHJvZ3Jlc3NiYXIyIiwiX3Byb29mcGxheSIsIl9wcm9vZnBsYXkyIiwiX3Nlc3Npb25zIiwiX3Nlc3Npb25zMiIsIl9zdG9yYWdlIiwiX3N0b3JhZ2UyIiwiX3RlbmFudHMiLCJfdGVuYW50czIiLCJfdGltZXpvbmVzIiwiX3RpbWV6b25lczIiLCJfdG9hc3RzIiwiX3RvYXN0czIiLCJfdmVyc2lvbnMiLCJfdmVyc2lvbnMyIiwiX3RlbmFudExvZ3MiLCJfdGVuYW50T3ZlcmxheXMiLCJfdGVuYW50QWRkIiwiX3RlbmFudERldGFpbHMiLCJfdGVuYW50TG9jYXRpb24iLCJfdGVuYW50TG9jYXRpb25zIiwiX3RlbmFudE1hbmFnZWREZXZpY2VzIiwiX3RlbmFudFVubWFuYWdlZERldmljZXMiLCJfdGVuYW50czMiLCJfd2VsY29tZUNvbnRyb2xsZXIiLCJfYXBwUm91dGVzIiwiX2FwcFJ1biIsIl9hcHBDb25maWciLCJhcHAiLCJzZXJ2aWNlIiwiY29udHJvbGxlciIsIkRldmljZURldGFpbHNDb21tYW5kc0N0cmwiLCJEZXZpY2VEZXRhaWxzQ3RybCIsIkRldmljZXNMaXN0aW5nQ3RybCIsIkFkbWluQ3RybCIsIkF1dGhlbnRpY2F0aW9uQ3RybCIsIkFwcENvbnRyb2xsZXIiLCJEaXN0cmlidXRvclNlbGVjdG9yQ3RybCIsIkRpc3RyaWJ1dG9yc0N0cmwiLCJEb21haW5zQ3RybCIsIkRvbWFpbkRldGFpbHNDdHJsIiwiUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybCIsIlByb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybCIsIlByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwiLCJQcm9vZk9mUGxheUN0cmwiLCJUZW5hbnRMb2dzQ3RybCIsIlRlbmFudE92ZXJsYXlzQ3RybCIsIlRlbmFudEFkZEN0cmwiLCJUZW5hbnREZXRhaWxzQ3RybCIsIlRlbmFudExvY2F0aW9uQ3RybCIsIlRlbmFudExvY2F0aW9uc0N0cmwiLCJUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwiLCJUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybCIsIlRlbmFudHNDdHJsIiwiV2VsY29tZUN0cmwiLCJydW4iLCJhcHBSdW4iLCJjb25maWciLCJyb3V0ZXMiLCJ0b2FzdHJDb25maWciLCJicmVhZGNydW1iUHJvdmlkZXIiLCJTdG9yYWdlU2VydmljZSIsIiRsb2NhdGlvbiIsImludGVyY2VwdG9yIiwicmVxdWVzdCIsImdzIiwicHJvZCIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJBY2NlcHQiLCJKV1QiLCJnZXQiLCJvQXV0aCIsIkF1dGhvcml6YXRpb24iLCJob3N0IiwiaW5kZXhPZiIsIlgtUHJvdmlzaW9uaW5nLVVzZXIiLCJYLVByb3Zpc2lvbmluZy1Vc2VyLUlkZW50aWZpZXIiLCJYLVByb3Zpc2lvbmluZy1EaXN0cmlidXRvciIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiMzY4IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsIl9hbmd1bGFyIiwiX2FuZ3VsYXIyIiwiX2FuZ3VsYXJVaVJvdXRlciIsIl9hbmd1bGFyVWlSb3V0ZXIyIiwiX21vbWVudCIsIl9sb2Rhc2giLCJfbG9kYXNoMiIsIndpbmRvdyIsIl8iLCJhbmd1bGFyIiwiMzc0Iiwid2VicGFja0NvbnRleHQiLCJyZXEiLCJ3ZWJwYWNrQ29udGV4dFJlc29sdmUiLCJtYXAiLCJFcnJvciIsIi4vYWYiLCIuL2FmLmpzIiwiLi9hciIsIi4vYXItbHkiLCIuL2FyLWx5LmpzIiwiLi9hci1tYSIsIi4vYXItbWEuanMiLCIuL2FyLXNhIiwiLi9hci1zYS5qcyIsIi4vYXItdG4iLCIuL2FyLXRuLmpzIiwiLi9hci5qcyIsIi4vYXoiLCIuL2F6LmpzIiwiLi9iZSIsIi4vYmUuanMiLCIuL2JnIiwiLi9iZy5qcyIsIi4vYm4iLCIuL2JuLmpzIiwiLi9ibyIsIi4vYm8uanMiLCIuL2JyIiwiLi9ici5qcyIsIi4vYnMiLCIuL2JzLmpzIiwiLi9jYSIsIi4vY2EuanMiLCIuL2NzIiwiLi9jcy5qcyIsIi4vY3YiLCIuL2N2LmpzIiwiLi9jeSIsIi4vY3kuanMiLCIuL2RhIiwiLi9kYS5qcyIsIi4vZGUiLCIuL2RlLWF0IiwiLi9kZS1hdC5qcyIsIi4vZGUuanMiLCIuL2R2IiwiLi9kdi5qcyIsIi4vZWwiLCIuL2VsLmpzIiwiLi9lbi1hdSIsIi4vZW4tYXUuanMiLCIuL2VuLWNhIiwiLi9lbi1jYS5qcyIsIi4vZW4tZ2IiLCIuL2VuLWdiLmpzIiwiLi9lbi1pZSIsIi4vZW4taWUuanMiLCIuL2VuLW56IiwiLi9lbi1uei5qcyIsIi4vZW8iLCIuL2VvLmpzIiwiLi9lcyIsIi4vZXMtZG8iLCIuL2VzLWRvLmpzIiwiLi9lcy5qcyIsIi4vZXQiLCIuL2V0LmpzIiwiLi9ldSIsIi4vZXUuanMiLCIuL2ZhIiwiLi9mYS5qcyIsIi4vZmkiLCIuL2ZpLmpzIiwiLi9mbyIsIi4vZm8uanMiLCIuL2ZyIiwiLi9mci1jYSIsIi4vZnItY2EuanMiLCIuL2ZyLWNoIiwiLi9mci1jaC5qcyIsIi4vZnIuanMiLCIuL2Z5IiwiLi9meS5qcyIsIi4vZ2QiLCIuL2dkLmpzIiwiLi9nbCIsIi4vZ2wuanMiLCIuL2hlIiwiLi9oZS5qcyIsIi4vaGkiLCIuL2hpLmpzIiwiLi9ociIsIi4vaHIuanMiLCIuL2h1IiwiLi9odS5qcyIsIi4vaHktYW0iLCIuL2h5LWFtLmpzIiwiLi9pZCIsIi4vaWQuanMiLCIuL2lzIiwiLi9pcy5qcyIsIi4vaXQiLCIuL2l0LmpzIiwiLi9qYSIsIi4vamEuanMiLCIuL2p2IiwiLi9qdi5qcyIsIi4va2EiLCIuL2thLmpzIiwiLi9rayIsIi4va2suanMiLCIuL2ttIiwiLi9rbS5qcyIsIi4va28iLCIuL2tvLmpzIiwiLi9reSIsIi4va3kuanMiLCIuL2xiIiwiLi9sYi5qcyIsIi4vbG8iLCIuL2xvLmpzIiwiLi9sdCIsIi4vbHQuanMiLCIuL2x2IiwiLi9sdi5qcyIsIi4vbWUiLCIuL21lLmpzIiwiLi9taSIsIi4vbWkuanMiLCIuL21rIiwiLi9tay5qcyIsIi4vbWwiLCIuL21sLmpzIiwiLi9tciIsIi4vbXIuanMiLCIuL21zIiwiLi9tcy1teSIsIi4vbXMtbXkuanMiLCIuL21zLmpzIiwiLi9teSIsIi4vbXkuanMiLCIuL25iIiwiLi9uYi5qcyIsIi4vbmUiLCIuL25lLmpzIiwiLi9ubCIsIi4vbmwuanMiLCIuL25uIiwiLi9ubi5qcyIsIi4vcGEtaW4iLCIuL3BhLWluLmpzIiwiLi9wbCIsIi4vcGwuanMiLCIuL3B0IiwiLi9wdC1iciIsIi4vcHQtYnIuanMiLCIuL3B0LmpzIiwiLi9ybyIsIi4vcm8uanMiLCIuL3J1IiwiLi9ydS5qcyIsIi4vc2UiLCIuL3NlLmpzIiwiLi9zaSIsIi4vc2kuanMiLCIuL3NrIiwiLi9zay5qcyIsIi4vc2wiLCIuL3NsLmpzIiwiLi9zcSIsIi4vc3EuanMiLCIuL3NyIiwiLi9zci1jeXJsIiwiLi9zci1jeXJsLmpzIiwiLi9zci5qcyIsIi4vc3MiLCIuL3NzLmpzIiwiLi9zdiIsIi4vc3YuanMiLCIuL3N3IiwiLi9zdy5qcyIsIi4vdGEiLCIuL3RhLmpzIiwiLi90ZSIsIi4vdGUuanMiLCIuL3RoIiwiLi90aC5qcyIsIi4vdGwtcGgiLCIuL3RsLXBoLmpzIiwiLi90bGgiLCIuL3RsaC5qcyIsIi4vdHIiLCIuL3RyLmpzIiwiLi90emwiLCIuL3R6bC5qcyIsIi4vdHptIiwiLi90em0tbGF0biIsIi4vdHptLWxhdG4uanMiLCIuL3R6bS5qcyIsIi4vdWsiLCIuL3VrLmpzIiwiLi91eiIsIi4vdXouanMiLCIuL3ZpIiwiLi92aS5qcyIsIi4veC1wc2V1ZG8iLCIuL3gtcHNldWRvLmpzIiwiLi96aC1jbiIsIi4vemgtY24uanMiLCIuL3poLWhrIiwiLi96aC1oay5qcyIsIi4vemgtdHciLCIuL3poLXR3LmpzIiwia2V5cyIsInJlc29sdmUiLCJpZCIsIjUyNCIsImEiLCJiIiwiYyIsImQiLCJlIiwidGhpcyIsImF1dG9TdHlsZSIsImNvdW50IiwiaGVpZ2h0IiwiJHNjb3BlIiwiJG5ldyIsImNvbG9yIiwicGFyZW50IiwiZmluZCIsInByb2dyZXNzYmFyRWwiLCJhcHBlbmRDaGlsZCIsImVxIiwiY2hpbGRyZW4iLCJjc3MiLCJpbnRlcnZhbENvdW50ZXJJZCIsInN0YXJ0Iiwic2hvdyIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImlzTmFOIiwiaGlkZSIsInJlbWFpbmluZyIsIk1hdGgiLCJwb3ciLCJzcXJ0IiwidXBkYXRlQ291bnQiLCIkJHBoYXNlIiwiJGFwcGx5Iiwic2V0SGVpZ2h0Iiwic2V0Q29sb3IiLCJhbmltYXRlIiwiYW5pbWF0aW9uIiwiY2FuY2VsIiwic3RhdHVzIiwic3RvcCIsInNldCIsInJlc2V0IiwiY29tcGxldGUiLCJzZXRQYXJlbnQiLCJyZW1vdmVDaGlsZCIsImdldERvbUVsZW1lbnQiLCJzZXRBYnNvbHV0ZSIsImZhY3RvcnkiLCJjcmVhdGVJbnN0YW5jZSIsImluc3RhbnRpYXRlIiwiZGlyZWN0aXZlIiwicmVwbGFjZSIsInJlc3RyaWN0IiwibGluayIsIiR3YXRjaCIsImNvdW50ZXIiLCJ0ZW1wbGF0ZSIsIjUyNSIsImNvbnRlbnQiLCJsb2NhbHMiLCI1MjYiLCI1MjciLCJfdHlwZW9mMiIsIl90eXBlb2YzIiwiZXF1YWxzIiwibGVuZ3RoIiwibWF0Y2giLCJzdGF0ZSIsInBhcmFtRXhwciIsImYiLCJwcmVmaXhTdGF0ZU5hbWUiLCJ0ZW1wbGF0ZVVybCIsImluY2x1ZGVBYnN0cmFjdCIsInNldE9wdGlvbnMiLCJleHRlbmQiLCIkZ2V0IiwiZyIsImgiLCIkb24iLCJ0YXJnZXRTY29wZSIsIm5jeUJyZWFkY3J1bWJJZ25vcmUiLCIkaWQiLCJpIiwiZXhlYyIsIm5hbWUiLCJqIiwiayIsImwiLCJtIiwibiIsIm5jeUJyZWFkY3J1bWIiLCJmb3JjZSIsInNraXAiLCIkZXZhbCIsIm5jeUJyZWFkY3J1bWJMaW5rIiwiaHJlZiIsInVuc2hpZnQiLCJnZXRUZW1wbGF0ZSIsImdldFRlbXBsYXRlVXJsIiwiZ2V0U3RhdGVzQ2hhaW4iLCIkY3VycmVudCIsInNlbGYiLCJnZXRMYXN0U3RlcCIsIiRnZXRMYXN0Vmlld1Njb3BlIiwiYm9vdHN0cmFwMiIsImJvb3RzdHJhcDMiLCJzY29wZSIsInBvc3QiLCJzdGVwcyIsImZvckVhY2giLCJsYWJlbCIsIm5jeUJyZWFkY3J1bWJMYWJlbCIsImNvbXBpbGUiLCJhdHRyIiwiJGF0dHIiLCJuY3lCcmVhZGNydW1iTGFzdCIsImh0bWwiLCJuY3lCcmVhZGNydW1iVGV4dCIsIm5jeUJyZWFkY3J1bWJUZXh0U2VwYXJhdG9yIiwibmN5QnJlYWRjcnVtYkNoYWluIiwiam9pbiIsImV4cHJlc3Npb25zIiwicGFydHMiLCJpc0Z1bmN0aW9uIiwiZXhwIiwiJGluamVjdCIsInByb3ZpZGVyIiwiNTk2IiwialF1ZXJ5IiwiX21vbWVudDIiLCJtb21lbnQiLCJtb2R1bGVOYW1lIiwiVklFV19TVEFURVMiLCJEQVRFIiwiSE9VUiIsIk1JTlVURSIsImVsIiwiZWxlbWVudCIsImdldENvbXB1dGVkU3R5bGUiLCJsb2NhbGUiLCJzZXREZWZhdWx0TG9jYWxlIiwibG9jYWxlU3RyaW5nIiwiJG1kRGlhbG9nIiwicmVxdWlyZSIsImN1cnJlbnREYXRlIiwidGltZSIsImRhdGUiLCJtaW5EYXRlIiwibWF4RGF0ZSIsInNob3J0VGltZSIsImZvcm1hdCIsImNhbmNlbFRleHQiLCJva1RleHQiLCJsYW5nIiwiYW1UZXh0IiwicG1UZXh0IiwiYXR0cnMiLCJuZ01vZGVsIiwiaXNPbiIsImlzU3RyaW5nIiwiJGZvcm1hdHRlcnMiLCJpc1ZhbGlkIiwib24iLCJwcmV2ZW50RGVmYXVsdCIsImJsdXIiLCJvcHRpb25zIiwiaGFzT3duUHJvcGVydHkiLCJpc1VuZGVmaW5lZCIsIlBsdWdpbkNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJvcGVuRnJvbSIsImRvY3VtZW50IiwiYm9keSIsImJpbmRUb0NvbnRyb2xsZXIiLCJkaXNhYmxlUGFyZW50U2Nyb2xsIiwidGhlbiIsInYiLCJfZCIsIm1kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSIsImN1cnJlbnRWaWV3IiwiX2RpYWxvZyIsIl9hdHRhY2hlZEV2ZW50cyIsIlZJRVdTIiwicGFyYW1zIiwid2Vla1N0YXJ0IiwibWVyaWRpZW4iLCJpbml0IiwicHJvdG90eXBlIiwidGltZU1vZGUiLCJkYXRlTW9kZSIsImluaXREYXRlcyIsImN1cnJlbnROZWFyZXN0NU1pbnV0ZSIsIm1pbnV0ZXMiLCJyb3VuZCIsIm1pbnV0ZSIsInRoYXQiLCJfZGF0ZVBhcmFtIiwiaW5wdXQiLCJmYWxsYmFjayIsInJldCIsImlzRGVmaW5lZCIsImlzRGF0ZSIsIngiLCJnZXRUaW1lIiwiX2lzQU1vbWVudE9iamVjdCIsInNlbGVjdERhdGUiLCJpbml0RGF0ZSIsImluaXRIb3VycyIsImluaXRNaW51dGVzIiwiaXNBZnRlck1pbkRhdGUiLCJjaGVja0hvdXIiLCJjaGVja01pbnV0ZSIsIl9yZXR1cm4iLCJfbWluRGF0ZSIsIl9kYXRlIiwiaG91ciIsInNlY29uZCIsIm1pbGxpc2Vjb25kIiwicGFyc2VJbnQiLCJpc0JlZm9yZU1heERhdGUiLCJjaGVja1RpbWUiLCJfbWF4RGF0ZSIsImNhbGVuZGFyU3RhcnQiLCJzZXROYW1lIiwidGV4dCIsInBvc3NpYmxlIiwiY2hhckF0IiwiZmxvb3IiLCJyYW5kb20iLCJpc1BNIiwiaW5jcmVtZW50WWVhciIsImFtb3VudCIsImlzTmV4dFllYXJWaXNpYmxlIiwiYWRkIiwiaXNQcmV2aW91c1llYXJWaXNpYmxlIiwiaXNQcmV2aW91c01vbnRoVmlzaWJsZSIsInN0YXJ0T2YiLCJpc05leHRNb250aFZpc2libGUiLCJlbmRPZiIsImlzSG91ckF2YWlsYWJsZSIsImNvbnZlcnRIb3VycyIsImlzTWludXRlQXZhaWxhYmxlIiwib2siLCJzZWxlY3RNb250aEJlZm9yZSIsInN1YnRyYWN0Iiwic2VsZWN0TW9udGhBZnRlciIsInNlbGVjdFllYXJCZWZvcmUiLCJzZWxlY3RZZWFyQWZ0ZXIiLCJzZWxlY3RBTSIsInNlbGVjdFBNIiwib2tCdG4iLCJZRUFSX01JTiIsIllFQVJfTUFYIiwiTU9OVEhTX0lOX0FMTCIsIklURU1fSEVJR0hUIiwiTU9OVEhTIiwiY3VycmVudE1vbnRoSW5kZXgiLCJ5ZWFyIiwibW9udGgiLCJwaWNrZXIiLCJjYWxlbmRhciIsImRheXMiLCJ0b1N0cmluZyIsIndlZWsiLCJsb3ciLCJoaWdoIiwibW9udGhzIiwic2xpY2UiLCJnZXRJdGVtQXRJbmRleCIsImluZGV4IiwibW9udGhPYmoiLCJnZW5lcmF0ZU1vbnRoQ2FsZW5kYXIiLCJ0b3BJbmRleCIsInZhbDIiLCJ2YWwxIiwibkRhdGUiLCJzdGFydE9mTW9udGgiLCJpTnVtRGF5IiwiZGF5c0luTW9udGgiLCJpV2VlayIsImRheXNJbkFXZWVrIiwiZGF5c1RtcCIsInNsaWNlcyIsImNlaWwiLCJ0b0RheSIsInN1YnN0cmluZyIsImlzSW5SYW5nZSIsImlzU2VsZWN0ZWREYXkiLCIkY29tcGlsZSIsImJ1aWxkQ2FsZW5kYXJDb250ZW50IiwidGJvZHkiLCJxdWVyeVNlbGVjdG9yIiwiY2FsIiwid2Vla0RheXMiLCJ0ciIsIndlZWtEYXkiLCJ0ZCIsImFPclNwYW4iLCJzY29wZVJlZiIsImFkZENsYXNzIiwiYXBwZW5kIiwiaWR4Iiwib2xkSWR4IiwibWludXRlTW9kZSIsIm1vZGUiLCJjb21wb25lbnRSb290IiwiY2xvY2siLCJwaWNrZXJFbCIsInciLCJvZmZzZXRXaWR0aCIsInBsIiwicHIiLCJtbCIsIm1yIiwiY2xvY2tXaWR0aCIsInBMIiwicFQiLCJtTCIsIm1UIiwiciIsInBvaW50cyIsInNpbiIsIlBJIiwieSIsImNvcyIsImxlZnQiLCJ0b3AiLCJkaXNwbGF5Iiwic2V0Q3VycmVudFZhbHVlIiwiY2xvY2tDZW50ZXIiLCJjZW50ZXJXaWR0aCIsImNlbnRlckhlaWdodCIsIm9mZnNldEhlaWdodCIsIl9oTCIsIl9tTCIsIm1hcmdpblRvcCIsImFuaW1hdGVIYW5kcyIsInJvdGF0ZUVsZW1lbnQiLCJtZGciLCJkZWciLCJXZWJraXRUcmFuc2Zvcm0iLCItbW96LXRyYW5zZm9ybSIsImN1cnJlbnRWYWx1ZSIsInRtcCIsIm5ld1ZhbCIsInNldERpc3BsYXlQb2ludHMiLCJjb3B5Iiwic2V0VGltZSIsInZhbCIsInBvaW50QXZhaWxhYmxlIiwicG9pbnQiLCJ1bndhdGNoZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2FsbCIsIjU5NyIsIjU5OCIsIjU5OSIsIl9nZXRPd25Qcm9wZXJ0eU5hbWVzIiwiX2dldE93blByb3BlcnR5TmFtZXMyIiwiJHdpbmRvdyIsImVuZGluZyIsInRyYW5zY2x1ZGUiLCJjdHJsIiwibGlua2VyIiwiY2xpZW50aWQiLCJ0ZXN0IiwiJHNldCIsInRoZW1lIiwiZGVmYXVsdHMiLCJjYWxsYmFjayIsImNvb2tpZXBvbGljeSIsInJlcXVlc3R2aXNpYmxlYWN0aW9ucyIsIndpZHRoIiwicHJvcE5hbWUiLCIkb2JzZXJ2ZSIsIl9fX2djZmciLCJwbyIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiYXN5bmMiLCJzcmMiLCJzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwidFNjb3BlIiwib25sb2FkIiwiZ2FwaSIsInNpZ25pbiIsInJlbmRlciIsIiRyb290U2NvcGUiLCJzaWduaW5DYWxsYmFjayIsImF1dGhSZXN1bHQiLCJhY2Nlc3NfdG9rZW4iLCIkYnJvYWRjYXN0IiwiNjQzIiwiNjQ0IiwiNjQ1IiwiNjQ2IiwiNjQ4IiwiJGxvZyIsIiRzdGF0ZVBhcmFtcyIsIiRzdGF0ZSIsIlNlc3Npb25zU2VydmljZSIsIkRldmljZXNTZXJ2aWNlIiwiTG9jYXRpb25zU2VydmljZSIsIkNvbW1hbmRzU2VydmljZSIsIlRpbWV6b25lc1NlcnZpY2UiLCJzd2VldCIsIlByb2dyZXNzQmFyU2VydmljZSIsIlRvYXN0c1NlcnZpY2UiLCIkdGltZW91dCIsInZtIiwidGVuYW50S2V5IiwiZGV2aWNlS2V5IiwiZnJvbURldmljZXMiLCJjdXJyZW50RGV2aWNlIiwiY29tbWFuZEV2ZW50cyIsImdlbmVyYXRlTG9jYWxGcm9tVVRDIiwiVVRDVGltZSIsImxvY2FsVGltZSIsInV0YyIsInRvRGF0ZSIsInJlcGxhY2VDb21tYW5kVGltZSIsImlzc3VlcyIsImVhY2giLCJwb3N0ZWRUaW1lIiwiY29uZmlybWVkVGltZSIsImdldEV2ZW50cyIsInByZXYiLCJuZXh0IiwiY29tbWFuZEV2ZW50c1Byb21pc2UiLCJnZXRDb21tYW5kRXZlbnRzQnlLZXkiLCJkYXRhIiwiZXZlbnRzIiwiZXZlbnRfbmV4dF9jdXJzb3IiLCJuZXh0X2N1cnNvciIsImV2ZW50X3ByZXZfY3Vyc29yIiwicHJldl9jdXJzb3IiLCJnZXRFdmVudHNUaW1lT3V0IiwiY29tbWFuZEhpc3RvcnlTZWxlY3RlZCIsInBhZ2luYXRlRXZlbnRDYWxsIiwiZm9yd2FyZCIsImluaXRpYWxpemUiLCJkZXZpY2VQcm9taXNlIiwiZ2V0RGV2aWNlQnlLZXkiLCJyZXNwb25zZSIsIm9uR2V0RGV2aWNlU3VjY2VzcyIsIm9uR2V0RGV2aWNlRmFpbHVyZSIsInRpbWV6b25lIiwic2VsZWN0ZWRUaW1lem9uZSIsImJhY2tVcmwiLCJiYWNrVXJsVGV4dCIsImlzVW5tYW5hZ2VkRGV2aWNlIiwic2hvd0Vycm9yVG9hc3QiLCJlcnJvck1lc3NhZ2UiLCJzdGF0dXNUZXh0IiwiZXJyb3IiLCJnbyIsIm9uUmVzZXRDb250ZW50IiwicHJvbWlzZSIsImNvbnRlbnREZWxldGUiLCJvblJlc2V0Q29udGVudFN1Y2Nlc3MiLCJvblJlc2V0Q29udGVudEZhaWx1cmUiLCJzaG93U3VjY2Vzc1RvYXN0Iiwib25VcGRhdGVDb250ZW50IiwiY29udGVudFVwZGF0ZSIsIm9uVXBkYXRlQ29udGVudFN1Y2Nlc3MiLCJvblVwZGF0ZUNvbnRlbnRGYWlsdXJlIiwib25SZXNldFBsYXllciIsIm9uUmVzZXRQbGF5ZXJTdWNjZXNzIiwib25SZXNldFBsYXllckZhaWx1cmUiLCJvblBhbmVsT24iLCJwb3dlck9uIiwib25QYW5lbE9uU3VjY2VzcyIsIm9uUGFuZWxPbkZhaWx1cmUiLCJvblBhbmVsT2ZmIiwicG93ZXJPZmYiLCJvblBhbmVsT2ZmU3VjY2VzcyIsIm9uUGFuZWxPZmZGYWlsdXJlIiwib25VcGRhdGVEZXZpY2UiLCJ1cGRhdGVEZXZpY2UiLCJvblVwZGF0ZURldmljZVN1Y2Nlc3MiLCJvblVwZGF0ZURldmljZUZhaWx1cmUiLCJvblZvbHVtZUNoYW5nZSIsInZvbHVtZSIsIm9uVm9sdW1lQ2hhbmdlU3VjY2VzcyIsIm9uVm9sdW1lQ2hhbmdlRmFpbHVyZSIsImxldmVsIiwib25DdXN0b21Db21tYW5kIiwiY3VzdG9tIiwib25DdXN0b21Db21tYW5kU3VjY2VzcyIsIm9uQ3VzdG9tQ29tbWFuZEZhaWx1cmUiLCJjb21tYW5kIiwib25EaWFnbm9zdGljc1RvZ2dsZSIsInRvZ2dsZURpYWdub3N0aWNzIiwib25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MiLCJvblRvZ2dsZURpYWdub3N0aWNzRmFpbHVyZSIsIm9uUmVzdGFydCIsInJlc3RhcnQiLCJvblJlc3RhcnRTdWNjZXNzIiwib25SZXN0YXJ0RmFpbHVyZSIsIm9uUG9zdExvZyIsInBvc3RMb2ciLCJvblBvc3RMb2dTdWNjZXNzIiwib25Qb3N0TG9nRmFpbHVyZSIsIjY0OSIsIlRlbmFudHNTZXJ2aWNlIiwiSW50ZWdyYXRpb25FdmVudHMiLCJEYXRlTWFuaXB1bGF0aW9uU2VydmljZSIsIkltYWdlU2VydmljZSIsInRlbmFudFVybCIsImxvY2F0aW9ucyIsImRheVJhbmdlIiwidGltZXpvbmVzIiwiX0RhdGVNYW5pcHVsYXRpb25TZXJ2IiwiY3JlYXRlRm9ybWF0dGVkU3RhcnRBbmRFbmREYXRlRnJvbVRvZGF5IiwiX0RhdGVNYW5pcHVsYXRpb25TZXJ2MiIsIl9zbGljZWRUb0FycmF5MyIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJlbnJvbGxtZW50RXZlbnRzIiwibG9nb0NoYW5nZSIsImNvbnRyb2xzTW9kZU9wdGlvbnMiLCJvcmllbnRhdGlvbk9wdGlvbnMiLCJzbGVlcENvbnRyb2xsZXJPcHRpb25zIiwib3ZlcmxheUNoYW5nZWQiLCJjaGVja0Zvck92ZXJsYXlDaGFuZ2VzIiwiY2hhbmdlZCIsImN1cnJlbnREZXZpY2VPdmVybGF5cyIsIm92ZXJsYXlzIiwiY3VycmVudERldmljZUNvcHlPdmVybGF5cyIsImN1cnJlbnREZXZpY2VDb3B5IiwicG9zaXRpb25zIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9nZXRJdGVyYXRvcjMiLCJkb25lIiwicG9zIiwic2l6ZSIsImVyciIsInJldmVydFRvVGVuYW50T3ZlcmxheSIsImV2IiwibG9hZGluZ092ZXJsYXlzIiwidGVuYW50UHJvbWlzZSIsImdldFRlbmFudEJ5S2V5IiwidGVuYW50IiwiY3VycmVudFRlbmFudE92ZXJsYXlzIiwia2V5Iiwic2F2ZU92ZXJsYXlTZXR0aW5ncyIsImJvdHRvbV9sZWZ0IiwiYm90dG9tX3JpZ2h0IiwidG9wX3JpZ2h0IiwidG9wX2xlZnQiLCJyZXMiLCJhZGp1c3RDb250cm9sc01vZGUiLCJjb250cm9sc01vZGUiLCJjb250cm9sc1Byb21pc2UiLCJhZGp1c3RPdmVybGF5U3RhdHVzIiwib3ZlcmxheVN0YXR1cyIsInNhdmUiLCJzdWJtaXRPdmVybGF5U2V0dGluZ3MiLCJvdmVybGF5U2V0dGluZ3MiLCJnZXRUZW5hbnRJbWFnZXNBbmRSZWZyZXNoRGV2aWNlIiwiZ2V0VGVuYW50SW1hZ2VzIiwiT1ZFUkxBWV9UWVBFUyIsInJlYWxOYW1lIiwibmV3IiwiaW1hZ2Vfa2V5IiwiZ2V0SW1hZ2VzIiwidGVuYW50SW1hZ2VzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiX2FyciIsIl9pIiwic2l6ZU9wdGlvbiIsIm5ld1ZhbHVlIiwic29ydCIsIl9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyIiwicmVwbGFjZUlzc3VlVGltZSIsImNyZWF0ZWQiLCJ1cGRhdGVkIiwibG9jYWxGcm9tVXRjIiwidXRjVGltZXN0YW1wIiwiY29weURldmljZUtleSIsImNvcHlDb3JyZWxhdGlvbklkZW50aWZpZXIiLCJnZXRJc3N1ZXMiLCJkZXZpY2UiLCJlcG9jaFN0YXJ0IiwiZXBvY2hFbmQiLCJpc3N1ZXNQcm9taXNlIiwiZ2V0SXNzdWVzQnlLZXkiLCJnZXRFbnJvbGxtZW50RXZlbnRzIiwiZW5yb2xsbWVudEV2ZW50c1Byb21pc2UiLCJwYWdpbmF0ZUNhbGwiLCJ1bml4IiwidGltZXpvbmVQcm9taXNlIiwiZ2V0Q3VzdG9tVGltZXpvbmVzIiwicGFuZWxNb2RlbHMiLCJnZXRQYW5lbE1vZGVscyIsInBhbmVsSW5wdXRzIiwiZ2V0UGFuZWxJbnB1dHMiLCJsb2NhdGlvbnNQcm9taXNlIiwiZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXkiLCJzZXRTZWxlY3RlZE9wdGlvbnMiLCJwYW5lbE1vZGVsIiwicGFuZWxJbnB1dCIsImlzUGFyZW50IiwicGFyZW50SWQiLCJ0b0xvd2VyQ2FzZSIsImxvY2F0aW9uS2V5IiwibG9jYXRpb24iLCJvblNhdmVEZXZpY2UiLCJwYW5lbE1vZGVsTnVtYmVyIiwicGFuZWxTZXJpYWxJbnB1dCIsIm9uU3VjY2Vzc0RldmljZVNhdmUiLCJvbkZhaWx1cmVEZXZpY2VTYXZlIiwiaW5mbyIsIm9uUGFuZWxTbGVlcCIsInBhbmVsU2xlZXAiLCJvblBhbmVsU2xlZXBTdWNjZXNzIiwib25QYW5lbFNsZWVwRmFpbHVyZSIsImNvbmZpcm1EZXZpY2VEZWxldGUiLCJldmVudCIsImNvbmZpcm0iLCJ0aXRsZSIsInRleHRDb250ZW50IiwidGFyZ2V0RXZlbnQiLCJzaG93UHJvbWlzZSIsInN1Y2Nlc3MiLCJvbkNvbmZpcm1EZWxldGUiLCJmYWlsdXJlIiwib25Db25maXJtQ2FuY2VsIiwiZnJpZW5kbHlNZXNzYWdlIiwiZGVsZXRlUHJvbWlzZSIsInNob3dJbmZvVG9hc3QiLCJvblByb29mT2ZQbGF5TG9nZ2luZ0NoZWNrIiwicHJvb2ZPZlBsYXlMb2dnaW5nIiwibm9Mb2NhdGlvbiIsIm5vRGlzcGxheUNvZGUiLCJjdXN0b21lckRpc3BsYXlDb2RlIiwib25VcGRhdGVMb2NhdGlvbiIsImF1dG9HZW5lcmF0ZUN1c3RvbWVyRGlzcGxheUNvZGUiLCJuZXdEaXNwbGF5Q29kZSIsImN1c3RvbWVyRGlzcGxheU5hbWUiLCJsb2dnbHlGb3JVc2VyIiwidXNlckRvbWFpbiIsImdldFVzZXJFbWFpbCIsInNwbGl0Iiwib25DbGlja1JlZnJlc2hCdXR0b24iLCJjb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkiLCJvblJlZnJlc2hJc3N1ZXNTdWNjZXNzIiwib25SZWZyZXNoSXNzdWVzRmFpbHVyZSIsIl9nZXRJdGVyYXRvcjIiLCJfc2xpY2VkVG9BcnJheTIiLCJfamF2YXNjcmlwdE5hdHVyYWxTb3J0IiwiNjYwIiwiZGlzdHJpYnV0b3JLZXkiLCJkZXZpY2VzIiwiZGV2aWNlc1ByZXYiLCJkZXZpY2VzTmV4dCIsInNlbGVjdGVkQnV0dG9uIiwic2VyaWFsRGV2aWNlcyIsImRpc2FibGVkIiwibWFjRGV2aWNlcyIsImdjbWlkRGV2aWNlcyIsInVubWFuYWdlZFNlbGVjdGVkQnV0dG9uIiwidW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyIsInVubWFuYWdlZERpc2FibGVkIiwidW5tYW5hZ2VkRGV2aWNlc1ByZXYiLCJ1bm1hbmFnZWREZXZpY2VzTmV4dCIsInVubWFuYWdlZERldmljZXMiLCJ1bm1hbmFnZWRNYWNEZXZpY2VzIiwidW5tYW5hZ2VkR0NNaWREZXZpY2VzIiwiZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCIsImRldmljZXNUb01hdGNoT25NYW5hZ2VkIiwicmVmcmVzaE1hbmFnZWREZXZpY2VzIiwiZ2V0TWFuYWdlZERldmljZXMiLCJyZWZyZXNoVW5tYW5hZ2VkRGV2aWNlcyIsImdldFVubWFuYWdlZERldmljZXMiLCJjaGFuZ2VSYWRpbyIsInVubWFuYWdlZCIsInVubWFuYWdlZFNlYXJjaFRleHQiLCJzZWFyY2hUZXh0IiwiZWRpdEl0ZW0iLCJpdGVtIiwicHJlcGFyZUZvckVkaXRWaWV3IiwibWFjIiwic2VyaWFsIiwiZ2NtaWQiLCJjb250cm9sT3BlbkJ1dHRvbiIsImlzTWF0Y2giLCJ1bm1hbmFnZWREaXNhYmxlZEJ1dHRvbkxvYWRpbmciLCJkaXNhYmxlZEJ1dHRvbkxvYWRpbmciLCJpc1Jlc291cmNlVmFsaWQiLCJyZXNvdXJjZSIsImRldmljZXNUb01hdGNoT24iLCJmb3VuZE1hdGNoIiwic2VhcmNoRGV2aWNlcyIsInBhcnRpYWwiLCJidXR0b24iLCJieVRlbmFudCIsImRldmljZXNUb1JldHVybiIsImRldmljZXNQcm9taXNlIiwiZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3IiLCJnZXRGZXRjaFN1Y2Nlc3MiLCJnZXRGZXRjaEZhaWx1cmUiLCJ1bm1hbmFnZWREZXZpY2VzUHJvbWlzZSIsImdldFVubWFuYWdlZERldmljZXNCeURpc3RyaWJ1dG9yIiwiZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5IiwibWFuYWdlZCIsIjY2MSIsIkFkbWluU2VydmljZSIsIkRpc3RyaWJ1dG9yc1NlcnZpY2UiLCJwYXVsc0N1cnJlbnREaXN0cmlidXRvck5hbWUiLCJzZWFyY2hlZFRlbmFudHMiLCJ0ZW5hbnRTZWFyY2hNYXRjaCIsInRlbmFudFNlYXJjaERpc2FibGVkIiwibG9hZGluZ0Rpc2FibGVkIiwibWF0Y2hEZXZpY2UiLCJkaXN0cmlidXRvciIsImdsb2JhbGx5Iiwic2VhcmNoQWxsVGVuYW50c0J5TmFtZSIsInRlbmFudF9uYW1lIiwiaXNUZW5hbnRWYWxpZCIsImVhY2hOYW1lIiwic2VhcmNoTWF0Y2giLCJnZXRBbGxEaXN0cmlidXRvcnMiLCJsb2FkaW5nQWxsRGlzdHJpYnV0b3JzIiwiZ2V0QWxsRGlzdHJpYnV0b3JzUHJvbWlzZSIsImFsbERpc3RyaWJ1dG9ycyIsIm1ha2VEaXN0cmlidXRvciIsImRpc3RyaWJ1dG9yTmFtZSIsImFkbWluRW1haWwiLCJmb3JtIiwiYXJpYUxhYmVsIiwibWFrZURpc3RyaWJ1dG9yUHJvbWlzZSIsIiRzZXRQcmlzdGluZSIsIiRzZXRVbnRvdWNoZWQiLCJtZXNzYWdlIiwic2V0VGltZW91dCIsImFkZFVzZXJUb0Rpc3RyaWJ1dG9yIiwidXNlckVtYWlsIiwiZGlzdHJpYnV0b3JBZG1pbiIsIndoaWNoRGlzdHJpYnV0b3IiLCJ3aXRoT3JXaXRob3V0IiwiZGlzdHJpYnV0b3JzQXNBZG1pbiIsImFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZSIsInVzZXIiLCJnZXRVc2Vyc09mRGlzdHJpYnV0b3IiLCJzd2l0Y2hEaXN0cmlidXRvciIsImxvYWRpbmdVc2Vyc09mRGlzdHJpYnV0b3IiLCJjdXJyZW50RGlzdHJpYnV0b3JLZXkiLCJ1c2Vyc29mRGlzdHJpYnV0b3JQcm9taXNlIiwidXNlcnNPZkRpc3RyaWJ1dG9yIiwiaXNBZG1pbiIsImdldElzQWRtaW4iLCJnZXREaXN0cmlidXRvcnNBc0FkbWluIiwiY3VycmVudERpc3RyaWJ1dG9yTmFtZSIsImdldEN1cnJlbnREaXN0cmlidXRvck5hbWUiLCJlZGl0VGVuYW50IiwiNjYyIiwiaWRlbnRpdHkiLCJQcm9vZlBsYXlTZXJ2aWNlIiwib25Hb29nbGVQbHVzU2lnbkluU3VjY2VzcyIsImdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkIiwicmVtb3ZlVXNlckluZm8iLCJsb2dpbiIsImxvZ2luU3VjY2VzcyIsImxvZ2luRmFpbHVyZSIsIm9uR29vZ2xlUGx1c1NpZ25JbkZhaWx1cmUiLCJpbml0aWFsaXplU2lnbkluIiwiY2xpZW50SWQiLCJPQVVUSF9DTElFTlRfSUQiLCJTVEFURSIsImluaXRpYWxpemVTaWduT3V0IiwicHJvY2VlZFRvU2lnbmVkT3V0IiwicHJvY2VlZFRvU2lnbkluIiwib25DbGlja0dvb2dsZVBsdXNTaWduSW4iLCI2NjMiLCIkbWRTaWRlbmF2IiwiY3VycmVudERpc3RyaWJ1dGVySW5EaXN0cmlidXRlckFkbWluTGlzdCIsImdldElkZW50aXR5IiwiZ2V0VXNlcktleSIsImVtYWlsIiwiYWRtaW4iLCJkaXN0cmlidXRvcl9hZG1pbiIsImFkbWluX29mX2N1cnJlbnRfZGlzdHJpYnV0b3IiLCJpc0N1cnJlbnRVUkxEaXN0cmlidXRvclNlbGVjdG9yIiwic2VhcmNoIiwicmVzdWx0IiwidG9nZ2xlU2lkZW5hdiIsInRvZ2dsZSIsImdvVG8iLCJzdGF0ZU5hbWUiLCJpc09wZW4iLCJjbG9zZSIsIjY4NiIsImRpc3RyaWJ1dG9ycyIsImN1cnJlbnREaXN0cmlidXRvciIsImxvYWRpbmciLCJsb2VhZGluZyIsImRpc3RyaWJ1dG9yc1Byb21pc2UiLCJmZXRjaEFsbEJ5VXNlciIsInNlbGVjdERpc3RyaWJ1dG9yIiwiNjg3IiwiNjg4IiwiRG9tYWluc1NlcnZpY2UiLCJkb21haW5zIiwiZmV0Y2hBbGxEb21haW5zIiwiZG9tYWluS2V5IiwiZGVsZXRlSXRlbSIsInNob3dDYW5jZWxCdXR0b24iLCJjb25maXJtQnV0dG9uQ29sb3IiLCJjb25maXJtQnV0dG9uVGV4dCIsImNsb3NlT25Db25maXJtIiwiNjg5IiwiY3VycmVudERvbWFpbiIsImltcGVyc29uYXRpb25fYWRtaW5fZW1haWxfYWRkcmVzcyIsImRpc3RyaWJ1dG9yX2tleSIsIm9yZ2FuaXphdGlvbl91bml0X3BhdGgiLCJhY3RpdmUiLCJkZXZpY2VzQWNjZXNzIiwib3JnVW5pdHNBY2Nlc3MiLCJ1c2Vyc0FjY2VzcyIsImN1cnJlbnREb21haW5zIiwiZWRpdE1vZGUiLCJkb21haW5Qcm9taXNlIiwiZ2V0RG9tYWluQnlLZXkiLCJjb25uZWN0aXZpdHlQcm9taXNlIiwiZ2V0RGlyZWN0b3J5QXBpQ29ubmVjdGl2aXR5SW5mb3JtYXRpb24iLCJvblN1Y2Nlc3NEZXRlcm1pbmluZ0Nvbm5lY3Rpdml0eSIsIm9uRmFpbHVyZURldGVybWluaW5nQ29ubmVjdGl2aXR5IiwiZGV2aWNlc0FjY2Vzc0V4Y2VwdGlvbiIsIm9yZ1VuaXRzQWNjZXNzRXhjZXB0aW9uIiwidXNlcnNBY2Nlc3NFeGNlcHRpb24iLCJvblNhdmVEb21haW4iLCJvblN1Y2Nlc3NTYXZlRG9tYWluIiwib25GYWlsdXJlU2F2ZURvbWFpbiIsIjY5MCIsInJhZGlvQnV0dG9uQ2hvaWNlcyIsImdyb3VwMSIsImdyb3VwMiIsInNlbGVjdGlvbiIsImRhdGVUaW1lU2VsZWN0aW9uIiwiZW5kIiwiZm9ybVZhbGlkaXR5Iiwic3RhcnRfZGF0ZSIsImVuZF9kYXRlIiwibm9fY2FjaGUiLCJkaXNhYmxlZFRlbmFudCIsInNlbGVjdGVkX2xvY2F0aW9ucyIsImdldEFsbExvY2F0aW9ucyIsImhhZF9zb21lX2l0ZW1zIiwicmVmcmVzaExvY2F0aW9ucyIsInNlbGVjdGVkSXRlbSIsImFkZFRvU2VsZWN0ZWRMb2NhdGlvbnMiLCJpc0xvY2F0aW9uVmFsaWQiLCJzcGxpY2UiLCJhcmVMb2NhdGlvbnNWYWxpZCIsImlzRGlzYWJsZWQiLCJxdWVyeVNlYXJjaCIsImlzUmFkaW9WYWxpZCIsIl9faW5fXyIsImlzU3RhcnREYXRlVmFsaWQiLCJEYXRlIiwiaXNFbmREYXRlVmFsaWQiLCJyZW1vdmVGcm9tU2VsZWN0ZWRMb2NhdGlvbiIsInN0YXJ0X2RhdGVfdW5peCIsImVuZF9kYXRlX3VuaXgiLCJzdWJtaXQiLCJkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2UiLCJkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zU3VtbWFyaXplZCIsInRlbmFudHMiLCJjdXJyZW50VGVuYW50IiwiaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0IiwiZ2V0QWxsVGVuYW50cyIsInJlc291cmNlcyIsImlzU2VsZWN0aW9uVmFsaWQiLCJzdWJtaXRUZW5hbnQiLCJuZWVkbGUiLCJoYXlzdGFjayIsIjY5MSIsImRpc3BsYXlzIiwic2VsZWN0ZWRfZGlzcGxheXMiLCJnZXRBbGxEaXNwbGF5cyIsInJlZnJlc2hEaXNwbGF5cyIsImFkZFRvU2VsZWN0ZWREaXNwbGF5cyIsImlzRGlzcGxheVZhbGlkIiwiYXJlRGlzcGxheXNWYWxpZCIsInJlbW92ZUZyb21TZWxlY3RlZERpc3BsYXkiLCJkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZSIsImRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzU3VtbWFyaXplZCIsIjY5MiIsInNlbGVjdGVkX3Jlc291cmNlcyIsImdldEFsbFJlc291cmNlcyIsImZ1bGxfcmVzb3VyY2VfbWFwIiwicmVzb3VyY2VfbmFtZSIsInJlZnJlc2hSZXNvdXJjZXMiLCJhZGRUb1NlbGVjdGVkUmVzb3VyY2VzIiwiYXJlUmVzb3VyY2VzVmFsaWQiLCJyZW1vdmVGcm9tU2VsZWN0ZWRSZXNvdXJjZSIsInJlc291cmNlc19hc19pZHMiLCJkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEZXZpY2UiLCJkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlIiwiNjkzIiwiY2hvc2VuX3RlbmFudCIsInJlZnJlc2hUZW5hbnRzIiwibWFrZUhUVFBVUkwiLCI2OTQiLCIkIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9jbGFzc0NhbGxDaGVjazMiLCJfY3JlYXRlQ2xhc3MyIiwiX2NyZWF0ZUNsYXNzMyIsIlJlc3Rhbmd1bGFyIiwidGVuYW50X3VybHNhZmVfa2V5Iiwib25lVXJsIiwiZ2V0TGlzdCIsImZvcm1EYXRhIiwiYWpheCIsInVybCIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJpbWFnZV91cmxzYWZlX2tleSIsInJlbW92ZSIsIjcwMCIsIlVTRVJfU0VSVklDRSIsIkRJU1RSSUJVVE9SX1NFUlZJQ0UiLCJhZG1pbl9lbWFpbCIsInBheWxvYWQiLCJjdXN0b21QT1NUIiwidXNlcl9lbWFpbCIsIjcwMSIsIkF1dGhvcml6YXRpb25TZXJ2aWNlIiwiJHEiLCJkZWZlcnJlZCIsImRlZmVyIiwidXNlcktleSIsInJlamVjdCIsImhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluIiwiNzAyIiwiU0VSVklDRV9OQU1FIiwiY3VzdG9tUFVUIiwiNzAzIiwiaXNNb21lbnQiLCJkYXlzQmFjayIsInN0YXJ0VGltZU1pZE5pZ2h0Iiwic3RhcnRUaW1lRW5kT2ZEYXkiLCJlbmRUaW1lTWlkTmlnaHQiLCI3MDQiLCIkaHR0cCIsInVyaUJhc2UiLCJtYWNBZGRyZXNzIiwiZGljdGlvbmFyeSIsInJlc3VsdHMiLCJwYXJ0aWFsU2VhcmNoIiwiX3RoaXMiLCJzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsQnlUZW5hbnQiLCJpc01hYyIsImlzR0NNaWQiLCJzZXJpYWxEZXZpY2VzRGljdCIsImNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoiLCJkZXZpY2VTZXJpYWxzT25seSIsInJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZSIsIl90aGlzMiIsInNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWwiLCJzZXJpYWxEZXZpY2VzT25seSIsIl90aGlzMyIsInNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxHbG9iYWxseSIsIl90aGlzNCIsInNlYXJjaERldmljZXNCeVBhcnRpYWxNYWNCeVRlbmFudCIsIm1hY0RldmljZXNEaWN0IiwiZGV2aWNlTWFjc09ubHkiLCJfdGhpczUiLCJzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjIiwiX3RoaXM2Iiwic2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0dsb2JhbGx5IiwiX3RoaXM3Iiwic2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCIsImdjbWlkRGV2aWNlc0RpY3QiLCJnY21pZERldmljZXNPbmx5IiwiX3RoaXM4Iiwic2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQiLCJHQ01pZERldmljZXNEaWN0IiwiX3RoaXM5Iiwic2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRHbG9iYWxseSIsImRldmljZURlZmVycmVkIiwiZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxHbG9iYWxseSIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlUZW5hbnQiLCJleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5RGlzdHJpYnV0b3IiLCJleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0dsb2JhbGx5IiwiZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvciIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRHbG9iYWxseSIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeVRlbmFudCIsImV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeURpc3RyaWJ1dG9yIiwicmVqZWN0ZWRQcm9taXNlIiwiZGV2aWNlc1Jlc3VsdCIsInRoZUFycmF5IiwiZ2NtIiwic3RhcnRFcG9jaCIsImVuZEVwb2NoIiwibWFrZURldmljZXNCeVRlbmFudFVSTCIsInBhcnRpYWxfc2VyaWFsIiwicGFydGlhbF9tYWMiLCJwYXJ0aWFsX2djbWlkIiwibWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMIiwiYWxsIiwicHV0IiwiZGV2aWNlX3VybHNhZmVfa2V5Iiwib25lIiwiZGlzcGxheU5hbWUiLCI3MDUiLCJkb0dFVCIsImVudGl0eSIsInNldEN1cnJlbnREaXN0cmlidXRvck5hbWUiLCJzZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkiLCI3MDYiLCJkb21haW4iLCI3MDciLCJJZGVudGl0eVNlcnZpY2UiLCI3MDgiLCJDUkVBVEVfVEVOQU5UX0VWRU5UUyIsIkVOUk9MTE1FTlRfRVZFTlRTIiwicXVlcnkiLCJjdXN0b21HRVQiLCI3MDkiLCJjdXN0b21lcl9sb2NhdGlvbl9uYW1lIiwiY3VzdG9tR0VUTElTVCIsIjcxMCIsIm5nUHJvZ3Jlc3NGYWN0b3J5IiwicHJvZ3Jlc3NCYXIiLCI3MTEiLCJtYWtlSFRUUFJlcXVlc3QiLCJiaW5kIiwid2hlcmVfdG9fZ28iLCJhbGxSZXNvdXJjZXMiLCJvcGVuIiwiYWxsRGV2aWNlcyIsImFsbExvY2F0aW9ucyIsImxvd2VyY2FzZSIsImZpbHRlciIsImNyZWF0ZUZpbHRlckZvciIsIjcxMiIsIl9qd3REZWNvZGUiLCJfand0RGVjb2RlMiIsImNyZWRlbnRpYWxzIiwiaWRfdG9rZW4iLCJtZXRob2QiLCJ0b2tlbiIsInNldERpc3RyaWJ1dG9ycyIsInNldERpc3RyaWJ1dG9yc0FzQWRtaW4iLCJzZXRJc0FkbWluIiwic2V0VXNlckVtYWlsIiwic2V0VXNlcktleSIsInJlbW92ZUFsbCIsIjcxNiIsIl9sb2NrciIsIl9sb2NrcjIiLCJybSIsImZsdXNoIiwiNzE4IiwicGFnZV9zaXplIiwib2Zmc2V0IiwiNzE5IiwiNzIwIiwidG9hc3RyIiwiYXJndW1lbnRzIiwiNzIxIiwiVmVyc2lvbnNTZXJ2aWNlIiwiNzIyIiwidGFiSW5kZXgiLCJnZXRUZW5hbnRDcmVhdGVFdmVudHMiLCJ0ZW5hbnRDcmVhdGVFdmVudHMiLCJ0b1RhYiIsImZyb21UYWIiLCI3MjMiLCJvblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlT3ZlcmxheXMiLCJnZXRUZW5hbnQiLCJjdXJyZW50VGVuYW50Q29weSIsInVwZGF0ZU92ZXJsYXlQcm9taXNlRGVmZXJyZWQiLCJ1cGRhdGVPdmVybGF5UHJvbWlzZSIsImFwcGx5VGVuYW50T3ZlcmxheSIsIm92ZXJsYXlBcHBseVRlbmFudCIsImN1cnJlbnRUZW5hbnRDb3B5T3ZlcmxheXMiLCJzdWJtaXRJbWFnZSIsInNlbGVjdGVkTG9nbyIsIkZvcm1EYXRhIiwidmFsaWRGaWxlIiwibGZGaWxlIiwiZmlsZUFwaSIsInNhdmVJbWFnZSIsImdldFRlbmFudEltYWdlc0FuZFJlbG9hZFRlbmFudEFmdGVyRGVsZXRlIiwidGVuYW50SW1hZ2VQcm9taXNlIiwiZGVsZXRlSW1hZ2UiLCJzaG93RXJyb3JTdGF0dXMiLCJkZWZhdWx0X3RpbWV6b25lIiwib3ZlcmxheXNVcGRhdGVJblByb2dyZXNzIiwiNzI0IiwiZ2FtZVN0b3BTZXJ2ZXIiLCJ0ZW5hbnRfY29kZSIsImNvbnRlbnRfc2VydmVyX3VybCIsImNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybCIsImRvbWFpbl9rZXkiLCJub3RpZmljYXRpb25fZW1haWxzIiwicHJvb2Zfb2ZfcGxheV9sb2dnaW5nIiwicHJvb2Zfb2ZfcGxheV91cmwiLCJvdV9jcmVhdGUiLCJzZWxlY3RlZERvbWFpbiIsImRpc3RyaWJ1dG9yRG9tYWlucyIsImRpc3RyaWJ1dG9yUHJvbWlzZSIsImdldEJ5S2V5IiwiY29udGVudF9tYW5hZ2VyX3VybCIsInBsYXllcl9jb250ZW50X3VybCIsImRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZSIsImdldERvbWFpbnNCeUtleSIsIm9uQ2xpY2tTYXZlQnV0dG9uIiwib25TdWNjZXNzVGVuYW50U2F2ZSIsIm9uRmFpbHVyZVRlbmFudFNhdmUiLCJlcnJvck9iamVjdCIsImF1dG9HZW5lcmF0ZVRlbmFudENvZGUiLCJuZXdUZW5hbnRDb2RlIiwiNzI1Iiwic2hvd0NkbUluZm8iLCJlbnJvbGxtZW50X2VtYWlsIiwiZW5yb2xsbWVudF9wYXNzd29yZCIsIjcyNiIsImxvY2F0aW9uUHJvbWlzZSIsImdldExvY2F0aW9uQnlLZXkiLCJsb2NhdGlvbk5hbWUiLCJjdXN0b21lckxvY2F0aW9uTmFtZSIsImZldGNoVGVuYW50TmFtZSIsIm9uU3VjY2Vzc1VwZGF0aW5nTG9jYXRpb24iLCJvbkZhaWx1cmVTYXZpbmdMb2NhdGlvbiIsIm9uU3VjY2Vzc1NhdmluZ0xvY2F0aW9uIiwidGVuYW50X2tleSIsInRlbmFudE5hbWUiLCJhdXRvR2VuZXJhdGVDdXN0b21lckxvY2F0aW9uQ29kZSIsIm5ld0N1c3RvbWVyTG9jYXRpb25Db2RlIiwiY3VzdG9tZXJMb2NhdGlvbkNvZGUiLCI3MjciLCJzZWFyY2hEaXNhYmxlZCIsImdldExvY2F0aW9ucyIsImdldExvY2F0aW9uc0J5VGVuYW50S2V5UGFnaW5hdGVkIiwic2VhcmNoQWxsVGVuYW50TG9jYXRpb25zQnlOYW1lIiwic2VhcmNoZWRUZW5hbnRMb2NhdGlvbnMiLCJpc1RlbmFudExvY2F0aW9uVmFsaWQiLCJlYWNoTG9jYXRpb25OYW1lIiwiNzI4IiwidGVuYW50RGV2aWNlcyIsImdldERldmljZXNCeVRlbmFudCIsInJlZnJlc2hEZXZpY2VzIiwicHJlcHJhdGVGb3JFZGl0VmlldyIsIjcyOSIsImdldFVubWFuYWdlZERldmljZXNCeVRlbmFudCIsIjczMCIsImdldFRlbmFudHNQYWdpbmF0ZWQiLCJmZXRjaEFsbFRlbmFudHNQYWdpbmF0ZWQiLCJ0b3RhbCIsImlzX2ZpcnN0X3BhZ2UiLCJpc19sYXN0X3BhZ2UiLCI3MzEiLCJ2ZXJzaW9uX2RhdGEiLCJjYXBpdGFsaXplRmlyc3RMZXR0ZXIiLCJzdHJpbmciLCJ0b1VwcGVyQ2FzZSIsImdpdmVPcHRpb25Ub0NoYW5nZURpc3RyaWJ1dG9yIiwiaGFzX211bHRpcGxlX2Rpc3RyaWJ1dG9ycyIsImNoYW5nZURpc3RyaWJ1dG9yIiwiZ2V0VmVyc2lvbiIsImdldFZlcnNpb25zIiwiNzMyIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJSZXN0YW5ndWxhclByb3ZpZGVyIiwibm90QXV0aGVudGljYXRlZCIsImF1dGhlbnRpY2F0ZWQiLCJmdW5jdGlvbiIsImlzQWRtaW5PckRpc3RyaWJ1dG9yQWRtaW4iLCJvdGhlcndpc2UiLCJzZXRCYXNlVXJsIiwiYWRkUmVzcG9uc2VJbnRlcmNlcHRvciIsIm9wZXJhdGlvbiIsInJlc291cmNlVHlwZSIsInNldFJlc3Rhbmd1bGFyRmllbGRzIiwiNzMzIiwiJGluamVjdG9yIiwic3RhdGVDaGFuZ2VXYXRjaCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJyZXF1ZXN0SW50ZXJjZXB0b3IiLCJhZGRSZXF1ZXN0SW50ZXJjZXB0b3IiLCJlbGVtIiwid2hhdCIsImF1dGhUb2tlbiIsInNldERlZmF1bHRIZWFkZXJzIiwiNzM0IiwiY2xvc2VCdXR0b24iLCJ0YXBUb0Rpc21pc3MiLCJuZXdlc3RPblRvcCIsInBvc2l0aW9uQ2xhc3MiLCJ0aW1lT3V0IiwiJGJyZWFkY3J1bWJQcm92aWRlciJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsSUFFUkMsRUFDQSxTQUFTQyxFQUFRQyxRQUFTQyxHQUUvQkEsRUFBb0IsSUFDcEJGLEVBQU9DLFFBQVVDLEVBQW9CLE1BS2hDQyxJQUNBLFNBQVNILEVBQVFDLFFBQVNDLEdDWmhDLFlBc0lBLFNBQVNFLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBdEl2RixHQUFBRyxHQUFBTixFQUFBLEtBRUFPLEVBQUFQLEVBQUEsS0FDQVEsRUFBQVIsRUFBQSxLQUNBUyxFQUFBVCxFQUFBLEtBRUFVLEVBQUFWLEVBQUEsS0FFQVcsRUFBQVgsRUFBQSxLQUVBWSxFQUFBWixFQUFBLEtBRUFhLEVBQUFiLEVBQUEsS0FDQWMsRUFBQWQsRUFBQSxLQUVBZSxFQUFBZixFQUFBLEtBQ0FnQixFQUFBaEIsRUFBQSxLQUVBaUIsRUFBQWpCLEVBQUEsS0FDQWtCLEVBQUFsQixFQUFBLEtBQ0FtQixFQUFBbkIsRUFBQSxLQUNBb0IsRUFBQXBCLEVBQUEsS0FFQXFCLEVBQUFyQixFQUFBLEtBV0lzQixFQUFVcEIsRUFBdUJtQixHQVZyQ0UsRUFBQXZCLEVBQUEsS0FjSXdCLEVBQVV0QixFQUF1QnFCLEdBYnJDRSxFQUFBekIsRUFBQSxLQWlCSTBCLEVBQWtCeEIsRUFBdUJ1QixHQWhCN0NFLEVBQUEzQixFQUFBLEtBb0JJNEIsRUFBYTFCLEVBQXVCeUIsR0FuQnhDRSxFQUFBN0IsRUFBQSxLQXVCSThCLEVBQXFCNUIsRUFBdUIyQixHQXRCaERFLEVBQUEvQixFQUFBLEtBMEJJZ0MsRUFBWTlCLEVBQXVCNkIsR0F6QnZDRSxFQUFBakMsRUFBQSxLQTZCSWtDLEVBQWlCaEMsRUFBdUIrQixHQTVCNUNFLEVBQUFuQyxFQUFBLEtBZ0NJb0MsRUFBWWxDLEVBQXVCaUMsR0EvQnZDRSxFQUFBckMsRUFBQSxLQW1DSXNDLEVBQWFwQyxFQUF1Qm1DLEdBbEN4Q0UsRUFBQXZDLEVBQUEsS0FzQ0l3QyxFQUFzQnRDLEVBQXVCcUMsR0FyQ2pERSxFQUFBekMsRUFBQSxLQXlDSTBDLEVBQWN4QyxFQUF1QnVDLEdBeEN6Q0UsRUFBQTNDLEVBQUEsS0E0Q0k0QyxFQUFnQjFDLEVBQXVCeUMsR0EzQzNDRSxFQUFBN0MsRUFBQSxLQStDSThDLEVBQWM1QyxFQUF1QjJDLEdBOUN6Q0UsRUFBQS9DLEVBQUEsS0FrRElnRCxFQUFhOUMsRUFBdUI2QyxHQWpEeENFLEVBQUFqRCxFQUFBLEtBcURJa0QsRUFBWWhELEVBQXVCK0MsR0FwRHZDRSxFQUFBbkQsRUFBQSxLQXdESW9ELEVBQVlsRCxFQUF1QmlELEdBdkR2Q0UsRUFBQXJELEVBQUEsS0EyRElzRCxFQUFjcEQsRUFBdUJtRCxHQTFEekNFLEVBQUF2RCxFQUFBLEtBOERJd0QsR0FBV3RELEVBQXVCcUQsR0E3RHRDRSxHQUFBekQsRUFBQSxLQWlFSTBELEdBQWF4RCxFQUF1QnVELElBL0R4Q0UsR0FBQTNELEVBQUEsS0FDQTRELEdBQUE1RCxFQUFBLEtBQ0E2RCxHQUFBN0QsRUFBQSxLQUNBOEQsR0FBQTlELEVBQUEsS0FDQStELEdBQUEvRCxFQUFBLEtBQ0FnRSxHQUFBaEUsRUFBQSxLQUNBaUUsR0FBQWpFLEVBQUEsS0FDQWtFLEdBQUFsRSxFQUFBLEtBQ0FtRSxHQUFBbkUsRUFBQSxLQUVBb0UsR0FBQXBFLEVBQUEsS0FFQXFFLEdBQUFyRSxFQUFBLEtBQ0FzRSxHQUFBdEUsRUFBQSxLQUNBdUUsR0FBQXZFLEVBQUEsSUFHQU0sR0FBQWtFLElBRUdDLFFBQVEsaUJBRlh2QixjQUdHdUIsUUFBUSxlQUhYakQsY0FJR2lELFFBQVEsdUJBSlgvQyxjQUtHK0MsUUFBUSxrQkFMWDdDLGNBTUc2QyxRQUFRLDBCQU5YM0MsY0FPRzJDLFFBQVEsaUJBUFh6QyxjQVFHeUMsUUFBUSxzQkFSWHZDLGNBU0d1QyxRQUFRLGlCQVRYckMsY0FVR3FDLFFBQVEsa0JBVlhuQyxjQVdHbUMsUUFBUSxvQkFYWGpDLGNBWUdpQyxRQUFRLG1CQVpYL0IsY0FhRytCLFFBQVEscUJBYlg3QixjQWNHNkIsUUFBUSxtQkFkWDNCLGNBZUcyQixRQUFRLGtCQWZYekIsY0FnQkd5QixRQUFRLGlCQWhCWHJCLGNBaUJHcUIsUUFBUSxtQkFqQlhuQixjQWtCR21CLFFBQVEsZ0JBbEJYakIsZUFtQkdpQixRQUFRLGtCQW5CWGYsZUFvQkdlLFFBQVEsZUFwQlhuRCxjQXNCR29ELFdBQVcsNEJBdEJkbkUsRUFBQW9FLDJCQXVCR0QsV0FBVyxvQkF2QmRsRSxFQUFBb0UsbUJBd0JHRixXQUFXLHFCQXhCZGpFLEVBQUFvRSxvQkEwQkdILFdBQVcsWUExQmRoRSxFQUFBb0UsV0E0QkdKLFdBQVcscUJBNUJkL0QsRUFBQW9FLG9CQThCR0wsV0FBVyxnQkE5QmQ5RCxFQUFBb0UsZUFnQ0dOLFdBQVcsMEJBaENkN0QsRUFBQW9FLHlCQWlDR1AsV0FBVyxtQkFqQ2Q1RCxFQUFBb0Usa0JBbUNHUixXQUFXLGNBbkNkM0QsRUFBQW9FLGFBb0NHVCxXQUFXLG9CQXBDZDFELEVBQUFvRSxtQkFzQ0dWLFdBQVcsK0JBdENkekQsRUFBQW9FLDhCQXVDR1gsV0FBVyw4QkF2Q2R4RCxFQUFBb0UsNkJBd0NHWixXQUFXLCtCQXhDZHZELEVBQUFvRSw4QkF5Q0diLFdBQVcsa0JBekNkdEQsRUFBQW9FLGlCQTJDR2QsV0FBVyxpQkEzQ2RmLEdBQUE4QixnQkE0Q0dmLFdBQVcscUJBNUNkZCxHQUFBOEIsb0JBNkNHaEIsV0FBVyxnQkE3Q2RiLEdBQUE4QixlQThDR2pCLFdBQVcsb0JBOUNkWixHQUFBOEIsbUJBK0NHbEIsV0FBVyxxQkEvQ2RYLEdBQUE4QixvQkFnREduQixXQUFXLHNCQWhEZFYsR0FBQThCLHFCQWlER3BCLFdBQVcsMkJBakRkVCxHQUFBOEIsMEJBa0RHckIsV0FBVyw2QkFsRGRSLEdBQUE4Qiw0QkFtREd0QixXQUFXLGNBbkRkUCxHQUFBOEIsYUFxREd2QixXQUFXLGNBckRkTixHQUFBOEIsYUF1REdDLElBdkRIN0IsR0FBQThCLFFBeURHQyxPQXpESGhDLEdBQUFpQyxRQTBER0QsT0ExREg5QixHQUFBZ0MsY0EyREdGLE9BM0RIOUIsR0FBQWlDLG9CQThEQWxHLEVBQUFrRSxJQUFJQyxRQUFRLG1EQUFzQixTQUFVZ0MsRUFBZ0JDLEdBQzFELFVBQ0EsSUFBSUMsSUFDRkMsUUFEZ0IsU0FDUlAsR0FDTixHQUFJUSxHQUFLLGdDQUNMQyxFQUFPLCtCQVdYLE9BVkFULEdBQU9VLFNBQ0xDLGVBQWdCLG1CQUNoQkMsT0FBVSxtQkFDVkMsSUFBT1QsRUFBZVUsSUFBSSxPQUMxQkMsTUFBU1gsRUFBZVUsSUFBSSxTQUM1QkUsY0FBaUJYLEVBQVVZLE9BQU9DLFFBQVEsNEJBQWdDVixFQUFLQyxFQUMvRVUsc0JBQXVCZixFQUFlVSxJQUFJLFdBQzFDTSxpQ0FBa0NoQixFQUFlVSxJQUFJLGFBQ3JETyw2QkFBOEJqQixFQUFlVSxJQUFJLDBCQUU1Q2QsR0FHWCxPQUFPTSxNQUlUckcsRUFBQWtFLElBQUk2Qix3QkFBTyxTQUFBc0IsR0FBQSxNQUFpQkEsR0FBY0MsYUFBYUMsS0FBSywwQkRrRnREQyxJQUNBLFNBQVNoSSxFQUFRQyxRQUFTQyxHRXBPaEMsWUFtRkEsU0FBU0UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FqRnZGNEgsT0FBT0MsZUFBZWpJLFFBQVMsY0FDN0JrSSxPQUFPLElBRVRsSSxRQUFReUUsSUFBTTBELE1BTGQsSUFBQUMsR0FBQW5JLEVBQUEsS0FTSW9JLEVBQVlsSSxFQUF1QmlJLEdBUnZDRSxFQUFBckksRUFBQSxLQVlJc0ksRUFBb0JwSSxFQUF1Qm1JLEdBWC9DRSxFQUFBdkksRUFBQSxJQWVlRSxHQUF1QnFJLEVBZHRDdkksR0FBQSxLQUNBQSxFQUFBLEtBQ0FBLEVBQUEsS0FDQUEsRUFBQSxLQUNBQSxFQUFBLEtBQ0FBLEVBQUEsS0FDQUEsRUFBQSxLQUNBQSxFQUFBLEtBQ0FBLEVBQUEsS0FDQUEsRUFBQSxLQUNBQSxFQUFBLEtBQ0FBLEVBQUEsS0FDQUEsRUFBQSxLQUNBQSxFQUFBLEtBQ0FBLEVBQUEsS0FDQUEsRUFBQSxLQUNBQSxFQUFBLEtBQ0FBLEVBQUEsS0FDQUEsRUFBQSxLQUNBQSxFQUFBLEtBRUFBLEVBQUEsS0FDQUEsRUFBQSxLQUNBQSxFQUFBLEtBQ0FBLEVBQUEsS0FDQUEsRUFBQSxLQUNBQSxFQUFBLEtBR0FBLEVBQUEsS0FFQUEsRUFBQSxLQUNBQSxFQUFBLEtBQ0FBLEVBQUEsSUFDQSxJQUFBd0ksR0FBQXhJLEVBQUEsS0E0Q0l5SSxFQUFXdkksRUFBdUJzSSxFQTNDdENFLFFBQU9DLEVBQVBGLGFBQ0FDLE9BQU9FLFFBQVBSLFlBR1c1RCxhQUFNNEQsYUFBUXRJLE9BQU8sc0JBQXNCd0ksYUFFcEQsWUFDQSxpQkFDQSxZQUNBLGFBQ0EsY0FDQSxlQUNBLHVCQUNBLGNBQ0EseUJBQ0EscUJBQ0EsYUFDQSxhQUNBLGNBQ0EsU0FDQSxxQkYyUUlPLElBQ0EsU0FBUy9JLEVBQVFDLFFBQVNDLEdHcEhoQyxRQUFBOEksR0FBQUMsR0FDQSxNQUFBL0ksR0FBQWdKLEVBQUFELElBRUEsUUFBQUMsR0FBQUQsR0FDQSxNQUFBRSxHQUFBRixJQUFBLFdBQWlDLFNBQUFHLE9BQUEsdUJBQUFILEVBQUEsU0F0TmpDLEdBQUFFLElBQ0FFLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxhQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLFVBQUEsSUFDQUMsYUFBQSxJQUNBQyxPQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxVQUFBLElBQ0FDLGFBQUEsSUFDQUMsVUFBQSxJQUNBQyxPQUFBLElBQ0FD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dGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzBdLHtcblxuLyoqKi8gMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oNzApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzY3KTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAzNjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2FwcCA9IF9fd2VicGFja19yZXF1aXJlX18oMzY4KTtcblx0XG5cdHZhciBfZGV2aWNlRGV0YWlsQ29tbWFuZCA9IF9fd2VicGFja19yZXF1aXJlX18oNjQ4KTtcblx0XG5cdHZhciBfZGV2aWNlRGV0YWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNjQ5KTtcblx0XG5cdHZhciBfZGV2aWNlc0xpc3RpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2MCk7XG5cdFxuXHR2YXIgX2FkbWluQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjYxKTtcblx0XG5cdHZhciBfYXV0aGVudGljYXRpb25Db250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NjIpO1xuXHRcblx0dmFyIF9hcHBDb250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NjMpO1xuXHRcblx0dmFyIF9kaXN0cmlidXRvclNlbGVjdG9yQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjg2KTtcblx0XG5cdHZhciBfZGlzdHJpYnV0b3JzQ29udHJvbGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjg3KTtcblx0XG5cdHZhciBfZG9tYWlucyA9IF9fd2VicGFja19yZXF1aXJlX18oNjg4KTtcblx0XG5cdHZhciBfZG9tYWluRGV0YWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNjg5KTtcblx0XG5cdHZhciBfbXVsdGlMb2NhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNjkwKTtcblx0XG5cdHZhciBfbXVsdGlEaXNwbGF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTEpO1xuXHRcblx0dmFyIF9tdWx0aVJlc291cmNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTIpO1xuXHRcblx0dmFyIF9wcm9vZk9mUGxheSA9IF9fd2VicGFja19yZXF1aXJlX18oNjkzKTtcblx0XG5cdHZhciBfaW1hZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5NCk7XG5cdFxuXHR2YXIgX2ltYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ltYWdlKTtcblx0XG5cdHZhciBfYWRtaW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMCk7XG5cdFxuXHR2YXIgX2FkbWluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkbWluKTtcblx0XG5cdHZhciBfYXV0aG9yaXphdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAxKTtcblx0XG5cdHZhciBfYXV0aG9yaXphdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hdXRob3JpemF0aW9uKTtcblx0XG5cdHZhciBfY29tbWFuZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwMik7XG5cdFxuXHR2YXIgX2NvbW1hbmRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbW1hbmRzKTtcblx0XG5cdHZhciBfZGF0ZW1hbmlwdWxhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzAzKTtcblx0XG5cdHZhciBfZGF0ZW1hbmlwdWxhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlbWFuaXB1bGF0aW9uKTtcblx0XG5cdHZhciBfZGV2aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzA0KTtcblx0XG5cdHZhciBfZGV2aWNlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXZpY2VzKTtcblx0XG5cdHZhciBfZGlzdHJpYnV0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDUpO1xuXHRcblx0dmFyIF9kaXN0cmlidXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGlzdHJpYnV0b3JzKTtcblx0XG5cdHZhciBfZG9tYWluczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNik7XG5cdFxuXHR2YXIgX2RvbWFpbnMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tYWluczIpO1xuXHRcblx0dmFyIF9pZGVudGl0eSA9IF9fd2VicGFja19yZXF1aXJlX18oNzA3KTtcblx0XG5cdHZhciBfaWRlbnRpdHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWRlbnRpdHkpO1xuXHRcblx0dmFyIF9pbnRlZ3JhdGlvbkV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzA4KTtcblx0XG5cdHZhciBfaW50ZWdyYXRpb25FdmVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW50ZWdyYXRpb25FdmVudHMpO1xuXHRcblx0dmFyIF9sb2NhdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwOSk7XG5cdFxuXHR2YXIgX2xvY2F0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2NhdGlvbnMpO1xuXHRcblx0dmFyIF9wcm9ncmVzc2JhciA9IF9fd2VicGFja19yZXF1aXJlX18oNzEwKTtcblx0XG5cdHZhciBfcHJvZ3Jlc3NiYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvZ3Jlc3NiYXIpO1xuXHRcblx0dmFyIF9wcm9vZnBsYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxMSk7XG5cdFxuXHR2YXIgX3Byb29mcGxheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9vZnBsYXkpO1xuXHRcblx0dmFyIF9zZXNzaW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNzEyKTtcblx0XG5cdHZhciBfc2Vzc2lvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2Vzc2lvbnMpO1xuXHRcblx0dmFyIF9zdG9yYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTYpO1xuXHRcblx0dmFyIF9zdG9yYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0b3JhZ2UpO1xuXHRcblx0dmFyIF90ZW5hbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTgpO1xuXHRcblx0dmFyIF90ZW5hbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RlbmFudHMpO1xuXHRcblx0dmFyIF90aW1lem9uZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxOSk7XG5cdFxuXHR2YXIgX3RpbWV6b25lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW1lem9uZXMpO1xuXHRcblx0dmFyIF90b2FzdHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyMCk7XG5cdFxuXHR2YXIgX3RvYXN0czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b2FzdHMpO1xuXHRcblx0dmFyIF92ZXJzaW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNzIxKTtcblx0XG5cdHZhciBfdmVyc2lvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmVyc2lvbnMpO1xuXHRcblx0dmFyIF90ZW5hbnRMb2dzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjIpO1xuXHRcblx0dmFyIF90ZW5hbnRPdmVybGF5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzIzKTtcblx0XG5cdHZhciBfdGVuYW50QWRkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjQpO1xuXHRcblx0dmFyIF90ZW5hbnREZXRhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjUpO1xuXHRcblx0dmFyIF90ZW5hbnRMb2NhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzI2KTtcblx0XG5cdHZhciBfdGVuYW50TG9jYXRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjcpO1xuXHRcblx0dmFyIF90ZW5hbnRNYW5hZ2VkRGV2aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzI4KTtcblx0XG5cdHZhciBfdGVuYW50VW5tYW5hZ2VkRGV2aWNlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNzI5KTtcblx0XG5cdHZhciBfdGVuYW50czMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczMCk7XG5cdFxuXHR2YXIgX3dlbGNvbWVDb250cm9sbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzEpO1xuXHRcblx0dmFyIF9hcHBSb3V0ZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDczMik7XG5cdFxuXHR2YXIgX2FwcFJ1biA9IF9fd2VicGFja19yZXF1aXJlX18oNzMzKTtcblx0XG5cdHZhciBfYXBwQ29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vIFdlbGNvbWVcblx0XG5cdC8vIFNlcnZpY2VzXG5cdFxuXHQvLyBQcm9vZlBsYXlcblx0XG5cdC8vIERvbWFpbnNcblx0XG5cdC8vIERpc3RyaWJ1dG9yc1xuXHRcblx0Ly8gQXV0aGVudGljYXRpb25cblx0XG5cdC8vIERldmljZVxuXHRfYXBwLmFwcFxuXHQvLyBTZXJ2aWNlc1xuXHQuc2VydmljZShcIlN0b3JhZ2VTZXJ2aWNlXCIsIF9zdG9yYWdlMi5kZWZhdWx0KS5zZXJ2aWNlKFwiQWRtaW5TZXJ2aWNlXCIsIF9hZG1pbjIuZGVmYXVsdCkuc2VydmljZShcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIF9hdXRob3JpemF0aW9uMi5kZWZhdWx0KS5zZXJ2aWNlKFwiQ29tbWFuZHNTZXJ2aWNlXCIsIF9jb21tYW5kczIuZGVmYXVsdCkuc2VydmljZShcIkRhdGVNYW5pcHVsYXRpb25TZXJ2aWNlXCIsIF9kYXRlbWFuaXB1bGF0aW9uMi5kZWZhdWx0KS5zZXJ2aWNlKFwiRGV2aWNlc1NlcnZpY2VcIiwgX2RldmljZXMyLmRlZmF1bHQpLnNlcnZpY2UoXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCIsIF9kaXN0cmlidXRvcnMyLmRlZmF1bHQpLnNlcnZpY2UoXCJEb21haW5zU2VydmljZVwiLCBfZG9tYWluczMuZGVmYXVsdCkuc2VydmljZShcIklkZW50aXR5U2VydmljZVwiLCBfaWRlbnRpdHkyLmRlZmF1bHQpLnNlcnZpY2UoXCJJbnRlZ3JhdGlvbkV2ZW50c1wiLCBfaW50ZWdyYXRpb25FdmVudHMyLmRlZmF1bHQpLnNlcnZpY2UoXCJMb2NhdGlvbnNTZXJ2aWNlXCIsIF9sb2NhdGlvbnMyLmRlZmF1bHQpLnNlcnZpY2UoXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgX3Byb2dyZXNzYmFyMi5kZWZhdWx0KS5zZXJ2aWNlKFwiUHJvb2ZQbGF5U2VydmljZVwiLCBfcHJvb2ZwbGF5Mi5kZWZhdWx0KS5zZXJ2aWNlKFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIF9zZXNzaW9uczIuZGVmYXVsdCkuc2VydmljZShcIlRlbmFudHNTZXJ2aWNlXCIsIF90ZW5hbnRzMi5kZWZhdWx0KS5zZXJ2aWNlKFwiVGltZXpvbmVzU2VydmljZVwiLCBfdGltZXpvbmVzMi5kZWZhdWx0KS5zZXJ2aWNlKFwiVG9hc3RzU2VydmljZVwiLCBfdG9hc3RzMi5kZWZhdWx0KS5zZXJ2aWNlKFwiVmVyc2lvbnNTZXJ2aWNlXCIsIF92ZXJzaW9uczIuZGVmYXVsdCkuc2VydmljZShcIkltYWdlU2VydmljZVwiLCBfaW1hZ2UyLmRlZmF1bHQpXG5cdC8vIERldmljZVxuXHQuY29udHJvbGxlcihcIkRldmljZURldGFpbHNDb21tYW5kc0N0cmxcIiwgX2RldmljZURldGFpbENvbW1hbmQuRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybCkuY29udHJvbGxlcihcIkRldmljZURldGFpbHNDdHJsXCIsIF9kZXZpY2VEZXRhaWxzLkRldmljZURldGFpbHNDdHJsKS5jb250cm9sbGVyKFwiRGV2aWNlc0xpc3RpbmdDdHJsXCIsIF9kZXZpY2VzTGlzdGluZy5EZXZpY2VzTGlzdGluZ0N0cmwpXG5cdC8vIEFkbWluXG5cdC5jb250cm9sbGVyKFwiQWRtaW5DdHJsXCIsIF9hZG1pbkNvbnRyb2xsZXIuQWRtaW5DdHJsKVxuXHQvLyBBdXRoZW50aWNhdGlvblxuXHQuY29udHJvbGxlcihcIkF1dGhlbnRpY2F0aW9uQ3RybFwiLCBfYXV0aGVudGljYXRpb25Db250cm9sbGVyLkF1dGhlbnRpY2F0aW9uQ3RybClcblx0Ly8gQXBwXG5cdC5jb250cm9sbGVyKFwiQXBwQ29udHJvbGxlclwiLCBfYXBwQ29udHJvbGxlci5BcHBDb250cm9sbGVyKVxuXHQvLyBEaXN0cmlidXRvcnNcblx0LmNvbnRyb2xsZXIoXCJEaXN0cmlidXRvclNlbGVjdG9yQ3RybFwiLCBfZGlzdHJpYnV0b3JTZWxlY3RvckNvbnRyb2xsZXIuRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwpLmNvbnRyb2xsZXIoXCJEaXN0cmlidXRvcnNDdHJsXCIsIF9kaXN0cmlidXRvcnNDb250cm9sbGVyLkRpc3RyaWJ1dG9yc0N0cmwpXG5cdC8vIERvbWFpbnNcblx0LmNvbnRyb2xsZXIoXCJEb21haW5zQ3RybFwiLCBfZG9tYWlucy5Eb21haW5zQ3RybCkuY29udHJvbGxlcihcIkRvbWFpbkRldGFpbHNDdHJsXCIsIF9kb21haW5EZXRhaWxzLkRvbWFpbkRldGFpbHNDdHJsKVxuXHQvLyBQcm9vZlBsYXlcblx0LmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsXCIsIF9tdWx0aUxvY2F0aW9uLlByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwpLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmxcIiwgX211bHRpRGlzcGxheS5Qcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwpLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsXCIsIF9tdWx0aVJlc291cmNlLlByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmwpLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheUN0cmxcIiwgX3Byb29mT2ZQbGF5LlByb29mT2ZQbGF5Q3RybClcblx0Ly8gVGVuYW50c1xuXHQuY29udHJvbGxlcihcIlRlbmFudExvZ3NDdHJsXCIsIF90ZW5hbnRMb2dzLlRlbmFudExvZ3NDdHJsKS5jb250cm9sbGVyKFwiVGVuYW50T3ZlcmxheXNDdHJsXCIsIF90ZW5hbnRPdmVybGF5cy5UZW5hbnRPdmVybGF5c0N0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnRBZGRDdHJsXCIsIF90ZW5hbnRBZGQuVGVuYW50QWRkQ3RybCkuY29udHJvbGxlcihcIlRlbmFudERldGFpbHNDdHJsXCIsIF90ZW5hbnREZXRhaWxzLlRlbmFudERldGFpbHNDdHJsKS5jb250cm9sbGVyKFwiVGVuYW50TG9jYXRpb25DdHJsXCIsIF90ZW5hbnRMb2NhdGlvbi5UZW5hbnRMb2NhdGlvbkN0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnRMb2NhdGlvbnNDdHJsXCIsIF90ZW5hbnRMb2NhdGlvbnMuVGVuYW50TG9jYXRpb25zQ3RybCkuY29udHJvbGxlcihcIlRlbmFudE1hbmFnZWREZXZpY2VzQ3RybFwiLCBfdGVuYW50TWFuYWdlZERldmljZXMuVGVuYW50TWFuYWdlZERldmljZXNDdHJsKS5jb250cm9sbGVyKFwiVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmxcIiwgX3RlbmFudFVubWFuYWdlZERldmljZXMuVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwpLmNvbnRyb2xsZXIoXCJUZW5hbnRzQ3RybFwiLCBfdGVuYW50czMuVGVuYW50c0N0cmwpXG5cdC8vIFdlbGNvbWVcblx0LmNvbnRyb2xsZXIoXCJXZWxjb21lQ3RybFwiLCBfd2VsY29tZUNvbnRyb2xsZXIuV2VsY29tZUN0cmwpXG5cdC8vIGFwcFJ1biBCbG9ja1xuXHQucnVuKF9hcHBSdW4uYXBwUnVuKVxuXHQvLyBDb25maWdcblx0LmNvbmZpZyhfYXBwUm91dGVzLnJvdXRlcykuY29uZmlnKF9hcHBDb25maWcudG9hc3RyQ29uZmlnKS5jb25maWcoX2FwcENvbmZpZy5icmVhZGNydW1iUHJvdmlkZXIpO1xuXHRcblx0Ly8gUmVxdWVzdCBJbnRlcmNlcHRvclxuXHRcblx0Ly8gQ29uZmlnXG5cdFxuXHQvLyBUZW5hbnRcblx0XG5cdC8vIEFwcFxuXHRcblx0Ly8gQWRtaW5cblx0X2FwcC5hcHAuc2VydmljZSgnUmVxdWVzdEludGVyY2VwdG9yJywgW1wiU3RvcmFnZVNlcnZpY2VcIiwgXCIkbG9jYXRpb25cIiwgZnVuY3Rpb24gKFN0b3JhZ2VTZXJ2aWNlLCAkbG9jYXRpb24pIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciBpbnRlcmNlcHRvciA9IHtcblx0ICAgIHJlcXVlc3Q6IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG5cdCAgICAgIHZhciBncyA9ICc1WFpIQkYzbU93cUpsWUFsRzFOZWVXWDBDYjcyZyc7XG5cdCAgICAgIHZhciBwcm9kID0gJzZDMzQ2NTg4QkQ0QzZENzIyQTExNjVCNDNDNTFDJztcblx0ICAgICAgY29uZmlnLmhlYWRlcnMgPSB7XG5cdCAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcblx0ICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHQgICAgICAgICdKV1QnOiBTdG9yYWdlU2VydmljZS5nZXQoJ0pXVCcpLFxuXHQgICAgICAgICdvQXV0aCc6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnb0F1dGgnKSxcblx0ICAgICAgICAnQXV0aG9yaXphdGlvbic6ICRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMSA/IGdzIDogcHJvZCxcblx0ICAgICAgICAnWC1Qcm92aXNpb25pbmctVXNlcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlcktleScpLFxuXHQgICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyLUlkZW50aWZpZXInOiBTdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJFbWFpbCcpLFxuXHQgICAgICAgICdYLVByb3Zpc2lvbmluZy1EaXN0cmlidXRvcic6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5Jylcblx0ICAgICAgfTtcblx0ICAgICAgcmV0dXJuIGNvbmZpZztcblx0ICAgIH1cblx0ICB9O1xuXHQgIHJldHVybiBpbnRlcmNlcHRvcjtcblx0fV0pO1xuXHRcblx0X2FwcC5hcHAuY29uZmlnKFtcIiRodHRwUHJvdmlkZXJcIiwgZnVuY3Rpb24gKCRodHRwUHJvdmlkZXIpIHtcblx0ICByZXR1cm4gJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnUmVxdWVzdEludGVyY2VwdG9yJyk7XG5cdH1dKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzY4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuYXBwID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9hbmd1bGFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjkpO1xuXHRcblx0dmFyIF9hbmd1bGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZ3VsYXIpO1xuXHRcblx0dmFyIF9hbmd1bGFyVWlSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3MSk7XG5cdFxuXHR2YXIgX2FuZ3VsYXJVaVJvdXRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmd1bGFyVWlSb3V0ZXIpO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Mik7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0NzkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0ODEpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0ODIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0ODYpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0ODgpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0OTApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0OTIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1MDApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1MDIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1MjQpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1MjUpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1MjcpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1OTYpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1OTcpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1OTkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MDQpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MDUpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MTEpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MjApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MjEpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MjMpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MjUpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MjcpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2MjkpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1MTIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2NDApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygzNzApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2NDEpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2NDMpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2NDUpO1xuXHRcblx0dmFyIF9sb2Rhc2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0Nyk7XG5cdFxuXHR2YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8vIE1hdGVyaWFsIGRlc2lnbiBjc3Ncblx0d2luZG93Ll8gPSBfbG9kYXNoMi5kZWZhdWx0O1xuXHQvLyBJbXBvcnQgYW5ndWxhclxuXHRcblx0d2luZG93LmFuZ3VsYXIgPSBfYW5ndWxhcjIuZGVmYXVsdDtcblx0XG5cdHZhciBhcHAgPSBleHBvcnRzLmFwcCA9IF9hbmd1bGFyMi5kZWZhdWx0Lm1vZHVsZSgnc2t5a2l0UHJvdmlzaW9uaW5nJywgW19hbmd1bGFyVWlSb3V0ZXIyLmRlZmF1bHQsICduZ0FuaW1hdGUnLCAnNzIwa2IudG9vbHRpcHMnLCAnbmdDb29raWVzJywgJ25nU2FuaXRpemUnLCAncmVzdGFuZ3VsYXInLCAndWkuYm9vdHN0cmFwJywgJ25nTWF0ZXJpYWxEYXRlUGlja2VyJywgJ2hTd2VldEFsZXJ0JywgJ25jeS1hbmd1bGFyLWJyZWFkY3J1bWInLCAnZGlyZWN0aXZlLmcrc2lnbmluJywgJ25nUHJvZ3Jlc3MnLCAnbmdNYXRlcmlhbCcsICduZ2NsaXBib2FyZCcsICd0b2FzdHInLCAnbGZOZ01kRmlsZUlucHV0J10pO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzNzQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgbWFwID0ge1xuXHRcdFwiLi9hZlwiOiAzNzUsXG5cdFx0XCIuL2FmLmpzXCI6IDM3NSxcblx0XHRcIi4vYXJcIjogMzc2LFxuXHRcdFwiLi9hci1seVwiOiAzNzcsXG5cdFx0XCIuL2FyLWx5LmpzXCI6IDM3Nyxcblx0XHRcIi4vYXItbWFcIjogMzc4LFxuXHRcdFwiLi9hci1tYS5qc1wiOiAzNzgsXG5cdFx0XCIuL2FyLXNhXCI6IDM3OSxcblx0XHRcIi4vYXItc2EuanNcIjogMzc5LFxuXHRcdFwiLi9hci10blwiOiAzODAsXG5cdFx0XCIuL2FyLXRuLmpzXCI6IDM4MCxcblx0XHRcIi4vYXIuanNcIjogMzc2LFxuXHRcdFwiLi9helwiOiAzODEsXG5cdFx0XCIuL2F6LmpzXCI6IDM4MSxcblx0XHRcIi4vYmVcIjogMzgyLFxuXHRcdFwiLi9iZS5qc1wiOiAzODIsXG5cdFx0XCIuL2JnXCI6IDM4Myxcblx0XHRcIi4vYmcuanNcIjogMzgzLFxuXHRcdFwiLi9iblwiOiAzODQsXG5cdFx0XCIuL2JuLmpzXCI6IDM4NCxcblx0XHRcIi4vYm9cIjogMzg1LFxuXHRcdFwiLi9iby5qc1wiOiAzODUsXG5cdFx0XCIuL2JyXCI6IDM4Nixcblx0XHRcIi4vYnIuanNcIjogMzg2LFxuXHRcdFwiLi9ic1wiOiAzODcsXG5cdFx0XCIuL2JzLmpzXCI6IDM4Nyxcblx0XHRcIi4vY2FcIjogMzg4LFxuXHRcdFwiLi9jYS5qc1wiOiAzODgsXG5cdFx0XCIuL2NzXCI6IDM4OSxcblx0XHRcIi4vY3MuanNcIjogMzg5LFxuXHRcdFwiLi9jdlwiOiAzOTAsXG5cdFx0XCIuL2N2LmpzXCI6IDM5MCxcblx0XHRcIi4vY3lcIjogMzkxLFxuXHRcdFwiLi9jeS5qc1wiOiAzOTEsXG5cdFx0XCIuL2RhXCI6IDM5Mixcblx0XHRcIi4vZGEuanNcIjogMzkyLFxuXHRcdFwiLi9kZVwiOiAzOTMsXG5cdFx0XCIuL2RlLWF0XCI6IDM5NCxcblx0XHRcIi4vZGUtYXQuanNcIjogMzk0LFxuXHRcdFwiLi9kZS5qc1wiOiAzOTMsXG5cdFx0XCIuL2R2XCI6IDM5NSxcblx0XHRcIi4vZHYuanNcIjogMzk1LFxuXHRcdFwiLi9lbFwiOiAzOTYsXG5cdFx0XCIuL2VsLmpzXCI6IDM5Nixcblx0XHRcIi4vZW4tYXVcIjogMzk3LFxuXHRcdFwiLi9lbi1hdS5qc1wiOiAzOTcsXG5cdFx0XCIuL2VuLWNhXCI6IDM5OCxcblx0XHRcIi4vZW4tY2EuanNcIjogMzk4LFxuXHRcdFwiLi9lbi1nYlwiOiAzOTksXG5cdFx0XCIuL2VuLWdiLmpzXCI6IDM5OSxcblx0XHRcIi4vZW4taWVcIjogNDAwLFxuXHRcdFwiLi9lbi1pZS5qc1wiOiA0MDAsXG5cdFx0XCIuL2VuLW56XCI6IDQwMSxcblx0XHRcIi4vZW4tbnouanNcIjogNDAxLFxuXHRcdFwiLi9lb1wiOiA0MDIsXG5cdFx0XCIuL2VvLmpzXCI6IDQwMixcblx0XHRcIi4vZXNcIjogNDAzLFxuXHRcdFwiLi9lcy1kb1wiOiA0MDQsXG5cdFx0XCIuL2VzLWRvLmpzXCI6IDQwNCxcblx0XHRcIi4vZXMuanNcIjogNDAzLFxuXHRcdFwiLi9ldFwiOiA0MDUsXG5cdFx0XCIuL2V0LmpzXCI6IDQwNSxcblx0XHRcIi4vZXVcIjogNDA2LFxuXHRcdFwiLi9ldS5qc1wiOiA0MDYsXG5cdFx0XCIuL2ZhXCI6IDQwNyxcblx0XHRcIi4vZmEuanNcIjogNDA3LFxuXHRcdFwiLi9maVwiOiA0MDgsXG5cdFx0XCIuL2ZpLmpzXCI6IDQwOCxcblx0XHRcIi4vZm9cIjogNDA5LFxuXHRcdFwiLi9mby5qc1wiOiA0MDksXG5cdFx0XCIuL2ZyXCI6IDQxMCxcblx0XHRcIi4vZnItY2FcIjogNDExLFxuXHRcdFwiLi9mci1jYS5qc1wiOiA0MTEsXG5cdFx0XCIuL2ZyLWNoXCI6IDQxMixcblx0XHRcIi4vZnItY2guanNcIjogNDEyLFxuXHRcdFwiLi9mci5qc1wiOiA0MTAsXG5cdFx0XCIuL2Z5XCI6IDQxMyxcblx0XHRcIi4vZnkuanNcIjogNDEzLFxuXHRcdFwiLi9nZFwiOiA0MTQsXG5cdFx0XCIuL2dkLmpzXCI6IDQxNCxcblx0XHRcIi4vZ2xcIjogNDE1LFxuXHRcdFwiLi9nbC5qc1wiOiA0MTUsXG5cdFx0XCIuL2hlXCI6IDQxNixcblx0XHRcIi4vaGUuanNcIjogNDE2LFxuXHRcdFwiLi9oaVwiOiA0MTcsXG5cdFx0XCIuL2hpLmpzXCI6IDQxNyxcblx0XHRcIi4vaHJcIjogNDE4LFxuXHRcdFwiLi9oci5qc1wiOiA0MTgsXG5cdFx0XCIuL2h1XCI6IDQxOSxcblx0XHRcIi4vaHUuanNcIjogNDE5LFxuXHRcdFwiLi9oeS1hbVwiOiA0MjAsXG5cdFx0XCIuL2h5LWFtLmpzXCI6IDQyMCxcblx0XHRcIi4vaWRcIjogNDIxLFxuXHRcdFwiLi9pZC5qc1wiOiA0MjEsXG5cdFx0XCIuL2lzXCI6IDQyMixcblx0XHRcIi4vaXMuanNcIjogNDIyLFxuXHRcdFwiLi9pdFwiOiA0MjMsXG5cdFx0XCIuL2l0LmpzXCI6IDQyMyxcblx0XHRcIi4vamFcIjogNDI0LFxuXHRcdFwiLi9qYS5qc1wiOiA0MjQsXG5cdFx0XCIuL2p2XCI6IDQyNSxcblx0XHRcIi4vanYuanNcIjogNDI1LFxuXHRcdFwiLi9rYVwiOiA0MjYsXG5cdFx0XCIuL2thLmpzXCI6IDQyNixcblx0XHRcIi4va2tcIjogNDI3LFxuXHRcdFwiLi9ray5qc1wiOiA0MjcsXG5cdFx0XCIuL2ttXCI6IDQyOCxcblx0XHRcIi4va20uanNcIjogNDI4LFxuXHRcdFwiLi9rb1wiOiA0MjksXG5cdFx0XCIuL2tvLmpzXCI6IDQyOSxcblx0XHRcIi4va3lcIjogNDMwLFxuXHRcdFwiLi9reS5qc1wiOiA0MzAsXG5cdFx0XCIuL2xiXCI6IDQzMSxcblx0XHRcIi4vbGIuanNcIjogNDMxLFxuXHRcdFwiLi9sb1wiOiA0MzIsXG5cdFx0XCIuL2xvLmpzXCI6IDQzMixcblx0XHRcIi4vbHRcIjogNDMzLFxuXHRcdFwiLi9sdC5qc1wiOiA0MzMsXG5cdFx0XCIuL2x2XCI6IDQzNCxcblx0XHRcIi4vbHYuanNcIjogNDM0LFxuXHRcdFwiLi9tZVwiOiA0MzUsXG5cdFx0XCIuL21lLmpzXCI6IDQzNSxcblx0XHRcIi4vbWlcIjogNDM2LFxuXHRcdFwiLi9taS5qc1wiOiA0MzYsXG5cdFx0XCIuL21rXCI6IDQzNyxcblx0XHRcIi4vbWsuanNcIjogNDM3LFxuXHRcdFwiLi9tbFwiOiA0MzgsXG5cdFx0XCIuL21sLmpzXCI6IDQzOCxcblx0XHRcIi4vbXJcIjogNDM5LFxuXHRcdFwiLi9tci5qc1wiOiA0MzksXG5cdFx0XCIuL21zXCI6IDQ0MCxcblx0XHRcIi4vbXMtbXlcIjogNDQxLFxuXHRcdFwiLi9tcy1teS5qc1wiOiA0NDEsXG5cdFx0XCIuL21zLmpzXCI6IDQ0MCxcblx0XHRcIi4vbXlcIjogNDQyLFxuXHRcdFwiLi9teS5qc1wiOiA0NDIsXG5cdFx0XCIuL25iXCI6IDQ0Myxcblx0XHRcIi4vbmIuanNcIjogNDQzLFxuXHRcdFwiLi9uZVwiOiA0NDQsXG5cdFx0XCIuL25lLmpzXCI6IDQ0NCxcblx0XHRcIi4vbmxcIjogNDQ1LFxuXHRcdFwiLi9ubC5qc1wiOiA0NDUsXG5cdFx0XCIuL25uXCI6IDQ0Nixcblx0XHRcIi4vbm4uanNcIjogNDQ2LFxuXHRcdFwiLi9wYS1pblwiOiA0NDcsXG5cdFx0XCIuL3BhLWluLmpzXCI6IDQ0Nyxcblx0XHRcIi4vcGxcIjogNDQ4LFxuXHRcdFwiLi9wbC5qc1wiOiA0NDgsXG5cdFx0XCIuL3B0XCI6IDQ0OSxcblx0XHRcIi4vcHQtYnJcIjogNDUwLFxuXHRcdFwiLi9wdC1ici5qc1wiOiA0NTAsXG5cdFx0XCIuL3B0LmpzXCI6IDQ0OSxcblx0XHRcIi4vcm9cIjogNDUxLFxuXHRcdFwiLi9yby5qc1wiOiA0NTEsXG5cdFx0XCIuL3J1XCI6IDQ1Mixcblx0XHRcIi4vcnUuanNcIjogNDUyLFxuXHRcdFwiLi9zZVwiOiA0NTMsXG5cdFx0XCIuL3NlLmpzXCI6IDQ1Myxcblx0XHRcIi4vc2lcIjogNDU0LFxuXHRcdFwiLi9zaS5qc1wiOiA0NTQsXG5cdFx0XCIuL3NrXCI6IDQ1NSxcblx0XHRcIi4vc2suanNcIjogNDU1LFxuXHRcdFwiLi9zbFwiOiA0NTYsXG5cdFx0XCIuL3NsLmpzXCI6IDQ1Nixcblx0XHRcIi4vc3FcIjogNDU3LFxuXHRcdFwiLi9zcS5qc1wiOiA0NTcsXG5cdFx0XCIuL3NyXCI6IDQ1OCxcblx0XHRcIi4vc3ItY3lybFwiOiA0NTksXG5cdFx0XCIuL3NyLWN5cmwuanNcIjogNDU5LFxuXHRcdFwiLi9zci5qc1wiOiA0NTgsXG5cdFx0XCIuL3NzXCI6IDQ2MCxcblx0XHRcIi4vc3MuanNcIjogNDYwLFxuXHRcdFwiLi9zdlwiOiA0NjEsXG5cdFx0XCIuL3N2LmpzXCI6IDQ2MSxcblx0XHRcIi4vc3dcIjogNDYyLFxuXHRcdFwiLi9zdy5qc1wiOiA0NjIsXG5cdFx0XCIuL3RhXCI6IDQ2Myxcblx0XHRcIi4vdGEuanNcIjogNDYzLFxuXHRcdFwiLi90ZVwiOiA0NjQsXG5cdFx0XCIuL3RlLmpzXCI6IDQ2NCxcblx0XHRcIi4vdGhcIjogNDY1LFxuXHRcdFwiLi90aC5qc1wiOiA0NjUsXG5cdFx0XCIuL3RsLXBoXCI6IDQ2Nixcblx0XHRcIi4vdGwtcGguanNcIjogNDY2LFxuXHRcdFwiLi90bGhcIjogNDY3LFxuXHRcdFwiLi90bGguanNcIjogNDY3LFxuXHRcdFwiLi90clwiOiA0NjgsXG5cdFx0XCIuL3RyLmpzXCI6IDQ2OCxcblx0XHRcIi4vdHpsXCI6IDQ2OSxcblx0XHRcIi4vdHpsLmpzXCI6IDQ2OSxcblx0XHRcIi4vdHptXCI6IDQ3MCxcblx0XHRcIi4vdHptLWxhdG5cIjogNDcxLFxuXHRcdFwiLi90em0tbGF0bi5qc1wiOiA0NzEsXG5cdFx0XCIuL3R6bS5qc1wiOiA0NzAsXG5cdFx0XCIuL3VrXCI6IDQ3Mixcblx0XHRcIi4vdWsuanNcIjogNDcyLFxuXHRcdFwiLi91elwiOiA0NzMsXG5cdFx0XCIuL3V6LmpzXCI6IDQ3Myxcblx0XHRcIi4vdmlcIjogNDc0LFxuXHRcdFwiLi92aS5qc1wiOiA0NzQsXG5cdFx0XCIuL3gtcHNldWRvXCI6IDQ3NSxcblx0XHRcIi4veC1wc2V1ZG8uanNcIjogNDc1LFxuXHRcdFwiLi96aC1jblwiOiA0NzYsXG5cdFx0XCIuL3poLWNuLmpzXCI6IDQ3Nixcblx0XHRcIi4vemgtaGtcIjogNDc3LFxuXHRcdFwiLi96aC1oay5qc1wiOiA0NzcsXG5cdFx0XCIuL3poLXR3XCI6IDQ3OCxcblx0XHRcIi4vemgtdHcuanNcIjogNDc4XG5cdH07XG5cdGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcblx0fTtcblx0ZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRcdHJldHVybiBtYXBbcmVxXSB8fCAoZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpIH0oKSk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG5cdH07XG5cdHdlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5cdG1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG5cdHdlYnBhY2tDb250ZXh0LmlkID0gMzc0O1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDUyNDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0Lypcblx0IG5ncHJvZ3Jlc3MgMS4xLjIgLSBzbGltLCBzaXRlLXdpZGUgcHJvZ3Jlc3NiYXIgZm9yIEFuZ3VsYXJKUyBcblx0IChDKSAyMDEzIC0gVmljdG9yIEJqZWxraG9sbSBcblx0IExpY2Vuc2U6IE1JVCBcblx0IFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL1ZpY3RvckJqZWxraG9sbS9uZ1Byb2dyZXNzIFxuXHQgRGF0ZSBDb21waWxlZDogMjAxNS0wNy0yNyBcblx0ICovXG5cdGFuZ3VsYXIubW9kdWxlKFwibmdQcm9ncmVzcy5wcm92aWRlclwiLCBbXCJuZ1Byb2dyZXNzLmRpcmVjdGl2ZVwiXSkuc2VydmljZShcIm5nUHJvZ3Jlc3NcIiwgZnVuY3Rpb24gKCkge1xuXHQgIFwidXNlIHN0cmljdFwiO1xuXHRcblx0ICByZXR1cm4gW1wiJGRvY3VtZW50XCIsIFwiJHdpbmRvd1wiLCBcIiRjb21waWxlXCIsIFwiJHJvb3RTY29wZVwiLCBcIiR0aW1lb3V0XCIsIGZ1bmN0aW9uIChhLCBiLCBjLCBkLCBlKSB7XG5cdCAgICB0aGlzLmF1dG9TdHlsZSA9ICEwLCB0aGlzLmNvdW50ID0gMCwgdGhpcy5oZWlnaHQgPSBcIjJweFwiLCB0aGlzLiRzY29wZSA9IGQuJG5ldygpLCB0aGlzLmNvbG9yID0gXCJmaXJlYnJpY2tcIiwgdGhpcy5wYXJlbnQgPSBhLmZpbmQoXCJib2R5XCIpWzBdLCB0aGlzLmNvdW50ID0gMCwgdGhpcy5wcm9ncmVzc2JhckVsID0gYyhcIjxuZy1wcm9ncmVzcz48L25nLXByb2dyZXNzPlwiKSh0aGlzLiRzY29wZSksIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSksIHRoaXMuJHNjb3BlLmNvdW50ID0gdGhpcy5jb3VudCwgdm9pZCAwICE9PSB0aGlzLmhlaWdodCAmJiB0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQpLCB2b2lkIDAgIT09IHRoaXMuY29sb3IgJiYgKHRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgdGhpcy5jb2xvciksIHRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImNvbG9yXCIsIHRoaXMuY29sb3IpKSwgdGhpcy5pbnRlcnZhbENvdW50ZXJJZCA9IDAsIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRoaXMuc2hvdygpO1xuXHQgICAgICB2YXIgYSA9IHRoaXM7XG5cdCAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIHRoaXMuaW50ZXJ2YWxDb3VudGVySWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaXNOYU4oYS5jb3VudCkgPyAoY2xlYXJJbnRlcnZhbChhLmludGVydmFsQ291bnRlcklkKSwgYS5jb3VudCA9IDAsIGEuaGlkZSgpKSA6IChhLnJlbWFpbmluZyA9IDEwMCAtIGEuY291bnQsIGEuY291bnQgPSBhLmNvdW50ICsgLjE1ICogTWF0aC5wb3coMSAtIE1hdGguc3FydChhLnJlbWFpbmluZyksIDIpLCBhLnVwZGF0ZUNvdW50KGEuY291bnQpKTtcblx0ICAgICAgfSwgMjAwKTtcblx0ICAgIH0sIHRoaXMudXBkYXRlQ291bnQgPSBmdW5jdGlvbiAoYSkge1xuXHQgICAgICB0aGlzLiRzY29wZS5jb3VudCA9IGEsIHRoaXMuJHNjb3BlLiQkcGhhc2UgfHwgdGhpcy4kc2NvcGUuJGFwcGx5KCk7XG5cdCAgICB9LCB0aGlzLnNldEhlaWdodCA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIHJldHVybiB2b2lkIDAgIT09IGEgJiYgKHRoaXMuaGVpZ2h0ID0gYSwgdGhpcy4kc2NvcGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQsIHRoaXMuJHNjb3BlLiQkcGhhc2UgfHwgdGhpcy4kc2NvcGUuJGFwcGx5KCkpLCB0aGlzLmhlaWdodDtcblx0ICAgIH0sIHRoaXMuc2V0Q29sb3IgPSBmdW5jdGlvbiAoYSkge1xuXHQgICAgICByZXR1cm4gdm9pZCAwICE9PSBhICYmICh0aGlzLmNvbG9yID0gYSwgdGhpcy4kc2NvcGUuY29sb3IgPSB0aGlzLmNvbG9yLCB0aGlzLiRzY29wZS4kJHBoYXNlIHx8IHRoaXMuJHNjb3BlLiRhcHBseSgpKSwgdGhpcy5jb2xvcjtcblx0ICAgIH0sIHRoaXMuaGlkZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdGhpcy5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKFwib3BhY2l0eVwiLCBcIjBcIik7XG5cdCAgICAgIHZhciBhID0gdGhpcztcblx0ICAgICAgYS5hbmltYXRlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBhLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJ3aWR0aFwiLCBcIjAlXCIpLCBhLmFuaW1hdGUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgYS5zaG93KCk7XG5cdCAgICAgICAgfSwgNTAwKTtcblx0ICAgICAgfSwgNTAwKTtcblx0ICAgIH0sIHRoaXMuc2hvdyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGEgPSB0aGlzO1xuXHQgICAgICBhLmFuaW1hdGUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGEucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIm9wYWNpdHlcIiwgXCIxXCIpO1xuXHQgICAgICB9LCAxMDApO1xuXHQgICAgfSwgdGhpcy5hbmltYXRlID0gZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgdm9pZCAwICE9PSB0aGlzLmFuaW1hdGlvbiAmJiBlLmNhbmNlbCh0aGlzLmFuaW1hdGlvbiksIHRoaXMuYW5pbWF0aW9uID0gZShhLCBiKTtcblx0ICAgIH0sIHRoaXMuc3RhdHVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jb3VudDtcblx0ICAgIH0sIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKTtcblx0ICAgIH0sIHRoaXMuc2V0ID0gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuc2hvdygpLCB0aGlzLnVwZGF0ZUNvdW50KGEpLCB0aGlzLmNvdW50ID0gYSwgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSwgdGhpcy5jb3VudDtcblx0ICAgIH0sIHRoaXMuY3NzID0gZnVuY3Rpb24gKGEpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhhKTtcblx0ICAgIH0sIHRoaXMucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCB0aGlzLmNvdW50ID0gMCwgdGhpcy51cGRhdGVDb3VudCh0aGlzLmNvdW50KSwgMDtcblx0ICAgIH0sIHRoaXMuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRoaXMuY291bnQgPSAxMDAsIHRoaXMudXBkYXRlQ291bnQodGhpcy5jb3VudCk7XG5cdCAgICAgIHZhciBhID0gdGhpcztcblx0ICAgICAgcmV0dXJuIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIGUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGEuaGlkZSgpLCBlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIGEuY291bnQgPSAwLCBhLnVwZGF0ZUNvdW50KGEuY291bnQpO1xuXHQgICAgICAgIH0sIDUwMCk7XG5cdCAgICAgIH0sIDFlMyksIHRoaXMuY291bnQ7XG5cdCAgICB9LCB0aGlzLnNldFBhcmVudCA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgIGlmIChudWxsID09PSBhIHx8IHZvaWQgMCA9PT0gYSkgdGhyb3cgbmV3IEVycm9yKFwiUHJvdmlkZSBhIHZhbGlkIHBhcmVudCBvZiB0eXBlIEhUTUxFbGVtZW50XCIpO1xuXHQgICAgICBudWxsICE9PSB0aGlzLnBhcmVudCAmJiB2b2lkIDAgIT09IHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSksIHRoaXMucGFyZW50ID0gYSwgdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc2JhckVsWzBdKTtcblx0ICAgIH0sIHRoaXMuZ2V0RG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NiYXJFbDtcblx0ICAgIH0sIHRoaXMuc2V0QWJzb2x1dGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHRoaXMucHJvZ3Jlc3NiYXJFbC5jc3MoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpO1xuXHQgICAgfTtcblx0ICB9XTtcblx0fSkuZmFjdG9yeShcIm5nUHJvZ3Jlc3NGYWN0b3J5XCIsIFtcIiRpbmplY3RvclwiLCBcIm5nUHJvZ3Jlc3NcIiwgZnVuY3Rpb24gKGEsIGIpIHtcblx0ICB2YXIgYyA9IHtcblx0ICAgIGNyZWF0ZUluc3RhbmNlOiBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZSgpIHtcblx0ICAgICAgcmV0dXJuIGEuaW5zdGFudGlhdGUoYik7XG5cdCAgICB9XG5cdCAgfTtcblx0ICByZXR1cm4gYztcblx0fV0pLCBhbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3MuZGlyZWN0aXZlXCIsIFtdKS5kaXJlY3RpdmUoXCJuZ1Byb2dyZXNzXCIsIFtcIiR3aW5kb3dcIiwgXCIkcm9vdFNjb3BlXCIsIGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgdmFyIGMgPSB7XG5cdCAgICByZXBsYWNlOiAhMCwgcmVzdHJpY3Q6IFwiRVwiLCBsaW5rOiBmdW5jdGlvbiBsaW5rKGEsIGIsIGMsIGQpIHtcblx0ICAgICAgYS4kd2F0Y2goXCJjb3VudFwiLCBmdW5jdGlvbiAoYykge1xuXHQgICAgICAgICh2b2lkIDAgIT09IGMgfHwgbnVsbCAhPT0gYykgJiYgKGEuY291bnRlciA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJ3aWR0aFwiLCBjICsgXCIlXCIpKTtcblx0ICAgICAgfSksIGEuJHdhdGNoKFwiY29sb3JcIiwgZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmNvbG9yID0gYywgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgYyksIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJjb2xvclwiLCBjKSk7XG5cdCAgICAgIH0pLCBhLiR3YXRjaChcImhlaWdodFwiLCBmdW5jdGlvbiAoYykge1xuXHQgICAgICAgICh2b2lkIDAgIT09IGMgfHwgbnVsbCAhPT0gYykgJiYgKGEuaGVpZ2h0ID0gYywgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImhlaWdodFwiLCBjKSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSwgdGVtcGxhdGU6ICc8ZGl2IGlkPVwibmdQcm9ncmVzcy1jb250YWluZXJcIj48ZGl2IGlkPVwibmdQcm9ncmVzc1wiPjwvZGl2PjwvZGl2Pidcblx0ICB9O1xuXHQgIHJldHVybiBjO1xuXHR9XSksIGFuZ3VsYXIubW9kdWxlKFwibmdQcm9ncmVzc1wiLCBbXCJuZ1Byb2dyZXNzLmRpcmVjdGl2ZVwiLCBcIm5nUHJvZ3Jlc3MucHJvdmlkZXJcIl0pO1xuXG4vKioqLyB9LFxuXG4vKioqLyA1MjU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MjYpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODUpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9uZ1Byb2dyZXNzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmdQcm9ncmVzcy5jc3NcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDUyNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDg0KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIiNuZ1Byb2dyZXNze21hcmdpbjowO3BhZGRpbmc6MDt6LWluZGV4Ojk5OTk4O2JhY2tncm91bmQtY29sb3I6Z3JlZW47Y29sb3I6Z3JlZW47Ym94LXNoYWRvdzowIDAgMTBweCAwO2hlaWdodDoycHg7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjVzIGVhc2UtaW4tb3V0O3RyYW5zaXRpb246YWxsIC41cyBlYXNlLWluLW91dH0jbmdQcm9ncmVzcy1jb250YWluZXJ7cG9zaXRpb246Zml4ZWQ7bWFyZ2luOjA7cGFkZGluZzowO3RvcDowO2xlZnQ6MDtyaWdodDowO3otaW5kZXg6OTk5OTl9XCIsIFwiXCJdKTtcblx0XG5cdC8vIGV4cG9ydHNcblxuXG4vKioqLyB9LFxuXG4vKioqLyA1Mjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfdHlwZW9mMiA9IF9fd2VicGFja19yZXF1aXJlX18oNTI4KTtcblx0XG5cdHZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdC8qISBhbmd1bGFyLWJyZWFkY3J1bWIgLSB2MC40LjAtZGV2LTIwMTUtMDgtMDdcblx0KiBodHRwOi8vbmN1aWxsZXJ5LmdpdGh1Yi5pby9hbmd1bGFyLWJyZWFkY3J1bWJcblx0KiBDb3B5cmlnaHQgKGMpIDIwMTUgTmljb2xhcyBDdWlsbGVyeTsgTGljZW5zZWQgTUlUICovXG5cdCFmdW5jdGlvbiAoYSwgYiwgYykge1xuXHQgIFwidXNlIHN0cmljdFwiO1xuXHQgIGZ1bmN0aW9uIGQoYSwgYykge1xuXHQgICAgcmV0dXJuIGIuZXF1YWxzKGEubGVuZ3RoLCBjLmxlbmd0aCkgPyBhID4gYyA6IGEubGVuZ3RoID4gYy5sZW5ndGg7XG5cdCAgfWZ1bmN0aW9uIGUoYSkge1xuXHQgICAgdmFyIGIgPSBhLnJlcGxhY2UoL1xcbi9nLCBcIiBcIikubWF0Y2goL14oW14oXSs/KVxccyooXFwoKC4qKVxcKSk/JC8pO2lmICghYiB8fCA0ICE9PSBiLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSByZWYgJ1wiICsgYSArIFwiJ1wiKTtyZXR1cm4geyBzdGF0ZTogYlsxXSwgcGFyYW1FeHByOiBiWzNdIHx8IG51bGwgfTtcblx0ICB9ZnVuY3Rpb24gZigpIHtcblx0ICAgIHZhciBhID0geyBwcmVmaXhTdGF0ZU5hbWU6IG51bGwsIHRlbXBsYXRlOiBcImJvb3RzdHJhcDNcIiwgdGVtcGxhdGVVcmw6IG51bGwsIGluY2x1ZGVBYnN0cmFjdDogITEgfTt0aGlzLnNldE9wdGlvbnMgPSBmdW5jdGlvbiAoYykge1xuXHQgICAgICBiLmV4dGVuZChhLCBjKTtcblx0ICAgIH0sIHRoaXMuJGdldCA9IFtcIiRzdGF0ZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIiRyb290U2NvcGVcIiwgZnVuY3Rpb24gKGIsIGYsIGcpIHtcblx0ICAgICAgdmFyIGggPSBnO2cuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgICAgIWEudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSAmJiBkKGEudGFyZ2V0U2NvcGUuJGlkLCBoLiRpZCkgJiYgKGggPSBhLnRhcmdldFNjb3BlKTtcblx0ICAgICAgfSk7dmFyIGkgPSBmdW5jdGlvbiBpKGEpIHtcblx0ICAgICAgICB2YXIgYiA9IGEucGFyZW50IHx8ICgvXiguKylcXC5bXi5dKyQvLmV4ZWMoYS5uYW1lKSB8fCBbXSlbMV0sXG5cdCAgICAgICAgICAgIGMgPSBcIm9iamVjdFwiID09ICh0eXBlb2YgYiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoYikpO3JldHVybiBjID8gYi5uYW1lIDogYjtcblx0ICAgICAgfSxcblx0ICAgICAgICAgIGogPSBmdW5jdGlvbiBqKGMsIGQpIHtcblx0ICAgICAgICBmb3IgKHZhciBnLCBpLCBqID0gZShkKSwgayA9ICExLCBsID0gITEsIG0gPSAwLCBuID0gYy5sZW5ndGg7IG4gPiBtOyBtICs9IDEpIHtcblx0ICAgICAgICAgIGlmIChjW21dLm5hbWUgPT09IGouc3RhdGUpIHJldHVybjtcblx0ICAgICAgICB9ZyA9IGIuZ2V0KGouc3RhdGUpLCBnLm5jeUJyZWFkY3J1bWIgJiYgKGcubmN5QnJlYWRjcnVtYi5mb3JjZSAmJiAoayA9ICEwKSwgZy5uY3lCcmVhZGNydW1iLnNraXAgJiYgKGwgPSAhMCkpLCBnW1wiYWJzdHJhY3RcIl0gJiYgIWEuaW5jbHVkZUFic3RyYWN0ICYmICFrIHx8IGwgfHwgKGoucGFyYW1FeHByICYmIChpID0gaC4kZXZhbChqLnBhcmFtRXhwcikpLCBnLm5jeUJyZWFkY3J1bWJMaW5rID0gYi5ocmVmKGouc3RhdGUsIGkgfHwgZiB8fCB7fSksIGMudW5zaGlmdChnKSk7XG5cdCAgICAgIH0sXG5cdCAgICAgICAgICBrID0gZnVuY3Rpb24gayhhKSB7XG5cdCAgICAgICAgdmFyIGMgPSBlKGEpLFxuXHQgICAgICAgICAgICBkID0gYi5nZXQoYy5zdGF0ZSk7aWYgKGQubmN5QnJlYWRjcnVtYiAmJiBkLm5jeUJyZWFkY3J1bWIucGFyZW50KSB7XG5cdCAgICAgICAgICB2YXIgZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZC5uY3lCcmVhZGNydW1iLnBhcmVudCxcblx0ICAgICAgICAgICAgICBnID0gZiA/IGQubmN5QnJlYWRjcnVtYi5wYXJlbnQoaCkgOiBkLm5jeUJyZWFkY3J1bWIucGFyZW50O2lmIChnKSByZXR1cm4gZztcblx0ICAgICAgICB9cmV0dXJuIGkoZCk7XG5cdCAgICAgIH07cmV0dXJuIHsgZ2V0VGVtcGxhdGU6IGZ1bmN0aW9uIGdldFRlbXBsYXRlKGIpIHtcblx0ICAgICAgICAgIHJldHVybiBhLnRlbXBsYXRlVXJsID8gbnVsbCA6IGJbYS50ZW1wbGF0ZV0gPyBiW2EudGVtcGxhdGVdIDogYS50ZW1wbGF0ZTtcblx0ICAgICAgICB9LCBnZXRUZW1wbGF0ZVVybDogZnVuY3Rpb24gZ2V0VGVtcGxhdGVVcmwoKSB7XG5cdCAgICAgICAgICByZXR1cm4gYS50ZW1wbGF0ZVVybDtcblx0ICAgICAgICB9LCBnZXRTdGF0ZXNDaGFpbjogZnVuY3Rpb24gZ2V0U3RhdGVzQ2hhaW4oYykge1xuXHQgICAgICAgICAgZm9yICh2YXIgZCA9IFtdLCBlID0gYi4kY3VycmVudC5zZWxmLm5hbWU7IGU7IGUgPSBrKGUpKSB7XG5cdCAgICAgICAgICAgIGlmIChqKGQsIGUpLCBjICYmIGQubGVuZ3RoKSByZXR1cm4gZDtcblx0ICAgICAgICAgIH1yZXR1cm4gYS5wcmVmaXhTdGF0ZU5hbWUgJiYgaihkLCBhLnByZWZpeFN0YXRlTmFtZSksIGQ7XG5cdCAgICAgICAgfSwgZ2V0TGFzdFN0ZXA6IGZ1bmN0aW9uIGdldExhc3RTdGVwKCkge1xuXHQgICAgICAgICAgdmFyIGEgPSB0aGlzLmdldFN0YXRlc0NoYWluKCEwKTtyZXR1cm4gYS5sZW5ndGggPyBhWzBdIDogYztcblx0ICAgICAgICB9LCAkZ2V0TGFzdFZpZXdTY29wZTogZnVuY3Rpb24gJGdldExhc3RWaWV3U2NvcGUoKSB7XG5cdCAgICAgICAgICByZXR1cm4gaDtcblx0ICAgICAgICB9IH07XG5cdCAgICB9XTtcblx0ICB9ZnVuY3Rpb24gZyhhLCBjLCBkKSB7XG5cdCAgICB2YXIgZSA9IHsgYm9vdHN0cmFwMjogJzx1bCBjbGFzcz1cImJyZWFkY3J1bWJcIj48bGkgbmctcmVwZWF0PVwic3RlcCBpbiBzdGVwc1wiIG5nLXN3aXRjaD1cIiRsYXN0IHx8ICEhc3RlcC5hYnN0cmFjdFwiIG5nLWNsYXNzPVwie2FjdGl2ZTogJGxhc3R9XCI+PGEgbmctc3dpdGNoLXdoZW49XCJmYWxzZVwiIGhyZWY9XCJ7e3N0ZXAubmN5QnJlYWRjcnVtYkxpbmt9fVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvYT48c3BhbiBuZy1zd2l0Y2gtd2hlbj1cInRydWVcIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L3NwYW4+PHNwYW4gY2xhc3M9XCJkaXZpZGVyXCIgbmctaGlkZT1cIiRsYXN0XCI+Lzwvc3Bhbj48L2xpPjwvdWw+JywgYm9vdHN0cmFwMzogJzxvbCBjbGFzcz1cImJyZWFkY3J1bWJcIj48bGkgbmctcmVwZWF0PVwic3RlcCBpbiBzdGVwc1wiIG5nLWNsYXNzPVwie2FjdGl2ZTogJGxhc3R9XCIgbmctc3dpdGNoPVwiJGxhc3QgfHwgISFzdGVwLmFic3RyYWN0XCI+PGEgbmctc3dpdGNoLXdoZW49XCJmYWxzZVwiIGhyZWY9XCJ7e3N0ZXAubmN5QnJlYWRjcnVtYkxpbmt9fVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvYT48c3BhbiBuZy1zd2l0Y2gtd2hlbj1cInRydWVcIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L3NwYW4+PC9saT48L29sPicgfTtyZXR1cm4geyByZXN0cmljdDogXCJBRVwiLCByZXBsYWNlOiAhMCwgc2NvcGU6IHt9LCB0ZW1wbGF0ZTogYy5nZXRUZW1wbGF0ZShlKSwgdGVtcGxhdGVVcmw6IGMuZ2V0VGVtcGxhdGVVcmwoKSwgbGluazogeyBwb3N0OiBmdW5jdGlvbiBwb3N0KGUpIHtcblx0ICAgICAgICAgIHZhciBmID0gW10sXG5cdCAgICAgICAgICAgICAgZyA9IGZ1bmN0aW9uIGcoKSB7XG5cdCAgICAgICAgICAgIGwoZiksIGYgPSBbXTt2YXIgZCA9IGMuJGdldExhc3RWaWV3U2NvcGUoKTtlLnN0ZXBzID0gYy5nZXRTdGF0ZXNDaGFpbigpLCBiLmZvckVhY2goZS5zdGVwcywgZnVuY3Rpb24gKGIpIHtcblx0ICAgICAgICAgICAgICBpZiAoYi5uY3lCcmVhZGNydW1iICYmIGIubmN5QnJlYWRjcnVtYi5sYWJlbCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGMgPSBhKGIubmN5QnJlYWRjcnVtYi5sYWJlbCk7Yi5uY3lCcmVhZGNydW1iTGFiZWwgPSBjKGQpLCBrKGYsIGMsIGQsIGIpO1xuXHQgICAgICAgICAgICAgIH0gZWxzZSBiLm5jeUJyZWFkY3J1bWJMYWJlbCA9IGIubmFtZTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB9O2QuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgICAgICAgIGEudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZSB8fCBnKCk7XG5cdCAgICAgICAgICB9KSwgZygpO1xuXHQgICAgICAgIH0gfSB9O1xuXHQgIH1mdW5jdGlvbiBoKGEsIGIsIGMpIHtcblx0ICAgIHJldHVybiB7IHJlc3RyaWN0OiBcIkFcIiwgc2NvcGU6IHt9LCB0ZW1wbGF0ZTogXCJ7e25jeUJyZWFkY3J1bWJMYWJlbH19XCIsIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUoZCwgZSkge1xuXHQgICAgICAgIHZhciBmID0gZC5hdHRyKGUuJGF0dHIubmN5QnJlYWRjcnVtYkxhc3QpO3JldHVybiBmICYmIGQuaHRtbChmKSwgeyBwb3N0OiBmdW5jdGlvbiBwb3N0KGQpIHtcblx0ICAgICAgICAgICAgdmFyIGUgPSBbXSxcblx0ICAgICAgICAgICAgICAgIGYgPSBmdW5jdGlvbiBmKCkge1xuXHQgICAgICAgICAgICAgIGwoZSksIGUgPSBbXTt2YXIgYyA9IGIuJGdldExhc3RWaWV3U2NvcGUoKSxcblx0ICAgICAgICAgICAgICAgICAgZiA9IGIuZ2V0TGFzdFN0ZXAoKTtpZiAoZikgaWYgKGQubmN5QnJlYWRjcnVtYkxpbmsgPSBmLm5jeUJyZWFkY3J1bWJMaW5rLCBmLm5jeUJyZWFkY3J1bWIgJiYgZi5uY3lCcmVhZGNydW1iLmxhYmVsKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgZyA9IGEoZi5uY3lCcmVhZGNydW1iLmxhYmVsKTtkLm5jeUJyZWFkY3J1bWJMYWJlbCA9IGcoYyksIGsoZSwgZywgYywgZCk7XG5cdCAgICAgICAgICAgICAgfSBlbHNlIGQubmN5QnJlYWRjcnVtYkxhYmVsID0gZi5uYW1lO1xuXHQgICAgICAgICAgICB9O2MuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgICAgICAgICAgYS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlIHx8IGYoKTtcblx0ICAgICAgICAgICAgfSksIGYoKTtcblx0ICAgICAgICAgIH0gfTtcblx0ICAgICAgfSB9O1xuXHQgIH1mdW5jdGlvbiBpKGEsIGMsIGQpIHtcblx0ICAgIHJldHVybiB7IHJlc3RyaWN0OiBcIkFcIiwgc2NvcGU6IHt9LCB0ZW1wbGF0ZTogXCJ7e25jeUJyZWFkY3J1bWJDaGFpbn19XCIsIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUoZSwgZikge1xuXHQgICAgICAgIHZhciBnID0gZS5hdHRyKGYuJGF0dHIubmN5QnJlYWRjcnVtYlRleHQpO2cgJiYgZS5odG1sKGcpO3ZhciBoID0gZS5hdHRyKGYuJGF0dHIubmN5QnJlYWRjcnVtYlRleHRTZXBhcmF0b3IpIHx8IFwiIC8gXCI7cmV0dXJuIHsgcG9zdDogZnVuY3Rpb24gcG9zdChlKSB7XG5cdCAgICAgICAgICAgIHZhciBmID0gW10sXG5cdCAgICAgICAgICAgICAgICBnID0gZnVuY3Rpb24gZyhhLCBjLCBkKSB7XG5cdCAgICAgICAgICAgICAgYi5mb3JFYWNoKGooYyksIGZ1bmN0aW9uIChiKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgYyA9IGQuJHdhdGNoKGIsIGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgICAgICAgICAgICAgIGEgIT09IGIgJiYgaSgpO1xuXHQgICAgICAgICAgICAgICAgfSk7YS5wdXNoKGMpO1xuXHQgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICAgICAgaSA9IGZ1bmN0aW9uIGkoKSB7XG5cdCAgICAgICAgICAgICAgbChmKSwgZiA9IFtdO3ZhciBkID0gYy4kZ2V0TGFzdFZpZXdTY29wZSgpLFxuXHQgICAgICAgICAgICAgICAgICBpID0gYy5nZXRTdGF0ZXNDaGFpbigpLFxuXHQgICAgICAgICAgICAgICAgICBqID0gW107Yi5mb3JFYWNoKGksIGZ1bmN0aW9uIChiKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoYi5uY3lCcmVhZGNydW1iICYmIGIubmN5QnJlYWRjcnVtYi5sYWJlbCkge1xuXHQgICAgICAgICAgICAgICAgICB2YXIgYyA9IGEoYi5uY3lCcmVhZGNydW1iLmxhYmVsKTtqLnB1c2goYyhkKSksIGcoZiwgYywgZCk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Ugai5wdXNoKGIubmFtZSk7XG5cdCAgICAgICAgICAgICAgfSksIGUubmN5QnJlYWRjcnVtYkNoYWluID0gai5qb2luKGgpO1xuXHQgICAgICAgICAgICB9O2QuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uIChhKSB7XG5cdCAgICAgICAgICAgICAgYS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlIHx8IGkoKTtcblx0ICAgICAgICAgICAgfSksIGkoKTtcblx0ICAgICAgICAgIH0gfTtcblx0ICAgICAgfSB9O1xuXHQgIH12YXIgaiA9IGZ1bmN0aW9uIGooYSkge1xuXHQgICAgaWYgKGEuZXhwcmVzc2lvbnMpIHJldHVybiBhLmV4cHJlc3Npb25zO3ZhciBjID0gW107cmV0dXJuIGIuZm9yRWFjaChhLnBhcnRzLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICBiLmlzRnVuY3Rpb24oYSkgJiYgYy5wdXNoKGEuZXhwKTtcblx0ICAgIH0pLCBjO1xuXHQgIH0sXG5cdCAgICAgIGsgPSBmdW5jdGlvbiBrKGEsIGMsIGQsIGUpIHtcblx0ICAgIGIuZm9yRWFjaChqKGMpLCBmdW5jdGlvbiAoYikge1xuXHQgICAgICB2YXIgZiA9IGQuJHdhdGNoKGIsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBlLm5jeUJyZWFkY3J1bWJMYWJlbCA9IGMoZCk7XG5cdCAgICAgIH0pO2EucHVzaChmKTtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgICAgIGwgPSBmdW5jdGlvbiBsKGEpIHtcblx0ICAgIGIuZm9yRWFjaChhLCBmdW5jdGlvbiAoYSkge1xuXHQgICAgICBhKCk7XG5cdCAgICB9KTtcblx0ICB9O2cuJGluamVjdCA9IFtcIiRpbnRlcnBvbGF0ZVwiLCBcIiRicmVhZGNydW1iXCIsIFwiJHJvb3RTY29wZVwiXSwgaC4kaW5qZWN0ID0gW1wiJGludGVycG9sYXRlXCIsIFwiJGJyZWFkY3J1bWJcIiwgXCIkcm9vdFNjb3BlXCJdLCBpLiRpbmplY3QgPSBbXCIkaW50ZXJwb2xhdGVcIiwgXCIkYnJlYWRjcnVtYlwiLCBcIiRyb290U2NvcGVcIl0sIGIubW9kdWxlKFwibmN5LWFuZ3VsYXItYnJlYWRjcnVtYlwiLCBbXCJ1aS5yb3V0ZXIuc3RhdGVcIl0pLnByb3ZpZGVyKFwiJGJyZWFkY3J1bWJcIiwgZikuZGlyZWN0aXZlKFwibmN5QnJlYWRjcnVtYlwiLCBnKS5kaXJlY3RpdmUoXCJuY3lCcmVhZGNydW1iTGFzdFwiLCBoKS5kaXJlY3RpdmUoXCJuY3lCcmVhZGNydW1iVGV4dFwiLCBpKTtcblx0fSh3aW5kb3csIHdpbmRvdy5hbmd1bGFyKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNTk2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGpRdWVyeSkgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzIpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQoZnVuY3Rpb24gKG1vbWVudCkge1xuXHRcblx0ICAndXNlIHN0cmljdCc7XG5cdFxuXHQgIHZhciBtb2R1bGVOYW1lID0gXCJuZ01hdGVyaWFsRGF0ZVBpY2tlclwiO1xuXHRcblx0ICB2YXIgVklFV19TVEFURVMgPSB7XG5cdCAgICBEQVRFOiAwLFxuXHQgICAgSE9VUjogMSxcblx0ICAgIE1JTlVURTogMlxuXHQgIH07XG5cdFxuXHQgIHZhciBjc3MgPSBmdW5jdGlvbiBjc3MoZWwsIG5hbWUpIHtcblx0ICAgIGlmICgnalF1ZXJ5JyBpbiB3aW5kb3cpIHtcblx0ICAgICAgcmV0dXJuIGpRdWVyeShlbCkuY3NzKG5hbWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZWwgPSBhbmd1bGFyLmVsZW1lbnQoZWwpO1xuXHQgICAgICByZXR1cm4gJ2dldENvbXB1dGVkU3R5bGUnIGluIHdpbmRvdyA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsWzBdKVtuYW1lXSA6IGVsLmNzcyhuYW1lKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2YXIgdGVtcGxhdGUgPSAnPG1kLWRpYWxvZyBjbGFzcz1cImR0cFwiIGxheW91dD1cImNvbHVtblwiIHN0eWxlPVwid2lkdGg6IDMwMHB4O1wiPicgKyAnICAgIDxtZC1kaWFsb2ctY29udGVudCBjbGFzcz1cImR0cC1jb250ZW50XCI+JyArICcgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtZGF0ZS12aWV3XCI+JyArICcgICAgICAgICAgICA8aGVhZGVyIGNsYXNzPVwiZHRwLWhlYWRlclwiPicgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLWRheVwiIG5nLXNob3c9XCJwaWNrZXIuZGF0ZU1vZGVcIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJkZGRkXCIpfX08L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1kYXlcIiBuZy1zaG93PVwicGlja2VyLnRpbWVNb2RlXCI+e3twaWNrZXIucGFyYW1zLnNob3J0VGltZSA/IHBpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJBXCIpIDogXCIgXCJ9fTwvZGl2PicgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtY2xvc2UgdGV4dC1yaWdodFwiPicgKyAnICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBuZy1jbGljaz1cInBpY2tlci5oaWRlKClcIj4mdGltZXM7PC9hPicgKyAnICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgPC9oZWFkZXI+JyArICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWRhdGVcIiBuZy1zaG93PVwicGlja2VyLnBhcmFtcy5kYXRlXCI+JyArICcgICAgICAgICAgICAgICAgPGRpdiBsYXlvdXQ9XCJjb2x1bW5cIj4nICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbW9udGhcIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJNTU1cIikgfCB1cHBlcmNhc2V9fTwvZGl2PicgKyAnICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW51bVwiPnt7cGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcIkREXCIpfX08L2Rpdj4nICsgJyAgICAgICAgICAgICAgICA8ZGl2IGxheW91dD1cInJvd1wiPicgKyAnIDxkaXYgbmctY2xpY2s9XCJwaWNrZXIuaW5jcmVtZW50WWVhcigtMSlcIiBjbGFzcz1cImR0cC15ZWFyLWJ0biBkdHAteWVhci1idG4tcHJldlwiIGZsZXg9XCIzMFwiPjxzcGFuIG5nLWlmPVwicGlja2VyLmlzUHJldmlvdXNZZWFyVmlzaWJsZSgpXCIgPiYjeDI1QjI7PC9zcGFuPjwvZGl2PicgKyAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC15ZWFyXCIgZmxleD57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJZWVlZXCIpfX08L2Rpdj4nICsgJyA8ZGl2IG5nLWNsaWNrPVwicGlja2VyLmluY3JlbWVudFllYXIoMSlcIiBjbGFzcz1cImR0cC15ZWFyLWJ0biBkdHAteWVhci1idG4tbmV4dFwiIGZsZXg9XCIzMFwiPjxzcGFuIG5nLWlmPVwicGlja2VyLmlzTmV4dFllYXJWaXNpYmxlKClcIiA+JiN4MjVCQzs8L3NwYW4+PC9kaXY+JyArICcgICAgICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgICAgICA8L2Rpdj4nIC8vc3RhcnQgdGltZVxuXHQgICsgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtdGltZVwiIG5nLXNob3c9XCJwaWNrZXIucGFyYW1zLnRpbWUgJiYgIXBpY2tlci5wYXJhbXMuZGF0ZVwiPicgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW1heHRpbWVcIj57e3BpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKS5mb3JtYXQocGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBcImhoOm1tXCIgOiBcIkhIOm1tXCIpfX08L2Rpdj4nICsgJyAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1waWNrZXJcIj4nICsgJyAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhciBkYXRlPVwicGlja2VyLmN1cnJlbnREYXRlXCIgcGlja2VyPVwicGlja2VyXCIgY2xhc3M9XCJkdHAtcGlja2VyLWNhbGVuZGFyXCIgbmctc2hvdz1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLkRBVEVcIj48L21kYy1kYXRldGltZS1waWNrZXItY2FsZW5kYXI+JyArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1waWNrZXItZGF0ZXRpbWVcIiBuZy1zaG93PVwicGlja2VyLmN1cnJlbnRWaWV3ICE9PSBwaWNrZXIuVklFV1MuREFURVwiPicgKyAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWFjdHVhbC1tZXJpZGllblwiPicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZnQgcDIwXCI+JyArICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgY2xhc3M9XCJkdHAtbWVyaWRpZW4tYW1cIiBuZy1jbGFzcz1cIntzZWxlY3RlZDogcGlja2VyLm1lcmlkaWVuID09IFxcJ0FNXFwnfVwiIG5nLWNsaWNrPVwicGlja2VyLnNlbGVjdEFNKClcIj57e3BpY2tlci5wYXJhbXMuYW1UZXh0fX08L2E+JyArICcgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctc2hvdz1cIiFwaWNrZXIudGltZU1vZGVcIiBjbGFzcz1cImR0cC1hY3R1YWwtdGltZSBwNjBcIj57e3BpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKS5mb3JtYXQocGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBcImhoOm1tXCIgOiBcIkhIOm1tXCIpfX08L2Rpdj4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodCBwMjBcIj4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImR0cC1tZXJpZGllbi1wbVwiIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwaWNrZXIubWVyaWRpZW4gPT0gXFwnUE1cXCd9XCIgbmctY2xpY2s9XCJwaWNrZXIuc2VsZWN0UE0oKVwiPnt7cGlja2VyLnBhcmFtcy5wbVRleHR9fTwvYT4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+JyArICcgICAgICAgICAgICAgICAgICAgIDwvZGl2PicgKyAnICAgICAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jayBtb2RlPVwiaG91cnNcIiBuZy1pZj1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLkhPVVJcIj48L21kYy1kYXRldGltZS1waWNrZXItY2xvY2s+JyArICcgICAgICAgICAgICAgICAgICAgIDxtZGMtZGF0ZXRpbWUtcGlja2VyLWNsb2NrIG1vZGU9XCJtaW51dGVzXCIgbmctaWY9XCJwaWNrZXIuY3VycmVudFZpZXcgPT09IHBpY2tlci5WSUVXUy5NSU5VVEVcIj48L21kYy1kYXRldGltZS1waWNrZXItY2xvY2s+JyArICcgICAgICAgICAgICAgICAgPC9kaXY+JyArICcgICAgICAgICAgICA8L2Rpdj4nICsgJyAgICAgICAgPC9kaXY+JyArICcgICAgPC9tZC1kaWFsb2ctY29udGVudD4nICsgJyAgICA8bWQtZGlhbG9nLWFjdGlvbnMgY2xhc3M9XCJkdHAtYnV0dG9uc1wiPicgKyAnICAgICAgICAgICAgPG1kLWJ1dHRvbiBjbGFzcz1cImR0cC1idG4tY2FuY2VsIG1kLWJ1dHRvblwiIG5nLWNsaWNrPVwicGlja2VyLmNhbmNlbCgpXCI+IHt7cGlja2VyLnBhcmFtcy5jYW5jZWxUZXh0fX08L21kLWJ1dHRvbj4nICsgJyAgICAgICAgICAgIDxtZC1idXR0b24gY2xhc3M9XCJkdHAtYnRuLW9rIG1kLWJ1dHRvblwiIG5nLWNsaWNrPVwicGlja2VyLm9rKClcIj4ge3twaWNrZXIucGFyYW1zLm9rVGV4dH19PC9tZC1idXR0b24+JyArICcgICAgICA8L21kLWRpYWxvZy1hY3Rpb25zPicgKyAnPC9tZC1kaWFsb2c+Jztcblx0XG5cdCAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSwgWyduZ01hdGVyaWFsJ10pLnByb3ZpZGVyKCdtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLmxvY2FsZSA9ICdlbic7XG5cdFxuXHQgICAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5sb2NhbGU7XG5cdCAgICB9O1xuXHRcblx0ICAgIHRoaXMuc2V0RGVmYXVsdExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGVTdHJpbmcpIHtcblx0ICAgICAgdGhpcy5sb2NhbGUgPSBsb2NhbGVTdHJpbmc7XG5cdCAgICB9O1xuXHQgIH0pLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXInLCBbJyRtZERpYWxvZycsIGZ1bmN0aW9uICgkbWREaWFsb2cpIHtcblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICByZXN0cmljdDogJ0EnLFxuXHQgICAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG5cdCAgICAgIHNjb3BlOiB7XG5cdCAgICAgICAgY3VycmVudERhdGU6ICc9bmdNb2RlbCcsXG5cdCAgICAgICAgdGltZTogJz0nLFxuXHQgICAgICAgIGRhdGU6ICc9Jyxcblx0ICAgICAgICBtaW5EYXRlOiAnPScsXG5cdCAgICAgICAgbWF4RGF0ZTogJz0nLFxuXHQgICAgICAgIHNob3J0VGltZTogJz0nLFxuXHQgICAgICAgIGZvcm1hdDogJ0AnLFxuXHQgICAgICAgIGNhbmNlbFRleHQ6ICdAJyxcblx0ICAgICAgICBva1RleHQ6ICdAJyxcblx0ICAgICAgICBsYW5nOiAnQCcsXG5cdCAgICAgICAgYW1UZXh0OiAnQCcsXG5cdCAgICAgICAgcG1UZXh0OiAnQCdcblx0ICAgICAgfSxcblx0ICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcblx0ICAgICAgICB2YXIgaXNPbiA9IGZhbHNlO1xuXHQgICAgICAgIGlmICghc2NvcGUuZm9ybWF0KSB7XG5cdCAgICAgICAgICBpZiAoc2NvcGUuZGF0ZSAmJiBzY29wZS50aW1lKSB7XG5cdCAgICAgICAgICAgIHNjb3BlLmZvcm1hdCA9ICdZWVlZLU1NLUREIEhIOm1tOnNzJztcblx0ICAgICAgICAgIH0gZWxzZSBpZiAoc2NvcGUuZGF0ZSkge1xuXHQgICAgICAgICAgICBzY29wZS5mb3JtYXQgPSAnWVlZWS1NTS1ERCc7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBzY29wZS5mb3JtYXQgPSAnSEg6bW0nO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoc2NvcGUuY3VycmVudERhdGUpICYmIHNjb3BlLmN1cnJlbnREYXRlICE9PSAnJykge1xuXHQgICAgICAgICAgc2NvcGUuY3VycmVudERhdGUgPSBtb21lbnQoc2NvcGUuY3VycmVudERhdGUsIHNjb3BlLmZvcm1hdCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAobmdNb2RlbCkge1xuXHQgICAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgbSA9IG1vbWVudCh2YWx1ZSk7XG5cdCAgICAgICAgICAgIHJldHVybiBtLmlzVmFsaWQoKSA/IG0uZm9ybWF0KHNjb3BlLmZvcm1hdCkgOiAnJztcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZWxlbWVudC5hdHRyKCdyZWFkb25seScsICcnKTtcblx0ICAgICAgICAvL0BUT0RPIGN1c3RvbSBldmVudCB0byB0cmlnZ2VyIGlucHV0XG5cdCAgICAgICAgZWxlbWVudC5vbignZm9jdXMnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgZWxlbWVudC5ibHVyKCk7XG5cdCAgICAgICAgICBpZiAoaXNPbikge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpc09uID0gdHJ1ZTtcblx0ICAgICAgICAgIHZhciBvcHRpb25zID0ge307XG5cdCAgICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJzKSB7XG5cdCAgICAgICAgICAgIGlmIChzY29wZS5oYXNPd25Qcm9wZXJ0eShpKSAmJiAhYW5ndWxhci5pc1VuZGVmaW5lZChzY29wZVtpXSkpIHtcblx0ICAgICAgICAgICAgICBvcHRpb25zW2ldID0gc2NvcGVbaV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIG9wdGlvbnMuY3VycmVudERhdGUgPSBzY29wZS5jdXJyZW50RGF0ZTtcblx0ICAgICAgICAgIHZhciBsb2NhbHMgPSB7IG9wdGlvbnM6IG9wdGlvbnMgfTtcblx0ICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcblx0ICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuXHQgICAgICAgICAgICBjb250cm9sbGVyOiBQbHVnaW5Db250cm9sbGVyLFxuXHQgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwaWNrZXInLFxuXHQgICAgICAgICAgICBsb2NhbHM6IGxvY2Fscyxcblx0ICAgICAgICAgICAgb3BlbkZyb206IGVsZW1lbnQsXG5cdCAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxuXHQgICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxuXHQgICAgICAgICAgICBkaXNhYmxlUGFyZW50U2Nyb2xsOiBmYWxzZVxuXHQgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodikge1xuXHQgICAgICAgICAgICBzY29wZS5jdXJyZW50RGF0ZSA9IHYgPyB2Ll9kIDogdjtcblx0ICAgICAgICAgICAgaXNPbiA9IGZhbHNlO1xuXHQgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBpc09uID0gZmFsc2U7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICB9XSk7XG5cdFxuXHQgIHZhciBQbHVnaW5Db250cm9sbGVyID0gZnVuY3Rpb24gUGx1Z2luQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZywgbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlKSB7XG5cdCAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuREFURTtcblx0ICAgIHRoaXMuX2RpYWxvZyA9ICRtZERpYWxvZztcblx0XG5cdCAgICB0aGlzLm1pbkRhdGU7XG5cdCAgICB0aGlzLm1heERhdGU7XG5cdFxuXHQgICAgdGhpcy5fYXR0YWNoZWRFdmVudHMgPSBbXTtcblx0ICAgIHRoaXMuVklFV1MgPSBWSUVXX1NUQVRFUztcblx0XG5cdCAgICB0aGlzLnBhcmFtcyA9IHtcblx0ICAgICAgZGF0ZTogdHJ1ZSxcblx0ICAgICAgdGltZTogdHJ1ZSxcblx0ICAgICAgZm9ybWF0OiAnWVlZWS1NTS1ERCcsXG5cdCAgICAgIG1pbkRhdGU6IG51bGwsXG5cdCAgICAgIG1heERhdGU6IG51bGwsXG5cdCAgICAgIGN1cnJlbnREYXRlOiBudWxsLFxuXHQgICAgICBsYW5nOiBtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUsXG5cdCAgICAgIHdlZWtTdGFydDogMCxcblx0ICAgICAgc2hvcnRUaW1lOiBmYWxzZSxcblx0ICAgICAgY2FuY2VsVGV4dDogJ0NhbmNlbCcsXG5cdCAgICAgIG9rVGV4dDogJ09LJyxcblx0ICAgICAgYW1UZXh0OiAnQU0nLFxuXHQgICAgICBwbVRleHQ6ICdQTSdcblx0ICAgIH07XG5cdFxuXHQgICAgdGhpcy5tZXJpZGllbiA9ICdBTSc7XG5cdCAgICB0aGlzLnBhcmFtcyA9IGFuZ3VsYXIuZXh0ZW5kKHRoaXMucGFyYW1zLCB0aGlzLm9wdGlvbnMpO1xuXHQgICAgdGhpcy5pbml0KCk7XG5cdCAgfTtcblx0ICBQbHVnaW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbWREaWFsb2cnLCAnbWRjRGF0ZXRpbWVQaWNrZXJEZWZhdWx0TG9jYWxlJ107XG5cdCAgUGx1Z2luQ29udHJvbGxlci5wcm90b3R5cGUgPSB7XG5cdCAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuXHQgICAgICB0aGlzLnRpbWVNb2RlID0gdGhpcy5wYXJhbXMudGltZSAmJiAhdGhpcy5wYXJhbXMuZGF0ZTtcblx0ICAgICAgdGhpcy5kYXRlTW9kZSA9IHRoaXMucGFyYW1zLmRhdGU7XG5cdCAgICAgIHRoaXMuaW5pdERhdGVzKCk7XG5cdCAgICAgIHRoaXMuc3RhcnQoKTtcblx0ICAgIH0sXG5cdCAgICBjdXJyZW50TmVhcmVzdDVNaW51dGU6IGZ1bmN0aW9uIGN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpIHtcblx0ICAgICAgdmFyIGRhdGUgPSB0aGlzLmN1cnJlbnREYXRlIHx8IG1vbWVudCgpO1xuXHQgICAgICB2YXIgbWludXRlcyA9IDUgKiBNYXRoLnJvdW5kKGRhdGUubWludXRlKCkgLyA1KTtcblx0ICAgICAgaWYgKG1pbnV0ZXMgPj0gNjApIHtcblx0ICAgICAgICBtaW51dGVzID0gNTU7IC8vYWx3YXlzIHB1c2ggZG93blxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBtb21lbnQoZGF0ZSkubWludXRlcyhtaW51dGVzKTtcblx0ICAgIH0sXG5cdCAgICBpbml0RGF0ZXM6IGZ1bmN0aW9uIGluaXREYXRlcygpIHtcblx0ICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXHQgICAgICB2YXIgX2RhdGVQYXJhbSA9IGZ1bmN0aW9uIF9kYXRlUGFyYW0oaW5wdXQsIGZhbGxiYWNrKSB7XG5cdCAgICAgICAgdmFyIHJldCA9IG51bGw7XG5cdCAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGlucHV0KSAmJiBpbnB1dCAhPT0gbnVsbCAmJiBpbnB1dCAhPT0gJycpIHtcblx0ICAgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGlucHV0KSkge1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIHRoYXQucGFyYW1zLmZvcm1hdCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhhdC5wYXJhbXMuZm9ybWF0ICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgcmV0ID0gbW9tZW50KGlucHV0LCB0aGF0LnBhcmFtcy5mb3JtYXQpLmxvY2FsZSh0aGF0LnBhcmFtcy5sYW5nKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICByZXQgPSBtb21lbnQoaW5wdXQpLmxvY2FsZSh0aGF0LnBhcmFtcy5sYW5nKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKGlucHV0KSkge1xuXHQgICAgICAgICAgICAgIHZhciB4ID0gaW5wdXQuZ2V0VGltZSgpO1xuXHQgICAgICAgICAgICAgIHJldCA9IG1vbWVudCh4LCBcInhcIikubG9jYWxlKHRoYXQucGFyYW1zLmxhbmcpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0Ll9pc0FNb21lbnRPYmplY3QpIHtcblx0ICAgICAgICAgICAgICByZXQgPSBpbnB1dDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXQgPSBmYWxsYmFjaztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHJldDtcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHRoaXMuY3VycmVudERhdGUgPSBfZGF0ZVBhcmFtKHRoaXMucGFyYW1zLmN1cnJlbnREYXRlLCBtb21lbnQoKSk7XG5cdCAgICAgIHRoaXMubWluRGF0ZSA9IF9kYXRlUGFyYW0odGhpcy5wYXJhbXMubWluRGF0ZSk7XG5cdCAgICAgIHRoaXMubWF4RGF0ZSA9IF9kYXRlUGFyYW0odGhpcy5wYXJhbXMubWF4RGF0ZSk7XG5cdCAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlKTtcblx0ICAgIH0sXG5cdCAgICBpbml0RGF0ZTogZnVuY3Rpb24gaW5pdERhdGUoZCkge1xuXHQgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuREFURTtcblx0ICAgIH0sXG5cdCAgICBpbml0SG91cnM6IGZ1bmN0aW9uIGluaXRIb3VycygpIHtcblx0ICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkhPVVI7XG5cdCAgICB9LFxuXHQgICAgaW5pdE1pbnV0ZXM6IGZ1bmN0aW9uIGluaXRNaW51dGVzKCkge1xuXHQgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuTUlOVVRFO1xuXHQgICAgfSxcblx0ICAgIGlzQWZ0ZXJNaW5EYXRlOiBmdW5jdGlvbiBpc0FmdGVyTWluRGF0ZShkYXRlLCBjaGVja0hvdXIsIGNoZWNrTWludXRlKSB7XG5cdCAgICAgIHZhciBfcmV0dXJuID0gdHJ1ZTtcblx0XG5cdCAgICAgIGlmICh0eXBlb2YgdGhpcy5taW5EYXRlICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm1pbkRhdGUgIT09IG51bGwpIHtcblx0ICAgICAgICB2YXIgX21pbkRhdGUgPSBtb21lbnQodGhpcy5taW5EYXRlKTtcblx0ICAgICAgICB2YXIgX2RhdGUgPSBtb21lbnQoZGF0ZSk7XG5cdFxuXHQgICAgICAgIGlmICghY2hlY2tIb3VyICYmICFjaGVja01pbnV0ZSkge1xuXHQgICAgICAgICAgX21pbkRhdGUuaG91cigwKTtcblx0ICAgICAgICAgIF9taW5EYXRlLm1pbnV0ZSgwKTtcblx0XG5cdCAgICAgICAgICBfZGF0ZS5ob3VyKDApO1xuXHQgICAgICAgICAgX2RhdGUubWludXRlKDApO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgX21pbkRhdGUuc2Vjb25kKDApO1xuXHQgICAgICAgIF9kYXRlLnNlY29uZCgwKTtcblx0ICAgICAgICBfbWluRGF0ZS5taWxsaXNlY29uZCgwKTtcblx0ICAgICAgICBfZGF0ZS5taWxsaXNlY29uZCgwKTtcblx0XG5cdCAgICAgICAgaWYgKCFjaGVja01pbnV0ZSkge1xuXHQgICAgICAgICAgX2RhdGUubWludXRlKDApO1xuXHQgICAgICAgICAgX21pbkRhdGUubWludXRlKDApO1xuXHRcblx0ICAgICAgICAgIF9yZXR1cm4gPSBwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA+PSBwYXJzZUludChfbWluRGF0ZS5mb3JtYXQoXCJYXCIpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX3JldHVybiA9IHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpID49IHBhcnNlSW50KF9taW5EYXRlLmZvcm1hdChcIlhcIikpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZXR1cm47XG5cdCAgICB9LFxuXHQgICAgaXNCZWZvcmVNYXhEYXRlOiBmdW5jdGlvbiBpc0JlZm9yZU1heERhdGUoZGF0ZSwgY2hlY2tUaW1lLCBjaGVja01pbnV0ZSkge1xuXHQgICAgICB2YXIgX3JldHVybiA9IHRydWU7XG5cdFxuXHQgICAgICBpZiAodHlwZW9mIHRoaXMubWF4RGF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5tYXhEYXRlICE9PSBudWxsKSB7XG5cdCAgICAgICAgdmFyIF9tYXhEYXRlID0gbW9tZW50KHRoaXMubWF4RGF0ZSk7XG5cdCAgICAgICAgdmFyIF9kYXRlID0gbW9tZW50KGRhdGUpO1xuXHRcblx0ICAgICAgICBpZiAoIWNoZWNrVGltZSAmJiAhY2hlY2tNaW51dGUpIHtcblx0ICAgICAgICAgIF9tYXhEYXRlLmhvdXIoMCk7XG5cdCAgICAgICAgICBfbWF4RGF0ZS5taW51dGUoMCk7XG5cdFxuXHQgICAgICAgICAgX2RhdGUuaG91cigwKTtcblx0ICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIF9tYXhEYXRlLnNlY29uZCgwKTtcblx0ICAgICAgICBfZGF0ZS5zZWNvbmQoMCk7XG5cdCAgICAgICAgX21heERhdGUubWlsbGlzZWNvbmQoMCk7XG5cdCAgICAgICAgX2RhdGUubWlsbGlzZWNvbmQoMCk7XG5cdFxuXHQgICAgICAgIGlmICghY2hlY2tNaW51dGUpIHtcblx0ICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcblx0ICAgICAgICAgIF9tYXhEYXRlLm1pbnV0ZSgwKTtcblx0XG5cdCAgICAgICAgICBfcmV0dXJuID0gcGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPD0gcGFyc2VJbnQoX21heERhdGUuZm9ybWF0KFwiWFwiKSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIF9yZXR1cm4gPSBwYXJzZUludChfZGF0ZS5mb3JtYXQoXCJYXCIpKSA8PSBwYXJzZUludChfbWF4RGF0ZS5mb3JtYXQoXCJYXCIpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmV0dXJuO1xuXHQgICAgfSxcblx0ICAgIHNlbGVjdERhdGU6IGZ1bmN0aW9uIHNlbGVjdERhdGUoZGF0ZSkge1xuXHQgICAgICBpZiAoZGF0ZSkge1xuXHQgICAgICAgIHRoaXMuY3VycmVudERhdGUgPSBtb21lbnQoZGF0ZSk7XG5cdCAgICAgICAgaWYgKCF0aGlzLmlzQWZ0ZXJNaW5EYXRlKHRoaXMuY3VycmVudERhdGUpKSB7XG5cdCAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KHRoaXMubWluRGF0ZSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoIXRoaXMuaXNCZWZvcmVNYXhEYXRlKHRoaXMuY3VycmVudERhdGUpKSB7XG5cdCAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KHRoaXMubWF4RGF0ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuY3VycmVudERhdGUubG9jYWxlKHRoaXMucGFyYW1zLmxhbmcpO1xuXHQgICAgICAgIHRoaXMuY2FsZW5kYXJTdGFydCA9IG1vbWVudCh0aGlzLmN1cnJlbnREYXRlKTtcblx0ICAgICAgICB0aGlzLm1lcmlkaWVuID0gdGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkgPj0gMTIgPyAnUE0nIDogJ0FNJztcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHNldE5hbWU6IGZ1bmN0aW9uIHNldE5hbWUoKSB7XG5cdCAgICAgIHZhciB0ZXh0ID0gXCJcIjtcblx0ICAgICAgdmFyIHBvc3NpYmxlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcblx0ICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHRleHQ7XG5cdCAgICB9LFxuXHQgICAgaXNQTTogZnVuY3Rpb24gaXNQTSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMubWVyaWRpZW4gPT09ICdQTSc7XG5cdCAgICB9LFxuXHQgICAgaW5jcmVtZW50WWVhcjogZnVuY3Rpb24gaW5jcmVtZW50WWVhcihhbW91bnQpIHtcblx0ICAgICAgaWYgKGFtb3VudCA9PT0gMSAmJiB0aGlzLmlzTmV4dFllYXJWaXNpYmxlKCkpIHtcblx0ICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5hZGQoJ3llYXInLCBhbW91bnQpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKGFtb3VudCA9PT0gLTEgJiYgdGhpcy5pc1ByZXZpb3VzWWVhclZpc2libGUoKSkge1xuXHQgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmFkZCgneWVhcicsIGFtb3VudCkpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgaXNQcmV2aW91c01vbnRoVmlzaWJsZTogZnVuY3Rpb24gaXNQcmV2aW91c01vbnRoVmlzaWJsZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLnN0YXJ0T2YoJ21vbnRoJyksIGZhbHNlLCBmYWxzZSk7XG5cdCAgICB9LFxuXHQgICAgaXNOZXh0TW9udGhWaXNpYmxlOiBmdW5jdGlvbiBpc05leHRNb250aFZpc2libGUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuZW5kT2YoJ21vbnRoJyksIGZhbHNlLCBmYWxzZSk7XG5cdCAgICB9LFxuXHQgICAgaXNQcmV2aW91c1llYXJWaXNpYmxlOiBmdW5jdGlvbiBpc1ByZXZpb3VzWWVhclZpc2libGUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyU3RhcnQgJiYgdGhpcy5pc0FmdGVyTWluRGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5zdGFydE9mKCd5ZWFyJyksIGZhbHNlLCBmYWxzZSk7XG5cdCAgICB9LFxuXHQgICAgaXNOZXh0WWVhclZpc2libGU6IGZ1bmN0aW9uIGlzTmV4dFllYXJWaXNpYmxlKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLmVuZE9mKCd5ZWFyJyksIGZhbHNlLCBmYWxzZSk7XG5cdCAgICB9LFxuXHQgICAgaXNIb3VyQXZhaWxhYmxlOiBmdW5jdGlvbiBpc0hvdXJBdmFpbGFibGUoaG91cikge1xuXHQgICAgICB2YXIgX2RhdGUgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG5cdCAgICAgIF9kYXRlLmhvdXIodGhpcy5jb252ZXJ0SG91cnMoaG91cikpLm1pbnV0ZSgwKS5zZWNvbmQoMCk7XG5cdCAgICAgIHJldHVybiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKF9kYXRlLCB0cnVlLCBmYWxzZSkgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUoX2RhdGUsIHRydWUsIGZhbHNlKTtcblx0ICAgIH0sXG5cdCAgICBpc01pbnV0ZUF2YWlsYWJsZTogZnVuY3Rpb24gaXNNaW51dGVBdmFpbGFibGUobWludXRlKSB7XG5cdCAgICAgIHZhciBfZGF0ZSA9IG1vbWVudCh0aGlzLmN1cnJlbnREYXRlKTtcblx0ICAgICAgX2RhdGUubWludXRlKG1pbnV0ZSkuc2Vjb25kKDApO1xuXHQgICAgICByZXR1cm4gdGhpcy5pc0FmdGVyTWluRGF0ZShfZGF0ZSwgdHJ1ZSwgdHJ1ZSkgJiYgdGhpcy5pc0JlZm9yZU1heERhdGUoX2RhdGUsIHRydWUsIHRydWUpO1xuXHQgICAgfSxcblx0ICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHtcblx0ICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkRBVEU7XG5cdCAgICAgIC8vdGhpcy5pbml0RGF0ZXMoKTtcblx0ICAgICAgaWYgKHRoaXMucGFyYW1zLmRhdGUpIHtcblx0ICAgICAgICB0aGlzLmluaXREYXRlKCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUpIHtcblx0ICAgICAgICAgIHRoaXMuaW5pdEhvdXJzKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgb2s6IGZ1bmN0aW9uIG9rKCkge1xuXHQgICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFZpZXcpIHtcblx0ICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLkRBVEU6XG5cdCAgICAgICAgICBpZiAodGhpcy5wYXJhbXMudGltZSA9PT0gdHJ1ZSkge1xuXHQgICAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5oaWRlKHRydWUpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5IT1VSOlxuXHQgICAgICAgICAgdGhpcy5pbml0TWludXRlcygpO1xuXHQgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5NSU5VVEU6XG5cdCAgICAgICAgICB0aGlzLmhpZGUodHJ1ZSk7XG5cdCAgICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkge1xuXHQgICAgICBpZiAodGhpcy5wYXJhbXMudGltZSkge1xuXHQgICAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50Vmlldykge1xuXHQgICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5EQVRFOlxuXHQgICAgICAgICAgICB0aGlzLmhpZGUoKTtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLkhPVVI6XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5kYXRlKSB7XG5cdCAgICAgICAgICAgICAgdGhpcy5pbml0RGF0ZSgpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5NSU5VVEU6XG5cdCAgICAgICAgICAgIHRoaXMuaW5pdEhvdXJzKCk7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLmhpZGUoKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHNlbGVjdE1vbnRoQmVmb3JlOiBmdW5jdGlvbiBzZWxlY3RNb250aEJlZm9yZSgpIHtcblx0ICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LnN1YnRyYWN0KDEsICdtb250aHMnKTtcblx0ICAgIH0sXG5cdCAgICBzZWxlY3RNb250aEFmdGVyOiBmdW5jdGlvbiBzZWxlY3RNb250aEFmdGVyKCkge1xuXHQgICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuYWRkKDEsICdtb250aHMnKTtcblx0ICAgIH0sXG5cdCAgICBzZWxlY3RZZWFyQmVmb3JlOiBmdW5jdGlvbiBzZWxlY3RZZWFyQmVmb3JlKCkge1xuXHQgICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuc3VidHJhY3QoMSwgJ3llYXJzJyk7XG5cdCAgICB9LFxuXHQgICAgc2VsZWN0WWVhckFmdGVyOiBmdW5jdGlvbiBzZWxlY3RZZWFyQWZ0ZXIoKSB7XG5cdCAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5hZGQoMSwgJ3llYXJzJyk7XG5cdCAgICB9LFxuXHQgICAgc2VsZWN0QU06IGZ1bmN0aW9uIHNlbGVjdEFNKCkge1xuXHQgICAgICBpZiAodGhpcy5pc0hvdXJBdmFpbGFibGUoMCkgfHwgdGhpcy5pc0hvdXJBdmFpbGFibGUoMTIpKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuY3VycmVudERhdGUuaG91cigpID49IDEyKSB7XG5cdCAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5zdWJ0cmFjdCgxMiwgJ2hvdXJzJykpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXRoaXMuaXNIb3VyQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUuaG91cigpKSkge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuaG91cih0aGlzLm1pbkRhdGUuaG91cigpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghdGhpcy5pc01pbnV0ZUF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLm1pbnV0ZSgpKSkge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUubWludXRlKHRoaXMubWluRGF0ZS5taW51dGUoKSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHNlbGVjdFBNOiBmdW5jdGlvbiBzZWxlY3RQTSgpIHtcblx0ICAgICAgaWYgKHRoaXMuaXNIb3VyQXZhaWxhYmxlKDEzKSB8fCB0aGlzLmlzSG91ckF2YWlsYWJsZSgyNCkpIHtcblx0ICAgICAgICBpZiAodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkgPCAxMikge1xuXHQgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuYWRkKDEyLCAnaG91cnMnKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghdGhpcy5pc0hvdXJBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkpKSB7XG5cdCAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKHRoaXMubWF4RGF0ZS5ob3VyKCkpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCF0aGlzLmlzTWludXRlQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUubWludXRlKCkpKSB7XG5cdCAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUodGhpcy5tYXhEYXRlLm1pbnV0ZSgpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgY29udmVydEhvdXJzOiBmdW5jdGlvbiBjb252ZXJ0SG91cnMoaCkge1xuXHQgICAgICB2YXIgX3JldHVybiA9IGg7XG5cdCAgICAgIGlmIChoIDwgMTIgJiYgdGhpcy5pc1BNKCkpIF9yZXR1cm4gKz0gMTI7XG5cdFxuXHQgICAgICByZXR1cm4gX3JldHVybjtcblx0ICAgIH0sXG5cdCAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKG9rQnRuKSB7XG5cdCAgICAgIGlmIChva0J0bikge1xuXHQgICAgICAgIHRoaXMuX2RpYWxvZy5oaWRlKHRoaXMuY3VycmVudERhdGUpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX2RpYWxvZy5jYW5jZWwoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDYWxlbmRhcicsIFtmdW5jdGlvbiAoKSB7XG5cdFxuXHQgICAgdmFyIHN0YXJ0RGF0ZSA9IG1vbWVudCgpLFxuXHQgICAgICAgIFlFQVJfTUlOID0gMTkwMCxcblx0ICAgICAgICBZRUFSX01BWCA9IDIxMDAsXG5cdCAgICAgICAgTU9OVEhTX0lOX0FMTCA9IChZRUFSX01BWCAtIFlFQVJfTUlOICsgMSkgKiAxMixcblx0ICAgICAgICBJVEVNX0hFSUdIVCA9IDI0MCxcblx0ICAgICAgICBNT05USFMgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTU9OVEhTX0lOX0FMTDsgaSsrKSB7XG5cdCAgICAgIE1PTlRIUy5wdXNoKGkpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjdXJyZW50TW9udGhJbmRleCA9IGZ1bmN0aW9uIGN1cnJlbnRNb250aEluZGV4KGRhdGUpIHtcblx0ICAgICAgdmFyIHllYXIgPSBkYXRlLnllYXIoKTtcblx0ICAgICAgdmFyIG1vbnRoID0gZGF0ZS5tb250aCgpO1xuXHQgICAgICByZXR1cm4gKHllYXIgLSBZRUFSX01JTikgKiAxMiArIG1vbnRoIC0gMTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVzdHJpY3Q6ICdFJyxcblx0ICAgICAgc2NvcGU6IHtcblx0ICAgICAgICBwaWNrZXI6ICc9Jyxcblx0ICAgICAgICBkYXRlOiAnPSdcblx0ICAgICAgfSxcblx0ICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcblx0ICAgICAgY29udHJvbGxlckFzOiAnY2FsJyxcblx0ICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG5cdCAgICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcblx0ICAgICAgICAgICAgcGlja2VyID0gdGhpcy5waWNrZXIsXG5cdCAgICAgICAgICAgIGRheXMgPSBbXTtcblx0XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IHBpY2tlci5wYXJhbXMud2Vla1N0YXJ0OyBkYXlzLmxlbmd0aCA8IDc7IGkrKykge1xuXHQgICAgICAgICAgaWYgKGkgPiA2KSB7XG5cdCAgICAgICAgICAgIGkgPSAwO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZGF5cy5wdXNoKGkudG9TdHJpbmcoKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBjYWxlbmRhci53ZWVrID0gZGF5cztcblx0ICAgICAgICBpZiAoIXBpY2tlci5tYXhEYXRlICYmICFwaWNrZXIubWluRGF0ZSkge1xuXHQgICAgICAgICAgY2FsZW5kYXIubW9udGhzID0gTU9OVEhTO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2YXIgbG93ID0gcGlja2VyLm1pbkRhdGUgPyBjdXJyZW50TW9udGhJbmRleChwaWNrZXIubWluRGF0ZSkgOiAwO1xuXHQgICAgICAgICAgdmFyIGhpZ2ggPSBwaWNrZXIubWF4RGF0ZSA/IGN1cnJlbnRNb250aEluZGV4KHBpY2tlci5tYXhEYXRlKSArIDEgOiBNT05USFNfSU5fQUxMO1xuXHQgICAgICAgICAgY2FsZW5kYXIubW9udGhzID0gTU9OVEhTLnNsaWNlKGxvdywgaGlnaCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBjYWxlbmRhci5nZXRJdGVtQXRJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xuXHQgICAgICAgICAgdmFyIG1vbnRoID0gKGluZGV4ICsgMSkgJSAxMiB8fCAxMjtcblx0ICAgICAgICAgIHZhciB5ZWFyID0gWUVBUl9NSU4gKyBNYXRoLmZsb29yKGluZGV4IC8gMTIpO1xuXHQgICAgICAgICAgdmFyIG1vbnRoT2JqID0gbW9tZW50KHBpY2tlci5jdXJyZW50RGF0ZSkueWVhcih5ZWFyKS5tb250aChtb250aCk7XG5cdCAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVNb250aENhbGVuZGFyKG1vbnRoT2JqKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBjYWxlbmRhci50b3BJbmRleCA9IGN1cnJlbnRNb250aEluZGV4KHBpY2tlci5jdXJyZW50RGF0ZSkgLSBjYWxlbmRhci5tb250aHNbMF07XG5cdFxuXHQgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgcmV0dXJuIHBpY2tlci5jdXJyZW50RGF0ZSA/IHBpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoJ1lZWVktTU0nKSA6ICcnO1xuXHQgICAgICAgIH0sIGZ1bmN0aW9uICh2YWwyLCB2YWwxKSB7XG5cdCAgICAgICAgICBpZiAodmFsMiAhPSB2YWwxKSB7XG5cdCAgICAgICAgICAgIHZhciBuRGF0ZSA9IG1vbWVudCh2YWwyLCAnWVlZWS1NTScpO1xuXHQgICAgICAgICAgICB2YXIgaW5kZXggPSBjdXJyZW50TW9udGhJbmRleChuRGF0ZSk7XG5cdCAgICAgICAgICAgIGlmIChjYWxlbmRhci50b3BJbmRleCAhPSBpbmRleCkge1xuXHQgICAgICAgICAgICAgIGNhbGVuZGFyLnRvcEluZGV4ID0gaW5kZXggLSBjYWxlbmRhci5tb250aHNbMF07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgdmFyIGdlbmVyYXRlTW9udGhDYWxlbmRhciA9IGZ1bmN0aW9uIGdlbmVyYXRlTW9udGhDYWxlbmRhcihkYXRlKSB7XG5cdCAgICAgICAgICB2YXIgbW9udGggPSB7fTtcblx0ICAgICAgICAgIGlmIChkYXRlICE9PSBudWxsKSB7XG5cdCAgICAgICAgICAgIG1vbnRoLm5hbWUgPSBkYXRlLmZvcm1hdCgnTU1NTSBZWVlZJyk7XG5cdCAgICAgICAgICAgIHZhciBzdGFydE9mTW9udGggPSBtb21lbnQoZGF0ZSkubG9jYWxlKHBpY2tlci5wYXJhbXMubGFuZykuc3RhcnRPZignbW9udGgnKS5ob3VyKGRhdGUuaG91cigpKS5taW51dGUoZGF0ZS5taW51dGUoKSk7XG5cdCAgICAgICAgICAgIHZhciBpTnVtRGF5ID0gc3RhcnRPZk1vbnRoLmZvcm1hdCgnZCcpO1xuXHQgICAgICAgICAgICBtb250aC5kYXlzID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydE9mTW9udGguZGF0ZSgpOyBpIDw9IHN0YXJ0T2ZNb250aC5kYXlzSW5Nb250aCgpOyBpKyspIHtcblx0ICAgICAgICAgICAgICBpZiAoaSA9PT0gc3RhcnRPZk1vbnRoLmRhdGUoKSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGlXZWVrID0gY2FsZW5kYXIud2Vlay5pbmRleE9mKGlOdW1EYXkudG9TdHJpbmcoKSk7XG5cdCAgICAgICAgICAgICAgICBpZiAoaVdlZWsgPiAwKSB7XG5cdCAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgaVdlZWs7IHgrKykge1xuXHQgICAgICAgICAgICAgICAgICAgIG1vbnRoLmRheXMucHVzaCgwKTtcblx0ICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICBtb250aC5kYXlzLnB1c2gobW9tZW50KHN0YXJ0T2ZNb250aCkubG9jYWxlKHBpY2tlci5wYXJhbXMubGFuZykuZGF0ZShpKSk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhciBkYXlzSW5BV2VlayA9IDcsXG5cdCAgICAgICAgICAgICAgICBkYXlzVG1wID0gW10sXG5cdCAgICAgICAgICAgICAgICBzbGljZXMgPSBNYXRoLmNlaWwobW9udGguZGF5cy5sZW5ndGggLyBkYXlzSW5BV2Vlayk7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2xpY2VzOyBqKyspIHtcblx0ICAgICAgICAgICAgICBkYXlzVG1wLnB1c2gobW9udGguZGF5cy5zbGljZShqICogZGF5c0luQVdlZWssIChqICsgMSkgKiBkYXlzSW5BV2VlaykpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIG1vbnRoLmRheXMgPSBkYXlzVG1wO1xuXHQgICAgICAgICAgICByZXR1cm4gbW9udGg7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY2FsZW5kYXIudG9EYXkgPSBmdW5jdGlvbiAoaSkge1xuXHQgICAgICAgICAgcmV0dXJuIG1vbWVudChwYXJzZUludChpKSwgXCJkXCIpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLmZvcm1hdChcImRkXCIpLnN1YnN0cmluZygwLCAxKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBjYWxlbmRhci5pc0luUmFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuXHQgICAgICAgICAgcmV0dXJuIHBpY2tlci5pc0FmdGVyTWluRGF0ZShtb21lbnQoZGF0ZSksIGZhbHNlLCBmYWxzZSkgJiYgcGlja2VyLmlzQmVmb3JlTWF4RGF0ZShtb21lbnQoZGF0ZSksIGZhbHNlLCBmYWxzZSk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgY2FsZW5kYXIuc2VsZWN0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG5cdCAgICAgICAgICBpZiAoZGF0ZSkge1xuXHQgICAgICAgICAgICBpZiAoY2FsZW5kYXIuaXNTZWxlY3RlZERheShkYXRlKSkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBwaWNrZXIub2soKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBwaWNrZXIuc2VsZWN0RGF0ZShtb21lbnQoZGF0ZSkuaG91cihjYWxlbmRhci5kYXRlLmhvdXIoKSkubWludXRlKGNhbGVuZGFyLmRhdGUubWludXRlKCkpKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBjYWxlbmRhci5pc1NlbGVjdGVkRGF5ID0gZnVuY3Rpb24gKG0pIHtcblx0ICAgICAgICAgIHJldHVybiBtICYmIGNhbGVuZGFyLmRhdGUuZGF0ZSgpID09PSBtLmRhdGUoKSAmJiBjYWxlbmRhci5kYXRlLm1vbnRoKCkgPT09IG0ubW9udGgoKSAmJiBjYWxlbmRhci5kYXRlLnllYXIoKSA9PT0gbS55ZWFyKCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfV0sXG5cdCAgICAgIHRlbXBsYXRlOiAnPG1kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lciBtZC10b3AtaW5kZXg9XCJjYWwudG9wSW5kZXhcIiBjbGFzcz1cIm1vbnRoc1wiPicgKyAnPGRpdiBtZC12aXJ0dWFsLXJlcGVhdD1cImlkeCBpbiBjYWwubW9udGhzXCIgbWQtc3RhcnQtaW5kZXg9XCJjYWwudG9wSW5kZXhcIiBtZC1pdGVtLXNpemU9XCInICsgSVRFTV9IRUlHSFQgKyAnXCI+JyArICcgICAgIDxkaXYgbWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhci1tb250aCBpZHg9XCJpZHhcIj48L2Rpdj4nICsgJzwvZGl2PicgKyAnPC9tZC12aXJ0dWFsLXJlcGVhdC1jb250YWluZXI+J1xuXHQgICAgfTtcblx0ICB9XSkuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlckNhbGVuZGFyTW9udGgnLCBbJyRjb21waWxlJywgZnVuY3Rpb24gKCRjb21waWxlKSB7XG5cdCAgICB2YXIgYnVpbGRDYWxlbmRhckNvbnRlbnQgPSBmdW5jdGlvbiBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSkge1xuXHQgICAgICB2YXIgdGJvZHkgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCd0Ym9keScpKTtcblx0ICAgICAgdmFyIGNhbGVuZGFyID0gc2NvcGUuY2FsLFxuXHQgICAgICAgICAgbW9udGggPSBzY29wZS5tb250aDtcblx0ICAgICAgdGJvZHkuaHRtbCgnJyk7XG5cdCAgICAgIG1vbnRoLmRheXMuZm9yRWFjaChmdW5jdGlvbiAod2Vla0RheXMsIGkpIHtcblx0ICAgICAgICB2YXIgdHIgPSBhbmd1bGFyLmVsZW1lbnQoJzx0cj48L3RyPicpO1xuXHQgICAgICAgIHdlZWtEYXlzLmZvckVhY2goZnVuY3Rpb24gKHdlZWtEYXksIGopIHtcblx0ICAgICAgICAgIHZhciB0ZCA9IGFuZ3VsYXIuZWxlbWVudCgnPHRkPiA8L3RkPicpO1xuXHQgICAgICAgICAgaWYgKHdlZWtEYXkpIHtcblx0ICAgICAgICAgICAgdmFyIGFPclNwYW47XG5cdCAgICAgICAgICAgIGlmIChjYWxlbmRhci5pc0luUmFuZ2Uod2Vla0RheSkpIHtcblx0ICAgICAgICAgICAgICAvL2J1aWxkIGFcblx0ICAgICAgICAgICAgICB2YXIgc2NvcGVSZWYgPSAnbW9udGhbXCJkYXlzXCJdWycgKyBpICsgJ11bJyArIGogKyAnXSc7XG5cdCAgICAgICAgICAgICAgYU9yU3BhbiA9IGFuZ3VsYXIuZWxlbWVudChcIjxhIGhyZWY9JyMnIG1kYy1kdHAtbm9jbGljaz48L2E+XCIpLmF0dHIoJ25nLWNsYXNzJywgJ3tzZWxlY3RlZDogY2FsLmlzU2VsZWN0ZWREYXkoJyArIHNjb3BlUmVmICsgJyl9JykuYXR0cignbmctY2xpY2snLCAnY2FsLnNlbGVjdERhdGUoJyArIHNjb3BlUmVmICsgJyknKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBhT3JTcGFuID0gYW5ndWxhci5lbGVtZW50KCc8c3Bhbj48L3NwYW4+Jyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYU9yU3Bhbi5hZGRDbGFzcygnZHRwLXNlbGVjdC1kYXknKS5odG1sKHdlZWtEYXkuZm9ybWF0KCdEJykpO1xuXHQgICAgICAgICAgICB0ZC5hcHBlbmQoYU9yU3Bhbik7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICB0ci5hcHBlbmQodGQpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHRib2R5LmFwcGVuZCh0cik7XG5cdCAgICAgIH0pO1xuXHQgICAgICAkY29tcGlsZSh0Ym9keSkoc2NvcGUpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBzY29wZToge1xuXHQgICAgICAgIGlkeDogJz0nXG5cdCAgICAgIH0sXG5cdCAgICAgIHJlcXVpcmU6ICdebWRjRGF0ZXRpbWVQaWNrZXJDYWxlbmRhcicsXG5cdCAgICAgIHJlc3RyaWN0OiAnQUUnLFxuXHQgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJkdHAtcGlja2VyLW1vbnRoXCI+e3ttb250aC5uYW1lfX08L2Rpdj4nICsgJzx0YWJsZSBjbGFzcz1cInRhYmxlIGR0cC1waWNrZXItZGF5c1wiPicgKyAnICAgIDx0aGVhZD4nICsgJyAgICA8dHI+JyArICcgICAgICAgIDx0aCBuZy1yZXBlYXQ9XCJkYXkgaW4gY2FsLndlZWtcIj57e2NhbC50b0RheShkYXkpfX08L3RoPicgKyAnICAgIDwvdHI+JyArICcgICAgPC90aGVhZD4nICsgJyAgICA8dGJvZHk+JyArICcgICAgPC90Ym9keT4nICsgJzwvdGFibGU+Jyxcblx0ICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNhbGVuZGFyKSB7XG5cdCAgICAgICAgc2NvcGUuY2FsID0gY2FsZW5kYXI7XG5cdCAgICAgICAgc2NvcGUubW9udGggPSBjYWxlbmRhci5nZXRJdGVtQXRJbmRleChwYXJzZUludChzY29wZS5pZHgpKTtcblx0ICAgICAgICBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSk7XG5cdCAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIHJldHVybiBzY29wZS5pZHg7XG5cdCAgICAgICAgfSwgZnVuY3Rpb24gKGlkeCwgb2xkSWR4KSB7XG5cdCAgICAgICAgICBpZiAoaWR4ICE9IG9sZElkeCkge1xuXHQgICAgICAgICAgICBzY29wZS5tb250aCA9IGNhbGVuZGFyLmdldEl0ZW1BdEluZGV4KHBhcnNlSW50KHNjb3BlLmlkeCkpO1xuXHQgICAgICAgICAgICBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfV0pO1xuXHRcblx0ICBhbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lKS5kaXJlY3RpdmUoJ21kY0R0cE5vY2xpY2snLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbCkge1xuXHQgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfSk7XG5cdCAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSkuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlckNsb2NrJywgW2Z1bmN0aW9uICgpIHtcblx0XG5cdCAgICB2YXIgdGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cImR0cC1waWNrZXItY2xvY2tcIj48c3BhbiBuZy1pZj1cIiFwb2ludHMgfHwgcG9pbnRzLmxlbmd0aCA8IDFcIj4mbmJzcDs8L3NwYW4+JyArICc8ZGl2IG5nLXJlcGVhdD1cInBvaW50IGluIHBvaW50c1wiIGNsYXNzPVwiZHRwLXBpY2tlci10aW1lXCIgc3R5bGU9XCJtYXJnaW4tbGVmdDoge3twb2ludC5sZWZ0fX1weDsgbWFyZ2luLXRvcDoge3twb2ludC50b3B9fXB4O1wiPicgKyAnICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgbmctY2xhc3M9XCJ7c2VsZWN0ZWQ6IHBvaW50LnZhbHVlPT09Y3VycmVudFZhbHVlfVwiIGNsYXNzPVwiZHRwLXNlbGVjdC1ob3VyXCIgbmctY2xpY2s9XCJzZXRUaW1lKHBvaW50LnZhbHVlKVwiIG5nLWlmPVwicG9pbnRBdmFpbGFibGUocG9pbnQpXCI+e3twb2ludC5kaXNwbGF5fX08L2E+JyArICcgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImRpc2FibGVkIGR0cC1zZWxlY3QtaG91clwiIG5nLWlmPVwiIXBvaW50QXZhaWxhYmxlKHBvaW50KVwiPnt7cG9pbnQuZGlzcGxheX19PC9hPicgKyAnPC9kaXY+JyArICc8ZGl2IGNsYXNzPVwiZHRwLWhhbmQgZHRwLWhvdXItaGFuZFwiPjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cImR0cC1oYW5kIGR0cC1taW51dGUtaGFuZFwiPjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cImR0cC1jbG9jay1jZW50ZXJcIj48L2Rpdj4nICsgJzwvZGl2Pic7XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcmVzdHJpY3Q6ICdFJyxcblx0ICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuXHQgICAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXHQgICAgICAgIHZhciBtaW51dGVNb2RlID0gYXR0cnMubW9kZSA9PT0gJ21pbnV0ZXMnO1xuXHQgICAgICAgIHZhciBwaWNrZXIgPSBzY29wZS5waWNrZXI7XG5cdCAgICAgICAgLy9iYW5raW5nIG9uIHRoZSBmYWN0IHRoYXQgdGhlcmUgd2lsbCBvbmx5IGJlIG9uZSBhdCBhIHRpbWVcblx0ICAgICAgICB2YXIgY29tcG9uZW50Um9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21kLWRpYWxvZy5kdHAnKTtcblx0ICAgICAgICB2YXIgZXhlYyA9IGZ1bmN0aW9uIGV4ZWMoKSB7XG5cdCAgICAgICAgICB2YXIgY2xvY2sgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLXBpY2tlci1jbG9jaycpKSxcblx0ICAgICAgICAgICAgICBwaWNrZXJFbCA9IGFuZ3VsYXIuZWxlbWVudChjb21wb25lbnRSb290LnF1ZXJ5U2VsZWN0b3IoJy5kdHAtcGlja2VyJykpO1xuXHRcblx0ICAgICAgICAgIHZhciB3ID0gY29tcG9uZW50Um9vdC5xdWVyeVNlbGVjdG9yKCcuZHRwLWNvbnRlbnQnKS5vZmZzZXRXaWR0aDtcblx0ICAgICAgICAgIHZhciBwbCA9IHBhcnNlSW50KGNzcyhwaWNrZXJFbCwgJ3BhZGRpbmdMZWZ0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICB2YXIgcHIgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nUmlnaHQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0ICAgICAgICAgIHZhciBtbCA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpbkxlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0ICAgICAgICAgIHZhciBtciA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpblJpZ2h0JykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cdCAgICAgICAgICAvL3NldCB3aWR0aFxuXHQgICAgICAgICAgdmFyIGNsb2NrV2lkdGggPSB3IC0gKG1sICsgbXIgKyBwbCArIHByKTtcblx0ICAgICAgICAgIGNsb2NrLmNzcygnd2lkdGgnLCBjbG9ja1dpZHRoICsgJ3B4Jyk7XG5cdFxuXHQgICAgICAgICAgdmFyIHBMID0gcGFyc2VJbnQoY3NzKHBpY2tlckVsLCAncGFkZGluZ0xlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0ICAgICAgICAgIHZhciBwVCA9IHBhcnNlSW50KGNzcyhwaWNrZXJFbCwgJ3BhZGRpbmdUb3AnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0ICAgICAgICAgIHZhciBtTCA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpbkxlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcblx0ICAgICAgICAgIHZhciBtVCA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpblRvcCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuXHRcblx0ICAgICAgICAgIHZhciByID0gY2xvY2tXaWR0aCAvIDI7XG5cdCAgICAgICAgICB2YXIgaiA9IHIgLyAxLjI7IC8vPz8/XG5cdFxuXHQgICAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuXHRcblx0ICAgICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgMTI7ICsraCkge1xuXHQgICAgICAgICAgICB2YXIgeCA9IGogKiBNYXRoLnNpbihNYXRoLlBJICogMiAqIChoIC8gMTIpKTtcblx0ICAgICAgICAgICAgdmFyIHkgPSBqICogTWF0aC5jb3MoTWF0aC5QSSAqIDIgKiAoaCAvIDEyKSk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgaG91ciA9IHtcblx0ICAgICAgICAgICAgICBsZWZ0OiByICsgeCArIHBMIC8gMiAtIChwTCArIG1MKSxcblx0ICAgICAgICAgICAgICB0b3A6IHIgLSB5IC0gbVQgLyAyIC0gKHBUICsgbVQpLFxuXHQgICAgICAgICAgICAgIHZhbHVlOiBtaW51dGVNb2RlID8gaCAqIDUgOiBoIC8vNSBmb3IgbWludXRlIDYwLzEyXG5cdCAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICBpZiAobWludXRlTW9kZSkge1xuXHQgICAgICAgICAgICAgIGhvdXIuZGlzcGxheSA9IGhvdXIudmFsdWUgPCAxMCA/ICcwJyArIGhvdXIudmFsdWUgOiBob3VyLnZhbHVlO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHRcblx0ICAgICAgICAgICAgICBpZiAocGlja2VyLnBhcmFtcy5zaG9ydFRpbWUpIHtcblx0ICAgICAgICAgICAgICAgIGhvdXIuZGlzcGxheSA9IGggPT09IDAgPyAxMiA6IGg7XG5cdCAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGhvdXIuZGlzcGxheSA9IHBpY2tlci5pc1BNKCkgPyBoICsgMTIgOiBoO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcG9pbnRzLnB1c2goaG91cik7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgc2NvcGUucG9pbnRzID0gcG9pbnRzO1xuXHQgICAgICAgICAgc2V0Q3VycmVudFZhbHVlKCk7XG5cdCAgICAgICAgICBjbG9jay5jc3MoJ2hlaWdodCcsIGNsb2NrV2lkdGggKyAncHgnKTtcblx0ICAgICAgICAgIC8vcGlja2VyLmluaXRIYW5kcyh0cnVlKTtcblx0XG5cdCAgICAgICAgICB2YXIgY2xvY2tDZW50ZXIgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtY2xvY2stY2VudGVyJyk7XG5cdCAgICAgICAgICB2YXIgY2VudGVyV2lkdGggPSBjbG9ja0NlbnRlci5vZmZzZXRXaWR0aCAvIDIgfHwgNy41LFxuXHQgICAgICAgICAgICAgIGNlbnRlckhlaWdodCA9IGNsb2NrQ2VudGVyLm9mZnNldEhlaWdodCAvIDIgfHwgNy41O1xuXHQgICAgICAgICAgdmFyIF9oTCA9IHIgLyAxLjg7XG5cdCAgICAgICAgICB2YXIgX21MID0gciAvIDEuNTtcblx0XG5cdCAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLWhvdXItaGFuZCcpKS5jc3Moe1xuXHQgICAgICAgICAgICBsZWZ0OiByICsgbUwgKiAxLjUgKyAncHgnLFxuXHQgICAgICAgICAgICBoZWlnaHQ6IF9oTCArICdweCcsXG5cdCAgICAgICAgICAgIG1hcmdpblRvcDogciAtIF9oTCAtIHBMICsgJ3B4J1xuXHQgICAgICAgICAgfSkuYWRkQ2xhc3MoIW1pbnV0ZU1vZGUgPyAnb24nIDogJycpO1xuXHRcblx0ICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtbWludXRlLWhhbmQnKSkuY3NzKHtcblx0ICAgICAgICAgICAgbGVmdDogciArIG1MICogMS41ICsgJ3B4Jyxcblx0ICAgICAgICAgICAgaGVpZ2h0OiBfbUwgKyAncHgnLFxuXHQgICAgICAgICAgICBtYXJnaW5Ub3A6IHIgLSBfbUwgLSBwTCArICdweCdcblx0ICAgICAgICAgIH0pLmFkZENsYXNzKG1pbnV0ZU1vZGUgPyAnb24nIDogJycpO1xuXHRcblx0ICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChjbG9ja0NlbnRlcikuY3NzKHtcblx0ICAgICAgICAgICAgbGVmdDogciArIHBMICsgbUwgLSBjZW50ZXJXaWR0aCArICdweCcsXG5cdCAgICAgICAgICAgIG1hcmdpblRvcDogciAtIG1MIC8gMiAtIGNlbnRlckhlaWdodCArICdweCdcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgYW5pbWF0ZUhhbmRzKCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdmFyIGFuaW1hdGVIYW5kcyA9IGZ1bmN0aW9uIGFuaW1hdGVIYW5kcygpIHtcblx0ICAgICAgICAgIHZhciBfZGF0ZSA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcblx0ICAgICAgICAgIHZhciBoID0gX2RhdGUuaG91cigpO1xuXHQgICAgICAgICAgdmFyIG0gPSBfZGF0ZS5taW51dGUoKTtcblx0XG5cdCAgICAgICAgICByb3RhdGVFbGVtZW50KGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtaG91ci1oYW5kJykpLCAzNjAgLyAxMiAqIGgpO1xuXHQgICAgICAgICAgdmFyIG1kZyA9IDM2MCAvIDYwICogKDUgKiBNYXRoLnJvdW5kKG0gLyA1KSk7XG5cdCAgICAgICAgICByb3RhdGVFbGVtZW50KGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtbWludXRlLWhhbmQnKSksIG1kZyk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdmFyIHJvdGF0ZUVsZW1lbnQgPSBmdW5jdGlvbiByb3RhdGVFbGVtZW50KGVsLCBkZWcpIHtcblx0ICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChlbCkuY3NzKHtcblx0ICAgICAgICAgICAgV2Via2l0VHJhbnNmb3JtOiAncm90YXRlKCcgKyBkZWcgKyAnZGVnKScsXG5cdCAgICAgICAgICAgICctbW96LXRyYW5zZm9ybSc6ICdyb3RhdGUoJyArIGRlZyArICdkZWcpJ1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgdmFyIHNldEN1cnJlbnRWYWx1ZSA9IGZ1bmN0aW9uIHNldEN1cnJlbnRWYWx1ZSgpIHtcblx0ICAgICAgICAgIHZhciBkYXRlID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuXHQgICAgICAgICAgc2NvcGUuY3VycmVudFZhbHVlID0gbWludXRlTW9kZSA/IGRhdGUubWludXRlKCkgOiBkYXRlLmhvdXIoKSAlIDEyO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICB2YXIgdG1wID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuXHQgICAgICAgICAgcmV0dXJuIHRtcCA/IHRtcC5mb3JtYXQoJ0hIOm1tJykgOiAnJztcblx0ICAgICAgICB9LCBmdW5jdGlvbiAobmV3VmFsKSB7XG5cdCAgICAgICAgICBzZXRDdXJyZW50VmFsdWUoKTtcblx0ICAgICAgICAgIGFuaW1hdGVIYW5kcygpO1xuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICB2YXIgc2V0RGlzcGxheVBvaW50cyA9IGZ1bmN0aW9uIHNldERpc3BsYXlQb2ludHMoaXNQTSwgcG9pbnRzKSB7XG5cdCAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBwb2ludHNbaV0uZGlzcGxheSA9IGk7XG5cdCAgICAgICAgICAgIGlmIChpc1BNKSB7XG5cdCAgICAgICAgICAgICAgcG9pbnRzW2ldLmRpc3BsYXkgKz0gMTI7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiBwb2ludHM7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgaWYgKCFwaWNrZXIucGFyYW1zLnNob3J0VGltZSkge1xuXHQgICAgICAgICAgc2NvcGUuJHdhdGNoKCdwaWNrZXIubWVyaWRpZW4nLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIGlmICghbWludXRlTW9kZSkge1xuXHQgICAgICAgICAgICAgIGlmIChzY29wZS5wb2ludHMpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBzZXREaXNwbGF5UG9pbnRzKHBpY2tlci5pc1BNKCksIGFuZ3VsYXIuY29weShzY29wZS5wb2ludHMpKTtcblx0ICAgICAgICAgICAgICAgIHNjb3BlLnBvaW50cyA9IHBvaW50cztcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgc2NvcGUuc2V0VGltZSA9IGZ1bmN0aW9uICh2YWwpIHtcblx0ICAgICAgICAgIGlmICh2YWwgPT09IHNjb3BlLmN1cnJlbnRWYWx1ZSkge1xuXHQgICAgICAgICAgICBwaWNrZXIub2soKTtcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBpZiAoIW1pbnV0ZU1vZGUpIHtcblx0ICAgICAgICAgICAgcGlja2VyLmN1cnJlbnREYXRlLmhvdXIocGlja2VyLmlzUE0oKSA/IHZhbCArIDEyIDogdmFsKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHBpY2tlci5jdXJyZW50RGF0ZS5taW51dGUodmFsKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHBpY2tlci5jdXJyZW50RGF0ZS5zZWNvbmQoMCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgc2NvcGUucG9pbnRBdmFpbGFibGUgPSBmdW5jdGlvbiAocG9pbnQpIHtcblx0ICAgICAgICAgIHJldHVybiBtaW51dGVNb2RlID8gcGlja2VyLmlzTWludXRlQXZhaWxhYmxlKHBvaW50LnZhbHVlKSA6IHBpY2tlci5pc0hvdXJBdmFpbGFibGUocG9pbnQudmFsdWUpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHZhciB1bndhdGNoZXIgPSBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgcmV0dXJuIGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnZGl2JykubGVuZ3RoO1xuXHQgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIGV4ZWMoKTtcblx0ICAgICAgICAgIHVud2F0Y2hlcigpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1dKTtcblx0fSkoX21vbWVudDIuZGVmYXVsdCk7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxMikpKVxuXG4vKioqLyB9LFxuXG4vKioqLyA1OTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OTgpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODUpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzc1wiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNTk4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODQpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwibWQtZGlhbG9nLmR0cHtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoxLjQyODU3MTQzO2NvbG9yOiMzMzM7YmFja2dyb3VuZC1jb2xvcjojZmZmO21heC1oZWlnaHQ6bm9uZX0uZHRwIDpmb2N1c3tvdXRsaW5lOm5vbmUhaW1wb3J0YW50fS5kdHAgdGFibGV7Ym9yZGVyLXNwYWNpbmc6MDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7d2lkdGg6MTAwJX0uZHRwIC50YWJsZT50Ym9keT50cj50ZCwuZHRwIC50YWJsZT50Ym9keT50cj50aCwuZHRwIC50YWJsZT50Zm9vdD50cj50ZCwuZHRwIC50YWJsZT50Zm9vdD50cj50aCwuZHRwIC50YWJsZT50aGVhZD50cj50ZCwuZHRwIC50YWJsZT50aGVhZD50cj50aHtwYWRkaW5nOjhweDtsaW5lLWhlaWdodDoxLjQyODU3MTQzO3ZlcnRpY2FsLWFsaWduOnRvcDtib3JkZXItdG9wOjFweCBzb2xpZCAjZGRkfS5kdHAsLmR0cCAqe2JveC1zaXppbmc6Ym9yZGVyLWJveCFpbXBvcnRhbnR9LmR0cD4uZHRwLWNvbnRlbnR7bWF4LXdpZHRoOjMwMHB4O21heC1oZWlnaHQ6NTAwcHh9LmR0cD4uZHRwLWNvbnRlbnQ+LmR0cC1kYXRlLXZpZXc+aGVhZGVyLmR0cC1oZWFkZXJ7YmFja2dyb3VuZDojNjg5ZjM4O2NvbG9yOiNmZmY7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzozcHh9LmR0cCBkaXYuZHRwLWRhdGUsLmR0cCBkaXYuZHRwLXRpbWV7YmFja2dyb3VuZDojOGJjMzRhO3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOiNmZmY7cGFkZGluZzoxMHB4fS5kdHAgZGl2LmR0cC1kYXRlPmRpdntwYWRkaW5nOjA7bWFyZ2luOjB9LmR0cCBkaXYuZHRwLWFjdHVhbC1tb250aHtmb250LXNpemU6MS41ZW19LmR0cCBkaXYuZHRwLWFjdHVhbC1tYXh0aW1lLC5kdHAgZGl2LmR0cC1hY3R1YWwtbnVte2ZvbnQtc2l6ZTozZW07bGluZS1oZWlnaHQ6Ljl9LmR0cCBkaXYuZHRwLWFjdHVhbC15ZWFye2ZvbnQtc2l6ZToxLjZlbTtjb2xvcjojZGNlZGM4fS5kdHAgZGl2LmR0cC15ZWFyLWJ0bntmb250LXNpemU6MS40ZW07bGluZS1oZWlnaHQ6MzBweDtjdXJzb3I6cG9pbnRlcjtjb2xvcjojZGNlZGM4fS5kdHAgZGl2LmR0cC15ZWFyLWJ0bi1wcmV2e3RleHQtYWxpZ246cmlnaHR9LmR0cCBkaXYuZHRwLXllYXItYnRuLW5leHR7dGV4dC1hbGlnbjpsZWZ0fS5kdHAgZGl2LmR0cC1waWNrZXJ7cGFkZGluZzoxMHB4O3RleHQtYWxpZ246Y2VudGVyfS5kdHAgZGl2LmR0cC1hY3R1YWwtdGltZSwuZHRwIGRpdi5kdHAtcGlja2VyLW1vbnRoe2ZvbnQtd2VpZ2h0OjUwMDt0ZXh0LWFsaWduOmNlbnRlcn0uZHRwIC5kdHAtY2xvc2V7cG9zaXRpb246YWJzb2x1dGU7dG9wOi4yNWVtO3JpZ2h0OjVweDtmb250LXNpemU6MTZweH0uZHRwIC5kdHAtY2xvc2U+YXtjb2xvcjojZmZmO3RleHQtZGVjb3JhdGlvbjpub25lfS5kdHAgLmR0cC1jbG9zZT5hPml7Zm9udC1zaXplOjFlbX0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5c3ttYXJnaW46MDttaW4taGVpZ2h0OjIyMHB4fS5kdHAgbWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyLm1vbnRoc3toZWlnaHQ6MjYwcHh9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMsLmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHIsLmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGR7Ym9yZGVyOm5vbmV9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGR7Zm9udC1zaXplOjExcHg7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzowfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPnNwYW4uZHRwLXNlbGVjdC1kYXl7Y29sb3I6I2JkYmRiZCFpbXBvcnRhbnR9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+LmR0cC1zZWxlY3QtZGF5e3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHg7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAuZHRwLXBpY2tlci10aW1lPmEsLmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+LmR0cC1zZWxlY3QtZGF5e2NvbG9yOiMyMTIxMjE7dGV4dC1kZWNvcmF0aW9uOm5vbmU7cGFkZGluZzoxMHB4O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5hLnNlbGVjdGVke2JhY2tncm91bmQ6IzhiYzM0YTtjb2xvcjojZmZmfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPmE6aG92ZXI6bm90KC5zZWxlY3RlZCl7YmFja2dyb3VuZDojZGRkfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRoe2NvbG9yOiM3NTc1NzU7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC13ZWlnaHQ6NzAwO3BhZGRpbmc6NHB4IDNweH0uZHRwIC5wMTA+YXtjb2xvcjojNjg5ZjM4O3RleHQtZGVjb3JhdGlvbjpub25lfS5kdHAgLnAxMHt3aWR0aDoxMCV9LmR0cCAucDEwLC5kdHAgLnAyMHtkaXNwbGF5OmlubGluZS1ibG9ja30uZHRwIC5wMjB7d2lkdGg6MjAlfS5kdHAgLnA2MHt3aWR0aDo2MCV9LmR0cCAucDYwLC5kdHAgLnA4MHtkaXNwbGF5OmlubGluZS1ibG9ja30uZHRwIC5wODB7d2lkdGg6ODAlfS5kdHAgYS5kdHAtbWVyaWRpZW4tYW0sLmR0cCBhLmR0cC1tZXJpZGllbi1wbXtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6MTBweDtjb2xvcjojMjEyMTIxO2ZvbnQtd2VpZ2h0OjUwMDtwYWRkaW5nOjdweCA1cHg7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O3RleHQtZGVjb3JhdGlvbjpub25lO2JhY2tncm91bmQ6I2VlZTtmb250LXNpemU6MTBweH0uZHRwIC5kdHAtYWN0dWFsLW1lcmlkaWVuIGEuc2VsZWN0ZWR7YmFja2dyb3VuZDojNjg5ZjM4O2NvbG9yOiNmZmZ9LmR0cCAuZHRwLXBpY2tlci10aW1lPmF7ZGlzcGxheTpibG9jaztsaW5lLWhlaWdodDoyM3B4O3BhZGRpbmc6M3B4fS5kdHAgLmR0cC1waWNrZXItdGltZXtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDozMHB4O2hlaWdodDozMHB4O2ZvbnQtc2l6ZToxLjFlbTtib3JkZXItcmFkaXVzOjUwJTtjdXJzb3I6cG9pbnRlcjt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnR9LmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1ob3VyLnNlbGVjdGVke2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmfS5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtaG91ci5kaXNhYmxlZCwuZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LW1pbnV0ZS5kaXNhYmxlZHtjb2xvcjojNzU3NTc1fS5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtbWludXRlLnNlbGVjdGVke2JhY2tncm91bmQ6IzhiYzM0YTtjb2xvcjojZmZmfS5kdHAgZGl2LmR0cC1waWNrZXItY2xvY2t7bWFyZ2luOjEwcHggMjBweCAwO3BhZGRpbmc6MTBweDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnQ7YmFja2dyb3VuZDojZWVlfS5kdHAtY2xvY2stY2VudGVye3dpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7YmFja2dyb3VuZDojNzU3NTc1O2JvcmRlci1yYWRpdXM6NTAlO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6NTB9LmR0cCAuZHRwLWhhbmQsLmR0cCAuZHRwLWhvdXItaGFuZHtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo0cHg7bWFyZ2luLWxlZnQ6LTJweDtiYWNrZ3JvdW5kOiNiZGJkYmQ7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMGRlZyk7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmJvdHRvbTt0cmFuc2Zvcm0tb3JpZ2luOmJvdHRvbTt6LWluZGV4OjF9LmR0cCAuZHRwLW1pbnV0ZS1oYW5ke3dpZHRoOjJweDttYXJnaW4tbGVmdDotMXB4fS5kdHAgLmR0cC1oYW5kLm9ue2JhY2tncm91bmQ6IzhiYzM0YX0uZHRwIC5kdHAtYnV0dG9uc3twYWRkaW5nOjAgMTBweCAxMHB4O3RleHQtYWxpZ246cmlnaHR9LmR0cC5oaWRkZW4sLmR0cCAuaGlkZGVue2Rpc3BsYXk6bm9uZX0uZHRwIC5pbnZpc2libGV7dmlzaWJpbGl0eTpoaWRkZW59LmR0cCAubGVmdHtmbG9hdDpsZWZ0fS5kdHAgLnJpZ2h0e2Zsb2F0OnJpZ2h0fS5kdHAgLmNsZWFyZml4e2NsZWFyOmJvdGh9LmR0cCAuY2VudGVye3RleHQtYWxpZ246Y2VudGVyfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNTk5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Lypcblx0ICogYW5ndWxhci1nb29nbGUtcGx1cy1kaXJlY3RpdmUgdjAuMC4xXG5cdCAqIOKZoSBDb3B5SGVhcnQgMjAxMyBieSBKZXJhZCBCaXRuZXIgaHR0cDovL2plcmFkYml0bmVyLmNvbVxuXHQgKiBDb3B5aW5nIGlzIGFuIGFjdCBvZiBsb3ZlLiBQbGVhc2UgY29weS5cblx0ICovXG5cdFxuXHR2YXIgX2dldE93blByb3BlcnR5TmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwMCk7XG5cdFxuXHR2YXIgX2dldE93blByb3BlcnR5TmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0T3duUHJvcGVydHlOYW1lcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0YW5ndWxhci5tb2R1bGUoJ2RpcmVjdGl2ZS5nK3NpZ25pbicsIFtdKS5kaXJlY3RpdmUoJ2dvb2dsZVBsdXNTaWduaW4nLCBbJyR3aW5kb3cnLCBmdW5jdGlvbiAoJHdpbmRvdykge1xuXHQgIHZhciBlbmRpbmcgPSAvXFwuYXBwc1xcLmdvb2dsZXVzZXJjb250ZW50XFwuY29tJC87XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICByZXN0cmljdDogJ0UnLFxuXHQgICAgdHJhbnNjbHVkZTogdHJ1ZSxcblx0ICAgIHRlbXBsYXRlOiAnPHNwYW4+PC9zcGFuPicsXG5cdCAgICByZXBsYWNlOiB0cnVlLFxuXHQgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsIGxpbmtlcikge1xuXHQgICAgICBhdHRycy5jbGllbnRpZCArPSBlbmRpbmcudGVzdChhdHRycy5jbGllbnRpZCkgPyAnJyA6ICcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nO1xuXHRcblx0ICAgICAgYXR0cnMuJHNldCgnZGF0YS1jbGllbnRpZCcsIGF0dHJzLmNsaWVudGlkKTtcblx0ICAgICAgYXR0cnMuJHNldCgndGhlbWUnLCBhdHRycy50aGVtZSk7XG5cdFxuXHQgICAgICAvLyBTb21lIGRlZmF1bHQgdmFsdWVzLCBiYXNlZCBvbiBwcmlvciB2ZXJzaW9ucyBvZiB0aGlzIGRpcmVjdGl2ZVxuXHQgICAgICB2YXIgZGVmYXVsdHMgPSB7XG5cdCAgICAgICAgY2FsbGJhY2s6ICdzaWduaW5DYWxsYmFjaycsXG5cdCAgICAgICAgY29va2llcG9saWN5OiAnc2luZ2xlX2hvc3Rfb3JpZ2luJyxcblx0ICAgICAgICByZXF1ZXN0dmlzaWJsZWFjdGlvbnM6ICdodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL0FkZEFjdGl2aXR5Jyxcblx0ICAgICAgICBzY29wZTogJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvcGx1cy5sb2dpbiBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3VzZXJpbmZvLmVtYWlsJyxcblx0ICAgICAgICBoZWlnaHQ6ICdzdGFuZGFyZCcsXG5cdCAgICAgICAgd2lkdGg6ICd3aWRlJyxcblx0ICAgICAgICBzdGF0ZTogJydcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIGRlZmF1bHRzLmNsaWVudGlkID0gYXR0cnMuY2xpZW50aWQ7XG5cdCAgICAgIGRlZmF1bHRzLnRoZW1lID0gYXR0cnMudGhlbWU7XG5cdFxuXHQgICAgICAvLyBPdmVyd3JpdGUgZGVmYXVsdCB2YWx1ZXMgaWYgZXhwbGljaXRseSBzZXRcblx0ICAgICAgYW5ndWxhci5mb3JFYWNoKCgwLCBfZ2V0T3duUHJvcGVydHlOYW1lczIuZGVmYXVsdCkoZGVmYXVsdHMpLCBmdW5jdGlvbiAocHJvcE5hbWUpIHtcblx0ICAgICAgICBpZiAoYXR0cnMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG5cdCAgICAgICAgICBkZWZhdWx0c1twcm9wTmFtZV0gPSBhdHRyc1twcm9wTmFtZV07XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIC8vIERlZmF1bHQgbGFuZ3VhZ2Vcblx0ICAgICAgLy8gU3VwcG9ydGVkIGxhbmd1YWdlczogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vKy93ZWIvYXBpL3N1cHBvcnRlZC1sYW5ndWFnZXNcblx0ICAgICAgYXR0cnMuJG9ic2VydmUoJ2xhbmd1YWdlJywgZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgJHdpbmRvdy5fX19nY2ZnID0ge1xuXHQgICAgICAgICAgbGFuZzogdmFsdWUgPyB2YWx1ZSA6ICdlbidcblx0ICAgICAgICB9O1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIC8vIEFzeW5jaHJvbm91c2x5IGxvYWQgdGhlIEcrIFNESy5cblx0ICAgICAgdmFyIHBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7cG8udHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO3BvLmFzeW5jID0gdHJ1ZTtcblx0ICAgICAgcG8uc3JjID0gJ2h0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2NsaWVudDpwbHVzb25lLmpzJztcblx0ICAgICAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07cy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwbywgcyk7XG5cdFxuXHQgICAgICBsaW5rZXIoZnVuY3Rpb24gKGVsLCB0U2NvcGUpIHtcblx0ICAgICAgICBwby5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBpZiAoZWwubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKGVsKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGdhcGkuc2lnbmluLnJlbmRlcihlbGVtZW50WzBdLCBkZWZhdWx0cyk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfTtcblx0fV0pLnJ1bihbJyR3aW5kb3cnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkd2luZG93LCAkcm9vdFNjb3BlKSB7XG5cdCAgJHdpbmRvdy5zaWduaW5DYWxsYmFjayA9IGZ1bmN0aW9uIChhdXRoUmVzdWx0KSB7XG5cdCAgICBpZiAoYXV0aFJlc3VsdCAmJiBhdXRoUmVzdWx0LmFjY2Vzc190b2tlbikge1xuXHQgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1zdWNjZXNzJywgYXV0aFJlc3VsdCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1mYWlsdXJlJywgYXV0aFJlc3VsdCk7XG5cdCAgICB9XG5cdCAgfTtcblx0fV0pO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NDM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXHRcblx0Ly8gbG9hZCB0aGUgc3R5bGVzXG5cdHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NDQpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODUpKGNvbnRlbnQsIHt9KTtcblx0aWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cdC8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcblx0aWYoZmFsc2UpIHtcblx0XHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi92ZW5kb3Iuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vdmVuZG9yLnNjc3NcIik7XG5cdFx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRcdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDY0NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNDg0KSgpO1xuXHQvLyBpbXBvcnRzXG5cdFxuXHRcblx0Ly8gbW9kdWxlXG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNjQ1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNjQ2KTtcblx0aWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cdC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cblx0dmFyIHVwZGF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDg1KShjb250ZW50LCB7fSk7XG5cdGlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXHQvLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5cdGlmKGZhbHNlKSB7XG5cdFx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0XHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vaW5kZXguc2Nzc1wiKTtcblx0XHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNjQ2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODQpKCk7XG5cdC8vIGltcG9ydHNcblx0XG5cdFxuXHQvLyBtb2R1bGVcblx0ZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmRpc3RyaWJ1dG9yLXNlbGVjdGlvbntmb250LXNpemU6MTZwdDtwYWRkaW5nOjNweDttYXJnaW46M3B4fWJvZHl7bWFyZ2luLXRvcDoxMDBweDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXtib2R5e21hcmdpbi10b3A6NTBweH19I3dyYXBwZXJ7cGFkZGluZy1sZWZ0OjB9I3BhZ2Utd3JhcHBlcnt3aWR0aDoxMDAlO3BhZGRpbmc6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9Lmh1Z2V7Zm9udC1zaXplOjUwcHg7bGluZS1oZWlnaHQ6bm9ybWFsfUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsjd3JhcHBlcntwYWRkaW5nLWxlZnQ6MjI1cHh9I3BhZ2Utd3JhcHBlcntwYWRkaW5nOjEwcHh9fS5tYXJnaW4tYm90dG9tLTE1e21hcmdpbi1ib3R0b206MS41ZW19Lm1hcmdpbi10b3AtMDV7bWFyZ2luLXRvcDouNWVtfS5tYXJnaW4tdG9wLTE1e21hcmdpbi10b3A6MS41ZW19Lm1hcmdpbi10b3AtMjB7bWFyZ2luLXRvcDoyZW19Lm1hcmdpbi10b3AtMjV7bWFyZ2luLXRvcDoyLjVlbX0ubWFyZ2luLXRvcC01MHttYXJnaW4tdG9wOjVlbX0uaXNzdWUtd2FybmluZy1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6b3JhbmdlfS5pc3N1ZS13YXJuaW5nLXRleHR7Y29sb3I6b3JhbmdlfS5pc3N1ZS1kYW5nZXItYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOnJlZH0uaXNzdWUtZGFuZ2VyLXRleHR7Y29sb3I6cmVkfS5pc3N1ZS1ub3JtYWwtYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVufS5pc3N1ZS1ub3JtYWwtdGV4dHtjb2xvcjpncmVlbn0udXAtdHJ1ZS1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6Z3JlZW59LnVwLWZhbHNlLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpyZWR9Lm5hdmJhci1kZWZhdWx0e2JhY2tncm91bmQtY29sb3I6IzFiNzViYjtib3JkZXItY29sb3I6IzE1NTk4ZX0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZHtjb2xvcjojZmZmfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLWJyYW5kOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLWJyYW5kOmhvdmVye2NvbG9yOiM1NWE3ZTd9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2PmxpPmEsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2PmxpPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2PmxpPmE6aG92ZXJ7Y29sb3I6I2ZmZn0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmFjdGl2ZT5hLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uYWN0aXZlPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5hY3RpdmU+YTpob3Zlcntjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2FmZDVmM30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YSwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpob3Zlcntjb2xvcjojNTU1O2JhY2tncm91bmQtY29sb3I6I2Q1ZDVkNX0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmRyb3Bkb3duPmEgLmNhcmV0e2JvcmRlci10b3AtY29sb3I6Izc3Nztib3JkZXItYm90dG9tLWNvbG9yOiM3Nzd9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hOmZvY3VzIC5jYXJldCwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmRyb3Bkb3duPmE6aG92ZXIgLmNhcmV0e2JvcmRlci10b3AtY29sb3I6IzMzMztib3JkZXItYm90dG9tLWNvbG9yOiMzMzN9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmEgLmNhcmV0LC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hOmZvY3VzIC5jYXJldCwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpob3ZlciAuY2FyZXR7Ym9yZGVyLXRvcC1jb2xvcjojNTU1O2JvcmRlci1ib3R0b20tY29sb3I6IzU1NX0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGV7Ym9yZGVyLWNvbG9yOiNkZGR9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xlOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNkZGR9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xlIC5pY29uLWJhcntiYWNrZ3JvdW5kLWNvbG9yOiNjY2N9QG1lZGlhIChtYXgtd2lkdGg6NzY3cHgpey5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5he2NvbG9yOiM3Nzd9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2IC5vcGVuIC5kcm9wZG93bi1tZW51PmxpPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2IC5vcGVuIC5kcm9wZG93bi1tZW51PmxpPmE6aG92ZXJ7Y29sb3I6IzMzM319LnRvcC1uYXZ7cGFkZGluZzowIDE1cHh9LnRvcC1uYXY+bGl7ZGlzcGxheTppbmxpbmUtYmxvY2s7ZmxvYXQ6bGVmdH0udG9wLW5hdj5saT5he3BhZGRpbmctdG9wOjE1cHg7cGFkZGluZy1ib3R0b206MTVweDtsaW5lLWhlaWdodDoyMHB4O2NvbG9yOiNlZmVmZWZ9LnRvcC1uYXY+Lm9wZW4+YSwudG9wLW5hdj4ub3Blbj5hOmZvY3VzLC50b3AtbmF2Pi5vcGVuPmE6aG92ZXIsLnRvcC1uYXY+bGk+YTpmb2N1cywudG9wLW5hdj5saT5hOmhvdmVye2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojMWI3NWJifS50b3AtbmF2Pi5vcGVuPi5kcm9wZG93bi1tZW51e2Zsb2F0OmxlZnQ7cG9zaXRpb246YWJzb2x1dGU7bWFyZ2luLXRvcDowO2JvcmRlcjoxcHggc29saWQgcmdiYSgwLDAsMCwuMTUpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3gtc2hhZG93OjAgNnB4IDEycHggcmdiYSgwLDAsMCwuMTc1KX0udG9wLW5hdj4ub3Blbj4uZHJvcGRvd24tbWVudT5saT5he3doaXRlLXNwYWNlOm5vcm1hbH11bC5tZXNzYWdlLWRyb3Bkb3due3BhZGRpbmc6MDttYXgtaGVpZ2h0OjI1MHB4O292ZXJmbG93LXg6aGlkZGVuO292ZXJmbG93LXk6YXV0b31saS5tZXNzYWdlLXByZXZpZXd7d2lkdGg6Mjc1cHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSgwLDAsMCwuMTUpfWxpLm1lc3NhZ2UtcHJldmlldz5he3BhZGRpbmctdG9wOjE1cHg7cGFkZGluZy1ib3R0b206MTVweH1saS5tZXNzYWdlLWZvb3RlcnttYXJnaW46NXB4IDB9dWwuYWxlcnQtZHJvcGRvd257d2lkdGg6MjAwcHh9QG1lZGlhIChtaW4td2lkdGg6NzY4cHgpey5zaWRlLW5hdntwb3NpdGlvbjpmaXhlZDt0b3A6NTFweDtsZWZ0OjIyNXB4O21hcmdpbi1sZWZ0Oi0yMjVweDtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjA7b3ZlcmZsb3cteTphdXRvO2JhY2tncm91bmQtY29sb3I6IzFiNzViYjtib3R0b206MDtvdmVyZmxvdy14OmhpZGRlbjtwYWRkaW5nLWJvdHRvbTo0MHB4fS5zaWRlLW5hdiwuc2lkZS1uYXY+bGk+YXt3aWR0aDoyMjVweH0uc2lkZS1uYXYgbGkgYTpmb2N1cywuc2lkZS1uYXYgbGkgYTpob3ZlcntvdXRsaW5lOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojM2Y5Y2UzIWltcG9ydGFudH19LnNpZGUtbmF2PmxpPnVse3BhZGRpbmc6MH0uc2lkZS1uYXY+bGk+dWw+bGk+YXtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6MTBweCAxNXB4IDEwcHggMzhweDt0ZXh0LWRlY29yYXRpb246bm9uZTtjb2xvcjojZDRkNGQ0fS5zaWRlLW5hdj5saT51bD5saT5hOmhvdmVye2NvbG9yOiNmZmZ9LmZsb3QtY2hhcnR7ZGlzcGxheTpibG9jaztoZWlnaHQ6NDAwcHh9LmZsb3QtY2hhcnQtY29udGVudHt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5odWdle2ZvbnQtc2l6ZTo0MHB4fS5wYW5lbC1ncmVlbntib3JkZXItY29sb3I6IzVjYjg1Y30ucGFuZWwtZ3JlZW4+LnBhbmVsLWhlYWRpbmd7Ym9yZGVyLWNvbG9yOiM1Y2I4NWM7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPmF7Y29sb3I6IzVjYjg1Y30ucGFuZWwtZ3JlZW4+YTpob3Zlcntjb2xvcjojM2Q4YjNkfS5wYW5lbC1yZWR7Ym9yZGVyLWNvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD4ucGFuZWwtaGVhZGluZ3tib3JkZXItY29sb3I6I2Q5NTM0Zjtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2Q5NTM0Zn0ucGFuZWwtcmVkPmF7Y29sb3I6I2Q5NTM0Zn0ucGFuZWwtcmVkPmE6aG92ZXJ7Y29sb3I6I2I1MmIyN30ucGFuZWwteWVsbG93e2JvcmRlci1jb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+LnBhbmVsLWhlYWRpbmd7Ym9yZGVyLWNvbG9yOiNmMGFkNGU7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNmMGFkNGV9LnBhbmVsLXllbGxvdz5he2NvbG9yOiNmMGFkNGV9LnBhbmVsLXllbGxvdz5hOmhvdmVye2NvbG9yOiNkZjhhMTN9LnRvb2xiYXJ7bWFyZ2luLWJvdHRvbToxMHB4fS5lbnRpdHkta2V5e2ZvbnQtZmFtaWx5Ok1vbmFjbyxDb25zb2xhcyxMdWNpZGEgQ29uc29sZSxkZWphdnUgc2FucyBtb25vLG1vbm9zcGFjZTtmb250LXNpemU6MTFweH0ucHJvb2Ytb2YtcGxheS1sYWJlbHtwYWRkaW5nLWJvdHRvbToxMHB4O3BhZGRpbmctdG9wOjEwcHh9LmNvcHktcmVhZHktdHJhbnNwYXJlbnR7Y29sb3I6dHJhbnNwYXJlbnR9Lm5vLWRldmljZXN7dGV4dC1hbGlnbjpjZW50ZXJ9LnByb3BlcnRpZXMtd29yZC1icmVha3t3aWR0aDozOTBweDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmJsb2NrfS5jb21tYW5kLWhpc3RvcnktY29tbWFuZHt3aWR0aDozNzVweDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmJsb2NrfS5ob3N0bmFtZS13b3JkLWJyZWFre3dpZHRoOjIwMHB4O3dvcmQtd3JhcDpicmVhay13b3JkO2Rpc3BsYXk6aW5saW5lLWJsb2NrfVtkYXRhLW5nLWNsaWNrXSxbbmctY2xpY2tdLFt4LW5nLWNsaWNrXXtjdXJzb3I6cG9pbnRlcn0jcHJvb2ZwbGF5LXNlbGVjdGVkLWl0ZW1ze21pbi13aWR0aDowIWltcG9ydGFudDttYXJnaW46MCBhdXRvO3BhZGRpbmc6MCBhdXRvfS5yYWRpby1idXR0b257cGFkZGluZzozcHh9Lmhvcml6b250YWwtc3VibWl0e21hcmdpbjouNWVtfS5ob3Jpem9udGFsLXN1Ym1pdCwucmFkaW8taG9yaXpvbnRhbHtkaXNwbGF5OmZsZXg7YWxpZ24tc2VsZjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyOy13ZWJraXQtYWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcn1tZC10b29sYmFyLm1kLWRlZmF1bHQtdGhlbWU6bm90KC5tZC1tZW51LXRvb2xiYXIpLG1kLXRvb2xiYXI6bm90KC5tZC1tZW51LXRvb2xiYXIpe2JhY2tncm91bmQtY29sb3I6IzFiNzViYiFpbXBvcnRhbnQ7bWF4LWhlaWdodDo2NHB4O21pbi1oZWlnaHQ6NjRweH0ubWQtdG9vbGJhci10b29sc3tiYWNrZ3JvdW5kLWNvbG9yOiMwMDAhaW1wb3J0YW50O21heC1oZWlnaHQ6NjRweDttaW4taGVpZ2h0OjY0cHh9LnNreWtpdC1pbWFnZXttYXgtd2lkdGg6MTAwJTtoZWlnaHQ6MzNweH1AbWVkaWEgKG1heC13aWR0aDo3NjdweCl7bWQtdG9vbGJhci5tZC1kZWZhdWx0LXRoZW1lOm5vdCgubWQtbWVudS10b29sYmFyKSxtZC10b29sYmFyOm5vdCgubWQtbWVudS10b29sYmFyKXttYXJnaW4tdG9wOi01MHB4O21hcmdpbi1ib3R0b206NTBweH19LmNlbnRlci1ibG9ja3t0ZXh0LWFsaWduOmNlbnRlcn0uZWxsaXBzaXMtb3ZlcmZsb3csLnByb29mLW9mLXBsYXktc2VsZWN0ZWQtaXRlbXt3aWR0aDoxMDAlO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1hbGlnbjpsZWZ0O3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LnByb29mLW9mLXBsYXktdGVuYW50LW5hbWUtb3B0aW9ue3dpZHRoOjdlbTt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246Y2VudGVyO3Bvc2l0aXRpb246YWJzb2x1dGU7dGV4dC1vdmVyZmxvdzplbGxpcHNpc30ucHJvb2Ytb2YtcGxheS1ob3Jpem9udGFsLXRvcC1iYXJ7YWxpZ24tc2VsZjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyOy13ZWJraXQtYWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOi41ZW07bWFyZ2luLWJvdHRvbTouNWVtO2FsaWduLWl0ZW1zOmNlbnRlcn0ubXktZmxleCwucHJvb2Ytb2YtcGxheS1ob3Jpem9udGFsLXRvcC1iYXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXJ9LmJpZ2dlci1idXR0b25ze3BhZGRpbmc6LjRlbTttaW4td2lkdGg6ODhweDtib3JkZXItcmFkaXVzOjVweDtmb250LXNpemU6MTZweDt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTtib3JkZXI6bm9uZTtvdXRsaW5lOm5vbmV9LmFkbWluLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7YWxpZ24tY29udGVudDpmbGV4LXN0YXJ0fS5yZWdpc3RyYXRpb24tZXZlbnQtY29sdW1ue2hlaWdodDoxMTBweDtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7b3ZlcmZsb3c6c2Nyb2xsfS5wdWxsLWNvbW1hbmQtc2VuZC1idXR0b24tdXB7bWFyZ2luLXRvcDotMnB4fWhlYWRlci5kdHAtaGVhZGVye2JhY2tncm91bmQ6IzFiNzViYiFpbXBvcnRhbnR9LmR0cCBkaXYuZHRwLWRhdGUsLmR0cCBkaXYuZHRwLXRpbWV7YmFja2dyb3VuZDojMDAwfS5kdHAgLmR0cC1hY3R1YWwtbWVyaWRpZW4gYS5zZWxlY3RlZCwuZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LWhvdXIuc2VsZWN0ZWQsLmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+YS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiMxYjc1YmIhaW1wb3J0YW50fS5kdHAgLmR0cC1oYW5kLm9ue2JhY2tncm91bmQ6IzAwMH0uZGV2aWNlLXByb3BlcnRpZXMtc3dpdGNoe21hcmdpbi10b3A6LTFweH0ubWQtY29udGVudC1jb21tYW5kLW92ZXJyaWRlIG1kLWNvbnRlbnR7b3ZlcmZsb3c6dW5zZXR9LnB1bGwtdG9vbHRpcC1sZWZ0e21hcmdpbi1sZWZ0Oi01NXB4fS5jb21tYW5kLWJ1dHRvbi1yaWdodHtmbG9hdDpyaWdodDtmbGV4LWRpcmVjdGlvbjpyb3ctcmV2ZXJzZX1tZC1zZWxlY3R7ZGlzcGxheTpibG9jazttYXJnaW46MTBweCAwIDhweDtwYWRkaW5nLWJvdHRvbToycHg7cG9zaXRpb246cmVsYXRpdmU7bWluLXdpZHRoOjE4MHB4O21heC13aWR0aDoxODBweH0uc21hbGwtZGVsZXRlLWJ1dHRvbntmbG9hdDpyaWdodDttaW4td2lkdGg6MjVweDttYXJnaW4tdG9wOi0xNXB4O21hcmdpbi1yaWdodDotNXB4fS50b29sdGlwLWN1c3RvbS1sYXJnZXttaW4td2lkdGg6MjUwcHh9LnRlbmFudC1pbWFnZS1uYW1lLC51c2VyLWVtYWlsLWVsbGlwc2lze3dpZHRoOjEwZW07d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfVwiLCBcIlwiXSk7XG5cdFxuXHQvLyBleHBvcnRzXG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNjQ4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHREZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsLiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiJHN0YXRlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCIsIFwiRGV2aWNlc1NlcnZpY2VcIiwgXCJMb2NhdGlvbnNTZXJ2aWNlXCIsIFwiQ29tbWFuZHNTZXJ2aWNlXCIsIFwiVGltZXpvbmVzU2VydmljZVwiLCBcInN3ZWV0XCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiJG1kRGlhbG9nXCIsIFwiVG9hc3RzU2VydmljZVwiLCBcIiR0aW1lb3V0XCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5EZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Mik7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIERldmljZURldGFpbHNDb21tYW5kc0N0cmwoJGxvZywgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsIENvbW1hbmRzU2VydmljZSwgVGltZXpvbmVzU2VydmljZSwgc3dlZXQsIFByb2dyZXNzQmFyU2VydmljZSwgJG1kRGlhbG9nLCBUb2FzdHNTZXJ2aWNlLCAkdGltZW91dCkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHQgIHZtLmRldmljZUtleSA9ICRzdGF0ZVBhcmFtcy5kZXZpY2VLZXk7XG5cdCAgdm0uZnJvbURldmljZXMgPSAkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiO1xuXHQgIHZtLmN1cnJlbnREZXZpY2UgPSB7fTtcblx0ICB2bS5jb21tYW5kRXZlbnRzID0gW107XG5cdFxuXHQgIHZtLmdlbmVyYXRlTG9jYWxGcm9tVVRDID0gZnVuY3Rpb24gKFVUQ1RpbWUpIHtcblx0ICAgIHZhciBsb2NhbFRpbWUgPSBfbW9tZW50Mi5kZWZhdWx0LnV0YyhVVENUaW1lKS50b0RhdGUoKTtcblx0ICAgIHJldHVybiBsb2NhbFRpbWUgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkobG9jYWxUaW1lKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW06c3MgQScpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJlcGxhY2VDb21tYW5kVGltZSA9IGZ1bmN0aW9uIChpc3N1ZXMpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXNzdWVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBlYWNoID0gaXNzdWVzW2ldO1xuXHQgICAgICBpZiAoZWFjaC5wb3N0ZWRUaW1lKSB7XG5cdCAgICAgICAgZWFjaC5wb3N0ZWRUaW1lID0gdm0uZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC5wb3N0ZWRUaW1lKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoZWFjaC5jb25maXJtZWRUaW1lKSB7XG5cdCAgICAgICAgZWFjaC5jb25maXJtZWRUaW1lID0gdm0uZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC5jb25maXJtZWRUaW1lKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEV2ZW50cyA9IGZ1bmN0aW9uIChkZXZpY2VLZXksIHByZXYsIG5leHQpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGNvbW1hbmRFdmVudHNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0Q29tbWFuZEV2ZW50c0J5S2V5KGRldmljZUtleSwgcHJldiwgbmV4dCk7XG5cdCAgICByZXR1cm4gY29tbWFuZEV2ZW50c1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUoZGF0YS5ldmVudHMpO1xuXHQgICAgICB2bS5ldmVudF9uZXh0X2N1cnNvciA9IGRhdGEubmV4dF9jdXJzb3I7XG5cdCAgICAgIHZtLmV2ZW50X3ByZXZfY3Vyc29yID0gZGF0YS5wcmV2X2N1cnNvcjtcblx0ICAgICAgdm0uY29tbWFuZEV2ZW50cyA9IGRhdGEuZXZlbnRzO1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRFdmVudHNUaW1lT3V0ID0gZnVuY3Rpb24gKGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgcmV0dXJuICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyhkZXZpY2VLZXksIHByZXYsIG5leHQpO1xuXHQgICAgfSwgMTAwMCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY29tbWFuZEhpc3RvcnlTZWxlY3RlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5KTtcblx0ICB9O1xuXHRcblx0ICB2bS5wYWdpbmF0ZUV2ZW50Q2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG5cdCAgICBpZiAoZm9yd2FyZCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgbnVsbCwgdm0uZXZlbnRfbmV4dF9jdXJzb3IpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIHZtLmV2ZW50X3ByZXZfY3Vyc29yLCBudWxsKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIGRldmljZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VCeUtleSh2bS5kZXZpY2VLZXkpO1xuXHQgICAgZGV2aWNlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0ub25HZXREZXZpY2VTdWNjZXNzKHJlc3BvbnNlKTtcblx0ICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICByZXR1cm4gdm0ub25HZXREZXZpY2VGYWlsdXJlKHJlc3BvbnNlKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkdldERldmljZVN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIHZtLmN1cnJlbnREZXZpY2UgPSByZXNwb25zZTtcblx0ICAgIGlmIChyZXNwb25zZS50aW1lem9uZSAhPT0gdm0uc2VsZWN0ZWRUaW1lem9uZSkge1xuXHQgICAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gcmVzcG9uc2UudGltZXpvbmU7XG5cdCAgICB9XG5cdCAgICBpZiAodm0udGVuYW50S2V5ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdm0udGVuYW50S2V5ID0gdm0uY3VycmVudERldmljZS50ZW5hbnRLZXk7XG5cdCAgICB9XG5cdCAgICBpZiAoJHN0YXRlUGFyYW1zLmZyb21EZXZpY2VzID09PSBcInRydWVcIikge1xuXHQgICAgICB2bS5iYWNrVXJsID0gJy8jL2RldmljZXMnO1xuXHQgICAgICByZXR1cm4gdm0uYmFja1VybFRleHQgPSAnQmFjayB0byBkZXZpY2VzJztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmlzVW5tYW5hZ2VkRGV2aWNlID09PSB0cnVlKSB7XG5cdCAgICAgICAgdm0uYmFja1VybCA9IFwiLyMvdGVuYW50cy9cIiArIHZtLnRlbmFudEtleSArIFwiL3VubWFuYWdlZFwiO1xuXHQgICAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCB1bm1hbmFnZWQgZGV2aWNlcyc7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdm0uYmFja1VybCA9IFwiLyMvdGVuYW50cy9cIiArIHZtLnRlbmFudEtleSArIFwiL21hbmFnZWRcIjtcblx0ICAgICAgICByZXR1cm4gdm0uYmFja1VybFRleHQgPSAnQmFjayB0byB0ZW5hbnQgbWFuYWdlZCBkZXZpY2VzJztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLm9uR2V0RGV2aWNlRmFpbHVyZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gZmV0Y2ggdGhlIGRldGFpbHMgZm9yIHRoaXMgZGV2aWNlIGF0IHRoaXMgdGltZS4nKTtcblx0ICAgIHZhciBlcnJvck1lc3NhZ2UgPSBcIk5vIGRldGFpbCBmb3IgZGV2aWNlX2tleSAjXCIgKyB2bS5kZXZpY2VLZXkgKyBcIi4gRXJyb3I6IFwiICsgcmVzcG9uc2Uuc3RhdHVzICsgXCIgXCIgKyByZXNwb25zZS5zdGF0dXNUZXh0O1xuXHQgICAgJGxvZy5lcnJvcihlcnJvck1lc3NhZ2UpO1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnZGV2aWNlcycpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jb250ZW50RGVsZXRlKHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzZXRDb250ZW50U3VjY2Vzcywgdm0ub25SZXNldENvbnRlbnRGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc2V0Q29udGVudFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciByZXNldCBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzZXRDb250ZW50RmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiUmVzZXQgY29udGVudCBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHJlc2V0IGNvbnRlbnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jb250ZW50VXBkYXRlKHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uVXBkYXRlQ29udGVudFN1Y2Nlc3MsIHZtLm9uVXBkYXRlQ29udGVudEZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVXBkYXRlQ29udGVudFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciB1cGRhdGUgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZUNvbnRlbnRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJDb250ZW50IHVwZGF0ZSBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVzZXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnJlc2V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzZXRQbGF5ZXJTdWNjZXNzLCB2bS5vblJlc2V0UGxheWVyRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldFBsYXllclN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciByZXNldCBwbGF5ZXIgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXNldFBsYXllckZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlJlc2V0IHBsYXllciBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHJlc2V0IHBsYXllciBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsT24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvd2VyT24odm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25QYW5lbE9uU3VjY2Vzcywgdm0ub25QYW5lbE9uRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25QYW5lbE9uU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHBhbmVsIG9uIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxPbkZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgJGxvZy5lcnJvcihcIlBhbmVsIG9uIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcGFuZWwgb24gY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25QYW5lbE9mZiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucG93ZXJPZmYodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25QYW5lbE9mZlN1Y2Nlc3MsIHZtLm9uUGFuZWxPZmZGYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsT2ZmU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHBhbmVsIG9mZiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBhbmVsT2ZmRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiUGFuZWwgb2ZmIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVXBkYXRlRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS51cGRhdGVEZXZpY2Uodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVEZXZpY2VTdWNjZXNzLCB2bS5vblVwZGF0ZURldmljZUZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVXBkYXRlRGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBkZXZpY2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25VcGRhdGVEZXZpY2VGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJVcGRhdGUgZGV2aWNlIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgdXBkYXRlIGRldmljZSBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblZvbHVtZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2Uudm9sdW1lKHZtLmRldmljZUtleSwgdm0uY3VycmVudERldmljZS52b2x1bWUpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblZvbHVtZUNoYW5nZVN1Y2Nlc3Modm0uY3VycmVudERldmljZS52b2x1bWUpLCB2bS5vblZvbHVtZUNoYW5nZUZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uVm9sdW1lQ2hhbmdlU3VjY2VzcyA9IGZ1bmN0aW9uIChsZXZlbCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgdm9sdW1lIGNoYW5nZSBjb21tYW5kIG9mIFwiICsgbGV2ZWwgKyBcIiBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Wb2x1bWVDaGFuZ2VGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJWb2x1bWUgY2hhbmdlIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgdm9sdW1lIGNoYW5nZSBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkN1c3RvbUNvbW1hbmQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLmN1c3RvbSh2bS5kZXZpY2VLZXksIHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25DdXN0b21Db21tYW5kU3VjY2Vzcyh2bS5jdXJyZW50RGV2aWNlLmN1c3RvbSksIHZtLm9uQ3VzdG9tQ29tbWFuZEZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ3VzdG9tQ29tbWFuZFN1Y2Nlc3MgPSBmdW5jdGlvbiAoY29tbWFuZCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgY3VzdG9tIGNvbW1hbmQgJ1wiICsgY29tbWFuZCArIFwiJyBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25DdXN0b21Db21tYW5kRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiQ3VzdG9tIGNvbW1hbmQgZXJyb3I6IFwiICsgZXJyb3Iuc3RhdHVzICsgXCIgXCIgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgY3VzdG9tIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRGlhZ25vc3RpY3NUb2dnbGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnRvZ2dsZURpYWdub3N0aWNzKHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NTdWNjZXNzLCB2bS5vblRvZ2dsZURpYWdub3N0aWNzRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBkaWFnbm9zdGljcyBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblRvZ2dsZURpYWdub3N0aWNzRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiRGlhZ25vc3RpY3MgY29tbWFuZCBlcnJvcjogXCIgKyBlcnJvci5zdGF0dXMgKyBcIiBcIiArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBkaWFnbm9zdGljcyBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblJlc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnJlc3RhcnQodm0uZGV2aWNlS2V5KTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25SZXN0YXJ0U3VjY2Vzcywgdm0ub25SZXN0YXJ0RmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXN0YXJ0U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc3RhcnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZXN0YXJ0RmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKFwiUmVzdGFydCBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHJlc3RhcnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25Qb3N0TG9nID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5wb3N0TG9nKHZtLmRldmljZUtleSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUG9zdExvZ1N1Y2Nlc3MsIHZtLm9uUG9zdExvZ0ZhaWx1cmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUG9zdExvZ1N1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBwb3N0IGxvZyBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblBvc3RMb2dGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICRsb2cuZXJyb3IoXCJQb3N0IGxvZyBjb21tYW5kIGVycm9yOiBcIiArIGVycm9yLnN0YXR1cyArIFwiIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHBvc3QgbG9nIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5EZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsID0gRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjQ5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0RGV2aWNlRGV0YWlsc0N0cmwuJGluamVjdCA9IFtcIiRsb2dcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCJEZXZpY2VzU2VydmljZVwiLCBcIlRlbmFudHNTZXJ2aWNlXCIsIFwiTG9jYXRpb25zU2VydmljZVwiLCBcIkNvbW1hbmRzU2VydmljZVwiLCBcIlRpbWV6b25lc1NlcnZpY2VcIiwgXCJJbnRlZ3JhdGlvbkV2ZW50c1wiLCBcInN3ZWV0XCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiJG1kRGlhbG9nXCIsIFwiVG9hc3RzU2VydmljZVwiLCBcIkRhdGVNYW5pcHVsYXRpb25TZXJ2aWNlXCIsIFwiJHRpbWVvdXRcIiwgXCJJbWFnZVNlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkRldmljZURldGFpbHNDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1MCk7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEl0ZXJhdG9yMik7XG5cdFxuXHR2YXIgX3NsaWNlZFRvQXJyYXkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTUpO1xuXHRcblx0dmFyIF9zbGljZWRUb0FycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NsaWNlZFRvQXJyYXkyKTtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzIpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdHZhciBfamF2YXNjcmlwdE5hdHVyYWxTb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTkpO1xuXHRcblx0dmFyIF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfamF2YXNjcmlwdE5hdHVyYWxTb3J0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBEZXZpY2VEZXRhaWxzQ3RybCgkbG9nLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgU2Vzc2lvbnNTZXJ2aWNlLCBEZXZpY2VzU2VydmljZSwgVGVuYW50c1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsIENvbW1hbmRzU2VydmljZSwgVGltZXpvbmVzU2VydmljZSwgSW50ZWdyYXRpb25FdmVudHMsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsICRtZERpYWxvZywgVG9hc3RzU2VydmljZSwgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UsICR0aW1lb3V0LCBJbWFnZVNlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2bS50ZW5hbnRVcmwgPSAnLyMvdGVuYW50cy8nICsgdm0udGVuYW50S2V5ICsgJy9kZXRhaWxzJztcblx0ICB2bS5kZXZpY2VLZXkgPSAkc3RhdGVQYXJhbXMuZGV2aWNlS2V5O1xuXHQgIHZtLmZyb21EZXZpY2VzID0gJHN0YXRlUGFyYW1zLmZyb21EZXZpY2VzID09PSBcInRydWVcIjtcblx0ICB2bS5jdXJyZW50RGV2aWNlID0ge307XG5cdCAgdm0ubG9jYXRpb25zID0gW107XG5cdCAgdm0uY29tbWFuZEV2ZW50cyA9IFtdO1xuXHQgIHZtLmRheVJhbmdlID0gMzA7XG5cdCAgdm0uaXNzdWVzID0gW107XG5cdCAgdm0udGltZXpvbmVzID0gW107XG5cdCAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHVuZGVmaW5lZDtcblx0XG5cdCAgdmFyIF9EYXRlTWFuaXB1bGF0aW9uU2VydiA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmNyZWF0ZUZvcm1hdHRlZFN0YXJ0QW5kRW5kRGF0ZUZyb21Ub2RheSgzMCk7XG5cdFxuXHQgIHZhciBfRGF0ZU1hbmlwdWxhdGlvblNlcnYyID0gKDAsIF9zbGljZWRUb0FycmF5My5kZWZhdWx0KShfRGF0ZU1hbmlwdWxhdGlvblNlcnYsIDIpO1xuXHRcblx0ICB2bS5zdGFydFRpbWUgPSBfRGF0ZU1hbmlwdWxhdGlvblNlcnYyWzBdO1xuXHQgIHZtLmVuZFRpbWUgPSBfRGF0ZU1hbmlwdWxhdGlvblNlcnYyWzFdO1xuXHRcblx0ICB2bS5lbnJvbGxtZW50RXZlbnRzID0gW107XG5cdCAgdm0ubG9nb0NoYW5nZSA9IGZhbHNlO1xuXHQgIHZtLmNvbnRyb2xzTW9kZU9wdGlvbnMgPSBbXCJ2aXNpYmxlXCIsIFwiaW52aXNpYmxlXCIsIFwiZGlzYWJsZWRcIl07XG5cdCAgdm0ub3JpZW50YXRpb25PcHRpb25zID0gW1wiMFwiLCBcIjkwXCIsIFwiMTgwXCIsIFwiMjcwXCJdO1xuXHQgIHZtLnNsZWVwQ29udHJvbGxlck9wdGlvbnMgPSBbXCJjaHJvbWUtZGVmYXVsdFwiLCBcInJzMjMyXCJdO1xuXHQgIHZtLm92ZXJsYXlDaGFuZ2VkID0gZmFsc2U7XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBPdmVybGF5XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZtLmNoZWNrRm9yT3ZlcmxheUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuXHQgICAgdmFyIGN1cnJlbnREZXZpY2VPdmVybGF5cyA9IHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheXM7XG5cdCAgICB2YXIgY3VycmVudERldmljZUNvcHlPdmVybGF5cyA9IHZtLmN1cnJlbnREZXZpY2VDb3B5Lm92ZXJsYXlzO1xuXHQgICAgdmFyIHBvc2l0aW9ucyA9IFsndG9wX2xlZnQnLCAndG9wX3JpZ2h0JywgJ2JvdHRvbV9yaWdodCcsICdib3R0b21fbGVmdCddO1xuXHRcblx0ICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHQgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKHBvc2l0aW9ucyksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcblx0ICAgICAgICB2YXIgcG9zID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgIGlmIChjdXJyZW50RGV2aWNlT3ZlcmxheXNbcG9zXS5zaXplICE9PSBjdXJyZW50RGV2aWNlQ29weU92ZXJsYXlzW3Bvc10uc2l6ZSkge1xuXHQgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjdXJyZW50RGV2aWNlT3ZlcmxheXNbcG9zXS50eXBlICE9PSBjdXJyZW50RGV2aWNlQ29weU92ZXJsYXlzW3Bvc10udHlwZSkge1xuXHQgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjdXJyZW50RGV2aWNlT3ZlcmxheXNbcG9zXS50eXBlID09PSAnbG9nbycpIHtcblx0ICAgICAgICAgIGlmIChjdXJyZW50RGV2aWNlT3ZlcmxheXNbcG9zXS50eXBlICsgXCI6IFwiICsgY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10ubmFtZSAhPT0gY3VycmVudERldmljZUNvcHlPdmVybGF5c1twb3NdLm5hbWUpIHtcblx0ICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcblx0ICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2bS5vdmVybGF5Q2hhbmdlZCA9IGNoYW5nZWQ7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmV2ZXJ0VG9UZW5hbnRPdmVybGF5ID0gZnVuY3Rpb24gKGV2KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IHRydWU7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KCRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkpO1xuXHQgICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGN1cnJlbnRUZW5hbnRPdmVybGF5cyA9IHRlbmFudC5vdmVybGF5cztcblx0ICAgICAgaWYgKGN1cnJlbnRUZW5hbnRPdmVybGF5cykge1xuXHQgICAgICAgIGRlbGV0ZSBjdXJyZW50VGVuYW50T3ZlcmxheXMua2V5O1xuXHRcblx0ICAgICAgICBmb3IgKHZhciBrZXkgaW4gY3VycmVudFRlbmFudE92ZXJsYXlzKSB7XG5cdCAgICAgICAgICBpZiAoY3VycmVudFRlbmFudE92ZXJsYXlzW2tleV1bXCJ0eXBlXCJdID09PSBcImxvZ29cIikge1xuXHQgICAgICAgICAgICBjdXJyZW50VGVuYW50T3ZlcmxheXNba2V5XVtcImltYWdlX2tleVwiXSA9IGN1cnJlbnRUZW5hbnRPdmVybGF5c1trZXldW1wiaW1hZ2VLZXlcIl1bXCJrZXlcIl07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjdXJyZW50VGVuYW50T3ZlcmxheXNba2V5XVtcImltYWdlX2tleVwiXSA9IG51bGw7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIDtcblx0XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBEZXZpY2VzU2VydmljZS5zYXZlT3ZlcmxheVNldHRpbmdzKHZtLmRldmljZUtleSwgY3VycmVudFRlbmFudE92ZXJsYXlzLmJvdHRvbV9sZWZ0LCBjdXJyZW50VGVuYW50T3ZlcmxheXMuYm90dG9tX3JpZ2h0LCBjdXJyZW50VGVuYW50T3ZlcmxheXMudG9wX3JpZ2h0LCBjdXJyZW50VGVuYW50T3ZlcmxheXMudG9wX2xlZnQpO1xuXHRcblx0ICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgdmFyIGRldmljZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VCeUtleSh2bS5kZXZpY2VLZXkpO1xuXHQgICAgICAgICAgZGV2aWNlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChjdXJyZW50RGV2aWNlKSB7XG5cdCAgICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheXMgPSBjdXJyZW50RGV2aWNlLm92ZXJsYXlzO1xuXHQgICAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlQ29weS5vdmVybGF5cyA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXlzKTtcblx0ICAgICAgICAgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gZmFsc2U7XG5cdCAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IGZhbHNlO1xuXHQgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1lvdXIgdGVuYW50IGRvZXMgbm90IGhhdmUgb3ZlcmxheXMgZW5hYmxlZC4gJyArICdQbGVhc2UgZW5hYmxlIG92ZXJsYXlzIGZvciB5b3VyIHRlbmFudCBiZWZvcmUgYXR0ZW1wdGluZyB0byByZXZlcnQgZGV2aWNlIG92ZXJsYXkgdG8gdGVuYW50IHNldHRpbmdzLicsICdlcnJvcicpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5hZGp1c3RDb250cm9sc01vZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgY29udHJvbHNNb2RlID0gdm0uY3VycmVudERldmljZS5jb250cm9sc01vZGU7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBjb250cm9sc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5hZGp1c3RDb250cm9sc01vZGUodm0uZGV2aWNlS2V5LCBjb250cm9sc01vZGUpO1xuXHQgICAgY29udHJvbHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdZb3VyIGNvbnRyb2xzIG1vZGUgc2VsZWN0aW9uIHdhcyBzdWNjZXNmdWxseSBjaGFuZ2VkIHRvOiAnICsgY29udHJvbHNNb2RlKTtcblx0ICAgIH0pO1xuXHQgICAgY29udHJvbHNQcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIC8vVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChcIllvdXIgY29udHJvbHMgbW9kZSBjaGFuZ2UgZmFpbGVkIHRvIHNhdmUuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuXCIpXG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5hZGp1c3RPdmVybGF5U3RhdHVzID0gZnVuY3Rpb24gKHN0YXR1cykge1xuXHQgICAgdm0uY3VycmVudERldmljZS5vdmVybGF5U3RhdHVzID0gc3RhdHVzO1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLnNhdmUodm0uY3VycmVudERldmljZSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGRldmljZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VCeUtleSh2bS5kZXZpY2VLZXkpO1xuXHQgICAgICBkZXZpY2VQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgICAgdm0ub25HZXREZXZpY2VTdWNjZXNzKHJlc3BvbnNlKTtcblx0ICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLm9uR2V0RGV2aWNlRmFpbHVyZShyZXNwb25zZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0T3ZlcmxheVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIG92ZXJsYXlTZXR0aW5ncyA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50RGV2aWNlQ29weS5vdmVybGF5cyk7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IHRydWU7XG5cdCAgICB2YXIgcHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLnNhdmVPdmVybGF5U2V0dGluZ3Modm0uZGV2aWNlS2V5LCBvdmVybGF5U2V0dGluZ3MuYm90dG9tX2xlZnQsIG92ZXJsYXlTZXR0aW5ncy5ib3R0b21fcmlnaHQsIG92ZXJsYXlTZXR0aW5ncy50b3BfcmlnaHQsIG92ZXJsYXlTZXR0aW5ncy50b3BfbGVmdCk7XG5cdCAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICB2YXIgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG5cdCAgICAgIGRldmljZVByb21pc2UudGhlbihmdW5jdGlvbiAoY3VycmVudERldmljZSkge1xuXHQgICAgICAgIHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheXMgPSBjdXJyZW50RGV2aWNlLm92ZXJsYXlzO1xuXHQgICAgICAgIHZtLmN1cnJlbnREZXZpY2VDb3B5Lm92ZXJsYXlzID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheXMpO1xuXHQgICAgICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IGZhbHNlO1xuXHQgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB1cGRhdGUuJyk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VGVuYW50SW1hZ2VzQW5kUmVmcmVzaERldmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcblx0ICAgIGRldmljZVByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXMpO1xuXHQgICAgICB2bS5nZXRUZW5hbnRJbWFnZXMoKTtcblx0ICAgIH0pO1xuXHQgICAgZGV2aWNlUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgIHZtLm9uR2V0RGV2aWNlRmFpbHVyZShyZXMpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VGVuYW50SW1hZ2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uT1ZFUkxBWV9UWVBFUyA9IFt7IHNpemU6IG51bGwsIHR5cGU6IG51bGwsIG5hbWU6IFwibm9uZVwiLCByZWFsTmFtZTogXCJub25lXCIsIG5ldzogZmFsc2UsIGltYWdlX2tleTogbnVsbCB9LCB7IHNpemU6IG51bGwsIHR5cGU6IFwiZGF0ZXRpbWVcIiwgbmFtZTogXCJkYXRldGltZVwiLCByZWFsTmFtZTogXCJkYXRldGltZVwiLCBuZXc6IHRydWUsIGltYWdlX2tleTogbnVsbCB9XTtcblx0XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gSW1hZ2VTZXJ2aWNlLmdldEltYWdlcyh2bS50ZW5hbnRLZXkpO1xuXHQgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgdm0udGVuYW50SW1hZ2VzID0gcmVzO1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcblx0ICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuXHQgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkodm0udGVuYW50SW1hZ2VzKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG5cdCAgICAgICAgICB2YXIgdmFsdWUgPSBfc3RlcDIudmFsdWU7XG5cdCAgICAgICAgICB2YXIgX2FyciA9IFtcInNtYWxsXCIsIFwibGFyZ2VcIl07XG5cdFxuXHQgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IF9hcnIubGVuZ3RoOyBfaSsrKSB7XG5cdCAgICAgICAgICAgIHZhciBzaXplT3B0aW9uID0gX2FycltfaV07XG5cdCAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IHtcblx0ICAgICAgICAgICAgICByZWFsTmFtZTogYW5ndWxhci5jb3B5KHZhbHVlLm5hbWUpLFxuXHQgICAgICAgICAgICAgIG5hbWU6IFwibG9nbzogXCIgKyB2YWx1ZS5uYW1lLFxuXHQgICAgICAgICAgICAgIHR5cGU6IFwibG9nb1wiLFxuXHQgICAgICAgICAgICAgIHNpemU6IHNpemVPcHRpb24sXG5cdCAgICAgICAgICAgICAgaW1hZ2Vfa2V5OiB2YWx1ZS5rZXlcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgdm0uT1ZFUkxBWV9UWVBFUy5wdXNoKG5ld1ZhbHVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG5cdCAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuXHQgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG5cdCAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcblx0ICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgdm0uT1ZFUkxBWV9UWVBFUy5zb3J0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyLmRlZmF1bHQpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICAvL1RvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoXCJTT01FVEhJTkcgV0VOVCBXUk9ORyBSRVRSSUVWSU5HIFlPVVIgSU1BR0VTXCIpXG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBFdmVudHMgYW5kIElzc3VlcyBUYWJcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS5yZXBsYWNlSXNzdWVUaW1lID0gZnVuY3Rpb24gKGlzc3Vlcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGVhY2ggPSBpc3N1ZXNbaV07XG5cdCAgICAgIGlmIChlYWNoLmNyZWF0ZWQpIHtcblx0ICAgICAgICBlYWNoLmNyZWF0ZWQgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNyZWF0ZWQpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChlYWNoLnVwZGF0ZWQpIHtcblx0ICAgICAgICBlYWNoLnVwZGF0ZWQgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnVwZGF0ZWQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVwbGFjZUNvbW1hbmRUaW1lID0gZnVuY3Rpb24gKGlzc3Vlcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGVhY2ggPSBpc3N1ZXNbaV07XG5cdCAgICAgIGlmIChlYWNoLnBvc3RlZFRpbWUpIHtcblx0ICAgICAgICBlYWNoLnBvc3RlZFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnBvc3RlZFRpbWUpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChlYWNoLmNvbmZpcm1lZFRpbWUpIHtcblx0ICAgICAgICBlYWNoLmNvbmZpcm1lZFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNvbmZpcm1lZFRpbWUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ubG9jYWxGcm9tVXRjID0gZnVuY3Rpb24gKGV2ZW50cykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGVhY2ggPSBldmVudHNbaV07XG5cdCAgICAgIGlmIChlYWNoLnV0Y1RpbWVzdGFtcCkge1xuXHQgICAgICAgIGVhY2gudXRjVGltZXN0YW1wID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC51dGNUaW1lc3RhbXApO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm47XG5cdCAgfTtcblx0XG5cdCAgdm0uY29weURldmljZUtleSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ0RldmljZSBrZXkgY29waWVkIHRvIHlvdXIgY2xpcGJvYXJkJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY29weUNvcnJlbGF0aW9uSWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ0NvcnJlbGF0aW9uIElEIGNvcGllZCB0byB5b3VyIGNsaXBib2FyZCcpO1xuXHQgIH07XG5cdFxuXHQgIC8vIGV2ZW50IHRhYlxuXHQgIHZtLmdldElzc3VlcyA9IGZ1bmN0aW9uIChkZXZpY2UsIGVwb2NoU3RhcnQsIGVwb2NoRW5kLCBwcmV2LCBuZXh0KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBpc3N1ZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0SXNzdWVzQnlLZXkoZGV2aWNlLCBlcG9jaFN0YXJ0LCBlcG9jaEVuZCwgcHJldiwgbmV4dCk7XG5cdCAgICByZXR1cm4gaXNzdWVzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLnJlcGxhY2VJc3N1ZVRpbWUoZGF0YS5pc3N1ZXMpO1xuXHQgICAgICB2bS5pc3N1ZXMgPSBkYXRhLmlzc3Vlcztcblx0ICAgICAgdm0ucHJldl9jdXJzb3IgPSBkYXRhLnByZXY7XG5cdCAgICAgIHZtLm5leHRfY3Vyc29yID0gZGF0YS5uZXh0O1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICAvLyBjb21tYW5kIGhpc3RvcnkgdGFiXG5cdCAgdm0uZ2V0RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgY29tbWFuZEV2ZW50c1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRDb21tYW5kRXZlbnRzQnlLZXkoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBjb21tYW5kRXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLnJlcGxhY2VDb21tYW5kVGltZShkYXRhLmV2ZW50cyk7XG5cdCAgICAgIHZtLmV2ZW50X25leHRfY3Vyc29yID0gZGF0YS5uZXh0X2N1cnNvcjtcblx0ICAgICAgdm0uZXZlbnRfcHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuXHQgICAgICB2bS5jb21tYW5kRXZlbnRzID0gZGF0YS5ldmVudHM7XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIC8vIGVucm9sbG1lbnQgdGFiXG5cdCAgdm0uZ2V0RW5yb2xsbWVudEV2ZW50cyA9IGZ1bmN0aW9uIChkZXZpY2VLZXkpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGVucm9sbG1lbnRFdmVudHNQcm9taXNlID0gSW50ZWdyYXRpb25FdmVudHMuZ2V0RW5yb2xsbWVudEV2ZW50cyhkZXZpY2VLZXkpO1xuXHQgICAgcmV0dXJuIGVucm9sbG1lbnRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0uZW5yb2xsbWVudEV2ZW50cyA9IGRhdGE7XG5cdCAgICAgIHZtLmxvY2FsRnJvbVV0YyhkYXRhKTtcblx0ICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcblx0ICAgIGlmIChmb3J3YXJkKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRJc3N1ZXModm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgbnVsbCwgdm0ubmV4dF9jdXJzb3IpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldElzc3Vlcyh2bS5kZXZpY2VLZXksIHZtLmVwb2NoU3RhcnQsIHZtLmVwb2NoRW5kLCB2bS5wcmV2X2N1cnNvciwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ucGFnaW5hdGVFdmVudENhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuXHQgICAgaWYgKGZvcndhcmQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIG51bGwsIHZtLmV2ZW50X25leHRfY3Vyc29yKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCB2bS5ldmVudF9wcmV2X2N1cnNvciwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmVwb2NoU3RhcnQgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uc3RhcnRUaW1lLCAnWVlZWS1NTS1ERCBoaDptbSBBJykudW5peCgpO1xuXHQgICAgdm0uZXBvY2hFbmQgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uZW5kVGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcblx0XG5cdCAgICB2YXIgdGltZXpvbmVQcm9taXNlID0gVGltZXpvbmVzU2VydmljZS5nZXRDdXN0b21UaW1lem9uZXMoKTtcblx0ICAgIHRpbWV6b25lUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS50aW1lem9uZXMgPSBkYXRhO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgdm0ucGFuZWxNb2RlbHMgPSBEZXZpY2VzU2VydmljZS5nZXRQYW5lbE1vZGVscygpO1xuXHQgICAgdm0ucGFuZWxJbnB1dHMgPSBEZXZpY2VzU2VydmljZS5nZXRQYW5lbElucHV0cygpO1xuXHRcblx0ICAgIHZhciBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcblx0ICAgIGRldmljZVByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXNwb25zZSk7XG5cdCAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLm9uR2V0RGV2aWNlRmFpbHVyZShyZXNwb25zZSk7XG5cdCAgICB9KTtcblx0XG5cdCAgICB2bS5nZXRUZW5hbnRJbWFnZXMoKTtcblx0ICAgIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXHQgICAgdm0uZ2V0SXNzdWVzKHZtLmRldmljZUtleSwgdm0uZXBvY2hTdGFydCwgdm0uZXBvY2hFbmQpO1xuXHQgICAgcmV0dXJuIHZtLmdldEVucm9sbG1lbnRFdmVudHModm0uZGV2aWNlS2V5KTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkdldERldmljZVN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIHZtLmN1cnJlbnREZXZpY2UgPSByZXNwb25zZTtcblx0ICAgIHZtLmN1cnJlbnREZXZpY2VDb3B5ID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnREZXZpY2UpO1xuXHQgICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG5cdCAgICAgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSByZXNwb25zZS50aW1lem9uZTtcblx0ICAgIH1cblx0ICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB2bS50ZW5hbnRLZXkgPSB2bS5jdXJyZW50RGV2aWNlLnRlbmFudEtleTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoJHN0YXRlUGFyYW1zLmZyb21EZXZpY2VzID09PSBcInRydWVcIikge1xuXHQgICAgICB2bS5iYWNrVXJsID0gJy8jL2RldmljZXMnO1xuXHQgICAgICB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIGRldmljZXMnO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UuaXNVbm1hbmFnZWREZXZpY2UgPT09IHRydWUpIHtcblx0ICAgICAgICB2bS5iYWNrVXJsID0gJy8jL3RlbmFudHMvJyArIHZtLnRlbmFudEtleSArICcvdW5tYW5hZ2VkJztcblx0ICAgICAgICB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCB1bm1hbmFnZWQgZGV2aWNlcyc7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdm0uYmFja1VybCA9ICcvIy90ZW5hbnRzLycgKyB2bS50ZW5hbnRLZXkgKyAnL21hbmFnZWQnO1xuXHQgICAgICAgIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IG1hbmFnZWQgZGV2aWNlcyc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbG9jYXRpb25zUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXkodm0udGVuYW50S2V5KTtcblx0ICAgIHJldHVybiBsb2NhdGlvbnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9jYXRpb25zID0gZGF0YTtcblx0ICAgICAgcmV0dXJuIHZtLnNldFNlbGVjdGVkT3B0aW9ucygpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25HZXREZXZpY2VGYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBmZXRjaCB0aGUgZGV0YWlscyBmb3IgdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgdmFyIGVycm9yTWVzc2FnZSA9ICdObyBkZXRhaWwgZm9yIGRldmljZV9rZXkgJyArIHZtLmRldmljZUtleSArICcuIEVycm9yOiAnICsgcmVzcG9uc2Uuc3RhdHVzICsgJyAnICsgcmVzcG9uc2Uuc3RhdHVzVGV4dDtcblx0ICAgICRsb2cuZXJyb3IoZXJyb3JNZXNzYWdlKTtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcblx0ICB9O1xuXHRcblx0ICB2bS5zZXRTZWxlY3RlZE9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsID09PSBudWxsKSB7XG5cdCAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCA9IHZtLnBhbmVsTW9kZWxzWzBdO1xuXHQgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQgPSB2bS5wYW5lbElucHV0c1swXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0ucGFuZWxNb2RlbHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgcGFuZWxNb2RlbCA9IHZtLnBhbmVsTW9kZWxzW2ldO1xuXHQgICAgICAgIGlmIChwYW5lbE1vZGVsLmlkID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwpIHtcblx0ICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCA9IHBhbmVsTW9kZWw7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdm0ucGFuZWxJbnB1dHMubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICB2YXIgcGFuZWxJbnB1dCA9IHZtLnBhbmVsSW5wdXRzW2pdO1xuXHQgICAgICAgIHZhciBpc1BhcmVudCA9IHBhbmVsSW5wdXQucGFyZW50SWQgPT09IHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZDtcblx0ICAgICAgICBpZiAoaXNQYXJlbnQgJiYgcGFuZWxJbnB1dC5pZC50b0xvd2VyQ2FzZSgpID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQpIHtcblx0ICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dCA9IHBhbmVsSW5wdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSAhPT0gbnVsbCkge1xuXHQgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHZtLmxvY2F0aW9ucy5sZW5ndGg7IGsrKykge1xuXHQgICAgICAgIHZhciBsb2NhdGlvbiA9IHZtLmxvY2F0aW9uc1trXTtcblx0ICAgICAgICBpZiAobG9jYXRpb24ua2V5ID09PSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5KSB7XG5cdCAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uID0gbG9jYXRpb247XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gUHJvcGVydGllcyBUYWJcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgdm0ub25TYXZlRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5sb2NhdGlvbiAhPT0gdW5kZWZpbmVkICYmIHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24ua2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdm0uY3VycmVudERldmljZS5sb2NhdGlvbktleSA9IHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24ua2V5O1xuXHQgICAgfVxuXHQgICAgaWYgKHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCAmJiB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09ICdOb25lJykge1xuXHQgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWxOdW1iZXIgPSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQ7XG5cdCAgICB9XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5wYW5lbElucHV0ICYmIHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dC5pZCAhPT0gdW5kZWZpbmVkICYmIHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dC5pZCAhPT0gJ05vbmUnKSB7XG5cdCAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxTZXJpYWxJbnB1dCA9IHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dC5pZC50b0xvd2VyQ2FzZSgpO1xuXHQgICAgfVxuXHQgICAgdm0uY3VycmVudERldmljZS50aW1lem9uZSA9IHZtLnNlbGVjdGVkVGltZXpvbmU7XG5cdCAgICB2YXIgcHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLnNhdmUodm0uY3VycmVudERldmljZSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc0RldmljZVNhdmUsIHZtLm9uRmFpbHVyZURldmljZVNhdmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uU3VjY2Vzc0RldmljZVNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRmFpbHVyZURldmljZVNhdmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDA5KSB7XG5cdCAgICAgICRsb2cuaW5mbygnRmFpbHVyZSBzYXZpbmcgZGV2aWNlLiBDdXN0b21lciBkaXNwbGF5IGNvZGUgYWxyZWFkeSBleGlzdHMgZm9yIHRlbmFudDogJyArIGVycm9yLnN0YXR1cyArICcgJyArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUaGlzIGN1c3RvbWVyIGRpc3BsYXkgY29kZSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhpcyB0ZW5hbnQuIFBsZWFzZSBjaG9vc2UgYW5vdGhlci4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICRsb2cuZXJyb3IoJ0ZhaWx1cmUgc2F2aW5nIGRldmljZTogJyArIGVycm9yLnN0YXR1cyArICcgJyArIGVycm9yLnN0YXR1c1RleHQpO1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gc2F2ZSB5b3VyIHVwZGF0ZXMgdG8gdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxTbGVlcCA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZhciBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBhbmVsU2xlZXAodm0uZGV2aWNlS2V5LCBjb21tYW5kKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25QYW5lbFNsZWVwU3VjY2Vzcywgdm0ub25QYW5lbFNsZWVwRmFpbHVyZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25QYW5lbFNsZWVwU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHRvZ2dsZWQgdGhlIHBhbmVsIHNsZWVwIGF0dHJpYnV0ZS4gVGhlIHBsYXllciBzaG91bGQgYWRqdXN0IHRvIHRoZXNlIGNoYW5nZXMgd2l0aGluIDE1IG1pbnV0ZXMuXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUGFuZWxTbGVlcEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHRvZ2dsZSB0aGUgcGFuZWwgc2xlZXAgYXR0cmlidXRlLlwiLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5jb25maXJtRGV2aWNlRGVsZXRlID0gZnVuY3Rpb24gKGV2ZW50LCBrZXkpIHtcblx0ICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oe1xuXHQgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZSB0byBkZWxldGUgdGhpcyBkZXZpY2U/Jyxcblx0ICAgICAgdGV4dENvbnRlbnQ6ICdQbGVhc2UgcmVtZW1iZXIsIHlvdSBNVVNUIHJlbW92ZSB0aGlzIGRldmljZSBmcm9tIENvbnRlbnQgTWFuYWdlciBiZWZvcmUgZGVsZXRpbmcgaXQgZnJvbSBQcm92aXNpb25pbmcuJyxcblx0ICAgICAgdGFyZ2V0RXZlbnQ6IGV2ZW50LFxuXHQgICAgICBvazogJ0RlbGV0ZScsXG5cdCAgICAgIGNhbmNlbDogJ0NhbmNlbCdcblx0ICAgIH0pO1xuXHQgICAgdmFyIHNob3dQcm9taXNlID0gJG1kRGlhbG9nLnNob3coY29uZmlybSk7XG5cdCAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkNvbmZpcm1EZWxldGUoa2V5KTtcblx0ICAgIH07XG5cdCAgICB2YXIgZmFpbHVyZSA9IGZ1bmN0aW9uIGZhaWx1cmUoKSB7XG5cdCAgICAgIHJldHVybiB2bS5vbkNvbmZpcm1DYW5jZWwoKTtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gc2hvd1Byb21pc2UudGhlbihzdWNjZXNzLCBmYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNvbmZpcm1EZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG5cdCAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgcHJvY2Vzc2VkIHlvdXIgZGVsZXRlIHJlcXVlc3QuJyk7XG5cdCAgICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcblx0ICAgIH07XG5cdCAgICB2YXIgZmFpbHVyZSA9IGZ1bmN0aW9uIGZhaWx1cmUoZXJyb3IpIHtcblx0ICAgICAgdmFyIGZyaWVuZGx5TWVzc2FnZSA9ICdXZSB3ZXJlIHVuYWJsZSB0byBjb21wbGV0ZSB5b3VyIGRlbGV0ZSByZXF1ZXN0IGF0IHRoaXMgdGltZS4nO1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGZyaWVuZGx5TWVzc2FnZSk7XG5cdCAgICAgIHJldHVybiAkbG9nLmVycm9yKCdEZWxldGUgZGV2aWNlIGZhaWx1cmUgZm9yIGRldmljZV9rZXkgJyArIGtleSArICc6ICcgKyBlcnJvci5zdGF0dXMgKyAnICcgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgIH07XG5cdCAgICB2YXIgZGVsZXRlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmRlbGV0ZShrZXkpO1xuXHQgICAgcmV0dXJuIGRlbGV0ZVByb21pc2UudGhlbihzdWNjZXNzLCBmYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkNvbmZpcm1DYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93SW5mb1RvYXN0KCdXZSBjYW5jZWxlZCB5b3VyIGRlbGV0ZSByZXF1ZXN0LicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUHJvb2ZPZlBsYXlMb2dnaW5nQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcpIHtcblx0ICAgICAgdmFyIG5vTG9jYXRpb24gPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5ID09PSBudWxsO1xuXHQgICAgICB2YXIgbm9EaXNwbGF5Q29kZSA9IHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5Q29kZSA9PT0gbnVsbDtcblx0ICAgICAgaWYgKG5vTG9jYXRpb24pIHtcblx0ICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgTG9jYXRpb24gdG8gZW5hYmxlIFByb29mIG9mIHBsYXkuXCIsICdlcnJvcicpO1xuXHQgICAgICAgIHJldHVybiB2bS5jdXJyZW50RGV2aWNlLnByb29mT2ZQbGF5TG9nZ2luZyA9IGZhbHNlO1xuXHQgICAgICB9IGVsc2UgaWYgKG5vRGlzcGxheUNvZGUpIHtcblx0ICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgRGlzcGxheSBjb2RlIHRvIGVuYWJsZSBQcm9vZiBvZiBwbGF5LlwiLCAnZXJyb3InKTtcblx0ICAgICAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcgPSBmYWxzZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdm0ub25TYXZlRGV2aWNlKCk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5vblNhdmVEZXZpY2UoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vblVwZGF0ZUxvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHZtLm9uU2F2ZURldmljZSgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmF1dG9HZW5lcmF0ZUN1c3RvbWVyRGlzcGxheUNvZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgbmV3RGlzcGxheUNvZGUgPSAnJztcblx0ICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheU5hbWUpIHtcblx0ICAgICAgbmV3RGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheU5hbWUudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgbmV3RGlzcGxheUNvZGUgPSBuZXdEaXNwbGF5Q29kZS5yZXBsYWNlKC9cXHMrL2csICdfJyk7XG5cdCAgICAgIG5ld0Rpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5jdXN0b21lckRpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGU7XG5cdCAgfTtcblx0XG5cdCAgdm0ubG9nZ2x5Rm9yVXNlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB1c2VyRG9tYWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJFbWFpbCgpLnNwbGl0KFwiQFwiKVsxXTtcblx0ICAgIHJldHVybiB1c2VyRG9tYWluID09PSBcImRlbW8uYWdvc3RvLmNvbVwiIHx8IHVzZXJEb21haW4gPT09IFwiYWdvc3RvLmNvbVwiO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ2xpY2tSZWZyZXNoQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2bS5zdGFydFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkodm0uc3RhcnRUaW1lKTtcblx0ICAgIHZtLmVuZFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkodm0uZW5kVGltZSk7XG5cdCAgICB2bS5lcG9jaFN0YXJ0ID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHZtLnN0YXJ0VGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcblx0ICAgIHZtLmVwb2NoRW5kID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKHZtLmVuZFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG5cdCAgICB2bS5wcmV2X2N1cnNvciA9IG51bGw7XG5cdCAgICB2bS5uZXh0X2N1cnNvciA9IG51bGw7XG5cdCAgICB2YXIgaXNzdWVzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldElzc3Vlc0J5S2V5KHZtLmRldmljZUtleSwgdm0uZXBvY2hTdGFydCwgdm0uZXBvY2hFbmQsIHZtLnByZXZfY3Vyc29yLCB2bS5uZXh0X2N1cnNvcik7XG5cdCAgICByZXR1cm4gaXNzdWVzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS5vblJlZnJlc2hJc3N1ZXNTdWNjZXNzKGRhdGEpO1xuXHQgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgIHJldHVybiB2bS5vblJlZnJlc2hJc3N1ZXNGYWlsdXJlKGVycm9yKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uUmVmcmVzaElzc3Vlc1N1Y2Nlc3MgPSBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG5cdCAgICB2bS5pc3N1ZXMgPSBkYXRhLmlzc3Vlcztcblx0ICAgIHZtLnByZXZfY3Vyc29yID0gZGF0YS5wcmV2O1xuXHQgICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG5cdCAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25SZWZyZXNoSXNzdWVzRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICBUb2FzdHNTZXJ2aWNlLnNob3dJbmZvVG9hc3QoJ1dlIHdlcmUgdW5hYmxlIHRvIHJlZnJlc2ggdGhlIGRldmljZSBpc3N1ZXMgbGlzdCBhdCB0aGlzIHRpbWUuJyk7XG5cdCAgICByZXR1cm4gJGxvZy5lcnJvcignRmFpbHVyZSB0byByZWZyZXNoIGRldmljZSBpc3N1ZXM6ICcgKyBlcnJvci5zdGF0dXMgKyAnICcgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuRGV2aWNlRGV0YWlsc0N0cmwgPSBEZXZpY2VEZXRhaWxzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjYwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHREZXZpY2VzTGlzdGluZ0N0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVBhcmFtc1wiLCBcIiRsb2dcIiwgXCJEZXZpY2VzU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcIlNlc3Npb25zU2VydmljZVwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcInN3ZWV0XCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5EZXZpY2VzTGlzdGluZ0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjUwKTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBEZXZpY2VzTGlzdGluZ0N0cmwoJHN0YXRlUGFyYW1zLCAkbG9nLCBEZXZpY2VzU2VydmljZSwgJHN0YXRlLCBTZXNzaW9uc1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgc3dlZXQpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uZGlzdHJpYnV0b3JLZXkgPSB1bmRlZmluZWQ7XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIE1hbmFnZWRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgdm0uZGV2aWNlcyA9IFtdO1xuXHQgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcblx0ICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLm1hY0RldmljZXMgPSB7fTtcblx0ICB2bS5nY21pZERldmljZXMgPSB7fTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIFVubWFuYWdlZFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9IFwiTUFDXCI7XG5cdCAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgIHZtLnVubWFuYWdlZERpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS51bm1hbmFnZWREZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSBudWxsO1xuXHQgIHZtLnVubWFuYWdlZERldmljZXMgPSBbXTtcblx0ICB2bS51bm1hbmFnZWRNYWNEZXZpY2VzID0ge307XG5cdCAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0ge307XG5cdCAgdm0uZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCA9IFtdO1xuXHQgIHZtLmRldmljZXNUb01hdGNoT25NYW5hZ2VkID0gW107XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdCAgdm0ucmVmcmVzaE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgICAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuXHQgICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJlZnJlc2hVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgICAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSBudWxsO1xuXHQgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAodW5tYW5hZ2VkKSB7XG5cdCAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZtLnVubWFuYWdlZFNlYXJjaFRleHQgPSAnJztcblx0ICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgICB2bS51bm1hbmFnZWRTZXJpYWxEZXZpY2VzID0ge307XG5cdCAgICAgIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSB7fTtcblx0ICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCA9IFtdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICAgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICAgICAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uTWFuYWdlZCA9IFtdO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtLCB0cnVlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBzZWFyY2hUZXh0KSB7XG5cdCAgICB2YXIgbWFjID0gdm9pZCAwLFxuXHQgICAgICAgIHNlcmlhbCA9IHZvaWQgMCxcblx0ICAgICAgICBnY21pZCA9IHZvaWQgMDtcblx0ICAgIGlmICh1bm1hbmFnZWQpIHtcblx0ICAgICAgbWFjID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPT09IFwiTUFDXCI7XG5cdCAgICAgIHNlcmlhbCA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICAgICAgZ2NtaWQgPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIjtcblx0ICAgICAgaWYgKG1hYykge1xuXHQgICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS51bm1hbmFnZWRNYWNEZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfSBlbHNlIGlmIChzZXJpYWwpIHtcblx0ICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmVkaXRJdGVtKHZtLnVubWFuYWdlZEdDTWlkRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG1hYyA9IHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuXHQgICAgICBzZXJpYWwgPSB2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG5cdCAgICAgIGdjbWlkID0gdm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiR0NNIElEXCI7XG5cdCAgICAgIGlmIChtYWMpIHtcblx0ICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0ubWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmVkaXRJdGVtKHZtLnNlcmlhbERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2bS5lZGl0SXRlbSh2bS5nY21pZERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBpc01hdGNoKSB7XG5cdCAgICBpZiAoIXVubWFuYWdlZCkge1xuXHQgICAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuXHQgICAgICB2bS5kaXNhYmxlZEJ1dHRvbkxvYWRpbmcgPSBmYWxzZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZtLnVubWFuYWdlZERpc2FibGVkID0gIWlzTWF0Y2g7XG5cdCAgICAgIHZtLnVubWFuYWdlZERpc2FibGVkQnV0dG9uTG9hZGluZyA9IGZhbHNlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHJlc291cmNlKSB7XG5cdCAgICB2YXIgZGV2aWNlc1RvTWF0Y2hPbiA9IHVubWFuYWdlZCA/IHZtLmRldmljZXNUb01hdGNoT25Vbm1hbmFnZWQgOiB2bS5kZXZpY2VzVG9NYXRjaE9uTWFuYWdlZDtcblx0ICAgIHZhciBmb3VuZE1hdGNoID0gZmFsc2U7XG5cdCAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShkZXZpY2VzVG9NYXRjaE9uKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHQgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgIGlmIChyZXNvdXJjZSA9PT0gaXRlbSkge1xuXHQgICAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcblx0ICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2bS5jb250cm9sT3BlbkJ1dHRvbih1bm1hbmFnZWQsIGZvdW5kTWF0Y2gpO1xuXHQgICAgcmV0dXJuIGZvdW5kTWF0Y2g7XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHBhcnRpYWwpIHtcblx0ICAgIHZhciBidXR0b24gPSB2b2lkIDA7XG5cdCAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgIGJ1dHRvbiA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGJ5VGVuYW50ID0gZmFsc2U7XG5cdCAgICB2YXIgdGVuYW50S2V5ID0gbnVsbDtcblx0XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZhciBkZXZpY2VzVG9SZXR1cm4gPSB2b2lkIDA7XG5cdCAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG5cdCAgICAgICAgdmFyIGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuXHQgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG5cdCAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICAgIHZtLnVubWFuYWdlZFNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uID09PSBcIk1BQ1wiKSB7XG5cdCAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICAgIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdm0ubWFjRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG5cdCAgICAgICAgICAgIHZtLnVubWFuYWdlZEdDTWlkRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHVubWFuYWdlZCkge1xuXHQgICAgICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCA9IGRldmljZXNUb1JldHVybjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPbk1hbmFnZWQgPSBkZXZpY2VzVG9SZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBkZXZpY2VzVG9SZXR1cm47XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uIChrZXksIHByZXYsIG5leHQpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3Ioa2V5LCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2bS5kZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcblx0ICAgICAgdm0uZGV2aWNlc05leHQgPSByZXNwb25zZS5uZXh0X2N1cnNvcjtcblx0ICAgICAgdm0uZGV2aWNlc1ByZXYgPSByZXNwb25zZS5wcmV2X2N1cnNvcjtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoU3VjY2VzcygpO1xuXHQgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRGZXRjaEZhaWx1cmUocmVzcG9uc2UpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uIChrZXksIHByZXYsIG5leHQpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHVubWFuYWdlZERldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5RGlzdHJpYnV0b3Ioa2V5LCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiB1bm1hbmFnZWREZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2bS51bm1hbmFnZWREZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcblx0ICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYgPSByZXNwb25zZS5wcmV2X2N1cnNvcjtcblx0ICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSByZXNwb25zZS5uZXh0X2N1cnNvcjtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoU3VjY2VzcygpO1xuXHQgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRGZXRjaEZhaWx1cmUocmVzcG9uc2UpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmRpc3RyaWJ1dG9yS2V5ID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpO1xuXHQgICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRGZXRjaFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0RmV0Y2hGYWlsdXJlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHZhciBlcnJvck1lc3NhZ2UgPSBcIlVuYWJsZSB0byBmZXRjaCBkZXZpY2VzLiBFcnJvcjogXCIgKyByZXNwb25zZS5zdGF0dXMgKyBcIiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQgKyBcIi5cIjtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcblx0ICB9O1xuXHRcblx0ICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCwgbWFuYWdlZCkge1xuXHQgICAgaWYgKGZvcndhcmQpIHtcblx0ICAgICAgaWYgKG1hbmFnZWQpIHtcblx0ICAgICAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgbnVsbCwgdm0uZGV2aWNlc05leHQpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghbWFuYWdlZCkge1xuXHQgICAgICAgIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIG51bGwsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKG1hbmFnZWQpIHtcblx0ICAgICAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0uZGV2aWNlc1ByZXYsIG51bGwpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghbWFuYWdlZCkge1xuXHQgICAgICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS51bm1hbmFnZWREZXZpY2VzUHJldiwgbnVsbCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5EZXZpY2VzTGlzdGluZ0N0cmwgPSBEZXZpY2VzTGlzdGluZ0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY2MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0QWRtaW5DdHJsLiRpbmplY3QgPSBbXCJBZG1pblNlcnZpY2VcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCJEZXZpY2VzU2VydmljZVwiLCBcIiRyb290U2NvcGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwiJG1kRGlhbG9nXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5BZG1pbkN0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjUwKTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdHZhciBfamF2YXNjcmlwdE5hdHVyYWxTb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTkpO1xuXHRcblx0dmFyIF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfamF2YXNjcmlwdE5hdHVyYWxTb3J0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBBZG1pbkN0cmwoQWRtaW5TZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UsIERldmljZXNTZXJ2aWNlLCAkcm9vdFNjb3BlLCBUb2FzdHNTZXJ2aWNlLCAkc3RhdGUsICRtZERpYWxvZywgVGVuYW50c1NlcnZpY2UsIERpc3RyaWJ1dG9yc1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ucGF1bHNDdXJyZW50RGlzdHJpYnV0b3JOYW1lID0gJHJvb3RTY29wZS5wYXVsc0N1cnJlbnREaXN0cmlidXRvck5hbWU7XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIERldmljZSBTZWFyY2ggVmFyaWFibGVzXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9IFwiTWFuYWdlZFwiO1xuXHQgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgIHZtLmdjbWlkRGV2aWNlcyA9IHt9O1xuXHQgIHZtLmRldmljZXNUb01hdGNoT24gPSBbXTtcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBUZW5hbnQgU2VhcmNoIFZhcmlhYmxlc1xuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIHZtLnNlYXJjaGVkVGVuYW50cyA9IFtdO1xuXHQgIHZtLnRlbmFudFNlYXJjaE1hdGNoID0gbnVsbDtcblx0ICB2bS50ZW5hbnRTZWFyY2hEaXNhYmxlZCA9IHRydWU7XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIERldmljZSBTZWFyY2hcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uIChpc01hdGNoKSB7XG5cdCAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuXHQgICAgcmV0dXJuIHZtLmxvYWRpbmdEaXNhYmxlZCA9IGZhbHNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNoYW5nZVJhZGlvID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgICAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgICAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuXHQgICAgdmFyIGZvdW5kTWF0Y2ggPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHQgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKHZtLmRldmljZXNUb01hdGNoT24pLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTtcblx0XG5cdCAgICAgICAgaWYgKHJlc291cmNlID09PSBpdGVtKSB7XG5cdCAgICAgICAgICBmb3VuZE1hdGNoID0gdHJ1ZTtcblx0ICAgICAgICAgIHZtLm1hdGNoRGV2aWNlID0gaXRlbTtcblx0ICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0ICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG5cdCAgICB9IGZpbmFsbHkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG5cdCAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuXHQgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdm0uY29udHJvbE9wZW5CdXR0b24oZm91bmRNYXRjaCk7XG5cdCAgICByZXR1cm4gZm91bmRNYXRjaDtcblx0ICB9O1xuXHRcblx0ICB2bS5zZWFyY2hEZXZpY2VzID0gZnVuY3Rpb24gKHVubWFuYWdlZCwgcGFydGlhbCkge1xuXHQgICAgdmFyIGJ1dHRvbiA9IHZtLnNlbGVjdGVkQnV0dG9uO1xuXHQgICAgdmFyIGJ5VGVuYW50ID0gZmFsc2U7XG5cdCAgICB2YXIgdGVuYW50S2V5ID0gbnVsbDtcblx0ICAgIHZhciBkaXN0cmlidXRvciA9IG51bGw7XG5cdCAgICB2YXIgZ2xvYmFsbHkgPSB0cnVlO1xuXHRcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgZGlzdHJpYnV0b3IsIHVubWFuYWdlZCwgZ2xvYmFsbHkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZhciBkZXZpY2VzVG9SZXR1cm4gPSB2b2lkIDA7XG5cdCAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG5cdCAgICAgICAgdmFyIGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuXHQgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG5cdCAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcblx0ICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gZGV2aWNlc1RvUmV0dXJuO1xuXHRcblx0ICAgICAgICByZXR1cm4gZGV2aWNlc1RvUmV0dXJuO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gVGVuYW50IFNlYXJjaFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHRcblx0ICB2bS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lID0gZnVuY3Rpb24gKHRlbmFudF9uYW1lKSB7XG5cdCAgICBpZiAoIXRlbmFudF9uYW1lIHx8IHRlbmFudF9uYW1lLmxlbmd0aCA8IDMpIHtcblx0ICAgICAgcmV0dXJuIFtdO1xuXHQgICAgfVxuXHQgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lKHRlbmFudF9uYW1lLCB0cnVlKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZtLnNlYXJjaGVkVGVuYW50cyA9IHJlc3BvbnNlO1xuXHQgICAgICBpZiAodm0uc2VhcmNoZWRUZW5hbnRzKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLnNlYXJjaGVkVGVuYW50cy5tYXAoZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICAgIHJldHVybiBpLm5hbWU7XG5cdCAgICAgICAgfSkuc29ydChfamF2YXNjcmlwdE5hdHVyYWxTb3J0Mi5kZWZhdWx0KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBcIlVuYWJsZSB0byBmZXRjaCB0ZW5hbnRzLiBFcnJvcjogXCIgKyByZXNwb25zZS5zdGF0dXM7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzVGVuYW50VmFsaWQgPSBmdW5jdGlvbiAodGVuYW50X25hbWUpIHtcblx0ICAgIGlmICghdGVuYW50X25hbWUgfHwgdGVuYW50X25hbWUubGVuZ3RoIDwgMykge1xuXHQgICAgICByZXR1cm4gW107XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIG1hdGNoID0gdm0uc2VhcmNoZWRUZW5hbnRzO1xuXHQgICAgaWYgKG1hdGNoKSB7XG5cdCAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG5cdCAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcblx0ICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKG1hdGNoKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG5cdCAgICAgICAgICB2YXIgZWFjaE5hbWUgPSBfc3RlcDIudmFsdWU7XG5cdFxuXHQgICAgICAgICAgaWYgKHRlbmFudF9uYW1lID09PSBlYWNoTmFtZS5uYW1lKSB7XG5cdCAgICAgICAgICAgIHZtLnRlbmFudFNlYXJjaERpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHZtLnNlYXJjaE1hdGNoID0gZWFjaE5hbWU7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZtLnRlbmFudFNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG5cdCAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuXHQgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG5cdCAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcblx0ICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdm0udGVuYW50U2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIERpc3RyaWJ1dG9yIFRhYlxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHRcblx0ICB2bS5nZXRBbGxEaXN0cmlidXRvcnMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5sb2FkaW5nQWxsRGlzdHJpYnV0b3JzID0gdHJ1ZTtcblx0ICAgIHZhciBnZXRBbGxEaXN0cmlidXRvcnNQcm9taXNlID0gQWRtaW5TZXJ2aWNlLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuXHQgICAgcmV0dXJuIGdldEFsbERpc3RyaWJ1dG9yc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5sb2FkaW5nQWxsRGlzdHJpYnV0b3JzID0gZmFsc2U7XG5cdCAgICAgIHJldHVybiB2bS5hbGxEaXN0cmlidXRvcnMgPSBkYXRhO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ubWFrZURpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGV2LCBkaXN0cmlidXRvck5hbWUsIGFkbWluRW1haWwsIGZvcm0pIHtcblx0ICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oe1xuXHQgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLFxuXHQgICAgICB0ZXh0Q29udGVudDogXCJJZiB5b3UgcHJvY2VlZCwgXCIgKyBkaXN0cmlidXRvck5hbWUgKyBcIiB3aWxsIGJlIGNyZWF0ZWQuXCIsXG5cdCAgICAgIHRhcmdldEV2ZW50OiBldixcblx0ICAgICAgYXJpYUxhYmVsOiAnTHVja3kgZGF5Jyxcblx0ICAgICAgb2s6ICdZZWFoIScsXG5cdCAgICAgIGNhbmNlbDogJ0ZvcmdldCBpdC4nXG5cdCAgICB9KTtcblx0ICAgIHJldHVybiAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIG1ha2VEaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UubWFrZURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yTmFtZSwgYWRtaW5FbWFpbCk7XG5cdCAgICAgIG1ha2VEaXN0cmlidXRvclByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIHZtLmRpc3RyaWJ1dG9yID0ge307XG5cdCAgICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcblx0ICAgICAgICBmb3JtLiRzZXRVbnRvdWNoZWQoKTtcblx0ICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoZGF0YS5tZXNzYWdlKTtcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gdm0uYWxsRGlzdHJpYnV0b3JzID0gdm0uZ2V0QWxsRGlzdHJpYnV0b3JzKCk7XG5cdCAgICAgICAgfSwgMjAwMCk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIG1ha2VEaXN0cmlidXRvclByb21pc2UuY2F0Y2goZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChkYXRhLmRhdGEubWVzc2FnZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gVXNlcnMgVGFiXG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdFxuXHQgIHZtLmFkZFVzZXJUb0Rpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGV2LCB1c2VyRW1haWwsIGRpc3RyaWJ1dG9yQWRtaW4sIHdoaWNoRGlzdHJpYnV0b3IsIGZvcm0pIHtcblx0ICAgIGlmICghZGlzdHJpYnV0b3JBZG1pbikge1xuXHQgICAgICBkaXN0cmlidXRvckFkbWluID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB2YXIgd2l0aE9yV2l0aG91dCA9IGRpc3RyaWJ1dG9yQWRtaW4gPyBcIndpdGhcIiA6IFwid2l0aG91dFwiO1xuXHRcblx0ICAgIC8vIG5vIG9wdGlvbiB0byBzZWxlY3QgZGlzdHJpYnV0b3IgaXMgZ2l2ZW4gd2hlbiB0aGVyZSBpcyBvbmx5IG9uZSBvcHRpb25cblx0ICAgIGlmICghd2hpY2hEaXN0cmlidXRvcikge1xuXHQgICAgICB3aGljaERpc3RyaWJ1dG9yID0gdm0uZGlzdHJpYnV0b3JzQXNBZG1pblswXTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKHtcblx0ICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/Jyxcblx0ICAgICAgdGV4dENvbnRlbnQ6IHVzZXJFbWFpbCArIFwiIHdpbGwgYmUgYWRkZWQgdG8gXCIgKyB3aGljaERpc3RyaWJ1dG9yICsgXCJcXG4gICAgICAgIFwiICsgd2l0aE9yV2l0aG91dCArIFwiIGFkbWluaXN0cmF0b3IgcHJpdmlsZWdlc1wiLFxuXHQgICAgICB0YXJnZXRFdmVudDogZXYsXG5cdCAgICAgIG9rOiAnT2YgY291cnNlIScsXG5cdCAgICAgIGNhbmNlbDogJ09vcHMsIG5ldmVybWluZC4nXG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBhZGRVc2VyVG9EaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UuYWRkVXNlclRvRGlzdHJpYnV0b3IodXNlckVtYWlsLCB3aGljaERpc3RyaWJ1dG9yLCBkaXN0cmlidXRvckFkbWluKTtcblx0ICAgICAgYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoZGF0YS5tZXNzYWdlKTtcblx0ICAgICAgICB2bS51c2VyID0ge307XG5cdCAgICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcblx0ICAgICAgICBmb3JtLiRzZXRVbnRvdWNoZWQoKTtcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICByZXR1cm4gdm0uZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKCk7XG5cdCAgICAgICAgfSwgMjAwMCk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGRhdGEuZGF0YS5tZXNzYWdlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5zd2l0Y2hEaXN0cmlidXRvciA9IGZ1bmN0aW9uIChkaXN0cmlidXRvcikge1xuXHQgICAgRGlzdHJpYnV0b3JzU2VydmljZS5zd2l0Y2hEaXN0cmlidXRvcihkaXN0cmlidXRvcik7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiRGlzdHJpYnV0b3IgXCIgKyBkaXN0cmlidXRvci5uYW1lICsgXCIgc2VsZWN0ZWQhXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldFVzZXJzT2ZEaXN0cmlidXRvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmxvYWRpbmdVc2Vyc09mRGlzdHJpYnV0b3IgPSB0cnVlO1xuXHQgICAgdmFyIGN1cnJlbnREaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcblx0ICAgIHZhciB1c2Vyc29mRGlzdHJpYnV0b3JQcm9taXNlID0gQWRtaW5TZXJ2aWNlLmdldFVzZXJzT2ZEaXN0cmlidXRvcihjdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuXHQgICAgcmV0dXJuIHVzZXJzb2ZEaXN0cmlidXRvclByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5sb2FkaW5nVXNlcnNPZkRpc3RyaWJ1dG9yID0gZmFsc2U7XG5cdCAgICAgIHJldHVybiB2bS51c2Vyc09mRGlzdHJpYnV0b3IgPSBkYXRhO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmdldFVzZXJzT2ZEaXN0cmlidXRvcigpO1xuXHQgICAgdm0uZ2V0QWxsRGlzdHJpYnV0b3JzKCk7XG5cdCAgICB2bS5pc0FkbWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldElzQWRtaW4oKTtcblx0ICAgIHZtLmRpc3RyaWJ1dG9yc0FzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuXHQgICAgdm0uY3VycmVudERpc3RyaWJ1dG9yTmFtZSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKCk7XG5cdFxuXHQgICAgaWYgKHZtLmlzQWRtaW4pIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmVkaXRUZW5hbnQgPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHsgdGVuYW50S2V5OiBpdGVtLmtleSB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICB2YXIgbWFjID0gdm9pZCAwLFxuXHQgICAgICAgIHNlcmlhbCA9IHZvaWQgMCxcblx0ICAgICAgICBnY21pZCA9IHZvaWQgMDtcblx0ICAgIHZhciBidXR0b24gPSB2bS5zZWxlY3RlZEJ1dHRvbjtcblx0XG5cdCAgICBtYWMgPSBidXR0b24gPT09IFwiTUFDXCI7XG5cdCAgICBzZXJpYWwgPSBidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuXHQgICAgZ2NtaWQgPSBidXR0b24gPT09IFwiR0NNIElEXCI7XG5cdFxuXHQgICAgaWYgKG1hYykge1xuXHQgICAgICBEZXZpY2VzU2VydmljZS5lZGl0SXRlbSh2bS5tYWNEZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG5cdCAgICAgIERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKHZtLnNlcmlhbERldmljZXNbc2VhcmNoVGV4dF0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0odm0uZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuQWRtaW5DdHJsID0gQWRtaW5DdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NjI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRBdXRoZW50aWNhdGlvbkN0cmwuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRsb2dcIiwgXCIkc3RhdGVcIiwgXCIkdGltZW91dFwiLCBcImlkZW50aXR5XCIsIFwic3dlZXRcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJQcm9vZlBsYXlTZXJ2aWNlXCIsIFwiRGV2aWNlc1NlcnZpY2VcIiwgXCJUZW5hbnRzU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIEF1dGhlbnRpY2F0aW9uQ3RybCgkc2NvcGUsICRsb2csICRzdGF0ZSwgJHRpbWVvdXQsIGlkZW50aXR5LCBzd2VldCwgU2Vzc2lvbnNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsIFByb29mUGxheVNlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBUZW5hbnRzU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0XG5cdCAgdm0ub25Hb29nbGVQbHVzU2lnbkluU3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCwgYXV0aFJlc3VsdCkge1xuXHQgICAgaWYgKCF2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCkge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIH1cblx0ICAgIFNlc3Npb25zU2VydmljZS5yZW1vdmVVc2VySW5mbygpO1xuXHQgICAgdmFyIHByb21pc2UgPSBTZXNzaW9uc1NlcnZpY2UubG9naW4oYXV0aFJlc3VsdCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLmxvZ2luU3VjY2Vzcywgdm0ubG9naW5GYWlsdXJlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkdvb2dsZVBsdXNTaWduSW5GYWlsdXJlID0gZnVuY3Rpb24gKGV2ZW50LCBhdXRoUmVzdWx0KSB7XG5cdCAgICBpZiAodm0uZ29vZ2xlUGx1c1NpZ25JbkJ1dHRvbkNsaWNrZWQpIHtcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBhdXRoZW50aWNhdGUgdG8gR29vZ2xlKy4nLCAnZXJyb3InKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICAkc2NvcGUuJG9uKCdldmVudDpnb29nbGUtcGx1cy1zaWduaW4tc3VjY2VzcycsIHZtLm9uR29vZ2xlUGx1c1NpZ25JblN1Y2Nlc3MpO1xuXHQgICRzY29wZS4kb24oJ2V2ZW50Omdvb2dsZS1wbHVzLXNpZ25pbi1mYWlsdXJlJywgdm0ub25Hb29nbGVQbHVzU2lnbkluRmFpbHVyZSk7XG5cdFxuXHQgIHZtLmluaXRpYWxpemVTaWduSW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5jbGllbnRJZCA9IGlkZW50aXR5Lk9BVVRIX0NMSUVOVF9JRDtcblx0ICAgIHZtLnN0YXRlID0gaWRlbnRpdHkuU1RBVEU7XG5cdCAgICByZXR1cm4gdm0uZ29vZ2xlUGx1c1NpZ25JbkJ1dHRvbkNsaWNrZWQgPSBmYWxzZTtcblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplU2lnbk91dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFNlc3Npb25zU2VydmljZS5yZW1vdmVVc2VySW5mbygpO1xuXHQgICAgcmV0dXJuICR0aW1lb3V0KHZtLnByb2NlZWRUb1NpZ25lZE91dCwgNTApO1xuXHQgIH07XG5cdFxuXHQgIHZtLmxvZ2luU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdkaXN0cmlidXRvcl9zZWxlY3Rpb24nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5sb2dpbkZhaWx1cmUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBhdXRoZW50aWNhdGUgdG8gU3Rvcm1wYXRoLicsICdlcnJvcicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnByb2NlZWRUb1NpZ25lZE91dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ3NpZ25lZF9vdXQnKTtcblx0ICB9O1xuXHRcblx0ICB2bS5wcm9jZWVkVG9TaWduSW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdzaWduX2luJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25DbGlja0dvb2dsZVBsdXNTaWduSW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCA9IHRydWU7XG5cdCAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkF1dGhlbnRpY2F0aW9uQ3RybCA9IEF1dGhlbnRpY2F0aW9uQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjYzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0QXBwQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJG1kU2lkZW5hdlwiLCBcIiRzdGF0ZVwiLCBcIiRyb290U2NvcGVcIiwgXCIkd2luZG93XCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5BcHBDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9sb2Rhc2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2NCk7XG5cdFxuXHR2YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIEFwcENvbnRyb2xsZXIoJG1kU2lkZW5hdiwgJHN0YXRlLCAkcm9vdFNjb3BlLCAkd2luZG93LCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgJHJvb3RTY29wZS5wYXVsc0N1cnJlbnREaXN0cmlidXRvck5hbWUgPSAnTWFuYWdpbmcgT3JnYW5pemF0aW9uJztcblx0XG5cdCAgdm0uY3VycmVudERpc3RyaWJ1dGVySW5EaXN0cmlidXRlckFkbWluTGlzdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBjdXJyZW50RGlzdHJpYnV0b3JOYW1lID0gU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKTtcblx0ICAgIHZhciBkaXN0cmlidXRvcnNBc0FkbWluID0gU2Vzc2lvbnNTZXJ2aWNlLmdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKTtcblx0ICAgIHJldHVybiAoMCwgX2xvZGFzaDIuZGVmYXVsdCkoZGlzdHJpYnV0b3JzQXNBZG1pbiwgY3VycmVudERpc3RyaWJ1dG9yTmFtZSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0SWRlbnRpdHkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBrZXk6IFNlc3Npb25zU2VydmljZS5nZXRVc2VyS2V5KCksXG5cdCAgICAgIGVtYWlsOiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCksXG5cdCAgICAgIGFkbWluOiBTZXNzaW9uc1NlcnZpY2UuZ2V0SXNBZG1pbigpLFxuXHQgICAgICBkaXN0cmlidXRvcl9hZG1pbjogU2Vzc2lvbnNTZXJ2aWNlLmdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKSxcblx0ICAgICAgYWRtaW5fb2ZfY3VycmVudF9kaXN0cmlidXRvcjogdm0uY3VycmVudERpc3RyaWJ1dGVySW5EaXN0cmlidXRlckFkbWluTGlzdCgpLFxuXHQgICAgICBkaXN0cmlidXRvcktleTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLFxuXHQgICAgICBkaXN0cmlidXRvck5hbWU6IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKClcblx0ICAgIH07XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNDdXJyZW50VVJMRGlzdHJpYnV0b3JTZWxlY3RvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB0ZXN0ID0gJHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNlYXJjaCgvZGlzdHJpYnV0b3Jfc2VsZWN0aW9uLyk7XG5cdCAgICB2YXIgcmVzdWx0ID0gdGVzdCA+PSAwO1xuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0ICB9O1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHZtLmdldElkZW50aXR5KCk7XG5cdCAgfTtcblx0XG5cdCAgdm0udG9nZ2xlU2lkZW5hdiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAkbWRTaWRlbmF2KCdsZWZ0JykudG9nZ2xlKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ29UbyA9IGZ1bmN0aW9uIChzdGF0ZU5hbWUsIGlkKSB7XG5cdCAgICAkc3RhdGUuZ28oc3RhdGVOYW1lLCB7IGlkOiBpZCB9KTtcblx0ICAgIGlmICgkbWRTaWRlbmF2KCdsZWZ0JykuaXNPcGVuKCkpIHtcblx0ICAgICAgcmV0dXJuICRtZFNpZGVuYXYoJ2xlZnQnKS5jbG9zZSgpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUoKTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkFwcENvbnRyb2xsZXIgPSBBcHBDb250cm9sbGVyO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2ODY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVcIiwgXCIkcm9vdFNjb3BlXCIsIFwiRGlzdHJpYnV0b3JzU2VydmljZVwiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIERpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsKCRzdGF0ZSwgJHJvb3RTY29wZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnBhdWxzQ3VycmVudERpc3RyaWJ1dG9yTmFtZSA9ICRyb290U2NvcGUucGF1bHNDdXJyZW50RGlzdHJpYnV0b3JOYW1lO1xuXHRcblx0ICB2bS5kaXN0cmlidXRvcnMgPSBbXTtcblx0ICB2bS5jdXJyZW50RGlzdHJpYnV0b3IgPSB1bmRlZmluZWQ7XG5cdCAgdm0ubG9hZGluZyA9IHRydWU7XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5sb2VhZGluZyA9IHRydWU7XG5cdCAgICB2YXIgZGlzdHJpYnV0b3JzUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZmV0Y2hBbGxCeVVzZXIoU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSk7XG5cdCAgICByZXR1cm4gZGlzdHJpYnV0b3JzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmRpc3RyaWJ1dG9ycyA9IGRhdGE7XG5cdCAgICAgIGlmICh2bS5kaXN0cmlidXRvcnMubGVuZ3RoID09PSAxKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLnNlbGVjdERpc3RyaWJ1dG9yKHZtLmRpc3RyaWJ1dG9yc1swXSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VsZWN0RGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoZGlzdHJpYnV0b3IpIHtcblx0ICAgIHJldHVybiBEaXN0cmlidXRvcnNTZXJ2aWNlLnN3aXRjaERpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwgPSBEaXN0cmlidXRvclNlbGVjdG9yQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjg3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHREaXN0cmlidXRvcnNDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBEaXN0cmlidXRvcnNDdHJsKCRzdGF0ZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5kaXN0cmlidXRvcnMgPSBbXTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRpc3RyaWJ1dG9yc0N0cmwgPSBEaXN0cmlidXRvcnNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2ODg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdERvbWFpbnNDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVcIiwgXCJEb21haW5zU2VydmljZVwiLCBcInN3ZWV0XCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gRG9tYWluc0N0cmwoJHN0YXRlLCBEb21haW5zU2VydmljZSwgc3dlZXQpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uZG9tYWlucyA9IFtdO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHByb21pc2UgPSBEb21haW5zU2VydmljZS5mZXRjaEFsbERvbWFpbnMoKTtcblx0ICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLmRvbWFpbnMgPSBkYXRhO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZWRpdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnZWRpdERvbWFpbicsIHsgZG9tYWluS2V5OiBpdGVtLmtleSB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5kZWxldGVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmRlbGV0ZShpdGVtKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmluaXRpYWxpemUoKTtcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coe1xuXHQgICAgICB0aXRsZTogXCJBcmUgeW91IHN1cmU/XCIsXG5cdCAgICAgIHRleHQ6IFwiVGhpcyB3aWxsIHBlcm1hbmVudGx5IHJlbW92ZSB0aGUgZG9tYWluIGZyb20gdGhlIGRpc3RyaWJ1dG9yIGFuZCBkaXNjb25uZWN0IGZyb20gdGVuYW50cy5cIixcblx0ICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG5cdCAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG5cdCAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogXCIjREQ2QjU1XCIsXG5cdCAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIlllcywgcmVtb3ZlIHRoZSBkb21haW4hXCIsXG5cdCAgICAgIGNsb3NlT25Db25maXJtOiB0cnVlXG5cdCAgICB9LCBjYWxsYmFjayk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLkRvbWFpbnNDdHJsID0gRG9tYWluc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY4OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdERvbWFpbkRldGFpbHNDdHJsLiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiRG9tYWluc1NlcnZpY2VcIiwgXCIkc3RhdGVcIiwgXCJzd2VldFwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIlRvYXN0c1NlcnZpY2VcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRmdW5jdGlvbiBEb21haW5EZXRhaWxzQ3RybCgkbG9nLCAkc3RhdGVQYXJhbXMsIERvbWFpbnNTZXJ2aWNlLCAkc3RhdGUsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsIFRvYXN0c1NlcnZpY2UsIFNlc3Npb25zU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5jdXJyZW50RG9tYWluID0ge1xuXHQgICAga2V5OiB1bmRlZmluZWQsXG5cdCAgICBuYW1lOiB1bmRlZmluZWQsXG5cdCAgICBpbXBlcnNvbmF0aW9uX2FkbWluX2VtYWlsX2FkZHJlc3M6IHVuZGVmaW5lZCxcblx0ICAgIGRpc3RyaWJ1dG9yX2tleTogdW5kZWZpbmVkLFxuXHQgICAgb3JnYW5pemF0aW9uX3VuaXRfcGF0aDogJy9za3lraXQnLFxuXHQgICAgYWN0aXZlOiB0cnVlXG5cdCAgfTtcblx0ICB2bS5kZXZpY2VzQWNjZXNzID0gZmFsc2U7XG5cdCAgdm0ub3JnVW5pdHNBY2Nlc3MgPSBmYWxzZTtcblx0ICB2bS51c2Vyc0FjY2VzcyA9IGZhbHNlO1xuXHQgIHZtLmN1cnJlbnREb21haW5zID0gW107XG5cdCAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy5kb21haW5LZXk7XG5cdFxuXHQgIGlmICh2bS5lZGl0TW9kZSkge1xuXHQgICAgdmFyIGRvbWFpblByb21pc2UgPSBEb21haW5zU2VydmljZS5nZXREb21haW5CeUtleSgkc3RhdGVQYXJhbXMuZG9tYWluS2V5KTtcblx0ICAgIGRvbWFpblByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0uY3VycmVudERvbWFpbiA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICB9IGVsc2Uge1xuXHQgICAgdm0uY3VycmVudERvbWFpbi5kaXN0cmlidXRvcl9rZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG5cdCAgfVxuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgICB2YXIgY29ubmVjdGl2aXR5UHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmdldERpcmVjdG9yeUFwaUNvbm5lY3Rpdml0eUluZm9ybWF0aW9uKCRzdGF0ZVBhcmFtcy5kb21haW5LZXkpO1xuXHQgICAgICByZXR1cm4gY29ubmVjdGl2aXR5UHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc0RldGVybWluaW5nQ29ubmVjdGl2aXR5LCB2bS5vbkZhaWx1cmVEZXRlcm1pbmluZ0Nvbm5lY3Rpdml0eSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TdWNjZXNzRGV0ZXJtaW5pbmdDb25uZWN0aXZpdHkgPSBmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgdm0uZGV2aWNlc0FjY2VzcyA9IGRhdGEuZGV2aWNlc0FjY2Vzcztcblx0ICAgIHZtLm9yZ1VuaXRzQWNjZXNzID0gZGF0YS5vcmdVbml0c0FjY2Vzcztcblx0ICAgIHZtLnVzZXJzQWNjZXNzID0gZGF0YS51c2Vyc0FjY2Vzcztcblx0ICAgIHZtLmRldmljZXNBY2Nlc3NFeGNlcHRpb24gPSBkYXRhLmRldmljZXNBY2Nlc3NFeGNlcHRpb247XG5cdCAgICB2bS5vcmdVbml0c0FjY2Vzc0V4Y2VwdGlvbiA9IGRhdGEub3JnVW5pdHNBY2Nlc3NFeGNlcHRpb247XG5cdCAgICB2bS51c2Vyc0FjY2Vzc0V4Y2VwdGlvbiA9IGRhdGEudXNlcnNBY2Nlc3NFeGNlcHRpb247XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkZhaWx1cmVEZXRlcm1pbmluZ0Nvbm5lY3Rpdml0eSA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAkbG9nLmVycm9yKCdGYWlsdXJlIGRldGVybWluaW5nIGRpcmVjdG9yeSBBUEkgY29ubmVjdGl2aXR5OiAnICsgZXJyb3Iuc3RhdHVzICsgJyAnICsgZXJyb3Iuc3RhdHVzVGV4dCk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgZGV0ZXJtaW5lIHlvdXIgZGV2aWNlIGNvbm5lY3Rpdml0eSBhdCB0aGlzIHRpbWUuJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25TYXZlRG9tYWluID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLnNhdmUodm0uY3VycmVudERvbWFpbik7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1NhdmVEb21haW4sIHZtLm9uRmFpbHVyZVNhdmVEb21haW4pO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uU3VjY2Vzc1NhdmVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRmFpbHVyZVNhdmVEb21haW4gPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDA5KSB7XG5cdCAgICAgICRsb2cuaW5mbygnRmFpbHVyZSBzYXZpbmcgZG9tYWluLiBEb21haW4gYWxyZWFkeSBleGlzdHM6ICcgKyBlcnJvci5zdGF0dXMgKyAnICcgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGhpcyBkb21haW4gbmFtZSBhbHJlYWR5IGV4aXN0LiBQbGVhc2UgZW50ZXIgYSB1bmlxdWUgZG9tYWluIG5hbWUuJywgJ2Vycm9yJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAkbG9nLmVycm9yKCdGYWlsdXJlIHNhdmluZyBkb21haW46ICcgKyBlcnJvci5zdGF0dXMgKyAnICcgKyBlcnJvci5zdGF0dXNUZXh0KTtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIHNhdmUgeW91ciB1cGRhdGVzIGF0IHRoaXMgdGltZS4nKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdlZGl0RG9tYWluJywgeyBkb21haW5LZXk6IGl0ZW0ua2V5IH0pO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5Eb21haW5EZXRhaWxzQ3RybCA9IERvbWFpbkRldGFpbHNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsLiRpbmplY3QgPSBbXCJQcm9vZlBsYXlTZXJ2aWNlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiJHN0YXRlXCIsIFwiVG9hc3RzU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzIpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnJhZGlvQnV0dG9uQ2hvaWNlcyA9IHtcblx0ICAgIGdyb3VwMTogJ0J5IERldmljZScsXG5cdCAgICBncm91cDI6ICdTdW1tYXJpemVkJyxcblx0ICAgIHNlbGVjdGlvbjogbnVsbFxuXHQgIH07XG5cdFxuXHQgIHZtLmRhdGVUaW1lU2VsZWN0aW9uID0ge1xuXHQgICAgc3RhcnQ6IG51bGwsXG5cdCAgICBlbmQ6IG51bGxcblx0ICB9O1xuXHRcblx0ICB2bS5mb3JtVmFsaWRpdHkgPSB7XG5cdCAgICBzdGFydF9kYXRlOiBmYWxzZSxcblx0ICAgIGVuZF9kYXRlOiBmYWxzZSxcblx0ICAgIGxvY2F0aW9uczogZmFsc2Vcblx0ICB9O1xuXHRcblx0ICB2bS50ZW5hbnQgPSAkc3RhdGVQYXJhbXMudGVuYW50O1xuXHQgIHZtLm5vX2NhY2hlID0gdHJ1ZTtcblx0ICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuXHQgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucyA9IFtdO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsTG9jYXRpb25zKHZtLnRlbmFudCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG5cdCAgICAgIHZtLmxvY2F0aW9ucyA9IGRhdGEuZGF0YS5sb2NhdGlvbnM7XG5cdCAgICAgIGlmICh2bS5sb2NhdGlvbnMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJlZnJlc2hMb2NhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICB2bS5zZWxlY3RlZEl0ZW0gPSAnJztcblx0ICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zID0gW107XG5cdCAgICB2bS5pbml0aWFsaXplKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uYWRkVG9TZWxlY3RlZExvY2F0aW9ucyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAodm0uaXNMb2NhdGlvblZhbGlkKHNlYXJjaFRleHQpKSB7XG5cdCAgICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5wdXNoKHNlYXJjaFRleHQpO1xuXHQgICAgICB2YXIgaW5kZXggPSB2bS5sb2NhdGlvbnMuaW5kZXhPZihzZWFyY2hUZXh0KTtcblx0ICAgICAgdm0ubG9jYXRpb25zLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIH1cblx0ICAgIHZtLmFyZUxvY2F0aW9uc1ZhbGlkKCk7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKGxvY2F0aW9ucywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gobG9jYXRpb25zLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1JhZGlvVmFsaWQgPSBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkudHlwZSA9IHNlbGVjdGlvbjtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNMb2NhdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0ubG9jYXRpb25zKSkge1xuXHQgICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9sb2NhdGlvbnMpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uYXJlTG9jYXRpb25zVmFsaWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkubG9jYXRpb25zID0gdm0uc2VsZWN0ZWRfbG9jYXRpb25zLmxlbmd0aCA+IDA7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzU3RhcnREYXRlVmFsaWQgPSBmdW5jdGlvbiAoc3RhcnRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgPSBzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNFbmREYXRlVmFsaWQgPSBmdW5jdGlvbiAoZW5kX2RhdGUpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSA9IGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVtb3ZlRnJvbVNlbGVjdGVkTG9jYXRpb24gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgdmFyIGluZGV4ID0gdm0uc2VsZWN0ZWRfbG9jYXRpb25zLmluZGV4T2YoaXRlbSk7XG5cdCAgICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgIHZtLmxvY2F0aW9ucy5wdXNoKGl0ZW0pO1xuXHQgICAgdm0uYXJlTG9jYXRpb25zVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmxvY2F0aW9ucyAmJiB2bS5mb3JtVmFsaWRpdHkudHlwZSkge1xuXHQgICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG5cdCAgICAgICAgc3RhcnRfZGF0ZV91bml4OiAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uZGF0ZVRpbWVTZWxlY3Rpb24uc3RhcnQpLnVuaXgoKSxcblx0ICAgICAgICBlbmRfZGF0ZV91bml4OiAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uZGF0ZVRpbWVTZWxlY3Rpb24uZW5kKS51bml4KCksXG5cdCAgICAgICAgbG9jYXRpb25zOiB2bS5zZWxlY3RlZF9sb2NhdGlvbnMsXG5cdCAgICAgICAgdHlwZTogdm0ucmFkaW9CdXR0b25DaG9pY2VzLnNlbGVjdGlvblxuXHRcblx0ICAgICAgfTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHZtLmZpbmFsLnR5cGUgPT09IFwiMVwiKSB7XG5cdCAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNCeURldmljZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHZtLmZpbmFsLmxvY2F0aW9ucywgdm0udGVuYW50KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNTdW1tYXJpemVkKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwubG9jYXRpb25zLCB2bS50ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnRlbmFudHMgPSBudWxsO1xuXHQgIHZtLmN1cnJlbnRUZW5hbnQgPSB2bS50ZW5hbnQ7XG5cdFxuXHQgIHZtLmluaXRpYWxpemVfdGVuYW50X3NlbGVjdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbFRlbmFudHMoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS50ZW5hbnRzID0gZGF0YS5kYXRhLnRlbmFudHM7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5xdWVyeVNlYXJjaCA9IGZ1bmN0aW9uIChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcblx0ICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSBmYWxzZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgaWYgKHRlbmFudCAhPT0gdm0uY3VycmVudFRlbmFudCkge1xuXHQgICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuXHQgICAgICAgIHRlbmFudDogdGVuYW50XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICcgKyB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIF9faW5fXyhuZWVkbGUsIGhheXN0YWNrKSB7XG5cdCAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xuXHR9XG5cdFxuXHRleHBvcnRzLlByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwgPSBQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwuJGluamVjdCA9IFtcIlByb29mUGxheVNlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5Qcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHRcblx0ICB2bS5yYWRpb0J1dHRvbkNob2ljZXMgPSB7XG5cdCAgICBncm91cDE6ICdCeSBEYXRlJyxcblx0ICAgIGdyb3VwMjogJ1N1bW1hcml6ZWQnLFxuXHQgICAgc2VsZWN0aW9uOiBudWxsXG5cdCAgfTtcblx0XG5cdCAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG5cdCAgICBzdGFydDogbnVsbCxcblx0ICAgIGVuZDogbnVsbFxuXHQgIH07XG5cdFxuXHQgIHZtLmZvcm1WYWxpZGl0eSA9IHtcblx0ICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuXHQgICAgZW5kX2RhdGU6IGZhbHNlLFxuXHQgICAgZGlzcGxheXM6IGZhbHNlXG5cdCAgfTtcblx0XG5cdCAgdm0udGVuYW50ID0gJHN0YXRlUGFyYW1zLnRlbmFudDtcblx0ICB2bS5ub19jYWNoZSA9IHRydWU7XG5cdCAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcblx0ICB2bS5zZWxlY3RlZF9kaXNwbGF5cyA9IFtdO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsRGlzcGxheXModm0udGVuYW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcblx0ICAgICAgdm0uZGlzcGxheXMgPSBkYXRhLmRhdGEuZGV2aWNlcztcblx0ICAgICAgaWYgKHZtLmRpc3BsYXlzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSB0cnVlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5yZWZyZXNoRGlzcGxheXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICB2bS5zZWxlY3RlZEl0ZW0gPSAnJztcblx0ICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgdm0uc2VsZWN0ZWRfZGlzcGxheXMgPSBbXTtcblx0ICAgIHZtLmluaXRpYWxpemUoKTtcblx0ICB9O1xuXHRcblx0ICB2bS5hZGRUb1NlbGVjdGVkRGlzcGxheXMgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgaWYgKHZtLmlzRGlzcGxheVZhbGlkKHNlYXJjaFRleHQpKSB7XG5cdCAgICAgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzLnB1c2goc2VhcmNoVGV4dCk7XG5cdCAgICAgIHZhciBpbmRleCA9IHZtLmRpc3BsYXlzLmluZGV4T2Yoc2VhcmNoVGV4dCk7XG5cdCAgICAgIHZtLmRpc3BsYXlzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIH1cblx0ICAgIHZtLmFyZURpc3BsYXlzVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucXVlcnlTZWFyY2ggPSBmdW5jdGlvbiAoZGlzcGxheXMsIHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKGRpc3BsYXlzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1JhZGlvVmFsaWQgPSBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkudHlwZSA9IHNlbGVjdGlvbjtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNEaXNwbGF5VmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuXHQgICAgaWYgKF9faW5fXyhzZWFyY2hUZXh0LCB2bS5kaXNwbGF5cykpIHtcblx0ICAgICAgaWYgKCFfX2luX18oc2VhcmNoVGV4dCwgdm0uc2VsZWN0ZWRfZGlzcGxheXMpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uYXJlRGlzcGxheXNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5kaXNwbGF5cyA9IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLmxlbmd0aCA+IDA7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzU3RhcnREYXRlVmFsaWQgPSBmdW5jdGlvbiAoc3RhcnRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgPSBzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNFbmREYXRlVmFsaWQgPSBmdW5jdGlvbiAoZW5kX2RhdGUpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSA9IGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVtb3ZlRnJvbVNlbGVjdGVkRGlzcGxheSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICB2YXIgaW5kZXggPSB2bS5zZWxlY3RlZF9kaXNwbGF5cy5pbmRleE9mKGl0ZW0pO1xuXHQgICAgdm0uc2VsZWN0ZWRfZGlzcGxheXMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgIHZtLmRpc3BsYXlzLnB1c2goaXRlbSk7XG5cdCAgICB2bS5hcmVEaXNwbGF5c1ZhbGlkKCk7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAodm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5kaXNwbGF5cyAmJiB2bS5mb3JtVmFsaWRpdHkudHlwZSkge1xuXHQgICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG5cdCAgICAgICAgc3RhcnRfZGF0ZV91bml4OiAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uZGF0ZVRpbWVTZWxlY3Rpb24uc3RhcnQpLnVuaXgoKSxcblx0ICAgICAgICBlbmRfZGF0ZV91bml4OiAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uZGF0ZVRpbWVTZWxlY3Rpb24uZW5kKS51bml4KCksXG5cdCAgICAgICAgZGlzcGxheXM6IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLFxuXHQgICAgICAgIHR5cGU6IHZtLnJhZGlvQnV0dG9uQ2hvaWNlcy5zZWxlY3Rpb25cblx0XG5cdCAgICAgIH07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuXHQgICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZSh2bS5maW5hbC5zdGFydF9kYXRlX3VuaXgsIHZtLmZpbmFsLmVuZF9kYXRlX3VuaXgsIHZtLmZpbmFsLmRpc3BsYXlzLCB2bS50ZW5hbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNTdW1tYXJpemVkKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwuZGlzcGxheXMsIHZtLnRlbmFudCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0udGVuYW50cyA9IG51bGw7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgIGlmICh0ZW5hbnQgIT09IHZtLmN1cnJlbnRUZW5hbnQpIHtcblx0ICAgICAgJHN0YXRlLmdvKCdwcm9vZkRldGFpbCcsIHtcblx0ICAgICAgICB0ZW5hbnQ6IHRlbmFudFxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1Byb29mIG9mIFBsYXkgcmVwb3J0aW5nIHNldCB0byAnICsgdGVuYW50KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBpcyBhbHJlYWR5IHNldCB0byAnICsgdGVuYW50KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5xdWVyeVNlYXJjaCA9IGZ1bmN0aW9uIChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcblx0ICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSBmYWxzZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcblx0ICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG5cdH1cblx0XG5cdGV4cG9ydHMuUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsID0gUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsLiRpbmplY3QgPSBbXCJQcm9vZlBsYXlTZXJ2aWNlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiJHN0YXRlXCIsIFwiVG9hc3RzU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzIpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBQcm9vZk9mUGxheU11bHRpUmVzb3VyY2VDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZtLnJhZGlvQnV0dG9uQ2hvaWNlcyA9IHtcblx0ICAgIGdyb3VwMTogJ0J5IERldmljZScsXG5cdCAgICBncm91cDI6ICdCeSBEYXRlJyxcblx0ICAgIHNlbGVjdGlvbjogbnVsbFxuXHQgIH07XG5cdFxuXHQgIHZtLmRhdGVUaW1lU2VsZWN0aW9uID0ge1xuXHQgICAgc3RhcnQ6IG51bGwsXG5cdCAgICBlbmQ6IG51bGxcblx0ICB9O1xuXHRcblx0ICB2bS5mb3JtVmFsaWRpdHkgPSB7XG5cdCAgICBzdGFydF9kYXRlOiBmYWxzZSxcblx0ICAgIGVuZF9kYXRlOiBmYWxzZSxcblx0ICAgIHJlc291cmNlczogZmFsc2Vcblx0ICB9O1xuXHRcblx0ICB2bS50ZW5hbnQgPSAkc3RhdGVQYXJhbXMudGVuYW50O1xuXHQgIHZtLm5vX2NhY2hlID0gdHJ1ZTtcblx0ICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuXHQgIHZtLnNlbGVjdGVkX3Jlc291cmNlcyA9IFtdO1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsUmVzb3VyY2VzKHZtLnRlbmFudCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG5cdCAgICAgIHZtLmZ1bGxfcmVzb3VyY2VfbWFwID0gZGF0YS5kYXRhLnJlc291cmNlcztcblx0ICAgICAgdm0ucmVzb3VyY2VzID0gW107XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5kYXRhLnJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciByZXNvdXJjZSA9IGRhdGEuZGF0YS5yZXNvdXJjZXNbaV07XG5cdCAgICAgICAgdm0ucmVzb3VyY2VzLnB1c2gocmVzb3VyY2UucmVzb3VyY2VfbmFtZSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICh2bS5yZXNvdXJjZXMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnJlZnJlc2hSZXNvdXJjZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICB2bS5zZWxlY3RlZEl0ZW0gPSAnJztcblx0ICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuXHQgICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzID0gW107XG5cdCAgICB2bS5pbml0aWFsaXplKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uYWRkVG9TZWxlY3RlZFJlc291cmNlcyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICBpZiAodm0uaXNSZXNvdXJjZVZhbGlkKHNlYXJjaFRleHQpKSB7XG5cdCAgICAgIHZtLnNlbGVjdGVkX3Jlc291cmNlcy5wdXNoKHNlYXJjaFRleHQpO1xuXHQgICAgICB2YXIgaW5kZXggPSB2bS5yZXNvdXJjZXMuaW5kZXhPZihzZWFyY2hUZXh0KTtcblx0ICAgICAgdm0ucmVzb3VyY2VzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcblx0ICAgIH1cblx0ICAgIHZtLmFyZVJlc291cmNlc1ZhbGlkKCk7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnF1ZXJ5U2VhcmNoID0gZnVuY3Rpb24gKHJlc291cmNlcywgc2VhcmNoVGV4dCkge1xuXHQgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1JhZGlvVmFsaWQgPSBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkudHlwZSA9IHNlbGVjdGlvbjtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNSZXNvdXJjZVZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0ucmVzb3VyY2VzKSkge1xuXHQgICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9yZXNvdXJjZXMpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uYXJlUmVzb3VyY2VzVmFsaWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5mb3JtVmFsaWRpdHkucmVzb3VyY2VzID0gdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLmxlbmd0aCA+IDA7XG5cdCAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzU3RhcnREYXRlVmFsaWQgPSBmdW5jdGlvbiAoc3RhcnRfZGF0ZSkge1xuXHQgICAgdm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgPSBzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNFbmREYXRlVmFsaWQgPSBmdW5jdGlvbiAoZW5kX2RhdGUpIHtcblx0ICAgIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSA9IGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVtb3ZlRnJvbVNlbGVjdGVkUmVzb3VyY2UgPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgdmFyIGluZGV4ID0gdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLmluZGV4T2YoaXRlbSk7XG5cdCAgICB2bS5zZWxlY3RlZF9yZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgIHZtLnJlc291cmNlcy5wdXNoKGl0ZW0pO1xuXHQgICAgdm0uYXJlUmVzb3VyY2VzVmFsaWQoKTtcblx0ICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkuZW5kX2RhdGUgJiYgdm0uZm9ybVZhbGlkaXR5LnJlc291cmNlcyAmJiB2bS5mb3JtVmFsaWRpdHkudHlwZSkge1xuXHQgICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG5cdCAgICAgICAgc3RhcnRfZGF0ZV91bml4OiAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uZGF0ZVRpbWVTZWxlY3Rpb24uc3RhcnQpLnVuaXgoKSxcblx0ICAgICAgICBlbmRfZGF0ZV91bml4OiAoMCwgX21vbWVudDIuZGVmYXVsdCkodm0uZGF0ZVRpbWVTZWxlY3Rpb24uZW5kKS51bml4KCksXG5cdCAgICAgICAgcmVzb3VyY2VzOiB2bS5zZWxlY3RlZF9yZXNvdXJjZXMsXG5cdCAgICAgICAgdHlwZTogdm0ucmFkaW9CdXR0b25DaG9pY2VzLnNlbGVjdGlvblxuXHQgICAgICB9O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgcmVzb3VyY2VzX2FzX2lkcyA9IFtdO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bS5maW5hbC5yZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGl0ZW0gPSB2bS5maW5hbC5yZXNvdXJjZXNbaV07XG5cdCAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdm0uZnVsbF9yZXNvdXJjZV9tYXAubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IHZtLmZ1bGxfcmVzb3VyY2VfbWFwW2pdO1xuXHQgICAgICAgIGlmIChlYWNoW1wicmVzb3VyY2VfbmFtZVwiXSA9PT0gaXRlbSkge1xuXHQgICAgICAgICAgcmVzb3VyY2VzX2FzX2lkcy5wdXNoKGVhY2hbXCJyZXNvdXJjZV9pZGVudGlmaWVyXCJdKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAodm0uZmluYWwudHlwZSA9PT0gXCIxXCIpIHtcblx0ICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGV2aWNlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgcmVzb3VyY2VzX2FzX2lkcywgdm0udGVuYW50KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURhdGUodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCByZXNvdXJjZXNfYXNfaWRzLCB2bS50ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnRlbmFudHMgPSBudWxsO1xuXHQgIHZtLmN1cnJlbnRUZW5hbnQgPSB2bS50ZW5hbnQ7XG5cdFxuXHQgIHZtLmluaXRpYWxpemVfdGVuYW50X3NlbGVjdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbFRlbmFudHMoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS50ZW5hbnRzID0gZGF0YS5kYXRhLnRlbmFudHM7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5xdWVyeVNlYXJjaCA9IGZ1bmN0aW9uIChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcblx0ICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSBmYWxzZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgaWYgKHRlbmFudCAhPT0gdm0uY3VycmVudFRlbmFudCkge1xuXHQgICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuXHQgICAgICAgIHRlbmFudDogdGVuYW50XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJyArIHRlbmFudCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgaXMgYWxyZWFkeSBzZXQgdG8gJyArIHRlbmFudCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcblx0ICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG5cdH1cblx0XG5cdGV4cG9ydHMuUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybCA9IFByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0UHJvb2ZPZlBsYXlDdHJsLiRpbmplY3QgPSBbXCJQcm9vZlBsYXlTZXJ2aWNlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiJHN0YXRlXCIsIFwiVG9hc3RzU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIFByb29mT2ZQbGF5Q3RybChQcm9vZlBsYXlTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgVG9hc3RzU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5yZXNvdXJjZSA9IHsgdGl0bGU6IFwiUmVzb3VyY2UgUmVwb3J0XCIgfTtcblx0ICB2bS5sb2NhdGlvbiA9IHsgdGl0bGU6IFwiTG9jYXRpb24gUmVwb3J0XCIgfTtcblx0ICB2bS5kaXNwbGF5ID0geyB0aXRsZTogXCJEaXNwbGF5IFJlcG9ydFwiIH07XG5cdFxuXHQgIHZtLmNob3Nlbl90ZW5hbnQgPSBudWxsO1xuXHQgIHZtLnRlbmFudHMgPSBudWxsO1xuXHQgIHZtLmRpc2FibGVkID0gdHJ1ZTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbFRlbmFudHMoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS50ZW5hbnRzID0gZGF0YS5kYXRhLnRlbmFudHM7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5xdWVyeVNlYXJjaCA9IGZ1bmN0aW9uIChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKHJlc291cmNlcywgc2VhcmNoVGV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcblx0ICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuXHQgICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSBmYWxzZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgaWYgKHRlbmFudCkge1xuXHQgICAgICB2bS5jaG9zZW5fdGVuYW50ID0gdGVuYW50O1xuXHQgICAgICByZXR1cm4gJHN0YXRlLmdvKCdwcm9vZkRldGFpbCcsIHtcblx0ICAgICAgICB0ZW5hbnQ6IHZtLmNob3Nlbl90ZW5hbnRcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaFRlbmFudHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS50ZW5hbnRzID0gbnVsbDtcblx0ICAgIHZhciB1cmwgPSBQcm9vZlBsYXlTZXJ2aWNlLm1ha2VIVFRQVVJMKFwiL3JldHJpZXZlX215X3RlbmFudHNcIiwgJycpO1xuXHQgICAgdm0uaW5pdGlhbGl6ZSgpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIF9faW5fXyhuZWVkbGUsIGhheXN0YWNrKSB7XG5cdCAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xuXHR9XG5cdFxuXHRleHBvcnRzLlByb29mT2ZQbGF5Q3RybCA9IFByb29mT2ZQbGF5Q3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjk0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKCQpIHsndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIEltYWdlU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBJbWFnZVNlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHQgIGZ1bmN0aW9uIEltYWdlU2VydmljZShSZXN0YW5ndWxhciwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEltYWdlU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEltYWdlU2VydmljZSwgW3tcblx0ICAgIGtleTogJ2dldEltYWdlcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW1hZ2VzKHRlbmFudF91cmxzYWZlX2tleSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2ltYWdlJywgJy9hcGkvdjEvaW1hZ2UvdGVuYW50LycgKyB0ZW5hbnRfdXJsc2FmZV9rZXkpLmdldExpc3QoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzYXZlSW1hZ2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVJbWFnZSh0ZW5hbnRfdXJsc2FmZV9rZXksIGZvcm1EYXRhKSB7XG5cdCAgICAgIC8vIGpRdWVyeSBhamF4IHVzZWQgaGVyZSBpbnN0ZWFkIG9mIGFuZ3VsYXIgLyBSZXN0YW5ndWxhciBkdWUgdG8gYW5ndWxhciBidWcgd2l0aCBwb3N0aW5nIGZvcm0gZGF0YVxuXHQgICAgICByZXR1cm4gJC5hamF4KHtcblx0ICAgICAgICB0eXBlOiBcIlBPU1RcIixcblx0ICAgICAgICB1cmw6ICcvYXBpL3YxL2ltYWdlL3RlbmFudC8nICsgdGVuYW50X3VybHNhZmVfa2V5LFxuXHQgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxuXHQgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcblx0ICAgICAgICBjb250ZW50VHlwZTogZmFsc2Vcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGVsZXRlSW1hZ2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUltYWdlKGltYWdlX3VybHNhZmVfa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2ltYWdlJywgJy9hcGkvdjEvaW1hZ2UvJyArIGltYWdlX3VybHNhZmVfa2V5KS5yZW1vdmUoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBJbWFnZVNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEltYWdlU2VydmljZTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNTEyKSkpXG5cbi8qKiovIH0sXG5cbi8qKiovIDcwMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk1KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTYpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBBZG1pblNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgQWRtaW5TZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblx0ICBmdW5jdGlvbiBBZG1pblNlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgQWRtaW5TZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuVVNFUl9TRVJWSUNFID0gXCJ1c2Vyc1wiO1xuXHQgICAgdGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFID0gXCJkaXN0cmlidXRvcnNcIjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEFkbWluU2VydmljZSwgW3tcblx0ICAgIGtleTogXCJtYWtlRGlzdHJpYnV0b3JcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IsIGFkbWluX2VtYWlsKSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0ge1xuXHQgICAgICAgIGRpc3RyaWJ1dG9yOiBkaXN0cmlidXRvcixcblx0ICAgICAgICBhZG1pbl9lbWFpbDogYWRtaW5fZW1haWxcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCAnL2FwaS92MS9kaXN0cmlidXRvcnMnKS5jdXN0b21QT1NUKHBheWxvYWQpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiYWRkVXNlclRvRGlzdHJpYnV0b3JcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRVc2VyVG9EaXN0cmlidXRvcih1c2VyRW1haWwsIGRpc3RyaWJ1dG9yLCBkaXN0cmlidXRvckFkbWluKSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0ge1xuXHQgICAgICAgIHVzZXJfZW1haWw6IHVzZXJFbWFpbCxcblx0ICAgICAgICBkaXN0cmlidXRvcjogZGlzdHJpYnV0b3IsXG5cdCAgICAgICAgZGlzdHJpYnV0b3JfYWRtaW46IGRpc3RyaWJ1dG9yQWRtaW5cblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5VU0VSX1NFUlZJQ0UsIFwiL2FwaS92MS91c2Vyc1wiKS5jdXN0b21QT1NUKHBheWxvYWQpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBcIi9hcGkvdjEvYW5hbHl0aWNzL2Rpc3RyaWJ1dG9ycy9cIiArIGRpc3RyaWJ1dG9yS2V5ICsgXCIvdXNlcnNcIikuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJnZXRBbGxEaXN0cmlidXRvcnNcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxEaXN0cmlidXRvcnMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBcIi9hcGkvdjEvZGlzdHJpYnV0b3JzXCIpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEFkbWluU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQWRtaW5TZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIEF1dGhvcml6YXRpb25TZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIEF1dGhvcml6YXRpb25TZXJ2aWNlLiRpbmplY3QgPSBbXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCIkcVwiXTtcblx0ICBmdW5jdGlvbiBBdXRob3JpemF0aW9uU2VydmljZShTZXNzaW9uc1NlcnZpY2UsICRxKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIEF1dGhvcml6YXRpb25TZXJ2aWNlKTtcblx0ICAgIHRoaXMuJHEgPSAkcTtcblx0ICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoQXV0aG9yaXphdGlvblNlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdhdXRoZW50aWNhdGVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKCkge1xuXHQgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cdCAgICAgIHZhciB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuXHQgICAgICBpZiAodXNlcktleSkge1xuXHQgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVqZWN0KFtcImF1dGhFcnJvclwiLCAnc2lnbl9pbiddKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdub3RBdXRoZW50aWNhdGVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBub3RBdXRoZW50aWNhdGVkKCkge1xuXHQgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cdCAgICAgIHZhciB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuXHQgICAgICBpZiAoIXVzZXJLZXkpIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlZmVycmVkLnJlamVjdChbXCJhdXRoRXJyb3JcIiwgJ2hvbWUnXSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaXNBZG1pbk9yRGlzdHJpYnV0b3JBZG1pbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaXNBZG1pbk9yRGlzdHJpYnV0b3JBZG1pbigpIHtcblx0ICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICB2YXIgYWRtaW4gPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRJc0FkbWluKCk7XG5cdCAgICAgIHZhciBkaXN0cmlidXRvckFkbWluID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuXHQgICAgICB2YXIgaGFzQXRMZWFzdE9uZURpc3RyaWJ1dG9yQWRtaW4gPSBmYWxzZTtcblx0ICAgICAgaWYgKGRpc3RyaWJ1dG9yQWRtaW4gJiYgZGlzdHJpYnV0b3JBZG1pbi5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgaGFzQXRMZWFzdE9uZURpc3RyaWJ1dG9yQWRtaW4gPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuXHQgICAgICBpZiAoIXVzZXJLZXkpIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZWplY3QoJ3NpZ25faW4nKTtcblx0ICAgICAgfSBlbHNlIGlmICghYWRtaW4gJiYgIWhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluKSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVqZWN0KFtcImF1dGhFcnJvclwiLCAnaG9tZSddKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEF1dGhvcml6YXRpb25TZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIENvbW1hbmRzU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBDb21tYW5kc1NlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIENvbW1hbmRzU2VydmljZShSZXN0YW5ndWxhcikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBDb21tYW5kc1NlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgICAgdGhpcy5TRVJWSUNFX05BTUUgPSAnZGV2aWNlcyc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShDb21tYW5kc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdwYW5lbFNsZWVwJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwYW5lbFNsZWVwKGtleSwgX3BhbmVsU2xlZXApIHtcblx0ICAgICAgLyoqIHBhbmVsU2xlZXA6IGJvb2xlYW4gKiovXG5cdCAgICAgIHZhciBwYXlsb2FkID0ge1xuXHQgICAgICAgIHBhbmVsU2xlZXA6IF9wYW5lbFNsZWVwXG5cdCAgICAgIH07XG5cdFxuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvcGFuZWwtc2xlZXAnKS5jdXN0b21QVVQocGF5bG9hZCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Jlc2V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldChrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkgKyAnL2NvbW1hbmRzL3Jlc2V0JykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb250ZW50RGVsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb250ZW50RGVsZXRlKGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvY29udGVudC1kZWxldGUnKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbnRlbnRVcGRhdGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnRlbnRVcGRhdGUoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9jb250ZW50LXVwZGF0ZScpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAndXBkYXRlRGV2aWNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVEZXZpY2Uoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9yZWZyZXNoLWRldmljZS1yZXByZXNlbnRhdGlvbicpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAndG9nZ2xlRGlhZ25vc3RpY3MnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZURpYWdub3N0aWNzKGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvZGlhZ25vc3RpY3MnKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Jlc3RhcnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc3RhcnQoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9yZXN0YXJ0JykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdwb3N0TG9nJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwb3N0TG9nKGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvcG9zdC1sb2cnKS5wb3N0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Bvd2VyT24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBvd2VyT24oa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5ICsgJy9jb21tYW5kcy9wb3dlci1vbicpLnBvc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncG93ZXJPZmYnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBvd2VyT2ZmKGtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCAnYXBpL3YxL2RldmljZXMvJyArIGtleSArICcvY29tbWFuZHMvcG93ZXItb2ZmJykucG9zdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICd2b2x1bWUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHZvbHVtZShrZXksIF92b2x1bWUpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgdm9sdW1lOiBfdm9sdW1lXG5cdCAgICAgIH07XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICdhcGkvdjEvZGV2aWNlcy8nICsga2V5KS5jdXN0b21QT1NUKHBheWxvYWQsICdjb21tYW5kcy92b2x1bWUnKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY3VzdG9tJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjdXN0b20oa2V5LCBjb21tYW5kKSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0ge1xuXHQgICAgICAgIGNvbW1hbmQ6IGNvbW1hbmRcblx0ICAgICAgfTtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgJ2FwaS92MS9kZXZpY2VzLycgKyBrZXkpLmN1c3RvbVBPU1QocGF5bG9hZCwgJ2NvbW1hbmRzL2N1c3RvbScpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIENvbW1hbmRzU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ29tbWFuZHNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcyKTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UpO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdjb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnZlcnRUb01vbWVudElmTm90QWxyZWFkeShkYXRlKSB7XG5cdCAgICAgIGlmICghX21vbWVudDIuZGVmYXVsdC5pc01vbWVudChkYXRlKSkge1xuXHQgICAgICAgIHJldHVybiAoMCwgX21vbWVudDIuZGVmYXVsdCkobmV3IERhdGUoZGF0ZSkpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBkYXRlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY3JlYXRlRm9ybWF0dGVkU3RhcnRBbmRFbmREYXRlRnJvbVRvZGF5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVGb3JtYXR0ZWRTdGFydEFuZEVuZERhdGVGcm9tVG9kYXkoZGF5c0JhY2spIHtcblx0ICAgICAgdmFyIHN0YXJ0VGltZSA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KSgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuXHQgICAgICB2YXIgc3RhcnRUaW1lTWlkTmlnaHQgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkoc3RhcnRUaW1lLCAnWVlZWS1NTS1ERCcpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJyk7XG5cdCAgICAgIHZhciBzdGFydFRpbWVFbmRPZkRheSA9ICgwLCBfbW9tZW50Mi5kZWZhdWx0KShzdGFydFRpbWVNaWROaWdodCwgJ1lZWVktTU0tREQgaGg6bW0gQScpLmFkZCgxLCAnZGF5Jykuc3VidHJhY3QoNjAsICdzZWNvbmRzJykuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tIEEnKTtcblx0XG5cdCAgICAgIHZhciBlbmRUaW1lID0gKDAsIF9tb21lbnQyLmRlZmF1bHQpKCkuc3VidHJhY3QoZGF5c0JhY2ssICdkYXlzJykuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG5cdCAgICAgIHZhciBlbmRUaW1lTWlkTmlnaHQgPSAoMCwgX21vbWVudDIuZGVmYXVsdCkoZW5kVGltZSwgJ1lZWVktTU0tREQnKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW0gQScpO1xuXHRcblx0ICAgICAgcmV0dXJuIFtlbmRUaW1lTWlkTmlnaHQsIHN0YXJ0VGltZUVuZE9mRGF5XTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZW5lcmF0ZUxvY2FsRnJvbVVUQycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVMb2NhbEZyb21VVEMoVVRDVGltZSkge1xuXHQgICAgICB2YXIgbG9jYWxUaW1lID0gX21vbWVudDIuZGVmYXVsdC51dGMoVVRDVGltZSkudG9EYXRlKCk7XG5cdCAgICAgIHJldHVybiAoMCwgX21vbWVudDIuZGVmYXVsdCkobG9jYWxUaW1lKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW06c3MgQScpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIERldmljZXNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIERldmljZXNTZXJ2aWNlLiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiUmVzdGFuZ3VsYXJcIiwgXCIkcVwiLCBcIiRodHRwXCIsIFwiJHN0YXRlXCJdO1xuXHQgIGZ1bmN0aW9uIERldmljZXNTZXJ2aWNlKCRsb2csIFJlc3Rhbmd1bGFyLCAkcSwgJGh0dHAsICRzdGF0ZSkge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEZXZpY2VzU2VydmljZSk7XG5cdCAgICB0aGlzLiRsb2cgPSAkbG9nO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgICAgdGhpcy4kcSA9ICRxO1xuXHQgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuXHQgICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG5cdCAgICB0aGlzLlNFUlZJQ0VfTkFNRSA9ICdkZXZpY2VzJztcblx0ICAgIHRoaXMudXJpQmFzZSA9ICd2MS9kZXZpY2VzJztcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERldmljZXNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnYWRqdXN0Q29udHJvbHNNb2RlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhZGp1c3RDb250cm9sc01vZGUoZGV2aWNlS2V5LCBjb250cm9sc01vZGUpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgY29udHJvbHNNb2RlOiBjb250cm9sc01vZGVcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsICcvYXBpL3YxL2RldmljZXMvJyArIGRldmljZUtleSArICcvY29udHJvbHMtbW9kZScpLmN1c3RvbVBVVChwYXlsb2FkKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RGV2aWNlQnlNYWNBZGRyZXNzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZXZpY2VCeU1hY0FkZHJlc3MobWFjQWRkcmVzcykge1xuXHQgICAgICB2YXIgdXJsID0gJ2FwaS92MS9kZXZpY2VzP21hY19hZGRyZXNzPScgKyBtYWNBZGRyZXNzO1xuXHQgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2FwaS92MS9kZXZpY2VzJywgdXJsKS5nZXQoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREZXZpY2VCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGV2aWNlQnlLZXkoZGV2aWNlS2V5KSB7XG5cdCAgICAgIHZhciB1cmwgPSAnYXBpL3YxL2RldmljZXMvJyArIGRldmljZUtleTtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUoZGljdGlvbmFyeSwgdmFsdWUpIHtcblx0ICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaWN0aW9uYXJ5Lmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBkaWN0aW9uYXJ5W2ldO1xuXHQgICAgICAgIHJlc3VsdHMucHVzaChlYWNoW3ZhbHVlXSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgaXNNYWMgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgaXNHQ01pZCA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBzZXJpYWxEZXZpY2VzRGljdCA9IF90aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG5cdCAgICAgICAgdmFyIGRldmljZVNlcmlhbHNPbmx5ID0gX3RoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG5cdCAgICAgICAgcmV0dXJuIFtkZXZpY2VTZXJpYWxzT25seSwgc2VyaWFsRGV2aWNlc0RpY3RdO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdleGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5RGlzdHJpYnV0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbChkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgaXNNYWMgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgaXNHQ01pZCA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBzZXJpYWxEZXZpY2VzRGljdCA9IF90aGlzMi5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuXHQgICAgICAgIHZhciBzZXJpYWxEZXZpY2VzT25seSA9IF90aGlzMi5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcInNlcmlhbFwiKTtcblx0ICAgICAgICByZXR1cm4gW3NlcmlhbERldmljZXNPbmx5LCBzZXJpYWxEZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsR2xvYmFsbHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEdsb2JhbGx5KHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG5cdCAgICAgICAgdmFyIGlzTWFjID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIGlzR0NNaWQgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgc2VyaWFsRGV2aWNlc0RpY3QgPSBfdGhpczMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcblx0ICAgICAgICB2YXIgc2VyaWFsRGV2aWNlc09ubHkgPSBfdGhpczMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG5cdCAgICAgICAgcmV0dXJuIFtzZXJpYWxEZXZpY2VzT25seSwgc2VyaWFsRGV2aWNlc0RpY3RdO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgbWFjRGV2aWNlc0RpY3QgPSBfdGhpczQuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIHRydWUpO1xuXHQgICAgICAgIHZhciBkZXZpY2VNYWNzT25seSA9IF90aGlzNC5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcIm1hY1wiKTtcblx0ICAgICAgICByZXR1cm4gW2RldmljZU1hY3NPbmx5LCBtYWNEZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuXHQgICAgICAgIHZhciBpc01hYyA9IHRydWU7XG5cdCAgICAgICAgdmFyIGlzR0NNaWQgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgbWFjRGV2aWNlc0RpY3QgPSBfdGhpczUuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcblx0ICAgICAgICB2YXIgbWFjRGV2aWNlcyA9IF90aGlzNS5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcIm1hY1wiKTtcblx0ICAgICAgICByZXR1cm4gW21hY0RldmljZXMsIG1hY0RldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNHbG9iYWxseScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgaXNNYWMgPSB0cnVlO1xuXHQgICAgICAgIHZhciBpc0dDTWlkID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIG1hY0RldmljZXNEaWN0ID0gX3RoaXM2LmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG5cdCAgICAgICAgdmFyIG1hY0RldmljZXMgPSBfdGhpczYucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJtYWNcIik7XG5cdCAgICAgICAgcmV0dXJuIFttYWNEZXZpY2VzLCBtYWNEZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG5cdCAgICAgICAgdmFyIGdjbWlkRGV2aWNlc0RpY3QgPSBfdGhpczcuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcblx0ICAgICAgICB2YXIgZ2NtaWREZXZpY2VzT25seSA9IF90aGlzNy5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcImdjbWlkXCIpO1xuXHQgICAgICAgIHJldHVybiBbZ2NtaWREZXZpY2VzT25seSwgZ2NtaWREZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeURpc3RyaWJ1dG9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG5cdCAgICAgICAgdmFyIEdDTWlkRGV2aWNlc0RpY3QgPSBfdGhpczguY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcblx0ICAgICAgICB2YXIgZ2NtaWREZXZpY2VzT25seSA9IF90aGlzOC5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcImdjbWlkXCIpO1xuXHQgICAgICAgIHJldHVybiBbZ2NtaWREZXZpY2VzT25seSwgR0NNaWREZXZpY2VzRGljdF07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2V4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRHbG9iYWxseScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEdsb2JhbGx5KHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgX3RoaXM5ID0gdGhpcztcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLnNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcblx0ICAgICAgICB2YXIgR0NNaWREZXZpY2VzRGljdCA9IF90aGlzOS5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuXHQgICAgICAgIHZhciBnY21pZERldmljZXNPbmx5ID0gX3RoaXM5LnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwiZ2NtaWRcIik7XG5cdCAgICAgICAgcmV0dXJuIFtnY21pZERldmljZXNPbmx5LCBHQ01pZERldmljZXNEaWN0XTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVqZWN0ZWRQcm9taXNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZWplY3RlZFByb21pc2UoKSB7XG5cdCAgICAgIHZhciBkZXZpY2VEZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblx0ICAgICAgZGV2aWNlRGVmZXJyZWQucmVqZWN0KCk7XG5cdCAgICAgIHJldHVybiBkZXZpY2VEZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERldmljZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERldmljZXMocGFydGlhbFNlYXJjaCwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCBkaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkLCBnbG9iYWxseSkge1xuXHQgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cdCAgICAgIHZhciBkZXZpY2VzUHJvbWlzZSA9IHZvaWQgMDtcblx0ICAgICAgaWYgKHBhcnRpYWxTZWFyY2gpIHtcblx0ICAgICAgICBpZiAocGFydGlhbFNlYXJjaC5sZW5ndGggPiAyKSB7XG5cdCAgICAgICAgICBpZiAoYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuXHQgICAgICAgICAgICBpZiAoZ2xvYmFsbHkpIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGJ5VGVuYW50KSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uID09PSBcIk1BQ1wiKSB7XG5cdCAgICAgICAgICAgIGlmIChnbG9iYWxseSkge1xuXHQgICAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbE1hY0dsb2JhbGx5KHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoYnlUZW5hbnQpIHtcblx0ICAgICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKGdsb2JhbGx5KSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGJ5VGVuYW50KSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsR0NNaWRCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5yZWplY3RlZFByb21pc2UoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLnJlamVjdGVkUHJvbWlzZSgpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZXZpY2VzUmVzdWx0KSB7XG5cdCAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG5cdCAgICAgICAgICBcInN1Y2Nlc3NcIjogdHJ1ZSxcblx0ICAgICAgICAgIFwiZGV2aWNlc1wiOiBkZXZpY2VzUmVzdWx0XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgZGV2aWNlc1Byb21pc2UuY2F0Y2goZnVuY3Rpb24gKGRldmljZXNSZXN1bHQpIHtcblx0ICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcblx0ICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZSxcblx0ICAgICAgICAgIFwiZGV2aWNlc1wiOiBbXVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmonLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoodGhlQXJyYXksIG1hYywgZ2NtKSB7XG5cdCAgICAgIC8qKiBDb252ZXJ0cyBhcnJheSB0byBkaWN0aW9uYXJ5IHdpdGggbWFjLCBnY21pZCwgb3Igc2VyaWFsIGFzIHRoZSBrZXkgKiovXG5cdCAgICAgIHZhciBkZXZpY2VzID0ge307XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhlQXJyYXkubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgaXRlbSA9IHRoZUFycmF5W2ldO1xuXHQgICAgICAgIGlmIChtYWMpIHtcblx0ICAgICAgICAgIGRldmljZXNbaXRlbS5tYWNdID0gaXRlbTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGdjbSkge1xuXHQgICAgICAgICAgZGV2aWNlc1tpdGVtLmdjbWlkXSA9IGl0ZW07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGRldmljZXNbaXRlbS5zZXJpYWxdID0gaXRlbTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGRldmljZXM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZWRpdEl0ZW0nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGVkaXRJdGVtKGl0ZW0sIGZyb21EZXZpY2VzKSB7XG5cdCAgICAgIGlmICghZnJvbURldmljZXMpIHtcblx0ICAgICAgICBmcm9tRGV2aWNlcyA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuJHN0YXRlLmdvKCdlZGl0RGV2aWNlJywge1xuXHQgICAgICAgIGRldmljZUtleTogaXRlbS5rZXksXG5cdCAgICAgICAgdGVuYW50S2V5OiBpdGVtLnRlbmFudEtleSxcblx0ICAgICAgICBmcm9tRGV2aWNlczogZnJvbURldmljZXNcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncHJlcHJhdGVGb3JFZGl0VmlldycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcHJlcHJhdGVGb3JFZGl0VmlldyhidXR0b24sIHRlbmFudEtleSwgc2VhcmNoVGV4dCwgbWFjRGV2aWNlcywgc2VyaWFsRGV2aWNlcywgZ2NtaWREZXZpY2VzKSB7XG5cdCAgICAgIHZhciBtYWMgPSB2b2lkIDAsXG5cdCAgICAgICAgICBzZXJpYWwgPSB2b2lkIDAsXG5cdCAgICAgICAgICBnY21pZCA9IHZvaWQgMDtcblx0XG5cdCAgICAgIG1hYyA9IGJ1dHRvbiA9PT0gXCJNQUNcIjtcblx0ICAgICAgc2VyaWFsID0gYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICAgICAgZ2NtaWQgPSBidXR0b24gPT09IFwiR0NNIElEXCI7XG5cdFxuXHQgICAgICBpZiAobWFjKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0obWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0oc2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0oZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldElzc3Vlc0J5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJc3N1ZXNCeUtleShkZXZpY2VLZXksIHN0YXJ0RXBvY2gsIGVuZEVwb2NoLCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuXHQgICAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcblx0ICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL2RldmljZXMvJyArIHByZXYgKyAnLycgKyBuZXh0ICsgJy8nICsgZGV2aWNlS2V5ICsgJy9pc3N1ZXM/c3RhcnQ9JyArIHN0YXJ0RXBvY2ggKyAnJmVuZD0nICsgZW5kRXBvY2g7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldENvbW1hbmRFdmVudHNCeUtleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29tbWFuZEV2ZW50c0J5S2V5KGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcblx0ICAgICAgbmV4dCA9IG5leHQgPT09IHVuZGVmaW5lZCB8fCBudWxsID8gbnVsbCA6IG5leHQ7XG5cdCAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9wbGF5ZXItY29tbWFuZC1ldmVudHMvJyArIHByZXYgKyAnLycgKyBuZXh0ICsgJy8nICsgZGV2aWNlS2V5O1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgICAvLyBURU5BTlQgVklFV1xuXHQgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREZXZpY2VzQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcblx0ICAgICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9IHRoaXMubWFrZURldmljZXNCeVRlbmFudFVSTCh0ZW5hbnRLZXksIHByZXYsIG5leHQsIGZhbHNlKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRVbm1hbmFnZWREZXZpY2VzQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVubWFuYWdlZERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcblx0ICAgICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICAgIHZhciB1cmwgPSB0aGlzLm1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCB0cnVlKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxfc2VyaWFsLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL3RlbmFudHMvc2VhcmNoLycgKyB0ZW5hbnRLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfc2VyaWFsPScgKyBwYXJ0aWFsX3NlcmlhbDtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0J5VGVuYW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX21hYywgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciB1cmwgPSAnL2FwaS92MS90ZW5hbnRzL3NlYXJjaC8nICsgdGVuYW50S2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX21hYz0nICsgcGFydGlhbF9tYWM7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkQnlUZW5hbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX2djbWlkLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL3RlbmFudHMvc2VhcmNoLycgKyB0ZW5hbnRLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfZ2NtaWQ9JyArIHBhcnRpYWxfZ2NtaWQ7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAgIC8vIERFVklDRVMgVklFV1xuXHQgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJyArIGRpc3RyaWJ1dG9yS2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZwYXJ0aWFsX3NlcmlhbD0nICsgcGFydGlhbF9zZXJpYWw7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERldmljZXNCeVBhcnRpYWxNYWMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERldmljZXNCeVBhcnRpYWxNYWMoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxfbWFjLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvZGlzdHJpYnV0b3JzL3NlYXJjaC8nICsgZGlzdHJpYnV0b3JLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfbWFjPScgKyBwYXJ0aWFsX21hYztcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsX2djbWlkLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvZGlzdHJpYnV0b3JzL3NlYXJjaC8nICsgZGlzdHJpYnV0b3JLZXkgKyAnL2RldmljZXM/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfZ2NtaWQ9JyArIHBhcnRpYWxfZ2NtaWQ7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAgIC8vIFNFQVJDSCBERVZJQ0VTIEdMT0JBTExZXG5cdCAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxHbG9iYWxseScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEdsb2JhbGx5KHBhcnRpYWxfc2VyaWFsLCB1bm1hbmFnZWQpIHtcblx0ICAgICAgdmFyIHVybCA9ICcvYXBpL3YxL2RldmljZXMvYW5hbHl0aWNzL3NlYXJjaC1nbG9iYWw/dW5tYW5hZ2VkPScgKyB1bm1hbmFnZWQgKyAnJnBhcnRpYWxfc2VyaWFsPScgKyBwYXJ0aWFsX3NlcmlhbDtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybChcImRldmljZXNcIiwgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0dsb2JhbGx5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvZGV2aWNlcy9hbmFseXRpY3Mvc2VhcmNoLWdsb2JhbD91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9tYWM9JyArIHBhcnRpYWxfbWFjO1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKFwiZGV2aWNlc1wiLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZEdsb2JhbGx5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hEaXN0cmlidXRvckRldmljZXNCeVBhcnRpYWxHQ01pZEdsb2JhbGx5KHBhcnRpYWxfZ2NtaWQsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvZGV2aWNlcy9hbmFseXRpY3Mvc2VhcmNoLWdsb2JhbD91bm1hbmFnZWQ9JyArIHVubWFuYWdlZCArICcmcGFydGlhbF9nY21pZD0nICsgcGFydGlhbF9nY21pZDtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybChcImRldmljZXNcIiwgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREZXZpY2VzQnlEaXN0cmlidXRvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQpIHtcblx0ICAgICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQsIGZhbHNlKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRVbm1hbmFnZWREZXZpY2VzQnlEaXN0cmlidXRvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VW5tYW5hZ2VkRGV2aWNlc0J5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQpIHtcblx0ICAgICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQsIHRydWUpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERldmljZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERldmljZXMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5TRVJWSUNFX05BTUUpLmdldExpc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2F2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZShkZXZpY2UpIHtcblx0ICAgICAgaWYgKGRldmljZS5rZXkgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gZGV2aWNlLnB1dCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdkZXZpY2VzJykucG9zdChkZXZpY2UpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NhdmVPdmVybGF5U2V0dGluZ3MnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVPdmVybGF5U2V0dGluZ3MoZGV2aWNlX3VybHNhZmVfa2V5LCBib3R0b21fbGVmdCwgYm90dG9tX3JpZ2h0LCB0b3BfcmlnaHQsIHRvcF9sZWZ0KSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0ge1xuXHQgICAgICAgIGJvdHRvbV9sZWZ0OiBib3R0b21fbGVmdCxcblx0ICAgICAgICBib3R0b21fcmlnaHQ6IGJvdHRvbV9yaWdodCxcblx0ICAgICAgICB0b3BfcmlnaHQ6IHRvcF9yaWdodCxcblx0ICAgICAgICB0b3BfbGVmdDogdG9wX2xlZnRcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnb3ZlcmxheScsICcvYXBpL3YxL292ZXJsYXkvZGV2aWNlLycgKyBkZXZpY2VfdXJsc2FmZV9rZXkpLmN1c3RvbVBPU1QocGF5bG9hZCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGVsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGRldmljZUtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKHRoaXMuU0VSVklDRV9OQU1FLCBkZXZpY2VLZXkpLnJlbW92ZSgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRQYW5lbE1vZGVscycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGFuZWxNb2RlbHMoKSB7XG5cdCAgICAgIHJldHVybiBbe1xuXHQgICAgICAgICdpZCc6ICdOb25lJyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnTm9uZSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdTb255LUZYRDQwTFgyRicsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1NvbnkgRlhENDBMWDJGJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ05FQy1MQ0Q0MjE1Jyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnTkVDIExDRDQyMTUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJyxcblx0ICAgICAgICAnZGlzcGxheU5hbWUnOiAnUGhpbGxpcHMgQkRMNTU2MEVMJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ1BhbmFzb25pYy1USDU1TEY2VScsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1BhbmFzb25pYyBUSDU1TEY2VSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdMRy00M1NNNUItQicsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ0xHIDQzU001Qi1CJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ1NoYXJwLVBORTUyMScsXG5cdCAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1NoYXJwIFBORTUyMSdcblx0ICAgICAgfV07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0UGFuZWxJbnB1dHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhbmVsSW5wdXRzKCkge1xuXHQgICAgICByZXR1cm4gW3tcblx0ICAgICAgICAnaWQnOiAnTm9uZScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ05vbmUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTEnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdMRy00M1NNNUItQidcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1NvbnktRlhENDBMWDJGJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkyJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnU29ueS1GWEQ0MExYMkYnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTEnLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnSERNSTInLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnRFZJJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkxJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0hETUkyJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuXHQgICAgICB9LCB7XG5cdCAgICAgICAgJ2lkJzogJ0RWSScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1BhbmFzb25pYy1USDU1TEY2VSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdIRE1JMicsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcblx0ICAgICAgfSwge1xuXHQgICAgICAgICdpZCc6ICdEVkknLFxuXHQgICAgICAgICdwYXJlbnRJZCc6ICdTaGFycC1QTkU1MjEnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnVkdBJyxcblx0ICAgICAgICAncGFyZW50SWQnOiAnTkVDLUxDRDQyMTUnXG5cdCAgICAgIH0sIHtcblx0ICAgICAgICAnaWQnOiAnRFZJMScsXG5cdCAgICAgICAgJ3BhcmVudElkJzogJ05FQy1MQ0Q0MjE1J1xuXHQgICAgICB9XTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdtYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VEZXZpY2VzQnlEaXN0cmlidXRvclVSTChkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCwgdW5tYW5hZ2VkKSB7XG5cdCAgICAgIHZhciB1cmwgPSAnL2FwaS92MS9kaXN0cmlidXRvcnMvJyArIGRpc3RyaWJ1dG9yS2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZuZXh0X2N1cnNvcj0nICsgbmV4dCArICcmcHJldl9jdXJzb3I9JyArIHByZXY7XG5cdCAgICAgIHJldHVybiB1cmw7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnbWFrZURldmljZXNCeVRlbmFudFVSTCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZURldmljZXNCeVRlbmFudFVSTCh0ZW5hbnRLZXksIHByZXYsIG5leHQsIHVubWFuYWdlZCkge1xuXHQgICAgICB2YXIgdXJsID0gJy9hcGkvdjEvdGVuYW50cy8nICsgdGVuYW50S2V5ICsgJy9kZXZpY2VzP3VubWFuYWdlZD0nICsgdW5tYW5hZ2VkICsgJyZuZXh0X2N1cnNvcj0nICsgbmV4dCArICcmcHJldl9jdXJzb3I9JyArIHByZXY7XG5cdCAgICAgIHJldHVybiB1cmw7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBEZXZpY2VzU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRGV2aWNlc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5NSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk2KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRGlzdHJpYnV0b3JzU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBEaXN0cmlidXRvcnNTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiLCBcIiRzdGF0ZVwiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblx0ICBmdW5jdGlvbiBEaXN0cmlidXRvcnNTZXJ2aWNlKFJlc3Rhbmd1bGFyLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSkge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEaXN0cmlidXRvcnNTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlO1xuXHQgICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2U7XG5cdCAgICB0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UgPSAnZGlzdHJpYnV0b3JzJztcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKERpc3RyaWJ1dG9yc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKHRlbmFudCkge1xuXHQgICAgICBpZiAodGVuYW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0ZW5hbnQucHV0KCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFKS5wb3N0KHRlbmFudCk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZmV0Y2hBbGwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQWxsKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSkuZ2V0TGlzdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdmZXRjaEFsbEJ5VXNlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hBbGxCeVVzZXIodXNlcktleSkge1xuXHQgICAgICBpZiAodXNlcktleSkge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUoJ3VzZXJzJywgdXNlcktleSkuZG9HRVQodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEJ5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCeUtleShrZXkpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsICdhcGkvdjEvZGlzdHJpYnV0b3JzLycgKyBrZXkpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkZWxldGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoZW50aXR5KSB7XG5cdCAgICAgIGlmIChlbnRpdHkua2V5KSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZSh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UsIGVudGl0eS5rZXkpLnJlbW92ZSgpO1xuXHQgICAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QnlOYW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCeU5hbWUobmFtZSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSkuZ2V0TGlzdCh7IGRpc3RyaWJ1dG9yTmFtZTogbmFtZSB9KTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RG9tYWluc0J5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREb21haW5zQnlLZXkoa2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCAnYXBpL3YxL2Rpc3RyaWJ1dG9ycy8nICsga2V5ICsgJy9kb21haW5zJykuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3N3aXRjaERpc3RyaWJ1dG9yJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzd2l0Y2hEaXN0cmlidXRvcihkaXN0cmlidXRvcikge1xuXHQgICAgICB0aGlzLlNlc3Npb25zU2VydmljZS5zZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKGRpc3RyaWJ1dG9yLm5hbWUpO1xuXHQgICAgICB0aGlzLlNlc3Npb25zU2VydmljZS5zZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoZGlzdHJpYnV0b3Iua2V5KTtcblx0ICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlLmdvKCd3ZWxjb21lJyk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBEaXN0cmlidXRvcnNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBEaXN0cmlidXRvcnNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIERvbWFpbnNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIERvbWFpbnNTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiXTtcblx0ICBmdW5jdGlvbiBEb21haW5zU2VydmljZShSZXN0YW5ndWxhcikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBEb21haW5zU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShEb21haW5zU2VydmljZSwgW3tcblx0ICAgIGtleTogJ3NhdmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmUoZG9tYWluKSB7XG5cdCAgICAgIGlmIChkb21haW4ua2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IGRvbWFpbi5wdXQoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSgnZG9tYWlucycpLnBvc3QoZG9tYWluKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdmZXRjaEFsbERvbWFpbnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQWxsRG9tYWlucygpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgnZG9tYWlucycpLmdldExpc3QoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RG9tYWluQnlLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERvbWFpbkJ5S2V5KGRvbWFpbktleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdkb21haW5zJywgJ2FwaS92MS9kb21haW5zLycgKyBkb21haW5LZXkpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREaXJlY3RvcnlBcGlDb25uZWN0aXZpdHlJbmZvcm1hdGlvbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGlyZWN0b3J5QXBpQ29ubmVjdGl2aXR5SW5mb3JtYXRpb24oZG9tYWluS2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2RvbWFpbnMnLCAnYXBpL3YxL2RvbWFpbnMvJyArIGRvbWFpbktleSArICcvZGlyZWN0b3J5X2FwaScpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkZWxldGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoZG9tYWluKSB7XG5cdCAgICAgIGlmIChkb21haW4ua2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKFwiZG9tYWluc1wiLCBkb21haW4ua2V5KS5yZW1vdmUoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gRG9tYWluc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IERvbWFpbnNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIElkZW50aXR5U2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBJZGVudGl0eVNlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIElkZW50aXR5U2VydmljZShSZXN0YW5ndWxhcikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBJZGVudGl0eVNlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoSWRlbnRpdHlTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnZ2V0SWRlbnRpdHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldElkZW50aXR5KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2lkZW50aXR5JykuZ2V0KCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBJZGVudGl0eVNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IElkZW50aXR5U2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk1KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTYpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJbnRlZ3JhdGlvbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblx0ICBJbnRlZ3JhdGlvbkV2ZW50cy4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cdCAgZnVuY3Rpb24gSW50ZWdyYXRpb25FdmVudHMoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgSW50ZWdyYXRpb25FdmVudHMpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgICAgdGhpcy5DUkVBVEVfVEVOQU5UX0VWRU5UUyA9ICdpbnRlZ3JhdGlvbl9ldmVudHMvdGVuYW50X2NyZWF0ZSc7XG5cdCAgICB0aGlzLkVOUk9MTE1FTlRfRVZFTlRTID0gJ2ludGVncmF0aW9uX2V2ZW50cy9lbnJvbGxtZW50Jztcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEludGVncmF0aW9uRXZlbnRzLCBbe1xuXHQgICAga2V5OiAnZ2V0VGVuYW50Q3JlYXRlRXZlbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUZW5hbnRDcmVhdGVFdmVudHModGVuYW50S2V5KSB7XG5cdCAgICAgIHZhciBxdWVyeSA9IHtcblx0ICAgICAgICB0ZW5hbnRLZXk6IHRlbmFudEtleVxuXHQgICAgICB9O1xuXHQgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5DUkVBVEVfVEVOQU5UX0VWRU5UUykuY3VzdG9tR0VUKCcnLCBxdWVyeSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RW5yb2xsbWVudEV2ZW50cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RW5yb2xsbWVudEV2ZW50cyhkZXZpY2VLZXkpIHtcblx0ICAgICAgdmFyIHF1ZXJ5ID0ge1xuXHQgICAgICAgIGRldmljZUtleTogZGV2aWNlS2V5XG5cdCAgICAgIH07XG5cdCAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLkVOUk9MTE1FTlRfRVZFTlRTKS5jdXN0b21HRVQoJycsIHF1ZXJ5KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIEludGVncmF0aW9uRXZlbnRzO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBJbnRlZ3JhdGlvbkV2ZW50cztcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk1KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTYpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBMb2NhdGlvbnNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIExvY2F0aW9uc1NlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIExvY2F0aW9uc1NlcnZpY2UoUmVzdGFuZ3VsYXIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgTG9jYXRpb25zU2VydmljZSk7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShMb2NhdGlvbnNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2F2ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZShsb2NhdGlvbikge1xuXHQgICAgICBpZiAobG9jYXRpb24ua2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IGxvY2F0aW9uLnB1dCgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdsb2NhdGlvbnMnKS5wb3N0KGxvY2F0aW9uKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSh0ZW5hbnRLZXksIGN1c3RvbWVyX2xvY2F0aW9uX25hbWUpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgndGVuYW50cycpLmN1c3RvbUdFVExJU1QodGVuYW50S2V5ICsgXCIvbG9jYXRpb25zXCIsIHsgY3VzdG9tZXJfbG9jYXRpb25fbmFtZTogY3VzdG9tZXJfbG9jYXRpb25fbmFtZSB9KTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvY2F0aW9uc0J5VGVuYW50S2V5KHRlbmFudEtleSkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgJ2FwaS92MS90ZW5hbnRzLycgKyB0ZW5hbnRLZXkgKyAnL2xvY2F0aW9ucycpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRMb2NhdGlvbnNCeVRlbmFudEtleVBhZ2luYXRlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXlQYWdpbmF0ZWQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG5cdCAgICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuXHQgICAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsICdhcGkvdjEvdGVuYW50cy8nICsgdGVuYW50S2V5ICsgJy8nICsgcHJldiArICcvJyArIG5leHQgKyAnL2xvY2F0aW9ucycpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRMb2NhdGlvbkJ5S2V5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2NhdGlvbkJ5S2V5KGxvY2F0aW9uS2V5KSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2xvY2F0aW9ucycsICdhcGkvdjEvbG9jYXRpb25zLycgKyBsb2NhdGlvbktleSkuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gTG9jYXRpb25zU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTG9jYXRpb25zU2VydmljZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzEwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk1KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTYpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBQcm9ncmVzc0JhclNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLiRpbmplY3QgPSBbXCJuZ1Byb2dyZXNzRmFjdG9yeVwiXTtcblx0ICBmdW5jdGlvbiBQcm9ncmVzc0JhclNlcnZpY2UobmdQcm9ncmVzc0ZhY3RvcnkpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgUHJvZ3Jlc3NCYXJTZXJ2aWNlKTtcblx0ICAgIHRoaXMubmdQcm9ncmVzc0ZhY3RvcnkgPSBuZ1Byb2dyZXNzRmFjdG9yeTtcblx0ICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSB0aGlzLm5nUHJvZ3Jlc3NGYWN0b3J5LmNyZWF0ZUluc3RhbmNlKCk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQcm9ncmVzc0JhclNlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzdGFydCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoKSB7XG5cdCAgICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0Q29sb3IoJyMwMEZDRkYnKTtcblx0ICAgICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRIZWlnaHQoJzRweCcpO1xuXHQgICAgICByZXR1cm4gdGhpcy5wcm9ncmVzc0Jhci5zdGFydCgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NvbXBsZXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NCYXIuY29tcGxldGUoKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUHJvZ3Jlc3NCYXJTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFByb29mUGxheVNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgUHJvb2ZQbGF5U2VydmljZS4kaW5qZWN0ID0gW1wiJGh0dHBcIiwgXCIkcVwiLCBcIiR3aW5kb3dcIiwgXCJTZXNzaW9uc1NlcnZpY2VcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCIkc3RhdGVcIiwgXCJUb2FzdHNTZXJ2aWNlXCJdO1xuXHQgIGZ1bmN0aW9uIFByb29mUGxheVNlcnZpY2UoJGh0dHAsICRxLCAkd2luZG93LCBTZXNzaW9uc1NlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFByb29mUGxheVNlcnZpY2UpO1xuXHQgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuXHQgICAgdGhpcy4kcSA9ICRxO1xuXHQgICAgdGhpcy4kd2luZG93ID0gJHdpbmRvdztcblx0ICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXHQgICAgdGhpcy4kc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG5cdCAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcblx0ICAgIHRoaXMuVG9hc3RzU2VydmljZSA9IFRvYXN0c1NlcnZpY2U7XG5cdCAgICB0aGlzLm1ha2VIVFRQUmVxdWVzdCA9IHRoaXMubWFrZUhUVFBSZXF1ZXN0LmJpbmQodGhpcyk7XG5cdCAgICB0aGlzLnVyaUJhc2UgPSAncHJvb2ZwbGF5L2FwaS92MSc7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShQcm9vZlBsYXlTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnbWFrZUhUVFBVUkwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VIVFRQVVJMKHdoZXJlX3RvX2dvLCB0ZW5hbnQpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudXJpQmFzZSArIHdoZXJlX3RvX2dvICsgdGVuYW50O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ21ha2VIVFRQUmVxdWVzdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZUhUVFBSZXF1ZXN0KHdoZXJlX3RvX2dvLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXHQgICAgICB2YXIgdXJsID0gdGhpcy5tYWtlSFRUUFVSTCh3aGVyZV90b19nbywgdGVuYW50KTtcblx0ICAgICAgcmV0dXJuIHRoaXMuJGh0dHAuZ2V0KHVybCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QWxsUmVzb3VyY2VzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxSZXNvdXJjZXModGVuYW50KSB7XG5cdCAgICAgIHZhciByID0gdGhpcy5tYWtlSFRUUFJlcXVlc3QoXCIvcmV0cmlldmVfYWxsX3Jlc291cmNlcy9cIiwgdGVuYW50KTtcblx0ICAgICAgLy8gdGhlIGNhdGNoIGlzIG9ubHkgZG9uZSBoZXJlIGJlY2F1c2UgMyBwcm9vZiBvZiBwbGF5IHZpZXdzIGFyZSBpbml0aWxpemVkIGF0IHRoZSBzYW1lIHRpbWVcblx0ICAgICAgLy8gc28gdGhpcyBjYXRjaCB3aWxsIGJlIGRvbmUgMyB0aW1lcyB3aXRoIDMgZXJyb3IgbWVzc2FnZXMgaWYgd2UgYWRkIGl0IHRvIGdldEFsbERpc3BsYXlzIGFuZCBnZXRBbGxMb2NhdGlvbnNcblx0ICAgICAgci5jYXRjaChmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG5cdCAgICAgICAgdmFyIHN0YXR1cyA9IGVyci5zdGF0dXM7XG5cdFxuXHQgICAgICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xuXHQgICAgICAgICAgdGhpcy5Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91IGFyZSBub3QgYWxsb3dlZCB0byB2aWV3IHRoaXMgdGVuYW50IVwiKTtcblx0ICAgICAgICAgIHRoaXMuJHN0YXRlLmdvKCdwcm9vZicsIHt9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDA0KSB7XG5cdCAgICAgICAgICB0aGlzLlRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoXCJZb3UgbXVzdCBzZWxlY3QgYSB0ZW5hbnQgZmlyc3QhXCIpO1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlLmdvKCdwcm9vZicsIHt9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIHIudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgIHJldHVybiBkYXRhO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRBbGxEaXNwbGF5cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsRGlzcGxheXModGVuYW50KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfZGlzcGxheXMvXCIsIHRlbmFudCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0QWxsTG9jYXRpb25zJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxMb2NhdGlvbnModGVuYW50KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfbG9jYXRpb25zL1wiLCB0ZW5hbnQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEFsbFRlbmFudHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbFRlbmFudHMoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9teV90ZW5hbnRzXCIsICcnKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCByZXNvdXJjZXMsIHRlbmFudCkge1xuXHQgICAgICB2YXIgYWxsUmVzb3VyY2VzID0gJyc7XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gcmVzb3VyY2VzW2ldO1xuXHQgICAgICAgIGFsbFJlc291cmNlcyA9IGFsbFJlc291cmNlcyArIFwifFwiICsgZWFjaDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9yZXNvdXJjZV9ieV9kYXRlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxSZXNvdXJjZXMgKyAnLycgKyB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLCAnX2JsYW5rJyk7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Rvd25sb2FkQ1NWRm9yTXVsdGlwbGVSZXNvdXJjZXNCeURldmljZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGV2aWNlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCByZXNvdXJjZXMsIHRlbmFudCkge1xuXHQgICAgICB2YXIgYWxsUmVzb3VyY2VzID0gJyc7XG5cdFxuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciBlYWNoID0gcmVzb3VyY2VzW2ldO1xuXHQgICAgICAgIGFsbFJlc291cmNlcyA9IGFsbFJlc291cmNlcyArIFwifFwiICsgZWFjaDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9yZXNvdXJjZV9ieV9kZXZpY2UvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbFJlc291cmNlcyArICcvJyArIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCksICdfYmxhbmsnKTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNTdW1tYXJpemVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGRldmljZXMsIHRlbmFudCkge1xuXHQgICAgICB2YXIgYWxsRGV2aWNlcyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXZpY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBkZXZpY2VzW2ldO1xuXHQgICAgICAgIGFsbERldmljZXMgPSBhbGxEZXZpY2VzICsgXCJ8XCIgKyBlYWNoO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2RldmljZV9zdW1tYXJpemVkLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxEZXZpY2VzICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc0J5RGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNCeURhdGUoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGRldmljZXMsIHRlbmFudCkge1xuXHQgICAgICB2YXIgYWxsRGV2aWNlcyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXZpY2VzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGVhY2ggPSBkZXZpY2VzW2ldO1xuXHQgICAgICAgIGFsbERldmljZXMgPSBhbGxEZXZpY2VzICsgXCJ8XCIgKyBlYWNoO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2RldmljZV9ieV9kYXRlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxEZXZpY2VzICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zQnlEZXZpY2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNCeURldmljZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgbG9jYXRpb25zLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbExvY2F0aW9ucyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IGxvY2F0aW9uc1tpXTtcblx0ICAgICAgICBhbGxMb2NhdGlvbnMgPSBhbGxMb2NhdGlvbnMgKyBcInxcIiArIGVhY2g7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfbG9jYXRpb25fYnlfZGV2aWNlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxMb2NhdGlvbnMgKyAnLycgKyB0ZW5hbnQgKyBcIi9cIiArIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLCAnX2JsYW5rJyk7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Rvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNTdW1tYXJpemVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZENTVkZvck11bHRpcGxlTG9jYXRpb25zU3VtbWFyaXplZChzdGFydF9kYXRlLCBlbmRfZGF0ZSwgbG9jYXRpb25zLCB0ZW5hbnQpIHtcblx0ICAgICAgdmFyIGFsbExvY2F0aW9ucyA9ICcnO1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgZWFjaCA9IGxvY2F0aW9uc1tpXTtcblx0ICAgICAgICBhbGxMb2NhdGlvbnMgPSBhbGxMb2NhdGlvbnMgKyBcInxcIiArIGVhY2g7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfbG9jYXRpb25fc3VtbWFyaXplZC8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICsgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKSwgJ19ibGFuaycpO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjcmVhdGVGaWx0ZXJGb3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUZpbHRlckZvcihxdWVyeSkge1xuXHQgICAgICBxdWVyeSA9IGFuZ3VsYXIubG93ZXJjYXNlKHF1ZXJ5KTtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuXHQgICAgICAgIHJlc291cmNlID0gYW5ndWxhci5sb3dlcmNhc2UocmVzb3VyY2UpO1xuXHQgICAgICAgIHJldHVybiByZXNvdXJjZS5pbmRleE9mKHF1ZXJ5KSA9PT0gMDtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdxdWVyeVNlYXJjaCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KSB7XG5cdCAgICAgIGlmIChzZWFyY2hUZXh0KSB7XG5cdCAgICAgICAgcmV0dXJuIHJlc291cmNlcy5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXJGb3Ioc2VhcmNoVGV4dCkpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiByZXNvdXJjZXM7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFByb29mUGxheVNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFByb29mUGxheVNlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5NSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk2KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfand0RGVjb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTMpO1xuXHRcblx0dmFyIF9qd3REZWNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfand0RGVjb2RlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgU2Vzc2lvbnNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFNlc3Npb25zU2VydmljZS4kaW5qZWN0ID0gW1wiJGh0dHBcIiwgXCIkbG9nXCIsIFwiU3RvcmFnZVNlcnZpY2VcIiwgXCJJZGVudGl0eVNlcnZpY2VcIiwgXCJSZXN0YW5ndWxhclwiLCBcIiRxXCIsIFwic3dlZXRcIl07XG5cdCAgZnVuY3Rpb24gU2Vzc2lvbnNTZXJ2aWNlKCRodHRwLCAkbG9nLCBTdG9yYWdlU2VydmljZSwgSWRlbnRpdHlTZXJ2aWNlLCBSZXN0YW5ndWxhciwgJHEsIHN3ZWV0KSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFNlc3Npb25zU2VydmljZSk7XG5cdCAgICB0aGlzLiRodHRwID0gJGh0dHA7XG5cdCAgICB0aGlzLiRsb2cgPSAkbG9nO1xuXHQgICAgdGhpcy5TdG9yYWdlU2VydmljZSA9IFN0b3JhZ2VTZXJ2aWNlO1xuXHQgICAgdGhpcy5JZGVudGl0eVNlcnZpY2UgPSBJZGVudGl0eVNlcnZpY2U7XG5cdCAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG5cdCAgICB0aGlzLiRxID0gJHE7XG5cdCAgICB0aGlzLnVyaUJhc2UgPSAndjEvc2Vzc2lvbnMnO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoU2Vzc2lvbnNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnc2V0RGlzdHJpYnV0b3JzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREaXN0cmlidXRvcnMoZGlzdHJpYnV0b3JzKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnZGlzdHJpYnV0b3JzJywgZGlzdHJpYnV0b3JzKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXREaXN0cmlidXRvcnNBc0FkbWluJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREaXN0cmlidXRvcnNBc0FkbWluKGRpc3RyaWJ1dG9yc0FzQWRtaW4pIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdkaXN0cmlidXRvcnNBc0FkbWluJywgZGlzdHJpYnV0b3JzQXNBZG1pbik7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0SXNBZG1pbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SXNBZG1pbihpc0FkbWluKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnaXNBZG1pbicsIGlzQWRtaW4pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldFVzZXJLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFVzZXJLZXkodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCd1c2VyS2V5JywgdmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldFVzZXJFbWFpbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VXNlckVtYWlsKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgndXNlckVtYWlsJywgdmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldEN1cnJlbnREaXN0cmlidXRvcktleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5JywgdmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldEN1cnJlbnREaXN0cmlidXRvck5hbWUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEN1cnJlbnREaXN0cmlidXRvck5hbWUodmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdjdXJyZW50RGlzdHJpYnV0b3JOYW1lJywgdmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFVzZXJLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVzZXJLZXkoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgndXNlcktleScpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFVzZXJFbWFpbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNlckVtYWlsKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJFbWFpbCcpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERpc3RyaWJ1dG9ycycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGlzdHJpYnV0b3JzKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2Rpc3RyaWJ1dG9ycycpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEN1cnJlbnREaXN0cmlidXRvck5hbWUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnREaXN0cmlidXRvck5hbWUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yTmFtZScpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEN1cnJlbnREaXN0cmlidXRvcktleScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldERpc3RyaWJ1dG9yc0FzQWRtaW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERpc3RyaWJ1dG9yc0FzQWRtaW4oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgnZGlzdHJpYnV0b3JzQXNBZG1pbicpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldElzQWRtaW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldElzQWRtaW4oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgnaXNBZG1pbicpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2xvZ2luJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dpbihjcmVkZW50aWFscykge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgLy8gcmVxdWVzdCBpbnRlcmNlcHRvciBjaGVja3MgdGhpc1xuXHQgICAgICB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnb0F1dGgnLCBjcmVkZW50aWFscy5pZF90b2tlbik7XG5cdFxuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuJGh0dHAoeyB1cmw6ICcvYXBpL3YxL2xvZ2luJywgbWV0aG9kOiAnR0VUJyB9KTtcblx0ICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIGRhdGEgPSAoMCwgX2p3dERlY29kZTIuZGVmYXVsdCkocmVzLmRhdGEudG9rZW4pO1xuXHQgICAgICAgIF90aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldChcIkpXVFwiLCByZXMuZGF0YS50b2tlbik7XG5cdCAgICAgICAgX3RoaXMuc2V0RGlzdHJpYnV0b3JzKGRhdGFbJ2Rpc3RyaWJ1dG9ycyddKTtcblx0ICAgICAgICBfdGhpcy5zZXREaXN0cmlidXRvcnNBc0FkbWluKGRhdGFbJ2Rpc3RyaWJ1dG9yc19hc19hZG1pbiddKTtcblx0ICAgICAgICBfdGhpcy5zZXRJc0FkbWluKGRhdGFbJ2lzX2FkbWluJ10pO1xuXHQgICAgICAgIF90aGlzLnNldFVzZXJFbWFpbChkYXRhWydlbWFpbCddKTtcblx0ICAgICAgICBfdGhpcy5zZXRVc2VyS2V5KGRhdGFbJ2tleSddKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSBjb3VsZG4ndCBsb2cgeW91IGluIDooLiBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3Qgc3VwcG9ydFwiLCAnZXJyb3InKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVtb3ZlVXNlckluZm8nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVVzZXJJbmZvKCkge1xuXHQgICAgICB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnJlbW92ZUFsbCgpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gU2Vzc2lvbnNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBTZXNzaW9uc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5NSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk2KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdHZhciBfbG9ja3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNyk7XG5cdFxuXHR2YXIgX2xvY2tyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvY2tyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgU3RvcmFnZVNlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gU3RvcmFnZVNlcnZpY2UoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTdG9yYWdlU2VydmljZSk7XG5cdCAgfVxuXHRcblx0ICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShTdG9yYWdlU2VydmljZSwgW3tcblx0ICAgIGtleTogJ3NldCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIF9sb2NrcjIuZGVmYXVsdC5zZXQoa2V5LCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoa2V5KSB7XG5cdCAgICAgIHJldHVybiBfbG9ja3IyLmRlZmF1bHQuZ2V0KGtleSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncm0nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJtKGtleSkge1xuXHQgICAgICByZXR1cm4gX2xvY2tyMi5kZWZhdWx0LnJtKGtleSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVtb3ZlQWxsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVBbGwoKSB7XG5cdCAgICAgIF9sb2NrcjIuZGVmYXVsdC5mbHVzaCgpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gU3RvcmFnZVNlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFN0b3JhZ2VTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFRlbmFudHNTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIFRlbmFudHNTZXJ2aWNlLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblx0ICBmdW5jdGlvbiBUZW5hbnRzU2VydmljZShSZXN0YW5ndWxhciwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG5cdCAgICAnbmdJbmplY3QnO1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFRlbmFudHNTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVGVuYW50c1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzYXZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKHRlbmFudCkge1xuXHQgICAgICBpZiAodGVuYW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0ZW5hbnQucHV0KCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ3RlbmFudHMnKS5wb3N0KHRlbmFudCk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2F2ZU92ZXJsYXlTZXR0aW5ncycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZU92ZXJsYXlTZXR0aW5ncyh0ZW5hbnRfdXJsc2FmZV9rZXksIGJvdHRvbV9sZWZ0LCBib3R0b21fcmlnaHQsIHRvcF9yaWdodCwgdG9wX2xlZnQpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSB7XG5cdCAgICAgICAgYm90dG9tX2xlZnQ6IGJvdHRvbV9sZWZ0LFxuXHQgICAgICAgIGJvdHRvbV9yaWdodDogYm90dG9tX3JpZ2h0LFxuXHQgICAgICAgIHRvcF9yaWdodDogdG9wX3JpZ2h0LFxuXHQgICAgICAgIHRvcF9sZWZ0OiB0b3BfbGVmdFxuXHQgICAgICB9O1xuXHQgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ292ZXJsYXknLCAnL2FwaS92MS9vdmVybGF5L3RlbmFudC8nICsgdGVuYW50X3VybHNhZmVfa2V5KS5jdXN0b21QT1NUKHBheWxvYWQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ292ZXJsYXlBcHBseVRlbmFudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gb3ZlcmxheUFwcGx5VGVuYW50KHRlbmFudF91cmxzYWZlX2tleSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ292ZXJsYXknLCAnL2FwaS92MS9vdmVybGF5L3RlbmFudC8nICsgdGVuYW50X3VybHNhZmVfa2V5ICsgJy9hcHBseScpLnBvc3QoKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2hBbGxUZW5hbnRzQnlOYW1lJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hBbGxUZW5hbnRzQnlOYW1lKHRlbmFudF9uYW1lLCBhbGxEaXN0cmlidXRvcnMpIHtcblx0ICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgndGVuYW50cycpLmN1c3RvbUdFVExJU1QoXCJcIiwge1xuXHQgICAgICAgIHRlbmFudF9uYW1lOiB0ZW5hbnRfbmFtZSwgYWxsRGlzdHJpYnV0b3JzOiBhbGxEaXN0cmlidXRvcnNcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2ZldGNoQWxsVGVuYW50cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hBbGxUZW5hbnRzKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKCd0ZW5hbnRzJykuZ2V0TGlzdCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdmZXRjaEFsbFRlbmFudHNQYWdpbmF0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQWxsVGVuYW50c1BhZ2luYXRlZChwYWdlX3NpemUsIG9mZnNldCkge1xuXHQgICAgICB2YXIgdXJsID0gJ2FwaS92MS90ZW5hbnRzL3BhZ2luYXRlZC8nICsgcGFnZV9zaXplICsgJy8nICsgb2Zmc2V0O1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgdXJsKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0VGVuYW50QnlLZXknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRlbmFudEJ5S2V5KHRlbmFudEtleSkge1xuXHQgICAgICB2YXIgdXJsID0gJ2FwaS92MS90ZW5hbnRzLycgKyB0ZW5hbnRLZXk7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCB1cmwpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkZWxldGUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUodGVuYW50KSB7XG5cdCAgICAgIGlmICh0ZW5hbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKFwidGVuYW50c1wiLCB0ZW5hbnQua2V5KS5yZW1vdmUoKTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1dKTtcblx0ICByZXR1cm4gVGVuYW50c1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRlbmFudHNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFRpbWV6b25lc1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgVGltZXpvbmVzU2VydmljZS4kaW5qZWN0ID0gW1wiUmVzdGFuZ3VsYXJcIl07XG5cdCAgZnVuY3Rpb24gVGltZXpvbmVzU2VydmljZShSZXN0YW5ndWxhcikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBUaW1lem9uZXNTZXJ2aWNlKTtcblx0ICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRpbWV6b25lc1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdnZXRVc1RpbWV6b25lcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNUaW1lem9uZXMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RpbWV6b25lcycsICdhcGkvdjEvdGltZXpvbmVzL3VzJykuZ2V0KCk7XG5cdCAgICAgIHJldHVybiBwcm9taXNlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEFsbFRpbWV6b25lcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsVGltZXpvbmVzKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0aW1lem9uZXMnLCAnYXBpL3YxL3RpbWV6b25lcy9hbGwnKS5nZXQoKTtcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q3VzdG9tVGltZXpvbmVzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXN0b21UaW1lem9uZXMoKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RpbWV6b25lcycsICdhcGkvdjEvdGltZXpvbmVzL2N1c3RvbScpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFRpbWV6b25lc1NlcnZpY2U7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRpbWV6b25lc1NlcnZpY2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5NSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjk2KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgVG9hc3RzU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBUb2FzdHNTZXJ2aWNlLiRpbmplY3QgPSBbXCJ0b2FzdHJcIl07XG5cdCAgZnVuY3Rpb24gVG9hc3RzU2VydmljZSh0b2FzdHIpIHtcblx0ICAgICduZ0luamVjdCc7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgVG9hc3RzU2VydmljZSk7XG5cdCAgICB0aGlzLnRvYXN0ciA9IHRvYXN0cjtcblx0ICB9XG5cdFxuXHQgICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKFRvYXN0c1NlcnZpY2UsIFt7XG5cdCAgICBrZXk6ICdzaG93U3VjY2Vzc1RvYXN0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93U3VjY2Vzc1RvYXN0KG1lc3NhZ2UpIHtcblx0ICAgICAgdmFyIHRpdGxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnU3VjY2VzcyEnO1xuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMudG9hc3RyLnN1Y2Nlc3MobWVzc2FnZSwgdGl0bGUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Nob3dFcnJvclRvYXN0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93RXJyb3JUb2FzdChtZXNzYWdlKSB7XG5cdCAgICAgIHZhciB0aXRsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ0Vycm9yISc7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy50b2FzdHIuZXJyb3IobWVzc2FnZSwgdGl0bGUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Nob3dJbmZvVG9hc3QnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dJbmZvVG9hc3QobWVzc2FnZSkge1xuXHQgICAgICB2YXIgdGl0bGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdJbmZvcm1hdGlvbic7XG5cdFxuXHQgICAgICByZXR1cm4gdGhpcy50b2FzdHIuaW5mbyhtZXNzYWdlLCB0aXRsZSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHQgIHJldHVybiBUb2FzdHNTZXJ2aWNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBUb2FzdHNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MjE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTUpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nik7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFZlcnNpb25zU2VydmljZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBWZXJzaW9uc1NlcnZpY2UuJGluamVjdCA9IFtcIlJlc3Rhbmd1bGFyXCJdO1xuXHQgIGZ1bmN0aW9uIFZlcnNpb25zU2VydmljZShSZXN0YW5ndWxhcikge1xuXHQgICAgJ25nSW5qZWN0Jztcblx0XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBWZXJzaW9uc1NlcnZpY2UpO1xuXHQgICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuXHQgIH1cblx0XG5cdCAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoVmVyc2lvbnNTZXJ2aWNlLCBbe1xuXHQgICAga2V5OiAnZ2V0VmVyc2lvbnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZlcnNpb25zKCkge1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd2ZXJzaW9ucycpLmdldCgpO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdCAgcmV0dXJuIFZlcnNpb25zU2VydmljZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVmVyc2lvbnNTZXJ2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MjI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRUZW5hbnRMb2dzQ3RybC4kaW5qZWN0ID0gW1wiJHN0YXRlUGFyYW1zXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCIkc3RhdGVcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJJbnRlZ3JhdGlvbkV2ZW50c1wiLCBcIiRzY29wZVwiLCBcIkRhdGVNYW5pcHVsYXRpb25TZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gVGVuYW50TG9nc0N0cmwoJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgJHN0YXRlLCBQcm9ncmVzc0JhclNlcnZpY2UsIEludGVncmF0aW9uRXZlbnRzLCAkc2NvcGUsIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgICRzY29wZS50YWJJbmRleCA9IDU7XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHZtLnRlbmFudEtleSk7XG5cdCAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50ID0gZGF0YTtcblx0ICB9KTtcblx0XG5cdCAgdm0ubG9jYWxGcm9tVXRjID0gZnVuY3Rpb24gKGV2ZW50cykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGVhY2ggPSBldmVudHNbaV07XG5cdCAgICAgIGlmIChlYWNoLnV0Y1RpbWVzdGFtcCkge1xuXHQgICAgICAgIGVhY2gudXRjVGltZXN0YW1wID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC51dGNUaW1lc3RhbXApO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm47XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VGVuYW50Q3JlYXRlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgZW5yb2xsbWVudEV2ZW50c1Byb21pc2UgPSBJbnRlZ3JhdGlvbkV2ZW50cy5nZXRUZW5hbnRDcmVhdGVFdmVudHModm0udGVuYW50S2V5KTtcblx0ICAgIGVucm9sbG1lbnRFdmVudHNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0udGVuYW50Q3JlYXRlRXZlbnRzID0gZGF0YTtcblx0ICAgICAgdm0ubG9jYWxGcm9tVXRjKGRhdGEpO1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gU2V0dXBcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZ2V0VGVuYW50Q3JlYXRlRXZlbnRzKCk7XG5cdCAgfTtcblx0XG5cdCAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcblx0ICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHN3aXRjaCAodG9UYWIpIHtcblx0ICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAzOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSA0OlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50T3ZlcmxheXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDU6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2dzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLlRlbmFudExvZ3NDdHJsID0gVGVuYW50TG9nc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFRlbmFudE92ZXJsYXlzQ3RybC4kaW5qZWN0ID0gW1wiJHN0YXRlUGFyYW1zXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCIkc3RhdGVcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJUb2FzdHNTZXJ2aWNlXCIsIFwiJHNjb3BlXCIsIFwiSW1hZ2VTZXJ2aWNlXCIsIFwiJHRpbWVvdXRcIiwgXCIkbWREaWFsb2dcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlRlbmFudE92ZXJsYXlzQ3RybCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTApO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcjIpO1xuXHRcblx0dmFyIF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1OSk7XG5cdFxuXHR2YXIgX2phdmFzY3JpcHROYXR1cmFsU29ydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFRlbmFudE92ZXJsYXlzQ3RybCgkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCAkc3RhdGUsIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSwgJHNjb3BlLCBJbWFnZVNlcnZpY2UsICR0aW1lb3V0LCAkbWREaWFsb2cpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgJHNjb3BlLnRhYkluZGV4ID0gNDtcblx0ICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHQgIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHQgIHZhciB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodm0udGVuYW50S2V5KTtcblx0ICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgIHZtLmN1cnJlbnRUZW5hbnQgPSBkYXRhO1xuXHQgIH0pO1xuXHRcblx0ICB2bS5vdmVybGF5Q2hhbmdlZCA9IGZhbHNlO1xuXHRcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgLy8gT3ZlcmxheXNcblx0ICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgdm0uYWRqdXN0T3ZlcmxheVN0YXR1cyA9IGZ1bmN0aW9uIChzdGF0dXMpIHtcblx0ICAgIHZtLmN1cnJlbnRUZW5hbnQub3ZlcmxheVN0YXR1cyA9IHN0YXR1cztcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gdHJ1ZTtcblx0ICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50VGVuYW50KTtcblx0ICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KCRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkpO1xuXHQgICAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IGZhbHNlO1xuXHQgICAgICAgIHZtLm9uU3VjY2Vzc1Jlc29sdmluZ1RlbmFudCh0ZW5hbnQpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuXHQgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZTtcblx0ICB9O1xuXHRcblx0ICB2bS51cGRhdGVPdmVybGF5cyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IHRydWU7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IHZtLmdldFRlbmFudCgpO1xuXHQgICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgICAgdm0ub3ZlcmxheUNoYW5nZWQgPSBmYWxzZTtcblx0ICAgICAgdm0uY3VycmVudFRlbmFudC5vdmVybGF5cyA9IHRlbmFudC5vdmVybGF5cztcblx0ICAgICAgdm0uY3VycmVudFRlbmFudENvcHkub3ZlcmxheXMgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudFRlbmFudC5vdmVybGF5cyk7XG5cdCAgICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IGZhbHNlO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gdGVuYW50UHJvbWlzZTtcblx0ICB9O1xuXHRcblx0ICB2bS5zdWJtaXRPdmVybGF5U2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBvdmVybGF5U2V0dGluZ3MgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudFRlbmFudENvcHkub3ZlcmxheXMpO1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNhdmVPdmVybGF5U2V0dGluZ3Modm0udGVuYW50S2V5LCBvdmVybGF5U2V0dGluZ3MuYm90dG9tX2xlZnQsIG92ZXJsYXlTZXR0aW5ncy5ib3R0b21fcmlnaHQsIG92ZXJsYXlTZXR0aW5ncy50b3BfcmlnaHQsIG92ZXJsYXlTZXR0aW5ncy50b3BfbGVmdCk7XG5cdFxuXHQgICAgdmFyIHVwZGF0ZU92ZXJsYXlQcm9taXNlRGVmZXJyZWQgPSBmdW5jdGlvbiB1cGRhdGVPdmVybGF5UHJvbWlzZURlZmVycmVkKCkge1xuXHQgICAgICB2YXIgdXBkYXRlT3ZlcmxheVByb21pc2UgPSB2bS51cGRhdGVPdmVybGF5cygpO1xuXHQgICAgICB1cGRhdGVPdmVybGF5UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuXHQgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIHVwZGF0ZU92ZXJsYXlQcm9taXNlO1xuXHQgICAgfTtcblx0XG5cdCAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICAkdGltZW91dCh1cGRhdGVPdmVybGF5UHJvbWlzZURlZmVycmVkLCAxMDAwKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgfTtcblx0XG5cdCAgdm0uYXBwbHlUZW5hbnRPdmVybGF5ID0gZnVuY3Rpb24gKGV2KSB7XG5cdCAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKHtcblx0ICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/Jyxcblx0ICAgICAgdGV4dENvbnRlbnQ6ICdFYWNoIGRldmljZSBpbiB5b3VyIFRlbmFudCB3aWxsIGhhdmUgdGhlIGN1cnJlbnQgT3ZlcmxheSBUZW1wbGF0ZSBhcHBsaWVkIGFzIGl0cyBzZXR0aW5ncy4nLFxuXHQgICAgICB0YXJnZXRFdmVudDogZXYsXG5cdCAgICAgIGFyaWFMYWJlbDogJ0x1Y2t5IGRheScsXG5cdCAgICAgIG9rOiAnQ29uZmlybScsXG5cdCAgICAgIGNhbmNlbDogJ05ldmVybWluZCdcblx0ICAgIH0pO1xuXHRcblx0ICAgICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5vdmVybGF5QXBwbHlUZW5hbnQodm0udGVuYW50S2V5KTtcblx0ICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgbWVzc2FnZSA9ICdZb3VyIFRlbmFudCBPdmVybGF5IFNldHRpbmdzIGFyZSBiZWluZyBhcHBsaWVkIHRvIGVhY2ggZGV2aWNlIGluIHlvdXIgVGVuYW50LiBQbGVhc2Ugd2FpdCBwYXRpZW50bHkgZm9yIHRoaXMgcHJvY2VzcyB0byBjb21wbGV0ZS4nO1xuXHQgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChtZXNzYWdlKTtcblx0ICAgICAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0ICAgICAgICB2bS5nZXRUZW5hbnQoKTtcblx0ICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nJyk7XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNoZWNrRm9yT3ZlcmxheUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuXHQgICAgdmFyIGN1cnJlbnRUZW5hbnRPdmVybGF5cyA9IHZtLmN1cnJlbnRUZW5hbnQub3ZlcmxheXM7XG5cdCAgICB2YXIgY3VycmVudFRlbmFudENvcHlPdmVybGF5cyA9IHZtLmN1cnJlbnRUZW5hbnRDb3B5Lm92ZXJsYXlzO1xuXHQgICAgdmFyIHBvc2l0aW9ucyA9IFsndG9wX2xlZnQnLCAndG9wX3JpZ2h0JywgJ2JvdHRvbV9yaWdodCcsICdib3R0b21fbGVmdCddO1xuXHRcblx0ICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHQgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKHBvc2l0aW9ucyksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcblx0ICAgICAgICB2YXIgcG9zID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgIGlmIChjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS5zaXplICE9PSBjdXJyZW50VGVuYW50Q29weU92ZXJsYXlzW3Bvc10uc2l6ZSkge1xuXHQgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS50eXBlICE9PSBjdXJyZW50VGVuYW50Q29weU92ZXJsYXlzW3Bvc10udHlwZSkge1xuXHQgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS50eXBlID09PSAnbG9nbycpIHtcblx0ICAgICAgICAgIGlmIChjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS50eXBlICsgXCI6IFwiICsgY3VycmVudFRlbmFudE92ZXJsYXlzW3Bvc10ubmFtZSAhPT0gY3VycmVudFRlbmFudENvcHlPdmVybGF5c1twb3NdLm5hbWUpIHtcblx0ICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcblx0ICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2bS5vdmVybGF5Q2hhbmdlZCA9IGNoYW5nZWQ7XG5cdCAgfTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQgIC8vIEltYWdlc1xuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICB2bS5zdWJtaXRJbWFnZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGlmICh2bS5zZWxlY3RlZExvZ28gJiYgdm0uc2VsZWN0ZWRMb2dvWzBdKSB7XG5cdCAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXHQgICAgICB2YXIgdmFsaWRGaWxlID0gdHJ1ZTtcblx0ICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLnNlbGVjdGVkTG9nbywgZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgIGlmIChvYmoubGZGaWxlLnNpemUgPCAxNTAwMDAwMCkge1xuXHQgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlcycsIG9iai5sZkZpbGUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2bS5maWxlQXBpLnJlbW92ZUFsbCgpO1xuXHQgICAgICAgICAgdmFsaWRGaWxlID0gZmFsc2U7XG5cdCAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdZb3VyIGltYWdlIGlzIGxhcmdlciB0aGFuIDE1IE1CLiBQbGVhc2UgY2hvb3NlIGEgc21hbGxlciBpbWFnZScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICBpZiAodmFsaWRGaWxlKSB7XG5cdCAgICAgICAgdmFyIHByb21pc2UgPSBJbWFnZVNlcnZpY2Uuc2F2ZUltYWdlKHZtLnRlbmFudEtleSwgZm9ybURhdGEpO1xuXHQgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgICAgICR0aW1lb3V0KHZtLmdldFRlbmFudEltYWdlcywgMTAwMCk7XG5cdCAgICAgICAgICB2bS5maWxlQXBpLnJlbW92ZUFsbCgpO1xuXHQgICAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSB1cGxvYWRlZCB5b3VyIGltYWdlLicpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZy4gWW91IG1heSBoYXZlIGFscmVhZHkgdXBsb2FkZWQgdGhpcyBpbWFnZS4nKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLmdldFRlbmFudEltYWdlc0FuZFJlbG9hZFRlbmFudEFmdGVyRGVsZXRlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHRlbmFudEltYWdlUHJvbWlzZSA9IHZtLmdldFRlbmFudEltYWdlcygpO1xuXHQgICAgdGVuYW50SW1hZ2VQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgdXBkYXRlT3ZlcmxheVByb21pc2UgPSB2bS51cGRhdGVPdmVybGF5cygpO1xuXHQgICAgICB1cGRhdGVPdmVybGF5UHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIGRlbGV0ZWQgeW91ciBpbWFnZS4nKTtcblx0ICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5kZWxldGVJbWFnZSA9IGZ1bmN0aW9uIChldiwgbmFtZSwga2V5KSB7XG5cdCAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKHtcblx0ICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/Jyxcblx0ICAgICAgdGV4dENvbnRlbnQ6ICdJZiB5b3UgcHJvY2VlZCwgJyArIG5hbWUgKyAnIHdpbGwgYmUgZGVsZXRlZCBhbmQgcmVtb3ZlZCBmcm9tIGFsbCBkZXZpY2VzIHRoYXQgdXNlIGl0LicsXG5cdCAgICAgIHRhcmdldEV2ZW50OiBldixcblx0ICAgICAgYXJpYUxhYmVsOiAnTHVja3kgZGF5Jyxcblx0ICAgICAgb2s6ICdDb25maXJtJyxcblx0ICAgICAgY2FuY2VsOiAnTmV2ZXJtaW5kJ1xuXHQgICAgfSk7XG5cdFxuXHQgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgICB2YXIgcHJvbWlzZSA9IEltYWdlU2VydmljZS5kZWxldGVJbWFnZShrZXkpO1xuXHQgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgICR0aW1lb3V0KHZtLmdldFRlbmFudEltYWdlc0FuZFJlbG9hZFRlbmFudEFmdGVyRGVsZXRlLCAxMDAwKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIGRlbGV0aW5nIHlvdXIgaW1hZ2UuJyk7XG5cdCAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldFRlbmFudEltYWdlcyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLk9WRVJMQVlfVFlQRVMgPSBbeyBzaXplOiBudWxsLCB0eXBlOiBudWxsLCBuYW1lOiBcIm5vbmVcIiwgcmVhbE5hbWU6IFwibm9uZVwiLCBuZXc6IGZhbHNlLCBpbWFnZV9rZXk6IG51bGwgfSwgeyBzaXplOiBudWxsLCB0eXBlOiBcImRhdGV0aW1lXCIsIG5hbWU6IFwiZGF0ZXRpbWVcIiwgcmVhbE5hbWU6IFwiZGF0ZXRpbWVcIiwgbmV3OiB0cnVlLCBpbWFnZV9rZXk6IG51bGwgfV07XG5cdFxuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IEltYWdlU2VydmljZS5nZXRJbWFnZXModm0udGVuYW50S2V5KTtcblx0ICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgIHZtLnRlbmFudEltYWdlcyA9IHJlcztcblx0ICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG5cdCAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcblx0ICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKHZtLnRlbmFudEltYWdlcyksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuXHQgICAgICAgICAgdmFyIHZhbHVlID0gX3N0ZXAyLnZhbHVlO1xuXHQgICAgICAgICAgdmFyIF9hcnIgPSBbXCJzbWFsbFwiLCBcImxhcmdlXCJdO1xuXHRcblx0ICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBfYXJyLmxlbmd0aDsgX2krKykge1xuXHQgICAgICAgICAgICB2YXIgc2l6ZU9wdGlvbiA9IF9hcnJbX2ldO1xuXHQgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSB7XG5cdCAgICAgICAgICAgICAgcmVhbE5hbWU6IGFuZ3VsYXIuY29weSh2YWx1ZS5uYW1lKSxcblx0ICAgICAgICAgICAgICBuYW1lOiBcImxvZ286IFwiICsgdmFsdWUubmFtZSxcblx0ICAgICAgICAgICAgICB0eXBlOiBcImxvZ29cIixcblx0ICAgICAgICAgICAgICBzaXplOiBzaXplT3B0aW9uLFxuXHQgICAgICAgICAgICAgIGltYWdlX2tleTogdmFsdWUua2V5XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIHZtLk9WRVJMQVlfVFlQRVMucHVzaChuZXdWYWx1ZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuXHQgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcblx0ICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuXHQgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG5cdCAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZtLk9WRVJMQVlfVFlQRVMuc29ydChfamF2YXNjcmlwdE5hdHVyYWxTb3J0Mi5kZWZhdWx0KTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge1xuXHQgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JTdGF0dXMoXCJTT01FVEhJTkcgV0VOVCBXUk9ORyBSRVRSSUVWSU5HIFlPVVIgSU1BR0VTXCIpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIHByb21pc2U7XG5cdCAgfTtcblx0XG5cdCAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0ICAvLyBTZXR1cFxuXHQgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdCAgdm0ub25TdWNjZXNzUmVzb2x2aW5nVGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcblx0ICAgIHZtLmN1cnJlbnRUZW5hbnRDb3B5ID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnRUZW5hbnQpO1xuXHQgICAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHRlbmFudC5kZWZhdWx0X3RpbWV6b25lO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldFRlbmFudCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IHRydWU7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KCRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkpO1xuXHQgICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgICAgdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcblx0ICAgICAgaWYgKHZtLmN1cnJlbnRUZW5hbnQub3ZlcmxheXNVcGRhdGVJblByb2dyZXNzKSB7XG5cdCAgICAgICAgdm0ubG9hZGluZyA9IHRydWU7XG5cdCAgICAgICAgJHRpbWVvdXQodm0uZ2V0VGVuYW50LCAzMDAwKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG5cdCAgICAgIH07XG5cdCAgICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IGZhbHNlO1xuXHQgICAgICB2bS5jdXJyZW50VGVuYW50Q29weSA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50VGVuYW50KTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHRlbmFudFByb21pc2U7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLmdldFRlbmFudEltYWdlcygpO1xuXHQgICAgdm0uZ2V0VGVuYW50KCk7XG5cdCAgfTtcblx0XG5cdCAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcblx0ICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHN3aXRjaCAodG9UYWIpIHtcblx0ICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAzOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSA0OlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50T3ZlcmxheXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDU6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2dzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdFxuXHRleHBvcnRzLlRlbmFudE92ZXJsYXlzQ3RybCA9IFRlbmFudE92ZXJsYXlzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzI0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0VGVuYW50QWRkQ3RybC4kaW5qZWN0ID0gW1wiJGxvZ1wiLCBcIiRsb2NhdGlvblwiLCBcIlRlbmFudHNTZXJ2aWNlXCIsIFwiRGlzdHJpYnV0b3JzU2VydmljZVwiLCBcIlRpbWV6b25lc1NlcnZpY2VcIiwgXCIkc3RhdGVcIiwgXCJzd2VldFwiLCBcIlByb2dyZXNzQmFyU2VydmljZVwiLCBcIlNlc3Npb25zU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIFRlbmFudEFkZEN0cmwoJGxvZywgJGxvY2F0aW9uLCBUZW5hbnRzU2VydmljZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgVGltZXpvbmVzU2VydmljZSwgJHN0YXRlLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBTZXNzaW9uc1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uZ2FtZVN0b3BTZXJ2ZXIgPSAkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTE7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHtcblx0ICAgIGtleTogdW5kZWZpbmVkLFxuXHQgICAgbmFtZTogdW5kZWZpbmVkLFxuXHQgICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcblx0ICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuXHQgICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuXHQgICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuXHQgICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcblx0ICAgIHByb29mX29mX3BsYXlfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBhY3RpdmU6IHRydWUsXG5cdCAgICBvdV9jcmVhdGU6IHRydWVcblx0ICB9O1xuXHQgIHZtLnNlbGVjdGVkRG9tYWluID0gdW5kZWZpbmVkO1xuXHQgIHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IFtdO1xuXHQgIHZtLnRpbWV6b25lcyA9IFtdO1xuXHQgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSAnQW1lcmljYS9DaGljYWdvJztcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB0aW1lem9uZVByb21pc2UgPSBUaW1lem9uZXNTZXJ2aWNlLmdldEN1c3RvbVRpbWV6b25lcygpO1xuXHQgICAgdGltZXpvbmVQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRpbWV6b25lcyA9IGRhdGE7XG5cdCAgICB9KTtcblx0ICAgIHZtLmN1cnJlbnREaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcblx0ICAgIHZhciBkaXN0cmlidXRvclByb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmdldEJ5S2V5KHZtLmN1cnJlbnREaXN0cmlidXRvcktleSk7XG5cdCAgICBkaXN0cmlidXRvclByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICB2bS5jdXJyZW50VGVuYW50LmNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybCA9IGRhdGEuY29udGVudF9tYW5hZ2VyX3VybDtcblx0ICAgICAgcmV0dXJuIHZtLmN1cnJlbnRUZW5hbnQuY29udGVudF9zZXJ2ZXJfdXJsID0gZGF0YS5wbGF5ZXJfY29udGVudF91cmw7XG5cdCAgICB9KTtcblx0ICAgIHZhciBkaXN0cmlidXRvckRvbWFpblByb21pc2UgPSBEaXN0cmlidXRvcnNTZXJ2aWNlLmdldERvbWFpbnNCeUtleSh2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkpO1xuXHQgICAgcmV0dXJuIGRpc3RyaWJ1dG9yRG9tYWluUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkb21haW5zKSB7XG5cdCAgICAgIHJldHVybiB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBkb21haW5zO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ub25DbGlja1NhdmVCdXR0b24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcblx0ICAgIHZtLmN1cnJlbnRUZW5hbnQuZGVmYXVsdF90aW1lem9uZSA9IHZtLnNlbGVjdGVkVGltZXpvbmU7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50LmRvbWFpbl9rZXkgPSB2bS5zZWxlY3RlZERvbWFpbi5rZXk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNhdmUodm0uY3VycmVudFRlbmFudCk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1RlbmFudFNhdmUsIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUpO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uU3VjY2Vzc1RlbmFudFNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudHMnKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlID0gZnVuY3Rpb24gKGVycm9yT2JqZWN0KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIGlmIChlcnJvck9iamVjdC5zdGF0dXMgPT09IDQwOSkge1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUZW5hbnQgY29kZSB1bmF2YWlsYWJsZSBpbiBQcm92aXNpb25pbmcuIFBsZWFzZSBtb2RpZnkgdGVuYW50IG5hbWUgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgdGVuYW50IGNvZGUuJywgJ2Vycm9yJyk7XG5cdCAgICB9IGVsc2UgaWYgKGVycm9yT2JqZWN0LnN0YXR1cyA9PT0gNDEyKSB7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1RlbmFudCBjb2RlIHVuYXZhaWxhYmxlIGluIENocm9tZSBEZXZpY2UgTWFuYWdlbWVudC4gTW9kaWZ5IHRlbmFudCBuYW1lIHRvIGdlbmVyYXRlIGEgdW5pcXVlIHRlbmFudCBjb2RlLicsICdlcnJvcicpO1xuXHQgICAgfSBlbHNlIGlmIChlcnJvck9iamVjdC5zdGF0dXMgPT09IDQwNikge1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gY3JlYXRlIHRlbmFudCBPcmdhbml6YXRpb24gVW5pdCBpbiBDaHJvbWUgRGV2aWNlIE1hbmFnZW1lbnQuJywgJ2Vycm9yJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAkbG9nLmVycm9yKGVycm9yT2JqZWN0KTtcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnTm90IGV2ZXJ5dGhpbmcgbmVlZGVkIGZvciB0ZW5hbnQgd2FzIGNyZWF0ZWQgaW4gQ29udGVudCBNYW5hZ2VyIG9yIENETS4nLCAnZXJyb3InKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAkc3RhdGUuZ28oXCJ0ZW5hbnRzXCIpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmF1dG9HZW5lcmF0ZVRlbmFudENvZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIXZtLmN1cnJlbnRUZW5hbnQua2V5KSB7XG5cdCAgICAgIHZhciBuZXdUZW5hbnRDb2RlID0gJyc7XG5cdCAgICAgIGlmICh2bS5jdXJyZW50VGVuYW50Lm5hbWUpIHtcblx0ICAgICAgICBuZXdUZW5hbnRDb2RlID0gdm0uY3VycmVudFRlbmFudC5uYW1lLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuXHQgICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50LnRlbmFudF9jb2RlID0gbmV3VGVuYW50Q29kZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5UZW5hbnRBZGRDdHJsID0gVGVuYW50QWRkQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzI1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0VGVuYW50RGV0YWlsc0N0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVBhcmFtc1wiLCBcIlRlbmFudHNTZXJ2aWNlXCIsIFwiRG9tYWluc1NlcnZpY2VcIiwgXCJUaW1lem9uZXNTZXJ2aWNlXCIsIFwiRGlzdHJpYnV0b3JzU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcInN3ZWV0XCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiVG9hc3RzU2VydmljZVwiLCBcIlNlc3Npb25zU2VydmljZVwiLCBcIiRzY29wZVwiLCBcIiRsb2NhdGlvblwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIFRlbmFudERldGFpbHNDdHJsKCRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIERvbWFpbnNTZXJ2aWNlLCBUaW1lem9uZXNTZXJ2aWNlLCBEaXN0cmlidXRvcnNTZXJ2aWNlLCAkc3RhdGUsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsIFRvYXN0c1NlcnZpY2UsIFNlc3Npb25zU2VydmljZSwgJHNjb3BlLCAkbG9jYXRpb24pIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uZ2FtZVN0b3BTZXJ2ZXIgPSAkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTE7XG5cdCAgdm0uc2hvd0NkbUluZm8gPSBmYWxzZTtcblx0ICB2bS5jdXJyZW50VGVuYW50ID0ge1xuXHQgICAga2V5OiB1bmRlZmluZWQsXG5cdCAgICBuYW1lOiB1bmRlZmluZWQsXG5cdCAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuXHQgICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuXHQgICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG5cdCAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG5cdCAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG5cdCAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuXHQgICAgcHJvb2Zfb2ZfcGxheV91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGFjdGl2ZTogdHJ1ZVxuXHQgIH07XG5cdCAgdm0uc2VsZWN0ZWREb21haW4gPSB1bmRlZmluZWQ7XG5cdCAgdm0uZGlzdHJpYnV0b3JEb21haW5zID0gW107XG5cdCAgdm0udGltZXpvbmVzID0gW107XG5cdCAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9ICdBbWVyaWNhL0NoaWNhZ28nO1xuXHQgIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHRcblx0ICBpZiAodm0uZWRpdE1vZGUpIHtcblx0ICAgIHZhciB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkoJHN0YXRlUGFyYW1zLnRlbmFudEtleSk7XG5cdCAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgICB2bS5jdXJyZW50VGVuYW50ID0gdGVuYW50O1xuXHQgICAgICByZXR1cm4gdm0ub25TdWNjZXNzUmVzb2x2aW5nVGVuYW50KHRlbmFudCk7XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgdGltZXpvbmVQcm9taXNlID0gVGltZXpvbmVzU2VydmljZS5nZXRDdXN0b21UaW1lem9uZXMoKTtcblx0ICAgIHRpbWV6b25lUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHJldHVybiB2bS50aW1lem9uZXMgPSBkYXRhO1xuXHQgICAgfSk7XG5cdCAgICB2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG5cdCAgICB2YXIgZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5nZXREb21haW5zQnlLZXkodm0uY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcblx0ICAgIHJldHVybiBkaXN0cmlidXRvckRvbWFpblByb21pc2UudGhlbihmdW5jdGlvbiAoZG9tYWlucykge1xuXHQgICAgICByZXR1cm4gdm0uZGlzdHJpYnV0b3JEb21haW5zID0gZG9tYWlucztcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uU3VjY2Vzc1Jlc29sdmluZ1RlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgIHZtLnNob3dDZG1JbmZvID0gdGVuYW50Lm9yZ2FuaXphdGlvbl91bml0X3BhdGggIT0gbnVsbCAmJiB0ZW5hbnQuZW5yb2xsbWVudF9lbWFpbCAhPSBudWxsICYmIHRlbmFudC5lbnJvbGxtZW50X3Bhc3N3b3JkICE9IG51bGw7XG5cdCAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gdGVuYW50LmRlZmF1bHRfdGltZXpvbmU7XG5cdCAgICB2YXIgZG9tYWluUHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmdldERvbWFpbkJ5S2V5KHRlbmFudC5kb21haW5fa2V5KTtcblx0ICAgIHJldHVybiBkb21haW5Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgcmV0dXJuIHZtLnNlbGVjdGVkRG9tYWluID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ2xpY2tTYXZlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50LmRlZmF1bHRfdGltZXpvbmUgPSB2bS5zZWxlY3RlZFRpbWV6b25lO1xuXHQgICAgdm0uY3VycmVudFRlbmFudC5kb21haW5fa2V5ID0gdm0uc2VsZWN0ZWREb21haW4ua2V5O1xuXHQgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5zYXZlKHZtLmN1cnJlbnRUZW5hbnQpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlLCB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHRlbmFudCBpbmZvcm1hdGlvbi4nKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlID0gZnVuY3Rpb24gKGVycm9yT2JqZWN0KSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIGlmIChlcnJvck9iamVjdC5zdGF0dXMgPT09IDQwOSkge1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdUZW5hbnQgY29kZSB1bmF2YWlsYWJsZS4gUGxlYXNlIG1vZGlmeSB0ZW5hbnQgbmFtZSB0byBnZW5lcmF0ZSBhIHVuaXF1ZSB0ZW5hbnQgY29kZS4nLCAnZXJyb3InKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBzYXZlIHRoZSB0ZW5hbnQuJywgJ2Vycm9yJyk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uZWRpdEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnZWRpdERldmljZScsIHsgZGV2aWNlS2V5OiBpdGVtLmtleSwgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmF1dG9HZW5lcmF0ZVRlbmFudENvZGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBpZiAoIXZtLmN1cnJlbnRUZW5hbnQua2V5KSB7XG5cdCAgICAgIHZhciBuZXdUZW5hbnRDb2RlID0gJyc7XG5cdCAgICAgIGlmICh2bS5jdXJyZW50VGVuYW50Lm5hbWUpIHtcblx0ICAgICAgICBuZXdUZW5hbnRDb2RlID0gdm0uY3VycmVudFRlbmFudC5uYW1lLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuXHQgICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50LnRlbmFudF9jb2RlID0gbmV3VGVuYW50Q29kZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICAkc2NvcGUudGFiSW5kZXggPSAwO1xuXHRcblx0ICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuXHQgICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgc3dpdGNoICh0b1RhYikge1xuXHQgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDM6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgNTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0ZXhwb3J0cy5UZW5hbnREZXRhaWxzQ3RybCA9IFRlbmFudERldGFpbHNDdHJsO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MjY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRUZW5hbnRMb2NhdGlvbkN0cmwuJGluamVjdCA9IFtcIiRzdGF0ZVBhcmFtc1wiLCBcIlRlbmFudHNTZXJ2aWNlXCIsIFwiTG9jYXRpb25zU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcInN3ZWV0XCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiVG9hc3RzU2VydmljZVwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGZ1bmN0aW9uIFRlbmFudExvY2F0aW9uQ3RybCgkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBMb2NhdGlvbnNTZXJ2aWNlLCAkc3RhdGUsIHN3ZWV0LCBQcm9ncmVzc0JhclNlcnZpY2UsIFRvYXN0c1NlcnZpY2UpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0ubG9jYXRpb24gPSB7XG5cdCAgICBrZXk6IHVuZGVmaW5lZFxuXHQgIH07XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLmxvY2F0aW9uS2V5O1xuXHQgIGlmICh2bS5lZGl0TW9kZSkge1xuXHQgICAgdmFyIGxvY2F0aW9uUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25CeUtleSgkc3RhdGVQYXJhbXMubG9jYXRpb25LZXkpO1xuXHQgICAgbG9jYXRpb25Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9jYXRpb24gPSBkYXRhO1xuXHQgICAgICB2bS50ZW5hbnRLZXkgPSBkYXRhLnRlbmFudEtleTtcblx0ICAgICAgdm0ubG9jYXRpb25OYW1lID0gZGF0YS5jdXN0b21lckxvY2F0aW9uTmFtZTtcblx0ICAgICAgcmV0dXJuIHZtLmZldGNoVGVuYW50TmFtZSh2bS50ZW5hbnRLZXkpO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF2bS5lZGl0TW9kZSkge1xuXHQgICAgICB2bS5mZXRjaFRlbmFudE5hbWUodm0udGVuYW50S2V5KTtcblx0ICAgICAgcmV0dXJuIHZtLmxvY2F0aW9uID0ge1xuXHQgICAgICAgIHRlbmFudEtleTogdm0udGVuYW50S2V5LFxuXHQgICAgICAgIGFjdGl2ZTogdHJ1ZVxuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLm9uQ2xpY2tTYXZlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2F2ZSh2bS5sb2NhdGlvbik7XG5cdCAgICBpZiAodm0uZWRpdE1vZGUpIHtcblx0ICAgICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NVcGRhdGluZ0xvY2F0aW9uKHZtLnRlbmFudEtleSksIHZtLm9uRmFpbHVyZVNhdmluZ0xvY2F0aW9uKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzU2F2aW5nTG9jYXRpb24sIHZtLm9uRmFpbHVyZVNhdmluZ0xvY2F0aW9uKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NTYXZpbmdMb2NhdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIGxvY2F0aW9uLicpO1xuXHQgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9LCAxMDAwKTtcblx0ICB9O1xuXHRcblx0ICB2bS5vblN1Y2Nlc3NVcGRhdGluZ0xvY2F0aW9uID0gZnVuY3Rpb24gKHRlbmFudF9rZXkpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuXHQgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSB1cGRhdGVkIHlvdXIgbG9jYXRpb24uJyk7XG5cdCAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywgeyB0ZW5hbnRLZXk6IHRlbmFudF9rZXkgfSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH0sIDEwMDApO1xuXHQgIH07XG5cdFxuXHQgIHZtLm9uRmFpbHVyZVNhdmluZ0xvY2F0aW9uID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkge1xuXHQgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdMb2NhdGlvbiBjb2RlIGNvbmZsaWN0LiBVbmFibGUgdG8gc2F2ZSB5b3VyIGxvY2F0aW9uLicpO1xuXHQgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdQbGVhc2UgY2hhbmdlIHlvdXIgY3VzdG9tZXIgbG9jYXRpb24gbmFtZS4gTG9jYXRpb24gbmFtZSBtdXN0IGdlbmVyYXRlIGEgdW5pcXVlIGxvY2F0aW9uIGNvZGUuJywgJ2Vycm9yJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnVW5hYmxlIHRvIHNhdmUgeW91ciBsb2NhdGlvbi4nKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5mZXRjaFRlbmFudE5hbWUgPSBmdW5jdGlvbiAodGVuYW50S2V5KSB7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHRlbmFudEtleSk7XG5cdCAgICByZXR1cm4gdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgICAgcmV0dXJuIHZtLnRlbmFudE5hbWUgPSB0ZW5hbnQubmFtZTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmF1dG9HZW5lcmF0ZUN1c3RvbWVyTG9jYXRpb25Db2RlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKCF2bS5sb2NhdGlvbi5rZXkpIHtcblx0ICAgICAgdmFyIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gJyc7XG5cdCAgICAgIGlmICh2bS5sb2NhdGlvbi5jdXN0b21lckxvY2F0aW9uTmFtZSkge1xuXHQgICAgICAgIG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gdm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbk5hbWUudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgICBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9IG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlLnJlcGxhY2UoL1xccysvZywgJ18nKTtcblx0ICAgICAgICBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9IG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlLnJlcGxhY2UoL1xcVysvZywgJycpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB2bS5sb2NhdGlvbi5jdXN0b21lckxvY2F0aW9uQ29kZSA9IG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLlRlbmFudExvY2F0aW9uQ3RybCA9IFRlbmFudExvY2F0aW9uQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzI3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0VGVuYW50TG9jYXRpb25zQ3RybC4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJHN0YXRlUGFyYW1zXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJMb2NhdGlvbnNTZXJ2aWNlXCIsIFwiJHN0YXRlXCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5UZW5hbnRMb2NhdGlvbnNDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1MCk7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEl0ZXJhdG9yMik7XG5cdFxuXHR2YXIgX2phdmFzY3JpcHROYXR1cmFsU29ydCA9IF9fd2VicGFja19yZXF1aXJlX18oNjU5KTtcblx0XG5cdHZhciBfamF2YXNjcmlwdE5hdHVyYWxTb3J0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2phdmFzY3JpcHROYXR1cmFsU29ydCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gVGVuYW50TG9jYXRpb25zQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIExvY2F0aW9uc1NlcnZpY2UsICRzdGF0ZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlKSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHQgIHZhciB0ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHRcblx0ICAkc2NvcGUudGFiSW5kZXggPSAzO1xuXHQgIHZtLmxvY2F0aW9ucyA9IFtdO1xuXHQgIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblx0ICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHRcblx0ICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHRlbmFudEtleSk7XG5cdCAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICB2bS5jdXJyZW50VGVuYW50ID0gZGF0YTtcblx0ICB9KTtcblx0XG5cdCAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcblx0ICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHN3aXRjaCAodG9UYWIpIHtcblx0ICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAzOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSA0OlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50T3ZlcmxheXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDU6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2dzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgdm0uZ2V0TG9jYXRpb25zID0gZnVuY3Rpb24gKHRlbmFudEtleSwgcHJldiwgbmV4dCkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgbG9jYXRpb25zUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXlQYWdpbmF0ZWQodGVuYW50S2V5LCBwcmV2LCBuZXh0KTtcblx0ICAgIHJldHVybiBsb2NhdGlvbnNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0ubG9jYXRpb25zID0gZGF0YS5sb2NhdGlvbnM7XG5cdCAgICAgIHZtLm5leHRfY3Vyc29yID0gZGF0YS5uZXh0X2N1cnNvcjtcblx0ICAgICAgdm0ucHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5zZWFyY2hBbGxUZW5hbnRMb2NhdGlvbnNCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgaWYgKCFuYW1lIHx8IG5hbWUubGVuZ3RoIDwgMykge1xuXHQgICAgICByZXR1cm4gW107XG5cdCAgICB9XG5cdCAgICB2YXIgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2VhcmNoQWxsVGVuYW50TG9jYXRpb25zQnlOYW1lKHZtLnRlbmFudEtleSwgbmFtZSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgICB2bS5zZWFyY2hlZFRlbmFudExvY2F0aW9ucyA9IHJlc3BvbnNlO1xuXHQgICAgICBpZiAodm0uc2VhcmNoZWRUZW5hbnRMb2NhdGlvbnMpIHtcblx0ICAgICAgICByZXR1cm4gdm0uc2VhcmNoZWRUZW5hbnRMb2NhdGlvbnMubWFwKGZ1bmN0aW9uIChpKSB7XG5cdCAgICAgICAgICByZXR1cm4gaS5jdXN0b21lckxvY2F0aW9uTmFtZTtcblx0ICAgICAgICB9KS5zb3J0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyLmRlZmF1bHQpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdmFyIGVycm9yTWVzc2FnZSA9ICdVbmFibGUgdG8gZmV0Y2ggbG9jYXRpb25zLiBFcnJvcjogJyArIHJlc3BvbnNlLnN0YXR1cztcblx0ICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaXNUZW5hbnRMb2NhdGlvblZhbGlkID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIGlmICghbmFtZSB8fCBuYW1lLmxlbmd0aCA8IDMpIHtcblx0ICAgICAgcmV0dXJuIFtdO1xuXHQgICAgfVxuXHQgICAgdmFyIHByb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLnNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSh2bS50ZW5hbnRLZXksIG5hbWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZhciBtYXRjaCA9IHJlc3BvbnNlO1xuXHQgICAgICBpZiAobWF0Y2gpIHtcblx0ICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkobWF0Y2gpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgICAgIHZhciBlYWNoTG9jYXRpb25OYW1lID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgICAgICBpZiAobmFtZSA9PT0gZWFjaExvY2F0aW9uTmFtZS5jdXN0b21lckxvY2F0aW9uTmFtZSkge1xuXHQgICAgICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgdm0uc2VhcmNoTWF0Y2ggPSBlYWNoTG9jYXRpb25OYW1lO1xuXHQgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0ICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuXHQgICAgaWYgKGZvcndhcmQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldExvY2F0aW9ucyh0ZW5hbnRLZXksIG51bGwsIHZtLm5leHRfY3Vyc29yKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRMb2NhdGlvbnModGVuYW50S2V5LCB2bS5wcmV2X2N1cnNvciwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB2bS5nZXRMb2NhdGlvbnModGVuYW50S2V5KTtcblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCdlZGl0TG9jYXRpb24nLCB7IGxvY2F0aW9uS2V5OiBpdGVtLmtleSB9KTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gdm07XG5cdH1cblx0XG5cdGV4cG9ydHMuVGVuYW50TG9jYXRpb25zQ3RybCA9IFRlbmFudExvY2F0aW9uc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0VGVuYW50TWFuYWdlZERldmljZXNDdHJsLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkc3RhdGVQYXJhbXNcIiwgXCJUZW5hbnRzU2VydmljZVwiLCBcIkRldmljZXNTZXJ2aWNlXCIsIFwiUHJvZ3Jlc3NCYXJTZXJ2aWNlXCIsIFwiJHN0YXRlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5UZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjUwKTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwoJHNjb3BlLCAkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBEZXZpY2VzU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCAkc3RhdGUpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHtcblx0ICAgIGtleTogdW5kZWZpbmVkLFxuXHQgICAgbmFtZTogdW5kZWZpbmVkLFxuXHQgICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcblx0ICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuXHQgICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuXHQgICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuXHQgICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcblx0ICAgIGFjdGl2ZTogdHJ1ZVxuXHQgIH07XG5cdCAgdm0udGVuYW50RGV2aWNlcyA9IFtdO1xuXHQgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcblx0ICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIlNlcmlhbCBOdW1iZXJcIjtcblx0ICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgIHZtLmRldmljZXNUb01hdGNoT24gPSBbXTtcblx0ICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0XG5cdCAgdm0uZ2V0TWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpIHtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlc0J5VGVuYW50KHRlbmFudEtleSwgcHJldl9jdXJzb3IsIG5leHRfY3Vyc29yKTtcblx0ICAgIHJldHVybiBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmRldmljZXNQcmV2ID0gZGF0YVtcInByZXZfY3Vyc29yXCJdO1xuXHQgICAgICB2bS5kZXZpY2VzTmV4dCA9IGRhdGFbXCJuZXh0X2N1cnNvclwiXTtcblx0ICAgICAgdm0udGVuYW50RGV2aWNlcyA9IGRhdGFbXCJkZXZpY2VzXCJdO1xuXHQgICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0oaXRlbSk7XG5cdCAgfTtcblx0XG5cdCAgdm0ucmVmcmVzaERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG5cdCAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgICB2bS50ZW5hbnREZXZpY2VzID0gbnVsbDtcblx0ICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgfTtcblx0XG5cdCAgaWYgKHZtLmVkaXRNb2RlKSB7XG5cdCAgICB2YXIgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHZtLnRlbmFudEtleSk7XG5cdCAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuXHQgICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcblx0ICAgIH0pO1xuXHQgICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCBudWxsKTtcblx0ICB9XG5cdFxuXHQgICRzY29wZS50YWJJbmRleCA9IDE7XG5cdFxuXHQgICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG5cdCAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBzd2l0Y2ggKHRvVGFiKSB7XG5cdCAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSAyOlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMzpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgNDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywgeyB0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkgfSk7XG5cdCAgICAgICAgY2FzZSA1OlxuXHQgICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHZtLmNoYW5nZVJhZGlvID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuXHQgICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuXHQgICAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgICAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IFtdO1xuXHQgIH07XG5cdFxuXHQgIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAocGFydGlhbCkge1xuXHQgICAgdmFyIHVubWFuYWdlZCA9IGZhbHNlO1xuXHQgICAgdmFyIGJ1dHRvbiA9IHZtLnNlbGVjdGVkQnV0dG9uO1xuXHQgICAgdmFyIGJ5VGVuYW50ID0gdHJ1ZTtcblx0ICAgIHZhciB0ZW5hbnRLZXkgPSB2bS50ZW5hbnRLZXk7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdCAgICAgIHZhciBkZXZpY2VzVG9SZXR1cm4gPSB2b2lkIDA7XG5cdCAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG5cdCAgICAgICAgdmFyIGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuXHQgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG5cdCAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcblx0ICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBkZXZpY2VzVG9SZXR1cm47XG5cdCAgICAgICAgcmV0dXJuIGRldmljZXNUb1JldHVybjtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG5cdCAgICBpZiAoZm9yd2FyZCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgbnVsbCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdm0ucHJlcGFyZUZvckVkaXRWaWV3ID0gZnVuY3Rpb24gKHNlYXJjaFRleHQpIHtcblx0ICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5wcmVwcmF0ZUZvckVkaXRWaWV3KHZtLnNlbGVjdGVkQnV0dG9uLCB2bS50ZW5hbnRLZXksIHNlYXJjaFRleHQsIHZtLm1hY0RldmljZXMsIHZtLnNlcmlhbERldmljZXMsIHZtLmdjbWlkRGV2aWNlcyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAoaXNNYXRjaCkge1xuXHQgICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcblx0ICAgIHJldHVybiB2bS5sb2FkaW5nRGlzYWJsZWQgPSBmYWxzZTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcblx0ICAgIHZhciBmb3VuZE1hdGNoID0gZmFsc2U7XG5cdCAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KSh2bS5kZXZpY2VzVG9NYXRjaE9uKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHQgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgIGlmIChyZXNvdXJjZSA9PT0gaXRlbSkge1xuXHQgICAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcblx0ICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2bS5jb250cm9sT3BlbkJ1dHRvbihmb3VuZE1hdGNoKTtcblx0ICAgIHJldHVybiBmb3VuZE1hdGNoO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRcblx0ZXhwb3J0cy5UZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwgPSBUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0VGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRzdGF0ZVBhcmFtc1wiLCBcIlRlbmFudHNTZXJ2aWNlXCIsIFwiRGV2aWNlc1NlcnZpY2VcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCIkc3RhdGVcIl07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1MCk7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEl0ZXJhdG9yMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwoJHNjb3BlLCAkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBEZXZpY2VzU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCAkc3RhdGUpIHtcblx0ICBcIm5nSW5qZWN0XCI7XG5cdFxuXHQgIHZhciB2bSA9IHRoaXM7XG5cdCAgdm0uY3VycmVudFRlbmFudCA9IHtcblx0ICAgIGtleTogdW5kZWZpbmVkLFxuXHQgICAgbmFtZTogdW5kZWZpbmVkLFxuXHQgICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcblx0ICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG5cdCAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcblx0ICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuXHQgICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuXHQgICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuXHQgICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcblx0ICAgIGFjdGl2ZTogdHJ1ZVxuXHQgIH07XG5cdCAgdm0uZ2NtaWREZXZpY2VzID0gW107XG5cdCAgdm0udGVuYW50RGV2aWNlcyA9IFtdO1xuXHQgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcblx0ICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG5cdCAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIk1BQ1wiO1xuXHQgIHZtLnNlcmlhbERldmljZXMgPSB7fTtcblx0ICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuXHQgIHZtLmRldmljZXNUb01hdGNoT24gPSBbXTtcblx0ICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblx0ICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXHRcblx0ICAkc2NvcGUudGFiSW5kZXggPSAyO1xuXHRcblx0ICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuXHQgICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgc3dpdGNoICh0b1RhYikge1xuXHQgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDM6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHsgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5IH0pO1xuXHQgICAgICAgIGNhc2UgNTpcblx0ICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7IHRlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleSB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0oaXRlbSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uICh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcikge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG5cdCAgICB2YXIgZGV2aWNlc1Byb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXRVbm1hbmFnZWREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2X2N1cnNvciwgbmV4dF9jdXJzb3IpO1xuXHQgICAgcmV0dXJuIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgdm0uZGV2aWNlc1ByZXYgPSBkYXRhW1wicHJldl9jdXJzb3JcIl07XG5cdCAgICAgIHZtLmRldmljZXNOZXh0ID0gZGF0YVtcIm5leHRfY3Vyc29yXCJdO1xuXHQgICAgICB2bS50ZW5hbnREZXZpY2VzID0gZGF0YVtcImRldmljZXNcIl07XG5cdCAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIGlmICh2bS5lZGl0TW9kZSkge1xuXHQgICAgdmFyIHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuXHQgICAgdGVuYW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0ZW5hbnQpIHtcblx0ICAgICAgcmV0dXJuIHZtLmN1cnJlbnRUZW5hbnQgPSB0ZW5hbnQ7XG5cdCAgICB9KTtcblx0ICAgIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCBudWxsKTtcblx0ICB9XG5cdFxuXHQgIHZtLnJlZnJlc2hEZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuXHQgICAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuXHQgICAgdm0udGVuYW50RGV2aWNlcyA9IG51bGw7XG5cdCAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG5cdCAgfTtcblx0XG5cdCAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG5cdCAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG5cdCAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG5cdCAgICB2bS5tYWNEZXZpY2VzID0ge307XG5cdCAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG5cdCAgfTtcblx0XG5cdCAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uIChwYXJ0aWFsKSB7XG5cdCAgICB2YXIgdW5tYW5hZ2VkID0gdHJ1ZTtcblx0ICAgIHZhciBieVRlbmFudCA9IHRydWU7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCB2bS5zZWxlY3RlZEJ1dHRvbiwgYnlUZW5hbnQsIHZtLnRlbmFudEtleSwgdm0uZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdmFyIGRldmljZXNUb1JldHVybiA9IHZvaWQgMDtcblx0ICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcblx0ICAgICAgICB2YXIgZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG5cdCAgICAgICAgaWYgKHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuXHQgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV07XG5cdCAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdO1xuXHQgICAgICAgIH0gZWxzZSBpZiAodm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiTUFDXCIpIHtcblx0ICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdO1xuXHQgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXTtcblx0ICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBkZXZpY2VzVG9SZXR1cm47XG5cdCAgICAgICAgcmV0dXJuIGRldmljZXNUb1JldHVybjtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLnBhZ2luYXRlQ2FsbCA9IGZ1bmN0aW9uIChmb3J3YXJkKSB7XG5cdCAgICBpZiAoZm9yd2FyZCkge1xuXHQgICAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIHZtLmRldmljZXNOZXh0KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB2bS5nZXRVbm1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIG51bGwpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZtLnByZXBhcmVGb3JFZGl0VmlldyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG5cdCAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2UucHJlcHJhdGVGb3JFZGl0Vmlldyh2bS5zZWxlY3RlZEJ1dHRvbiwgdm0udGVuYW50S2V5LCBzZWFyY2hUZXh0LCB2bS5tYWNEZXZpY2VzLCB2bS5zZXJpYWxEZXZpY2VzLCB2bS5nY21pZERldmljZXMpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNvbnRyb2xPcGVuQnV0dG9uID0gZnVuY3Rpb24gKGlzTWF0Y2gpIHtcblx0ICAgIHZtLmRpc2FibGVkID0gIWlzTWF0Y2g7XG5cdCAgICB2bS5sb2FkaW5nRGlzYWJsZWQgPSBmYWxzZTtcblx0ICB9O1xuXHRcblx0ICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcblx0ICAgIHZhciBmb3VuZE1hdGNoID0gZmFsc2U7XG5cdCAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KSh2bS5kZXZpY2VzVG9NYXRjaE9uKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHQgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgIGlmIChyZXNvdXJjZSA9PT0gaXRlbSkge1xuXHQgICAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0ICAgIH0gZmluYWxseSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcblx0ICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2bS5jb250cm9sT3BlbkJ1dHRvbihmb3VuZE1hdGNoKTtcblx0ICAgIHJldHVybiBmb3VuZE1hdGNoO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsID0gVGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDczMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdFRlbmFudHNDdHJsLiRpbmplY3QgPSBbXCIkc3RhdGVcIiwgXCIkbG9nXCIsIFwiVGVuYW50c1NlcnZpY2VcIiwgXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgXCJzd2VldFwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVGVuYW50c0N0cmwgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oNjUwKTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdHZhciBfamF2YXNjcmlwdE5hdHVyYWxTb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NTkpO1xuXHRcblx0dmFyIF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfamF2YXNjcmlwdE5hdHVyYWxTb3J0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBUZW5hbnRzQ3RybCgkc3RhdGUsICRsb2csIFRlbmFudHNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsIHN3ZWV0KSB7XG5cdCAgXCJuZ0luamVjdFwiO1xuXHRcblx0ICB2YXIgdm0gPSB0aGlzO1xuXHRcblx0ICAvLyBQYWdpbmF0ZWQgVGVuYW50c1xuXHQgIHZtLnRlbmFudHMgPSBbXTtcblx0ICAvLyBDdXJyZW50IFNlYXJjaCBvZiBUZW5hbnRzIFJlc3VsdHNcblx0ICB2bS5zZWFyY2hlZFRlbmFudHMgPSBbXTtcblx0ICB2bS5zZWFyY2hNYXRjaCA9IG51bGw7XG5cdCAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXHRcblx0ICB2bS5nZXRUZW5hbnRzUGFnaW5hdGVkID0gZnVuY3Rpb24gKHBhZ2Vfc2l6ZSwgb2Zmc2V0KSB7XG5cdCAgICB2bS5vZmZzZXQgPSBvZmZzZXQ7XG5cdCAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0ICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuXHQgICAgdmFyIHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5mZXRjaEFsbFRlbmFudHNQYWdpbmF0ZWQocGFnZV9zaXplLCBvZmZzZXQpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoU3VjY2VzcyhyZXNwb25zZSk7XG5cdCAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldEZldGNoRmFpbHVyZShyZXNwb25zZSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5nZXRGZXRjaFN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgIHZtLnRlbmFudHMgPSByZXNwb25zZS50ZW5hbnRzO1xuXHQgICAgdm0udG90YWwgPSByZXNwb25zZS50b3RhbDtcblx0ICAgIHZtLmlzX2ZpcnN0X3BhZ2UgPSByZXNwb25zZS5pc19maXJzdF9wYWdlO1xuXHQgICAgdm0uaXNfbGFzdF9wYWdlID0gcmVzcG9uc2UuaXNfbGFzdF9wYWdlO1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICByZXR1cm4gdm0ubG9hZGluZyA9IGZhbHNlO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldEZldGNoRmFpbHVyZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHQgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG5cdCAgICB2YXIgZXJyb3JNZXNzYWdlID0gJ1VuYWJsZSB0byBmZXRjaCB0ZW5hbnRzLiBFcnJvcjogJyArIHJlc3BvbnNlLnN0YXR1cyArICcgJyArIHJlc3BvbnNlLnN0YXR1c1RleHQgKyAnLic7XG5cdCAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG5cdCAgfTtcblx0XG5cdCAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZtLm9mZnNldCA9IDA7XG5cdCAgICB2bS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lKCdteScpO1xuXHQgICAgcmV0dXJuIHZtLmdldFRlbmFudHNQYWdpbmF0ZWQoMTAwLCB2bS5vZmZzZXQpO1xuXHQgIH07XG5cdFxuXHQgIHZtLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUgPSBmdW5jdGlvbiAodGVuYW50X25hbWUpIHtcblx0ICAgIGlmICghdGVuYW50X25hbWUgfHwgdGVuYW50X25hbWUubGVuZ3RoIDwgMykge1xuXHQgICAgICByZXR1cm4gW107XG5cdCAgICB9XG5cdCAgICB2YXIgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUodGVuYW50X25hbWUpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdm0uc2VhcmNoZWRUZW5hbnRzID0gcmVzcG9uc2U7XG5cdCAgICAgIGlmICh2bS5zZWFyY2hlZFRlbmFudHMpIHtcblx0ICAgICAgICByZXR1cm4gdm0uc2VhcmNoZWRUZW5hbnRzLm1hcChmdW5jdGlvbiAoaSkge1xuXHQgICAgICAgICAgcmV0dXJuIGkubmFtZTtcblx0ICAgICAgICB9KS5zb3J0KF9qYXZhc2NyaXB0TmF0dXJhbFNvcnQyLmRlZmF1bHQpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0ICAgICAgdmFyIGVycm9yTWVzc2FnZSA9ICdVbmFibGUgdG8gZmV0Y2ggdGVuYW50cy4gRXJyb3I6ICcgKyByZXNwb25zZS5zdGF0dXM7XG5cdCAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmlzVGVuYW50VmFsaWQgPSBmdW5jdGlvbiAodGVuYW50X25hbWUpIHtcblx0ICAgIGlmICghdGVuYW50X25hbWUgfHwgdGVuYW50X25hbWUubGVuZ3RoIDwgMykge1xuXHQgICAgICByZXR1cm4gW107XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIG1hdGNoID0gdm0uc2VhcmNoZWRUZW5hbnRzO1xuXHQgICAgaWYgKG1hdGNoKSB7XG5cdCAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdCAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkobWF0Y2gpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgICB2YXIgZWFjaE5hbWUgPSBfc3RlcC52YWx1ZTtcblx0XG5cdCAgICAgICAgICBpZiAodGVuYW50X25hbWUgPT09IGVhY2hOYW1lLm5hbWUpIHtcblx0ICAgICAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgdm0uc2VhcmNoTWF0Y2ggPSBlYWNoTmFtZTtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuXHQgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2bS5lZGl0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywgeyB0ZW5hbnRLZXk6IGl0ZW0ua2V5IH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmRlbGV0ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soKSB7XG5cdCAgICAgIHZhciBwcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZGVsZXRlKGl0ZW0pO1xuXHQgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdm0uaW5pdGlhbGl6ZSgpO1xuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIHN3ZWV0LnNob3coe1xuXHQgICAgICB0aXRsZTogXCJBcmUgeW91IHN1cmU/XCIsXG5cdCAgICAgIHRleHQ6IFwiVGhpcyB3aWxsIHBlcm1hbmVudGx5IHJlbW92ZSB0aGUgdGVuYW50IGZyb20gdGhlIHN5c3RlbS5cIixcblx0ICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG5cdCAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG5cdCAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogXCIjREQ2QjU1XCIsXG5cdCAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIlllcywgcmVtb3ZlIHRoZSB0ZW5hbnQhXCIsXG5cdCAgICAgIGNsb3NlT25Db25maXJtOiB0cnVlXG5cdCAgICB9LCBjYWxsYmFjayk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIHZtO1xuXHR9XG5cdGV4cG9ydHMuVGVuYW50c0N0cmwgPSBUZW5hbnRzQ3RybDtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzMxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0V2VsY29tZUN0cmwuJGluamVjdCA9IFtcIlZlcnNpb25zU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcIiRyb290U2NvcGVcIiwgXCJEaXN0cmlidXRvcnNTZXJ2aWNlXCIsIFwiU2Vzc2lvbnNTZXJ2aWNlXCJdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZnVuY3Rpb24gV2VsY29tZUN0cmwoVmVyc2lvbnNTZXJ2aWNlLCAkc3RhdGUsICRyb290U2NvcGUsIERpc3RyaWJ1dG9yc1NlcnZpY2UsIFNlc3Npb25zU2VydmljZSkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHZtID0gdGhpcztcblx0ICB2bS5wYXVsc0N1cnJlbnREaXN0cmlidXRvck5hbWUgPSAkcm9vdFNjb3BlLnBhdWxzQ3VycmVudERpc3RyaWJ1dG9yTmFtZTtcblx0ICB2bS52ZXJzaW9uX2RhdGEgPSBbXTtcblx0ICB2bS5sb2FkaW5nID0gdHJ1ZTtcblx0XG5cdCAgdm0ucHJvY2VlZFRvU2lnbkluID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICRzdGF0ZS5nbygnc2lnbl9pbicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmNhcGl0YWxpemVGaXJzdExldHRlciA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcblx0ICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG5cdCAgfTtcblx0XG5cdCAgdm0uZ2l2ZU9wdGlvblRvQ2hhbmdlRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgZGlzdHJpYnV0b3JzUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZmV0Y2hBbGxCeVVzZXIoU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSk7XG5cdCAgICByZXR1cm4gZGlzdHJpYnV0b3JzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgIHZtLmhhc19tdWx0aXBsZV9kaXN0cmlidXRvcnMgPSBkYXRhLmxlbmd0aCA+IDE7XG5cdCAgICAgIHJldHVybiB2bS5sb2FkaW5nID0gZmFsc2U7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2bS5jaGFuZ2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAkc3RhdGUuZ28oJ2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbicpO1xuXHQgIH07XG5cdFxuXHQgIHZtLmdldFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgcHJvbWlzZSA9IFZlcnNpb25zU2VydmljZS5nZXRWZXJzaW9ucygpO1xuXHQgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICByZXR1cm4gdm0udmVyc2lvbl9kYXRhID0gZGF0YTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2bS5pZGVudGl0eSA9IHtcblx0ICAgICAga2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpLFxuXHQgICAgICBlbWFpbDogU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJFbWFpbCgpLFxuXHQgICAgICBkaXN0cmlidXRvcktleTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLFxuXHQgICAgICBkaXN0cmlidXRvck5hbWU6IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKClcblx0ICAgIH07XG5cdFxuXHQgICAgdm0uZ2l2ZU9wdGlvblRvQ2hhbmdlRGlzdHJpYnV0b3IoKTtcblx0XG5cdCAgICBpZiAoIXZtLmlkZW50aXR5LmVtYWlsKSB7XG5cdCAgICAgIHJldHVybiAkc3RhdGUuZ28oXCJzaWduX2luXCIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIHZtLmdldFZlcnNpb24oKTtcblx0ICAgIH1cblx0ICB9O1xuXHQgIHJldHVybiB2bTtcblx0fVxuXHRleHBvcnRzLldlbGNvbWVDdHJsID0gV2VsY29tZUN0cmw7XG5cbi8qKiovIH0sXG5cbi8qKiovIDczMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMucm91dGVzID0gcm91dGVzO1xuXHRmdW5jdGlvbiByb3V0ZXMoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgUmVzdGFuZ3VsYXJQcm92aWRlcikge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduX2luXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaWRlbnRpdHk6IFtcIklkZW50aXR5U2VydmljZVwiLCBmdW5jdGlvbiBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG5cdCAgICAgIH1dLFxuXHQgICAgICBub3RBdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBub3RBdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLm5vdEF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3NpZ25faW5cIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduX2luLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduZWRfb3V0XCIsIHtcblx0ICAgIHVybDogXCIvc2lnbmVkX291dFwiLFxuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpZGVudGl0eTogW1wiSWRlbnRpdHlTZXJ2aWNlXCIsIGZ1bmN0aW9uIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgfV0sXG5cdCAgICAgIG5vdEF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIG5vdEF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2Uubm90QXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduZWRfb3V0Lmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduX291dFwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGlkZW50aXR5OiBbXCJJZGVudGl0eVNlcnZpY2VcIiwgZnVuY3Rpb24gaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuXHQgICAgICB9XSxcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9zaWduX291dFwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2F1dGhlbnRpY2F0aW9uL3NpZ25fb3V0Lmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkaXN0cmlidXRvcl9zZWxlY3Rpb25cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2Rpc3RyaWJ1dG9yX3NlbGVjdGlvblwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9yX3NlbGVjdG9yLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiRGlzdHJpYnV0b3JTZWxlY3RvckN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiaG9tZVwiLCB7XG5cdCAgICB1cmw6IFwiL1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3dlbGNvbWUvd2VsY29tZS5odG1sXCIsXG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGlkZW50aXR5OiBbXCJJZGVudGl0eVNlcnZpY2VcIiwgZnVuY3Rpb24gaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuXHQgICAgICB9XSxcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgY29udHJvbGxlcjogXCJXZWxjb21lQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnd2VsY29tZUN0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ1NreWtpdCBQcm92aXNpb25pbmcnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ3ZWxjb21lXCIsIHtcblx0ICAgIHVybDogXCIvd2VsY29tZVwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3dlbGNvbWUvd2VsY29tZS5odG1sXCIsXG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGlkZW50aXR5OiBbXCJJZGVudGl0eVNlcnZpY2VcIiwgZnVuY3Rpb24gaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuXHQgICAgICB9XSxcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgY29udHJvbGxlcjogXCJXZWxjb21lQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAnd2VsY29tZUN0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ1NreWtpdCBQcm92aXNpb25pbmcnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkb21haW5zXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9kb21haW5zXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZG9tYWluL2RvbWFpbnMtbGlzdGluZy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkRvbWFpbnNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdkb21haW5zQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnRG9tYWlucydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkZERvbWFpblwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvZG9tYWlucy9hZGRcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kb21haW4vZG9tYWluLWRldGFpbC5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkRvbWFpbkRldGFpbHNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdkb21haW5EZXRhaWxzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnQWRkIGRvbWFpbicsXG5cdCAgICAgIHBhcmVudDogJ2RvbWFpbnMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlZGl0RG9tYWluXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9kb21haW5zLzpkb21haW5LZXlcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kb21haW4vZG9tYWluLWRldGFpbC5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIkRvbWFpbkRldGFpbHNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICdkb21haW5EZXRhaWxzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgZG9tYWluRGV0YWlsc0N0cmwuY3VycmVudERvbWFpbi5uYW1lIH19Jyxcblx0ICAgICAgcGFyZW50OiAnZG9tYWlucydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudHNcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHNcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50cy1saXN0aW5nLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50c0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudHNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICdUZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkVGVuYW50XCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzL2FkZFwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtYWRkLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50QWRkQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50QWRkQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnQWRkIHRlbmFudCcsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnREZXRhaWxzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvZGV0YWlsc1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtZGV0YWlscy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudERldGFpbHNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnREZXRhaWxzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50RGV0YWlsc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19Jyxcblx0ICAgICAgcGFyZW50OiAndGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudE1hbmFnZWREZXZpY2VzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvbWFuYWdlZFwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbWFuYWdlZC1kZXZpY2VzLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TWFuYWdlZERldmljZXNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IHRlbmFudE1hbmFnZWREZXZpY2VzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50VW5tYW5hZ2VkRGV2aWNlc1wiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L3VubWFuYWdlZFwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtdW5tYW5hZ2VkLWRldmljZXMuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybFwiLFxuXHQgICAgY29udHJvbGxlckFzOiAndGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IHRlbmFudFVubWFuYWdlZERldmljZXNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRMb2dzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvbG9nc1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9ncy5odG1sXCIsXG5cdCAgICBjb250cm9sbGVyOiBcIlRlbmFudExvZ3NDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRMb2dzQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9nc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19Jyxcblx0ICAgICAgcGFyZW50OiAndGVuYW50cydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudE92ZXJsYXlzXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvb3ZlcmxheXNcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LW92ZXJsYXlzLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50T3ZlcmxheXNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRPdmVybGF5c0N0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IHRlbmFudE92ZXJsYXlzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50TG9jYXRpb25zXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvbG9jYXRpb25zXCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbnMuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbnNDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRMb2NhdGlvbnNDdHJsJyxcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2NhdGlvbnNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG5cdCAgICAgIHBhcmVudDogJ3RlbmFudHMnXG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlZGl0TG9jYXRpb25cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL2xvY2F0aW9ucy86bG9jYXRpb25LZXlcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9uLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TG9jYXRpb25DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRMb2NhdGlvbkN0cmwnLFxuXHQgICAgbmN5QnJlYWRjcnVtYjoge1xuXHQgICAgICBsYWJlbDogJ3t7IHRlbmFudExvY2F0aW9uQ3RybC50ZW5hbnROYW1lIH19ICAvIHt7IHRlbmFudExvY2F0aW9uQ3RybC5sb2NhdGlvbk5hbWUgfX0nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkTG9jYXRpb25cIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBhdXRoZW50aWNhdGVkOiBbXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG5cdCAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcblx0ICAgICAgfV1cblx0ICAgIH0sXG5cdCAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9sb2NhdGlvblwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb24uaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbkN0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvY2F0aW9uQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9jYXRpb25DdHJsLnRlbmFudE5hbWUgfX0gIC8gTG9jYXRpb24nLFxuXHQgICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZGV2aWNlc1wiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvZGV2aWNlc1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RldmljZS9kZXZpY2VzLWxpc3RpbmcuaHRtbFwiLFxuXHQgICAgY29udHJvbGxlcjogXCJEZXZpY2VzTGlzdGluZ0N0cmxcIixcblx0ICAgIGNvbnRyb2xsZXJBczogJ2RldmljZXNMaXN0aW5nQ3RybCcsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnRGV2aWNlcydcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImVkaXREZXZpY2VcIiwge1xuXHQgICAgcmVzb2x2ZToge1xuXHQgICAgICBpZGVudGl0eTogW1wiSWRlbnRpdHlTZXJ2aWNlXCIsIGZ1bmN0aW9uIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcblx0ICAgICAgfV0sXG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvZGV2aWNlcy86ZGV2aWNlS2V5P3RlbmFudEtleT9mcm9tRGV2aWNlc1wiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RldmljZS9kZXZpY2UtZGV0YWlsLmh0bWxcIixcblx0ICAgIG5jeUJyZWFkY3J1bWI6IHtcblx0ICAgICAgbGFiZWw6ICd7eyBkZXZpY2VEZXRhaWxzQ3RybC5jdXJyZW50RGV2aWNlLmtleSB9fScsXG5cdCAgICAgIHBhcmVudDogJ2RldmljZXMnXG5cdCAgICB9LFxuXHQgICAgY29udHJvbGxlcjogJ0RldmljZURldGFpbHNDdHJsJyxcblx0ICAgIGZ1bmN0aW9uOiBmdW5jdGlvbiBfZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcblx0ICAgICAgJHNjb3BlLnRlbmFudEtleSA9ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH0sXG5cdFxuXHQgICAgY29udHJvbGxlckFzOiAnZGV2aWNlRGV0YWlsc0N0cmwnXG5cdCAgfSk7XG5cdCAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJwcm9vZlwiLCB7XG5cdCAgICByZXNvbHZlOiB7XG5cdCAgICAgIGF1dGhlbnRpY2F0ZWQ6IFtcIkF1dGhvcml6YXRpb25TZXJ2aWNlXCIsIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcblx0ICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuXHQgICAgICB9XVxuXHQgICAgfSxcblx0ICAgIHVybDogXCIvcHJvb2ZcIixcblx0ICAgIHRlbXBsYXRlVXJsOiBcImFwcC9wcm9vZi9tYWluLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiUHJvb2ZPZlBsYXlDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd2bScsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnUHJvb2Ygb2YgUGxheSdcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInByb29mRGV0YWlsXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgYXV0aGVudGljYXRlZDogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9wcm9vZi86dGVuYW50XCIsXG5cdCAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcHJvb2YvZGV0YWlsLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiUHJvb2ZPZlBsYXlDdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd2bScsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnUHJvb2Ygb2YgUGxheSdcblx0ICAgIH1cblx0ICB9KTtcblx0ICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkbWluXCIsIHtcblx0ICAgIHJlc29sdmU6IHtcblx0ICAgICAgaXNBZG1pbjogW1wiQXV0aG9yaXphdGlvblNlcnZpY2VcIiwgZnVuY3Rpb24gaXNBZG1pbihBdXRob3JpemF0aW9uU2VydmljZSkge1xuXHQgICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5pc0FkbWluT3JEaXN0cmlidXRvckFkbWluKCk7XG5cdCAgICAgIH1dXG5cdCAgICB9LFxuXHQgICAgdXJsOiBcIi9hZG1pblwiLFxuXHQgICAgdGVtcGxhdGVVcmw6IFwiYXBwL2FkbWluL2FkbWluLmh0bWxcIixcblx0ICAgIGNvbnRyb2xsZXI6IFwiQWRtaW5DdHJsXCIsXG5cdCAgICBjb250cm9sbGVyQXM6ICd2bScsXG5cdCAgICBuY3lCcmVhZGNydW1iOiB7XG5cdCAgICAgIGxhYmVsOiAnQWRtaW4nXG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9zaWduX2luJyk7XG5cdFxuXHQgIFJlc3Rhbmd1bGFyUHJvdmlkZXIuc2V0QmFzZVVybCgnL2FwaS92MScpO1xuXHRcblx0ICBSZXN0YW5ndWxhclByb3ZpZGVyLmFkZFJlc3BvbnNlSW50ZXJjZXB0b3IoZnVuY3Rpb24gKGRhdGEsIG9wZXJhdGlvbiwgcmVzb3VyY2VUeXBlLCB1cmwsIHJlc3BvbnNlLCBkZWZlcnJlZCkge1xuXHQgICAgdmFyIHJlc3VsdCA9IGRhdGE7XG5cdCAgICAvLyBVbmNvbW1lbnQgdGhpcyBmb3IgcGFnaW5hdGlvbiBzdXBwb3J0IHdoZW4gdXNpbmcgUGFnaW5nTGlzdEhhbmRsZXJNaXhpbiBvbiB0aGUgUHl0aG9uIHNpZGUuXG5cdCAgICAvLyAgICBpZiByZXNvdXJjZVR5cGUgPT0gJ2RldmljZXMnIGFuZCBvcGVyYXRpb24gPSAnZ2V0TGlzdCcgYW5kIHVybCA9PSAnL2FwaS92MS9kZXZpY2VzJ1xuXHQgICAgLy8gICAgICByZXN1bHQgPSBkYXRhLm9iamVjdHNcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiBSZXN0YW5ndWxhclByb3ZpZGVyLnNldFJlc3Rhbmd1bGFyRmllbGRzKHtcblx0ICAgIGlkOiAna2V5J1xuXHQgIH0pO1xuXHR9XG5cdFxuXHRyb3V0ZXMuJGluamVjdCA9IFtcIiRzdGF0ZVByb3ZpZGVyXCIsIFwiJHVybFJvdXRlclByb3ZpZGVyXCIsIFwiUmVzdGFuZ3VsYXJQcm92aWRlclwiXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzMzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0YXBwUnVuLiRpbmplY3QgPSBbXCJSZXN0YW5ndWxhclwiLCBcIiRsb2NhdGlvblwiLCBcIiRpbmplY3RvclwiLCBcIiRyb290U2NvcGVcIiwgXCIkdGltZW91dFwiXTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuYXBwUnVuID0gYXBwUnVuO1xuXHRmdW5jdGlvbiBhcHBSdW4oUmVzdGFuZ3VsYXIsICRsb2NhdGlvbiwgJGluamVjdG9yLCAkcm9vdFNjb3BlLCAkdGltZW91dCkge1xuXHQgIFwibmdJbmplY3RcIjtcblx0XG5cdCAgdmFyIHN0YXRlQ2hhbmdlV2F0Y2ggPSBmdW5jdGlvbiBzdGF0ZUNoYW5nZVdhdGNoKCkge1xuXHQgICAgdmFyIHN0YXRlID0gJGluamVjdG9yLmdldCgnJHN0YXRlJyk7XG5cdCAgICByZXR1cm4gJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgZnVuY3Rpb24gKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikge1xuXHQgICAgICBpZiAoZXJyb3JbMF0gPT09IFwiYXV0aEVycm9yXCIpIHtcblx0ICAgICAgICByZXR1cm4gc3RhdGUuZ28oZXJyb3JbMV0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICAkdGltZW91dChzdGF0ZUNoYW5nZVdhdGNoLCA1MDApO1xuXHRcblx0ICB2YXIgcmVxdWVzdEludGVyY2VwdG9yID0gZnVuY3Rpb24gcmVxdWVzdEludGVyY2VwdG9yKCkge1xuXHQgICAgUmVzdGFuZ3VsYXIuYWRkUmVxdWVzdEludGVyY2VwdG9yKGZ1bmN0aW9uIChlbGVtLCBvcGVyYXRpb24sIHdoYXQsIHVybCkge1xuXHQgICAgICB2YXIgU3RvcmFnZVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdTdG9yYWdlU2VydmljZScpO1xuXHRcblx0ICAgICAgdmFyIGF1dGhUb2tlbiA9ICc2QzM0NjU4OEJENEM2RDcyMkExMTY1QjQzQzUxQyc7XG5cdCAgICAgIGlmICgkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTEpIHtcblx0ICAgICAgICBhdXRoVG9rZW4gPSAnNVhaSEJGM21Pd3FKbFlBbEcxTmVlV1gwQ2I3MmcnO1xuXHQgICAgICB9XG5cdCAgICAgIFJlc3Rhbmd1bGFyLnNldERlZmF1bHRIZWFkZXJzKHtcblx0ICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHQgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdCAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBhdXRoVG9rZW4sXG5cdCAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLVVzZXInOiBTdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJLZXknKSxcblx0ICAgICAgICAnWC1Qcm92aXNpb25pbmctRGlzdHJpYnV0b3InOiBTdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScpXG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ3JlbW92ZScpIHtcblx0ICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gZWxlbTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgICR0aW1lb3V0KHJlcXVlc3RJbnRlcmNlcHRvciwgNTAwKTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA3MzQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy50b2FzdHJDb25maWcgPSB0b2FzdHJDb25maWc7XG5cdGV4cG9ydHMuYnJlYWRjcnVtYlByb3ZpZGVyID0gYnJlYWRjcnVtYlByb3ZpZGVyO1xuXHRcblx0dmFyIF9hbmd1bGFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNjkpO1xuXHRcblx0dmFyIF9hbmd1bGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZ3VsYXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIHRvYXN0ckNvbmZpZyh0b2FzdHJDb25maWcpIHtcblx0ICBfYW5ndWxhcjIuZGVmYXVsdC5leHRlbmQodG9hc3RyQ29uZmlnLCB7XG5cdCAgICBwcm9ncmVzc0JhcjogdHJ1ZSxcblx0ICAgIGNsb3NlQnV0dG9uOiB0cnVlLFxuXHQgICAgdGFwVG9EaXNtaXNzOiB0cnVlLFxuXHQgICAgbmV3ZXN0T25Ub3A6IHRydWUsXG5cdCAgICBwb3NpdGlvbkNsYXNzOiAndG9hc3QtYm90dG9tLWxlZnQnLFxuXHQgICAgdGltZU91dDogNTAwMFxuXHQgIH0pO1xuXHR9XG5cdHRvYXN0ckNvbmZpZy4kaW5qZWN0ID0gWyd0b2FzdHJDb25maWcnXTtcblx0XG5cdGZ1bmN0aW9uIGJyZWFkY3J1bWJQcm92aWRlcigkYnJlYWRjcnVtYlByb3ZpZGVyKSB7XG5cdCAgJGJyZWFkY3J1bWJQcm92aWRlci5zZXRPcHRpb25zKHtcblx0ICAgIHByZWZpeFN0YXRlTmFtZTogJ2hvbWUnLFxuXHQgICAgdGVtcGxhdGU6ICdib290c3RyYXAzJ1xuXHQgIH0pO1xuXHR9XG5cdFxuXHRicmVhZGNydW1iUHJvdmlkZXIuJGluamVjdCA9IFtcIiRicmVhZGNydW1iUHJvdmlkZXJcIl07XG5cbi8qKiovIH1cblxufSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogYXBwLmJ1bmRsZS5qc1xuICoqLyIsImltcG9ydCB7YXBwfSBmcm9tICcuL2FwcCdcbi8vIERldmljZVxuaW1wb3J0IHtEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsfSBmcm9tICcuL2RldmljZS9kZXZpY2UtZGV0YWlsLWNvbW1hbmQnXG5pbXBvcnQge0RldmljZURldGFpbHNDdHJsfSBmcm9tICcuL2RldmljZS9kZXZpY2UtZGV0YWlscy5jb250cm9sbGVyJ1xuaW1wb3J0IHtEZXZpY2VzTGlzdGluZ0N0cmx9IGZyb20gJy4vZGV2aWNlL2RldmljZXMtbGlzdGluZy5jb250cm9sbGVyJ1xuLy8gQWRtaW5cbmltcG9ydCB7QWRtaW5DdHJsfSBmcm9tICcuL2FkbWluL2FkbWluLWNvbnRyb2xsZXInXG4vLyBBdXRoZW50aWNhdGlvblxuaW1wb3J0IHtBdXRoZW50aWNhdGlvbkN0cmx9IGZyb20gJy4vYXV0aGVudGljYXRpb24vYXV0aGVudGljYXRpb24tY29udHJvbGxlcidcbi8vIEFwcFxuaW1wb3J0IHtBcHBDb250cm9sbGVyfSBmcm9tICcuL2FwcC9hcHAtY29udHJvbGxlcidcbi8vIERpc3RyaWJ1dG9yc1xuaW1wb3J0IHtEaXN0cmlidXRvclNlbGVjdG9yQ3RybH0gZnJvbSAnLi9kaXN0cmlidXRvci9kaXN0cmlidXRvci1zZWxlY3Rvci1jb250cm9sbGVyJ1xuaW1wb3J0IHtEaXN0cmlidXRvcnNDdHJsfSBmcm9tICcuL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9ycy1jb250cm9sbGVyJ1xuLy8gRG9tYWluc1xuaW1wb3J0IHtEb21haW5zQ3RybH0gZnJvbSAnLi9kb21haW4vZG9tYWlucy5jb250cm9sbGVyJ1xuaW1wb3J0IHtEb21haW5EZXRhaWxzQ3RybH0gZnJvbSAnLi9kb21haW4vZG9tYWluLWRldGFpbHMuY29udHJvbGxlcidcbi8vIFByb29mUGxheVxuaW1wb3J0IHtQcm9vZk9mUGxheU11bHRpTG9jYXRpb25DdHJsfSBmcm9tICcuL3Byb29mL211bHRpLWxvY2F0aW9uLmNvbnRyb2xsZXInXG5pbXBvcnQge1Byb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybH0gZnJvbSAnLi9wcm9vZi9tdWx0aS1kaXNwbGF5LmNvbnRyb2xsZXInXG5pbXBvcnQge1Byb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmx9IGZyb20gJy4vcHJvb2YvbXVsdGktcmVzb3VyY2UuY29udHJvbGxlcidcbmltcG9ydCB7UHJvb2ZPZlBsYXlDdHJsfSBmcm9tICcuL3Byb29mL3Byb29mLW9mLXBsYXkuY29udHJvbGxlcidcbi8vIFNlcnZpY2VzXG5pbXBvcnQgSW1hZ2VTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvaW1hZ2Uuc2VydmljZSdcbmltcG9ydCBBZG1pblNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9hZG1pbi5zZXJ2aWNlJ1xuaW1wb3J0IEF1dGhvcml6YXRpb25TZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvYXV0aG9yaXphdGlvbi5zZXJ2aWNlJ1xuaW1wb3J0IENvbW1hbmRzU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2NvbW1hbmRzLnNlcnZpY2UnXG5pbXBvcnQgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9kYXRlbWFuaXB1bGF0aW9uLnNlcnZpY2UnXG5pbXBvcnQgRGV2aWNlc1NlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlcy9kZXZpY2VzLnNlcnZpY2UnXG5pbXBvcnQgRGlzdHJpYnV0b3JzU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2Rpc3RyaWJ1dG9ycy5zZXJ2aWNlJ1xuaW1wb3J0IERvbWFpbnNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvZG9tYWlucy5zZXJ2aWNlJ1xuaW1wb3J0IElkZW50aXR5U2VydmljZSBmcm9tICcuL3NlcnZpY2VzL2lkZW50aXR5LnNlcnZpY2UnXG5pbXBvcnQgSW50ZWdyYXRpb25FdmVudHMgZnJvbSAnLi9zZXJ2aWNlcy9pbnRlZ3JhdGlvbi1ldmVudHMuc2VydmljZSdcbmltcG9ydCBMb2NhdGlvbnNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvbG9jYXRpb25zLnNlcnZpY2UnXG5pbXBvcnQgUHJvZ3Jlc3NCYXJTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvcHJvZ3Jlc3NiYXIuc2VydmljZSdcbmltcG9ydCBQcm9vZlBsYXlTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvcHJvb2ZwbGF5LnNlcnZpY2UnXG5pbXBvcnQgU2Vzc2lvbnNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvc2Vzc2lvbnMuc2VydmljZSdcbmltcG9ydCBTdG9yYWdlU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3N0b3JhZ2Uuc2VydmljZSdcbmltcG9ydCBUZW5hbnRzU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3RlbmFudHMuc2VydmljZSdcbmltcG9ydCBUaW1lem9uZXNTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvdGltZXpvbmVzLnNlcnZpY2UnXG5pbXBvcnQgVG9hc3RzU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3RvYXN0cy5zZXJ2aWNlJ1xuaW1wb3J0IFZlcnNpb25zU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3ZlcnNpb25zLnNlcnZpY2UnXG4vLyBUZW5hbnRcbmltcG9ydCB7VGVuYW50TG9nc0N0cmx9IGZyb20gJy4vdGVuYW50L3RlbmFudC1sb2dzLmNvbnRyb2xsZXInXG5pbXBvcnQge1RlbmFudE92ZXJsYXlzQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LW92ZXJsYXlzLmNvbnRyb2xsZXInXG5pbXBvcnQge1RlbmFudEFkZEN0cmx9IGZyb20gJy4vdGVuYW50L3RlbmFudC1hZGQuY29udHJvbGxlcidcbmltcG9ydCB7VGVuYW50RGV0YWlsc0N0cmx9IGZyb20gJy4vdGVuYW50L3RlbmFudC1kZXRhaWxzLmNvbnRyb2xsZXInXG5pbXBvcnQge1RlbmFudExvY2F0aW9uQ3RybH0gZnJvbSAnLi90ZW5hbnQvdGVuYW50LWxvY2F0aW9uLmNvbnRyb2xsZXInXG5pbXBvcnQge1RlbmFudExvY2F0aW9uc0N0cmx9IGZyb20gJy4vdGVuYW50L3RlbmFudC1sb2NhdGlvbnMuY29udHJvbGxlcidcbmltcG9ydCB7VGVuYW50TWFuYWdlZERldmljZXNDdHJsfSBmcm9tICcuL3RlbmFudC90ZW5hbnQtbWFuYWdlZC1kZXZpY2VzLmNvbnRyb2xsZXInXG5pbXBvcnQge1RlbmFudFVubWFuYWdlZERldmljZXNDdHJsfSBmcm9tICcuL3RlbmFudC90ZW5hbnQtdW5tYW5hZ2VkLWRldmljZXMuY29udHJvbGxlcidcbmltcG9ydCB7VGVuYW50c0N0cmx9IGZyb20gJy4vdGVuYW50L3RlbmFudHMuY29udHJvbGxlcidcbi8vIFdlbGNvbWVcbmltcG9ydCB7V2VsY29tZUN0cmx9IGZyb20gJy4vd2VsY29tZS93ZWxjb21lLWNvbnRyb2xsZXInXG4vLyBDb25maWdcbmltcG9ydCB7cm91dGVzfSBmcm9tICcuL2FwcC1yb3V0ZXMnXG5pbXBvcnQge2FwcFJ1bn0gZnJvbSAnLi9hcHAtcnVuJztcbmltcG9ydCB7dG9hc3RyQ29uZmlnLCBicmVhZGNydW1iUHJvdmlkZXJ9IGZyb20gJy4vYXBwLWNvbmZpZydcblxuXG5hcHBcbi8vIFNlcnZpY2VzXG4gIC5zZXJ2aWNlKFwiU3RvcmFnZVNlcnZpY2VcIiwgU3RvcmFnZVNlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiQWRtaW5TZXJ2aWNlXCIsIEFkbWluU2VydmljZSlcbiAgLnNlcnZpY2UoXCJBdXRob3JpemF0aW9uU2VydmljZVwiLCBBdXRob3JpemF0aW9uU2VydmljZSlcbiAgLnNlcnZpY2UoXCJDb21tYW5kc1NlcnZpY2VcIiwgQ29tbWFuZHNTZXJ2aWNlKVxuICAuc2VydmljZShcIkRhdGVNYW5pcHVsYXRpb25TZXJ2aWNlXCIsIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlKVxuICAuc2VydmljZShcIkRldmljZXNTZXJ2aWNlXCIsIERldmljZXNTZXJ2aWNlKVxuICAuc2VydmljZShcIkRpc3RyaWJ1dG9yc1NlcnZpY2VcIiwgRGlzdHJpYnV0b3JzU2VydmljZSlcbiAgLnNlcnZpY2UoXCJEb21haW5zU2VydmljZVwiLCBEb21haW5zU2VydmljZSlcbiAgLnNlcnZpY2UoXCJJZGVudGl0eVNlcnZpY2VcIiwgSWRlbnRpdHlTZXJ2aWNlKVxuICAuc2VydmljZShcIkludGVncmF0aW9uRXZlbnRzXCIsIEludGVncmF0aW9uRXZlbnRzKVxuICAuc2VydmljZShcIkxvY2F0aW9uc1NlcnZpY2VcIiwgTG9jYXRpb25zU2VydmljZSlcbiAgLnNlcnZpY2UoXCJQcm9ncmVzc0JhclNlcnZpY2VcIiwgUHJvZ3Jlc3NCYXJTZXJ2aWNlKVxuICAuc2VydmljZShcIlByb29mUGxheVNlcnZpY2VcIiwgUHJvb2ZQbGF5U2VydmljZSlcbiAgLnNlcnZpY2UoXCJTZXNzaW9uc1NlcnZpY2VcIiwgU2Vzc2lvbnNTZXJ2aWNlKVxuICAuc2VydmljZShcIlRlbmFudHNTZXJ2aWNlXCIsIFRlbmFudHNTZXJ2aWNlKVxuICAuc2VydmljZShcIlRpbWV6b25lc1NlcnZpY2VcIiwgVGltZXpvbmVzU2VydmljZSlcbiAgLnNlcnZpY2UoXCJUb2FzdHNTZXJ2aWNlXCIsIFRvYXN0c1NlcnZpY2UpXG4gIC5zZXJ2aWNlKFwiVmVyc2lvbnNTZXJ2aWNlXCIsIFZlcnNpb25zU2VydmljZSlcbiAgLnNlcnZpY2UoXCJJbWFnZVNlcnZpY2VcIiwgSW1hZ2VTZXJ2aWNlKVxuICAvLyBEZXZpY2VcbiAgLmNvbnRyb2xsZXIoXCJEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsXCIsIERldmljZURldGFpbHNDb21tYW5kc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiRGV2aWNlRGV0YWlsc0N0cmxcIiwgRGV2aWNlRGV0YWlsc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiRGV2aWNlc0xpc3RpbmdDdHJsXCIsIERldmljZXNMaXN0aW5nQ3RybClcbiAgLy8gQWRtaW5cbiAgLmNvbnRyb2xsZXIoXCJBZG1pbkN0cmxcIiwgQWRtaW5DdHJsKVxuICAvLyBBdXRoZW50aWNhdGlvblxuICAuY29udHJvbGxlcihcIkF1dGhlbnRpY2F0aW9uQ3RybFwiLCBBdXRoZW50aWNhdGlvbkN0cmwpXG4gIC8vIEFwcFxuICAuY29udHJvbGxlcihcIkFwcENvbnRyb2xsZXJcIiwgQXBwQ29udHJvbGxlcilcbiAgLy8gRGlzdHJpYnV0b3JzXG4gIC5jb250cm9sbGVyKFwiRGlzdHJpYnV0b3JTZWxlY3RvckN0cmxcIiwgRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwpXG4gIC5jb250cm9sbGVyKFwiRGlzdHJpYnV0b3JzQ3RybFwiLCBEaXN0cmlidXRvcnNDdHJsKVxuICAvLyBEb21haW5zXG4gIC5jb250cm9sbGVyKFwiRG9tYWluc0N0cmxcIiwgRG9tYWluc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiRG9tYWluRGV0YWlsc0N0cmxcIiwgRG9tYWluRGV0YWlsc0N0cmwpXG4gIC8vIFByb29mUGxheVxuICAuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmxcIiwgUHJvb2ZPZlBsYXlNdWx0aUxvY2F0aW9uQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheU11bHRpRGlzcGxheUN0cmxcIiwgUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsKVxuICAuY29udHJvbGxlcihcIlByb29mT2ZQbGF5TXVsdGlSZXNvdXJjZUN0cmxcIiwgUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJQcm9vZk9mUGxheUN0cmxcIiwgUHJvb2ZPZlBsYXlDdHJsKVxuICAvLyBUZW5hbnRzXG4gIC5jb250cm9sbGVyKFwiVGVuYW50TG9nc0N0cmxcIiwgVGVuYW50TG9nc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50T3ZlcmxheXNDdHJsXCIsIFRlbmFudE92ZXJsYXlzQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJUZW5hbnRBZGRDdHJsXCIsIFRlbmFudEFkZEN0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50RGV0YWlsc0N0cmxcIiwgVGVuYW50RGV0YWlsc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50TG9jYXRpb25DdHJsXCIsIFRlbmFudExvY2F0aW9uQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJUZW5hbnRMb2NhdGlvbnNDdHJsXCIsIFRlbmFudExvY2F0aW9uc0N0cmwpXG4gIC5jb250cm9sbGVyKFwiVGVuYW50TWFuYWdlZERldmljZXNDdHJsXCIsIFRlbmFudE1hbmFnZWREZXZpY2VzQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybFwiLCBUZW5hbnRVbm1hbmFnZWREZXZpY2VzQ3RybClcbiAgLmNvbnRyb2xsZXIoXCJUZW5hbnRzQ3RybFwiLCBUZW5hbnRzQ3RybClcbiAgLy8gV2VsY29tZVxuICAuY29udHJvbGxlcihcIldlbGNvbWVDdHJsXCIsIFdlbGNvbWVDdHJsKVxuICAvLyBhcHBSdW4gQmxvY2tcbiAgLnJ1bihhcHBSdW4pXG4gIC8vIENvbmZpZ1xuICAuY29uZmlnKHJvdXRlcylcbiAgLmNvbmZpZyh0b2FzdHJDb25maWcpXG4gIC5jb25maWcoYnJlYWRjcnVtYlByb3ZpZGVyKVxuXG4vLyBSZXF1ZXN0IEludGVyY2VwdG9yXG5hcHAuc2VydmljZSgnUmVxdWVzdEludGVyY2VwdG9yJywgZnVuY3Rpb24gKFN0b3JhZ2VTZXJ2aWNlLCAkbG9jYXRpb24pIHtcbiAgXCJuZ0luamVjdFwiO1xuICBsZXQgaW50ZXJjZXB0b3IgPSB7XG4gICAgcmVxdWVzdChjb25maWcpIHtcbiAgICAgIGxldCBncyA9ICc1WFpIQkYzbU93cUpsWUFsRzFOZWVXWDBDYjcyZyc7XG4gICAgICBsZXQgcHJvZCA9ICc2QzM0NjU4OEJENEM2RDcyMkExMTY1QjQzQzUxQyc7XG4gICAgICBjb25maWcuaGVhZGVycyA9IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0pXVCc6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnSldUJyksXG4gICAgICAgICdvQXV0aCc6IFN0b3JhZ2VTZXJ2aWNlLmdldCgnb0F1dGgnKSxcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTEgPyBncyA6IHByb2QsXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCd1c2VyS2V5JyksXG4gICAgICAgICdYLVByb3Zpc2lvbmluZy1Vc2VyLUlkZW50aWZpZXInOiBTdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJFbWFpbCcpLFxuICAgICAgICAnWC1Qcm92aXNpb25pbmctRGlzdHJpYnV0b3InOiBTdG9yYWdlU2VydmljZS5nZXQoJ2N1cnJlbnREaXN0cmlidXRvcktleScpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG4gIH07XG4gIHJldHVybiBpbnRlcmNlcHRvcjtcbn0pO1xuXG5cbmFwcC5jb25maWcoJGh0dHBQcm92aWRlciA9PiAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdSZXF1ZXN0SW50ZXJjZXB0b3InKSk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvaW5kZXguanNcbiAqKi8iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCB1aVJvdXRlciBmcm9tICdhbmd1bGFyLXVpLXJvdXRlcic7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgJ2FuZ3VsYXItdG9vbHRpcHMnO1xuaW1wb3J0ICdsZi1uZy1tZC1maWxlLWlucHV0J1xuaW1wb3J0ICdsZi1uZy1tZC1maWxlLWlucHV0L2Rpc3QvbGYtbmctbWQtZmlsZS1pbnB1dC5jc3MnXG5pbXBvcnQgJ2FuZ3VsYXItdG9vbHRpcHMvZGlzdC9hbmd1bGFyLXRvb2x0aXBzLmNzcydcbmltcG9ydCAnYW5ndWxhci10b2FzdHIvZGlzdC9hbmd1bGFyLXRvYXN0ci5jc3MnXG5pbXBvcnQgJ2FuZ3VsYXItdG9hc3RyJztcbmltcG9ydCBcImZvbnQtYXdlc29tZS9jc3MvZm9udC1hd2Vzb21lLmNzc1wiO1xuaW1wb3J0ICdub3JtYWxpemUuY3NzJztcbmltcG9ydCBcImJvb3RzdHJhcC13ZWJwYWNrXCI7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9uZ1Byb2dyZXNzL25nUHJvZ3Jlc3MnO1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzLmNzcyc7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9hbmd1bGFyQnJlYWRjcnVtYi9hbmd1bGFyQnJlYWRjcnVtYic7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2pzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXInXG5pbXBvcnQgJy4vY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2Nzcy9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3MnXG5pbXBvcnQgJy4vY29tcG9uZW50cy9hbmd1bGFyLWRpcmVjdGl2ZS5nLXNpZ25pbi9nb29nbGUtcGx1cy1zaWduaW4nXG5pbXBvcnQgJ3Jlc3Rhbmd1bGFyJztcbmltcG9ydCAnYW5ndWxhci1tYXRlcmlhbCdcbmltcG9ydCAnc3dlZXRhbGVydCc7XG5pbXBvcnQgJ2FuZ3VsYXItaC1zd2VldGFsZXJ0JztcbmltcG9ydCAnc3dlZXRhbGVydC9kaXN0L3N3ZWV0YWxlcnQuY3NzJztcbmltcG9ydCAnYW5ndWxhci10b2FzdHInO1xuaW1wb3J0ICdhbmd1bGFyLWNvb2tpZXMnO1xuaW1wb3J0ICdhbmd1bGFyLXNhbml0aXplJztcbmltcG9ydCAnYW5ndWxhci11aS1ib290c3RyYXAnO1xuaW1wb3J0ICduZ2NsaXBib2FyZCc7XG5pbXBvcnQgJ2pxdWVyeSc7XG5pbXBvcnQgJ2FuZ3VsYXItYnJlYWRjcnVtYidcbmltcG9ydCAnYW5ndWxhci1tYXRlcmlhbCc7XG4vLyBJbXBvcnQgYW5ndWxhclxuaW1wb3J0ICdhbmd1bGFyL2FuZ3VsYXIuanMnO1xuLy8gTWF0ZXJpYWwgZGVzaWduIGNzc1xuaW1wb3J0ICdhbmd1bGFyLW1hdGVyaWFsL2FuZ3VsYXItbWF0ZXJpYWwuY3NzJztcbmltcG9ydCAnLi9zY3NzL3ZlbmRvci5zY3NzJ1xuaW1wb3J0ICcuL3Njc3MvaW5kZXguc2NzcydcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG53aW5kb3cuXyA9IF87XG53aW5kb3cuYW5ndWxhciA9IGFuZ3VsYXI7XG5cblxuZXhwb3J0IGxldCBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnc2t5a2l0UHJvdmlzaW9uaW5nJywgW1xuICB1aVJvdXRlcixcbiAgJ25nQW5pbWF0ZScsXG4gICc3MjBrYi50b29sdGlwcycsXG4gICduZ0Nvb2tpZXMnLFxuICAnbmdTYW5pdGl6ZScsXG4gICdyZXN0YW5ndWxhcicsXG4gICd1aS5ib290c3RyYXAnLFxuICAnbmdNYXRlcmlhbERhdGVQaWNrZXInLFxuICAnaFN3ZWV0QWxlcnQnLFxuICAnbmN5LWFuZ3VsYXItYnJlYWRjcnVtYicsXG4gICdkaXJlY3RpdmUuZytzaWduaW4nLFxuICAnbmdQcm9ncmVzcycsXG4gICduZ01hdGVyaWFsJyxcbiAgJ25nY2xpcGJvYXJkJyxcbiAgJ3RvYXN0cicsXG4gICdsZk5nTWRGaWxlSW5wdXQnXG5dKVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2FwcC5qc1xuICoqLyIsInZhciBtYXAgPSB7XG5cdFwiLi9hZlwiOiAzNzUsXG5cdFwiLi9hZi5qc1wiOiAzNzUsXG5cdFwiLi9hclwiOiAzNzYsXG5cdFwiLi9hci1seVwiOiAzNzcsXG5cdFwiLi9hci1seS5qc1wiOiAzNzcsXG5cdFwiLi9hci1tYVwiOiAzNzgsXG5cdFwiLi9hci1tYS5qc1wiOiAzNzgsXG5cdFwiLi9hci1zYVwiOiAzNzksXG5cdFwiLi9hci1zYS5qc1wiOiAzNzksXG5cdFwiLi9hci10blwiOiAzODAsXG5cdFwiLi9hci10bi5qc1wiOiAzODAsXG5cdFwiLi9hci5qc1wiOiAzNzYsXG5cdFwiLi9helwiOiAzODEsXG5cdFwiLi9hei5qc1wiOiAzODEsXG5cdFwiLi9iZVwiOiAzODIsXG5cdFwiLi9iZS5qc1wiOiAzODIsXG5cdFwiLi9iZ1wiOiAzODMsXG5cdFwiLi9iZy5qc1wiOiAzODMsXG5cdFwiLi9iblwiOiAzODQsXG5cdFwiLi9ibi5qc1wiOiAzODQsXG5cdFwiLi9ib1wiOiAzODUsXG5cdFwiLi9iby5qc1wiOiAzODUsXG5cdFwiLi9iclwiOiAzODYsXG5cdFwiLi9ici5qc1wiOiAzODYsXG5cdFwiLi9ic1wiOiAzODcsXG5cdFwiLi9icy5qc1wiOiAzODcsXG5cdFwiLi9jYVwiOiAzODgsXG5cdFwiLi9jYS5qc1wiOiAzODgsXG5cdFwiLi9jc1wiOiAzODksXG5cdFwiLi9jcy5qc1wiOiAzODksXG5cdFwiLi9jdlwiOiAzOTAsXG5cdFwiLi9jdi5qc1wiOiAzOTAsXG5cdFwiLi9jeVwiOiAzOTEsXG5cdFwiLi9jeS5qc1wiOiAzOTEsXG5cdFwiLi9kYVwiOiAzOTIsXG5cdFwiLi9kYS5qc1wiOiAzOTIsXG5cdFwiLi9kZVwiOiAzOTMsXG5cdFwiLi9kZS1hdFwiOiAzOTQsXG5cdFwiLi9kZS1hdC5qc1wiOiAzOTQsXG5cdFwiLi9kZS5qc1wiOiAzOTMsXG5cdFwiLi9kdlwiOiAzOTUsXG5cdFwiLi9kdi5qc1wiOiAzOTUsXG5cdFwiLi9lbFwiOiAzOTYsXG5cdFwiLi9lbC5qc1wiOiAzOTYsXG5cdFwiLi9lbi1hdVwiOiAzOTcsXG5cdFwiLi9lbi1hdS5qc1wiOiAzOTcsXG5cdFwiLi9lbi1jYVwiOiAzOTgsXG5cdFwiLi9lbi1jYS5qc1wiOiAzOTgsXG5cdFwiLi9lbi1nYlwiOiAzOTksXG5cdFwiLi9lbi1nYi5qc1wiOiAzOTksXG5cdFwiLi9lbi1pZVwiOiA0MDAsXG5cdFwiLi9lbi1pZS5qc1wiOiA0MDAsXG5cdFwiLi9lbi1uelwiOiA0MDEsXG5cdFwiLi9lbi1uei5qc1wiOiA0MDEsXG5cdFwiLi9lb1wiOiA0MDIsXG5cdFwiLi9lby5qc1wiOiA0MDIsXG5cdFwiLi9lc1wiOiA0MDMsXG5cdFwiLi9lcy1kb1wiOiA0MDQsXG5cdFwiLi9lcy1kby5qc1wiOiA0MDQsXG5cdFwiLi9lcy5qc1wiOiA0MDMsXG5cdFwiLi9ldFwiOiA0MDUsXG5cdFwiLi9ldC5qc1wiOiA0MDUsXG5cdFwiLi9ldVwiOiA0MDYsXG5cdFwiLi9ldS5qc1wiOiA0MDYsXG5cdFwiLi9mYVwiOiA0MDcsXG5cdFwiLi9mYS5qc1wiOiA0MDcsXG5cdFwiLi9maVwiOiA0MDgsXG5cdFwiLi9maS5qc1wiOiA0MDgsXG5cdFwiLi9mb1wiOiA0MDksXG5cdFwiLi9mby5qc1wiOiA0MDksXG5cdFwiLi9mclwiOiA0MTAsXG5cdFwiLi9mci1jYVwiOiA0MTEsXG5cdFwiLi9mci1jYS5qc1wiOiA0MTEsXG5cdFwiLi9mci1jaFwiOiA0MTIsXG5cdFwiLi9mci1jaC5qc1wiOiA0MTIsXG5cdFwiLi9mci5qc1wiOiA0MTAsXG5cdFwiLi9meVwiOiA0MTMsXG5cdFwiLi9meS5qc1wiOiA0MTMsXG5cdFwiLi9nZFwiOiA0MTQsXG5cdFwiLi9nZC5qc1wiOiA0MTQsXG5cdFwiLi9nbFwiOiA0MTUsXG5cdFwiLi9nbC5qc1wiOiA0MTUsXG5cdFwiLi9oZVwiOiA0MTYsXG5cdFwiLi9oZS5qc1wiOiA0MTYsXG5cdFwiLi9oaVwiOiA0MTcsXG5cdFwiLi9oaS5qc1wiOiA0MTcsXG5cdFwiLi9oclwiOiA0MTgsXG5cdFwiLi9oci5qc1wiOiA0MTgsXG5cdFwiLi9odVwiOiA0MTksXG5cdFwiLi9odS5qc1wiOiA0MTksXG5cdFwiLi9oeS1hbVwiOiA0MjAsXG5cdFwiLi9oeS1hbS5qc1wiOiA0MjAsXG5cdFwiLi9pZFwiOiA0MjEsXG5cdFwiLi9pZC5qc1wiOiA0MjEsXG5cdFwiLi9pc1wiOiA0MjIsXG5cdFwiLi9pcy5qc1wiOiA0MjIsXG5cdFwiLi9pdFwiOiA0MjMsXG5cdFwiLi9pdC5qc1wiOiA0MjMsXG5cdFwiLi9qYVwiOiA0MjQsXG5cdFwiLi9qYS5qc1wiOiA0MjQsXG5cdFwiLi9qdlwiOiA0MjUsXG5cdFwiLi9qdi5qc1wiOiA0MjUsXG5cdFwiLi9rYVwiOiA0MjYsXG5cdFwiLi9rYS5qc1wiOiA0MjYsXG5cdFwiLi9ra1wiOiA0MjcsXG5cdFwiLi9ray5qc1wiOiA0MjcsXG5cdFwiLi9rbVwiOiA0MjgsXG5cdFwiLi9rbS5qc1wiOiA0MjgsXG5cdFwiLi9rb1wiOiA0MjksXG5cdFwiLi9rby5qc1wiOiA0MjksXG5cdFwiLi9reVwiOiA0MzAsXG5cdFwiLi9reS5qc1wiOiA0MzAsXG5cdFwiLi9sYlwiOiA0MzEsXG5cdFwiLi9sYi5qc1wiOiA0MzEsXG5cdFwiLi9sb1wiOiA0MzIsXG5cdFwiLi9sby5qc1wiOiA0MzIsXG5cdFwiLi9sdFwiOiA0MzMsXG5cdFwiLi9sdC5qc1wiOiA0MzMsXG5cdFwiLi9sdlwiOiA0MzQsXG5cdFwiLi9sdi5qc1wiOiA0MzQsXG5cdFwiLi9tZVwiOiA0MzUsXG5cdFwiLi9tZS5qc1wiOiA0MzUsXG5cdFwiLi9taVwiOiA0MzYsXG5cdFwiLi9taS5qc1wiOiA0MzYsXG5cdFwiLi9ta1wiOiA0MzcsXG5cdFwiLi9tay5qc1wiOiA0MzcsXG5cdFwiLi9tbFwiOiA0MzgsXG5cdFwiLi9tbC5qc1wiOiA0MzgsXG5cdFwiLi9tclwiOiA0MzksXG5cdFwiLi9tci5qc1wiOiA0MzksXG5cdFwiLi9tc1wiOiA0NDAsXG5cdFwiLi9tcy1teVwiOiA0NDEsXG5cdFwiLi9tcy1teS5qc1wiOiA0NDEsXG5cdFwiLi9tcy5qc1wiOiA0NDAsXG5cdFwiLi9teVwiOiA0NDIsXG5cdFwiLi9teS5qc1wiOiA0NDIsXG5cdFwiLi9uYlwiOiA0NDMsXG5cdFwiLi9uYi5qc1wiOiA0NDMsXG5cdFwiLi9uZVwiOiA0NDQsXG5cdFwiLi9uZS5qc1wiOiA0NDQsXG5cdFwiLi9ubFwiOiA0NDUsXG5cdFwiLi9ubC5qc1wiOiA0NDUsXG5cdFwiLi9ublwiOiA0NDYsXG5cdFwiLi9ubi5qc1wiOiA0NDYsXG5cdFwiLi9wYS1pblwiOiA0NDcsXG5cdFwiLi9wYS1pbi5qc1wiOiA0NDcsXG5cdFwiLi9wbFwiOiA0NDgsXG5cdFwiLi9wbC5qc1wiOiA0NDgsXG5cdFwiLi9wdFwiOiA0NDksXG5cdFwiLi9wdC1iclwiOiA0NTAsXG5cdFwiLi9wdC1ici5qc1wiOiA0NTAsXG5cdFwiLi9wdC5qc1wiOiA0NDksXG5cdFwiLi9yb1wiOiA0NTEsXG5cdFwiLi9yby5qc1wiOiA0NTEsXG5cdFwiLi9ydVwiOiA0NTIsXG5cdFwiLi9ydS5qc1wiOiA0NTIsXG5cdFwiLi9zZVwiOiA0NTMsXG5cdFwiLi9zZS5qc1wiOiA0NTMsXG5cdFwiLi9zaVwiOiA0NTQsXG5cdFwiLi9zaS5qc1wiOiA0NTQsXG5cdFwiLi9za1wiOiA0NTUsXG5cdFwiLi9zay5qc1wiOiA0NTUsXG5cdFwiLi9zbFwiOiA0NTYsXG5cdFwiLi9zbC5qc1wiOiA0NTYsXG5cdFwiLi9zcVwiOiA0NTcsXG5cdFwiLi9zcS5qc1wiOiA0NTcsXG5cdFwiLi9zclwiOiA0NTgsXG5cdFwiLi9zci1jeXJsXCI6IDQ1OSxcblx0XCIuL3NyLWN5cmwuanNcIjogNDU5LFxuXHRcIi4vc3IuanNcIjogNDU4LFxuXHRcIi4vc3NcIjogNDYwLFxuXHRcIi4vc3MuanNcIjogNDYwLFxuXHRcIi4vc3ZcIjogNDYxLFxuXHRcIi4vc3YuanNcIjogNDYxLFxuXHRcIi4vc3dcIjogNDYyLFxuXHRcIi4vc3cuanNcIjogNDYyLFxuXHRcIi4vdGFcIjogNDYzLFxuXHRcIi4vdGEuanNcIjogNDYzLFxuXHRcIi4vdGVcIjogNDY0LFxuXHRcIi4vdGUuanNcIjogNDY0LFxuXHRcIi4vdGhcIjogNDY1LFxuXHRcIi4vdGguanNcIjogNDY1LFxuXHRcIi4vdGwtcGhcIjogNDY2LFxuXHRcIi4vdGwtcGguanNcIjogNDY2LFxuXHRcIi4vdGxoXCI6IDQ2Nyxcblx0XCIuL3RsaC5qc1wiOiA0NjcsXG5cdFwiLi90clwiOiA0NjgsXG5cdFwiLi90ci5qc1wiOiA0NjgsXG5cdFwiLi90emxcIjogNDY5LFxuXHRcIi4vdHpsLmpzXCI6IDQ2OSxcblx0XCIuL3R6bVwiOiA0NzAsXG5cdFwiLi90em0tbGF0blwiOiA0NzEsXG5cdFwiLi90em0tbGF0bi5qc1wiOiA0NzEsXG5cdFwiLi90em0uanNcIjogNDcwLFxuXHRcIi4vdWtcIjogNDcyLFxuXHRcIi4vdWsuanNcIjogNDcyLFxuXHRcIi4vdXpcIjogNDczLFxuXHRcIi4vdXouanNcIjogNDczLFxuXHRcIi4vdmlcIjogNDc0LFxuXHRcIi4vdmkuanNcIjogNDc0LFxuXHRcIi4veC1wc2V1ZG9cIjogNDc1LFxuXHRcIi4veC1wc2V1ZG8uanNcIjogNDc1LFxuXHRcIi4vemgtY25cIjogNDc2LFxuXHRcIi4vemgtY24uanNcIjogNDc2LFxuXHRcIi4vemgtaGtcIjogNDc3LFxuXHRcIi4vemgtaGsuanNcIjogNDc3LFxuXHRcIi4vemgtdHdcIjogNDc4LFxuXHRcIi4vemgtdHcuanNcIjogNDc4XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdHJldHVybiBtYXBbcmVxXSB8fCAoZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIicuXCIpIH0oKSk7XG59O1xud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDM3NDtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L21vbWVudC9sb2NhbGUgXlxcLlxcLy4qJFxuICoqIG1vZHVsZSBpZCA9IDM3NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcbiBuZ3Byb2dyZXNzIDEuMS4yIC0gc2xpbSwgc2l0ZS13aWRlIHByb2dyZXNzYmFyIGZvciBBbmd1bGFySlMgXG4gKEMpIDIwMTMgLSBWaWN0b3IgQmplbGtob2xtIFxuIExpY2Vuc2U6IE1JVCBcbiBTb3VyY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9WaWN0b3JCamVsa2hvbG0vbmdQcm9ncmVzcyBcbiBEYXRlIENvbXBpbGVkOiAyMDE1LTA3LTI3IFxuICovXG5hbmd1bGFyLm1vZHVsZShcIm5nUHJvZ3Jlc3MucHJvdmlkZXJcIiwgW1wibmdQcm9ncmVzcy5kaXJlY3RpdmVcIl0pLnNlcnZpY2UoXCJuZ1Byb2dyZXNzXCIsIGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIHJldHVybiBbXCIkZG9jdW1lbnRcIiwgXCIkd2luZG93XCIsIFwiJGNvbXBpbGVcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJHRpbWVvdXRcIiwgZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHtcbiAgICB0aGlzLmF1dG9TdHlsZSA9ICEwLCB0aGlzLmNvdW50ID0gMCwgdGhpcy5oZWlnaHQgPSBcIjJweFwiLCB0aGlzLiRzY29wZSA9IGQuJG5ldygpLCB0aGlzLmNvbG9yID0gXCJmaXJlYnJpY2tcIiwgdGhpcy5wYXJlbnQgPSBhLmZpbmQoXCJib2R5XCIpWzBdLCB0aGlzLmNvdW50ID0gMCwgdGhpcy5wcm9ncmVzc2JhckVsID0gYyhcIjxuZy1wcm9ncmVzcz48L25nLXByb2dyZXNzPlwiKSh0aGlzLiRzY29wZSksIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSksIHRoaXMuJHNjb3BlLmNvdW50ID0gdGhpcy5jb3VudCwgdm9pZCAwICE9PSB0aGlzLmhlaWdodCAmJiB0aGlzLnByb2dyZXNzYmFyRWwuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQpLCB2b2lkIDAgIT09IHRoaXMuY29sb3IgJiYgKHRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgdGhpcy5jb2xvciksIHRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImNvbG9yXCIsIHRoaXMuY29sb3IpKSwgdGhpcy5pbnRlcnZhbENvdW50ZXJJZCA9IDAsIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnNob3coKTtcbiAgICAgIHZhciBhID0gdGhpcztcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIHRoaXMuaW50ZXJ2YWxDb3VudGVySWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzTmFOKGEuY291bnQpID8gKGNsZWFySW50ZXJ2YWwoYS5pbnRlcnZhbENvdW50ZXJJZCksIGEuY291bnQgPSAwLCBhLmhpZGUoKSkgOiAoYS5yZW1haW5pbmcgPSAxMDAgLSBhLmNvdW50LCBhLmNvdW50ID0gYS5jb3VudCArIC4xNSAqIE1hdGgucG93KDEgLSBNYXRoLnNxcnQoYS5yZW1haW5pbmcpLCAyKSwgYS51cGRhdGVDb3VudChhLmNvdW50KSlcbiAgICAgIH0sIDIwMClcbiAgICB9LCB0aGlzLnVwZGF0ZUNvdW50ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHRoaXMuJHNjb3BlLmNvdW50ID0gYSwgdGhpcy4kc2NvcGUuJCRwaGFzZSB8fCB0aGlzLiRzY29wZS4kYXBwbHkoKVxuICAgIH0sIHRoaXMuc2V0SGVpZ2h0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGEgJiYgKHRoaXMuaGVpZ2h0ID0gYSwgdGhpcy4kc2NvcGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQsIHRoaXMuJHNjb3BlLiQkcGhhc2UgfHwgdGhpcy4kc2NvcGUuJGFwcGx5KCkpLCB0aGlzLmhlaWdodFxuICAgIH0sIHRoaXMuc2V0Q29sb3IgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gYSAmJiAodGhpcy5jb2xvciA9IGEsIHRoaXMuJHNjb3BlLmNvbG9yID0gdGhpcy5jb2xvciwgdGhpcy4kc2NvcGUuJCRwaGFzZSB8fCB0aGlzLiRzY29wZS4kYXBwbHkoKSksIHRoaXMuY29sb3JcbiAgICB9LCB0aGlzLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJvcGFjaXR5XCIsIFwiMFwiKTtcbiAgICAgIHZhciBhID0gdGhpcztcbiAgICAgIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGEucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIndpZHRoXCIsIFwiMCVcIiksIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYS5zaG93KClcbiAgICAgICAgfSwgNTAwKVxuICAgICAgfSwgNTAwKVxuICAgIH0sIHRoaXMuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhID0gdGhpcztcbiAgICAgIGEuYW5pbWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGEucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIm9wYWNpdHlcIiwgXCIxXCIpXG4gICAgICB9LCAxMDApXG4gICAgfSwgdGhpcy5hbmltYXRlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHZvaWQgMCAhPT0gdGhpcy5hbmltYXRpb24gJiYgZS5jYW5jZWwodGhpcy5hbmltYXRpb24pLCB0aGlzLmFuaW1hdGlvbiA9IGUoYSwgYilcbiAgICB9LCB0aGlzLnN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvdW50XG4gICAgfSwgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKVxuICAgIH0sIHRoaXMuc2V0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLnNob3coKSwgdGhpcy51cGRhdGVDb3VudChhKSwgdGhpcy5jb3VudCA9IGEsIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIHRoaXMuY291bnRcbiAgICB9LCB0aGlzLmNzcyA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKGEpXG4gICAgfSwgdGhpcy5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLCB0aGlzLmNvdW50ID0gMCwgdGhpcy51cGRhdGVDb3VudCh0aGlzLmNvdW50KSwgMFxuICAgIH0sIHRoaXMuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNvdW50ID0gMTAwLCB0aGlzLnVwZGF0ZUNvdW50KHRoaXMuY291bnQpO1xuICAgICAgdmFyIGEgPSB0aGlzO1xuICAgICAgcmV0dXJuIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksIGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBhLmhpZGUoKSwgZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYS5jb3VudCA9IDAsIGEudXBkYXRlQ291bnQoYS5jb3VudClcbiAgICAgICAgfSwgNTAwKVxuICAgICAgfSwgMWUzKSwgdGhpcy5jb3VudFxuICAgIH0sIHRoaXMuc2V0UGFyZW50ID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIGlmIChudWxsID09PSBhIHx8IHZvaWQgMCA9PT0gYSl0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlIGEgdmFsaWQgcGFyZW50IG9mIHR5cGUgSFRNTEVsZW1lbnRcIik7XG4gICAgICBudWxsICE9PSB0aGlzLnBhcmVudCAmJiB2b2lkIDAgIT09IHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMucHJvZ3Jlc3NiYXJFbFswXSksIHRoaXMucGFyZW50ID0gYSwgdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc2JhckVsWzBdKVxuICAgIH0sIHRoaXMuZ2V0RG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzYmFyRWxcbiAgICB9LCB0aGlzLnNldEFic29sdXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5wcm9ncmVzc2JhckVsLmNzcyhcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIilcbiAgICB9XG4gIH1dXG59KS5mYWN0b3J5KFwibmdQcm9ncmVzc0ZhY3RvcnlcIiwgW1wiJGluamVjdG9yXCIsIFwibmdQcm9ncmVzc1wiLCBmdW5jdGlvbiAoYSwgYikge1xuICB2YXIgYyA9IHtcbiAgICBjcmVhdGVJbnN0YW5jZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEuaW5zdGFudGlhdGUoYilcbiAgICB9XG4gIH07XG4gIHJldHVybiBjXG59XSksIGFuZ3VsYXIubW9kdWxlKFwibmdQcm9ncmVzcy5kaXJlY3RpdmVcIiwgW10pLmRpcmVjdGl2ZShcIm5nUHJvZ3Jlc3NcIiwgW1wiJHdpbmRvd1wiLCBcIiRyb290U2NvcGVcIiwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgdmFyIGMgPSB7XG4gICAgcmVwbGFjZTogITAsIHJlc3RyaWN0OiBcIkVcIiwgbGluazogZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHtcbiAgICAgIGEuJHdhdGNoKFwiY291bnRcIiwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgKHZvaWQgMCAhPT0gYyB8fCBudWxsICE9PSBjKSAmJiAoYS5jb3VudGVyID0gYywgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcIndpZHRoXCIsIGMgKyBcIiVcIikpXG4gICAgICB9KSwgYS4kd2F0Y2goXCJjb2xvclwiLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmNvbG9yID0gYywgYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgYyksIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJjb2xvclwiLCBjKSlcbiAgICAgIH0pLCBhLiR3YXRjaChcImhlaWdodFwiLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAodm9pZCAwICE9PSBjIHx8IG51bGwgIT09IGMpICYmIChhLmhlaWdodCA9IGMsIGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJoZWlnaHRcIiwgYykpXG4gICAgICB9KVxuICAgIH0sIHRlbXBsYXRlOiAnPGRpdiBpZD1cIm5nUHJvZ3Jlc3MtY29udGFpbmVyXCI+PGRpdiBpZD1cIm5nUHJvZ3Jlc3NcIj48L2Rpdj48L2Rpdj4nXG4gIH07XG4gIHJldHVybiBjXG59XSksIGFuZ3VsYXIubW9kdWxlKFwibmdQcm9ncmVzc1wiLCBbXCJuZ1Byb2dyZXNzLmRpcmVjdGl2ZVwiLCBcIm5nUHJvZ3Jlc3MucHJvdmlkZXJcIl0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2NvbXBvbmVudHMvbmdQcm9ncmVzcy9uZ1Byb2dyZXNzLmpzXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9uZ1Byb2dyZXNzLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9uZ1Byb2dyZXNzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL25nUHJvZ3Jlc3MuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2FwcC9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSA1MjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiI25nUHJvZ3Jlc3N7bWFyZ2luOjA7cGFkZGluZzowO3otaW5kZXg6OTk5OTg7YmFja2dyb3VuZC1jb2xvcjpncmVlbjtjb2xvcjpncmVlbjtib3gtc2hhZG93OjAgMCAxMHB4IDA7aGVpZ2h0OjJweDtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuNXMgZWFzZS1pbi1vdXQ7dHJhbnNpdGlvbjphbGwgLjVzIGVhc2UtaW4tb3V0fSNuZ1Byb2dyZXNzLWNvbnRhaW5lcntwb3NpdGlvbjpmaXhlZDttYXJnaW46MDtwYWRkaW5nOjA7dG9wOjA7bGVmdDowO3JpZ2h0OjA7ei1pbmRleDo5OTk5OX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vc3JjL2FwcC9jb21wb25lbnRzL25nUHJvZ3Jlc3MvbmdQcm9ncmVzcy5jc3NcbiAqKiBtb2R1bGUgaWQgPSA1MjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qISBhbmd1bGFyLWJyZWFkY3J1bWIgLSB2MC40LjAtZGV2LTIwMTUtMDgtMDdcbiogaHR0cDovL25jdWlsbGVyeS5naXRodWIuaW8vYW5ndWxhci1icmVhZGNydW1iXG4qIENvcHlyaWdodCAoYykgMjAxNSBOaWNvbGFzIEN1aWxsZXJ5OyBMaWNlbnNlZCBNSVQgKi9cbiFmdW5jdGlvbihhLGIsYyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZChhLGMpe3JldHVybiBiLmVxdWFscyhhLmxlbmd0aCxjLmxlbmd0aCk/YT5jOmEubGVuZ3RoPmMubGVuZ3RofWZ1bmN0aW9uIGUoYSl7dmFyIGI9YS5yZXBsYWNlKC9cXG4vZyxcIiBcIikubWF0Y2goL14oW14oXSs/KVxccyooXFwoKC4qKVxcKSk/JC8pO2lmKCFifHw0IT09Yi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSByZWYgJ1wiK2ErXCInXCIpO3JldHVybntzdGF0ZTpiWzFdLHBhcmFtRXhwcjpiWzNdfHxudWxsfX1mdW5jdGlvbiBmKCl7dmFyIGE9e3ByZWZpeFN0YXRlTmFtZTpudWxsLHRlbXBsYXRlOlwiYm9vdHN0cmFwM1wiLHRlbXBsYXRlVXJsOm51bGwsaW5jbHVkZUFic3RyYWN0OiExfTt0aGlzLnNldE9wdGlvbnM9ZnVuY3Rpb24oYyl7Yi5leHRlbmQoYSxjKX0sdGhpcy4kZ2V0PVtcIiRzdGF0ZVwiLFwiJHN0YXRlUGFyYW1zXCIsXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24oYixmLGcpe3ZhciBoPWc7Zy4kb24oXCIkdmlld0NvbnRlbnRMb2FkZWRcIixmdW5jdGlvbihhKXshYS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlJiZkKGEudGFyZ2V0U2NvcGUuJGlkLGguJGlkKSYmKGg9YS50YXJnZXRTY29wZSl9KTt2YXIgaT1mdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudHx8KC9eKC4rKVxcLlteLl0rJC8uZXhlYyhhLm5hbWUpfHxbXSlbMV0sYz1cIm9iamVjdFwiPT10eXBlb2YgYjtyZXR1cm4gYz9iLm5hbWU6Yn0saj1mdW5jdGlvbihjLGQpe2Zvcih2YXIgZyxpLGo9ZShkKSxrPSExLGw9ITEsbT0wLG49Yy5sZW5ndGg7bj5tO20rPTEpaWYoY1ttXS5uYW1lPT09ai5zdGF0ZSlyZXR1cm47Zz1iLmdldChqLnN0YXRlKSxnLm5jeUJyZWFkY3J1bWImJihnLm5jeUJyZWFkY3J1bWIuZm9yY2UmJihrPSEwKSxnLm5jeUJyZWFkY3J1bWIuc2tpcCYmKGw9ITApKSxnW1wiYWJzdHJhY3RcIl0mJiFhLmluY2x1ZGVBYnN0cmFjdCYmIWt8fGx8fChqLnBhcmFtRXhwciYmKGk9aC4kZXZhbChqLnBhcmFtRXhwcikpLGcubmN5QnJlYWRjcnVtYkxpbms9Yi5ocmVmKGouc3RhdGUsaXx8Znx8e30pLGMudW5zaGlmdChnKSl9LGs9ZnVuY3Rpb24oYSl7dmFyIGM9ZShhKSxkPWIuZ2V0KGMuc3RhdGUpO2lmKGQubmN5QnJlYWRjcnVtYiYmZC5uY3lCcmVhZGNydW1iLnBhcmVudCl7dmFyIGY9XCJmdW5jdGlvblwiPT10eXBlb2YgZC5uY3lCcmVhZGNydW1iLnBhcmVudCxnPWY/ZC5uY3lCcmVhZGNydW1iLnBhcmVudChoKTpkLm5jeUJyZWFkY3J1bWIucGFyZW50O2lmKGcpcmV0dXJuIGd9cmV0dXJuIGkoZCl9O3JldHVybntnZXRUZW1wbGF0ZTpmdW5jdGlvbihiKXtyZXR1cm4gYS50ZW1wbGF0ZVVybD9udWxsOmJbYS50ZW1wbGF0ZV0/YlthLnRlbXBsYXRlXTphLnRlbXBsYXRlfSxnZXRUZW1wbGF0ZVVybDpmdW5jdGlvbigpe3JldHVybiBhLnRlbXBsYXRlVXJsfSxnZXRTdGF0ZXNDaGFpbjpmdW5jdGlvbihjKXtmb3IodmFyIGQ9W10sZT1iLiRjdXJyZW50LnNlbGYubmFtZTtlO2U9ayhlKSlpZihqKGQsZSksYyYmZC5sZW5ndGgpcmV0dXJuIGQ7cmV0dXJuIGEucHJlZml4U3RhdGVOYW1lJiZqKGQsYS5wcmVmaXhTdGF0ZU5hbWUpLGR9LGdldExhc3RTdGVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRTdGF0ZXNDaGFpbighMCk7cmV0dXJuIGEubGVuZ3RoP2FbMF06Y30sJGdldExhc3RWaWV3U2NvcGU6ZnVuY3Rpb24oKXtyZXR1cm4gaH19fV19ZnVuY3Rpb24gZyhhLGMsZCl7dmFyIGU9e2Jvb3RzdHJhcDI6Jzx1bCBjbGFzcz1cImJyZWFkY3J1bWJcIj48bGkgbmctcmVwZWF0PVwic3RlcCBpbiBzdGVwc1wiIG5nLXN3aXRjaD1cIiRsYXN0IHx8ICEhc3RlcC5hYnN0cmFjdFwiIG5nLWNsYXNzPVwie2FjdGl2ZTogJGxhc3R9XCI+PGEgbmctc3dpdGNoLXdoZW49XCJmYWxzZVwiIGhyZWY9XCJ7e3N0ZXAubmN5QnJlYWRjcnVtYkxpbmt9fVwiPnt7c3RlcC5uY3lCcmVhZGNydW1iTGFiZWx9fTwvYT48c3BhbiBuZy1zd2l0Y2gtd2hlbj1cInRydWVcIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L3NwYW4+PHNwYW4gY2xhc3M9XCJkaXZpZGVyXCIgbmctaGlkZT1cIiRsYXN0XCI+Lzwvc3Bhbj48L2xpPjwvdWw+Jyxib290c3RyYXAzOic8b2wgY2xhc3M9XCJicmVhZGNydW1iXCI+PGxpIG5nLXJlcGVhdD1cInN0ZXAgaW4gc3RlcHNcIiBuZy1jbGFzcz1cInthY3RpdmU6ICRsYXN0fVwiIG5nLXN3aXRjaD1cIiRsYXN0IHx8ICEhc3RlcC5hYnN0cmFjdFwiPjxhIG5nLXN3aXRjaC13aGVuPVwiZmFsc2VcIiBocmVmPVwie3tzdGVwLm5jeUJyZWFkY3J1bWJMaW5rfX1cIj57e3N0ZXAubmN5QnJlYWRjcnVtYkxhYmVsfX08L2E+PHNwYW4gbmctc3dpdGNoLXdoZW49XCJ0cnVlXCI+e3tzdGVwLm5jeUJyZWFkY3J1bWJMYWJlbH19PC9zcGFuPjwvbGk+PC9vbD4nfTtyZXR1cm57cmVzdHJpY3Q6XCJBRVwiLHJlcGxhY2U6ITAsc2NvcGU6e30sdGVtcGxhdGU6Yy5nZXRUZW1wbGF0ZShlKSx0ZW1wbGF0ZVVybDpjLmdldFRlbXBsYXRlVXJsKCksbGluazp7cG9zdDpmdW5jdGlvbihlKXt2YXIgZj1bXSxnPWZ1bmN0aW9uKCl7bChmKSxmPVtdO3ZhciBkPWMuJGdldExhc3RWaWV3U2NvcGUoKTtlLnN0ZXBzPWMuZ2V0U3RhdGVzQ2hhaW4oKSxiLmZvckVhY2goZS5zdGVwcyxmdW5jdGlvbihiKXtpZihiLm5jeUJyZWFkY3J1bWImJmIubmN5QnJlYWRjcnVtYi5sYWJlbCl7dmFyIGM9YShiLm5jeUJyZWFkY3J1bWIubGFiZWwpO2IubmN5QnJlYWRjcnVtYkxhYmVsPWMoZCksayhmLGMsZCxiKX1lbHNlIGIubmN5QnJlYWRjcnVtYkxhYmVsPWIubmFtZX0pfTtkLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLGZ1bmN0aW9uKGEpe2EudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZXx8ZygpfSksZygpfX19fWZ1bmN0aW9uIGgoYSxiLGMpe3JldHVybntyZXN0cmljdDpcIkFcIixzY29wZTp7fSx0ZW1wbGF0ZTpcInt7bmN5QnJlYWRjcnVtYkxhYmVsfX1cIixjb21waWxlOmZ1bmN0aW9uKGQsZSl7dmFyIGY9ZC5hdHRyKGUuJGF0dHIubmN5QnJlYWRjcnVtYkxhc3QpO3JldHVybiBmJiZkLmh0bWwoZikse3Bvc3Q6ZnVuY3Rpb24oZCl7dmFyIGU9W10sZj1mdW5jdGlvbigpe2woZSksZT1bXTt2YXIgYz1iLiRnZXRMYXN0Vmlld1Njb3BlKCksZj1iLmdldExhc3RTdGVwKCk7aWYoZilpZihkLm5jeUJyZWFkY3J1bWJMaW5rPWYubmN5QnJlYWRjcnVtYkxpbmssZi5uY3lCcmVhZGNydW1iJiZmLm5jeUJyZWFkY3J1bWIubGFiZWwpe3ZhciBnPWEoZi5uY3lCcmVhZGNydW1iLmxhYmVsKTtkLm5jeUJyZWFkY3J1bWJMYWJlbD1nKGMpLGsoZSxnLGMsZCl9ZWxzZSBkLm5jeUJyZWFkY3J1bWJMYWJlbD1mLm5hbWV9O2MuJG9uKFwiJHZpZXdDb250ZW50TG9hZGVkXCIsZnVuY3Rpb24oYSl7YS50YXJnZXRTY29wZS5uY3lCcmVhZGNydW1iSWdub3JlfHxmKCl9KSxmKCl9fX19fWZ1bmN0aW9uIGkoYSxjLGQpe3JldHVybntyZXN0cmljdDpcIkFcIixzY29wZTp7fSx0ZW1wbGF0ZTpcInt7bmN5QnJlYWRjcnVtYkNoYWlufX1cIixjb21waWxlOmZ1bmN0aW9uKGUsZil7dmFyIGc9ZS5hdHRyKGYuJGF0dHIubmN5QnJlYWRjcnVtYlRleHQpO2cmJmUuaHRtbChnKTt2YXIgaD1lLmF0dHIoZi4kYXR0ci5uY3lCcmVhZGNydW1iVGV4dFNlcGFyYXRvcil8fFwiIC8gXCI7cmV0dXJue3Bvc3Q6ZnVuY3Rpb24oZSl7dmFyIGY9W10sZz1mdW5jdGlvbihhLGMsZCl7Yi5mb3JFYWNoKGooYyksZnVuY3Rpb24oYil7dmFyIGM9ZC4kd2F0Y2goYixmdW5jdGlvbihhLGIpe2EhPT1iJiZpKCl9KTthLnB1c2goYyl9KX0saT1mdW5jdGlvbigpe2woZiksZj1bXTt2YXIgZD1jLiRnZXRMYXN0Vmlld1Njb3BlKCksaT1jLmdldFN0YXRlc0NoYWluKCksaj1bXTtiLmZvckVhY2goaSxmdW5jdGlvbihiKXtpZihiLm5jeUJyZWFkY3J1bWImJmIubmN5QnJlYWRjcnVtYi5sYWJlbCl7dmFyIGM9YShiLm5jeUJyZWFkY3J1bWIubGFiZWwpO2oucHVzaChjKGQpKSxnKGYsYyxkKX1lbHNlIGoucHVzaChiLm5hbWUpfSksZS5uY3lCcmVhZGNydW1iQ2hhaW49ai5qb2luKGgpfTtkLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLGZ1bmN0aW9uKGEpe2EudGFyZ2V0U2NvcGUubmN5QnJlYWRjcnVtYklnbm9yZXx8aSgpfSksaSgpfX19fX12YXIgaj1mdW5jdGlvbihhKXtpZihhLmV4cHJlc3Npb25zKXJldHVybiBhLmV4cHJlc3Npb25zO3ZhciBjPVtdO3JldHVybiBiLmZvckVhY2goYS5wYXJ0cyxmdW5jdGlvbihhKXtiLmlzRnVuY3Rpb24oYSkmJmMucHVzaChhLmV4cCl9KSxjfSxrPWZ1bmN0aW9uKGEsYyxkLGUpe2IuZm9yRWFjaChqKGMpLGZ1bmN0aW9uKGIpe3ZhciBmPWQuJHdhdGNoKGIsZnVuY3Rpb24oKXtlLm5jeUJyZWFkY3J1bWJMYWJlbD1jKGQpfSk7YS5wdXNoKGYpfSl9LGw9ZnVuY3Rpb24oYSl7Yi5mb3JFYWNoKGEsZnVuY3Rpb24oYSl7YSgpfSl9O2cuJGluamVjdD1bXCIkaW50ZXJwb2xhdGVcIixcIiRicmVhZGNydW1iXCIsXCIkcm9vdFNjb3BlXCJdLGguJGluamVjdD1bXCIkaW50ZXJwb2xhdGVcIixcIiRicmVhZGNydW1iXCIsXCIkcm9vdFNjb3BlXCJdLGkuJGluamVjdD1bXCIkaW50ZXJwb2xhdGVcIixcIiRicmVhZGNydW1iXCIsXCIkcm9vdFNjb3BlXCJdLGIubW9kdWxlKFwibmN5LWFuZ3VsYXItYnJlYWRjcnVtYlwiLFtcInVpLnJvdXRlci5zdGF0ZVwiXSkucHJvdmlkZXIoXCIkYnJlYWRjcnVtYlwiLGYpLmRpcmVjdGl2ZShcIm5jeUJyZWFkY3J1bWJcIixnKS5kaXJlY3RpdmUoXCJuY3lCcmVhZGNydW1iTGFzdFwiLGgpLmRpcmVjdGl2ZShcIm5jeUJyZWFkY3J1bWJUZXh0XCIsaSl9KHdpbmRvdyx3aW5kb3cuYW5ndWxhcik7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvY29tcG9uZW50cy9hbmd1bGFyQnJlYWRjcnVtYi9hbmd1bGFyQnJlYWRjcnVtYi5qc1xuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuKGZ1bmN0aW9uIChtb21lbnQpIHtcblxuICAndXNlIHN0cmljdCc7XG4gIHZhciBtb2R1bGVOYW1lID0gXCJuZ01hdGVyaWFsRGF0ZVBpY2tlclwiO1xuXG4gIHZhciBWSUVXX1NUQVRFUyA9IHtcbiAgICBEQVRFOiAwLFxuICAgIEhPVVI6IDEsXG4gICAgTUlOVVRFOiAyXG4gIH07XG5cbiAgdmFyIGNzcyA9IGZ1bmN0aW9uIChlbCwgbmFtZSkge1xuICAgIGlmICgnalF1ZXJ5JyBpbiB3aW5kb3cpIHtcbiAgICAgIHJldHVybiBqUXVlcnkoZWwpLmNzcyhuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwgPSBhbmd1bGFyLmVsZW1lbnQoZWwpO1xuICAgICAgcmV0dXJuICgnZ2V0Q29tcHV0ZWRTdHlsZScgaW4gd2luZG93KSA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsWzBdKVtuYW1lXSA6IGVsLmNzcyhuYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHRlbXBsYXRlID0gJzxtZC1kaWFsb2cgY2xhc3M9XCJkdHBcIiBsYXlvdXQ9XCJjb2x1bW5cIiBzdHlsZT1cIndpZHRoOiAzMDBweDtcIj4nXG4gICAgKyAnICAgIDxtZC1kaWFsb2ctY29udGVudCBjbGFzcz1cImR0cC1jb250ZW50XCI+J1xuICAgICsgJyAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1kYXRlLXZpZXdcIj4nXG4gICAgKyAnICAgICAgICAgICAgPGhlYWRlciBjbGFzcz1cImR0cC1oZWFkZXJcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLWRheVwiIG5nLXNob3c9XCJwaWNrZXIuZGF0ZU1vZGVcIj57e3BpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoXCJkZGRkXCIpfX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLWRheVwiIG5nLXNob3c9XCJwaWNrZXIudGltZU1vZGVcIj57e3BpY2tlci5wYXJhbXMuc2hvcnRUaW1lID8gcGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcIkFcIikgOiBcIiBcIn19PC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWNsb3NlIHRleHQtcmlnaHRcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBuZy1jbGljaz1cInBpY2tlci5oaWRlKClcIj4mdGltZXM7PC9hPidcbiAgICArICcgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgIDwvaGVhZGVyPidcbiAgICArICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLWRhdGVcIiBuZy1zaG93PVwicGlja2VyLnBhcmFtcy5kYXRlXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGxheW91dD1cImNvbHVtblwiPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW1vbnRoXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiTU1NXCIpIHwgdXBwZXJjYXNlfX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbnVtXCI+e3twaWNrZXIuY3VycmVudERhdGUuZm9ybWF0KFwiRERcIil9fTwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPGRpdiBsYXlvdXQ9XCJyb3dcIj4nXG4gICAgKyAnIDxkaXYgbmctY2xpY2s9XCJwaWNrZXIuaW5jcmVtZW50WWVhcigtMSlcIiBjbGFzcz1cImR0cC15ZWFyLWJ0biBkdHAteWVhci1idG4tcHJldlwiIGZsZXg9XCIzMFwiPjxzcGFuIG5nLWlmPVwicGlja2VyLmlzUHJldmlvdXNZZWFyVmlzaWJsZSgpXCIgPiYjeDI1QjI7PC9zcGFuPjwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLXllYXJcIiBmbGV4Pnt7cGlja2VyLmN1cnJlbnREYXRlLmZvcm1hdChcIllZWVlcIil9fTwvZGl2PidcbiAgICArICcgPGRpdiBuZy1jbGljaz1cInBpY2tlci5pbmNyZW1lbnRZZWFyKDEpXCIgY2xhc3M9XCJkdHAteWVhci1idG4gZHRwLXllYXItYnRuLW5leHRcIiBmbGV4PVwiMzBcIj48c3BhbiBuZy1pZj1cInBpY2tlci5pc05leHRZZWFyVmlzaWJsZSgpXCIgPiYjeDI1QkM7PC9zcGFuPjwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgIDwvZGl2PicvL3N0YXJ0IHRpbWVcbiAgICArICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLXRpbWVcIiBuZy1zaG93PVwicGlja2VyLnBhcmFtcy50aW1lICYmICFwaWNrZXIucGFyYW1zLmRhdGVcIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtYWN0dWFsLW1heHRpbWVcIj57e3BpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKS5mb3JtYXQocGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBcImhoOm1tXCIgOiBcIkhIOm1tXCIpfX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkdHAtcGlja2VyXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhciBkYXRlPVwicGlja2VyLmN1cnJlbnREYXRlXCIgcGlja2VyPVwicGlja2VyXCIgY2xhc3M9XCJkdHAtcGlja2VyLWNhbGVuZGFyXCIgbmctc2hvdz1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLkRBVEVcIj48L21kYy1kYXRldGltZS1waWNrZXItY2FsZW5kYXI+J1xuICAgICsgJyAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHRwLXBpY2tlci1kYXRldGltZVwiIG5nLXNob3c9XCJwaWNrZXIuY3VycmVudFZpZXcgIT09IHBpY2tlci5WSUVXUy5EQVRFXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR0cC1hY3R1YWwtbWVyaWRpZW5cIj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZnQgcDIwXCI+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImR0cC1tZXJpZGllbi1hbVwiIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwaWNrZXIubWVyaWRpZW4gPT0gXFwnQU1cXCd9XCIgbmctY2xpY2s9XCJwaWNrZXIuc2VsZWN0QU0oKVwiPnt7cGlja2VyLnBhcmFtcy5hbVRleHR9fTwvYT4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctc2hvdz1cIiFwaWNrZXIudGltZU1vZGVcIiBjbGFzcz1cImR0cC1hY3R1YWwtdGltZSBwNjBcIj57e3BpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKS5mb3JtYXQocGlja2VyLnBhcmFtcy5zaG9ydFRpbWUgPyBcImhoOm1tXCIgOiBcIkhIOm1tXCIpfX08L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0IHAyMFwiPidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBtZGMtZHRwLW5vY2xpY2sgY2xhc3M9XCJkdHAtbWVyaWRpZW4tcG1cIiBuZy1jbGFzcz1cIntzZWxlY3RlZDogcGlja2VyLm1lcmlkaWVuID09IFxcJ1BNXFwnfVwiIG5nLWNsaWNrPVwicGlja2VyLnNlbGVjdFBNKClcIj57e3BpY2tlci5wYXJhbXMucG1UZXh0fX08L2E+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICAgICAgICAgICAgICA8bWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jayBtb2RlPVwiaG91cnNcIiBuZy1pZj1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLkhPVVJcIj48L21kYy1kYXRldGltZS1waWNrZXItY2xvY2s+J1xuICAgICsgJyAgICAgICAgICAgICAgICAgICAgPG1kYy1kYXRldGltZS1waWNrZXItY2xvY2sgbW9kZT1cIm1pbnV0ZXNcIiBuZy1pZj1cInBpY2tlci5jdXJyZW50VmlldyA9PT0gcGlja2VyLlZJRVdTLk1JTlVURVwiPjwvbWRjLWRhdGV0aW1lLXBpY2tlci1jbG9jaz4nXG4gICAgKyAnICAgICAgICAgICAgICAgIDwvZGl2PidcbiAgICArICcgICAgICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgICAgICA8L2Rpdj4nXG4gICAgKyAnICAgIDwvbWQtZGlhbG9nLWNvbnRlbnQ+J1xuICAgICsgJyAgICA8bWQtZGlhbG9nLWFjdGlvbnMgY2xhc3M9XCJkdHAtYnV0dG9uc1wiPidcbiAgICArICcgICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwiZHRwLWJ0bi1jYW5jZWwgbWQtYnV0dG9uXCIgbmctY2xpY2s9XCJwaWNrZXIuY2FuY2VsKClcIj4ge3twaWNrZXIucGFyYW1zLmNhbmNlbFRleHR9fTwvbWQtYnV0dG9uPidcbiAgICArICcgICAgICAgICAgICA8bWQtYnV0dG9uIGNsYXNzPVwiZHRwLWJ0bi1vayBtZC1idXR0b25cIiBuZy1jbGljaz1cInBpY2tlci5vaygpXCI+IHt7cGlja2VyLnBhcmFtcy5va1RleHR9fTwvbWQtYnV0dG9uPidcbiAgICArICcgICAgICA8L21kLWRpYWxvZy1hY3Rpb25zPidcbiAgICArICc8L21kLWRpYWxvZz4nO1xuXG5cbiAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSwgWyduZ01hdGVyaWFsJ10pXG4gICAgLnByb3ZpZGVyKCdtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmxvY2FsZSA9ICdlbic7XG5cbiAgICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5zZXREZWZhdWx0TG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZVN0cmluZykge1xuICAgICAgICB0aGlzLmxvY2FsZSA9IGxvY2FsZVN0cmluZztcbiAgICAgIH07XG4gICAgfSlcbiAgICAuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlcicsIFsnJG1kRGlhbG9nJyxcbiAgICAgIGZ1bmN0aW9uICgkbWREaWFsb2cpIHtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBjdXJyZW50RGF0ZTogJz1uZ01vZGVsJyxcbiAgICAgICAgICAgIHRpbWU6ICc9JyxcbiAgICAgICAgICAgIGRhdGU6ICc9JyxcbiAgICAgICAgICAgIG1pbkRhdGU6ICc9JyxcbiAgICAgICAgICAgIG1heERhdGU6ICc9JyxcbiAgICAgICAgICAgIHNob3J0VGltZTogJz0nLFxuICAgICAgICAgICAgZm9ybWF0OiAnQCcsXG4gICAgICAgICAgICBjYW5jZWxUZXh0OiAnQCcsXG4gICAgICAgICAgICBva1RleHQ6ICdAJyxcbiAgICAgICAgICAgIGxhbmc6ICdAJyxcbiAgICAgICAgICAgIGFtVGV4dDogJ0AnLFxuICAgICAgICAgICAgcG1UZXh0OiAnQCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBpc09uID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIXNjb3BlLmZvcm1hdCkge1xuICAgICAgICAgICAgICBpZiAoc2NvcGUuZGF0ZSAmJiBzY29wZS50aW1lKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ1lZWVktTU0tREQgSEg6bW06c3MnO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNjb3BlLmRhdGUpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JtYXQgPSAnWVlZWS1NTS1ERCc7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9ybWF0ID0gJ0hIOm1tJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhzY29wZS5jdXJyZW50RGF0ZSkgJiYgc2NvcGUuY3VycmVudERhdGUgIT09ICcnKSB7XG4gICAgICAgICAgICAgIHNjb3BlLmN1cnJlbnREYXRlID0gbW9tZW50KHNjb3BlLmN1cnJlbnREYXRlLCBzY29wZS5mb3JtYXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmdNb2RlbCkge1xuICAgICAgICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG0gPSBtb21lbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtLmlzVmFsaWQoKSA/IG0uZm9ybWF0KHNjb3BlLmZvcm1hdCkgOiAnJztcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cigncmVhZG9ubHknLCAnJyk7XG4gICAgICAgICAgICAvL0BUT0RPIGN1c3RvbSBldmVudCB0byB0cmlnZ2VyIGlucHV0XG4gICAgICAgICAgICBlbGVtZW50Lm9uKCdmb2N1cycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgZWxlbWVudC5ibHVyKCk7XG4gICAgICAgICAgICAgIGlmIChpc09uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlzT24gPSB0cnVlO1xuICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmhhc093blByb3BlcnR5KGkpICYmICFhbmd1bGFyLmlzVW5kZWZpbmVkKHNjb3BlW2ldKSkge1xuICAgICAgICAgICAgICAgICAgb3B0aW9uc1tpXSA9IHNjb3BlW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvcHRpb25zLmN1cnJlbnREYXRlID0gc2NvcGUuY3VycmVudERhdGU7XG4gICAgICAgICAgICAgIHZhciBsb2NhbHMgPSB7b3B0aW9uczogb3B0aW9uc307XG4gICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogUGx1Z2luQ29udHJvbGxlcixcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwaWNrZXInLFxuICAgICAgICAgICAgICAgIGxvY2FsczogbG9jYWxzLFxuICAgICAgICAgICAgICAgIG9wZW5Gcm9tOiBlbGVtZW50LFxuICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxuICAgICAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbDogZmFsc2VcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgc2NvcGUuY3VycmVudERhdGUgPSB2ID8gdi5fZCA6IHY7XG4gICAgICAgICAgICAgICAgICBpc09uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgaXNPbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1dKVxuICA7XG5cbiAgdmFyIFBsdWdpbkNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoJHNjb3BlLCAkbWREaWFsb2csIG1kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSkge1xuICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5EQVRFO1xuICAgIHRoaXMuX2RpYWxvZyA9ICRtZERpYWxvZztcblxuICAgIHRoaXMubWluRGF0ZTtcbiAgICB0aGlzLm1heERhdGU7XG5cbiAgICB0aGlzLl9hdHRhY2hlZEV2ZW50cyA9IFtdO1xuICAgIHRoaXMuVklFV1MgPSBWSUVXX1NUQVRFUztcblxuICAgIHRoaXMucGFyYW1zID0ge1xuICAgICAgZGF0ZTogdHJ1ZSxcbiAgICAgIHRpbWU6IHRydWUsXG4gICAgICBmb3JtYXQ6ICdZWVlZLU1NLUREJyxcbiAgICAgIG1pbkRhdGU6IG51bGwsXG4gICAgICBtYXhEYXRlOiBudWxsLFxuICAgICAgY3VycmVudERhdGU6IG51bGwsXG4gICAgICBsYW5nOiBtZGNEYXRldGltZVBpY2tlckRlZmF1bHRMb2NhbGUsXG4gICAgICB3ZWVrU3RhcnQ6IDAsXG4gICAgICBzaG9ydFRpbWU6IGZhbHNlLFxuICAgICAgY2FuY2VsVGV4dDogJ0NhbmNlbCcsXG4gICAgICBva1RleHQ6ICdPSycsXG4gICAgICBhbVRleHQ6ICdBTScsXG4gICAgICBwbVRleHQ6ICdQTSdcbiAgICB9O1xuXG4gICAgdGhpcy5tZXJpZGllbiA9ICdBTSc7XG4gICAgdGhpcy5wYXJhbXMgPSBhbmd1bGFyLmV4dGVuZCh0aGlzLnBhcmFtcywgdGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfTtcbiAgUGx1Z2luQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJG1kRGlhbG9nJywgJ21kY0RhdGV0aW1lUGlja2VyRGVmYXVsdExvY2FsZSddO1xuICBQbHVnaW5Db250cm9sbGVyLnByb3RvdHlwZSA9IHtcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnRpbWVNb2RlID0gdGhpcy5wYXJhbXMudGltZSAmJiAhdGhpcy5wYXJhbXMuZGF0ZTtcbiAgICAgIHRoaXMuZGF0ZU1vZGUgPSB0aGlzLnBhcmFtcy5kYXRlO1xuICAgICAgdGhpcy5pbml0RGF0ZXMoKTtcbiAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9LFxuICAgIGN1cnJlbnROZWFyZXN0NU1pbnV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRhdGUgPSB0aGlzLmN1cnJlbnREYXRlIHx8IG1vbWVudCgpO1xuICAgICAgdmFyIG1pbnV0ZXMgPSAoNSAqIE1hdGgucm91bmQoZGF0ZS5taW51dGUoKSAvIDUpKTtcbiAgICAgIGlmIChtaW51dGVzID49IDYwKSB7XG4gICAgICAgIG1pbnV0ZXMgPSA1NTsgLy9hbHdheXMgcHVzaCBkb3duXG4gICAgICB9XG4gICAgICByZXR1cm4gbW9tZW50KGRhdGUpLm1pbnV0ZXMobWludXRlcyk7XG4gICAgfSxcbiAgICBpbml0RGF0ZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgIHZhciBfZGF0ZVBhcmFtID0gZnVuY3Rpb24gKGlucHV0LCBmYWxsYmFjaykge1xuICAgICAgICB2YXIgcmV0ID0gbnVsbDtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGlucHV0KSAmJiBpbnB1dCAhPT0gbnVsbCAmJiBpbnB1dCAhPT0gJycpIHtcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhpbnB1dCkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YodGhhdC5wYXJhbXMuZm9ybWF0KSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhhdC5wYXJhbXMuZm9ybWF0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHJldCA9IG1vbWVudChpbnB1dCwgdGhhdC5wYXJhbXMuZm9ybWF0KS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0ID0gbW9tZW50KGlucHV0KS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKGlucHV0KSkge1xuICAgICAgICAgICAgICB2YXIgeCA9IGlucHV0LmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgcmV0ID0gbW9tZW50KHgsIFwieFwiKS5sb2NhbGUodGhhdC5wYXJhbXMubGFuZyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0Ll9pc0FNb21lbnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgcmV0ID0gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldCA9IGZhbGxiYWNrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmN1cnJlbnREYXRlID0gX2RhdGVQYXJhbSh0aGlzLnBhcmFtcy5jdXJyZW50RGF0ZSwgbW9tZW50KCkpO1xuICAgICAgdGhpcy5taW5EYXRlID0gX2RhdGVQYXJhbSh0aGlzLnBhcmFtcy5taW5EYXRlKTtcbiAgICAgIHRoaXMubWF4RGF0ZSA9IF9kYXRlUGFyYW0odGhpcy5wYXJhbXMubWF4RGF0ZSk7XG4gICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZSk7XG4gICAgfSxcbiAgICBpbml0RGF0ZTogZnVuY3Rpb24gKGQpIHtcbiAgICAgIHRoaXMuY3VycmVudFZpZXcgPSBWSUVXX1NUQVRFUy5EQVRFO1xuICAgIH0sXG4gICAgaW5pdEhvdXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuSE9VUjtcbiAgICB9LFxuICAgIGluaXRNaW51dGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gVklFV19TVEFURVMuTUlOVVRFO1xuICAgIH0sXG4gICAgaXNBZnRlck1pbkRhdGU6IGZ1bmN0aW9uIChkYXRlLCBjaGVja0hvdXIsIGNoZWNrTWludXRlKSB7XG4gICAgICB2YXIgX3JldHVybiA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YodGhpcy5taW5EYXRlKSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5taW5EYXRlICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBfbWluRGF0ZSA9IG1vbWVudCh0aGlzLm1pbkRhdGUpO1xuICAgICAgICB2YXIgX2RhdGUgPSBtb21lbnQoZGF0ZSk7XG5cbiAgICAgICAgaWYgKCFjaGVja0hvdXIgJiYgIWNoZWNrTWludXRlKSB7XG4gICAgICAgICAgX21pbkRhdGUuaG91cigwKTtcbiAgICAgICAgICBfbWluRGF0ZS5taW51dGUoMCk7XG5cbiAgICAgICAgICBfZGF0ZS5ob3VyKDApO1xuICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9taW5EYXRlLnNlY29uZCgwKTtcbiAgICAgICAgX2RhdGUuc2Vjb25kKDApO1xuICAgICAgICBfbWluRGF0ZS5taWxsaXNlY29uZCgwKTtcbiAgICAgICAgX2RhdGUubWlsbGlzZWNvbmQoMCk7XG5cbiAgICAgICAgaWYgKCFjaGVja01pbnV0ZSkge1xuICAgICAgICAgIF9kYXRlLm1pbnV0ZSgwKTtcbiAgICAgICAgICBfbWluRGF0ZS5taW51dGUoMCk7XG5cbiAgICAgICAgICBfcmV0dXJuID0gKHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpID49IHBhcnNlSW50KF9taW5EYXRlLmZvcm1hdChcIlhcIikpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBfcmV0dXJuID0gKHBhcnNlSW50KF9kYXRlLmZvcm1hdChcIlhcIikpID49IHBhcnNlSW50KF9taW5EYXRlLmZvcm1hdChcIlhcIikpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3JldHVybjtcbiAgICB9LFxuICAgIGlzQmVmb3JlTWF4RGF0ZTogZnVuY3Rpb24gKGRhdGUsIGNoZWNrVGltZSwgY2hlY2tNaW51dGUpIHtcbiAgICAgIHZhciBfcmV0dXJuID0gdHJ1ZTtcblxuICAgICAgaWYgKHR5cGVvZih0aGlzLm1heERhdGUpICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm1heERhdGUgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIF9tYXhEYXRlID0gbW9tZW50KHRoaXMubWF4RGF0ZSk7XG4gICAgICAgIHZhciBfZGF0ZSA9IG1vbWVudChkYXRlKTtcblxuICAgICAgICBpZiAoIWNoZWNrVGltZSAmJiAhY2hlY2tNaW51dGUpIHtcbiAgICAgICAgICBfbWF4RGF0ZS5ob3VyKDApO1xuICAgICAgICAgIF9tYXhEYXRlLm1pbnV0ZSgwKTtcblxuICAgICAgICAgIF9kYXRlLmhvdXIoMCk7XG4gICAgICAgICAgX2RhdGUubWludXRlKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgX21heERhdGUuc2Vjb25kKDApO1xuICAgICAgICBfZGF0ZS5zZWNvbmQoMCk7XG4gICAgICAgIF9tYXhEYXRlLm1pbGxpc2Vjb25kKDApO1xuICAgICAgICBfZGF0ZS5taWxsaXNlY29uZCgwKTtcblxuICAgICAgICBpZiAoIWNoZWNrTWludXRlKSB7XG4gICAgICAgICAgX2RhdGUubWludXRlKDApO1xuICAgICAgICAgIF9tYXhEYXRlLm1pbnV0ZSgwKTtcblxuICAgICAgICAgIF9yZXR1cm4gPSAocGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPD0gcGFyc2VJbnQoX21heERhdGUuZm9ybWF0KFwiWFwiKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIF9yZXR1cm4gPSAocGFyc2VJbnQoX2RhdGUuZm9ybWF0KFwiWFwiKSkgPD0gcGFyc2VJbnQoX21heERhdGUuZm9ybWF0KFwiWFwiKSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmV0dXJuO1xuICAgIH0sXG4gICAgc2VsZWN0RGF0ZTogZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudERhdGUgPSBtb21lbnQoZGF0ZSk7XG4gICAgICAgIGlmICghdGhpcy5pc0FmdGVyTWluRGF0ZSh0aGlzLmN1cnJlbnREYXRlKSkge1xuICAgICAgICAgIHRoaXMuY3VycmVudERhdGUgPSBtb21lbnQodGhpcy5taW5EYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5pc0JlZm9yZU1heERhdGUodGhpcy5jdXJyZW50RGF0ZSkpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbW9tZW50KHRoaXMubWF4RGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50RGF0ZS5sb2NhbGUodGhpcy5wYXJhbXMubGFuZyk7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJTdGFydCA9IG1vbWVudCh0aGlzLmN1cnJlbnREYXRlKTtcbiAgICAgICAgdGhpcy5tZXJpZGllbiA9IHRoaXMuY3VycmVudERhdGUuaG91cigpID49IDEyID8gJ1BNJyA6ICdBTSc7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXROYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGV4dCA9IFwiXCI7XG4gICAgICB2YXIgcG9zc2libGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgIHRleHQgKz0gcG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlLmxlbmd0aCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9LFxuICAgIGlzUE06IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lcmlkaWVuID09PSAnUE0nO1xuICAgIH0sXG4gICAgaW5jcmVtZW50WWVhcjogZnVuY3Rpb24gKGFtb3VudCkge1xuICAgICAgaWYgKGFtb3VudCA9PT0gMSAmJiB0aGlzLmlzTmV4dFllYXJWaXNpYmxlKCkpIHtcbiAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuYWRkKCd5ZWFyJywgYW1vdW50KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbW91bnQgPT09IC0xICYmIHRoaXMuaXNQcmV2aW91c1llYXJWaXNpYmxlKCkpIHtcbiAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuYWRkKCd5ZWFyJywgYW1vdW50KSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc1ByZXZpb3VzTW9udGhWaXNpYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNBZnRlck1pbkRhdGUobW9tZW50KHRoaXMuY2FsZW5kYXJTdGFydCkuc3RhcnRPZignbW9udGgnKSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9LFxuICAgIGlzTmV4dE1vbnRoVmlzaWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShtb21lbnQodGhpcy5jYWxlbmRhclN0YXJ0KS5lbmRPZignbW9udGgnKSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9LFxuICAgIGlzUHJldmlvdXNZZWFyVmlzaWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXJTdGFydCAmJiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLnN0YXJ0T2YoJ3llYXInKSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9LFxuICAgIGlzTmV4dFllYXJWaXNpYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclN0YXJ0ICYmIHRoaXMuaXNCZWZvcmVNYXhEYXRlKG1vbWVudCh0aGlzLmNhbGVuZGFyU3RhcnQpLmVuZE9mKCd5ZWFyJyksIGZhbHNlLCBmYWxzZSk7XG4gICAgfSxcbiAgICBpc0hvdXJBdmFpbGFibGU6IGZ1bmN0aW9uIChob3VyKSB7XG4gICAgICB2YXIgX2RhdGUgPSBtb21lbnQodGhpcy5jdXJyZW50RGF0ZSk7XG4gICAgICBfZGF0ZS5ob3VyKHRoaXMuY29udmVydEhvdXJzKGhvdXIpKS5taW51dGUoMCkuc2Vjb25kKDApO1xuICAgICAgcmV0dXJuIHRoaXMuaXNBZnRlck1pbkRhdGUoX2RhdGUsIHRydWUsIGZhbHNlKSAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShfZGF0ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgIH0sXG4gICAgaXNNaW51dGVBdmFpbGFibGU6IGZ1bmN0aW9uIChtaW51dGUpIHtcbiAgICAgIHZhciBfZGF0ZSA9IG1vbWVudCh0aGlzLmN1cnJlbnREYXRlKTtcbiAgICAgIF9kYXRlLm1pbnV0ZShtaW51dGUpLnNlY29uZCgwKTtcbiAgICAgIHJldHVybiB0aGlzLmlzQWZ0ZXJNaW5EYXRlKF9kYXRlLCB0cnVlLCB0cnVlKSAmJiB0aGlzLmlzQmVmb3JlTWF4RGF0ZShfZGF0ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBzdGFydDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jdXJyZW50VmlldyA9IFZJRVdfU1RBVEVTLkRBVEU7XG4gICAgICAvL3RoaXMuaW5pdERhdGVzKCk7XG4gICAgICBpZiAodGhpcy5wYXJhbXMuZGF0ZSkge1xuICAgICAgICB0aGlzLmluaXREYXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMudGltZSkge1xuICAgICAgICAgIHRoaXMuaW5pdEhvdXJzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG9rOiBmdW5jdGlvbiAoKSB7XG4gICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFZpZXcpIHtcbiAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5EQVRFOlxuICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy50aW1lID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRIb3VycygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVklFV19TVEFURVMuSE9VUjpcbiAgICAgICAgICB0aGlzLmluaXRNaW51dGVzKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgVklFV19TVEFURVMuTUlOVVRFOlxuICAgICAgICAgIHRoaXMuaGlkZSh0cnVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMucGFyYW1zLnRpbWUpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRWaWV3KSB7XG4gICAgICAgICAgY2FzZSBWSUVXX1NUQVRFUy5EQVRFOlxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLkhPVVI6XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMuZGF0ZSkge1xuICAgICAgICAgICAgICB0aGlzLmluaXREYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFZJRVdfU1RBVEVTLk1JTlVURTpcbiAgICAgICAgICAgIHRoaXMuaW5pdEhvdXJzKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2VsZWN0TW9udGhCZWZvcmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5zdWJ0cmFjdCgxLCAnbW9udGhzJyk7XG4gICAgfSxcbiAgICBzZWxlY3RNb250aEFmdGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbGVuZGFyU3RhcnQuYWRkKDEsICdtb250aHMnKTtcbiAgICB9LFxuICAgIHNlbGVjdFllYXJCZWZvcmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJTdGFydC5zdWJ0cmFjdCgxLCAneWVhcnMnKTtcbiAgICB9LFxuICAgIHNlbGVjdFllYXJBZnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYWxlbmRhclN0YXJ0LmFkZCgxLCAneWVhcnMnKTtcbiAgICB9LFxuICAgIHNlbGVjdEFNOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5pc0hvdXJBdmFpbGFibGUoMCkgfHwgdGhpcy5pc0hvdXJBdmFpbGFibGUoMTIpKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSA+PSAxMikge1xuICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLnN1YnRyYWN0KDEyLCAnaG91cnMnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzSG91ckF2YWlsYWJsZSh0aGlzLmN1cnJlbnREYXRlLmhvdXIoKSkpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKHRoaXMubWluRGF0ZS5ob3VyKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNNaW51dGVBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUoKSkpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5jdXJyZW50RGF0ZS5taW51dGUodGhpcy5taW5EYXRlLm1pbnV0ZSgpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdFBNOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5pc0hvdXJBdmFpbGFibGUoMTMpIHx8IHRoaXMuaXNIb3VyQXZhaWxhYmxlKDI0KSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkgPCAxMikge1xuICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZSh0aGlzLmN1cnJlbnREYXRlLmFkZCgxMiwgJ2hvdXJzJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0hvdXJBdmFpbGFibGUodGhpcy5jdXJyZW50RGF0ZS5ob3VyKCkpKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUuaG91cih0aGlzLm1heERhdGUuaG91cigpKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzTWludXRlQXZhaWxhYmxlKHRoaXMuY3VycmVudERhdGUubWludXRlKCkpKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMuY3VycmVudERhdGUubWludXRlKHRoaXMubWF4RGF0ZS5taW51dGUoKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjb252ZXJ0SG91cnM6IGZ1bmN0aW9uIChoKSB7XG4gICAgICB2YXIgX3JldHVybiA9IGg7XG4gICAgICBpZiAoKGggPCAxMikgJiYgdGhpcy5pc1BNKCkpXG4gICAgICAgIF9yZXR1cm4gKz0gMTI7XG5cbiAgICAgIHJldHVybiBfcmV0dXJuO1xuICAgIH0sXG4gICAgaGlkZTogZnVuY3Rpb24gKG9rQnRuKSB7XG4gICAgICBpZiAob2tCdG4pIHtcbiAgICAgICAgdGhpcy5fZGlhbG9nLmhpZGUodGhpcy5jdXJyZW50RGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9kaWFsb2cuY2FuY2VsKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG5cbiAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSlcbiAgICAuZGlyZWN0aXZlKCdtZGNEYXRldGltZVBpY2tlckNhbGVuZGFyJywgW1xuICAgICAgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBzdGFydERhdGUgPSBtb21lbnQoKSxcbiAgICAgICAgICBZRUFSX01JTiA9IDE5MDAsXG4gICAgICAgICAgWUVBUl9NQVggPSAyMTAwLFxuICAgICAgICAgIE1PTlRIU19JTl9BTEwgPSAoWUVBUl9NQVggLSBZRUFSX01JTiArIDEpICogMTIsXG4gICAgICAgICAgSVRFTV9IRUlHSFQgPSAyNDAsXG4gICAgICAgICAgTU9OVEhTID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTU9OVEhTX0lOX0FMTDsgaSsrKSB7XG4gICAgICAgICAgTU9OVEhTLnB1c2goaSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VycmVudE1vbnRoSW5kZXggPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgIHZhciB5ZWFyID0gZGF0ZS55ZWFyKCk7XG4gICAgICAgICAgdmFyIG1vbnRoID0gZGF0ZS5tb250aCgpO1xuICAgICAgICAgIHJldHVybiAoKHllYXIgLSBZRUFSX01JTikgKiAxMikgKyBtb250aCAtIDE7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBwaWNrZXI6ICc9JyxcbiAgICAgICAgICAgIGRhdGU6ICc9J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgICAgICBjb250cm9sbGVyQXM6ICdjYWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAgICAgICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwaWNrZXIgPSB0aGlzLnBpY2tlcixcbiAgICAgICAgICAgICAgICBkYXlzID0gW107XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHBpY2tlci5wYXJhbXMud2Vla1N0YXJ0OyBkYXlzLmxlbmd0aCA8IDc7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpID4gNikge1xuICAgICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRheXMucHVzaChpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2FsZW5kYXIud2VlayA9IGRheXM7XG4gICAgICAgICAgICAgIGlmICghcGlja2VyLm1heERhdGUgJiYgIXBpY2tlci5taW5EYXRlKSB7XG4gICAgICAgICAgICAgICAgY2FsZW5kYXIubW9udGhzID0gTU9OVEhTO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsb3cgPSBwaWNrZXIubWluRGF0ZSA/IGN1cnJlbnRNb250aEluZGV4KHBpY2tlci5taW5EYXRlKSA6IDA7XG4gICAgICAgICAgICAgICAgdmFyIGhpZ2ggPSBwaWNrZXIubWF4RGF0ZSA/IChjdXJyZW50TW9udGhJbmRleChwaWNrZXIubWF4RGF0ZSkgKyAxKSA6IE1PTlRIU19JTl9BTEw7XG4gICAgICAgICAgICAgICAgY2FsZW5kYXIubW9udGhzID0gTU9OVEhTLnNsaWNlKGxvdywgaGlnaCk7XG4gICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLmdldEl0ZW1BdEluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gKChpbmRleCArIDEpICUgMTIpIHx8IDEyO1xuICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gWUVBUl9NSU4gKyBNYXRoLmZsb29yKGluZGV4IC8gMTIpO1xuICAgICAgICAgICAgICAgIHZhciBtb250aE9iaiA9IG1vbWVudChwaWNrZXIuY3VycmVudERhdGUpXG4gICAgICAgICAgICAgICAgICAueWVhcih5ZWFyKVxuICAgICAgICAgICAgICAgICAgLm1vbnRoKG1vbnRoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVNb250aENhbGVuZGFyKG1vbnRoT2JqKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBjYWxlbmRhci50b3BJbmRleCA9IGN1cnJlbnRNb250aEluZGV4KHBpY2tlci5jdXJyZW50RGF0ZSkgLSBjYWxlbmRhci5tb250aHNbMF07XG5cbiAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlci5jdXJyZW50RGF0ZSA/IHBpY2tlci5jdXJyZW50RGF0ZS5mb3JtYXQoJ1lZWVktTU0nKSA6ICcnO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodmFsMiwgdmFsMSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWwyICE9IHZhbDEpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBuRGF0ZSA9IG1vbWVudCh2YWwyLCAnWVlZWS1NTScpO1xuICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gY3VycmVudE1vbnRoSW5kZXgobkRhdGUpO1xuICAgICAgICAgICAgICAgICAgaWYgKGNhbGVuZGFyLnRvcEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGVuZGFyLnRvcEluZGV4ID0gaW5kZXggLSBjYWxlbmRhci5tb250aHNbMF07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICB2YXIgZ2VuZXJhdGVNb250aENhbGVuZGFyID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW9udGggPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgbW9udGgubmFtZSA9IGRhdGUuZm9ybWF0KCdNTU1NIFlZWVknKTtcbiAgICAgICAgICAgICAgICAgIHZhciBzdGFydE9mTW9udGggPSBtb21lbnQoZGF0ZSkubG9jYWxlKHBpY2tlci5wYXJhbXMubGFuZykuc3RhcnRPZignbW9udGgnKVxuICAgICAgICAgICAgICAgICAgICAgIC5ob3VyKGRhdGUuaG91cigpKVxuICAgICAgICAgICAgICAgICAgICAgIC5taW51dGUoZGF0ZS5taW51dGUoKSlcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgdmFyIGlOdW1EYXkgPSBzdGFydE9mTW9udGguZm9ybWF0KCdkJyk7XG4gICAgICAgICAgICAgICAgICBtb250aC5kYXlzID0gW107XG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRPZk1vbnRoLmRhdGUoKTsgaSA8PSBzdGFydE9mTW9udGguZGF5c0luTW9udGgoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBzdGFydE9mTW9udGguZGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGlXZWVrID0gY2FsZW5kYXIud2Vlay5pbmRleE9mKGlOdW1EYXkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlXZWVrID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBpV2VlazsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoLmRheXMucHVzaCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbW9udGguZGF5cy5wdXNoKG1vbWVudChzdGFydE9mTW9udGgpLmxvY2FsZShwaWNrZXIucGFyYW1zLmxhbmcpLmRhdGUoaSkpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICB2YXIgZGF5c0luQVdlZWsgPSA3LCBkYXlzVG1wID0gW10sIHNsaWNlcyA9IE1hdGguY2VpbChtb250aC5kYXlzLmxlbmd0aCAvIGRheXNJbkFXZWVrKTtcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2xpY2VzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5c1RtcC5wdXNoKG1vbnRoLmRheXMuc2xpY2UoaiAqIGRheXNJbkFXZWVrLCAoaiArIDEpICogZGF5c0luQVdlZWspKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIG1vbnRoLmRheXMgPSBkYXlzVG1wO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbnRoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLnRvRGF5ID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KHBhcnNlSW50KGkpLCBcImRcIilcbiAgICAgICAgICAgICAgICAgIC5sb2NhbGUocGlja2VyLnBhcmFtcy5sYW5nKVxuICAgICAgICAgICAgICAgICAgLmZvcm1hdChcImRkXCIpXG4gICAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKDAsIDEpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLmlzSW5SYW5nZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlci5pc0FmdGVyTWluRGF0ZShtb21lbnQoZGF0ZSksIGZhbHNlLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICYmIHBpY2tlci5pc0JlZm9yZU1heERhdGUobW9tZW50KGRhdGUpLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGNhbGVuZGFyLnNlbGVjdERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY2FsZW5kYXIuaXNTZWxlY3RlZERheShkYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGlja2VyLm9rKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBwaWNrZXIuc2VsZWN0RGF0ZShtb21lbnQoZGF0ZSkuaG91cihjYWxlbmRhci5kYXRlLmhvdXIoKSkubWludXRlKGNhbGVuZGFyLmRhdGUubWludXRlKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgY2FsZW5kYXIuaXNTZWxlY3RlZERheSA9IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG0gJiYgY2FsZW5kYXIuZGF0ZS5kYXRlKCkgPT09IG0uZGF0ZSgpICYmIGNhbGVuZGFyLmRhdGUubW9udGgoKSA9PT0gbS5tb250aCgpICYmIGNhbGVuZGFyLmRhdGUueWVhcigpID09PSBtLnllYXIoKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgdGVtcGxhdGU6ICc8bWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyIG1kLXRvcC1pbmRleD1cImNhbC50b3BJbmRleFwiIGNsYXNzPVwibW9udGhzXCI+JyArXG4gICAgICAgICAgJzxkaXYgbWQtdmlydHVhbC1yZXBlYXQ9XCJpZHggaW4gY2FsLm1vbnRoc1wiIG1kLXN0YXJ0LWluZGV4PVwiY2FsLnRvcEluZGV4XCIgbWQtaXRlbS1zaXplPVwiJyArIElURU1fSEVJR0hUICsgJ1wiPicgK1xuICAgICAgICAgICcgICAgIDxkaXYgbWRjLWRhdGV0aW1lLXBpY2tlci1jYWxlbmRhci1tb250aCBpZHg9XCJpZHhcIj48L2Rpdj4nICtcbiAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgJzwvbWQtdmlydHVhbC1yZXBlYXQtY29udGFpbmVyPidcbiAgICAgICAgfTtcbiAgICAgIH1dKVxuICAgIC5kaXJlY3RpdmUoJ21kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXJNb250aCcsIFsnJGNvbXBpbGUnLFxuICAgICAgZnVuY3Rpb24gKCRjb21waWxlKSB7XG4gICAgICAgIHZhciBidWlsZENhbGVuZGFyQ29udGVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBzY29wZSkge1xuICAgICAgICAgIHZhciB0Ym9keSA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5JykpO1xuICAgICAgICAgIHZhciBjYWxlbmRhciA9IHNjb3BlLmNhbCwgbW9udGggPSBzY29wZS5tb250aDtcbiAgICAgICAgICB0Ym9keS5odG1sKCcnKTtcbiAgICAgICAgICBtb250aC5kYXlzLmZvckVhY2goZnVuY3Rpb24gKHdlZWtEYXlzLCBpKSB7XG4gICAgICAgICAgICB2YXIgdHIgPSBhbmd1bGFyLmVsZW1lbnQoJzx0cj48L3RyPicpO1xuICAgICAgICAgICAgd2Vla0RheXMuZm9yRWFjaChmdW5jdGlvbiAod2Vla0RheSwgaikge1xuICAgICAgICAgICAgICB2YXIgdGQgPSBhbmd1bGFyLmVsZW1lbnQoJzx0ZD4gPC90ZD4nKTtcbiAgICAgICAgICAgICAgaWYgKHdlZWtEYXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYU9yU3BhbjtcbiAgICAgICAgICAgICAgICBpZiAoY2FsZW5kYXIuaXNJblJhbmdlKHdlZWtEYXkpKSB7XG4gICAgICAgICAgICAgICAgICAvL2J1aWxkIGFcbiAgICAgICAgICAgICAgICAgIHZhciBzY29wZVJlZiA9ICdtb250aFtcImRheXNcIl1bJyArIGkgKyAnXVsnICsgaiArICddJztcbiAgICAgICAgICAgICAgICAgIGFPclNwYW4gPSBhbmd1bGFyLmVsZW1lbnQoXCI8YSBocmVmPScjJyBtZGMtZHRwLW5vY2xpY2s+PC9hPlwiKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignbmctY2xhc3MnLCAne3NlbGVjdGVkOiBjYWwuaXNTZWxlY3RlZERheSgnICsgc2NvcGVSZWYgKyAnKX0nKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignbmctY2xpY2snLCAnY2FsLnNlbGVjdERhdGUoJyArIHNjb3BlUmVmICsgJyknKVxuICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBhT3JTcGFuID0gYW5ndWxhci5lbGVtZW50KCc8c3Bhbj48L3NwYW4+JylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYU9yU3BhblxuICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdkdHAtc2VsZWN0LWRheScpXG4gICAgICAgICAgICAgICAgICAuaHRtbCh3ZWVrRGF5LmZvcm1hdCgnRCcpKTtcbiAgICAgICAgICAgICAgICB0ZC5hcHBlbmQoYU9yU3Bhbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdHIuYXBwZW5kKHRkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGJvZHkuYXBwZW5kKHRyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkY29tcGlsZSh0Ym9keSkoc2NvcGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIGlkeDogJz0nXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXF1aXJlOiAnXm1kY0RhdGV0aW1lUGlja2VyQ2FsZW5kYXInLFxuICAgICAgICAgIHJlc3RyaWN0OiAnQUUnLFxuICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImR0cC1waWNrZXItbW9udGhcIj57e21vbnRoLm5hbWV9fTwvZGl2PidcbiAgICAgICAgICArICc8dGFibGUgY2xhc3M9XCJ0YWJsZSBkdHAtcGlja2VyLWRheXNcIj4nXG4gICAgICAgICAgKyAnICAgIDx0aGVhZD4nXG4gICAgICAgICAgKyAnICAgIDx0cj4nXG4gICAgICAgICAgKyAnICAgICAgICA8dGggbmctcmVwZWF0PVwiZGF5IGluIGNhbC53ZWVrXCI+e3tjYWwudG9EYXkoZGF5KX19PC90aD4nXG4gICAgICAgICAgKyAnICAgIDwvdHI+J1xuICAgICAgICAgICsgJyAgICA8L3RoZWFkPidcbiAgICAgICAgICArICcgICAgPHRib2R5PidcbiAgICAgICAgICArICcgICAgPC90Ym9keT4nXG4gICAgICAgICAgKyAnPC90YWJsZT4nLFxuICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNhbGVuZGFyKSB7XG4gICAgICAgICAgICBzY29wZS5jYWwgPSBjYWxlbmRhcjtcbiAgICAgICAgICAgIHNjb3BlLm1vbnRoID0gY2FsZW5kYXIuZ2V0SXRlbUF0SW5kZXgocGFyc2VJbnQoc2NvcGUuaWR4KSk7XG4gICAgICAgICAgICBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSk7XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuaWR4O1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGlkeCwgb2xkSWR4KSB7XG4gICAgICAgICAgICAgIGlmIChpZHggIT0gb2xkSWR4KSB7XG4gICAgICAgICAgICAgICAgc2NvcGUubW9udGggPSBjYWxlbmRhci5nZXRJdGVtQXRJbmRleChwYXJzZUludChzY29wZS5pZHgpKTtcbiAgICAgICAgICAgICAgICBidWlsZENhbGVuZGFyQ29udGVudChlbGVtZW50LCBzY29wZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICBdKVxuICA7XG5cbiAgYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSlcbiAgICAuZGlyZWN0aXZlKCdtZGNEdHBOb2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCkge1xuICAgICAgICAgIGVsLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIGFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUpXG4gICAgLmRpcmVjdGl2ZSgnbWRjRGF0ZXRpbWVQaWNrZXJDbG9jaycsIFtcbiAgICAgIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgdGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cImR0cC1waWNrZXItY2xvY2tcIj48c3BhbiBuZy1pZj1cIiFwb2ludHMgfHwgcG9pbnRzLmxlbmd0aCA8IDFcIj4mbmJzcDs8L3NwYW4+J1xuICAgICAgICAgICsgJzxkaXYgbmctcmVwZWF0PVwicG9pbnQgaW4gcG9pbnRzXCIgY2xhc3M9XCJkdHAtcGlja2VyLXRpbWVcIiBzdHlsZT1cIm1hcmdpbi1sZWZ0OiB7e3BvaW50LmxlZnR9fXB4OyBtYXJnaW4tdG9wOiB7e3BvaW50LnRvcH19cHg7XCI+J1xuICAgICAgICAgICsgJyAgIDxhIGhyZWY9XCIjXCIgbWRjLWR0cC1ub2NsaWNrIG5nLWNsYXNzPVwie3NlbGVjdGVkOiBwb2ludC52YWx1ZT09PWN1cnJlbnRWYWx1ZX1cIiBjbGFzcz1cImR0cC1zZWxlY3QtaG91clwiIG5nLWNsaWNrPVwic2V0VGltZShwb2ludC52YWx1ZSlcIiBuZy1pZj1cInBvaW50QXZhaWxhYmxlKHBvaW50KVwiPnt7cG9pbnQuZGlzcGxheX19PC9hPidcbiAgICAgICAgICArICcgICA8YSBocmVmPVwiI1wiIG1kYy1kdHAtbm9jbGljayBjbGFzcz1cImRpc2FibGVkIGR0cC1zZWxlY3QtaG91clwiIG5nLWlmPVwiIXBvaW50QXZhaWxhYmxlKHBvaW50KVwiPnt7cG9pbnQuZGlzcGxheX19PC9hPidcbiAgICAgICAgICArICc8L2Rpdj4nXG4gICAgICAgICAgKyAnPGRpdiBjbGFzcz1cImR0cC1oYW5kIGR0cC1ob3VyLWhhbmRcIj48L2Rpdj4nXG4gICAgICAgICAgKyAnPGRpdiBjbGFzcz1cImR0cC1oYW5kIGR0cC1taW51dGUtaGFuZFwiPjwvZGl2PidcbiAgICAgICAgICArICc8ZGl2IGNsYXNzPVwiZHRwLWNsb2NrLWNlbnRlclwiPjwvZGl2PidcbiAgICAgICAgICArICc8L2Rpdj4nO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgdmFyIG1pbnV0ZU1vZGUgPSBhdHRycy5tb2RlID09PSAnbWludXRlcyc7XG4gICAgICAgICAgICB2YXIgcGlja2VyID0gc2NvcGUucGlja2VyO1xuICAgICAgICAgICAgLy9iYW5raW5nIG9uIHRoZSBmYWN0IHRoYXQgdGhlcmUgd2lsbCBvbmx5IGJlIG9uZSBhdCBhIHRpbWVcbiAgICAgICAgICAgIHZhciBjb21wb25lbnRSb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWQtZGlhbG9nLmR0cCcpO1xuICAgICAgICAgICAgdmFyIGV4ZWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBjbG9jayA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtcGlja2VyLWNsb2NrJykpLFxuICAgICAgICAgICAgICAgIHBpY2tlckVsID0gYW5ndWxhci5lbGVtZW50KGNvbXBvbmVudFJvb3QucXVlcnlTZWxlY3RvcignLmR0cC1waWNrZXInKSk7XG5cbiAgICAgICAgICAgICAgdmFyIHcgPSBjb21wb25lbnRSb290LnF1ZXJ5U2VsZWN0b3IoJy5kdHAtY29udGVudCcpLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICB2YXIgcGwgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgcHIgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nUmlnaHQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICAgICAgICAgICAgdmFyIG1sID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgbXIgPSBwYXJzZUludChjc3MoY2xvY2ssICdtYXJnaW5SaWdodCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICAvL3NldCB3aWR0aFxuICAgICAgICAgICAgICB2YXIgY2xvY2tXaWR0aCA9ICh3IC0gKG1sICsgbXIgKyBwbCArIHByKSk7XG4gICAgICAgICAgICAgIGNsb2NrLmNzcygnd2lkdGgnLCAoY2xvY2tXaWR0aCkgKyAncHgnKTtcblxuICAgICAgICAgICAgICB2YXIgcEwgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nTGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKSB8fCAwO1xuICAgICAgICAgICAgICB2YXIgcFQgPSBwYXJzZUludChjc3MocGlja2VyRWwsICdwYWRkaW5nVG9wJykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG4gICAgICAgICAgICAgIHZhciBtTCA9IHBhcnNlSW50KGNzcyhjbG9jaywgJ21hcmdpbkxlZnQnKS5yZXBsYWNlKCdweCcsICcnKSkgfHwgMDtcbiAgICAgICAgICAgICAgdmFyIG1UID0gcGFyc2VJbnQoY3NzKGNsb2NrLCAnbWFyZ2luVG9wJykucmVwbGFjZSgncHgnLCAnJykpIHx8IDA7XG5cbiAgICAgICAgICAgICAgdmFyIHIgPSAoY2xvY2tXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICB2YXIgaiA9IHIgLyAxLjI7IC8vPz8/XG5cbiAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgMTI7ICsraCkge1xuICAgICAgICAgICAgICAgIHZhciB4ID0gaiAqIE1hdGguc2luKE1hdGguUEkgKiAyICogKGggLyAxMikpO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gaiAqIE1hdGguY29zKE1hdGguUEkgKiAyICogKGggLyAxMikpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGhvdXIgPSB7XG4gICAgICAgICAgICAgICAgICBsZWZ0OiAociArIHggKyBwTCAvIDIpIC0gKHBMICsgbUwpLFxuICAgICAgICAgICAgICAgICAgdG9wOiAociAtIHkgLSBtVCAvIDIpIC0gKHBUICsgbVQpLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IChtaW51dGVNb2RlID8gKGggKiA1KSA6IGgpIC8vNSBmb3IgbWludXRlIDYwLzEyXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChtaW51dGVNb2RlKSB7XG4gICAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBob3VyLnZhbHVlIDwgMTAgPyAoJzAnICsgaG91ci52YWx1ZSkgOiBob3VyLnZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChwaWNrZXIucGFyYW1zLnNob3J0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSAoaCA9PT0gMCkgPyAxMiA6IGg7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBob3VyLmRpc3BsYXkgPSBwaWNrZXIuaXNQTSgpID8gaCArIDEyIDogaDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKGhvdXIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2NvcGUucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICAgICAgICBzZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgY2xvY2suY3NzKCdoZWlnaHQnLCBjbG9ja1dpZHRoICsgJ3B4Jyk7XG4gICAgICAgICAgICAgIC8vcGlja2VyLmluaXRIYW5kcyh0cnVlKTtcblxuICAgICAgICAgICAgICB2YXIgY2xvY2tDZW50ZXIgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtY2xvY2stY2VudGVyJyk7XG4gICAgICAgICAgICAgIHZhciBjZW50ZXJXaWR0aCA9IChjbG9ja0NlbnRlci5vZmZzZXRXaWR0aCAvIDIpIHx8IDcuNSxcbiAgICAgICAgICAgICAgICBjZW50ZXJIZWlnaHQgPSAoY2xvY2tDZW50ZXIub2Zmc2V0SGVpZ2h0IC8gMikgfHwgNy41O1xuICAgICAgICAgICAgICB2YXIgX2hMID0gciAvIDEuODtcbiAgICAgICAgICAgICAgdmFyIF9tTCA9IHIgLyAxLjU7XG5cbiAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmR0cC1ob3VyLWhhbmQnKSkuY3NzKHtcbiAgICAgICAgICAgICAgICBsZWZ0OiByICsgKG1MICogMS41KSArICdweCcsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBfaEwgKyAncHgnLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogKHIgLSBfaEwgLSBwTCkgKyAncHgnXG4gICAgICAgICAgICAgIH0pLmFkZENsYXNzKCFtaW51dGVNb2RlID8gJ29uJyA6ICcnKTtcblxuICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLmNzc1xuICAgICAgICAgICAgICAoe1xuICAgICAgICAgICAgICAgIGxlZnQ6IHIgKyAobUwgKiAxLjUpICsgJ3B4JyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IF9tTCArICdweCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAociAtIF9tTCAtIHBMKSArICdweCdcbiAgICAgICAgICAgICAgfSkuYWRkQ2xhc3MobWludXRlTW9kZSA/ICdvbicgOiAnJyk7XG5cbiAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGNsb2NrQ2VudGVyKS5jc3Moe1xuICAgICAgICAgICAgICAgIGxlZnQ6IChyICsgcEwgKyBtTCAtIGNlbnRlcldpZHRoKSArICdweCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAociAtIChtTCAvIDIpKSAtIGNlbnRlckhlaWdodCArICdweCdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGFuaW1hdGVIYW5kcygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGFuaW1hdGVIYW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIF9kYXRlID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuICAgICAgICAgICAgICB2YXIgaCA9IF9kYXRlLmhvdXIoKTtcbiAgICAgICAgICAgICAgdmFyIG0gPSBfZGF0ZS5taW51dGUoKTtcblxuICAgICAgICAgICAgICByb3RhdGVFbGVtZW50KGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5kdHAtaG91ci1oYW5kJykpLCAoMzYwIC8gMTIpICogaCk7XG4gICAgICAgICAgICAgIHZhciBtZGcgPSAoKDM2MCAvIDYwKSAqICg1ICogTWF0aC5yb3VuZChtIC8gNSkpKTtcbiAgICAgICAgICAgICAgcm90YXRlRWxlbWVudChhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcuZHRwLW1pbnV0ZS1oYW5kJykpLCBtZGcpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHJvdGF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAoZWwsIGRlZykge1xuICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWwpLmNzcyh7XG4gICAgICAgICAgICAgICAgV2Via2l0VHJhbnNmb3JtOiAncm90YXRlKCcgKyBkZWcgKyAnZGVnKScsXG4gICAgICAgICAgICAgICAgJy1tb3otdHJhbnNmb3JtJzogJ3JvdGF0ZSgnICsgZGVnICsgJ2RlZyknXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICB2YXIgc2V0Q3VycmVudFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgZGF0ZSA9IHBpY2tlci5jdXJyZW50TmVhcmVzdDVNaW51dGUoKTtcbiAgICAgICAgICAgICAgc2NvcGUuY3VycmVudFZhbHVlID0gbWludXRlTW9kZSA/IGRhdGUubWludXRlKCkgOiAoZGF0ZS5ob3VyKCkgJSAxMik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgdG1wID0gcGlja2VyLmN1cnJlbnROZWFyZXN0NU1pbnV0ZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gdG1wID8gdG1wLmZvcm1hdCgnSEg6bW0nKSA6ICcnO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKG5ld1ZhbCkge1xuICAgICAgICAgICAgICBzZXRDdXJyZW50VmFsdWUoKTtcbiAgICAgICAgICAgICAgYW5pbWF0ZUhhbmRzKCk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICB2YXIgc2V0RGlzcGxheVBvaW50cyA9IGZ1bmN0aW9uIChpc1BNLCBwb2ludHMpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwb2ludHNbaV0uZGlzcGxheSA9IGk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUE0pIHtcbiAgICAgICAgICAgICAgICAgIHBvaW50c1tpXS5kaXNwbGF5ICs9IDEyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCFwaWNrZXIucGFyYW1zLnNob3J0VGltZSkge1xuICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goJ3BpY2tlci5tZXJpZGllbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1pbnV0ZU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5wb2ludHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IHNldERpc3BsYXlQb2ludHMocGlja2VyLmlzUE0oKSwgYW5ndWxhci5jb3B5KHNjb3BlLnBvaW50cykpO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBzY29wZS5zZXRUaW1lID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICBpZiAodmFsID09PSBzY29wZS5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwaWNrZXIub2soKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghbWludXRlTW9kZSkge1xuICAgICAgICAgICAgICAgIHBpY2tlci5jdXJyZW50RGF0ZS5ob3VyKHBpY2tlci5pc1BNKCkgPyAodmFsICsgMTIpIDogdmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwaWNrZXIuY3VycmVudERhdGUubWludXRlKHZhbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGlja2VyLmN1cnJlbnREYXRlLnNlY29uZCgwKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2NvcGUucG9pbnRBdmFpbGFibGUgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1pbnV0ZU1vZGUgPyBwaWNrZXIuaXNNaW51dGVBdmFpbGFibGUocG9pbnQudmFsdWUpIDogcGlja2VyLmlzSG91ckF2YWlsYWJsZShwb2ludC52YWx1ZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdW53YXRjaGVyID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnZGl2JykubGVuZ3RoO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBleGVjKCk7XG4gICAgICAgICAgICAgIHVud2F0Y2hlcigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XSk7XG5cbn0pKG1vbWVudCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvY29tcG9uZW50cy9hbmd1bGFyLW1hdGVyaWFsLWRhdGV0aW1lcGlja2VyL2pzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuanNcbiAqKi8iLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYXRlcmlhbC1kYXRldGltZXBpY2tlci5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvYXBwL2NvbXBvbmVudHMvYW5ndWxhci1tYXRlcmlhbC1kYXRldGltZXBpY2tlci9jc3MvbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIuY3NzXG4gKiogbW9kdWxlIGlkID0gNTk3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIm1kLWRpYWxvZy5kdHB7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MS40Mjg1NzE0Mztjb2xvcjojMzMzO2JhY2tncm91bmQtY29sb3I6I2ZmZjttYXgtaGVpZ2h0Om5vbmV9LmR0cCA6Zm9jdXN7b3V0bGluZTpub25lIWltcG9ydGFudH0uZHRwIHRhYmxle2JvcmRlci1zcGFjaW5nOjA7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO3dpZHRoOjEwMCV9LmR0cCAudGFibGU+dGJvZHk+dHI+dGQsLmR0cCAudGFibGU+dGJvZHk+dHI+dGgsLmR0cCAudGFibGU+dGZvb3Q+dHI+dGQsLmR0cCAudGFibGU+dGZvb3Q+dHI+dGgsLmR0cCAudGFibGU+dGhlYWQ+dHI+dGQsLmR0cCAudGFibGU+dGhlYWQ+dHI+dGh7cGFkZGluZzo4cHg7bGluZS1oZWlnaHQ6MS40Mjg1NzE0Mzt2ZXJ0aWNhbC1hbGlnbjp0b3A7Ym9yZGVyLXRvcDoxcHggc29saWQgI2RkZH0uZHRwLC5kdHAgKntib3gtc2l6aW5nOmJvcmRlci1ib3ghaW1wb3J0YW50fS5kdHA+LmR0cC1jb250ZW50e21heC13aWR0aDozMDBweDttYXgtaGVpZ2h0OjUwMHB4fS5kdHA+LmR0cC1jb250ZW50Pi5kdHAtZGF0ZS12aWV3PmhlYWRlci5kdHAtaGVhZGVye2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmO3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6M3B4fS5kdHAgZGl2LmR0cC1kYXRlLC5kdHAgZGl2LmR0cC10aW1le2JhY2tncm91bmQ6IzhiYzM0YTt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojZmZmO3BhZGRpbmc6MTBweH0uZHRwIGRpdi5kdHAtZGF0ZT5kaXZ7cGFkZGluZzowO21hcmdpbjowfS5kdHAgZGl2LmR0cC1hY3R1YWwtbW9udGh7Zm9udC1zaXplOjEuNWVtfS5kdHAgZGl2LmR0cC1hY3R1YWwtbWF4dGltZSwuZHRwIGRpdi5kdHAtYWN0dWFsLW51bXtmb250LXNpemU6M2VtO2xpbmUtaGVpZ2h0Oi45fS5kdHAgZGl2LmR0cC1hY3R1YWwteWVhcntmb250LXNpemU6MS42ZW07Y29sb3I6I2RjZWRjOH0uZHRwIGRpdi5kdHAteWVhci1idG57Zm9udC1zaXplOjEuNGVtO2xpbmUtaGVpZ2h0OjMwcHg7Y3Vyc29yOnBvaW50ZXI7Y29sb3I6I2RjZWRjOH0uZHRwIGRpdi5kdHAteWVhci1idG4tcHJldnt0ZXh0LWFsaWduOnJpZ2h0fS5kdHAgZGl2LmR0cC15ZWFyLWJ0bi1uZXh0e3RleHQtYWxpZ246bGVmdH0uZHRwIGRpdi5kdHAtcGlja2Vye3BhZGRpbmc6MTBweDt0ZXh0LWFsaWduOmNlbnRlcn0uZHRwIGRpdi5kdHAtYWN0dWFsLXRpbWUsLmR0cCBkaXYuZHRwLXBpY2tlci1tb250aHtmb250LXdlaWdodDo1MDA7dGV4dC1hbGlnbjpjZW50ZXJ9LmR0cCAuZHRwLWNsb3Nle3Bvc2l0aW9uOmFic29sdXRlO3RvcDouMjVlbTtyaWdodDo1cHg7Zm9udC1zaXplOjE2cHh9LmR0cCAuZHRwLWNsb3NlPmF7Y29sb3I6I2ZmZjt0ZXh0LWRlY29yYXRpb246bm9uZX0uZHRwIC5kdHAtY2xvc2U+YT5pe2ZvbnQtc2l6ZToxZW19LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXN7bWFyZ2luOjA7bWluLWhlaWdodDoyMjBweH0uZHRwIG1kLXZpcnR1YWwtcmVwZWF0LWNvbnRhaW5lci5tb250aHN7aGVpZ2h0OjI2MHB4fS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRke2JvcmRlcjpub25lfS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRke2ZvbnQtc2l6ZToxMXB4O3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6MH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5zcGFuLmR0cC1zZWxlY3QtZGF5e2NvbG9yOiNiZGJkYmQhaW1wb3J0YW50fS5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPi5kdHAtc2VsZWN0LWRheXt3aWR0aDozNnB4O2hlaWdodDozNnB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5kdHAgLmR0cC1waWNrZXItdGltZT5hLC5kdHAgdGFibGUuZHRwLXBpY2tlci1kYXlzIHRyPnRkPi5kdHAtc2VsZWN0LWRheXtjb2xvcjojMjEyMTIxO3RleHQtZGVjb3JhdGlvbjpub25lO3BhZGRpbmc6MTBweDtib3JkZXItcmFkaXVzOjUwJSFpbXBvcnRhbnR9LmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+YS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM4YmMzNGE7Y29sb3I6I2ZmZn0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50ZD5hOmhvdmVyOm5vdCguc2VsZWN0ZWQpe2JhY2tncm91bmQ6I2RkZH0uZHRwIHRhYmxlLmR0cC1waWNrZXItZGF5cyB0cj50aHtjb2xvcjojNzU3NTc1O3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtd2VpZ2h0OjcwMDtwYWRkaW5nOjRweCAzcHh9LmR0cCAucDEwPmF7Y29sb3I6IzY4OWYzODt0ZXh0LWRlY29yYXRpb246bm9uZX0uZHRwIC5wMTB7d2lkdGg6MTAlfS5kdHAgLnAxMCwuZHRwIC5wMjB7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAucDIwe3dpZHRoOjIwJX0uZHRwIC5wNjB7d2lkdGg6NjAlfS5kdHAgLnA2MCwuZHRwIC5wODB7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmR0cCAucDgwe3dpZHRoOjgwJX0uZHRwIGEuZHRwLW1lcmlkaWVuLWFtLC5kdHAgYS5kdHAtbWVyaWRpZW4tcG17cG9zaXRpb246cmVsYXRpdmU7dG9wOjEwcHg7Y29sb3I6IzIxMjEyMTtmb250LXdlaWdodDo1MDA7cGFkZGluZzo3cHggNXB4O2JvcmRlci1yYWRpdXM6NTAlIWltcG9ydGFudDt0ZXh0LWRlY29yYXRpb246bm9uZTtiYWNrZ3JvdW5kOiNlZWU7Zm9udC1zaXplOjEwcHh9LmR0cCAuZHRwLWFjdHVhbC1tZXJpZGllbiBhLnNlbGVjdGVke2JhY2tncm91bmQ6IzY4OWYzODtjb2xvcjojZmZmfS5kdHAgLmR0cC1waWNrZXItdGltZT5he2Rpc3BsYXk6YmxvY2s7bGluZS1oZWlnaHQ6MjNweDtwYWRkaW5nOjNweH0uZHRwIC5kdHAtcGlja2VyLXRpbWV7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDtmb250LXNpemU6MS4xZW07Ym9yZGVyLXJhZGl1czo1MCU7Y3Vyc29yOnBvaW50ZXI7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50fS5kdHAgLmR0cC1waWNrZXItdGltZT5hLmR0cC1zZWxlY3QtaG91ci5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM2ODlmMzg7Y29sb3I6I2ZmZn0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LWhvdXIuZGlzYWJsZWQsLmR0cCAuZHRwLXBpY2tlci10aW1lPmEuZHRwLXNlbGVjdC1taW51dGUuZGlzYWJsZWR7Y29sb3I6Izc1NzU3NX0uZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LW1pbnV0ZS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiM4YmMzNGE7Y29sb3I6I2ZmZn0uZHRwIGRpdi5kdHAtcGlja2VyLWNsb2Nre21hcmdpbjoxMHB4IDIwcHggMDtwYWRkaW5nOjEwcHg7Ym9yZGVyLXJhZGl1czo1MCUhaW1wb3J0YW50O2JhY2tncm91bmQ6I2VlZX0uZHRwLWNsb2NrLWNlbnRlcnt3aWR0aDoxNXB4O2hlaWdodDoxNXB4O2JhY2tncm91bmQ6Izc1NzU3NTtib3JkZXItcmFkaXVzOjUwJTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjUwfS5kdHAgLmR0cC1oYW5kLC5kdHAgLmR0cC1ob3VyLWhhbmR7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NHB4O21hcmdpbi1sZWZ0Oi0ycHg7YmFja2dyb3VuZDojYmRiZGJkOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDBkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpib3R0b207dHJhbnNmb3JtLW9yaWdpbjpib3R0b207ei1pbmRleDoxfS5kdHAgLmR0cC1taW51dGUtaGFuZHt3aWR0aDoycHg7bWFyZ2luLWxlZnQ6LTFweH0uZHRwIC5kdHAtaGFuZC5vbntiYWNrZ3JvdW5kOiM4YmMzNGF9LmR0cCAuZHRwLWJ1dHRvbnN7cGFkZGluZzowIDEwcHggMTBweDt0ZXh0LWFsaWduOnJpZ2h0fS5kdHAuaGlkZGVuLC5kdHAgLmhpZGRlbntkaXNwbGF5Om5vbmV9LmR0cCAuaW52aXNpYmxle3Zpc2liaWxpdHk6aGlkZGVufS5kdHAgLmxlZnR7ZmxvYXQ6bGVmdH0uZHRwIC5yaWdodHtmbG9hdDpyaWdodH0uZHRwIC5jbGVhcmZpeHtjbGVhcjpib3RofS5kdHAgLmNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlcn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItbWF0ZXJpYWwtZGF0ZXRpbWVwaWNrZXIvY3NzL21hdGVyaWFsLWRhdGV0aW1lcGlja2VyLmNzc1xuICoqIG1vZHVsZSBpZCA9IDU5OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKlxuICogYW5ndWxhci1nb29nbGUtcGx1cy1kaXJlY3RpdmUgdjAuMC4xXG4gKiDimaEgQ29weUhlYXJ0IDIwMTMgYnkgSmVyYWQgQml0bmVyIGh0dHA6Ly9qZXJhZGJpdG5lci5jb21cbiAqIENvcHlpbmcgaXMgYW4gYWN0IG9mIGxvdmUuIFBsZWFzZSBjb3B5LlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCdkaXJlY3RpdmUuZytzaWduaW4nLCBbXSkuXG4gIGRpcmVjdGl2ZSgnZ29vZ2xlUGx1c1NpZ25pbicsIFsnJHdpbmRvdycsIGZ1bmN0aW9uICgkd2luZG93KSB7XG4gICAgdmFyIGVuZGluZyA9IC9cXC5hcHBzXFwuZ29vZ2xldXNlcmNvbnRlbnRcXC5jb20kLztcblxuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlOiAnPHNwYW4+PC9zcGFuPicsXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCwgbGlua2VyKSB7XG4gICAgICAgIGF0dHJzLmNsaWVudGlkICs9IChlbmRpbmcudGVzdChhdHRycy5jbGllbnRpZCkgPyAnJyA6ICcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nKTtcblxuICAgICAgICBhdHRycy4kc2V0KCdkYXRhLWNsaWVudGlkJywgYXR0cnMuY2xpZW50aWQpO1xuICAgICAgICBhdHRycy4kc2V0KCd0aGVtZScsIGF0dHJzLnRoZW1lKTtcblxuICAgICAgICAvLyBTb21lIGRlZmF1bHQgdmFsdWVzLCBiYXNlZCBvbiBwcmlvciB2ZXJzaW9ucyBvZiB0aGlzIGRpcmVjdGl2ZVxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgY2FsbGJhY2s6ICdzaWduaW5DYWxsYmFjaycsXG4gICAgICAgICAgY29va2llcG9saWN5OiAnc2luZ2xlX2hvc3Rfb3JpZ2luJyxcbiAgICAgICAgICByZXF1ZXN0dmlzaWJsZWFjdGlvbnM6ICdodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL0FkZEFjdGl2aXR5JyxcbiAgICAgICAgICBzY29wZTogJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvcGx1cy5sb2dpbiBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3VzZXJpbmZvLmVtYWlsJyxcbiAgICAgICAgICBoZWlnaHQ6ICdzdGFuZGFyZCcsXG4gICAgICAgICAgd2lkdGg6ICd3aWRlJyxcbiAgICAgICAgICBzdGF0ZTogJydcbiAgICAgICAgfTtcblxuICAgICAgICBkZWZhdWx0cy5jbGllbnRpZCA9IGF0dHJzLmNsaWVudGlkO1xuICAgICAgICBkZWZhdWx0cy50aGVtZSA9IGF0dHJzLnRoZW1lO1xuXG4gICAgICAgIC8vIE92ZXJ3cml0ZSBkZWZhdWx0IHZhbHVlcyBpZiBleHBsaWNpdGx5IHNldFxuICAgICAgICBhbmd1bGFyLmZvckVhY2goT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpLCBmdW5jdGlvbihwcm9wTmFtZSkge1xuICAgICAgICAgIGlmIChhdHRycy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIGRlZmF1bHRzW3Byb3BOYW1lXSA9IGF0dHJzW3Byb3BOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERlZmF1bHQgbGFuZ3VhZ2VcbiAgICAgICAgLy8gU3VwcG9ydGVkIGxhbmd1YWdlczogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vKy93ZWIvYXBpL3N1cHBvcnRlZC1sYW5ndWFnZXNcbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2xhbmd1YWdlJywgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICR3aW5kb3cuX19fZ2NmZyA9IHtcbiAgICAgICAgICAgIGxhbmc6IHZhbHVlID8gdmFsdWUgOiAnZW4nXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBc3luY2hyb25vdXNseSBsb2FkIHRoZSBHKyBTREsuXG4gICAgICAgIHZhciBwbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOyBwby50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7IHBvLmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgcG8uc3JjID0gJ2h0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2NsaWVudDpwbHVzb25lLmpzJztcbiAgICAgICAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocG8sIHMpO1xuXG4gICAgICAgIGxpbmtlcihmdW5jdGlvbihlbCwgdFNjb3BlKXtcbiAgICAgICAgICBwby5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2FwaS5zaWduaW4ucmVuZGVyKGVsZW1lbnRbMF0sIGRlZmF1bHRzKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG59XSkuXG4gIHJ1bihbJyR3aW5kb3cnLCckcm9vdFNjb3BlJyxmdW5jdGlvbigkd2luZG93LCAkcm9vdFNjb3BlKSB7XG4gICAgJHdpbmRvdy5zaWduaW5DYWxsYmFjayA9IGZ1bmN0aW9uIChhdXRoUmVzdWx0KSB7XG4gICAgICBpZiAoYXV0aFJlc3VsdCAmJiBhdXRoUmVzdWx0LmFjY2Vzc190b2tlbil7XG4gICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLXN1Y2Nlc3MnLCBhdXRoUmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLWZhaWx1cmUnLCBhdXRoUmVzdWx0KTtcbiAgICAgIH1cbiAgICB9OyBcbn1dKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9jb21wb25lbnRzL2FuZ3VsYXItZGlyZWN0aXZlLmctc2lnbmluL2dvb2dsZS1wbHVzLXNpZ25pbi5qc1xuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vdmVuZG9yLnNjc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vdmVuZG9yLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi92ZW5kb3Iuc2Nzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9hcHAvc2Nzcy92ZW5kb3Iuc2Nzc1xuICoqIG1vZHVsZSBpZCA9IDY0M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJcIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9zYXNzLWxvYWRlciEuL3NyYy9hcHAvc2Nzcy92ZW5kb3Iuc2Nzc1xuICoqIG1vZHVsZSBpZCA9IDY0NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9pbmRleC5qcyEuL2luZGV4LnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRleC5zY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2FwcC9zY3NzL2luZGV4LnNjc3NcbiAqKiBtb2R1bGUgaWQgPSA2NDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmRpc3RyaWJ1dG9yLXNlbGVjdGlvbntmb250LXNpemU6MTZwdDtwYWRkaW5nOjNweDttYXJnaW46M3B4fWJvZHl7bWFyZ2luLXRvcDoxMDBweDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXtib2R5e21hcmdpbi10b3A6NTBweH19I3dyYXBwZXJ7cGFkZGluZy1sZWZ0OjB9I3BhZ2Utd3JhcHBlcnt3aWR0aDoxMDAlO3BhZGRpbmc6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9Lmh1Z2V7Zm9udC1zaXplOjUwcHg7bGluZS1oZWlnaHQ6bm9ybWFsfUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsjd3JhcHBlcntwYWRkaW5nLWxlZnQ6MjI1cHh9I3BhZ2Utd3JhcHBlcntwYWRkaW5nOjEwcHh9fS5tYXJnaW4tYm90dG9tLTE1e21hcmdpbi1ib3R0b206MS41ZW19Lm1hcmdpbi10b3AtMDV7bWFyZ2luLXRvcDouNWVtfS5tYXJnaW4tdG9wLTE1e21hcmdpbi10b3A6MS41ZW19Lm1hcmdpbi10b3AtMjB7bWFyZ2luLXRvcDoyZW19Lm1hcmdpbi10b3AtMjV7bWFyZ2luLXRvcDoyLjVlbX0ubWFyZ2luLXRvcC01MHttYXJnaW4tdG9wOjVlbX0uaXNzdWUtd2FybmluZy1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6b3JhbmdlfS5pc3N1ZS13YXJuaW5nLXRleHR7Y29sb3I6b3JhbmdlfS5pc3N1ZS1kYW5nZXItYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOnJlZH0uaXNzdWUtZGFuZ2VyLXRleHR7Y29sb3I6cmVkfS5pc3N1ZS1ub3JtYWwtYmFja2dyb3VuZHtiYWNrZ3JvdW5kLWNvbG9yOmdyZWVufS5pc3N1ZS1ub3JtYWwtdGV4dHtjb2xvcjpncmVlbn0udXAtdHJ1ZS1iYWNrZ3JvdW5ke2JhY2tncm91bmQtY29sb3I6Z3JlZW59LnVwLWZhbHNlLWJhY2tncm91bmR7YmFja2dyb3VuZC1jb2xvcjpyZWR9Lm5hdmJhci1kZWZhdWx0e2JhY2tncm91bmQtY29sb3I6IzFiNzViYjtib3JkZXItY29sb3I6IzE1NTk4ZX0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1icmFuZHtjb2xvcjojZmZmfS5uYXZiYXItZGVmYXVsdCAubmF2YmFyLWJyYW5kOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLWJyYW5kOmhvdmVye2NvbG9yOiM1NWE3ZTd9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2PmxpPmEsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2PmxpPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2PmxpPmE6aG92ZXJ7Y29sb3I6I2ZmZn0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmFjdGl2ZT5hLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4uYWN0aXZlPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5hY3RpdmU+YTpob3Zlcntjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2FmZDVmM30ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YSwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpmb2N1cywubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpob3Zlcntjb2xvcjojNTU1O2JhY2tncm91bmQtY29sb3I6I2Q1ZDVkNX0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmRyb3Bkb3duPmEgLmNhcmV0e2JvcmRlci10b3AtY29sb3I6Izc3Nztib3JkZXItYm90dG9tLWNvbG9yOiM3Nzd9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5kcm9wZG93bj5hOmZvY3VzIC5jYXJldCwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+LmRyb3Bkb3duPmE6aG92ZXIgLmNhcmV0e2JvcmRlci10b3AtY29sb3I6IzMzMztib3JkZXItYm90dG9tLWNvbG9yOiMzMzN9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2Pi5vcGVuPmEgLmNhcmV0LC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdj4ub3Blbj5hOmZvY3VzIC5jYXJldCwubmF2YmFyLWRlZmF1bHQgLm5hdmJhci1uYXY+Lm9wZW4+YTpob3ZlciAuY2FyZXR7Ym9yZGVyLXRvcC1jb2xvcjojNTU1O2JvcmRlci1ib3R0b20tY29sb3I6IzU1NX0ubmF2YmFyLWRlZmF1bHQgLm5hdmJhci10b2dnbGV7Ym9yZGVyLWNvbG9yOiNkZGR9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xlOmZvY3VzLC5uYXZiYXItZGVmYXVsdCAubmF2YmFyLXRvZ2dsZTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNkZGR9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItdG9nZ2xlIC5pY29uLWJhcntiYWNrZ3JvdW5kLWNvbG9yOiNjY2N9QG1lZGlhIChtYXgtd2lkdGg6NzY3cHgpey5uYXZiYXItZGVmYXVsdCAubmF2YmFyLW5hdiAub3BlbiAuZHJvcGRvd24tbWVudT5saT5he2NvbG9yOiM3Nzd9Lm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2IC5vcGVuIC5kcm9wZG93bi1tZW51PmxpPmE6Zm9jdXMsLm5hdmJhci1kZWZhdWx0IC5uYXZiYXItbmF2IC5vcGVuIC5kcm9wZG93bi1tZW51PmxpPmE6aG92ZXJ7Y29sb3I6IzMzM319LnRvcC1uYXZ7cGFkZGluZzowIDE1cHh9LnRvcC1uYXY+bGl7ZGlzcGxheTppbmxpbmUtYmxvY2s7ZmxvYXQ6bGVmdH0udG9wLW5hdj5saT5he3BhZGRpbmctdG9wOjE1cHg7cGFkZGluZy1ib3R0b206MTVweDtsaW5lLWhlaWdodDoyMHB4O2NvbG9yOiNlZmVmZWZ9LnRvcC1uYXY+Lm9wZW4+YSwudG9wLW5hdj4ub3Blbj5hOmZvY3VzLC50b3AtbmF2Pi5vcGVuPmE6aG92ZXIsLnRvcC1uYXY+bGk+YTpmb2N1cywudG9wLW5hdj5saT5hOmhvdmVye2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojMWI3NWJifS50b3AtbmF2Pi5vcGVuPi5kcm9wZG93bi1tZW51e2Zsb2F0OmxlZnQ7cG9zaXRpb246YWJzb2x1dGU7bWFyZ2luLXRvcDowO2JvcmRlcjoxcHggc29saWQgcmdiYSgwLDAsMCwuMTUpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3gtc2hhZG93OjAgNnB4IDEycHggcmdiYSgwLDAsMCwuMTc1KX0udG9wLW5hdj4ub3Blbj4uZHJvcGRvd24tbWVudT5saT5he3doaXRlLXNwYWNlOm5vcm1hbH11bC5tZXNzYWdlLWRyb3Bkb3due3BhZGRpbmc6MDttYXgtaGVpZ2h0OjI1MHB4O292ZXJmbG93LXg6aGlkZGVuO292ZXJmbG93LXk6YXV0b31saS5tZXNzYWdlLXByZXZpZXd7d2lkdGg6Mjc1cHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSgwLDAsMCwuMTUpfWxpLm1lc3NhZ2UtcHJldmlldz5he3BhZGRpbmctdG9wOjE1cHg7cGFkZGluZy1ib3R0b206MTVweH1saS5tZXNzYWdlLWZvb3RlcnttYXJnaW46NXB4IDB9dWwuYWxlcnQtZHJvcGRvd257d2lkdGg6MjAwcHh9QG1lZGlhIChtaW4td2lkdGg6NzY4cHgpey5zaWRlLW5hdntwb3NpdGlvbjpmaXhlZDt0b3A6NTFweDtsZWZ0OjIyNXB4O21hcmdpbi1sZWZ0Oi0yMjVweDtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjA7b3ZlcmZsb3cteTphdXRvO2JhY2tncm91bmQtY29sb3I6IzFiNzViYjtib3R0b206MDtvdmVyZmxvdy14OmhpZGRlbjtwYWRkaW5nLWJvdHRvbTo0MHB4fS5zaWRlLW5hdiwuc2lkZS1uYXY+bGk+YXt3aWR0aDoyMjVweH0uc2lkZS1uYXYgbGkgYTpmb2N1cywuc2lkZS1uYXYgbGkgYTpob3ZlcntvdXRsaW5lOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojM2Y5Y2UzIWltcG9ydGFudH19LnNpZGUtbmF2PmxpPnVse3BhZGRpbmc6MH0uc2lkZS1uYXY+bGk+dWw+bGk+YXtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6MTBweCAxNXB4IDEwcHggMzhweDt0ZXh0LWRlY29yYXRpb246bm9uZTtjb2xvcjojZDRkNGQ0fS5zaWRlLW5hdj5saT51bD5saT5hOmhvdmVye2NvbG9yOiNmZmZ9LmZsb3QtY2hhcnR7ZGlzcGxheTpibG9jaztoZWlnaHQ6NDAwcHh9LmZsb3QtY2hhcnQtY29udGVudHt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5odWdle2ZvbnQtc2l6ZTo0MHB4fS5wYW5lbC1ncmVlbntib3JkZXItY29sb3I6IzVjYjg1Y30ucGFuZWwtZ3JlZW4+LnBhbmVsLWhlYWRpbmd7Ym9yZGVyLWNvbG9yOiM1Y2I4NWM7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiM1Y2I4NWN9LnBhbmVsLWdyZWVuPmF7Y29sb3I6IzVjYjg1Y30ucGFuZWwtZ3JlZW4+YTpob3Zlcntjb2xvcjojM2Q4YjNkfS5wYW5lbC1yZWR7Ym9yZGVyLWNvbG9yOiNkOTUzNGZ9LnBhbmVsLXJlZD4ucGFuZWwtaGVhZGluZ3tib3JkZXItY29sb3I6I2Q5NTM0Zjtjb2xvcjojZmZmO2JhY2tncm91bmQtY29sb3I6I2Q5NTM0Zn0ucGFuZWwtcmVkPmF7Y29sb3I6I2Q5NTM0Zn0ucGFuZWwtcmVkPmE6aG92ZXJ7Y29sb3I6I2I1MmIyN30ucGFuZWwteWVsbG93e2JvcmRlci1jb2xvcjojZjBhZDRlfS5wYW5lbC15ZWxsb3c+LnBhbmVsLWhlYWRpbmd7Ym9yZGVyLWNvbG9yOiNmMGFkNGU7Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiNmMGFkNGV9LnBhbmVsLXllbGxvdz5he2NvbG9yOiNmMGFkNGV9LnBhbmVsLXllbGxvdz5hOmhvdmVye2NvbG9yOiNkZjhhMTN9LnRvb2xiYXJ7bWFyZ2luLWJvdHRvbToxMHB4fS5lbnRpdHkta2V5e2ZvbnQtZmFtaWx5Ok1vbmFjbyxDb25zb2xhcyxMdWNpZGEgQ29uc29sZSxkZWphdnUgc2FucyBtb25vLG1vbm9zcGFjZTtmb250LXNpemU6MTFweH0ucHJvb2Ytb2YtcGxheS1sYWJlbHtwYWRkaW5nLWJvdHRvbToxMHB4O3BhZGRpbmctdG9wOjEwcHh9LmNvcHktcmVhZHktdHJhbnNwYXJlbnR7Y29sb3I6dHJhbnNwYXJlbnR9Lm5vLWRldmljZXN7dGV4dC1hbGlnbjpjZW50ZXJ9LnByb3BlcnRpZXMtd29yZC1icmVha3t3aWR0aDozOTBweDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmJsb2NrfS5jb21tYW5kLWhpc3RvcnktY29tbWFuZHt3aWR0aDozNzVweDt3b3JkLXdyYXA6YnJlYWstd29yZDtkaXNwbGF5OmJsb2NrfS5ob3N0bmFtZS13b3JkLWJyZWFre3dpZHRoOjIwMHB4O3dvcmQtd3JhcDpicmVhay13b3JkO2Rpc3BsYXk6aW5saW5lLWJsb2NrfVtkYXRhLW5nLWNsaWNrXSxbbmctY2xpY2tdLFt4LW5nLWNsaWNrXXtjdXJzb3I6cG9pbnRlcn0jcHJvb2ZwbGF5LXNlbGVjdGVkLWl0ZW1ze21pbi13aWR0aDowIWltcG9ydGFudDttYXJnaW46MCBhdXRvO3BhZGRpbmc6MCBhdXRvfS5yYWRpby1idXR0b257cGFkZGluZzozcHh9Lmhvcml6b250YWwtc3VibWl0e21hcmdpbjouNWVtfS5ob3Jpem9udGFsLXN1Ym1pdCwucmFkaW8taG9yaXpvbnRhbHtkaXNwbGF5OmZsZXg7YWxpZ24tc2VsZjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyOy13ZWJraXQtYWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcn1tZC10b29sYmFyLm1kLWRlZmF1bHQtdGhlbWU6bm90KC5tZC1tZW51LXRvb2xiYXIpLG1kLXRvb2xiYXI6bm90KC5tZC1tZW51LXRvb2xiYXIpe2JhY2tncm91bmQtY29sb3I6IzFiNzViYiFpbXBvcnRhbnQ7bWF4LWhlaWdodDo2NHB4O21pbi1oZWlnaHQ6NjRweH0ubWQtdG9vbGJhci10b29sc3tiYWNrZ3JvdW5kLWNvbG9yOiMwMDAhaW1wb3J0YW50O21heC1oZWlnaHQ6NjRweDttaW4taGVpZ2h0OjY0cHh9LnNreWtpdC1pbWFnZXttYXgtd2lkdGg6MTAwJTtoZWlnaHQ6MzNweH1AbWVkaWEgKG1heC13aWR0aDo3NjdweCl7bWQtdG9vbGJhci5tZC1kZWZhdWx0LXRoZW1lOm5vdCgubWQtbWVudS10b29sYmFyKSxtZC10b29sYmFyOm5vdCgubWQtbWVudS10b29sYmFyKXttYXJnaW4tdG9wOi01MHB4O21hcmdpbi1ib3R0b206NTBweH19LmNlbnRlci1ibG9ja3t0ZXh0LWFsaWduOmNlbnRlcn0uZWxsaXBzaXMtb3ZlcmZsb3csLnByb29mLW9mLXBsYXktc2VsZWN0ZWQtaXRlbXt3aWR0aDoxMDAlO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1hbGlnbjpsZWZ0O3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LnByb29mLW9mLXBsYXktdGVuYW50LW5hbWUtb3B0aW9ue3dpZHRoOjdlbTt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246Y2VudGVyO3Bvc2l0aXRpb246YWJzb2x1dGU7dGV4dC1vdmVyZmxvdzplbGxpcHNpc30ucHJvb2Ytb2YtcGxheS1ob3Jpem9udGFsLXRvcC1iYXJ7YWxpZ24tc2VsZjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyOy13ZWJraXQtYWxpZ24taXRlbXM6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOi41ZW07bWFyZ2luLWJvdHRvbTouNWVtO2FsaWduLWl0ZW1zOmNlbnRlcn0ubXktZmxleCwucHJvb2Ytb2YtcGxheS1ob3Jpem9udGFsLXRvcC1iYXJ7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXJ9LmJpZ2dlci1idXR0b25ze3BhZGRpbmc6LjRlbTttaW4td2lkdGg6ODhweDtib3JkZXItcmFkaXVzOjVweDtmb250LXNpemU6MTZweDt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTtib3JkZXI6bm9uZTtvdXRsaW5lOm5vbmV9LmFkbWluLWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7YWxpZ24tY29udGVudDpmbGV4LXN0YXJ0fS5yZWdpc3RyYXRpb24tZXZlbnQtY29sdW1ue2hlaWdodDoxMTBweDtkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjp0b3A7b3ZlcmZsb3c6c2Nyb2xsfS5wdWxsLWNvbW1hbmQtc2VuZC1idXR0b24tdXB7bWFyZ2luLXRvcDotMnB4fWhlYWRlci5kdHAtaGVhZGVye2JhY2tncm91bmQ6IzFiNzViYiFpbXBvcnRhbnR9LmR0cCBkaXYuZHRwLWRhdGUsLmR0cCBkaXYuZHRwLXRpbWV7YmFja2dyb3VuZDojMDAwfS5kdHAgLmR0cC1hY3R1YWwtbWVyaWRpZW4gYS5zZWxlY3RlZCwuZHRwIC5kdHAtcGlja2VyLXRpbWU+YS5kdHAtc2VsZWN0LWhvdXIuc2VsZWN0ZWQsLmR0cCB0YWJsZS5kdHAtcGlja2VyLWRheXMgdHI+dGQ+YS5zZWxlY3RlZHtiYWNrZ3JvdW5kOiMxYjc1YmIhaW1wb3J0YW50fS5kdHAgLmR0cC1oYW5kLm9ue2JhY2tncm91bmQ6IzAwMH0uZGV2aWNlLXByb3BlcnRpZXMtc3dpdGNoe21hcmdpbi10b3A6LTFweH0ubWQtY29udGVudC1jb21tYW5kLW92ZXJyaWRlIG1kLWNvbnRlbnR7b3ZlcmZsb3c6dW5zZXR9LnB1bGwtdG9vbHRpcC1sZWZ0e21hcmdpbi1sZWZ0Oi01NXB4fS5jb21tYW5kLWJ1dHRvbi1yaWdodHtmbG9hdDpyaWdodDtmbGV4LWRpcmVjdGlvbjpyb3ctcmV2ZXJzZX1tZC1zZWxlY3R7ZGlzcGxheTpibG9jazttYXJnaW46MTBweCAwIDhweDtwYWRkaW5nLWJvdHRvbToycHg7cG9zaXRpb246cmVsYXRpdmU7bWluLXdpZHRoOjE4MHB4O21heC13aWR0aDoxODBweH0uc21hbGwtZGVsZXRlLWJ1dHRvbntmbG9hdDpyaWdodDttaW4td2lkdGg6MjVweDttYXJnaW4tdG9wOi0xNXB4O21hcmdpbi1yaWdodDotNXB4fS50b29sdGlwLWN1c3RvbS1sYXJnZXttaW4td2lkdGg6MjUwcHh9LnRlbmFudC1pbWFnZS1uYW1lLC51c2VyLWVtYWlsLWVsbGlwc2lze3dpZHRoOjEwZW07d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L3Nhc3MtbG9hZGVyIS4vc3JjL2FwcC9zY3NzL2luZGV4LnNjc3NcbiAqKiBtb2R1bGUgaWQgPSA2NDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZnVuY3Rpb24gRGV2aWNlRGV0YWlsc0NvbW1hbmRzQ3RybCgkbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYXRpb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tbWFuZHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaW1lem9uZXNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvYXN0c1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICB2bS5kZXZpY2VLZXkgPSAkc3RhdGVQYXJhbXMuZGV2aWNlS2V5O1xuICB2bS5mcm9tRGV2aWNlcyA9ICRzdGF0ZVBhcmFtcy5mcm9tRGV2aWNlcyA9PT0gXCJ0cnVlXCI7XG4gIHZtLmN1cnJlbnREZXZpY2UgPSB7fTtcbiAgdm0uY29tbWFuZEV2ZW50cyA9IFtdO1xuXG4gIHZtLmdlbmVyYXRlTG9jYWxGcm9tVVRDID0gZnVuY3Rpb24gKFVUQ1RpbWUpIHtcbiAgICBsZXQgbG9jYWxUaW1lID0gbW9tZW50LnV0YyhVVENUaW1lKS50b0RhdGUoKTtcbiAgICByZXR1cm4gbG9jYWxUaW1lID0gbW9tZW50KGxvY2FsVGltZSkuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tOnNzIEEnKTtcbiAgfTtcblxuICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gaXNzdWVzW2ldO1xuICAgICAgaWYgKGVhY2gucG9zdGVkVGltZSkge1xuICAgICAgICBlYWNoLnBvc3RlZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnBvc3RlZFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKGVhY2guY29uZmlybWVkVGltZSkge1xuICAgICAgICBlYWNoLmNvbmZpcm1lZFRpbWUgPSB2bS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNvbmZpcm1lZFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH07XG5cbiAgdm0uZ2V0RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBjb21tYW5kRXZlbnRzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpO1xuICAgIHJldHVybiBjb21tYW5kRXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUoZGF0YS5ldmVudHMpO1xuICAgICAgdm0uZXZlbnRfbmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuICAgICAgdm0uZXZlbnRfcHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuICAgICAgdm0uY29tbWFuZEV2ZW50cyA9IGRhdGEuZXZlbnRzO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLmdldEV2ZW50c1RpbWVPdXQgPSAoZGV2aWNlS2V5LCBwcmV2LCBuZXh0KSA9PlxuICAgICR0aW1lb3V0KCggKCkgPT4gdm0uZ2V0RXZlbnRzKGRldmljZUtleSwgcHJldiwgbmV4dCkpLCAxMDAwKVxuICA7XG5cbiAgdm0uY29tbWFuZEhpc3RvcnlTZWxlY3RlZCA9ICgpID0+IHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXkpO1xuXG4gIHZtLnBhZ2luYXRlRXZlbnRDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgcmV0dXJuIHZtLmdldEV2ZW50cyh2bS5kZXZpY2VLZXksIG51bGwsIHZtLmV2ZW50X25leHRfY3Vyc29yKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgdm0uZXZlbnRfcHJldl9jdXJzb3IsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcbiAgICBkZXZpY2VQcm9taXNlLnRoZW4oKHJlc3BvbnNlID0+IHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXNwb25zZSkpLCByZXNwb25zZSA9PiB2bS5vbkdldERldmljZUZhaWx1cmUocmVzcG9uc2UpKTtcblxuICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5KTtcbiAgfTtcblxuICB2bS5vbkdldERldmljZVN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICB2bS5jdXJyZW50RGV2aWNlID0gcmVzcG9uc2U7XG4gICAgaWYgKHJlc3BvbnNlLnRpbWV6b25lICE9PSB2bS5zZWxlY3RlZFRpbWV6b25lKSB7XG4gICAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gcmVzcG9uc2UudGltZXpvbmU7XG4gICAgfVxuICAgIGlmICh2bS50ZW5hbnRLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdm0udGVuYW50S2V5ID0gdm0uY3VycmVudERldmljZS50ZW5hbnRLZXk7XG4gICAgfVxuICAgIGlmICgkc3RhdGVQYXJhbXMuZnJvbURldmljZXMgPT09IFwidHJ1ZVwiKSB7XG4gICAgICB2bS5iYWNrVXJsID0gJy8jL2RldmljZXMnO1xuICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gZGV2aWNlcyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmlzVW5tYW5hZ2VkRGV2aWNlID09PSB0cnVlKSB7XG4gICAgICAgIHZtLmJhY2tVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vdW5tYW5hZ2VkYDtcbiAgICAgICAgcmV0dXJuIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gdGVuYW50IHVubWFuYWdlZCBkZXZpY2VzJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZtLmJhY2tVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vbWFuYWdlZGA7XG4gICAgICAgIHJldHVybiB2bS5iYWNrVXJsVGV4dCA9ICdCYWNrIHRvIHRlbmFudCBtYW5hZ2VkIGRldmljZXMnO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2bS5vbkdldERldmljZUZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSB0byBmZXRjaCB0aGUgZGV0YWlscyBmb3IgdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgTm8gZGV0YWlsIGZvciBkZXZpY2Vfa2V5ICMke3ZtLmRldmljZUtleX0uIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWA7XG4gICAgJGxvZy5lcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIHJldHVybiAkc3RhdGUuZ28oJ2RldmljZXMnKTtcbiAgfTtcblxuICB2bS5vblJlc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jb250ZW50RGVsZXRlKHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblJlc2V0Q29udGVudFN1Y2Nlc3MsIHZtLm9uUmVzZXRDb250ZW50RmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25SZXNldENvbnRlbnRTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblJlc2V0Q29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBSZXNldCBjb250ZW50IGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcmVzZXQgY29udGVudCBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblVwZGF0ZUNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UuY29udGVudFVwZGF0ZSh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVDb250ZW50U3VjY2Vzcywgdm0ub25VcGRhdGVDb250ZW50RmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25VcGRhdGVDb250ZW50U3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlQ29udGVudEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBDb250ZW50IHVwZGF0ZSBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHVwZGF0ZSBjb250ZW50IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uUmVzZXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucmVzZXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzZXRQbGF5ZXJTdWNjZXNzLCB2bS5vblJlc2V0UGxheWVyRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25SZXNldFBsYXllclN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciByZXNldCBwbGF5ZXIgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25SZXNldFBsYXllckZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAkbG9nLmVycm9yKGBSZXNldCBwbGF5ZXIgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXNldCBwbGF5ZXIgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25QYW5lbE9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvd2VyT24odm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxPblN1Y2Nlc3MsIHZtLm9uUGFuZWxPbkZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPblN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoXCJXZSBwb3N0ZWQgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiKTtcbiAgfTtcblxuICB2bS5vblBhbmVsT25GYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgUGFuZWwgb24gY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBwYW5lbCBvbiBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLCAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblBhbmVsT2ZmID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBvd2VyT2ZmKHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblBhbmVsT2ZmU3VjY2Vzcywgdm0ub25QYW5lbE9mZkZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPZmZTdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHZtLmdldEV2ZW50c1RpbWVPdXQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxPZmZGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgUGFuZWwgb2ZmIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcGFuZWwgb2ZmIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnVwZGF0ZURldmljZSh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25VcGRhdGVEZXZpY2VTdWNjZXNzLCB2bS5vblVwZGF0ZURldmljZUZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uVXBkYXRlRGV2aWNlU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHVwZGF0ZSBkZXZpY2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25VcGRhdGVEZXZpY2VGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgVXBkYXRlIGRldmljZSBjb21tYW5kIGVycm9yOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gcG9zdCB5b3VyIHVwZGF0ZSBkZXZpY2UgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIiwgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25Wb2x1bWVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2Uudm9sdW1lKHZtLmRldmljZUtleSwgdm0uY3VycmVudERldmljZS52b2x1bWUpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Wb2x1bWVDaGFuZ2VTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2Uudm9sdW1lKSwgdm0ub25Wb2x1bWVDaGFuZ2VGYWlsdXJlKTtcbiAgfTtcblxuICB2bS5vblZvbHVtZUNoYW5nZVN1Y2Nlc3MgPSBmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB2bS5nZXRFdmVudHNUaW1lT3V0KHZtLmRldmljZUtleSk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChgV2UgcG9zdGVkIHlvdXIgdm9sdW1lIGNoYW5nZSBjb21tYW5kIG9mICR7bGV2ZWx9IGludG8gdGhlIHBsYXllcidzIHF1ZXVlLmApO1xuICB9O1xuXG4gIHZtLm9uVm9sdW1lQ2hhbmdlRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFZvbHVtZSBjaGFuZ2UgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciB2b2x1bWUgY2hhbmdlIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uQ3VzdG9tQ29tbWFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IENvbW1hbmRzU2VydmljZS5jdXN0b20odm0uZGV2aWNlS2V5LCB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vbkN1c3RvbUNvbW1hbmRTdWNjZXNzKHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tKSwgdm0ub25DdXN0b21Db21tYW5kRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25DdXN0b21Db21tYW5kU3VjY2VzcyA9IGZ1bmN0aW9uIChjb21tYW5kKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgdm0uZ2V0RXZlbnRzVGltZU91dCh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoYFdlIHBvc3RlZCB5b3VyIGN1c3RvbSBjb21tYW5kICcke2NvbW1hbmR9JyBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5gKTtcbiAgfTtcblxuICB2bS5vbkN1c3RvbUNvbW1hbmRGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgQ3VzdG9tIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgY3VzdG9tIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLm9uRGlhZ25vc3RpY3NUb2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UudG9nZ2xlRGlhZ25vc3RpY3Modm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NTdWNjZXNzLCB2bS5vblRvZ2dsZURpYWdub3N0aWNzRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Ub2dnbGVEaWFnbm9zdGljc1N1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIGRpYWdub3N0aWNzIGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIpO1xuICB9O1xuXG4gIHZtLm9uVG9nZ2xlRGlhZ25vc3RpY3NGYWlsdXJlID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgJGxvZy5lcnJvcihgRGlhZ25vc3RpY3MgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciBkaWFnbm9zdGljcyBjb21tYW5kIGludG8gdGhlIHBsYXllcidzIHF1ZXVlLlwiLFxuICAgICAgJ2Vycm9yJyk7XG4gIH07XG5cbiAgdm0ub25SZXN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnJlc3RhcnQodm0uZGV2aWNlS2V5KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUmVzdGFydFN1Y2Nlc3MsIHZtLm9uUmVzdGFydEZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUmVzdGFydFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHBvc3RlZCB5b3VyIHJlc3RhcnQgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25SZXN0YXJ0RmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFJlc3RhcnQgY29tbWFuZCBlcnJvcjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCBcIldlIHdlcmUgdW5hYmxlIHRvIHBvc3QgeW91ciByZXN0YXJ0IGNvbW1hbmQgaW50byB0aGUgcGxheWVyJ3MgcXVldWUuXCIsXG4gICAgICAnZXJyb3InKTtcbiAgfTtcblxuICB2bS5vblBvc3RMb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBDb21tYW5kc1NlcnZpY2UucG9zdExvZyh2bS5kZXZpY2VLZXkpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25Qb3N0TG9nU3VjY2Vzcywgdm0ub25Qb3N0TG9nRmFpbHVyZSk7XG4gIH07XG5cbiAgdm0ub25Qb3N0TG9nU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KFwiV2UgcG9zdGVkIHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIik7XG4gIH07XG5cbiAgdm0ub25Qb3N0TG9nRmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYFBvc3QgbG9nIGNvbW1hbmQgZXJyb3I6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJXZSB3ZXJlIHVuYWJsZSB0byBwb3N0IHlvdXIgcG9zdCBsb2cgY29tbWFuZCBpbnRvIHRoZSBwbGF5ZXIncyBxdWV1ZS5cIixcbiAgICAgICdlcnJvcicpO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEZXZpY2VEZXRhaWxzQ29tbWFuZHNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2RldmljZS9kZXZpY2UtZGV0YWlsLWNvbW1hbmQuanNcbiAqKi8iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgbmF0dXJhbFNvcnQgZnJvbSAnamF2YXNjcmlwdC1uYXR1cmFsLXNvcnQnO1xuXG5cbmZ1bmN0aW9uIERldmljZURldGFpbHNDdHJsKCRsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlbmFudHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYXRpb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbW1hbmRzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpbWV6b25lc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBJbnRlZ3JhdGlvbkV2ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3ZWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9hc3RzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBJbWFnZVNlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGNvbnN0IHZtID0gdGhpcztcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0udGVuYW50VXJsID0gYC8jL3RlbmFudHMvJHt2bS50ZW5hbnRLZXl9L2RldGFpbHNgXG4gIHZtLmRldmljZUtleSA9ICRzdGF0ZVBhcmFtcy5kZXZpY2VLZXk7XG4gIHZtLmZyb21EZXZpY2VzID0gJHN0YXRlUGFyYW1zLmZyb21EZXZpY2VzID09PSBcInRydWVcIjtcbiAgdm0uY3VycmVudERldmljZSA9IHt9O1xuICB2bS5sb2NhdGlvbnMgPSBbXTtcbiAgdm0uY29tbWFuZEV2ZW50cyA9IFtdO1xuICB2bS5kYXlSYW5nZSA9IDMwO1xuICB2bS5pc3N1ZXMgPSBbXTtcbiAgdm0udGltZXpvbmVzID0gW107XG4gIHZtLnNlbGVjdGVkVGltZXpvbmUgPSB1bmRlZmluZWQ7XG4gIFt2bS5zdGFydFRpbWUsIHZtLmVuZFRpbWVdID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuY3JlYXRlRm9ybWF0dGVkU3RhcnRBbmRFbmREYXRlRnJvbVRvZGF5KDMwKTtcbiAgdm0uZW5yb2xsbWVudEV2ZW50cyA9IFtdO1xuICB2bS5sb2dvQ2hhbmdlID0gZmFsc2U7XG4gIHZtLmNvbnRyb2xzTW9kZU9wdGlvbnMgPSBbXCJ2aXNpYmxlXCIsIFwiaW52aXNpYmxlXCIsIFwiZGlzYWJsZWRcIl07XG4gIHZtLm9yaWVudGF0aW9uT3B0aW9ucyA9IFtcIjBcIiwgXCI5MFwiLCBcIjE4MFwiLCBcIjI3MFwiXTtcbiAgdm0uc2xlZXBDb250cm9sbGVyT3B0aW9ucyA9IFtcImNocm9tZS1kZWZhdWx0XCIsIFwicnMyMzJcIl07XG4gIHZtLm92ZXJsYXlDaGFuZ2VkID0gZmFsc2U7XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIE92ZXJsYXlcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5jaGVja0Zvck92ZXJsYXlDaGFuZ2VzID0gKCkgPT4ge1xuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgbGV0IGN1cnJlbnREZXZpY2VPdmVybGF5cyA9IHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheXM7XG4gICAgbGV0IGN1cnJlbnREZXZpY2VDb3B5T3ZlcmxheXMgPSB2bS5jdXJyZW50RGV2aWNlQ29weS5vdmVybGF5cztcbiAgICBsZXQgcG9zaXRpb25zID0gWyd0b3BfbGVmdCcsICd0b3BfcmlnaHQnLCAnYm90dG9tX3JpZ2h0JywgJ2JvdHRvbV9sZWZ0J107XG5cbiAgICBmb3IgKGxldCBwb3Mgb2YgcG9zaXRpb25zKSB7XG4gICAgICBpZiAoY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10uc2l6ZSAhPT0gY3VycmVudERldmljZUNvcHlPdmVybGF5c1twb3NdLnNpemUpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10udHlwZSAhPT0gY3VycmVudERldmljZUNvcHlPdmVybGF5c1twb3NdLnR5cGUpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10udHlwZSA9PT0gJ2xvZ28nKSB7XG4gICAgICAgIGlmICgoY3VycmVudERldmljZU92ZXJsYXlzW3Bvc10udHlwZSArIFwiOiBcIiArIGN1cnJlbnREZXZpY2VPdmVybGF5c1twb3NdLm5hbWUpICE9PSBjdXJyZW50RGV2aWNlQ29weU92ZXJsYXlzW3Bvc10ubmFtZSkge1xuICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZtLm92ZXJsYXlDaGFuZ2VkID0gY2hhbmdlZDtcbiAgfVxuXG5cbiAgdm0ucmV2ZXJ0VG9UZW5hbnRPdmVybGF5ID0gKGV2KSA9PiB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgdm0ubG9hZGluZ092ZXJsYXlzID0gdHJ1ZTtcbiAgICBsZXQgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KCRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkpO1xuICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG4gICAgICBsZXQgY3VycmVudFRlbmFudE92ZXJsYXlzID0gdGVuYW50Lm92ZXJsYXlzO1xuICAgICAgaWYgKGN1cnJlbnRUZW5hbnRPdmVybGF5cykge1xuICAgICAgICBkZWxldGUgY3VycmVudFRlbmFudE92ZXJsYXlzLmtleTtcblxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gY3VycmVudFRlbmFudE92ZXJsYXlzKSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRUZW5hbnRPdmVybGF5c1trZXldW1widHlwZVwiXSA9PT0gXCJsb2dvXCIpIHtcbiAgICAgICAgICAgIGN1cnJlbnRUZW5hbnRPdmVybGF5c1trZXldW1wiaW1hZ2Vfa2V5XCJdID0gY3VycmVudFRlbmFudE92ZXJsYXlzW2tleV1bXCJpbWFnZUtleVwiXVtcImtleVwiXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50VGVuYW50T3ZlcmxheXNba2V5XVtcImltYWdlX2tleVwiXSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIDtcblxuICAgICAgICBsZXQgcHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLnNhdmVPdmVybGF5U2V0dGluZ3MoXG4gICAgICAgICAgdm0uZGV2aWNlS2V5LFxuICAgICAgICAgIGN1cnJlbnRUZW5hbnRPdmVybGF5cy5ib3R0b21fbGVmdCxcbiAgICAgICAgICBjdXJyZW50VGVuYW50T3ZlcmxheXMuYm90dG9tX3JpZ2h0LFxuICAgICAgICAgIGN1cnJlbnRUZW5hbnRPdmVybGF5cy50b3BfcmlnaHQsXG4gICAgICAgICAgY3VycmVudFRlbmFudE92ZXJsYXlzLnRvcF9sZWZ0XG4gICAgICAgICk7XG5cbiAgICAgICAgcHJvbWlzZS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBsZXQgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG4gICAgICAgICAgZGV2aWNlUHJvbWlzZS50aGVuKChjdXJyZW50RGV2aWNlKSA9PiB7XG4gICAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLm92ZXJsYXlzID0gY3VycmVudERldmljZS5vdmVybGF5cztcbiAgICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2VDb3B5Lm92ZXJsYXlzID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheXMpXG4gICAgICAgICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcbiAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgICBwcm9taXNlLmNhdGNoKChyZXMpID0+IHtcbiAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm0ubG9hZGluZ092ZXJsYXlzID0gZmFsc2U7XG4gICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdZb3VyIHRlbmFudCBkb2VzIG5vdCBoYXZlIG92ZXJsYXlzIGVuYWJsZWQuICcgK1xuICAgICAgICAgICdQbGVhc2UgZW5hYmxlIG92ZXJsYXlzIGZvciB5b3VyIHRlbmFudCBiZWZvcmUgYXR0ZW1wdGluZyB0byByZXZlcnQgZGV2aWNlIG92ZXJsYXkgdG8gdGVuYW50IHNldHRpbmdzLicsICdlcnJvcicpO1xuXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG5cbiAgdm0uYWRqdXN0Q29udHJvbHNNb2RlID0gKCkgPT4ge1xuICAgIGxldCBjb250cm9sc01vZGUgPSB2bS5jdXJyZW50RGV2aWNlLmNvbnRyb2xzTW9kZTtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgY29udHJvbHNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuYWRqdXN0Q29udHJvbHNNb2RlKHZtLmRldmljZUtleSwgY29udHJvbHNNb2RlKVxuICAgIGNvbnRyb2xzUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBZb3VyIGNvbnRyb2xzIG1vZGUgc2VsZWN0aW9uIHdhcyBzdWNjZXNmdWxseSBjaGFuZ2VkIHRvOiAke2NvbnRyb2xzTW9kZX1gKTtcbiAgICB9KVxuICAgIGNvbnRyb2xzUHJvbWlzZS5jYXRjaCgoKSA9PiB7XG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIC8vVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChcIllvdXIgY29udHJvbHMgbW9kZSBjaGFuZ2UgZmFpbGVkIHRvIHNhdmUuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuXCIpXG4gICAgfSlcbiAgfTtcblxuICB2bS5hZGp1c3RPdmVybGF5U3RhdHVzID0gKHN0YXR1cykgPT4ge1xuICAgIHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheVN0YXR1cyA9IHN0YXR1c1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50RGV2aWNlKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIGxldCBkZXZpY2VQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlQnlLZXkodm0uZGV2aWNlS2V5KTtcbiAgICAgIGRldmljZVByb21pc2UudGhlbigocmVzcG9uc2UgPT4ge1xuICAgICAgICB2bS5vbkdldERldmljZVN1Y2Nlc3MocmVzcG9uc2UpXG4gICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgfSksIHJlc3BvbnNlID0+IHZtLm9uR2V0RGV2aWNlRmFpbHVyZShyZXNwb25zZSkpO1xuICAgIH0pXG4gIH1cblxuICB2bS5zdWJtaXRPdmVybGF5U2V0dGluZ3MgPSAoKSA9PiB7XG4gICAgbGV0IG92ZXJsYXlTZXR0aW5ncyA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50RGV2aWNlQ29weS5vdmVybGF5cylcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSB0cnVlO1xuICAgIGxldCBwcm9taXNlID0gRGV2aWNlc1NlcnZpY2Uuc2F2ZU92ZXJsYXlTZXR0aW5ncyhcbiAgICAgIHZtLmRldmljZUtleSxcbiAgICAgIG92ZXJsYXlTZXR0aW5ncy5ib3R0b21fbGVmdCxcbiAgICAgIG92ZXJsYXlTZXR0aW5ncy5ib3R0b21fcmlnaHQsXG4gICAgICBvdmVybGF5U2V0dGluZ3MudG9wX3JpZ2h0LFxuICAgICAgb3ZlcmxheVNldHRpbmdzLnRvcF9sZWZ0XG4gICAgKVxuICAgIHByb21pc2UudGhlbigocmVzKSA9PiB7XG4gICAgICBsZXQgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG4gICAgICBkZXZpY2VQcm9taXNlLnRoZW4oKGN1cnJlbnREZXZpY2UpID0+IHtcbiAgICAgICAgdm0uY3VycmVudERldmljZS5vdmVybGF5cyA9IGN1cnJlbnREZXZpY2Uub3ZlcmxheXM7XG4gICAgICAgIHZtLmN1cnJlbnREZXZpY2VDb3B5Lm92ZXJsYXlzID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnREZXZpY2Uub3ZlcmxheXMpXG4gICAgICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IGZhbHNlO1xuICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHByb21pc2UuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuICAgIH0pXG4gIH07XG5cbiAgdm0uZ2V0VGVuYW50SW1hZ2VzQW5kUmVmcmVzaERldmljZSA9ICgpID0+IHtcbiAgICBsZXQgZGV2aWNlUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZUJ5S2V5KHZtLmRldmljZUtleSk7XG4gICAgZGV2aWNlUHJvbWlzZS50aGVuKChyZXMpID0+IHtcbiAgICAgIHZtLm9uR2V0RGV2aWNlU3VjY2VzcyhyZXMpXG4gICAgICB2bS5nZXRUZW5hbnRJbWFnZXMoKVxuXG4gICAgfSk7XG4gICAgZGV2aWNlUHJvbWlzZS5jYXRjaCgocmVzKSA9PiB7XG4gICAgICB2bS5vbkdldERldmljZUZhaWx1cmUocmVzKVxuICAgIH0pXG5cbiAgfVxuXG4gIHZtLmdldFRlbmFudEltYWdlcyA9ICgpID0+IHtcbiAgICB2bS5PVkVSTEFZX1RZUEVTID0gW1xuICAgICAge3NpemU6IG51bGwsIHR5cGU6IG51bGwsIG5hbWU6IFwibm9uZVwiLCByZWFsTmFtZTogXCJub25lXCIsIG5ldzogZmFsc2UsIGltYWdlX2tleTogbnVsbH0sXG4gICAgICB7c2l6ZTogbnVsbCwgdHlwZTogXCJkYXRldGltZVwiLCBuYW1lOiBcImRhdGV0aW1lXCIsIHJlYWxOYW1lOiBcImRhdGV0aW1lXCIsIG5ldzogdHJ1ZSwgaW1hZ2Vfa2V5OiBudWxsfSxcbiAgICBdXG5cbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgcHJvbWlzZSA9IEltYWdlU2VydmljZS5nZXRJbWFnZXModm0udGVuYW50S2V5KTtcbiAgICBwcm9taXNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdm0udGVuYW50SW1hZ2VzID0gcmVzXG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIGZvciAobGV0IHZhbHVlIG9mIHZtLnRlbmFudEltYWdlcykge1xuICAgICAgICBmb3IgKGxldCBzaXplT3B0aW9uIG9mIFtcInNtYWxsXCIsIFwibGFyZ2VcIl0pIHtcbiAgICAgICAgICBsZXQgbmV3VmFsdWUgPSB7XG4gICAgICAgICAgICByZWFsTmFtZTogYW5ndWxhci5jb3B5KHZhbHVlLm5hbWUpLFxuICAgICAgICAgICAgbmFtZTogXCJsb2dvOiBcIiArIHZhbHVlLm5hbWUsXG4gICAgICAgICAgICB0eXBlOiBcImxvZ29cIixcbiAgICAgICAgICAgIHNpemU6IHNpemVPcHRpb24sXG4gICAgICAgICAgICBpbWFnZV9rZXk6IHZhbHVlLmtleVxuICAgICAgICAgIH1cbiAgICAgICAgICB2bS5PVkVSTEFZX1RZUEVTLnB1c2gobmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2bS5PVkVSTEFZX1RZUEVTLnNvcnQobmF0dXJhbFNvcnQpO1xuXG4gICAgfSk7XG5cbiAgICBwcm9taXNlLmNhdGNoKCgpID0+IHtcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgLy9Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiU09NRVRISU5HIFdFTlQgV1JPTkcgUkVUUklFVklORyBZT1VSIElNQUdFU1wiKVxuICAgIH0pXG4gIH1cblxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBFdmVudHMgYW5kIElzc3VlcyBUYWJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLnJlcGxhY2VJc3N1ZVRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gaXNzdWVzW2ldO1xuICAgICAgaWYgKGVhY2guY3JlYXRlZCkge1xuICAgICAgICBlYWNoLmNyZWF0ZWQgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNyZWF0ZWQpO1xuICAgICAgfVxuICAgICAgaWYgKGVhY2gudXBkYXRlZCkge1xuICAgICAgICBlYWNoLnVwZGF0ZWQgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnVwZGF0ZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUgPSBmdW5jdGlvbiAoaXNzdWVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpc3N1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gaXNzdWVzW2ldO1xuICAgICAgaWYgKGVhY2gucG9zdGVkVGltZSkge1xuICAgICAgICBlYWNoLnBvc3RlZFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLnBvc3RlZFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKGVhY2guY29uZmlybWVkVGltZSkge1xuICAgICAgICBlYWNoLmNvbmZpcm1lZFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5nZW5lcmF0ZUxvY2FsRnJvbVVUQyhlYWNoLmNvbmZpcm1lZFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2bS5sb2NhbEZyb21VdGMgPSBmdW5jdGlvbiAoZXZlbnRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gZXZlbnRzW2ldO1xuICAgICAgaWYgKGVhY2gudXRjVGltZXN0YW1wKSB7XG4gICAgICAgIGVhY2gudXRjVGltZXN0YW1wID0gRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2UuZ2VuZXJhdGVMb2NhbEZyb21VVEMoZWFjaC51dGNUaW1lc3RhbXApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH07XG5cbiAgdm0uY29weURldmljZUtleSA9ICgpID0+IFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnRGV2aWNlIGtleSBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmQnKTtcblxuICB2bS5jb3B5Q29ycmVsYXRpb25JZGVudGlmaWVyID0gKCkgPT4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdDb3JyZWxhdGlvbiBJRCBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmQnKTtcblxuICAvLyBldmVudCB0YWJcbiAgdm0uZ2V0SXNzdWVzID0gZnVuY3Rpb24gKGRldmljZSwgZXBvY2hTdGFydCwgZXBvY2hFbmQsIHByZXYsIG5leHQpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgaXNzdWVzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldElzc3Vlc0J5S2V5KGRldmljZSwgZXBvY2hTdGFydCwgZXBvY2hFbmQsIHByZXYsIG5leHQpO1xuICAgIHJldHVybiBpc3N1ZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLnJlcGxhY2VJc3N1ZVRpbWUoZGF0YS5pc3N1ZXMpO1xuICAgICAgdm0uaXNzdWVzID0gZGF0YS5pc3N1ZXM7XG4gICAgICB2bS5wcmV2X2N1cnNvciA9IGRhdGEucHJldjtcbiAgICAgIHZtLm5leHRfY3Vyc29yID0gZGF0YS5uZXh0O1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIGNvbW1hbmQgaGlzdG9yeSB0YWJcbiAgdm0uZ2V0RXZlbnRzID0gZnVuY3Rpb24gKGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBjb21tYW5kRXZlbnRzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldENvbW1hbmRFdmVudHNCeUtleShkZXZpY2VLZXksIHByZXYsIG5leHQpO1xuICAgIHJldHVybiBjb21tYW5kRXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5yZXBsYWNlQ29tbWFuZFRpbWUoZGF0YS5ldmVudHMpO1xuICAgICAgdm0uZXZlbnRfbmV4dF9jdXJzb3IgPSBkYXRhLm5leHRfY3Vyc29yO1xuICAgICAgdm0uZXZlbnRfcHJldl9jdXJzb3IgPSBkYXRhLnByZXZfY3Vyc29yO1xuICAgICAgdm0uY29tbWFuZEV2ZW50cyA9IGRhdGEuZXZlbnRzO1xuICAgICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIGVucm9sbG1lbnQgdGFiXG4gIHZtLmdldEVucm9sbG1lbnRFdmVudHMgPSBmdW5jdGlvbiAoZGV2aWNlS2V5KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGVucm9sbG1lbnRFdmVudHNQcm9taXNlID0gSW50ZWdyYXRpb25FdmVudHMuZ2V0RW5yb2xsbWVudEV2ZW50cyhkZXZpY2VLZXkpO1xuICAgIHJldHVybiBlbnJvbGxtZW50RXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5lbnJvbGxtZW50RXZlbnRzID0gZGF0YTtcbiAgICAgIHZtLmxvY2FsRnJvbVV0YyhkYXRhKTtcbiAgICAgIHJldHVybiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0SXNzdWVzKHZtLmRldmljZUtleSwgdm0uZXBvY2hTdGFydCwgdm0uZXBvY2hFbmQsIG51bGwsIHZtLm5leHRfY3Vyc29yKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0SXNzdWVzKHZtLmRldmljZUtleSwgdm0uZXBvY2hTdGFydCwgdm0uZXBvY2hFbmQsIHZtLnByZXZfY3Vyc29yLCBudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgdm0ucGFnaW5hdGVFdmVudENhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSwgbnVsbCwgdm0uZXZlbnRfbmV4dF9jdXJzb3IpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5nZXRFdmVudHModm0uZGV2aWNlS2V5LCB2bS5ldmVudF9wcmV2X2N1cnNvciwgbnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZXBvY2hTdGFydCA9IG1vbWVudCh2bS5zdGFydFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG4gICAgdm0uZXBvY2hFbmQgPSBtb21lbnQodm0uZW5kVGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcblxuICAgIGxldCB0aW1lem9uZVByb21pc2UgPSBUaW1lem9uZXNTZXJ2aWNlLmdldEN1c3RvbVRpbWV6b25lcygpO1xuICAgIHRpbWV6b25lUHJvbWlzZS50aGVuKGRhdGEgPT4gdm0udGltZXpvbmVzID0gZGF0YSk7XG5cbiAgICB2bS5wYW5lbE1vZGVscyA9IERldmljZXNTZXJ2aWNlLmdldFBhbmVsTW9kZWxzKCk7XG4gICAgdm0ucGFuZWxJbnB1dHMgPSBEZXZpY2VzU2VydmljZS5nZXRQYW5lbElucHV0cygpO1xuXG4gICAgbGV0IGRldmljZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5nZXREZXZpY2VCeUtleSh2bS5kZXZpY2VLZXkpO1xuICAgIGRldmljZVByb21pc2UudGhlbigocmVzcG9uc2UgPT4gdm0ub25HZXREZXZpY2VTdWNjZXNzKHJlc3BvbnNlKSksIHJlc3BvbnNlID0+IHZtLm9uR2V0RGV2aWNlRmFpbHVyZShyZXNwb25zZSkpO1xuXG4gICAgdm0uZ2V0VGVuYW50SW1hZ2VzKCk7XG4gICAgdm0uZ2V0RXZlbnRzKHZtLmRldmljZUtleSk7XG4gICAgdm0uZ2V0SXNzdWVzKHZtLmRldmljZUtleSwgdm0uZXBvY2hTdGFydCwgdm0uZXBvY2hFbmQpO1xuICAgIHJldHVybiB2bS5nZXRFbnJvbGxtZW50RXZlbnRzKHZtLmRldmljZUtleSk7XG4gIH07XG5cbiAgdm0ub25HZXREZXZpY2VTdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgdm0uY3VycmVudERldmljZSA9IHJlc3BvbnNlXG4gICAgdm0uY3VycmVudERldmljZUNvcHkgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudERldmljZSlcbiAgICBpZiAocmVzcG9uc2UudGltZXpvbmUgIT09IHZtLnNlbGVjdGVkVGltZXpvbmUpIHtcbiAgICAgIHZtLnNlbGVjdGVkVGltZXpvbmUgPSByZXNwb25zZS50aW1lem9uZTtcbiAgICB9XG4gICAgaWYgKHZtLnRlbmFudEtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2bS50ZW5hbnRLZXkgPSB2bS5jdXJyZW50RGV2aWNlLnRlbmFudEtleTtcbiAgICB9XG5cbiAgICBpZiAoJHN0YXRlUGFyYW1zLmZyb21EZXZpY2VzID09PSBcInRydWVcIikge1xuICAgICAgdm0uYmFja1VybCA9ICcvIy9kZXZpY2VzJztcbiAgICAgIHZtLmJhY2tVcmxUZXh0ID0gJ0JhY2sgdG8gZGV2aWNlcyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmlzVW5tYW5hZ2VkRGV2aWNlID09PSB0cnVlKSB7XG4gICAgICAgIHZtLmJhY2tVcmwgPSBgLyMvdGVuYW50cy8ke3ZtLnRlbmFudEtleX0vdW5tYW5hZ2VkYDtcbiAgICAgICAgdm0uYmFja1VybFRleHQgPSAnQmFjayB0byB0ZW5hbnQgdW5tYW5hZ2VkIGRldmljZXMnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm0uYmFja1VybCA9IGAvIy90ZW5hbnRzLyR7dm0udGVuYW50S2V5fS9tYW5hZ2VkYDtcbiAgICAgICAgdm0uYmFja1VybFRleHQgPSAnQmFjayB0byB0ZW5hbnQgbWFuYWdlZCBkZXZpY2VzJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgbG9jYXRpb25zUHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2UuZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXkodm0udGVuYW50S2V5KTtcbiAgICByZXR1cm4gbG9jYXRpb25zUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5sb2NhdGlvbnMgPSBkYXRhO1xuICAgICAgcmV0dXJuIHZtLnNldFNlbGVjdGVkT3B0aW9ucygpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLm9uR2V0RGV2aWNlRmFpbHVyZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ09vcHMuIFdlIHdlcmUgdW5hYmxlIHRvIGZldGNoIHRoZSBkZXRhaWxzIGZvciB0aGlzIGRldmljZSBhdCB0aGlzIHRpbWUuJyk7XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IGBObyBkZXRhaWwgZm9yIGRldmljZV9rZXkgJHt2bS5kZXZpY2VLZXl9LiBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gO1xuICAgICRsb2cuZXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG4gIH07XG5cbiAgdm0uc2V0U2VsZWN0ZWRPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwgPT09IG51bGwpIHtcbiAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCA9IHZtLnBhbmVsTW9kZWxzWzBdO1xuICAgICAgdm0uY3VycmVudERldmljZS5wYW5lbElucHV0ID0gdm0ucGFuZWxJbnB1dHNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm0ucGFuZWxNb2RlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHBhbmVsTW9kZWwgPSB2bS5wYW5lbE1vZGVsc1tpXTtcbiAgICAgICAgaWYgKHBhbmVsTW9kZWwuaWQgPT09IHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCkge1xuICAgICAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbCA9IHBhbmVsTW9kZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdm0ucGFuZWxJbnB1dHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IHBhbmVsSW5wdXQgPSB2bS5wYW5lbElucHV0c1tqXTtcbiAgICAgICAgbGV0IGlzUGFyZW50ID0gcGFuZWxJbnB1dC5wYXJlbnRJZCA9PT0gdm0uY3VycmVudERldmljZS5wYW5lbE1vZGVsLmlkO1xuICAgICAgICBpZiAoaXNQYXJlbnQgJiYgcGFuZWxJbnB1dC5pZC50b0xvd2VyQ2FzZSgpID09PSB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQpIHtcbiAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQgPSBwYW5lbElucHV0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5ICE9PSBudWxsKSB7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayA8IHZtLmxvY2F0aW9ucy5sZW5ndGg7IGsrKykge1xuICAgICAgICBsZXQgbG9jYXRpb24gPSB2bS5sb2NhdGlvbnNba107XG4gICAgICAgIGlmIChsb2NhdGlvbi5rZXkgPT09IHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkpIHtcbiAgICAgICAgICB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBQcm9wZXJ0aWVzIFRhYlxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLm9uU2F2ZURldmljZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBpZiAodm0uY3VycmVudERldmljZS5sb2NhdGlvbiAhPT0gdW5kZWZpbmVkICYmIHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb24ua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZtLmN1cnJlbnREZXZpY2UubG9jYXRpb25LZXkgPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uLmtleTtcbiAgICB9XG4gICAgaWYgKCh2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwpICYmICh2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLnBhbmVsTW9kZWwuaWQgIT09ICdOb25lJykpIHtcbiAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbE51bWJlciA9IHZtLmN1cnJlbnREZXZpY2UucGFuZWxNb2RlbC5pZDtcbiAgICB9XG4gICAgaWYgKCh2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQpICYmICh2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQuaWQgIT09IHVuZGVmaW5lZCAmJiB2bS5jdXJyZW50RGV2aWNlLnBhbmVsSW5wdXQuaWQgIT09ICdOb25lJykpIHtcbiAgICAgIHZtLmN1cnJlbnREZXZpY2UucGFuZWxTZXJpYWxJbnB1dCA9IHZtLmN1cnJlbnREZXZpY2UucGFuZWxJbnB1dC5pZC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICB2bS5jdXJyZW50RGV2aWNlLnRpbWV6b25lID0gdm0uc2VsZWN0ZWRUaW1lem9uZTtcbiAgICBsZXQgcHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLnNhdmUodm0uY3VycmVudERldmljZSk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NEZXZpY2VTYXZlLCB2bS5vbkZhaWx1cmVEZXZpY2VTYXZlKTtcbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NEZXZpY2VTYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuICB9O1xuXG4gIHZtLm9uRmFpbHVyZURldmljZVNhdmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICRsb2cuaW5mbyhcbiAgICAgICAgYEZhaWx1cmUgc2F2aW5nIGRldmljZS4gQ3VzdG9tZXIgZGlzcGxheSBjb2RlIGFscmVhZHkgZXhpc3RzIGZvciB0ZW5hbnQ6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGhpcyBjdXN0b21lciBkaXNwbGF5IGNvZGUgYWxyZWFkeSBleGlzdHMgZm9yIHRoaXMgdGVuYW50LiBQbGVhc2UgY2hvb3NlIGFub3RoZXIuJywgJ2Vycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRsb2cuZXJyb3IoYEZhaWx1cmUgc2F2aW5nIGRldmljZTogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gc2F2ZSB5b3VyIHVwZGF0ZXMgdG8gdGhpcyBkZXZpY2UgYXQgdGhpcyB0aW1lLicpO1xuICAgIH1cbiAgfTtcblxuICB2bS5vblBhbmVsU2xlZXAgPSBmdW5jdGlvbiAoY29tbWFuZCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gQ29tbWFuZHNTZXJ2aWNlLnBhbmVsU2xlZXAodm0uZGV2aWNlS2V5LCBjb21tYW5kKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uUGFuZWxTbGVlcFN1Y2Nlc3MsIHZtLm9uUGFuZWxTbGVlcEZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxTbGVlcFN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChcIldlIHRvZ2dsZWQgdGhlIHBhbmVsIHNsZWVwIGF0dHJpYnV0ZS4gVGhlIHBsYXllciBzaG91bGQgYWRqdXN0IHRvIHRoZXNlIGNoYW5nZXMgd2l0aGluIDE1IG1pbnV0ZXMuXCIpO1xuICB9O1xuXG4gIHZtLm9uUGFuZWxTbGVlcEZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2Ugd2VyZSB1bmFibGUgdG8gdG9nZ2xlIHRoZSBwYW5lbCBzbGVlcCBhdHRyaWJ1dGUuXCIsICdlcnJvcicpO1xuICB9O1xuXG4gIHZtLmNvbmZpcm1EZXZpY2VEZWxldGUgPSBmdW5jdGlvbiAoZXZlbnQsIGtleSkge1xuICAgIGxldCBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlIHRvIGRlbGV0ZSB0aGlzIGRldmljZT8nLFxuICAgICAgICB0ZXh0Q29udGVudDogJ1BsZWFzZSByZW1lbWJlciwgeW91IE1VU1QgcmVtb3ZlIHRoaXMgZGV2aWNlIGZyb20gQ29udGVudCBNYW5hZ2VyIGJlZm9yZSBkZWxldGluZyBpdCBmcm9tIFByb3Zpc2lvbmluZy4nLFxuICAgICAgICB0YXJnZXRFdmVudDogZXZlbnQsXG4gICAgICAgIG9rOiAnRGVsZXRlJyxcbiAgICAgICAgY2FuY2VsOiAnQ2FuY2VsJ1xuICAgICAgfVxuICAgICk7XG4gICAgbGV0IHNob3dQcm9taXNlID0gJG1kRGlhbG9nLnNob3coY29uZmlybSk7XG4gICAgbGV0IHN1Y2Nlc3MgPSAoKSA9PiB2bS5vbkNvbmZpcm1EZWxldGUoa2V5KTtcbiAgICBsZXQgZmFpbHVyZSA9ICgpID0+IHZtLm9uQ29uZmlybUNhbmNlbCgpO1xuICAgIHJldHVybiBzaG93UHJvbWlzZS50aGVuKHN1Y2Nlc3MsIGZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uQ29uZmlybURlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBsZXQgc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgcHJvY2Vzc2VkIHlvdXIgZGVsZXRlIHJlcXVlc3QuJyk7XG4gICAgICByZXR1cm4gJHN0YXRlLmdvKCdkZXZpY2VzJyk7XG4gICAgfTtcbiAgICBsZXQgZmFpbHVyZSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgbGV0IGZyaWVuZGx5TWVzc2FnZSA9ICdXZSB3ZXJlIHVuYWJsZSB0byBjb21wbGV0ZSB5b3VyIGRlbGV0ZSByZXF1ZXN0IGF0IHRoaXMgdGltZS4nO1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChmcmllbmRseU1lc3NhZ2UpO1xuICAgICAgcmV0dXJuICRsb2cuZXJyb3IoYERlbGV0ZSBkZXZpY2UgZmFpbHVyZSBmb3IgZGV2aWNlX2tleSAke2tleX06ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIH07XG4gICAgbGV0IGRlbGV0ZVByb21pc2UgPSBEZXZpY2VzU2VydmljZS5kZWxldGUoa2V5KTtcbiAgICByZXR1cm4gZGVsZXRlUHJvbWlzZS50aGVuKHN1Y2Nlc3MsIGZhaWx1cmUpO1xuICB9O1xuXG4gIHZtLm9uQ29uZmlybUNhbmNlbCA9ICgpID0+IFRvYXN0c1NlcnZpY2Uuc2hvd0luZm9Ub2FzdCgnV2UgY2FuY2VsZWQgeW91ciBkZWxldGUgcmVxdWVzdC4nKTtcblxuICB2bS5vblByb29mT2ZQbGF5TG9nZ2luZ0NoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5jdXJyZW50RGV2aWNlLnByb29mT2ZQbGF5TG9nZ2luZykge1xuICAgICAgbGV0IG5vTG9jYXRpb24gPSB2bS5jdXJyZW50RGV2aWNlLmxvY2F0aW9uS2V5ID09PSBudWxsO1xuICAgICAgbGV0IG5vRGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheUNvZGUgPT09IG51bGw7XG4gICAgICBpZiAobm9Mb2NhdGlvbikge1xuICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgTG9jYXRpb24gdG8gZW5hYmxlIFByb29mIG9mIHBsYXkuXCIsICdlcnJvcicpO1xuICAgICAgICByZXR1cm4gdm0uY3VycmVudERldmljZS5wcm9vZk9mUGxheUxvZ2dpbmcgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAobm9EaXNwbGF5Q29kZSkge1xuICAgICAgICBzd2VldC5zaG93KCdPb3BzLi4uJywgXCJZb3UgbXVzdCBoYXZlIGEgRGlzcGxheSBjb2RlIHRvIGVuYWJsZSBQcm9vZiBvZiBwbGF5LlwiLCAnZXJyb3InKTtcbiAgICAgICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UucHJvb2ZPZlBsYXlMb2dnaW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0ub25TYXZlRGV2aWNlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5vblNhdmVEZXZpY2UoKTtcbiAgICB9XG4gIH07XG5cbiAgdm0ub25VcGRhdGVMb2NhdGlvbiA9ICgpID0+IHZtLm9uU2F2ZURldmljZSgpO1xuXG4gIHZtLmF1dG9HZW5lcmF0ZUN1c3RvbWVyRGlzcGxheUNvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IG5ld0Rpc3BsYXlDb2RlID0gJyc7XG4gICAgaWYgKHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5TmFtZSkge1xuICAgICAgbmV3RGlzcGxheUNvZGUgPSB2bS5jdXJyZW50RGV2aWNlLmN1c3RvbWVyRGlzcGxheU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIG5ld0Rpc3BsYXlDb2RlID0gbmV3RGlzcGxheUNvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuICAgICAgbmV3RGlzcGxheUNvZGUgPSBuZXdEaXNwbGF5Q29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcbiAgICB9XG4gICAgcmV0dXJuIHZtLmN1cnJlbnREZXZpY2UuY3VzdG9tZXJEaXNwbGF5Q29kZSA9IG5ld0Rpc3BsYXlDb2RlO1xuICB9O1xuXG4gIHZtLmxvZ2dseUZvclVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHVzZXJEb21haW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCkuc3BsaXQoXCJAXCIpWzFdO1xuICAgIHJldHVybiB1c2VyRG9tYWluID09PSBcImRlbW8uYWdvc3RvLmNvbVwiIHx8IHVzZXJEb21haW4gPT09IFwiYWdvc3RvLmNvbVwiO1xuICB9O1xuXG4gIHZtLm9uQ2xpY2tSZWZyZXNoQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIHZtLnN0YXJ0VGltZSA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmNvbnZlcnRUb01vbWVudElmTm90QWxyZWFkeSh2bS5zdGFydFRpbWUpO1xuICAgIHZtLmVuZFRpbWUgPSBEYXRlTWFuaXB1bGF0aW9uU2VydmljZS5jb252ZXJ0VG9Nb21lbnRJZk5vdEFscmVhZHkodm0uZW5kVGltZSk7XG4gICAgdm0uZXBvY2hTdGFydCA9IG1vbWVudCh2bS5zdGFydFRpbWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKS51bml4KCk7XG4gICAgdm0uZXBvY2hFbmQgPSBtb21lbnQodm0uZW5kVGltZSwgJ1lZWVktTU0tREQgaGg6bW0gQScpLnVuaXgoKTtcbiAgICB2bS5wcmV2X2N1cnNvciA9IG51bGw7XG4gICAgdm0ubmV4dF9jdXJzb3IgPSBudWxsO1xuICAgIGxldCBpc3N1ZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0SXNzdWVzQnlLZXkodm0uZGV2aWNlS2V5LCB2bS5lcG9jaFN0YXJ0LCB2bS5lcG9jaEVuZCwgdm0ucHJldl9jdXJzb3IsIHZtLm5leHRfY3Vyc29yKTtcbiAgICByZXR1cm4gaXNzdWVzUHJvbWlzZS50aGVuKChkYXRhID0+IHZtLm9uUmVmcmVzaElzc3Vlc1N1Y2Nlc3MoZGF0YSkpLCBlcnJvciA9PiB2bS5vblJlZnJlc2hJc3N1ZXNGYWlsdXJlKGVycm9yKSk7XG4gIH07XG5cbiAgdm0ub25SZWZyZXNoSXNzdWVzU3VjY2VzcyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdm0ucmVwbGFjZUlzc3VlVGltZShkYXRhLmlzc3Vlcyk7XG4gICAgdm0uaXNzdWVzID0gZGF0YS5pc3N1ZXM7XG4gICAgdm0ucHJldl9jdXJzb3IgPSBkYXRhLnByZXY7XG4gICAgdm0ubmV4dF9jdXJzb3IgPSBkYXRhLm5leHQ7XG4gICAgcmV0dXJuIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICB9O1xuXG4gIHZtLm9uUmVmcmVzaElzc3Vlc0ZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBUb2FzdHNTZXJ2aWNlLnNob3dJbmZvVG9hc3QoJ1dlIHdlcmUgdW5hYmxlIHRvIHJlZnJlc2ggdGhlIGRldmljZSBpc3N1ZXMgbGlzdCBhdCB0aGlzIHRpbWUuJyk7XG4gICAgcmV0dXJuICRsb2cuZXJyb3IoYEZhaWx1cmUgdG8gcmVmcmVzaCBkZXZpY2UgaXNzdWVzOiAke2Vycm9yLnN0YXR1cyB9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gKTtcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7RGV2aWNlRGV0YWlsc0N0cmx9XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9kZXZpY2UvZGV2aWNlLWRldGFpbHMuY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIERldmljZXNMaXN0aW5nQ3RybCgkc3RhdGVQYXJhbXMsICRsb2csIERldmljZXNTZXJ2aWNlLCAkc3RhdGUsIFNlc3Npb25zU2VydmljZSwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBzd2VldCkge1xuICBcIm5nSW5qZWN0XCI7XG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLmRpc3RyaWJ1dG9yS2V5ID0gdW5kZWZpbmVkO1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIE1hbmFnZWRcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5kZXZpY2VzID0gW107XG4gIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiU2VyaWFsIE51bWJlclwiO1xuICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB2bS5nY21pZERldmljZXMgPSB7fTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFVubWFuYWdlZFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID0gXCJNQUNcIjtcbiAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuICB2bS51bm1hbmFnZWREaXNhYmxlZCA9IHRydWU7XG4gIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gbnVsbDtcbiAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSBudWxsO1xuICB2bS51bm1hbmFnZWREZXZpY2VzID0gW107XG4gIHZtLnVubWFuYWdlZE1hY0RldmljZXMgPSB7fTtcbiAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0ge307XG4gIHZtLmRldmljZXNUb01hdGNoT25Vbm1hbmFnZWQgPSBbXTtcbiAgdm0uZGV2aWNlc1RvTWF0Y2hPbk1hbmFnZWQgPSBbXTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgdm0ucmVmcmVzaE1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmRldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS5kZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLmRpc3RyaWJ1dG9yS2V5LCB2bS5kZXZpY2VzUHJldiwgdm0uZGV2aWNlc05leHQpO1xuICB9O1xuXG4gIHZtLnJlZnJlc2hVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnVubWFuYWdlZERldmljZXNQcmV2ID0gbnVsbDtcbiAgICB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCA9IG51bGw7XG4gICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLnVubWFuYWdlZERldmljZXNQcmV2LCB2bS51bm1hbmFnZWREZXZpY2VzTmV4dCk7XG4gIH07XG5cbiAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAodW5tYW5hZ2VkKSB7XG4gICAgaWYgKHVubWFuYWdlZCkge1xuICAgICAgdm0udW5tYW5hZ2VkU2VhcmNoVGV4dCA9ICcnO1xuICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IHt9O1xuICAgICAgdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IHt9O1xuICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPblVubWFuYWdlZCA9IFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gICAgICB2bS5tYWNEZXZpY2VzID0ge307XG4gICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uTWFuYWdlZCA9IFtdO1xuICAgIH1cbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IChpdGVtKSA9PiBEZXZpY2VzU2VydmljZS5lZGl0SXRlbShpdGVtLCB0cnVlKVxuXG4gIHZtLnByZXBhcmVGb3JFZGl0VmlldyA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHNlYXJjaFRleHQpIHtcbiAgICBsZXQgbWFjLCBzZXJpYWwsIGdjbWlkO1xuICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgIG1hYyA9IHZtLnVubWFuYWdlZFNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuICAgICAgc2VyaWFsID0gdm0udW5tYW5hZ2VkU2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuICAgICAgZ2NtaWQgPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIlxuICAgICAgaWYgKG1hYykge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkTWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIG1hYyA9IHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiO1xuICAgICAgc2VyaWFsID0gdm0uc2VsZWN0ZWRCdXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiO1xuICAgICAgZ2NtaWQgPSB2bS5zZWxlY3RlZEJ1dHRvbiA9PT0gXCJHQ00gSURcIlxuICAgICAgaWYgKG1hYykge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0ubWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2UgaWYgKHNlcmlhbCkge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0uc2VyaWFsRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm0uZWRpdEl0ZW0odm0uZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgdm0uY29udHJvbE9wZW5CdXR0b24gPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBpc01hdGNoKSB7XG4gICAgaWYgKCF1bm1hbmFnZWQpIHtcbiAgICAgIHZtLmRpc2FibGVkID0gIWlzTWF0Y2g7XG4gICAgICB2bS5kaXNhYmxlZEJ1dHRvbkxvYWRpbmcgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm0udW5tYW5hZ2VkRGlzYWJsZWQgPSAhaXNNYXRjaDtcbiAgICAgIHZtLnVubWFuYWdlZERpc2FibGVkQnV0dG9uTG9hZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uICh1bm1hbmFnZWQsIHJlc291cmNlKSB7XG4gICAgbGV0IGRldmljZXNUb01hdGNoT24gPSB1bm1hbmFnZWQgPyB2bS5kZXZpY2VzVG9NYXRjaE9uVW5tYW5hZ2VkIDogdm0uZGV2aWNlc1RvTWF0Y2hPbk1hbmFnZWRcbiAgICBsZXQgZm91bmRNYXRjaCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGl0ZW0gb2YgZGV2aWNlc1RvTWF0Y2hPbikge1xuICAgICAgaWYgKHJlc291cmNlID09PSBpdGVtKSB7XG4gICAgICAgIGZvdW5kTWF0Y2ggPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICB2bS5jb250cm9sT3BlbkJ1dHRvbih1bm1hbmFnZWQsIGZvdW5kTWF0Y2gpXG4gICAgcmV0dXJuIGZvdW5kTWF0Y2hcbiAgfTtcblxuXG4gIHZtLnNlYXJjaERldmljZXMgPSBmdW5jdGlvbiAodW5tYW5hZ2VkLCBwYXJ0aWFsKSB7XG4gICAgbGV0IGJ1dHRvbjtcbiAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICBidXR0b24gPSB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG4gICAgfVxuXG4gICAgbGV0IGJ5VGVuYW50ID0gZmFsc2U7XG4gICAgbGV0IHRlbmFudEtleSA9IG51bGw7XG5cbiAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIHZtLmRpc3RyaWJ1dG9yS2V5LCB1bm1hbmFnZWQpXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgbGV0IGRldmljZXNUb1JldHVybjtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBsZXQgZGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG4gICAgICAgICAgaWYgKGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICAgICAgdm0udW5tYW5hZ2VkU2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLnNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcbiAgICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICAgICAgdm0udW5tYW5hZ2VkTWFjRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh1bm1hbmFnZWQpIHtcbiAgICAgICAgICAgICAgdm0udW5tYW5hZ2VkR0NNaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdm0uZ2NtaWREZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodW5tYW5hZ2VkKSB7XG4gICAgICAgICAgICB2bS5kZXZpY2VzVG9NYXRjaE9uVW5tYW5hZ2VkID0gZGV2aWNlc1RvUmV0dXJuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZtLmRldmljZXNUb01hdGNoT25NYW5hZ2VkID0gZGV2aWNlc1RvUmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBkZXZpY2VzVG9SZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH07XG5cbiAgdm0uZ2V0TWFuYWdlZERldmljZXMgPSBmdW5jdGlvbiAoa2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGRldmljZXNQcm9taXNlID0gRGV2aWNlc1NlcnZpY2UuZ2V0RGV2aWNlc0J5RGlzdHJpYnV0b3Ioa2V5LCBwcmV2LCBuZXh0KTtcbiAgICByZXR1cm4gZGV2aWNlc1Byb21pc2UudGhlbigoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICB2bS5kZXZpY2VzID0gcmVzcG9uc2UuZGV2aWNlcztcbiAgICAgIHZtLmRldmljZXNOZXh0ID0gcmVzcG9uc2UubmV4dF9jdXJzb3I7XG4gICAgICB2bS5kZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuICAgICAgcmV0dXJuIHZtLmdldEZldGNoU3VjY2VzcygpO1xuICAgIH0pLCByZXNwb25zZSA9PiB2bS5nZXRGZXRjaEZhaWx1cmUocmVzcG9uc2UpKTtcbiAgfTtcblxuICB2bS5nZXRVbm1hbmFnZWREZXZpY2VzID0gZnVuY3Rpb24gKGtleSwgcHJldiwgbmV4dCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCB1bm1hbmFnZWREZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldFVubWFuYWdlZERldmljZXNCeURpc3RyaWJ1dG9yKGtleSwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIHVubWFuYWdlZERldmljZXNQcm9taXNlLnRoZW4oKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlcyA9IHJlc3BvbnNlLmRldmljZXM7XG4gICAgICB2bS51bm1hbmFnZWREZXZpY2VzUHJldiA9IHJlc3BvbnNlLnByZXZfY3Vyc29yO1xuICAgICAgdm0udW5tYW5hZ2VkRGV2aWNlc05leHQgPSByZXNwb25zZS5uZXh0X2N1cnNvcjtcbiAgICAgIHJldHVybiB2bS5nZXRGZXRjaFN1Y2Nlc3MoKTtcbiAgICB9KSwgcmVzcG9uc2UgPT4gdm0uZ2V0RmV0Y2hGYWlsdXJlKHJlc3BvbnNlKSk7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5kaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcbiAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0uZGV2aWNlc1ByZXYsIHZtLmRldmljZXNOZXh0KTtcbiAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcbiAgfTtcblxuICB2bS5nZXRGZXRjaFN1Y2Nlc3MgPSAoKSA9PiBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcblxuICB2bS5nZXRGZXRjaEZhaWx1cmUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gYFVuYWJsZSB0byBmZXRjaCBkZXZpY2VzLiBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0uYDtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG4gIH07XG5cblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCwgbWFuYWdlZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICBpZiAobWFuYWdlZCkge1xuICAgICAgICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgbnVsbCwgdm0uZGV2aWNlc05leHQpO1xuICAgICAgfVxuICAgICAgaWYgKCFtYW5hZ2VkKSB7XG4gICAgICAgIHZtLmdldFVubWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIG51bGwsIHZtLnVubWFuYWdlZERldmljZXNOZXh0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1hbmFnZWQpIHtcbiAgICAgICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0uZGlzdHJpYnV0b3JLZXksIHZtLmRldmljZXNQcmV2LCBudWxsKTtcbiAgICAgIH1cbiAgICAgIGlmICghbWFuYWdlZCkge1xuICAgICAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS5kaXN0cmlidXRvcktleSwgdm0udW5tYW5hZ2VkRGV2aWNlc1ByZXYsIG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge0RldmljZXNMaXN0aW5nQ3RybH1cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2RldmljZS9kZXZpY2VzLWxpc3RpbmcuY29udHJvbGxlci5qc1xuICoqLyIsImltcG9ydCBuYXR1cmFsU29ydCBmcm9tICdqYXZhc2NyaXB0LW5hdHVyYWwtc29ydCc7XG5cblxuZnVuY3Rpb24gQWRtaW5DdHJsKEFkbWluU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgRGV2aWNlc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZSxcbiAgICAgICAgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAkbWREaWFsb2csXG4gICAgICAgICAgICAgICAgICAgVGVuYW50c1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgRGlzdHJpYnV0b3JzU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0ucGF1bHNDdXJyZW50RGlzdHJpYnV0b3JOYW1lID0gJHJvb3RTY29wZS5wYXVsc0N1cnJlbnREaXN0cmlidXRvck5hbWU7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIERldmljZSBTZWFyY2ggVmFyaWFibGVzXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5zZWxlY3RlZEJ1dHRvbiA9IFwiU2VyaWFsIE51bWJlclwiO1xuICB2bS51bm1hbmFnZWRTZWxlY3RlZEJ1dHRvbiA9IFwiTWFuYWdlZFwiXG4gIHZtLnNlcmlhbERldmljZXMgPSB7fTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5tYWNEZXZpY2VzID0ge307XG4gIHZtLmdjbWlkRGV2aWNlcyA9IHt9O1xuICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBUZW5hbnQgU2VhcmNoIFZhcmlhYmxlc1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdm0uc2VhcmNoZWRUZW5hbnRzID0gW107XG4gIHZtLnRlbmFudFNlYXJjaE1hdGNoID0gbnVsbDtcbiAgdm0udGVuYW50U2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBEZXZpY2UgU2VhcmNoXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uIChpc01hdGNoKSB7XG4gICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcbiAgICByZXR1cm4gdm0ubG9hZGluZ0Rpc2FibGVkID0gZmFsc2U7XG4gIH07XG5cbiAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gICAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBbXTtcbiAgfTtcblxuICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICBsZXQgZm91bmRNYXRjaCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGl0ZW0gb2Ygdm0uZGV2aWNlc1RvTWF0Y2hPbikge1xuICAgICAgaWYgKHJlc291cmNlID09PSBpdGVtKSB7XG4gICAgICAgIGZvdW5kTWF0Y2ggPSB0cnVlO1xuICAgICAgICB2bS5tYXRjaERldmljZSA9IGl0ZW07XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIHZtLmNvbnRyb2xPcGVuQnV0dG9uKGZvdW5kTWF0Y2gpXG4gICAgcmV0dXJuIGZvdW5kTWF0Y2hcbiAgfTtcblxuICB2bS5zZWFyY2hEZXZpY2VzID0gZnVuY3Rpb24gKHVubWFuYWdlZCwgcGFydGlhbCkge1xuICAgIGxldCBidXR0b24gPSB2bS5zZWxlY3RlZEJ1dHRvbjtcbiAgICBsZXQgYnlUZW5hbnQgPSBmYWxzZTtcbiAgICBsZXQgdGVuYW50S2V5ID0gbnVsbDtcbiAgICBsZXQgZGlzdHJpYnV0b3IgPSBudWxsO1xuICAgIGxldCBnbG9iYWxseSA9IHRydWU7XG5cbiAgICByZXR1cm4gRGV2aWNlc1NlcnZpY2Uuc2VhcmNoRGV2aWNlcyhwYXJ0aWFsLCBidXR0b24sIGJ5VGVuYW50LCB0ZW5hbnRLZXksIGRpc3RyaWJ1dG9yLCB1bm1hbmFnZWQsIGdsb2JhbGx5KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGxldCBkZXZpY2VzVG9SZXR1cm47XG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgbGV0IGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzO1xuICAgICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG4gICAgICAgICAgICB2bS5zZXJpYWxEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uID09PSBcIk1BQ1wiKSB7XG4gICAgICAgICAgICB2bS5tYWNEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IGRldmljZXNUb1JldHVyblxuXG4gICAgICAgICAgcmV0dXJuIGRldmljZXNUb1JldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gW11cbiAgICAgICAgfVxuICAgICAgfSlcbiAgfTtcblxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBUZW5hbnQgU2VhcmNoXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIHZtLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUgPSBmdW5jdGlvbiAodGVuYW50X25hbWUpIHtcbiAgICBpZiAoIXRlbmFudF9uYW1lIHx8IHRlbmFudF9uYW1lLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUodGVuYW50X25hbWUsIHRydWUpXG4gICAgcmV0dXJuIHByb21pc2UudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIHZtLnNlYXJjaGVkVGVuYW50cyA9IHJlc3BvbnNlXG4gICAgICBpZiAodm0uc2VhcmNoZWRUZW5hbnRzKSB7XG4gICAgICAgIHJldHVybiB2bS5zZWFyY2hlZFRlbmFudHMubWFwKChpKSA9PiBpLm5hbWUpLnNvcnQobmF0dXJhbFNvcnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW11cbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBwcm9taXNlLmNhdGNoKChyZXNwb25zZSkgPT4ge1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGBVbmFibGUgdG8gZmV0Y2ggdGVuYW50cy4gRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWA7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG4gICAgfSlcbiAgfVxuXG5cbiAgdm0uaXNUZW5hbnRWYWxpZCA9ICh0ZW5hbnRfbmFtZSkgPT4ge1xuICAgIGlmICghdGVuYW50X25hbWUgfHwgdGVuYW50X25hbWUubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuXG4gICAgbGV0IG1hdGNoID0gdm0uc2VhcmNoZWRUZW5hbnRzO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgZm9yIChsZXQgZWFjaE5hbWUgb2YgbWF0Y2gpIHtcbiAgICAgICAgaWYgKHRlbmFudF9uYW1lID09PSBlYWNoTmFtZS5uYW1lKSB7XG4gICAgICAgICAgdm0udGVuYW50U2VhcmNoRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICB2bS5zZWFyY2hNYXRjaCA9IGVhY2hOYW1lXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZtLnRlbmFudFNlYXJjaERpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2bS50ZW5hbnRTZWFyY2hEaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIERpc3RyaWJ1dG9yIFRhYlxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICB2bS5nZXRBbGxEaXN0cmlidXRvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0ubG9hZGluZ0FsbERpc3RyaWJ1dG9ycyA9IHRydWU7XG4gICAgbGV0IGdldEFsbERpc3RyaWJ1dG9yc1Byb21pc2UgPSBBZG1pblNlcnZpY2UuZ2V0QWxsRGlzdHJpYnV0b3JzKCk7XG4gICAgcmV0dXJuIGdldEFsbERpc3RyaWJ1dG9yc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0ubG9hZGluZ0FsbERpc3RyaWJ1dG9ycyA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHZtLmFsbERpc3RyaWJ1dG9ycyA9IGRhdGE7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0ubWFrZURpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGV2LCBkaXN0cmlidXRvck5hbWUsIGFkbWluRW1haWwsIGZvcm0pIHtcbiAgICBsZXQgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKFxuICAgICAge1xuICAgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLFxuICAgICAgICB0ZXh0Q29udGVudDogYElmIHlvdSBwcm9jZWVkLCAke2Rpc3RyaWJ1dG9yTmFtZX0gd2lsbCBiZSBjcmVhdGVkLmAsXG4gICAgICAgIHRhcmdldEV2ZW50OiBldixcbiAgICAgICAgYXJpYUxhYmVsOiAnTHVja3kgZGF5JyxcbiAgICAgICAgb2s6ICdZZWFoIScsXG4gICAgICAgIGNhbmNlbDogJ0ZvcmdldCBpdC4nXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbigoZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IG1ha2VEaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UubWFrZURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yTmFtZSwgYWRtaW5FbWFpbCk7XG4gICAgICBtYWtlRGlzdHJpYnV0b3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdm0uZGlzdHJpYnV0b3IgPSB7fTtcbiAgICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgZm9ybS4kc2V0VW50b3VjaGVkKCk7XG4gICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKCkgPT4gdm0uYWxsRGlzdHJpYnV0b3JzID0gdm0uZ2V0QWxsRGlzdHJpYnV0b3JzKCkpLCAyMDAwKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbWFrZURpc3RyaWJ1dG9yUHJvbWlzZS5jYXRjaChkYXRhID0+IFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoZGF0YS5kYXRhLm1lc3NhZ2UpKTtcbiAgICB9KSk7XG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFVzZXJzIFRhYlxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICB2bS5hZGRVc2VyVG9EaXN0cmlidXRvciA9IGZ1bmN0aW9uIChldiwgdXNlckVtYWlsLCBkaXN0cmlidXRvckFkbWluLCB3aGljaERpc3RyaWJ1dG9yLCBmb3JtKSB7XG4gICAgaWYgKCFkaXN0cmlidXRvckFkbWluKSB7XG4gICAgICBkaXN0cmlidXRvckFkbWluID0gZmFsc2U7XG4gICAgfVxuICAgIGxldCB3aXRoT3JXaXRob3V0ID0gZGlzdHJpYnV0b3JBZG1pbiA/IFwid2l0aFwiIDogXCJ3aXRob3V0XCI7XG5cbiAgICAvLyBubyBvcHRpb24gdG8gc2VsZWN0IGRpc3RyaWJ1dG9yIGlzIGdpdmVuIHdoZW4gdGhlcmUgaXMgb25seSBvbmUgb3B0aW9uXG4gICAgaWYgKCF3aGljaERpc3RyaWJ1dG9yKSB7XG4gICAgICB3aGljaERpc3RyaWJ1dG9yID0gdm0uZGlzdHJpYnV0b3JzQXNBZG1pblswXTtcbiAgICB9XG5cbiAgICBsZXQgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKFxuICAgICAge1xuICAgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLFxuICAgICAgICB0ZXh0Q29udGVudDogYCR7dXNlckVtYWlsfSB3aWxsIGJlIGFkZGVkIHRvICR7d2hpY2hEaXN0cmlidXRvcn1cbiAgICAgICAgJHt3aXRoT3JXaXRob3V0fSBhZG1pbmlzdHJhdG9yIHByaXZpbGVnZXNgLFxuICAgICAgICB0YXJnZXRFdmVudDogZXYsXG4gICAgICAgIG9rOiAnT2YgY291cnNlIScsXG4gICAgICAgIGNhbmNlbDogJ09vcHMsIG5ldmVybWluZC4nXG4gICAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBhZGRVc2VyVG9EaXN0cmlidXRvclByb21pc2UgPSBBZG1pblNlcnZpY2UuYWRkVXNlclRvRGlzdHJpYnV0b3IodXNlckVtYWlsLCB3aGljaERpc3RyaWJ1dG9yLCBkaXN0cmlidXRvckFkbWluKTtcbiAgICAgIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICB2bS51c2VyID0ge307XG4gICAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XG4gICAgICAgIGZvcm0uJHNldFVudG91Y2hlZCgpO1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKCkgPT4gdm0uZ2V0VXNlcnNPZkRpc3RyaWJ1dG9yKCkpLCAyMDAwKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYWRkVXNlclRvRGlzdHJpYnV0b3JQcm9taXNlLmNhdGNoKGRhdGEgPT4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdChkYXRhLmRhdGEubWVzc2FnZSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZtLnN3aXRjaERpc3RyaWJ1dG9yID0gZnVuY3Rpb24gKGRpc3RyaWJ1dG9yKSB7XG4gICAgRGlzdHJpYnV0b3JzU2VydmljZS5zd2l0Y2hEaXN0cmlidXRvcihkaXN0cmlidXRvcik7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChgRGlzdHJpYnV0b3IgJHtkaXN0cmlidXRvci5uYW1lfSBzZWxlY3RlZCFgKTtcbiAgfTtcblxuICB2bS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0ubG9hZGluZ1VzZXJzT2ZEaXN0cmlidXRvciA9IHRydWU7XG4gICAgbGV0IGN1cnJlbnREaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcbiAgICBsZXQgdXNlcnNvZkRpc3RyaWJ1dG9yUHJvbWlzZSA9IEFkbWluU2VydmljZS5nZXRVc2Vyc09mRGlzdHJpYnV0b3IoY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcbiAgICByZXR1cm4gdXNlcnNvZkRpc3RyaWJ1dG9yUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS5sb2FkaW5nVXNlcnNPZkRpc3RyaWJ1dG9yID0gZmFsc2U7XG4gICAgICByZXR1cm4gdm0udXNlcnNPZkRpc3RyaWJ1dG9yID0gZGF0YTtcbiAgICB9KTtcbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmdldFVzZXJzT2ZEaXN0cmlidXRvcigpO1xuICAgIHZtLmdldEFsbERpc3RyaWJ1dG9ycygpO1xuICAgIHZtLmlzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0SXNBZG1pbigpO1xuICAgIHZtLmRpc3RyaWJ1dG9yc0FzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuICAgIHZtLmN1cnJlbnREaXN0cmlidXRvck5hbWUgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpO1xuXG4gICAgaWYgKHZtLmlzQWRtaW4pIHtcbiAgICAgIHJldHVybiB2bS5nZXRBbGxEaXN0cmlidXRvcnMoKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uZWRpdFRlbmFudCA9IGl0ZW0gPT4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywge3RlbmFudEtleTogaXRlbS5rZXl9KTtcblxuICB2bS5lZGl0SXRlbSA9IChzZWFyY2hUZXh0KSA9PiB7XG4gICAgbGV0IG1hYywgc2VyaWFsLCBnY21pZDtcbiAgICBsZXQgYnV0dG9uID0gdm0uc2VsZWN0ZWRCdXR0b247XG5cbiAgICBtYWMgPSBidXR0b24gPT09IFwiTUFDXCI7XG4gICAgc2VyaWFsID0gYnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIjtcbiAgICBnY21pZCA9IGJ1dHRvbiA9PT0gXCJHQ00gSURcIlxuXG4gICAgaWYgKG1hYykge1xuICAgICAgRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0odm0ubWFjRGV2aWNlc1tzZWFyY2hUZXh0XSk7XG4gICAgfSBlbHNlIGlmIChzZXJpYWwpIHtcbiAgICAgIERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKHZtLnNlcmlhbERldmljZXNbc2VhcmNoVGV4dF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBEZXZpY2VzU2VydmljZS5lZGl0SXRlbSh2bS5nY21pZERldmljZXNbc2VhcmNoVGV4dF0pXG4gICAgfVxuICB9XG5cblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7QWRtaW5DdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2FkbWluL2FkbWluLWNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBBdXRoZW50aWNhdGlvbkN0cmwoJHNjb3BlLCAkbG9nLCAkc3RhdGUsICR0aW1lb3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3ZWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlc3Npb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvb2ZQbGF5U2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZW5hbnRzU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcblxuICB2bS5vbkdvb2dsZVBsdXNTaWduSW5TdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50LCBhdXRoUmVzdWx0KSB7XG4gICAgaWYgKCF2bS5nb29nbGVQbHVzU2lnbkluQnV0dG9uQ2xpY2tlZCkge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgfVxuICAgIFNlc3Npb25zU2VydmljZS5yZW1vdmVVc2VySW5mbygpXG4gICAgbGV0IHByb21pc2UgPSBTZXNzaW9uc1NlcnZpY2UubG9naW4oYXV0aFJlc3VsdCk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5sb2dpblN1Y2Nlc3MsIHZtLmxvZ2luRmFpbHVyZSk7XG4gIH07XG5cblxuICB2bS5vbkdvb2dsZVBsdXNTaWduSW5GYWlsdXJlID0gZnVuY3Rpb24gKGV2ZW50LCBhdXRoUmVzdWx0KSB7XG4gICAgaWYgKHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkKSB7XG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBhdXRoZW50aWNhdGUgdG8gR29vZ2xlKy4nLCAnZXJyb3InKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLiRvbignZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLXN1Y2Nlc3MnLCB2bS5vbkdvb2dsZVBsdXNTaWduSW5TdWNjZXNzKTtcbiAgJHNjb3BlLiRvbignZXZlbnQ6Z29vZ2xlLXBsdXMtc2lnbmluLWZhaWx1cmUnLCB2bS5vbkdvb2dsZVBsdXNTaWduSW5GYWlsdXJlKTtcblxuICB2bS5pbml0aWFsaXplU2lnbkluID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmNsaWVudElkID0gaWRlbnRpdHkuT0FVVEhfQ0xJRU5UX0lEO1xuICAgIHZtLnN0YXRlID0gaWRlbnRpdHkuU1RBVEU7XG4gICAgcmV0dXJuIHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkID0gZmFsc2U7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZVNpZ25PdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgU2Vzc2lvbnNTZXJ2aWNlLnJlbW92ZVVzZXJJbmZvKCk7XG4gICAgcmV0dXJuICR0aW1lb3V0KHZtLnByb2NlZWRUb1NpZ25lZE91dCwgNTApO1xuICB9O1xuXG4gIHZtLmxvZ2luU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiAkc3RhdGUuZ28oJ2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbicpO1xuICB9O1xuXG4gIHZtLmxvZ2luRmFpbHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsICdVbmFibGUgdG8gYXV0aGVudGljYXRlIHRvIFN0b3JtcGF0aC4nLCAnZXJyb3InKTtcbiAgfTtcblxuXG4gIHZtLnByb2NlZWRUb1NpZ25lZE91dCA9ICgpID0+ICRzdGF0ZS5nbygnc2lnbmVkX291dCcpO1xuXG4gIHZtLnByb2NlZWRUb1NpZ25JbiA9ICgpID0+ICRzdGF0ZS5nbygnc2lnbl9pbicpO1xuXG4gIHZtLm9uQ2xpY2tHb29nbGVQbHVzU2lnbkluID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmdvb2dsZVBsdXNTaWduSW5CdXR0b25DbGlja2VkID0gdHJ1ZTtcbiAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0F1dGhlbnRpY2F0aW9uQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9hdXRoZW50aWNhdGlvbi9hdXRoZW50aWNhdGlvbi1jb250cm9sbGVyLmpzXG4gKiovIiwiaW1wb3J0IGNvbnRhaW5zIGZyb20gJ2xvZGFzaC5jb250YWlucyc7XG5cbmZ1bmN0aW9uIEFwcENvbnRyb2xsZXIoXG4gICRtZFNpZGVuYXYsXG4gICRzdGF0ZSxcbiAgJHJvb3RTY29wZSxcbiAgJHdpbmRvdyxcbiAgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICAkcm9vdFNjb3BlLnBhdWxzQ3VycmVudERpc3RyaWJ1dG9yTmFtZSA9ICdNYW5hZ2luZyBPcmdhbml6YXRpb24nXG5cbiAgdm0uY3VycmVudERpc3RyaWJ1dGVySW5EaXN0cmlidXRlckFkbWluTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgY3VycmVudERpc3RyaWJ1dG9yTmFtZSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKCk7XG4gICAgbGV0IGRpc3RyaWJ1dG9yc0FzQWRtaW4gPSBTZXNzaW9uc1NlcnZpY2UuZ2V0RGlzdHJpYnV0b3JzQXNBZG1pbigpO1xuICAgIHJldHVybiBjb250YWlucyhkaXN0cmlidXRvcnNBc0FkbWluLCBjdXJyZW50RGlzdHJpYnV0b3JOYW1lKTtcbiAgfTtcblxuICB2bS5nZXRJZGVudGl0eSA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAga2V5OiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpLFxuICAgICAgZW1haWw6IFNlc3Npb25zU2VydmljZS5nZXRVc2VyRW1haWwoKSxcbiAgICAgIGFkbWluOiBTZXNzaW9uc1NlcnZpY2UuZ2V0SXNBZG1pbigpLFxuICAgICAgZGlzdHJpYnV0b3JfYWRtaW46IFNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCksXG4gICAgICBhZG1pbl9vZl9jdXJyZW50X2Rpc3RyaWJ1dG9yOiB2bS5jdXJyZW50RGlzdHJpYnV0ZXJJbkRpc3RyaWJ1dGVyQWRtaW5MaXN0KCksXG4gICAgICBkaXN0cmlidXRvcktleTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLFxuICAgICAgZGlzdHJpYnV0b3JOYW1lOiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpXG4gICAgfVxuICB9O1xuXG4gIHZtLmlzQ3VycmVudFVSTERpc3RyaWJ1dG9yU2VsZWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHRlc3QgPSAkd2luZG93LmxvY2F0aW9uLmhyZWYuc2VhcmNoKC9kaXN0cmlidXRvcl9zZWxlY3Rpb24vKTtcbiAgICBsZXQgcmVzdWx0ID0gdGVzdCA+PSAwO1xuICAgIHJldHVybiByZXN1bHRcbiAgfTtcblxuICB2bS5pbml0aWFsaXplID0gKCkgPT4gdm0uZ2V0SWRlbnRpdHkoKTtcblxuICB2bS50b2dnbGVTaWRlbmF2ID0gKCkgPT4gJG1kU2lkZW5hdignbGVmdCcpLnRvZ2dsZSgpO1xuXG4gIHZtLmdvVG8gPSBmdW5jdGlvbiAoc3RhdGVOYW1lLCBpZCkge1xuICAgICRzdGF0ZS5nbyhzdGF0ZU5hbWUsIHtpZH0pO1xuICAgIGlmICgkbWRTaWRlbmF2KCdsZWZ0JykuaXNPcGVuKCkpIHtcbiAgICAgIHJldHVybiAkbWRTaWRlbmF2KCdsZWZ0JykuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSgpXG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0FwcENvbnRyb2xsZXJ9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvYXBwL2FwcC1jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gRGlzdHJpYnV0b3JTZWxlY3RvckN0cmwoJHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc3RyaWJ1dG9yc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5wYXVsc0N1cnJlbnREaXN0cmlidXRvck5hbWUgPSAkcm9vdFNjb3BlLnBhdWxzQ3VycmVudERpc3RyaWJ1dG9yTmFtZTtcblxuICB2bS5kaXN0cmlidXRvcnMgPSBbXTtcbiAgdm0uY3VycmVudERpc3RyaWJ1dG9yID0gdW5kZWZpbmVkO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmxvZWFkaW5nID0gdHJ1ZTtcbiAgICBsZXQgZGlzdHJpYnV0b3JzUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZmV0Y2hBbGxCeVVzZXIoU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSk7XG4gICAgcmV0dXJuIGRpc3RyaWJ1dG9yc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uZGlzdHJpYnV0b3JzID0gZGF0YTtcbiAgICAgIGlmICh2bS5kaXN0cmlidXRvcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB2bS5zZWxlY3REaXN0cmlidXRvcih2bS5kaXN0cmlidXRvcnNbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2bS5zZWxlY3REaXN0cmlidXRvciA9IChkaXN0cmlidXRvcikgPT4gRGlzdHJpYnV0b3JzU2VydmljZS5zd2l0Y2hEaXN0cmlidXRvcihkaXN0cmlidXRvcik7XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0Rpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9yLXNlbGVjdG9yLWNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBEaXN0cmlidXRvcnNDdHJsKCRzdGF0ZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uZGlzdHJpYnV0b3JzID0gW107XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge0Rpc3RyaWJ1dG9yc0N0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvZGlzdHJpYnV0b3IvZGlzdHJpYnV0b3JzLWNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBEb21haW5zQ3RybCgkc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICBEb21haW5zU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgIHN3ZWV0KSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5kb21haW5zID0gW107XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmZldGNoQWxsRG9tYWlucygpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oZGF0YSA9PiB2bS5kb21haW5zID0gZGF0YSk7XG4gIH07XG5cbiAgdm0uZWRpdEl0ZW0gPSBpdGVtID0+ICRzdGF0ZS5nbygnZWRpdERvbWFpbicsIHtkb21haW5LZXk6IGl0ZW0ua2V5fSk7XG5cbiAgdm0uZGVsZXRlSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgbGV0IGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHByb21pc2UgPSBEb21haW5zU2VydmljZS5kZWxldGUoaXRlbSk7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKCgpID0+IHZtLmluaXRpYWxpemUoKSk7XG4gICAgfTtcbiAgICByZXR1cm4gc3dlZXQuc2hvdyh7XG4gICAgICB0aXRsZTogXCJBcmUgeW91IHN1cmU/XCIsXG4gICAgICB0ZXh0OiBcIlRoaXMgd2lsbCBwZXJtYW5lbnRseSByZW1vdmUgdGhlIGRvbWFpbiBmcm9tIHRoZSBkaXN0cmlidXRvciBhbmQgZGlzY29ubmVjdCBmcm9tIHRlbmFudHMuXCIsXG4gICAgICB0eXBlOiBcIndhcm5pbmdcIixcbiAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiI0RENkI1NVwiLFxuICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwiWWVzLCByZW1vdmUgdGhlIGRvbWFpbiFcIixcbiAgICAgIGNsb3NlT25Db25maXJtOiB0cnVlXG4gICAgfSwgY2FsbGJhY2spO1xuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtEb21haW5zQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9kb21haW4vZG9tYWlucy5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gRG9tYWluRGV0YWlsc0N0cmwoJGxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIERvbWFpbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dlZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5jdXJyZW50RG9tYWluID0ge1xuICAgIGtleTogdW5kZWZpbmVkLFxuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICBpbXBlcnNvbmF0aW9uX2FkbWluX2VtYWlsX2FkZHJlc3M6IHVuZGVmaW5lZCxcbiAgICBkaXN0cmlidXRvcl9rZXk6IHVuZGVmaW5lZCxcbiAgICBvcmdhbml6YXRpb25fdW5pdF9wYXRoOiAnL3NreWtpdCcsXG4gICAgYWN0aXZlOiB0cnVlXG4gIH07XG4gIHZtLmRldmljZXNBY2Nlc3MgPSBmYWxzZTtcbiAgdm0ub3JnVW5pdHNBY2Nlc3MgPSBmYWxzZTtcbiAgdm0udXNlcnNBY2Nlc3MgPSBmYWxzZTtcbiAgdm0uY3VycmVudERvbWFpbnMgPSBbXTtcbiAgdm0uZWRpdE1vZGUgPSAhISRzdGF0ZVBhcmFtcy5kb21haW5LZXk7XG5cbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IGRvbWFpblByb21pc2UgPSBEb21haW5zU2VydmljZS5nZXREb21haW5CeUtleSgkc3RhdGVQYXJhbXMuZG9tYWluS2V5KTtcbiAgICBkb21haW5Qcm9taXNlLnRoZW4oZGF0YSA9PiB2bS5jdXJyZW50RG9tYWluID0gZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgdm0uY3VycmVudERvbWFpbi5kaXN0cmlidXRvcl9rZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG4gIH1cblxuICB2bS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5lZGl0TW9kZSkge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgICBsZXQgY29ubmVjdGl2aXR5UHJvbWlzZSA9IERvbWFpbnNTZXJ2aWNlLmdldERpcmVjdG9yeUFwaUNvbm5lY3Rpdml0eUluZm9ybWF0aW9uKCRzdGF0ZVBhcmFtcy5kb21haW5LZXkpO1xuICAgICAgcmV0dXJuIGNvbm5lY3Rpdml0eVByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NEZXRlcm1pbmluZ0Nvbm5lY3Rpdml0eSwgdm0ub25GYWlsdXJlRGV0ZXJtaW5pbmdDb25uZWN0aXZpdHkpO1xuICAgIH1cbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NEZXRlcm1pbmluZ0Nvbm5lY3Rpdml0eSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdm0uZGV2aWNlc0FjY2VzcyA9IGRhdGEuZGV2aWNlc0FjY2VzcztcbiAgICB2bS5vcmdVbml0c0FjY2VzcyA9IGRhdGEub3JnVW5pdHNBY2Nlc3M7XG4gICAgdm0udXNlcnNBY2Nlc3MgPSBkYXRhLnVzZXJzQWNjZXNzO1xuICAgIHZtLmRldmljZXNBY2Nlc3NFeGNlcHRpb24gPSBkYXRhLmRldmljZXNBY2Nlc3NFeGNlcHRpb247XG4gICAgdm0ub3JnVW5pdHNBY2Nlc3NFeGNlcHRpb24gPSBkYXRhLm9yZ1VuaXRzQWNjZXNzRXhjZXB0aW9uO1xuICAgIHZtLnVzZXJzQWNjZXNzRXhjZXB0aW9uID0gZGF0YS51c2Vyc0FjY2Vzc0V4Y2VwdGlvbjtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgfTtcblxuICB2bS5vbkZhaWx1cmVEZXRlcm1pbmluZ0Nvbm5lY3Rpdml0eSA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICRsb2cuZXJyb3IoYEZhaWx1cmUgZGV0ZXJtaW5pbmcgZGlyZWN0b3J5IEFQSSBjb25uZWN0aXZpdHk6ICR7ZXJyb3Iuc3RhdHVzIH0gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdPb3BzLiBXZSB3ZXJlIHVuYWJsZSBkZXRlcm1pbmUgeW91ciBkZXZpY2UgY29ubmVjdGl2aXR5IGF0IHRoaXMgdGltZS4nKTtcbiAgfTtcblxuICB2bS5vblNhdmVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBEb21haW5zU2VydmljZS5zYXZlKHZtLmN1cnJlbnREb21haW4pO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzU2F2ZURvbWFpbiwgdm0ub25GYWlsdXJlU2F2ZURvbWFpbik7XG4gIH07XG5cbiAgdm0ub25TdWNjZXNzU2F2ZURvbWFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIHVwZGF0ZS4nKTtcbiAgfTtcblxuICB2bS5vbkZhaWx1cmVTYXZlRG9tYWluID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAkbG9nLmluZm8oYEZhaWx1cmUgc2F2aW5nIGRvbWFpbi4gRG9tYWluIGFscmVhZHkgZXhpc3RzOiAke2Vycm9yLnN0YXR1c30gJHtlcnJvci5zdGF0dXNUZXh0fWApO1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLCAnVGhpcyBkb21haW4gbmFtZSBhbHJlYWR5IGV4aXN0LiBQbGVhc2UgZW50ZXIgYSB1bmlxdWUgZG9tYWluIG5hbWUuJywgJ2Vycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRsb2cuZXJyb3IoYEZhaWx1cmUgc2F2aW5nIGRvbWFpbjogJHtlcnJvci5zdGF0dXMgfSAke2Vycm9yLnN0YXR1c1RleHR9YCk7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnT29wcy4gV2Ugd2VyZSB1bmFibGUgdG8gc2F2ZSB5b3VyIHVwZGF0ZXMgYXQgdGhpcyB0aW1lLicpO1xuICAgIH1cbiAgfTtcblxuICB2bS5lZGl0SXRlbSA9IGl0ZW0gPT4gJHN0YXRlLmdvKCdlZGl0RG9tYWluJywge2RvbWFpbktleTogaXRlbS5rZXl9KTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7RG9tYWluRGV0YWlsc0N0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvZG9tYWluL2RvbWFpbi1kZXRhaWxzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmZ1bmN0aW9uIFByb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmwoUHJvb2ZQbGF5U2VydmljZSwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsIFRvYXN0c1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLnJhZGlvQnV0dG9uQ2hvaWNlcyA9IHtcbiAgICBncm91cDE6ICdCeSBEZXZpY2UnLFxuICAgIGdyb3VwMjogJ1N1bW1hcml6ZWQnLFxuICAgIHNlbGVjdGlvbjogbnVsbFxuICB9O1xuXG5cbiAgdm0uZGF0ZVRpbWVTZWxlY3Rpb24gPSB7XG4gICAgc3RhcnQ6IG51bGwsXG4gICAgZW5kOiBudWxsXG4gIH07XG5cbiAgdm0uZm9ybVZhbGlkaXR5ID0ge1xuICAgIHN0YXJ0X2RhdGU6IGZhbHNlLFxuICAgIGVuZF9kYXRlOiBmYWxzZSxcbiAgICBsb2NhdGlvbnM6IGZhbHNlLFxuICB9O1xuXG4gIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG4gIHZtLm5vX2NhY2hlID0gdHJ1ZTtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuICB2bS5zZWxlY3RlZF9sb2NhdGlvbnMgPSBbXTtcblxuICB2bS5pbml0aWFsaXplID0gKCkgPT5cbiAgICBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbExvY2F0aW9ucyh2bS50ZW5hbnQpXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHZtLmxvY2F0aW9ucyA9IGRhdGEuZGF0YS5sb2NhdGlvbnM7XG4gICAgICAgIGlmICh2bS5sb2NhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIDtcblxuICB2bS5yZWZyZXNoTG9jYXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5zZWxlY3RlZEl0ZW0gPSAnJztcbiAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VsZWN0ZWRfbG9jYXRpb25zID0gW107XG4gICAgdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG4gIHZtLmFkZFRvU2VsZWN0ZWRMb2NhdGlvbnMgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmICh2bS5pc0xvY2F0aW9uVmFsaWQoc2VhcmNoVGV4dCkpIHtcbiAgICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5wdXNoKHNlYXJjaFRleHQpO1xuICAgICAgbGV0IGluZGV4ID0gdm0ubG9jYXRpb25zLmluZGV4T2Yoc2VhcmNoVGV4dCk7XG4gICAgICB2bS5sb2NhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB9XG4gICAgdm0uYXJlTG9jYXRpb25zVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKGxvY2F0aW9ucywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChsb2NhdGlvbnMsIHNlYXJjaFRleHQpO1xuXG5cbiAgdm0uaXNSYWRpb1ZhbGlkID0gZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc0xvY2F0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0ubG9jYXRpb25zKSkge1xuICAgICAgaWYgKCFfX2luX18oc2VhcmNoVGV4dCwgdm0uc2VsZWN0ZWRfbG9jYXRpb25zKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLmFyZUxvY2F0aW9uc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5sb2NhdGlvbnMgPSAodm0uc2VsZWN0ZWRfbG9jYXRpb25zLmxlbmd0aCA+IDApO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgPSAoc3RhcnRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSA9IChlbmRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0ucmVtb3ZlRnJvbVNlbGVjdGVkTG9jYXRpb24gPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGxldCBpbmRleCA9IHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5pbmRleE9mKGl0ZW0pO1xuICAgIHZtLnNlbGVjdGVkX2xvY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHZtLmxvY2F0aW9ucy5wdXNoKGl0ZW0pO1xuICAgIHZtLmFyZUxvY2F0aW9uc1ZhbGlkKCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkubG9jYXRpb25zICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG4gICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHZtLmZpbmFsID0ge1xuICAgICAgICBzdGFydF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuICAgICAgICBlbmRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uZW5kKS51bml4KCksXG4gICAgICAgIGxvY2F0aW9uczogdm0uc2VsZWN0ZWRfbG9jYXRpb25zLFxuICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG5cbiAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwubG9jYXRpb25zLCB2bS50ZW5hbnQpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9vZlBsYXlTZXJ2aWNlLmRvd25sb2FkQ1NWRm9yTXVsdGlwbGVMb2NhdGlvbnNTdW1tYXJpemVkKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgdm0uZmluYWwubG9jYXRpb25zLCB2bS50ZW5hbnQpO1xuICAgIH1cbiAgfTtcblxuICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblxuICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpXG4gICAgICAudGhlbihkYXRhID0+IHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cylcbiAgO1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKHJlc291cmNlcywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXG4gIHZtLmlzU2VsZWN0aW9uVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoKSB7XG4gICAgaWYgKF9faW5fXyhzZWFyY2gsIHZtLnRlbmFudHMpKSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWRUZW5hbnQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cblxuICB2bS5zdWJtaXRUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG4gICAgaWYgKHRlbmFudCAhPT0gdm0uY3VycmVudFRlbmFudCkge1xuICAgICAgJHN0YXRlLmdvKCdwcm9vZkRldGFpbCcsIHtcbiAgICAgICAgdGVuYW50XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdChgUHJvb2Ygb2YgUGxheSByZXBvcnRpbmcgc2V0IHRvICR7dGVuYW50fWApO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBpcyBhbHJlYWR5IHNldCB0byAke3RlbmFudH1gKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufTtcblxuZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcbiAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xufVxuXG5leHBvcnQge1Byb29mT2ZQbGF5TXVsdGlMb2NhdGlvbkN0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvcHJvb2YvbXVsdGktbG9jYXRpb24uY29udHJvbGxlci5qc1xuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aURpc3BsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuXG4gIHZtLnJhZGlvQnV0dG9uQ2hvaWNlcyA9IHtcbiAgICBncm91cDE6ICdCeSBEYXRlJyxcbiAgICBncm91cDI6ICdTdW1tYXJpemVkJyxcbiAgICBzZWxlY3Rpb246IG51bGxcbiAgfTtcblxuXG4gIHZtLmRhdGVUaW1lU2VsZWN0aW9uID0ge1xuICAgIHN0YXJ0OiBudWxsLFxuICAgIGVuZDogbnVsbFxuICB9O1xuXG4gIHZtLmZvcm1WYWxpZGl0eSA9IHtcbiAgICBzdGFydF9kYXRlOiBmYWxzZSxcbiAgICBlbmRfZGF0ZTogZmFsc2UsXG4gICAgZGlzcGxheXM6IGZhbHNlLFxuICB9O1xuXG4gIHZtLnRlbmFudCA9ICRzdGF0ZVBhcmFtcy50ZW5hbnQ7XG4gIHZtLm5vX2NhY2hlID0gdHJ1ZTtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWRUZW5hbnQgPSB0cnVlO1xuICB2bS5zZWxlY3RlZF9kaXNwbGF5cyA9IFtdO1xuXG5cbiAgdm0uaW5pdGlhbGl6ZSA9ICgpID0+XG4gICAgUHJvb2ZQbGF5U2VydmljZS5nZXRBbGxEaXNwbGF5cyh2bS50ZW5hbnQpXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHZtLmRpc3BsYXlzID0gZGF0YS5kYXRhLmRldmljZXM7XG4gICAgICAgIGlmICh2bS5kaXNwbGF5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdm0uaGFkX3NvbWVfaXRlbXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgO1xuXG4gIHZtLnJlZnJlc2hEaXNwbGF5cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgdm0uc2VsZWN0ZWRJdGVtID0gJyc7XG4gICAgdm0ubG9hZGluZyA9IHRydWU7XG4gICAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzID0gW107XG4gICAgdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG4gIHZtLmFkZFRvU2VsZWN0ZWREaXNwbGF5cyA9IGZ1bmN0aW9uIChzZWFyY2hUZXh0KSB7XG4gICAgaWYgKHZtLmlzRGlzcGxheVZhbGlkKHNlYXJjaFRleHQpKSB7XG4gICAgICB2bS5zZWxlY3RlZF9kaXNwbGF5cy5wdXNoKHNlYXJjaFRleHQpO1xuICAgICAgbGV0IGluZGV4ID0gdm0uZGlzcGxheXMuaW5kZXhPZihzZWFyY2hUZXh0KTtcbiAgICAgIHZtLmRpc3BsYXlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB2bS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgfVxuICAgIHZtLmFyZURpc3BsYXlzVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKGRpc3BsYXlzLCBzZWFyY2hUZXh0KSA9PiBQcm9vZlBsYXlTZXJ2aWNlLnF1ZXJ5U2VhcmNoKGRpc3BsYXlzLCBzZWFyY2hUZXh0KTtcblxuXG4gIHZtLmlzUmFkaW9WYWxpZCA9IGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkudHlwZSA9IHNlbGVjdGlvbjtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG5cbiAgdm0uaXNEaXNwbGF5VmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0uZGlzcGxheXMpKSB7XG4gICAgICBpZiAoIV9faW5fXyhzZWFyY2hUZXh0LCB2bS5zZWxlY3RlZF9kaXNwbGF5cykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgdm0uYXJlRGlzcGxheXNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuZGlzcGxheXMgPSAodm0uc2VsZWN0ZWRfZGlzcGxheXMubGVuZ3RoID4gMCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5pc1N0YXJ0RGF0ZVZhbGlkID0gZnVuY3Rpb24gKHN0YXJ0X2RhdGUpIHtcbiAgICB2bS5mb3JtVmFsaWRpdHkuc3RhcnRfZGF0ZSA9IChzdGFydF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRW5kRGF0ZVZhbGlkID0gZnVuY3Rpb24gKGVuZF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LmVuZF9kYXRlID0gKGVuZF9kYXRlIGluc3RhbmNlb2YgRGF0ZSk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuICB2bS5yZW1vdmVGcm9tU2VsZWN0ZWREaXNwbGF5ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBsZXQgaW5kZXggPSB2bS5zZWxlY3RlZF9kaXNwbGF5cy5pbmRleE9mKGl0ZW0pO1xuICAgIHZtLnNlbGVjdGVkX2Rpc3BsYXlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgdm0uZGlzcGxheXMucHVzaChpdGVtKTtcbiAgICB2bS5hcmVEaXNwbGF5c1ZhbGlkKCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkuZGlzcGxheXMgJiYgdm0uZm9ybVZhbGlkaXR5LnR5cGUpIHtcbiAgICAgIHZtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdm0uZmluYWwgPSB7XG4gICAgICAgIHN0YXJ0X2RhdGVfdW5peDogbW9tZW50KHZtLmRhdGVUaW1lU2VsZWN0aW9uLnN0YXJ0KS51bml4KCksXG4gICAgICAgIGVuZF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5lbmQpLnVuaXgoKSxcbiAgICAgICAgZGlzcGxheXM6IHZtLnNlbGVjdGVkX2Rpc3BsYXlzLFxuICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG5cbiAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgdm0uc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZURldmljZXNCeURhdGUodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5kaXNwbGF5cywgdm0udGVuYW50KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQodm0uZmluYWwuc3RhcnRfZGF0ZV91bml4LCB2bS5maW5hbC5lbmRfZGF0ZV91bml4LCB2bS5maW5hbC5kaXNwbGF5cywgdm0udGVuYW50KTtcbiAgICB9XG4gIH07XG5cblxuICB2bS50ZW5hbnRzID0gbnVsbDtcbiAgdm0uY3VycmVudFRlbmFudCA9IHZtLnRlbmFudDtcblxuICB2bS5pbml0aWFsaXplX3RlbmFudF9zZWxlY3QgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpXG4gICAgICAudGhlbihkYXRhID0+IHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cylcbiAgO1xuXG4gIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50ICE9PSB2bS5jdXJyZW50VGVuYW50KSB7XG4gICAgICAkc3RhdGUuZ28oJ3Byb29mRGV0YWlsJywge1xuICAgICAgICB0ZW5hbnRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJHt0ZW5hbnR9YCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoYFByb29mIG9mIFBsYXkgcmVwb3J0aW5nIGlzIGFscmVhZHkgc2V0IHRvICR7dGVuYW50fWApO1xuICAgIH1cbiAgfTtcblxuICB2bS5xdWVyeVNlYXJjaCA9IChyZXNvdXJjZXMsIHNlYXJjaFRleHQpID0+IFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblxuICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG5cbiAgcmV0dXJuIHZtO1xufTtcblxuZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcbiAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xufVxuXG5leHBvcnQge1Byb29mT2ZQbGF5TXVsdGlEaXNwbGF5Q3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9wcm9vZi9tdWx0aS1kaXNwbGF5LmNvbnRyb2xsZXIuanNcbiAqKi8iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cblxuZnVuY3Rpb24gUHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybChQcm9vZlBsYXlTZXJ2aWNlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgVG9hc3RzU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0ucmFkaW9CdXR0b25DaG9pY2VzID0ge1xuICAgIGdyb3VwMTogJ0J5IERldmljZScsXG4gICAgZ3JvdXAyOiAnQnkgRGF0ZScsXG4gICAgc2VsZWN0aW9uOiBudWxsXG4gIH07XG5cblxuICB2bS5kYXRlVGltZVNlbGVjdGlvbiA9IHtcbiAgICBzdGFydDogbnVsbCxcbiAgICBlbmQ6IG51bGxcbiAgfTtcblxuICB2bS5mb3JtVmFsaWRpdHkgPSB7XG4gICAgc3RhcnRfZGF0ZTogZmFsc2UsXG4gICAgZW5kX2RhdGU6IGZhbHNlLFxuICAgIHJlc291cmNlczogZmFsc2UsXG4gIH07XG5cbiAgdm0udGVuYW50ID0gJHN0YXRlUGFyYW1zLnRlbmFudDtcbiAgdm0ubm9fY2FjaGUgPSB0cnVlO1xuICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgdm0uZGlzYWJsZWQgPSB0cnVlO1xuICB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gIHZtLnNlbGVjdGVkX3Jlc291cmNlcyA9IFtdO1xuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsUmVzb3VyY2VzKHZtLnRlbmFudClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdm0uZnVsbF9yZXNvdXJjZV9tYXAgPSBkYXRhLmRhdGEucmVzb3VyY2VzO1xuICAgICAgICB2bS5yZXNvdXJjZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmRhdGEucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IHJlc291cmNlID0gZGF0YS5kYXRhLnJlc291cmNlc1tpXTtcbiAgICAgICAgICB2bS5yZXNvdXJjZXMucHVzaChyZXNvdXJjZS5yZXNvdXJjZV9uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2bS5yZXNvdXJjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiB2bS5oYWRfc29tZV9pdGVtcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZtLmhhZF9zb21lX2l0ZW1zID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIDtcblxuICB2bS5yZWZyZXNoUmVzb3VyY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5zZWxlY3RlZEl0ZW0gPSAnJztcbiAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzID0gW107XG4gICAgdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG4gIHZtLmFkZFRvU2VsZWN0ZWRSZXNvdXJjZXMgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmICh2bS5pc1Jlc291cmNlVmFsaWQoc2VhcmNoVGV4dCkpIHtcbiAgICAgIHZtLnNlbGVjdGVkX3Jlc291cmNlcy5wdXNoKHNlYXJjaFRleHQpO1xuICAgICAgbGV0IGluZGV4ID0gdm0ucmVzb3VyY2VzLmluZGV4T2Yoc2VhcmNoVGV4dCk7XG4gICAgICB2bS5yZXNvdXJjZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB9XG4gICAgdm0uYXJlUmVzb3VyY2VzVmFsaWQoKTtcbiAgICByZXR1cm4gdm0uaXNEaXNhYmxlZCgpO1xuICB9O1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKHJlc291cmNlcywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXG5cbiAgdm0uaXNSYWRpb1ZhbGlkID0gZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgIHZtLmZvcm1WYWxpZGl0eS50eXBlID0gc2VsZWN0aW9uO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc1Jlc291cmNlVmFsaWQgPSBmdW5jdGlvbiAoc2VhcmNoVGV4dCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoVGV4dCwgdm0ucmVzb3VyY2VzKSkge1xuICAgICAgaWYgKCFfX2luX18oc2VhcmNoVGV4dCwgdm0uc2VsZWN0ZWRfcmVzb3VyY2VzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLmFyZVJlc291cmNlc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5yZXNvdXJjZXMgPSAodm0uc2VsZWN0ZWRfcmVzb3VyY2VzLmxlbmd0aCA+IDApO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0uaXNTdGFydERhdGVWYWxpZCA9IGZ1bmN0aW9uIChzdGFydF9kYXRlKSB7XG4gICAgdm0uZm9ybVZhbGlkaXR5LnN0YXJ0X2RhdGUgPSAoc3RhcnRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cblxuICB2bS5pc0VuZERhdGVWYWxpZCA9IGZ1bmN0aW9uIChlbmRfZGF0ZSkge1xuICAgIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSA9IChlbmRfZGF0ZSBpbnN0YW5jZW9mIERhdGUpO1xuICAgIHJldHVybiB2bS5pc0Rpc2FibGVkKCk7XG4gIH07XG5cbiAgdm0ucmVtb3ZlRnJvbVNlbGVjdGVkUmVzb3VyY2UgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGxldCBpbmRleCA9IHZtLnNlbGVjdGVkX3Jlc291cmNlcy5pbmRleE9mKGl0ZW0pO1xuICAgIHZtLnNlbGVjdGVkX3Jlc291cmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHZtLnJlc291cmNlcy5wdXNoKGl0ZW0pO1xuICAgIHZtLmFyZVJlc291cmNlc1ZhbGlkKCk7XG4gICAgcmV0dXJuIHZtLmlzRGlzYWJsZWQoKTtcbiAgfTtcblxuXG4gIHZtLmlzRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHZtLmZvcm1WYWxpZGl0eS5zdGFydF9kYXRlICYmIHZtLmZvcm1WYWxpZGl0eS5lbmRfZGF0ZSAmJiB2bS5mb3JtVmFsaWRpdHkucmVzb3VyY2VzICYmIHZtLmZvcm1WYWxpZGl0eS50eXBlKSB7XG4gICAgICB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHZtLmZpbmFsID0ge1xuICAgICAgICBzdGFydF9kYXRlX3VuaXg6IG1vbWVudCh2bS5kYXRlVGltZVNlbGVjdGlvbi5zdGFydCkudW5peCgpLFxuICAgICAgICBlbmRfZGF0ZV91bml4OiBtb21lbnQodm0uZGF0ZVRpbWVTZWxlY3Rpb24uZW5kKS51bml4KCksXG4gICAgICAgIHJlc291cmNlczogdm0uc2VsZWN0ZWRfcmVzb3VyY2VzLFxuICAgICAgICB0eXBlOiB2bS5yYWRpb0J1dHRvbkNob2ljZXMuc2VsZWN0aW9uXG4gICAgICB9O1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIHZtLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcmVzb3VyY2VzX2FzX2lkcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm0uZmluYWwucmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaXRlbSA9IHZtLmZpbmFsLnJlc291cmNlc1tpXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdm0uZnVsbF9yZXNvdXJjZV9tYXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IGVhY2ggPSB2bS5mdWxsX3Jlc291cmNlX21hcFtqXTtcbiAgICAgICAgaWYgKGVhY2hbXCJyZXNvdXJjZV9uYW1lXCJdID09PSBpdGVtKSB7XG4gICAgICAgICAgcmVzb3VyY2VzX2FzX2lkcy5wdXNoKGVhY2hbXCJyZXNvdXJjZV9pZGVudGlmaWVyXCJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2bS5maW5hbC50eXBlID09PSBcIjFcIikge1xuICAgICAgcmV0dXJuIFByb29mUGxheVNlcnZpY2UuZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGV2aWNlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgcmVzb3VyY2VzX2FzX2lkcywgdm0udGVuYW50KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvb2ZQbGF5U2VydmljZS5kb3dubG9hZENTVkZvck11bHRpcGxlUmVzb3VyY2VzQnlEYXRlKHZtLmZpbmFsLnN0YXJ0X2RhdGVfdW5peCwgdm0uZmluYWwuZW5kX2RhdGVfdW5peCwgcmVzb3VyY2VzX2FzX2lkcywgdm0udGVuYW50KTtcbiAgICB9XG4gIH07XG5cbiAgdm0udGVuYW50cyA9IG51bGw7XG4gIHZtLmN1cnJlbnRUZW5hbnQgPSB2bS50ZW5hbnQ7XG5cbiAgdm0uaW5pdGlhbGl6ZV90ZW5hbnRfc2VsZWN0ID0gKCkgPT5cbiAgICBQcm9vZlBsYXlTZXJ2aWNlLmdldEFsbFRlbmFudHMoKVxuICAgICAgLnRoZW4oZGF0YSA9PiB2bS50ZW5hbnRzID0gZGF0YS5kYXRhLnRlbmFudHMpXG4gIDtcblxuICB2bS5xdWVyeVNlYXJjaCA9IChyZXNvdXJjZXMsIHNlYXJjaFRleHQpID0+IFByb29mUGxheVNlcnZpY2UucXVlcnlTZWFyY2gocmVzb3VyY2VzLCBzZWFyY2hUZXh0KTtcblxuICB2bS5pc1NlbGVjdGlvblZhbGlkID0gZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgIGlmIChfX2luX18oc2VhcmNoLCB2bS50ZW5hbnRzKSkge1xuICAgICAgcmV0dXJuIHZtLmRpc2FibGVkVGVuYW50ID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZFRlbmFudCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG5cbiAgdm0uc3VibWl0VGVuYW50ID0gZnVuY3Rpb24gKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQgIT09IHZtLmN1cnJlbnRUZW5hbnQpIHtcbiAgICAgICRzdGF0ZS5nbygncHJvb2ZEZXRhaWwnLCB7XG4gICAgICAgIHRlbmFudFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBzZXQgdG8gJHt0ZW5hbnR9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KGBQcm9vZiBvZiBQbGF5IHJlcG9ydGluZyBpcyBhbHJlYWR5IHNldCB0byAke3RlbmFudH1gKTtcbiAgICB9XG4gIH07XG5cblxuICByZXR1cm4gdm07XG59O1xuXG5mdW5jdGlvbiBfX2luX18obmVlZGxlLCBoYXlzdGFjaykge1xuICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpID49IDA7XG59XG5cbmV4cG9ydCB7UHJvb2ZPZlBsYXlNdWx0aVJlc291cmNlQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9wcm9vZi9tdWx0aS1yZXNvdXJjZS5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gUHJvb2ZPZlBsYXlDdHJsKFByb29mUGxheVNlcnZpY2UsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBUb2FzdHNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5yZXNvdXJjZSA9IHt0aXRsZTogXCJSZXNvdXJjZSBSZXBvcnRcIn07XG4gIHZtLmxvY2F0aW9uID0ge3RpdGxlOiBcIkxvY2F0aW9uIFJlcG9ydFwifTtcbiAgdm0uZGlzcGxheSA9IHt0aXRsZTogXCJEaXNwbGF5IFJlcG9ydFwifTtcblxuICB2bS5jaG9zZW5fdGVuYW50ID0gbnVsbDtcbiAgdm0udGVuYW50cyA9IG51bGw7XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcblxuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PlxuICAgIFByb29mUGxheVNlcnZpY2UuZ2V0QWxsVGVuYW50cygpXG4gICAgICAudGhlbihkYXRhID0+IHZtLnRlbmFudHMgPSBkYXRhLmRhdGEudGVuYW50cylcbiAgO1xuXG4gIHZtLnF1ZXJ5U2VhcmNoID0gKHJlc291cmNlcywgc2VhcmNoVGV4dCkgPT4gUHJvb2ZQbGF5U2VydmljZS5xdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpO1xuXG5cbiAgdm0uaXNTZWxlY3Rpb25WYWxpZCA9IGZ1bmN0aW9uIChzZWFyY2gpIHtcbiAgICBpZiAoX19pbl9fKHNlYXJjaCwgdm0udGVuYW50cykpIHtcbiAgICAgIHJldHVybiB2bS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuXG4gIHZtLnN1Ym1pdFRlbmFudCA9IGZ1bmN0aW9uICh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50KSB7XG4gICAgICB2bS5jaG9zZW5fdGVuYW50ID0gKHRlbmFudCk7XG4gICAgICByZXR1cm4gJHN0YXRlLmdvKCdwcm9vZkRldGFpbCcsIHtcbiAgICAgICAgdGVuYW50OiB2bS5jaG9zZW5fdGVuYW50XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdm0ucmVmcmVzaFRlbmFudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0udGVuYW50cyA9IG51bGw7XG4gICAgbGV0IHVybCA9IFByb29mUGxheVNlcnZpY2UubWFrZUhUVFBVUkwoXCIvcmV0cmlldmVfbXlfdGVuYW50c1wiLCAnJyk7XG4gICAgdm0uaW5pdGlhbGl6ZSgpO1xuICB9O1xuXG5cbiAgcmV0dXJuIHZtO1xufTtcblxuZnVuY3Rpb24gX19pbl9fKG5lZWRsZSwgaGF5c3RhY2spIHtcbiAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YobmVlZGxlKSA+PSAwO1xufVxuXG5leHBvcnQge1Byb29mT2ZQbGF5Q3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9wcm9vZi9wcm9vZi1vZi1wbGF5LmNvbnRyb2xsZXIuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyLCBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhcjtcbiAgICB0aGlzLlNlc3Npb25zU2VydmljZSA9IFNlc3Npb25zU2VydmljZTtcbiAgfVxuXG4gIGdldEltYWdlcyh0ZW5hbnRfdXJsc2FmZV9rZXkpIHtcbiAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2ltYWdlJywgYC9hcGkvdjEvaW1hZ2UvdGVuYW50LyR7dGVuYW50X3VybHNhZmVfa2V5fWApLmdldExpc3QoKVxuICB9XG5cbiAgc2F2ZUltYWdlKHRlbmFudF91cmxzYWZlX2tleSwgZm9ybURhdGEpIHtcbiAgICAvLyBqUXVlcnkgYWpheCB1c2VkIGhlcmUgaW5zdGVhZCBvZiBhbmd1bGFyIC8gUmVzdGFuZ3VsYXIgZHVlIHRvIGFuZ3VsYXIgYnVnIHdpdGggcG9zdGluZyBmb3JtIGRhdGFcbiAgICByZXR1cm4gJC5hamF4KHtcbiAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgdXJsOiBgL2FwaS92MS9pbWFnZS90ZW5hbnQvJHt0ZW5hbnRfdXJsc2FmZV9rZXl9YCxcbiAgICAgIGRhdGE6IGZvcm1EYXRhLFxuICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuICAgICAgY29udGVudFR5cGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVJbWFnZShpbWFnZV91cmxzYWZlX2tleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2ltYWdlJywgYC9hcGkvdjEvaW1hZ2UvJHtpbWFnZV91cmxzYWZlX2tleX1gKS5yZW1vdmUoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG5cbn1cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvaW1hZ2Uuc2VydmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkbWluU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgICB0aGlzLlVTRVJfU0VSVklDRSA9IFwidXNlcnNcIjtcbiAgICB0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UgPSBcImRpc3RyaWJ1dG9yc1wiO1xuICB9XG5cbiAgbWFrZURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yLCBhZG1pbl9lbWFpbCkge1xuICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgZGlzdHJpYnV0b3IsXG4gICAgICBhZG1pbl9lbWFpbFxuICAgIH07XG5cbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgJy9hcGkvdjEvZGlzdHJpYnV0b3JzJykuY3VzdG9tUE9TVChwYXlsb2FkKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGFkZFVzZXJUb0Rpc3RyaWJ1dG9yKHVzZXJFbWFpbCwgZGlzdHJpYnV0b3IsIGRpc3RyaWJ1dG9yQWRtaW4pIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIHVzZXJfZW1haWw6IHVzZXJFbWFpbCxcbiAgICAgIGRpc3RyaWJ1dG9yLFxuICAgICAgZGlzdHJpYnV0b3JfYWRtaW46IGRpc3RyaWJ1dG9yQWRtaW5cbiAgICB9O1xuXG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlVTRVJfU0VSVklDRSwgXCIvYXBpL3YxL3VzZXJzXCIpLmN1c3RvbVBPU1QocGF5bG9hZCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRVc2Vyc09mRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgYC9hcGkvdjEvYW5hbHl0aWNzL2Rpc3RyaWJ1dG9ycy8ke2Rpc3RyaWJ1dG9yS2V5fS91c2Vyc2ApLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0QWxsRGlzdHJpYnV0b3JzKCkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBcIi9hcGkvdjEvZGlzdHJpYnV0b3JzXCIpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG59XG5cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL2FkbWluLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBdXRob3JpemF0aW9uU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoU2Vzc2lvbnNTZXJ2aWNlLCAkcSkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy4kcSA9ICRxXG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2VcbiAgfVxuXG4gIGF1dGhlbnRpY2F0ZWQoKSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuICAgIGlmICh1c2VyS2V5KSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdzaWduX2luJ10pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxuXG4gIG5vdEF1dGhlbnRpY2F0ZWQoKSB7XG4gICAgbGV0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuICAgIGxldCB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuICAgIGlmICghdXNlcktleSkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KFtcImF1dGhFcnJvclwiLCAnaG9tZSddKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICBpc0FkbWluT3JEaXN0cmlidXRvckFkbWluKCkge1xuICAgIGxldCBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICBsZXQgYWRtaW4gPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRJc0FkbWluKCk7XG4gICAgbGV0IGRpc3RyaWJ1dG9yQWRtaW4gPSB0aGlzLlNlc3Npb25zU2VydmljZS5nZXREaXN0cmlidXRvcnNBc0FkbWluKCk7XG4gICAgbGV0IGhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluID0gZmFsc2U7XG4gICAgaWYgKGRpc3RyaWJ1dG9yQWRtaW4gJiYgZGlzdHJpYnV0b3JBZG1pbi5sZW5ndGggPiAwKSB7XG4gICAgICBoYXNBdExlYXN0T25lRGlzdHJpYnV0b3JBZG1pbiA9IHRydWU7XG4gICAgfVxuICAgIGxldCB1c2VyS2V5ID0gdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0VXNlcktleSgpO1xuICAgIGlmICghdXNlcktleSkge1xuICAgICAgZGVmZXJyZWQucmVqZWN0KCdzaWduX2luJyk7XG4gICAgfSBlbHNlIGlmICghYWRtaW4gJiYgIWhhc0F0TGVhc3RPbmVEaXN0cmlidXRvckFkbWluKSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoW1wiYXV0aEVycm9yXCIsICdob21lJ10pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxufVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvYXV0aG9yaXphdGlvbi5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tbWFuZHNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy5TRVJWSUNFX05BTUUgPSAnZGV2aWNlcyc7XG4gIH1cblxuICBwYW5lbFNsZWVwKGtleSwgcGFuZWxTbGVlcCkge1xuICAgIC8qKiBwYW5lbFNsZWVwOiBib29sZWFuICoqL1xuICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgcGFuZWxTbGVlcFxuICAgIH07XG5cbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L3BhbmVsLXNsZWVwYCkuY3VzdG9tUFVUKHBheWxvYWQpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcmVzZXQoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9yZXNldGApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGNvbnRlbnREZWxldGUoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9jb250ZW50LWRlbGV0ZWApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGNvbnRlbnRVcGRhdGUoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9jb250ZW50LXVwZGF0ZWApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHVwZGF0ZURldmljZShrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL3JlZnJlc2gtZGV2aWNlLXJlcHJlc2VudGF0aW9uYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdG9nZ2xlRGlhZ25vc3RpY3Moa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9kaWFnbm9zdGljc2ApLnBvc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHJlc3RhcnQoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9yZXN0YXJ0YCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcG9zdExvZyhrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL3Bvc3QtbG9nYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcG93ZXJPbihrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgYXBpL3YxL2RldmljZXMvJHtrZXl9L2NvbW1hbmRzL3Bvd2VyLW9uYCkucG9zdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcG93ZXJPZmYoa2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fS9jb21tYW5kcy9wb3dlci1vZmZgKS5wb3N0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB2b2x1bWUoa2V5LCB2b2x1bWUpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIHZvbHVtZVxuICAgIH07XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fWApLmN1c3RvbVBPU1QocGF5bG9hZCwgJ2NvbW1hbmRzL3ZvbHVtZScpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgY3VzdG9tKGtleSwgY29tbWFuZCkge1xuICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgY29tbWFuZFxuICAgIH07XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgYGFwaS92MS9kZXZpY2VzLyR7a2V5fWApLmN1c3RvbVBPU1QocGF5bG9hZCwgJ2NvbW1hbmRzL2N1c3RvbScpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG59XG5cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvY29tbWFuZHMuc2VydmljZS5qc1xuICoqLyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50J1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0ZU1hbmlwdWxhdGlvblNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgY29udmVydFRvTW9tZW50SWZOb3RBbHJlYWR5KGRhdGUpIHtcbiAgICBpZiAoIW1vbWVudC5pc01vbWVudChkYXRlKSkge1xuICAgICAgcmV0dXJuIG1vbWVudChuZXcgRGF0ZShkYXRlKSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRhdGVcbiAgICB9XG4gIH1cblxuICBjcmVhdGVGb3JtYXR0ZWRTdGFydEFuZEVuZERhdGVGcm9tVG9kYXkoZGF5c0JhY2spIHtcbiAgICBsZXQgc3RhcnRUaW1lID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJylcbiAgICBsZXQgc3RhcnRUaW1lTWlkTmlnaHQgPSBtb21lbnQoc3RhcnRUaW1lLCAnWVlZWS1NTS1ERCcpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJylcbiAgICBsZXQgc3RhcnRUaW1lRW5kT2ZEYXkgPSBtb21lbnQoc3RhcnRUaW1lTWlkTmlnaHQsICdZWVlZLU1NLUREIGhoOm1tIEEnKS5hZGQoMSwgJ2RheScpLnN1YnRyYWN0KDYwLCAnc2Vjb25kcycpLmZvcm1hdCgnWVlZWS1NTS1ERCBoaDptbSBBJylcblxuICAgIGxldCBlbmRUaW1lID0gbW9tZW50KCkuc3VidHJhY3QoZGF5c0JhY2ssICdkYXlzJykuZm9ybWF0KCdZWVlZLU1NLUREJylcbiAgICBsZXQgZW5kVGltZU1pZE5pZ2h0ID0gbW9tZW50KGVuZFRpbWUsICdZWVlZLU1NLUREJykuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tIEEnKVxuXG4gICAgcmV0dXJuIFtlbmRUaW1lTWlkTmlnaHQsIHN0YXJ0VGltZUVuZE9mRGF5XVxuICB9XG5cbiAgZ2VuZXJhdGVMb2NhbEZyb21VVEMoVVRDVGltZSkge1xuICAgIGxldCBsb2NhbFRpbWUgPSBtb21lbnQudXRjKFVUQ1RpbWUpLnRvRGF0ZSgpO1xuICAgIHJldHVybiBtb21lbnQobG9jYWxUaW1lKS5mb3JtYXQoJ1lZWVktTU0tREQgaGg6bW06c3MgQScpO1xuICB9O1xuXG5cbn1cblxuXG5cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvZGF0ZW1hbmlwdWxhdGlvbi5zZXJ2aWNlLmpzXG4gKiovIiwiaW1wb3J0ICdyZXN0YW5ndWxhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERldmljZXNTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJGxvZywgUmVzdGFuZ3VsYXIsICRxLCAkaHR0cCwgJHN0YXRlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRsb2cgPSAkbG9nXG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy4kcSA9ICRxXG4gICAgdGhpcy4kaHR0cCA9ICRodHRwXG4gICAgdGhpcy4kc3RhdGUgPSAkc3RhdGVcbiAgICB0aGlzLlNFUlZJQ0VfTkFNRSA9ICdkZXZpY2VzJztcbiAgICB0aGlzLnVyaUJhc2UgPSAndjEvZGV2aWNlcyc7XG4gIH1cblxuICBhZGp1c3RDb250cm9sc01vZGUoZGV2aWNlS2V5LCBjb250cm9sc01vZGUpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIGNvbnRyb2xzTW9kZVxuICAgIH07XG5cbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCBgL2FwaS92MS9kZXZpY2VzLyR7ZGV2aWNlS2V5fS9jb250cm9scy1tb2RlYCkuY3VzdG9tUFVUKHBheWxvYWQpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0RGV2aWNlQnlNYWNBZGRyZXNzKG1hY0FkZHJlc3MpIHtcbiAgICBsZXQgdXJsID0gYGFwaS92MS9kZXZpY2VzP21hY19hZGRyZXNzPSR7bWFjQWRkcmVzc31gO1xuICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnYXBpL3YxL2RldmljZXMnLCB1cmwpLmdldCgpO1xuICB9XG5cbiAgZ2V0RGV2aWNlQnlLZXkoZGV2aWNlS2V5KSB7XG4gICAgbGV0IHVybCA9IGBhcGkvdjEvZGV2aWNlcy8ke2RldmljZUtleX1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICByZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUoZGljdGlvbmFyeSwgdmFsdWUpIHtcbiAgICBsZXQgcmVzdWx0cyA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWN0aW9uYXJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGRpY3Rpb25hcnlbaV07XG4gICAgICByZXN1bHRzLnB1c2goZWFjaFt2YWx1ZV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0c1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWxCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBpc01hYyA9IGZhbHNlXG4gICAgICAgIGxldCBpc0dDTWlkID0gZmFsc2VcbiAgICAgICAgbGV0IHNlcmlhbERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuICAgICAgICBsZXQgZGV2aWNlU2VyaWFsc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwic2VyaWFsXCIpO1xuICAgICAgICByZXR1cm4gW2RldmljZVNlcmlhbHNPbmx5LCBzZXJpYWxEZXZpY2VzRGljdF07XG4gICAgICB9KTtcbiAgfVxuXG4gIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsU2VyaWFsQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbChkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcbiAgICAgICAgbGV0IGlzTWFjID0gZmFsc2VcbiAgICAgICAgbGV0IGlzR0NNaWQgPSBmYWxzZVxuICAgICAgICBsZXQgc2VyaWFsRGV2aWNlc0RpY3QgPSB0aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG4gICAgICAgIGxldCBzZXJpYWxEZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG4gICAgICAgIHJldHVybiBbc2VyaWFsRGV2aWNlc09ubHksIHNlcmlhbERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcbiAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcbiAgICAgICAgbGV0IGlzTWFjID0gZmFsc2VcbiAgICAgICAgbGV0IGlzR0NNaWQgPSBmYWxzZVxuICAgICAgICBsZXQgc2VyaWFsRGV2aWNlc0RpY3QgPSB0aGlzLmNvbnZlcnREZXZpY2VzQXJyYXlUb0RpY3Rpb25hcnlPYmoocmVzdWx0LCBpc01hYywgaXNHQ01pZCk7XG4gICAgICAgIGxldCBzZXJpYWxEZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJzZXJpYWxcIik7XG4gICAgICAgIHJldHVybiBbc2VyaWFsRGV2aWNlc09ubHksIHNlcmlhbERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaERldmljZXNCeVBhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBtYWNEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIHRydWUpO1xuICAgICAgICBsZXQgZGV2aWNlTWFjc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwibWFjXCIpO1xuICAgICAgICByZXR1cm4gW2RldmljZU1hY3NPbmx5LCBtYWNEZXZpY2VzRGljdF07XG4gICAgICB9KVxuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpIHtcbiAgICByZXR1cm4gdGhpcy5zZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgICAgbGV0IGlzTWFjID0gdHJ1ZTtcbiAgICAgICAgICBsZXQgaXNHQ01pZCA9IGZhbHNlO1xuICAgICAgICAgIGxldCBtYWNEZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGlzTWFjLCBpc0dDTWlkKTtcbiAgICAgICAgICBsZXQgbWFjRGV2aWNlcyA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJtYWNcIilcbiAgICAgICAgICByZXR1cm4gW21hY0RldmljZXMsIG1hY0RldmljZXNEaWN0XTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgfVxuXG4gIGV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0dsb2JhbGx5KHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVzW1wibWF0Y2hlc1wiXTtcbiAgICAgICAgICBsZXQgaXNNYWMgPSB0cnVlO1xuICAgICAgICAgIGxldCBpc0dDTWlkID0gZmFsc2U7XG4gICAgICAgICAgbGV0IG1hY0RldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgaXNNYWMsIGlzR0NNaWQpO1xuICAgICAgICAgIGxldCBtYWNEZXZpY2VzID0gdGhpcy5yZXRyaXZlRmlsdGVyZWREaWN0aW9uYXJ5VmFsdWUocmVzdWx0LCBcIm1hY1wiKVxuICAgICAgICAgIHJldHVybiBbbWFjRGV2aWNlcywgbWFjRGV2aWNlc0RpY3RdO1xuICAgICAgICB9XG4gICAgICApO1xuICB9XG5cbiAgZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBnY21pZERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuICAgICAgICBsZXQgZ2NtaWREZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJnY21pZFwiKVxuICAgICAgICByZXR1cm4gW2djbWlkRGV2aWNlc09ubHksIGdjbWlkRGV2aWNlc0RpY3RdO1xuICAgICAgfSk7XG4gIH1cblxuICBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc1tcIm1hdGNoZXNcIl07XG4gICAgICAgIGxldCBHQ01pZERldmljZXNEaWN0ID0gdGhpcy5jb252ZXJ0RGV2aWNlc0FycmF5VG9EaWN0aW9uYXJ5T2JqKHJlc3VsdCwgZmFsc2UsIHRydWUpO1xuICAgICAgICBsZXQgZ2NtaWREZXZpY2VzT25seSA9IHRoaXMucmV0cml2ZUZpbHRlcmVkRGljdGlvbmFyeVZhbHVlKHJlc3VsdCwgXCJnY21pZFwiKVxuICAgICAgICByZXR1cm4gW2djbWlkRGV2aWNlc09ubHksIEdDTWlkRGV2aWNlc0RpY3RdO1xuICAgICAgfSk7XG4gIH1cblxuICBleGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWRHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSByZXNbXCJtYXRjaGVzXCJdO1xuICAgICAgICBsZXQgR0NNaWREZXZpY2VzRGljdCA9IHRoaXMuY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaihyZXN1bHQsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgbGV0IGdjbWlkRGV2aWNlc09ubHkgPSB0aGlzLnJldHJpdmVGaWx0ZXJlZERpY3Rpb25hcnlWYWx1ZShyZXN1bHQsIFwiZ2NtaWRcIilcbiAgICAgICAgcmV0dXJuIFtnY21pZERldmljZXNPbmx5LCBHQ01pZERldmljZXNEaWN0XTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVqZWN0ZWRQcm9taXNlKCkge1xuICAgIGxldCBkZXZpY2VEZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICBkZXZpY2VEZWZlcnJlZC5yZWplY3QoKVxuICAgIHJldHVybiBkZXZpY2VEZWZlcnJlZC5wcm9taXNlXG4gIH07XG5cblxuICBzZWFyY2hEZXZpY2VzKHBhcnRpYWxTZWFyY2gsIGJ1dHRvbiwgYnlUZW5hbnQsIHRlbmFudEtleSwgZGlzdHJpYnV0b3JLZXksIHVubWFuYWdlZCwgZ2xvYmFsbHkpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgbGV0IGRldmljZXNQcm9taXNlO1xuICAgIGlmIChwYXJ0aWFsU2VhcmNoKSB7XG4gICAgICBpZiAocGFydGlhbFNlYXJjaC5sZW5ndGggPiAyKSB7XG4gICAgICAgIGlmIChidXR0b24gPT09IFwiU2VyaWFsIE51bWJlclwiKSB7XG4gICAgICAgICAgaWYgKGdsb2JhbGx5KSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxHbG9iYWxseShwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYnlUZW5hbnQpIHtcbiAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbFNlcmlhbEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxTZXJpYWxCeURpc3RyaWJ1dG9yKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsU2VhcmNoLCB1bm1hbmFnZWQpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PT0gXCJNQUNcIikge1xuICAgICAgICAgIGlmIChnbG9iYWxseSkge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGJ5VGVuYW50KSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxNYWNCeVRlbmFudCh0ZW5hbnRLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGV2aWNlc1Byb21pc2UgPSB0aGlzLmV4ZWN1dGVTZWFyY2hpbmdQYXJ0aWFsTWFjQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZ2xvYmFsbHkpIHtcbiAgICAgICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5leGVjdXRlU2VhcmNoaW5nUGFydGlhbEdDTWlkR2xvYmFsbHkocGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGJ5VGVuYW50KSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbFNlYXJjaCwgdW5tYW5hZ2VkKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMuZXhlY3V0ZVNlYXJjaGluZ1BhcnRpYWxHQ01pZEJ5RGlzdHJpYnV0b3IoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxTZWFyY2gsIHVubWFuYWdlZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRldmljZXNQcm9taXNlID0gdGhpcy5yZWplY3RlZFByb21pc2UoKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZXZpY2VzUHJvbWlzZSA9IHRoaXMucmVqZWN0ZWRQcm9taXNlKClcbiAgICB9XG5cbiAgICBkZXZpY2VzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZXZpY2VzUmVzdWx0KSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcbiAgICAgICAgXCJzdWNjZXNzXCI6IHRydWUsXG4gICAgICAgIFwiZGV2aWNlc1wiOiBkZXZpY2VzUmVzdWx0XG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXZpY2VzUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZGV2aWNlc1Jlc3VsdCkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZSxcbiAgICAgICAgXCJkZXZpY2VzXCI6IFtdXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZVxuICB9XG5cbiAgY29udmVydERldmljZXNBcnJheVRvRGljdGlvbmFyeU9iaih0aGVBcnJheSwgbWFjLCBnY20pIHtcbiAgICAvKiogQ29udmVydHMgYXJyYXkgdG8gZGljdGlvbmFyeSB3aXRoIG1hYywgZ2NtaWQsIG9yIHNlcmlhbCBhcyB0aGUga2V5ICoqL1xuICAgIGxldCBkZXZpY2VzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGl0ZW0gPSB0aGVBcnJheVtpXTtcbiAgICAgIGlmIChtYWMpIHtcbiAgICAgICAgZGV2aWNlc1tpdGVtLm1hY10gPSBpdGVtO1xuICAgICAgfSBlbHNlIGlmIChnY20pIHtcbiAgICAgICAgZGV2aWNlc1tpdGVtLmdjbWlkXSA9IGl0ZW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXZpY2VzW2l0ZW0uc2VyaWFsXSA9IGl0ZW07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZXZpY2VzO1xuICB9O1xuXG4gIGVkaXRJdGVtKGl0ZW0sIGZyb21EZXZpY2VzKSB7XG4gICAgaWYgKCFmcm9tRGV2aWNlcykge1xuICAgICAgZnJvbURldmljZXMgPSBmYWxzZVxuICAgIH1cbiAgICB0aGlzLiRzdGF0ZS5nbygnZWRpdERldmljZScsIHtcbiAgICAgIGRldmljZUtleTogaXRlbS5rZXksXG4gICAgICB0ZW5hbnRLZXk6IGl0ZW0udGVuYW50S2V5LFxuICAgICAgZnJvbURldmljZXM6IGZyb21EZXZpY2VzXG4gICAgfSk7XG4gIH1cblxuICBwcmVwcmF0ZUZvckVkaXRWaWV3KGJ1dHRvbiwgdGVuYW50S2V5LCBzZWFyY2hUZXh0LCBtYWNEZXZpY2VzLCBzZXJpYWxEZXZpY2VzLCBnY21pZERldmljZXMpIHtcbiAgICBsZXQgbWFjLCBzZXJpYWwsIGdjbWlkO1xuXG4gICAgbWFjID0gYnV0dG9uID09PSBcIk1BQ1wiO1xuICAgIHNlcmlhbCA9IGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCI7XG4gICAgZ2NtaWQgPSBidXR0b24gPT09IFwiR0NNIElEXCJcblxuICAgIGlmIChtYWMpIHtcbiAgICAgIHJldHVybiB0aGlzLmVkaXRJdGVtKG1hY0RldmljZXNbc2VhcmNoVGV4dF0pO1xuICAgIH0gZWxzZSBpZiAoc2VyaWFsKSB7XG4gICAgICByZXR1cm4gdGhpcy5lZGl0SXRlbShzZXJpYWxEZXZpY2VzW3NlYXJjaFRleHRdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZWRpdEl0ZW0oZ2NtaWREZXZpY2VzW3NlYXJjaFRleHRdKVxuICAgIH1cblxuICB9XG5cbiAgZ2V0SXNzdWVzQnlLZXkoZGV2aWNlS2V5LCBzdGFydEVwb2NoLCBlbmRFcG9jaCwgcHJldiwgbmV4dCkge1xuICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuICAgIG5leHQgPSBuZXh0ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBuZXh0O1xuICAgIGxldCB1cmwgPSBgL2FwaS92MS9kZXZpY2VzLyR7cHJldn0vJHtuZXh0fS8ke2RldmljZUtleX0vaXNzdWVzP3N0YXJ0PSR7c3RhcnRFcG9jaH0mZW5kPSR7ZW5kRXBvY2h9YDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0Q29tbWFuZEV2ZW50c0J5S2V5KGRldmljZUtleSwgcHJldiwgbmV4dCkge1xuICAgIHByZXYgPSBwcmV2ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBwcmV2O1xuICAgIG5leHQgPSBuZXh0ID09PSB1bmRlZmluZWQgfHwgbnVsbCA/IG51bGwgOiBuZXh0O1xuICAgIGxldCB1cmwgPSBgL2FwaS92MS9wbGF5ZXItY29tbWFuZC1ldmVudHMvJHtwcmV2fS8ke25leHR9LyR7ZGV2aWNlS2V5fWA7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gVEVOQU5UIFZJRVdcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBnZXREZXZpY2VzQnlUZW5hbnQodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5VGVuYW50VVJMKHRlbmFudEtleSwgcHJldiwgbmV4dCwgZmFsc2UpO1xuICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldFVubWFuYWdlZERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcbiAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICAgIGxldCB1cmwgPSB0aGlzLm1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCB0cnVlKTtcbiAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICB9XG4gIH1cblxuICBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsU2VyaWFsQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX3NlcmlhbCwgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKHRlbmFudEtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gYC9hcGkvdjEvdGVuYW50cy9zZWFyY2gvJHt0ZW5hbnRLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX3NlcmlhbD0ke3BhcnRpYWxfc2VyaWFsfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoRGV2aWNlc0J5UGFydGlhbE1hY0J5VGVuYW50KHRlbmFudEtleSwgcGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuICAgIGlmICh0ZW5hbnRLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL3RlbmFudHMvc2VhcmNoLyR7dGVuYW50S2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mcGFydGlhbF9tYWM9JHtwYXJ0aWFsX21hY31gO1xuICAgICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIHNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkQnlUZW5hbnQodGVuYW50S2V5LCBwYXJ0aWFsX2djbWlkLCB1bm1hbmFnZWQpIHtcbiAgICBpZiAodGVuYW50S2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS90ZW5hbnRzL3NlYXJjaC8ke3RlbmFudEtleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfZ2NtaWQ9JHtwYXJ0aWFsX2djbWlkfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIERFVklDRVMgVklFV1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHNlYXJjaERldmljZXNCeVBhcnRpYWxTZXJpYWwoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxfc2VyaWFsLCB1bm1hbmFnZWQpIHtcbiAgICBpZiAoZGlzdHJpYnV0b3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVybCA9IGAvYXBpL3YxL2Rpc3RyaWJ1dG9ycy9zZWFyY2gvJHtkaXN0cmlidXRvcktleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfc2VyaWFsPSR7cGFydGlhbF9zZXJpYWx9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjKGRpc3RyaWJ1dG9yS2V5LCBwYXJ0aWFsX21hYywgdW5tYW5hZ2VkKSB7XG4gICAgaWYgKGRpc3RyaWJ1dG9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1cmwgPSBgL2FwaS92MS9kaXN0cmlidXRvcnMvc2VhcmNoLyR7ZGlzdHJpYnV0b3JLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX21hYz0ke3BhcnRpYWxfbWFjfWA7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG5cbiAgc2VhcmNoRGlzdHJpYnV0b3JEZXZpY2VzQnlQYXJ0aWFsR0NNaWQoZGlzdHJpYnV0b3JLZXksIHBhcnRpYWxfZ2NtaWQsIHVubWFuYWdlZCkge1xuICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gYC9hcGkvdjEvZGlzdHJpYnV0b3JzL3NlYXJjaC8ke2Rpc3RyaWJ1dG9yS2V5fS9kZXZpY2VzP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mcGFydGlhbF9nY21pZD0ke3BhcnRpYWxfZ2NtaWR9YDtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5TRVJWSUNFX05BTUUsIHVybCkuZ2V0KCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFNFQVJDSCBERVZJQ0VTIEdMT0JBTExZXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgc2VhcmNoRGV2aWNlc0J5UGFydGlhbFNlcmlhbEdsb2JhbGx5KHBhcnRpYWxfc2VyaWFsLCB1bm1hbmFnZWQpIHtcbiAgICBsZXQgdXJsID0gYC9hcGkvdjEvZGV2aWNlcy9hbmFseXRpY3Mvc2VhcmNoLWdsb2JhbD91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9JnBhcnRpYWxfc2VyaWFsPSR7cGFydGlhbF9zZXJpYWx9YDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKFwiZGV2aWNlc1wiLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuXG4gIH1cblxuICBzZWFyY2hEZXZpY2VzQnlQYXJ0aWFsTWFjR2xvYmFsbHkocGFydGlhbF9tYWMsIHVubWFuYWdlZCkge1xuICAgIGxldCB1cmwgPSBgL2FwaS92MS9kZXZpY2VzL2FuYWx5dGljcy9zZWFyY2gtZ2xvYmFsP3VubWFuYWdlZD0ke3VubWFuYWdlZH0mcGFydGlhbF9tYWM9JHtwYXJ0aWFsX21hY31gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoXCJkZXZpY2VzXCIsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG5cbiAgfVxuXG4gIHNlYXJjaERpc3RyaWJ1dG9yRGV2aWNlc0J5UGFydGlhbEdDTWlkR2xvYmFsbHkocGFydGlhbF9nY21pZCwgdW5tYW5hZ2VkKSB7XG4gICAgbGV0IHVybCA9IGAvYXBpL3YxL2RldmljZXMvYW5hbHl0aWNzL3NlYXJjaC1nbG9iYWw/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZwYXJ0aWFsX2djbWlkPSR7cGFydGlhbF9nY21pZH1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoXCJkZXZpY2VzXCIsIHVybCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBnZXREZXZpY2VzQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCkge1xuICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQsIGZhbHNlKTtcbiAgICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCh0aGlzLlNFUlZJQ0VfTkFNRSwgdXJsKS5nZXQoKTtcbiAgICB9XG4gIH1cblxuICBnZXRVbm1hbmFnZWREZXZpY2VzQnlEaXN0cmlidXRvcihkaXN0cmlidXRvcktleSwgcHJldiwgbmV4dCkge1xuICAgIGlmIChkaXN0cmlidXRvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdXJsID0gdGhpcy5tYWtlRGV2aWNlc0J5RGlzdHJpYnV0b3JVUkwoZGlzdHJpYnV0b3JLZXksIHByZXYsIG5leHQsIHRydWUpO1xuICAgICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuU0VSVklDRV9OQU1FLCB1cmwpLmdldCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldERldmljZXMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLlNFUlZJQ0VfTkFNRSkuZ2V0TGlzdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgc2F2ZShkZXZpY2UpIHtcbiAgICBpZiAoZGV2aWNlLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IGRldmljZS5wdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2RldmljZXMnKS5wb3N0KGRldmljZSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgc2F2ZU92ZXJsYXlTZXR0aW5ncyhkZXZpY2VfdXJsc2FmZV9rZXksIGJvdHRvbV9sZWZ0LCBib3R0b21fcmlnaHQsIHRvcF9yaWdodCwgdG9wX2xlZnQpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIGJvdHRvbV9sZWZ0LFxuICAgICAgYm90dG9tX3JpZ2h0LFxuICAgICAgdG9wX3JpZ2h0LFxuICAgICAgdG9wX2xlZnQsXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdvdmVybGF5JywgYC9hcGkvdjEvb3ZlcmxheS9kZXZpY2UvJHtkZXZpY2VfdXJsc2FmZV9rZXl9YCkuY3VzdG9tUE9TVChwYXlsb2FkKTtcbiAgfVxuXG4gIGRlbGV0ZShkZXZpY2VLZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKHRoaXMuU0VSVklDRV9OQU1FLCBkZXZpY2VLZXkpLnJlbW92ZSgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0UGFuZWxNb2RlbHMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ05vbmUnLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnTm9uZSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdTb255LUZYRDQwTFgyRicsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdTb255IEZYRDQwTFgyRidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdORUMtTENENDIxNScsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdORUMgTENENDIxNSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnUGhpbGxpcHMgQkRMNTU2MEVMJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ1BhbmFzb25pYy1USDU1TEY2VScsXG4gICAgICAgICdkaXNwbGF5TmFtZSc6ICdQYW5hc29uaWMgVEg1NUxGNlUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnTEctNDNTTTVCLUInLFxuICAgICAgICAnZGlzcGxheU5hbWUnOiAnTEcgNDNTTTVCLUInXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnU2hhcnAtUE5FNTIxJyxcbiAgICAgICAgJ2Rpc3BsYXlOYW1lJzogJ1NoYXJwIFBORTUyMSdcbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgZ2V0UGFuZWxJbnB1dHMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ05vbmUnLFxuICAgICAgICAncGFyZW50SWQnOiAnTm9uZSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdMRy00M1NNNUItQidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTb255LUZYRDQwTFgyRidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMicsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTb255LUZYRDQwTFgyRidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTInLFxuICAgICAgICAncGFyZW50SWQnOiAnUGhpbGxpcHMtQkRMNTU2MEVMJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0RWSScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdQaGlsbGlwcy1CREw1NTYwRUwnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnSERNSTEnLFxuICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkyJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1BhbmFzb25pYy1USDU1TEY2VSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdEVkknLFxuICAgICAgICAncGFyZW50SWQnOiAnUGFuYXNvbmljLVRINTVMRjZVJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ2lkJzogJ0hETUkxJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdIRE1JMicsXG4gICAgICAgICdwYXJlbnRJZCc6ICdTaGFycC1QTkU1MjEnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnRFZJJyxcbiAgICAgICAgJ3BhcmVudElkJzogJ1NoYXJwLVBORTUyMSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICdpZCc6ICdWR0EnLFxuICAgICAgICAncGFyZW50SWQnOiAnTkVDLUxDRDQyMTUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAnaWQnOiAnRFZJMScsXG4gICAgICAgICdwYXJlbnRJZCc6ICdORUMtTENENDIxNSdcbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgbWFrZURldmljZXNCeURpc3RyaWJ1dG9yVVJMKGRpc3RyaWJ1dG9yS2V5LCBwcmV2LCBuZXh0LCB1bm1hbmFnZWQpIHtcbiAgICBsZXQgdXJsID0gYC9hcGkvdjEvZGlzdHJpYnV0b3JzLyR7ZGlzdHJpYnV0b3JLZXl9L2RldmljZXM/dW5tYW5hZ2VkPSR7dW5tYW5hZ2VkfSZuZXh0X2N1cnNvcj0ke25leHR9JnByZXZfY3Vyc29yPSR7cHJldn1gO1xuICAgIHJldHVybiB1cmxcbiAgfVxuXG4gIG1ha2VEZXZpY2VzQnlUZW5hbnRVUkwodGVuYW50S2V5LCBwcmV2LCBuZXh0LCB1bm1hbmFnZWQpIHtcbiAgICBsZXQgdXJsID0gYC9hcGkvdjEvdGVuYW50cy8ke3RlbmFudEtleX0vZGV2aWNlcz91bm1hbmFnZWQ9JHt1bm1hbmFnZWR9Jm5leHRfY3Vyc29yPSR7bmV4dH0mcHJldl9jdXJzb3I9JHtwcmV2fWA7XG4gICAgcmV0dXJuIHVybFxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvZGV2aWNlcy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlzdHJpYnV0b3JzU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIsICRzdGF0ZSwgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG4gICAgdGhpcy4kc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2U7XG4gICAgdGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFID0gJ2Rpc3RyaWJ1dG9ycyc7XG4gIH1cblxuICBzYXZlKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGVuYW50LnB1dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuc2VydmljZSh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLnBvc3QodGVuYW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmZXRjaEFsbCgpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSkuZ2V0TGlzdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZmV0Y2hBbGxCeVVzZXIodXNlcktleSkge1xuICAgIGlmICh1c2VyS2V5KSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKCd1c2VycycsIHVzZXJLZXkpLmRvR0VUKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gIH1cblxuICBnZXRCeUtleShrZXkpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKHRoaXMuRElTVFJJQlVUT1JfU0VSVklDRSwgYGFwaS92MS9kaXN0cmlidXRvcnMvJHtrZXl9YCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBkZWxldGUoZW50aXR5KSB7XG4gICAgaWYgKGVudGl0eS5rZXkpIHtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBlbnRpdHkua2V5KS5yZW1vdmUoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxuXG4gIGdldEJ5TmFtZShuYW1lKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCh0aGlzLkRJU1RSSUJVVE9SX1NFUlZJQ0UpLmdldExpc3Qoe2Rpc3RyaWJ1dG9yTmFtZTogbmFtZX0pO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0RG9tYWluc0J5S2V5KGtleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwodGhpcy5ESVNUUklCVVRPUl9TRVJWSUNFLCBgYXBpL3YxL2Rpc3RyaWJ1dG9ycy8ke2tleX0vZG9tYWluc2ApLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgc3dpdGNoRGlzdHJpYnV0b3IoZGlzdHJpYnV0b3IpIHtcbiAgICB0aGlzLlNlc3Npb25zU2VydmljZS5zZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKGRpc3RyaWJ1dG9yLm5hbWUpO1xuICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlLnNldEN1cnJlbnREaXN0cmlidXRvcktleShkaXN0cmlidXRvci5rZXkpO1xuICAgIHJldHVybiB0aGlzLiRzdGF0ZS5nbygnd2VsY29tZScpO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvZGlzdHJpYnV0b3JzLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCAgY2xhc3MgRG9tYWluc1NlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgfVxuXG4gIHNhdmUoZG9tYWluKSB7XG4gICAgaWYgKGRvbWFpbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByb21pc2UgPSBkb21haW4ucHV0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5zZXJ2aWNlKCdkb21haW5zJykucG9zdChkb21haW4pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGZldGNoQWxsRG9tYWlucygpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKCdkb21haW5zJykuZ2V0TGlzdCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0RG9tYWluQnlLZXkoZG9tYWluS2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnZG9tYWlucycsIGBhcGkvdjEvZG9tYWlucy8ke2RvbWFpbktleX1gKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldERpcmVjdG9yeUFwaUNvbm5lY3Rpdml0eUluZm9ybWF0aW9uKGRvbWFpbktleSkge1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2RvbWFpbnMnLCBgYXBpL3YxL2RvbWFpbnMvJHtkb21haW5LZXl9L2RpcmVjdG9yeV9hcGlgKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGRlbGV0ZShkb21haW4pIHtcbiAgICBpZiAoZG9tYWluLmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lKFwiZG9tYWluc1wiLCBkb21haW4ua2V5KS5yZW1vdmUoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfVxufVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9kb21haW5zLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJZGVudGl0eVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXI7XG4gIH1cblxuICBnZXRJZGVudGl0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ2lkZW50aXR5JykuZ2V0KCk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9pZGVudGl0eS5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZWdyYXRpb25FdmVudHMge1xuXG4gIGNvbnN0cnVjdG9yKFJlc3Rhbmd1bGFyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLlJlc3Rhbmd1bGFyID0gUmVzdGFuZ3VsYXJcbiAgICB0aGlzLkNSRUFURV9URU5BTlRfRVZFTlRTID0gJ2ludGVncmF0aW9uX2V2ZW50cy90ZW5hbnRfY3JlYXRlJztcbiAgICB0aGlzLkVOUk9MTE1FTlRfRVZFTlRTID0gJ2ludGVncmF0aW9uX2V2ZW50cy9lbnJvbGxtZW50JztcbiAgfVxuXG4gICBnZXRUZW5hbnRDcmVhdGVFdmVudHModGVuYW50S2V5KSB7XG4gICAgbGV0IHF1ZXJ5ID0ge1xuICAgICAgdGVuYW50S2V5XG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5SZXN0YW5ndWxhci5hbGwodGhpcy5DUkVBVEVfVEVOQU5UX0VWRU5UUykuY3VzdG9tR0VUKCcnLCBxdWVyeSk7XG4gIH1cblxuICBnZXRFbnJvbGxtZW50RXZlbnRzKGRldmljZUtleSkge1xuICAgIGxldCBxdWVyeSA9IHtcbiAgICAgIGRldmljZUtleVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIuYWxsKHRoaXMuRU5ST0xMTUVOVF9FVkVOVFMpLmN1c3RvbUdFVCgnJywgcXVlcnkpO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvaW50ZWdyYXRpb24tZXZlbnRzLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhdGlvbnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuICB9XG5cbiAgc2F2ZShsb2NhdGlvbikge1xuICAgIGlmIChsb2NhdGlvbi5rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByb21pc2UgPSBsb2NhdGlvbi5wdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ2xvY2F0aW9ucycpLnBvc3QobG9jYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSh0ZW5hbnRLZXksIGN1c3RvbWVyX2xvY2F0aW9uX25hbWUpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIuYWxsKCd0ZW5hbnRzJykuY3VzdG9tR0VUTElTVCh0ZW5hbnRLZXkgKyBcIi9sb2NhdGlvbnNcIiwge2N1c3RvbWVyX2xvY2F0aW9uX25hbWU6IGN1c3RvbWVyX2xvY2F0aW9uX25hbWV9KVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0TG9jYXRpb25zQnlUZW5hbnRLZXkodGVuYW50S2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGVuYW50cycsIGBhcGkvdjEvdGVuYW50cy8ke3RlbmFudEtleX0vbG9jYXRpb25zYCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRMb2NhdGlvbnNCeVRlbmFudEtleVBhZ2luYXRlZCh0ZW5hbnRLZXksIHByZXYsIG5leHQpIHtcbiAgICBwcmV2ID0gcHJldiA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogcHJldjtcbiAgICBuZXh0ID0gbmV4dCA9PT0gdW5kZWZpbmVkIHx8IG51bGwgPyBudWxsIDogbmV4dDtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0ZW5hbnRzJywgYGFwaS92MS90ZW5hbnRzLyR7dGVuYW50S2V5fS8ke3ByZXZ9LyR7bmV4dH0vbG9jYXRpb25zYCkuZ2V0KCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRMb2NhdGlvbkJ5S2V5KGxvY2F0aW9uS2V5KSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnbG9jYXRpb25zJywgYGFwaS92MS9sb2NhdGlvbnMvJHtsb2NhdGlvbktleX1gKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL2xvY2F0aW9ucy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZ3Jlc3NCYXJTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihuZ1Byb2dyZXNzRmFjdG9yeSkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5uZ1Byb2dyZXNzRmFjdG9yeSA9IG5nUHJvZ3Jlc3NGYWN0b3J5XG4gICAgdGhpcy5wcm9ncmVzc0JhciA9IHRoaXMubmdQcm9ncmVzc0ZhY3RvcnkuY3JlYXRlSW5zdGFuY2UoKTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0Q29sb3IoJyMwMEZDRkYnKTtcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldEhlaWdodCgnNHB4Jyk7XG4gICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3NCYXIuc3RhcnQoKTtcbiAgfVxuXG4gIGNvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLnByb2dyZXNzQmFyLmNvbXBsZXRlKCk7XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9wcm9ncmVzc2Jhci5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvb2ZQbGF5U2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoJGh0dHAsXG4gICAgICAgICAgICAgICRxLFxuICAgICAgICAgICAgICAkd2luZG93LFxuICAgICAgICAgICAgICBTZXNzaW9uc1NlcnZpY2UsXG4gICAgICAgICAgICAgICRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRodHRwID0gJGh0dHBcbiAgICB0aGlzLiRxID0gJHFcbiAgICB0aGlzLiR3aW5kb3cgPSAkd2luZG93XG4gICAgdGhpcy5TZXNzaW9uc1NlcnZpY2UgPSBTZXNzaW9uc1NlcnZpY2VcbiAgICB0aGlzLiRzdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtc1xuICAgIHRoaXMuJHN0YXRlID0gJHN0YXRlXG4gICAgdGhpcy5Ub2FzdHNTZXJ2aWNlID0gVG9hc3RzU2VydmljZVxuICAgIHRoaXMubWFrZUhUVFBSZXF1ZXN0ID0gdGhpcy5tYWtlSFRUUFJlcXVlc3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVyaUJhc2UgPSAncHJvb2ZwbGF5L2FwaS92MSc7XG4gIH1cblxuICBtYWtlSFRUUFVSTCh3aGVyZV90b19nbywgdGVuYW50KSB7XG4gICAgcmV0dXJuIHRoaXMudXJpQmFzZSArIHdoZXJlX3RvX2dvICsgdGVuYW50O1xuICB9XG5cbiAgbWFrZUhUVFBSZXF1ZXN0KHdoZXJlX3RvX2dvLCB0ZW5hbnQpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgbGV0IHVybCA9IHRoaXMubWFrZUhUVFBVUkwod2hlcmVfdG9fZ28sIHRlbmFudCk7XG4gICAgcmV0dXJuIHRoaXMuJGh0dHAuZ2V0KHVybCk7XG4gIH1cblxuICBnZXRBbGxSZXNvdXJjZXModGVuYW50KSB7XG4gICAgbGV0IHIgPSB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfcmVzb3VyY2VzL1wiLCB0ZW5hbnQpO1xuICAgIC8vIHRoZSBjYXRjaCBpcyBvbmx5IGRvbmUgaGVyZSBiZWNhdXNlIDMgcHJvb2Ygb2YgcGxheSB2aWV3cyBhcmUgaW5pdGlsaXplZCBhdCB0aGUgc2FtZSB0aW1lXG4gICAgLy8gc28gdGhpcyBjYXRjaCB3aWxsIGJlIGRvbmUgMyB0aW1lcyB3aXRoIDMgZXJyb3IgbWVzc2FnZXMgaWYgd2UgYWRkIGl0IHRvIGdldEFsbERpc3BsYXlzIGFuZCBnZXRBbGxMb2NhdGlvbnNcbiAgICByLmNhdGNoKGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgIGxldCB7c3RhdHVzfSA9IGVycjtcbiAgICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xuICAgICAgICB0aGlzLlRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoXCJZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHZpZXcgdGhpcyB0ZW5hbnQhXCIpO1xuICAgICAgICB0aGlzLiRzdGF0ZS5nbygncHJvb2YnLCB7fSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgdGhpcy5Ub2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KFwiWW91IG11c3Qgc2VsZWN0IGEgdGVuYW50IGZpcnN0IVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHN0YXRlLmdvKCdwcm9vZicsIHt9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByLnRoZW4oZGF0YSA9PiBkYXRhKTtcbiAgfVxuXG5cbiAgZ2V0QWxsRGlzcGxheXModGVuYW50KSB7XG4gICAgcmV0dXJuIHRoaXMubWFrZUhUVFBSZXF1ZXN0KFwiL3JldHJpZXZlX2FsbF9kaXNwbGF5cy9cIiwgdGVuYW50KTtcbiAgfVxuXG5cbiAgZ2V0QWxsTG9jYXRpb25zKHRlbmFudCkge1xuICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9hbGxfbG9jYXRpb25zL1wiLCB0ZW5hbnQpO1xuICB9XG5cblxuICBnZXRBbGxUZW5hbnRzKCkge1xuICAgIHJldHVybiB0aGlzLm1ha2VIVFRQUmVxdWVzdChcIi9yZXRyaWV2ZV9teV90ZW5hbnRzXCIsICcnKTtcbiAgfVxuXG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGF0ZShzdGFydF9kYXRlLCBlbmRfZGF0ZSwgcmVzb3VyY2VzLCB0ZW5hbnQpIHtcbiAgICBsZXQgYWxsUmVzb3VyY2VzID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVhY2ggPSByZXNvdXJjZXNbaV07XG4gICAgICBhbGxSZXNvdXJjZXMgPSBhbGxSZXNvdXJjZXMgKyBcInxcIiArIGVhY2g7XG4gICAgfVxuXG4gICAgdGhpcy4kd2luZG93Lm9wZW4odGhpcy51cmlCYXNlICsgJy9tdWx0aV9yZXNvdXJjZV9ieV9kYXRlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxSZXNvdXJjZXMgKyAnLycgK1xuICAgICAgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKVxuXG4gICAgICAsICdfYmxhbmsnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZVJlc291cmNlc0J5RGV2aWNlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCByZXNvdXJjZXMsIHRlbmFudCkge1xuICAgIGxldCBhbGxSZXNvdXJjZXMgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IHJlc291cmNlc1tpXTtcbiAgICAgIGFsbFJlc291cmNlcyA9IGFsbFJlc291cmNlcyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX3Jlc291cmNlX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsUmVzb3VyY2VzICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cblxuICBkb3dubG9hZENTVkZvck11bHRpcGxlRGV2aWNlc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGRldmljZXMsIHRlbmFudCkge1xuICAgIGxldCBhbGxEZXZpY2VzID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRldmljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gZGV2aWNlc1tpXTtcbiAgICAgIGFsbERldmljZXMgPSBhbGxEZXZpY2VzICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfZGV2aWNlX3N1bW1hcml6ZWQvJyArIHN0YXJ0X2RhdGUgKyAnLycgKyBlbmRfZGF0ZSArICcvJyArIGFsbERldmljZXMgKyAnLycgK1xuICAgICAgdGVuYW50ICsgXCIvXCIgKyB0aGlzLlNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKVxuICAgICAgLCAnX2JsYW5rJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuXG4gIGRvd25sb2FkQ1NWRm9yTXVsdGlwbGVEZXZpY2VzQnlEYXRlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBkZXZpY2VzLCB0ZW5hbnQpIHtcbiAgICBsZXQgYWxsRGV2aWNlcyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXZpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGRldmljZXNbaV07XG4gICAgICBhbGxEZXZpY2VzID0gYWxsRGV2aWNlcyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2RldmljZV9ieV9kYXRlLycgKyBzdGFydF9kYXRlICsgJy8nICsgZW5kX2RhdGUgKyAnLycgKyBhbGxEZXZpY2VzICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc0J5RGV2aWNlKHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBsb2NhdGlvbnMsIHRlbmFudCkge1xuICAgIGxldCBhbGxMb2NhdGlvbnMgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGxvY2F0aW9uc1tpXTtcbiAgICAgIGFsbExvY2F0aW9ucyA9IGFsbExvY2F0aW9ucyArIFwifFwiICsgZWFjaDtcbiAgICB9XG5cbiAgICB0aGlzLiR3aW5kb3cub3Blbih0aGlzLnVyaUJhc2UgKyAnL211bHRpX2xvY2F0aW9uX2J5X2RldmljZS8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZG93bmxvYWRDU1ZGb3JNdWx0aXBsZUxvY2F0aW9uc1N1bW1hcml6ZWQoc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIGxvY2F0aW9ucywgdGVuYW50KSB7XG4gICAgbGV0IGFsbExvY2F0aW9ucyA9ICcnO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlYWNoID0gbG9jYXRpb25zW2ldO1xuICAgICAgYWxsTG9jYXRpb25zID0gYWxsTG9jYXRpb25zICsgXCJ8XCIgKyBlYWNoO1xuICAgIH1cblxuICAgIHRoaXMuJHdpbmRvdy5vcGVuKHRoaXMudXJpQmFzZSArICcvbXVsdGlfbG9jYXRpb25fc3VtbWFyaXplZC8nICsgc3RhcnRfZGF0ZSArICcvJyArIGVuZF9kYXRlICsgJy8nICsgYWxsTG9jYXRpb25zICsgJy8nICtcbiAgICAgIHRlbmFudCArIFwiL1wiICsgdGhpcy5TZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KClcbiAgICAgICwgJ19ibGFuaycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY3JlYXRlRmlsdGVyRm9yKHF1ZXJ5KSB7XG4gICAgcXVlcnkgPSBhbmd1bGFyLmxvd2VyY2FzZShxdWVyeSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgICAgcmVzb3VyY2UgPSBhbmd1bGFyLmxvd2VyY2FzZShyZXNvdXJjZSk7XG4gICAgICByZXR1cm4gKHJlc291cmNlLmluZGV4T2YocXVlcnkpID09PSAwKTtcbiAgICB9O1xuICB9XG4gIFxuICBxdWVyeVNlYXJjaChyZXNvdXJjZXMsIHNlYXJjaFRleHQpIHtcbiAgICBpZiAoc2VhcmNoVGV4dCkge1xuICAgICAgcmV0dXJuIHJlc291cmNlcy5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXJGb3Ioc2VhcmNoVGV4dCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzb3VyY2VzO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL3Byb29mcGxheS5zZXJ2aWNlLmpzXG4gKiovIiwiaW1wb3J0IGp3dF9kZWNvZGUgZnJvbSAnand0LWRlY29kZSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2Vzc2lvbnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcigkaHR0cCwgJGxvZywgU3RvcmFnZVNlcnZpY2UsIElkZW50aXR5U2VydmljZSwgUmVzdGFuZ3VsYXIsICRxLCBzd2VldCkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy4kaHR0cCA9ICRodHRwXG4gICAgdGhpcy4kbG9nID0gJGxvZ1xuICAgIHRoaXMuU3RvcmFnZVNlcnZpY2UgPSBTdG9yYWdlU2VydmljZVxuICAgIHRoaXMuSWRlbnRpdHlTZXJ2aWNlID0gSWRlbnRpdHlTZXJ2aWNlXG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gICAgdGhpcy4kcSA9ICRxXG4gICAgdGhpcy51cmlCYXNlID0gJ3YxL3Nlc3Npb25zJztcbiAgfVxuXG4gIHNldERpc3RyaWJ1dG9ycyhkaXN0cmlidXRvcnMpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2Rpc3RyaWJ1dG9ycycsIGRpc3RyaWJ1dG9ycyk7XG4gIH1cblxuICBzZXREaXN0cmlidXRvcnNBc0FkbWluKGRpc3RyaWJ1dG9yc0FzQWRtaW4pIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoJ2Rpc3RyaWJ1dG9yc0FzQWRtaW4nLCBkaXN0cmlidXRvcnNBc0FkbWluKTtcbiAgfVxuXG4gIHNldElzQWRtaW4oaXNBZG1pbikge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgnaXNBZG1pbicsIGlzQWRtaW4pO1xuICB9XG5cbiAgc2V0VXNlcktleSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgndXNlcktleScsIHZhbHVlKTtcbiAgfVxuXG4gIHNldFVzZXJFbWFpbCh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLnNldCgndXNlckVtYWlsJywgdmFsdWUpO1xuICB9XG5cbiAgc2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdjdXJyZW50RGlzdHJpYnV0b3JLZXknLCB2YWx1ZSk7XG4gIH1cblxuICBzZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdjdXJyZW50RGlzdHJpYnV0b3JOYW1lJywgdmFsdWUpO1xuICB9XG5cbiAgZ2V0VXNlcktleSgpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJLZXknKTtcbiAgfVxuXG4gIGdldFVzZXJFbWFpbCgpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJFbWFpbCcpO1xuICB9XG5cbiAgZ2V0RGlzdHJpYnV0b3JzKCkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgnZGlzdHJpYnV0b3JzJyk7XG4gIH1cblxuICBnZXRDdXJyZW50RGlzdHJpYnV0b3JOYW1lKCkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yTmFtZScpO1xuICB9XG5cbiAgZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgnY3VycmVudERpc3RyaWJ1dG9yS2V5Jyk7XG4gIH1cblxuICBnZXREaXN0cmlidXRvcnNBc0FkbWluKCkge1xuICAgIHJldHVybiB0aGlzLlN0b3JhZ2VTZXJ2aWNlLmdldCgnZGlzdHJpYnV0b3JzQXNBZG1pbicpO1xuICB9XG5cbiAgZ2V0SXNBZG1pbigpIHtcbiAgICByZXR1cm4gdGhpcy5TdG9yYWdlU2VydmljZS5nZXQoJ2lzQWRtaW4nKTtcbiAgfVxuXG4gIGxvZ2luKGNyZWRlbnRpYWxzKSB7XG4gICAgLy8gcmVxdWVzdCBpbnRlcmNlcHRvciBjaGVja3MgdGhpc1xuICAgIHRoaXMuU3RvcmFnZVNlcnZpY2Uuc2V0KCdvQXV0aCcsIGNyZWRlbnRpYWxzLmlkX3Rva2VuKVxuXG4gICAgbGV0IHByb21pc2UgPSB0aGlzLiRodHRwKHt1cmw6ICcvYXBpL3YxL2xvZ2luJywgbWV0aG9kOiAnR0VUJ30pXG4gICAgcmV0dXJuIHByb21pc2UudGhlbigocmVzKSA9PiB7XG4gICAgICBsZXQgZGF0YSA9IGp3dF9kZWNvZGUocmVzLmRhdGEudG9rZW4pO1xuICAgICAgdGhpcy5TdG9yYWdlU2VydmljZS5zZXQoXCJKV1RcIiwgcmVzLmRhdGEudG9rZW4pXG4gICAgICB0aGlzLnNldERpc3RyaWJ1dG9ycyhkYXRhWydkaXN0cmlidXRvcnMnXSk7XG4gICAgICB0aGlzLnNldERpc3RyaWJ1dG9yc0FzQWRtaW4oZGF0YVsnZGlzdHJpYnV0b3JzX2FzX2FkbWluJ10pO1xuICAgICAgdGhpcy5zZXRJc0FkbWluKGRhdGFbJ2lzX2FkbWluJ10pO1xuICAgICAgdGhpcy5zZXRVc2VyRW1haWwoZGF0YVsnZW1haWwnXSk7XG4gICAgICB0aGlzLnNldFVzZXJLZXkoZGF0YVsna2V5J10pO1xuICAgIH0pXG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgc3dlZXQuc2hvdygnT29wcy4uLicsIFwiV2UgY291bGRuJ3QgbG9nIHlvdSBpbiA6KC4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnRcIiwgJ2Vycm9yJyk7XG4gICAgfSlcbiAgfVxuXG4gIHJlbW92ZVVzZXJJbmZvKCkge1xuICAgIHRoaXMuU3RvcmFnZVNlcnZpY2UucmVtb3ZlQWxsKCk7XG4gIH1cbn1cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL3Nlc3Npb25zLnNlcnZpY2UuanNcbiAqKi8iLCJpbXBvcnQgTG9ja3IgZnJvbSAnbG9ja3InO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yYWdlU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gIH1cblxuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiBMb2Nrci5zZXQoa2V5LCB2YWx1ZSk7XG4gIH1cblxuICBnZXQoa2V5KSB7XG4gICAgcmV0dXJuIExvY2tyLmdldChrZXkpO1xuICB9XG5cbiAgcm0oa2V5KSB7XG4gICAgcmV0dXJuIExvY2tyLnJtKGtleSk7XG4gIH1cblxuICByZW1vdmVBbGwoKSB7XG4gICAgTG9ja3IuZmx1c2goKTtcbiAgfVxuXG59XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy9zdG9yYWdlLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUZW5hbnRzU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIsIFNlc3Npb25zU2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyO1xuICAgIHRoaXMuU2Vzc2lvbnNTZXJ2aWNlID0gU2Vzc2lvbnNTZXJ2aWNlO1xuICB9XG5cbiAgc2F2ZSh0ZW5hbnQpIHtcbiAgICBpZiAodGVuYW50LmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRlbmFudC5wdXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLnNlcnZpY2UoJ3RlbmFudHMnKS5wb3N0KHRlbmFudCk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgc2F2ZU92ZXJsYXlTZXR0aW5ncyh0ZW5hbnRfdXJsc2FmZV9rZXksIGJvdHRvbV9sZWZ0LCBib3R0b21fcmlnaHQsIHRvcF9yaWdodCwgdG9wX2xlZnQpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIGJvdHRvbV9sZWZ0LFxuICAgICAgYm90dG9tX3JpZ2h0LFxuICAgICAgdG9wX3JpZ2h0LFxuICAgICAgdG9wX2xlZnQsXG4gICAgfVxuICAgIHJldHVybiB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgnb3ZlcmxheScsIGAvYXBpL3YxL292ZXJsYXkvdGVuYW50LyR7dGVuYW50X3VybHNhZmVfa2V5fWApLmN1c3RvbVBPU1QocGF5bG9hZCk7XG4gIH1cblxuICBvdmVybGF5QXBwbHlUZW5hbnQodGVuYW50X3VybHNhZmVfa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCdvdmVybGF5JywgYC9hcGkvdjEvb3ZlcmxheS90ZW5hbnQvJHt0ZW5hbnRfdXJsc2FmZV9rZXl9L2FwcGx5YCkucG9zdCgpO1xuICB9XG5cbiAgc2VhcmNoQWxsVGVuYW50c0J5TmFtZSh0ZW5hbnRfbmFtZSwgYWxsRGlzdHJpYnV0b3JzKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgndGVuYW50cycpLmN1c3RvbUdFVExJU1QoXCJcIiwge1xuICAgICAgdGVuYW50X25hbWU6IHRlbmFudF9uYW1lLCBhbGxEaXN0cmlidXRvcnM6IGFsbERpc3RyaWJ1dG9yc1xuICAgIH0pXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmZXRjaEFsbFRlbmFudHMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLmFsbCgndGVuYW50cycpLmdldExpc3QoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGZldGNoQWxsVGVuYW50c1BhZ2luYXRlZChwYWdlX3NpemUsIG9mZnNldCkge1xuICAgIGxldCB1cmwgPSBgYXBpL3YxL3RlbmFudHMvcGFnaW5hdGVkLyR7cGFnZV9zaXplfS8ke29mZnNldH1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0VGVuYW50QnlLZXkodGVuYW50S2V5KSB7XG4gICAgbGV0IHVybCA9IGBhcGkvdjEvdGVuYW50cy8ke3RlbmFudEtleX1gO1xuICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmVVcmwoJ3RlbmFudHMnLCB1cmwpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZGVsZXRlKHRlbmFudCkge1xuICAgIGlmICh0ZW5hbnQua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5SZXN0YW5ndWxhci5vbmUoXCJ0ZW5hbnRzXCIsIHRlbmFudC5rZXkpLnJlbW92ZSgpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9XG59XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy90ZW5hbnRzLnNlcnZpY2UuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUaW1lem9uZXNTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoUmVzdGFuZ3VsYXIpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuUmVzdGFuZ3VsYXIgPSBSZXN0YW5ndWxhclxuICB9XG5cbiAgZ2V0VXNUaW1lem9uZXMoKSB7XG4gICAgbGV0IHByb21pc2UgPSB0aGlzLlJlc3Rhbmd1bGFyLm9uZVVybCgndGltZXpvbmVzJywgJ2FwaS92MS90aW1lem9uZXMvdXMnKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldEFsbFRpbWV6b25lcygpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0aW1lem9uZXMnLCAnYXBpL3YxL3RpbWV6b25lcy9hbGwnKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldEN1c3RvbVRpbWV6b25lcygpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd0aW1lem9uZXMnLCAnYXBpL3YxL3RpbWV6b25lcy9jdXN0b20nKS5nZXQoKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxufVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC9zZXJ2aWNlcy90aW1lem9uZXMuc2VydmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvYXN0c1NlcnZpY2Uge1xuICBcbiAgY29uc3RydWN0b3IodG9hc3RyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLnRvYXN0ciA9IHRvYXN0cjtcbiAgfVxuXG4gIHNob3dTdWNjZXNzVG9hc3QobWVzc2FnZSwgdGl0bGUgPSAnU3VjY2VzcyEnKSB7XG4gICAgcmV0dXJuIHRoaXMudG9hc3RyLnN1Y2Nlc3MobWVzc2FnZSwgdGl0bGUpO1xuICB9XG5cbiAgc2hvd0Vycm9yVG9hc3QobWVzc2FnZSwgdGl0bGUgPSAnRXJyb3IhJykge1xuICAgIHJldHVybiB0aGlzLnRvYXN0ci5lcnJvcihtZXNzYWdlLCB0aXRsZSk7XG4gIH1cblxuICBzaG93SW5mb1RvYXN0KG1lc3NhZ2UsIHRpdGxlID0gJ0luZm9ybWF0aW9uJykge1xuICAgIHJldHVybiB0aGlzLnRvYXN0ci5pbmZvKG1lc3NhZ2UsIHRpdGxlKTtcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3NlcnZpY2VzL3RvYXN0cy5zZXJ2aWNlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVyc2lvbnNTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihSZXN0YW5ndWxhcikge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5SZXN0YW5ndWxhciA9IFJlc3Rhbmd1bGFyXG4gIH1cblxuICBnZXRWZXJzaW9ucygpIHtcbiAgICBsZXQgcHJvbWlzZSA9IHRoaXMuUmVzdGFuZ3VsYXIub25lVXJsKCd2ZXJzaW9ucycpLmdldCgpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvc2VydmljZXMvdmVyc2lvbnMuc2VydmljZS5qc1xuICoqLyIsImZ1bmN0aW9uIFRlbmFudExvZ3NDdHJsKCRzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFRlbmFudHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgSW50ZWdyYXRpb25FdmVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBEYXRlTWFuaXB1bGF0aW9uU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgJHNjb3BlLnRhYkluZGV4ID0gNTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuICB0ZW5hbnRQcm9taXNlLnRoZW4oZGF0YSA9PiB7XG4gICAgdm0uY3VycmVudFRlbmFudCA9IGRhdGFcbiAgfSk7XG5cbiAgdm0ubG9jYWxGcm9tVXRjID0gZnVuY3Rpb24gKGV2ZW50cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWFjaCA9IGV2ZW50c1tpXTtcbiAgICAgIGlmIChlYWNoLnV0Y1RpbWVzdGFtcCkge1xuICAgICAgICBlYWNoLnV0Y1RpbWVzdGFtcCA9IERhdGVNYW5pcHVsYXRpb25TZXJ2aWNlLmdlbmVyYXRlTG9jYWxGcm9tVVRDKGVhY2gudXRjVGltZXN0YW1wKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9O1xuXG4gIHZtLmdldFRlbmFudENyZWF0ZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICBsZXQgZW5yb2xsbWVudEV2ZW50c1Byb21pc2UgPSBJbnRlZ3JhdGlvbkV2ZW50cy5nZXRUZW5hbnRDcmVhdGVFdmVudHModm0udGVuYW50S2V5KTtcbiAgICBlbnJvbGxtZW50RXZlbnRzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2bS50ZW5hbnRDcmVhdGVFdmVudHMgPSBkYXRhO1xuICAgICAgdm0ubG9jYWxGcm9tVXRjKGRhdGEpO1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBTZXR1cFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIHZtLmluaXRpYWxpemUgPSAoKSA9PiB7XG4gICAgdm0uZ2V0VGVuYW50Q3JlYXRlRXZlbnRzKClcbiAgfVxuXG4gICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG4gICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN3aXRjaCAodG9UYWIpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdm07XG59XG5cbmV4cG9ydCB7VGVuYW50TG9nc0N0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvdGVuYW50L3RlbmFudC1sb2dzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJpbXBvcnQgbmF0dXJhbFNvcnQgZnJvbSAnamF2YXNjcmlwdC1uYXR1cmFsLXNvcnQnO1xuXG5cbmZ1bmN0aW9uIFRlbmFudE92ZXJsYXlzQ3RybCgkc3RhdGVQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGVuYW50c1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2FzdHNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbWFnZVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICAkc2NvcGUudGFiSW5kZXggPSA0O1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuICB0ZW5hbnRQcm9taXNlLnRoZW4oZGF0YSA9PiB7XG4gICAgdm0uY3VycmVudFRlbmFudCA9IGRhdGFcbiAgfSk7XG5cbiAgdm0ub3ZlcmxheUNoYW5nZWQgPSBmYWxzZTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIE92ZXJsYXlzXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdm0uYWRqdXN0T3ZlcmxheVN0YXR1cyA9IChzdGF0dXMpID0+IHtcbiAgICB2bS5jdXJyZW50VGVuYW50Lm92ZXJsYXlTdGF0dXMgPSBzdGF0dXNcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSB0cnVlO1xuICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50VGVuYW50KTtcbiAgICBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKClcbiAgICAgIGxldCB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkoJHN0YXRlUGFyYW1zLnRlbmFudEtleSk7XG4gICAgICB0ZW5hbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRlbmFudCkge1xuICAgICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcbiAgICAgICAgdm0ub25TdWNjZXNzUmVzb2x2aW5nVGVuYW50KHRlbmFudCk7XG4gICAgICB9KTtcbiAgICB9KVxuICAgIHByb21pc2UuY2F0Y2goKGVycikgPT4ge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclRvYXN0KCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xuICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgIH0pXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB2bS51cGRhdGVPdmVybGF5cyA9ICgpID0+IHtcbiAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSB0cnVlO1xuICAgIGxldCB0ZW5hbnRQcm9taXNlID0gdm0uZ2V0VGVuYW50KCk7XG4gICAgdGVuYW50UHJvbWlzZS50aGVuKCh0ZW5hbnQpID0+IHtcbiAgICAgIHZtLm92ZXJsYXlDaGFuZ2VkID0gZmFsc2U7XG4gICAgICB2bS5jdXJyZW50VGVuYW50Lm92ZXJsYXlzID0gdGVuYW50Lm92ZXJsYXlzO1xuICAgICAgdm0uY3VycmVudFRlbmFudENvcHkub3ZlcmxheXMgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudFRlbmFudC5vdmVybGF5cyk7XG4gICAgICB2bS5sb2FkaW5nT3ZlcmxheXMgPSBmYWxzZTtcbiAgICB9KVxuICAgIHJldHVybiB0ZW5hbnRQcm9taXNlO1xuICB9XG5cbiAgdm0uc3VibWl0T3ZlcmxheVNldHRpbmdzID0gKCkgPT4ge1xuICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IHRydWU7XG5cbiAgICBsZXQgb3ZlcmxheVNldHRpbmdzID0gYW5ndWxhci5jb3B5KHZtLmN1cnJlbnRUZW5hbnRDb3B5Lm92ZXJsYXlzKVxuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZU92ZXJsYXlTZXR0aW5ncyhcbiAgICAgIHZtLnRlbmFudEtleSxcbiAgICAgIG92ZXJsYXlTZXR0aW5ncy5ib3R0b21fbGVmdCxcbiAgICAgIG92ZXJsYXlTZXR0aW5ncy5ib3R0b21fcmlnaHQsXG4gICAgICBvdmVybGF5U2V0dGluZ3MudG9wX3JpZ2h0LFxuICAgICAgb3ZlcmxheVNldHRpbmdzLnRvcF9sZWZ0XG4gICAgKTtcblxuICAgIGxldCB1cGRhdGVPdmVybGF5UHJvbWlzZURlZmVycmVkID0gKCkgPT4ge1xuICAgICAgbGV0IHVwZGF0ZU92ZXJsYXlQcm9taXNlID0gdm0udXBkYXRlT3ZlcmxheXMoKTtcbiAgICAgIHVwZGF0ZU92ZXJsYXlQcm9taXNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBUb2FzdHNTZXJ2aWNlLnNob3dTdWNjZXNzVG9hc3QoJ1dlIHNhdmVkIHlvdXIgdXBkYXRlLicpO1xuICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHVwZGF0ZU92ZXJsYXlQcm9taXNlO1xuICAgIH07XG5cbiAgICBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgJHRpbWVvdXQodXBkYXRlT3ZlcmxheVByb21pc2VEZWZlcnJlZCwgMTAwMClcbiAgICB9KVxuXG4gICAgcHJvbWlzZS5jYXRjaCgocmVzKSA9PiB7XG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nJyk7XG4gICAgfSlcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcblxuICB2bS5hcHBseVRlbmFudE92ZXJsYXkgPSAoZXYpID0+IHtcbiAgICBsZXQgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKFxuICAgICAge1xuICAgICAgICB0aXRsZTogYEFyZSB5b3Ugc3VyZT9gLFxuICAgICAgICB0ZXh0Q29udGVudDogYEVhY2ggZGV2aWNlIGluIHlvdXIgVGVuYW50IHdpbGwgaGF2ZSB0aGUgY3VycmVudCBPdmVybGF5IFRlbXBsYXRlIGFwcGxpZWQgYXMgaXRzIHNldHRpbmdzLmAsXG4gICAgICAgIHRhcmdldEV2ZW50OiBldixcbiAgICAgICAgYXJpYUxhYmVsOiAnTHVja3kgZGF5JyxcbiAgICAgICAgb2s6ICdDb25maXJtJyxcbiAgICAgICAgY2FuY2VsOiAnTmV2ZXJtaW5kJ1xuICAgICAgfVxuICAgICk7XG5cbiAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKChmdW5jdGlvbiAoKSB7XG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uub3ZlcmxheUFwcGx5VGVuYW50KHZtLnRlbmFudEtleSlcbiAgICAgIHByb21pc2UudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gJ1lvdXIgVGVuYW50IE92ZXJsYXkgU2V0dGluZ3MgYXJlIGJlaW5nIGFwcGxpZWQgdG8gZWFjaCBkZXZpY2UgaW4geW91ciBUZW5hbnQuIFBsZWFzZSB3YWl0IHBhdGllbnRseSBmb3IgdGhpcyBwcm9jZXNzIHRvIGNvbXBsZXRlLidcbiAgICAgICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KG1lc3NhZ2UpO1xuICAgICAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdm0uZ2V0VGVuYW50KCk7XG4gICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpXG4gICAgICB9KVxuICAgICAgcHJvbWlzZS5jYXRjaCgocmVzKSA9PiB7XG4gICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpXG4gICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1NvbWV0aGluZyB3ZW50IHdyb25nJyk7XG5cbiAgICAgIH0pXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9KSlcblxuICB9XG5cbiAgdm0uY2hlY2tGb3JPdmVybGF5Q2hhbmdlcyA9ICgpID0+IHtcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGxldCBjdXJyZW50VGVuYW50T3ZlcmxheXMgPSB2bS5jdXJyZW50VGVuYW50Lm92ZXJsYXlzO1xuICAgIGxldCBjdXJyZW50VGVuYW50Q29weU92ZXJsYXlzID0gdm0uY3VycmVudFRlbmFudENvcHkub3ZlcmxheXM7XG4gICAgbGV0IHBvc2l0aW9ucyA9IFsndG9wX2xlZnQnLCAndG9wX3JpZ2h0JywgJ2JvdHRvbV9yaWdodCcsICdib3R0b21fbGVmdCddO1xuXG4gICAgZm9yIChsZXQgcG9zIG9mIHBvc2l0aW9ucykge1xuICAgICAgaWYgKGN1cnJlbnRUZW5hbnRPdmVybGF5c1twb3NdLnNpemUgIT09IGN1cnJlbnRUZW5hbnRDb3B5T3ZlcmxheXNbcG9zXS5zaXplKSB7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRUZW5hbnRPdmVybGF5c1twb3NdLnR5cGUgIT09IGN1cnJlbnRUZW5hbnRDb3B5T3ZlcmxheXNbcG9zXS50eXBlKSB7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRUZW5hbnRPdmVybGF5c1twb3NdLnR5cGUgPT09ICdsb2dvJykge1xuICAgICAgICBpZiAoKGN1cnJlbnRUZW5hbnRPdmVybGF5c1twb3NdLnR5cGUgKyBcIjogXCIgKyBjdXJyZW50VGVuYW50T3ZlcmxheXNbcG9zXS5uYW1lKSAhPT0gY3VycmVudFRlbmFudENvcHlPdmVybGF5c1twb3NdLm5hbWUpIHtcbiAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZtLm92ZXJsYXlDaGFuZ2VkID0gY2hhbmdlZDtcblxuICB9XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIEltYWdlc1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZtLnN1Ym1pdEltYWdlID0gKCkgPT4ge1xuICAgIGlmICh2bS5zZWxlY3RlZExvZ28gJiYgdm0uc2VsZWN0ZWRMb2dvWzBdKSB7XG4gICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIGxldCB2YWxpZEZpbGUgPSB0cnVlO1xuICAgICAgYW5ndWxhci5mb3JFYWNoKHZtLnNlbGVjdGVkTG9nbywgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICBpZiAob2JqLmxmRmlsZS5zaXplIDwgMTUwMDAwMDApIHtcbiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGVzJywgb2JqLmxmRmlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdm0uZmlsZUFwaS5yZW1vdmVBbGwoKVxuICAgICAgICAgIHZhbGlkRmlsZSA9IGZhbHNlO1xuICAgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1lvdXIgaW1hZ2UgaXMgbGFyZ2VyIHRoYW4gMTUgTUIuIFBsZWFzZSBjaG9vc2UgYSBzbWFsbGVyIGltYWdlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAodmFsaWRGaWxlKSB7XG4gICAgICAgIGxldCBwcm9taXNlID0gSW1hZ2VTZXJ2aWNlLnNhdmVJbWFnZSh2bS50ZW5hbnRLZXksIGZvcm1EYXRhKVxuICAgICAgICBwcm9taXNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgICAgICR0aW1lb3V0KHZtLmdldFRlbmFudEltYWdlcywgMTAwMCk7XG4gICAgICAgICAgdm0uZmlsZUFwaS5yZW1vdmVBbGwoKVxuICAgICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgdXBsb2FkZWQgeW91ciBpbWFnZS4nKTtcbiAgICAgICAgfSlcbiAgICAgICAgcHJvbWlzZS5jYXRjaCgocmVzKSA9PiB7XG4gICAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFlvdSBtYXkgaGF2ZSBhbHJlYWR5IHVwbG9hZGVkIHRoaXMgaW1hZ2UuJyk7XG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZtLmdldFRlbmFudEltYWdlc0FuZFJlbG9hZFRlbmFudEFmdGVyRGVsZXRlID0gKCkgPT4ge1xuICAgIGxldCB0ZW5hbnRJbWFnZVByb21pc2UgPSB2bS5nZXRUZW5hbnRJbWFnZXMoKTtcbiAgICB0ZW5hbnRJbWFnZVByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICBsZXQgdXBkYXRlT3ZlcmxheVByb21pc2UgPSB2bS51cGRhdGVPdmVybGF5cygpO1xuICAgICAgdXBkYXRlT3ZlcmxheVByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2UgZGVsZXRlZCB5b3VyIGltYWdlLicpO1xuICAgICAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHZtLmRlbGV0ZUltYWdlID0gKGV2LCBuYW1lLCBrZXkpID0+IHtcbiAgICBsZXQgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKFxuICAgICAge1xuICAgICAgICB0aXRsZTogYEFyZSB5b3Ugc3VyZT9gLFxuICAgICAgICB0ZXh0Q29udGVudDogYElmIHlvdSBwcm9jZWVkLCAke25hbWV9IHdpbGwgYmUgZGVsZXRlZCBhbmQgcmVtb3ZlZCBmcm9tIGFsbCBkZXZpY2VzIHRoYXQgdXNlIGl0LmAsXG4gICAgICAgIHRhcmdldEV2ZW50OiBldixcbiAgICAgICAgYXJpYUxhYmVsOiAnTHVja3kgZGF5JyxcbiAgICAgICAgb2s6ICdDb25maXJtJyxcbiAgICAgICAgY2FuY2VsOiAnTmV2ZXJtaW5kJ1xuICAgICAgfVxuICAgICk7XG5cbiAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKChmdW5jdGlvbiAoKSB7XG4gICAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICAgIGxldCBwcm9taXNlID0gSW1hZ2VTZXJ2aWNlLmRlbGV0ZUltYWdlKGtleSlcbiAgICAgIHByb21pc2UudGhlbigocmVzKSA9PiB7XG4gICAgICAgICR0aW1lb3V0KHZtLmdldFRlbmFudEltYWdlc0FuZFJlbG9hZFRlbmFudEFmdGVyRGVsZXRlLCAxMDAwKTtcbiAgICAgIH0pXG4gICAgICBwcm9taXNlLmNhdGNoKChyZXMpID0+IHtcbiAgICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgZGVsZXRpbmcgeW91ciBpbWFnZS4nKTtcbiAgICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICB9KVxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfSkpXG4gIH07XG5cbiAgdm0uZ2V0VGVuYW50SW1hZ2VzID0gKCkgPT4ge1xuICAgIHZtLk9WRVJMQVlfVFlQRVMgPSBbXG4gICAgICB7c2l6ZTogbnVsbCwgdHlwZTogbnVsbCwgbmFtZTogXCJub25lXCIsIHJlYWxOYW1lOiBcIm5vbmVcIiwgbmV3OiBmYWxzZSwgaW1hZ2Vfa2V5OiBudWxsfSxcbiAgICAgIHtzaXplOiBudWxsLCB0eXBlOiBcImRhdGV0aW1lXCIsIG5hbWU6IFwiZGF0ZXRpbWVcIiwgcmVhbE5hbWU6IFwiZGF0ZXRpbWVcIiwgbmV3OiB0cnVlLCBpbWFnZV9rZXk6IG51bGx9LFxuICAgIF1cblxuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gSW1hZ2VTZXJ2aWNlLmdldEltYWdlcyh2bS50ZW5hbnRLZXkpO1xuICAgIHByb21pc2UudGhlbigocmVzKSA9PiB7XG4gICAgICB2bS50ZW5hbnRJbWFnZXMgPSByZXNcbiAgICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgICAgZm9yIChsZXQgdmFsdWUgb2Ygdm0udGVuYW50SW1hZ2VzKSB7XG4gICAgICAgIGZvciAobGV0IHNpemVPcHRpb24gb2YgW1wic21hbGxcIiwgXCJsYXJnZVwiXSkge1xuICAgICAgICAgIGxldCBuZXdWYWx1ZSA9IHtcbiAgICAgICAgICAgIHJlYWxOYW1lOiBhbmd1bGFyLmNvcHkodmFsdWUubmFtZSksXG4gICAgICAgICAgICBuYW1lOiBcImxvZ286IFwiICsgdmFsdWUubmFtZSxcbiAgICAgICAgICAgIHR5cGU6IFwibG9nb1wiLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZU9wdGlvbixcbiAgICAgICAgICAgIGltYWdlX2tleTogdmFsdWUua2V5XG4gICAgICAgICAgfVxuICAgICAgICAgIHZtLk9WRVJMQVlfVFlQRVMucHVzaChuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZtLk9WRVJMQVlfVFlQRVMuc29ydChuYXR1cmFsU29ydCk7XG5cbiAgICB9KTtcblxuICAgIHByb21pc2UuY2F0Y2goKCkgPT4ge1xuICAgICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgICBUb2FzdHNTZXJ2aWNlLnNob3dFcnJvclN0YXR1cyhcIlNPTUVUSElORyBXRU5UIFdST05HIFJFVFJJRVZJTkcgWU9VUiBJTUFHRVNcIilcbiAgICB9KVxuXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBTZXR1cFxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICB2bS5vblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG4gICAgdm0uY3VycmVudFRlbmFudCA9IHRlbmFudDtcbiAgICB2bS5jdXJyZW50VGVuYW50Q29weSA9IGFuZ3VsYXIuY29weSh2bS5jdXJyZW50VGVuYW50KTtcbiAgICB2bS5zZWxlY3RlZFRpbWV6b25lID0gdGVuYW50LmRlZmF1bHRfdGltZXpvbmU7XG5cbiAgfTtcblxuICB2bS5nZXRUZW5hbnQgPSAoKSA9PiB7XG4gICAgdm0ubG9hZGluZ092ZXJsYXlzID0gdHJ1ZTtcbiAgICBsZXQgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KCRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkpO1xuICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG4gICAgICB2bS5jdXJyZW50VGVuYW50ID0gdGVuYW50O1xuICAgICAgaWYgKHZtLmN1cnJlbnRUZW5hbnQub3ZlcmxheXNVcGRhdGVJblByb2dyZXNzKSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICAkdGltZW91dCh2bS5nZXRUZW5hbnQsIDMwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuICAgICAgfTtcbiAgICAgIHZtLmxvYWRpbmdPdmVybGF5cyA9IGZhbHNlO1xuICAgICAgdm0uY3VycmVudFRlbmFudENvcHkgPSBhbmd1bGFyLmNvcHkodm0uY3VycmVudFRlbmFudCk7XG4gICAgfSlcbiAgICByZXR1cm4gdGVuYW50UHJvbWlzZVxuICB9XG5cbiAgdm0uaW5pdGlhbGl6ZSA9ICgpID0+IHtcbiAgICB2bS5nZXRUZW5hbnRJbWFnZXMoKVxuICAgIHZtLmdldFRlbmFudCgpXG4gIH1cblxuICAkc2NvcGUuJHdhdGNoKCd0YWJJbmRleCcsIGZ1bmN0aW9uICh0b1RhYiwgZnJvbVRhYikge1xuICAgIGlmICh0b1RhYiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzd2l0Y2ggKHRvVGFiKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnREZXRhaWxzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRVbm1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50T3ZlcmxheXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2dzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge1RlbmFudE92ZXJsYXlzQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LW92ZXJsYXlzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBUZW5hbnRBZGRDdHJsKCRsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgVGVuYW50c1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgIERpc3RyaWJ1dG9yc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgIFRpbWV6b25lc1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgc3dlZXQsXG4gICAgICAgICAgICAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbnNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5nYW1lU3RvcFNlcnZlciA9ICRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMTtcbiAgdm0uY3VycmVudFRlbmFudCA9IHtcbiAgICBrZXk6IHVuZGVmaW5lZCxcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcbiAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcbiAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG4gICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcbiAgICBwcm9vZl9vZl9wbGF5X3VybDogdW5kZWZpbmVkLFxuICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICBvdV9jcmVhdGU6IHRydWVcbiAgfTtcbiAgdm0uc2VsZWN0ZWREb21haW4gPSB1bmRlZmluZWQ7XG4gIHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IFtdO1xuICB2bS50aW1lem9uZXMgPSBbXTtcbiAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9ICdBbWVyaWNhL0NoaWNhZ28nO1xuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHRpbWV6b25lUHJvbWlzZSA9IFRpbWV6b25lc1NlcnZpY2UuZ2V0Q3VzdG9tVGltZXpvbmVzKCk7XG4gICAgdGltZXpvbmVQcm9taXNlLnRoZW4oZGF0YSA9PiB2bS50aW1lem9uZXMgPSBkYXRhKTtcbiAgICB2bS5jdXJyZW50RGlzdHJpYnV0b3JLZXkgPSBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yS2V5KCk7XG4gICAgbGV0IGRpc3RyaWJ1dG9yUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZ2V0QnlLZXkodm0uY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcbiAgICBkaXN0cmlidXRvclByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uY3VycmVudFRlbmFudC5jb250ZW50X21hbmFnZXJfYmFzZV91cmwgPSBkYXRhLmNvbnRlbnRfbWFuYWdlcl91cmw7XG4gICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudC5jb250ZW50X3NlcnZlcl91cmwgPSBkYXRhLnBsYXllcl9jb250ZW50X3VybDtcbiAgICB9KTtcbiAgICBsZXQgZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5nZXREb21haW5zQnlLZXkodm0uY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcbiAgICByZXR1cm4gZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlLnRoZW4oZG9tYWlucyA9PiB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBkb21haW5zKTtcbiAgfTtcblxuICB2bS5vbkNsaWNrU2F2ZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2Uuc3RhcnQoKTtcbiAgICB2bS5jdXJyZW50VGVuYW50LmRlZmF1bHRfdGltZXpvbmUgPSB2bS5zZWxlY3RlZFRpbWV6b25lO1xuICAgIHZtLmN1cnJlbnRUZW5hbnQuZG9tYWluX2tleSA9IHZtLnNlbGVjdGVkRG9tYWluLmtleTtcbiAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNhdmUodm0uY3VycmVudFRlbmFudCk7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlLCB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlKTtcbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NUZW5hbnRTYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudHMnKTtcbiAgfTtcblxuICB2bS5vbkZhaWx1cmVUZW5hbnRTYXZlID0gZnVuY3Rpb24gKGVycm9yT2JqZWN0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgaWYoZXJyb3JPYmplY3Quc3RhdHVzID09PSA0MDkpIHtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJyxcbiAgICAgICAgJ1RlbmFudCBjb2RlIHVuYXZhaWxhYmxlIGluIFByb3Zpc2lvbmluZy4gUGxlYXNlIG1vZGlmeSB0ZW5hbnQgbmFtZSB0byBnZW5lcmF0ZSBhIHVuaXF1ZSB0ZW5hbnQgY29kZS4nLFxuICAgICAgICAnZXJyb3InKTtcbiAgICB9XG4gICAgZWxzZSBpZihlcnJvck9iamVjdC5zdGF0dXMgPT09IDQxMikge1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLFxuICAgICAgICAnVGVuYW50IGNvZGUgdW5hdmFpbGFibGUgaW4gQ2hyb21lIERldmljZSBNYW5hZ2VtZW50LiBNb2RpZnkgdGVuYW50IG5hbWUgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgdGVuYW50IGNvZGUuJyxcbiAgICAgICAgJ2Vycm9yJyk7XG4gICAgfVxuICAgIGVsc2UgaWYoZXJyb3JPYmplY3Quc3RhdHVzID09PSA0MDYpIHtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJyxcbiAgICAgICAgJ1VuYWJsZSB0byBjcmVhdGUgdGVuYW50IE9yZ2FuaXphdGlvbiBVbml0IGluIENocm9tZSBEZXZpY2UgTWFuYWdlbWVudC4nLFxuICAgICAgICAnZXJyb3InKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAkbG9nLmVycm9yKGVycm9yT2JqZWN0KTtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ05vdCBldmVyeXRoaW5nIG5lZWRlZCBmb3IgdGVuYW50IHdhcyBjcmVhdGVkIGluIENvbnRlbnQgTWFuYWdlciBvciBDRE0uJywgJ2Vycm9yJyk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmNhbmNlbCA9ICgpID0+IHtcbiAgICAkc3RhdGUuZ28oXCJ0ZW5hbnRzXCIpXG4gIH1cblxuICB2bS5hdXRvR2VuZXJhdGVUZW5hbnRDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdm0uY3VycmVudFRlbmFudC5rZXkpIHtcbiAgICAgIGxldCBuZXdUZW5hbnRDb2RlID0gJyc7XG4gICAgICBpZiAodm0uY3VycmVudFRlbmFudC5uYW1lKSB7XG4gICAgICAgIG5ld1RlbmFudENvZGUgPSB2bS5jdXJyZW50VGVuYW50Lm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxzKy9nLCAnXycpO1xuICAgICAgICBuZXdUZW5hbnRDb2RlID0gbmV3VGVuYW50Q29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2bS5jdXJyZW50VGVuYW50LnRlbmFudF9jb2RlID0gbmV3VGVuYW50Q29kZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtUZW5hbnRBZGRDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtYWRkLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBUZW5hbnREZXRhaWxzQ3RybCgkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBEb21haW5zU2VydmljZSwgVGltZXpvbmVzU2VydmljZSwgRGlzdHJpYnV0b3JzU2VydmljZSwgJHN0YXRlLCBzd2VldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2dyZXNzQmFyU2VydmljZSwgVG9hc3RzU2VydmljZSwgU2Vzc2lvbnNTZXJ2aWNlLCAkc2NvcGUsICRsb2NhdGlvbikge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uZ2FtZVN0b3BTZXJ2ZXIgPSAkbG9jYXRpb24uaG9zdCgpLmluZGV4T2YoJ3Byb3Zpc2lvbmluZy1nYW1lc3RvcCcpID4gLTE7XG4gIHZtLnNob3dDZG1JbmZvID0gZmFsc2U7XG4gIHZtLmN1cnJlbnRUZW5hbnQgPSB7XG4gICAga2V5OiB1bmRlZmluZWQsXG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgIHRlbmFudF9jb2RlOiB1bmRlZmluZWQsXG4gICAgYWRtaW5fZW1haWw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X3NlcnZlcl91cmw6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50X21hbmFnZXJfYmFzZV91cmw6IHVuZGVmaW5lZCxcbiAgICBkb21haW5fa2V5OiB1bmRlZmluZWQsXG4gICAgbm90aWZpY2F0aW9uX2VtYWlsczogdW5kZWZpbmVkLFxuICAgIHByb29mX29mX3BsYXlfbG9nZ2luZzogZmFsc2UsXG4gICAgcHJvb2Zfb2ZfcGxheV91cmw6IHVuZGVmaW5lZCxcbiAgICBhY3RpdmU6IHRydWVcbiAgfTtcbiAgdm0uc2VsZWN0ZWREb21haW4gPSB1bmRlZmluZWQ7XG4gIHZtLmRpc3RyaWJ1dG9yRG9tYWlucyA9IFtdO1xuICB2bS50aW1lem9uZXMgPSBbXTtcbiAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9ICdBbWVyaWNhL0NoaWNhZ28nO1xuICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblxuICBpZiAodm0uZWRpdE1vZGUpIHtcbiAgICBsZXQgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KCRzdGF0ZVBhcmFtcy50ZW5hbnRLZXkpO1xuICAgIHRlbmFudFByb21pc2UudGhlbihmdW5jdGlvbiAodGVuYW50KSB7XG4gICAgICB2bS5jdXJyZW50VGVuYW50ID0gdGVuYW50O1xuICAgICAgcmV0dXJuIHZtLm9uU3VjY2Vzc1Jlc29sdmluZ1RlbmFudCh0ZW5hbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgdGltZXpvbmVQcm9taXNlID0gVGltZXpvbmVzU2VydmljZS5nZXRDdXN0b21UaW1lem9uZXMoKTtcbiAgICB0aW1lem9uZVByb21pc2UudGhlbihkYXRhID0+IHZtLnRpbWV6b25lcyA9IGRhdGEpO1xuICAgIHZtLmN1cnJlbnREaXN0cmlidXRvcktleSA9IFNlc3Npb25zU2VydmljZS5nZXRDdXJyZW50RGlzdHJpYnV0b3JLZXkoKTtcbiAgICBsZXQgZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlID0gRGlzdHJpYnV0b3JzU2VydmljZS5nZXREb21haW5zQnlLZXkodm0uY3VycmVudERpc3RyaWJ1dG9yS2V5KTtcbiAgICByZXR1cm4gZGlzdHJpYnV0b3JEb21haW5Qcm9taXNlLnRoZW4oZG9tYWlucyA9PiB2bS5kaXN0cmlidXRvckRvbWFpbnMgPSBkb21haW5zKTtcbiAgfTtcblxuICB2bS5vblN1Y2Nlc3NSZXNvbHZpbmdUZW5hbnQgPSBmdW5jdGlvbiAodGVuYW50KSB7XG4gICAgdm0uc2hvd0NkbUluZm8gPSB0ZW5hbnQub3JnYW5pemF0aW9uX3VuaXRfcGF0aCAhPSBudWxsICYmIHRlbmFudC5lbnJvbGxtZW50X2VtYWlsICE9IG51bGwgJiZcbiAgICAgIHRlbmFudC5lbnJvbGxtZW50X3Bhc3N3b3JkICE9IG51bGw7XG4gICAgdm0uc2VsZWN0ZWRUaW1lem9uZSA9IHRlbmFudC5kZWZhdWx0X3RpbWV6b25lO1xuICAgIGxldCBkb21haW5Qcm9taXNlID0gRG9tYWluc1NlcnZpY2UuZ2V0RG9tYWluQnlLZXkodGVuYW50LmRvbWFpbl9rZXkpO1xuICAgIHJldHVybiBkb21haW5Qcm9taXNlLnRoZW4oZGF0YSA9PiB2bS5zZWxlY3RlZERvbWFpbiA9IGRhdGEpO1xuICB9O1xuXG4gIHZtLm9uQ2xpY2tTYXZlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIHZtLmN1cnJlbnRUZW5hbnQuZGVmYXVsdF90aW1lem9uZSA9IHZtLnNlbGVjdGVkVGltZXpvbmU7XG4gICAgdm0uY3VycmVudFRlbmFudC5kb21haW5fa2V5ID0gdm0uc2VsZWN0ZWREb21haW4ua2V5O1xuICAgIGxldCBwcm9taXNlID0gVGVuYW50c1NlcnZpY2Uuc2F2ZSh2bS5jdXJyZW50VGVuYW50KTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHZtLm9uU3VjY2Vzc1RlbmFudFNhdmUsIHZtLm9uRmFpbHVyZVRlbmFudFNhdmUpO1xuICB9O1xuXG4gIHZtLm9uU3VjY2Vzc1RlbmFudFNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd1N1Y2Nlc3NUb2FzdCgnV2Ugc2F2ZWQgeW91ciB0ZW5hbnQgaW5mb3JtYXRpb24uJyk7XG4gIH07XG5cbiAgdm0ub25GYWlsdXJlVGVuYW50U2F2ZSA9IGZ1bmN0aW9uIChlcnJvck9iamVjdCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIGlmIChlcnJvck9iamVjdC5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgcmV0dXJuIHN3ZWV0LnNob3coJ09vcHMuLi4nLFxuICAgICAgICAnVGVuYW50IGNvZGUgdW5hdmFpbGFibGUuIFBsZWFzZSBtb2RpZnkgdGVuYW50IG5hbWUgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgdGVuYW50IGNvZGUuJywgJ2Vycm9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgJ1VuYWJsZSB0byBzYXZlIHRoZSB0ZW5hbnQuJywgJ2Vycm9yJyk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmVkaXRJdGVtID0gaXRlbSA9PiAkc3RhdGUuZ28oJ2VkaXREZXZpY2UnLCB7ZGV2aWNlS2V5OiBpdGVtLmtleSwgdGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG5cbiAgdm0uYXV0b0dlbmVyYXRlVGVuYW50Q29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXZtLmN1cnJlbnRUZW5hbnQua2V5KSB7XG4gICAgICBsZXQgbmV3VGVuYW50Q29kZSA9ICcnO1xuICAgICAgaWYgKHZtLmN1cnJlbnRUZW5hbnQubmFtZSkge1xuICAgICAgICBuZXdUZW5hbnRDb2RlID0gdm0uY3VycmVudFRlbmFudC5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIG5ld1RlbmFudENvZGUgPSBuZXdUZW5hbnRDb2RlLnJlcGxhY2UoL1xccysvZywgJ18nKTtcbiAgICAgICAgbmV3VGVuYW50Q29kZSA9IG5ld1RlbmFudENvZGUucmVwbGFjZSgvXFxXKy9nLCAnJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm0uY3VycmVudFRlbmFudC50ZW5hbnRfY29kZSA9IG5ld1RlbmFudENvZGU7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS50YWJJbmRleCA9IDA7XG5cbiAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcbiAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoICh0b1RhYikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB2bTtcbn1cbmV4cG9ydCB7VGVuYW50RGV0YWlsc0N0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvdGVuYW50L3RlbmFudC1kZXRhaWxzLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJmdW5jdGlvbiBUZW5hbnRMb2NhdGlvbkN0cmwoJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgTG9jYXRpb25zU2VydmljZSwgJHN0YXRlLCBzd2VldCwgUHJvZ3Jlc3NCYXJTZXJ2aWNlLCBUb2FzdHNTZXJ2aWNlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5sb2NhdGlvbiA9IHtcbiAgICBrZXk6IHVuZGVmaW5lZFxuICB9O1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLmxvY2F0aW9uS2V5O1xuICBpZiAodm0uZWRpdE1vZGUpIHtcbiAgICBsZXQgbG9jYXRpb25Qcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5nZXRMb2NhdGlvbkJ5S2V5KCRzdGF0ZVBhcmFtcy5sb2NhdGlvbktleSk7XG4gICAgbG9jYXRpb25Qcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmxvY2F0aW9uID0gZGF0YTtcbiAgICAgIHZtLnRlbmFudEtleSA9IGRhdGEudGVuYW50S2V5O1xuICAgICAgdm0ubG9jYXRpb25OYW1lID0gZGF0YS5jdXN0b21lckxvY2F0aW9uTmFtZTtcbiAgICAgIHJldHVybiB2bS5mZXRjaFRlbmFudE5hbWUodm0udGVuYW50S2V5KTtcbiAgICB9KTtcbiAgfVxuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF2bS5lZGl0TW9kZSkge1xuICAgICAgdm0uZmV0Y2hUZW5hbnROYW1lKHZtLnRlbmFudEtleSk7XG4gICAgICByZXR1cm4gdm0ubG9jYXRpb24gPSB7XG4gICAgICAgIHRlbmFudEtleTogdm0udGVuYW50S2V5LFxuICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIHZtLm9uQ2xpY2tTYXZlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBwcm9taXNlID0gTG9jYXRpb25zU2VydmljZS5zYXZlKHZtLmxvY2F0aW9uKTtcbiAgICBpZiAodm0uZWRpdE1vZGUpIHtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzVXBkYXRpbmdMb2NhdGlvbih2bS50ZW5hbnRLZXkpLCB2bS5vbkZhaWx1cmVTYXZpbmdMb2NhdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4odm0ub25TdWNjZXNzU2F2aW5nTG9jYXRpb24sIHZtLm9uRmFpbHVyZVNhdmluZ0xvY2F0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgdm0ub25TdWNjZXNzU2F2aW5nTG9jYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSBzYXZlZCB5b3VyIGxvY2F0aW9uLicpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbiAoKSB7XG4gICAgICAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgIHJldHVybjtcbiAgICB9KSwgMTAwMCk7XG4gIH07XG5cbiAgdm0ub25TdWNjZXNzVXBkYXRpbmdMb2NhdGlvbiA9IGZ1bmN0aW9uICh0ZW5hbnRfa2V5KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgVG9hc3RzU2VydmljZS5zaG93U3VjY2Vzc1RvYXN0KCdXZSB1cGRhdGVkIHlvdXIgbG9jYXRpb24uJyk7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoKGZ1bmN0aW9uICgpIHtcbiAgICAgICRzdGF0ZS5nbygndGVuYW50TG9jYXRpb25zJywge3RlbmFudEtleTogdGVuYW50X2tleX0pO1xuICAgICAgcmV0dXJuO1xuICAgIH0pLCAxMDAwKTtcbiAgfTtcblxuICB2bS5vbkZhaWx1cmVTYXZpbmdMb2NhdGlvbiA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgVG9hc3RzU2VydmljZS5zaG93RXJyb3JUb2FzdCgnTG9jYXRpb24gY29kZSBjb25mbGljdC4gVW5hYmxlIHRvIHNhdmUgeW91ciBsb2NhdGlvbi4nKTtcbiAgICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJyxcbiAgICAgICAgJ1BsZWFzZSBjaGFuZ2UgeW91ciBjdXN0b21lciBsb2NhdGlvbiBuYW1lLiBMb2NhdGlvbiBuYW1lIG11c3QgZ2VuZXJhdGUgYSB1bmlxdWUgbG9jYXRpb24gY29kZS4nLFxuICAgICAgICAnZXJyb3InKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRvYXN0c1NlcnZpY2Uuc2hvd0Vycm9yVG9hc3QoJ1VuYWJsZSB0byBzYXZlIHlvdXIgbG9jYXRpb24uJyk7XG4gICAgfVxuICB9O1xuXG4gIHZtLmZldGNoVGVuYW50TmFtZSA9IGZ1bmN0aW9uICh0ZW5hbnRLZXkpIHtcbiAgICBsZXQgdGVuYW50UHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLmdldFRlbmFudEJ5S2V5KHRlbmFudEtleSk7XG4gICAgcmV0dXJuIHRlbmFudFByb21pc2UudGhlbih0ZW5hbnQgPT4gdm0udGVuYW50TmFtZSA9IHRlbmFudC5uYW1lKTtcbiAgfTtcblxuICB2bS5hdXRvR2VuZXJhdGVDdXN0b21lckxvY2F0aW9uQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXZtLmxvY2F0aW9uLmtleSkge1xuICAgICAgbGV0IG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlID0gJyc7XG4gICAgICBpZiAodm0ubG9jYXRpb24uY3VzdG9tZXJMb2NhdGlvbk5hbWUpIHtcbiAgICAgICAgbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUgPSB2bS5sb2NhdGlvbi5jdXN0b21lckxvY2F0aW9uTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBuZXdDdXN0b21lckxvY2F0aW9uQ29kZSA9IG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlLnJlcGxhY2UoL1xccysvZywgJ18nKTtcbiAgICAgICAgbmV3Q3VzdG9tZXJMb2NhdGlvbkNvZGUgPSBuZXdDdXN0b21lckxvY2F0aW9uQ29kZS5yZXBsYWNlKC9cXFcrL2csICcnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2bS5sb2NhdGlvbi5jdXN0b21lckxvY2F0aW9uQ29kZSA9IG5ld0N1c3RvbWVyTG9jYXRpb25Db2RlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge1RlbmFudExvY2F0aW9uQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9uLmNvbnRyb2xsZXIuanNcbiAqKi8iLCJpbXBvcnQgbmF0dXJhbFNvcnQgZnJvbSAnamF2YXNjcmlwdC1uYXR1cmFsLXNvcnQnO1xuXG5cbmZ1bmN0aW9uIFRlbmFudExvY2F0aW9uc0N0cmwoJHNjb3BlLCAkc3RhdGVQYXJhbXMsIFRlbmFudHNTZXJ2aWNlLCBMb2NhdGlvbnNTZXJ2aWNlLCAkc3RhdGUsIFByb2dyZXNzQmFyU2VydmljZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgbGV0IHt0ZW5hbnRLZXl9ID0gJHN0YXRlUGFyYW1zO1xuICAkc2NvcGUudGFiSW5kZXggPSAzO1xuICB2bS5sb2NhdGlvbnMgPSBbXTtcbiAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXG4gIGxldCB0ZW5hbnRQcm9taXNlID0gVGVuYW50c1NlcnZpY2UuZ2V0VGVuYW50QnlLZXkodGVuYW50S2V5KTtcbiAgdGVuYW50UHJvbWlzZS50aGVuKGRhdGEgPT4ge1xuICAgIHZtLmN1cnJlbnRUZW5hbnQgPSBkYXRhXG4gIH0pO1xuXG4gICRzY29wZS4kd2F0Y2goJ3RhYkluZGV4JywgZnVuY3Rpb24gKHRvVGFiLCBmcm9tVGFiKSB7XG4gICAgaWYgKHRvVGFiICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHN3aXRjaCAodG9UYWIpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudERldGFpbHMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRNYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudFVubWFuYWdlZERldmljZXMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRMb2NhdGlvbnMnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gJHN0YXRlLmdvKCd0ZW5hbnRPdmVybGF5cycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvZ3MnLCB7dGVuYW50S2V5OiAkc3RhdGVQYXJhbXMudGVuYW50S2V5fSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2bS5nZXRMb2NhdGlvbnMgPSBmdW5jdGlvbiAodGVuYW50S2V5LCBwcmV2LCBuZXh0KSB7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IGxvY2F0aW9uc1Byb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLmdldExvY2F0aW9uc0J5VGVuYW50S2V5UGFnaW5hdGVkKHRlbmFudEtleSwgcHJldiwgbmV4dCk7XG4gICAgcmV0dXJuIGxvY2F0aW9uc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0ubG9jYXRpb25zID0gZGF0YS5sb2NhdGlvbnM7XG4gICAgICB2bS5uZXh0X2N1cnNvciA9IGRhdGEubmV4dF9jdXJzb3I7XG4gICAgICB2bS5wcmV2X2N1cnNvciA9IGRhdGEucHJldl9jdXJzb3I7XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0uc2VhcmNoQWxsVGVuYW50TG9jYXRpb25zQnlOYW1lID0gKG5hbWUpID0+IHtcbiAgICBpZiAoIW5hbWUgfHwgbmFtZS5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgbGV0IHByb21pc2UgPSBMb2NhdGlvbnNTZXJ2aWNlLnNlYXJjaEFsbFRlbmFudExvY2F0aW9uc0J5TmFtZSh2bS50ZW5hbnRLZXksIG5hbWUpXG4gICAgcmV0dXJuIHByb21pc2UudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIHZtLnNlYXJjaGVkVGVuYW50TG9jYXRpb25zID0gcmVzcG9uc2VcbiAgICAgIGlmICh2bS5zZWFyY2hlZFRlbmFudExvY2F0aW9ucykge1xuICAgICAgICByZXR1cm4gdm0uc2VhcmNoZWRUZW5hbnRMb2NhdGlvbnMubWFwKChpKSA9PiBpLmN1c3RvbWVyTG9jYXRpb25OYW1lKS5zb3J0KG5hdHVyYWxTb3J0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gcHJvbWlzZS5jYXRjaCgocmVzcG9uc2UpID0+IHtcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgVW5hYmxlIHRvIGZldGNoIGxvY2F0aW9ucy4gRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWA7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG4gICAgfSlcbiAgfTtcblxuICB2bS5pc1RlbmFudExvY2F0aW9uVmFsaWQgPSAobmFtZSkgPT4ge1xuICAgIGlmICghbmFtZSB8fCBuYW1lLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICBsZXQgcHJvbWlzZSA9IExvY2F0aW9uc1NlcnZpY2Uuc2VhcmNoQWxsVGVuYW50TG9jYXRpb25zQnlOYW1lKHZtLnRlbmFudEtleSwgbmFtZSlcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBsZXQgbWF0Y2ggPSByZXNwb25zZVxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICBmb3IgKGxldCBlYWNoTG9jYXRpb25OYW1lIG9mIG1hdGNoKSB7XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gZWFjaExvY2F0aW9uTmFtZS5jdXN0b21lckxvY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICB2bS5zZWFyY2hNYXRjaCA9IGVhY2hMb2NhdGlvbk5hbWVcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH07XG5cbiAgdm0ucGFnaW5hdGVDYWxsID0gZnVuY3Rpb24gKGZvcndhcmQpIHtcbiAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgcmV0dXJuIHZtLmdldExvY2F0aW9ucyh0ZW5hbnRLZXksIG51bGwsIHZtLm5leHRfY3Vyc29yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmdldExvY2F0aW9ucyh0ZW5hbnRLZXksIHZtLnByZXZfY3Vyc29yLCBudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdm0uZ2V0TG9jYXRpb25zKHRlbmFudEtleSk7XG4gIH07XG5cbiAgdm0uZWRpdEl0ZW0gPSBpdGVtID0+ICRzdGF0ZS5nbygnZWRpdExvY2F0aW9uJywge2xvY2F0aW9uS2V5OiBpdGVtLmtleX0pO1xuXG5cbiAgcmV0dXJuIHZtO1xufVxuXG5leHBvcnQge1RlbmFudExvY2F0aW9uc0N0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbnMuY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIFRlbmFudE1hbmFnZWREZXZpY2VzQ3RybCgkc2NvcGUsICRzdGF0ZVBhcmFtcywgVGVuYW50c1NlcnZpY2UsIERldmljZXNTZXJ2aWNlLCBQcm9ncmVzc0JhclNlcnZpY2UsICRzdGF0ZSkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHZtID0gdGhpcztcbiAgdm0uY3VycmVudFRlbmFudCA9IHtcbiAgICBrZXk6IHVuZGVmaW5lZCxcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgdGVuYW50X2NvZGU6IHVuZGVmaW5lZCxcbiAgICBhZG1pbl9lbWFpbDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfc2VydmVyX3VybDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRfbWFuYWdlcl9iYXNlX3VybDogdW5kZWZpbmVkLFxuICAgIGRvbWFpbl9rZXk6IHVuZGVmaW5lZCxcbiAgICBub3RpZmljYXRpb25fZW1haWxzOiB1bmRlZmluZWQsXG4gICAgcHJvb2Zfb2ZfcGxheV9sb2dnaW5nOiBmYWxzZSxcbiAgICBhY3RpdmU6IHRydWVcbiAgfTtcbiAgdm0udGVuYW50RGV2aWNlcyA9IFtdO1xuICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG4gIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcbiAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIlNlcmlhbCBOdW1iZXJcIjtcbiAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gIHZtLmRldmljZXNUb01hdGNoT24gPSBbXTtcbiAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB2bS5lZGl0TW9kZSA9ICEhJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcbiAgdm0udGVuYW50S2V5ID0gJHN0YXRlUGFyYW1zLnRlbmFudEtleTtcblxuICB2bS5nZXRNYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uICh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBkZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcik7XG4gICAgcmV0dXJuIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmRldmljZXNQcmV2ID0gZGF0YVtcInByZXZfY3Vyc29yXCJdO1xuICAgICAgdm0uZGV2aWNlc05leHQgPSBkYXRhW1wibmV4dF9jdXJzb3JcIl07XG4gICAgICB2bS50ZW5hbnREZXZpY2VzID0gZGF0YVtcImRldmljZXNcIl07XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0uZWRpdEl0ZW0gPSAoaXRlbSkgPT4gRGV2aWNlc1NlcnZpY2UuZWRpdEl0ZW0oaXRlbSlcblxuICB2bS5yZWZyZXNoRGV2aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG4gICAgdm0uZGV2aWNlc05leHQgPSBudWxsO1xuICAgIHZtLnRlbmFudERldmljZXMgPSBudWxsO1xuICAgIHJldHVybiB2bS5nZXRNYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG4gIH07XG5cbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuICAgIHRlbmFudFByb21pc2UudGhlbih0ZW5hbnQgPT4gdm0uY3VycmVudFRlbmFudCA9IHRlbmFudCk7XG4gICAgdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCBudWxsKTtcbiAgfVxuXG4gICRzY29wZS50YWJJbmRleCA9IDE7XG5cbiAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcbiAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoICh0b1RhYikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZtLmNoYW5nZVJhZGlvID0gZnVuY3Rpb24gKCkge1xuICAgIHZtLnNlYXJjaFRleHQgPSAnJztcbiAgICB2bS5kaXNhYmxlZCA9IHRydWU7XG4gICAgdm0uc2VyaWFsRGV2aWNlcyA9IHt9O1xuICAgIHZtLm1hY0RldmljZXMgPSB7fTtcbiAgICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG4gIH07XG5cbiAgdm0uc2VhcmNoRGV2aWNlcyA9IGZ1bmN0aW9uIChwYXJ0aWFsKSB7XG4gICAgbGV0IHVubWFuYWdlZCA9IGZhbHNlO1xuICAgIGxldCBidXR0b24gPSB2bS5zZWxlY3RlZEJ1dHRvbjtcbiAgICBsZXQgYnlUZW5hbnQgPSB0cnVlO1xuICAgIGxldCB0ZW5hbnRLZXkgPSB2bS50ZW5hbnRLZXk7XG4gICAgcmV0dXJuIERldmljZXNTZXJ2aWNlLnNlYXJjaERldmljZXMocGFydGlhbCwgYnV0dG9uLCBieVRlbmFudCwgdGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGxldCBkZXZpY2VzVG9SZXR1cm47XG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgbGV0IGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzXG4gICAgICAgICAgaWYgKGJ1dHRvbiA9PT0gXCJTZXJpYWwgTnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHZtLnNlcmlhbERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIGlmIChidXR0b24gPT09IFwiTUFDXCIpIHtcbiAgICAgICAgICAgIHZtLm1hY0RldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZtLmdjbWlkRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF1cbiAgICAgICAgICB9XG4gICAgICAgICAgdm0uZGV2aWNlc1RvTWF0Y2hPbiA9IGRldmljZXNUb1JldHVyblxuICAgICAgICAgIHJldHVybiBkZXZpY2VzVG9SZXR1cm5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gW11cbiAgICAgICAgfVxuICAgICAgfSlcbiAgfTtcblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0TWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCBudWxsLCB2bS5kZXZpY2VzTmV4dCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmdldE1hbmFnZWREZXZpY2VzKHZtLnRlbmFudEtleSwgdm0uZGV2aWNlc1ByZXYsIG51bGwpO1xuICAgIH1cbiAgfTtcblxuICB2bS5wcmVwYXJlRm9yRWRpdFZpZXcgPSAoc2VhcmNoVGV4dCkgPT4gRGV2aWNlc1NlcnZpY2UucHJlcHJhdGVGb3JFZGl0VmlldyhcbiAgICB2bS5zZWxlY3RlZEJ1dHRvbixcbiAgICB2bS50ZW5hbnRLZXksXG4gICAgc2VhcmNoVGV4dCxcbiAgICB2bS5tYWNEZXZpY2VzLFxuICAgIHZtLnNlcmlhbERldmljZXMsXG4gICAgdm0uZ2NtaWREZXZpY2VzXG4gIClcblxuICB2bS5jb250cm9sT3BlbkJ1dHRvbiA9IGZ1bmN0aW9uIChpc01hdGNoKSB7XG4gICAgdm0uZGlzYWJsZWQgPSAhaXNNYXRjaDtcbiAgICByZXR1cm4gdm0ubG9hZGluZ0Rpc2FibGVkID0gZmFsc2U7XG4gIH07XG5cbiAgdm0uaXNSZXNvdXJjZVZhbGlkID0gZnVuY3Rpb24gKHJlc291cmNlKSB7XG4gICAgbGV0IGZvdW5kTWF0Y2ggPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpdGVtIG9mIHZtLmRldmljZXNUb01hdGNoT24pIHtcbiAgICAgIGlmIChyZXNvdXJjZSA9PT0gaXRlbSkge1xuICAgICAgICBmb3VuZE1hdGNoID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdm0uY29udHJvbE9wZW5CdXR0b24oZm91bmRNYXRjaClcbiAgICByZXR1cm4gZm91bmRNYXRjaFxuICB9O1xuXG4gIHJldHVybiB2bTtcbn1cblxuZXhwb3J0IHtUZW5hbnRNYW5hZ2VkRGV2aWNlc0N0cmx9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvdGVuYW50L3RlbmFudC1tYW5hZ2VkLWRldmljZXMuY29udHJvbGxlci5qc1xuICoqLyIsImZ1bmN0aW9uIFRlbmFudFVubWFuYWdlZERldmljZXNDdHJsKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBUZW5hbnRzU2VydmljZSwgRGV2aWNlc1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgJHN0YXRlKSB7XG4gIFwibmdJbmplY3RcIjtcblxuICBsZXQgdm0gPSB0aGlzO1xuICB2bS5jdXJyZW50VGVuYW50ID0ge1xuICAgIGtleTogdW5kZWZpbmVkLFxuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICB0ZW5hbnRfY29kZTogdW5kZWZpbmVkLFxuICAgIGFkbWluX2VtYWlsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9zZXJ2ZXJfdXJsOiB1bmRlZmluZWQsXG4gICAgY29udGVudF9tYW5hZ2VyX2Jhc2VfdXJsOiB1bmRlZmluZWQsXG4gICAgZG9tYWluX2tleTogdW5kZWZpbmVkLFxuICAgIG5vdGlmaWNhdGlvbl9lbWFpbHM6IHVuZGVmaW5lZCxcbiAgICBwcm9vZl9vZl9wbGF5X2xvZ2dpbmc6IGZhbHNlLFxuICAgIGFjdGl2ZTogdHJ1ZVxuICB9O1xuICB2bS5nY21pZERldmljZXMgPSBbXTtcbiAgdm0udGVuYW50RGV2aWNlcyA9IFtdO1xuICB2bS5kZXZpY2VzUHJldiA9IG51bGw7XG4gIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcbiAgdm0uc2VsZWN0ZWRCdXR0b24gPSBcIk1BQ1wiO1xuICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICB2bS5kZXZpY2VzVG9NYXRjaE9uID0gW107XG4gIHZtLmVkaXRNb2RlID0gISEkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICB2bS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuXG4gICRzY29wZS50YWJJbmRleCA9IDI7XG5cbiAgJHNjb3BlLiR3YXRjaCgndGFiSW5kZXgnLCBmdW5jdGlvbiAodG9UYWIsIGZyb21UYWIpIHtcbiAgICBpZiAodG9UYWIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3dpdGNoICh0b1RhYikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE1hbmFnZWREZXZpY2VzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50VW5tYW5hZ2VkRGV2aWNlcycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudExvY2F0aW9ucycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiAkc3RhdGUuZ28oJ3RlbmFudE92ZXJsYXlzJywge3RlbmFudEtleTogJHN0YXRlUGFyYW1zLnRlbmFudEtleX0pO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuICRzdGF0ZS5nbygndGVuYW50TG9ncycsIHt0ZW5hbnRLZXk6ICRzdGF0ZVBhcmFtcy50ZW5hbnRLZXl9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZtLmVkaXRJdGVtID0gKGl0ZW0pID0+IERldmljZXNTZXJ2aWNlLmVkaXRJdGVtKGl0ZW0pXG5cbiAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyA9IGZ1bmN0aW9uICh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcikge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5zdGFydCgpO1xuICAgIGxldCBkZXZpY2VzUHJvbWlzZSA9IERldmljZXNTZXJ2aWNlLmdldFVubWFuYWdlZERldmljZXNCeVRlbmFudCh0ZW5hbnRLZXksIHByZXZfY3Vyc29yLCBuZXh0X2N1cnNvcik7XG4gICAgcmV0dXJuIGRldmljZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZtLmRldmljZXNQcmV2ID0gZGF0YVtcInByZXZfY3Vyc29yXCJdO1xuICAgICAgdm0uZGV2aWNlc05leHQgPSBkYXRhW1wibmV4dF9jdXJzb3JcIl07XG4gICAgICB2bS50ZW5hbnREZXZpY2VzID0gZGF0YVtcImRldmljZXNcIl07XG4gICAgICByZXR1cm4gUHJvZ3Jlc3NCYXJTZXJ2aWNlLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgaWYgKHZtLmVkaXRNb2RlKSB7XG4gICAgbGV0IHRlbmFudFByb21pc2UgPSBUZW5hbnRzU2VydmljZS5nZXRUZW5hbnRCeUtleSh2bS50ZW5hbnRLZXkpO1xuICAgIHRlbmFudFByb21pc2UudGhlbih0ZW5hbnQgPT4gdm0uY3VycmVudFRlbmFudCA9IHRlbmFudCk7XG4gICAgdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIG51bGwpO1xuICB9XG5cbiAgdm0ucmVmcmVzaERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uZGV2aWNlc1ByZXYgPSBudWxsO1xuICAgIHZtLmRldmljZXNOZXh0ID0gbnVsbDtcbiAgICB2bS50ZW5hbnREZXZpY2VzID0gbnVsbDtcbiAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIHZtLmRldmljZXNQcmV2LCB2bS5kZXZpY2VzTmV4dCk7XG4gIH07XG5cbiAgdm0uY2hhbmdlUmFkaW8gPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0uc2VhcmNoVGV4dCA9ICcnO1xuICAgIHZtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB2bS5zZXJpYWxEZXZpY2VzID0ge307XG4gICAgdm0ubWFjRGV2aWNlcyA9IHt9O1xuICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBbXTtcbiAgfTtcblxuICB2bS5zZWFyY2hEZXZpY2VzID0gZnVuY3Rpb24gKHBhcnRpYWwpIHtcbiAgICBsZXQgdW5tYW5hZ2VkID0gdHJ1ZTtcbiAgICBsZXQgYnlUZW5hbnQgPSB0cnVlO1xuICAgIHJldHVybiBEZXZpY2VzU2VydmljZS5zZWFyY2hEZXZpY2VzKHBhcnRpYWwsIHZtLnNlbGVjdGVkQnV0dG9uLCBieVRlbmFudCwgdm0udGVuYW50S2V5LCB2bS5kaXN0cmlidXRvcktleSwgdW5tYW5hZ2VkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGxldCBkZXZpY2VzVG9SZXR1cm47XG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgbGV0IGRldmljZXMgPSByZXNwb25zZS5kZXZpY2VzXG4gICAgICAgICAgaWYgKHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIlNlcmlhbCBOdW1iZXJcIikge1xuICAgICAgICAgICAgdm0uc2VyaWFsRGV2aWNlcyA9IGRldmljZXNbMV1cbiAgICAgICAgICAgIGRldmljZXNUb1JldHVybiA9IGRldmljZXNbMF1cbiAgICAgICAgICB9IGVsc2UgaWYgKHZtLnNlbGVjdGVkQnV0dG9uID09PSBcIk1BQ1wiKSB7XG4gICAgICAgICAgICB2bS5tYWNEZXZpY2VzID0gZGV2aWNlc1sxXVxuICAgICAgICAgICAgZGV2aWNlc1RvUmV0dXJuID0gZGV2aWNlc1swXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2bS5nY21pZERldmljZXMgPSBkZXZpY2VzWzFdXG4gICAgICAgICAgICBkZXZpY2VzVG9SZXR1cm4gPSBkZXZpY2VzWzBdXG4gICAgICAgICAgfVxuICAgICAgICAgIHZtLmRldmljZXNUb01hdGNoT24gPSBkZXZpY2VzVG9SZXR1cm5cbiAgICAgICAgICByZXR1cm4gZGV2aWNlc1RvUmV0dXJuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgfTtcblxuICB2bS5wYWdpbmF0ZUNhbGwgPSBmdW5jdGlvbiAoZm9yd2FyZCkge1xuICAgIGlmIChmb3J3YXJkKSB7XG4gICAgICByZXR1cm4gdm0uZ2V0VW5tYW5hZ2VkRGV2aWNlcyh2bS50ZW5hbnRLZXksIG51bGwsIHZtLmRldmljZXNOZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZtLmdldFVubWFuYWdlZERldmljZXModm0udGVuYW50S2V5LCB2bS5kZXZpY2VzUHJldiwgbnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIHZtLnByZXBhcmVGb3JFZGl0VmlldyA9IChzZWFyY2hUZXh0KSA9PiBEZXZpY2VzU2VydmljZS5wcmVwcmF0ZUZvckVkaXRWaWV3KFxuICAgIHZtLnNlbGVjdGVkQnV0dG9uLFxuICAgIHZtLnRlbmFudEtleSxcbiAgICBzZWFyY2hUZXh0LFxuICAgIHZtLm1hY0RldmljZXMsXG4gICAgdm0uc2VyaWFsRGV2aWNlcyxcbiAgICB2bS5nY21pZERldmljZXNcbiAgKVxuXG4gIHZtLmNvbnRyb2xPcGVuQnV0dG9uID0gZnVuY3Rpb24gKGlzTWF0Y2gpIHtcbiAgICB2bS5kaXNhYmxlZCA9ICFpc01hdGNoO1xuICAgIHZtLmxvYWRpbmdEaXNhYmxlZCA9IGZhbHNlO1xuICB9O1xuXG4gIHZtLmlzUmVzb3VyY2VWYWxpZCA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgIGxldCBmb3VuZE1hdGNoID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaXRlbSBvZiB2bS5kZXZpY2VzVG9NYXRjaE9uKSB7XG4gICAgICBpZiAocmVzb3VyY2UgPT09IGl0ZW0pIHtcbiAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHZtLmNvbnRyb2xPcGVuQnV0dG9uKGZvdW5kTWF0Y2gpXG4gICAgcmV0dXJuIGZvdW5kTWF0Y2hcbiAgfTtcblxuICByZXR1cm4gdm07XG59XG5leHBvcnQge1RlbmFudFVubWFuYWdlZERldmljZXNDdHJsfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBwL3RlbmFudC90ZW5hbnQtdW5tYW5hZ2VkLWRldmljZXMuY29udHJvbGxlci5qc1xuICoqLyIsImltcG9ydCBuYXR1cmFsU29ydCBmcm9tICdqYXZhc2NyaXB0LW5hdHVyYWwtc29ydCc7XG5cbmZ1bmN0aW9uIFRlbmFudHNDdHJsKCRzdGF0ZSwgJGxvZywgVGVuYW50c1NlcnZpY2UsIFByb2dyZXNzQmFyU2VydmljZSwgc3dlZXQpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG5cbiAgLy8gUGFnaW5hdGVkIFRlbmFudHNcbiAgdm0udGVuYW50cyA9IFtdO1xuICAvLyBDdXJyZW50IFNlYXJjaCBvZiBUZW5hbnRzIFJlc3VsdHNcbiAgdm0uc2VhcmNoZWRUZW5hbnRzID0gW107XG4gIHZtLnNlYXJjaE1hdGNoID0gbnVsbDtcbiAgdm0uc2VhcmNoRGlzYWJsZWQgPSB0cnVlO1xuXG4gIHZtLmdldFRlbmFudHNQYWdpbmF0ZWQgPSBmdW5jdGlvbiAocGFnZV9zaXplLCBvZmZzZXQpIHtcbiAgICB2bS5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgdm0ubG9hZGluZyA9IHRydWU7XG4gICAgUHJvZ3Jlc3NCYXJTZXJ2aWNlLnN0YXJ0KCk7XG4gICAgbGV0IHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5mZXRjaEFsbFRlbmFudHNQYWdpbmF0ZWQocGFnZV9zaXplLCBvZmZzZXQpO1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oKHJlc3BvbnNlID0+IHZtLmdldEZldGNoU3VjY2VzcyhyZXNwb25zZSkpLCByZXNwb25zZSA9PiB2bS5nZXRGZXRjaEZhaWx1cmUocmVzcG9uc2UpKTtcbiAgfTtcblxuICB2bS5nZXRGZXRjaFN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICB2bS50ZW5hbnRzID0gcmVzcG9uc2UudGVuYW50cztcbiAgICB2bS50b3RhbCA9IHJlc3BvbnNlLnRvdGFsO1xuICAgIHZtLmlzX2ZpcnN0X3BhZ2UgPSByZXNwb25zZS5pc19maXJzdF9wYWdlO1xuICAgIHZtLmlzX2xhc3RfcGFnZSA9IHJlc3BvbnNlLmlzX2xhc3RfcGFnZTtcbiAgICBQcm9ncmVzc0JhclNlcnZpY2UuY29tcGxldGUoKTtcbiAgICByZXR1cm4gdm0ubG9hZGluZyA9IGZhbHNlO1xuICB9O1xuXG4gIHZtLmdldEZldGNoRmFpbHVyZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIFByb2dyZXNzQmFyU2VydmljZS5jb21wbGV0ZSgpO1xuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgVW5hYmxlIHRvIGZldGNoIHRlbmFudHMuIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fS5gO1xuICAgIHJldHVybiBzd2VldC5zaG93KCdPb3BzLi4uJywgZXJyb3JNZXNzYWdlLCAnZXJyb3InKTtcbiAgfTtcblxuXG4gIHZtLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdm0ub2Zmc2V0ID0gMDtcbiAgICB2bS5zZWFyY2hBbGxUZW5hbnRzQnlOYW1lKCdteScpXG4gICAgcmV0dXJuIHZtLmdldFRlbmFudHNQYWdpbmF0ZWQoMTAwLCB2bS5vZmZzZXQpO1xuICB9O1xuXG4gIHZtLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUgPSBmdW5jdGlvbiAodGVuYW50X25hbWUpIHtcbiAgICBpZiAoIXRlbmFudF9uYW1lIHx8IHRlbmFudF9uYW1lLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgICBsZXQgcHJvbWlzZSA9IFRlbmFudHNTZXJ2aWNlLnNlYXJjaEFsbFRlbmFudHNCeU5hbWUodGVuYW50X25hbWUpXG4gICAgcmV0dXJuIHByb21pc2UudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIHZtLnNlYXJjaGVkVGVuYW50cyA9IHJlc3BvbnNlXG4gICAgICBpZiAodm0uc2VhcmNoZWRUZW5hbnRzKSB7XG4gICAgICAgIHJldHVybiB2bS5zZWFyY2hlZFRlbmFudHMubWFwKChpKSA9PiBpLm5hbWUpLnNvcnQobmF0dXJhbFNvcnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW11cbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBwcm9taXNlLmNhdGNoKChyZXNwb25zZSkgPT4ge1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGBVbmFibGUgdG8gZmV0Y2ggdGVuYW50cy4gRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWA7XG4gICAgICByZXR1cm4gc3dlZXQuc2hvdygnT29wcy4uLicsIGVycm9yTWVzc2FnZSwgJ2Vycm9yJyk7XG4gICAgfSlcbiAgfVxuXG5cbiAgdm0uaXNUZW5hbnRWYWxpZCA9ICh0ZW5hbnRfbmFtZSkgPT4ge1xuICAgIGlmICghdGVuYW50X25hbWUgfHwgdGVuYW50X25hbWUubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuXG4gICAgbGV0IG1hdGNoID0gdm0uc2VhcmNoZWRUZW5hbnRzO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgZm9yIChsZXQgZWFjaE5hbWUgb2YgbWF0Y2gpIHtcbiAgICAgICAgaWYgKHRlbmFudF9uYW1lID09PSBlYWNoTmFtZS5uYW1lKSB7XG4gICAgICAgICAgdm0uc2VhcmNoRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICB2bS5zZWFyY2hNYXRjaCA9IGVhY2hOYW1lXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZtLnNlYXJjaERpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2bS5zZWFyY2hEaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgdm0uZWRpdEl0ZW0gPSBpdGVtID0+ICRzdGF0ZS5nbygndGVuYW50RGV0YWlscycsIHt0ZW5hbnRLZXk6IGl0ZW0ua2V5fSk7XG5cbiAgdm0uZGVsZXRlSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgbGV0IGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHByb21pc2UgPSBUZW5hbnRzU2VydmljZS5kZWxldGUoaXRlbSk7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKCgpID0+IHZtLmluaXRpYWxpemUoKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBzd2VldC5zaG93KHtcbiAgICAgIHRpdGxlOiBcIkFyZSB5b3Ugc3VyZT9cIixcbiAgICAgIHRleHQ6IFwiVGhpcyB3aWxsIHBlcm1hbmVudGx5IHJlbW92ZSB0aGUgdGVuYW50IGZyb20gdGhlIHN5c3RlbS5cIixcbiAgICAgIHR5cGU6IFwid2FybmluZ1wiLFxuICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcbiAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogXCIjREQ2QjU1XCIsXG4gICAgICBjb25maXJtQnV0dG9uVGV4dDogXCJZZXMsIHJlbW92ZSB0aGUgdGVuYW50IVwiLFxuICAgICAgY2xvc2VPbkNvbmZpcm06IHRydWVcbiAgICB9LCBjYWxsYmFjayk7XG4gIH07XG5cbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtUZW5hbnRzQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC90ZW5hbnQvdGVuYW50cy5jb250cm9sbGVyLmpzXG4gKiovIiwiZnVuY3Rpb24gV2VsY29tZUN0cmwoXG4gIFZlcnNpb25zU2VydmljZSxcbiAgJHN0YXRlLFxuICAkcm9vdFNjb3BlLFxuICBEaXN0cmlidXRvcnNTZXJ2aWNlLFxuICBTZXNzaW9uc1NlcnZpY2UpIHtcbiAgXCJuZ0luamVjdFwiO1xuXG4gIGxldCB2bSA9IHRoaXM7XG4gIHZtLnBhdWxzQ3VycmVudERpc3RyaWJ1dG9yTmFtZSA9ICRyb290U2NvcGUucGF1bHNDdXJyZW50RGlzdHJpYnV0b3JOYW1lO1xuICB2bS52ZXJzaW9uX2RhdGEgPSBbXTtcbiAgdm0ubG9hZGluZyA9IHRydWU7XG5cbiAgdm0ucHJvY2VlZFRvU2lnbkluID0gKCkgPT4gJHN0YXRlLmdvKCdzaWduX2luJyk7XG5cbiAgdm0uY2FwaXRhbGl6ZUZpcnN0TGV0dGVyID0gc3RyaW5nID0+IHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcblxuICB2bS5naXZlT3B0aW9uVG9DaGFuZ2VEaXN0cmlidXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgZGlzdHJpYnV0b3JzUHJvbWlzZSA9IERpc3RyaWJ1dG9yc1NlcnZpY2UuZmV0Y2hBbGxCeVVzZXIoU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSk7XG4gICAgcmV0dXJuIGRpc3RyaWJ1dG9yc1Byb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdm0uaGFzX211bHRpcGxlX2Rpc3RyaWJ1dG9ycyA9IGRhdGEubGVuZ3RoID4gMTtcbiAgICAgIHJldHVybiB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgdm0uY2hhbmdlRGlzdHJpYnV0b3IgPSAoKSA9PiAkc3RhdGUuZ28oJ2Rpc3RyaWJ1dG9yX3NlbGVjdGlvbicpO1xuXG4gIHZtLmdldFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHByb21pc2UgPSBWZXJzaW9uc1NlcnZpY2UuZ2V0VmVyc2lvbnMoKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKGRhdGEgPT4gdm0udmVyc2lvbl9kYXRhID0gZGF0YSk7XG4gIH07XG5cbiAgdm0uaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2bS5pZGVudGl0eSA9IHtcbiAgICAgIGtleTogU2Vzc2lvbnNTZXJ2aWNlLmdldFVzZXJLZXkoKSxcbiAgICAgIGVtYWlsOiBTZXNzaW9uc1NlcnZpY2UuZ2V0VXNlckVtYWlsKCksXG4gICAgICBkaXN0cmlidXRvcktleTogU2Vzc2lvbnNTZXJ2aWNlLmdldEN1cnJlbnREaXN0cmlidXRvcktleSgpLFxuICAgICAgZGlzdHJpYnV0b3JOYW1lOiBTZXNzaW9uc1NlcnZpY2UuZ2V0Q3VycmVudERpc3RyaWJ1dG9yTmFtZSgpXG4gICAgfTtcblxuICAgIHZtLmdpdmVPcHRpb25Ub0NoYW5nZURpc3RyaWJ1dG9yKCk7XG5cbiAgICBpZiAoIXZtLmlkZW50aXR5LmVtYWlsKSB7XG4gICAgICByZXR1cm4gJHN0YXRlLmdvKFwic2lnbl9pblwiKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdm0uZ2V0VmVyc2lvbigpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHZtO1xufVxuZXhwb3J0IHtXZWxjb21lQ3RybH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwcC93ZWxjb21lL3dlbGNvbWUtY29udHJvbGxlci5qc1xuICoqLyIsImV4cG9ydCBmdW5jdGlvbiByb3V0ZXMoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgUmVzdGFuZ3VsYXJQcm92aWRlcikge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJzaWduX2luXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIG5vdEF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLm5vdEF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvc2lnbl9pblwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduX2luLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkF1dGhlbnRpY2F0aW9uQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ2F1dGhlbnRpY2F0aW9uQ3RybCcsXG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInNpZ25lZF9vdXRcIiwge1xuICAgIHVybDogXCIvc2lnbmVkX291dFwiLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgbm90QXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2Uubm90QXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2F1dGhlbnRpY2F0aW9uL3NpZ25lZF9vdXQuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiQXV0aGVudGljYXRpb25DdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnYXV0aGVudGljYXRpb25DdHJsJyxcbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwic2lnbl9vdXRcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9zaWduX291dFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hdXRoZW50aWNhdGlvbi9zaWduX291dC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJBdXRoZW50aWNhdGlvbkN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdhdXRoZW50aWNhdGlvbkN0cmwnLFxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJkaXN0cmlidXRvcl9zZWxlY3Rpb25cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvZGlzdHJpYnV0b3Jfc2VsZWN0aW9uXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2Rpc3RyaWJ1dG9yL2Rpc3RyaWJ1dG9yX3NlbGVjdG9yLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkRpc3RyaWJ1dG9yU2VsZWN0b3JDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndm0nLFxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcbiAgICB1cmw6IFwiL1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC93ZWxjb21lL3dlbGNvbWUuaHRtbFwiLFxuICAgIHJlc29sdmU6IHtcbiAgICAgIGlkZW50aXR5KElkZW50aXR5U2VydmljZSkge1xuICAgICAgICByZXR1cm4gSWRlbnRpdHlTZXJ2aWNlLmdldElkZW50aXR5KCk7XG4gICAgICB9LFxuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY29udHJvbGxlcjogXCJXZWxjb21lQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3dlbGNvbWVDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ1NreWtpdCBQcm92aXNpb25pbmcnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ3ZWxjb21lXCIsIHtcbiAgICB1cmw6IFwiL3dlbGNvbWVcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvd2VsY29tZS93ZWxjb21lLmh0bWxcIixcbiAgICByZXNvbHZlOiB7XG4gICAgICBpZGVudGl0eShJZGVudGl0eVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIElkZW50aXR5U2VydmljZS5nZXRJZGVudGl0eSgpO1xuICAgICAgfSxcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IFwiV2VsY29tZUN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd3ZWxjb21lQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdTa3lraXQgUHJvdmlzaW9uaW5nJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZG9tYWluc1wiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kb21haW5zXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW5zLWxpc3RpbmcuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluc0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdkb21haW5zQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdEb21haW5zJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiYWRkRG9tYWluXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2RvbWFpbnMvYWRkXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL2RvbWFpbi9kb21haW4tZGV0YWlsLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkRvbWFpbkRldGFpbHNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAnZG9tYWluRGV0YWlsc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnQWRkIGRvbWFpbicsXG4gICAgICBwYXJlbnQ6ICdkb21haW5zJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZWRpdERvbWFpblwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9kb21haW5zLzpkb21haW5LZXlcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZG9tYWluL2RvbWFpbi1kZXRhaWwuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiRG9tYWluRGV0YWlsc0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICdkb21haW5EZXRhaWxzQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyBkb21haW5EZXRhaWxzQ3RybC5jdXJyZW50RG9tYWluLm5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAnZG9tYWlucydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudHNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50c1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50cy1saXN0aW5nLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudHNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50c0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnVGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImFkZFRlbmFudFwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi90ZW5hbnRzL2FkZFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWFkZC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRBZGRDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50QWRkQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdBZGQgdGVuYW50JyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnREZXRhaWxzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9kZXRhaWxzXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtZGV0YWlscy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnREZXRhaWxzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudERldGFpbHNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudERldGFpbHNDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50TWFuYWdlZERldmljZXNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L21hbmFnZWRcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1tYW5hZ2VkLWRldmljZXMuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50TWFuYWdlZERldmljZXNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50TWFuYWdlZERldmljZXNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudE1hbmFnZWREZXZpY2VzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudFVubWFuYWdlZERldmljZXNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L3VubWFuYWdlZFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LXVubWFuYWdlZC1kZXZpY2VzLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudFVubWFuYWdlZERldmljZXNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgdGVuYW50VW5tYW5hZ2VkRGV2aWNlc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19JyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJ0ZW5hbnRMb2dzXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3RlbmFudHMvOnRlbmFudEtleS9sb2dzXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9ncy5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2dzQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvZ3NDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudExvZ3NDdHJsLmN1cnJlbnRUZW5hbnQubmFtZSB9fScsXG4gICAgICBwYXJlbnQ6ICd0ZW5hbnRzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwidGVuYW50T3ZlcmxheXNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvdGVuYW50cy86dGVuYW50S2V5L292ZXJsYXlzXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtb3ZlcmxheXMuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiVGVuYW50T3ZlcmxheXNDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndGVuYW50T3ZlcmxheXNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudE92ZXJsYXlzQ3RybC5jdXJyZW50VGVuYW50Lm5hbWUgfX0nLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInRlbmFudExvY2F0aW9uc1wiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvbG9jYXRpb25zXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3RlbmFudC90ZW5hbnQtbG9jYXRpb25zLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudExvY2F0aW9uc0N0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRMb2NhdGlvbnNDdHJsJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ3t7IHRlbmFudExvY2F0aW9uc0N0cmwuY3VycmVudFRlbmFudC5uYW1lIH19JyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJlZGl0TG9jYXRpb25cIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvbG9jYXRpb25zLzpsb2NhdGlvbktleVwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC90ZW5hbnQvdGVuYW50LWxvY2F0aW9uLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlRlbmFudExvY2F0aW9uQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3RlbmFudExvY2F0aW9uQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICd7eyB0ZW5hbnRMb2NhdGlvbkN0cmwudGVuYW50TmFtZSB9fSAgLyB7eyB0ZW5hbnRMb2NhdGlvbkN0cmwubG9jYXRpb25OYW1lIH19JyxcbiAgICAgIHBhcmVudDogJ3RlbmFudHMnXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJhZGRMb2NhdGlvblwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgYXV0aGVudGljYXRlZChBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuYXV0aGVudGljYXRlZCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi90ZW5hbnRzLzp0ZW5hbnRLZXkvbG9jYXRpb25cIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvdGVuYW50L3RlbmFudC1sb2NhdGlvbi5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJUZW5hbnRMb2NhdGlvbkN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd0ZW5hbnRMb2NhdGlvbkN0cmwnLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgdGVuYW50TG9jYXRpb25DdHJsLnRlbmFudE5hbWUgfX0gIC8gTG9jYXRpb24nLFxuICAgICAgcGFyZW50OiAndGVuYW50cydcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcImRldmljZXNcIiwge1xuICAgIHJlc29sdmU6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQoQXV0aG9yaXphdGlvblNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVybDogXCIvZGV2aWNlc1wiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9kZXZpY2UvZGV2aWNlcy1saXN0aW5nLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIkRldmljZXNMaXN0aW5nQ3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ2RldmljZXNMaXN0aW5nQ3RybCcsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdEZXZpY2VzJ1xuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKFwiZWRpdERldmljZVwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgaWRlbnRpdHkoSWRlbnRpdHlTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBJZGVudGl0eVNlcnZpY2UuZ2V0SWRlbnRpdHkoKTtcbiAgICAgIH0sXG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL2RldmljZXMvOmRldmljZUtleT90ZW5hbnRLZXk/ZnJvbURldmljZXNcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvZGV2aWNlL2RldmljZS1kZXRhaWwuaHRtbFwiLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAne3sgZGV2aWNlRGV0YWlsc0N0cmwuY3VycmVudERldmljZS5rZXkgfX0nLFxuICAgICAgcGFyZW50OiAnZGV2aWNlcydcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6ICdEZXZpY2VEZXRhaWxzQ3RybCcsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcbiAgICAgICRzY29wZS50ZW5hbnRLZXkgPSAkc3RhdGVQYXJhbXMudGVuYW50S2V5O1xuICAgICAgcmV0dXJuO1xuICAgIH0sXG4gICAgY29udHJvbGxlckFzOiAnZGV2aWNlRGV0YWlsc0N0cmwnXG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInByb29mXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3Byb29mXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiYXBwL3Byb29mL21haW4uaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiUHJvb2ZPZlBsYXlDdHJsXCIsXG4gICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgIG5jeUJyZWFkY3J1bWI6IHtcbiAgICAgIGxhYmVsOiAnUHJvb2Ygb2YgUGxheSdcbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZShcInByb29mRGV0YWlsXCIsIHtcbiAgICByZXNvbHZlOiB7XG4gICAgICBhdXRoZW50aWNhdGVkKEF1dGhvcml6YXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBBdXRob3JpemF0aW9uU2VydmljZS5hdXRoZW50aWNhdGVkKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cmw6IFwiL3Byb29mLzp0ZW5hbnRcIixcbiAgICB0ZW1wbGF0ZVVybDogXCJhcHAvcHJvb2YvZGV0YWlsLmh0bWxcIixcbiAgICBjb250cm9sbGVyOiBcIlByb29mT2ZQbGF5Q3RybFwiLFxuICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICBuY3lCcmVhZGNydW1iOiB7XG4gICAgICBsYWJlbDogJ1Byb29mIG9mIFBsYXknXG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJhZG1pblwiLCB7XG4gICAgcmVzb2x2ZToge1xuICAgICAgaXNBZG1pbihBdXRob3JpemF0aW9uU2VydmljZSkge1xuICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UuaXNBZG1pbk9yRGlzdHJpYnV0b3JBZG1pbigpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXJsOiBcIi9hZG1pblwiLFxuICAgIHRlbXBsYXRlVXJsOiBcImFwcC9hZG1pbi9hZG1pbi5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJBZG1pbkN0cmxcIixcbiAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgbmN5QnJlYWRjcnVtYjoge1xuICAgICAgbGFiZWw6ICdBZG1pbidcbiAgICB9XG4gIH0pO1xuXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9zaWduX2luJyk7XG5cbiAgUmVzdGFuZ3VsYXJQcm92aWRlci5zZXRCYXNlVXJsKCcvYXBpL3YxJyk7XG5cbiAgUmVzdGFuZ3VsYXJQcm92aWRlci5hZGRSZXNwb25zZUludGVyY2VwdG9yKGZ1bmN0aW9uIChkYXRhLCBvcGVyYXRpb24sIHJlc291cmNlVHlwZSwgdXJsLCByZXNwb25zZSwgZGVmZXJyZWQpIHtcbiAgICBsZXQgcmVzdWx0ID0gZGF0YTtcbiAgICAvLyBVbmNvbW1lbnQgdGhpcyBmb3IgcGFnaW5hdGlvbiBzdXBwb3J0IHdoZW4gdXNpbmcgUGFnaW5nTGlzdEhhbmRsZXJNaXhpbiBvbiB0aGUgUHl0aG9uIHNpZGUuXG4gICAgLy8gICAgaWYgcmVzb3VyY2VUeXBlID09ICdkZXZpY2VzJyBhbmQgb3BlcmF0aW9uID0gJ2dldExpc3QnIGFuZCB1cmwgPT0gJy9hcGkvdjEvZGV2aWNlcydcbiAgICAvLyAgICAgIHJlc3VsdCA9IGRhdGEub2JqZWN0c1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0pO1xuXG4gIHJldHVybiBSZXN0YW5ndWxhclByb3ZpZGVyLnNldFJlc3Rhbmd1bGFyRmllbGRzKHtcbiAgICBpZDogJ2tleSdcbiAgfSk7XG59XG5cbnJvdXRlcy4kaW5qZWN0ID0gW1wiJHN0YXRlUHJvdmlkZXJcIiwgXCIkdXJsUm91dGVyUHJvdmlkZXJcIiwgXCJSZXN0YW5ndWxhclByb3ZpZGVyXCJdXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvYXBwLXJvdXRlcy5qc1xuICoqLyIsImV4cG9ydCBmdW5jdGlvbiBhcHBSdW4oUmVzdGFuZ3VsYXIsICRsb2NhdGlvbiwgJGluamVjdG9yLCAkcm9vdFNjb3BlLCAkdGltZW91dCkge1xuICBcIm5nSW5qZWN0XCI7XG5cbiAgbGV0IHN0YXRlQ2hhbmdlV2F0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHN0YXRlID0gJGluamVjdG9yLmdldCgnJHN0YXRlJyk7XG4gICAgcmV0dXJuICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsIGZ1bmN0aW9uIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvclswXSA9PT0gXCJhdXRoRXJyb3JcIikge1xuICAgICAgICByZXR1cm4gc3RhdGUuZ28oZXJyb3JbMV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gICR0aW1lb3V0KHN0YXRlQ2hhbmdlV2F0Y2gsIDUwMCk7XG5cbiAgbGV0IHJlcXVlc3RJbnRlcmNlcHRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBSZXN0YW5ndWxhci5hZGRSZXF1ZXN0SW50ZXJjZXB0b3IoZnVuY3Rpb24gKGVsZW0sIG9wZXJhdGlvbiwgd2hhdCwgdXJsKSB7XG4gICAgICBsZXQgU3RvcmFnZVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdTdG9yYWdlU2VydmljZScpXG5cbiAgICAgIGxldCBhdXRoVG9rZW4gPSAnNkMzNDY1ODhCRDRDNkQ3MjJBMTE2NUI0M0M1MUMnO1xuICAgICAgaWYgKCRsb2NhdGlvbi5ob3N0KCkuaW5kZXhPZigncHJvdmlzaW9uaW5nLWdhbWVzdG9wJykgPiAtMSkge1xuICAgICAgICBhdXRoVG9rZW4gPSAnNVhaSEJGM21Pd3FKbFlBbEcxTmVlV1gwQ2I3MmcnO1xuICAgICAgfVxuICAgICAgUmVzdGFuZ3VsYXIuc2V0RGVmYXVsdEhlYWRlcnMoe1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGF1dGhUb2tlbixcbiAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLVVzZXInOiBTdG9yYWdlU2VydmljZS5nZXQoJ3VzZXJLZXknKSxcbiAgICAgICAgJ1gtUHJvdmlzaW9uaW5nLURpc3RyaWJ1dG9yJzogU3RvcmFnZVNlcnZpY2UuZ2V0KCdjdXJyZW50RGlzdHJpYnV0b3JLZXknKVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChvcGVyYXRpb24gPT09ICdyZW1vdmUnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbGVtO1xuICAgIH0pXG4gIH1cblxuICAkdGltZW91dChyZXF1ZXN0SW50ZXJjZXB0b3IsIDUwMCk7XG5cbn1cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvYXBwLXJ1bi5qc1xuICoqLyIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9hc3RyQ29uZmlnKHRvYXN0ckNvbmZpZykge1xuICBhbmd1bGFyLmV4dGVuZCh0b2FzdHJDb25maWcsIHtcbiAgICBwcm9ncmVzc0JhcjogdHJ1ZSxcbiAgICBjbG9zZUJ1dHRvbjogdHJ1ZSxcbiAgICB0YXBUb0Rpc21pc3M6IHRydWUsXG4gICAgbmV3ZXN0T25Ub3A6IHRydWUsXG4gICAgcG9zaXRpb25DbGFzczogJ3RvYXN0LWJvdHRvbS1sZWZ0JyxcbiAgICB0aW1lT3V0OiA1MDAwXG4gIH0pXG59XG50b2FzdHJDb25maWcuJGluamVjdCA9IFsndG9hc3RyQ29uZmlnJ107XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGJyZWFkY3J1bWJQcm92aWRlcigkYnJlYWRjcnVtYlByb3ZpZGVyKSB7XG4gICRicmVhZGNydW1iUHJvdmlkZXIuc2V0T3B0aW9ucyh7XG4gICAgcHJlZml4U3RhdGVOYW1lOiAnaG9tZScsXG4gICAgdGVtcGxhdGU6ICdib290c3RyYXAzJ1xuICB9KVxufVxuXG5icmVhZGNydW1iUHJvdmlkZXIuJGluamVjdCA9IFtcIiRicmVhZGNydW1iUHJvdmlkZXJcIl1cblxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcHAvYXBwLWNvbmZpZy5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=