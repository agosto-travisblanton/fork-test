<div ng-init="vm.initialize()" layout="column" ng-cloak>
  <md-content flex layout-padding>
    <div layout="row" layout-sm="column" layout-align="space-around"
         ng-show="vm.loading">
      <div layout="row" layout-sm="column" layout-align="space-around">
        <md-progress-circular md-mode="indeterminate"></md-progress-circular>
      </div>
    </div>
    <div flex="35" flex-sm="35" flex-xs="35" layout="column">
      <md-card>
        <div ng-if="!vm.loading && (vm.distributors.length < 1 || vm.distributors.length > 1)">
          <md-card-title>
            <md-card-title-text>
              <span class="md-headline">Distributor</span>
            </md-card-title-text>
          </md-card-title>
          <md-card-content>
            <div class="container-fluid">
              <div class="row">
                <div class="col-lg-12">
                  <div ng-show="vm.distributors.length < 1">
                    <div class="alert alert-warning" role="alert">
                      <strong>Your account is not associated with a distributor.</strong> <br/><br/>
                      Try signing out, and then back in. If you continue to see this message,
                      please contact Skykit support at
                      <a class="md-primary md-ink-ripple"
                         href="mailto:support@skykit.com?subject=Distributor Setup for Account">
                        support@skykit.com</a> for distributor setup.
                    </div>
                  </div>
                  <div ng-show="vm.distributors.length > 1">
                    <md-radio-group class="ng-valid ng-dirty ng-valid-parse ng-touched" role="radiogroup" tabindex="0"
                                    aria-invalid="false" style=""
                                    ng-repeat="distributor in vm.distributors">
                      <md-radio-button value="{{ distributor.name }}"
                                       class="md-primary md-checked distributor-selection"
                                       role="radio"
                                       aria-label="{{ distributor.name }}"
                                       ng-click="vm.selectDistributor(distributor);">
                        {{ distributor.name }}
                      </md-radio-button>
                    </md-radio-group>
                  </div>
                </div>
              </div>
            </div>
          </md-card-content>
        </div>
      </md-card>
    </div>
  </md-content>
</div>
