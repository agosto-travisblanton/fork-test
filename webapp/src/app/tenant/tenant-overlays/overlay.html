<md-card>
  <md-card-content>
    <form name="overlayForm" class="form-horizontal"
          novalidate>
      <section name="overlay">
        <div class="row">
          <div class="col-md-12">
            <div class="col-md-2">
              <h3>Overlay</h3>
            </div>
            <div class="col-md-7 col-md-offset-3">

              <md-input-container>
                <md-button type="submit"
                           class="md-raised"
                           ng-click="vm.applyTenantOverlay($event)"
                           ng-disabled="vm.overlayChanged">

                  Apply
                </md-button>
                <md-button
                  class="md-raised md-primary"
                  ng-disabled="vm.currentTenant.overlayStatus"
                  ng-click="vm.adjustOverlayStatus(true)">
                  ENABLE
                </md-button>
                <md-button
                  class="md-raised md-primary"
                  ng-disabled="!vm.currentTenant.overlayStatus"
                  ng-click="vm.adjustOverlayStatus(false)">
                  DISABLE
                </md-button>
              </md-input-container>
            </div>
          </div>
          <hr/>
        </div>
        <div ng-if="vm.currentTenant.overlayStatus || vm.loading">
          <hr/>
          <md-progress-circular ng-if="vm.loading" md-mode="indeterminate"></md-progress-circular>
          <div class="form-group" ng-if="!vm.loading" ng-show="vm.currentTenant.overlayStatus">

            <div class="col-md-12">
              <div class="col-md-5 col-sm-12">
                <md-input-container>
                  <label>Top-Left</label>
                  <md-select md-on-close="vm.checkForOverlayChanges()"
                             ng-model="vm.currentTenantCopy.overlays.top_left">
                    <md-option ng-repeat="overlay in vm.OVERLAY_TYPES"
                               ng-value="overlay"
                               ng-selected="
                             (overlay.realName === vm.currentTenant.overlays.top_left.name)
                              &&
                             (overlay.size === vm.currentTenant.overlays.top_left.size)
                              ? 'selected' : ''"
                    >
                      {{overlay.name.toUpperCase() + ((overlay.size && overlay.name.toUpperCase() !== "NONE") ? " (" +
                      overlay.size.toUpperCase() + ")" : '') }}
                    </md-option>
                  </md-select>
                </md-input-container>
              </div>
              <div class="col-md-5   col-sm-12" style="float: right">
                <md-input-container>
                  <label>Top-Right</label>
                  <md-select md-on-close="vm.checkForOverlayChanges()"
                             ng-model="vm.currentTenantCopy.overlays.top_right">
                    <md-option ng-repeat="overlay in vm.OVERLAY_TYPES"
                               ng-value="overlay"
                               ng-selected="
                             (overlay.realName === vm.currentTenant.overlays.top_right.name)
                              &&
                             (overlay.size === vm.currentTenant.overlays.top_right.size)
                              ? 'selected' : ''"
                    >
                      {{overlay.name.toUpperCase() + ((overlay.size && overlay.name.toUpperCase() !== "NONE") ? " (" +
                      overlay.size.toUpperCase() + ")" : '') }}
                    </md-option>
                  </md-select>
                </md-input-container>
              </div>
            </div>
            <div class="col-md-12">
              <div class="col-md-5  col-sm-12">
                <md-input-container>
                  <label>Bottom-Left</label>
                  <md-select md-on-close="vm.checkForOverlayChanges()"
                             ng-model="vm.currentTenantCopy.overlays.bottom_left">
                    <md-option ng-repeat="overlay in vm.OVERLAY_TYPES"
                               ng-value="overlay"
                               ng-selected="
                             (overlay.realName === vm.currentTenant.overlays.bottom_left.name)
                              &&
                             (overlay.size === vm.currentTenant.overlays.bottom_left.size)
                              ? 'selected' : ''"
                    >
                      {{overlay.name.toUpperCase() + ((overlay.size && overlay.name.toUpperCase() !== "NONE") ? " (" +
                      overlay.size.toUpperCase() + ")" : '') }}
                    </md-option>
                  </md-select>
                </md-input-container>
              </div>
              <div class="col-md-5  col-sm-12" style="float: right">
                <md-input-container>
                  <label>Bottom-Right</label>
                  <md-select md-on-close="vm.checkForOverlayChanges()"
                             ng-model="vm.currentTenantCopy.overlays.bottom_right">
                    <md-option ng-repeat="overlay in vm.OVERLAY_TYPES"
                               ng-value="overlay"
                               ng-selected="
                             (overlay.realName === vm.currentTenant.overlays.bottom_right.name)
                              &&
                             (overlay.size === vm.currentTenant.overlays.bottom_right.size)
                              ? 'selected' : ''"
                    >
                      {{overlay.name.toUpperCase() + ((overlay.size && overlay.name.toUpperCase() !== "NONE") ? " (" +
                      overlay.size.toUpperCase() + ")" : '') }}
                    </md-option>
                  </md-select>
                </md-input-container>
              </div>
            </div>
            <div class="col-md-12">
              <md-card-actions layout="row" layout-align="end center">
                <md-button type="submit"
                           class="md-raised md-primary"
                           ng-click="vm.submitOverlaySettings()"
                           ng-disabled="!vm.overlayChanged || overlayForm.$invalid">
                  <i class="fa fa-fw fa-save"></i>
                  SYNC
                </md-button>
              </md-card-actions>
            </div>
          </div>
        </div>
      </section>
    </form>
  </md-card-content>
</md-card>
