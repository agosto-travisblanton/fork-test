<div ng-controller="TenantLocationCtrl" ng-init="tenantLocationCtrl.initialize()" layout="column" ng-cloak>
  <md-toolbar class="md-hue-2">
    <div class="md-toolbar-tools">
      <h2 class="md-flex"><i class="fa fa-fw fa-location-arrow ng-scope"></i> Location</h2>
    </div>
  </md-toolbar>
  <md-content class="md-padding">
    <div flex="80" flex-xs="100" layout="column">
      <div ncy-breadcrumb></div>
    </div>
    <div flex="75" flex-sm="50" flex-xs="30" layout="column">
      <md-card>
        <md-card-content>
          <form name="locationForm" class="form-horizontal" ng-submit="tenantLocationCtrl.onClickSaveButton()"
                novalidate>
            <div class="form-group"
                 ng-class="{ 'has-error' : locationForm.customerLocationName.$invalid &&
                 !locationForm.customerLocationName.$pristine }">
              <div class="col-sm-4">
                <label>Customer Location Name</label>
                <input type="text"
                       class="form-control"
                       autofocus
                       name="customerLocationName"
                       placeholder="Enter a customer location name"
                       ng-change="tenantLocationCtrl.autoGenerateCustomerLocationCode()"
                       ng-model="tenantLocationCtrl.location.customerLocationName" required>
              </div>
            </div>
            <div class="form-group"
                 ng-class="{ 'has-error' : locationForm.customerLocationCode.$invalid &&
                 !locationForm.customerLocationCode.$pristine }">
              <div class="col-sm-4">
                <label>Customer Location Code</label>
                <input type="text"
                       ng-readonly="tenantLocationCtrl.editMode == true"
                       class="form-control"
                       name="customerLocationCode"
                       placeholder="Auto-generated"
                       ng-model="tenantLocationCtrl.location.customerLocationCode" required
                       ng-pattern="/^[a-z0-9_]*$/">
              </div>
              <div class="col-sm-5 margin-top-15">
                <p
                  ng-show="locationForm.tenantCode.$invalid && !locationForm.tenantCode.$pristine"
                  class="help-block">
                  Alphanumeric and underscore are allowed.
                </p>
              </div>

            </div>
            <div class="form-group"
                 ng-class="{ 'has-error' : locationForm.timezone.$invalid &&
                 !locationForm.timezone.$pristine }">
              <div class="col-sm-4">
                <label>Timezone</label>
                <br>
                <select id="timezone"
                        ng-model="tenantLocationCtrl.selectedTimezone"
                        class="form-control"
                        ng-options="item for item in tenantLocationCtrl.timezones track by item">
                  <option value=''>Select timezone</option>
                </select>
              </div>
              <div class="col-sm-5 margin-top-15">
                <p
                  ng-show="locationForm.tenantCode.$invalid && !locationForm.tenantCode.$pristine"
                  class="help-block">
                  Alphanumeric and underscore are allowed.
                </p>
              </div>

            </div>
            <div class="form-group"
                 ng-class="{ 'has-error' : locationForm.address.$invalid &&
                 !locationForm.address.$pristine }">
              <div class="col-sm-4">
                <label>Address</label>
                <input type="text"
                       class="form-control"
                       name="address"
                       placeholder="Enter a street address"
                       ng-model="tenantLocationCtrl.location.address">
              </div>
            </div>
            <div class="form-group"
                 ng-class="{ 'has-error' : locationForm.city.$invalid &&
                 !locationForm.city.$pristine }">
              <div class="col-sm-4">
                <label>City</label>
                <input type="text"
                       class="form-control"
                       name="city"
                       placeholder="Enter a city"
                       ng-model="tenantLocationCtrl.location.city">
              </div>
            </div>
            <div class="form-group"
                 ng-class="{ 'has-error' : locationForm.state.$invalid &&
                 !locationForm.state.$pristine }">
              <div class="col-sm-4">
                <label>State</label>
                <input type="text"
                       class="form-control"
                       name="state"
                       placeholder="Enter a state"
                       ng-model="tenantLocationCtrl.location.state">
              </div>
            </div>
            <div class="form-group"
                 ng-class="{ 'has-error' : locationForm.postalCode.$invalid &&
                 !locationForm.postalCode.$pristine }">
              <div class="col-sm-4">
                <label>Postal code</label>
                <input type="text"
                       class="form-control"
                       name="postalCode"
                       placeholder="Enter a postal code"
                       ng-model="tenantLocationCtrl.location.postalCode">
              </div>
            </div>
            <div class="form-group"
                 ng-class="{ 'has-error' : locationForm.latitude.$invalid &&
                 !locationForm.latitude.$pristine }">
              <div class="col-sm-4">
                <label>Latitude</label>
                <input type="text"
                       class="form-control"
                       name="latitude"
                       placeholder="Enter a latitude"
                       ng-model="tenantLocationCtrl.location.latitude">
              </div>
            </div>
            <div class="form-group"
                 ng-class="{ 'has-error' : locationForm.longitude.$invalid &&
                 !locationForm.longitude.$pristine }">
              <div class="col-sm-4">
                <label>Longitude</label>
                <input type="text"
                       class="form-control"
                       name="longitude"
                       placeholder="Enter a longitude"
                       ng-model="tenantLocationCtrl.location.longitude">
              </div>
            </div>
            <div class="form-group"
                 ng-class="{ 'has-error' : locationForm.dma.$invalid &&
                 !locationForm.dma.$pristine }">
              <div class="col-sm-4">
                <label>DMA</label>
                <input type="text"
                       class="form-control"
                       name="dma"
                       placeholder="Enter a dma"
                       ng-model="tenantLocationCtrl.location.dma">
              </div>
            </div>
            <div class="form-group">
              <div class="col-sm-9">
                <input type="checkbox"
                       id="active"
                       ng-model="tenantLocationCtrl.location.active"> <label
                for="active">Active</label>
              </div>
            </div>
            <md-card-actions layout="row" layout-align="center">
              <md-button type="submit" ng-disabled="locationForm.$invalid" class="md-raised md-primary">
                <i class="fa fa-fw fa-save"></i> Save
              </md-button>
            </md-card-actions>
          </form>
        </md-card-content>
      </md-card>
    </div>
  </md-content>
</div>
