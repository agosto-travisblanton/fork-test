<md-toolbar class="md-hue-2">
  <div class="md-toolbar-tools">
    <h2 class="md-flex"><i class="fa fa-fw fa-lock ng-scope"></i> Admin ({{vm.currentDistributorName}})</h2>
  </div>
</md-toolbar>
<md-content layout-padding>
  <div class="col-md-12">

    <div class="col-md-4">
      <md-card>
        <md-card-title>
          <md-card-title-text>
            <span class="md-headline">Create a User</span>
          </md-card-title-text>
        </md-card-title>
        <md-card-content>
          <form name="userForm"
                ng-submit="vm.createUser(vm.user)"
                novalidate>
            <md-input-container class="md-block">
              <label>Email</label>
              <input ng-model="vm.user.email" type="email">
            </md-input-container>
            <md-input-container>

              <md-checkbox ng-model="vm.user.cb1" aria-label="Distributor Admin">
                Distributor Admin
              </md-checkbox>
            </md-input-container>

            <md-card-actions layout="row" layout-align="end center">

              <md-button class="md-raised" type="submit"
                         ng-disabled="userForm.$pristine || userForm.$invalid">
                Submit
              </md-button>
            </md-card-actions>
          </form>
        </md-card-content>
      </md-card>
    </div>
    <div class="col-md-4" ng-if="vm.isAdmin">
      <md-card>
        <md-card-title>
          <md-card-title-text>
            <span class="md-headline">Create a Distributor</span>
          </md-card-title-text>
        </md-card-title>
        <md-card-content>
          <form name="distributorForm"
                ng-submit="vm.makeDistributor(vm.distributor.name, vm.distributor.adminEmail)"
                novalidate>

            <md-input-container class="md-block">
              <label>Admin Email</label>
              <input ng-model="vm.distributor.adminEmail" type="email" required>
            </md-input-container>

            <md-input-container class="md-block">
              <label>Name</label>
              <input ng-model="vm.distributor.name" type="text" ng-minlength="3" required>
            </md-input-container>

            <md-card-actions layout="row" layout-align="end center">
              <md-button class="md-raised" type="submit"
                         ng-disabled="distributorForm.$pristine || distributorForm.$invalid">
                Submit
              </md-button>
            </md-card-actions>

          </form>
        </md-card-content>
      </md-card>
    </div>
    <div class="col-md-4">
      <md-card>
        <md-card-title>
          <md-card-title-text>
            <span class="md-headline">Distributor Users</span>
          </md-card-title-text>
        </md-card-title>
        <md-card-content>

          <md-list ng-if="!vm.loadingUsersOfDistributer">
            <md-list-item ng-repeat="item in vm.usersOfDistributer track by $index">
              <p>{{$index + 1}}. {{ item.email }}</p>
              <md-divider></md-divider>
            </md-list-item>
          </md-list>
          <h5 ng-if="vm.loadingUsersOfDistributer">Loading...</h5>

        </md-card-content>
      </md-card>


    </div>
  </div>
</md-content>
