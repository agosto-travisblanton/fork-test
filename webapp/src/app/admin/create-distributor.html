<div class="admin-container">
  <div flex-xs flex-gt-xs="30">
    <md-card>
      <md-card-title>
        <md-card-title-text>
          <span class="md-headline">Create {{vm.paulsCurrentDistributorName}}</span>
        </md-card-title-text>
      </md-card-title>
      <md-card-content>
        <form name="distributorForm"
              ng-submit="vm.makeDistributor($event, vm.distributor.name, vm.distributor.adminEmail, distributorForm)"
              novalidate>
          <md-input-container class="md-block">
            <label>Admin Email</label>
            <input ng-model="vm.distributor.adminEmail" pattern=".{1,}@[_a-z0-9A-Z]+(\.[a-z0-9A-Z]+)+" type="email" required>
          </md-input-container>

          <md-input-container class="md-block">
            <label>Name</label>
            <input ng-model="vm.distributor.name" type="text" ng-minlength="3" required>
          </md-input-container>

          <md-card-actions layout="row" layout-align="end center">
            <md-button class="md-raised" type="submit"
                       ng-disabled="distributorForm.$pristine || distributorForm.$invalid">
              Submit
            </md-button>
          </md-card-actions>
        </form>
      </md-card-content>
    </md-card>
  </div>
  <div flex-xs flex-gt-xs="30">
    <md-card>
      <md-card-title>
        <md-card-title-text>
          <span class="md-headline">All {{vm.paulsCurrentDistributorName}}s</span>
          <p>Click to switch to another {{vm.paulsCurrentDistributorName}}.</p>
        </md-card-title-text>
      </md-card-title>
      <md-card-content>

        <md-list ng-if="!vm.loadingAllDistributors">
          <md-list-item ng-repeat="item in vm.allDistributors | orderBy:'item' track by $index">
            {{$index + 1}}.
            <md-button class="md-raised" ng-click="vm.switchDistributor(item)">
              <p> {{ item.name }}</p>
            </md-button>

          </md-list-item>
        </md-list>
        <h5 ng-if="vm.loadingAllDistributors">Loading...</h5>
      </md-card-content>
    </md-card>
  </div>
</div>
